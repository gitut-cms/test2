(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var hs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ab(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function uZ(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var UE={exports:{}},Ug={},OE={exports:{}},hn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n8;function dZ(){if(n8)return hn;n8=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),f=Symbol.iterator;function h(B){return B===null||typeof B!="object"?null:(B=f&&B[f]||B["@@iterator"],typeof B=="function"?B:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,g={};function y(B,j,W){this.props=B,this.context=j,this.refs=g,this.updater=W||p}y.prototype.isReactComponent={},y.prototype.setState=function(B,j){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,j,"setState")},y.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function b(){}b.prototype=y.prototype;function _(B,j,W){this.props=B,this.context=j,this.refs=g,this.updater=W||p}var w=_.prototype=new b;w.constructor=_,v(w,y.prototype),w.isPureReactComponent=!0;var C=Array.isArray,S=Object.prototype.hasOwnProperty,R={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function N(B,j,W){var G,Y={},ee=null,ae=null;if(j!=null)for(G in j.ref!==void 0&&(ae=j.ref),j.key!==void 0&&(ee=""+j.key),j)S.call(j,G)&&!D.hasOwnProperty(G)&&(Y[G]=j[G]);var de=arguments.length-2;if(de===1)Y.children=W;else if(1<de){for(var fe=Array(de),Ae=0;Ae<de;Ae++)fe[Ae]=arguments[Ae+2];Y.children=fe}if(B&&B.defaultProps)for(G in de=B.defaultProps,de)Y[G]===void 0&&(Y[G]=de[G]);return{$$typeof:t,type:B,key:ee,ref:ae,props:Y,_owner:R.current}}function k(B,j){return{$$typeof:t,type:B.type,key:j,ref:B.ref,props:B.props,_owner:B._owner}}function F(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function P(B){var j={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(W){return j[W]})}var I=/\/+/g;function U(B,j){return typeof B=="object"&&B!==null&&B.key!=null?P(""+B.key):j.toString(36)}function O(B,j,W,G,Y){var ee=typeof B;(ee==="undefined"||ee==="boolean")&&(B=null);var ae=!1;if(B===null)ae=!0;else switch(ee){case"string":case"number":ae=!0;break;case"object":switch(B.$$typeof){case t:case e:ae=!0}}if(ae)return ae=B,Y=Y(ae),B=G===""?"."+U(ae,0):G,C(Y)?(W="",B!=null&&(W=B.replace(I,"$&/")+"/"),O(Y,j,W,"",function(Ae){return Ae})):Y!=null&&(F(Y)&&(Y=k(Y,W+(!Y.key||ae&&ae.key===Y.key?"":(""+Y.key).replace(I,"$&/")+"/")+B)),j.push(Y)),1;if(ae=0,G=G===""?".":G+":",C(B))for(var de=0;de<B.length;de++){ee=B[de];var fe=G+U(ee,de);ae+=O(ee,j,W,fe,Y)}else if(fe=h(B),typeof fe=="function")for(B=fe.call(B),de=0;!(ee=B.next()).done;)ee=ee.value,fe=G+U(ee,de++),ae+=O(ee,j,W,fe,Y);else if(ee==="object")throw j=String(B),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.");return ae}function K(B,j,W){if(B==null)return B;var G=[],Y=0;return O(B,G,"","",function(ee){return j.call(W,ee,Y++)}),G}function X(B){if(B._status===-1){var j=B._result;j=j(),j.then(function(W){(B._status===0||B._status===-1)&&(B._status=1,B._result=W)},function(W){(B._status===0||B._status===-1)&&(B._status=2,B._result=W)}),B._status===-1&&(B._status=0,B._result=j)}if(B._status===1)return B._result.default;throw B._result}var J={current:null},ne={transition:null},z={ReactCurrentDispatcher:J,ReactCurrentBatchConfig:ne,ReactCurrentOwner:R};function Q(){throw Error("act(...) is not supported in production builds of React.")}return hn.Children={map:K,forEach:function(B,j,W){K(B,function(){j.apply(this,arguments)},W)},count:function(B){var j=0;return K(B,function(){j++}),j},toArray:function(B){return K(B,function(j){return j})||[]},only:function(B){if(!F(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},hn.Component=y,hn.Fragment=n,hn.Profiler=i,hn.PureComponent=_,hn.StrictMode=r,hn.Suspense=l,hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,hn.act=Q,hn.cloneElement=function(B,j,W){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var G=v({},B.props),Y=B.key,ee=B.ref,ae=B._owner;if(j!=null){if(j.ref!==void 0&&(ee=j.ref,ae=R.current),j.key!==void 0&&(Y=""+j.key),B.type&&B.type.defaultProps)var de=B.type.defaultProps;for(fe in j)S.call(j,fe)&&!D.hasOwnProperty(fe)&&(G[fe]=j[fe]===void 0&&de!==void 0?de[fe]:j[fe])}var fe=arguments.length-2;if(fe===1)G.children=W;else if(1<fe){de=Array(fe);for(var Ae=0;Ae<fe;Ae++)de[Ae]=arguments[Ae+2];G.children=de}return{$$typeof:t,type:B.type,key:Y,ref:ee,props:G,_owner:ae}},hn.createContext=function(B){return B={$$typeof:a,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:s,_context:B},B.Consumer=B},hn.createElement=N,hn.createFactory=function(B){var j=N.bind(null,B);return j.type=B,j},hn.createRef=function(){return{current:null}},hn.forwardRef=function(B){return{$$typeof:o,render:B}},hn.isValidElement=F,hn.lazy=function(B){return{$$typeof:u,_payload:{_status:-1,_result:B},_init:X}},hn.memo=function(B,j){return{$$typeof:c,type:B,compare:j===void 0?null:j}},hn.startTransition=function(B){var j=ne.transition;ne.transition={};try{B()}finally{ne.transition=j}},hn.unstable_act=Q,hn.useCallback=function(B,j){return J.current.useCallback(B,j)},hn.useContext=function(B){return J.current.useContext(B)},hn.useDebugValue=function(){},hn.useDeferredValue=function(B){return J.current.useDeferredValue(B)},hn.useEffect=function(B,j){return J.current.useEffect(B,j)},hn.useId=function(){return J.current.useId()},hn.useImperativeHandle=function(B,j,W){return J.current.useImperativeHandle(B,j,W)},hn.useInsertionEffect=function(B,j){return J.current.useInsertionEffect(B,j)},hn.useLayoutEffect=function(B,j){return J.current.useLayoutEffect(B,j)},hn.useMemo=function(B,j){return J.current.useMemo(B,j)},hn.useReducer=function(B,j,W){return J.current.useReducer(B,j,W)},hn.useRef=function(B){return J.current.useRef(B)},hn.useState=function(B){return J.current.useState(B)},hn.useSyncExternalStore=function(B,j,W){return J.current.useSyncExternalStore(B,j,W)},hn.useTransition=function(){return J.current.useTransition()},hn.version="18.3.1",hn}var r8;function ob(){return r8||(r8=1,OE.exports=dZ()),OE.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i8;function fZ(){if(i8)return Ug;i8=1;var t=ob(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(o,l,c){var u,f={},h=null,p=null;c!==void 0&&(h=""+c),l.key!==void 0&&(h=""+l.key),l.ref!==void 0&&(p=l.ref);for(u in l)r.call(l,u)&&!s.hasOwnProperty(u)&&(f[u]=l[u]);if(o&&o.defaultProps)for(u in l=o.defaultProps,l)f[u]===void 0&&(f[u]=l[u]);return{$$typeof:e,type:o,key:h,ref:p,props:f,_owner:i.current}}return Ug.Fragment=n,Ug.jsx=a,Ug.jsxs=a,Ug}var s8;function hZ(){return s8||(s8=1,UE.exports=fZ()),UE.exports}var d=hZ(),q=ob();const vl=ab(q);var ux={},LE={exports:{}},Gs={},jE={exports:{}},BE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a8;function pZ(){return a8||(a8=1,(function(t){function e(ne,z){var Q=ne.length;ne.push(z);e:for(;0<Q;){var B=Q-1>>>1,j=ne[B];if(0<i(j,z))ne[B]=z,ne[Q]=j,Q=B;else break e}}function n(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var z=ne[0],Q=ne.pop();if(Q!==z){ne[0]=Q;e:for(var B=0,j=ne.length,W=j>>>1;B<W;){var G=2*(B+1)-1,Y=ne[G],ee=G+1,ae=ne[ee];if(0>i(Y,Q))ee<j&&0>i(ae,Y)?(ne[B]=ae,ne[ee]=Q,B=ee):(ne[B]=Y,ne[G]=Q,B=G);else if(ee<j&&0>i(ae,Q))ne[B]=ae,ne[ee]=Q,B=ee;else break e}}return z}function i(ne,z){var Q=ne.sortIndex-z.sortIndex;return Q!==0?Q:ne.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,f=null,h=3,p=!1,v=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(ne){for(var z=n(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=ne)r(c),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(c)}}function C(ne){if(g=!1,w(ne),!v)if(n(l)!==null)v=!0,X(S);else{var z=n(c);z!==null&&J(C,z.startTime-ne)}}function S(ne,z){v=!1,g&&(g=!1,b(N),N=-1),p=!0;var Q=h;try{for(w(z),f=n(l);f!==null&&(!(f.expirationTime>z)||ne&&!P());){var B=f.callback;if(typeof B=="function"){f.callback=null,h=f.priorityLevel;var j=B(f.expirationTime<=z);z=t.unstable_now(),typeof j=="function"?f.callback=j:f===n(l)&&r(l),w(z)}else r(l);f=n(l)}if(f!==null)var W=!0;else{var G=n(c);G!==null&&J(C,G.startTime-z),W=!1}return W}finally{f=null,h=Q,p=!1}}var R=!1,D=null,N=-1,k=5,F=-1;function P(){return!(t.unstable_now()-F<k)}function I(){if(D!==null){var ne=t.unstable_now();F=ne;var z=!0;try{z=D(!0,ne)}finally{z?U():(R=!1,D=null)}}else R=!1}var U;if(typeof _=="function")U=function(){_(I)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,K=O.port2;O.port1.onmessage=I,U=function(){K.postMessage(null)}}else U=function(){y(I,0)};function X(ne){D=ne,R||(R=!0,U())}function J(ne,z){N=y(function(){ne(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ne){ne.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,X(S))},t.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<ne?Math.floor(1e3/ne):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(ne){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var Q=h;h=z;try{return ne()}finally{h=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ne,z){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var Q=h;h=ne;try{return z()}finally{h=Q}},t.unstable_scheduleCallback=function(ne,z,Q){var B=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?B+Q:B):Q=B,ne){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=Q+j,ne={id:u++,callback:z,priorityLevel:ne,startTime:Q,expirationTime:j,sortIndex:-1},Q>B?(ne.sortIndex=Q,e(c,ne),n(l)===null&&ne===n(c)&&(g?(b(N),N=-1):g=!0,J(C,Q-B))):(ne.sortIndex=j,e(l,ne),v||p||(v=!0,X(S))),ne},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(ne){var z=h;return function(){var Q=h;h=z;try{return ne.apply(this,arguments)}finally{h=Q}}}})(BE)),BE}var o8;function mZ(){return o8||(o8=1,jE.exports=pZ()),jE.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l8;function gZ(){if(l8)return Gs;l8=1;var t=ob(),e=mZ();function n(m){for(var x="https://reactjs.org/docs/error-decoder.html?invariant="+m,A=1;A<arguments.length;A++)x+="&args[]="+encodeURIComponent(arguments[A]);return"Minified React error #"+m+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(m,x){a(m,x),a(m+"Capture",x)}function a(m,x){for(i[m]=x,m=0;m<x.length;m++)r.add(x[m])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u={},f={};function h(m){return l.call(f,m)?!0:l.call(u,m)?!1:c.test(m)?f[m]=!0:(u[m]=!0,!1)}function p(m,x,A,L){if(A!==null&&A.type===0)return!1;switch(typeof x){case"function":case"symbol":return!0;case"boolean":return L?!1:A!==null?!A.acceptsBooleans:(m=m.toLowerCase().slice(0,5),m!=="data-"&&m!=="aria-");default:return!1}}function v(m,x,A,L){if(x===null||typeof x>"u"||p(m,x,A,L))return!0;if(L)return!1;if(A!==null)switch(A.type){case 3:return!x;case 4:return x===!1;case 5:return isNaN(x);case 6:return isNaN(x)||1>x}return!1}function g(m,x,A,L,H,te,ve){this.acceptsBooleans=x===2||x===3||x===4,this.attributeName=L,this.attributeNamespace=H,this.mustUseProperty=A,this.propertyName=m,this.type=x,this.sanitizeURL=te,this.removeEmptyString=ve}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(m){y[m]=new g(m,0,!1,m,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(m){var x=m[0];y[x]=new g(x,1,!1,m[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(m){y[m]=new g(m,2,!1,m.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(m){y[m]=new g(m,2,!1,m,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(m){y[m]=new g(m,3,!1,m.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(m){y[m]=new g(m,3,!0,m,null,!1,!1)}),["capture","download"].forEach(function(m){y[m]=new g(m,4,!1,m,null,!1,!1)}),["cols","rows","size","span"].forEach(function(m){y[m]=new g(m,6,!1,m,null,!1,!1)}),["rowSpan","start"].forEach(function(m){y[m]=new g(m,5,!1,m.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function _(m){return m[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(m){var x=m.replace(b,_);y[x]=new g(x,1,!1,m,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(m){var x=m.replace(b,_);y[x]=new g(x,1,!1,m,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(m){var x=m.replace(b,_);y[x]=new g(x,1,!1,m,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(m){y[m]=new g(m,1,!1,m.toLowerCase(),null,!1,!1)}),y.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(m){y[m]=new g(m,1,!1,m.toLowerCase(),null,!0,!0)});function w(m,x,A,L){var H=y.hasOwnProperty(x)?y[x]:null;(H!==null?H.type!==0:L||!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(v(x,A,H,L)&&(A=null),L||H===null?h(x)&&(A===null?m.removeAttribute(x):m.setAttribute(x,""+A)):H.mustUseProperty?m[H.propertyName]=A===null?H.type===3?!1:"":A:(x=H.attributeName,L=H.attributeNamespace,A===null?m.removeAttribute(x):(H=H.type,A=H===3||H===4&&A===!0?"":""+A,L?m.setAttributeNS(L,x,A):m.setAttribute(x,A))))}var C=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),R=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),P=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),ne=Symbol.iterator;function z(m){return m===null||typeof m!="object"?null:(m=ne&&m[ne]||m["@@iterator"],typeof m=="function"?m:null)}var Q=Object.assign,B;function j(m){if(B===void 0)try{throw Error()}catch(A){var x=A.stack.trim().match(/\n( *(at )?)/);B=x&&x[1]||""}return`
`+B+m}var W=!1;function G(m,x){if(!m||W)return"";W=!0;var A=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(x)if(x=function(){throw Error()},Object.defineProperty(x.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(x,[])}catch(Ze){var L=Ze}Reflect.construct(m,[],x)}else{try{x.call()}catch(Ze){L=Ze}m.call(x.prototype)}else{try{throw Error()}catch(Ze){L=Ze}m()}}catch(Ze){if(Ze&&L&&typeof Ze.stack=="string"){for(var H=Ze.stack.split(`
`),te=L.stack.split(`
`),ve=H.length-1,Pe=te.length-1;1<=ve&&0<=Pe&&H[ve]!==te[Pe];)Pe--;for(;1<=ve&&0<=Pe;ve--,Pe--)if(H[ve]!==te[Pe]){if(ve!==1||Pe!==1)do if(ve--,Pe--,0>Pe||H[ve]!==te[Pe]){var je=`
`+H[ve].replace(" at new "," at ");return m.displayName&&je.includes("<anonymous>")&&(je=je.replace("<anonymous>",m.displayName)),je}while(1<=ve&&0<=Pe);break}}}finally{W=!1,Error.prepareStackTrace=A}return(m=m?m.displayName||m.name:"")?j(m):""}function Y(m){switch(m.tag){case 5:return j(m.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return m=G(m.type,!1),m;case 11:return m=G(m.type.render,!1),m;case 1:return m=G(m.type,!0),m;default:return""}}function ee(m){if(m==null)return null;if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m;switch(m){case D:return"Fragment";case R:return"Portal";case k:return"Profiler";case N:return"StrictMode";case U:return"Suspense";case O:return"SuspenseList"}if(typeof m=="object")switch(m.$$typeof){case P:return(m.displayName||"Context")+".Consumer";case F:return(m._context.displayName||"Context")+".Provider";case I:var x=m.render;return m=m.displayName,m||(m=x.displayName||x.name||"",m=m!==""?"ForwardRef("+m+")":"ForwardRef"),m;case K:return x=m.displayName||null,x!==null?x:ee(m.type)||"Memo";case X:x=m._payload,m=m._init;try{return ee(m(x))}catch{}}return null}function ae(m){var x=m.type;switch(m.tag){case 24:return"Cache";case 9:return(x.displayName||"Context")+".Consumer";case 10:return(x._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return m=x.render,m=m.displayName||m.name||"",x.displayName||(m!==""?"ForwardRef("+m+")":"ForwardRef");case 7:return"Fragment";case 5:return x;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ee(x);case 8:return x===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof x=="function")return x.displayName||x.name||null;if(typeof x=="string")return x}return null}function de(m){switch(typeof m){case"boolean":case"number":case"string":case"undefined":return m;case"object":return m;default:return""}}function fe(m){var x=m.type;return(m=m.nodeName)&&m.toLowerCase()==="input"&&(x==="checkbox"||x==="radio")}function Ae(m){var x=fe(m)?"checked":"value",A=Object.getOwnPropertyDescriptor(m.constructor.prototype,x),L=""+m[x];if(!m.hasOwnProperty(x)&&typeof A<"u"&&typeof A.get=="function"&&typeof A.set=="function"){var H=A.get,te=A.set;return Object.defineProperty(m,x,{configurable:!0,get:function(){return H.call(this)},set:function(ve){L=""+ve,te.call(this,ve)}}),Object.defineProperty(m,x,{enumerable:A.enumerable}),{getValue:function(){return L},setValue:function(ve){L=""+ve},stopTracking:function(){m._valueTracker=null,delete m[x]}}}}function Re(m){m._valueTracker||(m._valueTracker=Ae(m))}function me(m){if(!m)return!1;var x=m._valueTracker;if(!x)return!0;var A=x.getValue(),L="";return m&&(L=fe(m)?m.checked?"true":"false":m.value),m=L,m!==A?(x.setValue(m),!0):!1}function Le(m){if(m=m||(typeof document<"u"?document:void 0),typeof m>"u")return null;try{return m.activeElement||m.body}catch{return m.body}}function V(m,x){var A=x.checked;return Q({},x,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:A??m._wrapperState.initialChecked})}function xe(m,x){var A=x.defaultValue==null?"":x.defaultValue,L=x.checked!=null?x.checked:x.defaultChecked;A=de(x.value!=null?x.value:A),m._wrapperState={initialChecked:L,initialValue:A,controlled:x.type==="checkbox"||x.type==="radio"?x.checked!=null:x.value!=null}}function Te(m,x){x=x.checked,x!=null&&w(m,"checked",x,!1)}function le(m,x){Te(m,x);var A=de(x.value),L=x.type;if(A!=null)L==="number"?(A===0&&m.value===""||m.value!=A)&&(m.value=""+A):m.value!==""+A&&(m.value=""+A);else if(L==="submit"||L==="reset"){m.removeAttribute("value");return}x.hasOwnProperty("value")?oe(m,x.type,A):x.hasOwnProperty("defaultValue")&&oe(m,x.type,de(x.defaultValue)),x.checked==null&&x.defaultChecked!=null&&(m.defaultChecked=!!x.defaultChecked)}function re(m,x,A){if(x.hasOwnProperty("value")||x.hasOwnProperty("defaultValue")){var L=x.type;if(!(L!=="submit"&&L!=="reset"||x.value!==void 0&&x.value!==null))return;x=""+m._wrapperState.initialValue,A||x===m.value||(m.value=x),m.defaultValue=x}A=m.name,A!==""&&(m.name=""),m.defaultChecked=!!m._wrapperState.initialChecked,A!==""&&(m.name=A)}function oe(m,x,A){(x!=="number"||Le(m.ownerDocument)!==m)&&(A==null?m.defaultValue=""+m._wrapperState.initialValue:m.defaultValue!==""+A&&(m.defaultValue=""+A))}var he=Array.isArray;function we(m,x,A,L){if(m=m.options,x){x={};for(var H=0;H<A.length;H++)x["$"+A[H]]=!0;for(A=0;A<m.length;A++)H=x.hasOwnProperty("$"+m[A].value),m[A].selected!==H&&(m[A].selected=H),H&&L&&(m[A].defaultSelected=!0)}else{for(A=""+de(A),x=null,H=0;H<m.length;H++){if(m[H].value===A){m[H].selected=!0,L&&(m[H].defaultSelected=!0);return}x!==null||m[H].disabled||(x=m[H])}x!==null&&(x.selected=!0)}}function ie(m,x){if(x.dangerouslySetInnerHTML!=null)throw Error(n(91));return Q({},x,{value:void 0,defaultValue:void 0,children:""+m._wrapperState.initialValue})}function ce(m,x){var A=x.value;if(A==null){if(A=x.children,x=x.defaultValue,A!=null){if(x!=null)throw Error(n(92));if(he(A)){if(1<A.length)throw Error(n(93));A=A[0]}x=A}x==null&&(x=""),A=x}m._wrapperState={initialValue:de(A)}}function ge(m,x){var A=de(x.value),L=de(x.defaultValue);A!=null&&(A=""+A,A!==m.value&&(m.value=A),x.defaultValue==null&&m.defaultValue!==A&&(m.defaultValue=A)),L!=null&&(m.defaultValue=""+L)}function ye(m){var x=m.textContent;x===m._wrapperState.initialValue&&x!==""&&x!==null&&(m.value=x)}function Ne(m){switch(m){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ue(m,x){return m==null||m==="http://www.w3.org/1999/xhtml"?Ne(x):m==="http://www.w3.org/2000/svg"&&x==="foreignObject"?"http://www.w3.org/1999/xhtml":m}var Se,Me=(function(m){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(x,A,L,H){MSApp.execUnsafeLocalFunction(function(){return m(x,A,L,H)})}:m})(function(m,x){if(m.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in m)m.innerHTML=x;else{for(Se=Se||document.createElement("div"),Se.innerHTML="<svg>"+x.valueOf().toString()+"</svg>",x=Se.firstChild;m.firstChild;)m.removeChild(m.firstChild);for(;x.firstChild;)m.appendChild(x.firstChild)}});function Oe(m,x){if(x){var A=m.firstChild;if(A&&A===m.lastChild&&A.nodeType===3){A.nodeValue=x;return}}m.textContent=x}var Xe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rt=["Webkit","ms","Moz","O"];Object.keys(Xe).forEach(function(m){rt.forEach(function(x){x=x+m.charAt(0).toUpperCase()+m.substring(1),Xe[x]=Xe[m]})});function it(m,x,A){return x==null||typeof x=="boolean"||x===""?"":A||typeof x!="number"||x===0||Xe.hasOwnProperty(m)&&Xe[m]?(""+x).trim():x+"px"}function Lt(m,x){m=m.style;for(var A in x)if(x.hasOwnProperty(A)){var L=A.indexOf("--")===0,H=it(A,x[A],L);A==="float"&&(A="cssFloat"),L?m.setProperty(A,H):m[A]=H}}var _n=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cn(m,x){if(x){if(_n[m]&&(x.children!=null||x.dangerouslySetInnerHTML!=null))throw Error(n(137,m));if(x.dangerouslySetInnerHTML!=null){if(x.children!=null)throw Error(n(60));if(typeof x.dangerouslySetInnerHTML!="object"||!("__html"in x.dangerouslySetInnerHTML))throw Error(n(61))}if(x.style!=null&&typeof x.style!="object")throw Error(n(62))}}function Nr(m,x){if(m.indexOf("-")===-1)return typeof x.is=="string";switch(m){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qn=null;function Zn(m){return m=m.target||m.srcElement||window,m.correspondingUseElement&&(m=m.correspondingUseElement),m.nodeType===3?m.parentNode:m}var lr=null,Qt=null,Tn=null;function pe(m){if(m=bg(m)){if(typeof lr!="function")throw Error(n(280));var x=m.stateNode;x&&(x=C1(x),lr(m.stateNode,m.type,x))}}function Ee(m){Qt?Tn?Tn.push(m):Tn=[m]:Qt=m}function Fe(){if(Qt){var m=Qt,x=Tn;if(Tn=Qt=null,pe(m),x)for(m=0;m<x.length;m++)pe(x[m])}}function Ge(m,x){return m(x)}function st(){}var It=!1;function ln(m,x,A){if(It)return m(x,A);It=!0;try{return Ge(m,x,A)}finally{It=!1,(Qt!==null||Tn!==null)&&(st(),Fe())}}function rn(m,x){var A=m.stateNode;if(A===null)return null;var L=C1(A);if(L===null)return null;A=L[x];e:switch(x){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(L=!L.disabled)||(m=m.type,L=!(m==="button"||m==="input"||m==="select"||m==="textarea")),m=!L;break e;default:m=!1}if(m)return null;if(A&&typeof A!="function")throw Error(n(231,x,typeof A));return A}var xr=!1;if(o)try{var Ln={};Object.defineProperty(Ln,"passive",{get:function(){xr=!0}}),window.addEventListener("test",Ln,Ln),window.removeEventListener("test",Ln,Ln)}catch{xr=!1}function Qe(m,x,A,L,H,te,ve,Pe,je){var Ze=Array.prototype.slice.call(arguments,3);try{x.apply(A,Ze)}catch(dt){this.onError(dt)}}var ft=!1,Ut=null,ue=!1,be=null,_e={onError:function(m){ft=!0,Ut=m}};function Ce(m,x,A,L,H,te,ve,Pe,je){ft=!1,Ut=null,Qe.apply(_e,arguments)}function Ie(m,x,A,L,H,te,ve,Pe,je){if(Ce.apply(this,arguments),ft){if(ft){var Ze=Ut;ft=!1,Ut=null}else throw Error(n(198));ue||(ue=!0,be=Ze)}}function ke(m){var x=m,A=m;if(m.alternate)for(;x.return;)x=x.return;else{m=x;do x=m,(x.flags&4098)!==0&&(A=x.return),m=x.return;while(m)}return x.tag===3?A:null}function We(m){if(m.tag===13){var x=m.memoizedState;if(x===null&&(m=m.alternate,m!==null&&(x=m.memoizedState)),x!==null)return x.dehydrated}return null}function qe(m){if(ke(m)!==m)throw Error(n(188))}function Ve(m){var x=m.alternate;if(!x){if(x=ke(m),x===null)throw Error(n(188));return x!==m?null:m}for(var A=m,L=x;;){var H=A.return;if(H===null)break;var te=H.alternate;if(te===null){if(L=H.return,L!==null){A=L;continue}break}if(H.child===te.child){for(te=H.child;te;){if(te===A)return qe(H),m;if(te===L)return qe(H),x;te=te.sibling}throw Error(n(188))}if(A.return!==L.return)A=H,L=te;else{for(var ve=!1,Pe=H.child;Pe;){if(Pe===A){ve=!0,A=H,L=te;break}if(Pe===L){ve=!0,L=H,A=te;break}Pe=Pe.sibling}if(!ve){for(Pe=te.child;Pe;){if(Pe===A){ve=!0,A=te,L=H;break}if(Pe===L){ve=!0,L=te,A=H;break}Pe=Pe.sibling}if(!ve)throw Error(n(189))}}if(A.alternate!==L)throw Error(n(190))}if(A.tag!==3)throw Error(n(188));return A.stateNode.current===A?m:x}function $e(m){return m=Ve(m),m!==null?Je(m):null}function Je(m){if(m.tag===5||m.tag===6)return m;for(m=m.child;m!==null;){var x=Je(m);if(x!==null)return x;m=m.sibling}return null}var at=e.unstable_scheduleCallback,gt=e.unstable_cancelCallback,St=e.unstable_shouldYield,yt=e.unstable_requestPaint,ht=e.unstable_now,Jt=e.unstable_getCurrentPriorityLevel,Fn=e.unstable_ImmediatePriority,Dn=e.unstable_UserBlockingPriority,jn=e.unstable_NormalPriority,uo=e.unstable_LowPriority,zo=e.unstable_IdlePriority,da=null,Xr=null;function Rc(m){if(Xr&&typeof Xr.onCommitFiberRoot=="function")try{Xr.onCommitFiberRoot(da,m,void 0,(m.current.flags&128)===128)}catch{}}var cr=Math.clz32?Math.clz32:r1,sg=Math.log,n1=Math.LN2;function r1(m){return m>>>=0,m===0?32:31-(sg(m)/n1|0)|0}var dh=64,fh=4194304;function Pc(m){switch(m&-m){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return m&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return m}}function hd(m,x){var A=m.pendingLanes;if(A===0)return 0;var L=0,H=m.suspendedLanes,te=m.pingedLanes,ve=A&268435455;if(ve!==0){var Pe=ve&~H;Pe!==0?L=Pc(Pe):(te&=ve,te!==0&&(L=Pc(te)))}else ve=A&~H,ve!==0?L=Pc(ve):te!==0&&(L=Pc(te));if(L===0)return 0;if(x!==0&&x!==L&&(x&H)===0&&(H=L&-L,te=x&-x,H>=te||H===16&&(te&4194240)!==0))return x;if((L&4)!==0&&(L|=A&16),x=m.entangledLanes,x!==0)for(m=m.entanglements,x&=L;0<x;)A=31-cr(x),H=1<<A,L|=m[A],x&=~H;return L}function fT(m,x){switch(m){case 1:case 2:case 4:return x+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return x+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fl(m,x){for(var A=m.suspendedLanes,L=m.pingedLanes,H=m.expirationTimes,te=m.pendingLanes;0<te;){var ve=31-cr(te),Pe=1<<ve,je=H[ve];je===-1?((Pe&A)===0||(Pe&L)!==0)&&(H[ve]=fT(Pe,x)):je<=x&&(m.expiredLanes|=Pe),te&=~Pe}}function fa(m){return m=m.pendingLanes&-1073741825,m!==0?m:m&1073741824?1073741824:0}function pd(){var m=dh;return dh<<=1,(dh&4194240)===0&&(dh=64),m}function Fc(m){for(var x=[],A=0;31>A;A++)x.push(m);return x}function Mc(m,x,A){m.pendingLanes|=x,x!==536870912&&(m.suspendedLanes=0,m.pingedLanes=0),m=m.eventTimes,x=31-cr(x),m[x]=A}function er(m,x){var A=m.pendingLanes&~x;m.pendingLanes=x,m.suspendedLanes=0,m.pingedLanes=0,m.expiredLanes&=x,m.mutableReadLanes&=x,m.entangledLanes&=x,x=m.entanglements;var L=m.eventTimes;for(m=m.expirationTimes;0<A;){var H=31-cr(A),te=1<<H;x[H]=0,L[H]=-1,m[H]=-1,A&=~te}}function Uc(m,x){var A=m.entangledLanes|=x;for(m=m.entanglements;A;){var L=31-cr(A),H=1<<L;H&x|m[L]&x&&(m[L]|=x),A&=~H}}var xn=0;function Oc(m){return m&=-m,1<m?4<m?(m&268435455)!==0?16:536870912:4:1}var i1,hh,s1,a1,o1,ag=!1,Ho=[],Bi=null,fo=null,ho=null,Lc=new Map,Ra=new Map,Go=[],hT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function l1(m,x){switch(m){case"focusin":case"focusout":Bi=null;break;case"dragenter":case"dragleave":fo=null;break;case"mouseover":case"mouseout":ho=null;break;case"pointerover":case"pointerout":Lc.delete(x.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ra.delete(x.pointerId)}}function Bs(m,x,A,L,H,te){return m===null||m.nativeEvent!==te?(m={blockedOn:x,domEventName:A,eventSystemFlags:L,nativeEvent:te,targetContainers:[H]},x!==null&&(x=bg(x),x!==null&&hh(x)),m):(m.eventSystemFlags|=L,x=m.targetContainers,H!==null&&x.indexOf(H)===-1&&x.push(H),m)}function pT(m,x,A,L,H){switch(x){case"focusin":return Bi=Bs(Bi,m,x,A,L,H),!0;case"dragenter":return fo=Bs(fo,m,x,A,L,H),!0;case"mouseover":return ho=Bs(ho,m,x,A,L,H),!0;case"pointerover":var te=H.pointerId;return Lc.set(te,Bs(Lc.get(te)||null,m,x,A,L,H)),!0;case"gotpointercapture":return te=H.pointerId,Ra.set(te,Bs(Ra.get(te)||null,m,x,A,L,H)),!0}return!1}function c1(m){var x=xd(m.target);if(x!==null){var A=ke(x);if(A!==null){if(x=A.tag,x===13){if(x=We(A),x!==null){m.blockedOn=x,o1(m.priority,function(){s1(A)});return}}else if(x===3&&A.stateNode.current.memoizedState.isDehydrated){m.blockedOn=A.tag===3?A.stateNode.containerInfo:null;return}}}m.blockedOn=null}function Ml(m){if(m.blockedOn!==null)return!1;for(var x=m.targetContainers;0<x.length;){var A=ph(m.domEventName,m.eventSystemFlags,x[0],m.nativeEvent);if(A===null){A=m.nativeEvent;var L=new A.constructor(A.type,A);Qn=L,A.target.dispatchEvent(L),Qn=null}else return x=bg(A),x!==null&&hh(x),m.blockedOn=A,!1;x.shift()}return!0}function md(m,x,A){Ml(m)&&A.delete(x)}function u1(){ag=!1,Bi!==null&&Ml(Bi)&&(Bi=null),fo!==null&&Ml(fo)&&(fo=null),ho!==null&&Ml(ho)&&(ho=null),Lc.forEach(md),Ra.forEach(md)}function po(m,x){m.blockedOn===x&&(m.blockedOn=null,ag||(ag=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,u1)))}function mo(m){function x(H){return po(H,m)}if(0<Ho.length){po(Ho[0],m);for(var A=1;A<Ho.length;A++){var L=Ho[A];L.blockedOn===m&&(L.blockedOn=null)}}for(Bi!==null&&po(Bi,m),fo!==null&&po(fo,m),ho!==null&&po(ho,m),Lc.forEach(x),Ra.forEach(x),A=0;A<Go.length;A++)L=Go[A],L.blockedOn===m&&(L.blockedOn=null);for(;0<Go.length&&(A=Go[0],A.blockedOn===null);)c1(A),A.blockedOn===null&&Go.shift()}var Ul=C.ReactCurrentBatchConfig,jc=!0;function _r(m,x,A,L){var H=xn,te=Ul.transition;Ul.transition=null;try{xn=1,og(m,x,A,L)}finally{xn=H,Ul.transition=te}}function mT(m,x,A,L){var H=xn,te=Ul.transition;Ul.transition=null;try{xn=4,og(m,x,A,L)}finally{xn=H,Ul.transition=te}}function og(m,x,A,L){if(jc){var H=ph(m,x,A,L);if(H===null)ST(m,x,L,gd,A),l1(m,L);else if(pT(H,m,x,A,L))L.stopPropagation();else if(l1(m,L),x&4&&-1<hT.indexOf(m)){for(;H!==null;){var te=bg(H);if(te!==null&&i1(te),te=ph(m,x,A,L),te===null&&ST(m,x,L,gd,A),te===H)break;H=te}H!==null&&L.stopPropagation()}else ST(m,x,L,null,A)}}var gd=null;function ph(m,x,A,L){if(gd=null,m=Zn(L),m=xd(m),m!==null)if(x=ke(m),x===null)m=null;else if(A=x.tag,A===13){if(m=We(x),m!==null)return m;m=null}else if(A===3){if(x.stateNode.current.memoizedState.isDehydrated)return x.tag===3?x.stateNode.containerInfo:null;m=null}else x!==m&&(m=null);return gd=m,null}function lg(m){switch(m){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jt()){case Fn:return 1;case Dn:return 4;case jn:case uo:return 16;case zo:return 536870912;default:return 16}default:return 16}}var ha=null,mh=null,Vs=null;function cg(){if(Vs)return Vs;var m,x=mh,A=x.length,L,H="value"in ha?ha.value:ha.textContent,te=H.length;for(m=0;m<A&&x[m]===H[m];m++);var ve=A-m;for(L=1;L<=ve&&x[A-L]===H[te-L];L++);return Vs=H.slice(m,1<L?1-L:void 0)}function gh(m){var x=m.keyCode;return"charCode"in m?(m=m.charCode,m===0&&x===13&&(m=13)):m=x,m===10&&(m=13),32<=m||m===13?m:0}function Ko(){return!0}function ug(){return!1}function Vi(m){function x(A,L,H,te,ve){this._reactName=A,this._targetInst=H,this.type=L,this.nativeEvent=te,this.target=ve,this.currentTarget=null;for(var Pe in m)m.hasOwnProperty(Pe)&&(A=m[Pe],this[Pe]=A?A(te):te[Pe]);return this.isDefaultPrevented=(te.defaultPrevented!=null?te.defaultPrevented:te.returnValue===!1)?Ko:ug,this.isPropagationStopped=ug,this}return Q(x.prototype,{preventDefault:function(){this.defaultPrevented=!0;var A=this.nativeEvent;A&&(A.preventDefault?A.preventDefault():typeof A.returnValue!="unknown"&&(A.returnValue=!1),this.isDefaultPrevented=Ko)},stopPropagation:function(){var A=this.nativeEvent;A&&(A.stopPropagation?A.stopPropagation():typeof A.cancelBubble!="unknown"&&(A.cancelBubble=!0),this.isPropagationStopped=Ko)},persist:function(){},isPersistent:Ko}),x}var go={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(m){return m.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yh=Vi(go),Xo=Q({},go,{view:0,detail:0}),gT=Vi(Xo),vh,Ol,Bc,yd=Q({},Xo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jo,button:0,buttons:0,relatedTarget:function(m){return m.relatedTarget===void 0?m.fromElement===m.srcElement?m.toElement:m.fromElement:m.relatedTarget},movementX:function(m){return"movementX"in m?m.movementX:(m!==Bc&&(Bc&&m.type==="mousemove"?(vh=m.screenX-Bc.screenX,Ol=m.screenY-Bc.screenY):Ol=vh=0,Bc=m),vh)},movementY:function(m){return"movementY"in m?m.movementY:Ol}}),xh=Vi(yd),dg=Q({},yd,{dataTransfer:0}),d1=Vi(dg),_h=Q({},Xo,{relatedTarget:0}),bh=Vi(_h),f1=Q({},go,{animationName:0,elapsedTime:0,pseudoElement:0}),Ll=Vi(f1),h1=Q({},go,{clipboardData:function(m){return"clipboardData"in m?m.clipboardData:window.clipboardData}}),p1=Vi(h1),m1=Q({},go,{data:0}),fg=Vi(m1),wh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Es={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},g1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function y1(m){var x=this.nativeEvent;return x.getModifierState?x.getModifierState(m):(m=g1[m])?!!x[m]:!1}function Jo(){return y1}var M=Q({},Xo,{key:function(m){if(m.key){var x=wh[m.key]||m.key;if(x!=="Unidentified")return x}return m.type==="keypress"?(m=gh(m),m===13?"Enter":String.fromCharCode(m)):m.type==="keydown"||m.type==="keyup"?Es[m.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jo,charCode:function(m){return m.type==="keypress"?gh(m):0},keyCode:function(m){return m.type==="keydown"||m.type==="keyup"?m.keyCode:0},which:function(m){return m.type==="keypress"?gh(m):m.type==="keydown"||m.type==="keyup"?m.keyCode:0}}),Z=Vi(M),se=Q({},yd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),De=Vi(se),He=Q({},Xo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jo}),tt=Vi(He),wt=Q({},go,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bn=Vi(wt),hi=Q({},yd,{deltaX:function(m){return"deltaX"in m?m.deltaX:"wheelDeltaX"in m?-m.wheelDeltaX:0},deltaY:function(m){return"deltaY"in m?m.deltaY:"wheelDeltaY"in m?-m.wheelDeltaY:"wheelDelta"in m?-m.wheelDelta:0},deltaZ:0,deltaMode:0}),bn=Vi(hi),Ei=[9,13,27,32],si=o&&"CompositionEvent"in window,Pa=null;o&&"documentMode"in document&&(Pa=document.documentMode);var pa=o&&"TextEvent"in window&&!Pa,vd=o&&(!si||Pa&&8<Pa&&11>=Pa),Th=" ",J6=!1;function Y6(m,x){switch(m){case"keyup":return Ei.indexOf(x.keyCode)!==-1;case"keydown":return x.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Q6(m){return m=m.detail,typeof m=="object"&&"data"in m?m.data:null}var Eh=!1;function oQ(m,x){switch(m){case"compositionend":return Q6(x);case"keypress":return x.which!==32?null:(J6=!0,Th);case"textInput":return m=x.data,m===Th&&J6?null:m;default:return null}}function lQ(m,x){if(Eh)return m==="compositionend"||!si&&Y6(m,x)?(m=cg(),Vs=mh=ha=null,Eh=!1,m):null;switch(m){case"paste":return null;case"keypress":if(!(x.ctrlKey||x.altKey||x.metaKey)||x.ctrlKey&&x.altKey){if(x.char&&1<x.char.length)return x.char;if(x.which)return String.fromCharCode(x.which)}return null;case"compositionend":return vd&&x.locale!=="ko"?null:x.data;default:return null}}var cQ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Z6(m){var x=m&&m.nodeName&&m.nodeName.toLowerCase();return x==="input"?!!cQ[m.type]:x==="textarea"}function eR(m,x,A,L){Ee(L),x=w1(x,"onChange"),0<x.length&&(A=new yh("onChange","change",null,A,L),m.push({event:A,listeners:x}))}var hg=null,pg=null;function uQ(m){vR(m,0)}function v1(m){var x=Nh(m);if(me(x))return m}function dQ(m,x){if(m==="change")return x}var tR=!1;if(o){var yT;if(o){var vT="oninput"in document;if(!vT){var nR=document.createElement("div");nR.setAttribute("oninput","return;"),vT=typeof nR.oninput=="function"}yT=vT}else yT=!1;tR=yT&&(!document.documentMode||9<document.documentMode)}function rR(){hg&&(hg.detachEvent("onpropertychange",iR),pg=hg=null)}function iR(m){if(m.propertyName==="value"&&v1(pg)){var x=[];eR(x,pg,m,Zn(m)),ln(uQ,x)}}function fQ(m,x,A){m==="focusin"?(rR(),hg=x,pg=A,hg.attachEvent("onpropertychange",iR)):m==="focusout"&&rR()}function hQ(m){if(m==="selectionchange"||m==="keyup"||m==="keydown")return v1(pg)}function pQ(m,x){if(m==="click")return v1(x)}function mQ(m,x){if(m==="input"||m==="change")return v1(x)}function gQ(m,x){return m===x&&(m!==0||1/m===1/x)||m!==m&&x!==x}var yo=typeof Object.is=="function"?Object.is:gQ;function mg(m,x){if(yo(m,x))return!0;if(typeof m!="object"||m===null||typeof x!="object"||x===null)return!1;var A=Object.keys(m),L=Object.keys(x);if(A.length!==L.length)return!1;for(L=0;L<A.length;L++){var H=A[L];if(!l.call(x,H)||!yo(m[H],x[H]))return!1}return!0}function sR(m){for(;m&&m.firstChild;)m=m.firstChild;return m}function aR(m,x){var A=sR(m);m=0;for(var L;A;){if(A.nodeType===3){if(L=m+A.textContent.length,m<=x&&L>=x)return{node:A,offset:x-m};m=L}e:{for(;A;){if(A.nextSibling){A=A.nextSibling;break e}A=A.parentNode}A=void 0}A=sR(A)}}function oR(m,x){return m&&x?m===x?!0:m&&m.nodeType===3?!1:x&&x.nodeType===3?oR(m,x.parentNode):"contains"in m?m.contains(x):m.compareDocumentPosition?!!(m.compareDocumentPosition(x)&16):!1:!1}function lR(){for(var m=window,x=Le();x instanceof m.HTMLIFrameElement;){try{var A=typeof x.contentWindow.location.href=="string"}catch{A=!1}if(A)m=x.contentWindow;else break;x=Le(m.document)}return x}function xT(m){var x=m&&m.nodeName&&m.nodeName.toLowerCase();return x&&(x==="input"&&(m.type==="text"||m.type==="search"||m.type==="tel"||m.type==="url"||m.type==="password")||x==="textarea"||m.contentEditable==="true")}function yQ(m){var x=lR(),A=m.focusedElem,L=m.selectionRange;if(x!==A&&A&&A.ownerDocument&&oR(A.ownerDocument.documentElement,A)){if(L!==null&&xT(A)){if(x=L.start,m=L.end,m===void 0&&(m=x),"selectionStart"in A)A.selectionStart=x,A.selectionEnd=Math.min(m,A.value.length);else if(m=(x=A.ownerDocument||document)&&x.defaultView||window,m.getSelection){m=m.getSelection();var H=A.textContent.length,te=Math.min(L.start,H);L=L.end===void 0?te:Math.min(L.end,H),!m.extend&&te>L&&(H=L,L=te,te=H),H=aR(A,te);var ve=aR(A,L);H&&ve&&(m.rangeCount!==1||m.anchorNode!==H.node||m.anchorOffset!==H.offset||m.focusNode!==ve.node||m.focusOffset!==ve.offset)&&(x=x.createRange(),x.setStart(H.node,H.offset),m.removeAllRanges(),te>L?(m.addRange(x),m.extend(ve.node,ve.offset)):(x.setEnd(ve.node,ve.offset),m.addRange(x)))}}for(x=[],m=A;m=m.parentNode;)m.nodeType===1&&x.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<x.length;A++)m=x[A],m.element.scrollLeft=m.left,m.element.scrollTop=m.top}}var vQ=o&&"documentMode"in document&&11>=document.documentMode,Ch=null,_T=null,gg=null,bT=!1;function cR(m,x,A){var L=A.window===A?A.document:A.nodeType===9?A:A.ownerDocument;bT||Ch==null||Ch!==Le(L)||(L=Ch,"selectionStart"in L&&xT(L)?L={start:L.selectionStart,end:L.selectionEnd}:(L=(L.ownerDocument&&L.ownerDocument.defaultView||window).getSelection(),L={anchorNode:L.anchorNode,anchorOffset:L.anchorOffset,focusNode:L.focusNode,focusOffset:L.focusOffset}),gg&&mg(gg,L)||(gg=L,L=w1(_T,"onSelect"),0<L.length&&(x=new yh("onSelect","select",null,x,A),m.push({event:x,listeners:L}),x.target=Ch)))}function x1(m,x){var A={};return A[m.toLowerCase()]=x.toLowerCase(),A["Webkit"+m]="webkit"+x,A["Moz"+m]="moz"+x,A}var Sh={animationend:x1("Animation","AnimationEnd"),animationiteration:x1("Animation","AnimationIteration"),animationstart:x1("Animation","AnimationStart"),transitionend:x1("Transition","TransitionEnd")},wT={},uR={};o&&(uR=document.createElement("div").style,"AnimationEvent"in window||(delete Sh.animationend.animation,delete Sh.animationiteration.animation,delete Sh.animationstart.animation),"TransitionEvent"in window||delete Sh.transitionend.transition);function _1(m){if(wT[m])return wT[m];if(!Sh[m])return m;var x=Sh[m],A;for(A in x)if(x.hasOwnProperty(A)&&A in uR)return wT[m]=x[A];return m}var dR=_1("animationend"),fR=_1("animationiteration"),hR=_1("animationstart"),pR=_1("transitionend"),mR=new Map,gR="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vc(m,x){mR.set(m,x),s(x,[m])}for(var TT=0;TT<gR.length;TT++){var ET=gR[TT],xQ=ET.toLowerCase(),_Q=ET[0].toUpperCase()+ET.slice(1);Vc(xQ,"on"+_Q)}Vc(dR,"onAnimationEnd"),Vc(fR,"onAnimationIteration"),Vc(hR,"onAnimationStart"),Vc("dblclick","onDoubleClick"),Vc("focusin","onFocus"),Vc("focusout","onBlur"),Vc(pR,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bQ=new Set("cancel close invalid load scroll toggle".split(" ").concat(yg));function yR(m,x,A){var L=m.type||"unknown-event";m.currentTarget=A,Ie(L,x,void 0,m),m.currentTarget=null}function vR(m,x){x=(x&4)!==0;for(var A=0;A<m.length;A++){var L=m[A],H=L.event;L=L.listeners;e:{var te=void 0;if(x)for(var ve=L.length-1;0<=ve;ve--){var Pe=L[ve],je=Pe.instance,Ze=Pe.currentTarget;if(Pe=Pe.listener,je!==te&&H.isPropagationStopped())break e;yR(H,Pe,Ze),te=je}else for(ve=0;ve<L.length;ve++){if(Pe=L[ve],je=Pe.instance,Ze=Pe.currentTarget,Pe=Pe.listener,je!==te&&H.isPropagationStopped())break e;yR(H,Pe,Ze),te=je}}}if(ue)throw m=be,ue=!1,be=null,m}function ur(m,x){var A=x[RT];A===void 0&&(A=x[RT]=new Set);var L=m+"__bubble";A.has(L)||(xR(x,m,2,!1),A.add(L))}function CT(m,x,A){var L=0;x&&(L|=4),xR(A,m,L,x)}var b1="_reactListening"+Math.random().toString(36).slice(2);function vg(m){if(!m[b1]){m[b1]=!0,r.forEach(function(A){A!=="selectionchange"&&(bQ.has(A)||CT(A,!1,m),CT(A,!0,m))});var x=m.nodeType===9?m:m.ownerDocument;x===null||x[b1]||(x[b1]=!0,CT("selectionchange",!1,x))}}function xR(m,x,A,L){switch(lg(x)){case 1:var H=_r;break;case 4:H=mT;break;default:H=og}A=H.bind(null,x,A,m),H=void 0,!xr||x!=="touchstart"&&x!=="touchmove"&&x!=="wheel"||(H=!0),L?H!==void 0?m.addEventListener(x,A,{capture:!0,passive:H}):m.addEventListener(x,A,!0):H!==void 0?m.addEventListener(x,A,{passive:H}):m.addEventListener(x,A,!1)}function ST(m,x,A,L,H){var te=L;if((x&1)===0&&(x&2)===0&&L!==null)e:for(;;){if(L===null)return;var ve=L.tag;if(ve===3||ve===4){var Pe=L.stateNode.containerInfo;if(Pe===H||Pe.nodeType===8&&Pe.parentNode===H)break;if(ve===4)for(ve=L.return;ve!==null;){var je=ve.tag;if((je===3||je===4)&&(je=ve.stateNode.containerInfo,je===H||je.nodeType===8&&je.parentNode===H))return;ve=ve.return}for(;Pe!==null;){if(ve=xd(Pe),ve===null)return;if(je=ve.tag,je===5||je===6){L=te=ve;continue e}Pe=Pe.parentNode}}L=L.return}ln(function(){var Ze=te,dt=Zn(A),mt=[];e:{var ct=mR.get(m);if(ct!==void 0){var At=yh,Pt=m;switch(m){case"keypress":if(gh(A)===0)break e;case"keydown":case"keyup":At=Z;break;case"focusin":Pt="focus",At=bh;break;case"focusout":Pt="blur",At=bh;break;case"beforeblur":case"afterblur":At=bh;break;case"click":if(A.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":At=xh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":At=d1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":At=tt;break;case dR:case fR:case hR:At=Ll;break;case pR:At=Bn;break;case"scroll":At=gT;break;case"wheel":At=bn;break;case"copy":case"cut":case"paste":At=p1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":At=De}var Ot=(x&4)!==0,Jr=!Ot&&m==="scroll",Ke=Ot?ct!==null?ct+"Capture":null:ct;Ot=[];for(var Be=Ze,Ye;Be!==null;){Ye=Be;var xt=Ye.stateNode;if(Ye.tag===5&&xt!==null&&(Ye=xt,Ke!==null&&(xt=rn(Be,Ke),xt!=null&&Ot.push(xg(Be,xt,Ye)))),Jr)break;Be=Be.return}0<Ot.length&&(ct=new At(ct,Pt,null,A,dt),mt.push({event:ct,listeners:Ot}))}}if((x&7)===0){e:{if(ct=m==="mouseover"||m==="pointerover",At=m==="mouseout"||m==="pointerout",ct&&A!==Qn&&(Pt=A.relatedTarget||A.fromElement)&&(xd(Pt)||Pt[jl]))break e;if((At||ct)&&(ct=dt.window===dt?dt:(ct=dt.ownerDocument)?ct.defaultView||ct.parentWindow:window,At?(Pt=A.relatedTarget||A.toElement,At=Ze,Pt=Pt?xd(Pt):null,Pt!==null&&(Jr=ke(Pt),Pt!==Jr||Pt.tag!==5&&Pt.tag!==6)&&(Pt=null)):(At=null,Pt=Ze),At!==Pt)){if(Ot=xh,xt="onMouseLeave",Ke="onMouseEnter",Be="mouse",(m==="pointerout"||m==="pointerover")&&(Ot=De,xt="onPointerLeave",Ke="onPointerEnter",Be="pointer"),Jr=At==null?ct:Nh(At),Ye=Pt==null?ct:Nh(Pt),ct=new Ot(xt,Be+"leave",At,A,dt),ct.target=Jr,ct.relatedTarget=Ye,xt=null,xd(dt)===Ze&&(Ot=new Ot(Ke,Be+"enter",Pt,A,dt),Ot.target=Ye,Ot.relatedTarget=Jr,xt=Ot),Jr=xt,At&&Pt)t:{for(Ot=At,Ke=Pt,Be=0,Ye=Ot;Ye;Ye=Dh(Ye))Be++;for(Ye=0,xt=Ke;xt;xt=Dh(xt))Ye++;for(;0<Be-Ye;)Ot=Dh(Ot),Be--;for(;0<Ye-Be;)Ke=Dh(Ke),Ye--;for(;Be--;){if(Ot===Ke||Ke!==null&&Ot===Ke.alternate)break t;Ot=Dh(Ot),Ke=Dh(Ke)}Ot=null}else Ot=null;At!==null&&_R(mt,ct,At,Ot,!1),Pt!==null&&Jr!==null&&_R(mt,Jr,Pt,Ot,!0)}}e:{if(ct=Ze?Nh(Ze):window,At=ct.nodeName&&ct.nodeName.toLowerCase(),At==="select"||At==="input"&&ct.type==="file")var jt=dQ;else if(Z6(ct))if(tR)jt=mQ;else{jt=hQ;var Wt=fQ}else(At=ct.nodeName)&&At.toLowerCase()==="input"&&(ct.type==="checkbox"||ct.type==="radio")&&(jt=pQ);if(jt&&(jt=jt(m,Ze))){eR(mt,jt,A,dt);break e}Wt&&Wt(m,ct,Ze),m==="focusout"&&(Wt=ct._wrapperState)&&Wt.controlled&&ct.type==="number"&&oe(ct,"number",ct.value)}switch(Wt=Ze?Nh(Ze):window,m){case"focusin":(Z6(Wt)||Wt.contentEditable==="true")&&(Ch=Wt,_T=Ze,gg=null);break;case"focusout":gg=_T=Ch=null;break;case"mousedown":bT=!0;break;case"contextmenu":case"mouseup":case"dragend":bT=!1,cR(mt,A,dt);break;case"selectionchange":if(vQ)break;case"keydown":case"keyup":cR(mt,A,dt)}var qt;if(si)e:{switch(m){case"compositionstart":var Zt="onCompositionStart";break e;case"compositionend":Zt="onCompositionEnd";break e;case"compositionupdate":Zt="onCompositionUpdate";break e}Zt=void 0}else Eh?Y6(m,A)&&(Zt="onCompositionEnd"):m==="keydown"&&A.keyCode===229&&(Zt="onCompositionStart");Zt&&(vd&&A.locale!=="ko"&&(Eh||Zt!=="onCompositionStart"?Zt==="onCompositionEnd"&&Eh&&(qt=cg()):(ha=dt,mh="value"in ha?ha.value:ha.textContent,Eh=!0)),Wt=w1(Ze,Zt),0<Wt.length&&(Zt=new fg(Zt,m,null,A,dt),mt.push({event:Zt,listeners:Wt}),qt?Zt.data=qt:(qt=Q6(A),qt!==null&&(Zt.data=qt)))),(qt=pa?oQ(m,A):lQ(m,A))&&(Ze=w1(Ze,"onBeforeInput"),0<Ze.length&&(dt=new fg("onBeforeInput","beforeinput",null,A,dt),mt.push({event:dt,listeners:Ze}),dt.data=qt))}vR(mt,x)})}function xg(m,x,A){return{instance:m,listener:x,currentTarget:A}}function w1(m,x){for(var A=x+"Capture",L=[];m!==null;){var H=m,te=H.stateNode;H.tag===5&&te!==null&&(H=te,te=rn(m,A),te!=null&&L.unshift(xg(m,te,H)),te=rn(m,x),te!=null&&L.push(xg(m,te,H))),m=m.return}return L}function Dh(m){if(m===null)return null;do m=m.return;while(m&&m.tag!==5);return m||null}function _R(m,x,A,L,H){for(var te=x._reactName,ve=[];A!==null&&A!==L;){var Pe=A,je=Pe.alternate,Ze=Pe.stateNode;if(je!==null&&je===L)break;Pe.tag===5&&Ze!==null&&(Pe=Ze,H?(je=rn(A,te),je!=null&&ve.unshift(xg(A,je,Pe))):H||(je=rn(A,te),je!=null&&ve.push(xg(A,je,Pe)))),A=A.return}ve.length!==0&&m.push({event:x,listeners:ve})}var wQ=/\r\n?/g,TQ=/\u0000|\uFFFD/g;function bR(m){return(typeof m=="string"?m:""+m).replace(wQ,`
`).replace(TQ,"")}function T1(m,x,A){if(x=bR(x),bR(m)!==x&&A)throw Error(n(425))}function E1(){}var DT=null,AT=null;function NT(m,x){return m==="textarea"||m==="noscript"||typeof x.children=="string"||typeof x.children=="number"||typeof x.dangerouslySetInnerHTML=="object"&&x.dangerouslySetInnerHTML!==null&&x.dangerouslySetInnerHTML.__html!=null}var IT=typeof setTimeout=="function"?setTimeout:void 0,EQ=typeof clearTimeout=="function"?clearTimeout:void 0,wR=typeof Promise=="function"?Promise:void 0,CQ=typeof queueMicrotask=="function"?queueMicrotask:typeof wR<"u"?function(m){return wR.resolve(null).then(m).catch(SQ)}:IT;function SQ(m){setTimeout(function(){throw m})}function kT(m,x){var A=x,L=0;do{var H=A.nextSibling;if(m.removeChild(A),H&&H.nodeType===8)if(A=H.data,A==="/$"){if(L===0){m.removeChild(H),mo(x);return}L--}else A!=="$"&&A!=="$?"&&A!=="$!"||L++;A=H}while(A);mo(x)}function Wc(m){for(;m!=null;m=m.nextSibling){var x=m.nodeType;if(x===1||x===3)break;if(x===8){if(x=m.data,x==="$"||x==="$!"||x==="$?")break;if(x==="/$")return null}}return m}function TR(m){m=m.previousSibling;for(var x=0;m;){if(m.nodeType===8){var A=m.data;if(A==="$"||A==="$!"||A==="$?"){if(x===0)return m;x--}else A==="/$"&&x++}m=m.previousSibling}return null}var Ah=Math.random().toString(36).slice(2),Yo="__reactFiber$"+Ah,_g="__reactProps$"+Ah,jl="__reactContainer$"+Ah,RT="__reactEvents$"+Ah,DQ="__reactListeners$"+Ah,AQ="__reactHandles$"+Ah;function xd(m){var x=m[Yo];if(x)return x;for(var A=m.parentNode;A;){if(x=A[jl]||A[Yo]){if(A=x.alternate,x.child!==null||A!==null&&A.child!==null)for(m=TR(m);m!==null;){if(A=m[Yo])return A;m=TR(m)}return x}m=A,A=m.parentNode}return null}function bg(m){return m=m[Yo]||m[jl],!m||m.tag!==5&&m.tag!==6&&m.tag!==13&&m.tag!==3?null:m}function Nh(m){if(m.tag===5||m.tag===6)return m.stateNode;throw Error(n(33))}function C1(m){return m[_g]||null}var PT=[],Ih=-1;function qc(m){return{current:m}}function dr(m){0>Ih||(m.current=PT[Ih],PT[Ih]=null,Ih--)}function nr(m,x){Ih++,PT[Ih]=m.current,m.current=x}var $c={},Qi=qc($c),Ws=qc(!1),_d=$c;function kh(m,x){var A=m.type.contextTypes;if(!A)return $c;var L=m.stateNode;if(L&&L.__reactInternalMemoizedUnmaskedChildContext===x)return L.__reactInternalMemoizedMaskedChildContext;var H={},te;for(te in A)H[te]=x[te];return L&&(m=m.stateNode,m.__reactInternalMemoizedUnmaskedChildContext=x,m.__reactInternalMemoizedMaskedChildContext=H),H}function qs(m){return m=m.childContextTypes,m!=null}function S1(){dr(Ws),dr(Qi)}function ER(m,x,A){if(Qi.current!==$c)throw Error(n(168));nr(Qi,x),nr(Ws,A)}function CR(m,x,A){var L=m.stateNode;if(x=x.childContextTypes,typeof L.getChildContext!="function")return A;L=L.getChildContext();for(var H in L)if(!(H in x))throw Error(n(108,ae(m)||"Unknown",H));return Q({},A,L)}function D1(m){return m=(m=m.stateNode)&&m.__reactInternalMemoizedMergedChildContext||$c,_d=Qi.current,nr(Qi,m),nr(Ws,Ws.current),!0}function SR(m,x,A){var L=m.stateNode;if(!L)throw Error(n(169));A?(m=CR(m,x,_d),L.__reactInternalMemoizedMergedChildContext=m,dr(Ws),dr(Qi),nr(Qi,m)):dr(Ws),nr(Ws,A)}var Bl=null,A1=!1,FT=!1;function DR(m){Bl===null?Bl=[m]:Bl.push(m)}function NQ(m){A1=!0,DR(m)}function zc(){if(!FT&&Bl!==null){FT=!0;var m=0,x=xn;try{var A=Bl;for(xn=1;m<A.length;m++){var L=A[m];do L=L(!0);while(L!==null)}Bl=null,A1=!1}catch(H){throw Bl!==null&&(Bl=Bl.slice(m+1)),at(Fn,zc),H}finally{xn=x,FT=!1}}return null}var Rh=[],Ph=0,N1=null,I1=0,Fa=[],Ma=0,bd=null,Vl=1,Wl="";function wd(m,x){Rh[Ph++]=I1,Rh[Ph++]=N1,N1=m,I1=x}function AR(m,x,A){Fa[Ma++]=Vl,Fa[Ma++]=Wl,Fa[Ma++]=bd,bd=m;var L=Vl;m=Wl;var H=32-cr(L)-1;L&=~(1<<H),A+=1;var te=32-cr(x)+H;if(30<te){var ve=H-H%5;te=(L&(1<<ve)-1).toString(32),L>>=ve,H-=ve,Vl=1<<32-cr(x)+H|A<<H|L,Wl=te+m}else Vl=1<<te|A<<H|L,Wl=m}function MT(m){m.return!==null&&(wd(m,1),AR(m,1,0))}function UT(m){for(;m===N1;)N1=Rh[--Ph],Rh[Ph]=null,I1=Rh[--Ph],Rh[Ph]=null;for(;m===bd;)bd=Fa[--Ma],Fa[Ma]=null,Wl=Fa[--Ma],Fa[Ma]=null,Vl=Fa[--Ma],Fa[Ma]=null}var ma=null,ga=null,br=!1,vo=null;function NR(m,x){var A=ja(5,null,null,0);A.elementType="DELETED",A.stateNode=x,A.return=m,x=m.deletions,x===null?(m.deletions=[A],m.flags|=16):x.push(A)}function IR(m,x){switch(m.tag){case 5:var A=m.type;return x=x.nodeType!==1||A.toLowerCase()!==x.nodeName.toLowerCase()?null:x,x!==null?(m.stateNode=x,ma=m,ga=Wc(x.firstChild),!0):!1;case 6:return x=m.pendingProps===""||x.nodeType!==3?null:x,x!==null?(m.stateNode=x,ma=m,ga=null,!0):!1;case 13:return x=x.nodeType!==8?null:x,x!==null?(A=bd!==null?{id:Vl,overflow:Wl}:null,m.memoizedState={dehydrated:x,treeContext:A,retryLane:1073741824},A=ja(18,null,null,0),A.stateNode=x,A.return=m,m.child=A,ma=m,ga=null,!0):!1;default:return!1}}function OT(m){return(m.mode&1)!==0&&(m.flags&128)===0}function LT(m){if(br){var x=ga;if(x){var A=x;if(!IR(m,x)){if(OT(m))throw Error(n(418));x=Wc(A.nextSibling);var L=ma;x&&IR(m,x)?NR(L,A):(m.flags=m.flags&-4097|2,br=!1,ma=m)}}else{if(OT(m))throw Error(n(418));m.flags=m.flags&-4097|2,br=!1,ma=m}}}function kR(m){for(m=m.return;m!==null&&m.tag!==5&&m.tag!==3&&m.tag!==13;)m=m.return;ma=m}function k1(m){if(m!==ma)return!1;if(!br)return kR(m),br=!0,!1;var x;if((x=m.tag!==3)&&!(x=m.tag!==5)&&(x=m.type,x=x!=="head"&&x!=="body"&&!NT(m.type,m.memoizedProps)),x&&(x=ga)){if(OT(m))throw RR(),Error(n(418));for(;x;)NR(m,x),x=Wc(x.nextSibling)}if(kR(m),m.tag===13){if(m=m.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(n(317));e:{for(m=m.nextSibling,x=0;m;){if(m.nodeType===8){var A=m.data;if(A==="/$"){if(x===0){ga=Wc(m.nextSibling);break e}x--}else A!=="$"&&A!=="$!"&&A!=="$?"||x++}m=m.nextSibling}ga=null}}else ga=ma?Wc(m.stateNode.nextSibling):null;return!0}function RR(){for(var m=ga;m;)m=Wc(m.nextSibling)}function Fh(){ga=ma=null,br=!1}function jT(m){vo===null?vo=[m]:vo.push(m)}var IQ=C.ReactCurrentBatchConfig;function wg(m,x,A){if(m=A.ref,m!==null&&typeof m!="function"&&typeof m!="object"){if(A._owner){if(A=A._owner,A){if(A.tag!==1)throw Error(n(309));var L=A.stateNode}if(!L)throw Error(n(147,m));var H=L,te=""+m;return x!==null&&x.ref!==null&&typeof x.ref=="function"&&x.ref._stringRef===te?x.ref:(x=function(ve){var Pe=H.refs;ve===null?delete Pe[te]:Pe[te]=ve},x._stringRef=te,x)}if(typeof m!="string")throw Error(n(284));if(!A._owner)throw Error(n(290,m))}return m}function R1(m,x){throw m=Object.prototype.toString.call(x),Error(n(31,m==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":m))}function PR(m){var x=m._init;return x(m._payload)}function FR(m){function x(Ke,Be){if(m){var Ye=Ke.deletions;Ye===null?(Ke.deletions=[Be],Ke.flags|=16):Ye.push(Be)}}function A(Ke,Be){if(!m)return null;for(;Be!==null;)x(Ke,Be),Be=Be.sibling;return null}function L(Ke,Be){for(Ke=new Map;Be!==null;)Be.key!==null?Ke.set(Be.key,Be):Ke.set(Be.index,Be),Be=Be.sibling;return Ke}function H(Ke,Be){return Ke=Zc(Ke,Be),Ke.index=0,Ke.sibling=null,Ke}function te(Ke,Be,Ye){return Ke.index=Ye,m?(Ye=Ke.alternate,Ye!==null?(Ye=Ye.index,Ye<Be?(Ke.flags|=2,Be):Ye):(Ke.flags|=2,Be)):(Ke.flags|=1048576,Be)}function ve(Ke){return m&&Ke.alternate===null&&(Ke.flags|=2),Ke}function Pe(Ke,Be,Ye,xt){return Be===null||Be.tag!==6?(Be=IE(Ye,Ke.mode,xt),Be.return=Ke,Be):(Be=H(Be,Ye),Be.return=Ke,Be)}function je(Ke,Be,Ye,xt){var jt=Ye.type;return jt===D?dt(Ke,Be,Ye.props.children,xt,Ye.key):Be!==null&&(Be.elementType===jt||typeof jt=="object"&&jt!==null&&jt.$$typeof===X&&PR(jt)===Be.type)?(xt=H(Be,Ye.props),xt.ref=wg(Ke,Be,Ye),xt.return=Ke,xt):(xt=nx(Ye.type,Ye.key,Ye.props,null,Ke.mode,xt),xt.ref=wg(Ke,Be,Ye),xt.return=Ke,xt)}function Ze(Ke,Be,Ye,xt){return Be===null||Be.tag!==4||Be.stateNode.containerInfo!==Ye.containerInfo||Be.stateNode.implementation!==Ye.implementation?(Be=kE(Ye,Ke.mode,xt),Be.return=Ke,Be):(Be=H(Be,Ye.children||[]),Be.return=Ke,Be)}function dt(Ke,Be,Ye,xt,jt){return Be===null||Be.tag!==7?(Be=Id(Ye,Ke.mode,xt,jt),Be.return=Ke,Be):(Be=H(Be,Ye),Be.return=Ke,Be)}function mt(Ke,Be,Ye){if(typeof Be=="string"&&Be!==""||typeof Be=="number")return Be=IE(""+Be,Ke.mode,Ye),Be.return=Ke,Be;if(typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case S:return Ye=nx(Be.type,Be.key,Be.props,null,Ke.mode,Ye),Ye.ref=wg(Ke,null,Be),Ye.return=Ke,Ye;case R:return Be=kE(Be,Ke.mode,Ye),Be.return=Ke,Be;case X:var xt=Be._init;return mt(Ke,xt(Be._payload),Ye)}if(he(Be)||z(Be))return Be=Id(Be,Ke.mode,Ye,null),Be.return=Ke,Be;R1(Ke,Be)}return null}function ct(Ke,Be,Ye,xt){var jt=Be!==null?Be.key:null;if(typeof Ye=="string"&&Ye!==""||typeof Ye=="number")return jt!==null?null:Pe(Ke,Be,""+Ye,xt);if(typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case S:return Ye.key===jt?je(Ke,Be,Ye,xt):null;case R:return Ye.key===jt?Ze(Ke,Be,Ye,xt):null;case X:return jt=Ye._init,ct(Ke,Be,jt(Ye._payload),xt)}if(he(Ye)||z(Ye))return jt!==null?null:dt(Ke,Be,Ye,xt,null);R1(Ke,Ye)}return null}function At(Ke,Be,Ye,xt,jt){if(typeof xt=="string"&&xt!==""||typeof xt=="number")return Ke=Ke.get(Ye)||null,Pe(Be,Ke,""+xt,jt);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case S:return Ke=Ke.get(xt.key===null?Ye:xt.key)||null,je(Be,Ke,xt,jt);case R:return Ke=Ke.get(xt.key===null?Ye:xt.key)||null,Ze(Be,Ke,xt,jt);case X:var Wt=xt._init;return At(Ke,Be,Ye,Wt(xt._payload),jt)}if(he(xt)||z(xt))return Ke=Ke.get(Ye)||null,dt(Be,Ke,xt,jt,null);R1(Be,xt)}return null}function Pt(Ke,Be,Ye,xt){for(var jt=null,Wt=null,qt=Be,Zt=Be=0,Di=null;qt!==null&&Zt<Ye.length;Zt++){qt.index>Zt?(Di=qt,qt=null):Di=qt.sibling;var An=ct(Ke,qt,Ye[Zt],xt);if(An===null){qt===null&&(qt=Di);break}m&&qt&&An.alternate===null&&x(Ke,qt),Be=te(An,Be,Zt),Wt===null?jt=An:Wt.sibling=An,Wt=An,qt=Di}if(Zt===Ye.length)return A(Ke,qt),br&&wd(Ke,Zt),jt;if(qt===null){for(;Zt<Ye.length;Zt++)qt=mt(Ke,Ye[Zt],xt),qt!==null&&(Be=te(qt,Be,Zt),Wt===null?jt=qt:Wt.sibling=qt,Wt=qt);return br&&wd(Ke,Zt),jt}for(qt=L(Ke,qt);Zt<Ye.length;Zt++)Di=At(qt,Ke,Zt,Ye[Zt],xt),Di!==null&&(m&&Di.alternate!==null&&qt.delete(Di.key===null?Zt:Di.key),Be=te(Di,Be,Zt),Wt===null?jt=Di:Wt.sibling=Di,Wt=Di);return m&&qt.forEach(function(eu){return x(Ke,eu)}),br&&wd(Ke,Zt),jt}function Ot(Ke,Be,Ye,xt){var jt=z(Ye);if(typeof jt!="function")throw Error(n(150));if(Ye=jt.call(Ye),Ye==null)throw Error(n(151));for(var Wt=jt=null,qt=Be,Zt=Be=0,Di=null,An=Ye.next();qt!==null&&!An.done;Zt++,An=Ye.next()){qt.index>Zt?(Di=qt,qt=null):Di=qt.sibling;var eu=ct(Ke,qt,An.value,xt);if(eu===null){qt===null&&(qt=Di);break}m&&qt&&eu.alternate===null&&x(Ke,qt),Be=te(eu,Be,Zt),Wt===null?jt=eu:Wt.sibling=eu,Wt=eu,qt=Di}if(An.done)return A(Ke,qt),br&&wd(Ke,Zt),jt;if(qt===null){for(;!An.done;Zt++,An=Ye.next())An=mt(Ke,An.value,xt),An!==null&&(Be=te(An,Be,Zt),Wt===null?jt=An:Wt.sibling=An,Wt=An);return br&&wd(Ke,Zt),jt}for(qt=L(Ke,qt);!An.done;Zt++,An=Ye.next())An=At(qt,Ke,Zt,An.value,xt),An!==null&&(m&&An.alternate!==null&&qt.delete(An.key===null?Zt:An.key),Be=te(An,Be,Zt),Wt===null?jt=An:Wt.sibling=An,Wt=An);return m&&qt.forEach(function(cZ){return x(Ke,cZ)}),br&&wd(Ke,Zt),jt}function Jr(Ke,Be,Ye,xt){if(typeof Ye=="object"&&Ye!==null&&Ye.type===D&&Ye.key===null&&(Ye=Ye.props.children),typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case S:e:{for(var jt=Ye.key,Wt=Be;Wt!==null;){if(Wt.key===jt){if(jt=Ye.type,jt===D){if(Wt.tag===7){A(Ke,Wt.sibling),Be=H(Wt,Ye.props.children),Be.return=Ke,Ke=Be;break e}}else if(Wt.elementType===jt||typeof jt=="object"&&jt!==null&&jt.$$typeof===X&&PR(jt)===Wt.type){A(Ke,Wt.sibling),Be=H(Wt,Ye.props),Be.ref=wg(Ke,Wt,Ye),Be.return=Ke,Ke=Be;break e}A(Ke,Wt);break}else x(Ke,Wt);Wt=Wt.sibling}Ye.type===D?(Be=Id(Ye.props.children,Ke.mode,xt,Ye.key),Be.return=Ke,Ke=Be):(xt=nx(Ye.type,Ye.key,Ye.props,null,Ke.mode,xt),xt.ref=wg(Ke,Be,Ye),xt.return=Ke,Ke=xt)}return ve(Ke);case R:e:{for(Wt=Ye.key;Be!==null;){if(Be.key===Wt)if(Be.tag===4&&Be.stateNode.containerInfo===Ye.containerInfo&&Be.stateNode.implementation===Ye.implementation){A(Ke,Be.sibling),Be=H(Be,Ye.children||[]),Be.return=Ke,Ke=Be;break e}else{A(Ke,Be);break}else x(Ke,Be);Be=Be.sibling}Be=kE(Ye,Ke.mode,xt),Be.return=Ke,Ke=Be}return ve(Ke);case X:return Wt=Ye._init,Jr(Ke,Be,Wt(Ye._payload),xt)}if(he(Ye))return Pt(Ke,Be,Ye,xt);if(z(Ye))return Ot(Ke,Be,Ye,xt);R1(Ke,Ye)}return typeof Ye=="string"&&Ye!==""||typeof Ye=="number"?(Ye=""+Ye,Be!==null&&Be.tag===6?(A(Ke,Be.sibling),Be=H(Be,Ye),Be.return=Ke,Ke=Be):(A(Ke,Be),Be=IE(Ye,Ke.mode,xt),Be.return=Ke,Ke=Be),ve(Ke)):A(Ke,Be)}return Jr}var Mh=FR(!0),MR=FR(!1),P1=qc(null),F1=null,Uh=null,BT=null;function VT(){BT=Uh=F1=null}function WT(m){var x=P1.current;dr(P1),m._currentValue=x}function qT(m,x,A){for(;m!==null;){var L=m.alternate;if((m.childLanes&x)!==x?(m.childLanes|=x,L!==null&&(L.childLanes|=x)):L!==null&&(L.childLanes&x)!==x&&(L.childLanes|=x),m===A)break;m=m.return}}function Oh(m,x){F1=m,BT=Uh=null,m=m.dependencies,m!==null&&m.firstContext!==null&&((m.lanes&x)!==0&&($s=!0),m.firstContext=null)}function Ua(m){var x=m._currentValue;if(BT!==m)if(m={context:m,memoizedValue:x,next:null},Uh===null){if(F1===null)throw Error(n(308));Uh=m,F1.dependencies={lanes:0,firstContext:m}}else Uh=Uh.next=m;return x}var Td=null;function $T(m){Td===null?Td=[m]:Td.push(m)}function UR(m,x,A,L){var H=x.interleaved;return H===null?(A.next=A,$T(x)):(A.next=H.next,H.next=A),x.interleaved=A,ql(m,L)}function ql(m,x){m.lanes|=x;var A=m.alternate;for(A!==null&&(A.lanes|=x),A=m,m=m.return;m!==null;)m.childLanes|=x,A=m.alternate,A!==null&&(A.childLanes|=x),A=m,m=m.return;return A.tag===3?A.stateNode:null}var Hc=!1;function zT(m){m.updateQueue={baseState:m.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function OR(m,x){m=m.updateQueue,x.updateQueue===m&&(x.updateQueue={baseState:m.baseState,firstBaseUpdate:m.firstBaseUpdate,lastBaseUpdate:m.lastBaseUpdate,shared:m.shared,effects:m.effects})}function $l(m,x){return{eventTime:m,lane:x,tag:0,payload:null,callback:null,next:null}}function Gc(m,x,A){var L=m.updateQueue;if(L===null)return null;if(L=L.shared,(En&2)!==0){var H=L.pending;return H===null?x.next=x:(x.next=H.next,H.next=x),L.pending=x,ql(m,A)}return H=L.interleaved,H===null?(x.next=x,$T(L)):(x.next=H.next,H.next=x),L.interleaved=x,ql(m,A)}function M1(m,x,A){if(x=x.updateQueue,x!==null&&(x=x.shared,(A&4194240)!==0)){var L=x.lanes;L&=m.pendingLanes,A|=L,x.lanes=A,Uc(m,A)}}function LR(m,x){var A=m.updateQueue,L=m.alternate;if(L!==null&&(L=L.updateQueue,A===L)){var H=null,te=null;if(A=A.firstBaseUpdate,A!==null){do{var ve={eventTime:A.eventTime,lane:A.lane,tag:A.tag,payload:A.payload,callback:A.callback,next:null};te===null?H=te=ve:te=te.next=ve,A=A.next}while(A!==null);te===null?H=te=x:te=te.next=x}else H=te=x;A={baseState:L.baseState,firstBaseUpdate:H,lastBaseUpdate:te,shared:L.shared,effects:L.effects},m.updateQueue=A;return}m=A.lastBaseUpdate,m===null?A.firstBaseUpdate=x:m.next=x,A.lastBaseUpdate=x}function U1(m,x,A,L){var H=m.updateQueue;Hc=!1;var te=H.firstBaseUpdate,ve=H.lastBaseUpdate,Pe=H.shared.pending;if(Pe!==null){H.shared.pending=null;var je=Pe,Ze=je.next;je.next=null,ve===null?te=Ze:ve.next=Ze,ve=je;var dt=m.alternate;dt!==null&&(dt=dt.updateQueue,Pe=dt.lastBaseUpdate,Pe!==ve&&(Pe===null?dt.firstBaseUpdate=Ze:Pe.next=Ze,dt.lastBaseUpdate=je))}if(te!==null){var mt=H.baseState;ve=0,dt=Ze=je=null,Pe=te;do{var ct=Pe.lane,At=Pe.eventTime;if((L&ct)===ct){dt!==null&&(dt=dt.next={eventTime:At,lane:0,tag:Pe.tag,payload:Pe.payload,callback:Pe.callback,next:null});e:{var Pt=m,Ot=Pe;switch(ct=x,At=A,Ot.tag){case 1:if(Pt=Ot.payload,typeof Pt=="function"){mt=Pt.call(At,mt,ct);break e}mt=Pt;break e;case 3:Pt.flags=Pt.flags&-65537|128;case 0:if(Pt=Ot.payload,ct=typeof Pt=="function"?Pt.call(At,mt,ct):Pt,ct==null)break e;mt=Q({},mt,ct);break e;case 2:Hc=!0}}Pe.callback!==null&&Pe.lane!==0&&(m.flags|=64,ct=H.effects,ct===null?H.effects=[Pe]:ct.push(Pe))}else At={eventTime:At,lane:ct,tag:Pe.tag,payload:Pe.payload,callback:Pe.callback,next:null},dt===null?(Ze=dt=At,je=mt):dt=dt.next=At,ve|=ct;if(Pe=Pe.next,Pe===null){if(Pe=H.shared.pending,Pe===null)break;ct=Pe,Pe=ct.next,ct.next=null,H.lastBaseUpdate=ct,H.shared.pending=null}}while(!0);if(dt===null&&(je=mt),H.baseState=je,H.firstBaseUpdate=Ze,H.lastBaseUpdate=dt,x=H.shared.interleaved,x!==null){H=x;do ve|=H.lane,H=H.next;while(H!==x)}else te===null&&(H.shared.lanes=0);Sd|=ve,m.lanes=ve,m.memoizedState=mt}}function jR(m,x,A){if(m=x.effects,x.effects=null,m!==null)for(x=0;x<m.length;x++){var L=m[x],H=L.callback;if(H!==null){if(L.callback=null,L=A,typeof H!="function")throw Error(n(191,H));H.call(L)}}}var Tg={},Qo=qc(Tg),Eg=qc(Tg),Cg=qc(Tg);function Ed(m){if(m===Tg)throw Error(n(174));return m}function HT(m,x){switch(nr(Cg,x),nr(Eg,m),nr(Qo,Tg),m=x.nodeType,m){case 9:case 11:x=(x=x.documentElement)?x.namespaceURI:Ue(null,"");break;default:m=m===8?x.parentNode:x,x=m.namespaceURI||null,m=m.tagName,x=Ue(x,m)}dr(Qo),nr(Qo,x)}function Lh(){dr(Qo),dr(Eg),dr(Cg)}function BR(m){Ed(Cg.current);var x=Ed(Qo.current),A=Ue(x,m.type);x!==A&&(nr(Eg,m),nr(Qo,A))}function GT(m){Eg.current===m&&(dr(Qo),dr(Eg))}var Ir=qc(0);function O1(m){for(var x=m;x!==null;){if(x.tag===13){var A=x.memoizedState;if(A!==null&&(A=A.dehydrated,A===null||A.data==="$?"||A.data==="$!"))return x}else if(x.tag===19&&x.memoizedProps.revealOrder!==void 0){if((x.flags&128)!==0)return x}else if(x.child!==null){x.child.return=x,x=x.child;continue}if(x===m)break;for(;x.sibling===null;){if(x.return===null||x.return===m)return null;x=x.return}x.sibling.return=x.return,x=x.sibling}return null}var KT=[];function XT(){for(var m=0;m<KT.length;m++)KT[m]._workInProgressVersionPrimary=null;KT.length=0}var L1=C.ReactCurrentDispatcher,JT=C.ReactCurrentBatchConfig,Cd=0,kr=null,pi=null,Ci=null,j1=!1,Sg=!1,Dg=0,kQ=0;function Zi(){throw Error(n(321))}function YT(m,x){if(x===null)return!1;for(var A=0;A<x.length&&A<m.length;A++)if(!yo(m[A],x[A]))return!1;return!0}function QT(m,x,A,L,H,te){if(Cd=te,kr=x,x.memoizedState=null,x.updateQueue=null,x.lanes=0,L1.current=m===null||m.memoizedState===null?MQ:UQ,m=A(L,H),Sg){te=0;do{if(Sg=!1,Dg=0,25<=te)throw Error(n(301));te+=1,Ci=pi=null,x.updateQueue=null,L1.current=OQ,m=A(L,H)}while(Sg)}if(L1.current=W1,x=pi!==null&&pi.next!==null,Cd=0,Ci=pi=kr=null,j1=!1,x)throw Error(n(300));return m}function ZT(){var m=Dg!==0;return Dg=0,m}function Zo(){var m={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ci===null?kr.memoizedState=Ci=m:Ci=Ci.next=m,Ci}function Oa(){if(pi===null){var m=kr.alternate;m=m!==null?m.memoizedState:null}else m=pi.next;var x=Ci===null?kr.memoizedState:Ci.next;if(x!==null)Ci=x,pi=m;else{if(m===null)throw Error(n(310));pi=m,m={memoizedState:pi.memoizedState,baseState:pi.baseState,baseQueue:pi.baseQueue,queue:pi.queue,next:null},Ci===null?kr.memoizedState=Ci=m:Ci=Ci.next=m}return Ci}function Ag(m,x){return typeof x=="function"?x(m):x}function eE(m){var x=Oa(),A=x.queue;if(A===null)throw Error(n(311));A.lastRenderedReducer=m;var L=pi,H=L.baseQueue,te=A.pending;if(te!==null){if(H!==null){var ve=H.next;H.next=te.next,te.next=ve}L.baseQueue=H=te,A.pending=null}if(H!==null){te=H.next,L=L.baseState;var Pe=ve=null,je=null,Ze=te;do{var dt=Ze.lane;if((Cd&dt)===dt)je!==null&&(je=je.next={lane:0,action:Ze.action,hasEagerState:Ze.hasEagerState,eagerState:Ze.eagerState,next:null}),L=Ze.hasEagerState?Ze.eagerState:m(L,Ze.action);else{var mt={lane:dt,action:Ze.action,hasEagerState:Ze.hasEagerState,eagerState:Ze.eagerState,next:null};je===null?(Pe=je=mt,ve=L):je=je.next=mt,kr.lanes|=dt,Sd|=dt}Ze=Ze.next}while(Ze!==null&&Ze!==te);je===null?ve=L:je.next=Pe,yo(L,x.memoizedState)||($s=!0),x.memoizedState=L,x.baseState=ve,x.baseQueue=je,A.lastRenderedState=L}if(m=A.interleaved,m!==null){H=m;do te=H.lane,kr.lanes|=te,Sd|=te,H=H.next;while(H!==m)}else H===null&&(A.lanes=0);return[x.memoizedState,A.dispatch]}function tE(m){var x=Oa(),A=x.queue;if(A===null)throw Error(n(311));A.lastRenderedReducer=m;var L=A.dispatch,H=A.pending,te=x.memoizedState;if(H!==null){A.pending=null;var ve=H=H.next;do te=m(te,ve.action),ve=ve.next;while(ve!==H);yo(te,x.memoizedState)||($s=!0),x.memoizedState=te,x.baseQueue===null&&(x.baseState=te),A.lastRenderedState=te}return[te,L]}function VR(){}function WR(m,x){var A=kr,L=Oa(),H=x(),te=!yo(L.memoizedState,H);if(te&&(L.memoizedState=H,$s=!0),L=L.queue,nE(zR.bind(null,A,L,m),[m]),L.getSnapshot!==x||te||Ci!==null&&Ci.memoizedState.tag&1){if(A.flags|=2048,Ng(9,$R.bind(null,A,L,H,x),void 0,null),Si===null)throw Error(n(349));(Cd&30)!==0||qR(A,x,H)}return H}function qR(m,x,A){m.flags|=16384,m={getSnapshot:x,value:A},x=kr.updateQueue,x===null?(x={lastEffect:null,stores:null},kr.updateQueue=x,x.stores=[m]):(A=x.stores,A===null?x.stores=[m]:A.push(m))}function $R(m,x,A,L){x.value=A,x.getSnapshot=L,HR(x)&&GR(m)}function zR(m,x,A){return A(function(){HR(x)&&GR(m)})}function HR(m){var x=m.getSnapshot;m=m.value;try{var A=x();return!yo(m,A)}catch{return!0}}function GR(m){var x=ql(m,1);x!==null&&wo(x,m,1,-1)}function KR(m){var x=Zo();return typeof m=="function"&&(m=m()),x.memoizedState=x.baseState=m,m={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ag,lastRenderedState:m},x.queue=m,m=m.dispatch=FQ.bind(null,kr,m),[x.memoizedState,m]}function Ng(m,x,A,L){return m={tag:m,create:x,destroy:A,deps:L,next:null},x=kr.updateQueue,x===null?(x={lastEffect:null,stores:null},kr.updateQueue=x,x.lastEffect=m.next=m):(A=x.lastEffect,A===null?x.lastEffect=m.next=m:(L=A.next,A.next=m,m.next=L,x.lastEffect=m)),m}function XR(){return Oa().memoizedState}function B1(m,x,A,L){var H=Zo();kr.flags|=m,H.memoizedState=Ng(1|x,A,void 0,L===void 0?null:L)}function V1(m,x,A,L){var H=Oa();L=L===void 0?null:L;var te=void 0;if(pi!==null){var ve=pi.memoizedState;if(te=ve.destroy,L!==null&&YT(L,ve.deps)){H.memoizedState=Ng(x,A,te,L);return}}kr.flags|=m,H.memoizedState=Ng(1|x,A,te,L)}function JR(m,x){return B1(8390656,8,m,x)}function nE(m,x){return V1(2048,8,m,x)}function YR(m,x){return V1(4,2,m,x)}function QR(m,x){return V1(4,4,m,x)}function ZR(m,x){if(typeof x=="function")return m=m(),x(m),function(){x(null)};if(x!=null)return m=m(),x.current=m,function(){x.current=null}}function e5(m,x,A){return A=A!=null?A.concat([m]):null,V1(4,4,ZR.bind(null,x,m),A)}function rE(){}function t5(m,x){var A=Oa();x=x===void 0?null:x;var L=A.memoizedState;return L!==null&&x!==null&&YT(x,L[1])?L[0]:(A.memoizedState=[m,x],m)}function n5(m,x){var A=Oa();x=x===void 0?null:x;var L=A.memoizedState;return L!==null&&x!==null&&YT(x,L[1])?L[0]:(m=m(),A.memoizedState=[m,x],m)}function r5(m,x,A){return(Cd&21)===0?(m.baseState&&(m.baseState=!1,$s=!0),m.memoizedState=A):(yo(A,x)||(A=pd(),kr.lanes|=A,Sd|=A,m.baseState=!0),x)}function RQ(m,x){var A=xn;xn=A!==0&&4>A?A:4,m(!0);var L=JT.transition;JT.transition={};try{m(!1),x()}finally{xn=A,JT.transition=L}}function i5(){return Oa().memoizedState}function PQ(m,x,A){var L=Yc(m);if(A={lane:L,action:A,hasEagerState:!1,eagerState:null,next:null},s5(m))a5(x,A);else if(A=UR(m,x,A,L),A!==null){var H=Ss();wo(A,m,L,H),o5(A,x,L)}}function FQ(m,x,A){var L=Yc(m),H={lane:L,action:A,hasEagerState:!1,eagerState:null,next:null};if(s5(m))a5(x,H);else{var te=m.alternate;if(m.lanes===0&&(te===null||te.lanes===0)&&(te=x.lastRenderedReducer,te!==null))try{var ve=x.lastRenderedState,Pe=te(ve,A);if(H.hasEagerState=!0,H.eagerState=Pe,yo(Pe,ve)){var je=x.interleaved;je===null?(H.next=H,$T(x)):(H.next=je.next,je.next=H),x.interleaved=H;return}}catch{}finally{}A=UR(m,x,H,L),A!==null&&(H=Ss(),wo(A,m,L,H),o5(A,x,L))}}function s5(m){var x=m.alternate;return m===kr||x!==null&&x===kr}function a5(m,x){Sg=j1=!0;var A=m.pending;A===null?x.next=x:(x.next=A.next,A.next=x),m.pending=x}function o5(m,x,A){if((A&4194240)!==0){var L=x.lanes;L&=m.pendingLanes,A|=L,x.lanes=A,Uc(m,A)}}var W1={readContext:Ua,useCallback:Zi,useContext:Zi,useEffect:Zi,useImperativeHandle:Zi,useInsertionEffect:Zi,useLayoutEffect:Zi,useMemo:Zi,useReducer:Zi,useRef:Zi,useState:Zi,useDebugValue:Zi,useDeferredValue:Zi,useTransition:Zi,useMutableSource:Zi,useSyncExternalStore:Zi,useId:Zi,unstable_isNewReconciler:!1},MQ={readContext:Ua,useCallback:function(m,x){return Zo().memoizedState=[m,x===void 0?null:x],m},useContext:Ua,useEffect:JR,useImperativeHandle:function(m,x,A){return A=A!=null?A.concat([m]):null,B1(4194308,4,ZR.bind(null,x,m),A)},useLayoutEffect:function(m,x){return B1(4194308,4,m,x)},useInsertionEffect:function(m,x){return B1(4,2,m,x)},useMemo:function(m,x){var A=Zo();return x=x===void 0?null:x,m=m(),A.memoizedState=[m,x],m},useReducer:function(m,x,A){var L=Zo();return x=A!==void 0?A(x):x,L.memoizedState=L.baseState=x,m={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:m,lastRenderedState:x},L.queue=m,m=m.dispatch=PQ.bind(null,kr,m),[L.memoizedState,m]},useRef:function(m){var x=Zo();return m={current:m},x.memoizedState=m},useState:KR,useDebugValue:rE,useDeferredValue:function(m){return Zo().memoizedState=m},useTransition:function(){var m=KR(!1),x=m[0];return m=RQ.bind(null,m[1]),Zo().memoizedState=m,[x,m]},useMutableSource:function(){},useSyncExternalStore:function(m,x,A){var L=kr,H=Zo();if(br){if(A===void 0)throw Error(n(407));A=A()}else{if(A=x(),Si===null)throw Error(n(349));(Cd&30)!==0||qR(L,x,A)}H.memoizedState=A;var te={value:A,getSnapshot:x};return H.queue=te,JR(zR.bind(null,L,te,m),[m]),L.flags|=2048,Ng(9,$R.bind(null,L,te,A,x),void 0,null),A},useId:function(){var m=Zo(),x=Si.identifierPrefix;if(br){var A=Wl,L=Vl;A=(L&~(1<<32-cr(L)-1)).toString(32)+A,x=":"+x+"R"+A,A=Dg++,0<A&&(x+="H"+A.toString(32)),x+=":"}else A=kQ++,x=":"+x+"r"+A.toString(32)+":";return m.memoizedState=x},unstable_isNewReconciler:!1},UQ={readContext:Ua,useCallback:t5,useContext:Ua,useEffect:nE,useImperativeHandle:e5,useInsertionEffect:YR,useLayoutEffect:QR,useMemo:n5,useReducer:eE,useRef:XR,useState:function(){return eE(Ag)},useDebugValue:rE,useDeferredValue:function(m){var x=Oa();return r5(x,pi.memoizedState,m)},useTransition:function(){var m=eE(Ag)[0],x=Oa().memoizedState;return[m,x]},useMutableSource:VR,useSyncExternalStore:WR,useId:i5,unstable_isNewReconciler:!1},OQ={readContext:Ua,useCallback:t5,useContext:Ua,useEffect:nE,useImperativeHandle:e5,useInsertionEffect:YR,useLayoutEffect:QR,useMemo:n5,useReducer:tE,useRef:XR,useState:function(){return tE(Ag)},useDebugValue:rE,useDeferredValue:function(m){var x=Oa();return pi===null?x.memoizedState=m:r5(x,pi.memoizedState,m)},useTransition:function(){var m=tE(Ag)[0],x=Oa().memoizedState;return[m,x]},useMutableSource:VR,useSyncExternalStore:WR,useId:i5,unstable_isNewReconciler:!1};function xo(m,x){if(m&&m.defaultProps){x=Q({},x),m=m.defaultProps;for(var A in m)x[A]===void 0&&(x[A]=m[A]);return x}return x}function iE(m,x,A,L){x=m.memoizedState,A=A(L,x),A=A==null?x:Q({},x,A),m.memoizedState=A,m.lanes===0&&(m.updateQueue.baseState=A)}var q1={isMounted:function(m){return(m=m._reactInternals)?ke(m)===m:!1},enqueueSetState:function(m,x,A){m=m._reactInternals;var L=Ss(),H=Yc(m),te=$l(L,H);te.payload=x,A!=null&&(te.callback=A),x=Gc(m,te,H),x!==null&&(wo(x,m,H,L),M1(x,m,H))},enqueueReplaceState:function(m,x,A){m=m._reactInternals;var L=Ss(),H=Yc(m),te=$l(L,H);te.tag=1,te.payload=x,A!=null&&(te.callback=A),x=Gc(m,te,H),x!==null&&(wo(x,m,H,L),M1(x,m,H))},enqueueForceUpdate:function(m,x){m=m._reactInternals;var A=Ss(),L=Yc(m),H=$l(A,L);H.tag=2,x!=null&&(H.callback=x),x=Gc(m,H,L),x!==null&&(wo(x,m,L,A),M1(x,m,L))}};function l5(m,x,A,L,H,te,ve){return m=m.stateNode,typeof m.shouldComponentUpdate=="function"?m.shouldComponentUpdate(L,te,ve):x.prototype&&x.prototype.isPureReactComponent?!mg(A,L)||!mg(H,te):!0}function c5(m,x,A){var L=!1,H=$c,te=x.contextType;return typeof te=="object"&&te!==null?te=Ua(te):(H=qs(x)?_d:Qi.current,L=x.contextTypes,te=(L=L!=null)?kh(m,H):$c),x=new x(A,te),m.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=q1,m.stateNode=x,x._reactInternals=m,L&&(m=m.stateNode,m.__reactInternalMemoizedUnmaskedChildContext=H,m.__reactInternalMemoizedMaskedChildContext=te),x}function u5(m,x,A,L){m=x.state,typeof x.componentWillReceiveProps=="function"&&x.componentWillReceiveProps(A,L),typeof x.UNSAFE_componentWillReceiveProps=="function"&&x.UNSAFE_componentWillReceiveProps(A,L),x.state!==m&&q1.enqueueReplaceState(x,x.state,null)}function sE(m,x,A,L){var H=m.stateNode;H.props=A,H.state=m.memoizedState,H.refs={},zT(m);var te=x.contextType;typeof te=="object"&&te!==null?H.context=Ua(te):(te=qs(x)?_d:Qi.current,H.context=kh(m,te)),H.state=m.memoizedState,te=x.getDerivedStateFromProps,typeof te=="function"&&(iE(m,x,te,A),H.state=m.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof H.getSnapshotBeforeUpdate=="function"||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(x=H.state,typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount(),x!==H.state&&q1.enqueueReplaceState(H,H.state,null),U1(m,A,H,L),H.state=m.memoizedState),typeof H.componentDidMount=="function"&&(m.flags|=4194308)}function jh(m,x){try{var A="",L=x;do A+=Y(L),L=L.return;while(L);var H=A}catch(te){H=`
Error generating stack: `+te.message+`
`+te.stack}return{value:m,source:x,stack:H,digest:null}}function aE(m,x,A){return{value:m,source:null,stack:A??null,digest:x??null}}function oE(m,x){try{console.error(x.value)}catch(A){setTimeout(function(){throw A})}}var LQ=typeof WeakMap=="function"?WeakMap:Map;function d5(m,x,A){A=$l(-1,A),A.tag=3,A.payload={element:null};var L=x.value;return A.callback=function(){J1||(J1=!0,wE=L),oE(m,x)},A}function f5(m,x,A){A=$l(-1,A),A.tag=3;var L=m.type.getDerivedStateFromError;if(typeof L=="function"){var H=x.value;A.payload=function(){return L(H)},A.callback=function(){oE(m,x)}}var te=m.stateNode;return te!==null&&typeof te.componentDidCatch=="function"&&(A.callback=function(){oE(m,x),typeof L!="function"&&(Xc===null?Xc=new Set([this]):Xc.add(this));var ve=x.stack;this.componentDidCatch(x.value,{componentStack:ve!==null?ve:""})}),A}function h5(m,x,A){var L=m.pingCache;if(L===null){L=m.pingCache=new LQ;var H=new Set;L.set(x,H)}else H=L.get(x),H===void 0&&(H=new Set,L.set(x,H));H.has(A)||(H.add(A),m=QQ.bind(null,m,x,A),x.then(m,m))}function p5(m){do{var x;if((x=m.tag===13)&&(x=m.memoizedState,x=x!==null?x.dehydrated!==null:!0),x)return m;m=m.return}while(m!==null);return null}function m5(m,x,A,L,H){return(m.mode&1)===0?(m===x?m.flags|=65536:(m.flags|=128,A.flags|=131072,A.flags&=-52805,A.tag===1&&(A.alternate===null?A.tag=17:(x=$l(-1,1),x.tag=2,Gc(A,x,1))),A.lanes|=1),m):(m.flags|=65536,m.lanes=H,m)}var jQ=C.ReactCurrentOwner,$s=!1;function Cs(m,x,A,L){x.child=m===null?MR(x,null,A,L):Mh(x,m.child,A,L)}function g5(m,x,A,L,H){A=A.render;var te=x.ref;return Oh(x,H),L=QT(m,x,A,L,te,H),A=ZT(),m!==null&&!$s?(x.updateQueue=m.updateQueue,x.flags&=-2053,m.lanes&=~H,zl(m,x,H)):(br&&A&&MT(x),x.flags|=1,Cs(m,x,L,H),x.child)}function y5(m,x,A,L,H){if(m===null){var te=A.type;return typeof te=="function"&&!NE(te)&&te.defaultProps===void 0&&A.compare===null&&A.defaultProps===void 0?(x.tag=15,x.type=te,v5(m,x,te,L,H)):(m=nx(A.type,null,L,x,x.mode,H),m.ref=x.ref,m.return=x,x.child=m)}if(te=m.child,(m.lanes&H)===0){var ve=te.memoizedProps;if(A=A.compare,A=A!==null?A:mg,A(ve,L)&&m.ref===x.ref)return zl(m,x,H)}return x.flags|=1,m=Zc(te,L),m.ref=x.ref,m.return=x,x.child=m}function v5(m,x,A,L,H){if(m!==null){var te=m.memoizedProps;if(mg(te,L)&&m.ref===x.ref)if($s=!1,x.pendingProps=L=te,(m.lanes&H)!==0)(m.flags&131072)!==0&&($s=!0);else return x.lanes=m.lanes,zl(m,x,H)}return lE(m,x,A,L,H)}function x5(m,x,A){var L=x.pendingProps,H=L.children,te=m!==null?m.memoizedState:null;if(L.mode==="hidden")if((x.mode&1)===0)x.memoizedState={baseLanes:0,cachePool:null,transitions:null},nr(Vh,ya),ya|=A;else{if((A&1073741824)===0)return m=te!==null?te.baseLanes|A:A,x.lanes=x.childLanes=1073741824,x.memoizedState={baseLanes:m,cachePool:null,transitions:null},x.updateQueue=null,nr(Vh,ya),ya|=m,null;x.memoizedState={baseLanes:0,cachePool:null,transitions:null},L=te!==null?te.baseLanes:A,nr(Vh,ya),ya|=L}else te!==null?(L=te.baseLanes|A,x.memoizedState=null):L=A,nr(Vh,ya),ya|=L;return Cs(m,x,H,A),x.child}function _5(m,x){var A=x.ref;(m===null&&A!==null||m!==null&&m.ref!==A)&&(x.flags|=512,x.flags|=2097152)}function lE(m,x,A,L,H){var te=qs(A)?_d:Qi.current;return te=kh(x,te),Oh(x,H),A=QT(m,x,A,L,te,H),L=ZT(),m!==null&&!$s?(x.updateQueue=m.updateQueue,x.flags&=-2053,m.lanes&=~H,zl(m,x,H)):(br&&L&&MT(x),x.flags|=1,Cs(m,x,A,H),x.child)}function b5(m,x,A,L,H){if(qs(A)){var te=!0;D1(x)}else te=!1;if(Oh(x,H),x.stateNode===null)z1(m,x),c5(x,A,L),sE(x,A,L,H),L=!0;else if(m===null){var ve=x.stateNode,Pe=x.memoizedProps;ve.props=Pe;var je=ve.context,Ze=A.contextType;typeof Ze=="object"&&Ze!==null?Ze=Ua(Ze):(Ze=qs(A)?_d:Qi.current,Ze=kh(x,Ze));var dt=A.getDerivedStateFromProps,mt=typeof dt=="function"||typeof ve.getSnapshotBeforeUpdate=="function";mt||typeof ve.UNSAFE_componentWillReceiveProps!="function"&&typeof ve.componentWillReceiveProps!="function"||(Pe!==L||je!==Ze)&&u5(x,ve,L,Ze),Hc=!1;var ct=x.memoizedState;ve.state=ct,U1(x,L,ve,H),je=x.memoizedState,Pe!==L||ct!==je||Ws.current||Hc?(typeof dt=="function"&&(iE(x,A,dt,L),je=x.memoizedState),(Pe=Hc||l5(x,A,Pe,L,ct,je,Ze))?(mt||typeof ve.UNSAFE_componentWillMount!="function"&&typeof ve.componentWillMount!="function"||(typeof ve.componentWillMount=="function"&&ve.componentWillMount(),typeof ve.UNSAFE_componentWillMount=="function"&&ve.UNSAFE_componentWillMount()),typeof ve.componentDidMount=="function"&&(x.flags|=4194308)):(typeof ve.componentDidMount=="function"&&(x.flags|=4194308),x.memoizedProps=L,x.memoizedState=je),ve.props=L,ve.state=je,ve.context=Ze,L=Pe):(typeof ve.componentDidMount=="function"&&(x.flags|=4194308),L=!1)}else{ve=x.stateNode,OR(m,x),Pe=x.memoizedProps,Ze=x.type===x.elementType?Pe:xo(x.type,Pe),ve.props=Ze,mt=x.pendingProps,ct=ve.context,je=A.contextType,typeof je=="object"&&je!==null?je=Ua(je):(je=qs(A)?_d:Qi.current,je=kh(x,je));var At=A.getDerivedStateFromProps;(dt=typeof At=="function"||typeof ve.getSnapshotBeforeUpdate=="function")||typeof ve.UNSAFE_componentWillReceiveProps!="function"&&typeof ve.componentWillReceiveProps!="function"||(Pe!==mt||ct!==je)&&u5(x,ve,L,je),Hc=!1,ct=x.memoizedState,ve.state=ct,U1(x,L,ve,H);var Pt=x.memoizedState;Pe!==mt||ct!==Pt||Ws.current||Hc?(typeof At=="function"&&(iE(x,A,At,L),Pt=x.memoizedState),(Ze=Hc||l5(x,A,Ze,L,ct,Pt,je)||!1)?(dt||typeof ve.UNSAFE_componentWillUpdate!="function"&&typeof ve.componentWillUpdate!="function"||(typeof ve.componentWillUpdate=="function"&&ve.componentWillUpdate(L,Pt,je),typeof ve.UNSAFE_componentWillUpdate=="function"&&ve.UNSAFE_componentWillUpdate(L,Pt,je)),typeof ve.componentDidUpdate=="function"&&(x.flags|=4),typeof ve.getSnapshotBeforeUpdate=="function"&&(x.flags|=1024)):(typeof ve.componentDidUpdate!="function"||Pe===m.memoizedProps&&ct===m.memoizedState||(x.flags|=4),typeof ve.getSnapshotBeforeUpdate!="function"||Pe===m.memoizedProps&&ct===m.memoizedState||(x.flags|=1024),x.memoizedProps=L,x.memoizedState=Pt),ve.props=L,ve.state=Pt,ve.context=je,L=Ze):(typeof ve.componentDidUpdate!="function"||Pe===m.memoizedProps&&ct===m.memoizedState||(x.flags|=4),typeof ve.getSnapshotBeforeUpdate!="function"||Pe===m.memoizedProps&&ct===m.memoizedState||(x.flags|=1024),L=!1)}return cE(m,x,A,L,te,H)}function cE(m,x,A,L,H,te){_5(m,x);var ve=(x.flags&128)!==0;if(!L&&!ve)return H&&SR(x,A,!1),zl(m,x,te);L=x.stateNode,jQ.current=x;var Pe=ve&&typeof A.getDerivedStateFromError!="function"?null:L.render();return x.flags|=1,m!==null&&ve?(x.child=Mh(x,m.child,null,te),x.child=Mh(x,null,Pe,te)):Cs(m,x,Pe,te),x.memoizedState=L.state,H&&SR(x,A,!0),x.child}function w5(m){var x=m.stateNode;x.pendingContext?ER(m,x.pendingContext,x.pendingContext!==x.context):x.context&&ER(m,x.context,!1),HT(m,x.containerInfo)}function T5(m,x,A,L,H){return Fh(),jT(H),x.flags|=256,Cs(m,x,A,L),x.child}var uE={dehydrated:null,treeContext:null,retryLane:0};function dE(m){return{baseLanes:m,cachePool:null,transitions:null}}function E5(m,x,A){var L=x.pendingProps,H=Ir.current,te=!1,ve=(x.flags&128)!==0,Pe;if((Pe=ve)||(Pe=m!==null&&m.memoizedState===null?!1:(H&2)!==0),Pe?(te=!0,x.flags&=-129):(m===null||m.memoizedState!==null)&&(H|=1),nr(Ir,H&1),m===null)return LT(x),m=x.memoizedState,m!==null&&(m=m.dehydrated,m!==null)?((x.mode&1)===0?x.lanes=1:m.data==="$!"?x.lanes=8:x.lanes=1073741824,null):(ve=L.children,m=L.fallback,te?(L=x.mode,te=x.child,ve={mode:"hidden",children:ve},(L&1)===0&&te!==null?(te.childLanes=0,te.pendingProps=ve):te=rx(ve,L,0,null),m=Id(m,L,A,null),te.return=x,m.return=x,te.sibling=m,x.child=te,x.child.memoizedState=dE(A),x.memoizedState=uE,m):fE(x,ve));if(H=m.memoizedState,H!==null&&(Pe=H.dehydrated,Pe!==null))return BQ(m,x,ve,L,Pe,H,A);if(te){te=L.fallback,ve=x.mode,H=m.child,Pe=H.sibling;var je={mode:"hidden",children:L.children};return(ve&1)===0&&x.child!==H?(L=x.child,L.childLanes=0,L.pendingProps=je,x.deletions=null):(L=Zc(H,je),L.subtreeFlags=H.subtreeFlags&14680064),Pe!==null?te=Zc(Pe,te):(te=Id(te,ve,A,null),te.flags|=2),te.return=x,L.return=x,L.sibling=te,x.child=L,L=te,te=x.child,ve=m.child.memoizedState,ve=ve===null?dE(A):{baseLanes:ve.baseLanes|A,cachePool:null,transitions:ve.transitions},te.memoizedState=ve,te.childLanes=m.childLanes&~A,x.memoizedState=uE,L}return te=m.child,m=te.sibling,L=Zc(te,{mode:"visible",children:L.children}),(x.mode&1)===0&&(L.lanes=A),L.return=x,L.sibling=null,m!==null&&(A=x.deletions,A===null?(x.deletions=[m],x.flags|=16):A.push(m)),x.child=L,x.memoizedState=null,L}function fE(m,x){return x=rx({mode:"visible",children:x},m.mode,0,null),x.return=m,m.child=x}function $1(m,x,A,L){return L!==null&&jT(L),Mh(x,m.child,null,A),m=fE(x,x.pendingProps.children),m.flags|=2,x.memoizedState=null,m}function BQ(m,x,A,L,H,te,ve){if(A)return x.flags&256?(x.flags&=-257,L=aE(Error(n(422))),$1(m,x,ve,L)):x.memoizedState!==null?(x.child=m.child,x.flags|=128,null):(te=L.fallback,H=x.mode,L=rx({mode:"visible",children:L.children},H,0,null),te=Id(te,H,ve,null),te.flags|=2,L.return=x,te.return=x,L.sibling=te,x.child=L,(x.mode&1)!==0&&Mh(x,m.child,null,ve),x.child.memoizedState=dE(ve),x.memoizedState=uE,te);if((x.mode&1)===0)return $1(m,x,ve,null);if(H.data==="$!"){if(L=H.nextSibling&&H.nextSibling.dataset,L)var Pe=L.dgst;return L=Pe,te=Error(n(419)),L=aE(te,L,void 0),$1(m,x,ve,L)}if(Pe=(ve&m.childLanes)!==0,$s||Pe){if(L=Si,L!==null){switch(ve&-ve){case 4:H=2;break;case 16:H=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:H=32;break;case 536870912:H=268435456;break;default:H=0}H=(H&(L.suspendedLanes|ve))!==0?0:H,H!==0&&H!==te.retryLane&&(te.retryLane=H,ql(m,H),wo(L,m,H,-1))}return AE(),L=aE(Error(n(421))),$1(m,x,ve,L)}return H.data==="$?"?(x.flags|=128,x.child=m.child,x=ZQ.bind(null,m),H._reactRetry=x,null):(m=te.treeContext,ga=Wc(H.nextSibling),ma=x,br=!0,vo=null,m!==null&&(Fa[Ma++]=Vl,Fa[Ma++]=Wl,Fa[Ma++]=bd,Vl=m.id,Wl=m.overflow,bd=x),x=fE(x,L.children),x.flags|=4096,x)}function C5(m,x,A){m.lanes|=x;var L=m.alternate;L!==null&&(L.lanes|=x),qT(m.return,x,A)}function hE(m,x,A,L,H){var te=m.memoizedState;te===null?m.memoizedState={isBackwards:x,rendering:null,renderingStartTime:0,last:L,tail:A,tailMode:H}:(te.isBackwards=x,te.rendering=null,te.renderingStartTime=0,te.last=L,te.tail=A,te.tailMode=H)}function S5(m,x,A){var L=x.pendingProps,H=L.revealOrder,te=L.tail;if(Cs(m,x,L.children,A),L=Ir.current,(L&2)!==0)L=L&1|2,x.flags|=128;else{if(m!==null&&(m.flags&128)!==0)e:for(m=x.child;m!==null;){if(m.tag===13)m.memoizedState!==null&&C5(m,A,x);else if(m.tag===19)C5(m,A,x);else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===x)break e;for(;m.sibling===null;){if(m.return===null||m.return===x)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}L&=1}if(nr(Ir,L),(x.mode&1)===0)x.memoizedState=null;else switch(H){case"forwards":for(A=x.child,H=null;A!==null;)m=A.alternate,m!==null&&O1(m)===null&&(H=A),A=A.sibling;A=H,A===null?(H=x.child,x.child=null):(H=A.sibling,A.sibling=null),hE(x,!1,H,A,te);break;case"backwards":for(A=null,H=x.child,x.child=null;H!==null;){if(m=H.alternate,m!==null&&O1(m)===null){x.child=H;break}m=H.sibling,H.sibling=A,A=H,H=m}hE(x,!0,A,null,te);break;case"together":hE(x,!1,null,null,void 0);break;default:x.memoizedState=null}return x.child}function z1(m,x){(x.mode&1)===0&&m!==null&&(m.alternate=null,x.alternate=null,x.flags|=2)}function zl(m,x,A){if(m!==null&&(x.dependencies=m.dependencies),Sd|=x.lanes,(A&x.childLanes)===0)return null;if(m!==null&&x.child!==m.child)throw Error(n(153));if(x.child!==null){for(m=x.child,A=Zc(m,m.pendingProps),x.child=A,A.return=x;m.sibling!==null;)m=m.sibling,A=A.sibling=Zc(m,m.pendingProps),A.return=x;A.sibling=null}return x.child}function VQ(m,x,A){switch(x.tag){case 3:w5(x),Fh();break;case 5:BR(x);break;case 1:qs(x.type)&&D1(x);break;case 4:HT(x,x.stateNode.containerInfo);break;case 10:var L=x.type._context,H=x.memoizedProps.value;nr(P1,L._currentValue),L._currentValue=H;break;case 13:if(L=x.memoizedState,L!==null)return L.dehydrated!==null?(nr(Ir,Ir.current&1),x.flags|=128,null):(A&x.child.childLanes)!==0?E5(m,x,A):(nr(Ir,Ir.current&1),m=zl(m,x,A),m!==null?m.sibling:null);nr(Ir,Ir.current&1);break;case 19:if(L=(A&x.childLanes)!==0,(m.flags&128)!==0){if(L)return S5(m,x,A);x.flags|=128}if(H=x.memoizedState,H!==null&&(H.rendering=null,H.tail=null,H.lastEffect=null),nr(Ir,Ir.current),L)break;return null;case 22:case 23:return x.lanes=0,x5(m,x,A)}return zl(m,x,A)}var D5,pE,A5,N5;D5=function(m,x){for(var A=x.child;A!==null;){if(A.tag===5||A.tag===6)m.appendChild(A.stateNode);else if(A.tag!==4&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===x)break;for(;A.sibling===null;){if(A.return===null||A.return===x)return;A=A.return}A.sibling.return=A.return,A=A.sibling}},pE=function(){},A5=function(m,x,A,L){var H=m.memoizedProps;if(H!==L){m=x.stateNode,Ed(Qo.current);var te=null;switch(A){case"input":H=V(m,H),L=V(m,L),te=[];break;case"select":H=Q({},H,{value:void 0}),L=Q({},L,{value:void 0}),te=[];break;case"textarea":H=ie(m,H),L=ie(m,L),te=[];break;default:typeof H.onClick!="function"&&typeof L.onClick=="function"&&(m.onclick=E1)}cn(A,L);var ve;A=null;for(Ze in H)if(!L.hasOwnProperty(Ze)&&H.hasOwnProperty(Ze)&&H[Ze]!=null)if(Ze==="style"){var Pe=H[Ze];for(ve in Pe)Pe.hasOwnProperty(ve)&&(A||(A={}),A[ve]="")}else Ze!=="dangerouslySetInnerHTML"&&Ze!=="children"&&Ze!=="suppressContentEditableWarning"&&Ze!=="suppressHydrationWarning"&&Ze!=="autoFocus"&&(i.hasOwnProperty(Ze)?te||(te=[]):(te=te||[]).push(Ze,null));for(Ze in L){var je=L[Ze];if(Pe=H!=null?H[Ze]:void 0,L.hasOwnProperty(Ze)&&je!==Pe&&(je!=null||Pe!=null))if(Ze==="style")if(Pe){for(ve in Pe)!Pe.hasOwnProperty(ve)||je&&je.hasOwnProperty(ve)||(A||(A={}),A[ve]="");for(ve in je)je.hasOwnProperty(ve)&&Pe[ve]!==je[ve]&&(A||(A={}),A[ve]=je[ve])}else A||(te||(te=[]),te.push(Ze,A)),A=je;else Ze==="dangerouslySetInnerHTML"?(je=je?je.__html:void 0,Pe=Pe?Pe.__html:void 0,je!=null&&Pe!==je&&(te=te||[]).push(Ze,je)):Ze==="children"?typeof je!="string"&&typeof je!="number"||(te=te||[]).push(Ze,""+je):Ze!=="suppressContentEditableWarning"&&Ze!=="suppressHydrationWarning"&&(i.hasOwnProperty(Ze)?(je!=null&&Ze==="onScroll"&&ur("scroll",m),te||Pe===je||(te=[])):(te=te||[]).push(Ze,je))}A&&(te=te||[]).push("style",A);var Ze=te;(x.updateQueue=Ze)&&(x.flags|=4)}},N5=function(m,x,A,L){A!==L&&(x.flags|=4)};function Ig(m,x){if(!br)switch(m.tailMode){case"hidden":x=m.tail;for(var A=null;x!==null;)x.alternate!==null&&(A=x),x=x.sibling;A===null?m.tail=null:A.sibling=null;break;case"collapsed":A=m.tail;for(var L=null;A!==null;)A.alternate!==null&&(L=A),A=A.sibling;L===null?x||m.tail===null?m.tail=null:m.tail.sibling=null:L.sibling=null}}function es(m){var x=m.alternate!==null&&m.alternate.child===m.child,A=0,L=0;if(x)for(var H=m.child;H!==null;)A|=H.lanes|H.childLanes,L|=H.subtreeFlags&14680064,L|=H.flags&14680064,H.return=m,H=H.sibling;else for(H=m.child;H!==null;)A|=H.lanes|H.childLanes,L|=H.subtreeFlags,L|=H.flags,H.return=m,H=H.sibling;return m.subtreeFlags|=L,m.childLanes=A,x}function WQ(m,x,A){var L=x.pendingProps;switch(UT(x),x.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return es(x),null;case 1:return qs(x.type)&&S1(),es(x),null;case 3:return L=x.stateNode,Lh(),dr(Ws),dr(Qi),XT(),L.pendingContext&&(L.context=L.pendingContext,L.pendingContext=null),(m===null||m.child===null)&&(k1(x)?x.flags|=4:m===null||m.memoizedState.isDehydrated&&(x.flags&256)===0||(x.flags|=1024,vo!==null&&(CE(vo),vo=null))),pE(m,x),es(x),null;case 5:GT(x);var H=Ed(Cg.current);if(A=x.type,m!==null&&x.stateNode!=null)A5(m,x,A,L,H),m.ref!==x.ref&&(x.flags|=512,x.flags|=2097152);else{if(!L){if(x.stateNode===null)throw Error(n(166));return es(x),null}if(m=Ed(Qo.current),k1(x)){L=x.stateNode,A=x.type;var te=x.memoizedProps;switch(L[Yo]=x,L[_g]=te,m=(x.mode&1)!==0,A){case"dialog":ur("cancel",L),ur("close",L);break;case"iframe":case"object":case"embed":ur("load",L);break;case"video":case"audio":for(H=0;H<yg.length;H++)ur(yg[H],L);break;case"source":ur("error",L);break;case"img":case"image":case"link":ur("error",L),ur("load",L);break;case"details":ur("toggle",L);break;case"input":xe(L,te),ur("invalid",L);break;case"select":L._wrapperState={wasMultiple:!!te.multiple},ur("invalid",L);break;case"textarea":ce(L,te),ur("invalid",L)}cn(A,te),H=null;for(var ve in te)if(te.hasOwnProperty(ve)){var Pe=te[ve];ve==="children"?typeof Pe=="string"?L.textContent!==Pe&&(te.suppressHydrationWarning!==!0&&T1(L.textContent,Pe,m),H=["children",Pe]):typeof Pe=="number"&&L.textContent!==""+Pe&&(te.suppressHydrationWarning!==!0&&T1(L.textContent,Pe,m),H=["children",""+Pe]):i.hasOwnProperty(ve)&&Pe!=null&&ve==="onScroll"&&ur("scroll",L)}switch(A){case"input":Re(L),re(L,te,!0);break;case"textarea":Re(L),ye(L);break;case"select":case"option":break;default:typeof te.onClick=="function"&&(L.onclick=E1)}L=H,x.updateQueue=L,L!==null&&(x.flags|=4)}else{ve=H.nodeType===9?H:H.ownerDocument,m==="http://www.w3.org/1999/xhtml"&&(m=Ne(A)),m==="http://www.w3.org/1999/xhtml"?A==="script"?(m=ve.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild)):typeof L.is=="string"?m=ve.createElement(A,{is:L.is}):(m=ve.createElement(A),A==="select"&&(ve=m,L.multiple?ve.multiple=!0:L.size&&(ve.size=L.size))):m=ve.createElementNS(m,A),m[Yo]=x,m[_g]=L,D5(m,x,!1,!1),x.stateNode=m;e:{switch(ve=Nr(A,L),A){case"dialog":ur("cancel",m),ur("close",m),H=L;break;case"iframe":case"object":case"embed":ur("load",m),H=L;break;case"video":case"audio":for(H=0;H<yg.length;H++)ur(yg[H],m);H=L;break;case"source":ur("error",m),H=L;break;case"img":case"image":case"link":ur("error",m),ur("load",m),H=L;break;case"details":ur("toggle",m),H=L;break;case"input":xe(m,L),H=V(m,L),ur("invalid",m);break;case"option":H=L;break;case"select":m._wrapperState={wasMultiple:!!L.multiple},H=Q({},L,{value:void 0}),ur("invalid",m);break;case"textarea":ce(m,L),H=ie(m,L),ur("invalid",m);break;default:H=L}cn(A,H),Pe=H;for(te in Pe)if(Pe.hasOwnProperty(te)){var je=Pe[te];te==="style"?Lt(m,je):te==="dangerouslySetInnerHTML"?(je=je?je.__html:void 0,je!=null&&Me(m,je)):te==="children"?typeof je=="string"?(A!=="textarea"||je!=="")&&Oe(m,je):typeof je=="number"&&Oe(m,""+je):te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&te!=="autoFocus"&&(i.hasOwnProperty(te)?je!=null&&te==="onScroll"&&ur("scroll",m):je!=null&&w(m,te,je,ve))}switch(A){case"input":Re(m),re(m,L,!1);break;case"textarea":Re(m),ye(m);break;case"option":L.value!=null&&m.setAttribute("value",""+de(L.value));break;case"select":m.multiple=!!L.multiple,te=L.value,te!=null?we(m,!!L.multiple,te,!1):L.defaultValue!=null&&we(m,!!L.multiple,L.defaultValue,!0);break;default:typeof H.onClick=="function"&&(m.onclick=E1)}switch(A){case"button":case"input":case"select":case"textarea":L=!!L.autoFocus;break e;case"img":L=!0;break e;default:L=!1}}L&&(x.flags|=4)}x.ref!==null&&(x.flags|=512,x.flags|=2097152)}return es(x),null;case 6:if(m&&x.stateNode!=null)N5(m,x,m.memoizedProps,L);else{if(typeof L!="string"&&x.stateNode===null)throw Error(n(166));if(A=Ed(Cg.current),Ed(Qo.current),k1(x)){if(L=x.stateNode,A=x.memoizedProps,L[Yo]=x,(te=L.nodeValue!==A)&&(m=ma,m!==null))switch(m.tag){case 3:T1(L.nodeValue,A,(m.mode&1)!==0);break;case 5:m.memoizedProps.suppressHydrationWarning!==!0&&T1(L.nodeValue,A,(m.mode&1)!==0)}te&&(x.flags|=4)}else L=(A.nodeType===9?A:A.ownerDocument).createTextNode(L),L[Yo]=x,x.stateNode=L}return es(x),null;case 13:if(dr(Ir),L=x.memoizedState,m===null||m.memoizedState!==null&&m.memoizedState.dehydrated!==null){if(br&&ga!==null&&(x.mode&1)!==0&&(x.flags&128)===0)RR(),Fh(),x.flags|=98560,te=!1;else if(te=k1(x),L!==null&&L.dehydrated!==null){if(m===null){if(!te)throw Error(n(318));if(te=x.memoizedState,te=te!==null?te.dehydrated:null,!te)throw Error(n(317));te[Yo]=x}else Fh(),(x.flags&128)===0&&(x.memoizedState=null),x.flags|=4;es(x),te=!1}else vo!==null&&(CE(vo),vo=null),te=!0;if(!te)return x.flags&65536?x:null}return(x.flags&128)!==0?(x.lanes=A,x):(L=L!==null,L!==(m!==null&&m.memoizedState!==null)&&L&&(x.child.flags|=8192,(x.mode&1)!==0&&(m===null||(Ir.current&1)!==0?mi===0&&(mi=3):AE())),x.updateQueue!==null&&(x.flags|=4),es(x),null);case 4:return Lh(),pE(m,x),m===null&&vg(x.stateNode.containerInfo),es(x),null;case 10:return WT(x.type._context),es(x),null;case 17:return qs(x.type)&&S1(),es(x),null;case 19:if(dr(Ir),te=x.memoizedState,te===null)return es(x),null;if(L=(x.flags&128)!==0,ve=te.rendering,ve===null)if(L)Ig(te,!1);else{if(mi!==0||m!==null&&(m.flags&128)!==0)for(m=x.child;m!==null;){if(ve=O1(m),ve!==null){for(x.flags|=128,Ig(te,!1),L=ve.updateQueue,L!==null&&(x.updateQueue=L,x.flags|=4),x.subtreeFlags=0,L=A,A=x.child;A!==null;)te=A,m=L,te.flags&=14680066,ve=te.alternate,ve===null?(te.childLanes=0,te.lanes=m,te.child=null,te.subtreeFlags=0,te.memoizedProps=null,te.memoizedState=null,te.updateQueue=null,te.dependencies=null,te.stateNode=null):(te.childLanes=ve.childLanes,te.lanes=ve.lanes,te.child=ve.child,te.subtreeFlags=0,te.deletions=null,te.memoizedProps=ve.memoizedProps,te.memoizedState=ve.memoizedState,te.updateQueue=ve.updateQueue,te.type=ve.type,m=ve.dependencies,te.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext}),A=A.sibling;return nr(Ir,Ir.current&1|2),x.child}m=m.sibling}te.tail!==null&&ht()>Wh&&(x.flags|=128,L=!0,Ig(te,!1),x.lanes=4194304)}else{if(!L)if(m=O1(ve),m!==null){if(x.flags|=128,L=!0,A=m.updateQueue,A!==null&&(x.updateQueue=A,x.flags|=4),Ig(te,!0),te.tail===null&&te.tailMode==="hidden"&&!ve.alternate&&!br)return es(x),null}else 2*ht()-te.renderingStartTime>Wh&&A!==1073741824&&(x.flags|=128,L=!0,Ig(te,!1),x.lanes=4194304);te.isBackwards?(ve.sibling=x.child,x.child=ve):(A=te.last,A!==null?A.sibling=ve:x.child=ve,te.last=ve)}return te.tail!==null?(x=te.tail,te.rendering=x,te.tail=x.sibling,te.renderingStartTime=ht(),x.sibling=null,A=Ir.current,nr(Ir,L?A&1|2:A&1),x):(es(x),null);case 22:case 23:return DE(),L=x.memoizedState!==null,m!==null&&m.memoizedState!==null!==L&&(x.flags|=8192),L&&(x.mode&1)!==0?(ya&1073741824)!==0&&(es(x),x.subtreeFlags&6&&(x.flags|=8192)):es(x),null;case 24:return null;case 25:return null}throw Error(n(156,x.tag))}function qQ(m,x){switch(UT(x),x.tag){case 1:return qs(x.type)&&S1(),m=x.flags,m&65536?(x.flags=m&-65537|128,x):null;case 3:return Lh(),dr(Ws),dr(Qi),XT(),m=x.flags,(m&65536)!==0&&(m&128)===0?(x.flags=m&-65537|128,x):null;case 5:return GT(x),null;case 13:if(dr(Ir),m=x.memoizedState,m!==null&&m.dehydrated!==null){if(x.alternate===null)throw Error(n(340));Fh()}return m=x.flags,m&65536?(x.flags=m&-65537|128,x):null;case 19:return dr(Ir),null;case 4:return Lh(),null;case 10:return WT(x.type._context),null;case 22:case 23:return DE(),null;case 24:return null;default:return null}}var H1=!1,ts=!1,$Q=typeof WeakSet=="function"?WeakSet:Set,kt=null;function Bh(m,x){var A=m.ref;if(A!==null)if(typeof A=="function")try{A(null)}catch(L){Lr(m,x,L)}else A.current=null}function mE(m,x,A){try{A()}catch(L){Lr(m,x,L)}}var I5=!1;function zQ(m,x){if(DT=jc,m=lR(),xT(m)){if("selectionStart"in m)var A={start:m.selectionStart,end:m.selectionEnd};else e:{A=(A=m.ownerDocument)&&A.defaultView||window;var L=A.getSelection&&A.getSelection();if(L&&L.rangeCount!==0){A=L.anchorNode;var H=L.anchorOffset,te=L.focusNode;L=L.focusOffset;try{A.nodeType,te.nodeType}catch{A=null;break e}var ve=0,Pe=-1,je=-1,Ze=0,dt=0,mt=m,ct=null;t:for(;;){for(var At;mt!==A||H!==0&&mt.nodeType!==3||(Pe=ve+H),mt!==te||L!==0&&mt.nodeType!==3||(je=ve+L),mt.nodeType===3&&(ve+=mt.nodeValue.length),(At=mt.firstChild)!==null;)ct=mt,mt=At;for(;;){if(mt===m)break t;if(ct===A&&++Ze===H&&(Pe=ve),ct===te&&++dt===L&&(je=ve),(At=mt.nextSibling)!==null)break;mt=ct,ct=mt.parentNode}mt=At}A=Pe===-1||je===-1?null:{start:Pe,end:je}}else A=null}A=A||{start:0,end:0}}else A=null;for(AT={focusedElem:m,selectionRange:A},jc=!1,kt=x;kt!==null;)if(x=kt,m=x.child,(x.subtreeFlags&1028)!==0&&m!==null)m.return=x,kt=m;else for(;kt!==null;){x=kt;try{var Pt=x.alternate;if((x.flags&1024)!==0)switch(x.tag){case 0:case 11:case 15:break;case 1:if(Pt!==null){var Ot=Pt.memoizedProps,Jr=Pt.memoizedState,Ke=x.stateNode,Be=Ke.getSnapshotBeforeUpdate(x.elementType===x.type?Ot:xo(x.type,Ot),Jr);Ke.__reactInternalSnapshotBeforeUpdate=Be}break;case 3:var Ye=x.stateNode.containerInfo;Ye.nodeType===1?Ye.textContent="":Ye.nodeType===9&&Ye.documentElement&&Ye.removeChild(Ye.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(xt){Lr(x,x.return,xt)}if(m=x.sibling,m!==null){m.return=x.return,kt=m;break}kt=x.return}return Pt=I5,I5=!1,Pt}function kg(m,x,A){var L=x.updateQueue;if(L=L!==null?L.lastEffect:null,L!==null){var H=L=L.next;do{if((H.tag&m)===m){var te=H.destroy;H.destroy=void 0,te!==void 0&&mE(x,A,te)}H=H.next}while(H!==L)}}function G1(m,x){if(x=x.updateQueue,x=x!==null?x.lastEffect:null,x!==null){var A=x=x.next;do{if((A.tag&m)===m){var L=A.create;A.destroy=L()}A=A.next}while(A!==x)}}function gE(m){var x=m.ref;if(x!==null){var A=m.stateNode;switch(m.tag){case 5:m=A;break;default:m=A}typeof x=="function"?x(m):x.current=m}}function k5(m){var x=m.alternate;x!==null&&(m.alternate=null,k5(x)),m.child=null,m.deletions=null,m.sibling=null,m.tag===5&&(x=m.stateNode,x!==null&&(delete x[Yo],delete x[_g],delete x[RT],delete x[DQ],delete x[AQ])),m.stateNode=null,m.return=null,m.dependencies=null,m.memoizedProps=null,m.memoizedState=null,m.pendingProps=null,m.stateNode=null,m.updateQueue=null}function R5(m){return m.tag===5||m.tag===3||m.tag===4}function P5(m){e:for(;;){for(;m.sibling===null;){if(m.return===null||R5(m.return))return null;m=m.return}for(m.sibling.return=m.return,m=m.sibling;m.tag!==5&&m.tag!==6&&m.tag!==18;){if(m.flags&2||m.child===null||m.tag===4)continue e;m.child.return=m,m=m.child}if(!(m.flags&2))return m.stateNode}}function yE(m,x,A){var L=m.tag;if(L===5||L===6)m=m.stateNode,x?A.nodeType===8?A.parentNode.insertBefore(m,x):A.insertBefore(m,x):(A.nodeType===8?(x=A.parentNode,x.insertBefore(m,A)):(x=A,x.appendChild(m)),A=A._reactRootContainer,A!=null||x.onclick!==null||(x.onclick=E1));else if(L!==4&&(m=m.child,m!==null))for(yE(m,x,A),m=m.sibling;m!==null;)yE(m,x,A),m=m.sibling}function vE(m,x,A){var L=m.tag;if(L===5||L===6)m=m.stateNode,x?A.insertBefore(m,x):A.appendChild(m);else if(L!==4&&(m=m.child,m!==null))for(vE(m,x,A),m=m.sibling;m!==null;)vE(m,x,A),m=m.sibling}var Wi=null,_o=!1;function Kc(m,x,A){for(A=A.child;A!==null;)F5(m,x,A),A=A.sibling}function F5(m,x,A){if(Xr&&typeof Xr.onCommitFiberUnmount=="function")try{Xr.onCommitFiberUnmount(da,A)}catch{}switch(A.tag){case 5:ts||Bh(A,x);case 6:var L=Wi,H=_o;Wi=null,Kc(m,x,A),Wi=L,_o=H,Wi!==null&&(_o?(m=Wi,A=A.stateNode,m.nodeType===8?m.parentNode.removeChild(A):m.removeChild(A)):Wi.removeChild(A.stateNode));break;case 18:Wi!==null&&(_o?(m=Wi,A=A.stateNode,m.nodeType===8?kT(m.parentNode,A):m.nodeType===1&&kT(m,A),mo(m)):kT(Wi,A.stateNode));break;case 4:L=Wi,H=_o,Wi=A.stateNode.containerInfo,_o=!0,Kc(m,x,A),Wi=L,_o=H;break;case 0:case 11:case 14:case 15:if(!ts&&(L=A.updateQueue,L!==null&&(L=L.lastEffect,L!==null))){H=L=L.next;do{var te=H,ve=te.destroy;te=te.tag,ve!==void 0&&((te&2)!==0||(te&4)!==0)&&mE(A,x,ve),H=H.next}while(H!==L)}Kc(m,x,A);break;case 1:if(!ts&&(Bh(A,x),L=A.stateNode,typeof L.componentWillUnmount=="function"))try{L.props=A.memoizedProps,L.state=A.memoizedState,L.componentWillUnmount()}catch(Pe){Lr(A,x,Pe)}Kc(m,x,A);break;case 21:Kc(m,x,A);break;case 22:A.mode&1?(ts=(L=ts)||A.memoizedState!==null,Kc(m,x,A),ts=L):Kc(m,x,A);break;default:Kc(m,x,A)}}function M5(m){var x=m.updateQueue;if(x!==null){m.updateQueue=null;var A=m.stateNode;A===null&&(A=m.stateNode=new $Q),x.forEach(function(L){var H=eZ.bind(null,m,L);A.has(L)||(A.add(L),L.then(H,H))})}}function bo(m,x){var A=x.deletions;if(A!==null)for(var L=0;L<A.length;L++){var H=A[L];try{var te=m,ve=x,Pe=ve;e:for(;Pe!==null;){switch(Pe.tag){case 5:Wi=Pe.stateNode,_o=!1;break e;case 3:Wi=Pe.stateNode.containerInfo,_o=!0;break e;case 4:Wi=Pe.stateNode.containerInfo,_o=!0;break e}Pe=Pe.return}if(Wi===null)throw Error(n(160));F5(te,ve,H),Wi=null,_o=!1;var je=H.alternate;je!==null&&(je.return=null),H.return=null}catch(Ze){Lr(H,x,Ze)}}if(x.subtreeFlags&12854)for(x=x.child;x!==null;)U5(x,m),x=x.sibling}function U5(m,x){var A=m.alternate,L=m.flags;switch(m.tag){case 0:case 11:case 14:case 15:if(bo(x,m),el(m),L&4){try{kg(3,m,m.return),G1(3,m)}catch(Ot){Lr(m,m.return,Ot)}try{kg(5,m,m.return)}catch(Ot){Lr(m,m.return,Ot)}}break;case 1:bo(x,m),el(m),L&512&&A!==null&&Bh(A,A.return);break;case 5:if(bo(x,m),el(m),L&512&&A!==null&&Bh(A,A.return),m.flags&32){var H=m.stateNode;try{Oe(H,"")}catch(Ot){Lr(m,m.return,Ot)}}if(L&4&&(H=m.stateNode,H!=null)){var te=m.memoizedProps,ve=A!==null?A.memoizedProps:te,Pe=m.type,je=m.updateQueue;if(m.updateQueue=null,je!==null)try{Pe==="input"&&te.type==="radio"&&te.name!=null&&Te(H,te),Nr(Pe,ve);var Ze=Nr(Pe,te);for(ve=0;ve<je.length;ve+=2){var dt=je[ve],mt=je[ve+1];dt==="style"?Lt(H,mt):dt==="dangerouslySetInnerHTML"?Me(H,mt):dt==="children"?Oe(H,mt):w(H,dt,mt,Ze)}switch(Pe){case"input":le(H,te);break;case"textarea":ge(H,te);break;case"select":var ct=H._wrapperState.wasMultiple;H._wrapperState.wasMultiple=!!te.multiple;var At=te.value;At!=null?we(H,!!te.multiple,At,!1):ct!==!!te.multiple&&(te.defaultValue!=null?we(H,!!te.multiple,te.defaultValue,!0):we(H,!!te.multiple,te.multiple?[]:"",!1))}H[_g]=te}catch(Ot){Lr(m,m.return,Ot)}}break;case 6:if(bo(x,m),el(m),L&4){if(m.stateNode===null)throw Error(n(162));H=m.stateNode,te=m.memoizedProps;try{H.nodeValue=te}catch(Ot){Lr(m,m.return,Ot)}}break;case 3:if(bo(x,m),el(m),L&4&&A!==null&&A.memoizedState.isDehydrated)try{mo(x.containerInfo)}catch(Ot){Lr(m,m.return,Ot)}break;case 4:bo(x,m),el(m);break;case 13:bo(x,m),el(m),H=m.child,H.flags&8192&&(te=H.memoizedState!==null,H.stateNode.isHidden=te,!te||H.alternate!==null&&H.alternate.memoizedState!==null||(bE=ht())),L&4&&M5(m);break;case 22:if(dt=A!==null&&A.memoizedState!==null,m.mode&1?(ts=(Ze=ts)||dt,bo(x,m),ts=Ze):bo(x,m),el(m),L&8192){if(Ze=m.memoizedState!==null,(m.stateNode.isHidden=Ze)&&!dt&&(m.mode&1)!==0)for(kt=m,dt=m.child;dt!==null;){for(mt=kt=dt;kt!==null;){switch(ct=kt,At=ct.child,ct.tag){case 0:case 11:case 14:case 15:kg(4,ct,ct.return);break;case 1:Bh(ct,ct.return);var Pt=ct.stateNode;if(typeof Pt.componentWillUnmount=="function"){L=ct,A=ct.return;try{x=L,Pt.props=x.memoizedProps,Pt.state=x.memoizedState,Pt.componentWillUnmount()}catch(Ot){Lr(L,A,Ot)}}break;case 5:Bh(ct,ct.return);break;case 22:if(ct.memoizedState!==null){j5(mt);continue}}At!==null?(At.return=ct,kt=At):j5(mt)}dt=dt.sibling}e:for(dt=null,mt=m;;){if(mt.tag===5){if(dt===null){dt=mt;try{H=mt.stateNode,Ze?(te=H.style,typeof te.setProperty=="function"?te.setProperty("display","none","important"):te.display="none"):(Pe=mt.stateNode,je=mt.memoizedProps.style,ve=je!=null&&je.hasOwnProperty("display")?je.display:null,Pe.style.display=it("display",ve))}catch(Ot){Lr(m,m.return,Ot)}}}else if(mt.tag===6){if(dt===null)try{mt.stateNode.nodeValue=Ze?"":mt.memoizedProps}catch(Ot){Lr(m,m.return,Ot)}}else if((mt.tag!==22&&mt.tag!==23||mt.memoizedState===null||mt===m)&&mt.child!==null){mt.child.return=mt,mt=mt.child;continue}if(mt===m)break e;for(;mt.sibling===null;){if(mt.return===null||mt.return===m)break e;dt===mt&&(dt=null),mt=mt.return}dt===mt&&(dt=null),mt.sibling.return=mt.return,mt=mt.sibling}}break;case 19:bo(x,m),el(m),L&4&&M5(m);break;case 21:break;default:bo(x,m),el(m)}}function el(m){var x=m.flags;if(x&2){try{e:{for(var A=m.return;A!==null;){if(R5(A)){var L=A;break e}A=A.return}throw Error(n(160))}switch(L.tag){case 5:var H=L.stateNode;L.flags&32&&(Oe(H,""),L.flags&=-33);var te=P5(m);vE(m,te,H);break;case 3:case 4:var ve=L.stateNode.containerInfo,Pe=P5(m);yE(m,Pe,ve);break;default:throw Error(n(161))}}catch(je){Lr(m,m.return,je)}m.flags&=-3}x&4096&&(m.flags&=-4097)}function HQ(m,x,A){kt=m,O5(m)}function O5(m,x,A){for(var L=(m.mode&1)!==0;kt!==null;){var H=kt,te=H.child;if(H.tag===22&&L){var ve=H.memoizedState!==null||H1;if(!ve){var Pe=H.alternate,je=Pe!==null&&Pe.memoizedState!==null||ts;Pe=H1;var Ze=ts;if(H1=ve,(ts=je)&&!Ze)for(kt=H;kt!==null;)ve=kt,je=ve.child,ve.tag===22&&ve.memoizedState!==null?B5(H):je!==null?(je.return=ve,kt=je):B5(H);for(;te!==null;)kt=te,O5(te),te=te.sibling;kt=H,H1=Pe,ts=Ze}L5(m)}else(H.subtreeFlags&8772)!==0&&te!==null?(te.return=H,kt=te):L5(m)}}function L5(m){for(;kt!==null;){var x=kt;if((x.flags&8772)!==0){var A=x.alternate;try{if((x.flags&8772)!==0)switch(x.tag){case 0:case 11:case 15:ts||G1(5,x);break;case 1:var L=x.stateNode;if(x.flags&4&&!ts)if(A===null)L.componentDidMount();else{var H=x.elementType===x.type?A.memoizedProps:xo(x.type,A.memoizedProps);L.componentDidUpdate(H,A.memoizedState,L.__reactInternalSnapshotBeforeUpdate)}var te=x.updateQueue;te!==null&&jR(x,te,L);break;case 3:var ve=x.updateQueue;if(ve!==null){if(A=null,x.child!==null)switch(x.child.tag){case 5:A=x.child.stateNode;break;case 1:A=x.child.stateNode}jR(x,ve,A)}break;case 5:var Pe=x.stateNode;if(A===null&&x.flags&4){A=Pe;var je=x.memoizedProps;switch(x.type){case"button":case"input":case"select":case"textarea":je.autoFocus&&A.focus();break;case"img":je.src&&(A.src=je.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(x.memoizedState===null){var Ze=x.alternate;if(Ze!==null){var dt=Ze.memoizedState;if(dt!==null){var mt=dt.dehydrated;mt!==null&&mo(mt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}ts||x.flags&512&&gE(x)}catch(ct){Lr(x,x.return,ct)}}if(x===m){kt=null;break}if(A=x.sibling,A!==null){A.return=x.return,kt=A;break}kt=x.return}}function j5(m){for(;kt!==null;){var x=kt;if(x===m){kt=null;break}var A=x.sibling;if(A!==null){A.return=x.return,kt=A;break}kt=x.return}}function B5(m){for(;kt!==null;){var x=kt;try{switch(x.tag){case 0:case 11:case 15:var A=x.return;try{G1(4,x)}catch(je){Lr(x,A,je)}break;case 1:var L=x.stateNode;if(typeof L.componentDidMount=="function"){var H=x.return;try{L.componentDidMount()}catch(je){Lr(x,H,je)}}var te=x.return;try{gE(x)}catch(je){Lr(x,te,je)}break;case 5:var ve=x.return;try{gE(x)}catch(je){Lr(x,ve,je)}}}catch(je){Lr(x,x.return,je)}if(x===m){kt=null;break}var Pe=x.sibling;if(Pe!==null){Pe.return=x.return,kt=Pe;break}kt=x.return}}var GQ=Math.ceil,K1=C.ReactCurrentDispatcher,xE=C.ReactCurrentOwner,La=C.ReactCurrentBatchConfig,En=0,Si=null,ai=null,qi=0,ya=0,Vh=qc(0),mi=0,Rg=null,Sd=0,X1=0,_E=0,Pg=null,zs=null,bE=0,Wh=1/0,Hl=null,J1=!1,wE=null,Xc=null,Y1=!1,Jc=null,Q1=0,Fg=0,TE=null,Z1=-1,ex=0;function Ss(){return(En&6)!==0?ht():Z1!==-1?Z1:Z1=ht()}function Yc(m){return(m.mode&1)===0?1:(En&2)!==0&&qi!==0?qi&-qi:IQ.transition!==null?(ex===0&&(ex=pd()),ex):(m=xn,m!==0||(m=window.event,m=m===void 0?16:lg(m.type)),m)}function wo(m,x,A,L){if(50<Fg)throw Fg=0,TE=null,Error(n(185));Mc(m,A,L),((En&2)===0||m!==Si)&&(m===Si&&((En&2)===0&&(X1|=A),mi===4&&Qc(m,qi)),Hs(m,L),A===1&&En===0&&(x.mode&1)===0&&(Wh=ht()+500,A1&&zc()))}function Hs(m,x){var A=m.callbackNode;Fl(m,x);var L=hd(m,m===Si?qi:0);if(L===0)A!==null&&gt(A),m.callbackNode=null,m.callbackPriority=0;else if(x=L&-L,m.callbackPriority!==x){if(A!=null&&gt(A),x===1)m.tag===0?NQ(W5.bind(null,m)):DR(W5.bind(null,m)),CQ(function(){(En&6)===0&&zc()}),A=null;else{switch(Oc(L)){case 1:A=Fn;break;case 4:A=Dn;break;case 16:A=jn;break;case 536870912:A=zo;break;default:A=jn}A=J5(A,V5.bind(null,m))}m.callbackPriority=x,m.callbackNode=A}}function V5(m,x){if(Z1=-1,ex=0,(En&6)!==0)throw Error(n(327));var A=m.callbackNode;if(qh()&&m.callbackNode!==A)return null;var L=hd(m,m===Si?qi:0);if(L===0)return null;if((L&30)!==0||(L&m.expiredLanes)!==0||x)x=tx(m,L);else{x=L;var H=En;En|=2;var te=$5();(Si!==m||qi!==x)&&(Hl=null,Wh=ht()+500,Ad(m,x));do try{JQ();break}catch(Pe){q5(m,Pe)}while(!0);VT(),K1.current=te,En=H,ai!==null?x=0:(Si=null,qi=0,x=mi)}if(x!==0){if(x===2&&(H=fa(m),H!==0&&(L=H,x=EE(m,H))),x===1)throw A=Rg,Ad(m,0),Qc(m,L),Hs(m,ht()),A;if(x===6)Qc(m,L);else{if(H=m.current.alternate,(L&30)===0&&!KQ(H)&&(x=tx(m,L),x===2&&(te=fa(m),te!==0&&(L=te,x=EE(m,te))),x===1))throw A=Rg,Ad(m,0),Qc(m,L),Hs(m,ht()),A;switch(m.finishedWork=H,m.finishedLanes=L,x){case 0:case 1:throw Error(n(345));case 2:Nd(m,zs,Hl);break;case 3:if(Qc(m,L),(L&130023424)===L&&(x=bE+500-ht(),10<x)){if(hd(m,0)!==0)break;if(H=m.suspendedLanes,(H&L)!==L){Ss(),m.pingedLanes|=m.suspendedLanes&H;break}m.timeoutHandle=IT(Nd.bind(null,m,zs,Hl),x);break}Nd(m,zs,Hl);break;case 4:if(Qc(m,L),(L&4194240)===L)break;for(x=m.eventTimes,H=-1;0<L;){var ve=31-cr(L);te=1<<ve,ve=x[ve],ve>H&&(H=ve),L&=~te}if(L=H,L=ht()-L,L=(120>L?120:480>L?480:1080>L?1080:1920>L?1920:3e3>L?3e3:4320>L?4320:1960*GQ(L/1960))-L,10<L){m.timeoutHandle=IT(Nd.bind(null,m,zs,Hl),L);break}Nd(m,zs,Hl);break;case 5:Nd(m,zs,Hl);break;default:throw Error(n(329))}}}return Hs(m,ht()),m.callbackNode===A?V5.bind(null,m):null}function EE(m,x){var A=Pg;return m.current.memoizedState.isDehydrated&&(Ad(m,x).flags|=256),m=tx(m,x),m!==2&&(x=zs,zs=A,x!==null&&CE(x)),m}function CE(m){zs===null?zs=m:zs.push.apply(zs,m)}function KQ(m){for(var x=m;;){if(x.flags&16384){var A=x.updateQueue;if(A!==null&&(A=A.stores,A!==null))for(var L=0;L<A.length;L++){var H=A[L],te=H.getSnapshot;H=H.value;try{if(!yo(te(),H))return!1}catch{return!1}}}if(A=x.child,x.subtreeFlags&16384&&A!==null)A.return=x,x=A;else{if(x===m)break;for(;x.sibling===null;){if(x.return===null||x.return===m)return!0;x=x.return}x.sibling.return=x.return,x=x.sibling}}return!0}function Qc(m,x){for(x&=~_E,x&=~X1,m.suspendedLanes|=x,m.pingedLanes&=~x,m=m.expirationTimes;0<x;){var A=31-cr(x),L=1<<A;m[A]=-1,x&=~L}}function W5(m){if((En&6)!==0)throw Error(n(327));qh();var x=hd(m,0);if((x&1)===0)return Hs(m,ht()),null;var A=tx(m,x);if(m.tag!==0&&A===2){var L=fa(m);L!==0&&(x=L,A=EE(m,L))}if(A===1)throw A=Rg,Ad(m,0),Qc(m,x),Hs(m,ht()),A;if(A===6)throw Error(n(345));return m.finishedWork=m.current.alternate,m.finishedLanes=x,Nd(m,zs,Hl),Hs(m,ht()),null}function SE(m,x){var A=En;En|=1;try{return m(x)}finally{En=A,En===0&&(Wh=ht()+500,A1&&zc())}}function Dd(m){Jc!==null&&Jc.tag===0&&(En&6)===0&&qh();var x=En;En|=1;var A=La.transition,L=xn;try{if(La.transition=null,xn=1,m)return m()}finally{xn=L,La.transition=A,En=x,(En&6)===0&&zc()}}function DE(){ya=Vh.current,dr(Vh)}function Ad(m,x){m.finishedWork=null,m.finishedLanes=0;var A=m.timeoutHandle;if(A!==-1&&(m.timeoutHandle=-1,EQ(A)),ai!==null)for(A=ai.return;A!==null;){var L=A;switch(UT(L),L.tag){case 1:L=L.type.childContextTypes,L!=null&&S1();break;case 3:Lh(),dr(Ws),dr(Qi),XT();break;case 5:GT(L);break;case 4:Lh();break;case 13:dr(Ir);break;case 19:dr(Ir);break;case 10:WT(L.type._context);break;case 22:case 23:DE()}A=A.return}if(Si=m,ai=m=Zc(m.current,null),qi=ya=x,mi=0,Rg=null,_E=X1=Sd=0,zs=Pg=null,Td!==null){for(x=0;x<Td.length;x++)if(A=Td[x],L=A.interleaved,L!==null){A.interleaved=null;var H=L.next,te=A.pending;if(te!==null){var ve=te.next;te.next=H,L.next=ve}A.pending=L}Td=null}return m}function q5(m,x){do{var A=ai;try{if(VT(),L1.current=W1,j1){for(var L=kr.memoizedState;L!==null;){var H=L.queue;H!==null&&(H.pending=null),L=L.next}j1=!1}if(Cd=0,Ci=pi=kr=null,Sg=!1,Dg=0,xE.current=null,A===null||A.return===null){mi=1,Rg=x,ai=null;break}e:{var te=m,ve=A.return,Pe=A,je=x;if(x=qi,Pe.flags|=32768,je!==null&&typeof je=="object"&&typeof je.then=="function"){var Ze=je,dt=Pe,mt=dt.tag;if((dt.mode&1)===0&&(mt===0||mt===11||mt===15)){var ct=dt.alternate;ct?(dt.updateQueue=ct.updateQueue,dt.memoizedState=ct.memoizedState,dt.lanes=ct.lanes):(dt.updateQueue=null,dt.memoizedState=null)}var At=p5(ve);if(At!==null){At.flags&=-257,m5(At,ve,Pe,te,x),At.mode&1&&h5(te,Ze,x),x=At,je=Ze;var Pt=x.updateQueue;if(Pt===null){var Ot=new Set;Ot.add(je),x.updateQueue=Ot}else Pt.add(je);break e}else{if((x&1)===0){h5(te,Ze,x),AE();break e}je=Error(n(426))}}else if(br&&Pe.mode&1){var Jr=p5(ve);if(Jr!==null){(Jr.flags&65536)===0&&(Jr.flags|=256),m5(Jr,ve,Pe,te,x),jT(jh(je,Pe));break e}}te=je=jh(je,Pe),mi!==4&&(mi=2),Pg===null?Pg=[te]:Pg.push(te),te=ve;do{switch(te.tag){case 3:te.flags|=65536,x&=-x,te.lanes|=x;var Ke=d5(te,je,x);LR(te,Ke);break e;case 1:Pe=je;var Be=te.type,Ye=te.stateNode;if((te.flags&128)===0&&(typeof Be.getDerivedStateFromError=="function"||Ye!==null&&typeof Ye.componentDidCatch=="function"&&(Xc===null||!Xc.has(Ye)))){te.flags|=65536,x&=-x,te.lanes|=x;var xt=f5(te,Pe,x);LR(te,xt);break e}}te=te.return}while(te!==null)}H5(A)}catch(jt){x=jt,ai===A&&A!==null&&(ai=A=A.return);continue}break}while(!0)}function $5(){var m=K1.current;return K1.current=W1,m===null?W1:m}function AE(){(mi===0||mi===3||mi===2)&&(mi=4),Si===null||(Sd&268435455)===0&&(X1&268435455)===0||Qc(Si,qi)}function tx(m,x){var A=En;En|=2;var L=$5();(Si!==m||qi!==x)&&(Hl=null,Ad(m,x));do try{XQ();break}catch(H){q5(m,H)}while(!0);if(VT(),En=A,K1.current=L,ai!==null)throw Error(n(261));return Si=null,qi=0,mi}function XQ(){for(;ai!==null;)z5(ai)}function JQ(){for(;ai!==null&&!St();)z5(ai)}function z5(m){var x=X5(m.alternate,m,ya);m.memoizedProps=m.pendingProps,x===null?H5(m):ai=x,xE.current=null}function H5(m){var x=m;do{var A=x.alternate;if(m=x.return,(x.flags&32768)===0){if(A=WQ(A,x,ya),A!==null){ai=A;return}}else{if(A=qQ(A,x),A!==null){A.flags&=32767,ai=A;return}if(m!==null)m.flags|=32768,m.subtreeFlags=0,m.deletions=null;else{mi=6,ai=null;return}}if(x=x.sibling,x!==null){ai=x;return}ai=x=m}while(x!==null);mi===0&&(mi=5)}function Nd(m,x,A){var L=xn,H=La.transition;try{La.transition=null,xn=1,YQ(m,x,A,L)}finally{La.transition=H,xn=L}return null}function YQ(m,x,A,L){do qh();while(Jc!==null);if((En&6)!==0)throw Error(n(327));A=m.finishedWork;var H=m.finishedLanes;if(A===null)return null;if(m.finishedWork=null,m.finishedLanes=0,A===m.current)throw Error(n(177));m.callbackNode=null,m.callbackPriority=0;var te=A.lanes|A.childLanes;if(er(m,te),m===Si&&(ai=Si=null,qi=0),(A.subtreeFlags&2064)===0&&(A.flags&2064)===0||Y1||(Y1=!0,J5(jn,function(){return qh(),null})),te=(A.flags&15990)!==0,(A.subtreeFlags&15990)!==0||te){te=La.transition,La.transition=null;var ve=xn;xn=1;var Pe=En;En|=4,xE.current=null,zQ(m,A),U5(A,m),yQ(AT),jc=!!DT,AT=DT=null,m.current=A,HQ(A),yt(),En=Pe,xn=ve,La.transition=te}else m.current=A;if(Y1&&(Y1=!1,Jc=m,Q1=H),te=m.pendingLanes,te===0&&(Xc=null),Rc(A.stateNode),Hs(m,ht()),x!==null)for(L=m.onRecoverableError,A=0;A<x.length;A++)H=x[A],L(H.value,{componentStack:H.stack,digest:H.digest});if(J1)throw J1=!1,m=wE,wE=null,m;return(Q1&1)!==0&&m.tag!==0&&qh(),te=m.pendingLanes,(te&1)!==0?m===TE?Fg++:(Fg=0,TE=m):Fg=0,zc(),null}function qh(){if(Jc!==null){var m=Oc(Q1),x=La.transition,A=xn;try{if(La.transition=null,xn=16>m?16:m,Jc===null)var L=!1;else{if(m=Jc,Jc=null,Q1=0,(En&6)!==0)throw Error(n(331));var H=En;for(En|=4,kt=m.current;kt!==null;){var te=kt,ve=te.child;if((kt.flags&16)!==0){var Pe=te.deletions;if(Pe!==null){for(var je=0;je<Pe.length;je++){var Ze=Pe[je];for(kt=Ze;kt!==null;){var dt=kt;switch(dt.tag){case 0:case 11:case 15:kg(8,dt,te)}var mt=dt.child;if(mt!==null)mt.return=dt,kt=mt;else for(;kt!==null;){dt=kt;var ct=dt.sibling,At=dt.return;if(k5(dt),dt===Ze){kt=null;break}if(ct!==null){ct.return=At,kt=ct;break}kt=At}}}var Pt=te.alternate;if(Pt!==null){var Ot=Pt.child;if(Ot!==null){Pt.child=null;do{var Jr=Ot.sibling;Ot.sibling=null,Ot=Jr}while(Ot!==null)}}kt=te}}if((te.subtreeFlags&2064)!==0&&ve!==null)ve.return=te,kt=ve;else e:for(;kt!==null;){if(te=kt,(te.flags&2048)!==0)switch(te.tag){case 0:case 11:case 15:kg(9,te,te.return)}var Ke=te.sibling;if(Ke!==null){Ke.return=te.return,kt=Ke;break e}kt=te.return}}var Be=m.current;for(kt=Be;kt!==null;){ve=kt;var Ye=ve.child;if((ve.subtreeFlags&2064)!==0&&Ye!==null)Ye.return=ve,kt=Ye;else e:for(ve=Be;kt!==null;){if(Pe=kt,(Pe.flags&2048)!==0)try{switch(Pe.tag){case 0:case 11:case 15:G1(9,Pe)}}catch(jt){Lr(Pe,Pe.return,jt)}if(Pe===ve){kt=null;break e}var xt=Pe.sibling;if(xt!==null){xt.return=Pe.return,kt=xt;break e}kt=Pe.return}}if(En=H,zc(),Xr&&typeof Xr.onPostCommitFiberRoot=="function")try{Xr.onPostCommitFiberRoot(da,m)}catch{}L=!0}return L}finally{xn=A,La.transition=x}}return!1}function G5(m,x,A){x=jh(A,x),x=d5(m,x,1),m=Gc(m,x,1),x=Ss(),m!==null&&(Mc(m,1,x),Hs(m,x))}function Lr(m,x,A){if(m.tag===3)G5(m,m,A);else for(;x!==null;){if(x.tag===3){G5(x,m,A);break}else if(x.tag===1){var L=x.stateNode;if(typeof x.type.getDerivedStateFromError=="function"||typeof L.componentDidCatch=="function"&&(Xc===null||!Xc.has(L))){m=jh(A,m),m=f5(x,m,1),x=Gc(x,m,1),m=Ss(),x!==null&&(Mc(x,1,m),Hs(x,m));break}}x=x.return}}function QQ(m,x,A){var L=m.pingCache;L!==null&&L.delete(x),x=Ss(),m.pingedLanes|=m.suspendedLanes&A,Si===m&&(qi&A)===A&&(mi===4||mi===3&&(qi&130023424)===qi&&500>ht()-bE?Ad(m,0):_E|=A),Hs(m,x)}function K5(m,x){x===0&&((m.mode&1)===0?x=1:(x=fh,fh<<=1,(fh&130023424)===0&&(fh=4194304)));var A=Ss();m=ql(m,x),m!==null&&(Mc(m,x,A),Hs(m,A))}function ZQ(m){var x=m.memoizedState,A=0;x!==null&&(A=x.retryLane),K5(m,A)}function eZ(m,x){var A=0;switch(m.tag){case 13:var L=m.stateNode,H=m.memoizedState;H!==null&&(A=H.retryLane);break;case 19:L=m.stateNode;break;default:throw Error(n(314))}L!==null&&L.delete(x),K5(m,A)}var X5;X5=function(m,x,A){if(m!==null)if(m.memoizedProps!==x.pendingProps||Ws.current)$s=!0;else{if((m.lanes&A)===0&&(x.flags&128)===0)return $s=!1,VQ(m,x,A);$s=(m.flags&131072)!==0}else $s=!1,br&&(x.flags&1048576)!==0&&AR(x,I1,x.index);switch(x.lanes=0,x.tag){case 2:var L=x.type;z1(m,x),m=x.pendingProps;var H=kh(x,Qi.current);Oh(x,A),H=QT(null,x,L,m,H,A);var te=ZT();return x.flags|=1,typeof H=="object"&&H!==null&&typeof H.render=="function"&&H.$$typeof===void 0?(x.tag=1,x.memoizedState=null,x.updateQueue=null,qs(L)?(te=!0,D1(x)):te=!1,x.memoizedState=H.state!==null&&H.state!==void 0?H.state:null,zT(x),H.updater=q1,x.stateNode=H,H._reactInternals=x,sE(x,L,m,A),x=cE(null,x,L,!0,te,A)):(x.tag=0,br&&te&&MT(x),Cs(null,x,H,A),x=x.child),x;case 16:L=x.elementType;e:{switch(z1(m,x),m=x.pendingProps,H=L._init,L=H(L._payload),x.type=L,H=x.tag=nZ(L),m=xo(L,m),H){case 0:x=lE(null,x,L,m,A);break e;case 1:x=b5(null,x,L,m,A);break e;case 11:x=g5(null,x,L,m,A);break e;case 14:x=y5(null,x,L,xo(L.type,m),A);break e}throw Error(n(306,L,""))}return x;case 0:return L=x.type,H=x.pendingProps,H=x.elementType===L?H:xo(L,H),lE(m,x,L,H,A);case 1:return L=x.type,H=x.pendingProps,H=x.elementType===L?H:xo(L,H),b5(m,x,L,H,A);case 3:e:{if(w5(x),m===null)throw Error(n(387));L=x.pendingProps,te=x.memoizedState,H=te.element,OR(m,x),U1(x,L,null,A);var ve=x.memoizedState;if(L=ve.element,te.isDehydrated)if(te={element:L,isDehydrated:!1,cache:ve.cache,pendingSuspenseBoundaries:ve.pendingSuspenseBoundaries,transitions:ve.transitions},x.updateQueue.baseState=te,x.memoizedState=te,x.flags&256){H=jh(Error(n(423)),x),x=T5(m,x,L,A,H);break e}else if(L!==H){H=jh(Error(n(424)),x),x=T5(m,x,L,A,H);break e}else for(ga=Wc(x.stateNode.containerInfo.firstChild),ma=x,br=!0,vo=null,A=MR(x,null,L,A),x.child=A;A;)A.flags=A.flags&-3|4096,A=A.sibling;else{if(Fh(),L===H){x=zl(m,x,A);break e}Cs(m,x,L,A)}x=x.child}return x;case 5:return BR(x),m===null&&LT(x),L=x.type,H=x.pendingProps,te=m!==null?m.memoizedProps:null,ve=H.children,NT(L,H)?ve=null:te!==null&&NT(L,te)&&(x.flags|=32),_5(m,x),Cs(m,x,ve,A),x.child;case 6:return m===null&&LT(x),null;case 13:return E5(m,x,A);case 4:return HT(x,x.stateNode.containerInfo),L=x.pendingProps,m===null?x.child=Mh(x,null,L,A):Cs(m,x,L,A),x.child;case 11:return L=x.type,H=x.pendingProps,H=x.elementType===L?H:xo(L,H),g5(m,x,L,H,A);case 7:return Cs(m,x,x.pendingProps,A),x.child;case 8:return Cs(m,x,x.pendingProps.children,A),x.child;case 12:return Cs(m,x,x.pendingProps.children,A),x.child;case 10:e:{if(L=x.type._context,H=x.pendingProps,te=x.memoizedProps,ve=H.value,nr(P1,L._currentValue),L._currentValue=ve,te!==null)if(yo(te.value,ve)){if(te.children===H.children&&!Ws.current){x=zl(m,x,A);break e}}else for(te=x.child,te!==null&&(te.return=x);te!==null;){var Pe=te.dependencies;if(Pe!==null){ve=te.child;for(var je=Pe.firstContext;je!==null;){if(je.context===L){if(te.tag===1){je=$l(-1,A&-A),je.tag=2;var Ze=te.updateQueue;if(Ze!==null){Ze=Ze.shared;var dt=Ze.pending;dt===null?je.next=je:(je.next=dt.next,dt.next=je),Ze.pending=je}}te.lanes|=A,je=te.alternate,je!==null&&(je.lanes|=A),qT(te.return,A,x),Pe.lanes|=A;break}je=je.next}}else if(te.tag===10)ve=te.type===x.type?null:te.child;else if(te.tag===18){if(ve=te.return,ve===null)throw Error(n(341));ve.lanes|=A,Pe=ve.alternate,Pe!==null&&(Pe.lanes|=A),qT(ve,A,x),ve=te.sibling}else ve=te.child;if(ve!==null)ve.return=te;else for(ve=te;ve!==null;){if(ve===x){ve=null;break}if(te=ve.sibling,te!==null){te.return=ve.return,ve=te;break}ve=ve.return}te=ve}Cs(m,x,H.children,A),x=x.child}return x;case 9:return H=x.type,L=x.pendingProps.children,Oh(x,A),H=Ua(H),L=L(H),x.flags|=1,Cs(m,x,L,A),x.child;case 14:return L=x.type,H=xo(L,x.pendingProps),H=xo(L.type,H),y5(m,x,L,H,A);case 15:return v5(m,x,x.type,x.pendingProps,A);case 17:return L=x.type,H=x.pendingProps,H=x.elementType===L?H:xo(L,H),z1(m,x),x.tag=1,qs(L)?(m=!0,D1(x)):m=!1,Oh(x,A),c5(x,L,H),sE(x,L,H,A),cE(null,x,L,!0,m,A);case 19:return S5(m,x,A);case 22:return x5(m,x,A)}throw Error(n(156,x.tag))};function J5(m,x){return at(m,x)}function tZ(m,x,A,L){this.tag=m,this.key=A,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=x,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=L,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ja(m,x,A,L){return new tZ(m,x,A,L)}function NE(m){return m=m.prototype,!(!m||!m.isReactComponent)}function nZ(m){if(typeof m=="function")return NE(m)?1:0;if(m!=null){if(m=m.$$typeof,m===I)return 11;if(m===K)return 14}return 2}function Zc(m,x){var A=m.alternate;return A===null?(A=ja(m.tag,x,m.key,m.mode),A.elementType=m.elementType,A.type=m.type,A.stateNode=m.stateNode,A.alternate=m,m.alternate=A):(A.pendingProps=x,A.type=m.type,A.flags=0,A.subtreeFlags=0,A.deletions=null),A.flags=m.flags&14680064,A.childLanes=m.childLanes,A.lanes=m.lanes,A.child=m.child,A.memoizedProps=m.memoizedProps,A.memoizedState=m.memoizedState,A.updateQueue=m.updateQueue,x=m.dependencies,A.dependencies=x===null?null:{lanes:x.lanes,firstContext:x.firstContext},A.sibling=m.sibling,A.index=m.index,A.ref=m.ref,A}function nx(m,x,A,L,H,te){var ve=2;if(L=m,typeof m=="function")NE(m)&&(ve=1);else if(typeof m=="string")ve=5;else e:switch(m){case D:return Id(A.children,H,te,x);case N:ve=8,H|=8;break;case k:return m=ja(12,A,x,H|2),m.elementType=k,m.lanes=te,m;case U:return m=ja(13,A,x,H),m.elementType=U,m.lanes=te,m;case O:return m=ja(19,A,x,H),m.elementType=O,m.lanes=te,m;case J:return rx(A,H,te,x);default:if(typeof m=="object"&&m!==null)switch(m.$$typeof){case F:ve=10;break e;case P:ve=9;break e;case I:ve=11;break e;case K:ve=14;break e;case X:ve=16,L=null;break e}throw Error(n(130,m==null?m:typeof m,""))}return x=ja(ve,A,x,H),x.elementType=m,x.type=L,x.lanes=te,x}function Id(m,x,A,L){return m=ja(7,m,L,x),m.lanes=A,m}function rx(m,x,A,L){return m=ja(22,m,L,x),m.elementType=J,m.lanes=A,m.stateNode={isHidden:!1},m}function IE(m,x,A){return m=ja(6,m,null,x),m.lanes=A,m}function kE(m,x,A){return x=ja(4,m.children!==null?m.children:[],m.key,x),x.lanes=A,x.stateNode={containerInfo:m.containerInfo,pendingChildren:null,implementation:m.implementation},x}function rZ(m,x,A,L,H){this.tag=x,this.containerInfo=m,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fc(0),this.expirationTimes=Fc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fc(0),this.identifierPrefix=L,this.onRecoverableError=H,this.mutableSourceEagerHydrationData=null}function RE(m,x,A,L,H,te,ve,Pe,je){return m=new rZ(m,x,A,Pe,je),x===1?(x=1,te===!0&&(x|=8)):x=0,te=ja(3,null,null,x),m.current=te,te.stateNode=m,te.memoizedState={element:L,isDehydrated:A,cache:null,transitions:null,pendingSuspenseBoundaries:null},zT(te),m}function iZ(m,x,A){var L=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:L==null?null:""+L,children:m,containerInfo:x,implementation:A}}function Y5(m){if(!m)return $c;m=m._reactInternals;e:{if(ke(m)!==m||m.tag!==1)throw Error(n(170));var x=m;do{switch(x.tag){case 3:x=x.stateNode.context;break e;case 1:if(qs(x.type)){x=x.stateNode.__reactInternalMemoizedMergedChildContext;break e}}x=x.return}while(x!==null);throw Error(n(171))}if(m.tag===1){var A=m.type;if(qs(A))return CR(m,A,x)}return x}function Q5(m,x,A,L,H,te,ve,Pe,je){return m=RE(A,L,!0,m,H,te,ve,Pe,je),m.context=Y5(null),A=m.current,L=Ss(),H=Yc(A),te=$l(L,H),te.callback=x??null,Gc(A,te,H),m.current.lanes=H,Mc(m,H,L),Hs(m,L),m}function ix(m,x,A,L){var H=x.current,te=Ss(),ve=Yc(H);return A=Y5(A),x.context===null?x.context=A:x.pendingContext=A,x=$l(te,ve),x.payload={element:m},L=L===void 0?null:L,L!==null&&(x.callback=L),m=Gc(H,x,ve),m!==null&&(wo(m,H,ve,te),M1(m,H,ve)),ve}function sx(m){if(m=m.current,!m.child)return null;switch(m.child.tag){case 5:return m.child.stateNode;default:return m.child.stateNode}}function Z5(m,x){if(m=m.memoizedState,m!==null&&m.dehydrated!==null){var A=m.retryLane;m.retryLane=A!==0&&A<x?A:x}}function PE(m,x){Z5(m,x),(m=m.alternate)&&Z5(m,x)}function sZ(){return null}var e8=typeof reportError=="function"?reportError:function(m){console.error(m)};function FE(m){this._internalRoot=m}ax.prototype.render=FE.prototype.render=function(m){var x=this._internalRoot;if(x===null)throw Error(n(409));ix(m,x,null,null)},ax.prototype.unmount=FE.prototype.unmount=function(){var m=this._internalRoot;if(m!==null){this._internalRoot=null;var x=m.containerInfo;Dd(function(){ix(null,m,null,null)}),x[jl]=null}};function ax(m){this._internalRoot=m}ax.prototype.unstable_scheduleHydration=function(m){if(m){var x=a1();m={blockedOn:null,target:m,priority:x};for(var A=0;A<Go.length&&x!==0&&x<Go[A].priority;A++);Go.splice(A,0,m),A===0&&c1(m)}};function ME(m){return!(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)}function ox(m){return!(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11&&(m.nodeType!==8||m.nodeValue!==" react-mount-point-unstable "))}function t8(){}function aZ(m,x,A,L,H){if(H){if(typeof L=="function"){var te=L;L=function(){var Ze=sx(ve);te.call(Ze)}}var ve=Q5(x,L,m,0,null,!1,!1,"",t8);return m._reactRootContainer=ve,m[jl]=ve.current,vg(m.nodeType===8?m.parentNode:m),Dd(),ve}for(;H=m.lastChild;)m.removeChild(H);if(typeof L=="function"){var Pe=L;L=function(){var Ze=sx(je);Pe.call(Ze)}}var je=RE(m,0,!1,null,null,!1,!1,"",t8);return m._reactRootContainer=je,m[jl]=je.current,vg(m.nodeType===8?m.parentNode:m),Dd(function(){ix(x,je,A,L)}),je}function lx(m,x,A,L,H){var te=A._reactRootContainer;if(te){var ve=te;if(typeof H=="function"){var Pe=H;H=function(){var je=sx(ve);Pe.call(je)}}ix(x,ve,m,H)}else ve=aZ(A,x,m,H,L);return sx(ve)}i1=function(m){switch(m.tag){case 3:var x=m.stateNode;if(x.current.memoizedState.isDehydrated){var A=Pc(x.pendingLanes);A!==0&&(Uc(x,A|1),Hs(x,ht()),(En&6)===0&&(Wh=ht()+500,zc()))}break;case 13:Dd(function(){var L=ql(m,1);if(L!==null){var H=Ss();wo(L,m,1,H)}}),PE(m,1)}},hh=function(m){if(m.tag===13){var x=ql(m,134217728);if(x!==null){var A=Ss();wo(x,m,134217728,A)}PE(m,134217728)}},s1=function(m){if(m.tag===13){var x=Yc(m),A=ql(m,x);if(A!==null){var L=Ss();wo(A,m,x,L)}PE(m,x)}},a1=function(){return xn},o1=function(m,x){var A=xn;try{return xn=m,x()}finally{xn=A}},lr=function(m,x,A){switch(x){case"input":if(le(m,A),x=A.name,A.type==="radio"&&x!=null){for(A=m;A.parentNode;)A=A.parentNode;for(A=A.querySelectorAll("input[name="+JSON.stringify(""+x)+'][type="radio"]'),x=0;x<A.length;x++){var L=A[x];if(L!==m&&L.form===m.form){var H=C1(L);if(!H)throw Error(n(90));me(L),le(L,H)}}}break;case"textarea":ge(m,A);break;case"select":x=A.value,x!=null&&we(m,!!A.multiple,x,!1)}},Ge=SE,st=Dd;var oZ={usingClientEntryPoint:!1,Events:[bg,Nh,C1,Ee,Fe,SE]},Mg={findFiberByHostInstance:xd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lZ={bundleType:Mg.bundleType,version:Mg.version,rendererPackageName:Mg.rendererPackageName,rendererConfig:Mg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(m){return m=$e(m),m===null?null:m.stateNode},findFiberByHostInstance:Mg.findFiberByHostInstance||sZ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cx.isDisabled&&cx.supportsFiber)try{da=cx.inject(lZ),Xr=cx}catch{}}return Gs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oZ,Gs.createPortal=function(m,x){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ME(x))throw Error(n(200));return iZ(m,x,null,A)},Gs.createRoot=function(m,x){if(!ME(m))throw Error(n(299));var A=!1,L="",H=e8;return x!=null&&(x.unstable_strictMode===!0&&(A=!0),x.identifierPrefix!==void 0&&(L=x.identifierPrefix),x.onRecoverableError!==void 0&&(H=x.onRecoverableError)),x=RE(m,1,!1,null,null,A,!1,L,H),m[jl]=x.current,vg(m.nodeType===8?m.parentNode:m),new FE(x)},Gs.findDOMNode=function(m){if(m==null)return null;if(m.nodeType===1)return m;var x=m._reactInternals;if(x===void 0)throw typeof m.render=="function"?Error(n(188)):(m=Object.keys(m).join(","),Error(n(268,m)));return m=$e(x),m=m===null?null:m.stateNode,m},Gs.flushSync=function(m){return Dd(m)},Gs.hydrate=function(m,x,A){if(!ox(x))throw Error(n(200));return lx(null,m,x,!0,A)},Gs.hydrateRoot=function(m,x,A){if(!ME(m))throw Error(n(405));var L=A!=null&&A.hydratedSources||null,H=!1,te="",ve=e8;if(A!=null&&(A.unstable_strictMode===!0&&(H=!0),A.identifierPrefix!==void 0&&(te=A.identifierPrefix),A.onRecoverableError!==void 0&&(ve=A.onRecoverableError)),x=Q5(x,null,m,1,A??null,H,!1,te,ve),m[jl]=x.current,vg(m),L)for(m=0;m<L.length;m++)A=L[m],H=A._getVersion,H=H(A._source),x.mutableSourceEagerHydrationData==null?x.mutableSourceEagerHydrationData=[A,H]:x.mutableSourceEagerHydrationData.push(A,H);return new ax(x)},Gs.render=function(m,x,A){if(!ox(x))throw Error(n(200));return lx(null,m,x,!1,A)},Gs.unmountComponentAtNode=function(m){if(!ox(m))throw Error(n(40));return m._reactRootContainer?(Dd(function(){lx(null,null,m,!1,function(){m._reactRootContainer=null,m[jl]=null})}),!0):!1},Gs.unstable_batchedUpdates=SE,Gs.unstable_renderSubtreeIntoContainer=function(m,x,A,L){if(!ox(A))throw Error(n(200));if(m==null||m._reactInternals===void 0)throw Error(n(38));return lx(m,x,A,!1,L)},Gs.version="18.3.1-next-f1338f8080-20240426",Gs}var c8;function EB(){if(c8)return LE.exports;c8=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),LE.exports=gZ(),LE.exports}var u8;function yZ(){if(u8)return ux;u8=1;var t=EB();return ux.createRoot=t.createRoot,ux.hydrateRoot=t.hydrateRoot,ux}var vZ=yZ();const xZ=ab(vZ);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var d8="popstate";function _Z(t={}){function e(r,i){let{pathname:s,search:a,hash:o}=r.location;return C4("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:iy(i)}return wZ(e,n,null,t)}function Sr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function io(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bZ(){return Math.random().toString(36).substring(2,10)}function f8(t,e){return{usr:t.state,key:t.key,idx:e}}function C4(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Tm(e):e,state:n,key:e&&e.key||r||bZ()}}function iy({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Tm(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function wZ(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o="POP",l=null,c=u();c==null&&(c=0,a.replaceState({...a.state,idx:c},""));function u(){return(a.state||{idx:null}).idx}function f(){o="POP";let y=u(),b=y==null?null:y-c;c=y,l&&l({action:o,location:g.location,delta:b})}function h(y,b){o="PUSH";let _=C4(g.location,y,b);c=u()+1;let w=f8(_,c),C=g.createHref(_);try{a.pushState(w,"",C)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(C)}s&&l&&l({action:o,location:g.location,delta:1})}function p(y,b){o="REPLACE";let _=C4(g.location,y,b);c=u();let w=f8(_,c),C=g.createHref(_);a.replaceState(w,"",C),s&&l&&l({action:o,location:g.location,delta:0})}function v(y){return TZ(y)}let g={get action(){return o},get location(){return t(i,a)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(d8,f),l=y,()=>{i.removeEventListener(d8,f),l=null}},createHref(y){return e(i,y)},createURL:v,encodeLocation(y){let b=v(y);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:p,go(y){return a.go(y)}};return g}function TZ(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Sr(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:iy(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function CB(t,e,n="/"){return EZ(t,e,n,!1)}function EZ(t,e,n,r){let i=typeof e=="string"?Tm(e):e,s=uc(i.pathname||"/",n);if(s==null)return null;let a=SB(t);CZ(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=UZ(s);o=FZ(a[l],c,r)}return o}function SB(t,e=[],n=[],r="",i=!1){let s=(a,o,l=i,c)=>{let u={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(r)&&l)return;Sr(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length)}let f=tc([r,u.relativePath]),h=n.concat(u);a.children&&a.children.length>0&&(Sr(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),SB(a.children,e,h,f,l)),!(a.path==null&&!a.index)&&e.push({path:f,score:RZ(f,a.index),routesMeta:h})};return t.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let c of DB(a.path))s(a,o,!0,c)}),e}function DB(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=DB(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function CZ(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:PZ(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var SZ=/^:[\w-]+$/,DZ=3,AZ=2,NZ=1,IZ=10,kZ=-2,h8=t=>t==="*";function RZ(t,e){let n=t.split("/"),r=n.length;return n.some(h8)&&(r+=kZ),e&&(r+=AZ),n.filter(i=>!h8(i)).reduce((i,s)=>i+(SZ.test(s)?DZ:s===""?NZ:IZ),r)}function PZ(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function FZ(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",f=H2({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=H2({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:tc([s,f.pathname]),pathnameBase:BZ(tc([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=tc([s,f.pathnameBase]))}return a}function H2(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=MZ(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,{paramName:u,isOptional:f},h)=>{if(u==="*"){let v=o[h]||"";a=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const p=o[h];return f&&!p?c[u]=void 0:c[u]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function MZ(t,e=!1,n=!0){io(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function UZ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return io(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function uc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function OZ(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Tm(t):t;return{pathname:n?n.startsWith("/")?n:LZ(n,e):e,search:VZ(r),hash:WZ(i)}}function LZ(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function VE(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jZ(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function xN(t){let e=jZ(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function _N(t,e,n,r=!1){let i;typeof t=="string"?i=Tm(t):(i={...t},Sr(!i.pathname||!i.pathname.includes("?"),VE("?","pathname","search",i)),Sr(!i.pathname||!i.pathname.includes("#"),VE("#","pathname","hash",i)),Sr(!i.search||!i.search.includes("#"),VE("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}o=f>=0?e[f]:"/"}let l=OZ(i,o),c=a&&a!=="/"&&a.endsWith("/"),u=(s||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var tc=t=>t.join("/").replace(/\/\/+/g,"/"),BZ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),VZ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,WZ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function qZ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var AB=["POST","PUT","PATCH","DELETE"];new Set(AB);var $Z=["GET",...AB];new Set($Z);var Em=q.createContext(null);Em.displayName="DataRouter";var lb=q.createContext(null);lb.displayName="DataRouterState";q.createContext(!1);var NB=q.createContext({isTransitioning:!1});NB.displayName="ViewTransition";var zZ=q.createContext(new Map);zZ.displayName="Fetchers";var HZ=q.createContext(null);HZ.displayName="Await";var Wo=q.createContext(null);Wo.displayName="Navigation";var lv=q.createContext(null);lv.displayName="Location";var oo=q.createContext({outlet:null,matches:[],isDataRoute:!1});oo.displayName="Route";var bN=q.createContext(null);bN.displayName="RouteError";function GZ(t,{relative:e}={}){Sr(Cm(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=q.useContext(Wo),{hash:i,pathname:s,search:a}=cv(t,{relative:e}),o=s;return n!=="/"&&(o=s==="/"?n:tc([n,s])),r.createHref({pathname:o,search:a,hash:i})}function Cm(){return q.useContext(lv)!=null}function Dr(){return Sr(Cm(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(lv).location}var IB="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function kB(t){q.useContext(Wo).static||q.useLayoutEffect(t)}function wi(){let{isDataRoute:t}=q.useContext(oo);return t?lee():KZ()}function KZ(){Sr(Cm(),"useNavigate() may be used only in the context of a <Router> component.");let t=q.useContext(Em),{basename:e,navigator:n}=q.useContext(Wo),{matches:r}=q.useContext(oo),{pathname:i}=Dr(),s=JSON.stringify(xN(r)),a=q.useRef(!1);return kB(()=>{a.current=!0}),q.useCallback((l,c={})=>{if(io(a.current,IB),!a.current)return;if(typeof l=="number"){n.go(l);return}let u=_N(l,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:tc([e,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[e,n,s,i,t])}var XZ=q.createContext(null);function JZ(t){let e=q.useContext(oo).outlet;return e&&q.createElement(XZ.Provider,{value:t},e)}function aa(){let{matches:t}=q.useContext(oo),e=t[t.length-1];return e?e.params:{}}function cv(t,{relative:e}={}){let{matches:n}=q.useContext(oo),{pathname:r}=Dr(),i=JSON.stringify(xN(n));return q.useMemo(()=>_N(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function YZ(t,e){return RB(t,e)}function RB(t,e,n,r,i){var _;Sr(Cm(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=q.useContext(Wo),{matches:a}=q.useContext(oo),o=a[a.length-1],l=o?o.params:{},c=o?o.pathname:"/",u=o?o.pathnameBase:"/",f=o&&o.route;{let w=f&&f.path||"";PB(c,!f||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let h=Dr(),p;if(e){let w=typeof e=="string"?Tm(e):e;Sr(u==="/"||((_=w.pathname)==null?void 0:_.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${w.pathname}" was given in the \`location\` prop.`),p=w}else p=h;let v=p.pathname||"/",g=v;if(u!=="/"){let w=u.replace(/^\//,"").split("/");g="/"+v.replace(/^\//,"").split("/").slice(w.length).join("/")}let y=CB(t,{pathname:g});io(f||y!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),io(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=nee(y&&y.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:tc([u,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?u:tc([u,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),a,n,r,i);return e&&b?q.createElement(lv.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},b):b}function QZ(){let t=oee(),e=qZ(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=q.createElement(q.Fragment,null,q.createElement("p",null," Hey developer "),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:s},"ErrorBoundary")," or"," ",q.createElement("code",{style:s},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),n?q.createElement("pre",{style:i},n):null,a)}var ZZ=q.createElement(QZ,null),eee=class extends q.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?q.createElement(oo.Provider,{value:this.props.routeContext},q.createElement(bN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function tee({routeContext:t,match:e,children:n}){let r=q.useContext(Em);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(oo.Provider,{value:t},n)}function nee(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=n==null?void 0:n.errors;if(a!=null){let c=s.findIndex(u=>u.route.id&&(a==null?void 0:a[u.route.id])!==void 0);Sr(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,c+1))}let o=!1,l=-1;if(n)for(let c=0;c<s.length;c++){let u=s[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=c),u.route.id){let{loaderData:f,errors:h}=n,p=u.route.loader&&!f.hasOwnProperty(u.route.id)&&(!h||h[u.route.id]===void 0);if(u.route.lazy||p){o=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((c,u,f)=>{let h,p=!1,v=null,g=null;n&&(h=a&&u.route.id?a[u.route.id]:void 0,v=u.route.errorElement||ZZ,o&&(l<0&&f===0?(PB("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,g=null):l===f&&(p=!0,g=u.route.hydrateFallbackElement||null)));let y=e.concat(s.slice(0,f+1)),b=()=>{let _;return h?_=v:p?_=g:u.route.Component?_=q.createElement(u.route.Component,null):u.route.element?_=u.route.element:_=c,q.createElement(tee,{match:u,routeContext:{outlet:c,matches:y,isDataRoute:n!=null},children:_})};return n&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?q.createElement(eee,{location:n.location,revalidation:n.revalidation,component:v,error:h,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0},unstable_onError:r}):b()},null)}function wN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ree(t){let e=q.useContext(Em);return Sr(e,wN(t)),e}function iee(t){let e=q.useContext(lb);return Sr(e,wN(t)),e}function see(t){let e=q.useContext(oo);return Sr(e,wN(t)),e}function TN(t){let e=see(t),n=e.matches[e.matches.length-1];return Sr(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function aee(){return TN("useRouteId")}function oee(){var r;let t=q.useContext(bN),e=iee("useRouteError"),n=TN("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function lee(){let{router:t}=ree("useNavigate"),e=TN("useNavigate"),n=q.useRef(!1);return kB(()=>{n.current=!0}),q.useCallback(async(i,s={})=>{io(n.current,IB),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var p8={};function PB(t,e,n){!e&&!p8[t]&&(p8[t]=!0,io(!1,n))}q.memo(cee);function cee({routes:t,future:e,state:n,unstable_onError:r}){return RB(t,void 0,n,r,e)}function gp({to:t,replace:e,state:n,relative:r}){Sr(Cm(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=q.useContext(Wo);io(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=q.useContext(oo),{pathname:a}=Dr(),o=wi(),l=_N(t,xN(s),a,r==="path"),c=JSON.stringify(l);return q.useEffect(()=>{o(JSON.parse(c),{replace:e,state:n,relative:r})},[o,c,r,e,n]),null}function EN(t){return JZ(t.context)}function $t(t){Sr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function uee({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Sr(!Cm(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),o=q.useMemo(()=>({basename:a,navigator:i,static:s,future:{}}),[a,i,s]);typeof n=="string"&&(n=Tm(n));let{pathname:l="/",search:c="",hash:u="",state:f=null,key:h="default"}=n,p=q.useMemo(()=>{let v=uc(l,a);return v==null?null:{location:{pathname:v,search:c,hash:u,state:f,key:h},navigationType:r}},[a,l,c,u,f,h,r]);return io(p!=null,`<Router basename="${a}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:q.createElement(Wo.Provider,{value:o},q.createElement(lv.Provider,{children:e,value:p}))}function dee({children:t,location:e}){return YZ(S4(t),e)}function S4(t,e=[]){let n=[];return q.Children.forEach(t,(r,i)=>{if(!q.isValidElement(r))return;let s=[...e,i];if(r.type===q.Fragment){n.push.apply(n,S4(r.props.children,s));return}Sr(r.type===$t,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Sr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=S4(r.props.children,s)),n.push(a)}),n}var n2="get",r2="application/x-www-form-urlencoded";function cb(t){return t!=null&&typeof t.tagName=="string"}function fee(t){return cb(t)&&t.tagName.toLowerCase()==="button"}function hee(t){return cb(t)&&t.tagName.toLowerCase()==="form"}function pee(t){return cb(t)&&t.tagName.toLowerCase()==="input"}function mee(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function gee(t,e){return t.button===0&&(!e||e==="_self")&&!mee(t)}function D4(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function yee(t,e){let n=D4(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(s=>{n.append(i,s)})}),n}var dx=null;function vee(){if(dx===null)try{new FormData(document.createElement("form"),0),dx=!1}catch{dx=!0}return dx}var xee=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function WE(t){return t!=null&&!xee.has(t)?(io(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${r2}"`),null):t}function _ee(t,e){let n,r,i,s,a;if(hee(t)){let o=t.getAttribute("action");r=o?uc(o,e):null,n=t.getAttribute("method")||n2,i=WE(t.getAttribute("enctype"))||r2,s=new FormData(t)}else if(fee(t)||pee(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||o.getAttribute("action");if(r=l?uc(l,e):null,n=t.getAttribute("formmethod")||o.getAttribute("method")||n2,i=WE(t.getAttribute("formenctype"))||WE(o.getAttribute("enctype"))||r2,s=new FormData(o,t),!vee()){let{name:c,type:u,value:f}=t;if(u==="image"){let h=c?`${c}.`:"";s.append(`${h}x`,"0"),s.append(`${h}y`,"0")}else c&&s.append(c,f)}}else{if(cb(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=n2,r=null,i=r2,a=t}return s&&i==="text/plain"&&(a=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function CN(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function bee(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&uc(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function wee(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Tee(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Eee(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await wee(s,n);return a.links?a.links():[]}return[]}));return Aee(r.flat(1).filter(Tee).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function m8(t,e,n,r,i,s){let a=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,o=(l,c)=>{var u;return n[c].pathname!==l.pathname||((u=n[c].route.path)==null?void 0:u.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,c)=>a(l,c)||o(l,c)):s==="data"?e.filter((l,c)=>{var f;let u=r.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(a(l,c)||o(l,c))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function Cee(t,e,{includeHydrateFallback:n}={}){return See(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function See(t){return[...new Set(t)]}function Dee(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Aee(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(Dee(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function FB(){let t=q.useContext(Em);return CN(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Nee(){let t=q.useContext(lb);return CN(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var SN=q.createContext(void 0);SN.displayName="FrameworkContext";function MB(){let t=q.useContext(SN);return CN(t,"You must render this element inside a <HydratedRouter> element"),t}function Iee(t,e){let n=q.useContext(SN),[r,i]=q.useState(!1),[s,a]=q.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:f}=e,h=q.useRef(null);q.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let g=b=>{b.forEach(_=>{a(_.isIntersecting)})},y=new IntersectionObserver(g,{threshold:.5});return h.current&&y.observe(h.current),()=>{y.disconnect()}}},[t]),q.useEffect(()=>{if(r){let g=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(g)}}},[r]);let p=()=>{i(!0)},v=()=>{i(!1),a(!1)};return n?t!=="intent"?[s,h,{}]:[s,h,{onFocus:Og(o,p),onBlur:Og(l,v),onMouseEnter:Og(c,p),onMouseLeave:Og(u,v),onTouchStart:Og(f,p)}]:[!1,h,{}]}function Og(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function kee({page:t,...e}){let{router:n}=FB(),r=q.useMemo(()=>CB(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?q.createElement(Pee,{page:t,matches:r,...e}):null}function Ree(t){let{manifest:e,routeModules:n}=MB(),[r,i]=q.useState([]);return q.useEffect(()=>{let s=!1;return Eee(t,e,n).then(a=>{s||i(a)}),()=>{s=!0}},[t,e,n]),r}function Pee({page:t,matches:e,...n}){let r=Dr(),{manifest:i,routeModules:s}=MB(),{basename:a}=FB(),{loaderData:o,matches:l}=Nee(),c=q.useMemo(()=>m8(t,e,l,i,r,"data"),[t,e,l,i,r]),u=q.useMemo(()=>m8(t,e,l,i,r,"assets"),[t,e,l,i,r]),f=q.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let v=new Set,g=!1;if(e.forEach(b=>{var w;let _=i.routes[b.route.id];!_||!_.hasLoader||(!c.some(C=>C.route.id===b.route.id)&&b.route.id in o&&((w=s[b.route.id])!=null&&w.shouldRevalidate)||_.hasClientLoader?g=!0:v.add(b.route.id))}),v.size===0)return[];let y=bee(t,a,"data");return g&&v.size>0&&y.searchParams.set("_routes",e.filter(b=>v.has(b.route.id)).map(b=>b.route.id).join(",")),[y.pathname+y.search]},[a,o,r,i,c,e,t,s]),h=q.useMemo(()=>Cee(u,i),[u,i]),p=Ree(u);return q.createElement(q.Fragment,null,f.map(v=>q.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),h.map(v=>q.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),p.map(({key:v,link:g})=>q.createElement("link",{key:v,nonce:n.nonce,...g})))}function Fee(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var UB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{UB&&(window.__reactRouterVersion="7.8.2")}catch{}function Mee({basename:t,children:e,window:n}){let r=q.useRef();r.current==null&&(r.current=_Z({window:n,v5Compat:!0}));let i=r.current,[s,a]=q.useState({action:i.action,location:i.location}),o=q.useCallback(l=>{q.startTransition(()=>a(l))},[a]);return q.useLayoutEffect(()=>i.listen(o),[i,o]),q.createElement(uee,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var OB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,en=q.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:u,viewTransition:f,...h},p){let{basename:v}=q.useContext(Wo),g=typeof c=="string"&&OB.test(c),y,b=!1;if(typeof c=="string"&&g&&(y=c,UB))try{let k=new URL(window.location.href),F=c.startsWith("//")?new URL(k.protocol+c):new URL(c),P=uc(F.pathname,v);F.origin===k.origin&&P!=null?c=P+F.search+F.hash:b=!0}catch{io(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=GZ(c,{relative:i}),[w,C,S]=Iee(r,h),R=Lee(c,{replace:a,state:o,target:l,preventScrollReset:u,relative:i,viewTransition:f});function D(k){e&&e(k),k.defaultPrevented||R(k)}let N=q.createElement("a",{...h,...S,href:y||_,onClick:b||s?e:D,ref:Fee(p,C),target:l,"data-discover":!g&&n==="render"?"true":void 0});return w&&!g?q.createElement(q.Fragment,null,N,q.createElement(kee,{page:_})):N});en.displayName="Link";var Jn=q.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:a,viewTransition:o,children:l,...c},u){let f=cv(a,{relative:c.relative}),h=Dr(),p=q.useContext(lb),{navigator:v,basename:g}=q.useContext(Wo),y=p!=null&&$ee(f)&&o===!0,b=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,_=h.pathname,w=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(_=_.toLowerCase(),w=w?w.toLowerCase():null,b=b.toLowerCase()),w&&g&&(w=uc(w,g)||w);const C=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let S=_===b||!i&&_.startsWith(b)&&_.charAt(C)==="/",R=w!=null&&(w===b||!i&&w.startsWith(b)&&w.charAt(b.length)==="/"),D={isActive:S,isPending:R,isTransitioning:y},N=S?e:void 0,k;typeof r=="function"?k=r(D):k=[r,S?"active":null,R?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let F=typeof s=="function"?s(D):s;return q.createElement(en,{...c,"aria-current":N,className:k,ref:u,style:F,to:a,viewTransition:o},typeof l=="function"?l(D):l)});Jn.displayName="NavLink";var Uee=q.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:a=n2,action:o,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:f,...h},p)=>{let v=Wee(),g=qee(o,{relative:c}),y=a.toLowerCase()==="get"?"get":"post",b=typeof o=="string"&&OB.test(o),_=w=>{if(l&&l(w),w.defaultPrevented)return;w.preventDefault();let C=w.nativeEvent.submitter,S=(C==null?void 0:C.getAttribute("formmethod"))||a;v(C||w.currentTarget,{fetcherKey:e,method:S,navigate:n,replace:i,state:s,relative:c,preventScrollReset:u,viewTransition:f})};return q.createElement("form",{ref:p,method:y,action:g,onSubmit:r?l:_,...h,"data-discover":!b&&t==="render"?"true":void 0})});Uee.displayName="Form";function Oee(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function LB(t){let e=q.useContext(Em);return Sr(e,Oee(t)),e}function Lee(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:a}={}){let o=wi(),l=Dr(),c=cv(t,{relative:s});return q.useCallback(u=>{if(gee(u,e)){u.preventDefault();let f=n!==void 0?n:iy(l)===iy(c);o(t,{replace:f,state:r,preventScrollReset:i,relative:s,viewTransition:a})}},[l,o,c,n,r,e,t,i,s,a])}function jee(t){io(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=q.useRef(D4(t)),n=q.useRef(!1),r=Dr(),i=q.useMemo(()=>yee(r.search,n.current?null:e.current),[r.search]),s=wi(),a=q.useCallback((o,l)=>{const c=D4(typeof o=="function"?o(new URLSearchParams(i)):o);n.current=!0,s("?"+c,l)},[s,i]);return[i,a]}var Bee=0,Vee=()=>`__${String(++Bee)}__`;function Wee(){let{router:t}=LB("useSubmit"),{basename:e}=q.useContext(Wo),n=aee();return q.useCallback(async(r,i={})=>{let{action:s,method:a,encType:o,formData:l,body:c}=_ee(r,e);if(i.navigate===!1){let u=i.fetcherKey||Vee();await t.fetch(u,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function qee(t,{relative:e}={}){let{basename:n}=q.useContext(Wo),r=q.useContext(oo);Sr(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...cv(t||".",{relative:e})},a=Dr();if(t==null){s.search=a.search;let o=new URLSearchParams(s.search),l=o.getAll("index");if(l.some(u=>u==="")){o.delete("index"),l.filter(f=>f).forEach(f=>o.append("index",f));let u=o.toString();s.search=u?`?${u}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:tc([n,s.pathname])),iy(s)}function $ee(t,{relative:e}={}){let n=q.useContext(NB);Sr(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=LB("useViewTransitionState"),i=cv(t,{relative:e});if(!n.isTransitioning)return!1;let s=uc(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=uc(n.nextLocation.pathname,r)||n.nextLocation.pathname;return H2(i.pathname,a)!=null||H2(i.pathname,s)!=null}const zee="modulepreload",Hee=function(t){return"/"+t},g8={},Gee=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let a=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=a(n.map(c=>{if(c=Hee(c),c in g8)return;g8[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":zee,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((p,v)=>{h.addEventListener("load",p),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})},Kee=()=>{};var y8={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jB={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vt=function(t,e){if(!t)throw Sm(e)},Sm=function(t){return new Error("Firebase Database ("+jB.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BB=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Xee=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],o=t[n++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},DN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,f=(s&3)<<4|o>>4;let h=(o&15)<<2|c>>6,p=c&63;l||(p=64,a||(h=64)),r.push(n[u],n[f],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(BB(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Xee(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||o==null||c==null||f==null)throw new Jee;const h=s<<2|o>>4;if(r.push(h),c!==64){const p=o<<4&240|c>>2;if(r.push(p),f!==64){const v=c<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Jee extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VB=function(t){const e=BB(t);return DN.encodeByteArray(e,!0)},G2=function(t){return VB(t).replace(/\./g,"")},sy=function(t){try{return DN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yee(t){return ay(void 0,t)}function ay(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Qee(n)||(t[n]=ay(t[n],e[n]));return t}function Qee(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zee=()=>AN().__FIREBASE_DEFAULTS__,ete=()=>{if(typeof process>"u"||typeof y8>"u")return;const t=y8.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},tte=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&sy(t[1]);return e&&JSON.parse(e)},ub=()=>{try{return Kee()||Zee()||ete()||tte()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},nte=t=>{var e,n;return(n=(e=ub())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},rte=t=>{const e=nte(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},NN=()=>{var t;return(t=ub())==null?void 0:t.config},ite=t=>{var e;return(e=ub())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function db(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[G2(JSON.stringify(n)),G2(JSON.stringify(a)),""].join(".")}const S0={};function ste(){const t={prod:[],emulator:[]};for(const e of Object.keys(S0))S0[e]?t.emulator.push(e):t.prod.push(e);return t}function ate(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let v8=!1;function fb(t,e){if(typeof window>"u"||typeof document>"u"||!Il(window.location.host)||S0[t]===e||S0[t]||v8)return;S0[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",s=ste().prod.length>0;function a(){const h=document.getElementById(r);h&&h.remove()}function o(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{v8=!0,a()},h}function u(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=ate(r),p=n("text"),v=document.getElementById(p)||document.createElement("span"),g=n("learnmore"),y=document.getElementById(g)||document.createElement("a"),b=n("preprendIcon"),_=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const w=h.element;o(w),u(y,g);const C=c();l(_,b),w.append(_,v,y,C),document.body.appendChild(w)}s?(v.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mr())}function hb(){var e;const t=(e=ub())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ote(){return typeof window<"u"||WB()}function WB(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function lte(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qB(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function pb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $B(){const t=Mr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function cte(){return jB.NODE_ADMIN===!0}function zB(){return!hb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function HB(){return!hb()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function oy(){try{return typeof indexedDB=="object"}catch{return!1}}function ute(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dte="FirebaseError";class ms extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=dte,Object.setPrototypeOf(this,ms.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vf.prototype.create)}}class Vf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?fte(s,r):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new ms(i,o,r)}}function fte(t,e){return t.replace(hte,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const hte=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(t){return JSON.parse(t)}function gi(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GB=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=ly(sy(s[0])||""),n=ly(sy(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},pte=function(t){const e=GB(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},mte=function(t){const e=GB(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Da(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function pf(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function K2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function X2(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function dc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(x8(s)&&x8(a)){if(!dc(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function x8(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function yp(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function p0(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gte{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)r[f]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)r[f]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let f=16;f<80;f++){const h=r[f-3]^r[f-8]^r[f-14]^r[f-16];r[f]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],a=this.chain_[2],o=this.chain_[3],l=this.chain_[4],c,u;for(let f=0;f<80;f++){f<40?f<20?(c=o^s&(a^o),u=1518500249):(c=s^a^o,u=1859775393):f<60?(c=s&a|o&(s|a),u=2400959708):(c=s^a^o,u=3395469782);const h=(i<<5|i>>>27)+c+l+u+r[f]&4294967295;l=o,o=a,a=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+o&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let a=this.inbuf_;for(;i<n;){if(a===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[a]=e.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}else for(;i<n;)if(s[a]=e[i],++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function KB(t,e){const n=new yte(t,e);return n.subscribe.bind(n)}class yte{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");vte(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=qE),i.error===void 0&&(i.error=qE),i.complete===void 0&&(i.complete=qE);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vte(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function qE(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kt=function(t,e,n,r){let i;if(r<e?i="at least "+e:r>n&&(i=n===0?"none":"no more than "+n),i){const s=t+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(s)}};function ta(t,e){return`${t} failed: ${e} argument `}function Ri(t,e,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(ta(t,e)+"must be a valid function.")}function _8(t,e,n,r){if(n&&(typeof n!="object"||n===null))throw new Error(ta(t,e)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xte=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,vt(r<t.length,"Surrogate pair missing trail surrogate.");const a=t.charCodeAt(r)-56320;i=65536+(s<<10)+a}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},mb=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(t){return t&&t._delegate?t._delegate:t}class Os{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Js;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bte(e))try{this.getOrInitializeService({instanceIdentifier:Od})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Od){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Od){return this.instances.has(e)}getOptions(e=Od){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);r===o&&a.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_te(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Od){return this.component?this.component.multipleInstances?e:Od:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _te(t){return t===Od?void 0:t}function bte(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new A4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN=[];var mn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(mn||(mn={}));const XB={debug:mn.DEBUG,verbose:mn.VERBOSE,info:mn.INFO,warn:mn.WARN,error:mn.ERROR,silent:mn.SILENT},wte=mn.INFO,Tte={[mn.DEBUG]:"log",[mn.VERBOSE]:"log",[mn.INFO]:"info",[mn.WARN]:"warn",[mn.ERROR]:"error"},Ete=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Tte[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dm{constructor(e){this.name=e,this._logLevel=wte,this._logHandler=Ete,this._userLogHandler=null,PN.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in mn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,mn.DEBUG,...e),this._logHandler(this,mn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,mn.VERBOSE,...e),this._logHandler(this,mn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,mn.INFO,...e),this._logHandler(this,mn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,mn.WARN,...e),this._logHandler(this,mn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,mn.ERROR,...e),this._logHandler(this,mn.ERROR,...e)}}function Cte(t){PN.forEach(e=>{e.setLogLevel(t)})}function Ste(t,e){for(const n of PN){let r=null;e&&e.level&&(r=XB[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...a)=>{const o=a.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");s>=(r??i.logLevel)&&t({level:mn[s].toLowerCase(),message:o,args:a,type:i.name})}}}const Dte=(t,e)=>e.some(n=>t instanceof n);let b8,w8;function Ate(){return b8||(b8=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Nte(){return w8||(w8=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const JB=new WeakMap,N4=new WeakMap,YB=new WeakMap,$E=new WeakMap,FN=new WeakMap;function Ite(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(_u(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&JB.set(n,t)}).catch(()=>{}),FN.set(e,t),e}function kte(t){if(N4.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});N4.set(t,e)}let I4={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return N4.get(t);if(e==="objectStoreNames")return t.objectStoreNames||YB.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _u(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Rte(t){I4=t(I4)}function Pte(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(zE(this),e,...n);return YB.set(r,e.sort?e.sort():[e]),_u(r)}:Nte().includes(t)?function(...e){return t.apply(zE(this),e),_u(JB.get(this))}:function(...e){return _u(t.apply(zE(this),e))}}function Fte(t){return typeof t=="function"?Pte(t):(t instanceof IDBTransaction&&kte(t),Dte(t,Ate())?new Proxy(t,I4):t)}function _u(t){if(t instanceof IDBRequest)return Ite(t);if($E.has(t))return $E.get(t);const e=Fte(t);return e!==t&&($E.set(t,e),FN.set(e,t)),e}const zE=t=>FN.get(t);function Mte(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=_u(a);return r&&a.addEventListener("upgradeneeded",l=>{r(_u(a.result),l.oldVersion,l.newVersion,_u(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const Ute=["get","getKey","getAll","getAllKeys","count"],Ote=["put","add","delete","clear"],HE=new Map;function T8(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(HE.get(e))return HE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Ote.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Ute.includes(n)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),i&&l.done]))[0]};return HE.set(e,s),s}Rte(t=>({...t,get:(e,n,r)=>T8(e,n)||t.get(e,n,r),has:(e,n)=>!!T8(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lte{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(jte(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function jte(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const J2="@firebase/app",k4="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc=new Dm("@firebase/app"),Bte="@firebase/app-compat",Vte="@firebase/analytics-compat",Wte="@firebase/analytics",qte="@firebase/app-check-compat",$te="@firebase/app-check",zte="@firebase/auth",Hte="@firebase/auth-compat",Gte="@firebase/database",Kte="@firebase/data-connect",Xte="@firebase/database-compat",Jte="@firebase/functions",Yte="@firebase/functions-compat",Qte="@firebase/installations",Zte="@firebase/installations-compat",ene="@firebase/messaging",tne="@firebase/messaging-compat",nne="@firebase/performance",rne="@firebase/performance-compat",ine="@firebase/remote-config",sne="@firebase/remote-config-compat",ane="@firebase/storage",one="@firebase/storage-compat",lne="@firebase/firestore",cne="@firebase/ai",une="@firebase/firestore-compat",dne="firebase",fne="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nu="[DEFAULT]",hne={[J2]:"fire-core",[Bte]:"fire-core-compat",[Wte]:"fire-analytics",[Vte]:"fire-analytics-compat",[$te]:"fire-app-check",[qte]:"fire-app-check-compat",[zte]:"fire-auth",[Hte]:"fire-auth-compat",[Gte]:"fire-rtdb",[Kte]:"fire-data-connect",[Xte]:"fire-rtdb-compat",[Jte]:"fire-fn",[Yte]:"fire-fn-compat",[Qte]:"fire-iid",[Zte]:"fire-iid-compat",[ene]:"fire-fcm",[tne]:"fire-fcm-compat",[nne]:"fire-perf",[rne]:"fire-perf-compat",[ine]:"fire-rc",[sne]:"fire-rc-compat",[ane]:"fire-gcs",[one]:"fire-gcs-compat",[lne]:"fire-fst",[une]:"fire-fst-compat",[cne]:"fire-vertex","fire-js":"fire-js",[dne]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iu=new Map,Vp=new Map,Wp=new Map;function cy(t,e){try{t.container.addComponent(e)}catch(n){fc.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function QB(t,e){t.container.addOrOverwriteComponent(e)}function Tl(t){const e=t.name;if(Wp.has(e))return fc.debug(`There were multiple attempts to register component ${e}.`),!1;Wp.set(e,t);for(const n of Iu.values())cy(n,t);for(const n of Vp.values())cy(n,t);return!0}function MN(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function pne(t,e,n=Nu){MN(t,e).clearInstance(n)}function UN(t){return t.options!==void 0}function ZB(t){return UN(t)?!1:"authIdToken"in t||"appCheckToken"in t||"releaseOnDeref"in t||"automaticDataCollectionEnabled"in t}function ir(t){return t==null?!1:t.settings!==void 0}function mne(){Wp.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gne={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Sa=new Vf("app","Firebase",gne);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eV=class{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Os("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Sa.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E8(t,e){const n=sy(t.split(".")[1]);if(n===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(n).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(n).exp*1e3,s=new Date().getTime();i-s<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class yne extends eV{constructor(e,n,r,i){const s=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!0,a={name:r,automaticDataCollectionEnabled:s};if(e.apiKey!==void 0)super(e,a,i);else{const o=e;super(o.options,a,i)}this._serverConfig={automaticDataCollectionEnabled:s,...n},this._serverConfig.authIdToken&&E8(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&E8(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,Ps(J2,k4,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){LN(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Sa.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl=fne;function ON(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Nu,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Sa.create("bad-app-name",{appName:String(i)});if(n||(n=NN()),!n)throw Sa.create("no-options");const s=Iu.get(i);if(s){if(dc(n,s.options)&&dc(r,s.config))return s;throw Sa.create("duplicate-app",{appName:i})}const a=new RN(i);for(const l of Wp.values())a.addComponent(l);const o=new eV(n,r,a);return Iu.set(i,o),o}function vne(t,e={}){if(ote()&&!WB())throw Sa.create("invalid-server-app-environment");let n,r=e||{};if(t&&(UN(t)?n=t.options:ZB(t)?r=t:n=t),r.automaticDataCollectionEnabled===void 0&&(r.automaticDataCollectionEnabled=!0),n||(n=NN()),!n)throw Sa.create("no-options");const i={...r,...n};i.releaseOnDeref!==void 0&&delete i.releaseOnDeref;const s=u=>[...u].reduce((f,h)=>Math.imul(31,f)+h.charCodeAt(0)|0,0);if(r.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Sa.create("finalization-registry-not-supported",{});const a=""+s(JSON.stringify(i)),o=Vp.get(a);if(o)return o.incRefCount(r.releaseOnDeref),o;const l=new RN(a);for(const u of Wp.values())l.addComponent(u);const c=new yne(n,r,a,l);return Vp.set(a,c),c}function tV(t=Nu){const e=Iu.get(t);if(!e&&t===Nu&&NN())return ON();if(!e)throw Sa.create("no-app",{appName:t});return e}function xne(){return Array.from(Iu.values())}async function LN(t){let e=!1;const n=t.name;Iu.has(n)?(e=!0,Iu.delete(n)):Vp.has(n)&&t.decRefCount()<=0&&(Vp.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function Ps(t,e,n){let r=hne[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fc.warn(a.join(" "));return}Tl(new Os(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function nV(t,e){if(t!==null&&typeof t!="function")throw Sa.create("invalid-log-argument");Ste(t,e)}function rV(t){Cte(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _ne="firebase-heartbeat-database",bne=1,uy="firebase-heartbeat-store";let GE=null;function iV(){return GE||(GE=Mte(_ne,bne,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(uy)}catch(n){console.warn(n)}}}}).catch(t=>{throw Sa.create("idb-open",{originalErrorMessage:t.message})})),GE}async function wne(t){try{const n=(await iV()).transaction(uy),r=await n.objectStore(uy).get(sV(t));return await n.done,r}catch(e){if(e instanceof ms)fc.warn(e.message);else{const n=Sa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fc.warn(n.message)}}}async function C8(t,e){try{const r=(await iV()).transaction(uy,"readwrite");await r.objectStore(uy).put(e,sV(t)),await r.done}catch(n){if(n instanceof ms)fc.warn(n.message);else{const r=Sa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});fc.warn(r.message)}}}function sV(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tne=1024,Ene=30;class Cne{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Dne(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=S8();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Ene){const a=Ane(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){fc.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=S8(),{heartbeatsToSend:r,unsentEntries:i}=Sne(this._heartbeatsCache.heartbeats),s=G2(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return fc.warn(n),""}}}function S8(){return new Date().toISOString().substring(0,10)}function Sne(t,e=Tne){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),D8(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),D8(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Dne{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oy()?ute().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await wne(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return C8(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return C8(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function D8(t){return G2(JSON.stringify({version:2,heartbeats:t})).length}function Ane(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nne(t){Tl(new Os("platform-logger",e=>new Lte(e),"PRIVATE")),Tl(new Os("heartbeat",e=>new Cne(e),"PRIVATE")),Ps(J2,k4,t),Ps(J2,k4,"esm2020"),Ps("fire-js","")}Nne("");const Ine=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:ms,SDK_VERSION:kl,_DEFAULT_ENTRY_NAME:Nu,_addComponent:cy,_addOrOverwriteComponent:QB,_apps:Iu,_clearComponents:mne,_components:Wp,_getProvider:MN,_isFirebaseApp:UN,_isFirebaseServerApp:ir,_isFirebaseServerAppSettings:ZB,_registerComponent:Tl,_removeServiceInstance:pne,_serverApps:Vp,deleteApp:LN,getApp:tV,getApps:xne,initializeApp:ON,initializeServerApp:vne,onLog:nV,registerVersion:Ps,setLogLevel:rV},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kne{constructor(e,n){this._delegate=e,this.firebase=n,cy(e,new Os("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),LN(this._delegate)))}_getService(e,n=Nu){var i;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&((i=r.getComponent())==null?void 0:i.instantiationMode)==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:n})}_removeServiceInstance(e,n=Nu){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){cy(this._delegate,e)}_addOrOverwriteComponent(e){QB(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rne={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},A8=new Vf("app-compat","Firebase",Rne);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pne(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:Ps,setLogLevel:rV,onLog:nV,apps:null,SDK_VERSION:kl,INTERNAL:{registerComponent:o,removeApp:r,useAsService:l,modularAPIs:Ine}};n.default=n,Object.defineProperty(n,"apps",{get:a});function r(c){delete e[c]}function i(c){if(c=c||Nu,!Da(e,c))throw A8.create("no-app",{appName:c});return e[c]}i.App=t;function s(c,u={}){const f=ON(c,u);if(Da(e,f.name))return e[f.name];const h=new t(f,n);return e[f.name]=h,h}function a(){return Object.keys(e).map(c=>e[c])}function o(c){const u=c.name,f=u.replace("-compat","");if(Tl(c)&&c.type==="PUBLIC"){const h=(p=i())=>{if(typeof p[f]!="function")throw A8.create("invalid-app-argument",{appName:u});return p[f]()};c.serviceProps!==void 0&&ay(h,c.serviceProps),n[f]=h,t.prototype[f]=function(...p){return this._getService.bind(this,u).apply(this,c.multipleInstances?p:[])}}return c.type==="PUBLIC"?n[f]:null}function l(c,u){return u==="serverAuth"?null:u}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aV(){const t=Pne(kne);t.INTERNAL={...t.INTERNAL,createFirebaseNamespace:aV,extendNamespace:e,createSubscribe:KB,ErrorFactory:Vf,deepExtend:ay};function e(n){ay(t,n)}return t}const Fne=aV();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N8=new Dm("@firebase/app-compat"),Mne="@firebase/app-compat",Une="0.5.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function One(t){Ps(Mne,Une,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const t=AN();if(t.firebase!==void 0){N8.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=t.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&N8.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const Vr=Fne;One();var Lne="firebase",jne="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vr.registerVersion(Lne,jne,"app-compat");var I8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bu,oV;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,N){function k(){}k.prototype=N.prototype,D.D=N.prototype,D.prototype=new k,D.prototype.constructor=D,D.C=function(F,P,I){for(var U=Array(arguments.length-2),O=2;O<arguments.length;O++)U[O-2]=arguments[O];return N.prototype[P].apply(F,U)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,N,k){k||(k=0);var F=Array(16);if(typeof N=="string")for(var P=0;16>P;++P)F[P]=N.charCodeAt(k++)|N.charCodeAt(k++)<<8|N.charCodeAt(k++)<<16|N.charCodeAt(k++)<<24;else for(P=0;16>P;++P)F[P]=N[k++]|N[k++]<<8|N[k++]<<16|N[k++]<<24;N=D.g[0],k=D.g[1],P=D.g[2];var I=D.g[3],U=N+(I^k&(P^I))+F[0]+3614090360&4294967295;N=k+(U<<7&4294967295|U>>>25),U=I+(P^N&(k^P))+F[1]+3905402710&4294967295,I=N+(U<<12&4294967295|U>>>20),U=P+(k^I&(N^k))+F[2]+606105819&4294967295,P=I+(U<<17&4294967295|U>>>15),U=k+(N^P&(I^N))+F[3]+3250441966&4294967295,k=P+(U<<22&4294967295|U>>>10),U=N+(I^k&(P^I))+F[4]+4118548399&4294967295,N=k+(U<<7&4294967295|U>>>25),U=I+(P^N&(k^P))+F[5]+1200080426&4294967295,I=N+(U<<12&4294967295|U>>>20),U=P+(k^I&(N^k))+F[6]+2821735955&4294967295,P=I+(U<<17&4294967295|U>>>15),U=k+(N^P&(I^N))+F[7]+4249261313&4294967295,k=P+(U<<22&4294967295|U>>>10),U=N+(I^k&(P^I))+F[8]+1770035416&4294967295,N=k+(U<<7&4294967295|U>>>25),U=I+(P^N&(k^P))+F[9]+2336552879&4294967295,I=N+(U<<12&4294967295|U>>>20),U=P+(k^I&(N^k))+F[10]+4294925233&4294967295,P=I+(U<<17&4294967295|U>>>15),U=k+(N^P&(I^N))+F[11]+2304563134&4294967295,k=P+(U<<22&4294967295|U>>>10),U=N+(I^k&(P^I))+F[12]+1804603682&4294967295,N=k+(U<<7&4294967295|U>>>25),U=I+(P^N&(k^P))+F[13]+4254626195&4294967295,I=N+(U<<12&4294967295|U>>>20),U=P+(k^I&(N^k))+F[14]+2792965006&4294967295,P=I+(U<<17&4294967295|U>>>15),U=k+(N^P&(I^N))+F[15]+1236535329&4294967295,k=P+(U<<22&4294967295|U>>>10),U=N+(P^I&(k^P))+F[1]+4129170786&4294967295,N=k+(U<<5&4294967295|U>>>27),U=I+(k^P&(N^k))+F[6]+3225465664&4294967295,I=N+(U<<9&4294967295|U>>>23),U=P+(N^k&(I^N))+F[11]+643717713&4294967295,P=I+(U<<14&4294967295|U>>>18),U=k+(I^N&(P^I))+F[0]+3921069994&4294967295,k=P+(U<<20&4294967295|U>>>12),U=N+(P^I&(k^P))+F[5]+3593408605&4294967295,N=k+(U<<5&4294967295|U>>>27),U=I+(k^P&(N^k))+F[10]+38016083&4294967295,I=N+(U<<9&4294967295|U>>>23),U=P+(N^k&(I^N))+F[15]+3634488961&4294967295,P=I+(U<<14&4294967295|U>>>18),U=k+(I^N&(P^I))+F[4]+3889429448&4294967295,k=P+(U<<20&4294967295|U>>>12),U=N+(P^I&(k^P))+F[9]+568446438&4294967295,N=k+(U<<5&4294967295|U>>>27),U=I+(k^P&(N^k))+F[14]+3275163606&4294967295,I=N+(U<<9&4294967295|U>>>23),U=P+(N^k&(I^N))+F[3]+4107603335&4294967295,P=I+(U<<14&4294967295|U>>>18),U=k+(I^N&(P^I))+F[8]+1163531501&4294967295,k=P+(U<<20&4294967295|U>>>12),U=N+(P^I&(k^P))+F[13]+2850285829&4294967295,N=k+(U<<5&4294967295|U>>>27),U=I+(k^P&(N^k))+F[2]+4243563512&4294967295,I=N+(U<<9&4294967295|U>>>23),U=P+(N^k&(I^N))+F[7]+1735328473&4294967295,P=I+(U<<14&4294967295|U>>>18),U=k+(I^N&(P^I))+F[12]+2368359562&4294967295,k=P+(U<<20&4294967295|U>>>12),U=N+(k^P^I)+F[5]+4294588738&4294967295,N=k+(U<<4&4294967295|U>>>28),U=I+(N^k^P)+F[8]+2272392833&4294967295,I=N+(U<<11&4294967295|U>>>21),U=P+(I^N^k)+F[11]+1839030562&4294967295,P=I+(U<<16&4294967295|U>>>16),U=k+(P^I^N)+F[14]+4259657740&4294967295,k=P+(U<<23&4294967295|U>>>9),U=N+(k^P^I)+F[1]+2763975236&4294967295,N=k+(U<<4&4294967295|U>>>28),U=I+(N^k^P)+F[4]+1272893353&4294967295,I=N+(U<<11&4294967295|U>>>21),U=P+(I^N^k)+F[7]+4139469664&4294967295,P=I+(U<<16&4294967295|U>>>16),U=k+(P^I^N)+F[10]+3200236656&4294967295,k=P+(U<<23&4294967295|U>>>9),U=N+(k^P^I)+F[13]+681279174&4294967295,N=k+(U<<4&4294967295|U>>>28),U=I+(N^k^P)+F[0]+3936430074&4294967295,I=N+(U<<11&4294967295|U>>>21),U=P+(I^N^k)+F[3]+3572445317&4294967295,P=I+(U<<16&4294967295|U>>>16),U=k+(P^I^N)+F[6]+76029189&4294967295,k=P+(U<<23&4294967295|U>>>9),U=N+(k^P^I)+F[9]+3654602809&4294967295,N=k+(U<<4&4294967295|U>>>28),U=I+(N^k^P)+F[12]+3873151461&4294967295,I=N+(U<<11&4294967295|U>>>21),U=P+(I^N^k)+F[15]+530742520&4294967295,P=I+(U<<16&4294967295|U>>>16),U=k+(P^I^N)+F[2]+3299628645&4294967295,k=P+(U<<23&4294967295|U>>>9),U=N+(P^(k|~I))+F[0]+4096336452&4294967295,N=k+(U<<6&4294967295|U>>>26),U=I+(k^(N|~P))+F[7]+1126891415&4294967295,I=N+(U<<10&4294967295|U>>>22),U=P+(N^(I|~k))+F[14]+2878612391&4294967295,P=I+(U<<15&4294967295|U>>>17),U=k+(I^(P|~N))+F[5]+4237533241&4294967295,k=P+(U<<21&4294967295|U>>>11),U=N+(P^(k|~I))+F[12]+1700485571&4294967295,N=k+(U<<6&4294967295|U>>>26),U=I+(k^(N|~P))+F[3]+2399980690&4294967295,I=N+(U<<10&4294967295|U>>>22),U=P+(N^(I|~k))+F[10]+4293915773&4294967295,P=I+(U<<15&4294967295|U>>>17),U=k+(I^(P|~N))+F[1]+2240044497&4294967295,k=P+(U<<21&4294967295|U>>>11),U=N+(P^(k|~I))+F[8]+1873313359&4294967295,N=k+(U<<6&4294967295|U>>>26),U=I+(k^(N|~P))+F[15]+4264355552&4294967295,I=N+(U<<10&4294967295|U>>>22),U=P+(N^(I|~k))+F[6]+2734768916&4294967295,P=I+(U<<15&4294967295|U>>>17),U=k+(I^(P|~N))+F[13]+1309151649&4294967295,k=P+(U<<21&4294967295|U>>>11),U=N+(P^(k|~I))+F[4]+4149444226&4294967295,N=k+(U<<6&4294967295|U>>>26),U=I+(k^(N|~P))+F[11]+3174756917&4294967295,I=N+(U<<10&4294967295|U>>>22),U=P+(N^(I|~k))+F[2]+718787259&4294967295,P=I+(U<<15&4294967295|U>>>17),U=k+(I^(P|~N))+F[9]+3951481745&4294967295,D.g[0]=D.g[0]+N&4294967295,D.g[1]=D.g[1]+(P+(U<<21&4294967295|U>>>11))&4294967295,D.g[2]=D.g[2]+P&4294967295,D.g[3]=D.g[3]+I&4294967295}r.prototype.u=function(D,N){N===void 0&&(N=D.length);for(var k=N-this.blockSize,F=this.B,P=this.h,I=0;I<N;){if(P==0)for(;I<=k;)i(this,D,I),I+=this.blockSize;if(typeof D=="string"){for(;I<N;)if(F[P++]=D.charCodeAt(I++),P==this.blockSize){i(this,F),P=0;break}}else for(;I<N;)if(F[P++]=D[I++],P==this.blockSize){i(this,F),P=0;break}}this.h=P,this.o+=N},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var N=1;N<D.length-8;++N)D[N]=0;var k=8*this.o;for(N=D.length-8;N<D.length;++N)D[N]=k&255,k/=256;for(this.u(D),D=Array(16),N=k=0;4>N;++N)for(var F=0;32>F;F+=8)D[k++]=this.g[N]>>>F&255;return D};function s(D,N){var k=o;return Object.prototype.hasOwnProperty.call(k,D)?k[D]:k[D]=N(D)}function a(D,N){this.h=N;for(var k=[],F=!0,P=D.length-1;0<=P;P--){var I=D[P]|0;F&&I==N||(k[P]=I,F=!1)}this.g=k}var o={};function l(D){return-128<=D&&128>D?s(D,function(N){return new a([N|0],0>N?-1:0)}):new a([D|0],0>D?-1:0)}function c(D){if(isNaN(D)||!isFinite(D))return f;if(0>D)return y(c(-D));for(var N=[],k=1,F=0;D>=k;F++)N[F]=D/k|0,k*=4294967296;return new a(N,0)}function u(D,N){if(D.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(D.charAt(0)=="-")return y(u(D.substring(1),N));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=c(Math.pow(N,8)),F=f,P=0;P<D.length;P+=8){var I=Math.min(8,D.length-P),U=parseInt(D.substring(P,P+I),N);8>I?(I=c(Math.pow(N,I)),F=F.j(I).add(c(U))):(F=F.j(k),F=F.add(c(U)))}return F}var f=l(0),h=l(1),p=l(16777216);t=a.prototype,t.m=function(){if(g(this))return-y(this).m();for(var D=0,N=1,k=0;k<this.g.length;k++){var F=this.i(k);D+=(0<=F?F:4294967296+F)*N,N*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(v(this))return"0";if(g(this))return"-"+y(this).toString(D);for(var N=c(Math.pow(D,6)),k=this,F="";;){var P=C(k,N).g;k=b(k,P.j(N));var I=((0<k.g.length?k.g[0]:k.h)>>>0).toString(D);if(k=P,v(k))return I+F;for(;6>I.length;)I="0"+I;F=I+F}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function v(D){if(D.h!=0)return!1;for(var N=0;N<D.g.length;N++)if(D.g[N]!=0)return!1;return!0}function g(D){return D.h==-1}t.l=function(D){return D=b(this,D),g(D)?-1:v(D)?0:1};function y(D){for(var N=D.g.length,k=[],F=0;F<N;F++)k[F]=~D.g[F];return new a(k,~D.h).add(h)}t.abs=function(){return g(this)?y(this):this},t.add=function(D){for(var N=Math.max(this.g.length,D.g.length),k=[],F=0,P=0;P<=N;P++){var I=F+(this.i(P)&65535)+(D.i(P)&65535),U=(I>>>16)+(this.i(P)>>>16)+(D.i(P)>>>16);F=U>>>16,I&=65535,U&=65535,k[P]=U<<16|I}return new a(k,k[k.length-1]&-2147483648?-1:0)};function b(D,N){return D.add(y(N))}t.j=function(D){if(v(this)||v(D))return f;if(g(this))return g(D)?y(this).j(y(D)):y(y(this).j(D));if(g(D))return y(this.j(y(D)));if(0>this.l(p)&&0>D.l(p))return c(this.m()*D.m());for(var N=this.g.length+D.g.length,k=[],F=0;F<2*N;F++)k[F]=0;for(F=0;F<this.g.length;F++)for(var P=0;P<D.g.length;P++){var I=this.i(F)>>>16,U=this.i(F)&65535,O=D.i(P)>>>16,K=D.i(P)&65535;k[2*F+2*P]+=U*K,_(k,2*F+2*P),k[2*F+2*P+1]+=I*K,_(k,2*F+2*P+1),k[2*F+2*P+1]+=U*O,_(k,2*F+2*P+1),k[2*F+2*P+2]+=I*O,_(k,2*F+2*P+2)}for(F=0;F<N;F++)k[F]=k[2*F+1]<<16|k[2*F];for(F=N;F<2*N;F++)k[F]=0;return new a(k,0)};function _(D,N){for(;(D[N]&65535)!=D[N];)D[N+1]+=D[N]>>>16,D[N]&=65535,N++}function w(D,N){this.g=D,this.h=N}function C(D,N){if(v(N))throw Error("division by zero");if(v(D))return new w(f,f);if(g(D))return N=C(y(D),N),new w(y(N.g),y(N.h));if(g(N))return N=C(D,y(N)),new w(y(N.g),N.h);if(30<D.g.length){if(g(D)||g(N))throw Error("slowDivide_ only works with positive integers.");for(var k=h,F=N;0>=F.l(D);)k=S(k),F=S(F);var P=R(k,1),I=R(F,1);for(F=R(F,2),k=R(k,2);!v(F);){var U=I.add(F);0>=U.l(D)&&(P=P.add(k),I=U),F=R(F,1),k=R(k,1)}return N=b(D,P.j(N)),new w(P,N)}for(P=f;0<=D.l(N);){for(k=Math.max(1,Math.floor(D.m()/N.m())),F=Math.ceil(Math.log(k)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),I=c(k),U=I.j(N);g(U)||0<U.l(D);)k-=F,I=c(k),U=I.j(N);v(I)&&(I=h),P=P.add(I),D=b(D,U)}return new w(P,D)}t.A=function(D){return C(this,D).h},t.and=function(D){for(var N=Math.max(this.g.length,D.g.length),k=[],F=0;F<N;F++)k[F]=this.i(F)&D.i(F);return new a(k,this.h&D.h)},t.or=function(D){for(var N=Math.max(this.g.length,D.g.length),k=[],F=0;F<N;F++)k[F]=this.i(F)|D.i(F);return new a(k,this.h|D.h)},t.xor=function(D){for(var N=Math.max(this.g.length,D.g.length),k=[],F=0;F<N;F++)k[F]=this.i(F)^D.i(F);return new a(k,this.h^D.h)};function S(D){for(var N=D.g.length+1,k=[],F=0;F<N;F++)k[F]=D.i(F)<<1|D.i(F-1)>>>31;return new a(k,D.h)}function R(D,N){var k=N>>5;N%=32;for(var F=D.g.length-k,P=[],I=0;I<F;I++)P[I]=0<N?D.i(I+k)>>>N|D.i(I+k+1)<<32-N:D.i(I+k);return new a(P,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,oV=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=u,bu=a}).apply(typeof I8<"u"?I8:typeof self<"u"?self:typeof window<"u"?window:{});var fx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lV,m0,cV,i2,R4,uV,dV,fV;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(M,Z,se){return M==Array.prototype||M==Object.prototype||(M[Z]=se.value),M};function n(M){M=[typeof globalThis=="object"&&globalThis,M,typeof window=="object"&&window,typeof self=="object"&&self,typeof fx=="object"&&fx];for(var Z=0;Z<M.length;++Z){var se=M[Z];if(se&&se.Math==Math)return se}throw Error("Cannot find global object")}var r=n(this);function i(M,Z){if(Z)e:{var se=r;M=M.split(".");for(var De=0;De<M.length-1;De++){var He=M[De];if(!(He in se))break e;se=se[He]}M=M[M.length-1],De=se[M],Z=Z(De),Z!=De&&Z!=null&&e(se,M,{configurable:!0,writable:!0,value:Z})}}function s(M,Z){M instanceof String&&(M+="");var se=0,De=!1,He={next:function(){if(!De&&se<M.length){var tt=se++;return{value:Z(tt,M[tt]),done:!1}}return De=!0,{done:!0,value:void 0}}};return He[Symbol.iterator]=function(){return He},He}i("Array.prototype.values",function(M){return M||function(){return s(this,function(Z,se){return se})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(M){var Z=typeof M;return Z=Z!="object"?Z:M?Array.isArray(M)?"array":Z:"null",Z=="array"||Z=="object"&&typeof M.length=="number"}function c(M){var Z=typeof M;return Z=="object"&&M!=null||Z=="function"}function u(M,Z,se){return M.call.apply(M.bind,arguments)}function f(M,Z,se){if(!M)throw Error();if(2<arguments.length){var De=Array.prototype.slice.call(arguments,2);return function(){var He=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(He,De),M.apply(Z,He)}}return function(){return M.apply(Z,arguments)}}function h(M,Z,se){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,h.apply(null,arguments)}function p(M,Z){var se=Array.prototype.slice.call(arguments,1);return function(){var De=se.slice();return De.push.apply(De,arguments),M.apply(this,De)}}function v(M,Z){function se(){}se.prototype=Z.prototype,M.aa=Z.prototype,M.prototype=new se,M.prototype.constructor=M,M.Qb=function(De,He,tt){for(var wt=Array(arguments.length-2),Bn=2;Bn<arguments.length;Bn++)wt[Bn-2]=arguments[Bn];return Z.prototype[He].apply(De,wt)}}function g(M){const Z=M.length;if(0<Z){const se=Array(Z);for(let De=0;De<Z;De++)se[De]=M[De];return se}return[]}function y(M,Z){for(let se=1;se<arguments.length;se++){const De=arguments[se];if(l(De)){const He=M.length||0,tt=De.length||0;M.length=He+tt;for(let wt=0;wt<tt;wt++)M[He+wt]=De[wt]}else M.push(De)}}class b{constructor(Z,se){this.i=Z,this.j=se,this.h=0,this.g=null}get(){let Z;return 0<this.h?(this.h--,Z=this.g,this.g=Z.next,Z.next=null):Z=this.i(),Z}}function _(M){return/^[\s\xa0]*$/.test(M)}function w(){var M=o.navigator;return M&&(M=M.userAgent)?M:""}function C(M){return C[" "](M),M}C[" "]=function(){};var S=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function R(M,Z,se){for(const De in M)Z.call(se,M[De],De,M)}function D(M,Z){for(const se in M)Z.call(void 0,M[se],se,M)}function N(M){const Z={};for(const se in M)Z[se]=M[se];return Z}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(M,Z){let se,De;for(let He=1;He<arguments.length;He++){De=arguments[He];for(se in De)M[se]=De[se];for(let tt=0;tt<k.length;tt++)se=k[tt],Object.prototype.hasOwnProperty.call(De,se)&&(M[se]=De[se])}}function P(M){var Z=1;M=M.split(":");const se=[];for(;0<Z&&M.length;)se.push(M.shift()),Z--;return M.length&&se.push(M.join(":")),se}function I(M){o.setTimeout(()=>{throw M},0)}function U(){var M=z;let Z=null;return M.g&&(Z=M.g,M.g=M.g.next,M.g||(M.h=null),Z.next=null),Z}class O{constructor(){this.h=this.g=null}add(Z,se){const De=K.get();De.set(Z,se),this.h?this.h.next=De:this.g=De,this.h=De}}var K=new b(()=>new X,M=>M.reset());class X{constructor(){this.next=this.g=this.h=null}set(Z,se){this.h=Z,this.g=se,this.next=null}reset(){this.next=this.g=this.h=null}}let J,ne=!1,z=new O,Q=()=>{const M=o.Promise.resolve(void 0);J=()=>{M.then(B)}};var B=()=>{for(var M;M=U();){try{M.h.call(M.g)}catch(se){I(se)}var Z=K;Z.j(M),100>Z.h&&(Z.h++,M.next=Z.g,Z.g=M)}ne=!1};function j(){this.s=this.s,this.C=this.C}j.prototype.s=!1,j.prototype.ma=function(){this.s||(this.s=!0,this.N())},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(M,Z){this.type=M,this.g=this.target=Z,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var G=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var M=!1,Z=Object.defineProperty({},"passive",{get:function(){M=!0}});try{const se=()=>{};o.addEventListener("test",se,Z),o.removeEventListener("test",se,Z)}catch{}return M})();function Y(M,Z){if(W.call(this,M?M.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,M){var se=this.type=M.type,De=M.changedTouches&&M.changedTouches.length?M.changedTouches[0]:null;if(this.target=M.target||M.srcElement,this.g=Z,Z=M.relatedTarget){if(S){e:{try{C(Z.nodeName);var He=!0;break e}catch{}He=!1}He||(Z=null)}}else se=="mouseover"?Z=M.fromElement:se=="mouseout"&&(Z=M.toElement);this.relatedTarget=Z,De?(this.clientX=De.clientX!==void 0?De.clientX:De.pageX,this.clientY=De.clientY!==void 0?De.clientY:De.pageY,this.screenX=De.screenX||0,this.screenY=De.screenY||0):(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0),this.button=M.button,this.key=M.key||"",this.ctrlKey=M.ctrlKey,this.altKey=M.altKey,this.shiftKey=M.shiftKey,this.metaKey=M.metaKey,this.pointerId=M.pointerId||0,this.pointerType=typeof M.pointerType=="string"?M.pointerType:ee[M.pointerType]||"",this.state=M.state,this.i=M,M.defaultPrevented&&Y.aa.h.call(this)}}v(Y,W);var ee={2:"touch",3:"pen",4:"mouse"};Y.prototype.h=function(){Y.aa.h.call(this);var M=this.i;M.preventDefault?M.preventDefault():M.returnValue=!1};var ae="closure_listenable_"+(1e6*Math.random()|0),de=0;function fe(M,Z,se,De,He){this.listener=M,this.proxy=null,this.src=Z,this.type=se,this.capture=!!De,this.ha=He,this.key=++de,this.da=this.fa=!1}function Ae(M){M.da=!0,M.listener=null,M.proxy=null,M.src=null,M.ha=null}function Re(M){this.src=M,this.g={},this.h=0}Re.prototype.add=function(M,Z,se,De,He){var tt=M.toString();M=this.g[tt],M||(M=this.g[tt]=[],this.h++);var wt=Le(M,Z,De,He);return-1<wt?(Z=M[wt],se||(Z.fa=!1)):(Z=new fe(Z,this.src,tt,!!De,He),Z.fa=se,M.push(Z)),Z};function me(M,Z){var se=Z.type;if(se in M.g){var De=M.g[se],He=Array.prototype.indexOf.call(De,Z,void 0),tt;(tt=0<=He)&&Array.prototype.splice.call(De,He,1),tt&&(Ae(Z),M.g[se].length==0&&(delete M.g[se],M.h--))}}function Le(M,Z,se,De){for(var He=0;He<M.length;++He){var tt=M[He];if(!tt.da&&tt.listener==Z&&tt.capture==!!se&&tt.ha==De)return He}return-1}var V="closure_lm_"+(1e6*Math.random()|0),xe={};function Te(M,Z,se,De,He){if(Array.isArray(Z)){for(var tt=0;tt<Z.length;tt++)Te(M,Z[tt],se,De,He);return null}return se=ye(se),M&&M[ae]?M.K(Z,se,c(De)?!!De.capture:!1,He):le(M,Z,se,!1,De,He)}function le(M,Z,se,De,He,tt){if(!Z)throw Error("Invalid event type");var wt=c(He)?!!He.capture:!!He,Bn=ce(M);if(Bn||(M[V]=Bn=new Re(M)),se=Bn.add(Z,se,De,wt,tt),se.proxy)return se;if(De=re(),se.proxy=De,De.src=M,De.listener=se,M.addEventListener)G||(He=wt),He===void 0&&(He=!1),M.addEventListener(Z.toString(),De,He);else if(M.attachEvent)M.attachEvent(we(Z.toString()),De);else if(M.addListener&&M.removeListener)M.addListener(De);else throw Error("addEventListener and attachEvent are unavailable.");return se}function re(){function M(se){return Z.call(M.src,M.listener,se)}const Z=ie;return M}function oe(M,Z,se,De,He){if(Array.isArray(Z))for(var tt=0;tt<Z.length;tt++)oe(M,Z[tt],se,De,He);else De=c(De)?!!De.capture:!!De,se=ye(se),M&&M[ae]?(M=M.i,Z=String(Z).toString(),Z in M.g&&(tt=M.g[Z],se=Le(tt,se,De,He),-1<se&&(Ae(tt[se]),Array.prototype.splice.call(tt,se,1),tt.length==0&&(delete M.g[Z],M.h--)))):M&&(M=ce(M))&&(Z=M.g[Z.toString()],M=-1,Z&&(M=Le(Z,se,De,He)),(se=-1<M?Z[M]:null)&&he(se))}function he(M){if(typeof M!="number"&&M&&!M.da){var Z=M.src;if(Z&&Z[ae])me(Z.i,M);else{var se=M.type,De=M.proxy;Z.removeEventListener?Z.removeEventListener(se,De,M.capture):Z.detachEvent?Z.detachEvent(we(se),De):Z.addListener&&Z.removeListener&&Z.removeListener(De),(se=ce(Z))?(me(se,M),se.h==0&&(se.src=null,Z[V]=null)):Ae(M)}}}function we(M){return M in xe?xe[M]:xe[M]="on"+M}function ie(M,Z){if(M.da)M=!0;else{Z=new Y(Z,this);var se=M.listener,De=M.ha||M.src;M.fa&&he(M),M=se.call(De,Z)}return M}function ce(M){return M=M[V],M instanceof Re?M:null}var ge="__closure_events_fn_"+(1e9*Math.random()>>>0);function ye(M){return typeof M=="function"?M:(M[ge]||(M[ge]=function(Z){return M.handleEvent(Z)}),M[ge])}function Ne(){j.call(this),this.i=new Re(this),this.M=this,this.F=null}v(Ne,j),Ne.prototype[ae]=!0,Ne.prototype.removeEventListener=function(M,Z,se,De){oe(this,M,Z,se,De)};function Ue(M,Z){var se,De=M.F;if(De)for(se=[];De;De=De.F)se.push(De);if(M=M.M,De=Z.type||Z,typeof Z=="string")Z=new W(Z,M);else if(Z instanceof W)Z.target=Z.target||M;else{var He=Z;Z=new W(De,M),F(Z,He)}if(He=!0,se)for(var tt=se.length-1;0<=tt;tt--){var wt=Z.g=se[tt];He=Se(wt,De,!0,Z)&&He}if(wt=Z.g=M,He=Se(wt,De,!0,Z)&&He,He=Se(wt,De,!1,Z)&&He,se)for(tt=0;tt<se.length;tt++)wt=Z.g=se[tt],He=Se(wt,De,!1,Z)&&He}Ne.prototype.N=function(){if(Ne.aa.N.call(this),this.i){var M=this.i,Z;for(Z in M.g){for(var se=M.g[Z],De=0;De<se.length;De++)Ae(se[De]);delete M.g[Z],M.h--}}this.F=null},Ne.prototype.K=function(M,Z,se,De){return this.i.add(String(M),Z,!1,se,De)},Ne.prototype.L=function(M,Z,se,De){return this.i.add(String(M),Z,!0,se,De)};function Se(M,Z,se,De){if(Z=M.i.g[String(Z)],!Z)return!0;Z=Z.concat();for(var He=!0,tt=0;tt<Z.length;++tt){var wt=Z[tt];if(wt&&!wt.da&&wt.capture==se){var Bn=wt.listener,hi=wt.ha||wt.src;wt.fa&&me(M.i,wt),He=Bn.call(hi,De)!==!1&&He}}return He&&!De.defaultPrevented}function Me(M,Z,se){if(typeof M=="function")se&&(M=h(M,se));else if(M&&typeof M.handleEvent=="function")M=h(M.handleEvent,M);else throw Error("Invalid listener argument");return 2147483647<Number(Z)?-1:o.setTimeout(M,Z||0)}function Oe(M){M.g=Me(()=>{M.g=null,M.i&&(M.i=!1,Oe(M))},M.l);const Z=M.h;M.h=null,M.m.apply(null,Z)}class Xe extends j{constructor(Z,se){super(),this.m=Z,this.l=se,this.h=null,this.i=!1,this.g=null}j(Z){this.h=arguments,this.g?this.i=!0:Oe(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rt(M){j.call(this),this.h=M,this.g={}}v(rt,j);var it=[];function Lt(M){R(M.g,function(Z,se){this.g.hasOwnProperty(se)&&he(Z)},M),M.g={}}rt.prototype.N=function(){rt.aa.N.call(this),Lt(this)},rt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _n=o.JSON.stringify,cn=o.JSON.parse,Nr=class{stringify(M){return o.JSON.stringify(M,void 0)}parse(M){return o.JSON.parse(M,void 0)}};function Qn(){}Qn.prototype.h=null;function Zn(M){return M.h||(M.h=M.i())}function lr(){}var Qt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Tn(){W.call(this,"d")}v(Tn,W);function pe(){W.call(this,"c")}v(pe,W);var Ee={},Fe=null;function Ge(){return Fe=Fe||new Ne}Ee.La="serverreachability";function st(M){W.call(this,Ee.La,M)}v(st,W);function It(M){const Z=Ge();Ue(Z,new st(Z))}Ee.STAT_EVENT="statevent";function ln(M,Z){W.call(this,Ee.STAT_EVENT,M),this.stat=Z}v(ln,W);function rn(M){const Z=Ge();Ue(Z,new ln(Z,M))}Ee.Ma="timingevent";function xr(M,Z){W.call(this,Ee.Ma,M),this.size=Z}v(xr,W);function Ln(M,Z){if(typeof M!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){M()},Z)}function Qe(){this.g=!0}Qe.prototype.xa=function(){this.g=!1};function ft(M,Z,se,De,He,tt){M.info(function(){if(M.g)if(tt)for(var wt="",Bn=tt.split("&"),hi=0;hi<Bn.length;hi++){var bn=Bn[hi].split("=");if(1<bn.length){var Ei=bn[0];bn=bn[1];var si=Ei.split("_");wt=2<=si.length&&si[1]=="type"?wt+(Ei+"="+bn+"&"):wt+(Ei+"=redacted&")}}else wt=null;else wt=tt;return"XMLHTTP REQ ("+De+") [attempt "+He+"]: "+Z+`
`+se+`
`+wt})}function Ut(M,Z,se,De,He,tt,wt){M.info(function(){return"XMLHTTP RESP ("+De+") [ attempt "+He+"]: "+Z+`
`+se+`
`+tt+" "+wt})}function ue(M,Z,se,De){M.info(function(){return"XMLHTTP TEXT ("+Z+"): "+_e(M,se)+(De?" "+De:"")})}function be(M,Z){M.info(function(){return"TIMEOUT: "+Z})}Qe.prototype.info=function(){};function _e(M,Z){if(!M.g)return Z;if(!Z)return null;try{var se=JSON.parse(Z);if(se){for(M=0;M<se.length;M++)if(Array.isArray(se[M])){var De=se[M];if(!(2>De.length)){var He=De[1];if(Array.isArray(He)&&!(1>He.length)){var tt=He[0];if(tt!="noop"&&tt!="stop"&&tt!="close")for(var wt=1;wt<He.length;wt++)He[wt]=""}}}}return _n(se)}catch{return Z}}var Ce={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ie={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ke;function We(){}v(We,Qn),We.prototype.g=function(){return new XMLHttpRequest},We.prototype.i=function(){return{}},ke=new We;function qe(M,Z,se,De){this.j=M,this.i=Z,this.l=se,this.R=De||1,this.U=new rt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ve}function Ve(){this.i=null,this.g="",this.h=!1}var $e={},Je={};function at(M,Z,se){M.L=1,M.v=Uc(fa(Z)),M.m=se,M.P=!0,gt(M,null)}function gt(M,Z){M.F=Date.now(),ht(M),M.A=fa(M.v);var se=M.A,De=M.R;Array.isArray(De)||(De=[String(De)]),Lc(se.i,"t",De),M.C=0,se=M.j.J,M.h=new Ve,M.g=m1(M.j,se?Z:null,!M.m),0<M.O&&(M.M=new Xe(h(M.Y,M,M.g),M.O)),Z=M.U,se=M.g,De=M.ca;var He="readystatechange";Array.isArray(He)||(He&&(it[0]=He.toString()),He=it);for(var tt=0;tt<He.length;tt++){var wt=Te(se,He[tt],De||Z.handleEvent,!1,Z.h||Z);if(!wt)break;Z.g[wt.key]=wt}Z=M.H?N(M.H):{},M.m?(M.u||(M.u="POST"),Z["Content-Type"]="application/x-www-form-urlencoded",M.g.ea(M.A,M.u,M.m,Z)):(M.u="GET",M.g.ea(M.A,M.u,null,Z)),It(),ft(M.i,M.u,M.A,M.l,M.R,M.m)}qe.prototype.ca=function(M){M=M.target;const Z=this.M;Z&&Vs(M)==3?Z.j():this.Y(M)},qe.prototype.Y=function(M){try{if(M==this.g)e:{const si=Vs(this.g);var Z=this.g.Ba();const Pa=this.g.Z();if(!(3>si)&&(si!=3||this.g&&(this.h.h||this.g.oa()||cg(this.g)))){this.J||si!=4||Z==7||(Z==8||0>=Pa?It(3):It(2)),Fn(this);var se=this.g.Z();this.X=se;t:if(St(this)){var De=cg(this.g);M="";var He=De.length,tt=Vs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){jn(this),Dn(this);var wt="";break t}this.h.i=new o.TextDecoder}for(Z=0;Z<He;Z++)this.h.h=!0,M+=this.h.i.decode(De[Z],{stream:!(tt&&Z==He-1)});De.length=0,this.h.g+=M,this.C=0,wt=this.h.g}else wt=this.g.oa();if(this.o=se==200,Ut(this.i,this.u,this.A,this.l,this.R,si,se),this.o){if(this.T&&!this.K){t:{if(this.g){var Bn,hi=this.g;if((Bn=hi.g?hi.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Bn)){var bn=Bn;break t}}bn=null}if(se=bn)ue(this.i,this.l,se,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,uo(this,se);else{this.o=!1,this.s=3,rn(12),jn(this),Dn(this);break e}}if(this.P){se=!0;let pa;for(;!this.J&&this.C<wt.length;)if(pa=yt(this,wt),pa==Je){si==4&&(this.s=4,rn(14),se=!1),ue(this.i,this.l,null,"[Incomplete Response]");break}else if(pa==$e){this.s=4,rn(15),ue(this.i,this.l,wt,"[Invalid Chunk]"),se=!1;break}else ue(this.i,this.l,pa,null),uo(this,pa);if(St(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),si!=4||wt.length!=0||this.h.h||(this.s=1,rn(16),se=!1),this.o=this.o&&se,!se)ue(this.i,this.l,wt,"[Invalid Chunked Response]"),jn(this),Dn(this);else if(0<wt.length&&!this.W){this.W=!0;var Ei=this.j;Ei.g==this&&Ei.ba&&!Ei.M&&(Ei.j.info("Great, no buffering proxy detected. Bytes received: "+wt.length),dg(Ei),Ei.M=!0,rn(11))}}else ue(this.i,this.l,wt,null),uo(this,wt);si==4&&jn(this),this.o&&!this.J&&(si==4?bh(this.j,this):(this.o=!1,ht(this)))}else gh(this.g),se==400&&0<wt.indexOf("Unknown SID")?(this.s=3,rn(12)):(this.s=0,rn(13)),jn(this),Dn(this)}}}catch{}finally{}};function St(M){return M.g?M.u=="GET"&&M.L!=2&&M.j.Ca:!1}function yt(M,Z){var se=M.C,De=Z.indexOf(`
`,se);return De==-1?Je:(se=Number(Z.substring(se,De)),isNaN(se)?$e:(De+=1,De+se>Z.length?Je:(Z=Z.slice(De,De+se),M.C=De+se,Z)))}qe.prototype.cancel=function(){this.J=!0,jn(this)};function ht(M){M.S=Date.now()+M.I,Jt(M,M.I)}function Jt(M,Z){if(M.B!=null)throw Error("WatchDog timer not null");M.B=Ln(h(M.ba,M),Z)}function Fn(M){M.B&&(o.clearTimeout(M.B),M.B=null)}qe.prototype.ba=function(){this.B=null;const M=Date.now();0<=M-this.S?(be(this.i,this.A),this.L!=2&&(It(),rn(17)),jn(this),this.s=2,Dn(this)):Jt(this,this.S-M)};function Dn(M){M.j.G==0||M.J||bh(M.j,M)}function jn(M){Fn(M);var Z=M.M;Z&&typeof Z.ma=="function"&&Z.ma(),M.M=null,Lt(M.U),M.g&&(Z=M.g,M.g=null,Z.abort(),Z.ma())}function uo(M,Z){try{var se=M.j;if(se.G!=0&&(se.g==M||cr(se.h,M))){if(!M.K&&cr(se.h,M)&&se.G==3){try{var De=se.Da.g.parse(Z)}catch{De=null}if(Array.isArray(De)&&De.length==3){var He=De;if(He[0]==0){e:if(!se.u){if(se.g)if(se.g.F+3e3<M.F)_h(se),go(se);else break e;xh(se),rn(18)}}else se.za=He[1],0<se.za-se.T&&37500>He[2]&&se.F&&se.v==0&&!se.C&&(se.C=Ln(h(se.Za,se),6e3));if(1>=Rc(se.h)&&se.ca){try{se.ca()}catch{}se.ca=void 0}}else Ll(se,11)}else if((M.K||se.g==M)&&_h(se),!_(Z))for(He=se.Da.g.parse(Z),Z=0;Z<He.length;Z++){let bn=He[Z];if(se.T=bn[0],bn=bn[1],se.G==2)if(bn[0]=="c"){se.K=bn[1],se.ia=bn[2];const Ei=bn[3];Ei!=null&&(se.la=Ei,se.j.info("VER="+se.la));const si=bn[4];si!=null&&(se.Aa=si,se.j.info("SVER="+se.Aa));const Pa=bn[5];Pa!=null&&typeof Pa=="number"&&0<Pa&&(De=1.5*Pa,se.L=De,se.j.info("backChannelRequestTimeoutMs_="+De)),De=se;const pa=M.g;if(pa){const vd=pa.g?pa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vd){var tt=De.h;tt.g||vd.indexOf("spdy")==-1&&vd.indexOf("quic")==-1&&vd.indexOf("h2")==-1||(tt.j=tt.l,tt.g=new Set,tt.h&&(sg(tt,tt.h),tt.h=null))}if(De.D){const Th=pa.g?pa.g.getResponseHeader("X-HTTP-Session-Id"):null;Th&&(De.ya=Th,er(De.I,De.D,Th))}}se.G=3,se.l&&se.l.ua(),se.ba&&(se.R=Date.now()-M.F,se.j.info("Handshake RTT: "+se.R+"ms")),De=se;var wt=M;if(De.qa=p1(De,De.J?De.ia:null,De.W),wt.K){n1(De.h,wt);var Bn=wt,hi=De.L;hi&&(Bn.I=hi),Bn.B&&(Fn(Bn),ht(Bn)),De.g=wt}else yd(De);0<se.i.length&&Xo(se)}else bn[0]!="stop"&&bn[0]!="close"||Ll(se,7);else se.G==3&&(bn[0]=="stop"||bn[0]=="close"?bn[0]=="stop"?Ll(se,7):Vi(se):bn[0]!="noop"&&se.l&&se.l.ta(bn),se.v=0)}}It(4)}catch{}}var zo=class{constructor(M,Z){this.g=M,this.map=Z}};function da(M){this.l=M||10,o.PerformanceNavigationTiming?(M=o.performance.getEntriesByType("navigation"),M=0<M.length&&(M[0].nextHopProtocol=="hq"||M[0].nextHopProtocol=="h2")):M=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=M?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xr(M){return M.h?!0:M.g?M.g.size>=M.j:!1}function Rc(M){return M.h?1:M.g?M.g.size:0}function cr(M,Z){return M.h?M.h==Z:M.g?M.g.has(Z):!1}function sg(M,Z){M.g?M.g.add(Z):M.h=Z}function n1(M,Z){M.h&&M.h==Z?M.h=null:M.g&&M.g.has(Z)&&M.g.delete(Z)}da.prototype.cancel=function(){if(this.i=r1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const M of this.g.values())M.cancel();this.g.clear()}};function r1(M){if(M.h!=null)return M.i.concat(M.h.D);if(M.g!=null&&M.g.size!==0){let Z=M.i;for(const se of M.g.values())Z=Z.concat(se.D);return Z}return g(M.i)}function dh(M){if(M.V&&typeof M.V=="function")return M.V();if(typeof Map<"u"&&M instanceof Map||typeof Set<"u"&&M instanceof Set)return Array.from(M.values());if(typeof M=="string")return M.split("");if(l(M)){for(var Z=[],se=M.length,De=0;De<se;De++)Z.push(M[De]);return Z}Z=[],se=0;for(De in M)Z[se++]=M[De];return Z}function fh(M){if(M.na&&typeof M.na=="function")return M.na();if(!M.V||typeof M.V!="function"){if(typeof Map<"u"&&M instanceof Map)return Array.from(M.keys());if(!(typeof Set<"u"&&M instanceof Set)){if(l(M)||typeof M=="string"){var Z=[];M=M.length;for(var se=0;se<M;se++)Z.push(se);return Z}Z=[],se=0;for(const De in M)Z[se++]=De;return Z}}}function Pc(M,Z){if(M.forEach&&typeof M.forEach=="function")M.forEach(Z,void 0);else if(l(M)||typeof M=="string")Array.prototype.forEach.call(M,Z,void 0);else for(var se=fh(M),De=dh(M),He=De.length,tt=0;tt<He;tt++)Z.call(void 0,De[tt],se&&se[tt],M)}var hd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fT(M,Z){if(M){M=M.split("&");for(var se=0;se<M.length;se++){var De=M[se].indexOf("="),He=null;if(0<=De){var tt=M[se].substring(0,De);He=M[se].substring(De+1)}else tt=M[se];Z(tt,He?decodeURIComponent(He.replace(/\+/g," ")):"")}}}function Fl(M){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,M instanceof Fl){this.h=M.h,pd(this,M.j),this.o=M.o,this.g=M.g,Fc(this,M.s),this.l=M.l;var Z=M.i,se=new Ho;se.i=Z.i,Z.g&&(se.g=new Map(Z.g),se.h=Z.h),Mc(this,se),this.m=M.m}else M&&(Z=String(M).match(hd))?(this.h=!1,pd(this,Z[1]||"",!0),this.o=xn(Z[2]||""),this.g=xn(Z[3]||"",!0),Fc(this,Z[4]),this.l=xn(Z[5]||"",!0),Mc(this,Z[6]||"",!0),this.m=xn(Z[7]||"")):(this.h=!1,this.i=new Ho(null,this.h))}Fl.prototype.toString=function(){var M=[],Z=this.j;Z&&M.push(Oc(Z,hh,!0),":");var se=this.g;return(se||Z=="file")&&(M.push("//"),(Z=this.o)&&M.push(Oc(Z,hh,!0),"@"),M.push(encodeURIComponent(String(se)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),se=this.s,se!=null&&M.push(":",String(se))),(se=this.l)&&(this.g&&se.charAt(0)!="/"&&M.push("/"),M.push(Oc(se,se.charAt(0)=="/"?a1:s1,!0))),(se=this.i.toString())&&M.push("?",se),(se=this.m)&&M.push("#",Oc(se,ag)),M.join("")};function fa(M){return new Fl(M)}function pd(M,Z,se){M.j=se?xn(Z,!0):Z,M.j&&(M.j=M.j.replace(/:$/,""))}function Fc(M,Z){if(Z){if(Z=Number(Z),isNaN(Z)||0>Z)throw Error("Bad port number "+Z);M.s=Z}else M.s=null}function Mc(M,Z,se){Z instanceof Ho?(M.i=Z,Go(M.i,M.h)):(se||(Z=Oc(Z,o1)),M.i=new Ho(Z,M.h))}function er(M,Z,se){M.i.set(Z,se)}function Uc(M){return er(M,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),M}function xn(M,Z){return M?Z?decodeURI(M.replace(/%25/g,"%2525")):decodeURIComponent(M):""}function Oc(M,Z,se){return typeof M=="string"?(M=encodeURI(M).replace(Z,i1),se&&(M=M.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M):null}function i1(M){return M=M.charCodeAt(0),"%"+(M>>4&15).toString(16)+(M&15).toString(16)}var hh=/[#\/\?@]/g,s1=/[#\?:]/g,a1=/[#\?]/g,o1=/[#\?@]/g,ag=/#/g;function Ho(M,Z){this.h=this.g=null,this.i=M||null,this.j=!!Z}function Bi(M){M.g||(M.g=new Map,M.h=0,M.i&&fT(M.i,function(Z,se){M.add(decodeURIComponent(Z.replace(/\+/g," ")),se)}))}t=Ho.prototype,t.add=function(M,Z){Bi(this),this.i=null,M=Ra(this,M);var se=this.g.get(M);return se||this.g.set(M,se=[]),se.push(Z),this.h+=1,this};function fo(M,Z){Bi(M),Z=Ra(M,Z),M.g.has(Z)&&(M.i=null,M.h-=M.g.get(Z).length,M.g.delete(Z))}function ho(M,Z){return Bi(M),Z=Ra(M,Z),M.g.has(Z)}t.forEach=function(M,Z){Bi(this),this.g.forEach(function(se,De){se.forEach(function(He){M.call(Z,He,De,this)},this)},this)},t.na=function(){Bi(this);const M=Array.from(this.g.values()),Z=Array.from(this.g.keys()),se=[];for(let De=0;De<Z.length;De++){const He=M[De];for(let tt=0;tt<He.length;tt++)se.push(Z[De])}return se},t.V=function(M){Bi(this);let Z=[];if(typeof M=="string")ho(this,M)&&(Z=Z.concat(this.g.get(Ra(this,M))));else{M=Array.from(this.g.values());for(let se=0;se<M.length;se++)Z=Z.concat(M[se])}return Z},t.set=function(M,Z){return Bi(this),this.i=null,M=Ra(this,M),ho(this,M)&&(this.h-=this.g.get(M).length),this.g.set(M,[Z]),this.h+=1,this},t.get=function(M,Z){return M?(M=this.V(M),0<M.length?String(M[0]):Z):Z};function Lc(M,Z,se){fo(M,Z),0<se.length&&(M.i=null,M.g.set(Ra(M,Z),g(se)),M.h+=se.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const M=[],Z=Array.from(this.g.keys());for(var se=0;se<Z.length;se++){var De=Z[se];const tt=encodeURIComponent(String(De)),wt=this.V(De);for(De=0;De<wt.length;De++){var He=tt;wt[De]!==""&&(He+="="+encodeURIComponent(String(wt[De]))),M.push(He)}}return this.i=M.join("&")};function Ra(M,Z){return Z=String(Z),M.j&&(Z=Z.toLowerCase()),Z}function Go(M,Z){Z&&!M.j&&(Bi(M),M.i=null,M.g.forEach(function(se,De){var He=De.toLowerCase();De!=He&&(fo(this,De),Lc(this,He,se))},M)),M.j=Z}function hT(M,Z){const se=new Qe;if(o.Image){const De=new Image;De.onload=p(Bs,se,"TestLoadImage: loaded",!0,Z,De),De.onerror=p(Bs,se,"TestLoadImage: error",!1,Z,De),De.onabort=p(Bs,se,"TestLoadImage: abort",!1,Z,De),De.ontimeout=p(Bs,se,"TestLoadImage: timeout",!1,Z,De),o.setTimeout(function(){De.ontimeout&&De.ontimeout()},1e4),De.src=M}else Z(!1)}function l1(M,Z){const se=new Qe,De=new AbortController,He=setTimeout(()=>{De.abort(),Bs(se,"TestPingServer: timeout",!1,Z)},1e4);fetch(M,{signal:De.signal}).then(tt=>{clearTimeout(He),tt.ok?Bs(se,"TestPingServer: ok",!0,Z):Bs(se,"TestPingServer: server error",!1,Z)}).catch(()=>{clearTimeout(He),Bs(se,"TestPingServer: error",!1,Z)})}function Bs(M,Z,se,De,He){try{He&&(He.onload=null,He.onerror=null,He.onabort=null,He.ontimeout=null),De(se)}catch{}}function pT(){this.g=new Nr}function c1(M,Z,se){const De=se||"";try{Pc(M,function(He,tt){let wt=He;c(He)&&(wt=_n(He)),Z.push(De+tt+"="+encodeURIComponent(wt))})}catch(He){throw Z.push(De+"type="+encodeURIComponent("_badmap")),He}}function Ml(M){this.l=M.Ub||null,this.j=M.eb||!1}v(Ml,Qn),Ml.prototype.g=function(){return new md(this.l,this.j)},Ml.prototype.i=(function(M){return function(){return M}})({});function md(M,Z){Ne.call(this),this.D=M,this.o=Z,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(md,Ne),t=md.prototype,t.open=function(M,Z){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=M,this.A=Z,this.readyState=1,mo(this)},t.send=function(M){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const Z={headers:this.u,method:this.B,credentials:this.m,cache:void 0};M&&(Z.body=M),(this.D||o).fetch(new Request(this.A,Z)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,po(this)),this.readyState=0},t.Sa=function(M){if(this.g&&(this.l=M,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=M.headers,this.readyState=2,mo(this)),this.g&&(this.readyState=3,mo(this),this.g)))if(this.responseType==="arraybuffer")M.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in M){if(this.j=M.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;u1(this)}else M.text().then(this.Ra.bind(this),this.ga.bind(this))};function u1(M){M.j.read().then(M.Pa.bind(M)).catch(M.ga.bind(M))}t.Pa=function(M){if(this.g){if(this.o&&M.value)this.response.push(M.value);else if(!this.o){var Z=M.value?M.value:new Uint8Array(0);(Z=this.v.decode(Z,{stream:!M.done}))&&(this.response=this.responseText+=Z)}M.done?po(this):mo(this),this.readyState==3&&u1(this)}},t.Ra=function(M){this.g&&(this.response=this.responseText=M,po(this))},t.Qa=function(M){this.g&&(this.response=M,po(this))},t.ga=function(){this.g&&po(this)};function po(M){M.readyState=4,M.l=null,M.j=null,M.v=null,mo(M)}t.setRequestHeader=function(M,Z){this.u.append(M,Z)},t.getResponseHeader=function(M){return this.h&&this.h.get(M.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const M=[],Z=this.h.entries();for(var se=Z.next();!se.done;)se=se.value,M.push(se[0]+": "+se[1]),se=Z.next();return M.join(`\r
`)};function mo(M){M.onreadystatechange&&M.onreadystatechange.call(M)}Object.defineProperty(md.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(M){this.m=M?"include":"same-origin"}});function Ul(M){let Z="";return R(M,function(se,De){Z+=De,Z+=":",Z+=se,Z+=`\r
`}),Z}function jc(M,Z,se){e:{for(De in se){var De=!1;break e}De=!0}De||(se=Ul(se),typeof M=="string"?se!=null&&encodeURIComponent(String(se)):er(M,Z,se))}function _r(M){Ne.call(this),this.headers=new Map,this.o=M||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(_r,Ne);var mT=/^https?$/i,og=["POST","PUT"];t=_r.prototype,t.Ha=function(M){this.J=M},t.ea=function(M,Z,se,De){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+M);Z=Z?Z.toUpperCase():"GET",this.D=M,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ke.g(),this.v=this.o?Zn(this.o):Zn(ke),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(Z,String(M),!0),this.B=!1}catch(tt){gd(this,tt);return}if(M=se||"",se=new Map(this.headers),De)if(Object.getPrototypeOf(De)===Object.prototype)for(var He in De)se.set(He,De[He]);else if(typeof De.keys=="function"&&typeof De.get=="function")for(const tt of De.keys())se.set(tt,De.get(tt));else throw Error("Unknown input type for opt_headers: "+String(De));De=Array.from(se.keys()).find(tt=>tt.toLowerCase()=="content-type"),He=o.FormData&&M instanceof o.FormData,!(0<=Array.prototype.indexOf.call(og,Z,void 0))||De||He||se.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[tt,wt]of se)this.g.setRequestHeader(tt,wt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{mh(this),this.u=!0,this.g.send(M),this.u=!1}catch(tt){gd(this,tt)}};function gd(M,Z){M.h=!1,M.g&&(M.j=!0,M.g.abort(),M.j=!1),M.l=Z,M.m=5,ph(M),ha(M)}function ph(M){M.A||(M.A=!0,Ue(M,"complete"),Ue(M,"error"))}t.abort=function(M){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=M||7,Ue(this,"complete"),Ue(this,"abort"),ha(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ha(this,!0)),_r.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?lg(this):this.bb())},t.bb=function(){lg(this)};function lg(M){if(M.h&&typeof a<"u"&&(!M.v[1]||Vs(M)!=4||M.Z()!=2)){if(M.u&&Vs(M)==4)Me(M.Ea,0,M);else if(Ue(M,"readystatechange"),Vs(M)==4){M.h=!1;try{const wt=M.Z();e:switch(wt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var Z=!0;break e;default:Z=!1}var se;if(!(se=Z)){var De;if(De=wt===0){var He=String(M.D).match(hd)[1]||null;!He&&o.self&&o.self.location&&(He=o.self.location.protocol.slice(0,-1)),De=!mT.test(He?He.toLowerCase():"")}se=De}if(se)Ue(M,"complete"),Ue(M,"success");else{M.m=6;try{var tt=2<Vs(M)?M.g.statusText:""}catch{tt=""}M.l=tt+" ["+M.Z()+"]",ph(M)}}finally{ha(M)}}}}function ha(M,Z){if(M.g){mh(M);const se=M.g,De=M.v[0]?()=>{}:null;M.g=null,M.v=null,Z||Ue(M,"ready");try{se.onreadystatechange=De}catch{}}}function mh(M){M.I&&(o.clearTimeout(M.I),M.I=null)}t.isActive=function(){return!!this.g};function Vs(M){return M.g?M.g.readyState:0}t.Z=function(){try{return 2<Vs(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(M){if(this.g){var Z=this.g.responseText;return M&&Z.indexOf(M)==0&&(Z=Z.substring(M.length)),cn(Z)}};function cg(M){try{if(!M.g)return null;if("response"in M.g)return M.g.response;switch(M.H){case"":case"text":return M.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in M.g)return M.g.mozResponseArrayBuffer}return null}catch{return null}}function gh(M){const Z={};M=(M.g&&2<=Vs(M)&&M.g.getAllResponseHeaders()||"").split(`\r
`);for(let De=0;De<M.length;De++){if(_(M[De]))continue;var se=P(M[De]);const He=se[0];if(se=se[1],typeof se!="string")continue;se=se.trim();const tt=Z[He]||[];Z[He]=tt,tt.push(se)}D(Z,function(De){return De.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ko(M,Z,se){return se&&se.internalChannelParams&&se.internalChannelParams[M]||Z}function ug(M){this.Aa=0,this.i=[],this.j=new Qe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ko("failFast",!1,M),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ko("baseRetryDelayMs",5e3,M),this.cb=Ko("retryDelaySeedMs",1e4,M),this.Wa=Ko("forwardChannelMaxRetries",2,M),this.wa=Ko("forwardChannelRequestTimeoutMs",2e4,M),this.pa=M&&M.xmlHttpFactory||void 0,this.Xa=M&&M.Tb||void 0,this.Ca=M&&M.useFetchStreams||!1,this.L=void 0,this.J=M&&M.supportsCrossDomainXhr||!1,this.K="",this.h=new da(M&&M.concurrentRequestLimit),this.Da=new pT,this.P=M&&M.fastHandshake||!1,this.O=M&&M.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=M&&M.Rb||!1,M&&M.xa&&this.j.xa(),M&&M.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&M&&M.detectBufferingProxy||!1,this.ja=void 0,M&&M.longPollingTimeout&&0<M.longPollingTimeout&&(this.ja=M.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ug.prototype,t.la=8,t.G=1,t.connect=function(M,Z,se,De){rn(0),this.W=M,this.H=Z||{},se&&De!==void 0&&(this.H.OSID=se,this.H.OAID=De),this.F=this.X,this.I=p1(this,null,this.W),Xo(this)};function Vi(M){if(yh(M),M.G==3){var Z=M.U++,se=fa(M.I);if(er(se,"SID",M.K),er(se,"RID",Z),er(se,"TYPE","terminate"),Ol(M,se),Z=new qe(M,M.j,Z),Z.L=2,Z.v=Uc(fa(se)),se=!1,o.navigator&&o.navigator.sendBeacon)try{se=o.navigator.sendBeacon(Z.v.toString(),"")}catch{}!se&&o.Image&&(new Image().src=Z.v,se=!0),se||(Z.g=m1(Z.j,null),Z.g.ea(Z.v)),Z.F=Date.now(),ht(Z)}h1(M)}function go(M){M.g&&(dg(M),M.g.cancel(),M.g=null)}function yh(M){go(M),M.u&&(o.clearTimeout(M.u),M.u=null),_h(M),M.h.cancel(),M.s&&(typeof M.s=="number"&&o.clearTimeout(M.s),M.s=null)}function Xo(M){if(!Xr(M.h)&&!M.s){M.s=!0;var Z=M.Ga;J||Q(),ne||(J(),ne=!0),z.add(Z,M),M.B=0}}function gT(M,Z){return Rc(M.h)>=M.h.j-(M.s?1:0)?!1:M.s?(M.i=Z.D.concat(M.i),!0):M.G==1||M.G==2||M.B>=(M.Va?0:M.Wa)?!1:(M.s=Ln(h(M.Ga,M,Z),f1(M,M.B)),M.B++,!0)}t.Ga=function(M){if(this.s)if(this.s=null,this.G==1){if(!M){this.U=Math.floor(1e5*Math.random()),M=this.U++;const He=new qe(this,this.j,M);let tt=this.o;if(this.S&&(tt?(tt=N(tt),F(tt,this.S)):tt=this.S),this.m!==null||this.O||(He.H=tt,tt=null),this.P)e:{for(var Z=0,se=0;se<this.i.length;se++){t:{var De=this.i[se];if("__data__"in De.map&&(De=De.map.__data__,typeof De=="string")){De=De.length;break t}De=void 0}if(De===void 0)break;if(Z+=De,4096<Z){Z=se;break e}if(Z===4096||se===this.i.length-1){Z=se+1;break e}}Z=1e3}else Z=1e3;Z=Bc(this,He,Z),se=fa(this.I),er(se,"RID",M),er(se,"CVER",22),this.D&&er(se,"X-HTTP-Session-Id",this.D),Ol(this,se),tt&&(this.O?Z="headers="+encodeURIComponent(String(Ul(tt)))+"&"+Z:this.m&&jc(se,this.m,tt)),sg(this.h,He),this.Ua&&er(se,"TYPE","init"),this.P?(er(se,"$req",Z),er(se,"SID","null"),He.T=!0,at(He,se,null)):at(He,se,Z),this.G=2}}else this.G==3&&(M?vh(this,M):this.i.length==0||Xr(this.h)||vh(this))};function vh(M,Z){var se;Z?se=Z.l:se=M.U++;const De=fa(M.I);er(De,"SID",M.K),er(De,"RID",se),er(De,"AID",M.T),Ol(M,De),M.m&&M.o&&jc(De,M.m,M.o),se=new qe(M,M.j,se,M.B+1),M.m===null&&(se.H=M.o),Z&&(M.i=Z.D.concat(M.i)),Z=Bc(M,se,1e3),se.I=Math.round(.5*M.wa)+Math.round(.5*M.wa*Math.random()),sg(M.h,se),at(se,De,Z)}function Ol(M,Z){M.H&&R(M.H,function(se,De){er(Z,De,se)}),M.l&&Pc({},function(se,De){er(Z,De,se)})}function Bc(M,Z,se){se=Math.min(M.i.length,se);var De=M.l?h(M.l.Na,M.l,M):null;e:{var He=M.i;let tt=-1;for(;;){const wt=["count="+se];tt==-1?0<se?(tt=He[0].g,wt.push("ofs="+tt)):tt=0:wt.push("ofs="+tt);let Bn=!0;for(let hi=0;hi<se;hi++){let bn=He[hi].g;const Ei=He[hi].map;if(bn-=tt,0>bn)tt=Math.max(0,He[hi].g-100),Bn=!1;else try{c1(Ei,wt,"req"+bn+"_")}catch{De&&De(Ei)}}if(Bn){De=wt.join("&");break e}}}return M=M.i.splice(0,se),Z.D=M,De}function yd(M){if(!M.g&&!M.u){M.Y=1;var Z=M.Fa;J||Q(),ne||(J(),ne=!0),z.add(Z,M),M.v=0}}function xh(M){return M.g||M.u||3<=M.v?!1:(M.Y++,M.u=Ln(h(M.Fa,M),f1(M,M.v)),M.v++,!0)}t.Fa=function(){if(this.u=null,d1(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var M=2*this.R;this.j.info("BP detection timer enabled: "+M),this.A=Ln(h(this.ab,this),M)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rn(10),go(this),d1(this))};function dg(M){M.A!=null&&(o.clearTimeout(M.A),M.A=null)}function d1(M){M.g=new qe(M,M.j,"rpc",M.Y),M.m===null&&(M.g.H=M.o),M.g.O=0;var Z=fa(M.qa);er(Z,"RID","rpc"),er(Z,"SID",M.K),er(Z,"AID",M.T),er(Z,"CI",M.F?"0":"1"),!M.F&&M.ja&&er(Z,"TO",M.ja),er(Z,"TYPE","xmlhttp"),Ol(M,Z),M.m&&M.o&&jc(Z,M.m,M.o),M.L&&(M.g.I=M.L);var se=M.g;M=M.ia,se.L=1,se.v=Uc(fa(Z)),se.m=null,se.P=!0,gt(se,M)}t.Za=function(){this.C!=null&&(this.C=null,go(this),xh(this),rn(19))};function _h(M){M.C!=null&&(o.clearTimeout(M.C),M.C=null)}function bh(M,Z){var se=null;if(M.g==Z){_h(M),dg(M),M.g=null;var De=2}else if(cr(M.h,Z))se=Z.D,n1(M.h,Z),De=1;else return;if(M.G!=0){if(Z.o)if(De==1){se=Z.m?Z.m.length:0,Z=Date.now()-Z.F;var He=M.B;De=Ge(),Ue(De,new xr(De,se)),Xo(M)}else yd(M);else if(He=Z.s,He==3||He==0&&0<Z.X||!(De==1&&gT(M,Z)||De==2&&xh(M)))switch(se&&0<se.length&&(Z=M.h,Z.i=Z.i.concat(se)),He){case 1:Ll(M,5);break;case 4:Ll(M,10);break;case 3:Ll(M,6);break;default:Ll(M,2)}}}function f1(M,Z){let se=M.Ta+Math.floor(Math.random()*M.cb);return M.isActive()||(se*=2),se*Z}function Ll(M,Z){if(M.j.info("Error code "+Z),Z==2){var se=h(M.fb,M),De=M.Xa;const He=!De;De=new Fl(De||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||pd(De,"https"),Uc(De),He?hT(De.toString(),se):l1(De.toString(),se)}else rn(2);M.G=0,M.l&&M.l.sa(Z),h1(M),yh(M)}t.fb=function(M){M?(this.j.info("Successfully pinged google.com"),rn(2)):(this.j.info("Failed to ping google.com"),rn(1))};function h1(M){if(M.G=0,M.ka=[],M.l){const Z=r1(M.h);(Z.length!=0||M.i.length!=0)&&(y(M.ka,Z),y(M.ka,M.i),M.h.i.length=0,g(M.i),M.i.length=0),M.l.ra()}}function p1(M,Z,se){var De=se instanceof Fl?fa(se):new Fl(se);if(De.g!="")Z&&(De.g=Z+"."+De.g),Fc(De,De.s);else{var He=o.location;De=He.protocol,Z=Z?Z+"."+He.hostname:He.hostname,He=+He.port;var tt=new Fl(null);De&&pd(tt,De),Z&&(tt.g=Z),He&&Fc(tt,He),se&&(tt.l=se),De=tt}return se=M.D,Z=M.ya,se&&Z&&er(De,se,Z),er(De,"VER",M.la),Ol(M,De),De}function m1(M,Z,se){if(Z&&!M.J)throw Error("Can't create secondary domain capable XhrIo object.");return Z=M.Ca&&!M.pa?new _r(new Ml({eb:se})):new _r(M.pa),Z.Ha(M.J),Z}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function fg(){}t=fg.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function wh(){}wh.prototype.g=function(M,Z){return new Es(M,Z)};function Es(M,Z){Ne.call(this),this.g=new ug(Z),this.l=M,this.h=Z&&Z.messageUrlParams||null,M=Z&&Z.messageHeaders||null,Z&&Z.clientProtocolHeaderRequired&&(M?M["X-Client-Protocol"]="webchannel":M={"X-Client-Protocol":"webchannel"}),this.g.o=M,M=Z&&Z.initMessageHeaders||null,Z&&Z.messageContentType&&(M?M["X-WebChannel-Content-Type"]=Z.messageContentType:M={"X-WebChannel-Content-Type":Z.messageContentType}),Z&&Z.va&&(M?M["X-WebChannel-Client-Profile"]=Z.va:M={"X-WebChannel-Client-Profile":Z.va}),this.g.S=M,(M=Z&&Z.Sb)&&!_(M)&&(this.g.m=M),this.v=Z&&Z.supportsCrossDomainXhr||!1,this.u=Z&&Z.sendRawJson||!1,(Z=Z&&Z.httpSessionIdParam)&&!_(Z)&&(this.g.D=Z,M=this.h,M!==null&&Z in M&&(M=this.h,Z in M&&delete M[Z])),this.j=new Jo(this)}v(Es,Ne),Es.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Es.prototype.close=function(){Vi(this.g)},Es.prototype.o=function(M){var Z=this.g;if(typeof M=="string"){var se={};se.__data__=M,M=se}else this.u&&(se={},se.__data__=_n(M),M=se);Z.i.push(new zo(Z.Ya++,M)),Z.G==3&&Xo(Z)},Es.prototype.N=function(){this.g.l=null,delete this.j,Vi(this.g),delete this.g,Es.aa.N.call(this)};function g1(M){Tn.call(this),M.__headers__&&(this.headers=M.__headers__,this.statusCode=M.__status__,delete M.__headers__,delete M.__status__);var Z=M.__sm__;if(Z){e:{for(const se in Z){M=se;break e}M=void 0}(this.i=M)&&(M=this.i,Z=Z!==null&&M in Z?Z[M]:void 0),this.data=Z}else this.data=M}v(g1,Tn);function y1(){pe.call(this),this.status=1}v(y1,pe);function Jo(M){this.g=M}v(Jo,fg),Jo.prototype.ua=function(){Ue(this.g,"a")},Jo.prototype.ta=function(M){Ue(this.g,new g1(M))},Jo.prototype.sa=function(M){Ue(this.g,new y1)},Jo.prototype.ra=function(){Ue(this.g,"b")},wh.prototype.createWebChannel=wh.prototype.g,Es.prototype.send=Es.prototype.o,Es.prototype.open=Es.prototype.m,Es.prototype.close=Es.prototype.close,fV=function(){return new wh},dV=function(){return Ge()},uV=Ee,R4={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ce.NO_ERROR=0,Ce.TIMEOUT=8,Ce.HTTP_ERROR=6,i2=Ce,Ie.COMPLETE="complete",cV=Ie,lr.EventType=Qt,Qt.OPEN="a",Qt.CLOSE="b",Qt.ERROR="c",Qt.MESSAGE="d",Ne.prototype.listen=Ne.prototype.K,m0=lr,_r.prototype.listenOnce=_r.prototype.L,_r.prototype.getLastError=_r.prototype.Ka,_r.prototype.getLastErrorCode=_r.prototype.Ba,_r.prototype.getStatus=_r.prototype.Z,_r.prototype.getResponseJson=_r.prototype.Oa,_r.prototype.getResponseText=_r.prototype.oa,_r.prototype.send=_r.prototype.ea,_r.prototype.setWithCredentials=_r.prototype.Ha,lV=_r}).apply(typeof fx<"u"?fx:typeof self<"u"?self:typeof window<"u"?window:{});const k8="@firebase/firestore",R8="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pi=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Pi.UNAUTHENTICATED=new Pi(null),Pi.GOOGLE_CREDENTIALS=new Pi("google-credentials-uid"),Pi.FIRST_PARTY=new Pi("first-party-uid"),Pi.MOCK_USER=new Pi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Am="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku=new Dm("@firebase/firestore");function ap(){return ku.logLevel}function Bne(t){ku.setLogLevel(t)}function ut(t,...e){if(ku.logLevel<=mn.DEBUG){const n=e.map(jN);ku.debug(`Firestore (${Am}): ${t}`,...n)}}function Qr(t,...e){if(ku.logLevel<=mn.ERROR){const n=e.map(jN);ku.error(`Firestore (${Am}): ${t}`,...n)}}function El(t,...e){if(ku.logLevel<=mn.WARN){const n=e.map(jN);ku.warn(`Firestore (${Am}): ${t}`,...n)}}function jN(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,hV(t,r,n)}function hV(t,e,n){let r=`FIRESTORE (${Am}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Qr(r),new Error(r)}function Ft(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||hV(e,i,r)}function Vne(t,e){t||Dt(57014,e)}function Et(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends ms{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Wne{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Pi.UNAUTHENTICATED)))}shutdown(){}}class qne{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class $ne{constructor(e){this.t=e,this.currentUser=Pi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ft(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Ji;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ji,e.enqueueRetryable((()=>i(this.currentUser)))};const a=()=>{const l=s;e.enqueueRetryable((async()=>{await l.promise,await i(this.currentUser)}))},o=l=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((l=>o(l))),setTimeout((()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ji)}}),0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ft(typeof r.accessToken=="string",31837,{l:r}),new pV(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ft(e===null||typeof e=="string",2055,{h:e}),new Pi(e)}}class zne{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Pi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Hne{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new zne(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Pi.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class P8{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Gne{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ir(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ft(this.o===void 0,3512);const r=s=>{s.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,ut("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new P8(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ft(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new P8(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kne(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Kne(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function tn(t,e){return t<e?-1:t>e?1:0}function P4(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return KE(i)===KE(s)?tn(i,s):KE(i)?1:-1}return tn(t.length,e.length)}const Xne=55296,Jne=57343;function KE(t){const e=t.charCodeAt(0);return e>=Xne&&e<=Jne}function qp(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}function mV(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F8="__name__";class al{constructor(e,n,r){n===void 0?n=0:n>e.length&&Dt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Dt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return al.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof al?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=al.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return tn(e.length,n.length)}static compareSegments(e,n){const r=al.isNumericId(e),i=al.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?al.extractNumericId(e).compare(al.extractNumericId(n)):P4(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return bu.fromString(e.substring(4,e.length-2))}}class yn extends al{construct(e,n,r){return new yn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ot(et.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new yn(n)}static emptyPath(){return new yn([])}}const Yne=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tr extends al{construct(e,n,r){return new Tr(e,n,r)}static isValidIdentifier(e){return Yne.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===F8}static keyField(){return new Tr([F8])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ot(et.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new ot(et.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ot(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(r+=o,i++):(s(),i++)}if(s(),a)throw new ot(et.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tr(n)}static emptyPath(){return new Tr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.path=e}static fromPath(e){return new Tt(yn.fromString(e))}static fromName(e){return new Tt(yn.fromString(e).popFirst(5))}static empty(){return new Tt(yn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return yn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Tt(new yn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(t,e,n){if(!n)throw new ot(et.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function gV(t,e,n,r){if(e===!0&&r===!0)throw new ot(et.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function M8(t){if(!Tt.isDocumentKey(t))throw new ot(et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function U8(t){if(Tt.isDocumentKey(t))throw new ot(et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function yV(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function gb(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Dt(12329,{type:typeof t})}function Rn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ot(et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gb(t);throw new ot(et.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function vV(t,e){if(e<=0)throw new ot(et.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(t,e){const n={typeString:t};return e&&(n.value=e),n}function uv(t,e){if(!yV(t))throw new ot(et.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new ot(et.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O8=-62135596800,L8=1e6;class Mn{static now(){return Mn.fromMillis(Date.now())}static fromDate(e){return Mn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*L8);return new Mn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ot(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ot(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<O8)throw new ot(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ot(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/L8}_compareTo(e){return this.seconds===e.seconds?tn(this.nanoseconds,e.nanoseconds):tn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Mn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(uv(e,Mn._jsonSchema))return new Mn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-O8;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Mn._jsonSchemaVersion="firestore/timestamp/1.0",Mn._jsonSchema={type:fi("string",Mn._jsonSchemaVersion),seconds:fi("number"),nanoseconds:fi("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{static fromTimestamp(e){return new Bt(e)}static min(){return new Bt(new Mn(0,0))}static max(){return new Bt(new Mn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p=-1;class Y2{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function F4(t){return t.fields.find((e=>e.kind===2))}function Ld(t){return t.fields.filter((e=>e.kind!==2))}Y2.UNKNOWN_ID=-1;class s2{constructor(e,n){this.fieldPath=e,this.kind=n}}class dy{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new dy(0,Aa.min())}}function xV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Bt.fromTimestamp(r===1e9?new Mn(n+1,0):new Mn(n,r));return new Aa(i,Tt.empty(),e)}function _V(t){return new Aa(t.readTime,t.key,$p)}class Aa{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Aa(Bt.min(),Tt.empty(),$p)}static max(){return new Aa(Bt.max(),Tt.empty(),$p)}}function WN(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Tt.comparator(t.documentKey,e.documentKey),n!==0?n:tn(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ju(t){if(t.code!==et.FAILED_PRECONDITION||t.message!==bV)throw t;ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ze(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ze?n:ze.resolve(n)}catch(n){return ze.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ze.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ze.reject(n)}static resolve(e){return new ze(((n,r)=>{n(e)}))}static reject(e){return new ze(((n,r)=>{r(e)}))}static waitFor(e){return new ze(((n,r)=>{let i=0,s=0,a=!1;e.forEach((o=>{++i,o.next((()=>{++s,a&&s===i&&n()}),(l=>r(l)))})),a=!0,s===i&&n()}))}static or(e){let n=ze.resolve(!1);for(const r of e)n=n.next((i=>i?ze.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new ze(((r,i)=>{const s=e.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next((u=>{a[c]=u,++o,o===s&&r(a)}),(u=>i(u)))}}))}static doWhile(e,n){return new ze(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="SimpleDb";class yb{static open(e,n,r,i){try{return new yb(n,e.transaction(i,r))}catch(s){throw new D0(n,s)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new Ji,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new D0(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=qN(r.target.error);this.S.reject(new D0(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(ut(va,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Zne(n)}}class xl{static delete(e){return ut(va,"Removing database:",e),Vd(AN().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!oy())return!1;if(xl.F())return!0;const e=Mr(),n=xl.M(e),r=0<n&&n<10,i=TV(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,xl.M(Mr())===12.2&&Qr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(ut(va,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const a=s.target.result;n(a)},i.onblocked=()=>{r(new D0(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const a=s.target.error;a.name==="VersionError"?r(new ot(et.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?r(new ot(et.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):r(new D0(e,a))},i.onupgradeneeded=s=>{ut(va,'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const a=s.target.result;this.N.k(a,i.transaction,s.oldVersion,this.version).next((()=>{ut(va,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.L(e);const o=yb.open(this.db,e,s?"readonly":"readwrite",r),l=i(o).next((c=>(o.C(),c))).catch((c=>(o.abort(c),ze.reject(c)))).toPromise();return l.catch((()=>{})),await o.D,l}catch(o){const l=o,c=l.name!=="FirebaseError"&&a<3;if(ut(va,"Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function TV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class Qne{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return Vd(this.U.delete())}}class D0 extends ot{constructor(e,n){super(et.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Yu(t){return t.name==="IndexedDbTransactionError"}class Zne{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(ut(va,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(ut(va,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Vd(r)}add(e){return ut(va,"ADD",this.store.name,e,e),Vd(this.store.add(e))}get(e){return Vd(this.store.get(e)).next((n=>(n===void 0&&(n=null),ut(va,"GET",this.store.name,e,n),n)))}delete(e){return ut(va,"DELETE",this.store.name,e),Vd(this.store.delete(e))}count(){return ut(va,"COUNT",this.store.name),Vd(this.store.count())}J(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new ze(((a,o)=>{s.onerror=l=>{o(l.target.error)},s.onsuccess=l=>{a(l.target.result)}}))}{const s=this.cursor(r),a=[];return this.H(s,((o,l)=>{a.push(l)})).next((()=>a))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new ze(((i,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{i(a.target.result)}}))}Z(e,n){ut(va,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const i=this.cursor(r);return this.H(i,((s,a,o)=>o.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.H(i,n)}te(e){const n=this.cursor({});return new ze(((r,i)=>{n.onerror=s=>{const a=qN(s.target.error);i(a)},n.onsuccess=s=>{const a=s.target.result;a?e(a.primaryKey,a.value).next((o=>{o?a.continue():r()})):r()}}))}H(e,n){const r=[];return new ze(((i,s)=>{e.onerror=a=>{s(a.target.error)},e.onsuccess=a=>{const o=a.target.result;if(!o)return void i();const l=new Qne(o),c=n(o.primaryKey,o.value,l);if(c instanceof ze){const u=c.catch((f=>(l.done(),ze.reject(f))));r.push(u)}l.isDone?i():l.G===null?o.continue():o.continue(l.G)}})).next((()=>ze.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Vd(t){return new ze(((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=qN(r.target.error);n(i)}}))}let j8=!1;function qN(t){const e=xl.M(Mr());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new ot("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return j8||(j8=!0,setTimeout((()=>{throw r}),0)),r}}return t}const A0="IndexBackfiller";class ere{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){ut(A0,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();ut(A0,`Documents written: ${n}`)}catch(n){Yu(n)?ut(A0,"Ignoring IndexedDB error during index backfill: ",n):await Ju(n)}await this.re(6e4)}))}}class tre{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let i=n,s=!0;return ze.doWhile((()=>s===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((a=>{if(a!==null&&!r.has(a))return ut(A0,`Processing collection: ${a}`),this.oe(e,a,i).next((o=>{i-=o,r.add(a)}));s=!1})))).next((()=>n-i))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next((s=>{const a=s.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next((()=>this._e(i,s))).next((o=>(ut(A0,`Updating offset: ${o}`),this.localStore.indexManager.updateCollectionGroup(e,n,o)))).next((()=>a.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((i,s)=>{const a=_V(s);WN(a,r)>0&&(r=a)})),new Aa(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ys.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wu=-1;function dv(t){return t==null}function fy(t){return t===0&&1/t==-1/0}function EV(t){return typeof t=="number"&&Number.isInteger(t)&&!fy(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2="";function gs(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=B8(e)),e=nre(t.get(n),e);return B8(e)}function nre(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case Q2:n+="";break;default:n+=s}}return n}function B8(t){return t+Q2+""}function hl(t){const e=t.length;if(Ft(e>=2,64408,{path:t}),e===2)return Ft(t.charAt(0)===Q2&&t.charAt(1)==="",56145,{path:t}),yn.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const a=t.indexOf(Q2,s);switch((a<0||a>n)&&Dt(50515,{path:t}),t.charAt(a+1)){case"":const o=t.substring(s,a);let l;i.length===0?l=o:(i+=o,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,a),i+="\0";break;case"":i+=t.substring(s,a+1);break;default:Dt(61167,{path:t})}s=a+2}return new yn(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd="remoteDocuments",fv="owner",$h="owner",hy="mutationQueues",rre="userId",No="mutations",V8="batchId",Gd="userMutationsIndex",W8=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(t,e){return[t,gs(e)]}function CV(t,e,n){return[t,gs(e),n]}const ire={},zp="documentMutations",Z2="remoteDocumentsV14",sre=["prefixPath","collectionGroup","readTime","documentId"],o2="documentKeyIndex",are=["prefixPath","collectionGroup","documentId"],SV="collectionGroupIndex",ore=["collectionGroup","readTime","prefixPath","documentId"],py="remoteDocumentGlobal",M4="remoteDocumentGlobalKey",Hp="targets",DV="queryTargetsIndex",lre=["canonicalId","targetId"],Gp="targetDocuments",cre=["targetId","path"],$N="documentTargetsIndex",ure=["path","targetId"],e_="targetGlobalKey",nf="targetGlobal",my="collectionParents",dre=["collectionId","parent"],Kp="clientMetadata",fre="clientId",vb="bundles",hre="bundleId",xb="namedQueries",pre="name",zN="indexConfiguration",mre="indexId",U4="collectionGroupIndex",gre="collectionGroup",N0="indexState",yre=["indexId","uid"],AV="sequenceNumberIndex",vre=["uid","sequenceNumber"],I0="indexEntries",xre=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],NV="documentKeyIndex",_re=["indexId","uid","orderedDocumentKey"],_b="documentOverlays",bre=["userId","collectionPath","documentId"],O4="collectionPathOverlayIndex",wre=["userId","collectionPath","largestBatchId"],IV="collectionGroupOverlayIndex",Tre=["userId","collectionGroup","largestBatchId"],HN="globals",Ere="name",kV=[hy,No,zp,jd,Hp,fv,nf,Gp,Kp,py,my,vb,xb],Cre=[...kV,_b],RV=[hy,No,zp,Z2,Hp,fv,nf,Gp,Kp,py,my,vb,xb,_b],PV=RV,GN=[...PV,zN,N0,I0],Sre=GN,FV=[...GN,HN],Dre=FV;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4 extends wV{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function Ti(t,e){const n=Et(t);return xl.O(n.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q8(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Qu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function MV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ur=class j4{constructor(e,n){this.comparator=e,this.root=n||Tu.EMPTY}insert(e,n){return new j4(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tu.BLACK,null,null))}remove(e){return new j4(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tu.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hx(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hx(this.root,e,this.comparator,!1)}getReverseIterator(){return new hx(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hx(this.root,e,this.comparator,!0)}},hx=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Tu=class Xl{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Xl.RED,this.left=i??Xl.EMPTY,this.right=s??Xl.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Xl(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Xl.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Xl.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xl.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xl.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Dt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Dt(27949);return e+(this.isRed()?0:1)}};Tu.EMPTY=null,Tu.RED=!0,Tu.BLACK=!1;Tu.EMPTY=new class{constructor(){this.size=0}get key(){throw Dt(57766)}get value(){throw Dt(16141)}get color(){throw Dt(16727)}get left(){throw Dt(29726)}get right(){throw Dt(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Tu(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.comparator=e,this.data=new Ur(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $8(this.data.getIterator())}getIteratorFrom(e){return new $8(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Kn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Kn(this.comparator);return n.data=e,n}}class $8{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function zh(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e){this.fields=e,e.sort(Tr.comparator)}static empty(){return new Qs([])}unionWith(e){let n=new Kn(Tr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Qs(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return qp(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Are(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new UV("Invalid base64 string: "+s):s}})(e);return new qr(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s})(e);return new qr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qr.EMPTY_BYTE_STRING=new qr("");const Nre=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hc(t){if(Ft(!!t,39018),typeof t=="string"){let e=0;const n=Nre.exec(t);if(Ft(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wr(t.seconds),nanos:wr(t.nanos)}}function wr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function pc(t){return typeof t=="string"?qr.fromBase64String(t):qr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV="server_timestamp",LV="__type__",jV="__previous_value__",BV="__local_write_time__";function bb(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[LV])==null?void 0:r.stringValue)===OV}function wb(t){const e=t.mapValue.fields[jV];return bb(e)?wb(e):e}function gy(t){const e=hc(t.mapValue.fields[BV].timestampValue);return new Mn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ire{constructor(e,n,r,i,s,a,o,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const B4="(default)";class Ru{constructor(e,n){this.projectId=e,this.database=n||B4}static empty(){return new Ru("","")}get isDefaultDatabase(){return this.database===B4}isEqual(e){return e instanceof Ru&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN="__type__",VV="__max__",fu={mapValue:{fields:{__type__:{stringValue:VV}}}},XN="__vector__",Xp="value",l2={nullValue:"NULL_VALUE"};function Pu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?bb(t)?4:WV(t)?9007199254740991:Tb(t)?10:11:Dt(28295,{value:t})}function Cl(t,e){if(t===e)return!0;const n=Pu(t);if(n!==Pu(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return gy(t).isEqual(gy(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=hc(i.timestampValue),o=hc(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return pc(i.bytesValue).isEqual(pc(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return wr(i.geoPointValue.latitude)===wr(s.geoPointValue.latitude)&&wr(i.geoPointValue.longitude)===wr(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return wr(i.integerValue)===wr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=wr(i.doubleValue),o=wr(s.doubleValue);return a===o?fy(a)===fy(o):isNaN(a)&&isNaN(o)}return!1})(t,e);case 9:return qp(t.arrayValue.values||[],e.arrayValue.values||[],Cl);case 10:case 11:return(function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(q8(a)!==q8(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!Cl(a[l],o[l])))return!1;return!0})(t,e);default:return Dt(52216,{left:t})}}function yy(t,e){return(t.values||[]).find((n=>Cl(n,e)))!==void 0}function Fu(t,e){if(t===e)return 0;const n=Pu(t),r=Pu(e);if(n!==r)return tn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return tn(t.booleanValue,e.booleanValue);case 2:return(function(s,a){const o=wr(s.integerValue||s.doubleValue),l=wr(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1})(t,e);case 3:return z8(t.timestampValue,e.timestampValue);case 4:return z8(gy(t),gy(e));case 5:return P4(t.stringValue,e.stringValue);case 6:return(function(s,a){const o=pc(s),l=pc(a);return o.compareTo(l)})(t.bytesValue,e.bytesValue);case 7:return(function(s,a){const o=s.split("/"),l=a.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=tn(o[c],l[c]);if(u!==0)return u}return tn(o.length,l.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,a){const o=tn(wr(s.latitude),wr(a.latitude));return o!==0?o:tn(wr(s.longitude),wr(a.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return H8(t.arrayValue,e.arrayValue);case 10:return(function(s,a){var h,p,v,g;const o=s.fields||{},l=a.fields||{},c=(h=o[Xp])==null?void 0:h.arrayValue,u=(p=l[Xp])==null?void 0:p.arrayValue,f=tn(((v=c==null?void 0:c.values)==null?void 0:v.length)||0,((g=u==null?void 0:u.values)==null?void 0:g.length)||0);return f!==0?f:H8(c,u)})(t.mapValue,e.mapValue);case 11:return(function(s,a){if(s===fu.mapValue&&a===fu.mapValue)return 0;if(s===fu.mapValue)return 1;if(a===fu.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),c=a.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const h=P4(l[f],u[f]);if(h!==0)return h;const p=Fu(o[l[f]],c[u[f]]);if(p!==0)return p}return tn(l.length,u.length)})(t.mapValue,e.mapValue);default:throw Dt(23264,{he:n})}}function z8(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return tn(t,e);const n=hc(t),r=hc(e),i=tn(n.seconds,r.seconds);return i!==0?i:tn(n.nanos,r.nanos)}function H8(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Fu(n[i],r[i]);if(s)return s}return tn(n.length,r.length)}function Jp(t){return V4(t)}function V4(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=hc(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return pc(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Tt.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=V4(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${V4(n.fields[a])}`;return i+"}"})(t.mapValue):Dt(61005,{value:t})}function c2(t){switch(Pu(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wb(t);return e?16+c2(e):16;case 5:return 2*t.stringValue.length;case 6:return pc(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+c2(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Qu(r.fields,((s,a)=>{i+=s.length+c2(a)})),i})(t.mapValue);default:throw Dt(13486,{value:t})}}function mf(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function W4(t){return!!t&&"integerValue"in t}function vy(t){return!!t&&"arrayValue"in t}function G8(t){return!!t&&"nullValue"in t}function K8(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function u2(t){return!!t&&"mapValue"in t}function Tb(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[KN])==null?void 0:r.stringValue)===XN}function k0(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Qu(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=k0(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=k0(t.arrayValue.values[n]);return e}return{...t}}function WV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===VV}const qV={mapValue:{fields:{[KN]:{stringValue:XN},[Xp]:{arrayValue:{}}}}};function kre(t){return"nullValue"in t?l2:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?mf(Ru.empty(),Tt.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?Tb(t)?qV:{mapValue:{}}:Dt(35942,{value:t})}function Rre(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?mf(Ru.empty(),Tt.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?qV:"mapValue"in t?Tb(t)?{mapValue:{}}:fu:Dt(61959,{value:t})}function X8(t,e){const n=Fu(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function J8(t,e){const n=Fu(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e){this.value=e}static empty(){return new Ki({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!u2(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=k0(n)}setAll(e){let n=Tr.emptyPath(),r={},i=[];e.forEach(((a,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}a?r[o.lastSegment()]=k0(a):i.push(o.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());u2(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Cl(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];u2(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Qu(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new Ki(k0(this.value))}}function $V(t){const e=[];return Qu(t.fields,((n,r)=>{const i=new Tr([n]);if(u2(r)){const s=$V(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)})),new Qs(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e,n,r,i,s,a,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new pr(e,0,Bt.min(),Bt.min(),Bt.min(),Ki.empty(),0)}static newFoundDocument(e,n,r,i){return new pr(e,1,n,Bt.min(),r,i,0)}static newNoDocument(e,n){return new pr(e,2,n,Bt.min(),Bt.min(),Ki.empty(),0)}static newUnknownDocument(e,n){return new pr(e,3,n,Bt.min(),Bt.min(),Ki.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ki.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ki.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n){this.position=e,this.inclusive=n}}function Y8(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=Tt.comparator(Tt.fromName(a.referenceValue),n.key):r=Fu(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Q8(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Cl(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,n="asc"){this.field=e,this.dir=n}}function Pre(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{}class vn extends zV{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Fre(e,n,r):n==="array-contains"?new Ore(e,r):n==="in"?new YV(e,r):n==="not-in"?new Lre(e,r):n==="array-contains-any"?new jre(e,r):new vn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Mre(e,r):new Ure(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Fu(n,this.value)):n!==null&&Pu(this.value)===Pu(n)&&this.matchesComparison(Fu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hn extends zV{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Hn(e,n)}matches(e){return Yp(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Yp(t){return t.op==="and"}function q4(t){return t.op==="or"}function JN(t){return HV(t)&&Yp(t)}function HV(t){for(const e of t.filters)if(e instanceof Hn)return!1;return!0}function $4(t){if(t instanceof vn)return t.field.canonicalString()+t.op.toString()+Jp(t.value);if(JN(t))return t.filters.map((e=>$4(e))).join(",");{const e=t.filters.map((n=>$4(n))).join(",");return`${t.op}(${e})`}}function GV(t,e){return t instanceof vn?(function(r,i){return i instanceof vn&&r.op===i.op&&r.field.isEqual(i.field)&&Cl(r.value,i.value)})(t,e):t instanceof Hn?(function(r,i){return i instanceof Hn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,a,o)=>s&&GV(a,i.filters[o])),!0):!1})(t,e):void Dt(19439)}function KV(t,e){const n=t.filters.concat(e);return Hn.create(n,t.op)}function XV(t){return t instanceof vn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Jp(n.value)}`})(t):t instanceof Hn?(function(n){return n.op.toString()+" {"+n.getFilters().map(XV).join(" ,")+"}"})(t):"Filter"}class Fre extends vn{constructor(e,n,r){super(e,n,r),this.key=Tt.fromName(r.referenceValue)}matches(e){const n=Tt.comparator(e.key,this.key);return this.matchesComparison(n)}}class Mre extends vn{constructor(e,n){super(e,"in",n),this.keys=JV("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Ure extends vn{constructor(e,n){super(e,"not-in",n),this.keys=JV("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function JV(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>Tt.fromName(r.referenceValue)))}class Ore extends vn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return vy(n)&&yy(n.arrayValue,this.value)}}class YV extends vn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&yy(this.value.arrayValue,n)}}class Lre extends vn{constructor(e,n){super(e,"not-in",n)}matches(e){if(yy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!yy(this.value.arrayValue,n)}}class jre extends vn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!vy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>yy(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bre{constructor(e,n=null,r=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.Te=null}}function z4(t,e=null,n=[],r=[],i=null,s=null,a=null){return new Bre(t,e,n,r,i,s,a)}function gf(t){const e=Et(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>$4(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),dv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Jp(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Jp(r))).join(",")),e.Te=n}return e.Te}function hv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Pre(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!GV(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Q8(t.startAt,e.startAt)&&Q8(t.endAt,e.endAt)}function t_(t){return Tt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function n_(t,e){return t.filters.filter((n=>n instanceof vn&&n.field.isEqual(e)))}function Z8(t,e,n){let r=l2,i=!0;for(const s of n_(t,e)){let a=l2,o=!0;switch(s.op){case"<":case"<=":a=kre(s.value);break;case"==":case"in":case">=":a=s.value;break;case">":a=s.value,o=!1;break;case"!=":case"not-in":a=l2}X8({value:r,inclusive:i},{value:a,inclusive:o})<0&&(r=a,i=o)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const a=n.position[s];X8({value:r,inclusive:i},{value:a,inclusive:n.inclusive})<0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}function eP(t,e,n){let r=fu,i=!0;for(const s of n_(t,e)){let a=fu,o=!0;switch(s.op){case">=":case">":a=Rre(s.value),o=!1;break;case"==":case"in":case"<=":a=s.value;break;case"<":a=s.value,o=!1;break;case"!=":case"not-in":a=fu}J8({value:r,inclusive:i},{value:a,inclusive:o})>0&&(r=a,i=o)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const a=n.position[s];J8({value:r,inclusive:i},{value:a,inclusive:n.inclusive})>0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,n=null,r=[],i=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function QV(t,e,n,r,i,s,a,o){return new bc(t,e,n,r,i,s,a,o)}function Nm(t){return new bc(t)}function tP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function YN(t){return t.collectionGroup!==null}function Tp(t){const e=Et(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new Kn(Tr.comparator);return a.filters.forEach((l=>{l.getFlattenedFilters().forEach((c=>{c.isInequality()&&(o=o.add(c.field))}))})),o})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new xy(s,r))})),n.has(Tr.keyField().canonicalString())||e.Ie.push(new xy(Tr.keyField(),r))}return e.Ie}function Fs(t){const e=Et(t);return e.Ee||(e.Ee=Vre(e,Tp(t))),e.Ee}function Vre(t,e){if(t.limitType==="F")return z4(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new xy(i.field,s)}));const n=t.endAt?new Mu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Mu(t.startAt.position,t.startAt.inclusive):null;return z4(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function H4(t,e){const n=t.filters.concat([e]);return new bc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function r_(t,e,n){return new bc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function pv(t,e){return hv(Fs(t),Fs(e))&&t.limitType===e.limitType}function ZV(t){return`${gf(Fs(t))}|lt:${t.limitType}`}function op(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>XV(i))).join(", ")}]`),dv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Jp(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Jp(i))).join(",")),`Target(${r})`})(Fs(t))}; limitType=${t.limitType})`}function mv(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Tt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of Tp(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(a,o,l){const c=Y8(a,o,l);return a.inclusive?c<=0:c<0})(r.startAt,Tp(r),i)||r.endAt&&!(function(a,o,l){const c=Y8(a,o,l);return a.inclusive?c>=0:c>0})(r.endAt,Tp(r),i))})(t,e)}function eW(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function tW(t){return(e,n)=>{let r=!1;for(const i of Tp(t)){const s=Wre(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Wre(t,e,n){const r=t.field.isKeyField()?Tt.comparator(e.key,n.key):(function(s,a,o){const l=a.data.field(s),c=o.data.field(s);return l!==null&&c!==null?Fu(l,c):Dt(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Dt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Qu(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return MV(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qre=new Ur(Tt.comparator);function Zs(){return qre}const nW=new Ur(Tt.comparator);function g0(...t){let e=nW;for(const n of t)e=e.insert(n.key,n);return e}function rW(t){let e=nW;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function pl(){return R0()}function iW(){return R0()}function R0(){return new wc((t=>t.toString()),((t,e)=>t.isEqual(e)))}const $re=new Ur(Tt.comparator),zre=new Kn(Tt.comparator);function sn(...t){let e=zre;for(const n of t)e=e.add(n);return e}const Hre=new Kn(tn);function QN(){return Hre}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fy(e)?"-0":e}}function sW(t){return{integerValue:""+t}}function aW(t,e){return EV(e)?sW(e):ZN(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(){this._=void 0}}function Gre(t,e,n){return t instanceof Qp?(function(i,s){const a={fields:{[LV]:{stringValue:OV},[BV]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&bb(s)&&(s=wb(s)),s&&(a.fields[jV]=s),{mapValue:a}})(n,e):t instanceof yf?lW(t,e):t instanceof vf?cW(t,e):(function(i,s){const a=oW(i,s),o=nP(a)+nP(i.Ae);return W4(a)&&W4(i.Ae)?sW(o):ZN(i.serializer,o)})(t,e)}function Kre(t,e,n){return t instanceof yf?lW(t,e):t instanceof vf?cW(t,e):n}function oW(t,e){return t instanceof Zp?(function(r){return W4(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class Qp extends Eb{}class yf extends Eb{constructor(e){super(),this.elements=e}}function lW(t,e){const n=uW(e);for(const r of t.elements)n.some((i=>Cl(i,r)))||n.push(r);return{arrayValue:{values:n}}}class vf extends Eb{constructor(e){super(),this.elements=e}}function cW(t,e){let n=uW(e);for(const r of t.elements)n=n.filter((i=>!Cl(i,r)));return{arrayValue:{values:n}}}class Zp extends Eb{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function nP(t){return wr(t.integerValue||t.doubleValue)}function uW(t){return vy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e,n){this.field=e,this.transform=n}}function Xre(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof yf&&i instanceof yf||r instanceof vf&&i instanceof vf?qp(r.elements,i.elements,Cl):r instanceof Zp&&i instanceof Zp?Cl(r.Ae,i.Ae):r instanceof Qp&&i instanceof Qp})(t.transform,e.transform)}class Jre{constructor(e,n){this.version=e,this.transformResults=n}}class Er{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Er}static exists(e){return new Er(void 0,e)}static updateTime(e){return new Er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function d2(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Cb{}function dW(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new km(t.key,Er.none()):new Im(t.key,t.data,Er.none());{const n=t.data,r=Ki.empty();let i=new Kn(Tr.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new Tc(t.key,r,new Qs(i.toArray()),Er.none())}}function Yre(t,e,n){t instanceof Im?(function(i,s,a){const o=i.value.clone(),l=iP(i.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()})(t,e,n):t instanceof Tc?(function(i,s,a){if(!d2(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=iP(i.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(fW(i)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()})(t,e,n):(function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,n)}function P0(t,e,n,r){return t instanceof Im?(function(s,a,o,l){if(!d2(s.precondition,a))return o;const c=s.value.clone(),u=sP(s.fieldTransforms,l,a);return c.setAll(u),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null})(t,e,n,r):t instanceof Tc?(function(s,a,o,l){if(!d2(s.precondition,a))return o;const c=sP(s.fieldTransforms,l,a),u=a.data;return u.setAll(fW(s)),u.setAll(c),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((f=>f.field)))})(t,e,n,r):(function(s,a,o){return d2(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o})(t,e,n)}function Qre(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=oW(r.transform,i||null);s!=null&&(n===null&&(n=Ki.empty()),n.set(r.field,s))}return n||null}function rP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&qp(r,i,((s,a)=>Xre(s,a)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Im extends Cb{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Tc extends Cb{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function fW(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function iP(t,e,n){const r=new Map;Ft(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);r.set(s.field,Kre(a,o,n[i]))}return r}function sP(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,Gre(s,a,e))}return r}class km extends Cb{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class e3 extends Cb{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Yre(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=P0(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=P0(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=iW();return this.mutations.forEach((i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=n.has(i.key)?null:o;const l=dW(a,o);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(Bt.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),sn())}isEqual(e){return this.batchId===e.batchId&&qp(this.mutations,e.mutations,((n,r)=>rP(n,r)))&&qp(this.baseMutations,e.baseMutations,((n,r)=>rP(n,r)))}}class n3{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ft(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return $re})();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new n3(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zre{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var li,wn;function hW(t){switch(t){case et.OK:return Dt(64938);case et.CANCELLED:case et.UNKNOWN:case et.DEADLINE_EXCEEDED:case et.RESOURCE_EXHAUSTED:case et.INTERNAL:case et.UNAVAILABLE:case et.UNAUTHENTICATED:return!1;case et.INVALID_ARGUMENT:case et.NOT_FOUND:case et.ALREADY_EXISTS:case et.PERMISSION_DENIED:case et.FAILED_PRECONDITION:case et.ABORTED:case et.OUT_OF_RANGE:case et.UNIMPLEMENTED:case et.DATA_LOSS:return!0;default:return Dt(15467,{code:t})}}function pW(t){if(t===void 0)return Qr("GRPC error has no .code"),et.UNKNOWN;switch(t){case li.OK:return et.OK;case li.CANCELLED:return et.CANCELLED;case li.UNKNOWN:return et.UNKNOWN;case li.DEADLINE_EXCEEDED:return et.DEADLINE_EXCEEDED;case li.RESOURCE_EXHAUSTED:return et.RESOURCE_EXHAUSTED;case li.INTERNAL:return et.INTERNAL;case li.UNAVAILABLE:return et.UNAVAILABLE;case li.UNAUTHENTICATED:return et.UNAUTHENTICATED;case li.INVALID_ARGUMENT:return et.INVALID_ARGUMENT;case li.NOT_FOUND:return et.NOT_FOUND;case li.ALREADY_EXISTS:return et.ALREADY_EXISTS;case li.PERMISSION_DENIED:return et.PERMISSION_DENIED;case li.FAILED_PRECONDITION:return et.FAILED_PRECONDITION;case li.ABORTED:return et.ABORTED;case li.OUT_OF_RANGE:return et.OUT_OF_RANGE;case li.UNIMPLEMENTED:return et.UNIMPLEMENTED;case li.DATA_LOSS:return et.DATA_LOSS;default:return Dt(39323,{code:t})}}(wn=li||(li={}))[wn.OK=0]="OK",wn[wn.CANCELLED=1]="CANCELLED",wn[wn.UNKNOWN=2]="UNKNOWN",wn[wn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wn[wn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wn[wn.NOT_FOUND=5]="NOT_FOUND",wn[wn.ALREADY_EXISTS=6]="ALREADY_EXISTS",wn[wn.PERMISSION_DENIED=7]="PERMISSION_DENIED",wn[wn.UNAUTHENTICATED=16]="UNAUTHENTICATED",wn[wn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wn[wn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wn[wn.ABORTED=10]="ABORTED",wn[wn.OUT_OF_RANGE=11]="OUT_OF_RANGE",wn[wn.UNIMPLEMENTED=12]="UNIMPLEMENTED",wn[wn.INTERNAL=13]="INTERNAL",wn[wn.UNAVAILABLE=14]="UNAVAILABLE",wn[wn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mW(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eie=new bu([4294967295,4294967295],0);function aP(t){const e=mW().encode(t),n=new oV;return n.update(e),new Uint8Array(n.digest())}function oP(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new bu([n,r],0),new bu([i,s],0)]}class i3{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new y0(`Invalid padding: ${n}`);if(r<0)throw new y0(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new y0(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new y0(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=bu.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(bu.fromNumber(r)));return i.compare(eie)===1&&(i=new bu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=aP(e),[r,i]=oP(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);if(!this.we(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new i3(s,i,n);return r.forEach((o=>a.insert(o))),a}insert(e){if(this.ge===0)return;const n=aP(e),[r,i]=oP(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class y0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,vv.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new yv(Bt.min(),i,new Ur(tn),Zs(),sn())}}class vv{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new vv(r,n,sn(),sn(),sn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class gW{constructor(e,n){this.targetId=e,this.Ce=n}}class yW{constructor(e,n,r=qr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class lP{constructor(){this.ve=0,this.Fe=cP(),this.Me=qr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=sn(),n=sn(),r=sn();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Dt(38017,{changeType:s})}})),new vv(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=cP()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class tie{constructor(e){this.Ge=e,this.ze=new Map,this.je=Zs(),this.Je=px(),this.He=px(),this.Ye=new Ur(tn)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Dt(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(t_(s))if(r===0){const a=new Tt(s.path);this.et(n,a,pr.newNoDocument(a,Bt.min()))}else Ft(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const o=this.ut(e),l=o?this.ct(o,e,a):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,o;try{a=pc(r).toUint8Array()}catch(l){if(l instanceof UV)return El("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new i3(a,i,s)}catch(l){return El(l instanceof y0?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const a=this.Ge.ht(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,a)=>{const o=this.ot(a);if(o){if(s.current&&t_(o.target)){const l=new Tt(o.target.path);this.It(l).has(a)||this.Et(a,l)||this.et(a,l,pr.newNoDocument(l,e))}s.Be&&(n.set(a,s.ke()),s.qe())}}));let r=sn();this.He.forEach(((s,a)=>{let o=!0;a.forEachWhile((l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)})),o&&(r=r.add(s))})),this.je.forEach(((s,a)=>a.setReadTime(e)));const i=new yv(e,n,this.Ye,this.je,r);return this.je=Zs(),this.Je=px(),this.He=px(),this.Ye=new Ur(tn),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new lP,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Kn(tn),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Kn(tn),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ut("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new lP),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function px(){return new Ur(Tt.comparator)}function cP(){return new Ur(Tt.comparator)}const nie={asc:"ASCENDING",desc:"DESCENDING"},rie={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iie={and:"AND",or:"OR"};class sie{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function G4(t,e){return t.useProto3Json||dv(e)?e:{value:e}}function em(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vW(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function aie(t,e){return em(t,e.toTimestamp())}function Zr(t){return Ft(!!t,49232),Bt.fromTimestamp((function(n){const r=hc(n);return new Mn(r.seconds,r.nanos)})(t))}function s3(t,e){return K4(t,e).canonicalString()}function K4(t,e){const n=(function(i){return new yn(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function xW(t){const e=yn.fromString(t);return Ft(NW(e),10190,{key:e.toString()}),e}function _y(t,e){return s3(t.databaseId,e.path)}function _l(t,e){const n=xW(e);if(n.get(1)!==t.databaseId.projectId)throw new ot(et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ot(et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Tt(wW(n))}function _W(t,e){return s3(t.databaseId,e)}function bW(t){const e=xW(t);return e.length===4?yn.emptyPath():wW(e)}function X4(t){return new yn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function wW(t){return Ft(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function uP(t,e,n){return{name:_y(t,e),fields:n.value.mapValue.fields}}function TW(t,e,n){const r=_l(t,e.name),i=Zr(e.updateTime),s=e.createTime?Zr(e.createTime):Bt.min(),a=new Ki({mapValue:{fields:e.fields}}),o=pr.newFoundDocument(r,i,s,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function oie(t,e){return"found"in e?(function(r,i){Ft(!!i.found,43571),i.found.name,i.found.updateTime;const s=_l(r,i.found.name),a=Zr(i.found.updateTime),o=i.found.createTime?Zr(i.found.createTime):Bt.min(),l=new Ki({mapValue:{fields:i.found.fields}});return pr.newFoundDocument(s,a,o,l)})(t,e):"missing"in e?(function(r,i){Ft(!!i.missing,3894),Ft(!!i.readTime,22933);const s=_l(r,i.missing),a=Zr(i.readTime);return pr.newNoDocument(s,a)})(t,e):Dt(7234,{result:e})}function lie(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Dt(39313,{state:c})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(c,u){return c.useProto3Json?(Ft(u===void 0||typeof u=="string",58123),qr.fromBase64String(u||"")):(Ft(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),qr.fromUint8Array(u||new Uint8Array))})(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&(function(c){const u=c.code===void 0?et.UNKNOWN:pW(c.code);return new ot(u,c.message||"")})(a);n=new yW(r,i,s,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=_l(t,r.document.name),s=Zr(r.document.updateTime),a=r.document.createTime?Zr(r.document.createTime):Bt.min(),o=new Ki({mapValue:{fields:r.document.fields}}),l=pr.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new f2(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=_l(t,r.document),s=r.readTime?Zr(r.readTime):Bt.min(),a=pr.newNoDocument(i,s),o=r.removedTargetIds||[];n=new f2([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=_l(t,r.document),s=r.removedTargetIds||[];n=new f2([],s,i,null)}else{if(!("filter"in e))return Dt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new Zre(i,s),o=r.targetId;n=new gW(o,a)}}return n}function by(t,e){let n;if(e instanceof Im)n={update:uP(t,e.key,e.value)};else if(e instanceof km)n={delete:_y(t,e.key)};else if(e instanceof Tc)n={update:uP(t,e.key,e.data),updateMask:pie(e.fieldMask)};else{if(!(e instanceof e3))return Dt(16599,{Vt:e.type});n={verify:_y(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,a){const o=a.transform;if(o instanceof Qp)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof yf)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof vf)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Zp)return{fieldPath:a.field.canonicalString(),increment:o.Ae};throw Dt(20930,{transform:a.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:aie(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Dt(27497)})(t,e.precondition)),n}function J4(t,e){const n=e.currentDocument?(function(s){return s.updateTime!==void 0?Er.updateTime(Zr(s.updateTime)):s.exists!==void 0?Er.exists(s.exists):Er.none()})(e.currentDocument):Er.none(),r=e.updateTransforms?e.updateTransforms.map((i=>(function(a,o){let l=null;if("setToServerValue"in o)Ft(o.setToServerValue==="REQUEST_TIME",16630,{proto:o}),l=new Qp;else if("appendMissingElements"in o){const u=o.appendMissingElements.values||[];l=new yf(u)}else if("removeAllFromArray"in o){const u=o.removeAllFromArray.values||[];l=new vf(u)}else"increment"in o?l=new Zp(a,o.increment):Dt(16584,{proto:o});const c=Tr.fromServerFormat(o.fieldPath);return new gv(c,l)})(t,i))):[];if(e.update){e.update.name;const i=_l(t,e.update.name),s=new Ki({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=(function(l){const c=l.fieldPaths||[];return new Qs(c.map((u=>Tr.fromServerFormat(u))))})(e.updateMask);return new Tc(i,s,a,n,r)}return new Im(i,s,n,r)}if(e.delete){const i=_l(t,e.delete);return new km(i,n)}if(e.verify){const i=_l(t,e.verify);return new e3(i,n)}return Dt(1463,{proto:e})}function cie(t,e){return t&&t.length>0?(Ft(e!==void 0,14353),t.map((n=>(function(i,s){let a=i.updateTime?Zr(i.updateTime):Zr(s);return a.isEqual(Bt.min())&&(a=Zr(s)),new Jre(a,i.transformResults||[])})(n,e)))):[]}function EW(t,e){return{documents:[_W(t,e.path)]}}function CW(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=_W(t,i);const s=(function(c){if(c.length!==0)return AW(Hn.create(c,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const a=(function(c){if(c.length!==0)return c.map((u=>(function(h){return{field:lp(h.field),direction:die(h.dir)}})(u)))})(e.orderBy);a&&(n.structuredQuery.orderBy=a);const o=G4(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=(function(c){return{before:c.inclusive,values:c.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(c){return{before:!c.inclusive,values:c.position}})(e.endAt)),{ft:n,parent:i}}function SW(t){let e=bW(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ft(r===1,65062);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=(function(f){const h=DW(f);return h instanceof Hn&&JN(h)?h.getFilters():[h]})(n.where));let a=[];n.orderBy&&(a=(function(f){return f.map((h=>(function(v){return new xy(cp(v.field),(function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(v.direction))})(h)))})(n.orderBy));let o=null;n.limit&&(o=(function(f){let h;return h=typeof f=="object"?f.value:f,dv(h)?null:h})(n.limit));let l=null;n.startAt&&(l=(function(f){const h=!!f.before,p=f.values||[];return new Mu(p,h)})(n.startAt));let c=null;return n.endAt&&(c=(function(f){const h=!f.before,p=f.values||[];return new Mu(p,h)})(n.endAt)),QV(e,i,a,s,o,"F",l,c)}function uie(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Dt(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function DW(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=cp(n.unaryFilter.field);return vn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=cp(n.unaryFilter.field);return vn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=cp(n.unaryFilter.field);return vn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=cp(n.unaryFilter.field);return vn.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Dt(61313);default:return Dt(60726)}})(t):t.fieldFilter!==void 0?(function(n){return vn.create(cp(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Dt(58110);default:return Dt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Hn.create(n.compositeFilter.filters.map((r=>DW(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Dt(1026)}})(n.compositeFilter.op))})(t):Dt(30097,{filter:t})}function die(t){return nie[t]}function fie(t){return rie[t]}function hie(t){return iie[t]}function lp(t){return{fieldPath:t.canonicalString()}}function cp(t){return Tr.fromServerFormat(t.fieldPath)}function AW(t){return t instanceof vn?(function(n){if(n.op==="=="){if(K8(n.value))return{unaryFilter:{field:lp(n.field),op:"IS_NAN"}};if(G8(n.value))return{unaryFilter:{field:lp(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(K8(n.value))return{unaryFilter:{field:lp(n.field),op:"IS_NOT_NAN"}};if(G8(n.value))return{unaryFilter:{field:lp(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lp(n.field),op:fie(n.op),value:n.value}}})(t):t instanceof Hn?(function(n){const r=n.getFilters().map((i=>AW(i)));return r.length===1?r[0]:{compositeFilter:{op:hie(n.op),filters:r}}})(t):Dt(54877,{filter:t})}function pie(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function NW(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,n,r,i,s=Bt.min(),a=Bt.min(),o=qr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new Jl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Jl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Jl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Jl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IW{constructor(e){this.yt=e}}function mie(t,e){let n;if(e.document)n=TW(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Tt.fromSegments(e.noDocument.path),i=_f(e.noDocument.readTime);n=pr.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Dt(56709);{const r=Tt.fromSegments(e.unknownDocument.path),i=_f(e.unknownDocument.version);n=pr.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime((function(i){const s=new Mn(i[0],i[1]);return Bt.fromTimestamp(s)})(e.readTime)),n}function dP(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:i_(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(s,a){return{name:_y(s,a.key),fields:a.data.value.mapValue.fields,updateTime:em(s,a.version.toTimestamp()),createTime:em(s,a.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:xf(e.version)};else{if(!e.isUnknownDocument())return Dt(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:xf(e.version)}}return r}function i_(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function xf(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function _f(t){const e=new Mn(t.seconds,t.nanoseconds);return Bt.fromTimestamp(e)}function Wd(t,e){const n=(e.baseMutations||[]).map((s=>J4(t.yt,s)));for(let s=0;s<e.mutations.length-1;++s){const a=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const o=e.mutations[s+1];a.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map((s=>J4(t.yt,s))),i=Mn.fromMillis(e.localWriteTimeMs);return new t3(e.batchId,i,n,r)}function v0(t){const e=_f(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?_f(t.lastLimboFreeSnapshotVersion):Bt.min();let r;return r=(function(s){return s.documents!==void 0})(t.query)?(function(s){const a=s.documents.length;return Ft(a===1,1966,{count:a}),Fs(Nm(bW(s.documents[0])))})(t.query):(function(s){return Fs(SW(s))})(t.query),new Jl(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,qr.fromBase64String(t.resumeToken))}function kW(t,e){const n=xf(e.snapshotVersion),r=xf(e.lastLimboFreeSnapshotVersion);let i;i=t_(e.target)?EW(t.yt,e.target):CW(t.yt,e.target).ft;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:gf(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function a3(t){const e=SW({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?r_(e,e.limit,"L"):e}function XE(t,e){return new r3(e.largestBatchId,J4(t.yt,e.overlayMutation))}function fP(t,e){const n=e.path.lastSegment();return[t,gs(e.path.popLast()),n]}function hP(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:xf(r.readTime),documentKey:gs(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gie{getBundleMetadata(e,n){return pP(e).get(n).next((r=>{if(r)return(function(s){return{id:s.bundleId,createTime:_f(s.createTime),version:s.version}})(r)}))}saveBundleMetadata(e,n){return pP(e).put((function(i){return{bundleId:i.id,createTime:xf(Zr(i.createTime)),version:i.version}})(n))}getNamedQuery(e,n){return mP(e).get(n).next((r=>{if(r)return(function(s){return{name:s.name,query:a3(s.bundledQuery),readTime:_f(s.readTime)}})(r)}))}saveNamedQuery(e,n){return mP(e).put((function(i){return{name:i.name,readTime:xf(Zr(i.readTime)),bundledQuery:i.bundledQuery}})(n))}}function pP(t){return Ti(t,vb)}function mP(t){return Ti(t,xb)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new Sb(e,r)}getOverlay(e,n){return Lg(e).get(fP(this.userId,n)).next((r=>r?XE(this.serializer,r):null))}getOverlays(e,n){const r=pl();return ze.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){const i=[];return r.forEach(((s,a)=>{const o=new r3(n,a);i.push(this.St(e,o))})),ze.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach((a=>i.add(gs(a.getCollectionPath()))));const s=[];return i.forEach((a=>{const o=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,r+1],!1,!0);s.push(Lg(e).Z(O4,o))})),ze.waitFor(s)}getOverlaysForCollection(e,n,r){const i=pl(),s=gs(n),a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Lg(e).J(O4,a).next((o=>{for(const l of o){const c=XE(this.serializer,l);i.set(c.getKey(),c)}return i}))}getOverlaysForCollectionGroup(e,n,r,i){const s=pl();let a;const o=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Lg(e).ee({index:IV,range:o},((l,c,u)=>{const f=XE(this.serializer,c);s.size()<i||f.largestBatchId===a?(s.set(f.getKey(),f),a=f.largestBatchId):u.done()})).next((()=>s))}St(e,n){return Lg(e).put((function(i,s,a){const[o,l,c]=fP(s,a.mutation.key);return{userId:s,collectionPath:l,documentId:c,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:by(i.yt,a.mutation)}})(this.serializer,this.userId,n))}}function Lg(t){return Ti(t,_b)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yie{bt(e){return Ti(e,HN)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n==null?void 0:n.value;return r?qr.fromUint8Array(r):qr.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(wr(e.integerValue));else if("doubleValue"in e){const r=wr(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),fy(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=hc(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(pc(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?WV(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):Tb(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):Dt(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){var a,o;const r=e.fields||{};this.Ft(n,53);const i=Xp,s=((o=(a=r[i].arrayValue)==null?void 0:a.values)==null?void 0:o.length)||0;this.Ft(n,15),n.Mt(wr(s)),this.Ot(i,n),this.Ct(r[i],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),Tt.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}qd.Kt=new qd;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh=255;function vie(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function gP(t){const e=64-(function(r){let i=0;for(let s=0;s<8;++s){const a=vie(255&r[s]);if(i+=a,a!==8)break}return i})(t);return Math.ceil(e/8)}class xie{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=n.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=n.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Ht()}Xt(e){const n=this.en(e),r=gP(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}nn(e){const n=this.en(e),r=gP(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}rn(){this.sn(Hh),this.sn(255)}_n(){this.an(Hh),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(s){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,s,!1),new Uint8Array(a.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===Hh?(this.sn(Hh),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===Hh?(this.an(Hh),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class _ie{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class bie{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class jg{constructor(){this.cn=new xie,this.ln=new _ie(this.cn),this.hn=new bie(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,n,r,i){this.Tn=e,this.In=n,this.En=r,this.dn=i}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new $d(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:h2(this.En),directionalValue:h2(this.dn),orderedDocumentKey:h2(n),documentKey:r.path.toArray()}}Vn(e,n,r){const i=this.Rn(e,n,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function tu(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=yP(t.En,e.En),n!==0?n:(n=yP(t.dn,e.dn),n!==0?n:Tt.comparator(t.In,e.In)))}function yP(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function h2(t){return HB()?(function(n){let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r})(t):t}function vP(t){return typeof t!="string"?t:(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(t)}class xP{constructor(e){this.mn=new Kn(((n,r)=>Tr.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(Ft(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=F4(e);if(n!==void 0&&!this.wn(n))return!1;const r=Ld(e);let i=new Set,s=0,a=0;for(;s<r.length&&this.wn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.mn.size>0){const o=this.mn.getIterator().getNext();if(!i.has(o.field.canonicalString())){const l=r[s];if(!this.Sn(o,l)||!this.bn(this.fn[a++],l))return!1}++s}for(;s<r.length;++s){const o=r[s];if(a>=this.fn.length||!this.bn(this.fn[a++],o))return!1}return!0}Dn(){if(this.pn)return null;let e=new Kn(Tr.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new s2(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new s2(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new s2(r.field,r.dir==="asc"?0:1)));return new Y2(Y2.UNKNOWN_ID,this.collectionId,n,dy.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RW(t){var n,r;if(Ft(t instanceof vn||t instanceof Hn,20012),t instanceof vn){if(t instanceof YV){const i=((r=(n=t.value.arrayValue)==null?void 0:n.values)==null?void 0:r.map((s=>vn.create(t.field,"==",s))))||[];return Hn.create(i,"or")}return t}const e=t.filters.map((i=>RW(i)));return Hn.create(e,t.op)}function wie(t){if(t.getFilters().length===0)return[];const e=Z4(RW(t));return Ft(PW(e),7391),Y4(e)||Q4(e)?[e]:e.getFilters()}function Y4(t){return t instanceof vn}function Q4(t){return t instanceof Hn&&JN(t)}function PW(t){return Y4(t)||Q4(t)||(function(n){if(n instanceof Hn&&q4(n)){for(const r of n.getFilters())if(!Y4(r)&&!Q4(r))return!1;return!0}return!1})(t)}function Z4(t){if(Ft(t instanceof vn||t instanceof Hn,34018),t instanceof vn)return t;if(t.filters.length===1)return Z4(t.filters[0]);const e=t.filters.map((r=>Z4(r)));let n=Hn.create(e,t.op);return n=s_(n),PW(n)?n:(Ft(n instanceof Hn,64498),Ft(Yp(n),40251),Ft(n.filters.length>1,57927),n.filters.reduce(((r,i)=>o3(r,i))))}function o3(t,e){let n;return Ft(t instanceof vn||t instanceof Hn,38388),Ft(e instanceof vn||e instanceof Hn,25473),n=t instanceof vn?e instanceof vn?(function(i,s){return Hn.create([i,s],"and")})(t,e):_P(t,e):e instanceof vn?_P(e,t):(function(i,s){if(Ft(i.filters.length>0&&s.filters.length>0,48005),Yp(i)&&Yp(s))return KV(i,s.getFilters());const a=q4(i)?i:s,o=q4(i)?s:i,l=a.filters.map((c=>o3(c,o)));return Hn.create(l,"or")})(t,e),s_(n)}function _P(t,e){if(Yp(e))return KV(e,t.getFilters());{const n=e.filters.map((r=>o3(t,r)));return Hn.create(n,"or")}}function s_(t){if(Ft(t instanceof vn||t instanceof Hn,11850),t instanceof vn)return t;const e=t.getFilters();if(e.length===1)return s_(e[0]);if(HV(t))return t;const n=e.map((i=>s_(i))),r=[];return n.forEach((i=>{i instanceof vn?r.push(i):i instanceof Hn&&(i.op===t.op?r.push(...i.filters):r.push(i))})),r.length===1?r[0]:Hn.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tie{constructor(){this.Cn=new l3}addToCollectionParentIndex(e,n){return this.Cn.add(n),ze.resolve()}getCollectionParents(e,n){return ze.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ze.resolve()}deleteFieldIndex(e,n){return ze.resolve()}deleteAllFieldIndexes(e){return ze.resolve()}createTargetIndexes(e,n){return ze.resolve()}getDocumentsMatchingTarget(e,n){return ze.resolve(null)}getIndexType(e,n){return ze.resolve(0)}getFieldIndexes(e,n){return ze.resolve([])}getNextCollectionGroupToUpdate(e){return ze.resolve(null)}getMinOffset(e,n){return ze.resolve(Aa.min())}getMinOffsetFromCollectionGroup(e,n){return ze.resolve(Aa.min())}updateCollectionGroup(e,n,r){return ze.resolve()}updateIndexEntries(e,n){return ze.resolve()}}class l3{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Kn(yn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Kn(yn.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP="IndexedDbIndexManager",mx=new Uint8Array(0);class Eie{constructor(e,n){this.databaseId=n,this.vn=new l3,this.Fn=new wc((r=>gf(r)),((r,i)=>hv(r,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const s={collectionId:r,parent:gs(i)};return wP(e).put(s)}return ze.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[mV(n),""],!1,!0);return wP(e).J(i).next((s=>{for(const a of s){if(a.collectionId!==n)break;r.push(hl(a.parent))}return r}))}addFieldIndex(e,n){const r=Bg(e),i=(function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map((l=>[l.fieldPath.canonicalString(),l.kind]))}})(n);delete i.indexId;const s=r.add(i);if(n.indexState){const a=Kh(e);return s.next((o=>{a.put(hP(o,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return s.next()}deleteFieldIndex(e,n){const r=Bg(e),i=Kh(e),s=Gh(e);return r.delete(n.indexId).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=Bg(e),r=Gh(e),i=Kh(e);return n.Z().next((()=>r.Z())).next((()=>i.Z()))}createTargetIndexes(e,n){return ze.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((i=>{if(i===0||i===1){const s=new xP(r).Dn();if(s!=null)return this.addFieldIndex(e,s)}}))))}getDocumentsMatchingTarget(e,n){const r=Gh(e);let i=!0;const s=new Map;return ze.forEach(this.Mn(n),(a=>this.xn(e,a).next((o=>{i&&(i=!!o),s.set(a,o)})))).next((()=>{if(i){let a=sn();const o=[];return ze.forEach(s,((l,c)=>{ut(bP,`Using index ${(function(w){return`id=${w.indexId}|cg=${w.collectionGroup}|f=${w.fields.map((C=>`${C.fieldPath}:${C.kind}`)).join(",")}`})(l)} to execute ${gf(n)}`);const u=(function(w,C){const S=F4(C);if(S===void 0)return null;for(const R of n_(w,S.fieldPath))switch(R.op){case"array-contains-any":return R.value.arrayValue.values||[];case"array-contains":return[R.value]}return null})(c,l),f=(function(w,C){const S=new Map;for(const R of Ld(C))for(const D of n_(w,R.fieldPath))switch(D.op){case"==":case"in":S.set(R.fieldPath.canonicalString(),D.value);break;case"not-in":case"!=":return S.set(R.fieldPath.canonicalString(),D.value),Array.from(S.values())}return null})(c,l),h=(function(w,C){const S=[];let R=!0;for(const D of Ld(C)){const N=D.kind===0?Z8(w,D.fieldPath,w.startAt):eP(w,D.fieldPath,w.startAt);S.push(N.value),R&&(R=N.inclusive)}return new Mu(S,R)})(c,l),p=(function(w,C){const S=[];let R=!0;for(const D of Ld(C)){const N=D.kind===0?eP(w,D.fieldPath,w.endAt):Z8(w,D.fieldPath,w.endAt);S.push(N.value),R&&(R=N.inclusive)}return new Mu(S,R)})(c,l),v=this.On(l,c,h),g=this.On(l,c,p),y=this.Nn(l,c,f),b=this.Bn(l.indexId,u,v,h.inclusive,g,p.inclusive,y);return ze.forEach(b,(_=>r.Y(_,n.limit).next((w=>{w.forEach((C=>{const S=Tt.fromSegments(C.documentKey);a.has(S)||(a=a.add(S),o.push(S))}))}))))})).next((()=>o))}return ze.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=wie(Hn.create(e.filters,"and")).map((r=>z4(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,i,s,a,o){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),c=l/(n!=null?n.length:1),u=[];for(let f=0;f<l;++f){const h=n?this.Ln(n[f/c]):mx,p=this.kn(e,h,r[f%c],i),v=this.qn(e,h,s[f%c],a),g=o.map((y=>this.kn(e,h,y,!0)));u.push(...this.createRange(p,v,g))}return u}kn(e,n,r,i){const s=new $d(e,Tt.empty(),n,r);return i?s:s.An()}qn(e,n,r,i){const s=new $d(e,Tt.empty(),n,r);return i?s.An():s}xn(e,n){const r=new xP(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next((s=>{let a=null;for(const o of s)r.yn(o)&&(!a||o.fields.length>a.fields.length)&&(a=o);return a}))}getIndexType(e,n){let r=2;const i=this.Mn(n);return ze.forEach(i,(s=>this.xn(e,s).next((a=>{a?r!==0&&a.fields.length<(function(l){let c=new Kn(Tr.comparator),u=!1;for(const f of l.filters)for(const h of f.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?u=!0:c=c.add(h.field));for(const f of l.orderBy)f.field.isKeyField()||(c=c.add(f.field));return c.size+(u?1:0)})(s)&&(r=1):r=0})))).next((()=>(function(a){return a.limit!==null})(n)&&i.length>1&&r===2?1:r))}Qn(e,n){const r=new jg;for(const i of Ld(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const a=r.Pn(i.kind);qd.Kt.Dt(s,a)}return r.un()}Ln(e){const n=new jg;return qd.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new jg;return qd.Kt.Dt(mf(this.databaseId,n),r.Pn((function(s){const a=Ld(s);return a.length===0?0:a[a.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let i=[];i.push(new jg);let s=0;for(const a of Ld(e)){const o=r[s++];for(const l of i)if(this.Un(n,a.fieldPath)&&vy(o))i=this.Kn(i,a,o);else{const c=l.Pn(a.kind);qd.Kt.Dt(o,c)}}return this.Wn(i)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const i=[...e],s=[];for(const a of r.arrayValue.values||[])for(const o of i){const l=new jg;l.seed(o.un()),qd.Kt.Dt(a,l.Pn(n.kind)),s.push(l)}return s}Un(e,n){return!!e.filters.find((r=>r instanceof vn&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=Bg(e),i=Kh(e);return(n?r.J(U4,IDBKeyRange.bound(n,n)):r.J()).next((s=>{const a=[];return ze.forEach(s,(o=>i.get([o.indexId,this.uid]).next((l=>{a.push((function(u,f){const h=f?new dy(f.sequenceNumber,new Aa(_f(f.readTime),new Tt(hl(f.documentKey)),f.largestBatchId)):dy.empty(),p=u.fields.map((([v,g])=>new s2(Tr.fromServerFormat(v),g)));return new Y2(u.indexId,u.collectionGroup,p,h)})(o,l))})))).next((()=>a))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:tn(r.collectionGroup,i.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const i=Bg(e),s=Kh(e);return this.Gn(e).next((a=>i.J(U4,IDBKeyRange.bound(n,n)).next((o=>ze.forEach(o,(l=>s.put(hP(l.indexId,this.uid,a,r))))))))}updateIndexEntries(e,n){const r=new Map;return ze.forEach(n,((i,s)=>{const a=r.get(i.collectionGroup);return(a?ze.resolve(a):this.getFieldIndexes(e,i.collectionGroup)).next((o=>(r.set(i.collectionGroup,o),ze.forEach(o,(l=>this.zn(e,i,l).next((c=>{const u=this.jn(s,l);return c.isEqual(u)?ze.resolve():this.Jn(e,s,l,c,u)})))))))}))}Hn(e,n,r,i){return Gh(e).put(i.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,i){return Gh(e).delete(i.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const i=Gh(e);let s=new Kn(tu);return i.ee({index:NV,range:IDBKeyRange.only([r.indexId,this.uid,h2(this.$n(r,n))])},((a,o)=>{s=s.add(new $d(r.indexId,n,vP(o.arrayValue),vP(o.directionalValue)))})).next((()=>s))}jn(e,n){let r=new Kn(tu);const i=this.Qn(n,e);if(i==null)return r;const s=F4(n);if(s!=null){const a=e.data.field(s.fieldPath);if(vy(a))for(const o of a.arrayValue.values||[])r=r.add(new $d(n.indexId,e.key,this.Ln(o),i))}else r=r.add(new $d(n.indexId,e.key,mx,i));return r}Jn(e,n,r,i,s){ut(bP,"Updating index entries for document '%s'",n.key);const a=[];return(function(l,c,u,f,h){const p=l.getIterator(),v=c.getIterator();let g=zh(p),y=zh(v);for(;g||y;){let b=!1,_=!1;if(g&&y){const w=u(g,y);w<0?_=!0:w>0&&(b=!0)}else g!=null?_=!0:b=!0;b?(f(y),y=zh(v)):_?(h(g),g=zh(p)):(g=zh(p),y=zh(v))}})(i,s,tu,(o=>{a.push(this.Hn(e,n,r,o))}),(o=>{a.push(this.Yn(e,n,r,o))})),ze.waitFor(a)}Gn(e){let n=1;return Kh(e).ee({index:AV,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,i,s)=>{s.done(),n=i.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((a,o)=>tu(a,o))).filter(((a,o,l)=>!o||tu(a,l[o-1])!==0));const i=[];i.push(e);for(const a of r){const o=tu(a,e),l=tu(a,n);if(o===0)i[0]=e.An();else if(o>0&&l<0)i.push(a),i.push(a.An());else if(l>0)break}i.push(n);const s=[];for(let a=0;a<i.length;a+=2){if(this.Zn(i[a],i[a+1]))return[];const o=i[a].Vn(this.uid,mx,Tt.empty()),l=i[a+1].Vn(this.uid,mx,Tt.empty());s.push(IDBKeyRange.bound(o,l))}return s}Zn(e,n){return tu(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(TP)}getMinOffset(e,n){return ze.mapArray(this.Mn(n),(r=>this.xn(e,r).next((i=>i||Dt(44426))))).next(TP)}}function wP(t){return Ti(t,my)}function Gh(t){return Ti(t,I0)}function Bg(t){return Ti(t,zN)}function Kh(t){return Ti(t,N0)}function TP(t){Ft(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;WN(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Aa(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},FW=41943040;class os{static withCacheSize(e){return new os(e,os.DEFAULT_COLLECTION_PERCENTILE,os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MW(t,e,n){const r=t.store(No),i=t.store(zp),s=[],a=IDBKeyRange.only(n.batchId);let o=0;const l=r.ee({range:a},((u,f,h)=>(o++,h.delete())));s.push(l.next((()=>{Ft(o===1,47070,{batchId:n.batchId})})));const c=[];for(const u of n.mutations){const f=CV(e,u.key.path,n.batchId);s.push(i.delete(f)),c.push(u.key)}return ze.waitFor(s).next((()=>c))}function a_(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Dt(14731);e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */os.DEFAULT_COLLECTION_PERCENTILE=10,os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,os.DEFAULT=new os(FW,os.DEFAULT_COLLECTION_PERCENTILE,os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),os.DISABLED=new os(-1,0,0);class Db{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Xn={}}static wt(e,n,r,i){Ft(e.uid!=="",64387);const s=e.isAuthenticated()?e.uid:"";return new Db(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return nu(e).ee({index:Gd,range:r},((i,s,a)=>{n=!1,a.done()})).next((()=>n))}addMutationBatch(e,n,r,i){const s=up(e),a=nu(e);return a.add({}).next((o=>{Ft(typeof o=="number",49019);const l=new t3(o,n,r,i),c=(function(p,v,g){const y=g.baseMutations.map((_=>by(p.yt,_))),b=g.mutations.map((_=>by(p.yt,_)));return{userId:v,batchId:g.batchId,localWriteTimeMs:g.localWriteTime.toMillis(),baseMutations:y,mutations:b}})(this.serializer,this.userId,l),u=[];let f=new Kn(((h,p)=>tn(h.canonicalString(),p.canonicalString())));for(const h of i){const p=CV(this.userId,h.key.path,o);f=f.add(h.key.path.popLast()),u.push(a.put(c)),u.push(s.put(p,ire))}return f.forEach((h=>{u.push(this.indexManager.addToCollectionParentIndex(e,h))})),e.addOnCommittedListener((()=>{this.Xn[o]=l.keys()})),ze.waitFor(u).next((()=>l))}))}lookupMutationBatch(e,n){return nu(e).get(n).next((r=>r?(Ft(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),Wd(this.serializer,r)):null))}er(e,n){return this.Xn[n]?ze.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const i=r.keys();return this.Xn[n]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return nu(e).ee({index:Gd,range:i},((a,o,l)=>{o.userId===this.userId&&(Ft(o.batchId>=r,47524,{tr:r}),s=Wd(this.serializer,o)),l.done()})).next((()=>s))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=wu;return nu(e).ee({index:Gd,range:n,reverse:!0},((i,s,a)=>{r=s.batchId,a.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,wu],[this.userId,Number.POSITIVE_INFINITY]);return nu(e).J(Gd,n).next((r=>r.map((i=>Wd(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=a2(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return up(e).ee({range:i},((a,o,l)=>{const[c,u,f]=a,h=hl(u);if(c===this.userId&&n.path.isEqual(h))return nu(e).get(f).next((p=>{if(!p)throw Dt(61480,{nr:a,batchId:f});Ft(p.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:p.userId,batchId:f}),s.push(Wd(this.serializer,p))}));l.done()})).next((()=>s))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Kn(tn);const i=[];return n.forEach((s=>{const a=a2(this.userId,s.path),o=IDBKeyRange.lowerBound(a),l=up(e).ee({range:o},((c,u,f)=>{const[h,p,v]=c,g=hl(p);h===this.userId&&s.path.isEqual(g)?r=r.add(v):f.done()}));i.push(l)})),ze.waitFor(i).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=a2(this.userId,r),a=IDBKeyRange.lowerBound(s);let o=new Kn(tn);return up(e).ee({range:a},((l,c,u)=>{const[f,h,p]=l,v=hl(h);f===this.userId&&r.isPrefixOf(v)?v.length===i&&(o=o.add(p)):u.done()})).next((()=>this.rr(e,o)))}rr(e,n){const r=[],i=[];return n.forEach((s=>{i.push(nu(e).get(s).next((a=>{if(a===null)throw Dt(35274,{batchId:s});Ft(a.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:a.userId,batchId:s}),r.push(Wd(this.serializer,a))})))})),ze.waitFor(i).next((()=>r))}removeMutationBatch(e,n){return MW(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),ze.forEach(r,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return ze.resolve();const r=IDBKeyRange.lowerBound((function(a){return[a]})(this.userId)),i=[];return up(e).ee({range:r},((s,a,o)=>{if(s[0]===this.userId){const l=hl(s[1]);i.push(l)}else o.done()})).next((()=>{Ft(i.length===0,56720,{sr:i.map((s=>s.canonicalString()))})}))}))}containsKey(e,n){return UW(e,this.userId,n)}_r(e){return OW(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:wu,lastStreamToken:""}))}}function UW(t,e,n){const r=a2(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let a=!1;return up(t).ee({range:s,X:!0},((o,l,c)=>{const[u,f,h]=o;u===e&&f===i&&(a=!0),c.done()})).next((()=>a))}function nu(t){return Ti(t,No)}function up(t){return Ti(t,zp)}function OW(t){return Ti(t,hy)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new bf(0)}static cr(){return new bf(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cie{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new bf(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>Bt.fromTimestamp(new Mn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.hr(e,i))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>Xh(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(Ft(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let i=0;const s=[];return Xh(e).ee(((a,o)=>{const l=v0(o);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))})).next((()=>ze.waitFor(s))).next((()=>i))}forEachTarget(e,n){return Xh(e).ee(((r,i)=>{const s=v0(i);n(s)}))}lr(e){return CP(e).get(e_).next((n=>(Ft(n!==null,2888),n)))}hr(e,n){return CP(e).put(e_,n)}Pr(e,n){return Xh(e).put(kW(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=gf(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Xh(e).ee({range:i,index:DV},((a,o,l)=>{const c=v0(o);hv(n,c.target)&&(s=c,l.done())})).next((()=>s))}addMatchingKeys(e,n,r){const i=[],s=uu(e);return n.forEach((a=>{const o=gs(a.path);i.push(s.put({targetId:r,path:o})),i.push(this.referenceDelegate.addReference(e,r,a))})),ze.waitFor(i)}removeMatchingKeys(e,n,r){const i=uu(e);return ze.forEach(n,(s=>{const a=gs(s.path);return ze.waitFor([i.delete([r,a]),this.referenceDelegate.removeReference(e,r,s)])}))}removeMatchingKeysForTargetId(e,n){const r=uu(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=uu(e);let s=sn();return i.ee({range:r,X:!0},((a,o,l)=>{const c=hl(a[1]),u=new Tt(c);s=s.add(u)})).next((()=>s))}containsKey(e,n){const r=gs(n.path),i=IDBKeyRange.bound([r],[mV(r)],!1,!0);let s=0;return uu(e).ee({index:$N,X:!0,range:i},(([a,o],l,c)=>{a!==0&&(s++,c.done())})).next((()=>s>0))}At(e,n){return Xh(e).get(n).next((r=>r?v0(r):null))}}function Xh(t){return Ti(t,Hp)}function CP(t){return Ti(t,nf)}function uu(t){return Ti(t,Gp)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP="LruGarbageCollector",Sie=1048576;function DP([t,e],[n,r]){const i=tn(t,n);return i===0?tn(e,r):i}class Die{constructor(e){this.Ir=e,this.buffer=new Kn(DP),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();DP(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class LW{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ut(SP,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Yu(n)?ut(SP,"Ignoring IndexedDB error during garbage collection: ",n):await Ju(n)}await this.Vr(3e5)}))}}class Aie{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ze.resolve(Ys.ce);const r=new Die(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),ze.resolve(EP)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),EP):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,a,o,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((f=>(f>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,a=Date.now(),this.nthSequenceNumber(e,i)))).next((f=>(r=f,o=Date.now(),this.removeTargets(e,r,n)))).next((f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,r)))).next((f=>(c=Date.now(),ap()<=mn.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-u}ms
	Determined least recently used ${i} in `+(o-a)+`ms
	Removed ${s} targets in `+(l-o)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),ze.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f}))))}}function jW(t,e){return new Aie(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nie{constructor(e,n){this.db=e,this.garbageCollector=jW(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,i)=>n(i)))}addReference(e,n,r){return gx(e,r)}removeReference(e,n,r){return gx(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return gx(e,n)}br(e,n){return(function(i,s){let a=!1;return OW(i).te((o=>UW(i,o,s).next((l=>(l&&(a=!0),ze.resolve(!l)))))).next((()=>a))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Sr(e,((a,o)=>{if(o<=n){const l=this.br(e,a).next((c=>{if(!c)return s++,r.getEntry(e,a).next((()=>(r.removeEntry(a,Bt.min()),uu(e).delete((function(f){return[0,gs(f.path)]})(a)))))}));i.push(l)}})).next((()=>ze.waitFor(i))).next((()=>r.apply(e))).next((()=>s))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return gx(e,n)}Sr(e,n){const r=uu(e);let i,s=Ys.ce;return r.ee({index:$N},(([a,o],{path:l,sequenceNumber:c})=>{a===0?(s!==Ys.ce&&n(new Tt(hl(i)),s),s=c,i=l):s=Ys.ce})).next((()=>{s!==Ys.ce&&n(new Tt(hl(i)),s)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function gx(t,e){return uu(t).put((function(r,i){return{targetId:0,path:gs(r.path),sequenceNumber:i}})(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BW{constructor(){this.changes=new wc((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ze.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iie{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return kd(e).put(r)}removeEntry(e,n,r){return kd(e).delete((function(s,a){const o=s.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],i_(a),o[o.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=pr.newInvalidDocument(n);return kd(e).ee({index:o2,range:IDBKeyRange.only(Vg(n))},((i,s)=>{r=this.Cr(n,s)})).next((()=>r))}vr(e,n){let r={size:0,document:pr.newInvalidDocument(n)};return kd(e).ee({index:o2,range:IDBKeyRange.only(Vg(n))},((i,s)=>{r={document:this.Cr(n,s),size:a_(s)}})).next((()=>r))}getEntries(e,n){let r=Zs();return this.Fr(e,n,((i,s)=>{const a=this.Cr(i,s);r=r.insert(i,a)})).next((()=>r))}Mr(e,n){let r=Zs(),i=new Ur(Tt.comparator);return this.Fr(e,n,((s,a)=>{const o=this.Cr(s,a);r=r.insert(s,o),i=i.insert(s,a_(a))})).next((()=>({documents:r,Or:i})))}Fr(e,n,r){if(n.isEmpty())return ze.resolve();let i=new Kn(IP);n.forEach((l=>i=i.add(l)));const s=IDBKeyRange.bound(Vg(i.first()),Vg(i.last())),a=i.getIterator();let o=a.getNext();return kd(e).ee({index:o2,range:s},((l,c,u)=>{const f=Tt.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;o&&IP(o,f)<0;)r(o,null),o=a.getNext();o&&o.isEqual(f)&&(r(o,c),o=a.hasNext()?a.getNext():null),o?u.j(Vg(o)):u.done()})).next((()=>{for(;o;)r(o,null),o=a.hasNext()?a.getNext():null}))}getDocumentsMatchingQuery(e,n,r,i,s){const a=n.path,o=[a.popLast().toArray(),a.lastSegment(),i_(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return kd(e).J(IDBKeyRange.bound(o,l,!0)).next((c=>{s==null||s.incrementDocumentReadCount(c.length);let u=Zs();for(const f of c){const h=this.Cr(Tt.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);h.isFoundDocument()&&(mv(n,h)||i.has(h.key))&&(u=u.insert(h.key,h))}return u}))}getAllFromCollectionGroup(e,n,r,i){let s=Zs();const a=NP(n,r),o=NP(n,Aa.max());return kd(e).ee({index:SV,range:IDBKeyRange.bound(a,o,!0)},((l,c,u)=>{const f=this.Cr(Tt.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(f.key,f),s.size===i&&u.done()})).next((()=>s))}newChangeBuffer(e){return new kie(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return AP(e).get(M4).next((n=>(Ft(!!n,20021),n)))}Dr(e,n){return AP(e).put(M4,n)}Cr(e,n){if(n){const r=mie(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Bt.min())))return r}return pr.newInvalidDocument(e)}}function VW(t){return new Iie(t)}class kie extends BW{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new wc((r=>r.toString()),((r,i)=>r.isEqual(i)))}applyChanges(e){const n=[];let r=0,i=new Kn(((s,a)=>tn(s.canonicalString(),a.canonicalString())));return this.changes.forEach(((s,a)=>{const o=this.Br.get(s);if(n.push(this.Nr.removeEntry(e,s,o.readTime)),a.isValidDocument()){const l=dP(this.Nr.serializer,a);i=i.add(s.path.popLast());const c=a_(l);r+=c-o.size,n.push(this.Nr.addEntry(e,s,l))}else if(r-=o.size,this.trackRemovals){const l=dP(this.Nr.serializer,a.convertToNoDocument(Bt.min()));n.push(this.Nr.addEntry(e,s,l))}})),i.forEach((s=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,s))})),n.push(this.Nr.updateMetadata(e,r)),ze.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:i})=>(i.forEach(((s,a)=>{this.Br.set(s,{size:a,readTime:r.get(s).readTime})})),r)))}}function AP(t){return Ti(t,py)}function kd(t){return Ti(t,Z2)}function Vg(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function NP(t,e){const n=e.documentKey.path.toArray();return[t,i_(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function IP(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=tn(n[s],r[s]),i)return i;return i=tn(n.length,r.length),i||(i=tn(n[n.length-2],r[r.length-2]),i||tn(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rie{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WW{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&P0(r.mutation,i,Qs.empty(),Mn.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,sn()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=sn()){const i=pl();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let a=g0();return s.forEach(((o,l)=>{a=a.insert(o,l.overlayedDocument)})),a}))))}getOverlayedDocuments(e,n){const r=pl();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,sn())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((a,o)=>{n.set(a,o)}))}))}computeViews(e,n,r,i){let s=Zs();const a=R0(),o=(function(){return R0()})();return n.forEach(((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Tc)?s=s.insert(c.key,c):u!==void 0?(a.set(c.key,u.mutation.getFieldMask()),P0(u.mutation,c,u.mutation.getFieldMask(),Mn.now())):a.set(c.key,Qs.empty())})),this.recalculateAndSaveOverlays(e,s).next((l=>(l.forEach(((c,u)=>a.set(c,u))),n.forEach(((c,u)=>o.set(c,new Rie(u,a.get(c)??null)))),o)))}recalculateAndSaveOverlays(e,n){const r=R0();let i=new Ur(((a,o)=>a-o)),s=sn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((a=>{for(const o of a)o.keys().forEach((l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Qs.empty();u=o.applyToLocalView(c,u),r.set(l,u);const f=(i.get(o.batchId)||sn()).add(l);i=i.insert(o.batchId,f)}))})).next((()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,f=iW();u.forEach((h=>{if(!s.has(h)){const p=dW(n.get(h),r.get(h));p!==null&&f.set(h,p),s=s.add(h)}})),a.push(this.documentOverlayCache.saveOverlays(e,c,f))}return ze.waitFor(a)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(a){return Tt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):YN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ze.resolve(pl());let o=$p,l=s;return a.next((c=>ze.forEach(c,((u,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),s.get(u)?ze.resolve():this.remoteDocumentCache.getEntry(e,u).next((h=>{l=l.insert(u,h)}))))).next((()=>this.populateOverlays(e,c,s))).next((()=>this.computeViews(e,l,c,sn()))).next((u=>({batchId:o,changes:rW(u)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Tt(n)).next((r=>{let i=g0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=g0();return this.indexManager.getCollectionParents(e,s).next((o=>ze.forEach(o,(l=>{const c=(function(f,h){return new bc(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)})(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next((u=>{u.forEach(((f,h)=>{a=a.insert(f,h)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((a=>{s.forEach(((l,c)=>{const u=c.getKey();a.get(u)===null&&(a=a.insert(u,pr.newInvalidDocument(u)))}));let o=g0();return a.forEach(((l,c)=>{const u=s.get(l);u!==void 0&&P0(u.mutation,c,Qs.empty(),Mn.now()),mv(n,c)&&(o=o.insert(l,c))})),o}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pie{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ze.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Zr(i.createTime)}})(n)),ze.resolve()}getNamedQuery(e,n){return ze.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:a3(i.bundledQuery),readTime:Zr(i.readTime)}})(n)),ze.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fie{constructor(){this.overlays=new Ur(Tt.comparator),this.qr=new Map}getOverlay(e,n){return ze.resolve(this.overlays.get(n))}getOverlays(e,n){const r=pl();return ze.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.St(e,n,s)})),ze.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),ze.resolve()}getOverlaysForCollection(e,n,r){const i=pl(),s=n.length+1,a=new Tt(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ze.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ur(((c,u)=>c-u));const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=pl(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=pl(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach(((c,u)=>o.set(c,u))),!(o.size()>=i)););return ze.resolve(o)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new r3(n,r));let s=this.qr.get(n);s===void 0&&(s=sn(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mie{constructor(){this.sessionToken=qr.EMPTY_BYTE_STRING}getSessionToken(e){return ze.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ze.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(){this.Qr=new Kn(Ii.$r),this.Ur=new Kn(Ii.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Ii(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Ii(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Tt(new yn([])),r=new Ii(n,e),i=new Ii(n,e+1),s=[];return this.Ur.forEachInRange([r,i],(a=>{this.Gr(a),s.push(a.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Tt(new yn([])),r=new Ii(n,e),i=new Ii(n,e+1);let s=sn();return this.Ur.forEachInRange([r,i],(a=>{s=s.add(a.key)})),s}containsKey(e){const n=new Ii(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ii{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Tt.comparator(e.key,n.key)||tn(e.Yr,n.Yr)}static Kr(e,n){return tn(e.Yr,n.Yr)||Tt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uie{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Kn(Ii.$r)}checkEmpty(e){return ze.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new t3(s,n,r,i);this.mutationQueue.push(a);for(const o of i)this.Zr=this.Zr.add(new Ii(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return ze.resolve(a)}lookupMutationBatch(e,n){return ze.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return ze.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ze.resolve(this.mutationQueue.length===0?wu:this.tr-1)}getAllMutationBatches(e){return ze.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ii(n,0),i=new Ii(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(a=>{const o=this.Xr(a.Yr);s.push(o)})),ze.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Kn(tn);return n.forEach((i=>{const s=new Ii(i,0),a=new Ii(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,a],(o=>{r=r.add(o.Yr)}))})),ze.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Tt.isDocumentKey(s)||(s=s.child(""));const a=new Ii(new Tt(s),0);let o=new Kn(tn);return this.Zr.forEachWhile((l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(o=o.add(l.Yr)),!0)}),a),ze.resolve(this.ti(o))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Ft(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ze.forEach(n.mutations,(i=>{const s=new Ii(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Ii(n,0),i=this.Zr.firstAfterOrEqual(r);return ze.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ze.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oie{constructor(e){this.ri=e,this.docs=(function(){return new Ur(Tt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ze.resolve(r?r.document.mutableCopy():pr.newInvalidDocument(n))}getEntries(e,n){let r=Zs();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():pr.newInvalidDocument(i))})),ze.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Zs();const a=n.path,o=new Tt(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||WN(_V(u),r)<=0||(i.has(u.key)||mv(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return ze.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Dt(9500)}ii(e,n){return ze.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new Lie(this)}getSize(e){return ze.resolve(this.size)}}class Lie extends BW{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),ze.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jie{constructor(e){this.persistence=e,this.si=new wc((n=>gf(n)),hv),this.lastRemoteSnapshotVersion=Bt.min(),this.highestTargetId=0,this.oi=0,this._i=new c3,this.targetCount=0,this.ai=bf.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),ze.resolve()}getLastRemoteSnapshotVersion(e){return ze.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ze.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ze.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ze.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new bf(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ze.resolve()}updateTargetData(e,n){return this.Pr(n),ze.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ze.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach(((a,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.si.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)})),ze.waitFor(s).next((()=>i))}getTargetCount(e){return ze.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ze.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ze.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((a=>{s.push(i.markPotentiallyOrphaned(e,a))})),ze.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ze.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ze.resolve(r)}containsKey(e,n){return ze.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e,n){this.ui={},this.overlays={},this.ci=new Ys(0),this.li=!1,this.li=!0,this.hi=new Mie,this.referenceDelegate=e(this),this.Pi=new jie(this),this.indexManager=new Tie,this.remoteDocumentCache=(function(i){return new Oie(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new IW(n),this.Ii=new Pie(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Fie,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new Uie(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ut("MemoryPersistence","Starting transaction:",e);const i=new Bie(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,n){return ze.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class Bie extends wV{constructor(e){super(),this.currentSequenceNumber=e}}class Ab{constructor(e){this.persistence=e,this.Ri=new c3,this.Vi=null}static mi(e){return new Ab(e)}get fi(){if(this.Vi)return this.Vi;throw Dt(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ze.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ze.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ze.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ze.forEach(this.fi,(r=>{const i=Tt.fromPath(r);return this.gi(e,i).next((s=>{s||n.removeEntry(i,Bt.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ze.or([()=>ze.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class o_{constructor(e,n){this.persistence=e,this.pi=new wc((r=>gs(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=jW(this,n)}static mi(e,n){return new o_(e,n)}Ei(){}di(e){return ze.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ze.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?ze.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(a=>this.br(e,a,n).next((o=>{o||(r++,s.removeEntry(a,Bt.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ze.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ze.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ze.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ze.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=c2(e.data.value)),n}br(e,n,r){return ze.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return ze.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vie{constructor(e){this.serializer=e}k(e,n,r,i){const s=new yb("createOrUpgrade",n);r<1&&i>=1&&((function(l){l.createObjectStore(fv)})(e),(function(l){l.createObjectStore(hy,{keyPath:rre}),l.createObjectStore(No,{keyPath:V8,autoIncrement:!0}).createIndex(Gd,W8,{unique:!0}),l.createObjectStore(zp)})(e),kP(e),(function(l){l.createObjectStore(jd)})(e));let a=ze.resolve();return r<3&&i>=3&&(r!==0&&((function(l){l.deleteObjectStore(Gp),l.deleteObjectStore(Hp),l.deleteObjectStore(nf)})(e),kP(e)),a=a.next((()=>(function(l){const c=l.store(nf),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Bt.min().toTimestamp(),targetCount:0};return c.put(e_,u)})(s)))),r<4&&i>=4&&(r!==0&&(a=a.next((()=>(function(l,c){return c.store(No).J().next((f=>{l.deleteObjectStore(No),l.createObjectStore(No,{keyPath:V8,autoIncrement:!0}).createIndex(Gd,W8,{unique:!0});const h=c.store(No),p=f.map((v=>h.put(v)));return ze.waitFor(p)}))})(e,s)))),a=a.next((()=>{(function(l){l.createObjectStore(Kp,{keyPath:fre})})(e)}))),r<5&&i>=5&&(a=a.next((()=>this.yi(s)))),r<6&&i>=6&&(a=a.next((()=>((function(l){l.createObjectStore(py)})(e),this.wi(s))))),r<7&&i>=7&&(a=a.next((()=>this.Si(s)))),r<8&&i>=8&&(a=a.next((()=>this.bi(e,s)))),r<9&&i>=9&&(a=a.next((()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&i>=10&&(a=a.next((()=>this.Di(s)))),r<11&&i>=11&&(a=a.next((()=>{(function(l){l.createObjectStore(vb,{keyPath:hre})})(e),(function(l){l.createObjectStore(xb,{keyPath:pre})})(e)}))),r<12&&i>=12&&(a=a.next((()=>{(function(l){const c=l.createObjectStore(_b,{keyPath:bre});c.createIndex(O4,wre,{unique:!1}),c.createIndex(IV,Tre,{unique:!1})})(e)}))),r<13&&i>=13&&(a=a.next((()=>(function(l){const c=l.createObjectStore(Z2,{keyPath:sre});c.createIndex(o2,are),c.createIndex(SV,ore)})(e))).next((()=>this.Ci(e,s))).next((()=>e.deleteObjectStore(jd)))),r<14&&i>=14&&(a=a.next((()=>this.Fi(e,s)))),r<15&&i>=15&&(a=a.next((()=>(function(l){l.createObjectStore(zN,{keyPath:mre,autoIncrement:!0}).createIndex(U4,gre,{unique:!1}),l.createObjectStore(N0,{keyPath:yre}).createIndex(AV,vre,{unique:!1}),l.createObjectStore(I0,{keyPath:xre}).createIndex(NV,_re,{unique:!1})})(e)))),r<16&&i>=16&&(a=a.next((()=>{n.objectStore(N0).clear()})).next((()=>{n.objectStore(I0).clear()}))),r<17&&i>=17&&(a=a.next((()=>{(function(l){l.createObjectStore(HN,{keyPath:Ere})})(e)}))),r<18&&i>=18&&HB()&&(a=a.next((()=>{n.objectStore(N0).clear()})).next((()=>{n.objectStore(I0).clear()}))),a}wi(e){let n=0;return e.store(jd).ee(((r,i)=>{n+=a_(i)})).next((()=>{const r={byteSize:n};return e.store(py).put(M4,r)}))}yi(e){const n=e.store(hy),r=e.store(No);return n.J().next((i=>ze.forEach(i,(s=>{const a=IDBKeyRange.bound([s.userId,wu],[s.userId,s.lastAcknowledgedBatchId]);return r.J(Gd,a).next((o=>ze.forEach(o,(l=>{Ft(l.userId===s.userId,18650,"Cannot process batch from unexpected user",{batchId:l.batchId});const c=Wd(this.serializer,l);return MW(e,s.userId,c).next((()=>{}))}))))}))))}Si(e){const n=e.store(Gp),r=e.store(jd);return e.store(nf).get(e_).next((i=>{const s=[];return r.ee(((a,o)=>{const l=new yn(a),c=(function(f){return[0,gs(f)]})(l);s.push(n.get(c).next((u=>u?ze.resolve():(f=>n.put({targetId:0,path:gs(f),sequenceNumber:i.highestListenSequenceNumber}))(l))))})).next((()=>ze.waitFor(s)))}))}bi(e,n){e.createObjectStore(my,{keyPath:dre});const r=n.store(my),i=new l3,s=a=>{if(i.add(a)){const o=a.lastSegment(),l=a.popLast();return r.put({collectionId:o,parent:gs(l)})}};return n.store(jd).ee({X:!0},((a,o)=>{const l=new yn(a);return s(l.popLast())})).next((()=>n.store(zp).ee({X:!0},(([a,o,l],c)=>{const u=hl(o);return s(u.popLast())}))))}Di(e){const n=e.store(Hp);return n.ee(((r,i)=>{const s=v0(i),a=kW(this.serializer,s);return n.put(a)}))}Ci(e,n){const r=n.store(jd),i=[];return r.ee(((s,a)=>{const o=n.store(Z2),l=(function(f){return f.document?new Tt(yn.fromString(f.document.name).popFirst(5)):f.noDocument?Tt.fromSegments(f.noDocument.path):f.unknownDocument?Tt.fromSegments(f.unknownDocument.path):Dt(36783)})(a).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};i.push(o.put(c))})).next((()=>ze.waitFor(i)))}Fi(e,n){const r=n.store(No),i=VW(this.serializer),s=new u3(Ab.mi,this.serializer.yt);return r.J().next((a=>{const o=new Map;return a.forEach((l=>{let c=o.get(l.userId)??sn();Wd(this.serializer,l).keys().forEach((u=>c=c.add(u))),o.set(l.userId,c)})),ze.forEach(o,((l,c)=>{const u=new Pi(c),f=Sb.wt(this.serializer,u),h=s.getIndexManager(u),p=Db.wt(u,this.serializer,h,s.referenceDelegate);return new WW(i,p,f,h).recalculateAndSaveOverlaysForDocumentKeys(new L4(n,Ys.ce),l).next()}))}))}}function kP(t){t.createObjectStore(Gp,{keyPath:cre}).createIndex($N,ure,{unique:!0}),t.createObjectStore(Hp,{keyPath:"targetId"}).createIndex(DV,lre,{unique:!0}),t.createObjectStore(nf)}const ru="IndexedDbPersistence",JE=18e5,YE=5e3,QE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",qW="main";class d3{constructor(e,n,r,i,s,a,o,l,c,u,f=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=s,this.window=a,this.document=o,this.xi=c,this.Oi=u,this.Ni=f,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=h=>Promise.resolve(),!d3.v())throw new ot(et.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Nie(this,i),this.$i=n+qW,this.serializer=new IW(l),this.Ui=new xl(this.$i,this.Ni,new Vie(this.serializer)),this.hi=new yie,this.Pi=new Cie(this.referenceDelegate,this.serializer),this.remoteDocumentCache=VW(this.serializer),this.Ii=new gie,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,u===!1&&Qr(ru,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ot(et.FAILED_PRECONDITION,QE);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new Ys(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>yx(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(Yu(e))return ut(ru,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ut(ru,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return Wg(e).get($h).next((n=>ze.resolve(this.es(n))))}ts(e){return yx(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,JE)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=Ti(n,Kp);return r.J().next((i=>{const s=this.ss(i,JE),a=i.filter((o=>s.indexOf(o)===-1));return ze.forEach(a,(o=>r.delete(o.clientId))).next((()=>a))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?ze.resolve(!0):Wg(e).get($h).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,YE)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new ot(et.FAILED_PRECONDITION,QE);return!1}}return!(!this.networkEnabled||!this.inForeground)||yx(e).J().next((r=>this.ss(r,YE).find((i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,a=!this.inForeground&&i.inForeground,o=this.networkEnabled===i.networkEnabled;if(s||a&&o)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&ut(ru,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[fv,Kp],(e=>{const n=new L4(e,Ys.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>yx(e).J().next((n=>this.ss(n,JE).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return Db.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Eie(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return Sb.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){ut(ru,"Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=(function(l){return l===18?Dre:l===17?FV:l===16?Sre:l===15?GN:l===14?PV:l===13?RV:l===12?Cre:l===11?kV:void Dt(60245)})(this.Ni);let a;return this.Ui.runTransaction(e,i,s,(o=>(a=new L4(o,this.ci?this.ci.next():Ys.ce),n==="readwrite-primary"?this.Hi(a).next((l=>!!l||this.Yi(a))).next((l=>{if(!l)throw Qr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new ot(et.FAILED_PRECONDITION,bV);return r(a)})).next((l=>this.Xi(a).next((()=>l)))):this.Is(a).next((()=>r(a)))))).then((o=>(a.raiseOnCommittedEvent(),o)))}Is(e){return Wg(e).get($h).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,YE)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new ot(et.FAILED_PRECONDITION,QE)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Wg(e).put($h,n)}static v(){return xl.v()}Zi(e){const n=Wg(e);return n.get($h).next((r=>this.es(r)?(ut(ru,"Releasing primary lease."),n.delete($h)):ze.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Qr(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Bi=()=>{this.cs();const n=/(?:Version|Mobile)\/1[456]/;zB()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){var n;try{const r=((n=this.Ki)==null?void 0:n.getItem(this._s(e)))!==null;return ut(ru,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Qr(ru,"Failed to get zombied client id.",r),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){Qr("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Wg(t){return Ti(t,fv)}function yx(t){return Ti(t,Kp)}function f3(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=sn(),i=sn();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new h3(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wie{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $W{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return zB()?8:TV(Mr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next((a=>{s.result=a})).next((()=>{if(!s.result)return this.ws(e,n,i,r).next((a=>{s.result=a}))})).next((()=>{if(s.result)return;const a=new Wie;return this.Ss(e,n,a).next((o=>{if(s.result=o,this.Vs)return this.bs(e,n,a,o.size)}))})).next((()=>s.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(ap()<=mn.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",op(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ze.resolve()):(ap()<=mn.DEBUG&&ut("QueryEngine","Query:",op(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(ap()<=mn.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",op(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fs(n))):ze.resolve())}ys(e,n){if(tP(n))return ze.resolve(null);let r=Fs(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=r_(n,null,"F"),r=Fs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const a=sn(...s);return this.ps.getDocuments(e,a).next((o=>this.indexManager.getMinOffset(e,r).next((l=>{const c=this.Ds(n,o);return this.Cs(n,c,a,l.readTime)?this.ys(e,r_(n,null,"F")):this.vs(e,c,n,l)}))))})))))}ws(e,n,r,i){return tP(n)||i.isEqual(Bt.min())?ze.resolve(null):this.ps.getDocuments(e,r).next((s=>{const a=this.Ds(n,s);return this.Cs(n,a,r,i)?ze.resolve(null):(ap()<=mn.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),op(n)),this.vs(e,a,n,xV(i,$p)).next((o=>o)))}))}Ds(e,n){let r=new Kn(tW(e));return n.forEach(((i,s)=>{mv(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return ap()<=mn.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",op(n)),this.ps.getDocumentsMatchingQuery(e,n,Aa.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((a=>{s=s.insert(a.key,a)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3="LocalStore",qie=3e8;class $ie{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Ur(tn),this.xs=new wc((s=>gf(s)),hv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new WW(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function zW(t,e,n,r){return new $ie(t,e,n,r)}async function HW(t,e){const n=Et(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const a=[],o=[];let l=sn();for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next((c=>({Ls:c,removedBatchIds:a,addedBatchIds:o})))}))}))}function zie(t,e){const n=Et(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(o,l,c,u){const f=c.batch,h=f.keys();let p=ze.resolve();return h.forEach((v=>{p=p.next((()=>u.getEntry(l,v))).next((g=>{const y=c.docVersions.get(v);Ft(y!==null,48541),g.version.compareTo(y)<0&&(f.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),u.addEntry(g)))}))})),p.next((()=>o.mutationQueue.removeMutationBatch(l,f)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(o){let l=sn();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function GW(t){const e=Et(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Hie(t,e){const n=Et(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const o=[];e.targetChanges.forEach(((u,f)=>{const h=i.get(f);if(!h)return;o.push(n.Pi.removeMatchingKeys(s,u.removedDocuments,f).next((()=>n.Pi.addMatchingKeys(s,u.addedDocuments,f))));let p=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(qr.EMPTY_BYTE_STRING,Bt.min()).withLastLimboFreeSnapshotVersion(Bt.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(f,p),(function(g,y,b){return g.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=qie?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0})(h,p,u)&&o.push(n.Pi.updateTargetData(s,p))}));let l=Zs(),c=sn();if(e.documentUpdates.forEach((u=>{e.resolvedLimboDocuments.has(u)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))})),o.push(KW(s,a,e.documentUpdates).next((u=>{l=u.ks,c=u.qs}))),!r.isEqual(Bt.min())){const u=n.Pi.getLastRemoteSnapshotVersion(s).next((f=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));o.push(u)}return ze.waitFor(o).next((()=>a.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,l,c))).next((()=>l))})).then((s=>(n.Ms=i,s)))}function KW(t,e,n){let r=sn(),i=sn();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let a=Zs();return n.forEach(((o,l)=>{const c=s.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(Bt.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):ut(p3,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)})),{ks:a,qs:i}}))}function Gie(t,e){const n=Et(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=wu),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function tm(t,e){const n=Et(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((s=>s?(i=s,ze.resolve(i)):n.Pi.allocateTargetId(r).next((a=>(i=new Jl(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function nm(t,e,n){const r=Et(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(a=>r.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!Yu(a))throw a;ut(p3,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function l_(t,e,n){const r=Et(t);let i=Bt.min(),s=sn();return r.persistence.runTransaction("Execute query","readwrite",(a=>(function(l,c,u){const f=Et(l),h=f.xs.get(u);return h!==void 0?ze.resolve(f.Ms.get(h)):f.Pi.getTargetData(c,u)})(r,a,Fs(e)).next((o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,o.targetId).next((l=>{s=l}))})).next((()=>r.Fs.getDocumentsMatchingQuery(a,e,n?i:Bt.min(),n?s:sn()))).next((o=>(YW(r,eW(e),o),{documents:o,Qs:s})))))}function XW(t,e){const n=Et(t),r=Et(n.Pi),i=n.Ms.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(s=>r.At(s,e).next((a=>a?a.target:null))))}function JW(t,e){const n=Et(t),r=n.Os.get(e)||Bt.min();return n.persistence.runTransaction("Get new document changes","readonly",(i=>n.Ns.getAllFromCollectionGroup(i,e,xV(r,$p),Number.MAX_SAFE_INTEGER))).then((i=>(YW(n,e,i),i)))}function YW(t,e,n){let r=t.Os.get(e)||Bt.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}async function Kie(t,e,n,r){const i=Et(t);let s=sn(),a=Zs();for(const c of n){const u=e.$s(c.metadata.name);c.document&&(s=s.add(u));const f=e.Us(c);f.setReadTime(e.Ks(c.metadata.readTime)),a=a.insert(u,f)}const o=i.Ns.newChangeBuffer({trackRemovals:!0}),l=await tm(i,(function(u){return Fs(Nm(yn.fromString(`__bundle__/docs/${u}`)))})(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(c=>KW(c,o,a).next((u=>(o.apply(c),u))).next((u=>i.Pi.removeMatchingKeysForTargetId(c,l.targetId).next((()=>i.Pi.addMatchingKeys(c,s,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,u.ks,u.qs))).next((()=>u.ks))))))}async function Xie(t,e,n=sn()){const r=await tm(t,Fs(a3(e.bundledQuery))),i=Et(t);return i.persistence.runTransaction("Save named query","readwrite",(s=>{const a=Zr(e.readTime);if(r.snapshotVersion.compareTo(a)>=0)return i.Ii.saveNamedQuery(s,e);const o=r.withResumeToken(qr.EMPTY_BYTE_STRING,a);return i.Ms=i.Ms.insert(o.targetId,o),i.Pi.updateTargetData(s,o).next((()=>i.Pi.removeMatchingKeysForTargetId(s,r.targetId))).next((()=>i.Pi.addMatchingKeys(s,n,r.targetId))).next((()=>i.Ii.saveNamedQuery(s,e)))}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QW="firestore_clients";function RP(t,e){return`${QW}_${t}_${e}`}const ZW="firestore_mutations";function PP(t,e,n){let r=`${ZW}_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const eq="firestore_targets";function ZE(t,e){return`${eq}_${t}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ol="SharedClientState";class c_{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ws(e,n,r){const i=JSON.parse(r);let s,a=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return a&&i.error&&(a=typeof i.error.message=="string"&&typeof i.error.code=="string",a&&(s=new ot(i.error.code,i.error.message))),a?new c_(e,n,i.state,s):(Qr(ol,`Failed to parse mutation state for ID '${n}': ${r}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class F0{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ws(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new ot(r.error.code,r.error.message))),s?new F0(e,r.state,i):(Qr(ol,`Failed to parse target state for ID '${e}': ${n}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class u_{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ws(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=QN();for(let a=0;i&&a<r.activeTargetIds.length;++a)i=EV(r.activeTargetIds[a]),s=s.add(r.activeTargetIds[a]);return i?new u_(e,s):(Qr(ol,`Failed to parse client data for instance '${e}': ${n}`),null)}}class m3{constructor(e,n){this.clientId=e,this.onlineState=n}static Ws(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new m3(n.clientId,n.onlineState):(Qr(ol,`Failed to parse online state: ${e}`),null)}}class eA{constructor(){this.activeTargetIds=QN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eC{constructor(e,n,r,i,s){this.window=e,this.Mi=n,this.persistenceKey=r,this.Js=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new Ur(tn),this.started=!1,this.Xs=[];const a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.eo=RP(this.persistenceKey,this.Js),this.no=(function(l){return`firestore_sequence_number_${l}`})(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new eA),this.ro=new RegExp(`^${QW}_${a}_([^_]*)$`),this.io=new RegExp(`^${ZW}_${a}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${eq}_${a}_(\\d+)$`),this.oo=(function(l){return`firestore_online_state_${l}`})(this.persistenceKey),this._o=(function(l){return`firestore_bundle_loaded_v2_${l}`})(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const r of e){if(r===this.Js)continue;const i=this.getItem(RP(this.persistenceKey,r));if(i){const s=u_.Ws(r,i);s&&(this.Zs=this.Zs.insert(s.clientId,s))}}this.ao();const n=this.storage.getItem(this.oo);if(n){const r=this.uo(n);r&&this.co(r)}for(const r of this.Xs)this.Ys(r);this.Xs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let n=!1;return this.Zs.forEach(((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)})),n}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,n,r){this.ho(e,n,r),this.Po(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(ZE(this.persistenceKey,e));if(i){const s=F0.Ws(e,i);s&&(r=s.state)}}return n&&this.To.zs(e),this.ao(),r}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ZE(this.persistenceKey,e))}updateQueryState(e,n,r){this.Io(e,n,r)}handleUserChange(e,n,r){n.forEach((i=>{this.Po(i)})),this.currentUser=e,r.forEach((i=>{this.addPendingMutation(i)}))}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return ut(ol,"READ",e,n),n}setItem(e,n){ut(ol,"SET",e,n),this.storage.setItem(e,n)}removeItem(e){ut(ol,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const n=e;if(n.storageArea===this.storage){if(ut(ol,"EVENT",n.key,n.newValue),n.key===this.eo)return void Qr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable((async()=>{if(this.started){if(n.key!==null){if(this.ro.test(n.key)){if(n.newValue==null){const r=this.Ro(n.key);return this.Vo(r,null)}{const r=this.mo(n.key,n.newValue);if(r)return this.Vo(r.clientId,r)}}else if(this.io.test(n.key)){if(n.newValue!==null){const r=this.fo(n.key,n.newValue);if(r)return this.po(r)}}else if(this.so.test(n.key)){if(n.newValue!==null){const r=this.yo(n.key,n.newValue);if(r)return this.wo(r)}}else if(n.key===this.oo){if(n.newValue!==null){const r=this.uo(n.newValue);if(r)return this.co(r)}}else if(n.key===this.no){const r=(function(s){let a=Ys.ce;if(s!=null)try{const o=JSON.parse(s);Ft(typeof o=="number",30636,{So:s}),a=o}catch(o){Qr(ol,"Failed to read sequence number from WebStorage",o)}return a})(n.newValue);r!==Ys.ce&&this.sequenceNumberHandler(r)}else if(n.key===this._o){const r=this.bo(n.newValue);await Promise.all(r.map((i=>this.syncEngine.Do(i))))}}}else this.Xs.push(n)}))}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,n,r){const i=new c_(this.currentUser,e,n,r),s=PP(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Gs())}Po(e){const n=PP(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Eo(e){const n={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(n))}Io(e,n,r){const i=ZE(this.persistenceKey,e),s=new F0(e,n,r);this.setItem(i,s.Gs())}Ao(e){const n=JSON.stringify(Array.from(e));this.setItem(this._o,n)}Ro(e){const n=this.ro.exec(e);return n?n[1]:null}mo(e,n){const r=this.Ro(e);return u_.Ws(r,n)}fo(e,n){const r=this.io.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return c_.Ws(new Pi(s),i,n)}yo(e,n){const r=this.so.exec(e),i=Number(r[1]);return F0.Ws(i,n)}uo(e){return m3.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);ut(ol,`Ignoring mutation for non-active user ${e.user.uid}`)}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,n){const r=n?this.Zs.insert(e,n):this.Zs.remove(e),i=this.lo(this.Zs),s=this.lo(r),a=[],o=[];return s.forEach((l=>{i.has(l)||a.push(l)})),i.forEach((l=>{s.has(l)||o.push(l)})),this.syncEngine.Fo(a,o).then((()=>{this.Zs=r}))}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let n=QN();return e.forEach(((r,i)=>{n=n.unionWith(i.activeTargetIds)})),n}}class tq{constructor(){this.Mo=new eA,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new eA,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jie{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP="ConnectivityMonitor";class MP{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ut(FP,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ut(FP,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vx=null;function tA(){return vx===null?vx=(function(){return 268435456+Math.round(2147483648*Math.random())})():vx++,"0x"+vx.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC="RestConnection",Yie={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Qie{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===B4?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const a=tA(),o=this.zo(e,n.toUriEncodedString());ut(tC,`Sending RPC '${e}' ${a}:`,o,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,s);const{host:c}=new URL(o),u=Il(c);return this.Jo(e,o,l,r,u).then((f=>(ut(tC,`Received RPC '${e}' ${a}: `,f),f)),(f=>{throw El(tC,`RPC '${e}' ${a} failed with error: `,f,"url: ",o,"request:",r),f}))}Ho(e,n,r,i,s,a){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Am})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,n){const r=Yie[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zie{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns="WebChannelConnection";class ese extends Qie{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const a=tA();return new Promise(((o,l)=>{const c=new lV;c.setWithCredentials(!0),c.listenOnce(cV.COMPLETE,(()=>{try{switch(c.getLastErrorCode()){case i2.NO_ERROR:const f=c.getResponseJson();ut(ns,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(f)),o(f);break;case i2.TIMEOUT:ut(ns,`RPC '${e}' ${a} timed out`),l(new ot(et.DEADLINE_EXCEEDED,"Request time out"));break;case i2.HTTP_ERROR:const h=c.getStatus();if(ut(ns,`RPC '${e}' ${a} failed with status:`,h,"response text:",c.getResponseText()),h>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const v=p==null?void 0:p.error;if(v&&v.status&&v.message){const g=(function(b){const _=b.toLowerCase().replace(/_/g,"-");return Object.values(et).indexOf(_)>=0?_:et.UNKNOWN})(v.status);l(new ot(g,v.message))}else l(new ot(et.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new ot(et.UNAVAILABLE,"Connection failed."));break;default:Dt(9055,{l_:e,streamId:a,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{ut(ns,`RPC '${e}' ${a} completed.`)}}));const u=JSON.stringify(i);ut(ns,`RPC '${e}' ${a} sending request:`,i),c.send(n,"POST",u,r,15)}))}T_(e,n,r){const i=tA(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=fV(),o=dV(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");ut(ns,`Creating RPC '${e}' stream ${i}: ${u}`,l);const f=a.createWebChannel(u,l);this.I_(f);let h=!1,p=!1;const v=new Zie({Yo:y=>{p?ut(ns,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(ut(ns,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),ut(ns,`RPC '${e}' stream ${i} sending:`,y),f.send(y))},Zo:()=>f.close()}),g=(y,b,_)=>{y.listen(b,(w=>{try{_(w)}catch(C){setTimeout((()=>{throw C}),0)}}))};return g(f,m0.EventType.OPEN,(()=>{p||(ut(ns,`RPC '${e}' stream ${i} transport opened.`),v.o_())})),g(f,m0.EventType.CLOSE,(()=>{p||(p=!0,ut(ns,`RPC '${e}' stream ${i} transport closed`),v.a_(),this.E_(f))})),g(f,m0.EventType.ERROR,(y=>{p||(p=!0,El(ns,`RPC '${e}' stream ${i} transport errored. Name:`,y.name,"Message:",y.message),v.a_(new ot(et.UNAVAILABLE,"The operation could not be completed")))})),g(f,m0.EventType.MESSAGE,(y=>{var b;if(!p){const _=y.data[0];Ft(!!_,16349);const w=_,C=(w==null?void 0:w.error)||((b=w[0])==null?void 0:b.error);if(C){ut(ns,`RPC '${e}' stream ${i} received error:`,C);const S=C.status;let R=(function(k){const F=li[k];if(F!==void 0)return pW(F)})(S),D=C.message;R===void 0&&(R=et.INTERNAL,D="Unknown error status: "+S+" with message "+C.message),p=!0,v.a_(new ot(R,D)),f.close()}else ut(ns,`RPC '${e}' stream ${i} received:`,_),v.u_(_)}})),g(o,uV.STAT_EVENT,(y=>{y.stat===R4.PROXY?ut(ns,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===R4.NOPROXY&&ut(ns,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{v.__()}),0),v}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nq(){return typeof window<"u"?window:null}function p2(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(t){return new sie(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&ut("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP="PersistentStream";class rq{constructor(e,n,r,i,s,a,o,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new g3(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===et.RESOURCE_EXHAUSTED?(Qr(n.toString()),Qr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===et.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new ot(et.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ut(UP,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ut(UP,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class tse extends rq{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=lie(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Bt.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Bt.min():a.readTime?Zr(a.readTime):Bt.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=X4(this.serializer),n.addTarget=(function(s,a){let o;const l=a.target;if(o=t_(l)?{documents:EW(s,l)}:{query:CW(s,l).ft},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=vW(s,a.resumeToken);const c=G4(s,a.expectedCount);c!==null&&(o.expectedCount=c)}else if(a.snapshotVersion.compareTo(Bt.min())>0){o.readTime=em(s,a.snapshotVersion.toTimestamp());const c=G4(s,a.expectedCount);c!==null&&(o.expectedCount=c)}return o})(this.serializer,e);const r=uie(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=X4(this.serializer),n.removeTarget=e,this.q_(n)}}class nse extends rq{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ft(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ft(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ft(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=cie(e.writeResults,e.commitTime),r=Zr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=X4(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>by(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rse{}class ise extends rse{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ot(et.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,a])=>this.connection.Go(e,K4(n,r),i,s,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ot(et.UNKNOWN,s.toString())}))}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Ho(e,K4(n,r),i,a,o,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ot(et.UNKNOWN,a.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class sse{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Qr(n),this.aa=!1):ut("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf="RemoteStore";class ase{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((a=>{r.enqueueAndForget((async()=>{Zu(this)&&(ut(wf,"Restarting streams for network reachability change."),await(async function(l){const c=Et(l);c.Ea.add(4),await Rm(c),c.Ra.set("Unknown"),c.Ea.delete(4),await _v(c)})(this))}))})),this.Ra=new sse(r,i)}}async function _v(t){if(Zu(t))for(const e of t.da)await e(!0)}async function Rm(t){for(const e of t.da)await e(!1)}function Nb(t,e){const n=Et(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),x3(n)?v3(n):Fm(n).O_()&&y3(n,e))}function rm(t,e){const n=Et(t),r=Fm(n);n.Ia.delete(e),r.O_()&&iq(n,e),n.Ia.size===0&&(r.O_()?r.L_():Zu(n)&&n.Ra.set("Unknown"))}function y3(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Bt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Fm(t).Y_(e)}function iq(t,e){t.Va.Ue(e),Fm(t).Z_(e)}function v3(t){t.Va=new tie({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Fm(t).start(),t.Ra.ua()}function x3(t){return Zu(t)&&!Fm(t).x_()&&t.Ia.size>0}function Zu(t){return Et(t).Ea.size===0}function sq(t){t.Va=void 0}async function ose(t){t.Ra.set("Online")}async function lse(t){t.Ia.forEach(((e,n)=>{y3(t,e)}))}async function cse(t,e){sq(t),x3(t)?(t.Ra.ha(e),v3(t)):t.Ra.set("Unknown")}async function use(t,e,n){if(t.Ra.set("Online"),e instanceof yW&&e.state===2&&e.cause)try{await(async function(i,s){const a=s.cause;for(const o of s.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.Ia.delete(o),i.Va.removeTarget(o))})(t,e)}catch(r){ut(wf,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await d_(t,r)}else if(e instanceof f2?t.Va.Ze(e):e instanceof gW?t.Va.st(e):t.Va.tt(e),!n.isEqual(Bt.min()))try{const r=await GW(t.localStore);n.compareTo(r)>=0&&await(function(s,a){const o=s.Va.Tt(a);return o.targetChanges.forEach(((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.Ia.get(c);u&&s.Ia.set(c,u.withResumeToken(l.resumeToken,a))}})),o.targetMismatches.forEach(((l,c)=>{const u=s.Ia.get(l);if(!u)return;s.Ia.set(l,u.withResumeToken(qr.EMPTY_BYTE_STRING,u.snapshotVersion)),iq(s,l);const f=new Jl(u.target,l,c,u.sequenceNumber);y3(s,f)})),s.remoteSyncer.applyRemoteEvent(o)})(t,n)}catch(r){ut(wf,"Failed to raise snapshot:",r),await d_(t,r)}}async function d_(t,e,n){if(!Yu(e))throw e;t.Ea.add(1),await Rm(t),t.Ra.set("Offline"),n||(n=()=>GW(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ut(wf,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await _v(t)}))}function aq(t,e){return e().catch((n=>d_(t,n,e)))}async function Pm(t){const e=Et(t),n=Uu(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:wu;for(;dse(e);)try{const i=await Gie(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,fse(e,i)}catch(i){await d_(e,i)}oq(e)&&lq(e)}function dse(t){return Zu(t)&&t.Ta.length<10}function fse(t,e){t.Ta.push(e);const n=Uu(t);n.O_()&&n.X_&&n.ea(e.mutations)}function oq(t){return Zu(t)&&!Uu(t).x_()&&t.Ta.length>0}function lq(t){Uu(t).start()}async function hse(t){Uu(t).ra()}async function pse(t){const e=Uu(t);for(const n of t.Ta)e.ea(n.mutations)}async function mse(t,e,n){const r=t.Ta.shift(),i=n3.from(r,e,n);await aq(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Pm(t)}async function gse(t,e){e&&Uu(t).X_&&await(async function(r,i){if((function(a){return hW(a)&&a!==et.ABORTED})(i.code)){const s=r.Ta.shift();Uu(r).B_(),await aq(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await Pm(r)}})(t,e),oq(t)&&lq(t)}async function OP(t,e){const n=Et(t);n.asyncQueue.verifyOperationInProgress(),ut(wf,"RemoteStore received new credentials");const r=Zu(n);n.Ea.add(3),await Rm(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await _v(n)}async function nA(t,e){const n=Et(t);e?(n.Ea.delete(2),await _v(n)):e||(n.Ea.add(2),await Rm(n),n.Ra.set("Unknown"))}function Fm(t){return t.ma||(t.ma=(function(n,r,i){const s=Et(n);return s.sa(),new tse(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:ose.bind(null,t),t_:lse.bind(null,t),r_:cse.bind(null,t),H_:use.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),x3(t)?v3(t):t.Ra.set("Unknown")):(await t.ma.stop(),sq(t))}))),t.ma}function Uu(t){return t.fa||(t.fa=(function(n,r,i){const s=Et(n);return s.sa(),new nse(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:hse.bind(null,t),r_:gse.bind(null,t),ta:pse.bind(null,t),na:mse.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Pm(t)):(await t.fa.stop(),t.Ta.length>0&&(ut(wf,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,o=new _3(e,n,a,i,s);return o.start(r),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(et.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mm(t,e){if(Qr("AsyncQueue",`${e}: ${t}`),Yu(t))return new ot(et.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{static emptySet(e){return new Ep(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Tt.comparator(n.key,r.key):(n,r)=>Tt.comparator(n.key,r.key),this.keyedMap=g0(),this.sortedSet=new Ur(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ep)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ep;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(){this.ga=new Ur(Tt.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Dt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class im{constructor(e,n,r,i,s,a,o,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach((o=>{a.push({type:0,doc:o})})),new im(e,n,Ep.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yse{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class vse{constructor(){this.queries=jP(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Et(n),s=i.queries;i.queries=jP(),s.forEach(((a,o)=>{for(const l of o.Sa)l.onError(r)}))})(this,new ot(et.ABORTED,"Firestore shutting down"))}}function jP(){return new wc((t=>ZV(t)),pv)}async function b3(t,e){const n=Et(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new yse,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const o=Mm(a,`Initialization of query '${op(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&T3(n)}async function w3(t,e){const n=Et(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.Sa.indexOf(e);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function xse(t,e){const n=Et(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const o of a.Sa)o.Fa(i)&&(r=!0);a.wa=i}}r&&T3(n)}function _se(t,e,n){const r=Et(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function T3(t){t.Ca.forEach((e=>{e.next()}))}var rA,BP;(BP=rA||(rA={})).Ma="default",BP.Cache="cache";class E3{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new im(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=im.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==rA.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bse{constructor(e,n){this.Qa=e,this.byteLength=n}$a(){return"metadata"in this.Qa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e){this.serializer=e}$s(e){return _l(this.serializer,e)}Us(e){return e.metadata.exists?TW(this.serializer,e.document,!1):pr.newNoDocument(this.$s(e.metadata.name),this.Ks(e.metadata.readTime))}Ks(e){return Zr(e)}}class wse{constructor(e,n){this.Ua=e,this.serializer=n,this.Ka=[],this.Wa=[],this.collectionGroups=new Set,this.progress=cq(e)}get queries(){return this.Ka}get documents(){return this.Wa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Qa.namedQuery)this.Ka.push(e.Qa.namedQuery);else if(e.Qa.documentMetadata){this.Wa.push({metadata:e.Qa.documentMetadata}),e.Qa.documentMetadata.exists||++n;const r=yn.fromString(e.Qa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Qa.document&&(this.Wa[this.Wa.length-1].document=e.Qa.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,{...this.progress}):null}za(e){const n=new Map,r=new VP(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.$s(i.metadata.name);for(const a of i.metadata.queries){const o=(n.get(a)||sn()).add(s);n.set(a,o)}}return n}async ja(e){const n=await Kie(e,new VP(this.serializer),this.Wa,this.Ua.id),r=this.za(this.documents);for(const i of this.Ka)await Xie(e,i,r.get(i.name));return this.progress.taskState="Success",{progress:this.progress,Ja:this.collectionGroups,Ha:n}}}function cq(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uq{constructor(e){this.key=e}}class dq{constructor(e){this.key=e}}class fq{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=sn(),this.mutatedKeys=sn(),this.eu=tW(e),this.tu=new Ep(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new LP,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((u,f)=>{const h=i.get(u),p=mv(this.query,f)?f:null,v=!!h&&this.mutatedKeys.has(h.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let y=!1;h&&p?h.data.isEqual(p.data)?v!==g&&(r.track({type:3,doc:p}),y=!0):this.su(h,p)||(r.track({type:2,doc:p}),y=!0,(l&&this.eu(p,l)>0||c&&this.eu(p,c)<0)&&(o=!0)):!h&&p?(r.track({type:0,doc:p}),y=!0):h&&!p&&(r.track({type:1,doc:h}),y=!0,(l||c)&&(o=!0)),y&&(p?(a=a.add(p),s=g?s.add(u):s.delete(u)):(a=a.delete(u),s=s.delete(u)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const u=this.query.limitType==="F"?a.last():a.first();a=a.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{tu:a,iu:r,Cs:o,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort(((u,f)=>(function(p,v){const g=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dt(20277,{Rt:y})}};return g(p)-g(v)})(u.type,f.type)||this.eu(u.doc,f.doc))),this.ou(r),i=i??!1;const o=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,c=l!==this.Za;return this.Za=l,a.length!==0||c?{snapshot:new im(this.query,e.tu,s,a,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new LP,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=sn(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new dq(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new uq(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=sn();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return im.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ed="SyncEngine";class Tse{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Ese{constructor(e){this.key=e,this.hu=!1}}class Cse{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new wc((o=>ZV(o)),pv),this.Iu=new Map,this.Eu=new Set,this.du=new Ur(Tt.comparator),this.Au=new Map,this.Ru=new c3,this.Vu={},this.mu=new Map,this.fu=bf.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Sse(t,e,n=!0){const r=Ib(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await hq(r,e,n,!0),i}async function Dse(t,e){const n=Ib(t);await hq(n,e,!0,!1)}async function hq(t,e,n,r){const i=await tm(t.localStore,Fs(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await C3(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&Nb(t.remoteStore,i),o}async function C3(t,e,n,r,i){t.pu=(f,h,p)=>(async function(g,y,b,_){let w=y.view.ru(b);w.Cs&&(w=await l_(g.localStore,y.query,!1).then((({documents:D})=>y.view.ru(D,w))));const C=_&&_.targetChanges.get(y.targetId),S=_&&_.targetMismatches.get(y.targetId)!=null,R=y.view.applyChanges(w,g.isPrimaryClient,C,S);return iA(g,y.targetId,R.au),R.snapshot})(t,f,h,p);const s=await l_(t.localStore,e,!0),a=new fq(e,s.Qs),o=a.ru(s.documents),l=vv.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=a.applyChanges(o,t.isPrimaryClient,l);iA(t,n,c.au);const u=new Tse(e,n,a);return t.Tu.set(e,u),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function Ase(t,e,n){const r=Et(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((a=>!pv(a,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await nm(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&rm(r.remoteStore,i.targetId),sm(r,i.targetId)})).catch(Ju)):(sm(r,i.targetId),await nm(r.localStore,i.targetId,!0))}async function Nse(t,e){const n=Et(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),rm(n.remoteStore,r.targetId))}async function Ise(t,e,n){const r=N3(t);try{const i=await(function(a,o){const l=Et(a),c=Mn.now(),u=o.reduce(((p,v)=>p.add(v.key)),sn());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",(p=>{let v=Zs(),g=sn();return l.Ns.getEntries(p,u).next((y=>{v=y,v.forEach(((b,_)=>{_.isValidDocument()||(g=g.add(b))}))})).next((()=>l.localDocuments.getOverlayedDocuments(p,v))).next((y=>{f=y;const b=[];for(const _ of o){const w=Qre(_,f.get(_.key).overlayedDocument);w!=null&&b.push(new Tc(_.key,w,$V(w.value.mapValue),Er.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,b,o)})).next((y=>{h=y;const b=y.applyToLocalDocumentSet(f,g);return l.documentOverlayCache.saveOverlays(p,y.batchId,b)}))})).then((()=>({batchId:h.batchId,changes:rW(f)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(a,o,l){let c=a.Vu[a.currentUser.toKey()];c||(c=new Ur(tn)),c=c.insert(o,l),a.Vu[a.currentUser.toKey()]=c})(r,i.batchId,n),await Ec(r,i.changes),await Pm(r.remoteStore)}catch(i){const s=Mm(i,"Failed to persist write");n.reject(s)}}async function pq(t,e){const n=Et(t);try{const r=await Hie(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const a=n.Au.get(s);a&&(Ft(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?Ft(a.hu,14607):i.removedDocuments.size>0&&(Ft(a.hu,42227),a.hu=!1))})),await Ec(n,r,e)}catch(r){await Ju(r)}}function WP(t,e,n){const r=Et(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,a)=>{const o=a.view.va(e);o.snapshot&&i.push(o.snapshot)})),(function(a,o){const l=Et(a);l.onlineState=o;let c=!1;l.queries.forEach(((u,f)=>{for(const h of f.Sa)h.va(o)&&(c=!0)})),c&&T3(l)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function kse(t,e,n){const r=Et(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let a=new Ur(Tt.comparator);a=a.insert(s,pr.newNoDocument(s,Bt.min()));const o=sn().add(s),l=new yv(Bt.min(),new Map,new Ur(tn),a,o);await pq(r,l),r.du=r.du.remove(s),r.Au.delete(e),A3(r)}else await nm(r.localStore,e,!1).then((()=>sm(r,e,n))).catch(Ju)}async function Rse(t,e){const n=Et(t),r=e.batch.batchId;try{const i=await zie(n.localStore,e);D3(n,r,null),S3(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ec(n,i)}catch(i){await Ju(i)}}async function Pse(t,e,n){const r=Et(t);try{const i=await(function(a,o){const l=Et(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",(c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next((f=>(Ft(f!==null,37113),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f)))).next((()=>l.mutationQueue.performConsistencyCheck(c))).next((()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o))).next((()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u))).next((()=>l.localDocuments.getDocuments(c,u)))}))})(r.localStore,e);D3(r,e,n),S3(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ec(r,i)}catch(i){await Ju(i)}}async function Fse(t,e){const n=Et(t);Zu(n.remoteStore)||ut(ed,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await(function(a){const o=Et(a);return o.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(l=>o.mutationQueue.getHighestUnacknowledgedBatchId(l)))})(n.localStore);if(r===wu)return void e.resolve();const i=n.mu.get(r)||[];i.push(e),n.mu.set(r,i)}catch(r){const i=Mm(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function S3(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function D3(t,e,n){const r=Et(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function sm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||mq(t,r)}))}function mq(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(rm(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),A3(t))}function iA(t,e,n){for(const r of n)r instanceof uq?(t.Ru.addReference(r.key,e),Mse(t,r)):r instanceof dq?(ut(ed,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||mq(t,r.key)):Dt(19791,{wu:r})}function Mse(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ut(ed,"New document in limbo: "+n),t.Eu.add(r),A3(t))}function A3(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Tt(yn.fromString(e)),r=t.fu.next();t.Au.set(r,new Ese(n)),t.du=t.du.insert(n,r),Nb(t.remoteStore,new Jl(Fs(Nm(n.path)),r,"TargetPurposeLimboResolution",Ys.ce))}}async function Ec(t,e,n){const r=Et(t),i=[],s=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach(((o,l)=>{a.push(r.pu(l,e,n).then((c=>{var u;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=h3.As(l.targetId,c);s.push(f)}})))})),await Promise.all(a),r.Pu.H_(i),await(async function(l,c){const u=Et(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",(f=>ze.forEach(c,(h=>ze.forEach(h.Es,(p=>u.persistence.referenceDelegate.addReference(f,h.targetId,p))).next((()=>ze.forEach(h.ds,(p=>u.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))))))}catch(f){if(!Yu(f))throw f;ut(p3,"Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const p=u.Ms.get(h),v=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(v);u.Ms=u.Ms.insert(h,g)}}})(r.localStore,s))}async function Use(t,e){const n=Et(t);if(!n.currentUser.isEqual(e)){ut(ed,"User change. New user:",e.toKey());const r=await HW(n.localStore,e);n.currentUser=e,(function(s,a){s.mu.forEach((o=>{o.forEach((l=>{l.reject(new ot(et.CANCELLED,a))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ec(n,r.Ls)}}function Ose(t,e){const n=Et(t),r=n.Au.get(e);if(r&&r.hu)return sn().add(r.key);{let i=sn();const s=n.Iu.get(e);if(!s)return i;for(const a of s){const o=n.Tu.get(a);i=i.unionWith(o.view.nu)}return i}}async function Lse(t,e){const n=Et(t),r=await l_(n.localStore,e.query,!0),i=e.view.cu(r);return n.isPrimaryClient&&iA(n,e.targetId,i.au),i}async function jse(t,e){const n=Et(t);return JW(n.localStore,e).then((r=>Ec(n,r)))}async function Bse(t,e,n,r){const i=Et(t),s=await(function(o,l){const c=Et(o),u=Et(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",(f=>u.er(f,l).next((h=>h?c.localDocuments.getDocuments(f,h):ze.resolve(null)))))})(i.localStore,e);s!==null?(n==="pending"?await Pm(i.remoteStore):n==="acknowledged"||n==="rejected"?(D3(i,e,r||null),S3(i,e),(function(o,l){Et(Et(o).mutationQueue).ir(l)})(i.localStore,e)):Dt(6720,"Unknown batchState",{Su:n}),await Ec(i,s)):ut(ed,"Cannot apply mutation batch with id: "+e)}async function Vse(t,e){const n=Et(t);if(Ib(n),N3(n),e===!0&&n.gu!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await qP(n,r.toArray());n.gu=!0,await nA(n.remoteStore,!0);for(const s of i)Nb(n.remoteStore,s)}else if(e===!1&&n.gu!==!1){const r=[];let i=Promise.resolve();n.Iu.forEach(((s,a)=>{n.sharedClientState.isLocalQueryTarget(a)?r.push(a):i=i.then((()=>(sm(n,a),nm(n.localStore,a,!0)))),rm(n.remoteStore,a)})),await i,await qP(n,r),(function(a){const o=Et(a);o.Au.forEach(((l,c)=>{rm(o.remoteStore,c)})),o.Ru.Jr(),o.Au=new Map,o.du=new Ur(Tt.comparator)})(n),n.gu=!1,await nA(n.remoteStore,!1)}}async function qP(t,e,n){const r=Et(t),i=[],s=[];for(const a of e){let o;const l=r.Iu.get(a);if(l&&l.length!==0){o=await tm(r.localStore,Fs(l[0]));for(const c of l){const u=r.Tu.get(c),f=await Lse(r,u);f.snapshot&&s.push(f.snapshot)}}else{const c=await XW(r.localStore,a);o=await tm(r.localStore,c),await C3(r,gq(c),a,!1,o.resumeToken)}i.push(o)}return r.Pu.H_(s),i}function gq(t){return QV(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Wse(t){return(function(n){return Et(Et(n).persistence).Ts()})(Et(t).localStore)}async function qse(t,e,n,r){const i=Et(t);if(i.gu)return void ut(ed,"Ignoring unexpected query state notification.");const s=i.Iu.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const a=await JW(i.localStore,eW(s[0])),o=yv.createSynthesizedRemoteEventForCurrentChange(e,n==="current",qr.EMPTY_BYTE_STRING);await Ec(i,a,o);break}case"rejected":await nm(i.localStore,e,!0),sm(i,e,r);break;default:Dt(64155,n)}}async function $se(t,e,n){const r=Ib(t);if(r.gu){for(const i of e){if(r.Iu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){ut(ed,"Adding an already active target "+i);continue}const s=await XW(r.localStore,i),a=await tm(r.localStore,s);await C3(r,gq(s),a.targetId,!1,a.resumeToken),Nb(r.remoteStore,a)}for(const i of n)r.Iu.has(i)&&await nm(r.localStore,i,!1).then((()=>{rm(r.remoteStore,i),sm(r,i)})).catch(Ju)}}function Ib(t){const e=Et(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=pq.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ose.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kse.bind(null,e),e.Pu.H_=xse.bind(null,e.eventManager),e.Pu.yu=_se.bind(null,e.eventManager),e}function N3(t){const e=Et(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Rse.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Pse.bind(null,e),e}function zse(t,e,n){const r=Et(t);(async function(s,a,o){try{const l=await a.getMetadata();if(await(function(p,v){const g=Et(p),y=Zr(v.createTime);return g.persistence.runTransaction("hasNewerBundle","readonly",(b=>g.Ii.getBundleMetadata(b,v.id))).then((b=>!!b&&b.createTime.compareTo(y)>=0))})(s.localStore,l))return await a.close(),o._completeWith((function(p){return{taskState:"Success",documentsLoaded:p.totalDocuments,bytesLoaded:p.totalBytes,totalDocuments:p.totalDocuments,totalBytes:p.totalBytes}})(l)),Promise.resolve(new Set);o._updateProgress(cq(l));const c=new wse(l,a.serializer);let u=await a.bu();for(;u;){const h=await c.Ga(u);h&&o._updateProgress(h),u=await a.bu()}const f=await c.ja(s.localStore);return await Ec(s,f.Ha,void 0),await(function(p,v){const g=Et(p);return g.persistence.runTransaction("Save bundle","readwrite",(y=>g.Ii.saveBundleMetadata(y,v)))})(s.localStore,l),o._completeWith(f.progress),Promise.resolve(f.Ja)}catch(l){return El(ed,`Loading bundle failed with ${l}`),o._failWith(l),Promise.resolve(new Set)}})(r,e,n).then((i=>{r.sharedClientState.notifyBundleLoaded(i)}))}class wy{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xv(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return zW(this.persistence,new $W,e.initialUser,this.serializer)}Cu(e){return new u3(Ab.mi,this.serializer)}Du(e){return new tq}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wy.provider={build:()=>new wy};class Hse extends wy{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ft(this.persistence.referenceDelegate instanceof o_,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new LW(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?os.withCacheSize(this.cacheSizeBytes):os.DEFAULT;return new u3((r=>o_.mi(r,n)),this.serializer)}}class yq extends wy{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await N3(this.xu.syncEngine),await Pm(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return zW(this.persistence,new $W,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new LW(r,e.asyncQueue,n)}Mu(e,n){const r=new tre(n,this.persistence);return new ere(e.asyncQueue,r)}Cu(e){const n=f3(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?os.withCacheSize(this.cacheSizeBytes):os.DEFAULT;return new d3(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,nq(),p2(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new tq}}class Gse extends yq{constructor(e,n){super(e,n,!1),this.xu=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.xu.syncEngine;this.sharedClientState instanceof eC&&(this.sharedClientState.syncEngine={Co:Bse.bind(null,n),vo:qse.bind(null,n),Fo:$se.bind(null,n),Ts:Wse.bind(null,n),Do:jse.bind(null,n)},await this.sharedClientState.start()),await this.persistence.Ji((async r=>{await Vse(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(e){const n=nq();if(!eC.v(n))throw new ot(et.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=f3(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new eC(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class Ty{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>WP(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Use.bind(null,this.syncEngine),await nA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new vse})()}createDatastore(e){const n=xv(e.databaseInfo.databaseId),r=(function(s){return new ese(s)})(e.databaseInfo);return(function(s,a,o,l){return new ise(s,a,o,l)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,a,o){return new ase(r,i,s,a,o)})(this.localStore,this.datastore,e.asyncQueue,(n=>WP(this.syncEngine,n,0)),(function(){return MP.v()?new MP:new Jie})())}createSyncEngine(e,n){return(function(i,s,a,o,l,c,u){const f=new Cse(i,s,a,o,l,c);return u&&(f.gu=!0),f})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const s=Et(i);ut(wf,"RemoteStore shutting down."),s.Ea.add(5),await Rm(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Ty.provider={build:()=>new Ty};function $P(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Qr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kse{constructor(e,n){this.Bu=e,this.serializer=n,this.metadata=new Ji,this.buffer=new Uint8Array,this.Lu=(function(){return new TextDecoder("utf-8")})(),this.ku().then((r=>{r&&r.$a()?this.metadata.resolve(r.Qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Qa)}`))}),(r=>this.metadata.reject(r)))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async bu(){return await this.getMetadata(),this.ku()}async ku(){const e=await this.qu();if(e===null)return null;const n=this.Lu.decode(e),r=Number(n);isNaN(r)&&this.Qu(`length string (${n}) is not valid number`);const i=await this.$u(r);return new bse(JSON.parse(i),e.length+r)}Uu(){return this.buffer.findIndex((e=>e===123))}async qu(){for(;this.Uu()<0&&!await this.Ku(););if(this.buffer.length===0)return null;const e=this.Uu();e<0&&this.Qu("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async $u(e){for(;this.buffer.length<e;)await this.Ku()&&this.Qu("Reached the end of bundle when more is expected.");const n=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Qu(e){throw this.Bu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ku(){const e=await this.Bu.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xse{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ot(et.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(i,s){const a=Et(i),o={documents:s.map((f=>_y(a.serializer,f)))},l=await a.Ho("BatchGetDocuments",a.serializer.databaseId,yn.emptyPath(),o,s.length),c=new Map;l.forEach((f=>{const h=oie(a.serializer,f);c.set(h.key.toString(),h)}));const u=[];return s.forEach((f=>{const h=c.get(f.toString());Ft(!!h,55234,{key:f}),u.push(h)})),u})(this.datastore,e);return n.forEach((r=>this.recordVersion(r))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new km(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,r)=>{const i=Tt.fromPath(r);this.mutations.push(new e3(i,this.precondition(i)))})),await(async function(r,i){const s=Et(r),a={writes:i.map((o=>by(s.serializer,o)))};await s.Go("Commit",s.serializer.databaseId,yn.emptyPath(),a)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Dt(50498,{Gu:e.constructor.name});n=Bt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new ot(et.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Bt.min())?Er.exists(!1):Er.updateTime(n):Er.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Bt.min()))throw new ot(et.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Er.updateTime(n)}return Er.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jse{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.zu=r.maxAttempts,this.M_=new g3(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new Xse(this.datastore),n=this.Hu(e);n&&n.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((i=>{this.Yu(i)}))))})).catch((r=>{this.Yu(r)}))}))}Hu(e){try{const n=this.updateFunction(e);return!dv(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if((e==null?void 0:e.name)==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!hW(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou="FirestoreClient";class Yse{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Pi.UNAUTHENTICATED,this.clientId=BN.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async a=>{ut(Ou,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,(a=>(ut(Ou,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Mm(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function nC(t,e){t.asyncQueue.verifyOperationInProgress(),ut(Ou,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await HW(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function zP(t,e){t.asyncQueue.verifyOperationInProgress();const n=await I3(t);ut(Ou,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>OP(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>OP(e.remoteStore,i))),t._onlineComponents=e}async function I3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ut(Ou,"Using user provided OfflineComponentProvider");try{await nC(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===et.FAILED_PRECONDITION||i.code===et.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;El("Error using user provided cache. Falling back to memory cache: "+n),await nC(t,new wy)}}else ut(Ou,"Using default OfflineComponentProvider"),await nC(t,new Hse(void 0));return t._offlineComponents}async function Rb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ut(Ou,"Using user provided OnlineComponentProvider"),await zP(t,t._uninitializedComponentsProvider._online)):(ut(Ou,"Using default OnlineComponentProvider"),await zP(t,new Ty))),t._onlineComponents}function vq(t){return I3(t).then((e=>e.persistence))}function k3(t){return I3(t).then((e=>e.localStore))}function xq(t){return Rb(t).then((e=>e.remoteStore))}function R3(t){return Rb(t).then((e=>e.syncEngine))}function Qse(t){return Rb(t).then((e=>e.datastore))}async function am(t){const e=await Rb(t),n=e.eventManager;return n.onListen=Sse.bind(null,e.syncEngine),n.onUnlisten=Ase.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Dse.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Nse.bind(null,e.syncEngine),n}function Zse(t){return t.asyncQueue.enqueue((async()=>{const e=await vq(t),n=await xq(t);return e.setNetworkEnabled(!0),(function(i){const s=Et(i);return s.Ea.delete(0),_v(s)})(n)}))}function eae(t){return t.asyncQueue.enqueue((async()=>{const e=await vq(t),n=await xq(t);return e.setNetworkEnabled(!1),(async function(i){const s=Et(i);s.Ea.add(0),await Rm(s),s.Ra.set("Offline")})(n)}))}function tae(t,e){const n=new Ji;return t.asyncQueue.enqueueAndForget((async()=>(async function(i,s,a){try{const o=await(function(c,u){const f=Et(c);return f.persistence.runTransaction("read document","readonly",(h=>f.localDocuments.getDocument(h,u)))})(i,s);o.isFoundDocument()?a.resolve(o):o.isNoDocument()?a.resolve(null):a.reject(new ot(et.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(o){const l=Mm(o,`Failed to get document '${s} from cache`);a.reject(l)}})(await k3(t),e,n))),n.promise}function _q(t,e,n={}){const r=new Ji;return t.asyncQueue.enqueueAndForget((async()=>(function(s,a,o,l,c){const u=new kb({next:h=>{u.Nu(),a.enqueueAndForget((()=>w3(s,f)));const p=h.docs.has(o);!p&&h.fromCache?c.reject(new ot(et.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?c.reject(new ot(et.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new E3(Nm(o.path),u,{includeMetadataChanges:!0,qa:!0});return b3(s,f)})(await am(t),t.asyncQueue,e,n,r))),r.promise}function nae(t,e){const n=new Ji;return t.asyncQueue.enqueueAndForget((async()=>(async function(i,s,a){try{const o=await l_(i,s,!0),l=new fq(s,o.Qs),c=l.ru(o.documents),u=l.applyChanges(c,!1);a.resolve(u.snapshot)}catch(o){const l=Mm(o,`Failed to execute query '${s} against cache`);a.reject(l)}})(await k3(t),e,n))),n.promise}function bq(t,e,n={}){const r=new Ji;return t.asyncQueue.enqueueAndForget((async()=>(function(s,a,o,l,c){const u=new kb({next:h=>{u.Nu(),a.enqueueAndForget((()=>w3(s,f))),h.fromCache&&l.source==="server"?c.reject(new ot(et.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new E3(o,u,{includeMetadataChanges:!0,qa:!0});return b3(s,f)})(await am(t),t.asyncQueue,e,n,r))),r.promise}function rae(t,e){const n=new kb(e);return t.asyncQueue.enqueueAndForget((async()=>(function(i,s){Et(i).Ca.add(s),s.next()})(await am(t),n))),()=>{n.Nu(),t.asyncQueue.enqueueAndForget((async()=>(function(i,s){Et(i).Ca.delete(s)})(await am(t),n)))}}function iae(t,e,n,r){const i=(function(a,o){let l;return l=typeof a=="string"?mW().encode(a):a,(function(u,f){return new Kse(u,f)})((function(u,f){if(u instanceof Uint8Array)return $P(u,f);if(u instanceof ArrayBuffer)return $P(new Uint8Array(u),f);if(u instanceof ReadableStream)return u.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")})(l),o)})(n,xv(e));t.asyncQueue.enqueueAndForget((async()=>{zse(await R3(t),i,r)}))}function sae(t,e){return t.asyncQueue.enqueue((async()=>(function(r,i){const s=Et(r);return s.persistence.runTransaction("Get named query","readonly",(a=>s.Ii.getNamedQuery(a,i)))})(await k3(t),e)))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wq(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tq="firestore.googleapis.com",GP=!0;class KP{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ot(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Tq,this.ssl=GP}else this.host=e.host,this.ssl=e.ssl??GP;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=FW;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Sie)throw new ot(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}gV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wq(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ot(et.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ot(et.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ot(et.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bv{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new KP({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ot(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new KP(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Wne;switch(r.type){case"firstParty":return new Hne(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ot(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=HP.get(n);r&&(ut("ComponentProvider","Removing Datastore"),HP.delete(n),r.terminate())})(this),Promise.resolve()}}function aae(t,e,n,r={}){var c;t=Rn(t,bv);const i=Il(e),s=t._getSettings(),a={...s,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${n}`;i&&(db(`https://${o}`),fb("Firestore",!0)),s.host!==Tq&&s.host!==o&&El("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:o,ssl:i,emulatorOptions:r};if(!dc(l,a)&&(t._setSettings(l),r.mockUserToken)){let u,f;if(typeof r.mockUserToken=="string")u=r.mockUserToken,f=Pi.MOCK_USER;else{u=IN(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new ot(et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Pi(h)}t._authCredentials=new qne(new pV(u,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ls=class Eq{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Eq(this.firestore,e,this._query)}},ar=class x0{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Eu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new x0(this.firestore,e,this._key)}toJSON(){return{type:x0._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(uv(n,x0._jsonSchema))return new x0(e,r||null,new Tt(yn.fromString(n.referencePath)))}};ar._jsonSchemaVersion="firestore/documentReference/1.0",ar._jsonSchema={type:fi("string",ar._jsonSchemaVersion),referencePath:fi("string")};let Eu=class Cq extends Ls{constructor(e,n,r){super(e,n,Nm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ar(this.firestore,null,new Tt(e))}withConverter(e){return new Cq(this.firestore,e,this._path)}};function Sq(t,e,...n){if(t=Nt(t),VN("collection","path",e),t instanceof bv){const r=yn.fromString(e,...n);return U8(r),new Eu(t,null,r)}{if(!(t instanceof ar||t instanceof Eu))throw new ot(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(yn.fromString(e,...n));return U8(r),new Eu(t.firestore,null,r)}}function oae(t,e){if(t=Rn(t,bv),VN("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ot(et.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ls(t,null,(function(r){return new bc(yn.emptyPath(),r)})(e))}function f_(t,e,...n){if(t=Nt(t),arguments.length===1&&(e=BN.newId()),VN("doc","path",e),t instanceof bv){const r=yn.fromString(e,...n);return M8(r),new ar(t,null,new Tt(r))}{if(!(t instanceof ar||t instanceof Eu))throw new ot(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(yn.fromString(e,...n));return M8(r),new ar(t.firestore,t instanceof Eu?t.converter:null,new Tt(r))}}function Dq(t,e){return t=Nt(t),e=Nt(e),(t instanceof ar||t instanceof Eu)&&(e instanceof ar||e instanceof Eu)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Aq(t,e){return t=Nt(t),e=Nt(e),t instanceof Ls&&e instanceof Ls&&t.firestore===e.firestore&&pv(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP="AsyncQueue";class JP{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new g3(this,"async_queue_retry"),this._c=()=>{const r=p2();r&&ut(XP,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=p2();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=p2();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ji;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Yu(e))throw e;ut(XP,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Qr("INTERNAL UNHANDLED ERROR: ",YP(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=_3.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&Dt(47125,{Pc:YP(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function YP(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(t,["next","error","complete"])}class lae{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ji,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cae=-1;let ni=class extends bv{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new JP,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new JP(e),this._firestoreClient=void 0,await e}}};function bs(t){if(t._terminated)throw new ot(et.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Nq(t),t._firestoreClient}function Nq(t){var r,i,s;const e=t._freezeSettings(),n=(function(o,l,c,u){return new Ire(o,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,wq(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Yse(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}})(t._componentsProvider))}function uae(t,e){El("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return Iq(t,Ty.provider,{build:r=>new yq(r,n.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function dae(t){El("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=t._freezeSettings();Iq(t,Ty.provider,{build:n=>new Gse(n,e.cacheSizeBytes)})}function Iq(t,e,n){if((t=Rn(t,ni))._firestoreClient||t._terminated)throw new ot(et.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new ot(et.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},Nq(t)}function fae(t){if(t._initialized&&!t._terminated)throw new ot(et.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ji;return t._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await(async function(r){if(!xl.v())return Promise.resolve();const i=r+qW;await xl.delete(i)})(f3(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}})),e.promise}function hae(t){return(function(n){const r=new Ji;return n.asyncQueue.enqueueAndForget((async()=>Fse(await R3(n),r))),r.promise})(bs(t=Rn(t,ni)))}function pae(t){return Zse(bs(t=Rn(t,ni)))}function mae(t){return eae(bs(t=Rn(t,ni)))}function gae(t,e){const n=bs(t=Rn(t,ni)),r=new lae;return iae(n,t._databaseId,e,r),r}function yae(t,e){return sae(bs(t=Rn(t,ni)),e).then((n=>n?new Ls(t,null,n.query):null))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ds(qr.fromBase64String(e))}catch(n){throw new ot(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ds(qr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ds._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(uv(e,ds._jsonSchema))return ds.fromBase64String(e.bytes)}}ds._jsonSchemaVersion="firestore/bytes/1.0",ds._jsonSchema={type:fi("string",ds._jsonSchemaVersion),bytes:fi("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lu=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ot(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qf=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ot(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ot(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return tn(this._lat,e._lat)||tn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mo._jsonSchemaVersion}}static fromJSON(e){if(uv(e,Mo._jsonSchema))return new Mo(e.latitude,e.longitude)}}Mo._jsonSchemaVersion="firestore/geoPoint/1.0",Mo._jsonSchema={type:fi("string",Mo._jsonSchemaVersion),latitude:fi("number"),longitude:fi("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:bl._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(uv(e,bl._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new bl(e.vectorValues);throw new ot(et.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}bl._jsonSchemaVersion="firestore/vectorValue/1.0",bl._jsonSchema={type:fi("string",bl._jsonSchemaVersion),vectorValues:fi("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vae=/^__.*__$/;class xae{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Tc(e,this.data,this.fieldMask,n,this.fieldTransforms):new Im(e,this.data,n,this.fieldTransforms)}}class kq{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Tc(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Rq(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dt(40011,{Ac:t})}}class Pb{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Pb({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return h_(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Rq(this.Ac)&&vae.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class _ae{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||xv(e)}Cc(e,n,r,i=!1){return new Pb({Ac:e,methodName:n,Dc:r,path:Tr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $f(t){const e=t._freezeSettings(),n=xv(t._databaseId);return new _ae(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Fb(t,e,n,r,i,s={}){const a=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);j3("Data must be an object, but it was:",a,r);const o=Mq(r,a);let l,c;if(s.merge)l=new Qs(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const u=[];for(const f of s.mergeFields){const h=aA(e,f,n);if(!a.contains(h))throw new ot(et.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Oq(u,h)||u.push(h)}l=new Qs(u),c=a.fieldTransforms.filter((f=>l.covers(f.field)))}else l=null,c=a.fieldTransforms;return new xae(new Ki(o),l,c)}class wv extends qf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wv}}function Pq(t,e,n){return new Pb({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class P3 extends qf{_toFieldTransform(e){return new gv(e.path,new Qp)}isEqual(e){return e instanceof P3}}class F3 extends qf{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=Pq(this,e,!0),r=this.vc.map((s=>zf(s,n))),i=new yf(r);return new gv(e.path,i)}isEqual(e){return e instanceof F3&&dc(this.vc,e.vc)}}class M3 extends qf{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=Pq(this,e,!0),r=this.vc.map((s=>zf(s,n))),i=new vf(r);return new gv(e.path,i)}isEqual(e){return e instanceof M3&&dc(this.vc,e.vc)}}class U3 extends qf{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new Zp(e.serializer,aW(e.serializer,this.Fc));return new gv(e.path,n)}isEqual(e){return e instanceof U3&&this.Fc===e.Fc}}function O3(t,e,n,r){const i=t.Cc(1,e,n);j3("Data must be an object, but it was:",i,r);const s=[],a=Ki.empty();Qu(r,((l,c)=>{const u=B3(e,l,n);c=Nt(c);const f=i.yc(u);if(c instanceof wv)s.push(u);else{const h=zf(c,f);h!=null&&(s.push(u),a.set(u,h))}}));const o=new Qs(s);return new kq(a,o,i.fieldTransforms)}function L3(t,e,n,r,i,s){const a=t.Cc(1,e,n),o=[aA(e,r,n)],l=[i];if(s.length%2!=0)throw new ot(et.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)o.push(aA(e,s[h])),l.push(s[h+1]);const c=[],u=Ki.empty();for(let h=o.length-1;h>=0;--h)if(!Oq(c,o[h])){const p=o[h];let v=l[h];v=Nt(v);const g=a.yc(p);if(v instanceof wv)c.push(p);else{const y=zf(v,g);y!=null&&(c.push(p),u.set(p,y))}}const f=new Qs(c);return new kq(u,f,a.fieldTransforms)}function Fq(t,e,n,r=!1){return zf(n,t.Cc(r?4:3,e))}function zf(t,e){if(Uq(t=Nt(t)))return j3("Unsupported field value:",e,t),Mq(t,e);if(t instanceof qf)return(function(r,i){if(!Rq(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let a=0;for(const o of r){let l=zf(o,i.wc(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=Nt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return aW(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Mn.fromDate(r);return{timestampValue:em(i.serializer,s)}}if(r instanceof Mn){const s=new Mn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:em(i.serializer,s)}}if(r instanceof Mo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ds)return{bytesValue:vW(i.serializer,r._byteString)};if(r instanceof ar){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:s3(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof bl)return(function(a,o){return{mapValue:{fields:{[KN]:{stringValue:XN},[Xp]:{arrayValue:{values:a.toArray().map((c=>{if(typeof c!="number")throw o.Sc("VectorValues must only contain numeric values.");return ZN(o.serializer,c)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${gb(r)}`)})(t,e)}function Mq(t,e){const n={};return MV(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qu(t,((r,i)=>{const s=zf(i,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function Uq(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Mn||t instanceof Mo||t instanceof ds||t instanceof ar||t instanceof qf||t instanceof bl)}function j3(t,e,n){if(!Uq(n)||!yV(n)){const r=gb(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function aA(t,e,n){if((e=Nt(e))instanceof Lu)return e._internalPath;if(typeof e=="string")return B3(t,e);throw h_("Field path arguments must be of type string or ",t,!1,void 0,n)}const bae=new RegExp("[~\\*/\\[\\]]");function B3(t,e,n){if(e.search(bae)>=0)throw h_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Lu(...e.split("."))._internalPath}catch{throw h_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function h_(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new ot(et.INVALID_ARGUMENT,o+t+l)}function Oq(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ar(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wae(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Mb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class wae extends Ey{data(){return super.data()}}function Mb(t,e){return typeof e=="string"?B3(t,e):e instanceof Lu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lq(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ot(et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class V3{}let Tv=class extends V3{};function iu(t,e,...n){let r=[];e instanceof V3&&r.push(e),r=r.concat(n),(function(s){const a=s.filter((l=>l instanceof W3)).length,o=s.filter((l=>l instanceof Ub)).length;if(a>1||a>0&&o>0)throw new ot(et.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class Ub extends Tv{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ub(e,n,r)}_apply(e){const n=this._parse(e);return $q(e._query,n),new Ls(e.firestore,e.converter,H4(e._query,n))}_parse(e){const n=$f(e.firestore);return(function(s,a,o,l,c,u,f){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new ot(et.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){ZP(f,u);const v=[];for(const g of f)v.push(QP(l,s,g));h={arrayValue:{values:v}}}else h=QP(l,s,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||ZP(f,u),h=Fq(o,a,f,u==="in"||u==="not-in");return vn.create(c,u,h)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Tae(t,e,n){const r=e,i=Mb("where",t);return Ub._create(i,r,n)}class W3 extends V3{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new W3(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Hn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,s){let a=i;const o=s.getFlattenedFilters();for(const l of o)$q(a,l),a=H4(a,l)})(e._query,n),new Ls(e.firestore,e.converter,H4(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class q3 extends Tv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new q3(e,n)}_apply(e){const n=(function(i,s,a){if(i.startAt!==null)throw new ot(et.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ot(et.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new xy(s,a)})(e._query,this._field,this._direction);return new Ls(e.firestore,e.converter,(function(i,s){const a=i.explicitOrderBy.concat([s]);return new bc(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function Eae(t,e="asc"){const n=e,r=Mb("orderBy",t);return q3._create(r,n)}class Ob extends Tv{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Ob(e,n,r)}_apply(e){return new Ls(e.firestore,e.converter,r_(e._query,this._limit,this._limitType))}}function Cae(t){return vV("limit",t),Ob._create("limit",t,"F")}function Sae(t){return vV("limitToLast",t),Ob._create("limitToLast",t,"L")}let jq=class Bq extends Tv{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Bq(e,n,r)}_apply(e){const n=qq(e,this.type,this._docOrFields,this._inclusive);return new Ls(e.firestore,e.converter,(function(i,s){return new bc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)})(e._query,n))}};function Dae(...t){return jq._create("startAt",t,!0)}function Aae(...t){return jq._create("startAfter",t,!1)}let Vq=class Wq extends Tv{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Wq(e,n,r)}_apply(e){const n=qq(e,this.type,this._docOrFields,this._inclusive);return new Ls(e.firestore,e.converter,(function(i,s){return new bc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)})(e._query,n))}};function Nae(...t){return Vq._create("endBefore",t,!1)}function Iae(...t){return Vq._create("endAt",t,!0)}function qq(t,e,n,r){if(n[0]=Nt(n[0]),n[0]instanceof Ey)return(function(s,a,o,l,c){if(!l)throw new ot(et.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const u=[];for(const f of Tp(s))if(f.field.isKeyField())u.push(mf(a,l.key));else{const h=l.data.field(f.field);if(bb(h))throw new ot(et.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const p=f.field.canonicalString();throw new ot(et.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${p}' (used as the orderBy) does not exist.`)}u.push(h)}return new Mu(u,c)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=$f(t.firestore);return(function(a,o,l,c,u,f){const h=a.explicitOrderBy;if(u.length>h.length)throw new ot(et.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const p=[];for(let v=0;v<u.length;v++){const g=u[v];if(h[v].field.isKeyField()){if(typeof g!="string")throw new ot(et.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof g}`);if(!YN(a)&&g.indexOf("/")!==-1)throw new ot(et.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${g}' contains a slash.`);const y=a.path.child(yn.fromString(g));if(!Tt.isDocumentKey(y))throw new ot(et.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${y}' is not because it contains an odd number of segments.`);const b=new Tt(y);p.push(mf(o,b))}else{const y=Fq(l,c,g);p.push(y)}}return new Mu(p,f)})(t._query,t.firestore._databaseId,i,e,n,r)}}function QP(t,e,n){if(typeof(n=Nt(n))=="string"){if(n==="")throw new ot(et.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!YN(e)&&n.indexOf("/")!==-1)throw new ot(et.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(yn.fromString(n));if(!Tt.isDocumentKey(r))throw new ot(et.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return mf(t,new Tt(r))}if(n instanceof ar)return mf(t,n._key);throw new ot(et.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gb(n)}.`)}function ZP(t,e){if(!Array.isArray(t)||t.length===0)throw new ot(et.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $q(t,e){const n=(function(i,s){for(const a of i)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ot(et.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ot(et.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class $3{convertValue(e,n="none"){switch(Pu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(pc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Dt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Qu(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[Xp].arrayValue)==null?void 0:i.values)==null?void 0:s.map((a=>wr(a.doubleValue)));return new bl(n)}convertGeoPoint(e){return new Mo(wr(e.latitude),wr(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=wb(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(gy(e));default:return null}}convertTimestamp(e){const n=hc(e);return new Mn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=yn.fromString(e);Ft(NW(r),9688,{name:e});const i=new Ru(r.get(1),r.get(3)),s=new Tt(r.popFirst(5));return i.isEqual(n)||Qr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class kae extends $3{constructor(e){super(),this.firestore=e}convertBytes(e){return new ds(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ar(this.firestore,null,n)}}class Kd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let eo=class zq extends Ey{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new M0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Mb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(et.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=zq._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};eo._jsonSchemaVersion="firestore/documentSnapshot/1.0",eo._jsonSchema={type:fi("string",eo._jsonSchemaVersion),bundleSource:fi("string","DocumentSnapshot"),bundleName:fi("string"),bundle:fi("string")};let M0=class extends eo{data(e={}){return super.data(e)}},Uo=class Hq{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Kd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new M0(this._firestore,this._userDataWriter,r.key,r,new Kd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ot(et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map((o=>{const l=new M0(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Kd(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((o=>s||o.type!==3)).map((o=>{const l=new M0(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Kd(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return o.type!==0&&(c=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),u=a.indexOf(o.doc.key)),{type:Rae(o.type),doc:l,oldIndex:c,newIndex:u}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(et.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Hq._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=BN.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function Rae(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dt(61501,{type:t})}}function Gq(t,e){return t instanceof eo&&e instanceof eo?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Uo&&e instanceof Uo&&t._firestore===e._firestore&&Aq(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pae(t){t=Rn(t,ar);const e=Rn(t.firestore,ni);return _q(bs(e),t._key).then((n=>z3(e,t,n)))}Uo._jsonSchemaVersion="firestore/querySnapshot/1.0",Uo._jsonSchema={type:fi("string",Uo._jsonSchemaVersion),bundleSource:fi("string","QuerySnapshot"),bundleName:fi("string"),bundle:fi("string")};class Hf extends $3{constructor(e){super(),this.firestore=e}convertBytes(e){return new ds(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ar(this.firestore,null,n)}}function Fae(t){t=Rn(t,ar);const e=Rn(t.firestore,ni),n=bs(e),r=new Hf(e);return tae(n,t._key).then((i=>new eo(e,r,t._key,i,new Kd(i!==null&&i.hasLocalMutations,!0),t.converter)))}function Mae(t){t=Rn(t,ar);const e=Rn(t.firestore,ni);return _q(bs(e),t._key,{source:"server"}).then((n=>z3(e,t,n)))}function Uae(t){t=Rn(t,Ls);const e=Rn(t.firestore,ni),n=bs(e),r=new Hf(e);return Lq(t._query),bq(n,t._query).then((i=>new Uo(e,r,t,i)))}function Oae(t){t=Rn(t,Ls);const e=Rn(t.firestore,ni),n=bs(e),r=new Hf(e);return nae(n,t._query).then((i=>new Uo(e,r,t,i)))}function Lae(t){t=Rn(t,Ls);const e=Rn(t.firestore,ni),n=bs(e),r=new Hf(e);return bq(n,t._query,{source:"server"}).then((i=>new Uo(e,r,t,i)))}function eF(t,e,n){t=Rn(t,ar);const r=Rn(t.firestore,ni),i=Lb(t.converter,e,n);return Ev(r,[Fb($f(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Er.none())])}function tF(t,e,n,...r){t=Rn(t,ar);const i=Rn(t.firestore,ni),s=$f(i);let a;return a=typeof(e=Nt(e))=="string"||e instanceof Lu?L3(s,"updateDoc",t._key,e,n,r):O3(s,"updateDoc",t._key,e),Ev(i,[a.toMutation(t._key,Er.exists(!0))])}function jae(t){return Ev(Rn(t.firestore,ni),[new km(t._key,Er.none())])}function Bae(t,e){const n=Rn(t.firestore,ni),r=f_(t),i=Lb(t.converter,e);return Ev(n,[Fb($f(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Er.exists(!1))]).then((()=>r))}function Kq(t,...e){var l,c,u;t=Nt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||sA(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(sA(e[r])){const f=e[r];e[r]=(l=f.next)==null?void 0:l.bind(f),e[r+1]=(c=f.error)==null?void 0:c.bind(f),e[r+2]=(u=f.complete)==null?void 0:u.bind(f)}let s,a,o;if(t instanceof ar)a=Rn(t.firestore,ni),o=Nm(t._key.path),s={next:f=>{e[r]&&e[r](z3(a,t,f))},error:e[r+1],complete:e[r+2]};else{const f=Rn(t,Ls);a=Rn(f.firestore,ni),o=f._query;const h=new Hf(a);s={next:p=>{e[r]&&e[r](new Uo(a,h,f,p))},error:e[r+1],complete:e[r+2]},Lq(t._query)}return(function(h,p,v,g){const y=new kb(g),b=new E3(p,y,v);return h.asyncQueue.enqueueAndForget((async()=>b3(await am(h),b))),()=>{y.Nu(),h.asyncQueue.enqueueAndForget((async()=>w3(await am(h),b)))}})(bs(a),o,i,s)}function Vae(t,e){return rae(bs(t=Rn(t,ni)),sA(e)?e:{next:e})}function Ev(t,e){return(function(r,i){const s=new Ji;return r.asyncQueue.enqueueAndForget((async()=>Ise(await R3(r),i,s))),s.promise})(bs(t),e)}function z3(t,e,n){const r=n.docs.get(e._key),i=new Hf(t);return new eo(t,i,e._key,r,new Kd(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wae={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qae=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=$f(e)}set(e,n,r){this._verifyNotCommitted();const i=hu(e,this._firestore),s=Lb(i.converter,n,r),a=Fb(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,Er.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=hu(e,this._firestore);let a;return a=typeof(n=Nt(n))=="string"||n instanceof Lu?L3(this._dataReader,"WriteBatch.update",s._key,n,r,i):O3(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(a.toMutation(s._key,Er.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=hu(e,this._firestore);return this._mutations=this._mutations.concat(new km(n._key,Er.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ot(et.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function hu(t,e){if((t=Nt(t)).firestore!==e)throw new ot(et.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ae{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=$f(e)}get(e){const n=hu(e,this._firestore),r=new kae(this._firestore);return this._transaction.lookup([n._key]).then((i=>{if(!i||i.length!==1)return Dt(24041);const s=i[0];if(s.isFoundDocument())return new Ey(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new Ey(this._firestore,r,n._key,null,n.converter);throw Dt(18433,{doc:s})}))}set(e,n,r){const i=hu(e,this._firestore),s=Lb(i.converter,n,r),a=Fb(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,a),this}update(e,n,r,...i){const s=hu(e,this._firestore);let a;return a=typeof(n=Nt(n))=="string"||n instanceof Lu?L3(this._dataReader,"Transaction.update",s._key,n,r,i):O3(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,a),this}delete(e){const n=hu(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zae=class extends $ae{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=hu(e,this._firestore),r=new Hf(this._firestore);return super.get(e).then((i=>new eo(this._firestore,r,n._key,i._document,new Kd(!1,!1),n.converter)))}};function Hae(t,e,n){t=Rn(t,ni);const r={...Wae,...n};return(function(s){if(s.maxAttempts<1)throw new ot(et.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(s,a,o){const l=new Ji;return s.asyncQueue.enqueueAndForget((async()=>{const c=await Qse(s);new Jse(s.asyncQueue,c,o,a,l).ju()})),l.promise})(bs(t),(i=>e(new zae(t,i))),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gae(){return new wv("deleteField")}function Kae(){return new P3("serverTimestamp")}function Xae(...t){return new F3("arrayUnion",t)}function Jae(...t){return new M3("arrayRemove",t)}function Yae(t){return new U3("increment",t)}(function(e,n=!0){(function(i){Am=i})(kl),Tl(new Os("firestore",((r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),o=new ni(new $ne(r.getProvider("auth-internal")),new Gne(a,r.getProvider("app-check-internal")),(function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ot(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ru(c.options.projectId,u)})(a,i),a);return s={useFetchStreams:n,...s},o._setSettings(s),o}),"PUBLIC").setMultipleInstances(!0)),Ps(k8,R8,e),Ps(k8,R8,"esm2020")})();const Qae="@firebase/firestore-compat",Zae="0.4.1";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H3(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new ot("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nF(){if(typeof Uint8Array>"u")throw new ot("unimplemented","Uint8Arrays are not available in this environment.")}function rF(){if(!Are())throw new ot("unimplemented","Blobs are unavailable in Firestore in this environment.")}let Xq=class oA{constructor(e){this._delegate=e}static fromBase64String(e){return rF(),new oA(ds.fromBase64String(e))}static fromUint8Array(e){return nF(),new oA(ds.fromUint8Array(e))}toBase64(){return rF(),this._delegate.toBase64()}toUint8Array(){return nF(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(t){return eoe(t,["next","error","complete"])}function eoe(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class toe{enableIndexedDbPersistence(e,n){return uae(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return dae(e._delegate)}clearIndexedDbPersistence(e){return fae(e._delegate)}}class Jq{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ru||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&El("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e={...n,...e},delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){aae(this._delegate,e,n,r)}enableNetwork(){return pae(this._delegate)}disableNetwork(){return mae(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,gV("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return hae(this._delegate)}onSnapshotsInSync(e){return Vae(this._delegate,e)}get app(){if(!this._appCompat)throw new ot("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new om(this,Sq(this._delegate,e))}catch(n){throw As(n,"collection()","Firestore.collection()")}}doc(e){try{return new Ya(this,f_(this._delegate,e))}catch(n){throw As(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Dy(this,oae(this._delegate,e))}catch(n){throw As(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return Hae(this._delegate,n=>e(new Yq(this,n)))}batch(){return bs(this._delegate),new Qq(new qae(this._delegate,e=>Ev(this._delegate,e)))}loadBundle(e){return gae(this._delegate,e)}namedQuery(e){return yae(this._delegate,e).then(n=>n?new Dy(this,n):null)}}class jb extends $3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xq(new ds(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Ya.forKey(n,this.firestore,null)}}function noe(t){Bne(t)}class Yq{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new jb(e)}get(e){const n=Xd(e);return this._delegate.get(n).then(r=>new Cy(this._firestore,new eo(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=Xd(e);return r?(H3("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=Xd(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=Xd(e);return this._delegate.delete(n),this}}class Qq{constructor(e){this._delegate=e}set(e,n,r){const i=Xd(e);return r?(H3("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=Xd(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=Xd(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Tf{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new M0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Sy(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=Tf.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new Tf(e,new jb(e),n),i.set(n,s)),s}}Tf.INSTANCES=new WeakMap;class Ya{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new jb(e)}static forPath(e,n,r){if(e.length%2!==0)throw new ot("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ya(n,new ar(n._delegate,r,new Tt(e)))}static forKey(e,n,r){return new Ya(n,new ar(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new om(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new om(this.firestore,Sq(this._delegate,e))}catch(n){throw As(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Nt(e),e instanceof ar?Dq(this._delegate,e):!1}set(e,n){n=H3("DocumentReference.set",n);try{return n?eF(this._delegate,e,n):eF(this._delegate,e)}catch(r){throw As(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?tF(this._delegate,e):tF(this._delegate,e,n,...r)}catch(i){throw As(i,"updateDoc()","DocumentReference.update()")}}delete(){return jae(this._delegate)}onSnapshot(...e){const n=Zq(e),r=e$(e,i=>new Cy(this.firestore,new eo(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return Kq(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=Fae(this._delegate):(e==null?void 0:e.source)==="server"?n=Mae(this._delegate):n=Pae(this._delegate),n.then(r=>new Cy(this.firestore,new eo(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ya(this.firestore,e?this._delegate.withConverter(Tf.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function As(t,e,n){return t.message=t.message.replace(e,n),t}function Zq(t){for(const e of t)if(typeof e=="object"&&!lA(e))return e;return{}}function e$(t,e){var r,i;let n;return lA(t[0])?n=t[0]:lA(t[1])?n=t[1]:typeof t[0]=="function"?n={next:t[0],error:t[1],complete:t[2]}:n={next:t[1],error:t[2],complete:t[3]},{next:s=>{n.next&&n.next(e(s))},error:(r=n.error)==null?void 0:r.bind(n),complete:(i=n.complete)==null?void 0:i.bind(n)}}class Cy{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Ya(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return Gq(this._delegate,e._delegate)}}class Sy extends Cy{data(e){const n=this._delegate.data(e);return this._delegate._converter||Vne(n!==void 0,"Document in a QueryDocumentSnapshot should exist"),n}}let Dy=class rl{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new jb(e)}where(e,n,r){try{return new rl(this.firestore,iu(this._delegate,Tae(e,n,r)))}catch(i){throw As(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new rl(this.firestore,iu(this._delegate,Eae(e,n)))}catch(r){throw As(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new rl(this.firestore,iu(this._delegate,Cae(e)))}catch(n){throw As(n,"limit()","Query.limit()")}}limitToLast(e){try{return new rl(this.firestore,iu(this._delegate,Sae(e)))}catch(n){throw As(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new rl(this.firestore,iu(this._delegate,Dae(...e)))}catch(n){throw As(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new rl(this.firestore,iu(this._delegate,Aae(...e)))}catch(n){throw As(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new rl(this.firestore,iu(this._delegate,Nae(...e)))}catch(n){throw As(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new rl(this.firestore,iu(this._delegate,Iae(...e)))}catch(n){throw As(n,"endAt()","Query.endAt()")}}isEqual(e){return Aq(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=Oae(this._delegate):(e==null?void 0:e.source)==="server"?n=Lae(this._delegate):n=Uae(this._delegate),n.then(r=>new cA(this.firestore,new Uo(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=Zq(e),r=e$(e,i=>new cA(this.firestore,new Uo(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return Kq(this._delegate,n,r)}withConverter(e){return new rl(this.firestore,e?this._delegate.withConverter(Tf.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};class roe{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Sy(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class cA{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Dy(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Sy(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new roe(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new Sy(this._firestore,r))})}isEqual(e){return Gq(this._delegate,e._delegate)}}class om extends Dy{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ya(this.firestore,e):null}doc(e){try{return e===void 0?new Ya(this.firestore,f_(this._delegate)):new Ya(this.firestore,f_(this._delegate,e))}catch(n){throw As(n,"doc()","CollectionReference.doc()")}}add(e){return Bae(this._delegate,e).then(n=>new Ya(this.firestore,n))}isEqual(e){return Dq(this._delegate,e._delegate)}withConverter(e){return new om(this.firestore,e?this._delegate.withConverter(Tf.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Xd(t){return Rn(t,ar)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(...e){this._delegate=new Lu(...e)}static documentId(){return new G3(Tr.keyField().canonicalString())}isEqual(e){return e=Nt(e),e instanceof Lu?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{static serverTimestamp(){const e=Kae();return e._methodName="FieldValue.serverTimestamp",new zd(e)}static delete(){const e=Gae();return e._methodName="FieldValue.delete",new zd(e)}static arrayUnion(...e){const n=Xae(...e);return n._methodName="FieldValue.arrayUnion",new zd(n)}static arrayRemove(...e){const n=Jae(...e);return n._methodName="FieldValue.arrayRemove",new zd(n)}static increment(e){const n=Yae(e);return n._methodName="FieldValue.increment",new zd(n)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ioe={Firestore:Jq,GeoPoint:Mo,Timestamp:Mn,Blob:Xq,Transaction:Yq,WriteBatch:Qq,DocumentReference:Ya,DocumentSnapshot:Cy,Query:Dy,QueryDocumentSnapshot:Sy,QuerySnapshot:cA,CollectionReference:om,FieldPath:G3,FieldValue:zd,setLogLevel:noe,CACHE_SIZE_UNLIMITED:cae};function soe(t,e){t.INTERNAL.registerComponent(new Os("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps({...ioe}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aoe(t){soe(t,(e,n)=>new Jq(e,n,new toe)),t.registerVersion(Qae,Zae)}aoe(Vr);const qg={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},Jh={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ooe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function t$(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const loe=ooe,coe=t$,n$=new Vf("auth","Firebase",t$());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_=new Dm("@firebase/auth");function uoe(t,...e){p_.logLevel<=mn.WARN&&p_.warn(`Auth (${kl}): ${t}`,...e)}function m2(t,...e){p_.logLevel<=mn.ERROR&&p_.error(`Auth (${kl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(t,...e){throw X3(t,...e)}function xi(t,...e){return X3(t,...e)}function K3(t,e,n){const r={...coe(),[e]:n};return new Vf("auth","Firebase",r).create(e,{appName:t.name})}function Li(t){return K3(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Um(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Yi(t,"argument-error"),K3(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function X3(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return n$.create(t,...e)}function pt(t,e,...n){if(!t)throw X3(e,...n)}function ml(t){const e="INTERNAL ASSERTION FAILED: "+t;throw m2(e),new Error(e)}function Bo(t,e){t||ml(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function J3(){return iF()==="http:"||iF()==="https:"}function iF(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function doe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(J3()||qB()||"connection"in navigator)?navigator.onLine:!0}function foe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e,n){this.shortDelay=e,this.longDelay=n,Bo(n>e,"Short delay should be less than long delay!"),this.isMobile=kN()||pb()}get(){return doe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y3(t,e){Bo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r${static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ml("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ml("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ml("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hoe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const poe=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],moe=new Cv(3e4,6e4);function Hr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Gr(t,e,n,r,i={}){return i$(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const o=Wf({key:t.config.apiKey,...a}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...s};return lte()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Il(t.emulatorConfig.host)&&(c.credentials="include"),r$.fetch()(await s$(t,t.config.apiHost,n,o),c)})}async function i$(t,e,n){t._canInitEmulator=!1;const r={...hoe,...e};try{const i=new yoe(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw _0(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw _0(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw _0(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw _0(t,"user-disabled",a);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw K3(t,u,c);Yi(t,u)}}catch(i){if(i instanceof ms)throw i;Yi(t,"network-request-failed",{message:String(i)})}}async function Cc(t,e,n,r,i={}){const s=await Gr(t,e,n,r,i);return"mfaPendingCredential"in s&&Yi(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function s$(t,e,n,r){const i=`${e}${n}?${r}`,s=t,a=s.config.emulator?Y3(t.config,i):`${t.config.apiScheme}://${i}`;return poe.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function goe(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class yoe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(xi(this.auth,"network-request-failed")),moe.get())})}}function _0(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=xi(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sF(t){return t!==void 0&&t.getResponse!==void 0}function aF(t){return t!==void 0&&t.enterprise!==void 0}class a${constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return goe(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function voe(t){return(await Gr(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function o$(t,e){return Gr(t,"GET","/v2/recaptchaConfig",Hr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xoe(t,e){return Gr(t,"POST","/v1/accounts:delete",e)}async function _oe(t,e){return Gr(t,"POST","/v1/accounts:update",e)}async function m_(t,e){return Gr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function boe(t,e=!1){const n=Nt(t),r=await n.getIdToken(e),i=Bb(r);pt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:U0(rC(i.auth_time)),issuedAtTime:U0(rC(i.iat)),expirationTime:U0(rC(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function rC(t){return Number(t)*1e3}function Bb(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return m2("JWT malformed, contained fewer than 3 sections"),null;try{const i=sy(n);return i?JSON.parse(i):(m2("Failed to decode base64 JWT payload"),null)}catch(i){return m2("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function oF(t){const e=Bb(t);return pt(e,"internal-error"),pt(typeof e.exp<"u","internal-error"),pt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ms&&woe(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function woe({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Toe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=U0(this.lastLoginAt),this.creationTime=U0(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ny(t){var f;const e=t.auth,n=await t.getIdToken(),r=await mc(t,m_(e,{idToken:n}));pt(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(f=i.providerUserInfo)!=null&&f.length?l$(i.providerUserInfo):[],a=Coe(t.providerData,s),o=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),c=o?l:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new uA(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,u)}async function Eoe(t){const e=Nt(t);await Ny(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Coe(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function l$(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Soe(t,e){const n=await i$(t,{},async()=>{const r=Wf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=await s$(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:r};return t.emulatorConfig&&Il(t.emulatorConfig.host)&&(l.credentials="include"),r$.fetch()(a,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Doe(t,e){return Gr(t,"POST","/v2/accounts:revokeToken",Hr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pt(e.idToken,"internal-error"),pt(typeof e.idToken<"u","internal-error"),pt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):oF(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){pt(e.length!==0,"internal-error");const n=oF(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Soe(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new Cp;return r&&(pt(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(pt(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(pt(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Cp,this.toJSON())}_performRefresh(){return ml("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(t,e){pt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ko{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new Toe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new uA(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await mc(this,this.stsTokenManager.getToken(this.auth,e));return pt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return boe(this,e)}reload(){return Eoe(this)}_assign(e){this!==e&&(pt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ko({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ny(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ir(this.auth.app))return Promise.reject(Li(this.auth));const e=await this.getIdToken();return await mc(this,xoe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,a=n.photoURL??void 0,o=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:p,providerData:v,stsTokenManager:g}=n;pt(f&&g,e,"internal-error");const y=Cp.fromJSON(this.name,g);pt(typeof f=="string",e,"internal-error"),su(r,e.name),su(i,e.name),pt(typeof h=="boolean",e,"internal-error"),pt(typeof p=="boolean",e,"internal-error"),su(s,e.name),su(a,e.name),su(o,e.name),su(l,e.name),su(c,e.name),su(u,e.name);const b=new ko({uid:f,auth:e,email:i,emailVerified:h,displayName:r,isAnonymous:p,photoURL:a,phoneNumber:s,tenantId:o,stsTokenManager:y,createdAt:c,lastLoginAt:u});return v&&Array.isArray(v)&&(b.providerData=v.map(_=>({..._}))),l&&(b._redirectEventId=l),b}static async _fromIdTokenResponse(e,n,r=!1){const i=new Cp;i.updateFromServerResponse(n);const s=new ko({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ny(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];pt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?l$(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new Cp;o.updateFromIdToken(r);const l=new ko({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new uA(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lF=new Map;function Ea(t){Bo(t instanceof Function,"Expected a class definition");let e=lF.get(t);return e?(Bo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,lF.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c${constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}c$.type="NONE";const lm=c$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rf(t,e,n){return`firebase:${t}:${e}:${n}`}class Sp{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=rf(this.userKey,i.apiKey,s),this.fullPersistenceKey=rf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await m_(this.auth,{idToken:e}).catch(()=>{});return n?ko._fromGetAccountInfoResponse(this.auth,n,e):null}return ko._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Sp(Ea(lm),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Ea(lm);const a=rf(r,e.config.apiKey,e.name);let o=null;for(const c of n)try{const u=await c._get(a);if(u){let f;if(typeof u=="string"){const h=await m_(e,{idToken:u}).catch(()=>{});if(!h)break;f=await ko._fromGetAccountInfoResponse(e,h,u)}else f=ko._fromJSON(e,u);c!==s&&(o=f),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Sp(s,e,r):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(a)}catch{}})),new Sp(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cF(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(h$(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(u$(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(p$(e))return"Blackberry";if(m$(e))return"Webos";if(d$(e))return"Safari";if((e.includes("chrome/")||f$(e))&&!e.includes("edge/"))return"Chrome";if(Sv(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function u$(t=Mr()){return/firefox\//i.test(t)}function d$(t=Mr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function f$(t=Mr()){return/crios\//i.test(t)}function h$(t=Mr()){return/iemobile/i.test(t)}function Sv(t=Mr()){return/android/i.test(t)}function p$(t=Mr()){return/blackberry/i.test(t)}function m$(t=Mr()){return/webos/i.test(t)}function Dv(t=Mr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Aoe(t=Mr()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function Noe(t=Mr()){var e;return Dv(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Ioe(){return $B()&&document.documentMode===10}function g$(t=Mr()){return Dv(t)||Sv(t)||m$(t)||p$(t)||/windows phone/i.test(t)||h$(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y$(t,e=[]){let n;switch(t){case"Browser":n=cF(Mr());break;case"Worker":n=`${cF(Mr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${kl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class koe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Roe(t,e={}){return Gr(t,"GET","/v2/passwordPolicy",Hr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Poe=6;class Foe{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Poe,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Moe{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uF(this),this.idTokenSubscription=new uF(this),this.beforeStateQueue=new koe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=n$,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ea(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Sp.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await m_(this,{idToken:e}),r=await ko._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(ir(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(s=this.redirectUser)==null?void 0:s._redirectEventId,o=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ny(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=foe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ir(this.app))return Promise.reject(Li(this));const n=e?Nt(e):null;return n&&pt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&pt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ir(this.app)?Promise.reject(Li(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ir(this.app)?Promise.reject(Li(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ea(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Roe(this),n=new Foe(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Vf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Doe(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ea(e)||this._popupRedirectResolver;pt(n,this,"argument-error"),this.redirectPersistenceManager=await Sp.create(this,[Ea(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=y$(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(ir(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&uoe(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Or(t){return Nt(t)}class uF{constructor(e){this.auth=e,this.observer=null,this.addObserver=KB(n=>this.observer=n)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Av={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Uoe(t){Av=t}function Q3(t){return Av.loadJS(t)}function Ooe(){return Av.recaptchaV2Script}function Loe(){return Av.recaptchaEnterpriseScript}function joe(){return Av.gapiScript}function v$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Boe=500,Voe=6e4,xx=1e12;class Woe{constructor(e){this.auth=e,this.counter=xx,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new zoe(e,this.auth.name,n||{})),this.counter++,r}reset(e){var r;const n=e||xx;(r=this._widgets.get(n))==null||r.delete(),this._widgets.delete(n)}getResponse(e){var r;const n=e||xx;return((r=this._widgets.get(n))==null?void 0:r.getResponse())||""}async execute(e){var r;const n=e||xx;return(r=this._widgets.get(n))==null||r.execute(),""}}class qoe{constructor(){this.enterprise=new $oe}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class $oe{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class zoe{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;pt(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=Hoe(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},Voe)},Boe))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function Hoe(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}const Goe="recaptcha-enterprise",O0="NO_RECAPTCHA";class x${constructor(e){this.type=Goe,this.auth=Or(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{o$(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new a$(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,a(c.siteKey)}}).catch(l=>{o(l)})})}function i(s,a,o){const l=window.grecaptcha;aF(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{a(c)}).catch(()=>{a(O0)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new qoe().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{r(this.auth).then(o=>{if(!n&&aF(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Loe();l.length!==0&&(l+=o),Q3(l).then(()=>{i(o,s,a)}).catch(c=>{a(c)})}}).catch(o=>{a(o)})})}}async function $g(t,e,n,r=!1,i=!1){const s=new x$(t);let a;if(i)a=O0;else try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const o={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,c=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Cu(t,e,n,r,i){var s,a;if(i==="EMAIL_PASSWORD_PROVIDER")if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await $g(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await $g(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)});else if(i==="PHONE_PROVIDER")if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("PHONE_PROVIDER")){const o=await $g(t,e,n);return r(t,o).catch(async l=>{var c;if(((c=t._getRecaptchaConfig())==null?void 0:c.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const u=await $g(t,e,n,!1,!0);return r(t,u)}return Promise.reject(l)})}else{const o=await $g(t,e,n,!1,!0);return r(t,o)}else return Promise.reject(i+" provider is not supported.")}async function Koe(t){const e=Or(t),n=await o$(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new a$(n);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new x$(e).verify()}function Xoe(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ea);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Joe(t,e,n){const r=Or(t);pt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=_$(e),{host:a,port:o}=Yoe(e),l=o===null?"":`:${o}`,c={url:`${s}//${a}${l}/`},u=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){pt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),pt(dc(c,r.config.emulator)&&dc(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Il(a)?(db(`${s}//${a}${l}`),fb("Auth",!0)):i||Qoe()}function _$(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Yoe(t){const e=_$(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:dF(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:dF(a)}}}function dF(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Qoe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ml("not implemented")}_getIdTokenResponse(e){return ml("not implemented")}_linkToIdToken(e,n){return ml("not implemented")}_getReauthenticationResolver(e){return ml("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b$(t,e){return Gr(t,"POST","/v1/accounts:resetPassword",Hr(t,e))}async function Zoe(t,e){return Gr(t,"POST","/v1/accounts:update",e)}async function ele(t,e){return Gr(t,"POST","/v1/accounts:signUp",e)}async function tle(t,e){return Gr(t,"POST","/v1/accounts:update",Hr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nle(t,e){return Cc(t,"POST","/v1/accounts:signInWithPassword",Hr(t,e))}async function Vb(t,e){return Gr(t,"POST","/v1/accounts:sendOobCode",Hr(t,e))}async function rle(t,e){return Vb(t,e)}async function ile(t,e){return Vb(t,e)}async function sle(t,e){return Vb(t,e)}async function ale(t,e){return Vb(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ole(t,e){return Cc(t,"POST","/v1/accounts:signInWithEmailLink",Hr(t,e))}async function lle(t,e){return Cc(t,"POST","/v1/accounts:signInWithEmailLink",Hr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy extends Om{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Iy(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Iy(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cu(e,n,"signInWithPassword",nle,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return ole(e,{email:this._email,oobCode:this._password});default:Yi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cu(e,r,"signUpPassword",ele,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return lle(e,{idToken:n,email:this._email,oobCode:this._password});default:Yi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nc(t,e){return Cc(t,"POST","/v1/accounts:signInWithIdp",Hr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cle="http://localhost";class Sl extends Om{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Sl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Yi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const a=new Sl(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return nc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,nc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,nc(e,n)}buildRequest(){const e={requestUri:cle,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Wf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fF(t,e){return Gr(t,"POST","/v1/accounts:sendVerificationCode",Hr(t,e))}async function ule(t,e){return Cc(t,"POST","/v1/accounts:signInWithPhoneNumber",Hr(t,e))}async function dle(t,e){const n=await Cc(t,"POST","/v1/accounts:signInWithPhoneNumber",Hr(t,e));if(n.temporaryProof)throw _0(t,"account-exists-with-different-credential",n);return n}const fle={USER_NOT_FOUND:"user-not-found"};async function hle(t,e){const n={...e,operation:"REAUTH"};return Cc(t,"POST","/v1/accounts:signInWithPhoneNumber",Hr(t,n),fle)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf extends Om{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new sf({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new sf({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return ule(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return dle(e,{idToken:n,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return hle(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!n&&!i&&!s?null:new sf({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ple(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function mle(t){const e=yp(p0(t)).link,n=e?yp(p0(e)).deep_link_id:null,r=yp(p0(t)).deep_link_id;return(r?yp(p0(r)).link:null)||r||n||e||t}class Wb{constructor(e){const n=yp(p0(e)),r=n.apiKey??null,i=n.oobCode??null,s=ple(n.mode??null);pt(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=mle(e);try{return new Wb(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(){this.providerId=td.PROVIDER_ID}static credential(e,n){return Iy._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Wb.parseLink(n);return pt(r,"argument-error"),Iy._fromEmailAndCode(e,r.code,r.tenantId)}}td.PROVIDER_ID="password";td.EMAIL_PASSWORD_SIGN_IN_METHOD="password";td.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm extends Sc{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Dp extends Lm{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return pt("providerId"in n&&"signInMethod"in n,"argument-error"),Sl._fromParams(n)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return pt(e.idToken||e.accessToken,"argument-error"),Sl._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return Dp.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Dp.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:a,providerId:o}=e;if(!r&&!i&&!n&&!s||!o)return null;try{return new Dp(o)._credential({idToken:n,accessToken:r,nonce:a,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll extends Lm{constructor(){super("facebook.com")}static credential(e){return Sl._fromParams({providerId:ll.PROVIDER_ID,signInMethod:ll.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ll.credentialFromTaggedObject(e)}static credentialFromError(e){return ll.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ll.credential(e.oauthAccessToken)}catch{return null}}}ll.FACEBOOK_SIGN_IN_METHOD="facebook.com";ll.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl extends Lm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Sl._fromParams({providerId:cl.PROVIDER_ID,signInMethod:cl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return cl.credentialFromTaggedObject(e)}static credentialFromError(e){return cl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return cl.credential(n,r)}catch{return null}}}cl.GOOGLE_SIGN_IN_METHOD="google.com";cl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul extends Lm{constructor(){super("github.com")}static credential(e){return Sl._fromParams({providerId:ul.PROVIDER_ID,signInMethod:ul.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ul.credentialFromTaggedObject(e)}static credentialFromError(e){return ul.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ul.credential(e.oauthAccessToken)}catch{return null}}}ul.GITHUB_SIGN_IN_METHOD="github.com";ul.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gle="http://localhost";class cm extends Om{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return nc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,nc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,nc(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=n;return!r||!i||!s||r!==i?null:new cm(r,s)}static _create(e,n){return new cm(e,n)}buildRequest(){return{requestUri:gle,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yle="saml.";class g_ extends Sc{constructor(e){pt(e.startsWith(yle),"argument-error"),super(e)}static credentialFromResult(e){return g_.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return g_.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=cm.fromJSON(e);return pt(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return cm._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl extends Lm{constructor(){super("twitter.com")}static credential(e,n){return Sl._fromParams({providerId:dl.PROVIDER_ID,signInMethod:dl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return dl.credentialFromTaggedObject(e)}static credentialFromError(e){return dl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return dl.credential(n,r)}catch{return null}}}dl.TWITTER_SIGN_IN_METHOD="twitter.com";dl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w$(t,e){return Cc(t,"POST","/v1/accounts:signUp",Hr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ko._fromIdTokenResponse(e,r,i),a=hF(r);return new so({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=hF(r);return new so({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function hF(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vle(t){var i;if(ir(t.app))return Promise.reject(Li(t));const e=Or(t);if(await e._initializationPromise,(i=e.currentUser)!=null&&i.isAnonymous)return new so({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await w$(e,{returnSecureToken:!0}),r=await so._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_ extends ms{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,y_.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new y_(e,n,r,i)}}function T$(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?y_._fromErrorAndOperation(t,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E$(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xle(t,e){const n=Nt(t);await qb(!0,n,e);const{providerUserInfo:r}=await _oe(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=E$(r||[]);return n.providerData=n.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function Z3(t,e,n=!1){const r=await mc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return so._forOperation(t,"link",r)}async function qb(t,e,n){await Ny(e);const r=E$(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";pt(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C$(t,e,n=!1){const{auth:r}=t;if(ir(r.app))return Promise.reject(Li(r));const i="reauthenticate";try{const s=await mc(t,T$(r,i,e,t),n);pt(s.idToken,r,"internal-error");const a=Bb(s.idToken);pt(a,r,"internal-error");const{sub:o}=a;return pt(t.uid===o,r,"user-mismatch"),so._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Yi(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S$(t,e,n=!1){if(ir(t.app))return Promise.reject(Li(t));const r="signIn",i=await T$(t,r,e),s=await so._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function $b(t,e){return S$(Or(t),e)}async function D$(t,e){const n=Nt(t);return await qb(!1,n,e.providerId),Z3(n,e)}async function A$(t,e){return C$(Nt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _le(t,e){return Cc(t,"POST","/v1/accounts:signInWithCustomToken",Hr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ble(t,e){if(ir(t.app))return Promise.reject(Li(t));const n=Or(t),r=await _le(n,{token:e,returnSecureToken:!0}),i=await so._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?eI._fromServerResponse(e,n):"totpInfo"in n?tI._fromServerResponse(e,n):Yi(e,"internal-error")}}class eI extends Nv{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new eI(n)}}class tI extends Nv{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new tI(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(t,e,n){var r;pt(((r=n.url)==null?void 0:r.length)>0,t,"invalid-continue-uri"),pt(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),pt(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(pt(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(pt(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nI(t){const e=Or(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function wle(t,e,n){const r=Or(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&zb(r,i,n),await Cu(r,i,"getOobCode",ile,"EMAIL_PASSWORD_PROVIDER")}async function Tle(t,e,n){await b$(Nt(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&nI(t),r})}async function Ele(t,e){await tle(Nt(t),{oobCode:e})}async function N$(t,e){const n=Nt(t),r=await b$(n,{oobCode:e}),i=r.requestType;switch(pt(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":pt(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":pt(r.mfaInfo,n,"internal-error");default:pt(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=Nv._fromServerResponse(Or(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function Cle(t,e){const{data:n}=await N$(Nt(t),e);return n.email}async function Sle(t,e,n){if(ir(t.app))return Promise.reject(Li(t));const r=Or(t),a=await Cu(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",w$,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&nI(t),l}),o=await so._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(o.user),o}function Dle(t,e,n){return ir(t.app)?Promise.reject(Li(t)):$b(Nt(t),td.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&nI(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ale(t,e,n){const r=Or(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(a,o){pt(o.handleCodeInApp,r,"argument-error"),o&&zb(r,a,o)}s(i,n),await Cu(r,i,"getOobCode",sle,"EMAIL_PASSWORD_PROVIDER")}function Nle(t,e){const n=Wb.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function Ile(t,e,n){if(ir(t.app))return Promise.reject(Li(t));const r=Nt(t),i=td.credentialWithLink(e,n||Ay());return pt(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),$b(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kle(t,e){return Gr(t,"POST","/v1/accounts:createAuthUri",Hr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rle(t,e){const n=J3()?Ay():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await kle(Nt(t),r);return i||[]}async function Ple(t,e){const n=Nt(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&zb(n.auth,i,e);const{email:s}=await rle(n.auth,i);s!==t.email&&await t.reload()}async function Fle(t,e,n){const r=Nt(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&zb(r.auth,s,n);const{email:a}=await ale(r.auth,s);a!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mle(t,e){return Gr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ule(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Nt(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await mc(r,Mle(r.auth,s));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const o=r.providerData.find(({providerId:l})=>l==="password");o&&(o.displayName=r.displayName,o.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function Ole(t,e){const n=Nt(t);return ir(n.auth.app)?Promise.reject(Li(n.auth)):I$(n,e,null)}function Lle(t,e){return I$(Nt(t),null,e)}async function I$(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const a=await mc(t,Zoe(r,s));await t._updateTokensIfNecessary(a,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jle(t){var i,s;if(!t)return null;const{providerId:e}=t,n=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},r=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!e&&(t!=null&&t.idToken)){const a=(s=(i=Bb(t.idToken))==null?void 0:i.firebase)==null?void 0:s.sign_in_provider;if(a){const o=a!=="anonymous"&&a!=="custom"?a:null;return new Ap(r,o)}}if(!e)return null;switch(e){case"facebook.com":return new Ble(r,n);case"github.com":return new Vle(r,n);case"google.com":return new Wle(r,n);case"twitter.com":return new qle(r,n,t.screenName||null);case"custom":case"anonymous":return new Ap(r,null);default:return new Ap(r,e,n)}}class Ap{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class k$ extends Ap{constructor(e,n,r,i){super(e,n,r),this.username=i}}class Ble extends Ap{constructor(e,n){super(e,"facebook.com",n)}}class Vle extends k${constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class Wle extends Ap{constructor(e,n){super(e,"google.com",n)}}class qle extends k${constructor(e,n,r){super(e,"twitter.com",n,r)}}function $le(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:jle(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new Jd("enroll",e,n)}static _fromMfaPendingCredential(e){return new Jd("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if((n=e.multiFactorSession)!=null&&n.pendingCredential)return Jd._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if((r=e.multiFactorSession)!=null&&r.idToken)return Jd._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=Or(e),i=n.customData._serverResponse,s=(i.mfaInfo||[]).map(o=>Nv._fromServerResponse(r,o));pt(i.mfaPendingCredential,r,"internal-error");const a=Jd._fromMfaPendingCredential(i.mfaPendingCredential);return new rI(a,s,async o=>{const l=await o._process(r,a);delete i.mfaInfo,delete i.mfaPendingCredential;const c={...i,idToken:l.idToken,refreshToken:l.refreshToken};switch(n.operationType){case"signIn":const u=await so._fromIdTokenResponse(r,n.operationType,c);return await r._updateCurrentUser(u.user),u;case"reauthenticate":return pt(n.user,r,"internal-error"),so._forOperation(n.user,n.operationType,c);default:Yi(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function zle(t,e){var i;const n=Nt(t),r=e;return pt(e.customData.operationType,n,"argument-error"),pt((i=r.customData._serverResponse)==null?void 0:i.mfaPendingCredential,n,"argument-error"),rI._fromError(n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pF(t,e){return Gr(t,"POST","/v2/accounts/mfaEnrollment:start",Hr(t,e))}function Hle(t,e){return Gr(t,"POST","/v2/accounts/mfaEnrollment:finalize",Hr(t,e))}function Gle(t,e){return Gr(t,"POST","/v2/accounts/mfaEnrollment:withdraw",Hr(t,e))}class iI{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>Nv._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new iI(e)}async getSession(){return Jd._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,i=await this.getSession(),s=await mc(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await mc(this.user,Gle(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const iC=new WeakMap;function Kle(t){const e=Nt(t);return iC.has(e)||iC.set(e,iI._fromUser(e)),iC.get(e)}const v_="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R${constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(v_,"1"),this.storage.removeItem(v_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xle=1e3,Jle=10;class P$ extends R${constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=g$(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);Ioe()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Jle):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Xle)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}P$.type="LOCAL";const sI=P$;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F$ extends R${constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}F$.type="SESSION";const Ef=F$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yle(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Hb(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(a).map(async c=>c(n.origin,s)),l=await Yle(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hb.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qle{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const c=Iv("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(h.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(){return window}function Zle(t){di().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(){return typeof di().WorkerGlobalScope<"u"&&typeof di().importScripts=="function"}async function ece(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tce(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function nce(){return aI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M$="firebaseLocalStorageDb",rce=1,x_="firebaseLocalStorage",U$="fbase_key";class kv{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Gb(t,e){return t.transaction([x_],e?"readwrite":"readonly").objectStore(x_)}function ice(){const t=indexedDB.deleteDatabase(M$);return new kv(t).toPromise()}function dA(){const t=indexedDB.open(M$,rce);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(x_,{keyPath:U$})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(x_)?e(r):(r.close(),await ice(),e(await dA()))})})}async function mF(t,e,n){const r=Gb(t,!0).put({[U$]:e,value:n});return new kv(r).toPromise()}async function sce(t,e){const n=Gb(t,!1).get(e),r=await new kv(n).toPromise();return r===void 0?null:r.value}function gF(t,e){const n=Gb(t,!0).delete(e);return new kv(n).toPromise()}const ace=800,oce=3;class O${constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dA(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>oce)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hb._getInstance(nce()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await ece(),!this.activeServiceWorker)return;this.sender=new Qle(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||tce()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dA();return await mF(e,v_,"1"),await gF(e,v_),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>mF(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>sce(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>gF(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Gb(i,!1).getAll();return new kv(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ace)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}O$.type="LOCAL";const ky=O$;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yF(t,e){return Gr(t,"POST","/v2/accounts/mfaSignIn:start",Hr(t,e))}function lce(t,e){return Gr(t,"POST","/v2/accounts/mfaSignIn:finalize",Hr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=v$("rcb"),cce=new Cv(3e4,6e4);class uce{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!((e=di().grecaptcha)!=null&&e.render)}load(e,n=""){return pt(dce(n),e,"argument-error"),this.shouldResolveImmediately(n)&&sF(di().grecaptcha)?Promise.resolve(di().grecaptcha):new Promise((r,i)=>{const s=di().setTimeout(()=>{i(xi(e,"network-request-failed"))},cce.get());di()[sC]=()=>{di().clearTimeout(s),delete di()[sC];const o=di().grecaptcha;if(!o||!sF(o)){i(xi(e,"internal-error"));return}const l=o.render;o.render=(c,u)=>{const f=l(c,u);return this.counter++,f},this.hostLanguage=n,r(o)};const a=`${Ooe()}?${Wf({onload:sC,render:"explicit",hl:n})}`;Q3(a).catch(()=>{clearTimeout(s),i(xi(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!((n=di().grecaptcha)!=null&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function dce(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class fce{async load(e){return new Woe(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="recaptcha",hce={theme:"light",type:"image"};let pce=class{constructor(e,n,r={...hce}){this.parameters=r,this.type=L0,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Or(e),this.isInvisible=this.parameters.size==="invisible",pt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;pt(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new fce:new uce,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const s=a=>{a&&(this.tokenChangeListeners.delete(s),i(a))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){pt(!this.parameters.sitekey,this.auth,"argument-error"),pt(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),pt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=di()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){pt(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){pt(J3()&&!aI(),this.auth,"internal-error"),await mce(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await voe(this.auth);pt(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return pt(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function mce(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=sf._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function gce(t,e,n){if(ir(t.app))return Promise.reject(Li(t));const r=Or(t),i=await Kb(r,e,Nt(n));return new oI(i,s=>$b(r,s))}async function yce(t,e,n){const r=Nt(t);await qb(!1,r,"phone");const i=await Kb(r.auth,e,Nt(n));return new oI(i,s=>D$(r,s))}async function vce(t,e,n){const r=Nt(t);if(ir(r.auth.app))return Promise.reject(Li(r.auth));const i=await Kb(r.auth,e,Nt(n));return new oI(i,s=>A$(r,s))}async function Kb(t,e,n){var r;if(!t._getRecaptchaConfig())try{await Koe(t)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const s=i.session;if("phoneNumber"in i){pt(s.type==="enroll",t,"internal-error");const a={idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Cu(t,a,"mfaSmsEnrollment",async(u,f)=>{if(f.phoneEnrollmentInfo.captchaResponse===O0){pt((n==null?void 0:n.type)===L0,u,"argument-error");const h=await aC(u,f,n);return pF(u,h)}return pF(u,f)},"PHONE_PROVIDER").catch(u=>Promise.reject(u))).phoneSessionInfo.sessionInfo}else{pt(s.type==="signin",t,"internal-error");const a=((r=i.multiFactorHint)==null?void 0:r.uid)||i.multiFactorUid;pt(a,t,"missing-multi-factor-info");const o={mfaPendingCredential:s.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Cu(t,o,"mfaSmsSignIn",async(f,h)=>{if(h.phoneSignInInfo.captchaResponse===O0){pt((n==null?void 0:n.type)===L0,f,"argument-error");const p=await aC(f,h,n);return yF(f,p)}return yF(f,h)},"PHONE_PROVIDER").catch(f=>Promise.reject(f))).phoneResponseInfo.sessionInfo}}else{const s={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Cu(t,s,"sendVerificationCode",async(c,u)=>{if(u.captchaResponse===O0){pt((n==null?void 0:n.type)===L0,c,"argument-error");const f=await aC(c,u,n);return fF(c,f)}return fF(c,u)},"PHONE_PROVIDER").catch(c=>Promise.reject(c))).sessionInfo}}finally{n==null||n._reset()}}async function xce(t,e){const n=Nt(t);if(ir(n.auth.app))return Promise.reject(Li(n.auth));await Z3(n,e)}async function aC(t,e,n){pt(n.type===L0,t,"argument-error");const r=await n.verify();pt(typeof r=="string",t,"argument-error");const i={...e};if("phoneEnrollmentInfo"in i){const s=i.phoneEnrollmentInfo.phoneNumber,a=i.phoneEnrollmentInfo.captchaResponse,o=i.phoneEnrollmentInfo.clientType,l=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:s,recaptchaToken:r,captchaResponse:a,clientType:o,recaptchaVersion:l}}),i}else if("phoneSignInInfo"in i){const s=i.phoneSignInInfo.captchaResponse,a=i.phoneSignInInfo.clientType,o=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:s,clientType:a,recaptchaVersion:o}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cf=class g2{constructor(e){this.providerId=g2.PROVIDER_ID,this.auth=Or(e)}verifyPhoneNumber(e,n){return Kb(this.auth,e,Nt(n))}static credential(e,n){return sf._fromVerification(e,n)}static credentialFromResult(e){const n=e;return g2.credentialFromTaggedObject(n)}static credentialFromError(e){return g2.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?sf._fromTokenResponse(n,r):null}};Cf.PROVIDER_ID="phone";Cf.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(t,e){return e?Ea(e):(pt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI extends Om{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return nc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return nc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return nc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function _ce(t){return S$(t.auth,new lI(t),t.bypassAuthState)}function bce(t){const{auth:e,user:n}=t;return pt(n,e,"internal-error"),C$(n,new lI(t),t.bypassAuthState)}async function wce(t){const{auth:e,user:n}=t;return pt(n,e,"internal-error"),Z3(n,new lI(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L${constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _ce;case"linkViaPopup":case"linkViaRedirect":return wce;case"reauthViaPopup":case"reauthViaRedirect":return bce;default:Yi(this.auth,"internal-error")}}resolve(e){Bo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Bo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tce=new Cv(2e3,1e4);async function Ece(t,e,n){if(ir(t.app))return Promise.reject(xi(t,"operation-not-supported-in-this-environment"));const r=Or(t);Um(t,e,Sc);const i=Gf(r,n);return new Yl(r,"signInViaPopup",e,i).executeNotNull()}async function Cce(t,e,n){const r=Nt(t);if(ir(r.auth.app))return Promise.reject(xi(r.auth,"operation-not-supported-in-this-environment"));Um(r.auth,e,Sc);const i=Gf(r.auth,n);return new Yl(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function Sce(t,e,n){const r=Nt(t);Um(r.auth,e,Sc);const i=Gf(r.auth,n);return new Yl(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class Yl extends L${constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Yl.currentPopupAction&&Yl.currentPopupAction.cancel(),Yl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pt(e,this.auth,"internal-error"),e}async onExecution(){Bo(this.filter.length===1,"Popup operations only handle one event");const e=Iv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Tce.get())};e()}}Yl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dce="pendingRedirect",j0=new Map;class Ace extends L${constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=j0.get(this.auth._key());if(!e){try{const r=await Nce(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}j0.set(this.auth._key(),e)}return this.bypassAuthState||j0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Nce(t,e){const n=B$(e),r=j$(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function cI(t,e){return j$(t)._set(B$(e),"true")}function Ice(){j0.clear()}function uI(t,e){j0.set(t._key(),e)}function j$(t){return Ea(t._redirectPersistence)}function B$(t){return rf(Dce,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kce(t,e,n){return Rce(t,e,n)}async function Rce(t,e,n){if(ir(t.app))return Promise.reject(Li(t));const r=Or(t);Um(t,e,Sc),await r._initializationPromise;const i=Gf(r,n);return await cI(i,r),i._openRedirect(r,e,"signInViaRedirect")}function Pce(t,e,n){return Fce(t,e,n)}async function Fce(t,e,n){const r=Nt(t);if(Um(r.auth,e,Sc),ir(r.auth.app))return Promise.reject(Li(r.auth));await r.auth._initializationPromise;const i=Gf(r.auth,n);await cI(i,r.auth);const s=await V$(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function Mce(t,e,n){return Uce(t,e,n)}async function Uce(t,e,n){const r=Nt(t);Um(r.auth,e,Sc),await r.auth._initializationPromise;const i=Gf(r.auth,n);await qb(!1,r,e.providerId),await cI(i,r.auth);const s=await V$(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function Oce(t,e){return await Or(t)._initializationPromise,Xb(t,e,!1)}async function Xb(t,e,n=!1){if(ir(t.app))return Promise.reject(Li(t));const r=Or(t),i=Gf(r,e),a=await new Ace(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}async function V$(t){const e=Iv(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lce=600*1e3;class W${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jce(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!q$(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(xi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Lce&&this.cachedEventUids.clear(),this.cachedEventUids.has(vF(e))}saveEventToCache(e){this.cachedEventUids.add(vF(e)),this.lastProcessedEventTime=Date.now()}}function vF(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function q$({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function jce(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return q$(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $$(t,e={}){return Gr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bce=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Vce=/^https?/;async function Wce(t){if(t.config.emulator)return;const{authorizedDomains:e}=await $$(t);for(const n of e)try{if(qce(n))return}catch{}Yi(t,"unauthorized-domain")}function qce(t){const e=Ay(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!Vce.test(n))return!1;if(Bce.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ce=new Cv(3e4,6e4);function xF(){const t=di().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function zce(t){return new Promise((e,n)=>{var i,s,a;function r(){xF(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{xF(),n(xi(t,"network-request-failed"))},timeout:$ce.get()})}if((s=(i=di().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((a=di().gapi)!=null&&a.load)r();else{const o=v$("iframefcb");return di()[o]=()=>{gapi.load?r():n(xi(t,"network-request-failed"))},Q3(`${joe()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw y2=null,e})}let y2=null;function Hce(t){return y2=y2||zce(t),y2}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gce=new Cv(5e3,15e3),Kce="__/auth/iframe",Xce="emulator/auth/iframe",Jce={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Yce=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Qce(t){const e=t.config;pt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Y3(e,Xce):`https://${t.config.authDomain}/${Kce}`,r={apiKey:e.apiKey,appName:t.name,v:kl},i=Yce.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Wf(r).slice(1)}`}async function Zce(t){const e=await Hce(t),n=di().gapi;return pt(n,t,"internal-error"),e.open({where:document.body,url:Qce(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Jce,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=xi(t,"network-request-failed"),o=di().setTimeout(()=>{s(a)},Gce.get());function l(){di().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eue={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tue=500,nue=600,rue="_blank",iue="http://localhost";class _F{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sue(t,e,n,r=tue,i=nue){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l={...eue,width:r.toString(),height:i.toString(),top:s,left:a},c=Mr().toLowerCase();n&&(o=f$(c)?rue:n),u$(c)&&(e=e||iue,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,v])=>`${h}${p}=${v},`,"");if(Noe(c)&&o!=="_self")return aue(e||"",o),new _F(null);const f=window.open(e||"",o,u);pt(f,t,"popup-blocked");try{f.focus()}catch{}return new _F(f)}function aue(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oue="__/auth/handler",lue="emulator/auth/handler",cue=encodeURIComponent("fac");async function fA(t,e,n,r,i,s){pt(t.config.authDomain,t,"auth-domain-config-required"),pt(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:kl,eventId:i};if(e instanceof Sc){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",K2(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries(s||{}))a[u]=f}if(e instanceof Lm){const u=e.getScopes().filter(f=>f!=="");u.length>0&&(a.scopes=u.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const u of Object.keys(o))o[u]===void 0&&delete o[u];const l=await t._getAppCheckToken(),c=l?`#${cue}=${encodeURIComponent(l)}`:"";return`${uue(t)}?${Wf(o).slice(1)}${c}`}function uue({config:t}){return t.emulator?Y3(t,lue):`https://${t.authDomain}/${oue}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC="webStorageSupport";class due{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ef,this._completeRedirectFn=Xb,this._overrideRedirectResult=uI}async _openPopup(e,n,r,i){var a;Bo((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await fA(e,n,r,Ay(),i);return sue(e,s,Iv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await fA(e,n,r,Ay(),i);return Zle(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Bo(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Zce(e),r=new W$(e);return n.register("authEvent",i=>(pt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(oC,{type:oC},i=>{var a;const s=(a=i==null?void 0:i[0])==null?void 0:a[oC];s!==void 0&&n(!!s),Yi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Wce(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return g$()||d$()||Dv()}}const fue=due;class hue{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return ml("unexpected MultiFactorSessionType")}}}class dI extends hue{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new dI(e)}_finalizeEnroll(e,n,r){return Hle(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return lce(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class z${constructor(){}static assertion(e){return dI._fromCredential(e)}}z$.FACTOR_ID="phone";var bF="@firebase/auth",wF="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pue{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mue(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gue(t){Tl(new Os("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;pt(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:y$(t)},c=new Moe(r,i,s,l);return Xoe(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Tl(new Os("auth-internal",e=>{const n=Or(e.getProvider("auth").getImmediate());return(r=>new pue(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ps(bF,wF,mue(t)),Ps(bF,wF,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yue=300;ite("authIdTokenMaxAge");function vue(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Uoe({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=xi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",vue().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gue("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xue=2e3;async function _ue(t,e,n){const{BuildInfo:r}=Sf();Bo(e.sessionId,"AuthEvent did not contain a session ID");const i=await Cue(e.sessionId),s={};return Dv()?s.ibi=r.packageName:Sv()?s.apn=r.packageName:Yi(t,"operation-not-supported-in-this-environment"),r.displayName&&(s.appDisplayName=r.displayName),s.sessionId=i,fA(t,n,e.type,void 0,e.eventId??void 0,s)}async function bue(t){const{BuildInfo:e}=Sf(),n={};Dv()?n.iosBundleId=e.packageName:Sv()?n.androidPackageName=e.packageName:Yi(t,"operation-not-supported-in-this-environment"),await $$(t,n)}function wue(t){const{cordova:e}=Sf();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,Aoe()?"_blank":"_system","location=yes"),n(i)})})}async function Tue(t,e,n){const{cordova:r}=Sf();let i=()=>{};try{await new Promise((s,a)=>{let o=null;function l(){var h;s();const f=(h=r.plugins.browsertab)==null?void 0:h.close;typeof f=="function"&&f(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function c(){o||(o=window.setTimeout(()=>{a(xi(t,"redirect-cancelled-by-user"))},xue))}function u(){(document==null?void 0:document.visibilityState)==="visible"&&c()}e.addPassiveListener(l),document.addEventListener("resume",c,!1),Sv()&&document.addEventListener("visibilitychange",u,!1),i=()=>{e.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),o&&window.clearTimeout(o)}})}finally{i()}}function Eue(t){var n,r,i,s,a,o,l,c,u,f;const e=Sf();pt(typeof((n=e==null?void 0:e.universalLinks)==null?void 0:n.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),pt(typeof((r=e==null?void 0:e.BuildInfo)==null?void 0:r.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),pt(typeof((a=(s=(i=e==null?void 0:e.cordova)==null?void 0:i.plugins)==null?void 0:s.browsertab)==null?void 0:a.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),pt(typeof((c=(l=(o=e==null?void 0:e.cordova)==null?void 0:o.plugins)==null?void 0:l.browsertab)==null?void 0:c.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),pt(typeof((f=(u=e==null?void 0:e.cordova)==null?void 0:u.InAppBrowser)==null?void 0:f.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function Cue(t){const e=Sue(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function Sue(t){if(Bo(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Due=20;class Aue extends W${constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function Nue(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:Rue(),postBody:null,tenantId:t.tenantId,error:xi(t,"no-auth-event")}}function Iue(t,e){return hA()._set(pA(t),e)}async function TF(t){const e=await hA()._get(pA(t));return e&&await hA()._remove(pA(t)),e}function kue(t,e){var r,i;const n=Fue(e);if(n.includes("/__/auth/callback")){const s=v2(n),a=s.firebaseError?Pue(decodeURIComponent(s.firebaseError)):null,o=(i=(r=a==null?void 0:a.code)==null?void 0:r.split("auth/"))==null?void 0:i[1],l=o?xi(o):null;return l?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:n,postBody:null}}return null}function Rue(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<Due;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function hA(){return Ea(sI)}function pA(t){return rf("authEvent",t.config.apiKey,t.name)}function Pue(t){try{return JSON.parse(t)}catch{return null}}function Fue(t){const e=v2(t),n=e.link?decodeURIComponent(e.link):void 0,r=v2(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return v2(i).link||i||r||n||t}function v2(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return yp(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mue=500;class Uue{constructor(){this._redirectPersistence=Ef,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Xb,this._overrideRedirectResult=uI}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new Aue(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Yi(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){Eue(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),Ice(),await this._originValidation(e);const a=Nue(e,r,i);await Iue(e,a);const o=await _ue(e,a,n),l=await wue(o);return Tue(e,s,l)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=bue(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=Sf(),a=setTimeout(async()=>{await TF(e),n.onEvent(EF())},Mue),o=async u=>{clearTimeout(a);const f=await TF(e);let h=null;f&&(u!=null&&u.url)&&(h=kue(f,u.url)),n.onEvent(h||EF())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,o);const l=i,c=`${s.packageName.toLowerCase()}://`;Sf().handleOpenURL=async u=>{if(u.toLowerCase().startsWith(c)&&o({url:u}),typeof l=="function")try{l(u)}catch(f){console.error(f)}}}}const Oue=Uue;function EF(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:xi("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lue(t,e){Or(t)._logFramework(e)}var jue="@firebase/auth-compat",Bue="0.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vue=1e3;function B0(){var t;return((t=self==null?void 0:self.location)==null?void 0:t.protocol)||null}function Wue(){return B0()==="http:"||B0()==="https:"}function H$(t=Mr()){return!!((B0()==="file:"||B0()==="ionic:"||B0()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function que(){return pb()||hb()}function $ue(){return $B()&&(document==null?void 0:document.documentMode)===11}function zue(t=Mr()){return/Edge\/\d+/.test(t)}function Hue(t=Mr()){return $ue()||zue(t)}function G$(){try{const t=self.localStorage,e=Iv();if(t)return t.setItem(e,"1"),t.removeItem(e),Hue()?oy():!0}catch{return fI()&&oy()}return!1}function fI(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function lC(){return(Wue()||qB()||H$())&&!que()&&G$()&&!fI()}function K$(){return H$()&&typeof document<"u"}async function Gue(){return K$()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},Vue);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function Kue(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa={LOCAL:"local",NONE:"none",SESSION:"session"},zg=pt,X$="persistence";function Xue(t,e){if(zg(Object.values(xa).includes(e),t,"invalid-persistence-type"),pb()){zg(e!==xa.SESSION,t,"unsupported-persistence-type");return}if(hb()){zg(e===xa.NONE,t,"unsupported-persistence-type");return}if(fI()){zg(e===xa.NONE||e===xa.LOCAL&&oy(),t,"unsupported-persistence-type");return}zg(e===xa.NONE||G$(),t,"unsupported-persistence-type")}async function mA(t){await t._initializationPromise;const e=J$(),n=rf(X$,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistenceType())}function Jue(t,e){const n=J$();if(!n)return[];const r=rf(X$,t,e);switch(n.getItem(r)){case xa.NONE:return[lm];case xa.LOCAL:return[ky,Ef];case xa.SESSION:return[Ef];default:return[]}}function J$(){var t;try{return((t=Kue())==null?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yue=pt;class pu{constructor(){this.browserResolver=Ea(fue),this.cordovaResolver=Ea(Oue),this.underlyingResolver=null,this._redirectPersistence=Ef,this._completeRedirectFn=Xb,this._overrideRedirectResult=uI}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return K$()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Yue(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await Gue();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y$(t){return t.unwrap()}function Que(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zue(t){return Q$(t)}function ede(t,e){var r;const n=(r=e.customData)==null?void 0:r._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new tde(t,zle(t,e))}else if(n){const i=Q$(e),s=e;i&&(s.credential=i,s.tenantId=n.tenantId||void 0,s.email=n.email||void 0,s.phoneNumber=n.phoneNumber||void 0)}}function Q$(t){const{_tokenResponse:e}=t instanceof ms?t.customData:t;if(!e)return null;if(!(t instanceof ms)&&"temporaryProof"in e&&"phoneNumber"in e)return Cf.credentialFromResult(t);const n=e.providerId;if(!n||n===qg.PASSWORD)return null;let r;switch(n){case qg.GOOGLE:r=cl;break;case qg.FACEBOOK:r=ll;break;case qg.GITHUB:r=ul;break;case qg.TWITTER:r=dl;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:a,pendingToken:o,nonce:l}=e;return!s&&!a&&!i&&!o?null:o?n.startsWith("saml.")?cm._create(n,o):Sl._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:i,accessToken:s}):new Dp(n).credential({idToken:i,accessToken:s,rawNonce:l})}return t instanceof ms?r.credentialFromError(t):r.credentialFromResult(t)}function Xs(t,e){return e.catch(n=>{throw n instanceof ms&&ede(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:Zue(n),additionalUserInfo:$le(n),user:Ql.getOrCreate(i)}})}async function gA(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>Xs(t,n.confirm(r))}}class tde{constructor(e,n){this.resolver=n,this.auth=Que(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Xs(Y$(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e){this._delegate=e,this.multiFactor=Kle(e)}static getOrCreate(e){return Ql.USER_MAP.has(e)||Ql.USER_MAP.set(e,new Ql(e)),Ql.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Xs(this.auth,D$(this._delegate,e))}async linkWithPhoneNumber(e,n){return gA(this.auth,yce(this._delegate,e,n))}async linkWithPopup(e){return Xs(this.auth,Sce(this._delegate,e,pu))}async linkWithRedirect(e){return await mA(Or(this.auth)),Mce(this._delegate,e,pu)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Xs(this.auth,A$(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return gA(this.auth,vce(this._delegate,e,n))}reauthenticateWithPopup(e){return Xs(this.auth,Cce(this._delegate,e,pu))}async reauthenticateWithRedirect(e){return await mA(Or(this.auth)),Pce(this._delegate,e,pu)}sendEmailVerification(e){return Ple(this._delegate,e)}async unlink(e){return await xle(this._delegate,e),this}updateEmail(e){return Ole(this._delegate,e)}updatePassword(e){return Lle(this._delegate,e)}updatePhoneNumber(e){return xce(this._delegate,e)}updateProfile(e){return Ule(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return Fle(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ql.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hg=pt;class yA{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;Hg(r,"invalid-api-key",{appName:e.name}),Hg(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?pu:void 0;this._delegate=n.initialize({options:{persistence:nde(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(loe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ql.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){Joe(this._delegate,e,n)}applyActionCode(e){return Ele(this._delegate,e)}checkActionCode(e){return N$(this._delegate,e)}confirmPasswordReset(e,n){return Tle(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return Xs(this._delegate,Sle(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return Rle(this._delegate,e)}isSignInWithEmailLink(e){return Nle(this._delegate,e)}async getRedirectResult(){Hg(lC(),this._delegate,"operation-not-supported-in-this-environment");const e=await Oce(this._delegate,pu);return e?Xs(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){Lue(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:s,complete:a}=CF(e,n,r);return this._delegate.onAuthStateChanged(i,s,a)}onIdTokenChanged(e,n,r){const{next:i,error:s,complete:a}=CF(e,n,r);return this._delegate.onIdTokenChanged(i,s,a)}sendSignInLinkToEmail(e,n){return Ale(this._delegate,e,n)}sendPasswordResetEmail(e,n){return wle(this._delegate,e,n||void 0)}async setPersistence(e){Xue(this._delegate,e);let n;switch(e){case xa.SESSION:n=Ef;break;case xa.LOCAL:n=await Ea(ky)._isAvailable()?ky:sI;break;case xa.NONE:n=lm;break;default:return Yi("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Xs(this._delegate,vle(this._delegate))}signInWithCredential(e){return Xs(this._delegate,$b(this._delegate,e))}signInWithCustomToken(e){return Xs(this._delegate,ble(this._delegate,e))}signInWithEmailAndPassword(e,n){return Xs(this._delegate,Dle(this._delegate,e,n))}signInWithEmailLink(e,n){return Xs(this._delegate,Ile(this._delegate,e,n))}signInWithPhoneNumber(e,n){return gA(this._delegate,gce(this._delegate,e,n))}async signInWithPopup(e){return Hg(lC(),this._delegate,"operation-not-supported-in-this-environment"),Xs(this._delegate,Ece(this._delegate,e,pu))}async signInWithRedirect(e){return Hg(lC(),this._delegate,"operation-not-supported-in-this-environment"),await mA(this._delegate),kce(this._delegate,e,pu)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return Cle(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}yA.Persistence=xa;function CF(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:a=>i(a&&Ql.getOrCreate(a)),error:e,complete:n}}function nde(t,e){const n=Jue(t,e);if(typeof self<"u"&&!n.includes(ky)&&n.push(ky),typeof window<"u")for(const r of[sI,Ef])n.includes(r)||n.push(r);return n.includes(lm)||n.push(lm),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{static credential(e,n){return Cf.credential(e,n)}constructor(){this.providerId="phone",this._delegate=new Cf(Y$(Vr.auth()))}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}hI.PHONE_SIGN_IN_METHOD=Cf.PHONE_SIGN_IN_METHOD;hI.PROVIDER_ID=Cf.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rde=pt;class ide{constructor(e,n,r=Vr.app()){var i;rde((i=r.options)==null?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new pce(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sde="auth-compat";function ade(t){t.INTERNAL.registerComponent(new Os(sde,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new yA(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Jh.EMAIL_SIGNIN,PASSWORD_RESET:Jh.PASSWORD_RESET,RECOVER_EMAIL:Jh.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Jh.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Jh.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Jh.VERIFY_EMAIL}},EmailAuthProvider:td,FacebookAuthProvider:ll,GithubAuthProvider:ul,GoogleAuthProvider:cl,OAuthProvider:Dp,SAMLAuthProvider:g_,PhoneAuthProvider:hI,PhoneMultiFactorGenerator:z$,RecaptchaVerifier:ide,TwitterAuthProvider:dl,Auth:yA,AuthCredential:Om,Error:ms}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(jue,Bue)}ade(Vr);var SF={};const DF="@firebase/database",AF="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Z$="";function ez(t){Z$=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ode{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),gi(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:ly(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lde{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Da(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tz=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new ode(e)}}catch{}return new lde},Yd=tz("localStorage"),vA=tz("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np=new Dm("@firebase/database"),nz=(function(){let t=1;return function(){return t++}})(),rz=function(t){const e=xte(t),n=new gte;n.update(e);const r=n.digest();return DN.encodeByteArray(r)},Rv=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Rv.apply(null,r):typeof r=="object"?e+=gi(r):e+=r,e+=" "}return e};let af=null,NF=!0;const iz=function(t,e){vt(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Np.logLevel=mn.VERBOSE,af=Np.log.bind(Np),e&&vA.set("logging_enabled",!0)):typeof t=="function"?af=t:(af=null,vA.remove("logging_enabled"))},Mi=function(...t){if(NF===!0&&(NF=!1,af===null&&vA.get("logging_enabled")===!0&&iz(!0)),af){const e=Rv.apply(null,t);af(e)}},Pv=function(t){return function(...e){Mi(t,...e)}},xA=function(...t){const e="FIREBASE INTERNAL ERROR: "+Rv(...t);Np.error(e)},Dl=function(...t){const e=`FIREBASE FATAL ERROR: ${Rv(...t)}`;throw Np.error(e),new Error(e)},ys=function(...t){const e="FIREBASE WARNING: "+Rv(...t);Np.warn(e)},cde=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ys("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Jb=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},ude=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ju="[MIN_NAME]",gc="[MAX_NAME]",Kf=function(t,e){if(t===e)return 0;if(t===ju||e===gc)return-1;if(e===ju||t===gc)return 1;{const n=IF(t),r=IF(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},dde=function(t,e){return t===e?0:t<e?-1:1},Gg=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+gi(e))},pI=function(t){if(typeof t!="object"||t===null)return gi(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=gi(e[r]),n+=":",n+=pI(t[e[r]]);return n+="}",n},sz=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function ji(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const az=function(t){vt(!Jb(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,a,o,l;t===0?(s=0,a=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(o=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=o+r,a=Math.round(t*Math.pow(2,n-o)-Math.pow(2,n))):(s=0,a=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(a%2?1:0),a=Math.floor(a/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const u=c.join("");let f="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),f=f+h}return f.toLowerCase()},fde=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},hde=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function pde(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const mde=new RegExp("^-?(0*)\\d{1,10}$"),gde=-2147483648,yde=2147483647,IF=function(t){if(mde.test(t)){const e=Number(t);if(e>=gde&&e<=yde)return e}return null},jm=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw ys("Exception was thrown by user callback.",n),e},Math.floor(0))}},vde=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},V0=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xde{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,ir(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){ys(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _de{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Mi("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ys(e)}}class Ip{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Ip.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI="5",oz="v",lz="s",cz="r",uz="f",dz=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,fz="ls",hz="p",_A="ac",pz="websocket",mz="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gz{constructor(e,n,r,i,s=!1,a="",o=!1,l=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=o,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Yd.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Yd.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function bde(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function yz(t,e,n){vt(typeof e=="string","typeof type must == string"),vt(typeof n=="object","typeof params must == object");let r;if(e===pz)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===mz)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);bde(t)&&(n.ns=t.namespace);const i=[];return ji(n,(s,a)=>{i.push(s+"="+a)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wde{constructor(){this.counters_={}}incrementCounter(e,n=1){Da(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Yee(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC={},uC={};function gI(t){const e=t.toString();return cC[e]||(cC[e]=new wde),cC[e]}function Tde(t,e){const n=t.toString();return uC[n]||(uC[n]=e()),uC[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ede{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&jm(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kF="start",Cde="close",Sde="pLPCommand",Dde="pRTLPCB",vz="id",xz="pw",_z="ser",Ade="cb",Nde="seg",Ide="ts",kde="d",Rde="dframe",bz=1870,wz=30,Pde=bz-wz,Fde=25e3,Mde=3e4;class mu{constructor(e,n,r,i,s,a,o){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=a,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Pv(e),this.stats_=gI(n),this.urlFn=l=>(this.appCheckToken&&(l[_A]=this.appCheckToken),yz(n,mz,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Ede(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Mde)),ude(()=>{if(this.isClosed_)return;this.scriptTagHolder=new yI((...s)=>{const[a,o,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===kF)this.id=o,this.password=l;else if(a===Cde)o?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(o,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...s)=>{const[a,o]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(a,o)},()=>{this.onClosed_()},this.urlFn);const r={};r[kF]="t",r[_z]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Ade]=this.scriptTagHolder.uniqueCallbackIdentifier),r[oz]=mI,this.transportSessionId&&(r[lz]=this.transportSessionId),this.lastSessionId&&(r[fz]=this.lastSessionId),this.applicationId&&(r[hz]=this.applicationId),this.appCheckToken&&(r[_A]=this.appCheckToken),typeof location<"u"&&location.hostname&&dz.test(location.hostname)&&(r[cz]=uz);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){mu.forceAllow_=!0}static forceDisallow(){mu.forceDisallow_=!0}static isAvailable(){return mu.forceAllow_?!0:!mu.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!fde()&&!hde()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=gi(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=VB(n),i=sz(r,Pde);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Rde]="t",r[vz]=e,r[xz]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=gi(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class yI{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=nz(),window[Sde+this.uniqueCallbackIdentifier]=e,window[Dde+this.uniqueCallbackIdentifier]=n,this.myIFrame=yI.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(o){Mi("frame writing exception"),o.stack&&Mi(o.stack),Mi(o)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Mi("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[vz]=this.myID,e[xz]=this.myPW,e[_z]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+wz+r.length<=bz;){const a=this.pendingSegs.shift();r=r+"&"+Nde+i+"="+a.seg+"&"+Ide+i+"="+a.ts+"&"+kde+i+"="+a.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Fde)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Mi("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ude=16384,Ode=45e3;let __=null;typeof MozWebSocket<"u"?__=MozWebSocket:typeof WebSocket<"u"&&(__=WebSocket);class Ja{constructor(e,n,r,i,s,a,o){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Pv(this.connId),this.stats_=gI(n),this.connURL=Ja.connectionURL_(n,a,o,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const a={};return a[oz]=mI,typeof location<"u"&&location.hostname&&dz.test(location.hostname)&&(a[cz]=uz),n&&(a[lz]=n),r&&(a[fz]=r),i&&(a[_A]=i),s&&(a[hz]=s),yz(e,pz,a)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Yd.set("previous_websocket_failure",!0);try{let r;cte(),this.mySock=new __(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Ja.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&__!==null&&!Ja.forceDisallow_}static previouslyFailed(){return Yd.isInMemoryStorage||Yd.get("previous_websocket_failure")===!0}markConnectionHealthy(){Yd.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=ly(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(vt(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=gi(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=sz(n,Ude);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Ode))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ja.responsesRequiredToBeHealthy=2;Ja.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{static get ALL_TRANSPORTS(){return[mu,Ja]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Ja&&Ja.isAvailable();let r=n&&!Ja.previouslyFailed();if(e.webSocketOnly&&(n||ys("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ja];else{const i=this.transports_=[];for(const s of um.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);um.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}um.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lde=6e4,jde=5e3,Bde=10*1024,Vde=100*1024,dC="t",RF="d",Wde="s",PF="r",qde="e",FF="o",MF="a",UF="n",OF="p",$de="h";class zde{constructor(e,n,r,i,s,a,o,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=a,this.onReady_=o,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Pv("c:"+this.id+":"),this.transportManager_=new um(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=V0(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Vde?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Bde?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(dC in e){const n=e[dC];n===MF?this.upgradeIfSecondaryHealthy_():n===PF?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===FF&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Gg("t",e),r=Gg("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:OF,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:MF,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:UF,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Gg("t",e),r=Gg("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Gg(dC,e);if(RF in e){const r=e[RF];if(n===$de){const i={...r};this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===UF){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Wde?this.onConnectionShutdown_(r):n===PF?this.onReset_(r):n===qde?xA("Server Error: "+r):n===FF?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):xA("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),mI!==r&&ys("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),V0(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Lde))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):V0(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(jde))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:OF,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Yd.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tz{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ez{constructor(e){this.allowedEvents_=e,this.listeners_={},vt(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){vt(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_ extends Ez{static getInstance(){return new b_}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!kN()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return vt(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LF=32,jF=768;class On{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function kn(){return new On("")}function un(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Bu(t){return t.pieces_.length-t.pieceNum_}function tr(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new On(t.pieces_,e)}function vI(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Hde(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Ry(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Cz(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new On(e,0)}function Cr(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof On)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new On(n,0)}function dn(t){return t.pieceNum_>=t.pieces_.length}function Rs(t,e){const n=un(t),r=un(e);if(n===null)return e;if(n===r)return Rs(tr(t),tr(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Gde(t,e){const n=Ry(t,0),r=Ry(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=Kf(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function xI(t,e){if(Bu(t)!==Bu(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Qa(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Bu(t)>Bu(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Kde{constructor(e,n){this.errorPrefix_=n,this.parts_=Ry(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=mb(this.parts_[r]);Sz(this)}}function Xde(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=mb(e),Sz(t)}function Jde(t){const e=t.parts_.pop();t.byteLength_-=mb(e),t.parts_.length>0&&(t.byteLength_-=1)}function Sz(t){if(t.byteLength_>jF)throw new Error(t.errorPrefix_+"has a key path longer than "+jF+" bytes ("+t.byteLength_+").");if(t.parts_.length>LF)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+LF+") or object contains a cycle "+Bd(t))}function Bd(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I extends Ez{static getInstance(){return new _I}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return vt(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kg=1e3,Yde=300*1e3,BF=30*1e3,Qde=1.3,Zde=3e4,efe="server_kill",VF=3;class rc extends Tz{constructor(e,n,r,i,s,a,o,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=o,this.authOverride_=l,this.id=rc.nextPersistentConnectionId_++,this.log_=Pv("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Kg,this.maxReconnectDelay_=Yde,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");_I.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&b_.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(gi(s)),vt(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Js,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const o=a.d;a.s==="ok"?n.resolve(o):n.reject(o)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),vt(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),vt(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const o={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(a).set(s,o),this.connected_&&this.sendListen_(o)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},a="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(a,s,o=>{const l=o.d,c=o.s;rc.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",o),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Da(e,"w")){const r=pf(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();ys(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||mte(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=BF)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=pte(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,a=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),vt(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},a="n";i&&(s.q=r,s.t=i),this.sendRequest(a,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,a=>{i&&setTimeout(()=>{i(a.s,a.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const a={p:n,d:r};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:e,request:a,onComplete:i}),this.outstandingPutCount_++;const o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+gi(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):xA("Unrecognized action received from server: "+gi(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){vt(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Kg,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Kg,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Zde&&(this.reconnectDelay_=Kg),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Qde)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+rc.nextConnectionId_++,s=this.lastSessionId;let a=!1,o=null;const l=function(){o?o.close():(a=!0,r())},c=function(f){vt(o,"sendRequest call when we're not connected not allowed."),o.sendRequest(f)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,h]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);a?Mi("getToken() completed but was canceled"):(Mi("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,o=new zde(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{ys(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(efe)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&ys(f),l())}}}interrupt(e){Mi("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Mi("Resuming connection for reason: "+e),delete this.interruptReasons_[e],K2(this.interruptReasons_)&&(this.reconnectDelay_=Kg,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>pI(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new On(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Mi("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=VF&&(this.reconnectDelay_=BF,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Mi("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=VF&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Z$.replace(/\./g,"-")]=1,kN()?e["framework.cordova"]=1:pb()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=b_.getInstance().currentlyOnline();return K2(this.interruptReasons_)&&e}}rc.nextPersistentConnectionId_=0;rc.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new gn(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new gn(ju,e),i=new gn(ju,n);return this.compare(r,i)!==0}minPost(){return gn.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _x;class Dz extends Yb{static get __EMPTY_NODE(){return _x}static set __EMPTY_NODE(e){_x=e}compare(e,n){return Kf(e.name,n.name)}isDefinedOn(e){throw Sm("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return gn.MIN}maxPost(){return new gn(gc,_x)}makePost(e,n){return vt(typeof e=="string","KeyIndex indexValue must always be a string."),new gn(e,_x)}toString(){return".key"}}const wl=new Dz;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(e=e,a=n?r(e.key,n):1,i&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Fi{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Fi.RED,this.left=i??ea.EMPTY_NODE,this.right=s??ea.EMPTY_NODE}copy(e,n,r,i,s){return new Fi(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return ea.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return ea.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Fi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Fi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Fi.RED=!0;Fi.BLACK=!1;class tfe{copy(e,n,r,i,s){return this}insert(e,n,r){return new Fi(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ea{constructor(e,n=ea.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new ea(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Fi.BLACK,null,null))}remove(e){return new ea(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Fi.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new bx(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new bx(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new bx(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new bx(this.root_,null,this.comparator_,!0,e)}}ea.EMPTY_NODE=new tfe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nfe(t,e){return Kf(t.name,e.name)}function bI(t,e){return Kf(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bA;function rfe(t){bA=t}const Az=function(t){return typeof t=="number"?"number:"+az(t):"string:"+t},Nz=function(t){if(t.isLeafNode()){const e=t.val();vt(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Da(e,".sv"),"Priority must be a string or number.")}else vt(t===bA||t.isEmpty(),"priority of unexpected type.");vt(t===bA||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let WF;class Ni{static set __childrenNodeConstructor(e){WF=e}static get __childrenNodeConstructor(){return WF}constructor(e,n=Ni.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,vt(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Nz(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ni(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ni.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return dn(e)?this:un(e)===".priority"?this.priorityNode_:Ni.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Ni.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=un(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(vt(r!==".priority"||Bu(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Ni.__childrenNodeConstructor.EMPTY_NODE.updateChild(tr(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Az(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=az(this.value_):e+=this.value_,this.lazyHash_=rz(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ni.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ni.__childrenNodeConstructor?-1:(vt(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Ni.VALUE_TYPE_ORDER.indexOf(n),s=Ni.VALUE_TYPE_ORDER.indexOf(r);return vt(i>=0,"Unknown leaf type: "+n),vt(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ni.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Iz,kz;function ife(t){Iz=t}function sfe(t){kz=t}class afe extends Yb{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Kf(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return gn.MIN}maxPost(){return new gn(gc,new Ni("[PRIORITY-POST]",kz))}makePost(e,n){const r=Iz(e);return new gn(n,new Ni("[PRIORITY-POST]",r))}toString(){return".priority"}}const sr=new afe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ofe=Math.log(2);class lfe{constructor(e){const n=s=>parseInt(Math.log(s)/ofe,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const w_=function(t,e,n,r){t.sort(e);const i=function(l,c){const u=c-l;let f,h;if(u===0)return null;if(u===1)return f=t[l],h=n?n(f):f,new Fi(h,f.node,Fi.BLACK,null,null);{const p=parseInt(u/2,10)+l,v=i(l,p),g=i(p+1,c);return f=t[p],h=n?n(f):f,new Fi(h,f.node,Fi.BLACK,v,g)}},s=function(l){let c=null,u=null,f=t.length;const h=function(v,g){const y=f-v,b=f;f-=v;const _=i(y+1,b),w=t[y],C=n?n(w):w;p(new Fi(C,w.node,g,null,_))},p=function(v){c?(c.left=v,c=v):(u=v,c=v)};for(let v=0;v<l.count;++v){const g=l.nextBitIsOne(),y=Math.pow(2,l.count-(v+1));g?h(y,Fi.BLACK):(h(y,Fi.BLACK),h(y,Fi.RED))}return u},a=new lfe(t.length),o=s(a);return new ea(r||e,o)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fC;const Yh={};class Zl{static get Default(){return vt(Yh&&sr,"ChildrenNode.ts has not been loaded"),fC=fC||new Zl({".priority":Yh},{".priority":sr}),fC}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=pf(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof ea?n:null}hasIndex(e){return Da(this.indexSet_,e.toString())}addIndex(e,n){vt(e!==wl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(gn.Wrap);let a=s.getNext();for(;a;)i=i||e.isDefinedOn(a.node),r.push(a),a=s.getNext();let o;i?o=w_(r,e.getCompare()):o=Yh;const l=e.toString(),c={...this.indexSet_};c[l]=e;const u={...this.indexes_};return u[l]=o,new Zl(u,c)}addToIndexes(e,n){const r=X2(this.indexes_,(i,s)=>{const a=pf(this.indexSet_,s);if(vt(a,"Missing index implementation for "+s),i===Yh)if(a.isDefinedOn(e.node)){const o=[],l=n.getIterator(gn.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&o.push(c),c=l.getNext();return o.push(e),w_(o,a.getCompare())}else return Yh;else{const o=n.get(e.name);let l=i;return o&&(l=l.remove(new gn(e.name,o))),l.insert(e,e.node)}});return new Zl(r,this.indexSet_)}removeFromIndexes(e,n){const r=X2(this.indexes_,i=>{if(i===Yh)return i;{const s=n.get(e.name);return s?i.remove(new gn(e.name,s)):i}});return new Zl(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xg;class Gt{static get EMPTY_NODE(){return Xg||(Xg=new Gt(new ea(bI),null,Zl.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Nz(this.priorityNode_),this.children_.isEmpty()&&vt(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Xg}updatePriority(e){return this.children_.isEmpty()?this:new Gt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Xg:n}}getChild(e){const n=un(e);return n===null?this:this.getImmediateChild(n).getChild(tr(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(vt(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new gn(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const a=i.isEmpty()?Xg:this.priorityNode_;return new Gt(i,a,s)}}updateChild(e,n){const r=un(e);if(r===null)return n;{vt(un(e)!==".priority"||Bu(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(tr(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(sr,(a,o)=>{n[a]=o.val(e),r++,s&&Gt.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):s=!1}),!e&&s&&i<2*r){const a=[];for(const o in n)a[o]=n[o];return a}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Az(this.getPriority().val())+":"),this.forEachChild(sr,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":rz(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new gn(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new gn(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new gn(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,gn.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,gn.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Fv?-1:0}withIndex(e){if(e===wl||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Gt(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===wl||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(sr),i=n.getIterator(sr);let s=r.getNext(),a=i.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=i.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(e){return e===wl?null:this.indexMap_.get(e.toString())}}Gt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class cfe extends Gt{constructor(){super(new ea(bI),Gt.EMPTY_NODE,Zl.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Gt.EMPTY_NODE}isEmpty(){return!1}}const Fv=new cfe;Object.defineProperties(gn,{MIN:{value:new gn(ju,Gt.EMPTY_NODE)},MAX:{value:new gn(gc,Fv)}});Dz.__EMPTY_NODE=Gt.EMPTY_NODE;Ni.__childrenNodeConstructor=Gt;rfe(Fv);sfe(Fv);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ufe=!0;function Rr(t,e=null){if(t===null)return Gt.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),vt(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Ni(n,Rr(e))}if(!(t instanceof Array)&&ufe){const n=[];let r=!1;if(ji(t,(a,o)=>{if(a.substring(0,1)!=="."){const l=Rr(o);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new gn(a,l)))}}),n.length===0)return Gt.EMPTY_NODE;const s=w_(n,nfe,a=>a.name,bI);if(r){const a=w_(n,sr.getCompare());return new Gt(s,Rr(e),new Zl({".priority":a},{".priority":sr}))}else return new Gt(s,Rr(e),Zl.Default)}else{let n=Gt.EMPTY_NODE;return ji(t,(r,i)=>{if(Da(t,r)&&r.substring(0,1)!=="."){const s=Rr(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Rr(e))}}ife(Rr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI extends Yb{constructor(e){super(),this.indexPath_=e,vt(!dn(e)&&un(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Kf(e.name,n.name):s}makePost(e,n){const r=Rr(e),i=Gt.EMPTY_NODE.updateChild(this.indexPath_,r);return new gn(n,i)}maxPost(){const e=Gt.EMPTY_NODE.updateChild(this.indexPath_,Fv);return new gn(gc,e)}toString(){return Ry(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dfe extends Yb{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Kf(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return gn.MIN}maxPost(){return gn.MAX}makePost(e,n){const r=Rr(e);return new gn(n,r)}toString(){return".value"}}const TI=new dfe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rz(t){return{type:"value",snapshotNode:t}}function dm(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Py(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Fy(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function ffe(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e){this.index_=e}updateChild(e,n,r,i,s,a){vt(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const o=e.getImmediateChild(n);return o.getChild(i).equals(r.getChild(i))&&o.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?e.hasChild(n)?a.trackChildChange(Py(n,o)):vt(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(dm(n,r)):a.trackChildChange(Fy(n,r,o))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(sr,(i,s)=>{n.hasChild(i)||r.trackChildChange(Py(i,s))}),n.isLeafNode()||n.forEachChild(sr,(i,s)=>{if(e.hasChild(i)){const a=e.getImmediateChild(i);a.equals(s)||r.trackChildChange(Fy(i,s,a))}else r.trackChildChange(dm(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Gt.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e){this.indexedFilter_=new EI(e.getIndex()),this.index_=e.getIndex(),this.startPost_=My.getStartPost_(e),this.endPost_=My.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,a){return this.matches(new gn(n,r))||(r=Gt.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,a)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Gt.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Gt.EMPTY_NODE);const s=this;return n.forEachChild(sr,(a,o)=>{s.matches(new gn(a,o))||(i=i.updateImmediateChild(a,Gt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hfe{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new My(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,a){return this.rangedFilter_.matches(new gn(n,r))||(r=Gt.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,a):this.fullLimitUpdateChild_(e,n,r,s,a)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Gt.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Gt.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;s.hasNext()&&a<this.limit_;){const o=s.getNext();if(this.withinDirectionalStart(o))if(this.withinDirectionalEnd(o))i=i.updateImmediateChild(o.name,o.node),a++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Gt.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let a=0;for(;s.hasNext();){const o=s.getNext();a<this.limit_&&this.withinDirectionalStart(o)&&this.withinDirectionalEnd(o)?a++:i=i.updateImmediateChild(o.name,Gt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let a;if(this.reverse_){const f=this.index_.getCompare();a=(h,p)=>f(p,h)}else a=this.index_.getCompare();const o=e;vt(o.numChildren()===this.limit_,"");const l=new gn(n,r),c=this.reverse_?o.getFirstChild(this.index_):o.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(o.hasChild(n)){const f=o.getImmediateChild(n);let h=i.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||o.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const p=h==null?1:a(h,l);if(u&&!r.isEmpty()&&p>=0)return s!=null&&s.trackChildChange(Fy(n,r,f)),o.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Py(n,f));const g=o.updateImmediateChild(n,Gt.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(s!=null&&s.trackChildChange(dm(h.name,h.node)),g.updateImmediateChild(h.name,h.node)):g}}else return r.isEmpty()?e:u&&a(c,l)>=0?(s!=null&&(s.trackChildChange(Py(c.name,c.node)),s.trackChildChange(dm(n,r))),o.updateImmediateChild(n,r).updateImmediateChild(c.name,Gt.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=sr}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return vt(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return vt(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ju}hasEnd(){return this.endSet_}getIndexEndValue(){return vt(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return vt(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:gc}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return vt(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===sr}copy(){const e=new Qb;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function pfe(t){return t.loadsAllData()?new EI(t.getIndex()):t.hasLimit()?new hfe(t):new My(t)}function mfe(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function gfe(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function wA(t,e,n){const r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function yfe(t,e,n){let r;return t.index_===wl||n?r=wA(t,e,n):r=wA(t,e,gc),r.startAfterSet_=!0,r}function TA(t,e,n){const r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function vfe(t,e,n){let r;return t.index_===wl||n?r=TA(t,e,n):r=TA(t,e,ju),r.endBeforeSet_=!0,r}function Zb(t,e){const n=t.copy();return n.index_=e,n}function qF(t){const e={};if(t.isDefault())return e;let n;if(t.index_===sr?n="$priority":t.index_===TI?n="$value":t.index_===wl?n="$key":(vt(t.index_ instanceof wI,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=gi(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=gi(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+gi(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=gi(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+gi(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function $F(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==sr&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_ extends Tz{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(vt(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Pv("p:rest:"),this.listens_={}}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const a=T_.getListenId_(e,r),o={};this.listens_[a]=o;const l=qF(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let f=u;if(c===404&&(f=null,c=null),c===null&&this.onDataUpdate_(s,f,!1,r),pf(this.listens_,a)===o){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",i(h,null)}})}unlisten(e,n){const r=T_.getListenId_(e,n);delete this.listens_[r]}get(e){const n=qF(e._queryParams),r=e._path.toString(),i=new Js;return this.restRequest_(r+".json",n,(s,a)=>{let o=a;s===404&&(o=null,s=null),s===null?(this.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Wf(n);this.log_("Sending REST request for "+a);const o=new XMLHttpRequest;o.onreadystatechange=()=>{if(r&&o.readyState===4){this.log_("REST Response for "+a+" received. status:",o.status,"response:",o.responseText);let l=null;if(o.status>=200&&o.status<300){try{l=ly(o.responseText)}catch{ys("Failed to parse JSON response for "+a+": "+o.responseText)}r(null,l)}else o.status!==401&&o.status!==404&&ys("Got unsuccessful REST response for "+a+" Status: "+o.status),r(o.status);r=null}},o.open("GET",a,!0),o.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xfe{constructor(){this.rootNode_=Gt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(){return{value:null,children:new Map}}function Bm(t,e,n){if(dn(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=un(e);t.children.has(r)||t.children.set(r,E_());const i=t.children.get(r);e=tr(e),Bm(i,e,n)}}function EA(t,e){if(dn(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;{const n=t.value;return t.value=null,n.forEachChild(sr,(r,i)=>{Bm(t,new On(r),i)}),EA(t,e)}}else if(t.children.size>0){const n=un(e);return e=tr(e),t.children.has(n)&&EA(t.children.get(n),e)&&t.children.delete(n),t.children.size===0}else return!0}function CA(t,e,n){t.value!==null?n(e,t.value):_fe(t,(r,i)=>{const s=new On(e.toString()+"/"+r);CA(i,s,n)})}function _fe(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bfe{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&ji(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zF=10*1e3,wfe=30*1e3,Tfe=300*1e3;class Efe{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new bfe(e);const r=zF+(wfe-zF)*Math.random();V0(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;ji(e,(i,s)=>{s>0&&Da(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),V0(this.reportStats_.bind(this),Math.floor(Math.random()*2*Tfe))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ro;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ro||(Ro={}));function CI(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function SI(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function DI(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Ro.ACK_USER_WRITE,this.source=CI()}operationForChild(e){if(dn(this.path)){if(this.affectedTree.value!=null)return vt(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new On(e));return new C_(kn(),n,this.revert)}}else return vt(un(this.path)===e,"operationForChild called for unrelated child."),new C_(tr(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e,n){this.source=e,this.path=n,this.type=Ro.LISTEN_COMPLETE}operationForChild(e){return dn(this.path)?new Uy(this.source,kn()):new Uy(this.source,tr(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Ro.OVERWRITE}operationForChild(e){return dn(this.path)?new Df(this.source,kn(),this.snap.getImmediateChild(e)):new Df(this.source,tr(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Ro.MERGE}operationForChild(e){if(dn(this.path)){const n=this.children.subtree(new On(e));return n.isEmpty()?null:n.value?new Df(this.source,kn(),n.value):new fm(this.source,kn(),n)}else return vt(un(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new fm(this.source,tr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(dn(e))return this.isFullyInitialized()&&!this.filtered_;const n=un(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cfe{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Sfe(t,e,n,r){const i=[],s=[];return e.forEach(a=>{a.type==="child_changed"&&t.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(ffe(a.childName,a.snapshotNode))}),Jg(t,i,"child_removed",e,r,n),Jg(t,i,"child_added",e,r,n),Jg(t,i,"child_moved",s,r,n),Jg(t,i,"child_changed",e,r,n),Jg(t,i,"value",e,r,n),i}function Jg(t,e,n,r,i,s){const a=r.filter(o=>o.type===n);a.sort((o,l)=>Afe(t,o,l)),a.forEach(o=>{const l=Dfe(t,o,s);i.forEach(c=>{c.respondsTo(o.type)&&e.push(c.createEvent(l,t.query_))})})}function Dfe(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Afe(t,e,n){if(e.childName==null||n.childName==null)throw Sm("Should only compare child_ events.");const r=new gn(e.childName,e.snapshotNode),i=new gn(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(t,e){return{eventCache:t,serverCache:e}}function W0(t,e,n,r){return ew(new Vu(e,n,r),t.serverCache)}function Pz(t,e,n,r){return ew(t.eventCache,new Vu(e,n,r))}function S_(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Af(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hC;const Nfe=()=>(hC||(hC=new ea(dde)),hC);class rr{static fromObject(e){let n=new rr(null);return ji(e,(r,i)=>{n=n.set(new On(r),i)}),n}constructor(e,n=Nfe()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:kn(),value:this.value};if(dn(e))return null;{const r=un(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(tr(e),n);return s!=null?{path:Cr(new On(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(dn(e))return this;{const n=un(e),r=this.children.get(n);return r!==null?r.subtree(tr(e)):new rr(null)}}set(e,n){if(dn(e))return new rr(n,this.children);{const r=un(e),s=(this.children.get(r)||new rr(null)).set(tr(e),n),a=this.children.insert(r,s);return new rr(this.value,a)}}remove(e){if(dn(e))return this.children.isEmpty()?new rr(null):new rr(null,this.children);{const n=un(e),r=this.children.get(n);if(r){const i=r.remove(tr(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new rr(null):new rr(this.value,s)}else return this}}get(e){if(dn(e))return this.value;{const n=un(e),r=this.children.get(n);return r?r.get(tr(e)):null}}setTree(e,n){if(dn(e))return n;{const r=un(e),s=(this.children.get(r)||new rr(null)).setTree(tr(e),n);let a;return s.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,s),new rr(this.value,a)}}fold(e){return this.fold_(kn(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Cr(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,kn(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(dn(e))return null;{const s=un(e),a=this.children.get(s);return a?a.findOnPath_(tr(e),Cr(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,kn(),n)}foreachOnPath_(e,n,r){if(dn(e))return this;{this.value&&r(n,this.value);const i=un(e),s=this.children.get(i);return s?s.foreachOnPath_(tr(e),Cr(n,i),r):new rr(null)}}foreach(e){this.foreach_(kn(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Cr(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e){this.writeTree_=e}static empty(){return new Oo(new rr(null))}}function q0(t,e,n){if(dn(e))return new Oo(new rr(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const a=Rs(i,e);return s=s.updateChild(a,n),new Oo(t.writeTree_.set(i,s))}else{const i=new rr(n),s=t.writeTree_.setTree(e,i);return new Oo(s)}}}function SA(t,e,n){let r=t;return ji(n,(i,s)=>{r=q0(r,Cr(e,i),s)}),r}function HF(t,e){if(dn(e))return Oo.empty();{const n=t.writeTree_.setTree(e,new rr(null));return new Oo(n)}}function DA(t,e){return Xf(t,e)!=null}function Xf(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Rs(n.path,e)):null}function GF(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(sr,(r,i)=>{e.push(new gn(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new gn(r,i.value))}),e}function Su(t,e){if(dn(e))return t;{const n=Xf(t,e);return n!=null?new Oo(new rr(n)):new Oo(t.writeTree_.subtree(e))}}function AA(t){return t.writeTree_.isEmpty()}function hm(t,e){return Fz(kn(),t.writeTree_,e)}function Fz(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(vt(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=Fz(Cr(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Cr(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(t,e){return Lz(e,t)}function Ife(t,e,n,r,i){vt(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=q0(t.visibleWrites,e,n)),t.lastWriteId=r}function kfe(t,e,n,r){vt(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=SA(t.visibleWrites,e,n),t.lastWriteId=r}function Rfe(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function Pfe(t,e){const n=t.allWrites.findIndex(o=>o.writeId===e);vt(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,a=t.allWrites.length-1;for(;i&&a>=0;){const o=t.allWrites[a];o.visible&&(a>=n&&Ffe(o,r.path)?i=!1:Qa(r.path,o.path)&&(s=!0)),a--}if(i){if(s)return Mfe(t),!0;if(r.snap)t.visibleWrites=HF(t.visibleWrites,r.path);else{const o=r.children;ji(o,l=>{t.visibleWrites=HF(t.visibleWrites,Cr(r.path,l))})}return!0}else return!1}function Ffe(t,e){if(t.snap)return Qa(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Qa(Cr(t.path,n),e))return!0;return!1}function Mfe(t){t.visibleWrites=Mz(t.allWrites,Ufe,kn()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Ufe(t){return t.visible}function Mz(t,e,n){let r=Oo.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const a=s.path;let o;if(s.snap)Qa(n,a)?(o=Rs(n,a),r=q0(r,o,s.snap)):Qa(a,n)&&(o=Rs(a,n),r=q0(r,kn(),s.snap.getChild(o)));else if(s.children){if(Qa(n,a))o=Rs(n,a),r=SA(r,o,s.children);else if(Qa(a,n))if(o=Rs(a,n),dn(o))r=SA(r,kn(),s.children);else{const l=pf(s.children,un(o));if(l){const c=l.getChild(tr(o));r=q0(r,kn(),c)}}}else throw Sm("WriteRecord should have .snap or .children")}}return r}function Uz(t,e,n,r,i){if(!r&&!i){const s=Xf(t.visibleWrites,e);if(s!=null)return s;{const a=Su(t.visibleWrites,e);if(AA(a))return n;if(n==null&&!DA(a,kn()))return null;{const o=n||Gt.EMPTY_NODE;return hm(a,o)}}}else{const s=Su(t.visibleWrites,e);if(!i&&AA(s))return n;if(!i&&n==null&&!DA(s,kn()))return null;{const a=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(Qa(c.path,e)||Qa(e,c.path))},o=Mz(t.allWrites,a,e),l=n||Gt.EMPTY_NODE;return hm(o,l)}}}function Ofe(t,e,n){let r=Gt.EMPTY_NODE;const i=Xf(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(sr,(s,a)=>{r=r.updateImmediateChild(s,a)}),r;if(n){const s=Su(t.visibleWrites,e);return n.forEachChild(sr,(a,o)=>{const l=hm(Su(s,new On(a)),o);r=r.updateImmediateChild(a,l)}),GF(s).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}else{const s=Su(t.visibleWrites,e);return GF(s).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}}function Lfe(t,e,n,r,i){vt(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Cr(e,n);if(DA(t.visibleWrites,s))return null;{const a=Su(t.visibleWrites,s);return AA(a)?i.getChild(n):hm(a,i.getChild(n))}}function jfe(t,e,n,r){const i=Cr(e,n),s=Xf(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const a=Su(t.visibleWrites,i);return hm(a,r.getNode().getImmediateChild(n))}else return null}function Bfe(t,e){return Xf(t.visibleWrites,e)}function Vfe(t,e,n,r,i,s,a){let o;const l=Su(t.visibleWrites,e),c=Xf(l,kn());if(c!=null)o=c;else if(n!=null)o=hm(l,n);else return[];if(o=o.withIndex(a),!o.isEmpty()&&!o.isLeafNode()){const u=[],f=a.getCompare(),h=s?o.getReverseIteratorFrom(r,a):o.getIteratorFrom(r,a);let p=h.getNext();for(;p&&u.length<i;)f(p,r)!==0&&u.push(p),p=h.getNext();return u}else return[]}function Wfe(){return{visibleWrites:Oo.empty(),allWrites:[],lastWriteId:-1}}function D_(t,e,n,r){return Uz(t.writeTree,t.treePath,e,n,r)}function AI(t,e){return Ofe(t.writeTree,t.treePath,e)}function KF(t,e,n,r){return Lfe(t.writeTree,t.treePath,e,n,r)}function A_(t,e){return Bfe(t.writeTree,Cr(t.treePath,e))}function qfe(t,e,n,r,i,s){return Vfe(t.writeTree,t.treePath,e,n,r,i,s)}function NI(t,e,n){return jfe(t.writeTree,t.treePath,e,n)}function Oz(t,e){return Lz(Cr(t.treePath,e),t.writeTree)}function Lz(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $fe{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;vt(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),vt(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Fy(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Py(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,dm(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Fy(r,e.snapshotNode,i.oldSnap));else throw Sm("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zfe{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const jz=new zfe;class II{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Vu(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return NI(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Af(this.viewCache_),s=qfe(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hfe(t){return{filter:t}}function Gfe(t,e){vt(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),vt(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Kfe(t,e,n,r,i){const s=new $fe;let a,o;if(n.type===Ro.OVERWRITE){const c=n;c.source.fromUser?a=NA(t,e,c.path,c.snap,r,i,s):(vt(c.source.fromServer,"Unknown source."),o=c.source.tagged||e.serverCache.isFiltered()&&!dn(c.path),a=N_(t,e,c.path,c.snap,r,i,o,s))}else if(n.type===Ro.MERGE){const c=n;c.source.fromUser?a=Jfe(t,e,c.path,c.children,r,i,s):(vt(c.source.fromServer,"Unknown source."),o=c.source.tagged||e.serverCache.isFiltered(),a=IA(t,e,c.path,c.children,r,i,o,s))}else if(n.type===Ro.ACK_USER_WRITE){const c=n;c.revert?a=Zfe(t,e,c.path,r,i,s):a=Yfe(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===Ro.LISTEN_COMPLETE)a=Qfe(t,e,n.path,r,s);else throw Sm("Unknown operation type: "+n.type);const l=s.getChanges();return Xfe(e,a,l),{viewCache:a,changes:l}}function Xfe(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=S_(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Rz(S_(e)))}}function Bz(t,e,n,r,i,s){const a=e.eventCache;if(A_(r,n)!=null)return e;{let o,l;if(dn(n))if(vt(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Af(e),u=c instanceof Gt?c:Gt.EMPTY_NODE,f=AI(r,u);o=t.filter.updateFullNode(e.eventCache.getNode(),f,s)}else{const c=D_(r,Af(e));o=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=un(n);if(c===".priority"){vt(Bu(n)===1,"Can't have a priority with additional path components");const u=a.getNode();l=e.serverCache.getNode();const f=KF(r,n,u,l);f!=null?o=t.filter.updatePriority(u,f):o=a.getNode()}else{const u=tr(n);let f;if(a.isCompleteForChild(c)){l=e.serverCache.getNode();const h=KF(r,n,a.getNode(),l);h!=null?f=a.getNode().getImmediateChild(c).updateChild(u,h):f=a.getNode().getImmediateChild(c)}else f=NI(r,c,e.serverCache);f!=null?o=t.filter.updateChild(a.getNode(),c,f,u,i,s):o=a.getNode()}}return W0(e,o,a.isFullyInitialized()||dn(n),t.filter.filtersNodes())}}function N_(t,e,n,r,i,s,a,o){const l=e.serverCache;let c;const u=a?t.filter:t.filter.getIndexedFilter();if(dn(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),p,null)}else{const p=un(n);if(!l.isCompleteForPath(n)&&Bu(n)>1)return e;const v=tr(n),y=l.getNode().getImmediateChild(p).updateChild(v,r);p===".priority"?c=u.updatePriority(l.getNode(),y):c=u.updateChild(l.getNode(),p,y,v,jz,null)}const f=Pz(e,c,l.isFullyInitialized()||dn(n),u.filtersNodes()),h=new II(i,f,s);return Bz(t,f,n,i,h,o)}function NA(t,e,n,r,i,s,a){const o=e.eventCache;let l,c;const u=new II(i,e,s);if(dn(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,a),l=W0(e,c,!0,t.filter.filtersNodes());else{const f=un(n);if(f===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=W0(e,c,o.isFullyInitialized(),o.isFiltered());else{const h=tr(n),p=o.getNode().getImmediateChild(f);let v;if(dn(h))v=r;else{const g=u.getCompleteChild(f);g!=null?vI(h)===".priority"&&g.getChild(Cz(h)).isEmpty()?v=g:v=g.updateChild(h,r):v=Gt.EMPTY_NODE}if(p.equals(v))l=e;else{const g=t.filter.updateChild(o.getNode(),f,v,h,u,a);l=W0(e,g,o.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function XF(t,e){return t.eventCache.isCompleteForChild(e)}function Jfe(t,e,n,r,i,s,a){let o=e;return r.foreach((l,c)=>{const u=Cr(n,l);XF(e,un(u))&&(o=NA(t,o,u,c,i,s,a))}),r.foreach((l,c)=>{const u=Cr(n,l);XF(e,un(u))||(o=NA(t,o,u,c,i,s,a))}),o}function JF(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function IA(t,e,n,r,i,s,a,o){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;dn(n)?c=r:c=new rr(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((f,h)=>{if(u.hasChild(f)){const p=e.serverCache.getNode().getImmediateChild(f),v=JF(t,p,h);l=N_(t,l,new On(f),v,i,s,a,o)}}),c.children.inorderTraversal((f,h)=>{const p=!e.serverCache.isCompleteForChild(f)&&h.value===null;if(!u.hasChild(f)&&!p){const v=e.serverCache.getNode().getImmediateChild(f),g=JF(t,v,h);l=N_(t,l,new On(f),g,i,s,a,o)}}),l}function Yfe(t,e,n,r,i,s,a){if(A_(i,n)!=null)return e;const o=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(dn(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return N_(t,e,n,l.getNode().getChild(n),i,s,o,a);if(dn(n)){let c=new rr(null);return l.getNode().forEachChild(wl,(u,f)=>{c=c.set(new On(u),f)}),IA(t,e,n,c,i,s,o,a)}else return e}else{let c=new rr(null);return r.foreach((u,f)=>{const h=Cr(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),IA(t,e,n,c,i,s,o,a)}}function Qfe(t,e,n,r,i){const s=e.serverCache,a=Pz(e,s.getNode(),s.isFullyInitialized()||dn(n),s.isFiltered());return Bz(t,a,n,r,jz,i)}function Zfe(t,e,n,r,i,s){let a;if(A_(r,n)!=null)return e;{const o=new II(r,e,i),l=e.eventCache.getNode();let c;if(dn(n)||un(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=D_(r,Af(e));else{const f=e.serverCache.getNode();vt(f instanceof Gt,"serverChildren would be complete if leaf node"),u=AI(r,f)}u=u,c=t.filter.updateFullNode(l,u,s)}else{const u=un(n);let f=NI(r,u,e.serverCache);f==null&&e.serverCache.isCompleteForChild(u)&&(f=l.getImmediateChild(u)),f!=null?c=t.filter.updateChild(l,u,f,tr(n),o,s):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,Gt.EMPTY_NODE,tr(n),o,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=D_(r,Af(e)),a.isLeafNode()&&(c=t.filter.updateFullNode(c,a,s)))}return a=e.serverCache.isFullyInitialized()||A_(r,kn())!=null,W0(e,c,a,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ehe{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new EI(r.getIndex()),s=pfe(r);this.processor_=Hfe(s);const a=n.serverCache,o=n.eventCache,l=i.updateFullNode(Gt.EMPTY_NODE,a.getNode(),null),c=s.updateFullNode(Gt.EMPTY_NODE,o.getNode(),null),u=new Vu(l,a.isFullyInitialized(),i.filtersNodes()),f=new Vu(c,o.isFullyInitialized(),s.filtersNodes());this.viewCache_=ew(f,u),this.eventGenerator_=new Cfe(this.query_)}get query(){return this.query_}}function the(t){return t.viewCache_.serverCache.getNode()}function nhe(t){return S_(t.viewCache_)}function rhe(t,e){const n=Af(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!dn(e)&&!n.getImmediateChild(un(e)).isEmpty())?n.getChild(e):null}function YF(t){return t.eventRegistrations_.length===0}function ihe(t,e){t.eventRegistrations_.push(e)}function QF(t,e,n){const r=[];if(n){vt(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const a=s.createCancelEvent(n,i);a&&r.push(a)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const a=t.eventRegistrations_[s];if(!a.matches(e))i.push(a);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function ZF(t,e,n,r){e.type===Ro.MERGE&&e.source.queryId!==null&&(vt(Af(t.viewCache_),"We should always have a full cache before handling merges"),vt(S_(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=Kfe(t.processor_,i,e,n,r);return Gfe(t.processor_,s.viewCache),vt(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,Vz(t,s.changes,s.viewCache.eventCache.getNode(),null)}function she(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(sr,(s,a)=>{r.push(dm(s,a))}),n.isFullyInitialized()&&r.push(Rz(n.getNode())),Vz(t,r,n.getNode(),e)}function Vz(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return Sfe(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let I_;class Wz{constructor(){this.views=new Map}}function ahe(t){vt(!I_,"__referenceConstructor has already been defined"),I_=t}function ohe(){return vt(I_,"Reference.ts has not been loaded"),I_}function lhe(t){return t.views.size===0}function kI(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return vt(s!=null,"SyncTree gave us an op for an invalid query."),ZF(s,e,n,r)}else{let s=[];for(const a of t.views.values())s=s.concat(ZF(a,e,n,r));return s}}function qz(t,e,n,r,i){const s=e._queryIdentifier,a=t.views.get(s);if(!a){let o=D_(n,i?r:null),l=!1;o?l=!0:r instanceof Gt?(o=AI(n,r),l=!1):(o=Gt.EMPTY_NODE,l=!1);const c=ew(new Vu(o,l,!1),new Vu(r,i,!1));return new ehe(e,c)}return a}function che(t,e,n,r,i,s){const a=qz(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,a),ihe(a,n),she(a,n)}function uhe(t,e,n,r){const i=e._queryIdentifier,s=[];let a=[];const o=Wu(t);if(i==="default")for(const[l,c]of t.views.entries())a=a.concat(QF(c,n,r)),YF(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=t.views.get(i);l&&(a=a.concat(QF(l,n,r)),YF(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return o&&!Wu(t)&&s.push(new(ohe())(e._repo,e._path)),{removed:s,events:a}}function $z(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Du(t,e){let n=null;for(const r of t.views.values())n=n||rhe(r,e);return n}function zz(t,e){if(e._queryParams.loadsAllData())return nw(t);{const r=e._queryIdentifier;return t.views.get(r)}}function Hz(t,e){return zz(t,e)!=null}function Wu(t){return nw(t)!=null}function nw(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let k_;function dhe(t){vt(!k_,"__referenceConstructor has already been defined"),k_=t}function fhe(){return vt(k_,"Reference.ts has not been loaded"),k_}let hhe=1;class e9{constructor(e){this.listenProvider_=e,this.syncPointTree_=new rr(null),this.pendingWriteTree_=Wfe(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function RI(t,e,n,r,i){return Ife(t.pendingWriteTree_,e,n,r,i),i?Vm(t,new Df(CI(),e,n)):[]}function phe(t,e,n,r){kfe(t.pendingWriteTree_,e,n,r);const i=rr.fromObject(n);return Vm(t,new fm(CI(),e,i))}function gu(t,e,n=!1){const r=Rfe(t.pendingWriteTree_,e);if(Pfe(t.pendingWriteTree_,e)){let s=new rr(null);return r.snap!=null?s=s.set(kn(),!0):ji(r.children,a=>{s=s.set(new On(a),!0)}),Vm(t,new C_(r.path,s,n))}else return[]}function Mv(t,e,n){return Vm(t,new Df(SI(),e,n))}function mhe(t,e,n){const r=rr.fromObject(n);return Vm(t,new fm(SI(),e,r))}function ghe(t,e){return Vm(t,new Uy(SI(),e))}function yhe(t,e,n){const r=PI(t,n);if(r){const i=FI(r),s=i.path,a=i.queryId,o=Rs(s,e),l=new Uy(DI(a),o);return MI(t,s,l)}else return[]}function R_(t,e,n,r,i=!1){const s=e._path,a=t.syncPointTree_.get(s);let o=[];if(a&&(e._queryIdentifier==="default"||Hz(a,e))){const l=uhe(a,e,n,r);lhe(a)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const c=l.removed;if(o=l.events,!i){const u=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,f=t.syncPointTree_.findOnPath(s,(h,p)=>Wu(p));if(u&&!f){const h=t.syncPointTree_.subtree(s);if(!h.isEmpty()){const p=_he(h);for(let v=0;v<p.length;++v){const g=p[v],y=g.query,b=Jz(t,g);t.listenProvider_.startListening($0(y),Oy(t,y),b.hashFn,b.onComplete)}}}!f&&c.length>0&&!r&&(u?t.listenProvider_.stopListening($0(e),null):c.forEach(h=>{const p=t.queryToTagMap.get(iw(h));t.listenProvider_.stopListening($0(h),p)}))}bhe(t,c)}return o}function Gz(t,e,n,r){const i=PI(t,r);if(i!=null){const s=FI(i),a=s.path,o=s.queryId,l=Rs(a,e),c=new Df(DI(o),l,n);return MI(t,a,c)}else return[]}function vhe(t,e,n,r){const i=PI(t,r);if(i){const s=FI(i),a=s.path,o=s.queryId,l=Rs(a,e),c=rr.fromObject(n),u=new fm(DI(o),l,c);return MI(t,a,u)}else return[]}function kA(t,e,n,r=!1){const i=e._path;let s=null,a=!1;t.syncPointTree_.foreachOnPath(i,(h,p)=>{const v=Rs(h,i);s=s||Du(p,v),a=a||Wu(p)});let o=t.syncPointTree_.get(i);o?(a=a||Wu(o),s=s||Du(o,kn())):(o=new Wz,t.syncPointTree_=t.syncPointTree_.set(i,o));let l;s!=null?l=!0:(l=!1,s=Gt.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((p,v)=>{const g=Du(v,kn());g&&(s=s.updateImmediateChild(p,g))}));const c=Hz(o,e);if(!c&&!e._queryParams.loadsAllData()){const h=iw(e);vt(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const p=whe();t.queryToTagMap.set(h,p),t.tagToQueryMap.set(p,h)}const u=tw(t.pendingWriteTree_,i);let f=che(o,e,n,u,s,l);if(!c&&!a&&!r){const h=zz(o,e);f=f.concat(The(t,e,h))}return f}function rw(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(a,o)=>{const l=Rs(a,e),c=Du(o,l);if(c)return c});return Uz(i,e,s,n,!0)}function xhe(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{const f=Rs(c,n);r=r||Du(u,f)});let i=t.syncPointTree_.get(n);i?r=r||Du(i,kn()):(i=new Wz,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,a=s?new Vu(r,!0,!1):null,o=tw(t.pendingWriteTree_,e._path),l=qz(i,e,o,s?a.getNode():Gt.EMPTY_NODE,s);return nhe(l)}function Vm(t,e){return Kz(e,t.syncPointTree_,null,tw(t.pendingWriteTree_,kn()))}function Kz(t,e,n,r){if(dn(t.path))return Xz(t,e,n,r);{const i=e.get(kn());n==null&&i!=null&&(n=Du(i,kn()));let s=[];const a=un(t.path),o=t.operationForChild(a),l=e.children.get(a);if(l&&o){const c=n?n.getImmediateChild(a):null,u=Oz(r,a);s=s.concat(Kz(o,l,c,u))}return i&&(s=s.concat(kI(i,t,r,n))),s}}function Xz(t,e,n,r){const i=e.get(kn());n==null&&i!=null&&(n=Du(i,kn()));let s=[];return e.children.inorderTraversal((a,o)=>{const l=n?n.getImmediateChild(a):null,c=Oz(r,a),u=t.operationForChild(a);u&&(s=s.concat(Xz(u,o,l,c)))}),i&&(s=s.concat(kI(i,t,r,n))),s}function Jz(t,e){const n=e.query,r=Oy(t,n);return{hashFn:()=>(the(e)||Gt.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?yhe(t,n._path,r):ghe(t,n._path);{const s=pde(i,n);return R_(t,n,null,s)}}}}function Oy(t,e){const n=iw(e);return t.queryToTagMap.get(n)}function iw(t){return t._path.toString()+"$"+t._queryIdentifier}function PI(t,e){return t.tagToQueryMap.get(e)}function FI(t){const e=t.indexOf("$");return vt(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new On(t.substr(0,e))}}function MI(t,e,n){const r=t.syncPointTree_.get(e);vt(r,"Missing sync point for query tag that we're tracking");const i=tw(t.pendingWriteTree_,e);return kI(r,n,i,null)}function _he(t){return t.fold((e,n,r)=>{if(n&&Wu(n))return[nw(n)];{let i=[];return n&&(i=$z(n)),ji(r,(s,a)=>{i=i.concat(a)}),i}})}function $0(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(fhe())(t._repo,t._path):t}function bhe(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=iw(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function whe(){return hhe++}function The(t,e,n){const r=e._path,i=Oy(t,e),s=Jz(t,n),a=t.listenProvider_.startListening($0(e),i,s.hashFn,s.onComplete),o=t.syncPointTree_.subtree(r);if(i)vt(!Wu(o.value),"If we're adding a query, it shouldn't be shadowed");else{const l=o.fold((c,u,f)=>{if(!dn(c)&&u&&Wu(u))return[nw(u).query];{let h=[];return u&&(h=h.concat($z(u).map(p=>p.query))),ji(f,(p,v)=>{h=h.concat(v)}),h}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening($0(u),Oy(t,u))}}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new UI(n)}node(){return this.node_}}class OI{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Cr(this.path_,e);return new OI(this.syncTree_,n)}node(){return rw(this.syncTree_,this.path_)}}const Ehe=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},t9=function(t,e,n){if(!t||typeof t!="object")return t;if(vt(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Che(t[".sv"],e,n);if(typeof t[".sv"]=="object")return She(t[".sv"],e);vt(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Che=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:vt(!1,"Unexpected server value: "+t)}},She=function(t,e,n){t.hasOwnProperty("increment")||vt(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&vt(!1,"Unexpected increment value: "+r);const i=e.node();if(vt(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const a=i.getValue();return typeof a!="number"?r:a+r},Yz=function(t,e,n,r){return jI(e,new OI(n,t),r)},LI=function(t,e,n){return jI(t,new UI(e),n)};function jI(t,e,n){const r=t.getPriority().val(),i=t9(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const a=t,o=t9(a.getValue(),e,n);return o!==a.getValue()||i!==a.getPriority().val()?new Ni(o,Rr(i)):t}else{const a=t;return s=a,i!==a.getPriority().val()&&(s=s.updatePriority(new Ni(i))),a.forEachChild(sr,(o,l)=>{const c=jI(l,e.getImmediateChild(o),n);c!==l&&(s=s.updateImmediateChild(o,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function sw(t,e){let n=e instanceof On?e:new On(e),r=t,i=un(n);for(;i!==null;){const s=pf(r.node.children,i)||{children:{},childCount:0};r=new BI(i,r,s),n=tr(n),i=un(n)}return r}function Jf(t){return t.node.value}function VI(t,e){t.node.value=e,RA(t)}function Qz(t){return t.node.childCount>0}function Dhe(t){return Jf(t)===void 0&&!Qz(t)}function aw(t,e){ji(t.node.children,(n,r)=>{e(new BI(n,t,r))})}function Zz(t,e,n,r){n&&e(t),aw(t,i=>{Zz(i,e,!0)})}function Ahe(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Uv(t){return new On(t.parent===null?t.name:Uv(t.parent)+"/"+t.name)}function RA(t){t.parent!==null&&Nhe(t.parent,t.name,t)}function Nhe(t,e,n){const r=Dhe(n),i=Da(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,RA(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,RA(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ihe=/[\[\].#$\/\u0000-\u001F\u007F]/,khe=/[\[\].#$\u0000-\u001F\u007F]/,pC=10*1024*1024,ow=function(t){return typeof t=="string"&&t.length!==0&&!Ihe.test(t)},eH=function(t){return typeof t=="string"&&t.length!==0&&!khe.test(t)},Rhe=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),eH(t)},Ly=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Jb(t)||t&&typeof t=="object"&&Da(t,".sv")},Al=function(t,e,n,r){r&&e===void 0||Ov(ta(t,"value"),e,n)},Ov=function(t,e,n){const r=n instanceof On?new Kde(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Bd(r));if(typeof e=="function")throw new Error(t+"contains a function "+Bd(r)+" with contents = "+e.toString());if(Jb(e))throw new Error(t+"contains "+e.toString()+" "+Bd(r));if(typeof e=="string"&&e.length>pC/3&&mb(e)>pC)throw new Error(t+"contains a string greater than "+pC+" utf8 bytes "+Bd(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(ji(e,(a,o)=>{if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!ow(a)))throw new Error(t+" contains an invalid key ("+a+") "+Bd(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Xde(r,a),Ov(t,o,r),Jde(r)}),i&&s)throw new Error(t+' contains ".value" child '+Bd(r)+" in addition to actual children.")}},Phe=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=Ry(r);for(let a=0;a<s.length;a++)if(!(s[a]===".priority"&&a===s.length-1)){if(!ow(s[a]))throw new Error(t+"contains an invalid key ("+s[a]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(Gde);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&Qa(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},tH=function(t,e,n,r){const i=ta(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];ji(e,(a,o)=>{const l=new On(a);if(Ov(i,o,Cr(n,l)),vI(l)===".priority"&&!Ly(o))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),Phe(i,s)},WI=function(t,e,n){if(Jb(e))throw new Error(ta(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ly(e))throw new Error(ta(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")},Lv=function(t,e,n,r){if(n!==void 0&&!ow(n))throw new Error(ta(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},jy=function(t,e,n,r){if(!eH(n))throw new Error(ta(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Fhe=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),jy(t,e,n)},Za=function(t,e){if(un(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},nH=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!ow(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Rhe(n))throw new Error(ta(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mhe{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function lw(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!xI(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function rH(t,e,n){lw(t,n),iH(t,r=>xI(r,e))}function Na(t,e,n){lw(t,n),iH(t,r=>Qa(r,e)||Qa(e,r))}function iH(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(Uhe(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Uhe(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();af&&Mi("event: "+n.toString()),jm(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sH="repo_interrupt",Ohe=25;class Lhe{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Mhe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=E_(),this.transactionQueueTree_=new BI,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function jhe(t,e,n){if(t.stats_=gI(t.repoInfo_),t.forceRestClient_||vde())t.server_=new T_(t.repoInfo_,(r,i,s,a)=>{n9(t,r,i,s,a)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>r9(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{gi(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new rc(t.repoInfo_,e,(r,i,s,a)=>{n9(t,r,i,s,a)},r=>{r9(t,r)},r=>{Bhe(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Tde(t.repoInfo_,()=>new Efe(t.stats_,t.server_)),t.infoData_=new xfe,t.infoSyncTree_=new e9({startListening:(r,i,s,a)=>{let o=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(o=Mv(t.infoSyncTree_,r._path,l),setTimeout(()=>{a("ok")},0)),o},stopListening:()=>{}}),qI(t,"connected",!1),t.serverSyncTree_=new e9({startListening:(r,i,s,a)=>(t.server_.listen(r,s,i,(o,l)=>{const c=a(o,l);Na(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function aH(t){const n=t.infoData_.getNode(new On(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function jv(t){return Ehe({timestamp:aH(t)})}function n9(t,e,n,r,i){t.dataUpdateCount++;const s=new On(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let a=[];if(i)if(r){const l=X2(n,c=>Rr(c));a=vhe(t.serverSyncTree_,s,l,i)}else{const l=Rr(n);a=Gz(t.serverSyncTree_,s,l,i)}else if(r){const l=X2(n,c=>Rr(c));a=mhe(t.serverSyncTree_,s,l)}else{const l=Rr(n);a=Mv(t.serverSyncTree_,s,l)}let o=s;a.length>0&&(o=pm(t,s)),Na(t.eventQueue_,o,a)}function r9(t,e){qI(t,"connected",e),e===!1&&qhe(t)}function Bhe(t,e){ji(e,(n,r)=>{qI(t,n,r)})}function qI(t,e,n){const r=new On("/.info/"+e),i=Rr(n);t.infoData_.updateSnapshot(r,i);const s=Mv(t.infoSyncTree_,r,i);Na(t.eventQueue_,r,s)}function cw(t){return t.nextWriteId_++}function Vhe(t,e,n){const r=xhe(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=Rr(i).withIndex(e._queryParams.getIndex());kA(t.serverSyncTree_,e,n,!0);let a;if(e._queryParams.loadsAllData())a=Mv(t.serverSyncTree_,e._path,s);else{const o=Oy(t.serverSyncTree_,e);a=Gz(t.serverSyncTree_,e._path,s,o)}return Na(t.eventQueue_,e._path,a),R_(t.serverSyncTree_,e,n,null,!0),s},i=>(Wm(t,"get for query "+gi(e)+" failed: "+i),Promise.reject(new Error(i))))}function $I(t,e,n,r,i){Wm(t,"set",{path:e.toString(),value:n,priority:r});const s=jv(t),a=Rr(n,r),o=rw(t.serverSyncTree_,e),l=LI(a,o,s),c=cw(t),u=RI(t.serverSyncTree_,e,l,c,!0);lw(t.eventQueue_,u),t.server_.put(e.toString(),a.val(!0),(h,p)=>{const v=h==="ok";v||ys("set at "+e+" failed: "+h);const g=gu(t.serverSyncTree_,c,!v);Na(t.eventQueue_,e,g),qu(t,i,h,p)});const f=HI(t,e);pm(t,f),Na(t.eventQueue_,f,[])}function Whe(t,e,n,r){Wm(t,"update",{path:e.toString(),value:n});let i=!0;const s=jv(t),a={};if(ji(n,(o,l)=>{i=!1,a[o]=Yz(Cr(e,o),Rr(l),t.serverSyncTree_,s)}),i)Mi("update() called with empty data.  Don't do anything."),qu(t,r,"ok",void 0);else{const o=cw(t),l=phe(t.serverSyncTree_,e,a,o);lw(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,u)=>{const f=c==="ok";f||ys("update at "+e+" failed: "+c);const h=gu(t.serverSyncTree_,o,!f),p=h.length>0?pm(t,e):e;Na(t.eventQueue_,p,h),qu(t,r,c,u)}),ji(n,c=>{const u=HI(t,Cr(e,c));pm(t,u)}),Na(t.eventQueue_,e,[])}}function qhe(t){Wm(t,"onDisconnectEvents");const e=jv(t),n=E_();CA(t.onDisconnect_,kn(),(i,s)=>{const a=Yz(i,s,t.serverSyncTree_,e);Bm(n,i,a)});let r=[];CA(n,kn(),(i,s)=>{r=r.concat(Mv(t.serverSyncTree_,i,s));const a=HI(t,i);pm(t,a)}),t.onDisconnect_=E_(),Na(t.eventQueue_,kn(),r)}function $he(t,e,n){t.server_.onDisconnectCancel(e.toString(),(r,i)=>{r==="ok"&&EA(t.onDisconnect_,e),qu(t,n,r,i)})}function i9(t,e,n,r){const i=Rr(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(s,a)=>{s==="ok"&&Bm(t.onDisconnect_,e,i),qu(t,r,s,a)})}function zhe(t,e,n,r,i){const s=Rr(n,r);t.server_.onDisconnectPut(e.toString(),s.val(!0),(a,o)=>{a==="ok"&&Bm(t.onDisconnect_,e,s),qu(t,i,a,o)})}function Hhe(t,e,n,r){if(K2(n)){Mi("onDisconnect().update() called with empty data.  Don't do anything."),qu(t,r,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,(i,s)=>{i==="ok"&&ji(n,(a,o)=>{const l=Rr(o);Bm(t.onDisconnect_,Cr(e,a),l)}),qu(t,r,i,s)})}function Ghe(t,e,n){let r;un(e._path)===".info"?r=kA(t.infoSyncTree_,e,n):r=kA(t.serverSyncTree_,e,n),rH(t.eventQueue_,e._path,r)}function PA(t,e,n){let r;un(e._path)===".info"?r=R_(t.infoSyncTree_,e,n):r=R_(t.serverSyncTree_,e,n),rH(t.eventQueue_,e._path,r)}function oH(t){t.persistentConnection_&&t.persistentConnection_.interrupt(sH)}function Khe(t){t.persistentConnection_&&t.persistentConnection_.resume(sH)}function Wm(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Mi(n,...e)}function qu(t,e,n,r){e&&jm(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const a=new Error(s);a.code=i,e(a)}})}function Xhe(t,e,n,r,i,s){Wm(t,"transaction on "+e);const a={path:e,update:n,onComplete:r,status:null,order:nz(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},o=zI(t,e,void 0);a.currentInputSnapshot=o;const l=a.update(o.val());if(l===void 0)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{Ov("transaction failed: Data returned ",l,a.path),a.status=0;const c=sw(t.transactionQueueTree_,e),u=Jf(c)||[];u.push(a),VI(c,u);let f;typeof l=="object"&&l!==null&&Da(l,".priority")?(f=pf(l,".priority"),vt(Ly(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(rw(t.serverSyncTree_,e)||Gt.EMPTY_NODE).getPriority().val();const h=jv(t),p=Rr(l,f),v=LI(p,o,h);a.currentOutputSnapshotRaw=p,a.currentOutputSnapshotResolved=v,a.currentWriteId=cw(t);const g=RI(t.serverSyncTree_,e,v,a.currentWriteId,a.applyLocally);Na(t.eventQueue_,e,g),uw(t,t.transactionQueueTree_)}}function zI(t,e,n){return rw(t.serverSyncTree_,e,n)||Gt.EMPTY_NODE}function uw(t,e=t.transactionQueueTree_){if(e||dw(t,e),Jf(e)){const n=cH(t,e);vt(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&Jhe(t,Uv(e),n)}else Qz(e)&&aw(e,n=>{uw(t,n)})}function Jhe(t,e,n){const r=n.map(c=>c.currentWriteId),i=zI(t,e,r);let s=i;const a=i.hash();for(let c=0;c<n.length;c++){const u=n[c];vt(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const f=Rs(e,u.path);s=s.updateChild(f,u.currentOutputSnapshotRaw)}const o=s.val(!0),l=e;t.server_.put(l.toString(),o,c=>{Wm(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const f=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(gu(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&f.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();dw(t,sw(t.transactionQueueTree_,e)),uw(t,t.transactionQueueTree_),Na(t.eventQueue_,e,u);for(let h=0;h<f.length;h++)jm(f[h])}else{if(c==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{ys("transaction at "+l.toString()+" failed: "+c);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=c}pm(t,e)}},a)}function pm(t,e){const n=lH(t,e),r=Uv(n),i=cH(t,n);return Yhe(t,i,r),r}function Yhe(t,e,n){if(e.length===0)return;const r=[];let i=[];const a=e.filter(o=>o.status===0).map(o=>o.currentWriteId);for(let o=0;o<e.length;o++){const l=e[o],c=Rs(n,l.path);let u=!1,f;if(vt(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,f=l.abortReason,i=i.concat(gu(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Ohe)u=!0,f="maxretry",i=i.concat(gu(t.serverSyncTree_,l.currentWriteId,!0));else{const h=zI(t,l.path,a);l.currentInputSnapshot=h;const p=e[o].update(h.val());if(p!==void 0){Ov("transaction failed: Data returned ",p,l.path);let v=Rr(p);typeof p=="object"&&p!=null&&Da(p,".priority")||(v=v.updatePriority(h.getPriority()));const y=l.currentWriteId,b=jv(t),_=LI(v,h,b);l.currentOutputSnapshotRaw=v,l.currentOutputSnapshotResolved=_,l.currentWriteId=cw(t),a.splice(a.indexOf(y),1),i=i.concat(RI(t.serverSyncTree_,l.path,_,l.currentWriteId,l.applyLocally)),i=i.concat(gu(t.serverSyncTree_,y,!0))}else u=!0,f="nodata",i=i.concat(gu(t.serverSyncTree_,l.currentWriteId,!0))}Na(t.eventQueue_,n,i),i=[],u&&(e[o].status=2,(function(h){setTimeout(h,Math.floor(0))})(e[o].unwatcher),e[o].onComplete&&(f==="nodata"?r.push(()=>e[o].onComplete(null,!1,e[o].currentInputSnapshot)):r.push(()=>e[o].onComplete(new Error(f),!1,null))))}dw(t,t.transactionQueueTree_);for(let o=0;o<r.length;o++)jm(r[o]);uw(t,t.transactionQueueTree_)}function lH(t,e){let n,r=t.transactionQueueTree_;for(n=un(e);n!==null&&Jf(r)===void 0;)r=sw(r,n),e=tr(e),n=un(e);return r}function cH(t,e){const n=[];return uH(t,e,n),n.sort((r,i)=>r.order-i.order),n}function uH(t,e,n){const r=Jf(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);aw(e,i=>{uH(t,i,n)})}function dw(t,e){const n=Jf(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,VI(e,n.length>0?n:void 0)}aw(e,r=>{dw(t,r)})}function HI(t,e){const n=Uv(lH(t,e)),r=sw(t.transactionQueueTree_,e);return Ahe(r,i=>{mC(t,i)}),mC(t,r),Zz(r,i=>{mC(t,i)}),n}function mC(t,e){const n=Jf(e);if(n){const r=[];let i=[],s=-1;for(let a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(vt(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):(vt(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(gu(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));s===-1?VI(e,void 0):n.length=s+1,Na(t.eventQueue_,Uv(e),i);for(let a=0;a<r.length;a++)jm(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qhe(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Zhe(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ys(`Invalid query segment '${n}' in query '${t}'`)}return e}const FA=function(t,e){const n=epe(t),r=n.namespace;n.domain==="firebase.com"&&Dl(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Dl("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||cde();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new gz(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new On(n.pathString)}},epe=function(t){let e="",n="",r="",i="",s="",a=!0,o="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(o=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(u,f)),u<f&&(i=Qhe(t.substring(u,f)));const h=Zhe(t.substring(Math.min(t.length,f)));c=e.indexOf(":"),c>=0?(a=o==="https"||o==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:a,scheme:o,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s9="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",tpe=(function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=s9.charAt(n%64),n=Math.floor(n/64);vt(n===0,"Cannot push at time == 0");let a=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)a+=s9.charAt(e[i]);return vt(a.length===20,"nextPushId: Length should be 20."),a}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dH{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+gi(this.snapshot.exportVal())}}class fH{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return vt(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let npe=class{constructor(e,n){this._repo=e,this._path=n}cancel(){const e=new Js;return $he(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Za("OnDisconnect.remove",this._path);const e=new Js;return i9(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Za("OnDisconnect.set",this._path),Al("OnDisconnect.set",e,this._path,!1);const n=new Js;return i9(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){Za("OnDisconnect.setWithPriority",this._path),Al("OnDisconnect.setWithPriority",e,this._path,!1),WI("OnDisconnect.setWithPriority",n);const r=new Js;return zhe(this._repo,this._path,e,n,r.wrapCallback(()=>{})),r.promise}update(e){Za("OnDisconnect.update",this._path),tH("OnDisconnect.update",e,this._path);const n=new Js;return Hhe(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return dn(this._path)?null:vI(this._path)}get ref(){return new lo(this._repo,this._path)}get _queryIdentifier(){const e=$F(this._queryParams),n=pI(e);return n==="{}"?"default":n}get _queryObject(){return $F(this._queryParams)}isEqual(e){if(e=Nt(e),!(e instanceof oa))return!1;const n=this._repo===e._repo,r=xI(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Hde(this._path)}}function fw(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function nd(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===wl){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==ju)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==gc)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===sr){if(e!=null&&!Ly(e)||n!=null&&!Ly(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(vt(t.getIndex()instanceof wI||t.getIndex()===TI,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function hw(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class lo extends oa{constructor(e,n){super(e,n,new Qb,!1)}get parent(){const e=Cz(this._path);return e===null?null:new lo(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}let pw=class MA{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new On(e),r=Nf(this.ref,e);return new MA(this._node.getChild(n),r,sr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new MA(i,Nf(this.ref,r),sr)))}hasChild(e){const n=new On(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function hH(t,e){return t=Nt(t),t._checkNotDeleted("ref"),e!==void 0?Nf(t._root,e):t._root}function a9(t,e){t=Nt(t),t._checkNotDeleted("refFromURL");const n=FA(e,t._repo.repoInfo_.nodeAdmin);nH("refFromURL",n);const r=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&r.host!==t._repo.repoInfo_.host&&Dl("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),hH(t,n.path.toString())}function Nf(t,e){return t=Nt(t),un(t._path)===null?Fhe("child","path",e):jy("child","path",e),new lo(t._repo,Cr(t._path,e))}function rpe(t,e){t=Nt(t),Za("push",t._path),Al("push",e,t._path,!0);const n=aH(t._repo),r=tpe(n),i=Nf(t,r),s=Nf(t,r);let a;return e!=null?a=KI(s,e).then(()=>s):a=Promise.resolve(s),i.then=a.then.bind(a),i.catch=a.then.bind(a,void 0),i}function ipe(t){return Za("remove",t._path),KI(t,null)}function KI(t,e){t=Nt(t),Za("set",t._path),Al("set",e,t._path,!1);const n=new Js;return $I(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function spe(t,e){t=Nt(t),Za("setPriority",t._path),WI("setPriority",e);const n=new Js;return $I(t._repo,Cr(t._path,".priority"),e,null,n.wrapCallback(()=>{})),n.promise}function ape(t,e,n){if(Za("setWithPriority",t._path),Al("setWithPriority",e,t._path,!1),WI("setWithPriority",n),t.key===".length"||t.key===".keys")throw"setWithPriority failed: "+t.key+" is a read-only object.";const r=new Js;return $I(t._repo,t._path,e,n,r.wrapCallback(()=>{})),r.promise}function ope(t,e){tH("update",e,t._path);const n=new Js;return Whe(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function lpe(t){t=Nt(t);const e=new GI(()=>{}),n=new Bv(e);return Vhe(t._repo,t,n).then(r=>new pw(r,new lo(t._repo,t._path),t._queryParams.getIndex()))}class Bv{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new dH("value",this,new pw(e.snapshotNode,new lo(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new fH(this,e,n):null}matches(e){return e instanceof Bv?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class mw{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new fH(this,e,n):null}createEvent(e,n){vt(e.childName!=null,"Child events should have a childName.");const r=Nf(new lo(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new dH(e.type,this,new pw(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof mw?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function Vv(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const l=n,c=(u,f)=>{PA(t._repo,t,o),l(u,f)};c.userCallback=n.userCallback,c.context=n.context,n=c}const a=new GI(n,s||void 0),o=e==="value"?new Bv(a):new mw(e,a);return Ghe(t._repo,t,o),()=>PA(t._repo,t,o)}function UA(t,e,n,r){return Vv(t,"value",e,n,r)}function o9(t,e,n,r){return Vv(t,"child_added",e,n,r)}function l9(t,e,n,r){return Vv(t,"child_changed",e,n,r)}function c9(t,e,n,r){return Vv(t,"child_moved",e,n,r)}function u9(t,e,n,r){return Vv(t,"child_removed",e,n,r)}function d9(t,e,n){let r=null;const i=n?new GI(n):null;e==="value"?r=new Bv(i):e&&(r=new mw(e,i)),PA(t._repo,t,r)}class qo{}class pH extends qo{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){Al("endAt",this._value,e._path,!0);const n=TA(e._queryParams,this._value,this._key);if(hw(n),nd(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new oa(e._repo,e._path,n,e._orderByCalled)}}function cpe(t,e){return Lv("endAt","key",e),new pH(t,e)}class upe extends qo{constructor(e,n){super(),this._value=e,this._key=n,this.type="endBefore"}_apply(e){Al("endBefore",this._value,e._path,!1);const n=vfe(e._queryParams,this._value,this._key);if(hw(n),nd(n),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new oa(e._repo,e._path,n,e._orderByCalled)}}function dpe(t,e){return Lv("endBefore","key",e),new upe(t,e)}class mH extends qo{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){Al("startAt",this._value,e._path,!0);const n=wA(e._queryParams,this._value,this._key);if(hw(n),nd(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new oa(e._repo,e._path,n,e._orderByCalled)}}function fpe(t=null,e){return Lv("startAt","key",e),new mH(t,e)}class hpe extends qo{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAfter"}_apply(e){Al("startAfter",this._value,e._path,!1);const n=yfe(e._queryParams,this._value,this._key);if(hw(n),nd(n),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new oa(e._repo,e._path,n,e._orderByCalled)}}function ppe(t,e){return Lv("startAfter","key",e),new hpe(t,e)}class mpe extends qo{constructor(e){super(),this._limit=e,this.type="limitToFirst"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new oa(e._repo,e._path,mfe(e._queryParams,this._limit),e._orderByCalled)}}function gpe(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new mpe(t)}class ype extends qo{constructor(e){super(),this._limit=e,this.type="limitToLast"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new oa(e._repo,e._path,gfe(e._queryParams,this._limit),e._orderByCalled)}}function vpe(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new ype(t)}class xpe extends qo{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){fw(e,"orderByChild");const n=new On(this._path);if(dn(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new wI(n),i=Zb(e._queryParams,r);return nd(i),new oa(e._repo,e._path,i,!0)}}function _pe(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return jy("orderByChild","path",t),new xpe(t)}class bpe extends qo{constructor(){super(...arguments),this.type="orderByKey"}_apply(e){fw(e,"orderByKey");const n=Zb(e._queryParams,wl);return nd(n),new oa(e._repo,e._path,n,!0)}}function wpe(){return new bpe}class Tpe extends qo{constructor(){super(...arguments),this.type="orderByPriority"}_apply(e){fw(e,"orderByPriority");const n=Zb(e._queryParams,sr);return nd(n),new oa(e._repo,e._path,n,!0)}}function Epe(){return new Tpe}class Cpe extends qo{constructor(){super(...arguments),this.type="orderByValue"}_apply(e){fw(e,"orderByValue");const n=Zb(e._queryParams,TI);return nd(n),new oa(e._repo,e._path,n,!0)}}function Spe(){return new Cpe}class Dpe extends qo{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if(Al("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new pH(this._value,this._key)._apply(new mH(this._value,this._key)._apply(e))}}function Ape(t,e){return Lv("equalTo","key",e),new Dpe(t,e)}function To(t,...e){let n=Nt(t);for(const r of e)n=r._apply(n);return n}ahe(lo);dhe(lo);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Npe="FIREBASE_DATABASE_EMULATOR_HOST",OA={};let Ipe=!1;function kpe(t,e,n,r){const i=e.lastIndexOf(":"),s=e.substring(0,i),a=Il(s);t.repoInfo_=new gz(e,a,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function gH(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Dl("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Mi("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let a=FA(s,i),o=a.repoInfo,l,c;typeof process<"u"&&SF&&(c=SF[Npe]),c?(l=!0,s=`http://${c}?ns=${o.namespace}`,a=FA(s,i),o=a.repoInfo):l=!a.repoInfo.secure;const u=i&&l?new Ip(Ip.OWNER):new _de(t.name,t.options,e);nH("Invalid Firebase Database URL",a),dn(a.path)||Dl("Database URL must point to the root of a Firebase Database (not including a child path).");const f=Ppe(o,t,u,new xde(t,n));return new Fpe(f,t)}function Rpe(t,e){const n=OA[e];(!n||n[t.key]!==t)&&Dl(`Database ${e}(${t.repoInfo_}) has already been deleted.`),oH(t),delete n[t.key]}function Ppe(t,e,n,r){let i=OA[e.name];i||(i={},OA[e.name]=i);let s=i[t.toURLString()];return s&&Dl("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Lhe(t,Ipe,n,r),i[t.toURLString()]=s,s}let Fpe=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(jhe(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new lo(this._repo,kn())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Rpe(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Dl("Cannot call "+e+" on a deleted database.")}};function yH(){um.IS_TRANSPORT_INITIALIZED&&ys("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Mpe(){yH(),mu.forceDisallow()}function Upe(){yH(),Ja.forceDisallow(),mu.forceAllow()}function Ope(t,e,n,r={}){t=Nt(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,s=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&dc(r,s.repoInfo_.emulatorOptions))return;Dl("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let a;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&Dl('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new Ip(Ip.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:IN(r.mockUserToken,t.app.options.projectId);a=new Ip(o)}Il(e)&&(db(e),fb("Database",!0)),kpe(s,i,r,a)}function Lpe(t){t=Nt(t),t._checkNotDeleted("goOffline"),oH(t._repo)}function jpe(t){t=Nt(t),t._checkNotDeleted("goOnline"),Khe(t._repo)}function Bpe(t,e){iz(t,e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vpe(t){ez(kl),Tl(new Os("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return gH(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Ps(DF,AF,t),Ps(DF,AF,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wpe={".sv":"timestamp"};function qpe(){return Wpe}function $pe(t){return{".sv":{increment:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zpe=class{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function Hpe(t,e,n){if(t=Nt(t),Za("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";const r=(n==null?void 0:n.applyLocally)??!0,i=new Js,s=(o,l,c)=>{let u=null;o?i.reject(o):(u=new pw(c,new lo(t._repo,t._path),sr),i.resolve(new zpe(l,u)))},a=UA(t,()=>{});return Xhe(t._repo,t._path,e,s,a,r),i.promise}rc.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};rc.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Vpe();const Gpe="@firebase/database-compat",Kpe="2.1.0";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xpe=new Dm("@firebase/database-compat"),vH=function(t){const e="FIREBASE WARNING: "+t;Xpe.warn(e)};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jpe=function(t,e,n,r){if(n!==void 0&&typeof n!="boolean")throw new Error(ta(t,e)+"must be a boolean.")},Ype=function(t,e,n){if(e!==void 0)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(ta(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qpe{constructor(e){this._delegate=e}cancel(e){Kt("OnDisconnect.cancel",0,1,arguments.length),Ri("OnDisconnect.cancel","onComplete",e,!0);const n=this._delegate.cancel();return e&&n.then(()=>e(null),r=>e(r)),n}remove(e){Kt("OnDisconnect.remove",0,1,arguments.length),Ri("OnDisconnect.remove","onComplete",e,!0);const n=this._delegate.remove();return e&&n.then(()=>e(null),r=>e(r)),n}set(e,n){Kt("OnDisconnect.set",1,2,arguments.length),Ri("OnDisconnect.set","onComplete",n,!0);const r=this._delegate.set(e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){Kt("OnDisconnect.setWithPriority",2,3,arguments.length),Ri("OnDisconnect.setWithPriority","onComplete",r,!0);const i=this._delegate.setWithPriority(e,n);return r&&i.then(()=>r(null),s=>r(s)),i}update(e,n){if(Kt("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,vH("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ri("OnDisconnect.update","onComplete",n,!0);const r=this._delegate.update(e);return n&&r.then(()=>n(null),i=>n(i)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zpe{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return Kt("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,n){this._database=e,this._delegate=n}val(){return Kt("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return Kt("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return Kt("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return Kt("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return Kt("DataSnapshot.child",0,1,arguments.length),e=String(e),jy("DataSnapshot.child","path",e),new Au(this._database,this._delegate.child(e))}hasChild(e){return Kt("DataSnapshot.hasChild",1,1,arguments.length),jy("DataSnapshot.hasChild","path",e),this._delegate.hasChild(e)}getPriority(){return Kt("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return Kt("DataSnapshot.forEach",1,1,arguments.length),Ri("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(n=>e(new Au(this._database,n)))}hasChildren(){return Kt("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return Kt("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return Kt("DataSnapshot.ref",0,0,arguments.length),new Qd(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Hi{constructor(e,n){this.database=e,this._delegate=n}on(e,n,r,i){var l;Kt("Query.on",2,4,arguments.length),Ri("Query.on","callback",n,!1);const s=Hi.getCancelAndContextArgs_("Query.on",r,i),a=(c,u)=>{n.call(s.context,new Au(this.database,c),u)};a.userCallback=n,a.context=s.context;const o=(l=s.cancel)==null?void 0:l.bind(s.context);switch(e){case"value":return UA(this._delegate,a,o),n;case"child_added":return o9(this._delegate,a,o),n;case"child_removed":return u9(this._delegate,a,o),n;case"child_changed":return l9(this._delegate,a,o),n;case"child_moved":return c9(this._delegate,a,o),n;default:throw new Error(ta("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,n,r){if(Kt("Query.off",0,3,arguments.length),Ype("Query.off",e),Ri("Query.off","callback",n,!0),_8("Query.off","context",r),n){const i=()=>{};i.userCallback=n,i.context=r,d9(this._delegate,e,i)}else d9(this._delegate,e)}get(){return lpe(this._delegate).then(e=>new Au(this.database,e))}once(e,n,r,i){Kt("Query.once",1,4,arguments.length),Ri("Query.once","callback",n,!0);const s=Hi.getCancelAndContextArgs_("Query.once",r,i),a=new Js,o=(c,u)=>{const f=new Au(this.database,c);n&&n.call(s.context,f,u),a.resolve(f)};o.userCallback=n,o.context=s.context;const l=c=>{s.cancel&&s.cancel.call(s.context,c),a.reject(c)};switch(e){case"value":UA(this._delegate,o,l,{onlyOnce:!0});break;case"child_added":o9(this._delegate,o,l,{onlyOnce:!0});break;case"child_removed":u9(this._delegate,o,l,{onlyOnce:!0});break;case"child_changed":l9(this._delegate,o,l,{onlyOnce:!0});break;case"child_moved":c9(this._delegate,o,l,{onlyOnce:!0});break;default:throw new Error(ta("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return a.promise}limitToFirst(e){return Kt("Query.limitToFirst",1,1,arguments.length),new Hi(this.database,To(this._delegate,gpe(e)))}limitToLast(e){return Kt("Query.limitToLast",1,1,arguments.length),new Hi(this.database,To(this._delegate,vpe(e)))}orderByChild(e){return Kt("Query.orderByChild",1,1,arguments.length),new Hi(this.database,To(this._delegate,_pe(e)))}orderByKey(){return Kt("Query.orderByKey",0,0,arguments.length),new Hi(this.database,To(this._delegate,wpe()))}orderByPriority(){return Kt("Query.orderByPriority",0,0,arguments.length),new Hi(this.database,To(this._delegate,Epe()))}orderByValue(){return Kt("Query.orderByValue",0,0,arguments.length),new Hi(this.database,To(this._delegate,Spe()))}startAt(e=null,n){return Kt("Query.startAt",0,2,arguments.length),new Hi(this.database,To(this._delegate,fpe(e,n)))}startAfter(e=null,n){return Kt("Query.startAfter",0,2,arguments.length),new Hi(this.database,To(this._delegate,ppe(e,n)))}endAt(e=null,n){return Kt("Query.endAt",0,2,arguments.length),new Hi(this.database,To(this._delegate,cpe(e,n)))}endBefore(e=null,n){return Kt("Query.endBefore",0,2,arguments.length),new Hi(this.database,To(this._delegate,dpe(e,n)))}equalTo(e,n){return Kt("Query.equalTo",1,2,arguments.length),new Hi(this.database,To(this._delegate,Ape(e,n)))}toString(){return Kt("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return Kt("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(Kt("Query.isEqual",1,1,arguments.length),!(e instanceof Hi)){const n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,n,r){const i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,Ri(e,"cancel",i.cancel,!0),i.context=r,_8(e,"context",i.context);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(ta(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return i}get ref(){return new Qd(this.database,new lo(this._delegate._repo,this._delegate._path))}}let Qd=class dp extends Hi{constructor(e,n){super(e,new oa(n._repo,n._path,new Qb,!1)),this.database=e,this._delegate=n}getKey(){return Kt("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return Kt("Reference.child",1,1,arguments.length),typeof e=="number"&&(e=String(e)),new dp(this.database,Nf(this._delegate,e))}getParent(){Kt("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new dp(this.database,e):null}getRoot(){return Kt("Reference.root",0,0,arguments.length),new dp(this.database,this._delegate.root)}set(e,n){Kt("Reference.set",1,2,arguments.length),Ri("Reference.set","onComplete",n,!0);const r=KI(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}update(e,n){if(Kt("Reference.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,vH("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Za("Reference.update",this._delegate._path),Ri("Reference.update","onComplete",n,!0);const r=ope(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){Kt("Reference.setWithPriority",2,3,arguments.length),Ri("Reference.setWithPriority","onComplete",r,!0);const i=ape(this._delegate,e,n);return r&&i.then(()=>r(null),s=>r(s)),i}remove(e){Kt("Reference.remove",0,1,arguments.length),Ri("Reference.remove","onComplete",e,!0);const n=ipe(this._delegate);return e&&n.then(()=>e(null),r=>e(r)),n}transaction(e,n,r){Kt("Reference.transaction",1,3,arguments.length),Ri("Reference.transaction","transactionUpdate",e,!1),Ri("Reference.transaction","onComplete",n,!0),Jpe("Reference.transaction","applyLocally",r);const i=Hpe(this._delegate,e,{applyLocally:r}).then(s=>new Zpe(s.committed,new Au(this.database,s.snapshot)));return n&&i.then(s=>n(null,s.committed,s.snapshot),s=>n(s,!1,null)),i}setPriority(e,n){Kt("Reference.setPriority",1,2,arguments.length),Ri("Reference.setPriority","onComplete",n,!0);const r=spe(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}push(e,n){Kt("Reference.push",0,2,arguments.length),Ri("Reference.push","onComplete",n,!0);const r=rpe(this._delegate,e),i=r.then(a=>new dp(this.database,a));n&&i.then(()=>n(null),a=>n(a));const s=new dp(this.database,r);return s.then=i.then.bind(i),s.catch=i.catch.bind(i,void 0),s}onDisconnect(){return Za("Reference.onDisconnect",this._delegate._path),new Qpe(new npe(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e,n){this._delegate=e,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Mpe,forceLongPolling:Upe}}useEmulator(e,n,r={}){Ope(this._delegate,e,n,r)}ref(e){if(Kt("database.ref",0,1,arguments.length),e instanceof Qd){const n=a9(this._delegate,e.toString());return new Qd(this,n)}else{const n=hH(this._delegate,e);return new Qd(this,n)}}refFromURL(e){Kt("database.refFromURL",1,1,arguments.length);const r=a9(this._delegate,e);return new Qd(this,r)}goOffline(){return Kt("database.goOffline",0,0,arguments.length),Lpe(this._delegate)}goOnline(){return Kt("database.goOnline",0,0,arguments.length),jpe(this._delegate)}}By.ServerValue={TIMESTAMP:qpe(),increment:t=>$pe(t)};function eme({app:t,url:e,version:n,customAuthImpl:r,customAppCheckImpl:i,namespace:s,nodeAdmin:a=!1}){ez(n);const o=new RN("database-standalone"),l=new A4("auth-internal",o);l.setComponent(new Os("auth-internal",()=>r,"PRIVATE"));let c;return i&&(c=new A4("app-check-internal",o),c.setComponent(new Os("app-check-internal",()=>i,"PRIVATE"))),{instance:new By(gH(t,l,c,e,a),t),namespace:s}}var tme=Object.freeze({__proto__:null,initStandalone:eme});/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nme=By.ServerValue;function rme(t){t.INTERNAL.registerComponent(new Os("database-compat",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new By(i,r)},"PUBLIC").setServiceProps({Reference:Qd,Query:Hi,Database:By,DataSnapshot:Au,enableLogging:Bpe,INTERNAL:tme,ServerValue:nme}).setMultipleInstances(!0)),t.registerVersion(Gpe,Kpe)}rme(Vr);const ime={apiKey:"AIzaSyDocJGqJzx5N4AmpyPzObYQ8azLy790K9s",authDomain:"gitut-docx.firebaseapp.com",databaseURL:"https://gitut-docx-default-rtdb.europe-west1.firebasedatabase.app/",projectId:"gitut-docx",storageBucket:"gitut-docx.firebasestorage.app",messagingSenderId:"110741096033",appId:"1:110741096033:web:ae402f349829c4209e4c20"};Vr.apps.length||Vr.initializeApp(ime);const jr=Vr.auth(),mm=Vr.firestore();Vr.database();const ei={profilePicture:{id:"profilePicture",label:"formFields.profilePicture",type:"file",placeholder:"formFields.placeholders.profilePicture"},fullName:{id:"fullName",label:"formFields.fullName",type:"text",placeholder:"formFields.placeholders.fullName"},firstName:{id:"firstName",label:"formFields.firstName",type:"text",placeholder:"formFields.placeholders.firstName"},lastName:{id:"lastName",label:"formFields.lastName",type:"text",placeholder:"formFields.placeholders.lastName"},firstNameFr:{id:"firstNameFr",label:"formFields.firstNameFr",type:"text",placeholder:"formFields.placeholders.firstNameFr"},lastNameFr:{id:"lastNameFr",label:"formFields.lastNameFr",type:"text",placeholder:"formFields.placeholders.lastNameFr"},birthdaydate:{id:"birthdaydate",label:"formFields.birthdaydate",type:"date",placeholder:""},birthdayplace:{id:"birthdayplace",label:"formFields.birthdayplace",type:"text",placeholder:"formFields.placeholders.birthdayplace"},address:{id:"address",label:"formFields.address",type:"text",placeholder:"formFields.placeholders.address"},phone:{id:"phone",label:"formFields.phone",type:"tel",placeholder:"formFields.placeholders.phone"},email:{id:"email",label:"formFields.email",type:"email",placeholder:"formFields.placeholders.email"},jobTitle:{id:"jobTitle",label:"formFields.jobTitle",type:"text",placeholder:"formFields.placeholders.jobTitle"},nationalId:{id:"nationalId",label:"formFields.nationalId",type:"text",placeholder:"formFields.placeholders.nationalId"},birthCertificateNumber:{id:"birthCertificateNumber",label:"formFields.birthCertificateNumber",type:"text",placeholder:"formFields.placeholders.birthCertificateNumber"},socialSecurityNumber:{id:"socialSecurityNumber",label:"formFields.socialSecurityNumber",type:"text",placeholder:"formFields.placeholders.socialSecurityNumber"},nationality:{id:"nationality",label:"formFields.nationality",type:"text",placeholder:"formFields.placeholders.nationality"},maritalStatus:{id:"maritalStatus",label:"formFields.maritalStatus",type:"select",placeholder:"formFields.placeholders.maritalStatus",options:[{value:"married",label:"formFields.maritalStatusOptions.married"},{value:"single",label:"formFields.maritalStatusOptions.single"},{value:"divorced",label:"formFields.maritalStatusOptions.divorced"}]},motherFirstName:{id:"motherFirstName",label:"formFields.motherFirstName",type:"text",placeholder:"formFields.placeholders.motherFirstName"},motherLastName:{id:"motherLastName",label:"formFields.motherLastName",type:"text",placeholder:"formFields.placeholders.motherLastName"},motherDob:{id:"motherDob",label:"formFields.motherDob",type:"date",placeholder:""},motherPob:{id:"motherPob",label:"formFields.motherPob",type:"text",placeholder:"formFields.placeholders.motherPob"},fatherFirstName:{id:"fatherFirstName",label:"formFields.fatherFirstName",type:"text",placeholder:"formFields.placeholders.fatherFirstName"},fatherLastName:{id:"fatherLastName",label:"formFields.fatherLastName",type:"text",placeholder:"formFields.placeholders.fatherLastName"},fatherDob:{id:"fatherDob",label:"formFields.fatherDob",type:"date",placeholder:""},fatherPob:{id:"fatherPob",label:"formFields.fatherPob",type:"text",placeholder:"formFields.placeholders.fatherPob"},residenceWilaya:{id:"residenceWilaya",label:"formFields.residenceWilaya",type:"text",placeholder:"formFields.placeholders.residenceWilaya"},residenceDaira:{id:"residenceDaira",label:"formFields.residenceDaira",type:"text",placeholder:"formFields.placeholders.residenceDaira"},residenceCommune:{id:"residenceCommune",label:"formFields.residenceCommune",type:"text",placeholder:"formFields.placeholders.residenceCommune"},residenceStreet:{id:"residenceStreet",label:"formFields.residenceStreet",type:"text",placeholder:"formFields.placeholders.residenceStreet"},birthWilaya:{id:"birthWilaya",label:"formFields.birthWilaya",type:"text",placeholder:"formFields.placeholders.birthWilaya"},birthDaira:{id:"birthDaira",label:"formFields.birthDaira",type:"text",placeholder:"formFields.placeholders.birthDaira"},birthCommune:{id:"birthCommune",label:"formFields.birthCommune",type:"text",placeholder:"formFields.placeholders.birthCommune"},bloodType:{id:"bloodType",label:"formFields.bloodType",type:"text",placeholder:"formFields.placeholders.bloodType"},DateToday:{id:"DateToday",label:"formFields.dateToday",type:"text",placeholder:""},gender:{id:"gender",label:"formFields.gender",type:"select",placeholder:"formFields.placeholders.gender",options:[{value:"male",label:"formFields.genderOptions.male"},{value:"female",label:"formFields.genderOptions.female"}]},height:{id:"height",label:"formFields.height",type:"number",placeholder:"formFields.placeholders.height"},eyeColor:{id:"eyeColor",label:"formFields.eyeColor",type:"text",placeholder:"formFields.placeholders.eyeColor"},distinguishingMarks:{id:"distinguishingMarks",label:"formFields.distinguishingMarks",type:"text",placeholder:"formFields.placeholders.distinguishingMarks"},employerName:{id:"employerName",label:"formFields.employerName",type:"text",placeholder:"formFields.placeholders.employerName"},employerAddress:{id:"employerAddress",label:"formFields.employerAddress",type:"text",placeholder:"formFields.placeholders.employerAddress"},educationLevel:{id:"educationLevel",label:"formFields.educationLevel",type:"select",placeholder:"formFields.placeholders.educationLevel",options:[{value:"primary",label:"formFields.educationLevelOptions.primary"},{value:"middle",label:"formFields.educationLevelOptions.middle"},{value:"high",label:"formFields.educationLevelOptions.high"},{value:"university",label:"formFields.educationLevelOptions.university"},{value:"postgraduate",label:"formFields.educationLevelOptions.postgraduate"}]},universityName:{id:"universityName",label:"formFields.universityName",type:"text",placeholder:"formFields.placeholders.universityName"},graduationDate:{id:"graduationDate",label:"formFields.graduationDate",type:"date",placeholder:""},fieldOfStudy:{id:"fieldOfStudy",label:"formFields.fieldOfStudy",type:"text",placeholder:"formFields.placeholders.fieldOfStudy"},higherInstituteName:{id:"higherInstituteName",label:"formFields.higherInstituteName",type:"text",placeholder:"formFields.placeholders.higherInstituteName"},vocationalTrainingCenterName:{id:"vocationalTrainingCenterName",label:"formFields.vocationalTrainingCenterName",type:"text",placeholder:"formFields.placeholders.vocationalTrainingCenterName"},schoolName:{id:"schoolName",label:"formFields.schoolName",type:"text",placeholder:"formFields.placeholders.schoolName"},highSchoolName:{id:"highSchoolName",label:"formFields.highSchoolName",type:"text",placeholder:"formFields.placeholders.highSchoolName"},middleSchoolName:{id:"middleSchoolName",label:"formFields.middleSchoolName",type:"text",placeholder:"formFields.placeholders.middleSchoolName"},universityCity:{id:"universityCity",label:"formFields.universityCity",type:"text",placeholder:"formFields.placeholders.universityCity"},passportNumber:{id:"passportNumber",label:"formFields.passportNumber",type:"text",placeholder:"formFields.placeholders.passportNumber"},passportIssueDate:{id:"passportIssueDate",label:"formFields.passportIssueDate",type:"date",placeholder:""},passportExpiryDate:{id:"passportExpiryDate",label:"formFields.passportExpiryDate",type:"date",placeholder:""},passportIssuePlace:{id:"passportIssuePlace",label:"formFields.passportIssuePlace",type:"text",placeholder:"formFields.placeholders.passportIssuePlace"},drivingLicenseNumber:{id:"drivingLicenseNumber",label:"formFields.drivingLicenseNumber",type:"text",placeholder:"formFields.placeholders.drivingLicenseNumber"},drivingLicenseCategory:{id:"drivingLicenseCategory",label:"formFields.drivingLicenseCategory",type:"text",placeholder:"formFields.placeholders.drivingLicenseCategory"},drivingLicenseIssueDate:{id:"drivingLicenseIssueDate",label:"formFields.drivingLicenseIssueDate",type:"date",placeholder:""},numberOfChildren:{id:"numberOfChildren",label:"formFields.numberOfChildren",type:"number",placeholder:"formFields.placeholders.numberOfChildren"},numberOfSons:{id:"numberOfSons",label:"formFields.numberOfSons",type:"number",placeholder:"formFields.placeholders.numberOfSons"},numberOfDaughters:{id:"numberOfDaughters",label:"formFields.numberOfDaughters",type:"number",placeholder:"formFields.placeholders.numberOfDaughters"},numberOfSiblings:{id:"numberOfSiblings",label:"formFields.numberOfSiblings",type:"number",placeholder:"formFields.placeholders.numberOfSiblings"},numberOfBrothers:{id:"numberOfBrothers",label:"formFields.numberOfBrothers",type:"number",placeholder:"formFields.placeholders.numberOfBrothers"},numberOfSisters:{id:"numberOfSisters",label:"formFields.numberOfSisters",type:"number",placeholder:"formFields.placeholders.numberOfSisters"},spouseFullName:{id:"spouseFullName",label:"formFields.spouseFullName",type:"text",placeholder:"formFields.placeholders.spouseFullName"},spouseDob:{id:"spouseDob",label:"formFields.spouseDob",type:"date",placeholder:""},spouseJob:{id:"spouseJob",label:"formFields.spouseJob",type:"text",placeholder:"formFields.placeholders.spouseJob"},militaryStatus:{id:"militaryStatus",label:"formFields.militaryStatus",type:"text",placeholder:"formFields.placeholders.militaryStatus"},ToTheGovernorOftheStateOf:{id:"ToTheGovernorOftheStateOf",label:"formFields.ToTheGovernorOftheStateOf",type:"text",placeholder:"formFields.placeholders.ToTheGovernorOftheStateOf"},submissionDaira:{id:"submissionDaira",label:"formFields.submissionDaira",type:"text",placeholder:"formFields.placeholders.submissionDaira"},ToTheMayorOf:{id:"ToTheMayorOf",label:"formFields.ToTheMayorOf",type:"text",placeholder:"formFields.placeholders.ToTheMayorOf"},employerWilaya:{id:"employerWilaya",label:"formFields.employerWilaya",type:"text",placeholder:"formFields.placeholders.employerWilaya"},employerDaira:{id:"employerDaira",label:"formFields.employerDaira",type:"text",placeholder:"formFields.placeholders.employerDaira"},employerCommune:{id:"employerCommune",label:"formFields.employerCommune",type:"text",placeholder:"formFields.placeholders.employerCommune"},criminalRecordNumber:{id:"criminalRecordNumber",label:"formFields.criminalRecordNumber",type:"text",placeholder:"formFields.placeholders.criminalRecordNumber"},criminalRecordIssueDate:{id:"criminalRecordIssueDate",label:"formFields.criminalRecordIssueDate",type:"date",placeholder:""},criminalRecordIssuePlace:{id:"criminalRecordIssuePlace",label:"formFields.criminalRecordIssuePlace",type:"text",placeholder:"formFields.placeholders.criminalRecordIssuePlace"},commercialRegistryNumber:{id:"commercialRegistryNumber",label:"formFields.commercialRegistryNumber",type:"text",placeholder:"formFields.placeholders.commercialRegistryNumber"},taxIdNumber:{id:"taxIdNumber",label:"formFields.taxIdNumber",type:"text",placeholder:"formFields.placeholders.taxIdNumber"},casnosNumber:{id:"casnosNumber",label:"formFields.casnosNumber",type:"text",placeholder:"formFields.placeholders.casnosNumber"},vehicleRegistrationCardNumber:{id:"vehicleRegistrationCardNumber",label:"formFields.vehicleRegistrationCardNumber",type:"text",placeholder:"formFields.placeholders.vehicleRegistrationCardNumber"},vehicleType:{id:"vehicleType",label:"formFields.vehicleType",type:"text",placeholder:"formFields.placeholders.vehicleType"},vehicleBrand:{id:"vehicleBrand",label:"formFields.vehicleBrand",type:"text",placeholder:"formFields.placeholders.vehicleBrand"},vehicleModel:{id:"vehicleModel",label:"formFields.vehicleModel",type:"text",placeholder:"formFields.placeholders.vehicleModel"},vehicleFirstRegistrationDate:{id:"vehicleFirstRegistrationDate",label:"formFields.vehicleFirstRegistrationDate",type:"date",placeholder:""},bankName:{id:"bankName",label:"formFields.bankName",type:"text",placeholder:"formFields.placeholders.bankName"},bankAccountNumber:{id:"bankAccountNumber",label:"formFields.bankAccountNumber",type:"text",placeholder:"formFields.placeholders.bankAccountNumber"},bankAgencyName:{id:"bankAgencyName",label:"formFields.bankAgencyName",type:"text",placeholder:"formFields.placeholders.bankAgencyName"},bankAgencyCode:{id:"bankAgencyCode",label:"formFields.bankAgencyCode",type:"text",placeholder:"formFields.placeholders.bankAgencyCode"},bankNameTo:{id:"bankNameTo",label:"formFields.bankNameTo",type:"text",placeholder:"formFields.placeholders.bankNameTo"},bankWilayaTo:{id:"bankWilayaTo",label:"formFields.bankWilayaTo",type:"text",placeholder:"formFields.placeholders.bankWilayaTo"},bankCountryTo:{id:"bankCountryTo",label:"formFields.bankCountryTo",type:"text",placeholder:"formFields.placeholders.bankCountryTo"},bankStreetTo:{id:"bankStreetTo",label:"formFields.bankStreetTo",type:"text",placeholder:"formFields.placeholders.bankStreetTo"},bankNameFrom:{id:"bankNameFrom",label:"formFields.bankNameFrom",type:"text",placeholder:"formFields.placeholders.bankNameFrom"},bankWilayaFrom:{id:"bankWilayaFrom",label:"formFields.bankWilayaFrom",type:"text",placeholder:"formFields.placeholders.bankWilayaFrom"},bankCountryFrom:{id:"bankCountryFrom",label:"formFields.bankCountryFrom",type:"text",placeholder:"formFields.placeholders.bankCountryFrom"},bankStreetFrom:{id:"bankStreetFrom",label:"formFields.bankStreetFrom",type:"text",placeholder:"formFields.placeholders.bankStreetFrom"},amountReceived:{id:"amountReceived",label:"formFields.amountReceived",type:"number",placeholder:"formFields.placeholders.amountReceived"},amountSent:{id:"amountSent",label:"formFields.amountSent",type:"number",placeholder:"formFields.placeholders.amountSent"},employmentContractType:{id:"employmentContractType",label:"formFields.employmentContractType",type:"text",placeholder:"formFields.placeholders.employmentContractType"},employmentStartDate:{id:"employmentStartDate",label:"formFields.employmentStartDate",type:"date",placeholder:""},employeeIdNumber:{id:"employeeIdNumber",label:"formFields.employeeIdNumber",type:"text",placeholder:"formFields.placeholders.employeeIdNumber"},professionalGrade:{id:"professionalGrade",label:"formFields.professionalGrade",type:"text",placeholder:"formFields.placeholders.professionalGrade"},nationalIdIssueDate:{id:"nationalIdIssueDate",label:"formFields.nationalIdIssueDate",type:"date",placeholder:""},nationalIdExpiryDate:{id:"nationalIdExpiryDate",label:"formFields.nationalIdExpiryDate",type:"date",placeholder:""},drivingLicenseExpiryDate:{id:"drivingLicenseExpiryDate",label:"formFields.drivingLicenseExpiryDate",type:"date",placeholder:""},familyBookNumber:{id:"familyBookNumber",label:"formFields.familyBookNumber",type:"text",placeholder:"formFields.placeholders.familyBookNumber"},marriageDate:{id:"marriageDate",label:"formFields.marriageDate",type:"date",placeholder:""},marriagePlace:{id:"marriagePlace",label:"formFields.marriagePlace",type:"text",placeholder:"formFields.placeholders.marriagePlace"},rentalContractNumber:{id:"rentalContractNumber",label:"formFields.rentalContractNumber",type:"text",placeholder:"formFields.placeholders.rentalContractNumber"},landlordName:{id:"landlordName",label:"formFields.landlordName",type:"text",placeholder:"formFields.placeholders.landlordName"},propertyAddress:{id:"propertyAddress",label:"formFields.propertyAddress",type:"text",placeholder:"formFields.placeholders.propertyAddress"},attendingPhysicianName:{id:"attendingPhysicianName",label:"formFields.attendingPhysicianName",type:"text",placeholder:"formFields.placeholders.attendingPhysicianName"},disabilityType:{id:"disabilityType",label:"formFields.disabilityType",type:"text",placeholder:"formFields.placeholders.disabilityType"},disabilityPercentage:{id:"disabilityPercentage",label:"formFields.disabilityPercentage",type:"number",placeholder:"formFields.placeholders.disabilityPercentage"},deceasedParentFullName:{id:"deceasedParentFullName",label:"formFields.deceasedParentFullName",type:"text",placeholder:"formFields.placeholders.deceasedParentFullName"},deceasedParentDod:{id:"deceasedParentDod",label:"formFields.deceasedParentDod",type:"date",placeholder:""},deceasedParentPod:{id:"deceasedParentPod",label:"formFields.deceasedParentPod",type:"text",placeholder:"formFields.placeholders.deceasedParentPod"},deathCertificateNumber:{id:"deathCertificateNumber",label:"formFields.deathCertificateNumber",type:"text",placeholder:"formFields.placeholders.deathCertificateNumber"},survivingParentFullName:{id:"survivingParentFullName",label:"formFields.survivingParentFullName",type:"text",placeholder:"formFields.placeholders.survivingParentFullName"},survivingParentJobTitle:{id:"survivingParentJobTitle",label:"formFields.survivingParentJobTitle",type:"text",placeholder:"formFields.placeholders.survivingParentJobTitle"},hospitalName:{id:"hospitalName",label:"formFields.hospitalName",type:"text",placeholder:"formFields.placeholders.hospitalName"},motherFullName:{id:"motherFullName",label:"formFields.motherFullName",type:"text",placeholder:"formFields.placeholders.motherFullName"},fatherFullName:{id:"fatherFullName",label:"formFields.fatherFullName",type:"text",placeholder:"formFields.placeholders.fatherFullName"},spousePob:{id:"spousePob",label:"formFields.spousePob",type:"text",placeholder:"formFields.placeholders.spousePob"},sonName:{id:"sonName",label:"formFields.sonName",type:"text",placeholder:"formFields.placeholders.sonName"},sonDob:{id:"sonDob",label:"formFields.sonDob",type:"date",placeholder:""},sonPob:{id:"sonPob",label:"formFields.sonPob",type:"text",placeholder:"formFields.placeholders.sonPob"},daughterName:{id:"daughterName",label:"formFields.daughterName",type:"text",placeholder:"formFields.placeholders.daughterName"},daughterDob:{id:"daughterDob",label:"formFields.daughterDob",type:"date",placeholder:""},daughterPob:{id:"daughterPob",label:"formFields.daughterPob",type:"text",placeholder:"formFields.placeholders.daughterPob"},paternalGrandfatherName:{id:"paternalGrandfatherName",label:"formFields.paternalGrandfatherName",type:"text",placeholder:"formFields.placeholders.paternalGrandfatherName"},paternalGrandfatherDob:{id:"paternalGrandfatherDob",label:"formFields.paternalGrandfatherDob",type:"date",placeholder:""},paternalGrandfatherPob:{id:"paternalGrandfatherPob",label:"formFields.paternalGrandfatherPob",type:"text",placeholder:"formFields.placeholders.paternalGrandfatherPob"},paternalGrandmotherName:{id:"paternalGrandmotherName",label:"formFields.paternalGrandmotherName",type:"text",placeholder:"formFields.placeholders.paternalGrandmotherName"},paternalGrandmotherDob:{id:"paternalGrandmotherDob",label:"formFields.paternalGrandmotherDob",type:"date",placeholder:""},paternalGrandmotherPob:{id:"paternalGrandmotherPob",label:"formFields.paternalGrandmotherPob",type:"text",placeholder:"formFields.placeholders.paternalGrandmotherPob"},maternalGrandfatherName:{id:"maternalGrandfatherName",label:"formFields.maternalGrandfatherName",type:"text",placeholder:"formFields.placeholders.maternalGrandfatherName"},maternalGrandfatherDob:{id:"maternalGrandfatherDob",label:"formFields.maternalGrandfatherDob",type:"date",placeholder:""},maternalGrandfatherPob:{id:"maternalGrandfatherPob",label:"formFields.maternalGrandfatherPob",type:"text",placeholder:"formFields.placeholders.maternalGrandfatherPob"},maternalGrandmotherName:{id:"maternalGrandmotherName",label:"formFields.maternalGrandmotherName",type:"text",placeholder:"formFields.placeholders.maternalGrandmotherName"},maternalGrandmotherDob:{id:"maternalGrandmotherDob",label:"formFields.maternalGrandmotherDob",type:"date",placeholder:""},maternalGrandmotherPob:{id:"maternalGrandmotherPob",label:"formFields.maternalGrandmotherPob",type:"text",placeholder:"formFields.placeholders.maternalGrandmotherPob"},currentTime:{id:"currentTime",label:"formFields.currentTime",type:"text",placeholder:""},currentYear:{id:"currentYear",label:"formFields.currentYear",type:"text",placeholder:""},documentName:{id:"documentName",label:"formFields.documentName",type:"text",placeholder:""},age:{id:"age",label:"formFields.age",type:"text",placeholder:""},fullDateLongAr:{id:"fullDateLongAr",label:"formFields.fullDateLongAr",type:"text",placeholder:""},hijriDate:{id:"hijriDate",label:"formFields.hijriDate",type:"text",placeholder:""},motherAge:{id:"motherAge",label:"formFields.motherAge",type:"text",placeholder:""},fatherAge:{id:"fatherAge",label:"formFields.fatherAge",type:"text",placeholder:""},spouseAge:{id:"spouseAge",label:"formFields.spouseAge",type:"text",placeholder:""},sonAge:{id:"sonAge",label:"formFields.sonAge",type:"text",placeholder:""},daughterAge:{id:"daughterAge",label:"formFields.daughterAge",type:"text",placeholder:""},paternalGrandfatherAge:{id:"paternalGrandfatherAge",label:"formFields.paternalGrandfatherAge",type:"text",placeholder:""},paternalGrandmotherAge:{id:"paternalGrandmotherAge",label:"formFields.paternalGrandmotherAge",type:"text",placeholder:""},maternalGrandfatherAge:{id:"maternalGrandfatherAge",label:"formFields.maternalGrandfatherAge",type:"text",placeholder:""},maternalGrandmotherAge:{id:"maternalGrandmotherAge",label:"formFields.maternalGrandmotherAge",type:"text",placeholder:""}},x2={profilePicture:" ",fullName:"  ",firstName:"",lastName:"",firstNameFr:" ",lastNameFr:" ",birthdaydate:" ",birthdayplace:" ",address:"",residenceWilaya:" ",residenceCommune:" ",residenceDaira:" ",residenceStreet:" ",birthWilaya:" ",birthCommune:" ",birthDaira:" ",phone:" ",email:" ",jobTitle:"",nationalId:"   ",birthCertificateNumber:"  ",socialSecurityNumber:"  ",nationality:"",maritalStatus:" ",motherFirstName:" ",motherLastName:" ",motherDob:"  ",motherPob:"  ",fatherFirstName:" ",fatherLastName:" ",fatherDob:"  ",fatherPob:"  ",bloodType:" ",gender:"",height:" ()",eyeColor:" ",distinguishingMarks:" ",employerName:"    ",employerAddress:"  ",educationLevel:" ",universityName:" /",graduationDate:" ",fieldOfStudy:" ",higherInstituteName:"  ",vocationalTrainingCenterName:"   ",schoolName:" ",highSchoolName:" ",middleSchoolName:" ",universityCity:"    ",passportNumber:"  ",passportIssueDate:"   ",passportExpiryDate:"   ",passportIssuePlace:"   ",drivingLicenseNumber:"  ",drivingLicenseCategory:"  ",drivingLicenseIssueDate:"   ",numberOfChildren:"  ()",numberOfSons:"  ()",numberOfDaughters:"  ()",numberOfSiblings:"  ()",numberOfBrothers:"  ()",numberOfSisters:"  ()",spouseFullName:" /",spouseDob:"  /",spouseJob:" /",militaryStatus:"   ",ToTheGovernorOftheStateOf:"    ",submissionDaira:"    ",ToTheMayorOf:"    ",employerWilaya:"    ",employerDaira:"    ",employerCommune:"    ",criminalRecordNumber:"   ",criminalRecordIssueDate:"    ",criminalRecordIssuePlace:"    ",commercialRegistryNumber:"  ",taxIdNumber:"  ",casnosNumber:"   CASNOS",vehicleRegistrationCardNumber:"  ",vehicleType:" ",vehicleBrand:" ",vehicleModel:" ",vehicleFirstRegistrationDate:"   ",bankName:" ",bankAccountNumber:"   (RIB)",bankAgencyName:"  ",bankAgencyCode:"  ",bankNameTo:"   ",bankWilayaTo:"   ",bankCountryTo:"   ",bankStreetTo:"   ",bankNameFrom:"   ",bankWilayaFrom:"   ",bankCountryFrom:"   ",bankStreetFrom:"   ",amountReceived:" ",amountSent:" ",employmentContractType:"  ",employmentStartDate:"  ",employeeIdNumber:" ",professionalGrade:"   ",nationalIdIssueDate:"   ",nationalIdExpiryDate:"    ",drivingLicenseExpiryDate:"    ",familyBookNumber:"  ",marriageDate:"  ",marriagePlace:"  ",rentalContractNumber:"  ",landlordName:"  ",propertyAddress:" ",attendingPhysicianName:"  ",disabilityType:" ",disabilityPercentage:"  (%)",deceasedParentFullName:"   ",deceasedParentDod:"  ",deceasedParentPod:"  ",deathCertificateNumber:"  ",survivingParentFullName:"      ",survivingParentJobTitle:"     ",hospitalName:" ",currentTime:" ",currentYear:" ",documentName:" ",age:"",fullDateLongAr:"  ()",hijriDate:" ",motherFullName:"  ",motherAge:" ",fatherFullName:"  ",fatherAge:" ",spousePob:"  /",spouseAge:" /",sonName:" ",sonDob:"  ",sonPob:"  ",sonAge:" ",daughterName:" ",daughterDob:"  ",daughterPob:"  ",daughterAge:" ",paternalGrandfatherName:"  ( )",paternalGrandfatherDob:"   ( )",paternalGrandfatherPob:"   ( )",paternalGrandfatherAge:"  ( )",paternalGrandmotherName:"  ( )",paternalGrandmotherDob:"   ( )",paternalGrandmotherPob:"   ( )",paternalGrandmotherAge:"  ( )",maternalGrandfatherName:"  ( )",maternalGrandfatherDob:"   ( )",maternalGrandfatherPob:"   ( )",maternalGrandfatherAge:"  ( )",maternalGrandmotherName:"  ( )",maternalGrandmotherDob:"   ( )",maternalGrandmotherPob:"   ( )",maternalGrandmotherAge:"  ( )"},sme="GitutOfflineDB",ame=9,qm=()=>new Promise((t,e)=>{const n=indexedDB.open(sme,ame);n.onerror=()=>e("Error opening IndexedDB."),n.onsuccess=()=>t(n.result),n.onupgradeneeded=r=>{const i=r.target.result;["offlineMetadata","documents","fullDocuments","staticDocuments","sites","baseTemplates","siteSettings","userProfile","pendingCreditDeductions","codes","cafes","pages","blogPosts","ads","clients","voice_prompts","tagTitleLists","jobs"].forEach(a=>{if(!i.objectStoreNames.contains(a)){let o={keyPath:"id"};a==="tagTitleLists"&&(o={keyPath:"tag"}),i.createObjectStore(a,o)}})}}),Ms=async(t,e)=>{const n=await qm();return new Promise(r=>{const a=n.transaction(t,"readonly").objectStore(t).get(e);a.onsuccess=()=>r(a.result),a.onerror=()=>r(null)})},qn=async t=>{const e=await qm();return new Promise(n=>{const s=e.transaction(t,"readonly").objectStore(t).getAll();s.onsuccess=()=>n(s.result||[]),s.onerror=()=>n([])})},mr=async(t,e)=>{const n=await qm();return new Promise((r,i)=>{const o=n.transaction(t,"readwrite").objectStore(t).put(e);o.onsuccess=()=>r(),o.onerror=()=>i(o.error)})},Ai=async(t,e)=>{if(!e||e.length===0)return;const n=await qm();return new Promise((r,i)=>{const s=n.transaction(t,"readwrite"),a=s.objectStore(t);s.oncomplete=()=>r(),s.onerror=()=>i(s.error),a.clear(),e.forEach(o=>{o&&o.id!==void 0?a.put(o):console.warn(`Item in store '${t}' is missing an 'id' and was skipped.`,o)})})},If=async(t,e)=>{const n=await qm();return new Promise((r,i)=>{const o=n.transaction(t,"readwrite").objectStore(t).delete(e);o.onsuccess=()=>r(),o.onerror=()=>i(o.error)})},ome=async t=>{await mr("pendingCreditDeductions",t)},lme=async()=>qn("pendingCreditDeductions"),cme=async()=>{const t=await qm();return new Promise((e,n)=>{const s=t.transaction("pendingCreditDeductions","readwrite").objectStore("pendingCreditDeductions").clear();s.onsuccess=()=>e(),s.onerror=()=>n(s.error)})};function wx(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var gC={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var f9;function xH(){return f9||(f9=1,(function(t,e){(function(n){t.exports=n()})(function(){return(function n(r,i,s){function a(c,u){if(!i[c]){if(!r[c]){var f=typeof wx=="function"&&wx;if(!u&&f)return f(c,!0);if(o)return o(c,!0);var h=new Error("Cannot find module '"+c+"'");throw h.code="MODULE_NOT_FOUND",h}var p=i[c]={exports:{}};r[c][0].call(p.exports,function(v){var g=r[c][1][v];return a(g||v)},p,p.exports,n,r,i,s)}return i[c].exports}for(var o=typeof wx=="function"&&wx,l=0;l<s.length;l++)a(s[l]);return a})({1:[function(n,r,i){var s=n("./utils"),a=n("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var c,u,f,h,p,v,g,y=[],b=0,_=l.length,w=_,C=s.getTypeOf(l)!=="string";b<l.length;)w=_-b,f=C?(c=l[b++],u=b<_?l[b++]:0,b<_?l[b++]:0):(c=l.charCodeAt(b++),u=b<_?l.charCodeAt(b++):0,b<_?l.charCodeAt(b++):0),h=c>>2,p=(3&c)<<4|u>>4,v=1<w?(15&u)<<2|f>>6:64,g=2<w?63&f:64,y.push(o.charAt(h)+o.charAt(p)+o.charAt(v)+o.charAt(g));return y.join("")},i.decode=function(l){var c,u,f,h,p,v,g=0,y=0,b="data:";if(l.substr(0,b.length)===b)throw new Error("Invalid base64 input, it looks like a data url.");var _,w=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===o.charAt(64)&&w--,l.charAt(l.length-2)===o.charAt(64)&&w--,w%1!=0)throw new Error("Invalid base64 input, bad content length.");for(_=a.uint8array?new Uint8Array(0|w):new Array(0|w);g<l.length;)c=o.indexOf(l.charAt(g++))<<2|(h=o.indexOf(l.charAt(g++)))>>4,u=(15&h)<<4|(p=o.indexOf(l.charAt(g++)))>>2,f=(3&p)<<6|(v=o.indexOf(l.charAt(g++))),_[y++]=c,p!==64&&(_[y++]=u),v!==64&&(_[y++]=f);return _}},{"./support":30,"./utils":32}],2:[function(n,r,i){var s=n("./external"),a=n("./stream/DataWorker"),o=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function c(u,f,h,p,v){this.compressedSize=u,this.uncompressedSize=f,this.crc32=h,this.compression=p,this.compressedContent=v}c.prototype={getContentWorker:function(){var u=new a(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),f=this;return u.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),u},getCompressedWorker:function(){return new a(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(u,f,h){return u.pipe(new o).pipe(new l("uncompressedSize")).pipe(f.compressWorker(h)).pipe(new l("compressedSize")).withStreamInfo("compression",f)},r.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var s=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var s=n("./utils"),a=(function(){for(var o,l=[],c=0;c<256;c++){o=c;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;l[c]=o}return l})();r.exports=function(o,l){return o!==void 0&&o.length?s.getTypeOf(o)!=="string"?(function(c,u,f,h){var p=a,v=h+f;c^=-1;for(var g=h;g<v;g++)c=c>>>8^p[255&(c^u[g])];return-1^c})(0|l,o,o.length,0):(function(c,u,f,h){var p=a,v=h+f;c^=-1;for(var g=h;g<v;g++)c=c>>>8^p[255&(c^u.charCodeAt(g))];return-1^c})(0|l,o,o.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var s=null;s=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:s}},{lie:37}],7:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=n("pako"),o=n("./utils"),l=n("./stream/GenericWorker"),c=s?"uint8array":"array";function u(f,h){l.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=h,this.meta={}}i.magic="\b\0",o.inherits(u,l),u.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(c,f.data),!1)},u.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(h){f.push({data:h,meta:f.meta})}},i.compressWorker=function(f){return new u("Deflate",f)},i.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function s(p,v){var g,y="";for(g=0;g<v;g++)y+=String.fromCharCode(255&p),p>>>=8;return y}function a(p,v,g,y,b,_){var w,C,S=p.file,R=p.compression,D=_!==c.utf8encode,N=o.transformTo("string",_(S.name)),k=o.transformTo("string",c.utf8encode(S.name)),F=S.comment,P=o.transformTo("string",_(F)),I=o.transformTo("string",c.utf8encode(F)),U=k.length!==S.name.length,O=I.length!==F.length,K="",X="",J="",ne=S.dir,z=S.date,Q={crc32:0,compressedSize:0,uncompressedSize:0};v&&!g||(Q.crc32=p.crc32,Q.compressedSize=p.compressedSize,Q.uncompressedSize=p.uncompressedSize);var B=0;v&&(B|=8),D||!U&&!O||(B|=2048);var j=0,W=0;ne&&(j|=16),b==="UNIX"?(W=798,j|=(function(Y,ee){var ae=Y;return Y||(ae=ee?16893:33204),(65535&ae)<<16})(S.unixPermissions,ne)):(W=20,j|=(function(Y){return 63&(Y||0)})(S.dosPermissions)),w=z.getUTCHours(),w<<=6,w|=z.getUTCMinutes(),w<<=5,w|=z.getUTCSeconds()/2,C=z.getUTCFullYear()-1980,C<<=4,C|=z.getUTCMonth()+1,C<<=5,C|=z.getUTCDate(),U&&(X=s(1,1)+s(u(N),4)+k,K+="up"+s(X.length,2)+X),O&&(J=s(1,1)+s(u(P),4)+I,K+="uc"+s(J.length,2)+J);var G="";return G+=`
\0`,G+=s(B,2),G+=R.magic,G+=s(w,2),G+=s(C,2),G+=s(Q.crc32,4),G+=s(Q.compressedSize,4),G+=s(Q.uncompressedSize,4),G+=s(N.length,2),G+=s(K.length,2),{fileRecord:f.LOCAL_FILE_HEADER+G+N+K,dirRecord:f.CENTRAL_FILE_HEADER+s(W,2)+G+s(P.length,2)+"\0\0\0\0"+s(j,4)+s(y,4)+N+K+P}}var o=n("../utils"),l=n("../stream/GenericWorker"),c=n("../utf8"),u=n("../crc32"),f=n("../signature");function h(p,v,g,y){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=v,this.zipPlatform=g,this.encodeFileName=y,this.streamFiles=p,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(h,l),h.prototype.push=function(p){var v=p.meta.percent||0,g=this.entriesCount,y=this._sources.length;this.accumulate?this.contentBuffer.push(p):(this.bytesWritten+=p.data.length,l.prototype.push.call(this,{data:p.data,meta:{currentFile:this.currentFile,percent:g?(v+100*(g-y-1))/g:100}}))},h.prototype.openedSource=function(p){this.currentSourceOffset=this.bytesWritten,this.currentFile=p.file.name;var v=this.streamFiles&&!p.file.dir;if(v){var g=a(p,v,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:g.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(p){this.accumulate=!1;var v=this.streamFiles&&!p.file.dir,g=a(p,v,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(g.dirRecord),v)this.push({data:(function(y){return f.DATA_DESCRIPTOR+s(y.crc32,4)+s(y.compressedSize,4)+s(y.uncompressedSize,4)})(p),meta:{percent:100}});else for(this.push({data:g.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var p=this.bytesWritten,v=0;v<this.dirRecords.length;v++)this.push({data:this.dirRecords[v],meta:{percent:100}});var g=this.bytesWritten-p,y=(function(b,_,w,C,S){var R=o.transformTo("string",S(C));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(b,2)+s(b,2)+s(_,4)+s(w,4)+s(R.length,2)+R})(this.dirRecords.length,g,p,this.zipComment,this.encodeFileName);this.push({data:y,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(p){this._sources.push(p);var v=this;return p.on("data",function(g){v.processChunk(g)}),p.on("end",function(){v.closedSource(v.previous.streamInfo),v._sources.length?v.prepareNextSource():v.end()}),p.on("error",function(g){v.error(g)}),this},h.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(p){var v=this._sources;if(!l.prototype.error.call(this,p))return!1;for(var g=0;g<v.length;g++)try{v[g].error(p)}catch{}return!0},h.prototype.lock=function(){l.prototype.lock.call(this);for(var p=this._sources,v=0;v<p.length;v++)p[v].lock()},r.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var s=n("../compressions"),a=n("./ZipFileWorker");i.generateWorker=function(o,l,c){var u=new a(l.streamFiles,c,l.platform,l.encodeFileName),f=0;try{o.forEach(function(h,p){f++;var v=(function(_,w){var C=_||w,S=s[C];if(!S)throw new Error(C+" is not a valid compression method !");return S})(p.options.compression,l.compression),g=p.options.compressionOptions||l.compressionOptions||{},y=p.dir,b=p.date;p._compressWorker(v,g).withStreamInfo("file",{name:h,dir:y,date:b,comment:p.comment||"",unixPermissions:p.unixPermissions,dosPermissions:p.dosPermissions}).pipe(u)}),u.entriesCount=f}catch(h){u.error(h)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new s;for(var o in this)typeof this[o]!="function"&&(a[o]=this[o]);return a}}(s.prototype=n("./object")).loadAsync=n("./load"),s.support=n("./support"),s.defaults=n("./defaults"),s.version="3.10.1",s.loadAsync=function(a,o){return new s().loadAsync(a,o)},s.external=n("./external"),r.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var s=n("./utils"),a=n("./external"),o=n("./utf8"),l=n("./zipEntries"),c=n("./stream/Crc32Probe"),u=n("./nodejsUtils");function f(h){return new a.Promise(function(p,v){var g=h.decompressed.getContentWorker().pipe(new c);g.on("error",function(y){v(y)}).on("end",function(){g.streamInfo.crc32!==h.decompressed.crc32?v(new Error("Corrupted zip : CRC32 mismatch")):p()}).resume()})}r.exports=function(h,p){var v=this;return p=s.extend(p||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),u.isNode&&u.isStream(h)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",h,!0,p.optimizedBinaryString,p.base64).then(function(g){var y=new l(p);return y.load(g),y}).then(function(g){var y=[a.Promise.resolve(g)],b=g.files;if(p.checkCRC32)for(var _=0;_<b.length;_++)y.push(f(b[_]));return a.Promise.all(y)}).then(function(g){for(var y=g.shift(),b=y.files,_=0;_<b.length;_++){var w=b[_],C=w.fileNameStr,S=s.resolve(w.fileNameStr);v.file(S,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:p.createFolders}),w.dir||(v.file(S).unsafeOriginalName=C)}return y.zipComment.length&&(v.comment=y.zipComment),v})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var s=n("../utils"),a=n("../stream/GenericWorker");function o(l,c){a.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}s.inherits(o,a),o.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(u){c.push({data:u,meta:{percent:0}})}).on("error",function(u){c.isPaused?this.generatedError=u:c.error(u)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},o.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var s=n("readable-stream").Readable;function a(o,l,c){s.call(this,l),this._helper=o;var u=this;o.on("data",function(f,h){u.push(f)||u._helper.pause(),c&&c(h)}).on("error",function(f){u.emit("error",f)}).on("end",function(){u.push(null)})}n("../utils").inherits(a,s),a.prototype._read=function(){this._helper.resume()},r.exports=a},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,a);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,a)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var a=new Buffer(s);return a.fill(0),a},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(n,r,i){function s(S,R,D){var N,k=o.getTypeOf(R),F=o.extend(D||{},u);F.date=F.date||new Date,F.compression!==null&&(F.compression=F.compression.toUpperCase()),typeof F.unixPermissions=="string"&&(F.unixPermissions=parseInt(F.unixPermissions,8)),F.unixPermissions&&16384&F.unixPermissions&&(F.dir=!0),F.dosPermissions&&16&F.dosPermissions&&(F.dir=!0),F.dir&&(S=b(S)),F.createFolders&&(N=y(S))&&_.call(this,N,!0);var P=k==="string"&&F.binary===!1&&F.base64===!1;D&&D.binary!==void 0||(F.binary=!P),(R instanceof f&&R.uncompressedSize===0||F.dir||!R||R.length===0)&&(F.base64=!1,F.binary=!0,R="",F.compression="STORE",k="string");var I=null;I=R instanceof f||R instanceof l?R:v.isNode&&v.isStream(R)?new g(S,R):o.prepareContent(S,R,F.binary,F.optimizedBinaryString,F.base64);var U=new h(S,I,F);this.files[S]=U}var a=n("./utf8"),o=n("./utils"),l=n("./stream/GenericWorker"),c=n("./stream/StreamHelper"),u=n("./defaults"),f=n("./compressedObject"),h=n("./zipObject"),p=n("./generate"),v=n("./nodejsUtils"),g=n("./nodejs/NodejsStreamInputAdapter"),y=function(S){S.slice(-1)==="/"&&(S=S.substring(0,S.length-1));var R=S.lastIndexOf("/");return 0<R?S.substring(0,R):""},b=function(S){return S.slice(-1)!=="/"&&(S+="/"),S},_=function(S,R){return R=R!==void 0?R:u.createFolders,S=b(S),this.files[S]||s.call(this,S,null,{dir:!0,createFolders:R}),this.files[S]};function w(S){return Object.prototype.toString.call(S)==="[object RegExp]"}var C={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(S){var R,D,N;for(R in this.files)N=this.files[R],(D=R.slice(this.root.length,R.length))&&R.slice(0,this.root.length)===this.root&&S(D,N)},filter:function(S){var R=[];return this.forEach(function(D,N){S(D,N)&&R.push(N)}),R},file:function(S,R,D){if(arguments.length!==1)return S=this.root+S,s.call(this,S,R,D),this;if(w(S)){var N=S;return this.filter(function(F,P){return!P.dir&&N.test(F)})}var k=this.files[this.root+S];return k&&!k.dir?k:null},folder:function(S){if(!S)return this;if(w(S))return this.filter(function(k,F){return F.dir&&S.test(k)});var R=this.root+S,D=_.call(this,R),N=this.clone();return N.root=D.name,N},remove:function(S){S=this.root+S;var R=this.files[S];if(R||(S.slice(-1)!=="/"&&(S+="/"),R=this.files[S]),R&&!R.dir)delete this.files[S];else for(var D=this.filter(function(k,F){return F.name.slice(0,S.length)===S}),N=0;N<D.length;N++)delete this.files[D[N].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(S){var R,D={};try{if((D=o.extend(S||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=D.type.toLowerCase(),D.compression=D.compression.toUpperCase(),D.type==="binarystring"&&(D.type="string"),!D.type)throw new Error("No output type specified.");o.checkSupport(D.type),D.platform!=="darwin"&&D.platform!=="freebsd"&&D.platform!=="linux"&&D.platform!=="sunos"||(D.platform="UNIX"),D.platform==="win32"&&(D.platform="DOS");var N=D.comment||this.comment||"";R=p.generateWorker(this,D,N)}catch(k){(R=new l("error")).error(k)}return new c(R,D.type||"string",D.mimeType)},generateAsync:function(S,R){return this.generateInternalStream(S).accumulate(R)},generateNodeStream:function(S,R){return(S=S||{}).type||(S.type="nodebuffer"),this.generateInternalStream(S).toNodejsStream(R)}};r.exports=C},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var s=n("./DataReader");function a(o){s.call(this,o);for(var l=0;l<this.data.length;l++)o[l]=255&o[l]}n("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data[this.zero+o]},a.prototype.lastIndexOfSignature=function(o){for(var l=o.charCodeAt(0),c=o.charCodeAt(1),u=o.charCodeAt(2),f=o.charCodeAt(3),h=this.length-4;0<=h;--h)if(this.data[h]===l&&this.data[h+1]===c&&this.data[h+2]===u&&this.data[h+3]===f)return h-this.zero;return-1},a.prototype.readAndCheckSignature=function(o){var l=o.charCodeAt(0),c=o.charCodeAt(1),u=o.charCodeAt(2),f=o.charCodeAt(3),h=this.readData(4);return l===h[0]&&c===h[1]&&u===h[2]&&f===h[3]},a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var s=n("../utils");function a(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var l,c=0;for(this.checkOffset(o),l=this.index+o-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=o,c},readString:function(o){return s.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},r.exports=a},{"../utils":32}],19:[function(n,r,i){var s=n("./Uint8ArrayReader");function a(o){s.call(this,o)}n("../utils").inherits(a,s),a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var s=n("./DataReader");function a(o){s.call(this,o)}n("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},a.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},a.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var s=n("./ArrayReader");function a(o){s.call(this,o)}n("../utils").inherits(a,s),a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var s=n("../utils"),a=n("../support"),o=n("./ArrayReader"),l=n("./StringReader"),c=n("./NodeBufferReader"),u=n("./Uint8ArrayReader");r.exports=function(f){var h=s.getTypeOf(f);return s.checkSupport(h),h!=="string"||a.uint8array?h==="nodebuffer"?new c(f):a.uint8array?new u(s.transformTo("uint8array",f)):new o(s.transformTo("array",f)):new l(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var s=n("./GenericWorker"),a=n("../utils");function o(l){s.call(this,"ConvertWorker to "+l),this.destType=l}a.inherits(o,s),o.prototype.processChunk=function(l){this.push({data:a.transformTo(this.destType,l.data),meta:l.meta})},r.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var s=n("./GenericWorker"),a=n("../crc32");function o(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(o,s),o.prototype.processChunk=function(l){this.streamInfo.crc32=a(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var s=n("../utils"),a=n("./GenericWorker");function o(l){a.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(o,a),o.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}a.prototype.processChunk.call(this,l)},r.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var s=n("../utils"),a=n("./GenericWorker");function o(l){a.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(u){c.dataIsReady=!0,c.data=u,c.max=u&&u.length||0,c.type=s.getTypeOf(u),c.isPaused||c._tickAndRepeat()},function(u){c.error(u)})}s.inherits(o,a),o.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function s(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,o){return this._listeners[a].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,o){if(this._listeners[a])for(var l=0;l<this._listeners[a].length;l++)this._listeners[a][l].call(this,o)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var o=this;return a.on("data",function(l){o.processChunk(l)}),a.on("end",function(){o.end()}),a.on("error",function(l){o.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,o){return this.extraStreamInfo[a]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},r.exports=s},{}],29:[function(n,r,i){var s=n("../utils"),a=n("./ConvertWorker"),o=n("./GenericWorker"),l=n("../base64"),c=n("../support"),u=n("../external"),f=null;if(c.nodestream)try{f=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function h(v,g){return new u.Promise(function(y,b){var _=[],w=v._internalType,C=v._outputType,S=v._mimeType;v.on("data",function(R,D){_.push(R),g&&g(D)}).on("error",function(R){_=[],b(R)}).on("end",function(){try{var R=(function(D,N,k){switch(D){case"blob":return s.newBlob(s.transformTo("arraybuffer",N),k);case"base64":return l.encode(N);default:return s.transformTo(D,N)}})(C,(function(D,N){var k,F=0,P=null,I=0;for(k=0;k<N.length;k++)I+=N[k].length;switch(D){case"string":return N.join("");case"array":return Array.prototype.concat.apply([],N);case"uint8array":for(P=new Uint8Array(I),k=0;k<N.length;k++)P.set(N[k],F),F+=N[k].length;return P;case"nodebuffer":return Buffer.concat(N);default:throw new Error("concat : unsupported type '"+D+"'")}})(w,_),S);y(R)}catch(D){b(D)}_=[]}).resume()})}function p(v,g,y){var b=g;switch(g){case"blob":case"arraybuffer":b="uint8array";break;case"base64":b="string"}try{this._internalType=b,this._outputType=g,this._mimeType=y,s.checkSupport(b),this._worker=v.pipe(new a(b)),v.lock()}catch(_){this._worker=new o("error"),this._worker.error(_)}}p.prototype={accumulate:function(v){return h(this,v)},on:function(v,g){var y=this;return v==="data"?this._worker.on(v,function(b){g.call(y,b.data,b.meta)}):this._worker.on(v,function(){s.delay(g,arguments,y)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(v){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},v)}},r.exports=p},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(s),i.blob=a.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var s=n("./utils"),a=n("./support"),o=n("./nodejsUtils"),l=n("./stream/GenericWorker"),c=new Array(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;c[254]=c[254]=1;function f(){l.call(this,"utf-8 decode"),this.leftOver=null}function h(){l.call(this,"utf-8 encode")}i.utf8encode=function(p){return a.nodebuffer?o.newBufferFrom(p,"utf-8"):(function(v){var g,y,b,_,w,C=v.length,S=0;for(_=0;_<C;_++)(64512&(y=v.charCodeAt(_)))==55296&&_+1<C&&(64512&(b=v.charCodeAt(_+1)))==56320&&(y=65536+(y-55296<<10)+(b-56320),_++),S+=y<128?1:y<2048?2:y<65536?3:4;for(g=a.uint8array?new Uint8Array(S):new Array(S),_=w=0;w<S;_++)(64512&(y=v.charCodeAt(_)))==55296&&_+1<C&&(64512&(b=v.charCodeAt(_+1)))==56320&&(y=65536+(y-55296<<10)+(b-56320),_++),y<128?g[w++]=y:(y<2048?g[w++]=192|y>>>6:(y<65536?g[w++]=224|y>>>12:(g[w++]=240|y>>>18,g[w++]=128|y>>>12&63),g[w++]=128|y>>>6&63),g[w++]=128|63&y);return g})(p)},i.utf8decode=function(p){return a.nodebuffer?s.transformTo("nodebuffer",p).toString("utf-8"):(function(v){var g,y,b,_,w=v.length,C=new Array(2*w);for(g=y=0;g<w;)if((b=v[g++])<128)C[y++]=b;else if(4<(_=c[b]))C[y++]=65533,g+=_-1;else{for(b&=_===2?31:_===3?15:7;1<_&&g<w;)b=b<<6|63&v[g++],_--;1<_?C[y++]=65533:b<65536?C[y++]=b:(b-=65536,C[y++]=55296|b>>10&1023,C[y++]=56320|1023&b)}return C.length!==y&&(C.subarray?C=C.subarray(0,y):C.length=y),s.applyFromCharCode(C)})(p=s.transformTo(a.uint8array?"uint8array":"array",p))},s.inherits(f,l),f.prototype.processChunk=function(p){var v=s.transformTo(a.uint8array?"uint8array":"array",p.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var g=v;(v=new Uint8Array(g.length+this.leftOver.length)).set(this.leftOver,0),v.set(g,this.leftOver.length)}else v=this.leftOver.concat(v);this.leftOver=null}var y=(function(_,w){var C;for((w=w||_.length)>_.length&&(w=_.length),C=w-1;0<=C&&(192&_[C])==128;)C--;return C<0||C===0?w:C+c[_[C]]>w?C:w})(v),b=v;y!==v.length&&(a.uint8array?(b=v.subarray(0,y),this.leftOver=v.subarray(y,v.length)):(b=v.slice(0,y),this.leftOver=v.slice(y,v.length))),this.push({data:i.utf8decode(b),meta:p.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=f,s.inherits(h,l),h.prototype.processChunk=function(p){this.push({data:i.utf8encode(p.data),meta:p.meta})},i.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var s=n("./support"),a=n("./base64"),o=n("./nodejsUtils"),l=n("./external");function c(g){return g}function u(g,y){for(var b=0;b<g.length;++b)y[b]=255&g.charCodeAt(b);return y}n("setimmediate"),i.newBlob=function(g,y){i.checkSupport("blob");try{return new Blob([g],{type:y})}catch{try{var b=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return b.append(g),b.getBlob(y)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(g,y,b){var _=[],w=0,C=g.length;if(C<=b)return String.fromCharCode.apply(null,g);for(;w<C;)y==="array"||y==="nodebuffer"?_.push(String.fromCharCode.apply(null,g.slice(w,Math.min(w+b,C)))):_.push(String.fromCharCode.apply(null,g.subarray(w,Math.min(w+b,C)))),w+=b;return _.join("")},stringifyByChar:function(g){for(var y="",b=0;b<g.length;b++)y+=String.fromCharCode(g[b]);return y},applyCanBeUsed:{uint8array:(function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}})()}};function h(g){var y=65536,b=i.getTypeOf(g),_=!0;if(b==="uint8array"?_=f.applyCanBeUsed.uint8array:b==="nodebuffer"&&(_=f.applyCanBeUsed.nodebuffer),_)for(;1<y;)try{return f.stringifyByChunk(g,b,y)}catch{y=Math.floor(y/2)}return f.stringifyByChar(g)}function p(g,y){for(var b=0;b<g.length;b++)y[b]=g[b];return y}i.applyFromCharCode=h;var v={};v.string={string:c,array:function(g){return u(g,new Array(g.length))},arraybuffer:function(g){return v.string.uint8array(g).buffer},uint8array:function(g){return u(g,new Uint8Array(g.length))},nodebuffer:function(g){return u(g,o.allocBuffer(g.length))}},v.array={string:h,array:c,arraybuffer:function(g){return new Uint8Array(g).buffer},uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return o.newBufferFrom(g)}},v.arraybuffer={string:function(g){return h(new Uint8Array(g))},array:function(g){return p(new Uint8Array(g),new Array(g.byteLength))},arraybuffer:c,uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return o.newBufferFrom(new Uint8Array(g))}},v.uint8array={string:h,array:function(g){return p(g,new Array(g.length))},arraybuffer:function(g){return g.buffer},uint8array:c,nodebuffer:function(g){return o.newBufferFrom(g)}},v.nodebuffer={string:h,array:function(g){return p(g,new Array(g.length))},arraybuffer:function(g){return v.nodebuffer.uint8array(g).buffer},uint8array:function(g){return p(g,new Uint8Array(g.length))},nodebuffer:c},i.transformTo=function(g,y){if(y=y||"",!g)return y;i.checkSupport(g);var b=i.getTypeOf(y);return v[b][g](y)},i.resolve=function(g){for(var y=g.split("/"),b=[],_=0;_<y.length;_++){var w=y[_];w==="."||w===""&&_!==0&&_!==y.length-1||(w===".."?b.pop():b.push(w))}return b.join("/")},i.getTypeOf=function(g){return typeof g=="string"?"string":Object.prototype.toString.call(g)==="[object Array]"?"array":s.nodebuffer&&o.isBuffer(g)?"nodebuffer":s.uint8array&&g instanceof Uint8Array?"uint8array":s.arraybuffer&&g instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(g){if(!s[g.toLowerCase()])throw new Error(g+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(g){var y,b,_="";for(b=0;b<(g||"").length;b++)_+="\\x"+((y=g.charCodeAt(b))<16?"0":"")+y.toString(16).toUpperCase();return _},i.delay=function(g,y,b){setImmediate(function(){g.apply(b||null,y||[])})},i.inherits=function(g,y){function b(){}b.prototype=y.prototype,g.prototype=new b},i.extend=function(){var g,y,b={};for(g=0;g<arguments.length;g++)for(y in arguments[g])Object.prototype.hasOwnProperty.call(arguments[g],y)&&b[y]===void 0&&(b[y]=arguments[g][y]);return b},i.prepareContent=function(g,y,b,_,w){return l.Promise.resolve(y).then(function(C){return s.blob&&(C instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(C))!==-1)&&typeof FileReader<"u"?new l.Promise(function(S,R){var D=new FileReader;D.onload=function(N){S(N.target.result)},D.onerror=function(N){R(N.target.error)},D.readAsArrayBuffer(C)}):C}).then(function(C){var S=i.getTypeOf(C);return S?(S==="arraybuffer"?C=i.transformTo("uint8array",C):S==="string"&&(w?C=a.decode(C):b&&_!==!0&&(C=(function(R){return u(R,s.uint8array?new Uint8Array(R.length):new Array(R.length))})(C))),C):l.Promise.reject(new Error("Can't read the data of '"+g+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var s=n("./reader/readerFor"),a=n("./utils"),o=n("./signature"),l=n("./zipEntry"),c=n("./support");function u(f){this.files=[],this.loadOptions=f}u.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var h=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(h)+", expected "+a.pretty(f)+")")}},isSignature:function(f,h){var p=this.reader.index;this.reader.setIndex(f);var v=this.reader.readString(4)===h;return this.reader.setIndex(p),v},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),h=c.uint8array?"uint8array":"array",p=a.transformTo(h,f);this.zipComment=this.loadOptions.decodeFileName(p)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,h,p,v=this.zip64EndOfCentralSize-44;0<v;)f=this.reader.readInt(2),h=this.reader.readInt(4),p=this.reader.readData(h),this.zip64ExtensibleData[f]={id:f,length:h,value:p}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,h;for(f=0;f<this.files.length;f++)h=this.files[f],this.reader.setIndex(h.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),h.readLocalPart(this.reader),h.handleUTF8(),h.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(f=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var h=f;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var p=this.centralDirOffset+this.centralDirSize;this.zip64&&(p+=20,p+=12+this.zip64EndOfCentralSize);var v=h-p;if(0<v)this.isSignature(h,o.CENTRAL_FILE_HEADER)||(this.reader.zero=v);else if(v<0)throw new Error("Corrupted zip: missing "+Math.abs(v)+" bytes.")},prepareReader:function(f){this.reader=s(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var s=n("./reader/readerFor"),a=n("./utils"),o=n("./compressedObject"),l=n("./crc32"),c=n("./utf8"),u=n("./compressions"),f=n("./support");function h(p,v){this.options=p,this.loadOptions=v}h.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(p){var v,g;if(p.skip(22),this.fileNameLength=p.readInt(2),g=p.readInt(2),this.fileName=p.readData(this.fileNameLength),p.skip(g),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((v=(function(y){for(var b in u)if(Object.prototype.hasOwnProperty.call(u,b)&&u[b].magic===y)return u[b];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,v,p.readData(this.compressedSize))},readCentralPart:function(p){this.versionMadeBy=p.readInt(2),p.skip(2),this.bitFlag=p.readInt(2),this.compressionMethod=p.readString(2),this.date=p.readDate(),this.crc32=p.readInt(4),this.compressedSize=p.readInt(4),this.uncompressedSize=p.readInt(4);var v=p.readInt(2);if(this.extraFieldsLength=p.readInt(2),this.fileCommentLength=p.readInt(2),this.diskNumberStart=p.readInt(2),this.internalFileAttributes=p.readInt(2),this.externalFileAttributes=p.readInt(4),this.localHeaderOffset=p.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");p.skip(v),this.readExtraFields(p),this.parseZIP64ExtraField(p),this.fileComment=p.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var p=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),p==0&&(this.dosPermissions=63&this.externalFileAttributes),p==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var p=s(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=p.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=p.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=p.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=p.readInt(4))}},readExtraFields:function(p){var v,g,y,b=p.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});p.index+4<b;)v=p.readInt(2),g=p.readInt(2),y=p.readData(g),this.extraFields[v]={id:v,length:g,value:y};p.setIndex(b)},handleUTF8:function(){var p=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var v=this.findExtraFieldUnicodePath();if(v!==null)this.fileNameStr=v;else{var g=a.transformTo(p,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(g)}var y=this.findExtraFieldUnicodeComment();if(y!==null)this.fileCommentStr=y;else{var b=a.transformTo(p,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(b)}}},findExtraFieldUnicodePath:function(){var p=this.extraFields[28789];if(p){var v=s(p.value);return v.readInt(1)!==1||l(this.fileName)!==v.readInt(4)?null:c.utf8decode(v.readData(p.length-5))}return null},findExtraFieldUnicodeComment:function(){var p=this.extraFields[25461];if(p){var v=s(p.value);return v.readInt(1)!==1||l(this.fileComment)!==v.readInt(4)?null:c.utf8decode(v.readData(p.length-5))}return null}},r.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function s(v,g,y){this.name=v,this.dir=y.dir,this.date=y.date,this.comment=y.comment,this.unixPermissions=y.unixPermissions,this.dosPermissions=y.dosPermissions,this._data=g,this._dataBinary=y.binary,this.options={compression:y.compression,compressionOptions:y.compressionOptions}}var a=n("./stream/StreamHelper"),o=n("./stream/DataWorker"),l=n("./utf8"),c=n("./compressedObject"),u=n("./stream/GenericWorker");s.prototype={internalStream:function(v){var g=null,y="string";try{if(!v)throw new Error("No output type specified.");var b=(y=v.toLowerCase())==="string"||y==="text";y!=="binarystring"&&y!=="text"||(y="string"),g=this._decompressWorker();var _=!this._dataBinary;_&&!b&&(g=g.pipe(new l.Utf8EncodeWorker)),!_&&b&&(g=g.pipe(new l.Utf8DecodeWorker))}catch(w){(g=new u("error")).error(w)}return new a(g,y,"")},async:function(v,g){return this.internalStream(v).accumulate(g)},nodeStream:function(v,g){return this.internalStream(v||"nodebuffer").toNodejsStream(g)},_compressWorker:function(v,g){if(this._data instanceof c&&this._data.compression.magic===v.magic)return this._data.getCompressedWorker();var y=this._decompressWorker();return this._dataBinary||(y=y.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(y,v,g)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof u?this._data:new o(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},p=0;p<f.length;p++)s.prototype[f[p]]=h;r.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(s){var a,o,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var c=0,u=new l(v),f=s.document.createTextNode("");u.observe(f,{characterData:!0}),a=function(){f.data=c=++c%2}}else if(s.setImmediate||s.MessageChannel===void 0)a="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var g=s.document.createElement("script");g.onreadystatechange=function(){v(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},s.document.documentElement.appendChild(g)}:function(){setTimeout(v,0)};else{var h=new s.MessageChannel;h.port1.onmessage=v,a=function(){h.port2.postMessage(0)}}var p=[];function v(){var g,y;o=!0;for(var b=p.length;b;){for(y=p,p=[],g=-1;++g<b;)y[g]();b=p.length}o=!1}r.exports=function(g){p.push(g)!==1||o||a()}}).call(this,typeof hs<"u"?hs:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var s=n("immediate");function a(){}var o={},l=["REJECTED"],c=["FULFILLED"],u=["PENDING"];function f(b){if(typeof b!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,b!==a&&g(this,b)}function h(b,_,w){this.promise=b,typeof _=="function"&&(this.onFulfilled=_,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}function p(b,_,w){s(function(){var C;try{C=_(w)}catch(S){return o.reject(b,S)}C===b?o.reject(b,new TypeError("Cannot resolve promise with itself")):o.resolve(b,C)})}function v(b){var _=b&&b.then;if(b&&(typeof b=="object"||typeof b=="function")&&typeof _=="function")return function(){_.apply(b,arguments)}}function g(b,_){var w=!1;function C(D){w||(w=!0,o.reject(b,D))}function S(D){w||(w=!0,o.resolve(b,D))}var R=y(function(){_(S,C)});R.status==="error"&&C(R.value)}function y(b,_){var w={};try{w.value=b(_),w.status="success"}catch(C){w.status="error",w.value=C}return w}(r.exports=f).prototype.finally=function(b){if(typeof b!="function")return this;var _=this.constructor;return this.then(function(w){return _.resolve(b()).then(function(){return w})},function(w){return _.resolve(b()).then(function(){throw w})})},f.prototype.catch=function(b){return this.then(null,b)},f.prototype.then=function(b,_){if(typeof b!="function"&&this.state===c||typeof _!="function"&&this.state===l)return this;var w=new this.constructor(a);return this.state!==u?p(w,this.state===c?b:_,this.outcome):this.queue.push(new h(w,b,_)),w},h.prototype.callFulfilled=function(b){o.resolve(this.promise,b)},h.prototype.otherCallFulfilled=function(b){p(this.promise,this.onFulfilled,b)},h.prototype.callRejected=function(b){o.reject(this.promise,b)},h.prototype.otherCallRejected=function(b){p(this.promise,this.onRejected,b)},o.resolve=function(b,_){var w=y(v,_);if(w.status==="error")return o.reject(b,w.value);var C=w.value;if(C)g(b,C);else{b.state=c,b.outcome=_;for(var S=-1,R=b.queue.length;++S<R;)b.queue[S].callFulfilled(_)}return b},o.reject=function(b,_){b.state=l,b.outcome=_;for(var w=-1,C=b.queue.length;++w<C;)b.queue[w].callRejected(_);return b},f.resolve=function(b){return b instanceof this?b:o.resolve(new this(a),b)},f.reject=function(b){var _=new this(a);return o.reject(_,b)},f.all=function(b){var _=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=b.length,C=!1;if(!w)return this.resolve([]);for(var S=new Array(w),R=0,D=-1,N=new this(a);++D<w;)k(b[D],D);return N;function k(F,P){_.resolve(F).then(function(I){S[P]=I,++R!==w||C||(C=!0,o.resolve(N,S))},function(I){C||(C=!0,o.reject(N,I))})}},f.race=function(b){var _=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=b.length,C=!1;if(!w)return this.resolve([]);for(var S=-1,R=new this(a);++S<w;)D=b[S],_.resolve(D).then(function(N){C||(C=!0,o.resolve(R,N))},function(N){C||(C=!0,o.reject(R,N))});var D;return R}},{immediate:36}],38:[function(n,r,i){var s={};(0,n("./lib/utils/common").assign)(s,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var s=n("./zlib/deflate"),a=n("./utils/common"),o=n("./utils/strings"),l=n("./zlib/messages"),c=n("./zlib/zstream"),u=Object.prototype.toString,f=0,h=-1,p=0,v=8;function g(b){if(!(this instanceof g))return new g(b);this.options=a.assign({level:h,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},b||{});var _=this.options;_.raw&&0<_.windowBits?_.windowBits=-_.windowBits:_.gzip&&0<_.windowBits&&_.windowBits<16&&(_.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var w=s.deflateInit2(this.strm,_.level,_.method,_.windowBits,_.memLevel,_.strategy);if(w!==f)throw new Error(l[w]);if(_.header&&s.deflateSetHeader(this.strm,_.header),_.dictionary){var C;if(C=typeof _.dictionary=="string"?o.string2buf(_.dictionary):u.call(_.dictionary)==="[object ArrayBuffer]"?new Uint8Array(_.dictionary):_.dictionary,(w=s.deflateSetDictionary(this.strm,C))!==f)throw new Error(l[w]);this._dict_set=!0}}function y(b,_){var w=new g(_);if(w.push(b,!0),w.err)throw w.msg||l[w.err];return w.result}g.prototype.push=function(b,_){var w,C,S=this.strm,R=this.options.chunkSize;if(this.ended)return!1;C=_===~~_?_:_===!0?4:0,typeof b=="string"?S.input=o.string2buf(b):u.call(b)==="[object ArrayBuffer]"?S.input=new Uint8Array(b):S.input=b,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new a.Buf8(R),S.next_out=0,S.avail_out=R),(w=s.deflate(S,C))!==1&&w!==f)return this.onEnd(w),!(this.ended=!0);S.avail_out!==0&&(S.avail_in!==0||C!==4&&C!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(a.shrinkBuf(S.output,S.next_out))):this.onData(a.shrinkBuf(S.output,S.next_out)))}while((0<S.avail_in||S.avail_out===0)&&w!==1);return C===4?(w=s.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===f):C!==2||(this.onEnd(f),!(S.avail_out=0))},g.prototype.onData=function(b){this.chunks.push(b)},g.prototype.onEnd=function(b){b===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg},i.Deflate=g,i.deflate=y,i.deflateRaw=function(b,_){return(_=_||{}).raw=!0,y(b,_)},i.gzip=function(b,_){return(_=_||{}).gzip=!0,y(b,_)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var s=n("./zlib/inflate"),a=n("./utils/common"),o=n("./utils/strings"),l=n("./zlib/constants"),c=n("./zlib/messages"),u=n("./zlib/zstream"),f=n("./zlib/gzheader"),h=Object.prototype.toString;function p(g){if(!(this instanceof p))return new p(g);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},g||{});var y=this.options;y.raw&&0<=y.windowBits&&y.windowBits<16&&(y.windowBits=-y.windowBits,y.windowBits===0&&(y.windowBits=-15)),!(0<=y.windowBits&&y.windowBits<16)||g&&g.windowBits||(y.windowBits+=32),15<y.windowBits&&y.windowBits<48&&(15&y.windowBits)==0&&(y.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var b=s.inflateInit2(this.strm,y.windowBits);if(b!==l.Z_OK)throw new Error(c[b]);this.header=new f,s.inflateGetHeader(this.strm,this.header)}function v(g,y){var b=new p(y);if(b.push(g,!0),b.err)throw b.msg||c[b.err];return b.result}p.prototype.push=function(g,y){var b,_,w,C,S,R,D=this.strm,N=this.options.chunkSize,k=this.options.dictionary,F=!1;if(this.ended)return!1;_=y===~~y?y:y===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof g=="string"?D.input=o.binstring2buf(g):h.call(g)==="[object ArrayBuffer]"?D.input=new Uint8Array(g):D.input=g,D.next_in=0,D.avail_in=D.input.length;do{if(D.avail_out===0&&(D.output=new a.Buf8(N),D.next_out=0,D.avail_out=N),(b=s.inflate(D,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&k&&(R=typeof k=="string"?o.string2buf(k):h.call(k)==="[object ArrayBuffer]"?new Uint8Array(k):k,b=s.inflateSetDictionary(this.strm,R)),b===l.Z_BUF_ERROR&&F===!0&&(b=l.Z_OK,F=!1),b!==l.Z_STREAM_END&&b!==l.Z_OK)return this.onEnd(b),!(this.ended=!0);D.next_out&&(D.avail_out!==0&&b!==l.Z_STREAM_END&&(D.avail_in!==0||_!==l.Z_FINISH&&_!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(w=o.utf8border(D.output,D.next_out),C=D.next_out-w,S=o.buf2string(D.output,w),D.next_out=C,D.avail_out=N-C,C&&a.arraySet(D.output,D.output,w,C,0),this.onData(S)):this.onData(a.shrinkBuf(D.output,D.next_out)))),D.avail_in===0&&D.avail_out===0&&(F=!0)}while((0<D.avail_in||D.avail_out===0)&&b!==l.Z_STREAM_END);return b===l.Z_STREAM_END&&(_=l.Z_FINISH),_===l.Z_FINISH?(b=s.inflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===l.Z_OK):_!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(D.avail_out=0))},p.prototype.onData=function(g){this.chunks.push(g)},p.prototype.onEnd=function(g){g===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},i.Inflate=p,i.inflate=v,i.inflateRaw=function(g,y){return(y=y||{}).raw=!0,v(g,y)},i.ungzip=v},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var u=c.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var f in u)u.hasOwnProperty(f)&&(l[f]=u[f])}}return l},i.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var a={arraySet:function(l,c,u,f,h){if(c.subarray&&l.subarray)l.set(c.subarray(u,u+f),h);else for(var p=0;p<f;p++)l[h+p]=c[u+p]},flattenChunks:function(l){var c,u,f,h,p,v;for(c=f=0,u=l.length;c<u;c++)f+=l[c].length;for(v=new Uint8Array(f),c=h=0,u=l.length;c<u;c++)p=l[c],v.set(p,h),h+=p.length;return v}},o={arraySet:function(l,c,u,f,h){for(var p=0;p<f;p++)l[h+p]=c[u+p]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,a)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(s)},{}],42:[function(n,r,i){var s=n("./common"),a=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var l=new s.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function u(f,h){if(h<65537&&(f.subarray&&o||!f.subarray&&a))return String.fromCharCode.apply(null,s.shrinkBuf(f,h));for(var p="",v=0;v<h;v++)p+=String.fromCharCode(f[v]);return p}l[254]=l[254]=1,i.string2buf=function(f){var h,p,v,g,y,b=f.length,_=0;for(g=0;g<b;g++)(64512&(p=f.charCodeAt(g)))==55296&&g+1<b&&(64512&(v=f.charCodeAt(g+1)))==56320&&(p=65536+(p-55296<<10)+(v-56320),g++),_+=p<128?1:p<2048?2:p<65536?3:4;for(h=new s.Buf8(_),g=y=0;y<_;g++)(64512&(p=f.charCodeAt(g)))==55296&&g+1<b&&(64512&(v=f.charCodeAt(g+1)))==56320&&(p=65536+(p-55296<<10)+(v-56320),g++),p<128?h[y++]=p:(p<2048?h[y++]=192|p>>>6:(p<65536?h[y++]=224|p>>>12:(h[y++]=240|p>>>18,h[y++]=128|p>>>12&63),h[y++]=128|p>>>6&63),h[y++]=128|63&p);return h},i.buf2binstring=function(f){return u(f,f.length)},i.binstring2buf=function(f){for(var h=new s.Buf8(f.length),p=0,v=h.length;p<v;p++)h[p]=f.charCodeAt(p);return h},i.buf2string=function(f,h){var p,v,g,y,b=h||f.length,_=new Array(2*b);for(p=v=0;p<b;)if((g=f[p++])<128)_[v++]=g;else if(4<(y=l[g]))_[v++]=65533,p+=y-1;else{for(g&=y===2?31:y===3?15:7;1<y&&p<b;)g=g<<6|63&f[p++],y--;1<y?_[v++]=65533:g<65536?_[v++]=g:(g-=65536,_[v++]=55296|g>>10&1023,_[v++]=56320|1023&g)}return u(_,v)},i.utf8border=function(f,h){var p;for((h=h||f.length)>f.length&&(h=f.length),p=h-1;0<=p&&(192&f[p])==128;)p--;return p<0||p===0?h:p+l[f[p]]>h?p:h}},{"./common":41}],43:[function(n,r,i){r.exports=function(s,a,o,l){for(var c=65535&s|0,u=s>>>16&65535|0,f=0;o!==0;){for(o-=f=2e3<o?2e3:o;u=u+(c=c+a[l++]|0)|0,--f;);c%=65521,u%=65521}return c|u<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var s=(function(){for(var a,o=[],l=0;l<256;l++){a=l;for(var c=0;c<8;c++)a=1&a?3988292384^a>>>1:a>>>1;o[l]=a}return o})();r.exports=function(a,o,l,c){var u=s,f=c+l;a^=-1;for(var h=c;h<f;h++)a=a>>>8^u[255&(a^o[h])];return-1^a}},{}],46:[function(n,r,i){var s,a=n("../utils/common"),o=n("./trees"),l=n("./adler32"),c=n("./crc32"),u=n("./messages"),f=0,h=4,p=0,v=-2,g=-1,y=4,b=2,_=8,w=9,C=286,S=30,R=19,D=2*C+1,N=15,k=3,F=258,P=F+k+1,I=42,U=113,O=1,K=2,X=3,J=4;function ne(V,xe){return V.msg=u[xe],xe}function z(V){return(V<<1)-(4<V?9:0)}function Q(V){for(var xe=V.length;0<=--xe;)V[xe]=0}function B(V){var xe=V.state,Te=xe.pending;Te>V.avail_out&&(Te=V.avail_out),Te!==0&&(a.arraySet(V.output,xe.pending_buf,xe.pending_out,Te,V.next_out),V.next_out+=Te,xe.pending_out+=Te,V.total_out+=Te,V.avail_out-=Te,xe.pending-=Te,xe.pending===0&&(xe.pending_out=0))}function j(V,xe){o._tr_flush_block(V,0<=V.block_start?V.block_start:-1,V.strstart-V.block_start,xe),V.block_start=V.strstart,B(V.strm)}function W(V,xe){V.pending_buf[V.pending++]=xe}function G(V,xe){V.pending_buf[V.pending++]=xe>>>8&255,V.pending_buf[V.pending++]=255&xe}function Y(V,xe){var Te,le,re=V.max_chain_length,oe=V.strstart,he=V.prev_length,we=V.nice_match,ie=V.strstart>V.w_size-P?V.strstart-(V.w_size-P):0,ce=V.window,ge=V.w_mask,ye=V.prev,Ne=V.strstart+F,Ue=ce[oe+he-1],Se=ce[oe+he];V.prev_length>=V.good_match&&(re>>=2),we>V.lookahead&&(we=V.lookahead);do if(ce[(Te=xe)+he]===Se&&ce[Te+he-1]===Ue&&ce[Te]===ce[oe]&&ce[++Te]===ce[oe+1]){oe+=2,Te++;do;while(ce[++oe]===ce[++Te]&&ce[++oe]===ce[++Te]&&ce[++oe]===ce[++Te]&&ce[++oe]===ce[++Te]&&ce[++oe]===ce[++Te]&&ce[++oe]===ce[++Te]&&ce[++oe]===ce[++Te]&&ce[++oe]===ce[++Te]&&oe<Ne);if(le=F-(Ne-oe),oe=Ne-F,he<le){if(V.match_start=xe,we<=(he=le))break;Ue=ce[oe+he-1],Se=ce[oe+he]}}while((xe=ye[xe&ge])>ie&&--re!=0);return he<=V.lookahead?he:V.lookahead}function ee(V){var xe,Te,le,re,oe,he,we,ie,ce,ge,ye=V.w_size;do{if(re=V.window_size-V.lookahead-V.strstart,V.strstart>=ye+(ye-P)){for(a.arraySet(V.window,V.window,ye,ye,0),V.match_start-=ye,V.strstart-=ye,V.block_start-=ye,xe=Te=V.hash_size;le=V.head[--xe],V.head[xe]=ye<=le?le-ye:0,--Te;);for(xe=Te=ye;le=V.prev[--xe],V.prev[xe]=ye<=le?le-ye:0,--Te;);re+=ye}if(V.strm.avail_in===0)break;if(he=V.strm,we=V.window,ie=V.strstart+V.lookahead,ce=re,ge=void 0,ge=he.avail_in,ce<ge&&(ge=ce),Te=ge===0?0:(he.avail_in-=ge,a.arraySet(we,he.input,he.next_in,ge,ie),he.state.wrap===1?he.adler=l(he.adler,we,ge,ie):he.state.wrap===2&&(he.adler=c(he.adler,we,ge,ie)),he.next_in+=ge,he.total_in+=ge,ge),V.lookahead+=Te,V.lookahead+V.insert>=k)for(oe=V.strstart-V.insert,V.ins_h=V.window[oe],V.ins_h=(V.ins_h<<V.hash_shift^V.window[oe+1])&V.hash_mask;V.insert&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[oe+k-1])&V.hash_mask,V.prev[oe&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=oe,oe++,V.insert--,!(V.lookahead+V.insert<k)););}while(V.lookahead<P&&V.strm.avail_in!==0)}function ae(V,xe){for(var Te,le;;){if(V.lookahead<P){if(ee(V),V.lookahead<P&&xe===f)return O;if(V.lookahead===0)break}if(Te=0,V.lookahead>=k&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+k-1])&V.hash_mask,Te=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),Te!==0&&V.strstart-Te<=V.w_size-P&&(V.match_length=Y(V,Te)),V.match_length>=k)if(le=o._tr_tally(V,V.strstart-V.match_start,V.match_length-k),V.lookahead-=V.match_length,V.match_length<=V.max_lazy_match&&V.lookahead>=k){for(V.match_length--;V.strstart++,V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+k-1])&V.hash_mask,Te=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart,--V.match_length!=0;);V.strstart++}else V.strstart+=V.match_length,V.match_length=0,V.ins_h=V.window[V.strstart],V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+1])&V.hash_mask;else le=o._tr_tally(V,0,V.window[V.strstart]),V.lookahead--,V.strstart++;if(le&&(j(V,!1),V.strm.avail_out===0))return O}return V.insert=V.strstart<k-1?V.strstart:k-1,xe===h?(j(V,!0),V.strm.avail_out===0?X:J):V.last_lit&&(j(V,!1),V.strm.avail_out===0)?O:K}function de(V,xe){for(var Te,le,re;;){if(V.lookahead<P){if(ee(V),V.lookahead<P&&xe===f)return O;if(V.lookahead===0)break}if(Te=0,V.lookahead>=k&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+k-1])&V.hash_mask,Te=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),V.prev_length=V.match_length,V.prev_match=V.match_start,V.match_length=k-1,Te!==0&&V.prev_length<V.max_lazy_match&&V.strstart-Te<=V.w_size-P&&(V.match_length=Y(V,Te),V.match_length<=5&&(V.strategy===1||V.match_length===k&&4096<V.strstart-V.match_start)&&(V.match_length=k-1)),V.prev_length>=k&&V.match_length<=V.prev_length){for(re=V.strstart+V.lookahead-k,le=o._tr_tally(V,V.strstart-1-V.prev_match,V.prev_length-k),V.lookahead-=V.prev_length-1,V.prev_length-=2;++V.strstart<=re&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+k-1])&V.hash_mask,Te=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),--V.prev_length!=0;);if(V.match_available=0,V.match_length=k-1,V.strstart++,le&&(j(V,!1),V.strm.avail_out===0))return O}else if(V.match_available){if((le=o._tr_tally(V,0,V.window[V.strstart-1]))&&j(V,!1),V.strstart++,V.lookahead--,V.strm.avail_out===0)return O}else V.match_available=1,V.strstart++,V.lookahead--}return V.match_available&&(le=o._tr_tally(V,0,V.window[V.strstart-1]),V.match_available=0),V.insert=V.strstart<k-1?V.strstart:k-1,xe===h?(j(V,!0),V.strm.avail_out===0?X:J):V.last_lit&&(j(V,!1),V.strm.avail_out===0)?O:K}function fe(V,xe,Te,le,re){this.good_length=V,this.max_lazy=xe,this.nice_length=Te,this.max_chain=le,this.func=re}function Ae(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=_,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*D),this.dyn_dtree=new a.Buf16(2*(2*S+1)),this.bl_tree=new a.Buf16(2*(2*R+1)),Q(this.dyn_ltree),Q(this.dyn_dtree),Q(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(N+1),this.heap=new a.Buf16(2*C+1),Q(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*C+1),Q(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Re(V){var xe;return V&&V.state?(V.total_in=V.total_out=0,V.data_type=b,(xe=V.state).pending=0,xe.pending_out=0,xe.wrap<0&&(xe.wrap=-xe.wrap),xe.status=xe.wrap?I:U,V.adler=xe.wrap===2?0:1,xe.last_flush=f,o._tr_init(xe),p):ne(V,v)}function me(V){var xe=Re(V);return xe===p&&(function(Te){Te.window_size=2*Te.w_size,Q(Te.head),Te.max_lazy_match=s[Te.level].max_lazy,Te.good_match=s[Te.level].good_length,Te.nice_match=s[Te.level].nice_length,Te.max_chain_length=s[Te.level].max_chain,Te.strstart=0,Te.block_start=0,Te.lookahead=0,Te.insert=0,Te.match_length=Te.prev_length=k-1,Te.match_available=0,Te.ins_h=0})(V.state),xe}function Le(V,xe,Te,le,re,oe){if(!V)return v;var he=1;if(xe===g&&(xe=6),le<0?(he=0,le=-le):15<le&&(he=2,le-=16),re<1||w<re||Te!==_||le<8||15<le||xe<0||9<xe||oe<0||y<oe)return ne(V,v);le===8&&(le=9);var we=new Ae;return(V.state=we).strm=V,we.wrap=he,we.gzhead=null,we.w_bits=le,we.w_size=1<<we.w_bits,we.w_mask=we.w_size-1,we.hash_bits=re+7,we.hash_size=1<<we.hash_bits,we.hash_mask=we.hash_size-1,we.hash_shift=~~((we.hash_bits+k-1)/k),we.window=new a.Buf8(2*we.w_size),we.head=new a.Buf16(we.hash_size),we.prev=new a.Buf16(we.w_size),we.lit_bufsize=1<<re+6,we.pending_buf_size=4*we.lit_bufsize,we.pending_buf=new a.Buf8(we.pending_buf_size),we.d_buf=1*we.lit_bufsize,we.l_buf=3*we.lit_bufsize,we.level=xe,we.strategy=oe,we.method=Te,me(V)}s=[new fe(0,0,0,0,function(V,xe){var Te=65535;for(Te>V.pending_buf_size-5&&(Te=V.pending_buf_size-5);;){if(V.lookahead<=1){if(ee(V),V.lookahead===0&&xe===f)return O;if(V.lookahead===0)break}V.strstart+=V.lookahead,V.lookahead=0;var le=V.block_start+Te;if((V.strstart===0||V.strstart>=le)&&(V.lookahead=V.strstart-le,V.strstart=le,j(V,!1),V.strm.avail_out===0)||V.strstart-V.block_start>=V.w_size-P&&(j(V,!1),V.strm.avail_out===0))return O}return V.insert=0,xe===h?(j(V,!0),V.strm.avail_out===0?X:J):(V.strstart>V.block_start&&(j(V,!1),V.strm.avail_out),O)}),new fe(4,4,8,4,ae),new fe(4,5,16,8,ae),new fe(4,6,32,32,ae),new fe(4,4,16,16,de),new fe(8,16,32,32,de),new fe(8,16,128,128,de),new fe(8,32,128,256,de),new fe(32,128,258,1024,de),new fe(32,258,258,4096,de)],i.deflateInit=function(V,xe){return Le(V,xe,_,15,8,0)},i.deflateInit2=Le,i.deflateReset=me,i.deflateResetKeep=Re,i.deflateSetHeader=function(V,xe){return V&&V.state?V.state.wrap!==2?v:(V.state.gzhead=xe,p):v},i.deflate=function(V,xe){var Te,le,re,oe;if(!V||!V.state||5<xe||xe<0)return V?ne(V,v):v;if(le=V.state,!V.output||!V.input&&V.avail_in!==0||le.status===666&&xe!==h)return ne(V,V.avail_out===0?-5:v);if(le.strm=V,Te=le.last_flush,le.last_flush=xe,le.status===I)if(le.wrap===2)V.adler=0,W(le,31),W(le,139),W(le,8),le.gzhead?(W(le,(le.gzhead.text?1:0)+(le.gzhead.hcrc?2:0)+(le.gzhead.extra?4:0)+(le.gzhead.name?8:0)+(le.gzhead.comment?16:0)),W(le,255&le.gzhead.time),W(le,le.gzhead.time>>8&255),W(le,le.gzhead.time>>16&255),W(le,le.gzhead.time>>24&255),W(le,le.level===9?2:2<=le.strategy||le.level<2?4:0),W(le,255&le.gzhead.os),le.gzhead.extra&&le.gzhead.extra.length&&(W(le,255&le.gzhead.extra.length),W(le,le.gzhead.extra.length>>8&255)),le.gzhead.hcrc&&(V.adler=c(V.adler,le.pending_buf,le.pending,0)),le.gzindex=0,le.status=69):(W(le,0),W(le,0),W(le,0),W(le,0),W(le,0),W(le,le.level===9?2:2<=le.strategy||le.level<2?4:0),W(le,3),le.status=U);else{var he=_+(le.w_bits-8<<4)<<8;he|=(2<=le.strategy||le.level<2?0:le.level<6?1:le.level===6?2:3)<<6,le.strstart!==0&&(he|=32),he+=31-he%31,le.status=U,G(le,he),le.strstart!==0&&(G(le,V.adler>>>16),G(le,65535&V.adler)),V.adler=1}if(le.status===69)if(le.gzhead.extra){for(re=le.pending;le.gzindex<(65535&le.gzhead.extra.length)&&(le.pending!==le.pending_buf_size||(le.gzhead.hcrc&&le.pending>re&&(V.adler=c(V.adler,le.pending_buf,le.pending-re,re)),B(V),re=le.pending,le.pending!==le.pending_buf_size));)W(le,255&le.gzhead.extra[le.gzindex]),le.gzindex++;le.gzhead.hcrc&&le.pending>re&&(V.adler=c(V.adler,le.pending_buf,le.pending-re,re)),le.gzindex===le.gzhead.extra.length&&(le.gzindex=0,le.status=73)}else le.status=73;if(le.status===73)if(le.gzhead.name){re=le.pending;do{if(le.pending===le.pending_buf_size&&(le.gzhead.hcrc&&le.pending>re&&(V.adler=c(V.adler,le.pending_buf,le.pending-re,re)),B(V),re=le.pending,le.pending===le.pending_buf_size)){oe=1;break}oe=le.gzindex<le.gzhead.name.length?255&le.gzhead.name.charCodeAt(le.gzindex++):0,W(le,oe)}while(oe!==0);le.gzhead.hcrc&&le.pending>re&&(V.adler=c(V.adler,le.pending_buf,le.pending-re,re)),oe===0&&(le.gzindex=0,le.status=91)}else le.status=91;if(le.status===91)if(le.gzhead.comment){re=le.pending;do{if(le.pending===le.pending_buf_size&&(le.gzhead.hcrc&&le.pending>re&&(V.adler=c(V.adler,le.pending_buf,le.pending-re,re)),B(V),re=le.pending,le.pending===le.pending_buf_size)){oe=1;break}oe=le.gzindex<le.gzhead.comment.length?255&le.gzhead.comment.charCodeAt(le.gzindex++):0,W(le,oe)}while(oe!==0);le.gzhead.hcrc&&le.pending>re&&(V.adler=c(V.adler,le.pending_buf,le.pending-re,re)),oe===0&&(le.status=103)}else le.status=103;if(le.status===103&&(le.gzhead.hcrc?(le.pending+2>le.pending_buf_size&&B(V),le.pending+2<=le.pending_buf_size&&(W(le,255&V.adler),W(le,V.adler>>8&255),V.adler=0,le.status=U)):le.status=U),le.pending!==0){if(B(V),V.avail_out===0)return le.last_flush=-1,p}else if(V.avail_in===0&&z(xe)<=z(Te)&&xe!==h)return ne(V,-5);if(le.status===666&&V.avail_in!==0)return ne(V,-5);if(V.avail_in!==0||le.lookahead!==0||xe!==f&&le.status!==666){var we=le.strategy===2?(function(ie,ce){for(var ge;;){if(ie.lookahead===0&&(ee(ie),ie.lookahead===0)){if(ce===f)return O;break}if(ie.match_length=0,ge=o._tr_tally(ie,0,ie.window[ie.strstart]),ie.lookahead--,ie.strstart++,ge&&(j(ie,!1),ie.strm.avail_out===0))return O}return ie.insert=0,ce===h?(j(ie,!0),ie.strm.avail_out===0?X:J):ie.last_lit&&(j(ie,!1),ie.strm.avail_out===0)?O:K})(le,xe):le.strategy===3?(function(ie,ce){for(var ge,ye,Ne,Ue,Se=ie.window;;){if(ie.lookahead<=F){if(ee(ie),ie.lookahead<=F&&ce===f)return O;if(ie.lookahead===0)break}if(ie.match_length=0,ie.lookahead>=k&&0<ie.strstart&&(ye=Se[Ne=ie.strstart-1])===Se[++Ne]&&ye===Se[++Ne]&&ye===Se[++Ne]){Ue=ie.strstart+F;do;while(ye===Se[++Ne]&&ye===Se[++Ne]&&ye===Se[++Ne]&&ye===Se[++Ne]&&ye===Se[++Ne]&&ye===Se[++Ne]&&ye===Se[++Ne]&&ye===Se[++Ne]&&Ne<Ue);ie.match_length=F-(Ue-Ne),ie.match_length>ie.lookahead&&(ie.match_length=ie.lookahead)}if(ie.match_length>=k?(ge=o._tr_tally(ie,1,ie.match_length-k),ie.lookahead-=ie.match_length,ie.strstart+=ie.match_length,ie.match_length=0):(ge=o._tr_tally(ie,0,ie.window[ie.strstart]),ie.lookahead--,ie.strstart++),ge&&(j(ie,!1),ie.strm.avail_out===0))return O}return ie.insert=0,ce===h?(j(ie,!0),ie.strm.avail_out===0?X:J):ie.last_lit&&(j(ie,!1),ie.strm.avail_out===0)?O:K})(le,xe):s[le.level].func(le,xe);if(we!==X&&we!==J||(le.status=666),we===O||we===X)return V.avail_out===0&&(le.last_flush=-1),p;if(we===K&&(xe===1?o._tr_align(le):xe!==5&&(o._tr_stored_block(le,0,0,!1),xe===3&&(Q(le.head),le.lookahead===0&&(le.strstart=0,le.block_start=0,le.insert=0))),B(V),V.avail_out===0))return le.last_flush=-1,p}return xe!==h?p:le.wrap<=0?1:(le.wrap===2?(W(le,255&V.adler),W(le,V.adler>>8&255),W(le,V.adler>>16&255),W(le,V.adler>>24&255),W(le,255&V.total_in),W(le,V.total_in>>8&255),W(le,V.total_in>>16&255),W(le,V.total_in>>24&255)):(G(le,V.adler>>>16),G(le,65535&V.adler)),B(V),0<le.wrap&&(le.wrap=-le.wrap),le.pending!==0?p:1)},i.deflateEnd=function(V){var xe;return V&&V.state?(xe=V.state.status)!==I&&xe!==69&&xe!==73&&xe!==91&&xe!==103&&xe!==U&&xe!==666?ne(V,v):(V.state=null,xe===U?ne(V,-3):p):v},i.deflateSetDictionary=function(V,xe){var Te,le,re,oe,he,we,ie,ce,ge=xe.length;if(!V||!V.state||(oe=(Te=V.state).wrap)===2||oe===1&&Te.status!==I||Te.lookahead)return v;for(oe===1&&(V.adler=l(V.adler,xe,ge,0)),Te.wrap=0,ge>=Te.w_size&&(oe===0&&(Q(Te.head),Te.strstart=0,Te.block_start=0,Te.insert=0),ce=new a.Buf8(Te.w_size),a.arraySet(ce,xe,ge-Te.w_size,Te.w_size,0),xe=ce,ge=Te.w_size),he=V.avail_in,we=V.next_in,ie=V.input,V.avail_in=ge,V.next_in=0,V.input=xe,ee(Te);Te.lookahead>=k;){for(le=Te.strstart,re=Te.lookahead-(k-1);Te.ins_h=(Te.ins_h<<Te.hash_shift^Te.window[le+k-1])&Te.hash_mask,Te.prev[le&Te.w_mask]=Te.head[Te.ins_h],Te.head[Te.ins_h]=le,le++,--re;);Te.strstart=le,Te.lookahead=k-1,ee(Te)}return Te.strstart+=Te.lookahead,Te.block_start=Te.strstart,Te.insert=Te.lookahead,Te.lookahead=0,Te.match_length=Te.prev_length=k-1,Te.match_available=0,V.next_in=we,V.input=ie,V.avail_in=he,Te.wrap=oe,p},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(s,a){var o,l,c,u,f,h,p,v,g,y,b,_,w,C,S,R,D,N,k,F,P,I,U,O,K;o=s.state,l=s.next_in,O=s.input,c=l+(s.avail_in-5),u=s.next_out,K=s.output,f=u-(a-s.avail_out),h=u+(s.avail_out-257),p=o.dmax,v=o.wsize,g=o.whave,y=o.wnext,b=o.window,_=o.hold,w=o.bits,C=o.lencode,S=o.distcode,R=(1<<o.lenbits)-1,D=(1<<o.distbits)-1;e:do{w<15&&(_+=O[l++]<<w,w+=8,_+=O[l++]<<w,w+=8),N=C[_&R];t:for(;;){if(_>>>=k=N>>>24,w-=k,(k=N>>>16&255)===0)K[u++]=65535&N;else{if(!(16&k)){if((64&k)==0){N=C[(65535&N)+(_&(1<<k)-1)];continue t}if(32&k){o.mode=12;break e}s.msg="invalid literal/length code",o.mode=30;break e}F=65535&N,(k&=15)&&(w<k&&(_+=O[l++]<<w,w+=8),F+=_&(1<<k)-1,_>>>=k,w-=k),w<15&&(_+=O[l++]<<w,w+=8,_+=O[l++]<<w,w+=8),N=S[_&D];n:for(;;){if(_>>>=k=N>>>24,w-=k,!(16&(k=N>>>16&255))){if((64&k)==0){N=S[(65535&N)+(_&(1<<k)-1)];continue n}s.msg="invalid distance code",o.mode=30;break e}if(P=65535&N,w<(k&=15)&&(_+=O[l++]<<w,(w+=8)<k&&(_+=O[l++]<<w,w+=8)),p<(P+=_&(1<<k)-1)){s.msg="invalid distance too far back",o.mode=30;break e}if(_>>>=k,w-=k,(k=u-f)<P){if(g<(k=P-k)&&o.sane){s.msg="invalid distance too far back",o.mode=30;break e}if(U=b,(I=0)===y){if(I+=v-k,k<F){for(F-=k;K[u++]=b[I++],--k;);I=u-P,U=K}}else if(y<k){if(I+=v+y-k,(k-=y)<F){for(F-=k;K[u++]=b[I++],--k;);if(I=0,y<F){for(F-=k=y;K[u++]=b[I++],--k;);I=u-P,U=K}}}else if(I+=y-k,k<F){for(F-=k;K[u++]=b[I++],--k;);I=u-P,U=K}for(;2<F;)K[u++]=U[I++],K[u++]=U[I++],K[u++]=U[I++],F-=3;F&&(K[u++]=U[I++],1<F&&(K[u++]=U[I++]))}else{for(I=u-P;K[u++]=K[I++],K[u++]=K[I++],K[u++]=K[I++],2<(F-=3););F&&(K[u++]=K[I++],1<F&&(K[u++]=K[I++]))}break}}break}}while(l<c&&u<h);l-=F=w>>3,_&=(1<<(w-=F<<3))-1,s.next_in=l,s.next_out=u,s.avail_in=l<c?c-l+5:5-(l-c),s.avail_out=u<h?h-u+257:257-(u-h),o.hold=_,o.bits=w}},{}],49:[function(n,r,i){var s=n("../utils/common"),a=n("./adler32"),o=n("./crc32"),l=n("./inffast"),c=n("./inftrees"),u=1,f=2,h=0,p=-2,v=1,g=852,y=592;function b(I){return(I>>>24&255)+(I>>>8&65280)+((65280&I)<<8)+((255&I)<<24)}function _(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(I){var U;return I&&I.state?(U=I.state,I.total_in=I.total_out=U.total=0,I.msg="",U.wrap&&(I.adler=1&U.wrap),U.mode=v,U.last=0,U.havedict=0,U.dmax=32768,U.head=null,U.hold=0,U.bits=0,U.lencode=U.lendyn=new s.Buf32(g),U.distcode=U.distdyn=new s.Buf32(y),U.sane=1,U.back=-1,h):p}function C(I){var U;return I&&I.state?((U=I.state).wsize=0,U.whave=0,U.wnext=0,w(I)):p}function S(I,U){var O,K;return I&&I.state?(K=I.state,U<0?(O=0,U=-U):(O=1+(U>>4),U<48&&(U&=15)),U&&(U<8||15<U)?p:(K.window!==null&&K.wbits!==U&&(K.window=null),K.wrap=O,K.wbits=U,C(I))):p}function R(I,U){var O,K;return I?(K=new _,(I.state=K).window=null,(O=S(I,U))!==h&&(I.state=null),O):p}var D,N,k=!0;function F(I){if(k){var U;for(D=new s.Buf32(512),N=new s.Buf32(32),U=0;U<144;)I.lens[U++]=8;for(;U<256;)I.lens[U++]=9;for(;U<280;)I.lens[U++]=7;for(;U<288;)I.lens[U++]=8;for(c(u,I.lens,0,288,D,0,I.work,{bits:9}),U=0;U<32;)I.lens[U++]=5;c(f,I.lens,0,32,N,0,I.work,{bits:5}),k=!1}I.lencode=D,I.lenbits=9,I.distcode=N,I.distbits=5}function P(I,U,O,K){var X,J=I.state;return J.window===null&&(J.wsize=1<<J.wbits,J.wnext=0,J.whave=0,J.window=new s.Buf8(J.wsize)),K>=J.wsize?(s.arraySet(J.window,U,O-J.wsize,J.wsize,0),J.wnext=0,J.whave=J.wsize):(K<(X=J.wsize-J.wnext)&&(X=K),s.arraySet(J.window,U,O-K,X,J.wnext),(K-=X)?(s.arraySet(J.window,U,O-K,K,0),J.wnext=K,J.whave=J.wsize):(J.wnext+=X,J.wnext===J.wsize&&(J.wnext=0),J.whave<J.wsize&&(J.whave+=X))),0}i.inflateReset=C,i.inflateReset2=S,i.inflateResetKeep=w,i.inflateInit=function(I){return R(I,15)},i.inflateInit2=R,i.inflate=function(I,U){var O,K,X,J,ne,z,Q,B,j,W,G,Y,ee,ae,de,fe,Ae,Re,me,Le,V,xe,Te,le,re=0,oe=new s.Buf8(4),he=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!I||!I.state||!I.output||!I.input&&I.avail_in!==0)return p;(O=I.state).mode===12&&(O.mode=13),ne=I.next_out,X=I.output,Q=I.avail_out,J=I.next_in,K=I.input,z=I.avail_in,B=O.hold,j=O.bits,W=z,G=Q,xe=h;e:for(;;)switch(O.mode){case v:if(O.wrap===0){O.mode=13;break}for(;j<16;){if(z===0)break e;z--,B+=K[J++]<<j,j+=8}if(2&O.wrap&&B===35615){oe[O.check=0]=255&B,oe[1]=B>>>8&255,O.check=o(O.check,oe,2,0),j=B=0,O.mode=2;break}if(O.flags=0,O.head&&(O.head.done=!1),!(1&O.wrap)||(((255&B)<<8)+(B>>8))%31){I.msg="incorrect header check",O.mode=30;break}if((15&B)!=8){I.msg="unknown compression method",O.mode=30;break}if(j-=4,V=8+(15&(B>>>=4)),O.wbits===0)O.wbits=V;else if(V>O.wbits){I.msg="invalid window size",O.mode=30;break}O.dmax=1<<V,I.adler=O.check=1,O.mode=512&B?10:12,j=B=0;break;case 2:for(;j<16;){if(z===0)break e;z--,B+=K[J++]<<j,j+=8}if(O.flags=B,(255&O.flags)!=8){I.msg="unknown compression method",O.mode=30;break}if(57344&O.flags){I.msg="unknown header flags set",O.mode=30;break}O.head&&(O.head.text=B>>8&1),512&O.flags&&(oe[0]=255&B,oe[1]=B>>>8&255,O.check=o(O.check,oe,2,0)),j=B=0,O.mode=3;case 3:for(;j<32;){if(z===0)break e;z--,B+=K[J++]<<j,j+=8}O.head&&(O.head.time=B),512&O.flags&&(oe[0]=255&B,oe[1]=B>>>8&255,oe[2]=B>>>16&255,oe[3]=B>>>24&255,O.check=o(O.check,oe,4,0)),j=B=0,O.mode=4;case 4:for(;j<16;){if(z===0)break e;z--,B+=K[J++]<<j,j+=8}O.head&&(O.head.xflags=255&B,O.head.os=B>>8),512&O.flags&&(oe[0]=255&B,oe[1]=B>>>8&255,O.check=o(O.check,oe,2,0)),j=B=0,O.mode=5;case 5:if(1024&O.flags){for(;j<16;){if(z===0)break e;z--,B+=K[J++]<<j,j+=8}O.length=B,O.head&&(O.head.extra_len=B),512&O.flags&&(oe[0]=255&B,oe[1]=B>>>8&255,O.check=o(O.check,oe,2,0)),j=B=0}else O.head&&(O.head.extra=null);O.mode=6;case 6:if(1024&O.flags&&(z<(Y=O.length)&&(Y=z),Y&&(O.head&&(V=O.head.extra_len-O.length,O.head.extra||(O.head.extra=new Array(O.head.extra_len)),s.arraySet(O.head.extra,K,J,Y,V)),512&O.flags&&(O.check=o(O.check,K,Y,J)),z-=Y,J+=Y,O.length-=Y),O.length))break e;O.length=0,O.mode=7;case 7:if(2048&O.flags){if(z===0)break e;for(Y=0;V=K[J+Y++],O.head&&V&&O.length<65536&&(O.head.name+=String.fromCharCode(V)),V&&Y<z;);if(512&O.flags&&(O.check=o(O.check,K,Y,J)),z-=Y,J+=Y,V)break e}else O.head&&(O.head.name=null);O.length=0,O.mode=8;case 8:if(4096&O.flags){if(z===0)break e;for(Y=0;V=K[J+Y++],O.head&&V&&O.length<65536&&(O.head.comment+=String.fromCharCode(V)),V&&Y<z;);if(512&O.flags&&(O.check=o(O.check,K,Y,J)),z-=Y,J+=Y,V)break e}else O.head&&(O.head.comment=null);O.mode=9;case 9:if(512&O.flags){for(;j<16;){if(z===0)break e;z--,B+=K[J++]<<j,j+=8}if(B!==(65535&O.check)){I.msg="header crc mismatch",O.mode=30;break}j=B=0}O.head&&(O.head.hcrc=O.flags>>9&1,O.head.done=!0),I.adler=O.check=0,O.mode=12;break;case 10:for(;j<32;){if(z===0)break e;z--,B+=K[J++]<<j,j+=8}I.adler=O.check=b(B),j=B=0,O.mode=11;case 11:if(O.havedict===0)return I.next_out=ne,I.avail_out=Q,I.next_in=J,I.avail_in=z,O.hold=B,O.bits=j,2;I.adler=O.check=1,O.mode=12;case 12:if(U===5||U===6)break e;case 13:if(O.last){B>>>=7&j,j-=7&j,O.mode=27;break}for(;j<3;){if(z===0)break e;z--,B+=K[J++]<<j,j+=8}switch(O.last=1&B,j-=1,3&(B>>>=1)){case 0:O.mode=14;break;case 1:if(F(O),O.mode=20,U!==6)break;B>>>=2,j-=2;break e;case 2:O.mode=17;break;case 3:I.msg="invalid block type",O.mode=30}B>>>=2,j-=2;break;case 14:for(B>>>=7&j,j-=7&j;j<32;){if(z===0)break e;z--,B+=K[J++]<<j,j+=8}if((65535&B)!=(B>>>16^65535)){I.msg="invalid stored block lengths",O.mode=30;break}if(O.length=65535&B,j=B=0,O.mode=15,U===6)break e;case 15:O.mode=16;case 16:if(Y=O.length){if(z<Y&&(Y=z),Q<Y&&(Y=Q),Y===0)break e;s.arraySet(X,K,J,Y,ne),z-=Y,J+=Y,Q-=Y,ne+=Y,O.length-=Y;break}O.mode=12;break;case 17:for(;j<14;){if(z===0)break e;z--,B+=K[J++]<<j,j+=8}if(O.nlen=257+(31&B),B>>>=5,j-=5,O.ndist=1+(31&B),B>>>=5,j-=5,O.ncode=4+(15&B),B>>>=4,j-=4,286<O.nlen||30<O.ndist){I.msg="too many length or distance symbols",O.mode=30;break}O.have=0,O.mode=18;case 18:for(;O.have<O.ncode;){for(;j<3;){if(z===0)break e;z--,B+=K[J++]<<j,j+=8}O.lens[he[O.have++]]=7&B,B>>>=3,j-=3}for(;O.have<19;)O.lens[he[O.have++]]=0;if(O.lencode=O.lendyn,O.lenbits=7,Te={bits:O.lenbits},xe=c(0,O.lens,0,19,O.lencode,0,O.work,Te),O.lenbits=Te.bits,xe){I.msg="invalid code lengths set",O.mode=30;break}O.have=0,O.mode=19;case 19:for(;O.have<O.nlen+O.ndist;){for(;fe=(re=O.lencode[B&(1<<O.lenbits)-1])>>>16&255,Ae=65535&re,!((de=re>>>24)<=j);){if(z===0)break e;z--,B+=K[J++]<<j,j+=8}if(Ae<16)B>>>=de,j-=de,O.lens[O.have++]=Ae;else{if(Ae===16){for(le=de+2;j<le;){if(z===0)break e;z--,B+=K[J++]<<j,j+=8}if(B>>>=de,j-=de,O.have===0){I.msg="invalid bit length repeat",O.mode=30;break}V=O.lens[O.have-1],Y=3+(3&B),B>>>=2,j-=2}else if(Ae===17){for(le=de+3;j<le;){if(z===0)break e;z--,B+=K[J++]<<j,j+=8}j-=de,V=0,Y=3+(7&(B>>>=de)),B>>>=3,j-=3}else{for(le=de+7;j<le;){if(z===0)break e;z--,B+=K[J++]<<j,j+=8}j-=de,V=0,Y=11+(127&(B>>>=de)),B>>>=7,j-=7}if(O.have+Y>O.nlen+O.ndist){I.msg="invalid bit length repeat",O.mode=30;break}for(;Y--;)O.lens[O.have++]=V}}if(O.mode===30)break;if(O.lens[256]===0){I.msg="invalid code -- missing end-of-block",O.mode=30;break}if(O.lenbits=9,Te={bits:O.lenbits},xe=c(u,O.lens,0,O.nlen,O.lencode,0,O.work,Te),O.lenbits=Te.bits,xe){I.msg="invalid literal/lengths set",O.mode=30;break}if(O.distbits=6,O.distcode=O.distdyn,Te={bits:O.distbits},xe=c(f,O.lens,O.nlen,O.ndist,O.distcode,0,O.work,Te),O.distbits=Te.bits,xe){I.msg="invalid distances set",O.mode=30;break}if(O.mode=20,U===6)break e;case 20:O.mode=21;case 21:if(6<=z&&258<=Q){I.next_out=ne,I.avail_out=Q,I.next_in=J,I.avail_in=z,O.hold=B,O.bits=j,l(I,G),ne=I.next_out,X=I.output,Q=I.avail_out,J=I.next_in,K=I.input,z=I.avail_in,B=O.hold,j=O.bits,O.mode===12&&(O.back=-1);break}for(O.back=0;fe=(re=O.lencode[B&(1<<O.lenbits)-1])>>>16&255,Ae=65535&re,!((de=re>>>24)<=j);){if(z===0)break e;z--,B+=K[J++]<<j,j+=8}if(fe&&(240&fe)==0){for(Re=de,me=fe,Le=Ae;fe=(re=O.lencode[Le+((B&(1<<Re+me)-1)>>Re)])>>>16&255,Ae=65535&re,!(Re+(de=re>>>24)<=j);){if(z===0)break e;z--,B+=K[J++]<<j,j+=8}B>>>=Re,j-=Re,O.back+=Re}if(B>>>=de,j-=de,O.back+=de,O.length=Ae,fe===0){O.mode=26;break}if(32&fe){O.back=-1,O.mode=12;break}if(64&fe){I.msg="invalid literal/length code",O.mode=30;break}O.extra=15&fe,O.mode=22;case 22:if(O.extra){for(le=O.extra;j<le;){if(z===0)break e;z--,B+=K[J++]<<j,j+=8}O.length+=B&(1<<O.extra)-1,B>>>=O.extra,j-=O.extra,O.back+=O.extra}O.was=O.length,O.mode=23;case 23:for(;fe=(re=O.distcode[B&(1<<O.distbits)-1])>>>16&255,Ae=65535&re,!((de=re>>>24)<=j);){if(z===0)break e;z--,B+=K[J++]<<j,j+=8}if((240&fe)==0){for(Re=de,me=fe,Le=Ae;fe=(re=O.distcode[Le+((B&(1<<Re+me)-1)>>Re)])>>>16&255,Ae=65535&re,!(Re+(de=re>>>24)<=j);){if(z===0)break e;z--,B+=K[J++]<<j,j+=8}B>>>=Re,j-=Re,O.back+=Re}if(B>>>=de,j-=de,O.back+=de,64&fe){I.msg="invalid distance code",O.mode=30;break}O.offset=Ae,O.extra=15&fe,O.mode=24;case 24:if(O.extra){for(le=O.extra;j<le;){if(z===0)break e;z--,B+=K[J++]<<j,j+=8}O.offset+=B&(1<<O.extra)-1,B>>>=O.extra,j-=O.extra,O.back+=O.extra}if(O.offset>O.dmax){I.msg="invalid distance too far back",O.mode=30;break}O.mode=25;case 25:if(Q===0)break e;if(Y=G-Q,O.offset>Y){if((Y=O.offset-Y)>O.whave&&O.sane){I.msg="invalid distance too far back",O.mode=30;break}ee=Y>O.wnext?(Y-=O.wnext,O.wsize-Y):O.wnext-Y,Y>O.length&&(Y=O.length),ae=O.window}else ae=X,ee=ne-O.offset,Y=O.length;for(Q<Y&&(Y=Q),Q-=Y,O.length-=Y;X[ne++]=ae[ee++],--Y;);O.length===0&&(O.mode=21);break;case 26:if(Q===0)break e;X[ne++]=O.length,Q--,O.mode=21;break;case 27:if(O.wrap){for(;j<32;){if(z===0)break e;z--,B|=K[J++]<<j,j+=8}if(G-=Q,I.total_out+=G,O.total+=G,G&&(I.adler=O.check=O.flags?o(O.check,X,G,ne-G):a(O.check,X,G,ne-G)),G=Q,(O.flags?B:b(B))!==O.check){I.msg="incorrect data check",O.mode=30;break}j=B=0}O.mode=28;case 28:if(O.wrap&&O.flags){for(;j<32;){if(z===0)break e;z--,B+=K[J++]<<j,j+=8}if(B!==(4294967295&O.total)){I.msg="incorrect length check",O.mode=30;break}j=B=0}O.mode=29;case 29:xe=1;break e;case 30:xe=-3;break e;case 31:return-4;case 32:default:return p}return I.next_out=ne,I.avail_out=Q,I.next_in=J,I.avail_in=z,O.hold=B,O.bits=j,(O.wsize||G!==I.avail_out&&O.mode<30&&(O.mode<27||U!==4))&&P(I,I.output,I.next_out,G-I.avail_out)?(O.mode=31,-4):(W-=I.avail_in,G-=I.avail_out,I.total_in+=W,I.total_out+=G,O.total+=G,O.wrap&&G&&(I.adler=O.check=O.flags?o(O.check,X,G,I.next_out-G):a(O.check,X,G,I.next_out-G)),I.data_type=O.bits+(O.last?64:0)+(O.mode===12?128:0)+(O.mode===20||O.mode===15?256:0),(W==0&&G===0||U===4)&&xe===h&&(xe=-5),xe)},i.inflateEnd=function(I){if(!I||!I.state)return p;var U=I.state;return U.window&&(U.window=null),I.state=null,h},i.inflateGetHeader=function(I,U){var O;return I&&I.state?(2&(O=I.state).wrap)==0?p:((O.head=U).done=!1,h):p},i.inflateSetDictionary=function(I,U){var O,K=U.length;return I&&I.state?(O=I.state).wrap!==0&&O.mode!==11?p:O.mode===11&&a(1,U,K,0)!==O.check?-3:P(I,U,K,K)?(O.mode=31,-4):(O.havedict=1,h):p},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var s=n("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(u,f,h,p,v,g,y,b){var _,w,C,S,R,D,N,k,F,P=b.bits,I=0,U=0,O=0,K=0,X=0,J=0,ne=0,z=0,Q=0,B=0,j=null,W=0,G=new s.Buf16(16),Y=new s.Buf16(16),ee=null,ae=0;for(I=0;I<=15;I++)G[I]=0;for(U=0;U<p;U++)G[f[h+U]]++;for(X=P,K=15;1<=K&&G[K]===0;K--);if(K<X&&(X=K),K===0)return v[g++]=20971520,v[g++]=20971520,b.bits=1,0;for(O=1;O<K&&G[O]===0;O++);for(X<O&&(X=O),I=z=1;I<=15;I++)if(z<<=1,(z-=G[I])<0)return-1;if(0<z&&(u===0||K!==1))return-1;for(Y[1]=0,I=1;I<15;I++)Y[I+1]=Y[I]+G[I];for(U=0;U<p;U++)f[h+U]!==0&&(y[Y[f[h+U]]++]=U);if(D=u===0?(j=ee=y,19):u===1?(j=a,W-=257,ee=o,ae-=257,256):(j=l,ee=c,-1),I=O,R=g,ne=U=B=0,C=-1,S=(Q=1<<(J=X))-1,u===1&&852<Q||u===2&&592<Q)return 1;for(;;){for(N=I-ne,F=y[U]<D?(k=0,y[U]):y[U]>D?(k=ee[ae+y[U]],j[W+y[U]]):(k=96,0),_=1<<I-ne,O=w=1<<J;v[R+(B>>ne)+(w-=_)]=N<<24|k<<16|F|0,w!==0;);for(_=1<<I-1;B&_;)_>>=1;if(_!==0?(B&=_-1,B+=_):B=0,U++,--G[I]==0){if(I===K)break;I=f[h+y[U]]}if(X<I&&(B&S)!==C){for(ne===0&&(ne=X),R+=O,z=1<<(J=I-ne);J+ne<K&&!((z-=G[J+ne])<=0);)J++,z<<=1;if(Q+=1<<J,u===1&&852<Q||u===2&&592<Q)return 1;v[C=B&S]=X<<24|J<<16|R-g|0}}return B!==0&&(v[R+B]=I-ne<<24|64<<16|0),b.bits=X,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var s=n("../utils/common"),a=0,o=1;function l(re){for(var oe=re.length;0<=--oe;)re[oe]=0}var c=0,u=29,f=256,h=f+1+u,p=30,v=19,g=2*h+1,y=15,b=16,_=7,w=256,C=16,S=17,R=18,D=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],N=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],P=new Array(2*(h+2));l(P);var I=new Array(2*p);l(I);var U=new Array(512);l(U);var O=new Array(256);l(O);var K=new Array(u);l(K);var X,J,ne,z=new Array(p);function Q(re,oe,he,we,ie){this.static_tree=re,this.extra_bits=oe,this.extra_base=he,this.elems=we,this.max_length=ie,this.has_stree=re&&re.length}function B(re,oe){this.dyn_tree=re,this.max_code=0,this.stat_desc=oe}function j(re){return re<256?U[re]:U[256+(re>>>7)]}function W(re,oe){re.pending_buf[re.pending++]=255&oe,re.pending_buf[re.pending++]=oe>>>8&255}function G(re,oe,he){re.bi_valid>b-he?(re.bi_buf|=oe<<re.bi_valid&65535,W(re,re.bi_buf),re.bi_buf=oe>>b-re.bi_valid,re.bi_valid+=he-b):(re.bi_buf|=oe<<re.bi_valid&65535,re.bi_valid+=he)}function Y(re,oe,he){G(re,he[2*oe],he[2*oe+1])}function ee(re,oe){for(var he=0;he|=1&re,re>>>=1,he<<=1,0<--oe;);return he>>>1}function ae(re,oe,he){var we,ie,ce=new Array(y+1),ge=0;for(we=1;we<=y;we++)ce[we]=ge=ge+he[we-1]<<1;for(ie=0;ie<=oe;ie++){var ye=re[2*ie+1];ye!==0&&(re[2*ie]=ee(ce[ye]++,ye))}}function de(re){var oe;for(oe=0;oe<h;oe++)re.dyn_ltree[2*oe]=0;for(oe=0;oe<p;oe++)re.dyn_dtree[2*oe]=0;for(oe=0;oe<v;oe++)re.bl_tree[2*oe]=0;re.dyn_ltree[2*w]=1,re.opt_len=re.static_len=0,re.last_lit=re.matches=0}function fe(re){8<re.bi_valid?W(re,re.bi_buf):0<re.bi_valid&&(re.pending_buf[re.pending++]=re.bi_buf),re.bi_buf=0,re.bi_valid=0}function Ae(re,oe,he,we){var ie=2*oe,ce=2*he;return re[ie]<re[ce]||re[ie]===re[ce]&&we[oe]<=we[he]}function Re(re,oe,he){for(var we=re.heap[he],ie=he<<1;ie<=re.heap_len&&(ie<re.heap_len&&Ae(oe,re.heap[ie+1],re.heap[ie],re.depth)&&ie++,!Ae(oe,we,re.heap[ie],re.depth));)re.heap[he]=re.heap[ie],he=ie,ie<<=1;re.heap[he]=we}function me(re,oe,he){var we,ie,ce,ge,ye=0;if(re.last_lit!==0)for(;we=re.pending_buf[re.d_buf+2*ye]<<8|re.pending_buf[re.d_buf+2*ye+1],ie=re.pending_buf[re.l_buf+ye],ye++,we===0?Y(re,ie,oe):(Y(re,(ce=O[ie])+f+1,oe),(ge=D[ce])!==0&&G(re,ie-=K[ce],ge),Y(re,ce=j(--we),he),(ge=N[ce])!==0&&G(re,we-=z[ce],ge)),ye<re.last_lit;);Y(re,w,oe)}function Le(re,oe){var he,we,ie,ce=oe.dyn_tree,ge=oe.stat_desc.static_tree,ye=oe.stat_desc.has_stree,Ne=oe.stat_desc.elems,Ue=-1;for(re.heap_len=0,re.heap_max=g,he=0;he<Ne;he++)ce[2*he]!==0?(re.heap[++re.heap_len]=Ue=he,re.depth[he]=0):ce[2*he+1]=0;for(;re.heap_len<2;)ce[2*(ie=re.heap[++re.heap_len]=Ue<2?++Ue:0)]=1,re.depth[ie]=0,re.opt_len--,ye&&(re.static_len-=ge[2*ie+1]);for(oe.max_code=Ue,he=re.heap_len>>1;1<=he;he--)Re(re,ce,he);for(ie=Ne;he=re.heap[1],re.heap[1]=re.heap[re.heap_len--],Re(re,ce,1),we=re.heap[1],re.heap[--re.heap_max]=he,re.heap[--re.heap_max]=we,ce[2*ie]=ce[2*he]+ce[2*we],re.depth[ie]=(re.depth[he]>=re.depth[we]?re.depth[he]:re.depth[we])+1,ce[2*he+1]=ce[2*we+1]=ie,re.heap[1]=ie++,Re(re,ce,1),2<=re.heap_len;);re.heap[--re.heap_max]=re.heap[1],(function(Se,Me){var Oe,Xe,rt,it,Lt,_n,cn=Me.dyn_tree,Nr=Me.max_code,Qn=Me.stat_desc.static_tree,Zn=Me.stat_desc.has_stree,lr=Me.stat_desc.extra_bits,Qt=Me.stat_desc.extra_base,Tn=Me.stat_desc.max_length,pe=0;for(it=0;it<=y;it++)Se.bl_count[it]=0;for(cn[2*Se.heap[Se.heap_max]+1]=0,Oe=Se.heap_max+1;Oe<g;Oe++)Tn<(it=cn[2*cn[2*(Xe=Se.heap[Oe])+1]+1]+1)&&(it=Tn,pe++),cn[2*Xe+1]=it,Nr<Xe||(Se.bl_count[it]++,Lt=0,Qt<=Xe&&(Lt=lr[Xe-Qt]),_n=cn[2*Xe],Se.opt_len+=_n*(it+Lt),Zn&&(Se.static_len+=_n*(Qn[2*Xe+1]+Lt)));if(pe!==0){do{for(it=Tn-1;Se.bl_count[it]===0;)it--;Se.bl_count[it]--,Se.bl_count[it+1]+=2,Se.bl_count[Tn]--,pe-=2}while(0<pe);for(it=Tn;it!==0;it--)for(Xe=Se.bl_count[it];Xe!==0;)Nr<(rt=Se.heap[--Oe])||(cn[2*rt+1]!==it&&(Se.opt_len+=(it-cn[2*rt+1])*cn[2*rt],cn[2*rt+1]=it),Xe--)}})(re,oe),ae(ce,Ue,re.bl_count)}function V(re,oe,he){var we,ie,ce=-1,ge=oe[1],ye=0,Ne=7,Ue=4;for(ge===0&&(Ne=138,Ue=3),oe[2*(he+1)+1]=65535,we=0;we<=he;we++)ie=ge,ge=oe[2*(we+1)+1],++ye<Ne&&ie===ge||(ye<Ue?re.bl_tree[2*ie]+=ye:ie!==0?(ie!==ce&&re.bl_tree[2*ie]++,re.bl_tree[2*C]++):ye<=10?re.bl_tree[2*S]++:re.bl_tree[2*R]++,ce=ie,Ue=(ye=0)===ge?(Ne=138,3):ie===ge?(Ne=6,3):(Ne=7,4))}function xe(re,oe,he){var we,ie,ce=-1,ge=oe[1],ye=0,Ne=7,Ue=4;for(ge===0&&(Ne=138,Ue=3),we=0;we<=he;we++)if(ie=ge,ge=oe[2*(we+1)+1],!(++ye<Ne&&ie===ge)){if(ye<Ue)for(;Y(re,ie,re.bl_tree),--ye!=0;);else ie!==0?(ie!==ce&&(Y(re,ie,re.bl_tree),ye--),Y(re,C,re.bl_tree),G(re,ye-3,2)):ye<=10?(Y(re,S,re.bl_tree),G(re,ye-3,3)):(Y(re,R,re.bl_tree),G(re,ye-11,7));ce=ie,Ue=(ye=0)===ge?(Ne=138,3):ie===ge?(Ne=6,3):(Ne=7,4)}}l(z);var Te=!1;function le(re,oe,he,we){G(re,(c<<1)+(we?1:0),3),(function(ie,ce,ge,ye){fe(ie),W(ie,ge),W(ie,~ge),s.arraySet(ie.pending_buf,ie.window,ce,ge,ie.pending),ie.pending+=ge})(re,oe,he)}i._tr_init=function(re){Te||((function(){var oe,he,we,ie,ce,ge=new Array(y+1);for(ie=we=0;ie<u-1;ie++)for(K[ie]=we,oe=0;oe<1<<D[ie];oe++)O[we++]=ie;for(O[we-1]=ie,ie=ce=0;ie<16;ie++)for(z[ie]=ce,oe=0;oe<1<<N[ie];oe++)U[ce++]=ie;for(ce>>=7;ie<p;ie++)for(z[ie]=ce<<7,oe=0;oe<1<<N[ie]-7;oe++)U[256+ce++]=ie;for(he=0;he<=y;he++)ge[he]=0;for(oe=0;oe<=143;)P[2*oe+1]=8,oe++,ge[8]++;for(;oe<=255;)P[2*oe+1]=9,oe++,ge[9]++;for(;oe<=279;)P[2*oe+1]=7,oe++,ge[7]++;for(;oe<=287;)P[2*oe+1]=8,oe++,ge[8]++;for(ae(P,h+1,ge),oe=0;oe<p;oe++)I[2*oe+1]=5,I[2*oe]=ee(oe,5);X=new Q(P,D,f+1,h,y),J=new Q(I,N,0,p,y),ne=new Q(new Array(0),k,0,v,_)})(),Te=!0),re.l_desc=new B(re.dyn_ltree,X),re.d_desc=new B(re.dyn_dtree,J),re.bl_desc=new B(re.bl_tree,ne),re.bi_buf=0,re.bi_valid=0,de(re)},i._tr_stored_block=le,i._tr_flush_block=function(re,oe,he,we){var ie,ce,ge=0;0<re.level?(re.strm.data_type===2&&(re.strm.data_type=(function(ye){var Ne,Ue=4093624447;for(Ne=0;Ne<=31;Ne++,Ue>>>=1)if(1&Ue&&ye.dyn_ltree[2*Ne]!==0)return a;if(ye.dyn_ltree[18]!==0||ye.dyn_ltree[20]!==0||ye.dyn_ltree[26]!==0)return o;for(Ne=32;Ne<f;Ne++)if(ye.dyn_ltree[2*Ne]!==0)return o;return a})(re)),Le(re,re.l_desc),Le(re,re.d_desc),ge=(function(ye){var Ne;for(V(ye,ye.dyn_ltree,ye.l_desc.max_code),V(ye,ye.dyn_dtree,ye.d_desc.max_code),Le(ye,ye.bl_desc),Ne=v-1;3<=Ne&&ye.bl_tree[2*F[Ne]+1]===0;Ne--);return ye.opt_len+=3*(Ne+1)+5+5+4,Ne})(re),ie=re.opt_len+3+7>>>3,(ce=re.static_len+3+7>>>3)<=ie&&(ie=ce)):ie=ce=he+5,he+4<=ie&&oe!==-1?le(re,oe,he,we):re.strategy===4||ce===ie?(G(re,2+(we?1:0),3),me(re,P,I)):(G(re,4+(we?1:0),3),(function(ye,Ne,Ue,Se){var Me;for(G(ye,Ne-257,5),G(ye,Ue-1,5),G(ye,Se-4,4),Me=0;Me<Se;Me++)G(ye,ye.bl_tree[2*F[Me]+1],3);xe(ye,ye.dyn_ltree,Ne-1),xe(ye,ye.dyn_dtree,Ue-1)})(re,re.l_desc.max_code+1,re.d_desc.max_code+1,ge+1),me(re,re.dyn_ltree,re.dyn_dtree)),de(re),we&&fe(re)},i._tr_tally=function(re,oe,he){return re.pending_buf[re.d_buf+2*re.last_lit]=oe>>>8&255,re.pending_buf[re.d_buf+2*re.last_lit+1]=255&oe,re.pending_buf[re.l_buf+re.last_lit]=255&he,re.last_lit++,oe===0?re.dyn_ltree[2*he]++:(re.matches++,oe--,re.dyn_ltree[2*(O[he]+f+1)]++,re.dyn_dtree[2*j(oe)]++),re.last_lit===re.lit_bufsize-1},i._tr_align=function(re){G(re,2,3),Y(re,w,P),(function(oe){oe.bi_valid===16?(W(oe,oe.bi_buf),oe.bi_buf=0,oe.bi_valid=0):8<=oe.bi_valid&&(oe.pending_buf[oe.pending++]=255&oe.bi_buf,oe.bi_buf>>=8,oe.bi_valid-=8)})(re)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(s){(function(a,o){if(!a.setImmediate){var l,c,u,f,h=1,p={},v=!1,g=a.document,y=Object.getPrototypeOf&&Object.getPrototypeOf(a);y=y&&y.setTimeout?y:a,l={}.toString.call(a.process)==="[object process]"?function(C){process.nextTick(function(){_(C)})}:(function(){if(a.postMessage&&!a.importScripts){var C=!0,S=a.onmessage;return a.onmessage=function(){C=!1},a.postMessage("","*"),a.onmessage=S,C}})()?(f="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",w,!1):a.attachEvent("onmessage",w),function(C){a.postMessage(f+C,"*")}):a.MessageChannel?((u=new MessageChannel).port1.onmessage=function(C){_(C.data)},function(C){u.port2.postMessage(C)}):g&&"onreadystatechange"in g.createElement("script")?(c=g.documentElement,function(C){var S=g.createElement("script");S.onreadystatechange=function(){_(C),S.onreadystatechange=null,c.removeChild(S),S=null},c.appendChild(S)}):function(C){setTimeout(_,0,C)},y.setImmediate=function(C){typeof C!="function"&&(C=new Function(""+C));for(var S=new Array(arguments.length-1),R=0;R<S.length;R++)S[R]=arguments[R+1];var D={callback:C,args:S};return p[h]=D,l(h),h++},y.clearImmediate=b}function b(C){delete p[C]}function _(C){if(v)setTimeout(_,0,C);else{var S=p[C];if(S){v=!0;try{(function(R){var D=R.callback,N=R.args;switch(N.length){case 0:D();break;case 1:D(N[0]);break;case 2:D(N[0],N[1]);break;case 3:D(N[0],N[1],N[2]);break;default:D.apply(o,N)}})(S)}finally{b(C),v=!1}}}}function w(C){C.source===a&&typeof C.data=="string"&&C.data.indexOf(f)===0&&_(+C.data.slice(f.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof hs<"u"?hs:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(gC)),gC.exports}var ume=xH();const fp=ab(ume),Xa="https://datas.gitut.com";async function lu(t,e){const n=await fetch(t);if(!n.ok)throw new Error(`Failed to fetch ${e} from ${t}. Status: ${n.status} ${n.statusText}`);const r=await n.text();try{return JSON.parse(r)}catch{const s=r.length>100?r.substring(0,100)+"...":r;throw new Error(`Failed to parse JSON for ${e} from ${t}. Content started with: "${s}"`)}}const In={faviconUrl:"",payment:{ccp:"",baridiMob:"",paypalEmail:"",paypalEnabled:!1,exchangeRate:1},pricing:{dynamicDocument:{dzd:50,usd:.5},siteFormFill:{dzd:20,usd:.2},staticDocumentDownload:{dzd:10,usd:.1}},seo:{default:{siteName:"Gitut",tagline:"Your Document Assistant",titleSeparator:"|",metaDescription:"Find internet cafes to get your documents done.",mainPageTitle:"Get Your Documents Done with Ease",mainPageSubtitle:"Find a nearby internet cafe, send your request remotely, and pick up your ready documents.",googleAnalyticsId:"G-2BKKWGCXWX",googleSearchConsoleId:""}},social:{default:{facebook:"",twitter:"",instagram:"",facebookPageId:"",facebookGroupId:"",facebookPageAccessToken:""}},ads:{pdfInterstitialTimer:5},ai:{apiKey:"",useAdminKey:!0}},dme=t=>t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,""),fme="https://gitut.com/api/",hme="@@??YOUYOU@@??YOUYOU1936";function pme(){return new Promise((t,e)=>{if(jr.currentUser)return t(jr.currentUser);const n=jr.onAuthStateChanged(r=>{n(),r?t(r):e(new Error("User not authenticated for API call."))})})}async function zt(t,e){try{const r=await(await pme()).getIdToken(),i=await fetch(fme,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`,"x-api-proxy-key":hme},body:JSON.stringify({action:t,payload:e})});if(t==="getDoc"&&i.status===404)return console.warn(`API call for getDoc on ${e.collection}/${e.id} returned 404. Returning null.`),null;if(!i.ok){let a;try{a=await i.json()}catch{a=null}throw new Error((a==null?void 0:a.error)||`Request failed with status ${i.status}`)}const s=await i.text();return s?JSON.parse(s):null}catch(n){throw console.error(`API Service Error (${t}):`,n),n}}const cu=async t=>zt("uploadFilesToGitHub",t),gm=async t=>{const n=await(i=>new Promise((s,a)=>{const o=new FileReader;o.readAsDataURL(i),o.onload=()=>s(o.result.split(",")[1]),o.onerror=l=>a(l)}))(t);return(await zt("uploadFile",{fileData:n,fileName:t.name,fileType:t.type})).url},yC=async t=>{const e=`${Xa}/data/json/${t}-cafes-public.json`,n=`${Xa}/data/json/${t}-all-services-public.json`,r=`${Xa}/data/json/site-settings-public.json`,i=`${Xa}/data/json/${t}-pages-public.json`,s=`${Xa}/data/json/ads-public.json`,a=`${Xa}/data/json/tags-map-public.json`,[o,l,c,u,f,h]=await Promise.all([lu(n,`${t}-all-services-public.json`),lu(e,`${t}-cafes-public.json`),lu(r,"site-settings-public.json"),lu(i,`${t}-pages-public.json`),lu(s,"ads-public.json"),lu(a,"tags-map-public.json").catch(()=>null)]);let p=[];if(h&&h.length>0){const w=h[0];if(w&&typeof w=="object"){const C=Object.values(w),S=["ar","en","fr"],R=[];for(const k of S)for(const F of C){const P=`${Xa}/data/json/${k}-${F}-blog-posts-public.json`;R.push(lu(P,P.split("/").pop()).then(I=>({lang:k,posts:I})).catch(()=>({lang:k,posts:[]})))}const D=await Promise.all(R),N=new Map;D.forEach(({lang:k,posts:F})=>{F.forEach(P=>{if(N.has(P.id)){const I=N.get(P.id);I.content||(I.content={}),I.content[k]=P.content}else{const I={...P};I.content={[k]:P.content},N.set(P.id,I)}})}),p=Array.from(N.values())}}const v=o.filter(w=>w.serviceType==="doc"),g=o.filter(w=>w.serviceType==="static-doc"),y=o.filter(w=>w.serviceType==="site"),b={...In,...c,payment:{...In.payment,...c.payment||{}},pricing:{...In.pricing,...c.pricing||{}},social:{...In.social,...c.social||{}},ads:{...In.ads,...c.ads||{}},ai:{...In.ai,...c.ai||{}}},_=p.map(w=>({...w,createdAt:w.createdAt?Vr.firestore.Timestamp.fromDate(new Date(w.createdAt)):Vr.firestore.Timestamp.now(),publishedAt:w.publishedAt?Vr.firestore.Timestamp.fromDate(new Date(w.publishedAt)):void 0}));return{documents:v,staticDocuments:g,cafes:l,siteSettings:b,pages:u,blogPosts:_,sites:y,ads:f,services:o}},h9=async t=>{const e=`${Xa}/data/json/${t}-locations.json`;return lu(e,`${t}-locations.json`)},LA=async()=>zt("getCollection",{collection:"cafes"}),jA=async()=>zt("getCollection",{collection:"users"}),XI=async t=>zt("getDoc",{collection:"cafes",id:t}),mme=async t=>(await zt("getCollection",{collection:"cafes",where:[{field:"numericId",op:"==",value:t}],limit:1}))[0]||null,Tx=async t=>zt("getDoc",{collection:"users",id:t}),p9=async()=>zt("getMonthlyRevenue",{}),gme=async(t,e)=>zt("createUserAndCafe",{uid:t.uid,email:t.email,emailVerified:t.emailVerified,cafeData:e}),yme=async(t,e)=>{await zt("updateDoc",{collection:"cafes",id:t,data:e})},JI=async(t,e)=>zt("deductCredits",{userId:t.id,amount:e}),vme=async(t,e)=>zt("syncOfflineDeductions",{userId:t,deductions:e}),xme=async(t,e)=>{const n=mm.collection("jobs"),r=e?n.doc(e):n.doc(),i={...t,createdAt:Date.now(),status:"Pending"};return await r.set(i),{...i,id:r.id}},_me=async(t,e)=>{await mm.collection("jobs").doc(t).update(e)},bme=async t=>zt("getCollection",{collection:"payment_requests",where:[{field:"userId",op:"==",value:t}],orderBy:"date"}),BA=async()=>zt("getCollection",{collection:"payment_requests",orderBy:"date"}),wme=async t=>zt("getCollection",{collection:"invoices",where:[{field:"userId",op:"==",value:t}],orderBy:"date"}),Tme=async()=>zt("getCollection",{collection:"invoices",orderBy:"date"}),m9=async(t,e,n,r,i)=>zt("addPaymentRequest",{userId:t,amount:e,currency:n,method:r,proofOfPaymentUrl:i}),Eme=async t=>zt("approvePaymentRequest",{requestId:t.id}),g9=async()=>zt("getDataVersion",{}),Cme=async()=>zt("incrementDataVersion",{}),P_=async()=>zt("getDoc",{collection:"settings",id:"site"}),_H=async t=>zt("updateDoc",{collection:"settings",id:"site",data:t}),VA=async()=>{const t=await zt("getDoc",{collection:"excel_commands",id:"main"});if(t&&typeof t.config=="string")try{return JSON.parse(t.config)}catch(e){return console.error("Failed to parse excel_commands config",e),null}return(t==null?void 0:t.config)||null},Sme=async t=>zt("updateDoc",{collection:"excel_commands",id:"main",data:{config:JSON.stringify(t,null,2)}}),Yf=t=>({getAll:()=>zt("getCollection",{collection:t}),get:e=>zt("getDoc",{collection:t,id:e}),create:async e=>await zt("createDoc",{collection:t,data:e}),update:async(e,n)=>{await zt("updateDoc",{collection:t,id:e,data:n})},delete:async e=>{await zt("deleteDoc",{collection:t,id:e})}}),vp={getAll:()=>zt("getCollection",{collection:"pages"}),create:async t=>{const e=await zt("createDoc",{collection:"pages",data:t});return await mr("pages",e),e},update:async(t,e)=>{await zt("updateDoc",{collection:"pages",id:t,data:e});const n=await Ms("pages",t);n&&await mr("pages",{...n,...e,id:t})},delete:async t=>{await zt("deleteDoc",{collection:"pages",id:t}),await If("pages",t)},toggleStatus:async(t,e)=>{const n={enabled:!e};await zt("updateDoc",{collection:"pages",id:t,data:n});const r=await Ms("pages",t);r&&await mr("pages",{...r,...n,id:t})}},xp={...Yf("ads"),toggleStatus:async(t,e)=>{const n={enabled:!e};await zt("updateDoc",{collection:"ads",id:t,data:n});const r=await Ms("ads",t);r&&await mr("ads",{...r,...n,id:t})}},_p={...Yf("blog"),create:async t=>{const e=await zt("createDoc",{collection:"blog",data:t});return await mr("blogPosts",e),e},update:async(t,e)=>{await zt("updateDoc",{collection:"blog",id:t,data:e});const n=await Ms("blogPosts",t);n&&await mr("blogPosts",{...n,...e,id:t})},delete:async t=>{await zt("deleteDoc",{collection:"blog",id:t}),await If("blogPosts",t)},toggleStatus:async(t,e)=>{const n={enabled:!e};await zt("updateDoc",{collection:"blog",id:t,data:n});const r=await Ms("blogPosts",t);r&&await mr("blogPosts",{...r,...n,id:t})}},z0=Yf("codes"),Zd=Yf("sites"),of=Yf("staticDocuments"),y9={getAll:()=>zt("getCollection",{collection:"voice_prompts"}),create:async t=>{const e=await gm(t),n=await zt("createDoc",{collection:"voice_prompts",data:{name:t.name,url:e,createdAt:new Date().toISOString()}});return await mr("voice_prompts",n),n},delete:async(t,e)=>{await zt("deleteFile",{fileUrl:e}),await zt("deleteDoc",{collection:"voice_prompts",id:t}),await If("voice_prompts",t)}},hp={getAll:async()=>{const t=await zt("getClients",{});return await Ai("clients",t),t},create:async t=>{const e=await zt("createClient",{clientData:t});return await mr("clients",e),e},update:async(t,e)=>{await zt("updateClient",{id:t,updates:e});const n=await Ms("clients",t);n&&await mr("clients",{...n,...e,id:t})},delete:async t=>{await zt("deleteClient",{id:t}),await If("clients",t)}},fl={...Yf("documents"),create:async t=>{const{id:e,...n}=t,r=await zt("createDocWithId",{collection:"documents",id:e,data:n});return await mr("documents",r),await mr("fullDocuments",r),r}},kp=()=>zt("getCollection",{collection:"documents"}),ym=Yf("baseTemplates"),v9=t=>t?t.replace(/\s{2,}/g," ").replace(/\n/g,"").trim():"",Dme=async t=>{const e=`<!DOCTYPE html><html lang="ar" dir="rtl"><head><meta charset="UTF-8"><title>${t.prompt}</title><style>${t.sharedStyles}</style></head><body>${t.previewHtml}</body></html>`,n=`<!DOCTYPE html><html lang="ar" dir="rtl"><head><meta charset="UTF-8"><title>${t.prompt}</title><style>${t.sharedStyles}</style></head><body>${t.templateHtml}</body></html>`,r={name:t.prompt,description:t.description,tags:t.tags,requiredFields:t.requiredFields,complexFields:t.complexFields,slug:dme(t.prompt),previewTemplateHtml:v9(e),finalTemplateHtml:v9(n),previewTemplateUrl:"",finalTemplateUrl:""};if(t.docToEdit)await fl.update(t.docToEdit.id,r);else{const i=t.fileNameBase,s={...r,id:i,groupId:i};await fl.create(s)}},WA=async()=>{const t=await zt("getDoc",{collection:"document_commands",id:"main"});if(t&&typeof t.config=="string")try{return JSON.parse(t.config)}catch(e){return console.error("Failed to parse document_commands config",e),null}return(t==null?void 0:t.config)||null},Ame=async t=>zt("updateDoc",{collection:"document_commands",id:"main",data:{config:JSON.stringify(t,null,2)}}),H0=t=>{const e=/\[([a-zA-Z0-9_]+)\]/g,n=[...t.matchAll(e)],r=new Set(n.map(a=>a[1])),i=new Set(Object.keys(ei)),s=Array.from(r).filter(a=>i.has(a));return[...new Set(s)]},F_=async(t,e,n=!1)=>{let r;switch(t){case"cafes":return r=await qn("cafes"),(!r||r.length===0)&&(console.log("Cache miss for cafes, fetching from API."),r=await LA()),r.filter(c=>c.isProfilePublished&&(!e||e==="global"||c.countryCode===e)).map(({id:c,numericId:u,name:f,owner:h,countryCode:p,address:v,description:g,imageUrl:y,coverImageUrl:b,googleMapsUrl:_,phone:w,socials:C,services:S})=>({id:c,numericId:u,name:f,owner:h,countryCode:p,address:v,description:g,imageUrl:y,coverImageUrl:b,googleMapsUrl:_,phone:w,socials:C,services:S}));case"services":{let c=await qn("fullDocuments"),u=await qn("staticDocuments"),f=await qn("sites");return(c.length===0||u.length===0||f.length===0)&&([c,u,f]=await Promise.all([kp(),of.getAll(),Zd.getAll()])),[...c.map(p=>({...p,serviceType:"doc"})),...u.map(p=>({...p,serviceType:"static-doc"})),...f.map(p=>({...p,serviceType:"site"}))].filter(p=>!p.countryCode||e==="global"||p.countryCode===e).map(p=>{if(p.serviceType==="doc"){const{id:v,groupId:g,name:y,countryCode:b,slug:_,tags:w,serviceType:C,previewTemplateHtml:S,finalTemplateHtml:R}=p;return{id:v,groupId:g,name:y,countryCode:b,slug:_,tags:w,serviceType:C,previewTemplateHtml:S,finalTemplateHtml:R}}else if(p.serviceType==="static-doc"){const{id:v,name:g,countryCode:y,fileUrl:b,slug:_,tags:w,serviceType:C}=p;return{id:v,name:g,countryCode:y,fileUrl:b,slug:_,tags:w,serviceType:C}}else if(p.serviceType==="site"){const{id:v,name:g,url:y,type:b,countryCode:_,tags:w,slug:C,serviceType:S}=p;return{id:v,name:g,url:y,type:b,countryCode:_,tags:w,slug:C,serviceType:S}}return p})}case"blog":{let c=await qn("blogPosts");(!c||c.length===0)&&(console.log("Cache miss for blog posts, fetching from API."),c=await _p.getAll());const u=y=>{if(!y)return;if(y instanceof Vr.firestore.Timestamp)return y.toDate().toISOString();if(typeof y=="object"&&y!==null&&typeof y.seconds=="number")return new Date(y.seconds*1e3).toISOString();const b=new Date(y);return isNaN(b.getTime())?String(y):b.toISOString()},f=c.filter(y=>y.enabled).map(y=>({...y,createdAt:u(y.createdAt),publishedAt:u(y.publishedAt)})),h=new Set;f.forEach(y=>{(y.tags?y.tags.split(",").map(_=>_.trim().toLowerCase()).filter(Boolean):[]).forEach(_=>h.add(_))});const p=new Map;Array.from(h).forEach((y,b)=>{p.set(y,b+1)});const g={"tags-map-public.json":[Object.fromEntries(p)]};for(const y of f){const b=y.tags?y.tags.split(",").map(w=>w.trim().toLowerCase()).filter(Boolean):[];if(b.length===0)continue;const _=Object.keys(y.content||{});for(const w of _){const{countryCode:C,...S}=y,R={...S,content:y.content[w]};for(const D of b){const N=p.get(D);if(N===void 0)continue;const k=`${w}-${N}-blog-posts-public.json`;g[k]||(g[k]=[]),g[k].push(R)}}}return g}case"pages":return r=await qn("pages"),(!r||r.length===0)&&(console.log("Cache miss for pages, fetching from API."),r=await vp.getAll()),r.filter(c=>c.enabled);case"settings":if(r=await Ms("siteSettings","main"),r||(console.log("Cache miss for settings, fetching from API."),r=await P_()),!r)return{};const{payment:i,ai:s,...a}=r,o=await fetch(`${Xa}/data/json/site-seo.json`),l=o.ok?await o.json():{};return{...a,seo:{...a.seo,...l}};case"ads":return r=await qn("ads"),(!r||r.length===0)&&(console.log("Cache miss for ads, fetching from API."),r=await xp.getAll()),r.filter(c=>c.enabled);case"documents":return r=await qn("fullDocuments"),(!r||r.length===0)&&(console.log("Cache miss for fullDocuments, fetching from API."),r=await kp()),r;case"templates-paginated":{let c=await qn("fullDocuments");(!c||c.length===0)&&(c=await kp());const u=p=>{const{description:v,...g}=p;return g},f=20,h=Math.ceil(c.length/f);if(n){const p=[];for(let v=0;v<h;v++){const g=c.slice(v*f,(v+1)*f);p.push({fileName:`templates-part-${v+1}.json`,data:g.map(u)})}return p}for(let p=0;p<h;p++){const g=c.slice(p*f,(p+1)*f).map(u),y=new Blob([JSON.stringify(g)],{type:"application/json"}),b=URL.createObjectURL(y),_=document.createElement("a");_.href=b,_.download=`templates-part-${p+1}-of-${h}.json`,document.body.appendChild(_),_.click(),document.body.removeChild(_),URL.revokeObjectURL(b),await new Promise(w=>setTimeout(w,300))}return{downloadInitiated:!0,chunks:h}}}};async function Nme(t){const{saveAs:e}=await Gee(async()=>{const{saveAs:u}=await import("https://esm.sh/file-saver@2.0.5");return{saveAs:u}},[]),n=new fp,r=n.folder("json"),i=n.folder("pdf");if(!r||!i)throw new Error("Failed to create folders in zip file.");const s=[{dataType:"cafes",countryCode:t,fileName:`${t}-cafes-public.json`},{dataType:"services",countryCode:t,fileName:`${t}-all-services-public.json`},{dataType:"blog",countryCode:"global",fileName:"blog-posts-public.json"},{dataType:"pages",countryCode:t,fileName:`${t}-pages-public.json`},{dataType:"settings",countryCode:"global",fileName:"site-settings-public.json"},{dataType:"ads",countryCode:"global",fileName:"ads-public.json"}];for(const u of s){const f=await F_(u.dataType,u.countryCode);r.file(u.fileName,JSON.stringify(f))}const a=await F_("templates-paginated","global",!0);if(Array.isArray(a))for(const u of a)r.file(u.fileName,JSON.stringify(u.data));let o=await qn("staticDocuments");(!o||o.length===0)&&(o=await of.getAll());const l=o.filter(u=>!u.countryCode||u.countryCode===t);for(const u of l){const f=u.fileUrl.split("/").pop();if(f)try{const h=await fetch(`${Xa}/data/pdf/${f}`);if(h.ok){const p=await h.blob();i.file(f,p)}else console.warn(`Could not fetch static PDF: ${Xa}/data/pdf/${f}. Status: ${h.status}`)}catch(h){console.error(`Error fetching static PDF: ${Xa}/data/pdf/${f}`,h)}}const c=await n.generateAsync({type:"blob"});e(c,`${t}-public-data.zip`)}const bH=q.createContext(void 0),Ime=({children:t})=>{const[e,n]=q.useState(null),[r,i]=q.useState(!0),s=q.useCallback(async p=>{const v=await lme();if(v.length!==0)try{console.log(`Syncing ${v.length} offline transactions...`),await vme(p,v),await cme(),console.log("Sync successful.");const g=await Tx(p);if(g&&jr.currentUser){const y={...g,emailVerified:jr.currentUser.emailVerified};n(y),await mr("userProfile",{...y,id:"currentUser"})}}catch(g){console.error("Failed to sync pending transactions. They will be retried later.",g)}},[]),a=q.useCallback(async()=>{const p=jr.currentUser;if(p)try{const v=await Tx(p.uid);if(v){const g={...v,emailVerified:p.emailVerified};n(g),await mr("userProfile",{...g,id:"currentUser"})}}catch(v){console.error("Failed to refetch user profile:",v)}},[]);q.useEffect(()=>{const p=()=>{e!=null&&e.id&&s(e.id)};return window.addEventListener("online",p),()=>window.removeEventListener("online",p)},[e,s]),q.useEffect(()=>{i(!0);const p=jr.onAuthStateChanged(async v=>{if(v&&v.email==="mgkrol99@gmail.com"){e&&n(null),i(!1);return}if(v)try{const y=await Tx(v.uid);if(y){const b={...y,emailVerified:v.emailVerified},_=mm.collection("users").doc(v.uid);!(await _.get()).exists&&y.cafeId&&v.email&&(console.log("Firestore user document for security rules not found. Creating it now..."),await _.set({cafeId:y.cafeId,email:v.email})),n(b),await mr("userProfile",{...b,id:"currentUser"}),navigator.onLine&&await s(v.uid)}else console.error(`Inconsistent state: User ${v.uid} exists in Auth but not in D1 DB. Forcing logout.`),await jr.signOut()}catch(y){console.error("Failed to fetch user profile due to API error. Checking local cache for offline support.",y);const b=await Ms("userProfile","currentUser");b&&b.id===v.uid?(console.warn("Using stale user profile from local DB due to API failure or offline mode."),n(b)):(console.error(`No valid profile found for ${v.uid} online or locally. Forcing logout.`),await jr.signOut())}finally{i(!1)}else n(null),await If("userProfile","currentUser"),i(!1)});return()=>p()},[s]);const o=async p=>{if(e){const v={...e,credits:{...e.credits,amount:p}};n(v),await mr("userProfile",{...v,id:"currentUser"})}},l=async(p,v)=>{try{const y=(await jr.signInWithEmailAndPassword(p,v)).user;if(!y)throw new Error("No Firebase user returned after sign-in.");const b=await Tx(y.uid);if(!b)throw await jr.signOut(),new Error("User profile not found in database.");const _={...b,emailVerified:y.emailVerified};return n(_),await mr("userProfile",{..._,id:"currentUser"}),_}catch(g){throw console.error("Firebase login error:",g),g}},c=async(p,v,g)=>{try{const y=await jr.createUserWithEmailAndPassword(p,v);if(y.user){await y.user.sendEmailVerification();const b=await gme(y.user,g);return b&&b.cafeId?await mm.collection("users").doc(y.user.uid).set({cafeId:b.cafeId,email:y.user.email}):console.error("Critical Error: User profile was created in D1 but cafeId was not returned. Firestore document for security rules could not be created."),await jr.signOut(),!0}return!1}catch(y){throw console.error("Signup error:",y),y}},u=async()=>{await jr.signOut(),n(null),await If("userProfile","currentUser")},f=async p=>{await jr.sendPasswordResetEmail(p)},h=async()=>{if(jr.currentUser)await jr.currentUser.sendEmailVerification();else throw new Error("No user is currently signed in.")};return d.jsx(bH.Provider,{value:{user:e,loading:r,login:l,signup:c,logout:u,sendPasswordReset:f,resendVerificationEmail:h,updateUserCredits:o,refetchUser:a},children:t})},Ar=()=>{const t=q.useContext(bH);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},rd=t=>{switch(t){case"us":return"en";case"fr":return"fr";default:return"ar"}},ef=[{code:"ar",name:""},{code:"en",name:"English"},{code:"fr",name:"Franais"},{code:"es",name:"Espaol"},{code:"de",name:"Deutsch"},{code:"it",name:"Italiano"},{code:"pt",name:"Portugus"},{code:"ru",name:""},{code:"ja",name:""},{code:"zh",name:""},{code:"hi",name:""},{code:"tr",name:"Trke"}],Yg={header:{search:"Search",login:"Cafe Owner Login",dashboard:"Dashboard",logout:"Logout"},footer:{blog:"Blog",services:"Services List",rightsReserved:"All rights reserved."},share:{title:"Share:"},relatedServices:{title:"Related Services"},relatedPosts:{title:"Related Posts"},relatedPages:{title:"Other Pages"},login:{title:"Cafe Owner Login",emailLabel:"Email",passwordLabel:"Password",forgotPassword:"Forgot password?",loginButton:"Login",loggingInButton:"Logging in...",noAccount:"Don't have an account?",createAccount:"Create a new account",error:{fillAllFields:"Please fill in all fields.",verifyEmail:"Please check your email to activate your account.",wrongCredentials:"The email or password is incorrect.",enterEmail:"Please enter your email address."},reset:{title:"Reset Password",emailLabel:"Registered Email",sendButton:"Send Reset Link",sendingButton:"Sending...",successMessage:"A password reset link has been sent. Please check your inbox.",errorMessage:"Failed to send email. Please try again.",backToLogin:"Back to Login"}},signup:{title:"Create a New Account",accountInfo:"Account Information",email:"Email",password:"Password",passwordPlaceholder:"At least 6 characters",confirmPassword:"Confirm Password",cafeInfo:"Cafe Information",cafeName:"Cafe's Business Name",cafeNamePlaceholder:"e.g., The Cozy Corner",ownerName:"Owner's Full Name",ownerNamePlaceholder:"e.g., John Doe",country:"Country",wilaya:"State/Province",daira:"District",commune:"City/Municipality",state:"State / Province",city:"City",street:"Street Address",loading:"Loading...",selectWilaya:"Select State",selectDaira:"Select District",selectCommune:"Select City",statePlaceholder:"e.g., California, Riyadh",cityPlaceholder:"e.g., Paris, Jeddah",streetPlaceholder:"e.g., 123 Liberty St",createButton:"Create Account & Cafe",creatingButton:"Creating...",haveAccount:"Already have an account?",loginHere:"Login here",errors:{allowedDomains:"Please use a Gmail or Microsoft email (Outlook, Hotmail, Live).",fillAllFields:"Please fill in all fields.",passwordsMismatch:"Passwords do not match.",passwordLength:"Password must be at least 6 characters.",signupFailed:"This email is already in use or a registration error occurred. Please try again."},success:{title:"Account Created Successfully!",message:"We have sent a verification link to your email",instruction:"Please click the link to activate your account before logging in.",loginButton:"Go to Login Page"}},findPage:{hero:{title1:"Get your documents done with ease",subtitle1:"Find a nearby internet cafe, send your request remotely, and pick up your ready documents.",title2:"Do you own an internet cafe?",subtitle2:"Join our platform, receive customer requests electronically, and increase your profits."},step1:{title:"Step 1: Search and Add Required Documents",placeholder:"Enter document name (e.g., CV)...",voiceSearchTitle:"Search using voice"},selectedDocs:{title:"Selected Documents",viewFile:"View File",removeTitle:"Remove",nextStepButton:"Next Step: Find a cafe for {count} document(s)",nextStepButtonDisabledTitle:"At least one fillable document must be selected",emptyState:"Start by searching for a document to add to your list."},alert:{selectFillable:"Please select at least one fillable document to proceed and find a cafe."}},notFound:{title:"404 - Page Not Found",message:"Sorry, the page you are looking for does not exist.",button:"Go to Homepage"},formFields:{profilePicture:"Profile Picture",fullName:"Full Name",firstName:"First Name",lastName:"Last Name",firstNameFr:"First Name (French)",lastNameFr:"Last Name (French)",birthdaydate:"Date of Birth",birthdayplace:"Place of Birth",address:"Full Address",phone:"Phone Number",email:"Email",jobTitle:"Job Title",nationalId:"National ID Number",birthCertificateNumber:"Birth Certificate Number",socialSecurityNumber:"Social Security Number",nationality:"Nationality",maritalStatus:"Marital Status",motherFirstName:"Mother's First Name",motherLastName:"Mother's Last Name",motherDob:"Mother's Date of Birth",motherPob:"Mother's Place of Birth",fatherFirstName:"Father's First Name",fatherLastName:"Father's Last Name",fatherDob:"Father's Date of Birth",fatherPob:"Father's Place of Birth",residenceWilaya:"State of Residence",residenceDaira:"District of Residence",residenceCommune:"City of Residence",residenceStreet:"Street of Residence",birthWilaya:"State of Birth",birthDaira:"District of Birth",birthCommune:"City of Birth",bloodType:"Blood Type",dateToday:"Today's Date",gender:"Gender",height:"Height (cm)",eyeColor:"Eye Color",distinguishingMarks:"Distinguishing Marks",employerName:"Name of the employing institution",employerAddress:"Employer Address",educationLevel:"Education Level",universityName:"University Name",graduationDate:"Graduation Date",fieldOfStudy:"Field of Study",higherInstituteName:"Higher Institute Name",vocationalTrainingCenterName:"Vocational Training Center Name",schoolName:"School Name",highSchoolName:"High School Name",middleSchoolName:"Middle School Name",universityCity:"University City",passportNumber:"Passport Number",passportIssueDate:"Passport Issue Date",passportExpiryDate:"Passport Expiry Date",passportIssuePlace:"Passport Place of Issue",drivingLicenseNumber:"Driver's License Number",drivingLicenseCategory:"Driver's License Category",drivingLicenseIssueDate:"Driver's License Issue Date",numberOfChildren:"Number of Children",spouseFullName:"Spouse's Full Name",spouseDob:"Spouse's Date of Birth",spouseJob:"Spouse's Job",militaryStatus:"Military Service Status",submissionWilaya:"Submission Province",submissionDaira:"Submission District",submissionCommune:"Submission Municipality",employerWilaya:"Employer's Province",employerDaira:"Employer's District",employerCommune:"Employer's Municipality",criminalRecordNumber:"Criminal Record Number",criminalRecordIssueDate:"Criminal Record Issue Date",criminalRecordIssuePlace:"Criminal Record Issue Place",commercialRegistryNumber:"Commercial Registry Number",taxIdNumber:"Tax ID Number (NIF)",casnosNumber:"CASNOS Number",vehicleRegistrationCardNumber:"Vehicle Registration Card Number",vehicleType:"Vehicle Type",vehicleBrand:"Vehicle Brand",vehicleModel:"Vehicle Model",vehicleFirstRegistrationDate:"Vehicle First Registration Date",bankName:"Bank Name",bankAccountNumber:"Bank Account Number (RIB)",bankAgencyName:"Bank Agency Name",bankAgencyCode:"Bank Agency Code",employmentContractType:"Employment Contract Type",employmentStartDate:"Employment Start Date",employeeIdNumber:"Employee ID Number",professionalGrade:"Professional Grade/Rank",nationalIdIssueDate:"National ID Issue Date",nationalIdExpiryDate:"National ID Expiry Date",drivingLicenseExpiryDate:"Driving License Expiry Date",familyBookNumber:"Family Book Number",marriageDate:"Marriage Date",marriagePlace:"Place of Marriage",rentalContractNumber:"Rental Contract Number",landlordName:"Landlord Full Name",propertyAddress:"Property Address",attendingPhysicianName:"Attending Physician Name",currentTime:"Current Time",currentYear:"Current Year",documentName:"Document Name",age:"Age",fullDateLongAr:"Full Date (Arabic)",hijriDate:"Hijri Date",placeholders:{profilePicture:"Choose a profile picture",fullName:"e.g., John Doe",firstName:"e.g., John",lastName:"e.g., Doe",firstNameFr:"e.g., John",lastNameFr:"e.g., Doe",birthdayplace:"e.g., New York",address:"e.g., 123 Liberty St, New York",phone:"e.g., 555-123-4567",email:"e.g., user@example.com",jobTitle:"e.g., Engineer, Student",nationalId:"e.g., 123456789012345678",birthCertificateNumber:"e.g., 1990/00123",socialSecurityNumber:"e.g., 123456789012",nationality:"e.g., American",maritalStatus:"Select status",motherFirstName:"Person's mother's first name",motherLastName:"Person's mother's last name",motherPob:"Mother's place of birth",fatherFirstName:"Person's father's first name",fatherLastName:"Person's father's last name",fatherPob:"Father's place of birth",residenceWilaya:"e.g., California",residenceDaira:"e.g., Los Angeles County",residenceCommune:"e.g., Los Angeles",residenceStreet:"e.g., Rodeo Drive",birthWilaya:"e.g., Texas",birthDaira:"e.g., Harris County",birthCommune:"e.g., Houston",bloodType:"e.g., O+",gender:"Select gender",height:"e.g., 175",eyeColor:"e.g., Brown",distinguishingMarks:"e.g., Scar on left cheek",employerName:"e.g., Acme Corporation",employerAddress:"e.g., 123 Main St, Anytown",educationLevel:"Select level",universityName:"e.g., University of Technology",fieldOfStudy:"e.g., Computer Science",higherInstituteName:"e.g., Higher Institute of Technology",vocationalTrainingCenterName:"e.g., Vocational Training Center of Hussein Dey",schoolName:"e.g., Biskri Brothers School",highSchoolName:"e.g., Colonel Lotfi High School",middleSchoolName:"e.g., Ibn Khaldoun Middle School",universityCity:"e.g., Oran",passportNumber:"e.g., 12345ABC",passportIssuePlace:"e.g., Anytown",drivingLicenseNumber:"e.g., 123456789",drivingLicenseCategory:"e.g., B",numberOfChildren:"e.g., 2",spouseFullName:"e.g., Jane Doe",spouseJob:"e.g., Doctor",militaryStatus:"e.g., Completed, Exempt, Deferred",submissionWilaya:"e.g., Algiers",submissionDaira:"e.g., Sidi M'Hamed",submissionCommune:"e.g., Alger Centre",employerWilaya:"e.g., Oran",employerDaira:"e.g., Oran",employerCommune:"e.g., Oran",criminalRecordNumber:"e.g., 123/2024",criminalRecordIssuePlace:"e.g., Court of Sidi M'Hamed",commercialRegistryNumber:"e.g., 16/00-1234567 A 24",taxIdNumber:"e.g., 123456789012345",casnosNumber:"e.g., 123456789012",vehicleRegistrationCardNumber:"e.g., 12345 123 16",vehicleType:"e.g., Tourism",vehicleBrand:"e.g., Renault",vehicleModel:"e.g., Clio 4",bankName:"e.g., Bank of America",bankAccountNumber:"e.g., 0030012345678901234567",bankAgencyName:"e.g., Main Street Branch",bankAgencyCode:"e.g., 00123",employmentContractType:"e.g., Permanent contract",employeeIdNumber:"e.g., 987654",professionalGrade:"e.g., Grade 12, State Engineer",familyBookNumber:"e.g., 12345/2020",marriagePlace:"e.g., Central Municipality",rentalContractNumber:"e.g., 2024/A-45",landlordName:"e.g., John Smith",propertyAddress:"e.g., 50 Victory St, Oran",attendingPhysicianName:"e.g., Dr. Khaled Ben Salem"},maritalStatusOptions:{single:"Single",married:"Married",divorced:"Divorced"},genderOptions:{male:"Male",female:"Female"},educationLevelOptions:{primary:"Primary School",middle:"Middle School",high:"High School",university:"University",postgraduate:"Postgraduate"}}},M_={ar:{header:{search:"",login:"  ",dashboard:" ",logout:" "},footer:{blog:"",services:" ",rightsReserved:"  ."},share:{title:":"},relatedServices:{title:"  "},relatedPosts:{title:"  "},relatedPages:{title:" "},login:{title:"   ",emailLabel:" ",passwordLabel:" ",forgotPassword:"  ",loginButton:" ",loggingInButton:" ...",noAccount:"  ",createAccount:"  ",error:{fillAllFields:"   .",verifyEmail:"      .",wrongCredentials:"      .",enterEmail:"    ."},reset:{title:"   ",emailLabel:"  ",sendButton:"  ",sendingButton:" ...",successMessage:"      .     .",errorMessage:"   .    .",backToLogin:"   "}},signup:{title:"  ",accountInfo:" ",email:" ",password:" ",passwordPlaceholder:"6   ",confirmPassword:"  ",cafeInfo:" ",cafeName:"  ",cafeNamePlaceholder:":  ",ownerName:"  ",ownerNamePlaceholder:":  ",country:"",wilaya:"",daira:"",commune:"",state:" / ",city:"",street:" ",loading:" ...",selectWilaya:" ",selectDaira:" ",selectCommune:" ",statePlaceholder:":  ",cityPlaceholder:":  ",streetPlaceholder:": 123  ",createButton:"  ",creatingButton:" ...",haveAccount:"  ",loginHere:"   ",errors:{allowedDomains:"     Gmail  Microsoft (Outlook, Hotmail, Live).",fillAllFields:"   .",passwordsMismatch:"   .",passwordLength:"      6   .",signupFailed:"         .    ."},success:{title:"   !",message:"      ",instruction:"        .",loginButton:"    "}},findPage:{hero:{title1:"   ",subtitle1:"            .",title2:"   ",subtitle2:"         ."},step1:{title:" 1:    ",placeholder:"   (:  )...",voiceSearchTitle:"  "},selectedDocs:{title:" ",viewFile:" ",removeTitle:"",nextStepButton:" :     {count} ()",nextStepButtonDisabledTitle:"      ",emptyState:"      ."},alert:{selectFillable:"      ( )    ."}},notFound:{title:"404 -   ",message:"      .",button:"   "},formFields:{profilePicture:" ",fullName:"  ",firstName:"",lastName:"",firstNameFr:" ",lastNameFr:" ",birthdaydate:" ",birthdayplace:" ",address:" ",phone:" ",email:" ",jobTitle:"",nationalId:"   ",birthCertificateNumber:"  ",socialSecurityNumber:"  ",nationality:"",maritalStatus:" ",motherFirstName:" ",motherLastName:" ",motherDob:"  ",motherPob:"  ",fatherFirstName:" ",fatherLastName:" ",fatherDob:"  ",fatherPob:"  ",residenceWilaya:" ",residenceDaira:" ",residenceCommune:" ",residenceStreet:" ",birthWilaya:" ",birthDaira:" ",birthCommune:" ",bloodType:" ",dateToday:" ",gender:"",height:" ()",eyeColor:" ",distinguishingMarks:" ",employerName:"    ",employerAddress:"  ",educationLevel:" ",universityName:" ",graduationDate:" ",fieldOfStudy:" ",higherInstituteName:"  ",vocationalTrainingCenterName:"   ",schoolName:" ",highSchoolName:" ",middleSchoolName:" ",universityCity:"    ",passportNumber:"  ",passportIssueDate:"   ",passportExpiryDate:"    ",passportIssuePlace:"   ",drivingLicenseNumber:"  ",drivingLicenseCategory:"  ",drivingLicenseIssueDate:"   ",numberOfChildren:" ",spouseFullName:"  /",spouseDob:"  /",spouseJob:" /",militaryStatus:"   ",submissionWilaya:"    ",submissionDaira:"    ",submissionCommune:"    ",employerWilaya:"    ",employerDaira:"    ",employerCommune:"    ",criminalRecordNumber:"   ",criminalRecordIssueDate:"    ",criminalRecordIssuePlace:"    ",commercialRegistryNumber:"  ",taxIdNumber:"  ",casnosNumber:"   CASNOS",vehicleRegistrationCardNumber:"  ",vehicleType:" ",vehicleBrand:" ",vehicleModel:" ",vehicleFirstRegistrationDate:"   ",bankName:" ",bankAccountNumber:"   (RIB)",bankAgencyName:"  ",bankAgencyCode:"  ",employmentContractType:"  ",employmentStartDate:"  ",employeeIdNumber:" ",professionalGrade:"   ",nationalIdIssueDate:"   ",nationalIdExpiryDate:"    ",drivingLicenseExpiryDate:"    ",familyBookNumber:"  ",marriageDate:"  ",marriagePlace:"  ",rentalContractNumber:"  ",landlordName:"  ",propertyAddress:" ",attendingPhysicianName:"  ",currentTime:" ",currentYear:" ",documentName:" ",age:"",fullDateLongAr:"  ()",hijriDate:" ",placeholders:{profilePicture:"  ",fullName:":  ",firstName:": ",lastName:": ",firstNameFr:"Ex: Mohamed",lastNameFr:"Ex: Ali",birthdayplace:":  ",address:": 123   ",phone:": 0550123456",email:": user@example.com",jobTitle:":  ",nationalId:": 123456789012345678",birthCertificateNumber:": 1990/00123",socialSecurityNumber:": 123456789012",nationality:": ",maritalStatus:" ",motherFirstName:"  ",motherLastName:"  ",motherPob:"  ",fatherFirstName:"  ",fatherLastName:"  ",fatherPob:"  ",residenceWilaya:": ",residenceDaira:":  ",residenceCommune:":  ",residenceStreet:":   ",birthWilaya:": ",birthDaira:": ",birthCommune:": ",bloodType:": O+",gender:" ",height:": 175",eyeColor:": ",distinguishingMarks:":    ",employerName:":  ",employerAddress:":  ",educationLevel:" ",universityName:":   ",fieldOfStudy:":  ",higherInstituteName:":   ",vocationalTrainingCenterName:":     ",schoolName:":   ",highSchoolName:":   ",middleSchoolName:":   ",universityCity:": ",passportNumber:": 12345ABC",passportIssuePlace:":  ",drivingLicenseNumber:": 123456789",drivingLicenseCategory:": ",numberOfChildren:": 2",spouseFullName:":    ",spouseJob:": ",militaryStatus:":   ",submissionWilaya:": ",submissionDaira:":  ",submissionCommune:":  ",employerWilaya:": ",employerDaira:": ",employerCommune:": ",criminalRecordNumber:": 123/2024",criminalRecordIssuePlace:":   ",commercialRegistryNumber:": 16/00-1234567 A 24",taxIdNumber:": 123456789012345",casnosNumber:": 123456789012",vehicleRegistrationCardNumber:": 12345 123 16",vehicleType:": ",vehicleBrand:": Renault",vehicleModel:": Clio 4",bankName:":    ",bankAccountNumber:"0030012345678901234567",bankAgencyName:":    ",bankAgencyCode:": 00123",employmentContractType:":     ",employeeIdNumber:": 987654",professionalGrade:":  12  ",familyBookNumber:": 12345/2020",marriagePlace:":   ",rentalContractNumber:": 2024/A-45",landlordName:":  ",propertyAddress:":    50 ",attendingPhysicianName:": .   "},maritalStatusOptions:{single:"",married:"",divorced:""},genderOptions:{male:"",female:""},educationLevelOptions:{primary:"",middle:"",high:"",university:"",postgraduate:" "}}},en:Yg,fr:{header:{search:"Rechercher",login:"Connexion Propritaire",dashboard:"Tableau de bord",logout:"Dconnexion"},footer:{blog:"Blog",services:"Liste des services",rightsReserved:"Tous droits rservs."},share:{title:"Partager :"},relatedServices:{title:"Services similaires"},relatedPosts:{title:"Articles similaires"},relatedPages:{title:"Autres Pages"},login:{title:"Connexion Propritaire de Caf",emailLabel:"E-mail",passwordLabel:"Mot de passe",forgotPassword:"Mot de passe oubli ?",loginButton:"Se connecter",loggingInButton:"Connexion...",noAccount:"Vous n'avez pas de compte ?",createAccount:"Crer un nouveau compte",error:{fillAllFields:"Veuillez remplir tous les champs.",verifyEmail:"Veuillez vrifier votre e-mail pour activer votre compte.",wrongCredentials:"L'e-mail ou le mot de passe est incorrect.",enterEmail:"Veuillez saisir votre adresse e-mail."},reset:{title:"Rinitialiser le mot de passe",emailLabel:"E-mail enregistr",sendButton:"Envoyer le lien de rinitialisation",sendingButton:"Envoi en cours...",successMessage:"Un lien de rinitialisation de mot de passe a t envoy. Veuillez vrifier votre bote de rception.",errorMessage:"chec de l'envoi de l'e-mail. Veuillez ressayer.",backToLogin:"Retour  la connexion"}},signup:{title:"Crer un nouveau compte",accountInfo:"Informations du compte",email:"E-mail",password:"Mot de passe",passwordPlaceholder:"Au moins 6 caractres",confirmPassword:"Confirmer le mot de passe",cafeInfo:"Informations du caf",cafeName:"Nom commercial du caf",cafeNamePlaceholder:"Ex: Le Coin Tranquille",ownerName:"Nom complet du propritaire",ownerNamePlaceholder:"Ex: Jean Dupont",country:"Pays",wilaya:"Province",daira:"District",commune:"Commune",state:"tat / Province",city:"Ville",street:"Adresse",loading:"Chargement...",selectWilaya:"Slectionner la province",selectDaira:"Slectionner le district",selectCommune:"Slectionner la commune",statePlaceholder:"Ex: Californie, Riyad",cityPlaceholder:"Ex: Paris, Djeddah",streetPlaceholder:"Ex: 123 Rue de la Libert",createButton:"Crer le compte et le caf",creatingButton:"Cration...",haveAccount:"Vous avez dj un compte ?",loginHere:"Connectez-vous ici",errors:{allowedDomains:"Veuillez utiliser une adresse e-mail Gmail ou Microsoft (Outlook, Hotmail, Live).",fillAllFields:"Veuillez remplir tous les champs.",passwordsMismatch:"Les mots de passe ne correspondent pas.",passwordLength:"Le mot de passe doit contenir au moins 6 caractres.",signupFailed:"Cet e-mail est dj utilis ou une erreur d'inscription s'est produite. Veuillez ressayer."},success:{title:"Compte cr avec succs !",message:"Nous avons envoy un lien de vrification  votre adresse e-mail",instruction:"Veuillez cliquer sur le lien pour activer votre compte avant de vous connecter.",loginButton:"Aller  la page de connexion"}},findPage:{hero:{title1:"Faites vos documents en toute simplicit",subtitle1:"Trouvez un cybercaf  proximit, envoyez votre demande  distance et rcuprez vos documents prts.",title2:"Possdez-vous un cybercaf ?",subtitle2:"Rejoignez notre plateforme, recevez les demandes des clients par voie lectronique et augmentez vos profits."},step1:{title:"tape 1 : Rechercher et ajouter les documents requis",placeholder:"Saisir le nom du document (ex: CV)...",voiceSearchTitle:"Recherche vocale"},selectedDocs:{title:"Documents slectionns",viewFile:"Voir le fichier",removeTitle:"Retirer",nextStepButton:"tape suivante : Trouver un caf pour {count} document(s)",nextStepButtonDisabledTitle:"Au moins un document  remplir doit tre slectionn",emptyState:"Commencez par rechercher un document  ajouter  votre liste."},alert:{selectFillable:"Veuillez slectionner au moins un document  remplir pour continuer et trouver un caf."}},notFound:{title:"404 - Page non trouve",message:"Dsol, la page que vous recherchez n'existe pas.",button:"Retour  l'accueil"},formFields:{profilePicture:"Photo de profil",fullName:"Nom et prnom",firstName:"Prnom",lastName:"Nom",firstNameFr:"Prnom (Franais)",lastNameFr:"Nom (Franais)",birthdaydate:"Date de naissance",birthdayplace:"Lieu de naissance",address:"Adresse complte",phone:"Numro de tlphone",email:"E-mail",jobTitle:"Profession",nationalId:"Numro d'identit nationale",birthCertificateNumber:"Numro de l'acte de naissance",socialSecurityNumber:"Numro de scurit sociale",nationality:"Nationalit",maritalStatus:"tat civil",motherFirstName:"Prnom de la mre",motherLastName:"Nom de la mre",motherDob:"Date de naissance de la mre",motherPob:"Lieu de naissance de la mre",fatherFirstName:"Prnom du pre",fatherLastName:"Nom de la mre",fatherDob:"Date de naissance du pre",fatherPob:"Lieu de naissance du pre",residenceWilaya:"Wilaya de rsidence",residenceDaira:"Dara de rsidence",residenceCommune:"Commune de rsidence",residenceStreet:"Rue de rsidence",birthWilaya:"Wilaya de naissance",birthDaira:"Dara de naissance",birthCommune:"Commune de naissance",bloodType:"Groupe sanguin",dateToday:"Date d'aujourd'hui",gender:"Sexe",height:"Taille (cm)",eyeColor:"Couleur des yeux",distinguishingMarks:"Signes particuliers",employerName:"Nom de l'institution de travail",employerAddress:"Adresse de l'employeur",educationLevel:"Niveau d'ducation",universityName:"Nom de l'universit",graduationDate:"Date d'obtention du diplme",fieldOfStudy:"Domaine d'tudes",higherInstituteName:"Nom de l'institut suprieur",vocationalTrainingCenterName:"Nom du centre de formation professionnelle",schoolName:"Nom de l'cole",highSchoolName:"Nom du lyce",middleSchoolName:"Nom du collge",universityCity:"Ville de l'universit",passportNumber:"Numro de passeport",passportIssueDate:"Date de dlivrance du passeport",passportExpiryDate:"Date d'expiration du passeport",passportIssuePlace:"Lieu de dlivrance du passeport",drivingLicenseNumber:"Numro du permis de conduire",drivingLicenseCategory:"Catgorie du permis de conduire",drivingLicenseIssueDate:"Date de dlivrance du permis",numberOfChildren:"Nombre d'enfants",spouseFullName:"Nom complet du conjoint",spouseDob:"Date de naissance du conjoint",spouseJob:"Profession du conjoint",militaryStatus:"Situation vis--vis du service national",submissionWilaya:"Wilaya de soumission du document",submissionDaira:"Dara de soumission du document",submissionCommune:"Commune de soumission du document",employerWilaya:"Wilaya de l'institution",employerDaira:"Dara de l'institution",employerCommune:"Commune de l'institution",criminalRecordNumber:"Numro du Casier Judiciaire",criminalRecordIssueDate:"Date de dlivrance du Casier Judiciaire",criminalRecordIssuePlace:"Lieu de dlivrance du Casier Judiciaire",commercialRegistryNumber:"Numro du Registre de Commerce (RC)",taxIdNumber:"Numro d'Identification Fiscale (NIF)",casnosNumber:"Numro CASNOS",vehicleRegistrationCardNumber:"Numro de la Carte Grise",vehicleType:"Type de vhicule",vehicleBrand:"Marque du vhicule",vehicleModel:"Modle du vhicule",vehicleFirstRegistrationDate:"Date de premire mise en circulation",bankName:"Nom de la banque",bankAccountNumber:"Numro de compte bancaire (RIB)",bankAgencyName:"Nom de l'agence bancaire",bankAgencyCode:"Code de l'agence bancaire",employmentContractType:"Type de contrat de travail",employmentStartDate:"Date de dbut d'emploi",employeeIdNumber:"Matricule de l'employ",professionalGrade:"Grade ou catgorie professionnelle",nationalIdIssueDate:"Date de dlivrance de la CNI",nationalIdExpiryDate:"Date d'expiration de la CNI",drivingLicenseExpiryDate:"Date d'expiration du permis de conduire",familyBookNumber:"Numro du livret de famille",marriageDate:"Date de l'acte de mariage",marriagePlace:"Lieu de l'acte de mariage",rentalContractNumber:"Numro du contrat de location",landlordName:"Nom et prnom du bailleur",propertyAddress:"Adresse du bien immobilier",attendingPhysicianName:"Nom du mdecin traitant",currentTime:"Heure actuelle",currentYear:"Anne actuelle",documentName:"Nom du document",age:"ge",fullDateLongAr:"Date complte (Arabe)",hijriDate:"Date Hgirienne",placeholders:{profilePicture:"Choisir une photo de profil",fullName:"Ex: Jean Dupont",firstName:"Ex: Jean",lastName:"Ex: Dupont",firstNameFr:"Ex: Jean",lastNameFr:"Ex: Dupont",birthdayplace:"Ex: Paris",address:"Ex: 123 Rue de la Libert, Paris",phone:"Ex: 0612345678",email:"Ex: user@example.com",jobTitle:"Ex: Ingnieur, tudiant",nationalId:"Ex: 123456789012345678",birthCertificateNumber:"Ex: 1990/00123",socialSecurityNumber:"Ex: 123456789012",nationality:"Ex: Franaise",maritalStatus:"Slectionner le statut",motherFirstName:"Prnom de la mre de la personne",motherLastName:"Nom de la mre de la personne",motherPob:"Lieu de naissance de la mre",fatherFirstName:"Prnom du pre de la personne",fatherLastName:"Nom de la mre de la personne",fatherPob:"Lieu de naissance du pre",residenceWilaya:"Ex: le-de-France",residenceDaira:"Ex: Paris",residenceCommune:"Ex: Paris 1er",residenceStreet:"Ex: Rue de Rivoli",birthWilaya:"Ex: Lyon",birthDaira:"Ex: Lyon",birthCommune:"Ex: Lyon",bloodType:"Ex: O+",gender:"Slectionner le sexe",height:"Ex: 175",eyeColor:"Ex: Marron",distinguishingMarks:"Ex: Cicatrice sur la joue gauche",employerName:"Ex: Socit Acme",employerAddress:"Ex: 123 Rue Principale, Ville",educationLevel:"Slectionner le niveau",universityName:"Ex: Universit de Technologie",fieldOfStudy:"Ex: Informatique",higherInstituteName:"Ex: Institut Suprieur de Technologie",vocationalTrainingCenterName:"Ex: Centre de Formation Professionnelle de Hussein Dey",schoolName:"Ex: cole Frres Biskri",highSchoolName:"Ex: Lyce Colonel Lotfi",middleSchoolName:"Ex: Collge Ibn Khaldoun",universityCity:"Ex: Oran",passportNumber:"Ex: 12345ABC",passportIssuePlace:"Ex: Ville",drivingLicenseNumber:"Ex: 123456789",drivingLicenseCategory:"Ex: B",numberOfChildren:"Ex: 2",spouseFullName:"Ex: Jeanne Dupont",spouseJob:"Ex: Mdecin",militaryStatus:"Ex: Accompli, Exempt, Sursis",submissionWilaya:"Ex: Alger",submissionDaira:"Ex: Sidi M'Hamed",submissionCommune:"Ex: Alger Centre",employerWilaya:"Ex: Oran",employerDaira:"Ex: Oran",employerCommune:"Ex: Oran",criminalRecordNumber:"Ex: 123/2024",criminalRecordIssuePlace:"Ex: Tribunal de Sidi M'Hamed",commercialRegistryNumber:"Ex: 16/00-1234567 A 24",taxIdNumber:"Ex: 123456789012345",casnosNumber:"Ex: 123456789012",vehicleRegistrationCardNumber:"Ex: 12345 123 16",vehicleType:"Ex: Tourisme",vehicleBrand:"Ex: Renault",vehicleModel:"Ex: Clio 4",bankName:"Ex: Banque de l'Agriculture et du Dveloppement Rural",bankAccountNumber:"0030012345678901234567",bankAgencyName:"Ex: Agence Emir Abdelkader",bankAgencyCode:"Ex: 00123",employmentContractType:"Ex: Contrat  dure indtermine",employeeIdNumber:"Ex: 987654",professionalGrade:"Ex: Catgorie 12, Ingnieur d'tat",familyBookNumber:"Ex: 12345/2020",marriagePlace:"Ex: Mairie d'Alger Centre",rentalContractNumber:"Ex: 2024/A-45",landlordName:"Ex: Ahmed Mahmoudi",propertyAddress:"Ex: Cit Ennasr N50, Oran",attendingPhysicianName:"Ex: Dr. Khaled Ben Salem"},maritalStatusOptions:{single:"Clibataire",married:"Mari(e)",divorced:"Divorc(e)"},genderOptions:{male:"Masculin",female:"Fminin"},educationLevelOptions:{primary:"Primaire",middle:"Collge",high:"Lyce",university:"Universitaire",postgraduate:"Post-universitaire"}}},de:{...Yg},es:{...Yg},tr:{...Yg},ja:{...Yg}},ks={ar:[{name:"",code:"dz",phoneCode:"213",flag:""},{name:"",code:"sa",phoneCode:"966",flag:""},{name:"",code:"eg",phoneCode:"20",flag:""},{name:"",code:"ma",phoneCode:"212",flag:""},{name:"",code:"ae",phoneCode:"971",flag:""},{name:"",code:"tn",phoneCode:"216",flag:""},{name:"",code:"iq",phoneCode:"964",flag:""},{name:"",code:"jo",phoneCode:"962",flag:""},{name:"",code:"kw",phoneCode:"965",flag:""},{name:"",code:"lb",phoneCode:"961",flag:""},{name:"",code:"om",phoneCode:"968",flag:""},{name:"",code:"qa",phoneCode:"974",flag:""},{name:"",code:"sy",phoneCode:"963",flag:""},{name:"",code:"fr",phoneCode:"33",flag:""},{name:" ",code:"us",phoneCode:"1",flag:""}],en:[{name:"Algeria",code:"dz",phoneCode:"213",flag:""},{name:"Saudi Arabia",code:"sa",phoneCode:"966",flag:""},{name:"Egypt",code:"eg",phoneCode:"20",flag:""},{name:"Morocco",code:"ma",phoneCode:"212",flag:""},{name:"UAE",code:"ae",phoneCode:"971",flag:""},{name:"Tunisia",code:"tn",phoneCode:"216",flag:""},{name:"Iraq",code:"iq",phoneCode:"964",flag:""},{name:"Jordan",code:"jo",phoneCode:"962",flag:""},{name:"Kuwait",code:"kw",phoneCode:"965",flag:""},{name:"Lebanon",code:"lb",phoneCode:"961",flag:""},{name:"Oman",code:"om",phoneCode:"968",flag:""},{name:"Qatar",code:"qa",phoneCode:"974",flag:""},{name:"Syria",code:"sy",phoneCode:"963",flag:""},{name:"France",code:"fr",phoneCode:"33",flag:""},{name:"United States",code:"us",phoneCode:"1",flag:""}],fr:[{name:"Algrie",code:"dz",phoneCode:"213",flag:""},{name:"Arabie saoudite",code:"sa",phoneCode:"966",flag:""},{name:"gypte",code:"eg",phoneCode:"20",flag:""},{name:"Maroc",code:"ma",phoneCode:"212",flag:""},{name:"mirats arabes unis",code:"ae",phoneCode:"971",flag:""},{name:"Tunisie",code:"tn",phoneCode:"216",flag:""},{name:"Irak",code:"iq",phoneCode:"964",flag:""},{name:"Jordanie",code:"jo",phoneCode:"962",flag:""},{name:"Kowet",code:"kw",phoneCode:"965",flag:""},{name:"Liban",code:"lb",phoneCode:"961",flag:""},{name:"Oman",code:"om",phoneCode:"968",flag:""},{name:"Qatar",code:"qa",phoneCode:"974",flag:""},{name:"Syrie",code:"sy",phoneCode:"963",flag:""},{name:"France",code:"fr",phoneCode:"33",flag:""},{name:"tats-Unis",code:"us",phoneCode:"1",flag:""}]},x9=(t,e)=>e.split(".").reduce((n,r)=>n&&n[r],t),$m=t=>(n,r)=>{const i=M_[t],s=M_.en;let a=x9(i,n)||x9(s,n)||n;return r&&Object.keys(r).forEach(o=>{a=a.replace(new RegExp(`\\{${o}\\}`,"g"),String(r[o]))}),a},_9=(t,e)=>e.split(".").reduce((n,r)=>n&&n[r],t),la=()=>{const t=Dr(),e=q.useMemo(()=>{const s=t.pathname.match(/^\/([a-z]{2})(?:\/|$)/);return s?s[1]:null},[t.pathname]),n=q.useMemo(()=>rd(e||"dz"),[e]),r=n==="ar"?"rtl":"ltr";return q.useEffect(()=>{document.documentElement.lang=n,document.documentElement.dir=r},[n,r]),{language:n,t:(s,a)=>{const o=M_[n],l=M_.en;let c=_9(o,s)||_9(l,s)||s;return a&&Object.keys(a).forEach(u=>{c=c.replace(new RegExp(`\\{${u}\\}`,"g"),String(a[u]))}),c},dir:r,countryCode:e}};var wH={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},b9=vl.createContext&&vl.createContext(wH),kme=["attr","size","title"];function Rme(t,e){if(t==null)return{};var n=Pme(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Pme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function U_(){return U_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U_.apply(this,arguments)}function w9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function O_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w9(Object(n),!0).forEach(function(r){Fme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fme(t,e,n){return e=Mme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mme(t){var e=Ume(t,"string");return typeof e=="symbol"?e:e+""}function Ume(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TH(t){return t&&t.map((e,n)=>vl.createElement(e.tag,O_({key:n},e.attr),TH(e.child)))}function Mt(t){return e=>vl.createElement(Ome,U_({attr:O_({},t.attr)},e),TH(t.child))}function Ome(t){var e=n=>{var{attr:r,size:i,title:s}=t,a=Rme(t,kme),o=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),vl.createElement("svg",U_({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:l,style:O_(O_({color:t.color||n.color},n.style),t.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),s&&vl.createElement("title",null,s),t.children)};return b9!==void 0?vl.createElement(b9.Consumer,null,n=>e(n)):e(wH)}function YI(t){return Mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(t)}function EH(t){return Mt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function Lme(t){return Mt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(t)}function jme(t){return Mt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M111.4 295.9c-3.5 19.2-17.4 108.7-21.5 134-.3 1.8-1 2.5-3 2.5H12.3c-7.6 0-13.1-6.6-12.1-13.9L58.8 46.6c1.5-9.6 10.1-16.9 20-16.9 152.3 0 165.1-3.7 204 11.4 60.1 23.3 65.6 79.5 44 140.3-21.5 62.6-72.5 89.5-140.1 90.3-43.4.7-69.5-7-75.3 24.2zM357.1 152c-1.8-1.3-2.5-1.8-3 1.3-2 11.4-5.1 22.5-8.8 33.6-39.9 113.8-150.5 103.9-204.5 103.9-6.1 0-10.1 3.3-10.9 9.4-22.6 140.4-27.1 169.7-27.1 169.7-1 7.1 3.5 12.9 10.6 12.9h63.5c8.6 0 15.7-6.3 17.4-14.9.7-5.4-1.1 6.1 14.4-91.3 4.6-22 14.3-19.7 29.3-19.7 71 0 126.4-28.8 142.9-112.3 6.5-34.8 4.6-71.4-23.8-92.6z"},child:[]}]})(t)}function Bme(t){return Mt({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M496 256c0 137-111 248-248 248-25.6 0-50.2-3.9-73.4-11.1 10.1-16.5 25.2-43.5 30.8-65 3-11.6 15.4-59 15.4-59 8.1 15.4 31.7 28.5 56.8 28.5 74.8 0 128.7-68.8 128.7-154.3 0-81.9-66.9-143.2-152.9-143.2-107 0-163.9 71.8-163.9 150.1 0 36.4 19.4 81.7 50.3 96.1 4.7 2.2 7.2 1.2 8.3-3.3.8-3.4 5-20.3 6.9-28.1.6-2.5.3-4.7-1.7-7.1-10.1-12.5-18.3-35.3-18.3-56.6 0-54.7 41.4-107.6 112-107.6 60.9 0 103.6 41.5 103.6 100.9 0 67.1-33.9 113.6-78 113.6-24.3 0-42.6-20.1-36.7-44.8 7-29.5 20.5-61.3 20.5-82.6 0-19-10.2-34.9-31.4-34.9-24.9 0-44.9 25.7-44.9 60.2 0 22 7.4 36.8 7.4 36.8s-24.5 103.8-29 123.2c-5 21.4-3 51.6-.9 71.2C65.4 450.9 0 361.1 0 256 0 119 111 8 248 8s248 111 248 248z"},child:[]}]})(t)}function Vme(t){return Mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M201.5 305.5c-13.8 0-24.9-11.1-24.9-24.6 0-13.8 11.1-24.9 24.9-24.9 13.6 0 24.6 11.1 24.6 24.9 0 13.6-11.1 24.6-24.6 24.6zM504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zm-132.3-41.2c-9.4 0-17.7 3.9-23.8 10-22.4-15.5-52.6-25.5-86.1-26.6l17.4-78.3 55.4 12.5c0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.3 24.9-24.9s-11.1-24.9-24.9-24.9c-9.7 0-18 5.8-22.1 13.8l-61.2-13.6c-3-.8-6.1 1.4-6.9 4.4l-19.1 86.4c-33.2 1.4-63.1 11.3-85.5 26.8-6.1-6.4-14.7-10.2-24.1-10.2-34.9 0-46.3 46.9-14.4 62.8-1.1 5-1.7 10.2-1.7 15.5 0 52.6 59.2 95.2 132 95.2 73.1 0 132.3-42.6 132.3-95.2 0-5.3-.6-10.8-1.9-15.8 31.3-16 19.8-62.5-14.9-62.5zM302.8 331c-18.2 18.2-76.1 17.9-93.6 0-2.2-2.2-6.1-2.2-8.3 0-2.5 2.5-2.5 6.4 0 8.6 22.8 22.8 87.3 22.8 110.2 0 2.5-2.2 2.5-6.1 0-8.6-2.2-2.2-6.1-2.2-8.3 0zm7.7-75c-13.6 0-24.6 11.1-24.6 24.9 0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.1 24.9-24.6 0-13.8-11-24.9-24.9-24.9z"},child:[]}]})(t)}function CH(t){return Mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function QI(t){return Mt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(t)}function SH(t){return Mt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M576 240c0-23.63-12.95-44.04-32-55.12V32.01C544 23.26 537.02 0 512 0c-7.12 0-14.19 2.38-19.98 7.02l-85.03 68.03C364.28 109.19 310.66 128 256 128H64c-35.35 0-64 28.65-64 64v96c0 35.35 28.65 64 64 64h33.7c-1.39 10.48-2.18 21.14-2.18 32 0 39.77 9.26 77.35 25.56 110.94 5.19 10.69 16.52 17.06 28.4 17.06h74.28c26.05 0 41.69-29.84 25.9-50.56-16.4-21.52-26.15-48.36-26.15-77.44 0-11.11 1.62-21.79 4.41-32H256c54.66 0 108.28 18.81 150.98 52.95l85.03 68.03a32.023 32.023 0 0 0 19.98 7.02c24.92 0 32-22.78 32-32V295.13C563.05 284.04 576 263.63 576 240zm-96 141.42l-33.05-26.44C392.95 311.78 325.12 288 256 288v-96c69.12 0 136.95-23.78 190.95-66.98L480 98.58v282.84z"},child:[]}]})(t)}function zm(t){return Mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(t)}function DH(t){return Mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function AH(t){return Mt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(t)}function gw(t){return Mt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(t)}function yw(t){return Mt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(t)}function qA(t){return Mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"},child:[]}]})(t)}function Wme(t){return Mt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z"},child:[]}]})(t)}function qme(t){return Mt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z"},child:[]}]})(t)}function NH(t){return Mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}function ZI(t){return Mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32zM128 272c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(t)}function ek(t){return Mt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(t)}function Io(t){return Mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function vw(t){return Mt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function xw(t){return Mt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function IH(t){return Mt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function $A(t){return Mt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function $me(t){return Mt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M384 121.941V128H256V0h6.059c6.365 0 12.47 2.529 16.971 7.029l97.941 97.941A24.005 24.005 0 0 1 384 121.941zM248 160c-13.2 0-24-10.8-24-24V0H24C10.745 0 0 10.745 0 24v464c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V160H248zM123.206 400.505a5.4 5.4 0 0 1-7.633.246l-64.866-60.812a5.4 5.4 0 0 1 0-7.879l64.866-60.812a5.4 5.4 0 0 1 7.633.246l19.579 20.885a5.4 5.4 0 0 1-.372 7.747L101.65 336l40.763 35.874a5.4 5.4 0 0 1 .372 7.747l-19.579 20.884zm51.295 50.479l-27.453-7.97a5.402 5.402 0 0 1-3.681-6.692l61.44-211.626a5.402 5.402 0 0 1 6.692-3.681l27.452 7.97a5.4 5.4 0 0 1 3.68 6.692l-61.44 211.626a5.397 5.397 0 0 1-6.69 3.681zm160.792-111.045l-64.866 60.812a5.4 5.4 0 0 1-7.633-.246l-19.58-20.885a5.4 5.4 0 0 1 .372-7.747L284.35 336l-40.763-35.874a5.4 5.4 0 0 1-.372-7.747l19.58-20.885a5.4 5.4 0 0 1 7.633-.246l64.866 60.812a5.4 5.4 0 0 1-.001 7.879z"},child:[]}]})(t)}function kH(t){return Mt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm60.1 106.5L224 336l60.1 93.5c5.1 8-.6 18.5-10.1 18.5h-34.9c-4.4 0-8.5-2.4-10.6-6.3C208.9 405.5 192 373 192 373c-6.4 14.8-10 20-36.6 68.8-2.1 3.9-6.1 6.3-10.5 6.3H110c-9.5 0-15.2-10.5-10.1-18.5l60.3-93.5-60.3-93.5c-5.2-8 .6-18.5 10.1-18.5h34.8c4.4 0 8.5 2.4 10.6 6.3 26.1 48.8 20 33.6 36.6 68.5 0 0 6.1-11.7 36.6-68.5 2.1-3.9 6.2-6.3 10.6-6.3H274c9.5-.1 15.2 10.4 10.1 18.4zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function _w(t){return Mt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"},child:[]}]})(t)}function RH(t){return Mt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M218.17 424.14c-2.95-5.92-8.09-6.52-10.17-6.52s-7.22.59-10.02 6.19l-7.67 15.34c-6.37 12.78-25.03 11.37-29.48-2.09L144 386.59l-10.61 31.88c-5.89 17.66-22.38 29.53-41 29.53H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h12.39c4.83 0 9.11-3.08 10.64-7.66l18.19-54.64c3.3-9.81 12.44-16.41 22.78-16.41s19.48 6.59 22.77 16.41l13.88 41.64c19.75-16.19 54.06-9.7 66 14.16 1.89 3.78 5.49 5.95 9.36 6.26v-82.12l128-127.09V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24v-40l-128-.11c-16.12-.31-30.58-9.28-37.83-23.75zM384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1zm-96 225.06V416h68.99l161.68-162.78-67.88-67.88L288 346.96zm280.54-179.63l-31.87-31.87c-9.94-9.94-26.07-9.94-36.01 0l-27.25 27.25 67.88 67.88 27.25-27.25c9.95-9.94 9.95-26.07 0-36.01z"},child:[]}]})(t)}function zme(t){return Mt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm65.18 216.01H224v80c0 8.84-7.16 16-16 16h-32c-8.84 0-16-7.16-16-16v-80H94.82c-14.28 0-21.41-17.29-11.27-27.36l96.42-95.7c6.65-6.61 17.39-6.61 24.04 0l96.42 95.7c10.15 10.07 3.03 27.36-11.25 27.36zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(t)}function tk(t){return Mt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm57.1 120H305c7.7 0 13.4 7.1 11.7 14.7l-38 168c-1.2 5.5-6.1 9.3-11.7 9.3h-38c-5.5 0-10.3-3.8-11.6-9.1-25.8-103.5-20.8-81.2-25.6-110.5h-.5c-1.1 14.3-2.4 17.4-25.6 110.5-1.3 5.3-6.1 9.1-11.6 9.1H117c-5.6 0-10.5-3.9-11.7-9.4l-37.8-168c-1.7-7.5 4-14.6 11.7-14.6h24.5c5.7 0 10.7 4 11.8 9.7 15.6 78 20.1 109.5 21 122.2 1.6-10.2 7.3-32.7 29.4-122.7 1.3-5.4 6.1-9.1 11.7-9.1h29.1c5.6 0 10.4 3.8 11.7 9.2 24 100.4 28.8 124 29.6 129.4-.2-11.2-2.6-17.8 21.6-129.2 1-5.6 5.9-9.5 11.5-9.5zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function Hme(t){return Mt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z"},child:[]}]})(t)}function L_(t){return Mt({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(t)}function Gme(t){return Mt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM144 32h96c8.8 0 16 7.2 16 16s-7.2 16-16 16h-96c-8.8 0-16-7.2-16-16s7.2-16 16-16zm48 128c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zm112 236.8c0 10.6-10 19.2-22.4 19.2H102.4C90 416 80 407.4 80 396.8v-19.2c0-31.8 30.1-57.6 67.2-57.6h5c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h5c37.1 0 67.2 25.8 67.2 57.6v19.2z"},child:[]}]})(t)}function PH(t){return Mt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 32H48C21.5 32 0 53.5 0 80v16h576V80c0-26.5-21.5-48-48-48zM0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V128H0v304zm352-232c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zM176 192c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zM67.1 396.2C75.5 370.5 99.6 352 128 352h8.2c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h8.2c28.4 0 52.5 18.5 60.9 44.2 3.2 9.9-5.2 19.8-15.6 19.8H82.7c-10.4 0-18.8-10-15.6-19.8z"},child:[]}]})(t)}function Kme(t){return Mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(t)}function FH(t){return Mt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h480c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM128 180v-40c0-6.627-5.373-12-12-12H76c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm-336 96v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm-336 96v-40c0-6.627-5.373-12-12-12H76c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm288 0v-40c0-6.627-5.373-12-12-12H172c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h232c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12z"},child:[]}]})(t)}function MH(t){return Mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"},child:[]}]})(t)}function Xme(t){return Mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M48 48a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm448 16H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(t)}function UH(t){return Mt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(t)}function na(t){return Mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M224 96l16-32 32-16-32-16-16-32-16 32-32 16 32 16 16 32zM80 160l26.66-53.33L160 80l-53.34-26.67L80 0 53.34 53.33 0 80l53.34 26.67L80 160zm352 128l-26.66 53.33L352 368l53.34 26.67L432 448l26.66-53.33L512 368l-53.34-26.67L432 288zm70.62-193.77L417.77 9.38C411.53 3.12 403.34 0 395.15 0c-8.19 0-16.38 3.12-22.63 9.38L9.38 372.52c-12.5 12.5-12.5 32.76 0 45.25l84.85 84.85c6.25 6.25 14.44 9.37 22.62 9.37 8.19 0 16.38-3.12 22.63-9.37l363.14-363.15c12.5-12.48 12.5-32.75 0-45.24zM359.45 203.46l-50.91-50.91 86.6-86.6 50.91 50.91-86.6 86.6z"},child:[]}]})(t)}function Jme(t){return Mt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function nk(t){return Mt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M633.82 458.1l-157.8-121.96C488.61 312.13 496 285.01 496 256v-48c0-8.84-7.16-16-16-16h-16c-8.84 0-16 7.16-16 16v48c0 17.92-3.96 34.8-10.72 50.2l-26.55-20.52c3.1-9.4 5.28-19.22 5.28-29.67V96c0-53.02-42.98-96-96-96s-96 42.98-96 96v45.36L45.47 3.37C38.49-2.05 28.43-.8 23.01 6.18L3.37 31.45C-2.05 38.42-.8 48.47 6.18 53.9l588.36 454.73c6.98 5.43 17.03 4.17 22.46-2.81l19.64-25.27c5.41-6.97 4.16-17.02-2.82-22.45zM400 464h-56v-33.77c11.66-1.6 22.85-4.54 33.67-8.31l-50.11-38.73c-6.71.4-13.41.87-20.35.2-55.85-5.45-98.74-48.63-111.18-101.85L144 241.31v6.85c0 89.64 63.97 169.55 152 181.69V464h-56c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16z"},child:[]}]})(t)}function yc(t){return Mt({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M176 352c53.02 0 96-42.98 96-96V96c0-53.02-42.98-96-96-96S80 42.98 80 96v160c0 53.02 42.98 96 96 96zm160-160h-16c-8.84 0-16 7.16-16 16v48c0 74.8-64.49 134.82-140.79 127.38C96.71 376.89 48 317.11 48 250.3V208c0-8.84-7.16-16-16-16H16c-8.84 0-16 7.16-16 16v40.16c0 89.64 63.97 169.55 152 181.69V464H96c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16h-56v-33.77C285.71 418.47 352 344.9 352 256v-48c0-8.84-7.16-16-16-16z"},child:[]}]})(t)}function G0(t){return Mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(t)}function Yme(t){return Mt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"},child:[]}]})(t)}function Qme(t){return Mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}function OH(t){return Mt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(t)}function ic(t){return Mt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function bw(t){return Mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 192V77.25c0-8.49-3.37-16.62-9.37-22.63L393.37 9.37c-6-6-14.14-9.37-22.63-9.37H96C78.33 0 64 14.33 64 32v160c-35.35 0-64 28.65-64 64v112c0 8.84 7.16 16 16 16h48v96c0 17.67 14.33 32 32 32h320c17.67 0 32-14.33 32-32v-96h48c8.84 0 16-7.16 16-16V256c0-35.35-28.65-64-64-64zm-64 256H128v-96h256v96zm0-224H128V64h192v48c0 8.84 7.16 16 16 16h48v96zm48 72c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"},child:[]}]})(t)}function ww(t){return Mt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(t)}function zA(t){return Mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function Ct(t){return Mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(t)}function Zme(t){return Mt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function ege(t){return Mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"},child:[]}]})(t)}function LH(t){return Mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 32h192c13.255 0 24 10.745 24 24v160c0 13.255-10.745 24-24 24H296c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24zm-80 0H24C10.745 32 0 42.745 0 56v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24zM0 296v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zm296 184h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H296c-13.255 0-24 10.745-24 24v160c0 13.255 10.745 24 24 24z"},child:[]}]})(t)}function kf(t){return Mt({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function Hm(t){return Mt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function tge(t){return Mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M212.333 224.333H12c-6.627 0-12-5.373-12-12V12C0 5.373 5.373 0 12 0h48c6.627 0 12 5.373 12 12v78.112C117.773 39.279 184.26 7.47 258.175 8.007c136.906.994 246.448 111.623 246.157 248.532C504.041 393.258 393.12 504 256.333 504c-64.089 0-122.496-24.313-166.51-64.215-5.099-4.622-5.334-12.554-.467-17.42l33.967-33.967c4.474-4.474 11.662-4.717 16.401-.525C170.76 415.336 211.58 432 256.333 432c97.268 0 176-78.716 176-176 0-97.267-78.716-176-176-176-58.496 0-110.28 28.476-142.274 72.333h98.274c6.627 0 12 5.373 12 12v48c0 6.627-5.373 12-12 12z"},child:[]}]})(t)}function Nl(t){return Mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function nge(t){return Mt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.3 271.1l-115.2-45c-4.1-1.6-12.6-3.7-22.2 0l-115.2 45c-10.7 4.2-17.7 14-17.7 24.9 0 111.6 68.7 188.8 132.9 213.9 9.6 3.7 18 1.6 22.2 0C558.4 489.9 640 420.5 640 296c0-10.9-7-20.7-17.7-24.9zM496 462.4V273.3l95.5 37.3c-5.6 87.1-60.9 135.4-95.5 151.8zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm96 40c0-2.5.8-4.8 1.1-7.2-2.5-.1-4.9-.8-7.5-.8h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c6.8 0 13.3-1.5 19.2-4-54-42.9-99.2-116.7-99.2-212z"},child:[]}]})(t)}function rge(t){return Mt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function ige(t){return Mt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}const sge=()=>{const{user:t,logout:e}=Ar(),n=wi(),{t:r,countryCode:i}=la(),[s,a]=q.useState("G"),[o,l]=q.useState(!1),[c,u]=q.useState(!1),[f,h]=q.useState(!1),p=q.useRef(null),v=i?`/${i}/`:"/",g=q.useMemo(()=>ks.ar,[]),y=q.useMemo(()=>g.find(C=>C.code===i),[i,g]);q.useEffect(()=>{let C,S;const R=setInterval(()=>{l(!0),S=setTimeout(()=>{a(D=>D==="G"?"@":"G")},250),C=setTimeout(()=>{l(!1)},500)},2500);return()=>{clearInterval(R),clearTimeout(C),clearTimeout(S)}},[]),q.useEffect(()=>{const C=S=>{p.current&&!p.current.contains(S.target)&&u(!1)};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[]);const b=()=>{e(),n("/")},_=C=>{u(!1),n(C==="global"?"/":`/${C}/`)},w=C=>{i||(C.preventDefault(),h(!0))};return d.jsxs(d.Fragment,{children:[d.jsx("header",{className:"bg-white shadow-md sticky top-0 z-50",children:d.jsxs("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs(en,{to:"/",className:"flex items-center gap-3 logo-link","aria-label":"Gitut Home",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-green-600",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M14 2H6C4.9 2 4 2.9 4 4V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V8L14 2ZM18 20H6V4H13V9H18V20Z"})}),d.jsxs("span",{className:"text-2xl font-bold text-gray-900",dir:"ltr",children:[d.jsx("span",{className:`char-flipper ${o?"swapping":""}`,children:s}),"itut"]})]}),d.jsxs("div",{className:"relative",ref:p,children:[d.jsxs("button",{onClick:()=>u(!c),className:"flex items-center gap-2 px-3 py-2 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:[y?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"text-xl",children:y.flag}),d.jsx("span",{className:"font-semibold text-gray-800",children:y.name})]}):d.jsxs(d.Fragment,{children:[d.jsx(L_,{className:"text-gray-600"}),d.jsx("span",{className:"font-semibold text-gray-800",children:" "})]}),d.jsx(AH,{className:"text-gray-500 text-xs"})]}),c&&d.jsx("div",{className:"absolute top-full right-0 mt-2 w-56 bg-white rounded-lg shadow-xl border z-10",children:d.jsxs("ul",{className:"py-1 max-h-72 overflow-y-auto",children:[d.jsx("li",{children:d.jsxs("button",{onClick:()=>_("global"),className:"w-full text-right flex items-center gap-3 px-4 py-2 hover:bg-gray-100",children:[d.jsx(L_,{className:"text-gray-600"}),d.jsx("span",{children:"  ( )"})]})}),g.map(C=>d.jsx("li",{children:d.jsxs("button",{onClick:()=>_(C.code),className:"w-full text-right flex items-center gap-3 px-4 py-2 hover:bg-gray-100",children:[d.jsx("span",{className:"text-xl",children:C.flag}),d.jsx("span",{children:C.name})]})},C.code))]})})]})]}),d.jsx("nav",{className:"flex items-center gap-6",children:t?d.jsxs(d.Fragment,{children:[d.jsx(en,{to:`/${i||"dz"}/app/`,className:"text-gray-700 hover:text-green-600 font-semibold",children:r("header.dashboard")}),d.jsx("button",{onClick:b,className:"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors font-semibold",children:r("header.logout")})]}):d.jsxs(d.Fragment,{children:[d.jsx(en,{to:v,className:"text-gray-700 hover:text-green-600 font-semibold",children:r("header.search")}),d.jsx(en,{to:`/${i||"dz"}/login/`,onClick:w,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors font-semibold",children:r("header.login")})]})})]})}),f&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[100] flex justify-center items-center",onClick:()=>h(!1),children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-sm",onClick:C=>C.stopPropagation(),children:[d.jsx("h3",{className:"text-xl font-bold mb-4 text-center",children:"  "}),d.jsx("ul",{className:"space-y-2 max-h-72 overflow-y-auto",children:g.map(C=>d.jsx("li",{children:d.jsxs(en,{to:`/${C.code}/login/`,onClick:()=>h(!1),className:"w-full text-right flex items-center gap-3 px-4 py-3 bg-gray-50 rounded-lg hover:bg-gray-100",children:[d.jsx("span",{className:"text-2xl",children:C.flag}),d.jsx("span",{className:"font-semibold",children:C.name})]})},C.code))})]})})]})},jH=q.createContext(void 0),age=({children:t})=>{const[e,n]=q.useState(null),r=(s,a)=>{const o="mgkrol99@gmail.com";return s===o&&a==="@Youyou1936@"?(n({id:"admin-user",email:o,role:"admin"}),!0):!1},i=()=>{n(null)};return d.jsx(jH.Provider,{value:{admin:e,login:r,logout:i},children:t})},Wv=()=>{const t=q.useContext(jH);if(t===void 0)throw new Error("useAdminAuth must be used within an AdminAuthProvider");return t},BH=q.createContext(void 0),oge=({children:t})=>{const{user:e,loading:n}=Ar(),{admin:r}=Wv(),i=Dr(),s=i.pathname.startsWith("/admin"),a=i.pathname.includes("/app"),[o,l]=q.useState([]),[c,u]=q.useState([]),[f,h]=q.useState([]),[p,v]=q.useState([]),[g,y]=q.useState([]),[b,_]=q.useState(null),[w,C]=q.useState([]),[S,R]=q.useState([]),[D,N]=q.useState([]),[k,F]=q.useState([]),[P,I]=q.useState([]),[U,O]=q.useState([]),[K,X]=q.useState([]),[J,ne]=q.useState([]),[z,Q]=q.useState([]),[B,j]=q.useState([]),[W,G]=q.useState(null),[Y,ee]=q.useState(null),[ae,de]=q.useState(!0),[fe,Ae]=q.useState(!0),[Re,me]=q.useState(!1),[Le,V]=q.useState(null),xe=ye=>ye?ye.map(Ne=>{if(!Ne)return Ne;const Ue=Se=>{if(!Se)return;if(Se instanceof Vr.firestore.Timestamp)return Se;if(typeof Se=="object"&&Se!==null&&typeof Se.seconds=="number"&&typeof Se.nanoseconds=="number")return new Vr.firestore.Timestamp(Se.seconds,Se.nanoseconds);const Me=new Date(Se);if(!isNaN(Me.getTime()))return Vr.firestore.Timestamp.fromDate(Me)};return{...Ne,createdAt:Ue(Ne.createdAt)||Vr.firestore.Timestamp.now(),publishedAt:Ue(Ne.publishedAt)}}):[],Te=async()=>{console.log("Attempting to load admin dashboard data from IndexedDB...");try{const[ye,Ne,Ue,Se,Me,Oe,Xe,rt,it,Lt,_n,cn]=await Promise.all([qn("cafes"),qn("fullDocuments"),qn("staticDocuments"),qn("sites"),qn("baseTemplates"),Ms("siteSettings","main"),qn("codes"),qn("pages"),qn("blogPosts"),qn("ads"),qn("voice_prompts"),Ms("offlineMetadata","syncStatus")]);if(Ne.length>0||ye.length>0)return u(Ne),l(Ne),h(Ue),F(Se),v(ye),j(Me),_(Oe),ne(Xe),C(rt),R(xe(it)),N(Lt),Q(_n),console.log("Successfully loaded admin dashboard data from IndexedDB."),(cn==null?void 0:cn.version)||0}catch(ye){console.error("Could not load admin dashboard data from IndexedDB:",ye)}return 0},le=q.useCallback(async ye=>{const[Ne,Ue,Se,Me,Oe,Xe,rt,it,Lt,_n,cn,Nr,Qn]=await Promise.all([LA(),kp(),of.getAll(),P_(),vp.getAll(),_p.getAll(),xp.getAll(),Zd.getAll(),z0.getAll(),y9.getAll(),ym.getAll(),VA(),WA()]),Zn=await fetch("https://datas.gitut.com/data/json/site-seo.json"),lr=Zn.ok?await Zn.json():{},Qt=xe(Xe);l(Ue),u(Ue),h(Se),v(Ne),ne(Lt),Q(_n),j(cn),G(Nr),ee(Qn);const Tn={...In,...Me||{},seo:{...(Me==null?void 0:Me.seo)||{},...lr},payment:{...In.payment,...(Me==null?void 0:Me.payment)||{}},pricing:{...In.pricing,...(Me==null?void 0:Me.pricing)||{}},social:{...In.social,...(Me==null?void 0:Me.social)||{}},ads:{...In.ads,...(Me==null?void 0:Me.ads)||{}},ai:{...In.ai,...(Me==null?void 0:Me.ai)||{}}};_(Tn),C(Oe),R(Qt),N(rt),F(it);const pe=[...Ue.map(Ee=>({...Ee,serviceType:"doc"})),...Se.map(Ee=>({...Ee,serviceType:"static-doc"})),...it.map(Ee=>({...Ee,serviceType:"site"}))];y(pe),await Promise.all([Ai("cafes",Ne),Ai("fullDocuments",Ue),Ai("staticDocuments",Se),Ai("sites",it),Ai("baseTemplates",cn),Ai("codes",Lt),Ai("pages",Oe),Ai("blogPosts",Qt),Ai("ads",rt),Ai("voice_prompts",_n),mr("siteSettings",{...Tn,id:"main"}),mr("offlineMetadata",{id:"syncStatus",version:ye})])},[]),re=q.useCallback(async()=>{if(!r)throw new Error("Admin not authenticated for refetch.");de(!0);try{const{version:ye}=await g9();await le(ye)}finally{de(!1)}},[r,le]),oe=q.useCallback(async()=>{try{console.log("Refetching all cafes...");const ye=await LA();v(ye),await Ai("cafes",ye),console.log("Cafes refetched and cache updated.")}catch(ye){console.error("Failed to refetch cafes:",ye)}},[]);q.useEffect(()=>{const ye=async()=>{console.log("Attempting to load user dashboard data from IndexedDB...");try{const[Ue,Se,Me,Oe,Xe,rt,it]=await Promise.all([qn("cafes"),qn("fullDocuments"),qn("staticDocuments"),qn("sites"),qn("baseTemplates"),Ms("siteSettings","main"),qn("codes")]);if(Se.length>0)return v(Ue),u(Se),h(Me),F(Oe),j(Xe),_(rt),ne(it),l(Se),console.log("Successfully loaded user dashboard data from IndexedDB."),!0}catch(Ue){console.error("Could not load user dashboard data from IndexedDB:",Ue)}return!1};(async()=>{if(!n){if(s&&!r){de(!1),Ae(!1);return}if(de(!0),V(null),s&&r){const Ue=await Te();de(!1);try{const{version:Se}=await g9();Se>Ue?(console.log(`New data version available. Local: ${Ue}, Remote: ${Se}. Syncing...`),await le(Se),console.log("Admin data synced from network and cache updated.")):console.log("Local admin data is up to date.")}catch(Se){const Me=Se instanceof Error?Se.message:String(Se);console.error("Could not check for remote data updates. Running on cached data.",Se),Ue===0&&(Me.includes("no such table: data_versions")?V("<strong>    .</strong><br/>  'data_versions'  .<br/>   'Troubleshooting'   <code>readme.md</code>    ."):V(Me))}}else if(!s){a&&e&&await ye()&&de(!1);try{const Ue=i.pathname.match(/^\/([a-z]{2})(?:\/|$)/),Se=Ue?Ue[1]:null,Me=e?z0.getAll():Promise.resolve([]),Oe=e?y9.getAll():Promise.resolve([]),Xe=e?VA():Promise.resolve(null),rt=e?WA():Promise.resolve(null),it=e?P_():Promise.resolve(null),Lt=e!=null&&e.cafeId?XI(e.cafeId):Promise.resolve(null);if(Se){const Zn=yC(Se),lr=h9(Se),[Qt,Tn,pe,Ee,Fe,Ge,st,It]=await Promise.all([Zn,lr,Me,Oe,Xe,rt,it,Lt]);let ln=Qt.cafes;if(It){const rn=ln.findIndex(xr=>xr.id===It.id);rn>-1?ln[rn]=It:ln.push(It)}l(Qt.documents),h(Qt.staticDocuments),v(ln),_(st?{...Qt.siteSettings,...st}:Qt.siteSettings),C(Qt.pages),R(Qt.blogPosts),N(Qt.ads),F(Qt.sites),y(Qt.services),I(Tn.wilayas),O(Tn.dairas),X(Tn.communes),Ae(!1)}else{Ae(!0);const Zn=ks.ar.map(Ge=>Ge.code),lr=Zn.map(Ge=>yC(Ge).catch(()=>null)),Qt=await Promise.all(lr),Tn=new Map,pe=new Map;for(const Ge of Qt)Ge&&(Ge.services.forEach(st=>Tn.set(st.id,st)),Ge.cafes.forEach(st=>pe.set(st.id,st)));const Ee=Qt.find((Ge,st)=>Zn[st]==="dz")||await yC("dz"),Fe=await h9("dz");y(Array.from(Tn.values())),v(Array.from(pe.values())),l(Ee.documents),h(Ee.staticDocuments),_(Ee.siteSettings),C(Ee.pages),R(Ee.blogPosts),N(Ee.ads),F(Ee.sites),I(Fe.wilayas),O(Fe.dairas),X(Fe.communes),Ae(!1)}const[_n,cn,Nr,Qn]=await Promise.all([Me,Oe,Xe,rt]);ne(_n),e&&await Ai("codes",_n),Q(cn),G(Nr),ee(Qn)}catch(Ue){console.error("Failed to load application data:",Ue),V(Ue instanceof Error?Ue.message:"An unknown error occurred.")}finally{de(!1)}}}})()},[i.pathname,s,a,e,r,n,le]);const he=q.useCallback(async()=>{if(c.length===0){me(!0);try{const ye=await qn("fullDocuments");if(ye.length>0)u(ye);else{const Ne=await kp();u(Ne),await Ai("fullDocuments",Ne)}}catch(ye){console.error("Failed to load full documents:",ye)}finally{me(!1)}}},[c.length]),we=q.useCallback(ye=>{const Ne=xe([ye])[0];R(Ue=>[Ne,...Ue].sort((Se,Me)=>{const Oe=(Se.publishedAt||Se.createdAt).toDate();return(Me.publishedAt||Me.createdAt).toDate().getTime()-Oe.getTime()}))},[]),ie=q.useCallback((ye,Ne)=>{R(Ue=>Ue.map(Se=>Se.id===ye?xe([{...Se,...Ne}])[0]:Se))},[]),ce=q.useCallback(ye=>{R(Ne=>Ne.filter(Ue=>Ue.id!==ye))},[]),ge={documents:o,fullDocuments:c,staticDocuments:f,cafes:p,services:g,siteSettings:b,pages:w,blogPosts:S,ads:D,sites:k,wilayas:P,dairas:U,communes:K,codes:J,voicePrompts:z,baseTemplates:B,excelCommands:W,documentCommands:Y,loading:ae,locationsLoading:fe,loadingFullDocuments:Re,error:Le,loadFullDocuments:he,refetchAdminData:re,refetchCafes:oe,addBlogPost:we,updateBlogPost:ie,deleteBlogPost:ce};return d.jsx(BH.Provider,{value:ge,children:t})},nn=()=>{const t=q.useContext(BH);if(t===void 0)throw new Error("useData must be used within a DataProvider");return t},vC=({type:t,url:e})=>{const n={className:"w-6 h-6 text-gray-500 hover:text-green-600 transition-colors"};switch(t){case"facebook":return d.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer","aria-label":"Facebook",children:d.jsx(YI,{...n})});case"twitter":return d.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer","aria-label":"Twitter",children:d.jsx(CH,{...n})});case"instagram":return d.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",children:d.jsx(EH,{...n})});default:return null}},lge=()=>{const{siteSettings:t,pages:e,blogPosts:n,loading:r}=nn(),{t:i,language:s}=la(),o=Dr().pathname.match(/^\/([a-z]{2})(?:\/|$)/),l=o?o[1]:"dz",c=q.useMemo(()=>{const v=new Set;return n.forEach(y=>{y.enabled&&y.content&&Object.keys(y.content).forEach(b=>v.add(b))}),Array.from(v).map(y=>ef.find(b=>b.code===y)||{code:y,name:y.toUpperCase()}).sort((y,b)=>y.code==="ar"?-1:b.code==="ar"?1:y.name.localeCompare(b.name))},[n]);if(r||!t)return d.jsx("footer",{className:"bg-white border-t mt-auto",children:d.jsx("div",{className:"container mx-auto px-4 py-8 text-center",children:"..."})});const u=t.social&&t.social[l]||t.social&&t.social.default||{facebook:"",twitter:"",instagram:""},f=t.seo&&t.seo[l]||t.seo&&t.seo.default||{siteName:"Gitut"},h=u.facebook||u.twitter||u.instagram,p=e.filter(v=>v.enabled&&(v.lang===s||!v.lang&&s==="ar"));return d.jsx("footer",{className:"bg-white border-t mt-auto",children:d.jsx("div",{className:"container mx-auto px-4 py-8",children:d.jsxs("div",{className:"flex flex-col items-center gap-4",children:[(p.length>0||c.length>0)&&d.jsxs("nav",{className:"flex flex-wrap justify-center gap-x-6 gap-y-2 text-gray-600",children:[c.map(v=>d.jsx(en,{to:v.code==="ar"?"/blog/":`/blog/${v.code}/`,className:"hover:text-green-600 hover:underline",dir:v.code==="ar"?"rtl":"ltr",children:v.code==="ar"?i("footer.blog"):`Blog (${v.name})`},v.code)),d.jsx(en,{to:`/${l}/services/`,className:"hover:text-green-600 hover:underline",children:i("footer.services")}),p.map(v=>d.jsx(en,{to:`/${l}/page/${v.slug}/`,className:"hover:text-green-600 hover:underline",children:v.title},v.id))]}),h&&d.jsxs("div",{className:"flex justify-center gap-6",children:[u.facebook&&d.jsx(vC,{type:"facebook",url:u.facebook}),u.twitter&&d.jsx(vC,{type:"twitter",url:u.twitter}),u.instagram&&d.jsx(vC,{type:"instagram",url:u.instagram})]}),d.jsxs("p",{className:"text-center text-gray-500 text-sm",children:[" ",new Date().getFullYear()," ",f.siteName,". ",i("footer.rightsReserved")]})]})})})},T9=t=>t?t.replace(/[]/g,"").replace(//g,""):"",E9=()=>{const{services:t,siteSettings:e,loading:n}=nn(),r=wi(),{countryCode:i}=aa(),{t:s,language:a}=la(),o=i||"dz",l=q.useMemo(()=>{const O=(e==null?void 0:e.seo[o])||(e==null?void 0:e.seo.default);return[{title:(O==null?void 0:O.mainPageTitle)||s("findPage.hero.title1"),subtitle:(O==null?void 0:O.mainPageSubtitle)||s("findPage.hero.subtitle1")},{title:s("findPage.hero.title2"),subtitle:s("findPage.hero.subtitle2")}]},[e,s,o]),[c,u]=q.useState(0),f=q.useMemo(()=>i?t.filter(O=>!O.countryCode||O.countryCode===i):t,[t,i]);q.useEffect(()=>{if(n)return;const O=setInterval(()=>{u(K=>(K+1)%l.length)},7e3);return()=>clearInterval(O)},[l.length,n]);const[h,p]=q.useState(""),[v,g]=q.useState([]),[y,b]=q.useState(!1),[_,w]=q.useState([]),[C,S]=q.useState(!1),R=q.useRef(null),D=window.SpeechRecognition||window.webkitSpeechRecognition,N=!!D;q.useEffect(()=>{if(h.trim()){const O=T9(h.toLowerCase()),K=f.filter(X=>T9(X.name.toLowerCase()).includes(O));g(K)}else g([])},[h,f]),q.useEffect(()=>{if(!N)return;const O=new D;O.continuous=!1,O.interimResults=!1;let K="ar-SA";switch(a){case"en":K="en-US";break;case"fr":K="fr-FR";break;case"de":K="de-DE";break;case"es":K="es-ES";break;case"tr":K="tr-TR";break;case"ja":K="ja-JP";break}return O.lang=K,O.onresult=X=>p(X.results[0][0].transcript),O.onerror=X=>{console.error("Speech recognition error",X.error),alert(`Speech recognition error: ${X.error}`)},O.onend=()=>S(!1),R.current=O,()=>{var X;return(X=R.current)==null?void 0:X.abort()}},[N,a]);const k=()=>{var O,K;if(!N){alert("Your browser does not support voice search.");return}C?(O=R.current)==null||O.stop():((K=R.current)==null||K.start(),S(!0))},F=O=>{p(""),_.find(K=>K.id===O.id&&K.serviceType===O.serviceType)||w(K=>[...K,O])},P=(O,K)=>{w(X=>X.filter(J=>!(J.id===O&&J.serviceType===K)))},I=O=>{O.preventDefault();const K=_.filter(J=>J.serviceType==="doc"||J.serviceType==="site");if(K.length===0){alert(s("findPage.alert.selectFillable"));return}const X=K.map(J=>J.id);r(`/${i||"dz"}/find-cafe`,{state:{documentIds:X}})},U=_.filter(O=>O.serviceType==="doc"||O.serviceType==="site").length;return d.jsxs("div",{className:"space-y-8",children:[d.jsx("section",{className:"text-center p-8 md:p-10 bg-white rounded-xl shadow-lg overflow-hidden flex flex-col justify-center min-h-[12rem]",children:n?d.jsx("p",{children:"Loading..."}):d.jsxs("div",{className:"fade-in-text",children:[d.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:l[c].title}),d.jsx("p",{className:"text-base md:text-lg text-gray-700 max-w-3xl mx-auto",children:l[c].subtitle})]},c)}),d.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 space-y-4",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:s("findPage.step1.title")}),d.jsx("form",{onSubmit:O=>O.preventDefault(),children:d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",placeholder:s("findPage.step1.placeholder"),value:h,onChange:O=>p(O.target.value),onFocus:()=>b(!0),onBlur:()=>setTimeout(()=>b(!1),200),className:"p-4 pl-14 bg-white border border-gray-300 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-500 text-lg"}),N&&d.jsx("button",{type:"button",onClick:k,title:s("findPage.step1.voiceSearchTitle"),className:`absolute left-3 top-1/2 -translate-y-1/2 p-3 rounded-full transition-colors duration-300 ${C?"bg-red-500 text-white animate-pulse":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:d.jsx(yc,{className:"h-5 w-5"})}),y&&v.length>0&&d.jsx("ul",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-20 max-h-60 overflow-y-auto",children:v.map(O=>d.jsxs("li",{className:"px-4 py-3 cursor-pointer hover:bg-green-50 flex justify-between items-center",onMouseDown:()=>F(O),children:[d.jsx("span",{children:O.name}),_.find(K=>K.id===O.id&&K.serviceType===O.serviceType)&&d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-600",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},`${O.serviceType}-${O.id}`))})]})})]}),d.jsx("section",{children:_.length>0?d.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 space-y-4",children:[d.jsxs("h3",{className:"text-xl font-semibold",children:[s("findPage.selectedDocs.title")," (",_.length,"):"]}),d.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto pr-2",children:_.map(O=>{const K="description"in O?O.description:"url"in O?O.url:"",X=O.serviceType==="static-doc"?d.jsx(_w,{className:"h-6 w-6 text-blue-500 flex-shrink-0 mt-1"}):O.serviceType==="site"?d.jsx(L_,{className:"h-6 w-6 text-indigo-500 flex-shrink-0 mt-1"}):d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-600 flex-shrink-0 mt-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})});return d.jsxs("article",{className:"bg-gray-50 rounded-lg p-3 border flex justify-between items-center gap-3",children:[d.jsxs("div",{className:"flex items-start gap-3 flex-grow",children:[X,d.jsxs("div",{className:"flex-grow",children:[d.jsx("h4",{className:"text-md font-bold text-gray-900",children:O.name}),d.jsx("div",{className:"text-sm text-gray-600 prose prose-sm max-w-none line-clamp-2",dangerouslySetInnerHTML:{__html:K}})]})]}),d.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[O.serviceType==="static-doc"&&d.jsx("a",{href:`/${i||"dz"}/view/${O.id}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm font-semibold whitespace-nowrap",children:s("findPage.selectedDocs.viewFile")}),d.jsx("button",{onClick:()=>P(O.id,O.serviceType),title:s("findPage.selectedDocs.removeTitle"),className:"text-red-500 hover:text-red-700 p-1 rounded-full hover:bg-red-100",children:d.jsx(kf,{})})]})]},`${O.serviceType}-${O.id}`)})}),d.jsx("form",{onSubmit:I,className:"text-center pt-4",children:d.jsxs("button",{type:"submit",className:"flex items-center justify-center gap-2 bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700 transition-colors mx-auto disabled:bg-gray-400 disabled:cursor-not-allowed",disabled:U===0,title:U===0?s("findPage.selectedDocs.nextStepButtonDisabledTitle"):"",children:[d.jsx("span",{children:s("findPage.selectedDocs.nextStepButton",{count:U})}),d.jsx(QI,{})]})})]}):d.jsx("div",{className:"text-center py-10 bg-white rounded-lg shadow",children:d.jsx("p",{className:"text-gray-600 text-lg",children:s("findPage.selectedDocs.emptyState")})})})]})},sc=({placement:t})=>{const{ads:e}=nn(),n=q.useMemo(()=>e.find(r=>r.placement===t&&r.enabled),[t,e]);return n?t==="DASHBOARD_TOP"?d.jsx("a",{href:n.link,target:"_blank",rel:"noopener noreferrer",className:"block rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-shadow duration-300",children:d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:n.imageUrl,alt:n.title,className:"w-full h-auto object-cover"}),d.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex flex-col justify-end p-6",children:[d.jsx("h3",{className:"text-2xl font-bold text-white",children:n.title}),d.jsx("p",{className:"text-white text-opacity-90 mt-1",children:n.content})]})]})}):t==="PROFILE_SIDEBAR"?d.jsx("a",{href:n.link,target:"_blank",rel:"noopener noreferrer",className:"block rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow duration-300 group",children:d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:n.imageUrl,alt:n.title,className:"w-full h-auto object-cover"}),d.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent p-4 flex flex-col justify-end",children:[d.jsx("h3",{className:"text-lg font-bold text-white group-hover:underline",children:n.title}),d.jsx("p",{className:"text-sm text-white/90",children:n.content})]})]})}):null:null},cge="https://pub-f25b4129424647319985a15a082e6685.r2.dev",yi=t=>t?t.startsWith("http://")||t.startsWith("https://")||t.startsWith("data:")?t:`${cge}/${t.startsWith("/")?t.substring(1):t}`:"";async function VH(t,e,n){const i=await(await fetch(t)).blob();return new File([i],e,{type:n||i.type})}const HA=new URL("/api/gun",window.location.origin);HA.protocol=HA.protocol==="https:"?"wss:":"ws:";const WH=HA.toString();console.log(`[Gun.js] Attempting to connect to peer: ${WH}`);const uge=[WH];let qH=null;typeof window<"u"&&window.Gun&&(qH=window.Gun({peers:uge}));const Xn=qH,$H=q.createContext(void 0),Ex=()=>`${Date.now()}-${Math.random().toString(36).substring(2,9)}`,dge=({children:t})=>{const{user:e}=Ar(),{cafes:n}=nn(),[r,i]=q.useState(null);q.useEffect(()=>{let u=localStorage.getItem("gitut_visitor_id");u||(u=`visitor_${crypto.randomUUID()}`,localStorage.setItem("gitut_visitor_id",u)),i(u)},[]),q.useEffect(()=>{if(!(e!=null&&e.cafeId)||!Xn)return;const u=e.cafeId,f=Xn.get("presence").get(u);f.put({lastSeen:Date.now()});const h=setInterval(()=>{f.put({lastSeen:Date.now()})},1e4),p=()=>f.put({lastSeen:null});return window.addEventListener("beforeunload",p),()=>{clearInterval(h),f.put({lastSeen:null}),window.removeEventListener("beforeunload",p)}},[e]),q.useEffect(()=>{if(!(e!=null&&e.cafeId)||!Xn)return;const u=e.cafeId,f=Xn.get("jobs").get(u);return f.map().on(async(h,p)=>{if(h&&typeof h=="object"){console.log(`Received P2P job: ${p}`);try{if(!await Ms("jobs",p)){const g={...h,id:p,documentIds:typeof h.documentIds=="string"?JSON.parse(h.documentIds):h.documentIds,visitorData:typeof h.visitorData=="string"?JSON.parse(h.visitorData):h.visitorData};await mr("jobs",g),console.log(`Job ${p} persisted to IndexedDB.`)}f.get(p).put(null)}catch(v){console.error(`Failed to persist P2P job ${p} to IndexedDB:`,v)}}}),()=>f.off()},[e]);const c={visitorId:r,usePresence:u=>{const[f,h]=q.useState(null),p=q.useRef(null);return q.useEffect(()=>{if(!u||!Xn){h(!1);return}const v=Xn.get("presence").get(u),g=()=>{const _=p.current,w=_?Date.now()-_<15e3:!1;h(w)},y=v.on(_=>{p.current=_&&typeof _.lastSeen=="number"?_.lastSeen:null,g()}),b=setInterval(g,5e3);return g(),()=>{y.off(),clearInterval(b)}},[u]),{isOnline:f}},useVisitorChat:u=>{const[f,h]=q.useState([]),p=q.useMemo(()=>!Xn||!u?null:Xn.get("chats").get(u),[u]);q.useEffect(()=>{if(!p)return;const g=new Map;return p.map().on((y,b)=>{if(y){g.set(b,{...y,id:b});const _=Array.from(g.values()).sort((w,C)=>w.timestamp-C.timestamp);h(_)}}),()=>p.off()},[p]);const v=q.useCallback(g=>{if(!p||!r)return;const y={text:g,senderId:r,senderName:"Visitor",timestamp:Date.now()},b=Ex();p.get(b).put(y)},[p,r]);return{messages:f,sendMessage:v}},useCafeChatManager:()=>{const[u,f]=q.useState({unread:!1,messages:[]}),[h,p]=q.useState(new Map),v=e==null?void 0:e.cafeId;q.useEffect(()=>{if(!v||!Xn)return;const C=Xn.get("chats").get(`admin_${v}`),S=new Map;return C.map().on((R,D)=>{if(R){S.set(D,{...R,id:D});const N=Array.from(S.values()).sort((P,I)=>P.timestamp-I.timestamp),k=N[N.length-1],F=k&&k.senderId!==v&&k.timestamp>(Number(localStorage.getItem(`lastRead_admin_${v}`))||0);f({messages:N,lastMessage:k,unread:F})}}),()=>C.off()},[v]),q.useEffect(()=>{if(!v||!Xn)return;const C=Xn.get("chats").get(v),S=new Map;return C.map().on((R,D)=>{if(R){const N=new Map;Xn.get(R["#"]).map().on((k,F)=>{if(k){N.set(F,{...k,id:F});const P=Array.from(N.values()).sort((O,K)=>O.timestamp-K.timestamp),I=P[P.length-1],U=I&&I.senderId!==v&&I.timestamp>(Number(localStorage.getItem(`lastRead_${v}_${D}`))||0);S.set(D,{messages:P,lastMessage:I,unread:U}),p(new Map(S))}})}}),()=>C.off()},[v]);const g=q.useCallback(C=>{var D;if(!v||!Xn)return;const S=Xn.get("chats").get(`admin_${v}`),R={text:C,senderId:v,senderName:((D=n.find(N=>N.id===v))==null?void 0:D.name)||"Cafe",timestamp:Date.now()};S.get(Ex()).put(R)},[v,n]),y=q.useCallback((C,S)=>{var N;if(!v||!Xn)return;const R=Xn.get("chats").get(v).get(C),D={text:S,senderId:v,senderName:((N=n.find(k=>k.id===v))==null?void 0:N.name)||"Cafe",timestamp:Date.now()};R.get(Ex()).put(D)},[v,n]),b=q.useCallback(()=>{v&&(localStorage.setItem(`lastRead_admin_${v}`,String(Date.now())),f(C=>({...C,unread:!1})))},[v]),_=q.useCallback(C=>{v&&(localStorage.setItem(`lastRead_${v}_${C}`,String(Date.now())),p(S=>{const R=new Map(S),D=R.get(C);return D&&R.set(C,{...D,unread:!1}),R}))},[v]),w=(u.unread?1:0)+Array.from(h.values()).filter(C=>C.unread).length;return{adminConversation:u,visitorConversations:h,sendMessageToAdmin:g,sendMessageToVisitor:y,markAdminAsRead:b,markVisitorAsRead:_,totalUnreadCount:w}},useAdminChatManager:()=>{const[u,f]=q.useState(new Map),[h,p]=q.useState(null),[v,g]=q.useState([]);q.useEffect(()=>{if(!Xn)return;const w=Xn.get("chats"),C=new Map;return w.map().on((S,R)=>{if(R.startsWith("admin_")){const D=R.replace("admin_","");Xn.get(S["#"]).map().on((N,k)=>{var F;if(N){const P=((F=n.find(U=>U.id===D))==null?void 0:F.name)||`Cafe ${D.substring(0,4)}`,I=C.get(D);if(!I||N.timestamp>I.lastMessage.timestamp){const U=N.senderId!=="admin"&&N.timestamp>(Number(localStorage.getItem(`lastRead_admin_${D}`))||0);C.set(D,{lastMessage:{...N,id:k},unread:U,cafeName:P}),f(new Map(C))}}})}}),()=>w.off()},[n]),q.useEffect(()=>{if(!h||!Xn){g([]);return}const w=Xn.get("chats").get(`admin_${h}`),C=new Map;return w.map().on((S,R)=>{S&&(C.set(R,{...S,id:R}),g(Array.from(C.values()).sort((D,N)=>D.timestamp-N.timestamp)))}),()=>w.off()},[h]);const y=q.useCallback(w=>{localStorage.setItem(`lastRead_admin_${w}`,String(Date.now())),p(w),f(C=>{const S=new Map(C),R=S.get(w);return R&&S.set(w,{...R,unread:!1}),S})},[]),b=q.useCallback(w=>{if(!h||!Xn)return;const C=Xn.get("chats").get(`admin_${h}`),S={text:w,senderId:"admin",senderName:"Admin",timestamp:Date.now()};C.get(Ex()).put(S)},[h]),_=Array.from(u.values()).filter(w=>w.unread).length;return{conversations:u,messages:v,currentConversationId:h,selectConversation:y,sendMessage:b,unreadConversationsCount:_}}};return d.jsx($H.Provider,{value:c,children:t})},Qf=()=>{const t=q.useContext($H);if(t===void 0)throw new Error("useRealtime must be used within an RealtimeProvider");return t},rk=({title:t,messages:e,onSendMessage:n,currentUserId:r,isOnline:i,isLoading:s,onClose:a})=>{const[o,l]=q.useState(""),c=q.useRef(null),u=()=>{var h;(h=c.current)==null||h.scrollIntoView({behavior:"smooth"})};q.useEffect(()=>{u()},[e]);const f=h=>{h.preventDefault(),o.trim()&&(n(o.trim()),l(""))};return d.jsxs("div",{className:"flex flex-col h-full bg-white",children:[d.jsxs("header",{className:"flex-shrink-0 flex items-center justify-between p-3 border-b bg-gray-50 rounded-t-lg",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-gray-800",children:t}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:`w-2 h-2 rounded-full ${i===null?"bg-gray-300":i?"bg-green-500":"bg-gray-400"}`}),d.jsx("span",{className:"text-xs text-gray-500",children:i===null?" ...":i?" ":" "})]})]}),a&&d.jsx("button",{onClick:a,className:"text-gray-500 hover:text-gray-800 text-2xl",children:""})]}),d.jsxs("main",{className:"flex-grow p-4 overflow-y-auto bg-gray-100",children:[s?d.jsx("div",{className:"flex justify-center items-center h-full",children:d.jsx(Ct,{className:"animate-spin text-2xl text-gray-400"})}):e.length===0?d.jsx("div",{className:"flex justify-center items-center h-full",children:d.jsx("p",{className:"text-gray-500",children:"   ."})}):d.jsx("div",{className:"space-y-4",children:e.map(h=>{const p=h.senderId===r;return d.jsx("div",{className:`flex items-end gap-2 ${p?"justify-end":"justify-start"}`,children:d.jsxs("div",{className:`max-w-xs md:max-w-md p-3 rounded-2xl ${p?"bg-green-600 text-white rounded-br-none":"bg-white text-gray-800 rounded-bl-none border"}`,children:[!p&&d.jsx("p",{className:"text-xs font-bold text-blue-600 mb-1",children:h.senderName}),d.jsx("p",{className:"text-sm break-words",children:h.text}),d.jsx("p",{className:`text-xs mt-1 text-right ${p?"text-green-100":"text-gray-400"}`,children:new Date(h.timestamp).toLocaleTimeString("ar-DZ",{hour:"2-digit",minute:"2-digit"})})]})},h.id)})}),d.jsx("div",{ref:c})]}),d.jsx("footer",{className:"flex-shrink-0 p-3 border-t bg-white rounded-b-lg",children:d.jsxs("form",{onSubmit:f,className:"flex items-center gap-2",children:[d.jsx("input",{type:"text",value:o,onChange:h=>l(h.target.value),placeholder:"  ...",className:"flex-grow p-2 border rounded-full focus:outline-none focus:ring-2 focus:ring-green-500",disabled:i===!1}),d.jsx("button",{type:"submit",className:"bg-green-600 text-white p-3 rounded-full hover:bg-green-700 disabled:bg-gray-400",disabled:i===!1||!o.trim(),children:d.jsx(G0,{})})]})})]})},zH=({url:t,title:e,description:n})=>{const[r,i]=q.useState(!1),[s,a]=q.useState(!1),o=q.useMemo(()=>{let v=t;const g=v.indexOf("?"),y=v.indexOf("#");let b=v,_="";if(g!==-1||y!==-1){const w=Math.min(g===-1?1/0:g,y===-1?1/0:y);b=v.substring(0,w),_=v.substring(w)}return b.endsWith(".html")&&(b=b.slice(0,-5)),b+_},[t]),l=encodeURIComponent(o),c=encodeURIComponent(e),u=[{name:"LinkedIn",url:`https://www.linkedin.com/shareArticle?mini=true&url=${l}&title=${c}`,icon:d.jsx(Lme,{}),color:"bg-blue-700 hover:bg-blue-800"},{name:"Pinterest",url:`https://pinterest.com/pin/create/button/?url=${l}&description=${c}`,icon:d.jsx(Bme,{}),color:"bg-red-600 hover:bg-red-700"},{name:"Reddit",url:`https://www.reddit.com/submit?url=${l}&title=${c}`,icon:d.jsx(Vme,{}),color:"bg-orange-500 hover:bg-orange-600"},{name:"Facebook",url:`https://www.facebook.com/sharer/sharer.php?u=${l}&quote=${c}`,icon:d.jsx(YI,{}),color:"bg-blue-600 hover:bg-blue-700"}],f=()=>{navigator.clipboard.writeText(o).then(()=>{i(!0),setTimeout(()=>i(!1),2e3)})},h=v=>{navigator.clipboard.writeText(v).then(()=>{a(!0),setTimeout(()=>a(!1),2e3)})},p=()=>{const v=(n||"").replace(/<[^>]*>/g,""),g=v.substring(0,155)+(v.length>155?"...":""),y=`${e}

${g}

${o}`,b=`
      <p style="font-weight: bold; font-family: sans-serif; font-size: 16px;">${e}</p>
      <div style="font-family: sans-serif; font-size: 14px;"><p>${g}</p></div>
      <a href="${o}">${o}</a>
    `;try{if(typeof ClipboardItem>"u"){h(y);return}const _=new Blob([b],{type:"text/html"}),w=new Blob([y],{type:"text/plain"}),C=new ClipboardItem({"text/html":_,"text/plain":w});navigator.clipboard.write([C]).then(()=>{a(!0),setTimeout(()=>a(!1),2e3)}).catch(S=>{console.error("Async clipboard write failed, falling back to plain text: ",S),h(y)})}catch(_){console.error("Failed to use Clipboard API, falling back to writeText: ",_),h(y)}};return d.jsxs("div",{className:"fixed bottom-6 left-6 z-40 flex flex-col items-center gap-3",children:[u.map(v=>d.jsx("a",{href:v.url,target:"_blank",rel:"noopener noreferrer","aria-label":`Share on ${v.name}`,className:`w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-transform hover:scale-110 ${v.color}`,children:vl.cloneElement(v.icon,{size:24})},v.name)),d.jsx("button",{onClick:f,"aria-label":"Copy link",className:"w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-all hover:scale-110 bg-gray-600 hover:bg-gray-700",children:r?d.jsx("span",{className:"text-xs",children:" "}):d.jsx(MH,{size:22})}),d.jsx("button",{onClick:p,"aria-label":"Copy details",title:"  (  )",className:"w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-all hover:scale-110 bg-gray-600 hover:bg-gray-700",children:s?d.jsx("span",{className:"text-xs",children:" "}):d.jsx(Wme,{size:22})})]})},rs=(t,e,n=!0)=>{const r=n?`meta[property='${t}']`:`meta[name='${t}']`;let i=document.querySelector(r);i||(i=document.createElement("meta"),i.setAttribute(n?"property":"name",t),document.head.appendChild(i)),i.setAttribute("content",e)},Cx=t=>t?t.replace(/[]/g,"").replace(//g,""):"",fge=t=>{const e=new Map;t.forEach(r=>{e.has(r.groupId)||e.set(r.groupId,[]),e.get(r.groupId).push(r)});const n=[];for(const r of e.values())r.sort((i,s)=>i.id.localeCompare(s.id)),n.push(r[0]);return n},hge=()=>{var B,j,W;const{countryCode:t,numericId:e}=aa(),n=Dr(),{documents:r,cafes:i,siteSettings:s,loading:a}=nn(),{user:o}=Ar(),{language:l}=la(),[c,u]=q.useState(void 0),[f,h]=q.useState(!0),[p,v]=q.useState(()=>{var G;return!!((G=n.state)!=null&&G.openChat)}),{usePresence:g,useVisitorChat:y,visitorId:b}=Qf(),{isOnline:_}=g(c==null?void 0:c.id),{messages:w,sendMessage:C}=y(c==null?void 0:c.id),[S,R]=q.useState([]),[D,N]=q.useState(""),[k,F]=q.useState(!1);q.useEffect(()=>{var G,Y;if(c&&s){const ee=((G=s.seo)==null?void 0:G[t||"dz"])||((Y=s.seo)==null?void 0:Y.default)||{siteName:"Gitut",titleSeparator:"|",metaDescription:""},ae=c.address.commune&&c.address.wilaya?` ${c.address.wilaya}  ${c.address.commune}`:"",de=`${c.name} ${ae} ${ee.titleSeparator} ${ee.siteName}`,fe=c.description?c.description.substring(0,155)+(c.description.length>155?"...":""):ee.metaDescription,Ae=yi(c.coverImageUrl)||"https://datas.gitut.com/data/image/gitut-og-main.png";let Re="en_US";switch(l){case"ar":Re="ar_AR";break;case"fr":Re="fr_FR";break;case"de":Re="de_DE";break;case"es":Re="es_ES";break;case"tr":Re="tr_TR";break;case"ja":Re="ja_JP";break}document.title=de,rs("description",fe,!1),rs("og:title",de),rs("og:description",fe),rs("og:image",Ae),rs("og:image:secure_url",Ae),rs("og:image:width","1200"),rs("og:image:height","630"),rs("og:url",window.location.href),rs("og:type","profile"),rs("og:site_name",ee.siteName),rs("og:locale",Re),rs("twitter:card","summary_large_image",!1),rs("twitter:url",window.location.href,!1),rs("twitter:title",de,!1),rs("twitter:description",fe,!1),rs("twitter:image",Ae,!1)}},[c,s,t,l]),q.useEffect(()=>{(async()=>{if(!e){h(!1);return}if(a)return;h(!0);const Y=parseInt(e,10),ee=i.find(ae=>ae.numericId===Y);if(ee)u(ee),h(!1);else try{const ae=await mme(Y);u(ae||void 0)}catch(ae){console.error("Failed to fetch cafe by numericId:",ae),u(void 0)}finally{h(!1)}})()},[e,i,a]);const P=q.useMemo(()=>{if(!c)return[];const G=[],Y=new Set([c.id]),ee=i.filter(de=>de.id!==c.id&&de.isProfilePublished);return ee.filter(de=>de.address.commune===c.address.commune&&de.address.wilaya===c.address.wilaya).forEach(de=>{G.length<5&&!Y.has(de.id)&&(G.push(de),Y.add(de.id))}),G.length<5&&c.address.daira&&ee.filter(fe=>fe.address.daira===c.address.daira&&fe.address.wilaya===c.address.wilaya).forEach(fe=>{G.length<5&&!Y.has(fe.id)&&(G.push(fe),Y.add(fe.id))}),G.length<5&&ee.filter(fe=>fe.address.wilaya===c.address.wilaya).forEach(fe=>{G.length<5&&!Y.has(fe.id)&&(G.push(fe),Y.add(fe.id))}),G},[c,i]),I=q.useMemo(()=>fge(r),[r]),U=q.useMemo(()=>c?I.filter(G=>c.services.includes(G.groupId)):[],[c,I]),O=q.useMemo(()=>{if(!D)return U;const G=Cx(D.toLowerCase());return U.filter(Y=>Cx(Y.name.toLowerCase()).includes(G))},[U,D]),K=q.useMemo(()=>{if(!D||!k)return[];const G=Cx(D.toLowerCase());return U.filter(Y=>Cx(Y.name.toLowerCase()).includes(G))},[U,D,k]),X=G=>{R(Y=>Y.includes(G)?Y.filter(ee=>ee!==G):[...Y,G])},J=G=>{X(G),N("")},ne=q.useMemo(()=>{if(!(c!=null&&c.address))return"";const{address:G}=c;return c.countryCode==="dz"?`${G.street||""}, ${G.commune||""}, ${G.daira||""}, ${G.wilaya||""}`.replace(/^,|,$/g,"").trim():`${G.street||""}, ${G.city||""}, ${G.state||""}`.replace(/^,|,$/g,"").trim()},[c]);if(f)return d.jsx("div",{className:"text-center py-20 flex justify-center items-center",children:d.jsx(Ct,{className:"animate-spin text-4xl text-green-600"})});if(!c)return d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"    "}),d.jsx("p",{className:"text-gray-600 mb-6",children:"         ."}),d.jsx(en,{to:`/${t}`,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"   "})]});const z="https://images.unsplash.com/photo-1554118811-1e0d58224f24?auto=format&fit=crop&w=800&q=80",Q="https://images.unsplash.com/photo-1517245386807-bb43f82c33c4?auto=format&fit=crop&w=1200&q=80";return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl mx-auto overflow-hidden",children:[d.jsx("img",{src:yi(c.coverImageUrl)||Q,alt:`${c.name} cover`,className:"w-full h-48 object-cover",onError:G=>{G.currentTarget.src=Q}}),d.jsxs("div",{className:"p-6 md:p-8 grid md:grid-cols-4 gap-8",children:[d.jsxs("main",{className:"md:col-span-3 space-y-8",children:[d.jsx(en,{to:`/${t}`,className:"text-green-600 hover:underline mb-6 inline-block",children:"   "}),d.jsxs("div",{className:"grid md:grid-cols-3 gap-8 items-start",children:[d.jsx("div",{className:"md:col-span-1",children:d.jsx("img",{src:yi(c.imageUrl)||z,alt:c.name,className:"w-full h-auto rounded-lg shadow-md aspect-square object-cover",onError:G=>{G.currentTarget.src=z}})}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:c.name}),d.jsxs("p",{className:"text-gray-500 text-lg mb-4",children:[": ",c.owner]}),d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx("span",{className:`w-3 h-3 rounded-full transition-colors duration-500 ${_===null?"bg-gray-300 animate-pulse":_?"bg-green-500":"bg-gray-400"}`}),d.jsx("span",{className:"text-sm text-gray-600",children:_===null?" ...":_?" ":" "})]}),d.jsxs("div",{className:"space-y-3 text-gray-700",children:[d.jsxs("p",{children:[d.jsx("strong",{className:"font-semibold",children:":"})," ",ne]}),d.jsxs("p",{children:[d.jsx("strong",{className:"font-semibold",children:":"})," ",c.description]}),c.phone&&d.jsxs("p",{className:"flex items-center gap-2",children:[d.jsx(Qme,{className:"text-gray-500"})," ",d.jsx("strong",{children:c.phone})]})]}),d.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[c.googleMapsUrl&&d.jsxs("a",{href:c.googleMapsUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 bg-white border border-gray-300 text-gray-700 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[d.jsx(Jme,{})," ",d.jsx("span",{children:"  "})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[((B=c.socials)==null?void 0:B.facebook)&&d.jsx("a",{href:c.socials.facebook,target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-blue-600",children:d.jsx(YI,{size:24})}),((j=c.socials)==null?void 0:j.instagram)&&d.jsx("a",{href:c.socials.instagram,target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-pink-600",children:d.jsx(EH,{size:24})}),((W=c.socials)==null?void 0:W.twitter)&&d.jsx("a",{href:c.socials.twitter,target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-sky-500",children:d.jsx(CH,{size:24})})]})]})]})]}),d.jsxs("div",{className:"border-t pt-8",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"1.   "}),d.jsx("p",{className:"text-gray-600 mb-6",children:"   .            ."}),d.jsxs("div",{className:"relative mb-4",children:[d.jsx("input",{type:"text",placeholder:"   ...",value:D,onChange:G=>N(G.target.value),onFocus:()=>F(!0),onBlur:()=>setTimeout(()=>F(!1),150),className:"w-full p-3 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500","aria-label":"     ",autoComplete:"off"}),K.length>0&&d.jsx("ul",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-10 max-h-60 overflow-y-auto",children:K.map(G=>d.jsxs("li",{className:`px-4 py-2 cursor-pointer flex justify-between items-center ${S.includes(G.id)?"bg-green-100 font-semibold text-green-800":"hover:bg-green-50"}`,onMouseDown:Y=>{Y.preventDefault(),J(G.id)},children:[d.jsx("span",{children:G.name}),S.includes(G.id)&&d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-600",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},G.id))})]}),d.jsx("div",{className:"space-y-3 mb-6",role:"group","aria-labelledby":"documents-heading",children:O.length>0?O.map(G=>d.jsxs("button",{type:"button",onClick:()=>X(G.id),className:`w-full text-right p-4 border rounded-lg transition-all duration-200 ${S.includes(G.id)?"bg-green-100 border-green-500 ring-2 ring-green-400":"bg-gray-50 hover:bg-gray-100"}`,"aria-pressed":S.includes(G.id),children:[d.jsx("h3",{className:"font-bold text-lg text-gray-800",children:G.name}),d.jsx("div",{className:"text-gray-600 prose prose-sm max-w-none line-clamp-2",dangerouslySetInnerHTML:{__html:G.description}})]},G.id)):d.jsx("div",{className:"text-center py-6 bg-gray-50 rounded-lg",children:d.jsx("p",{className:"text-gray-600",children:"    ."})})}),d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"2.  "}),d.jsxs(en,{to:S.length>0?`/${t}/form`:"#",state:{cafeId:c.id,selectedDocIds:S},className:`w-full md:w-auto inline-block text-center bg-green-600 text-white font-bold py-3 px-8 rounded-lg transition-colors focus:outline-none focus:ring-4 focus:ring-green-300 ${S.length===0?"opacity-50 cursor-not-allowed":"hover:bg-green-700"}`,"aria-disabled":S.length===0,onClick:G=>S.length===0&&G.preventDefault(),children:["   (",S.length,")"]})]})]}),d.jsxs("aside",{className:"md:col-span-1 space-y-6 pt-12",children:[d.jsx(sc,{placement:"PROFILE_SIDEBAR"}),P.length>0&&d.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border",children:[d.jsx("h3",{className:"font-bold text-lg mb-3 text-gray-800",children:" "}),d.jsx("div",{className:"space-y-3",children:P.map(G=>d.jsxs(en,{to:`/${G.countryCode}/profile/${G.numericId}`,className:"block p-3 bg-white rounded-md border hover:border-green-400 hover:bg-green-50 transition-all",children:[d.jsx("p",{className:"font-semibold text-gray-900",children:G.name}),d.jsx("p",{className:"text-sm text-gray-500",children:G.address.commune})]},G.id))})]})]})]})]}),d.jsx(zH,{url:window.location.href,title:c.name,description:c.description}),c&&!p&&d.jsx("button",{onClick:()=>v(!0),className:"fixed bottom-8 right-8 bg-blue-600 text-white p-4 rounded-full shadow-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-transform hover:scale-110 z-40","aria-label":" ",title:" ",children:d.jsx(ZI,{size:24})}),p&&c&&b&&d.jsx("div",{className:"fixed bottom-8 right-8 w-full max-w-sm h-[70vh] max-h-[500px] z-50 shadow-2xl rounded-lg fade-in-text",children:d.jsx(rk,{title:`  ${c.name}`,messages:w,onSendMessage:C,currentUserId:b,isOnline:_,onClose:()=>v(!1)})})]})},pge=({onClose:t,onCapture:e})=>{const n=q.useRef(null),r=q.useRef(null),i=q.useRef(null),[s,a]=q.useState(null),[o,l]=q.useState(null),c=async()=>{l(null),a(null);try{const p=await navigator.mediaDevices.getUserMedia({video:{width:480,height:480}});i.current=p,n.current&&(n.current.srcObject=p)}catch(p){console.error("Error accessing camera:",p),p instanceof DOMException&&(p.name==="NotAllowedError"||p.name==="PermissionDeniedError")?l("    .      ."):l("    .          .")}};q.useEffect(()=>(c(),()=>{i.current&&i.current.getTracks().forEach(p=>p.stop())}),[]);const u=()=>{if(n.current&&r.current){const p=n.current,v=r.current;v.width=p.videoWidth,v.height=p.videoHeight;const g=v.getContext("2d");g==null||g.drawImage(p,0,0,v.width,v.height);const y=v.toDataURL("image/jpeg");a(y),i.current&&(i.current.getTracks().forEach(b=>b.stop()),i.current=null)}},f=()=>{c()},h=()=>{s&&(e(s),t())};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex justify-center items-center",children:d.jsxs("div",{className:"bg-white rounded-lg p-4 max-w-lg w-full",children:[d.jsx("h3",{className:"text-xl font-bold mb-4 text-center",children:" "}),d.jsxs("div",{className:"relative aspect-square bg-gray-900 rounded-md overflow-hidden flex items-center justify-center",children:[o?d.jsxs("div",{className:"p-4 text-center text-white",children:[d.jsx("p",{className:"font-semibold text-red-400",children:"  "}),d.jsx("p",{className:"text-sm mt-2",children:o})]}):s?d.jsx("img",{src:s,alt:"Captured",className:"w-full h-full object-contain"}):d.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),d.jsx("canvas",{ref:r,className:"hidden"})]}),d.jsxs("div",{className:"mt-4 flex justify-center gap-4",children:[s?d.jsxs(d.Fragment,{children:[d.jsx("button",{type:"button",onClick:f,className:"bg-gray-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-600",children:" "}),d.jsx("button",{type:"button",onClick:h,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700",children:" "})]}):d.jsx("button",{type:"button",onClick:u,disabled:!!o,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:""}),d.jsx("button",{type:"button",onClick:t,className:"bg-red-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-600",children:""})]})]})})},qv=({value:t,onChange:e})=>{const n=q.useRef(null),[r,i]=q.useState(!1),s=o=>{var c;const l=(c=o.target.files)==null?void 0:c[0];if(l){const u=new FileReader;u.onloadend=()=>{e(u.result)},u.readAsDataURL(l)}},a=()=>{e("")};return d.jsxs("div",{className:"w-full",children:[d.jsx("div",{className:"w-48 h-48 rounded-lg border-2 border-dashed border-gray-300 flex justify-center items-center bg-gray-50 overflow-hidden relative group",children:t?d.jsxs(d.Fragment,{children:[d.jsx("img",{src:t,alt:"Preview",className:"w-full h-full object-cover"}),d.jsx("button",{type:"button",onClick:a,className:"absolute top-1 right-1 bg-red-600 text-white p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity","aria-label":"Remove image",children:d.jsx(Hm,{})})]}):d.jsx("span",{className:"text-gray-400 text-sm",children:" "})}),d.jsxs("div",{className:"mt-2 flex gap-2",children:[d.jsxs("button",{type:"button",onClick:()=>{var o;return(o=n.current)==null?void 0:o.click()},className:"flex-1 flex items-center justify-center gap-2 bg-white border border-gray-300 text-gray-700 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[d.jsx(Nl,{}),d.jsx("span",{children:" "})]}),d.jsx("input",{type:"file",ref:n,onChange:s,accept:"image/*",className:"hidden"}),d.jsxs("button",{type:"button",onClick:()=>i(!0),className:"flex-1 flex items-center justify-center gap-2 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:[d.jsx(zm,{}),d.jsx("span",{children:" "})]})]}),r&&d.jsx(pge,{onClose:()=>i(!1),onCapture:e})]})},HH="https://gitut.com/api/",GH="@@??YOUYOU@@??YOUYOU1936",KH="Could not initialize Firebase Admin SDK";function XH(){return new Promise((t,e)=>{if(jr.currentUser)return t(jr.currentUser);const n=jr.onAuthStateChanged(r=>{n(),r?t(r):e(new Error("User not authenticated."))})})}async function id(t,e){var n;try{const i=await(await XH()).getIdToken(),s=await fetch(HH,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`,"x-api-proxy-key":GH},body:JSON.stringify({action:t,payload:e})});if((n=s.headers.get("Content-Type"))!=null&&n.includes("application/json")){const o=await s.json();if(!s.ok)throw new Error(o.error||`Request failed with status ${s.status}`);return o}const a=await s.text();if(!s.ok)throw new Error(a||`Request failed with status ${s.status}`);return{text:a}}catch(r){throw console.error(`Gemini Service Error (${t}):`,r),r instanceof Error&&r.message.includes(KH)?new Error("    .      ."):r}}async function*JH(t){const e="generateContentStream",n={modelRequest:t},i=await(await XH()).getIdToken(),s=await fetch(HH,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`,"x-api-proxy-key":GH},body:JSON.stringify({action:e,payload:n})});if(!s.ok||!s.body){const c=(await s.json().catch(()=>({error:`Request failed with status ${s.status}`}))).error||`Request failed with status ${s.status}`;throw c.includes(KH)?new Error("    .      ."):new Error(c)}const a=s.body.getReader(),o=new TextDecoder;for(;;){const{done:l,value:c}=await a.read();if(l)break;yield o.decode(c,{stream:!0})}}async function*mge(t,e){const n=`Analyze the following HTML content. Your task is to identify specific pieces of personal information (like names, dates, addresses, job titles) and replace them with the most relevant placeholder from the provided list. Return ONLY the modified HTML body content, without any markdown formatting, explanations, or the <body> tags themselves.

    Available placeholders: ${e.join(", ")}
    
    Original HTML Body:
    \`\`\`html
    ${t}
    \`\`\`
    `,r=JH({model:"gemini-2.5-flash",contents:n});for await(const i of r)yield i}const gge=async t=>id("extractJsonFromHtml",{html:t}),ac=async t=>id("generateContent",{modelRequest:t}),yge=async t=>id("generateImages",{prompt:t}),ik=async(t,e,n,r)=>{const i=await id("extractDataFromImage",{base64ImageData:t,mimeType:e,schema:n,prompt:r});if(i&&i.text)try{return JSON.parse(i.text)}catch(s){throw console.error("Could not parse JSON from image extraction:",s),new Error("The AI model returned an invalid format.")}return i},vge=async(t,e,n,r)=>{const i=await id("extractStructuredData",{transcript:t,formFields:e,schema:n,prompt:r});if(i&&i.text)try{return JSON.parse(i.text)}catch(s){throw console.error("Could not parse JSON from structured data extraction:",s),new Error("The AI model returned an invalid format.")}return i},xge=async(t,e,n)=>id("extractJobData",{data:t,schema:e,requiredFieldLabels:n}),_ge=async(t,e,n)=>id("processSpreadsheet",{prompt:t,selectedData:e,selectionContext:n}),YH=async t=>id("convertPdfToHtml",{pdfBase64:t}),bge=({onClose:t,onScanSuccess:e})=>{const n=q.useRef(null),r=q.useRef(null),i=q.useRef(null),[s,a]=q.useState("initializing"),[o,l]=q.useState("  ..."),[c,u]=q.useState(null),f=q.useCallback(async()=>{try{const p=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});i.current=p,n.current&&(n.current.srcObject=p,a("ready"),l(" .        ."))}catch(p){console.error("Error accessing camera:",p),u("    .    ."),a("error")}},[]);q.useEffect(()=>(f(),()=>{var p;(p=i.current)==null||p.getTracks().forEach(v=>v.stop())}),[f]);const h=async()=>{var p;if(!(s!=="ready"||!n.current||!r.current)){a("scanning"),l("    ..."),u(null);try{const v=n.current,g=r.current;g.width=v.videoWidth,g.height=v.videoHeight;const y=g.getContext("2d");y==null||y.drawImage(v,0,0,g.width,g.height);const b=g.toDataURL("image/jpeg",.9),[_,w]=b.split(","),C=((p=_.match(/:(.*?);/))==null?void 0:p[1])||"image/jpeg",D=await ik(w,C,{type:"OBJECT",properties:{lastName:{type:"STRING",description:"The person's last name () in Arabic."},firstName:{type:"STRING",description:"The person's first name () in Arabic."},lastNameFr:{type:"STRING",description:"The person's last name in French, if available."},firstNameFr:{type:"STRING",description:"The person's first name in French, if available."},birthdaydate:{type:"STRING",description:"The person's date of birth ( ) in YYYY-MM-DD format."},birthdayplace:{type:"STRING",description:"The person's place of birth () in Arabic."},nationalId:{type:"STRING",description:"The 18-digit National Identification Number (  )."},bloodType:{type:"STRING",description:"The person's blood type (RH), e.g., 'B+'."}}},"From the provided image of an Algerian National ID card (  ), extract the person's information. The card contains both Arabic and French text. Extract both language versions for the names. Format the date of birth as YYYY-MM-DD. If the image is blurry, has glare, or is unreadable, return an empty object.");if(D&&(D.firstName||D.lastName)){const k={fullName:`${D.firstName||""} ${D.lastName||""}`.trim(),firstName:D.firstName||"",lastName:D.lastName||"",firstNameFr:D.firstNameFr||"",lastNameFr:D.lastNameFr||"",birthdaydate:D.birthdaydate||"",birthdayplace:D.birthdayplace||"",nationalId:D.nationalId||"",bloodType:D.bloodType||""};e(k)}else l("     .     ."),a("ready")}catch(v){console.error("Scanning error with Gemini:",v);const g=v instanceof Error?v.message:"An unknown error occurred.";u(`   : ${g}`),a("ready")}}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full relative",children:[d.jsx("button",{onClick:t,className:"absolute top-2 right-2 text-gray-500 hover:text-gray-800 z-10",children:d.jsx(kf,{size:20})}),d.jsx("h3",{className:"text-xl font-bold mb-4 text-center",children:"   "}),d.jsxs("div",{className:"relative aspect-video bg-gray-900 rounded-md overflow-hidden flex items-center justify-center",children:[d.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),d.jsx("canvas",{ref:r,className:"hidden"}),d.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:d.jsx("div",{className:"w-[85%] h-[80%] border-4 border-dashed border-white border-opacity-50 rounded-lg"})})]}),d.jsx("div",{className:"mt-4 text-center",children:c?d.jsx("p",{className:"text-red-500 font-semibold",children:c}):d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"text-gray-600 mb-2 h-10 flex items-center justify-center",children:s==="scanning"?d.jsxs("span",{className:"flex items-center gap-2",children:[d.jsx(Ct,{className:"animate-spin"})," ",o]}):o}),d.jsxs("button",{onClick:h,disabled:s!=="ready",className:"mt-2 w-full flex items-center justify-center gap-3 bg-blue-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-700 disabled:bg-gray-400",children:[d.jsx(zm,{}),d.jsx("span",{children:s==="ready"?" ":" ..."})]})]})})]})})},Sx={1:1,:1,:1,:1,:1,:1,2:2,:2,:2,:2,:2,:2,:2,:2,3:3,:3,:3,:3,:3,:3,:3,:3,:3,:3,:3,4:4,:4,:4,:4,:4,:4,:4,:4,:4,:4,:4,5:5,:5,:5,:5,:5,:5,6:6,:6,:6,:6},wge=t=>{const e=t.trim().toLowerCase(),n=e.match(/(?:||)\s+([^\s]+)/);if(n&&n[1]){const i=n[1];if(Sx[i])return Sx[i]}const r=e.split(/\s+/);for(const i of r)if(Sx[i])return Sx[i];return null},Tge=()=>{var me;const t=Dr(),e=wi(),{countryCode:n}=aa(),{documents:r,sites:i,cafes:s,loading:a,codes:o}=nn(),{cafeId:l,selectedDocIds:c}=t.state||{cafeId:null,selectedDocIds:[]},{usePresence:u}=Qf(),{isOnline:f}=u(l),{t:h,language:p}=la(),[v,g]=q.useState(),[y,b]=q.useState({}),[_,w]=q.useState(0),[C,S]=q.useState(""),[R,D]=q.useState(!1),[N,k]=q.useState(!1),[F,P]=q.useState("filling"),[I,U]=q.useState(!1),[O,K]=q.useState(!1),X=q.useRef(null),J=q.useRef(!1);q.useEffect(()=>{l&&s.length>0&&g(s.find(Le=>Le.id===l))},[l,s]);const ne=Le=>{b(V=>({...V,...Le})),K(!1)},z=q.useMemo(()=>r.filter(Le=>c.includes(Le.id)),[r,c]),Q=q.useMemo(()=>i.filter(Le=>Le.type==="template"&&c.includes(Le.id)),[i,c]),B=q.useMemo(()=>!c||c.length===0?!1:z.length>0||Q.length>0,[c,z,Q]),j=q.useMemo(()=>{const Le=[],V=new Set;return z.forEach(xe=>{var le;((((le=xe.spokenFields)==null?void 0:le.length)>0?xe.spokenFields:xe.requiredFields)||[]).forEach(re=>{var oe,he,we;if(re!=="profilePicture"&&re!=="DateToday"&&!V.has(re)){const ie=Object.prototype.hasOwnProperty.call(x2,re),ce=((oe=xe.questions)==null?void 0:oe[re])||((we=(he=xe.fieldCustomizations)==null?void 0:he[re])==null?void 0:we.customQuestion)||(ie?x2[re]:re);Le.push({id:re,label:ce||re}),V.add(re)}})}),Q.forEach(xe=>{var le;(((le=xe.jsonTemplate)==null?void 0:le.fields)||[]).forEach(re=>{if(re!=null&&re.fieldId){const oe=re.fieldId;V.has(oe)||(Le.push({id:oe,label:re.label}),V.add(oe))}})}),Le},[z,Q]),W=q.useMemo(()=>{const Le=new Set;return z.forEach(V=>(V.requiredFields||[]).forEach(xe=>Le.add(xe))),Le.has("profilePicture")},[z]),G=_===j.length-1,Y=q.useMemo(()=>{var we,ie,ce;const Le=(we=j[_])==null?void 0:we.id;if(!Le)return null;const xe=Object.prototype.hasOwnProperty.call(ei,Le)?ei[Le]:null;let Te=null;for(const ge of z)if((ie=ge.fieldCustomizations)!=null&&ie[Le]){Te=ge.fieldCustomizations[Le];break}const le=((ce=j[_])==null?void 0:ce.label)||Le,re=(Te==null?void 0:Te.type)||(xe==null?void 0:xe.type)||"text",oe=xe?h(xe.placeholder||""):Le;let he;return Te!=null&&Te.options?he=Te.options.map(ge=>({value:ge,label:ge})):xe!=null&&xe.options&&(he=xe.options.map(ge=>({value:ge.value,label:h(ge.label)}))),{id:Le,question:le,type:re,placeholder:oe,options:he,customization:Te}},[_,j,z,h]),ee=q.useCallback(()=>{G?P("finished"):w(Le=>Le+1)},[G]),ae=q.useCallback(()=>{_>0&&w(Le=>Le+1)},[_]),de=q.useRef({handleNext:ee,handlePrevious:ae,setFormData:b,currentField:Y});q.useEffect(()=>{de.current={handleNext:ee,handlePrevious:ae,setFormData:b,currentField:Y}},[ee,ae,Y]),q.useEffect(()=>{J.current=N},[N]),q.useEffect(()=>{const Le=window.SpeechRecognition||window.webkitSpeechRecognition;if(!Le)return;const V=new Le;V.continuous=!0,V.interimResults=!1;let xe="ar-SA";switch(p){case"en":xe="en-US";break;case"fr":xe="fr-FR";break;case"de":xe="de-DE";break;case"es":xe="es-ES";break;case"tr":xe="tr-TR";break;case"ja":xe="ja-JP";break}V.lang=xe,V.onstart=()=>{k(!0),U(!1)},V.onend=()=>{if(J.current){console.log("Speech recognition service disconnected, attempting to restart.");try{V.start()}catch(Te){console.error("Could not restart recognition:",Te),J.current=!1,k(!1)}}else k(!1)},V.onresult=Te=>{let le="";for(let ye=Te.resultIndex;ye<Te.results.length;++ye)Te.results[ye].isFinal&&(le+=Te.results[ye][0].transcript.trim());if(!le)return;const{handleNext:re,handlePrevious:oe,setFormData:he,currentField:we}=de.current,ie=wge(le);if(we!=null&&we.options&&ie!==null){const ye=ie-1;if(ye>=0&&ye<we.options.length){const Ne=we.options[ye];he(Ue=>({...Ue,[we.id]:Ne.value})),re();return}}const ce=["",""," "," ","next","suivant"],ge=["","",""," "," "," ","previous","prcdent"];ce.some(ye=>le.toLowerCase().includes(ye))?re():ge.some(ye=>le.toLowerCase().includes(ye))?oe():we&&he(ye=>({...ye,[we.id]:(ye[we.id]||"")+le+" "}))},V.onerror=Te=>{console.error("Speech recognition error:",Te.error),(Te.error==="not-allowed"||Te.error==="permission-denied")&&U(!0),J.current=!1,k(!1)},X.current=V,J.current=!0;try{X.current.start()}catch(Te){console.error("Could not start recognition on mount:",Te),J.current=!1,k(!1)}return()=>{X.current&&(J.current=!1,X.current.onend=null,X.current.stop())}},[p]),q.useEffect(()=>{var Le;if(X.current){const V=X.current,xe=J.current;xe&&(J.current=!1,V.stop());let Te=((Le=Y==null?void 0:Y.customization)==null?void 0:Le.speechLang)||(v==null?void 0:v.speechToTextLanguage)||"ar-SA";V.lang=Te,console.log(`Switched speech recognition language to: ${Te} for field ${Y==null?void 0:Y.id}`),xe&&setTimeout(()=>{J.current=!0;try{V.start()}catch(le){console.error("Could not restart recognition after lang change:",le),J.current=!1,k(!1)}},250)}},[_,j,v,Y]);const fe=()=>{var Le,V;N?(J.current=!1,(Le=X.current)==null||Le.stop()):(J.current=!0,(V=X.current)==null||V.start())},Ae=Le=>{const{name:V,value:xe}=Le.target;b(Te=>({...Te,[V]:xe}))},Re=async()=>{if(W&&!C){alert("     .");return}D(!0);const Le={...y,profilePicture:C};try{if(f===!0&&Xn){console.log("Cafe is online. Sending job via P2P (GUN.js).");const V=`job-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,xe={cafeId:l,documentIds:JSON.stringify(c),visitorData:JSON.stringify(Le),createdAt:Date.now(),status:"Pending"};Xn.get("jobs").get(l).get(V).put(xe),e(`/${n}/confirmation/${V}`)}else{console.log(`Cafe is offline (isOnline: ${f}). Sending job via Firebase.`);const xe=await xme({cafeId:l,documentIds:c,visitorData:Le});e(`/${n}/confirmation/${xe.id}`)}}catch(V){console.error("Error submitting job:",V),alert("    .    .")}finally{D(!1)}};return a?d.jsx("div",{className:"text-center py-20",children:d.jsx(Ct,{className:"animate-spin text-4xl text-green-600"})}):!l||!B?d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"  "}),d.jsx("p",{className:"text-gray-600 mb-6",children:"      .     ."}),d.jsx(en,{to:`/${n}`,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"   "})]}):d.jsxs("div",{className:"max-w-3xl mx-auto",children:[O&&d.jsx(bge,{onClose:()=>K(!1),onScanSuccess:ne}),d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8",children:[d.jsxs("div",{className:"mb-6 border-b pb-6 flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:" "}),d.jsxs("p",{className:"text-gray-600",children:["    ",d.jsx("strong",{className:"font-semibold",children:v==null?void 0:v.name}),".",d.jsx("span",{className:`inline-block mr-2 px-2 py-0.5 text-xs font-semibold rounded-full ${f===!0?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:f===null?"...":f===!0?"":" "})]})]}),d.jsxs("button",{type:"button",onClick:()=>K(!0),className:"flex items-center gap-2 bg-blue-600 text-white font-bold px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",title:"   ",children:[d.jsx(zm,{}),d.jsx("span",{children:" "})]})]}),I&&d.jsxs("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-6",role:"alert",children:[d.jsxs("p",{className:"font-bold flex items-center gap-2",children:[d.jsx(xw,{}),"     "]}),d.jsx("p",{children:"           .    ."})]}),F==="filling"&&Y&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsxs("p",{className:"text-sm font-semibold text-gray-500",children:[" ",_+1,"  ",j.length]}),d.jsx("h2",{className:"text-2xl font-bold text-gray-800 mt-1",children:Y.question}),d.jsx("p",{className:"text-sm text-gray-500 mt-2",children:'  ""  ""   .'})]}),d.jsxs("div",{className:"relative",children:[Y.type==="select"&&Y.options?d.jsxs("select",{name:Y.id,value:y[Y.id]||"",onChange:Ae,className:"w-full h-28 p-4 text-lg border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition",children:[d.jsxs("option",{value:"",children:["-- ",Y.placeholder," --"]}),(me=Y.options)==null?void 0:me.map(Le=>d.jsx("option",{value:Le.value,children:Le.label},Le.value))]},Y.id):d.jsx("textarea",{name:Y.id,value:y[Y.id]||"",onChange:Ae,placeholder:` ... : ${Y.placeholder}`,className:"w-full h-28 p-4 text-lg border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition"},Y.id),d.jsx("button",{type:"button",onClick:fe,title:"/ ",disabled:I,className:`absolute bottom-3 left-3 p-3 rounded-full transition-colors ${N?"bg-red-500 text-white animate-pulse":"bg-green-600 text-white hover:bg-green-700"} disabled:bg-gray-400`,children:N?d.jsx(Zme,{}):d.jsx(yc,{})})]}),Y.options&&d.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg border",children:[d.jsx("h3",{className:"font-semibold text-gray-700 mb-2",children:"  (  ):"}),d.jsx("ol",{className:"list-decimal list-inside space-y-1 text-gray-800",children:Y.options.map((Le,V)=>d.jsxs("li",{children:[d.jsxs("strong",{className:"font-mono",children:[V+1,"."]})," ",Le.label]},Le.value))})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("button",{onClick:ae,disabled:_===0,className:"flex items-center gap-2 bg-gray-200 text-gray-800 font-bold px-6 py-3 rounded-lg hover:bg-gray-300 disabled:opacity-50",children:[d.jsx(yw,{})," ",d.jsx("span",{children:""})]}),d.jsxs("button",{onClick:ee,className:"flex items-center gap-2 bg-green-600 text-white font-bold px-6 py-3 rounded-lg hover:bg-green-700",children:[d.jsx("span",{children:G?"":""})," ",d.jsx(gw,{})]})]})]}),F==="finished"&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center justify-center gap-3",children:[d.jsx(DH,{className:"text-green-500"}),"  !"]}),d.jsx("p",{className:"text-gray-600 mt-2",children:"      ."})]}),d.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border space-y-3",children:Object.entries(y).map(([Le,V])=>{if(!V)return null;const Te=(Object.prototype.hasOwnProperty.call(ei,Le)?x2[Le]:Le)||Le;return d.jsxs("div",{children:[d.jsxs("p",{className:"text-sm font-semibold text-gray-500",children:[Te,":"]}),d.jsx("p",{className:"text-md text-gray-800 font-medium whitespace-pre-wrap",children:V})]},Le)})}),W&&d.jsxs("div",{className:"pt-4 mt-4 border-t",children:[d.jsx("h3",{className:"font-bold text-lg text-center mb-2",children:" "}),d.jsx("div",{className:"flex justify-center",children:d.jsx(qv,{value:C,onChange:S})})]}),d.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[d.jsx("button",{onClick:()=>{w(0),P("filling")},className:"bg-gray-200 text-gray-800 font-bold px-6 py-3 rounded-lg hover:bg-gray-300",children:"  "}),d.jsxs("button",{onClick:Re,disabled:R||W&&!C,className:"flex items-center gap-2 bg-blue-600 text-white font-bold px-6 py-3 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[R?d.jsx(Ct,{className:"animate-spin"}):d.jsx(G0,{}),d.jsx("span",{children:R?" ...":"  "})]})]})]})]})]})},Ege=()=>{const{countryCode:t,jobId:e}=aa();return d.jsx("div",{className:"max-w-2xl mx-auto text-center py-10",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[d.jsx("svg",{className:"w-20 h-20 text-green-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"   !"}),d.jsx("p",{className:"text-gray-600 mb-6 text-lg",children:"     .         ."}),d.jsxs("div",{className:"bg-green-50 border-2 border-dashed border-green-200 rounded-lg p-4 my-6",children:[d.jsx("p",{className:"text-gray-600 mb-1",children:"    :"}),d.jsx("p",{className:"text-3xl font-bold text-green-800 tracking-widest","aria-live":"polite",children:e})]}),d.jsx("p",{className:"text-sm text-gray-500 mb-8",children:":         ."}),d.jsx(en,{to:`/${t}`,className:"bg-green-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-green-700 transition-colors",children:"   "})]})})},Cge=()=>{const{t,countryCode:e}=la(),[n,r]=q.useState(""),[i,s]=q.useState(""),[a,o]=q.useState(""),[l,c]=q.useState(!1),u=wi(),{login:f,logout:h,sendPasswordReset:p}=Ar(),[v,g]=q.useState(!1),[y,b]=q.useState(""),[_,w]=q.useState(""),[C,S]=q.useState(""),R=async N=>{if(N.preventDefault(),o(""),!n||!i){o(t("login.error.fillAllFields"));return}c(!0);try{const k=await f(n,i);k.emailVerified?u(`/${k.countryCode}/app`):(o(t("login.error.verifyEmail")),await h(),c(!1))}catch{o(t("login.error.wrongCredentials")),c(!1)}},D=async N=>{if(N.preventDefault(),w(""),S(""),!y){S(t("login.error.enterEmail"));return}c(!0);try{await p(y),w(t("login.reset.successMessage"))}catch(k){S(k.message||t("login.reset.errorMessage"))}c(!1)};return d.jsx("div",{className:"max-w-md mx-auto mt-10",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl p-8",children:v?d.jsxs(d.Fragment,{children:[d.jsx("h1",{className:"text-3xl font-bold text-center text-gray-900 mb-6",children:t("login.reset.title")}),_&&d.jsx("p",{className:"bg-green-100 text-green-700 p-3 rounded-md mb-4 text-center",children:_}),C&&d.jsx("p",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-center",children:C}),d.jsxs("form",{onSubmit:D,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"reset-email",className:"block text-sm font-medium text-gray-700 mb-1",children:t("login.reset.emailLabel")}),d.jsx("input",{type:"email",id:"reset-email",value:y,onChange:N=>b(N.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm",placeholder:"user@example.com"})]}),d.jsx("button",{type:"submit",disabled:l,className:"w-full bg-green-600 text-white p-3 rounded-lg font-bold hover:bg-green-700 disabled:bg-gray-400",children:t(l?"login.reset.sendingButton":"login.reset.sendButton")})]}),d.jsx("p",{className:"text-center text-gray-600 mt-6",children:d.jsxs("button",{onClick:()=>g(!1),className:"text-green-600 hover:underline font-semibold",children:[" ",t("login.reset.backToLogin")]})})]}):d.jsxs(d.Fragment,{children:[d.jsx("h1",{className:"text-3xl font-bold text-center text-gray-900 mb-6",children:t("login.title")}),a&&d.jsx("p",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-center",children:a}),d.jsxs("form",{onSubmit:R,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:t("login.emailLabel")}),d.jsx("input",{type:"email",id:"email",value:n,onChange:N=>r(N.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"user@example.com"})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:t("login.passwordLabel")}),d.jsx("button",{type:"button",onClick:()=>g(!0),className:"text-sm text-green-600 hover:underline font-semibold",children:t("login.forgotPassword")})]}),d.jsx("input",{type:"password",id:"password",value:i,onChange:N=>s(N.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"********"})]}),d.jsx("button",{type:"submit",disabled:l,className:"w-full bg-green-600 text-white p-3 rounded-lg font-bold hover:bg-green-700 transition-colors disabled:bg-gray-400",children:t(l?"login.loggingInButton":"login.loginButton")})]}),d.jsxs("p",{className:"text-center text-gray-600 mt-6",children:[t("login.noAccount")," ",d.jsx(en,{to:`/${e}/signup`,className:"text-green-600 hover:underline font-semibold",children:t("login.createAccount")})]})]})})})},Sge=["gmail.com","outlook.com","hotmail.com","live.com"],Dge=()=>{const{wilayas:t,dairas:e,communes:n,locationsLoading:r}=nn(),{t:i,countryCode:s,language:a}=la(),o=wi(),l=Dr(),c=ks[a],u=l.state||{},[f,h]=q.useState(u.email||""),[p,v]=q.useState(u.password||""),[g,y]=q.useState(u.confirmPassword||""),[b,_]=q.useState(u.cafeName||""),[w,C]=q.useState(u.ownerName||""),[S,R]=q.useState(u.street||""),[D,N]=q.useState(()=>c.find(V=>V.code===s)||c[0]),[k,F]=q.useState(u.selectedWilaya||""),[P,I]=q.useState(u.selectedDaira||""),[U,O]=q.useState(u.selectedCommune||""),[K,X]=q.useState(u.genericState||""),[J,ne]=q.useState(u.genericCity||""),[z,Q]=q.useState([]),[B,j]=q.useState([]),[W,G]=q.useState(""),[Y,ee]=q.useState(!1),[ae,de]=q.useState(!1),{signup:fe}=Ar();q.useEffect(()=>{if(!l.state){const V=c.find(xe=>xe.code===s)||c[0];N(V)}},[s,c,l.state]);const Ae=V=>{const xe=V.target.value,Te={email:f,password:p,confirmPassword:g,cafeName:b,ownerName:w,street:S,selectedWilaya:k,selectedDaira:P,selectedCommune:U,genericState:K,genericCity:J};o(`/${xe}/signup`,{replace:!0,state:Te})},Re=V=>{const xe=V.target.value;F(xe),I(""),O(""),xe?(Q(e.filter(Te=>Te.wilaya_code===xe)),j([])):(Q([]),j([]))},me=V=>{const xe=V.target.value;I(xe),O(""),j(xe&&k?n.filter(Te=>Te.daira_name===xe&&Te.wilaya_code===k):[])},Le=async V=>{var ce;V.preventDefault(),G("");const xe=f.split("@")[1];if(!Sge.includes(xe)){G(i("signup.errors.allowedDomains"));return}const Te=t.length>0;if(!f||!p||!g||!b||!w||!S||!(Te&&k&&P&&U)&&!(!Te&&K&&J)){G(i("signup.errors.fillAllFields"));return}if(p!==g){G(i("signup.errors.passwordsMismatch"));return}if(p.length<6){G(i("signup.errors.passwordLength"));return}ee(!0);let oe;Te?oe={wilaya:((ce=t.find(ye=>ye.code===k))==null?void 0:ce.name)||"",wilaya_code:k,daira:P,commune:U,street:S}:oe={state:K,city:J,street:S};const we=D.code==="dz"?{amount:200,currency:"DZD"}:{amount:1,currency:"USD"},ie={name:b,owner:w,countryCode:D.code,countryPhoneCode:D.phoneCode,address:oe,initialCredits:we};try{await fe(f,p,ie)?de(!0):G(i("signup.errors.signupFailed"))}catch(ge){ge.code==="auth/email-already-in-use"?G("    .        ."):G(i("signup.errors.signupFailed"))}finally{ee(!1)}};return ae?d.jsx("div",{className:"max-w-lg mx-auto mt-10",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 text-center",children:[d.jsx("svg",{className:"w-16 h-16 text-green-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),d.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:i("signup.success.title")}),d.jsxs("p",{className:"text-gray-600 mb-6",children:[i("signup.success.message")," ",d.jsx("strong",{className:"font-semibold",children:f}),".",i("signup.success.instruction")]}),d.jsx(en,{to:`/${s}/login`,className:"w-full bg-green-600 text-white p-3 rounded-lg font-bold hover:bg-green-700 transition-colors inline-block",children:i("signup.success.loginButton")})]})}):d.jsx("div",{className:"max-w-lg mx-auto mt-10",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-center text-gray-900 mb-6",children:i("signup.title")}),W&&d.jsx("p",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-center",children:W}),d.jsxs("form",{onSubmit:Le,className:"space-y-6",children:[d.jsxs("fieldset",{className:"space-y-4 border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-gray-700",children:i("signup.accountInfo")}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email-signup",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.email")}),d.jsx("input",{type:"email",id:"email-signup",value:f,onChange:V=>h(V.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"user@gmail.com / user@outlook.com"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"password-signup",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.password")}),d.jsx("input",{type:"password",id:"password-signup",value:p,onChange:V=>v(V.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:i("signup.passwordPlaceholder")})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.confirmPassword")}),d.jsx("input",{type:"password",id:"confirm-password",value:g,onChange:V=>y(V.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"********"})]})]}),d.jsxs("fieldset",{className:"space-y-4 border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-gray-700",children:i("signup.cafeInfo")}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"cafeName",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.cafeName")}),d.jsx("input",{type:"text",id:"cafeName",value:b,onChange:V=>_(V.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:i("signup.cafeNamePlaceholder")})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"ownerName",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.ownerName")}),d.jsx("input",{type:"text",id:"ownerName",value:w,onChange:V=>C(V.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:i("signup.ownerNamePlaceholder")})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.country")}),d.jsx("select",{id:"country",value:D.code,onChange:Ae,required:!0,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-white focus:outline-none focus:ring-green-500 focus:border-green-500",children:c.map(V=>d.jsx("option",{value:V.code,children:V.name},V.code))})]}),t.length>0?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"wilaya",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.wilaya")}),d.jsxs("select",{id:"wilaya",value:k,onChange:Re,required:!0,disabled:r,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-white focus:outline-none focus:ring-green-500 focus:border-green-500",children:[d.jsx("option",{value:"",children:i(r?"signup.loading":"signup.selectWilaya")}),t.map(V=>d.jsx("option",{value:V.code,children:V.name},V.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"daira",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.daira")}),d.jsxs("select",{id:"daira",value:P,onChange:me,required:!0,disabled:!k,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-white focus:outline-none focus:ring-green-500 focus:border-green-500",children:[d.jsx("option",{value:"",children:i("signup.selectDaira")}),z.map(V=>d.jsx("option",{value:V.name,children:V.name},V.id))]})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"commune",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.commune")}),d.jsxs("select",{id:"commune",value:U,onChange:V=>O(V.target.value),required:!0,disabled:!P,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-white focus:outline-none focus:ring-green-500 focus:border-green-500",children:[d.jsx("option",{value:"",children:i("signup.selectCommune")}),B.map(V=>d.jsx("option",{value:V.name,children:V.name},V.id))]})]})]}):d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"genericState",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.state")}),d.jsx("input",{type:"text",id:"genericState",value:K,onChange:V=>X(V.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:i("signup.statePlaceholder")})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"genericCity",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.city")}),d.jsx("input",{type:"text",id:"genericCity",value:J,onChange:V=>ne(V.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:i("signup.cityPlaceholder")})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"street",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.street")}),d.jsx("input",{type:"text",id:"street",value:S,onChange:V=>R(V.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:i("signup.streetPlaceholder")})]})]}),d.jsx("button",{type:"submit",disabled:Y||r,className:"w-full bg-green-600 text-white p-3 rounded-lg font-bold hover:bg-green-700 transition-colors disabled:bg-gray-400",children:i(Y?"signup.creatingButton":"signup.createButton")})]}),d.jsxs("p",{className:"text-center text-gray-600 mt-6",children:[i("signup.haveAccount")," ",d.jsx(en,{to:`/${s}/login`,className:"text-green-600 hover:underline font-semibold",children:i("signup.loginHere")})]})]})})},C9=()=>{const{user:t}=Ar(),{cafes:e}=nn(),{useCafeChatManager:n}=Qf(),{totalUnreadCount:r}=n(),i=e.find(l=>l.id===(t==null?void 0:t.cafeId)),s="flex items-center gap-3 px-4 py-3 rounded-lg transition-colors",a="bg-green-600 text-white",o="text-gray-600 hover:bg-green-100 hover:text-green-800";return d.jsxs("aside",{className:"w-64 bg-white shadow-md flex flex-col p-4 rounded-lg",children:[d.jsxs("div",{className:"text-center border-b pb-4 mb-4",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-800",children:(i==null?void 0:i.name)||" "}),d.jsx("p",{className:"text-sm text-gray-500",children:t==null?void 0:t.email})]}),d.jsxs("nav",{className:"flex flex-col gap-2",children:[d.jsxs(Jn,{to:"",end:!0,className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),d.jsx("span",{children:" "})]}),d.jsxs(Jn,{to:"pending-jobs",className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),d.jsx("span",{children:" "})]}),d.jsx(Jn,{to:"chat",className:({isActive:l})=>`${s} ${l?a:o}`,children:d.jsxs("div",{className:"flex justify-between items-center w-full",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(ek,{className:"h-5 w-5"}),d.jsx("span",{children:""})]}),r>0&&d.jsx("span",{className:"bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:r})]})}),d.jsxs(Jn,{to:"generate",className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),d.jsx("span",{children:" "})]}),d.jsxs(Jn,{to:"excel-studio",className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsx(kH,{className:"h-5 w-5"}),d.jsx("span",{children:" "})]}),d.jsxs(Jn,{to:"document-studio",className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsx(tk,{className:"h-5 w-5"}),d.jsx("span",{children:" "})]}),d.jsxs(Jn,{to:"multi-person-job",className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),d.jsx("span",{children:"  "})]}),d.jsxs(Jn,{to:"clients",className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),d.jsx("span",{children:" "})]}),d.jsxs(Jn,{to:"settings",className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0 3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826 3.31 2.37-2.37.996.608 2.296.096 2.572-1.065z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),d.jsx("span",{children:""})]}),d.jsxs(Jn,{to:"billing",className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),d.jsx("span",{children:" "})]})]})]})},Age=()=>{const{user:t,resendVerificationEmail:e}=Ar(),[n,r]=q.useState(!1),[i,s]=q.useState(""),[a,o]=q.useState(!1),l=async()=>{o(!0),s("");try{await e(),r(!0),setTimeout(()=>r(!1),5e3)}catch(c){s(c.message||"Failed to send email.")}o(!1)};return!t||t.emailVerified?null:d.jsxs("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 rounded-md shadow-md",role:"alert",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(xw,{className:"h-6 w-6 mr-3"}),d.jsxs("div",{className:"flex-grow",children:[d.jsx("p",{className:"font-bold",children:"    "}),d.jsxs("p",{className:"text-sm",children:["     .        ",d.jsx("strong",{className:"font-mono",children:t.email}),"."]})]}),n?d.jsxs("div",{className:"flex items-center text-green-600 ml-auto flex-shrink-0",children:[d.jsx(DH,{className:"mr-2"}),d.jsx("span",{className:"font-semibold",children:" !"})]}):d.jsx("button",{onClick:l,disabled:a,className:"ml-auto flex-shrink-0 bg-yellow-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-yellow-600 transition-colors disabled:opacity-50",children:a?" ...":"   "})]}),i&&d.jsx("p",{className:"text-red-600 text-sm mt-2",children:i})]})},S9="1.0",Nge="document-templates-v1",QH=q.createContext(void 0),Ige=({children:t})=>{const[e,n]=q.useState(!0),[r,i]=q.useState(!1),[s,a]=q.useState(""),[o,l]=q.useState(null);q.useEffect(()=>{(async()=>{try{const f=await Ms("offlineMetadata","syncStatus");f&&f.version===S9?n(!0):n(!1)}catch(f){console.error("Could not check offline status, assuming not ready.",f),n(!1)}})()},[]);const c=q.useCallback(async()=>{i(!0),l(null),a(" ...");try{a("   ...");const[u,f,h,p,v]=await Promise.all([kp(),of.getAll(),Zd.getAll(),ym.getAll(),P_()]);a("     ..."),await Promise.all([Ai("fullDocuments",u),Ai("staticDocuments",f),Ai("sites",h),Ai("baseTemplates",p),mr("siteSettings",{...v,id:"main"})]),a("   ...");const g=u.map(b=>b.finalTemplateUrl).filter(b=>!!b);await(await caches.open(Nge)).addAll(g),a("  ..."),await mr("offlineMetadata",{id:"syncStatus",version:S9,lastUpdated:new Date().toISOString()}),n(!0)}catch(u){console.error("Offline sync failed:",u);let f="     .";u instanceof Error&&(u.message.includes("404")?f="    ( 404).      .        .":u.message.toLowerCase().includes("failed to fetch")?f="  .     .":f=u.message),l(f)}finally{i(!1),a("")}},[]);return d.jsx(QH.Provider,{value:{isOfflineReady:e,isSyncing:r,syncProgress:s,syncError:o,startSync:c},children:t})},kge=()=>{const t=q.useContext(QH);if(t===void 0)throw new Error("useOfflineSync must be used within an OfflineSyncProvider");return t},Rge=()=>{const{isOfflineReady:t,isSyncing:e,syncProgress:n,syncError:r,startSync:i}=kge(),[s,a]=q.useState(sessionStorage.getItem("offlineSyncDismissed")==="true"),o=()=>{sessionStorage.setItem("offlineSyncDismissed","true"),a(!0)};return t||s?null:d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-[100] flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg text-center p-8 space-y-4 relative",children:[d.jsx("button",{onClick:o,className:"absolute top-3 right-3 text-gray-400 hover:text-gray-600 p-2","aria-label":"",children:d.jsx(kf,{size:20})}),d.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"   "}),d.jsx("p",{className:"text-gray-600",children:"            .      ."}),e?d.jsxs("div",{className:"space-y-3 pt-4",children:[d.jsx(Ct,{className:"animate-spin text-4xl text-green-600 mx-auto"}),d.jsx("p",{className:"font-semibold text-green-700",children:n||" ..."})]}):d.jsxs("div",{className:"pt-4",children:[r&&d.jsxs("div",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4 flex items-center text-right gap-2",children:[d.jsx(xw,{className:"flex-shrink-0"}),d.jsxs("span",{children:[": ",r]})]}),d.jsxs("button",{onClick:i,className:"w-full flex items-center justify-center gap-3 bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition-colors",children:[d.jsx(Io,{}),d.jsx("span",{children:r?"  ":"    "})]})]})]})})},Pge=()=>{const[t,e]=q.useState(!0),n=()=>{sessionStorage.setItem("extensionNotificationDismissed","true"),e(!1)};return t?d.jsxs("div",{className:"bg-blue-100 border-l-4 border-blue-500 text-blue-800 p-4 rounded-md shadow-md relative mb-6 animate-fadeIn",role:"alert",children:[d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"py-1",children:d.jsx(Io,{className:"h-6 w-6 text-blue-500 ml-4 rtl:ml-0 rtl:mr-4"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold",children:"    "}),d.jsxs("p",{className:"text-sm",children:["          .",d.jsx("a",{href:"https://files.gitut.com/data/add-on/gitut.zip",target:"_blank",rel:"noopener noreferrer",className:"font-semibold underline mr-2 rtl:mr-0 rtl:ml-2 hover:text-blue-600",children:"  "}),"."]})]})]}),d.jsx("button",{onClick:n,className:"absolute top-0 bottom-0 left-0 px-4 py-3 rtl:left-auto rtl:right-0","aria-label":"",children:d.jsx(kf,{className:"h-5 w-5 text-blue-500 hover:text-blue-700"})})]}):null},Fge=()=>d.jsx("div",{className:"flex items-center justify-center h-full min-h-[50vh]",children:d.jsxs("div",{className:"max-w-2xl text-center p-8",children:[d.jsx(SH,{className:"text-5xl text-yellow-500 mx-auto mb-4"}),d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"   !"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"   Gitut.                 ."}),d.jsxs(en,{to:"settings",className:"inline-flex items-center justify-center gap-2 bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700 transition-colors text-lg",children:[d.jsx(NH,{}),d.jsx("span",{children:"     "})]})]})}),Mge=()=>{const{loadFullDocuments:t,cafes:e,loading:n}=nn(),{user:r,refetchUser:i}=Ar(),s=Dr(),a=s.pathname.includes("document-studio")||s.pathname.includes("excel-studio"),o=s.pathname.endsWith("/settings"),[l,c]=q.useState(!1),u=vl.useMemo(()=>e.find(h=>h.id===(r==null?void 0:r.cafeId)),[e,r]);q.useEffect(()=>{t()},[t]),q.useEffect(()=>{i()},[i]),q.useEffect(()=>{let h=!1;const p=g=>{var y,b;g.source===window&&((y=g.data)==null?void 0:y.source)==="gitut-extension"&&((b=g.data)==null?void 0:b.type)==="pong"&&(h=!0,c(!1),window.removeEventListener("message",p))};window.addEventListener("message",p),window.postMessage({source:"gitut-webapp",type:"ping"},"*");const v=setTimeout(()=>{h||sessionStorage.getItem("extensionNotificationDismissed")||c(!0)},1500);return()=>{clearTimeout(v),window.removeEventListener("message",p)}},[]);const f=u&&!u.isProfilePublished&&!o;return n?d.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-start",children:[d.jsx(C9,{}),d.jsx("main",{className:"flex-1 w-full flex items-center justify-center p-10 h-[60vh]",children:d.jsx(Ct,{className:"animate-spin text-4xl text-green-600"})})]}):d.jsxs(d.Fragment,{children:[d.jsx(Rge,{}),d.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-start",children:[d.jsx(C9,{}),d.jsxs("main",{className:"flex-1 w-full space-y-6",children:[l&&d.jsx(Pge,{}),d.jsx(Age,{}),d.jsx("div",{className:`bg-white rounded-lg shadow-lg ${a?"p-0 h-[85vh] overflow-hidden":"p-6 min-h-[60vh]"}`,children:f?d.jsx(Fge,{}):d.jsx(EN,{})})]})]})]})},xC=t=>t?t.replace(/[]/g,"").replace(//g,"").toLowerCase():"",Uge=()=>{const{documents:t,staticDocuments:e,sites:n}=nn(),[r,i]=q.useState("");wi();const[s,a]=q.useState(!1),o=q.useRef(null),l=window.SpeechRecognition||window.webkitSpeechRecognition,c=!!l,[u,f]=q.useState(!1),h=q.useMemo(()=>[...t.map(g=>({item:g,type:"doc"})),...e.map(g=>({item:g,type:"staticDoc"})),...n.filter(g=>g.type==="template").map(g=>({item:g,type:"site"}))],[t,e,n]),p=q.useMemo(()=>{if(!r.trim())return[];const g=xC(r);return h.filter(({item:y})=>xC(y.name).includes(g)||"description"in y&&y.description&&xC(y.description).includes(g))},[r,h]);q.useEffect(()=>{if(!c)return;const g=new l;return g.continuous=!1,g.interimResults=!1,g.lang="ar-SA",g.onresult=y=>{const b=y.results[0][0].transcript;i(b)},g.onerror=y=>{console.error("Speech recognition error",y.error)},g.onend=()=>{a(!1)},o.current=g,()=>{o.current&&o.current.abort()}},[c]);const v=()=>{var g,y;if(!c){alert("     .");return}s?(g=o.current)==null||g.stop():((y=o.current)==null||y.start(),a(!0))};return d.jsxs("div",{className:"relative w-full max-w-2xl mx-auto mb-6",children:[d.jsxs("form",{onSubmit:g=>g.preventDefault(),className:"relative",children:[d.jsx(zA,{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"    ...",value:r,onChange:g=>i(g.target.value),onFocus:()=>f(!0),onBlur:()=>setTimeout(()=>f(!1),200),className:"w-full p-3 pl-12 pr-12 bg-white border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-green-500"}),c&&d.jsx("button",{type:"button",onClick:v,title:" ",className:`absolute left-3 top-1/2 -translate-y-1/2 p-2 rounded-full transition-colors ${s?"bg-red-500 text-white animate-pulse":"text-gray-600 hover:bg-gray-100"}`,children:d.jsx(yc,{})})]}),u&&p.length>0&&d.jsx("ul",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-gray-300 rounded-lg shadow-lg z-30 max-h-80 overflow-y-auto",children:p.map(({item:g,type:y})=>{let b="",_={},w=$A;const C="description"in g?g.description:g.url||"";return y==="doc"?(b="/app/generate",_={selectedDocId:g.id},w=$A):y==="site"?(b=`/app/fill-site/${g.id}`,w=L_):y==="staticDoc"&&(b=`/app/view-pdf/${g.id}`,w=_w),d.jsx("li",{children:d.jsxs(en,{to:b,state:_,className:"flex items-center gap-3 px-4 py-3 hover:bg-green-50",children:[d.jsx(w,{className:"h-5 w-5 text-gray-500 flex-shrink-0"}),d.jsxs("div",{className:"flex-grow overflow-hidden",children:[d.jsx("p",{className:"font-semibold text-gray-800 truncate",children:g.name}),d.jsx("p",{className:"text-sm text-gray-500 truncate",children:C})]})]})},`${y}-${g.id}`)})})]})},Oge=({isOpen:t,onClose:e,cafeName:n,numericId:r})=>{if(!t)return null;const i=()=>{window.print()};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-sm relative",children:[d.jsx("div",{className:"p-6",children:d.jsxs("div",{id:"printable-id",className:"text-center p-4",children:[d.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:n}),r?d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"mb-4 text-gray-600",children:"    :"}),d.jsx("p",{className:"text-6xl font-bold text-green-600 tracking-widest bg-gray-100 p-4 rounded-lg",children:r}),d.jsx("p",{className:"mt-4 text-gray-500 text-sm",children:"       ."})]}):d.jsx("p",{className:"text-lg text-gray-500 my-8",children:"     ."})]})}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-between items-center",children:[d.jsxs("button",{onClick:i,disabled:!r,className:"flex items-center gap-2 bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed",children:[d.jsx(bw,{}),d.jsx("span",{children:""})]}),d.jsx("button",{onClick:e,className:"bg-red-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-600",children:""})]})]})})},Lge=()=>{const{user:t}=Ar(),{documents:e,sites:n,cafes:r,siteSettings:i,loading:s}=nn(),[a,o]=q.useState([]),[l,c]=q.useState(null),[u,f]=q.useState(!0),[h,p]=q.useState(!1),v=q.useMemo(()=>t!=null&&t.cafeId?e.filter(_=>!_.cafeId||_.cafeId===t.cafeId):[],[e,t]);if(q.useEffect(()=>{(async()=>{if(!(t!=null&&t.cafeId)||s){!s&&!(t!=null&&t.cafeId)&&f(!1);return}f(!0);let w=r.find(C=>C.id===t.cafeId)||null;if(!w)try{w=await XI(t.cafeId)}catch(C){console.error("Failed to fetch cafe details directly:",C)}c(w);try{const S=(await mm.collection("jobs").where("cafeId","==",t.cafeId).orderBy("createdAt","desc").get()).docs.map(R=>({id:R.id,...R.data()}));o(S)}catch(C){console.error("Failed to fetch dashboard data from Firestore:",C)}finally{f(!1)}})()},[t,r,s]),s||u)return d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(Ct,{className:"animate-spin text-4xl text-green-600"})});if(!l)return d.jsxs("div",{className:"flex flex-col items-center justify-center p-10 text-center",children:[d.jsx("h2",{className:"text-xl font-bold text-red-600 mb-2",children:" "}),d.jsx("p",{className:"text-gray-700",children:"        ."}),d.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"       ."})]});const g=a.filter(_=>_.status==="Pending").length,y=(t==null?void 0:t.credits.currency)==="DZD"?t.credits.amount<50:t.credits.amount<5,b=y?{bg:"bg-red-100",text:"text-red-800",valueText:"text-red-900 font-mono",linkText:"text-red-700"}:{bg:"bg-green-100",text:"text-green-800",valueText:"text-green-900 font-mono",linkText:"text-green-700"};return d.jsxs("div",{className:"space-y-8",children:[t&&l&&d.jsx(Oge,{isOpen:h,onClose:()=>p(!1),cafeName:l.name,numericId:l.numericId}),d.jsx(Uge,{}),d.jsx(sc,{placement:"DASHBOARD_TOP"}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:" "}),d.jsx("p",{className:"text-gray-500",children:"       ."})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[d.jsxs("div",{className:"bg-gray-200 p-6 rounded-lg shadow-sm",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:" "}),d.jsx("p",{className:"text-4xl font-bold text-gray-900",children:g}),d.jsx(en,{to:"pending-jobs",className:"text-gray-700 hover:underline mt-4 inline-block font-semibold",children:"   "})]}),d.jsxs("div",{className:"bg-gray-200 p-6 rounded-lg shadow-sm",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:" "}),d.jsx("p",{className:"text-4xl font-bold text-gray-900",children:v.length}),d.jsx(en,{to:"generate",className:"text-gray-700 hover:underline mt-4 inline-block font-semibold",children:"  "})]}),d.jsxs("div",{className:`${b.bg} p-6 rounded-lg shadow-sm`,children:[d.jsx("h2",{className:`text-lg font-semibold ${b.text} mb-2`,children:" "}),d.jsxs("p",{className:`text-3xl font-bold ${b.valueText}`,children:[t==null?void 0:t.credits.amount.toLocaleString("en-US",{minimumFractionDigits:t.credits.currency==="USD"?2:0}),d.jsxs("span",{className:"text-xl",children:[" ",(t==null?void 0:t.credits.currency)==="DZD"?"":"$"]})]}),d.jsxs(en,{to:"billing",className:`${b.linkText} hover:underline mt-4 inline-block font-semibold`,children:[y?"  ":" "," "]})]}),d.jsxs("div",{className:"bg-gray-700 text-white p-6 rounded-lg shadow-sm flex flex-col justify-center items-center",children:[d.jsx("h2",{className:"text-lg font-semibold mb-2",children:"   "}),d.jsx("p",{className:"text-sm text-center text-gray-300 mb-3",children:"       ."}),d.jsxs("button",{onClick:()=>p(!0),className:"w-full bg-white text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors flex items-center justify-center gap-2",children:[d.jsx(Gme,{}),d.jsx("span",{children:"  "})]})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:" "}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:v.map(_=>d.jsxs(en,{to:"generate",state:{selectedDocId:_.id},className:"block text-right p-4 border rounded-lg transition-all duration-200 bg-white hover:bg-green-50 hover:shadow-md hover:border-green-400",children:[d.jsx("h3",{className:"font-bold text-lg text-gray-800",children:_.name}),d.jsx("p",{className:"text-gray-600 text-sm mt-1 line-clamp-2",dangerouslySetInnerHTML:{__html:_.description}})]},_.id))})]}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:" "}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(_=>{const w="block text-right p-4 border rounded-lg transition-all duration-200 bg-white hover:bg-green-50 hover:shadow-md hover:border-green-400",C=d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-lg text-gray-800",children:_.name}),d.jsx("p",{className:"text-gray-500 text-sm mt-1",children:_.type==="static"?"  ":`  : ${_.url}`})]})]});return _.type==="template"?d.jsx(en,{to:`fill-site/${_.id}`,className:w,children:C},_.id):d.jsx("a",{href:_.url,target:"_blank",rel:"noopener noreferrer",className:w,children:C},_.id)})})]})]})]})},jge='<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="2"><circle cx="50" cy="50" r="50" fill="#ccc"/><g><path d="M50 62.5c-10.3 0-18.75 8.45-18.75 18.75V87.5h37.5v-6.25c0-10.3-8.45-18.75-18.75-18.75z" fill="#fff"/><path d="M50 25c-6.9 0-12.5 5.6-12.5 12.5S43.1 50 50 50s12.5-5.6 12.5-12.5S56.9 25 50 25z" fill="#fff"/></g></svg>',Bge=`data:image/svg+xml;base64,${btoa(jge)}`,Vge=async(t,e)=>{try{const n=`Translate the following HTML content to ${e}. Keep the HTML structure and tags intact, only translate the text nodes. HTML: ${t}`,r=JH({model:"gem-2.5-flash",contents:n});let i="";for await(const s of r)i+=s;return i}catch(n){throw console.error("Translation via service failed:",n),new Error("Failed to translate document content.")}},Vy=async(t,e,n,r)=>{try{let i;for(let c=t.length-1;c>=0;c--){const u=t[c];if(u.id===e||u.slug===e||u.name===e){i=u;break}}let s="";if(r.templateType==="final"){if(i!=null&&i.finalTemplateHtml)s=i.finalTemplateHtml;else if(i!=null&&i.finalTemplateUrl){const c=await fetch(yi(i.finalTemplateUrl));if(!c.ok)throw new Error(`Could not fetch final template from ${yi(i.finalTemplateUrl)}`);s=await c.text()}}else if(i!=null&&i.previewTemplateHtml)s=i.previewTemplateHtml;else if(i!=null&&i.previewTemplateUrl){const c=await fetch(yi(i.previewTemplateUrl));if(!c.ok)throw new Error(`Could not fetch preview template from ${yi(i.previewTemplateUrl)}`);s=await c.text()}s||(console.error(`Template type '${r.templateType}' for document '${(i==null?void 0:i.name)||e}' not found. This is likely because the template data is not available to public users.`),s=`
                <!DOCTYPE html>
                <html lang="ar" dir="rtl">
                <head>
                    <title>   </title>
                    <style>
                        body { font-family: 'Cairo', sans-serif; padding: 2rem; text-align: center; color: #333; }
                        .container { max-width: 600px; margin: auto; padding: 2rem; border: 1px solid #eee; border-radius: 8px; background-color: #f9f9f9; }
                        h1 { color: #d9534f; }
                    </style>
                </head>
                <body>
                    <div class="container">
                        <h1>   </h1>
                        <p>         "${(i==null?void 0:i.name)||e}".</p>
                        <p>            .        .</p>
                    </div>
                </body></html>
            `),r.targetLang!=="ar"&&!s.includes("<h1>   </h1>")&&(s=await Vge(s,r.targetLang));const o=new Date().toLocaleDateString("ar-DZ",{day:"2-digit",month:"2-digit",year:"numeric"});if(s=s.replace(/\[DateToday\]/g,o),s.includes("[profilePicture]")){const u=`<img src="${n.profilePicture?yi(n.profilePicture):Bge}" alt="Profile Picture" style="width: 120px; height: 120px; border-radius: 50%; object-fit: cover; border: 3px solid #eee;">`;s=s.replace(/\[profilePicture\]/g,u)}if(Object.keys(n).forEach(c=>{if(c!=="profilePicture"){const u=new RegExp(`\\[${c}\\]`,"g");s=s.replace(u,n[c]||"")}}),Object.keys(ei).forEach(c=>{const u=c;if(!n.hasOwnProperty(u)){const f=new RegExp(`\\[${u}\\]`,"g");s=s.replace(f,"")}}),s=s.replace(/\[[^\]]+\]/g,""),r.action==="download"){const c=document.createElement("div");c.style.width="794px",c.style.padding="20px",c.style.position="absolute",c.style.left="-9999px",c.innerHTML=s,document.body.appendChild(c),await html2canvas(c,{scale:2}).then(u=>{const f=u.toDataURL("image/png"),{jsPDF:h}=jspdf,p=new h({orientation:"portrait",unit:"pt",format:"a4"}),v=p.internal.pageSize.getWidth(),g=p.internal.pageSize.getHeight(),y=u.width,b=u.height,_=y/b,w=v/g;let C,S;_>w?(C=v,S=v/_):(S=g,C=g*_),p.addImage(f,"PNG",0,0,C,S);const R=`${(i==null?void 0:i.slug)||e}.pdf`;p.save(R)}),document.body.removeChild(c);return}const l=window.open("","_blank");l?(l.document.write(s),l.document.close(),l.onload=function(){l.focus(),r.action==="print"&&l.print()}):alert("     .")}catch(i){throw console.error("Error generating document:",i),alert(`    : ${i.message}.`),i}},Wge=()=>{const{user:t}=Ar(),{fullDocuments:e,loadingFullDocuments:n}=nn(),[r,i]=q.useState([]),[s,a]=q.useState(!0),[o,l]=q.useState(null),[c,u]=q.useState(!1),[f,h]=q.useState(!1),[p,v]=q.useState("");q.useEffect(()=>{if(!(t!=null&&t.cafeId)){a(!1);return}let _=!0;const w=new Map,C=()=>{if(_){const k=Array.from(w.values()).sort((F,P)=>P.createdAt-F.createdAt);i(k)}};(async()=>{a(!0);try{(await qn("jobs")).filter(P=>P.cafeId===t.cafeId).forEach(P=>w.set(P.id,P)),C()}catch(k){console.error("Failed to load jobs from IndexedDB",k)}finally{_&&a(!1)}})();const D=mm.collection("jobs").where("cafeId","==",t.cafeId).orderBy("createdAt","desc").onSnapshot(k=>{k.docs.forEach(F=>{const P={id:F.id,...F.data()};w.set(P.id,P)}),C()},k=>{console.error("Firestore listener error:",k)});let N;if(Xn){const k=Xn.get("jobs").get(t.cafeId),F=(P,I)=>{if(P&&typeof P=="object"&&!w.has(I)){console.log(`Optimistically adding P2P job from Gun: ${I}`);const U={...P,id:I,documentIds:typeof P.documentIds=="string"?JSON.parse(P.documentIds):P.documentIds,visitorData:typeof P.visitorData=="string"?JSON.parse(P.visitorData):P.visitorData};w.set(U.id,U),C()}};k.map().on(F),N=()=>k.off()}return()=>{_=!1,D(),N&&N()}},[t]);const g=async(_,w)=>{if(!(!_.audioRecordingUrl&&!_.transcribedText)){h(!0),v("");try{const C=new Set;_.documentIds.forEach(I=>{const U=e.find(O=>O.id===I);U==null||U.requiredFields.forEach(O=>C.add(O))});const S=Array.from(C).map(I=>{var U;return(U=ei[I])==null?void 0:U.label}).filter(Boolean),R={};C.forEach(I=>{R[I]={type:"STRING",description:ei[I].label}});const D={type:"OBJECT",properties:R};let N;if(_.transcribedText)N={transcribedText:_.transcribedText};else if(_.audioRecordingUrl){const U=await(await fetch(yi(_.audioRecordingUrl))).blob(),O=new FileReader;N={audioBase64:await new Promise(X=>{O.onloadend=()=>X(O.result.split(",")[1]),O.readAsDataURL(U)})}}else throw new Error("No data (audio or text) available to process.");const k=await xge(N,D,S),F={..._.visitorData,...k},P={..._,visitorData:F};if(await mr("jobs",P),i(I=>I.map(U=>U.id===_.id?P:U)),l(P),w==="open"||w==="print"){u(!0);for(const I of P.documentIds)await Vy(e,I,P.visitorData,{action:w,targetLang:"ar",templateType:"final"});await y(_.id,P),u(!1)}}catch(C){console.error("Data processing failed:",C),C instanceof Error?v(C.message):v("   .")}finally{h(!1)}}},y=async(_,w)=>{const C=w||r.find(S=>S.id===_);if(C){u(!0);try{if(!w){alert(`  .    ${C.documentIds.length} () .`);for(const D of C.documentIds)await Vy(e,D,C.visitorData,{action:"print",targetLang:"ar",templateType:"final"})}const{id:S,...R}=C;await _me(S,{...R,status:"Completed"}),await If("jobs",_),i(D=>D.map(N=>N.id===_?{...N,status:"Completed"}:N)),l(D=>D&&D.id===_?{...D,status:"Completed"}:D)}catch(S){console.error("Failed to complete job:",S),alert("   .")}finally{u(!1)}}},b=_=>{switch(_){case"Pending":return d.jsx("span",{className:"px-3 py-1 text-xs font-semibold text-yellow-800 bg-yellow-200 rounded-full",children:""});case"Completed":return d.jsx("span",{className:"px-3 py-1 text-xs font-semibold text-green-800 bg-green-200 rounded-full",children:""});case"Cancelled":return d.jsx("span",{className:"px-3 py-1 text-xs font-semibold text-red-800 bg-red-200 rounded-full",children:""})}};return n||s?d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(Ct,{className:"animate-spin text-4xl text-green-600"})}):d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:" "}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 items-start",children:[d.jsxs("div",{className:"lg:col-span-1 bg-gray-50 rounded-lg p-4 border max-h-[70vh] overflow-y-auto",children:[d.jsxs("h2",{className:"font-bold text-lg mb-3",children:["  (",r.length,")"]}),r.length>0?d.jsx("div",{className:"space-y-3",children:r.map(_=>d.jsxs("button",{onClick:()=>l(_),className:`w-full text-right p-3 rounded-lg border-2 transition-colors ${(o==null?void 0:o.id)===_.id?"bg-green-100 border-green-500":"bg-white hover:bg-gray-100 border-transparent"}`,children:[d.jsxs("div",{className:"flex justify-between items-center mb-1",children:[d.jsxs("p",{className:"font-bold text-gray-800 flex items-center gap-2",children:[_.audioRecordingUrl&&d.jsx(OH,{className:"text-blue-500"}),d.jsx("span",{children:_.visitorData.fullName||""})]}),b(_.status)]}),d.jsx("p",{className:"text-sm text-gray-500",children:new Date(_.createdAt).toLocaleString("ar-DZ")})]},_.id))}):d.jsx("p",{className:"text-gray-500 text-center py-4",children:"   ."})]}),d.jsx("div",{className:"lg:col-span-2 bg-white rounded-lg p-6 border shadow-sm",children:o?d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-start mb-4 pb-4 border-b",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[" : ",o.id]}),d.jsxs("p",{className:"text-gray-500",children:[": ",d.jsx("span",{className:"font-semibold text-gray-700",children:o.visitorData.fullName})]})]}),b(o.status)]}),(o.audioRecordingUrl||o.transcribedText)&&!o.visitorData.birthdaydate&&d.jsxs("div",{className:"bg-blue-50 border border-blue-200 p-4 rounded-lg mb-4 space-y-3",children:[d.jsx("h3",{className:"font-bold text-lg text-blue-800",children:"  "}),o.audioRecordingUrl&&d.jsx("audio",{controls:!0,src:yi(o.audioRecordingUrl),className:"w-full"}),o.transcribedText&&d.jsxs("div",{className:"bg-white p-3 rounded-md border border-blue-100",children:[d.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"    :"}),d.jsx("p",{className:"text-gray-600 whitespace-pre-wrap",children:o.transcribedText})]}),f&&d.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[d.jsx(Ct,{className:"animate-spin"}),d.jsx("span",{children:"    ..."})]}),p&&d.jsx("p",{className:"text-sm text-red-600",children:p}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2 pt-2",children:[d.jsxs("button",{onClick:()=>g(o,"edit"),disabled:f,className:"flex items-center justify-center gap-2 p-2 bg-yellow-500 text-white font-semibold rounded-md hover:bg-yellow-600 disabled:bg-gray-400",children:[d.jsx(vw,{})," ",d.jsx("span",{children:" "})]}),d.jsxs("button",{onClick:()=>g(o,"open"),disabled:f,className:"flex items-center justify-center gap-2 p-2 bg-blue-500 text-white font-semibold rounded-md hover:bg-blue-600 disabled:bg-gray-400",children:[d.jsx(Hme,{})," ",d.jsx("span",{children:" "})]}),d.jsxs("button",{onClick:()=>g(o,"print"),disabled:f,className:"flex items-center justify-center gap-2 p-2 bg-green-500 text-white font-semibold rounded-md hover:bg-green-600 disabled:bg-gray-400",children:[d.jsx(bw,{})," ",d.jsx("span",{children:" "})]})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-lg mb-2",children:" :"}),d.jsx("ul",{className:"list-disc list-inside space-y-1 text-gray-700",children:o.documentIds.map(_=>{const w=e.find(C=>C.id===_);return d.jsx("li",{children:(w==null?void 0:w.name)||"  "},_)})})]}),o.visitorData.birthdaydate&&d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-lg mb-2",children:" :"}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-2 text-sm bg-gray-50 p-4 rounded-md",children:Object.entries(o.visitorData).map(([_,w])=>{const C=ei[_];return(C==null?void 0:C.type)==="file"?d.jsxs("div",{className:"sm:col-span-2",children:[d.jsxs("strong",{className:"text-gray-500",children:[C.label,": "]}),d.jsx("img",{src:yi(w),alt:" ",className:"mt-1 h-24 w-24 rounded-md object-cover border"})]},_):d.jsxs("div",{children:[d.jsxs("strong",{className:"text-gray-500",children:[(C==null?void 0:C.label)||_,": "]}),d.jsx("span",{className:"text-gray-800",children:String(w)})]},_)})})]}),o.status==="Pending"&&o.visitorData.birthdaydate&&d.jsx("button",{onClick:()=>y(o.id),disabled:c,className:"w-full mt-6 bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition-colors disabled:bg-green-400 disabled:cursor-not-allowed",children:c?"  ...":"    "})]})]}):d.jsxs("div",{className:"text-center py-20",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})}),d.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"   "}),d.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"       ."})]})})]})]})},qge=({onClose:t,onCapture:e})=>{const n=q.useRef(null),r=q.useRef(null),i=q.useRef(null),[s,a]=q.useState(null);q.useEffect(()=>((async()=>{a(null);try{const c=await navigator.mediaDevices.getUserMedia({video:{width:480,height:480,facingMode:"environment"}});i.current=c,n.current&&(n.current.srcObject=c)}catch(c){console.error("Error accessing camera:",c),c instanceof DOMException&&(c.name==="NotAllowedError"||c.name==="PermissionDeniedError")?a("    .      ."):a("    .          .")}})(),()=>{i.current&&i.current.getTracks().forEach(c=>c.stop())}),[]);const o=()=>{if(n.current&&r.current){const l=n.current,c=r.current;c.width=l.videoWidth,c.height=l.videoHeight;const u=c.getContext("2d");u==null||u.drawImage(l,0,0,c.width,c.height);const f=c.toDataURL("image/jpeg");e(f),t()}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg p-4 max-w-lg w-full",children:[d.jsx("h3",{className:"text-xl font-bold mb-4 text-center",children:"   "}),d.jsxs("div",{className:"relative aspect-video bg-gray-900 rounded-md overflow-hidden flex items-center justify-center",children:[s?d.jsxs("div",{className:"p-4 text-center text-white",children:[d.jsx("p",{className:"font-semibold text-red-400",children:"  "}),d.jsx("p",{className:"text-sm mt-2",children:s})]}):d.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),d.jsx("canvas",{ref:r,className:"hidden"})]}),d.jsxs("div",{className:"mt-4 flex justify-center gap-4",children:[d.jsx("button",{type:"button",onClick:o,disabled:!!s,className:"bg-green-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:""}),d.jsx("button",{type:"button",onClick:t,className:"bg-red-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-600",children:""})]})]})})},$ge=({onDataExtracted:t})=>{const[e,n]=q.useState(!1),[r,i]=q.useState(!1),[s,a]=q.useState(null),o=q.useRef(null),[l,c]=q.useState(!1),u=p=>{var g;const v=(g=p.target.files)==null?void 0:g[0];if(v){const y=new FileReader;y.onloadend=()=>{const _=y.result.split(",")[1];h(_,v.type)},y.readAsDataURL(v)}},f=p=>{var b;const v=p.split(","),g=((b=v[0].match(/:(.*?);/))==null?void 0:b[1])||"image/jpeg",y=v[1];h(y,g)},h=async(p,v)=>{i(!0),a(null);try{const b=await ik(p,v,{type:"OBJECT",properties:{lastName:{type:"STRING",description:"Last name"},firstName:{type:"STRING",description:"First name"},dateOfBirth:{type:"STRING",description:"Date of birth in YYYY-MM-DD format"},placeOfBirth:{type:"STRING",description:"Place of birth"},nationalId:{type:"STRING",description:"18-digit national ID number"},birthCertificateNumber:{type:"STRING",description:"Birth certificate number"},socialSecurityNumber:{type:"STRING",description:"Social security number"},nationality:{type:"STRING",description:"Nationality"},maritalStatus:{type:"STRING",description:"Marital status (e.g., single, married)"}}},"From the provided image of an official Algerian document (such as a National ID card '  ', a birth certificate ' ', or a Chifa social security card ' '), extract the following fields if present: lastName, firstName, dateOfBirth (YYYY-MM-DD), placeOfBirth, nationalId (18 digits), birthCertificateNumber, socialSecurityNumber (from the Chifa card or other documents), nationality, maritalStatus. Omit any fields not found in the image.");if(Object.keys(b).length===0)throw new Error("The model did not return any data. The document might be unclear or not supported.");const _=`${b.firstName||""} ${b.lastName||""}`.trim();t({fullName:_||void 0,dob:b.dateOfBirth,pob:b.placeOfBirth,nationalId:b.nationalId,birthCertificateNumber:b.birthCertificateNumber,socialSecurityNumber:b.socialSecurityNumber,nationality:b.nationality,maritalStatus:b.maritalStatus})}catch(g){console.error("Error processing ID card:",g);const y=g instanceof Error?g.message:"An unknown error occurred.";a(`    . ${y}`)}finally{i(!1),o.current&&(o.current.value="")}};return d.jsxs("div",{className:"space-y-3 p-3 bg-gray-100 rounded-md border my-4",children:[l&&d.jsx(qge,{onClose:()=>c(!1),onCapture:f}),d.jsxs("label",{htmlFor:"id-scanner-toggle",className:"flex items-center gap-2 cursor-pointer text-gray-700",children:[d.jsx("input",{type:"checkbox",id:"id-scanner-toggle",checked:e,onChange:p=>n(p.target.checked),className:"h-4 w-4 rounded border-gray-300 text-green-600 focus:ring-green-500"}),d.jsx(PH,{className:"text-gray-600"}),d.jsx("span",{children:"    "})]}),e&&d.jsxs("div",{className:"pl-6 space-y-2",children:[d.jsx("input",{type:"file",ref:o,onChange:u,accept:"image/*",className:"hidden"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{type:"button",onClick:()=>{var p;return(p=o.current)==null?void 0:p.click()},disabled:r,className:"flex-1 flex items-center justify-center gap-2 bg-white border border-gray-300 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-50 transition-colors disabled:bg-gray-200 disabled:cursor-wait",children:r?d.jsxs(d.Fragment,{children:[d.jsx(Ct,{className:"animate-spin"}),d.jsx("span",{children:" ..."})]}):d.jsxs(d.Fragment,{children:[d.jsx(Nl,{}),d.jsx("span",{children:"  "})]})}),d.jsx("button",{type:"button",onClick:()=>c(!0),disabled:r,className:"flex-1 flex items-center justify-center gap-2 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-200 disabled:cursor-wait",children:r?d.jsxs(d.Fragment,{children:[d.jsx(Ct,{className:"animate-spin"}),d.jsx("span",{children:" ..."})]}):d.jsxs(d.Fragment,{children:[d.jsx(zm,{}),d.jsx("span",{children:" "})]})})]}),s&&d.jsx("p",{className:"text-red-600 text-sm mt-2",children:s})]})]})},zge=t=>{const e=new Map;t.forEach(r=>{e.has(r.groupId)||e.set(r.groupId,[]),e.get(r.groupId).push(r)});const n=[];for(const r of e.values())r.sort((i,s)=>i.id.localeCompare(s.id)),n.push(r[0]);return n},Hge=()=>{const{siteSettings:t,fullDocuments:e,loadingFullDocuments:n,loading:r}=nn(),i=Dr(),s=wi(),{user:a,updateUserCredits:o}=Ar(),{t:l}=la(),[c,u]=q.useState(null),[f,h]=q.useState({}),[p,v]=q.useState(!1),[g,y]=q.useState(!0),[b,_]=q.useState(""),[w,C]=q.useState([]),[S,R]=q.useState(0),[D,N]=q.useState(!1),[k,F]=q.useState(!1),[P,I]=q.useState("idle"),[U,O]=q.useState(null);q.useRef(null),q.useRef("");const[K,X]=q.useState("");q.useRef(null),q.useRef([]);const[J,ne]=q.useState(""),[z,Q]=q.useState(1),B=q.useMemo(()=>{const Re=e.filter(me=>!me.cafeId||me.cafeId===(a==null?void 0:a.cafeId));return zge(Re)},[e,a]);q.useEffect(()=>{var me;const Re=(me=i.state)==null?void 0:me.selectedDocId;if(Re&&!c&&e.length>0){const Le=e.find(V=>V.id===Re);Le&&(W(Le),s(i.pathname,{replace:!0,state:{}}))}},[i.state,e,c,s]);const j=q.useMemo(()=>c?c.requiredFields.filter(Re=>Re!=="DateToday"):[],[c]);q.useMemo(()=>j.some(Re=>Re==="profilePicture"),[j]);const W=Re=>{const me=e.filter(V=>V.groupId===Re.groupId).sort((V,xe)=>V.id.localeCompare(xe.id)),Le=me.findIndex(V=>V.id===Re.id);C(me),R(Le>=0?Le:0),h({}),_(""),N(!1),F(!1)};q.useEffect(()=>{(async()=>{if(w.length>0){const me=w[S];if(u(me),_(""),me.previewTemplateHtml)_(me.previewTemplateHtml);else if(me.previewTemplateUrl)try{const Le=await fetch(me.previewTemplateUrl);Le.ok?_(await Le.text()):_('<p class="text-center p-8 text-gray-500">   .</p>')}catch{_('<p class="text-center p-8 text-red-500">  .</p>')}else _('<p class="text-center p-8 text-gray-500">   .</p>')}})()},[w,S]);const G=()=>R(Re=>(Re+1)%w.length),Y=()=>R(Re=>(Re-1+w.length)%w.length),ee=async Re=>{if(!Re){ae("profilePicture","");return}v(!0);try{const me=await VH(Re,"profile.jpg"),Le=await gm(me);ae("profilePicture",Le)}catch{ne("  .")}finally{v(!1)}},ae=(Re,me)=>{h(Le=>({...Le,[Re]:me}))},de=async Re=>{if(!c||!a||!t)return;const me=a.credits.currency==="USD"?t.pricing.dynamicDocument.usd:t.pricing.dynamicDocument.dzd,Le=a.credits.currency==="USD"?"$":"";if(a.credits.amount<me){alert(`  .    ${me} ${Le}   ${a.credits.amount} ${Le}.`),s(`/${a.countryCode}/app/billing`);return}v(!0);const V=a.credits.amount;try{await Vy(e,c.id,f,{action:Re,targetLang:"ar",templateType:"final"})}catch(Te){console.error("Document generation failed:",Te),v(!1),alert("  .     .");return}const xe=V-me;o(xe);try{await ome({id:Date.now(),amount:me,currency:a.credits.currency}),alert(`    ${me} ${Le}  .  : ${xe.toFixed(2)} ${Le}.`)}catch(Te){if(console.error("Failed to queue credit deduction:",Te),navigator.onLine)try{await JI(a,me)}catch{alert(":       .   .")}else alert(":       .   .")}u(null),h({}),C([]),v(!1)};if(n||r)return d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(Ct,{className:"animate-spin text-4xl text-green-600"})});const fe=(a==null?void 0:a.credits.currency)==="USD"?t==null?void 0:t.pricing.dynamicDocument.usd:t==null?void 0:t.pricing.dynamicDocument.dzd,Ae=(a==null?void 0:a.credits.currency)==="USD"?"$":"";return c?d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 items-start",children:[d.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:[": ",c.name]}),d.jsxs("p",{className:"text-gray-600",children:[": ",d.jsxs("span",{className:"font-bold font-mono",children:[fe," ",Ae]})]})]}),d.jsx("button",{onClick:()=>{u(null),_(""),C([])},className:"text-sm bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:"   "})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4 border relative",children:[d.jsx("h3",{className:"font-semibold text-lg text-gray-800 mb-2",children:" "}),w.length>1&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:Y,className:"absolute right-3 top-1/2 -translate-y-1/2 z-10 bg-black bg-opacity-40 text-white p-2 rounded-full",children:d.jsx(yw,{})}),d.jsx("button",{onClick:G,className:"absolute left-3 top-1/2 -translate-y-1/2 z-10 bg-black bg-opacity-40 text-white p-2 rounded-full",children:d.jsx(gw,{})}),d.jsxs("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 z-10 bg-black bg-opacity-50 text-white text-sm px-3 py-1 rounded-full",children:[S+1," / ",w.length]})]}),d.jsx("iframe",{srcDoc:b,title:"Document Preview",className:"w-full h-[70vh] border rounded-md bg-white"})]})]}),d.jsx("div",{className:"lg:col-span-1 space-y-4 lg:sticky lg:top-8",children:d.jsxs("div",{className:"bg-white p-6 rounded-lg border shadow-sm",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:" "}),d.jsx($ge,{onDataExtracted:Re=>h(me=>({...me,...Re}))}),d.jsx("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:j.map(Re=>{var oe,he,we;const Le=Object.prototype.hasOwnProperty.call(ei,Re)?ei[Re]:null,V=(oe=c==null?void 0:c.fieldCustomizations)==null?void 0:oe[Re],xe=((he=c==null?void 0:c.questions)==null?void 0:he[Re])||(V==null?void 0:V.customQuestion)||(Le?l(Le.label):Re),Te=(V==null?void 0:V.type)||(Le==null?void 0:Le.type)||"text",le=Le?l(Le.placeholder):"",re=(V==null?void 0:V.options)||(Le==null?void 0:Le.options);if(Te==="select"&&re)return d.jsxs("div",{children:[d.jsx("label",{htmlFor:Re,className:"block text-sm font-medium text-gray-700 mb-1",children:xe}),d.jsxs("select",{id:Re,name:Re,value:f[Re]||"",onChange:ie=>ae(ie.target.name,ie.target.value),className:"w-full p-2 border rounded-md bg-white",required:!0,children:[d.jsx("option",{value:"",children:"--  --"}),V!=null&&V.options?V.options.map(ie=>d.jsx("option",{value:ie,children:ie},ie)):(we=Le==null?void 0:Le.options)==null?void 0:we.map(ie=>d.jsx("option",{value:ie.value,children:l(ie.label)},ie.value))]})]},Re);if(Te==="multiselect"&&re){const ie=f[Re]?f[Re].split(","):[],ce=(ge,ye)=>{const Ne=ye?[...ie,ge]:ie.filter(Ue=>Ue!==ge);ae(Re,Ne.filter(Boolean).join(","))};return d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:xe}),d.jsx("div",{className:"p-3 border rounded-md space-y-2 bg-gray-50",children:re.map(ge=>d.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[d.jsx("input",{type:"checkbox",value:ge,checked:ie.includes(ge),onChange:ye=>ce(ge,ye.target.checked),className:"h-4 w-4 text-green-600 border-gray-300 rounded focus:ring-green-500"}),d.jsx("span",{className:"text-gray-800",children:ge})]},ge))})]},Re)}return d.jsxs("div",{children:[d.jsx("label",{htmlFor:Re,className:"block text-sm font-medium text-gray-700 mb-1",children:xe}),Te==="file"?d.jsx(qv,{value:f[Re]||"",onChange:ie=>ee(ie)}):d.jsx("input",{type:Te,id:Re,name:Re,value:f[Re]||"",onChange:ie=>ae(ie.target.name,ie.target.value),placeholder:le,className:"w-full p-2 border rounded-md",required:!0})]},Re)})}),d.jsxs("div",{className:"mt-6 pt-4 border-t space-y-2",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{id:"saveClient",type:"checkbox",checked:g,onChange:Re=>y(Re.target.checked),className:"h-4 w-4 text-green-600 border-gray-300 rounded focus:ring-green-500"}),d.jsx("label",{htmlFor:"saveClient",className:"mr-2 block text-sm text-gray-900",children:"    "})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>de("open"),disabled:p,className:"flex-1 bg-blue-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-700 disabled:bg-blue-400",children:p?d.jsx(Ct,{className:"animate-spin mx-auto"}):""}),d.jsx("button",{onClick:()=>de("print"),disabled:p,className:"flex-1 bg-green-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-green-700 disabled:bg-green-400",children:p?d.jsx(Ct,{className:"animate-spin mx-auto"}):""})]})]})]})})]}):d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"  "}),d.jsx("p",{className:"text-gray-600 mb-6",children:" 1:       ."}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:B.map(Re=>d.jsxs("button",{onClick:()=>W(Re),className:"text-right p-6 border rounded-lg transition-all duration-200 bg-white hover:bg-green-50 hover:shadow-md hover:border-green-400 focus:outline-none focus:ring-2 focus:ring-green-500",children:[d.jsx("h3",{className:"font-bold text-xl text-gray-800",children:Re.name}),d.jsx("p",{className:"text-gray-600 mt-1 line-clamp-2",dangerouslySetInnerHTML:{__html:Re.description}})]},Re.id))})]})},Gge=({children:t})=>{const{user:e,loading:n}=Ar(),{countryCode:r}=aa();return n?d.jsx("div",{className:"flex justify-center items-center h-screen",children:d.jsx(Ct,{className:"animate-spin text-4xl text-green-600"})}):!e||!e.emailVerified?d.jsx(gp,{to:`/${r||"dz"}/login`,replace:!0}):t};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZH="firebasestorage.googleapis.com",eG="storageBucket",Kge=120*1e3,Xge=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends ms{constructor(e,n,r=0){super(_C(e),`Firebase Storage: ${n} (${_C(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Kr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return _C(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var $r;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})($r||($r={}));function _C(t){return"storage/"+t}function sk(){const t="An unknown error occurred, please check the error payload for server response.";return new Kr($r.UNKNOWN,t)}function Jge(t){return new Kr($r.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Yge(t){return new Kr($r.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Qge(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Kr($r.UNAUTHENTICATED,t)}function Zge(){return new Kr($r.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function e0e(t){return new Kr($r.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function t0e(){return new Kr($r.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function n0e(){return new Kr($r.CANCELED,"User canceled the upload/download.")}function r0e(t){return new Kr($r.INVALID_URL,"Invalid URL '"+t+"'.")}function i0e(t){return new Kr($r.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function s0e(){return new Kr($r.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+eG+"' property when initializing the app?")}function a0e(){return new Kr($r.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function o0e(){return new Kr($r.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function l0e(t){return new Kr($r.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function GA(t){return new Kr($r.INVALID_ARGUMENT,t)}function tG(){return new Kr($r.APP_DELETED,"The Firebase app was deleted.")}function c0e(t){return new Kr($r.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function K0(t,e){return new Kr($r.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Qg(t){throw new Kr($r.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ca.makeFromUrl(e,n)}catch{return new Ca(e,"")}if(r.path==="")return r;throw i0e(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const a="(/(.*))?$",o=new RegExp("^gs://"+i+a,"i"),l={bucket:1,path:3};function c(C){C.path_=decodeURIComponent(C.path)}const u="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${u}/b/${i}/o${h}`,"i"),v={bucket:1,path:3},g=n===ZH?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",b=new RegExp(`^https?://${g}/${i}/${y}`,"i"),w=[{regex:o,indices:l,postModify:s},{regex:p,indices:v,postModify:c},{regex:b,indices:{bucket:1,path:2},postModify:c}];for(let C=0;C<w.length;C++){const S=w[C],R=S.regex.exec(e);if(R){const D=R[S.indices.bucket];let N=R[S.indices.path];N||(N=""),r=new Ca(D,N),S.postModify(r);break}}if(r==null)throw r0e(e);return r}}class u0e{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0e(t,e,n){let r=1,i=null,s=null,a=!1,o=0;function l(){return o===2}let c=!1;function u(...y){c||(c=!0,e.apply(null,y))}function f(y){i=setTimeout(()=>{i=null,t(p,l())},y)}function h(){s&&clearTimeout(s)}function p(y,...b){if(c){h();return}if(y){h(),u.call(null,y,...b);return}if(l()||a){h(),u.call(null,y,...b);return}r<64&&(r*=2);let w;o===1?(o=2,w=0):w=(r+Math.random())*1e3,f(w)}let v=!1;function g(y){v||(v=!0,h(),!c&&(i!==null?(y||(o=2),clearTimeout(i),f(0)):y||(o=1)))}return f(0),s=setTimeout(()=>{a=!0,g(!0)},n),g}function f0e(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0e(t){return t!==void 0}function p0e(t){return typeof t=="object"&&!Array.isArray(t)}function ak(t){return typeof t=="string"||t instanceof String}function D9(t){return ok()&&t instanceof Blob}function ok(){return typeof Blob<"u"}function A9(t,e,n,r){if(r<e)throw GA(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw GA(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function nG(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var lf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(lf||(lf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0e(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0e{constructor(e,n,r,i,s,a,o,l,c,u,f,h=!0,p=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=o,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=f,this.retry=h,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,g)=>{this.resolve_=v,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Dx(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=o=>{const l=o.loaded,c=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const o=s.getErrorCode()===lf.NO_ERROR,l=s.getStatus();if(!o||m0e(l,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===lf.ABORT;r(!1,new Dx(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Dx(c,s))})},n=(r,i)=>{const s=this.resolve_,a=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());h0e(l)?s(l):s()}catch(l){a(l)}else if(o!==null){const l=sk();l.serverResponse=o.getErrorText(),this.errorCallback_?a(this.errorCallback_(o,l)):a(l)}else if(i.canceled){const l=this.appDelete_?tG():n0e();a(l)}else{const l=t0e();a(l)}};this.canceled_?n(!1,new Dx(!1,null,!0)):this.backoffId_=d0e(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&f0e(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Dx{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function y0e(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function v0e(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function x0e(t,e){e&&(t["X-Firebase-GMPID"]=e)}function _0e(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function b0e(t,e,n,r,i,s,a=!0,o=!1){const l=nG(t.urlParams),c=t.url+l,u=Object.assign({},t.headers);return x0e(u,e),y0e(u,n),v0e(u,s),_0e(u,r),new g0e(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0e(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function T0e(...t){const e=w0e();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(ok())return new Blob(t);throw new Kr($r.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function E0e(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0e(t){if(typeof atob>"u")throw l0e("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class bC{constructor(e,n){this.data=e,this.contentType=n||null}}function S0e(t,e){switch(t){case gl.RAW:return new bC(rG(e));case gl.BASE64:case gl.BASE64URL:return new bC(iG(t,e));case gl.DATA_URL:return new bC(A0e(e),N0e(e))}throw sk()}function rG(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,a=t.charCodeAt(++n);r=65536|(s&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function D0e(t){let e;try{e=decodeURIComponent(t)}catch{throw K0(gl.DATA_URL,"Malformed data URL.")}return rG(e)}function iG(t,e){switch(t){case gl.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw K0(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case gl.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw K0(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=C0e(e)}catch(i){throw i.message.includes("polyfill")?i:K0(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class sG{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw K0(gl.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=I0e(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function A0e(t){const e=new sG(t);return e.base64?iG(gl.BASE64,e.rest):D0e(e.rest)}function N0e(t){return new sG(t).contentType}function I0e(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n){let r=0,i="";D9(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(D9(this.data_)){const r=this.data_,i=E0e(r,e,n);return i===null?null:new du(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new du(r,!0)}}static getBlob(...e){if(ok()){const n=e.map(r=>r instanceof du?r.data_:r);return new du(T0e.apply(null,n))}else{const n=e.map(a=>ak(a)?S0e(gl.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(a=>{for(let o=0;o<a.length;o++)i[s++]=a[o]}),new du(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aG(t){let e;try{e=JSON.parse(t)}catch{return null}return p0e(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0e(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function R0e(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function oG(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0e(t,e){return e}class Ds{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||P0e}}let Ax=null;function F0e(t){return!ak(t)||t.length<2?t:oG(t)}function lG(){if(Ax)return Ax;const t=[];t.push(new Ds("bucket")),t.push(new Ds("generation")),t.push(new Ds("metageneration")),t.push(new Ds("name","fullPath",!0));function e(s,a){return F0e(a)}const n=new Ds("name");n.xform=e,t.push(n);function r(s,a){return a!==void 0?Number(a):a}const i=new Ds("size");return i.xform=r,t.push(i),t.push(new Ds("timeCreated")),t.push(new Ds("updated")),t.push(new Ds("md5Hash",null,!0)),t.push(new Ds("cacheControl",null,!0)),t.push(new Ds("contentDisposition",null,!0)),t.push(new Ds("contentEncoding",null,!0)),t.push(new Ds("contentLanguage",null,!0)),t.push(new Ds("contentType",null,!0)),t.push(new Ds("metadata","customMetadata",!0)),Ax=t,Ax}function M0e(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Ca(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function U0e(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const a=n[s];r[a.local]=a.xform(r,e[a.server])}return M0e(r,t),r}function cG(t,e,n){const r=aG(e);return r===null?null:U0e(t,r,n)}function O0e(t,e,n,r){const i=aG(e);if(i===null||!ak(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const a=encodeURIComponent;return s.split(",").map(c=>{const u=t.bucket,f=t.fullPath,h="/b/"+a(u)+"/o/"+a(f),p=lk(h,n,r),v=nG({alt:"media",token:c});return p+v})[0]}function L0e(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class uG{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dG(t){if(!t)throw sk()}function j0e(t,e){function n(r,i){const s=cG(t,i,e);return dG(s!==null),s}return n}function B0e(t,e){function n(r,i){const s=cG(t,i,e);return dG(s!==null),O0e(s,i,t.host,t._protocol)}return n}function fG(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Zge():i=Qge():n.getStatus()===402?i=Yge(t.bucket):n.getStatus()===403?i=e0e(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function V0e(t){const e=fG(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=Jge(t.path)),s.serverResponse=i.serverResponse,s}return n}function W0e(t,e,n){const r=e.fullServerUrl(),i=lk(r,t.host,t._protocol),s="GET",a=t.maxOperationRetryTime,o=new uG(i,s,B0e(t,n),a);return o.errorHandler=V0e(e),o}function q0e(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function $0e(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=q0e(null,e)),r}function z0e(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function o(){let w="";for(let C=0;C<2;C++)w=w+Math.random().toString().slice(2);return w}const l=o();a["Content-Type"]="multipart/related; boundary="+l;const c=$0e(e,r,i),u=L0e(c,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=du.getBlob(f,r,h);if(p===null)throw a0e();const v={name:c.fullPath},g=lk(s,t.host,t._protocol),y="POST",b=t.maxUploadRetryTime,_=new uG(g,y,j0e(t,n),b);return _.urlParams=v,_.headers=a,_.body=p.uploadData(),_.errorHandler=fG(e),_}class H0e{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=lf.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=lf.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=lf.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,s){if(this.sent_)throw Qg("cannot .send() more than once");if(Il(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const a in s)s.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,s[a].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Qg("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Qg("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Qg("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Qg("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class G0e extends H0e{initXhr(){this.xhr_.responseType="text"}}function hG(){return new G0e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,n){this._service=e,n instanceof Ca?this._location=n:this._location=Ca.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Rf(e,n)}get root(){const e=new Ca(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return oG(this._location.path)}get storage(){return this._service}get parent(){const e=k0e(this._location.path);if(e===null)return null;const n=new Ca(this._location.bucket,e);return new Rf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw c0e(e)}}function K0e(t,e,n){t._throwIfRoot("uploadBytes");const r=z0e(t.storage,t._location,lG(),new du(e,!0),n);return t.storage.makeRequestWithTokens(r,hG).then(i=>({metadata:i,ref:t}))}function X0e(t){t._throwIfRoot("getDownloadURL");const e=W0e(t.storage,t._location,lG());return t.storage.makeRequestWithTokens(e,hG).then(n=>{if(n===null)throw o0e();return n})}function J0e(t,e){const n=R0e(t._location.path,e),r=new Ca(t._location.bucket,n);return new Rf(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0e(t){return/^[A-Za-z]+:\/\//.test(t)}function Q0e(t,e){return new Rf(t,e)}function pG(t,e){if(t instanceof ck){const n=t;if(n._bucket==null)throw s0e();const r=new Rf(n,n._bucket);return e!=null?pG(r,e):r}else return e!==void 0?J0e(t,e):t}function Z0e(t,e){if(e&&Y0e(e)){if(t instanceof ck)return Q0e(t,e);throw GA("To use ref(service, url), the first argument must be a Storage instance.")}else return pG(t,e)}function N9(t,e){const n=e==null?void 0:e[eG];return n==null?null:Ca.makeFromBucketSpec(n,t)}function eye(t,e,n,r={}){t.host=`${e}:${n}`;const i=Il(e);i&&(db(`https://${t.host}/b`),fb("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:IN(s,t.app.options.projectId))}class ck{constructor(e,n,r,i,s,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=a,this._bucket=null,this._host=ZH,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Kge,this._maxUploadRetryTime=Xge,this._requests=new Set,i!=null?this._bucket=Ca.makeFromBucketSpec(i,this._host):this._bucket=N9(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ca.makeFromBucketSpec(this._url,e):this._bucket=N9(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){A9("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){A9("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ir(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Rf(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new u0e(tG());{const a=b0e(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const I9="@firebase/storage",k9="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mG="storage";function tye(t,e,n){return t=Nt(t),K0e(t,e,n)}function nye(t){return t=Nt(t),X0e(t)}function rye(t,e){return t=Nt(t),Z0e(t,e)}function iye(t=tV(),e){t=Nt(t);const r=MN(t,mG).getImmediate({identifier:e}),i=rte("storage");return i&&sye(r,...i),r}function sye(t,e,n,r={}){eye(t,e,n,r)}function aye(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new ck(n,r,i,e,kl)}function oye(){Tl(new Os(mG,aye,"PUBLIC").setMultipleInstances(!0)),Ps(I9,k9,""),Ps(I9,k9,"esm2020")}oye();const lye=()=>{var k;const{user:t}=Ar(),{cafes:e,siteSettings:n,loading:r,refetchCafes:i}=nn(),[s,a]=q.useState(void 0),[o,l]=q.useState(!0),[c,u]=q.useState({name:"",owner:"",street:"",city:"",state:"",description:"",googleMapsUrl:"",latitude:void 0,longitude:void 0,geminiApiKey:"",phone:"",imageUrl:"",coverImageUrl:"",facebook:"",instagram:"",twitter:"",formFillMode:"ai",speechToTextLanguage:"ar-SA",isProfilePublished:!1}),[f,h]=q.useState(""),[p,v]=q.useState(!1),[g,y]=q.useState(!1),[b,_]=q.useState(!1),[w,C]=q.useState("");q.useEffect(()=>{(async()=>{var I,U,O;if(r)return;if(!(t!=null&&t.cafeId)){l(!1);return}l(!0);let P=e.find(K=>K.id===t.cafeId);if(!P){console.warn("Cafe not found in public list, fetching directly...");try{P=await XI(t.cafeId)||void 0}catch(K){console.error("Failed to fetch cafe details directly:",K),P=void 0}}a(P),P&&u({name:P.name,owner:P.owner,street:P.address.street,city:P.address.city||"",state:P.address.state||"",description:P.description,googleMapsUrl:P.googleMapsUrl||"",latitude:P.address.latitude,longitude:P.address.longitude,geminiApiKey:P.geminiApiKey||"",phone:P.phone||"",imageUrl:P.imageUrl||"",coverImageUrl:P.coverImageUrl||"",facebook:((I=P.socials)==null?void 0:I.facebook)||"",instagram:((U=P.socials)==null?void 0:U.instagram)||"",twitter:((O=P.socials)==null?void 0:O.twitter)||"",formFillMode:P.formFillMode||"ai",speechToTextLanguage:P.speechToTextLanguage||"ar-SA",isProfilePublished:P.isProfilePublished||!1}),l(!1)})()},[t,e,r]);const S=async F=>{if(!F){u(P=>({...P,imageUrl:""}));return}if(!s){C("       .");return}_(!0),C("");try{const P=iye(),I=rye(P,`cafe-profiles/${s.id}/${Date.now()}.jpg`),U=await VH(F,"profile.jpg","image/jpeg"),O=await tye(I,U),K=await nye(O.ref);u(X=>({...X,imageUrl:K}))}catch(P){console.error("Error uploading profile image to Firebase Storage:",P),C("  .    .")}finally{_(!1)}},R=F=>{const{name:P,value:I,type:U}=F.target;if(U==="checkbox"){const{checked:O}=F.target;u(K=>({...K,[P]:O}))}else u(O=>({...O,[P]:I}))},D=()=>{if(!navigator.geolocation){alert("     .");return}v(!0),navigator.geolocation.getCurrentPosition(F=>{const{latitude:P,longitude:I}=F.coords;u(U=>({...U,latitude:P,longitude:I,googleMapsUrl:`https://www.google.com/maps?q=${P},${I}`})),v(!1)},F=>{console.error("Geolocation error:",F.message||F),alert(`    : ${F.message}`),v(!1)})},N=async F=>{if(F.preventDefault(),!!s){y(!0),h("");try{const P={name:c.name,owner:c.owner,description:c.description,googleMapsUrl:c.googleMapsUrl,geminiApiKey:c.geminiApiKey,phone:c.phone,imageUrl:c.imageUrl,coverImageUrl:c.coverImageUrl,formFillMode:c.formFillMode,speechToTextLanguage:c.speechToTextLanguage,isProfilePublished:c.isProfilePublished,address:{...s.address,street:c.street,city:c.city,state:c.state,latitude:c.latitude,longitude:c.longitude},socials:{facebook:c.facebook,instagram:c.instagram,twitter:c.twitter}};await yme(s.id,P),h("   !"),await i()}catch(P){console.error("Error saving settings:",P),alert("    .")}finally{setTimeout(()=>h(""),5e3),y(!1)}}};return o?d.jsxs("div",{className:"flex flex-col items-center justify-center p-10 text-center",children:[d.jsx(Ct,{className:"animate-spin text-4xl text-green-600 mb-4"}),d.jsx("p",{className:"text-gray-600",children:"   ..."})]}):s?d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:" "}),s&&!s.isProfilePublished&&d.jsxs("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-800 p-4 rounded-md mb-6 flex items-start gap-3",role:"alert",children:[d.jsx(SH,{className:"h-6 w-6 flex-shrink-0 mt-1"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold",children:"   !"}),d.jsx("p",{className:"text-sm",children:'   "  "    " "       .'})]})]}),f&&d.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-md relative mb-6",role:"alert",children:d.jsx("span",{className:"block sm:inline",children:f})}),d.jsxs("form",{onSubmit:N,className:"space-y-8 bg-white p-8 rounded-lg border",children:[d.jsxs("fieldset",{className:"border p-4 rounded-md bg-green-50 border-green-300",children:[d.jsx("legend",{className:"px-2 font-semibold text-lg text-green-800",children:"  "}),d.jsxs("div",{className:"mt-2 space-y-2",children:[d.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-2",children:[d.jsx("input",{type:"checkbox",name:"isProfilePublished",checked:c.isProfilePublished,onChange:R,className:"h-5 w-5 rounded border-gray-300 text-green-600 focus:ring-green-500"}),d.jsx("span",{className:"font-medium text-gray-800",children:c.isProfilePublished?"    ":"   "})]}),d.jsx("p",{className:"text-xs text-gray-600 px-2",children:"              .        ."})]})]}),d.jsxs("div",{className:"border-b pb-6",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:"   "}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),d.jsx("input",{type:"text",name:"name",id:"name",value:c.name,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"owner",className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),d.jsx("input",{type:"text",name:"owner",id:"owner",value:c.owner,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"tel",name:"phone",id:"phone",value:c.phone,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),d.jsx("div",{className:"mt-1 flex justify-start p-4 border-2 border-gray-300 border-dashed rounded-md",children:d.jsx(qv,{value:yi(c.imageUrl),onChange:S})}),b&&d.jsxs("p",{className:"text-sm text-blue-600 mt-2 flex items-center gap-2",children:[d.jsx(Ct,{className:"animate-spin"}),"   ..."]}),w&&d.jsx("p",{className:"text-sm text-red-600 mt-2",children:w})]})]})]}),d.jsxs("div",{className:"border-b pb-6",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:" "}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4",children:[d.jsxs("div",{className:"md:col-span-2 space-y-4",children:[s.countryCode!=="dz"&&d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700 mb-1",children:" / "}),d.jsx("input",{type:"text",name:"state",id:"state",value:c.state,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-1",children:""}),d.jsx("input",{type:"text",name:"city",id:"city",value:c.city,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"street",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",name:"street",id:"street",value:c.street,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"}),s.countryCode==="dz"&&d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[": ",s.address.commune,", ",s.address.daira,", ",s.address.wilaya,".",d.jsx("br",{}),"      ."]})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"googleMapsUrl",className:"block text-sm font-medium text-gray-700 mb-1",children:"    "}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[d.jsx("input",{type:"url",name:"googleMapsUrl",id:"googleMapsUrl",value:c.googleMapsUrl,onChange:R,placeholder:"https://maps.app.goo.gl/...",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"}),d.jsx("button",{type:"button",onClick:D,disabled:p,className:"flex-shrink-0 bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors disabled:opacity-50 disabled:cursor-wait",children:p?"... ":"  "})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"    Google Maps       ."})]})]})]}),d.jsxs("div",{className:"border-b pb-6",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:"  "}),d.jsxs("div",{className:"mt-4 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"coverImageUrl",className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),d.jsx("input",{type:"url",name:"coverImageUrl",id:"coverImageUrl",value:c.coverImageUrl,onChange:R,placeholder:"https://example.com/cover.jpg",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:" ( )"}),d.jsx("textarea",{name:"description",id:"description",rows:4,value:c.description,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"           ."})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"facebook",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"url",name:"facebook",id:"facebook",value:c.facebook,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"instagram",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"url",name:"instagram",id:"instagram",value:c.instagram,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"twitter",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"url",name:"twitter",id:"twitter",value:c.twitter,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]})]})]})]}),d.jsxs("fieldset",{className:"border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-lg text-gray-700",children:" "}),d.jsxs("div",{className:"mt-2 space-y-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"    "}),d.jsxs("div",{className:"flex gap-x-6 gap-y-2 flex-wrap",children:[d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[d.jsx("input",{type:"radio",name:"formFillMode",value:"ai",checked:c.formFillMode==="ai",onChange:F=>u(P=>({...P,formFillMode:F.target.value})),className:"h-4 w-4"}),d.jsx("span",{children:"   ()"})]}),d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[d.jsx("input",{type:"radio",name:"formFillMode",value:"json",checked:c.formFillMode==="json",onChange:F=>u(P=>({...P,formFillMode:F.target.value})),className:"h-4 w-4"}),d.jsx("span",{children:"   JSON ( )"})]})]}),d.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[d.jsx("strong",{children:"  :"}),"    . ",d.jsx("br",{}),d.jsx("strong",{children:"  JSON:"}),"         (          )."]})]}),d.jsxs("div",{className:"mt-4 pt-4 border-t",children:[d.jsx("label",{htmlFor:"speechToTextLanguage",className:"block text-sm font-medium text-gray-700",children:"    "}),d.jsxs("select",{id:"speechToTextLanguage",name:"speechToTextLanguage",value:c.speechToTextLanguage,onChange:F=>u(P=>({...P,speechToTextLanguage:F.target.value})),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm rounded-md bg-white",children:[d.jsx("option",{value:"ar-SA",children:""}),d.jsx("option",{value:"en-US",children:"English"}),d.jsx("option",{value:"fr-FR",children:"Franais"}),d.jsx("option",{value:"de-DE",children:"Deutsch"}),d.jsx("option",{value:"es-ES",children:"Espaol"}),d.jsx("option",{value:"tr-TR",children:"Trke"}),d.jsx("option",{value:"ja-JP",children:""})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"            ."})]})]}),d.jsxs("div",{className:"border-b pb-6",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:" Gemini API"}),d.jsx("div",{className:"mt-4",children:(k=n==null?void 0:n.ai)!=null&&k.useAdminKey?d.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-md text-blue-800",children:[d.jsx("p",{className:"font-semibold",children:"  Gemini API:"}),d.jsx("p",{className:"text-sm",children:"             .       API  ."})]}):d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"geminiApiKey",className:"block text-sm font-medium text-gray-700 mb-1",children:" Gemini API  "}),d.jsx("input",{type:"password",name:"geminiApiKey",id:"geminiApiKey",value:c.geminiApiKey,onChange:R,placeholder:"  Gemini API   ",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),c.geminiApiKey?d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"         .       ."}):d.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-md text-yellow-800 text-sm",children:[d.jsx("strong",{children:":"}),"       API       ."]})]})})]}),d.jsxs("div",{className:"flex justify-between items-center pt-6 border-t mt-8",children:[d.jsx(en,{to:`/${s.countryCode}/profile/${s.numericId}`,target:"_blank",rel:"noopener noreferrer",className:"bg-gray-100 text-gray-800 font-bold py-2 px-6 rounded-lg hover:bg-gray-200 transition-colors",children:"  "}),d.jsx("button",{type:"submit",disabled:g,className:"bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700 transition-colors disabled:bg-green-400 disabled:cursor-wait",children:g?" ...":" "})]})]})]}):d.jsxs("div",{className:"flex flex-col items-center justify-center p-10 text-center",children:[d.jsx("h2",{className:"text-xl font-bold text-red-600 mb-2",children:" "}),d.jsx("p",{className:"text-gray-700",children:"        ."}),d.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"      .        ."})]})},cye=({onClose:t,onCapture:e})=>{const n=q.useRef(null),r=q.useRef(null),[i,s]=q.useState(null);q.useEffect(()=>((async()=>{s(null);try{const l=await navigator.mediaDevices.getUserMedia({video:{width:1280,height:720,facingMode:"environment"}});r.current=l,n.current&&(n.current.srcObject=l)}catch(l){console.error("Error accessing camera:",l),l instanceof DOMException&&(l.name==="NotAllowedError"||l.name==="PermissionDeniedError")?s("    .      ."):s("    .          .")}})(),()=>{r.current&&r.current.getTracks().forEach(l=>l.stop())}),[]);const a=()=>{if(n.current){const o=document.createElement("canvas");o.width=n.current.videoWidth,o.height=n.current.videoHeight;const l=o.getContext("2d");l==null||l.drawImage(n.current,0,0,o.width,o.height),o.toBlob(c=>{if(c){const u=new File([c],`capture-${Date.now()}.jpg`,{type:"image/jpeg"});e(u)}},"image/jpeg",.95)}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg p-4 max-w-2xl w-full",children:[d.jsx("h3",{className:"text-xl font-bold mb-4 text-center",children:"   "}),d.jsx("div",{className:"relative aspect-video bg-gray-900 rounded-md overflow-hidden flex items-center justify-center",children:i?d.jsxs("div",{className:"p-4 text-center text-white",children:[d.jsx("p",{className:"font-semibold text-red-400",children:"  "}),d.jsx("p",{className:"text-sm mt-2",children:i})]}):d.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"})}),d.jsxs("div",{className:"mt-4 flex justify-center gap-4",children:[d.jsx("button",{type:"button",onClick:a,disabled:!!i,className:"bg-green-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:" "}),d.jsx("button",{type:"button",onClick:t,className:"bg-red-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-600",children:""})]})]})})},uye=({onPeopleAdded:t})=>{const[e,n]=q.useState(!1),[r,i]=q.useState(!1),[s,a]=q.useState(null),[o,l]=q.useState([]),c=q.useRef(null),[u,f]=q.useState(!1),h=y=>{const b=y.target.files;b&&l(_=>[..._,...Array.from(b)])},p=y=>{l(b=>[...b,y])},v=y=>{l(b=>b.filter((_,w)=>w!==y))},g=async()=>{if(o.length===0){alert("     .");return}i(!0),a(null);try{const y=async w=>{try{const C=new FileReader,S=await new Promise(N=>{C.onloadend=()=>N(C.result.split(",")[1]),C.readAsDataURL(w)}),R="From the provided image of an official Algerian document (such as a National ID card '  ', a birth certificate ' ', or a Chifa social security card ' '), extract the following fields if present: lastName, firstName, dateOfBirth (YYYY-MM-DD), placeOfBirth, nationalId (18 digits), birthCertificateNumber, socialSecurityNumber (from the Chifa card or other documents), nationality, maritalStatus. Omit any fields not found in the image.",D={type:"OBJECT",properties:{lastName:{type:"STRING"},firstName:{type:"STRING"},dateOfBirth:{type:"STRING"},placeOfBirth:{type:"STRING"},nationalId:{type:"STRING"},birthCertificateNumber:{type:"STRING"},socialSecurityNumber:{type:"STRING"},nationality:{type:"STRING"},maritalStatus:{type:"STRING"}}};return await ik(S,w.type,D,R)}catch(C){return console.error(`Error processing file ${w.name}:`,C),null}},_=(await Promise.all(o.map(y))).filter(w=>w&&(w.firstName||w.lastName)).map(w=>{const C=`${w.firstName||""} ${w.lastName||""}`.trim();return{name:C,formData:{fullName:C,dob:w.dateOfBirth||"",pob:w.placeOfBirth||"",nationalId:w.nationalId||"",birthCertificateNumber:w.birthCertificateNumber||"",socialSecurityNumber:w.socialSecurityNumber||"",nationality:w.nationality||"",maritalStatus:w.maritalStatus||""}}});if(_.length===0)throw new Error("         .      .");t(_),l([])}catch(y){console.error("Error processing ID cards:",y);const b=y instanceof Error?y.message:"An unknown error occurred.";a(` : ${b}`)}finally{i(!1)}};return d.jsxs("div",{className:"space-y-3 p-3 bg-blue-50 rounded-lg border border-blue-200 my-4",children:[u&&d.jsx(cye,{onClose:()=>f(!1),onCapture:p}),d.jsxs("label",{htmlFor:"id-scanner-toggle",className:"flex items-center gap-2 cursor-pointer text-gray-700",children:[d.jsx("input",{type:"checkbox",id:"id-scanner-toggle",checked:e,onChange:y=>n(y.target.checked),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),d.jsx(PH,{className:"text-gray-600"}),d.jsx("span",{className:"font-semibold",children:"     "})]}),e&&d.jsxs("div",{className:"pl-6 space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[d.jsx("input",{type:"file",ref:c,onChange:h,accept:"image/*",className:"hidden",multiple:!0}),d.jsxs("button",{type:"button",onClick:()=>{var y;return(y=c.current)==null?void 0:y.click()},disabled:r,className:"flex items-center justify-center gap-2 bg-white border border-gray-300 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:[d.jsx(Nl,{}),d.jsx("span",{children:"  "})]}),d.jsxs("button",{type:"button",onClick:()=>f(!0),disabled:r,className:"flex items-center justify-center gap-2 bg-white border border-gray-300 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:[d.jsx(zm,{}),d.jsx("span",{children:"  "})]})]}),o.length>0&&d.jsxs("div",{children:[d.jsxs("p",{className:"text-sm font-semibold mb-2",children:["  (",o.length,"):"]}),d.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 gap-2",children:o.map((y,b)=>d.jsxs("div",{className:"relative group aspect-square",children:[d.jsx("img",{src:URL.createObjectURL(y),alt:`ID Card ${b+1}`,className:"w-full h-full object-cover rounded-md"}),d.jsx("button",{type:"button",onClick:()=>v(b),className:"absolute top-1 right-1 bg-red-600 text-white p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity text-xs","aria-label":"Remove image",children:d.jsx(Hm,{})})]},b))}),d.jsx("button",{type:"button",onClick:g,disabled:r,className:"w-full mt-4 flex items-center justify-center gap-2 bg-blue-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-blue-400 disabled:cursor-wait",children:r?d.jsxs(d.Fragment,{children:[d.jsx(Ct,{className:"animate-spin"}),d.jsxs("span",{children:[" ... (",o.length," )"]})]}):d.jsxs(d.Fragment,{children:[d.jsx(ige,{}),d.jsx("span",{children:"    "})]})})]}),s&&d.jsx("p",{className:"text-red-600 text-sm mt-2",children:s})]})]})},R9=window.SpeechRecognition||window.webkitSpeechRecognition,P9=({value:t,onChange:e,placeholder:n,suggestions:r,onSuggestionClick:i})=>{const[s,a]=q.useState(!1),o=q.useRef(null),l=window.SpeechRecognition||window.webkitSpeechRecognition;q.useEffect(()=>{if(l)return o.current=new l,o.current.continuous=!1,o.current.interimResults=!1,o.current.lang="ar-SA",o.current.onresult=f=>{e(f.results[0][0].transcript)},o.current.onend=()=>a(!1),()=>{var f;return(f=o.current)==null?void 0:f.abort()}},[e,l]);const c=()=>{l&&!s&&(o.current.start(),a(!0))},u=f=>{var h,p;f.stopPropagation(),s?(h=o.current)==null||h.stop():(p=o.current)==null||p.start(),a(v=>!v)};return d.jsxs("div",{className:"relative w-full",children:[d.jsx("input",{type:"text",value:t,onChange:f=>e(f.target.value),onFocus:c,placeholder:n,className:"w-full p-3 pr-10 border rounded-md focus:ring-green-500 bg-gray-700 text-white placeholder-gray-400 border-gray-600 focus:border-green-500"}),l&&d.jsx("button",{type:"button",onClick:u,className:`absolute top-1/2 right-2 -translate-y-1/2 p-2 rounded-full ${s?"text-red-500 animate-pulse":"text-gray-400"}`,children:d.jsx(yc,{})}),r&&r.length>0&&d.jsx("ul",{className:"absolute z-10 w-full mt-1 bg-white border rounded-md shadow-lg max-h-60 overflow-y-auto",children:r.map(f=>d.jsx("li",{onMouseDown:()=>i==null?void 0:i(f),className:"px-4 py-2 cursor-pointer hover:bg-green-50",children:f.name},f.id))})]})},dye=()=>{const{fullDocuments:t,loadingFullDocuments:e,sites:n}=nn(),[r,i]=q.useState([]),[s,a]=q.useState(!1),[o,l]=q.useState(""),[c,u]=q.useState(""),[f,h]=q.useState([]),[p,v]=q.useState(0),[g,y]=q.useState(!1),[b,_]=q.useState(!1),w=q.useRef(null),C=q.useRef(""),[S,R]=q.useState(!1),[D,N]=q.useState(!1),[k,F]=q.useState(""),P=q.useMemo(()=>[...t,...n],[t,n]),I=q.useMemo(()=>{if(!c)return[];const B=c.toLowerCase();return P.filter(j=>j.name.toLowerCase().includes(B))},[c,P]),U=B=>{f.find(j=>j.id===B.id)||h(j=>[...j,B]),u("")},O=B=>{h(j=>j.filter(W=>W.id!==B))},K=()=>{if(!o.trim()||f.length===0){alert("        .");return}const B={id:Date.now(),name:o,documentIds:f.map(j=>j.id),formData:{fullName:o},complexFormData:{},saveClient:!0,isFromClientList:!1};i(j=>[...j,B]),l(""),h([]),u(""),a(!1)},X=r[p];q.useMemo(()=>{if(!X)return[];const B=new Set,j=[];return t.filter(W=>X.documentIds.includes(W.id)).forEach(W=>{W.requiredFields&&W.requiredFields.forEach(G=>{var Y,ee,ae;if(G!=="fullName"&&!B.has(G)){B.add(G);const fe=Object.prototype.hasOwnProperty.call(ei,G)?ei[G]:null,Ae=((Y=W.questions)==null?void 0:Y[G])||((ae=(ee=W.fieldCustomizations)==null?void 0:ee[G])==null?void 0:ae.customQuestion)||(fe==null?void 0:fe.label)||G;j.push({id:G,label:Ae})}})}),j},[X,t]);const J=q.useCallback(B=>{i(j=>j.map((W,G)=>G===p?{...W,transcribedText:B}:W))},[p]);q.useEffect(()=>{if(!R9)return;w.current=new R9;const B=w.current;return B.continuous=!0,B.interimResults=!0,B.lang="ar-SA",B.onresult=j=>{let W="",G="";for(let ee=j.resultIndex;ee<j.results.length;++ee){const ae=j.results[ee][0].transcript;j.results[ee].isFinal?W+=ae+" ":G+=ae}const Y=(C.current?C.current+" ":"")+W+G;J(Y.trim())},B.onend=()=>_(!1),()=>{var j;return(j=w.current)==null?void 0:j.abort()}},[J]);const ne=()=>{if(k.trim()===""){alert("   .");return}const B={id:Date.now(),name:k,documentIds:[],formData:{},complexFormData:{},saveClient:!0,isFromClientList:!1};i(j=>[...j,B]),F("")},z=B=>i(j=>j.filter(W=>W.id!==B)),Q=(B,j)=>{i(r.map(W=>{if(W.id===B){const G=W.documentIds.includes(j)?W.documentIds.filter(Y=>Y!==j):[...W.documentIds,j];return{...W,documentIds:G}}return W}))};return e?d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(Ct,{className:"animate-spin text-4xl text-green-600"})}):g?d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("button",{onClick:()=>y(!1),className:"text-sm bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300",children:"   "}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("button",{onClick:()=>v(B=>(B-1+r.length)%r.length),disabled:r.length<=1,className:"p-3 bg-gray-200 rounded-full hover:bg-gray-300 disabled:opacity-50","aria-label":"Previous Person",children:d.jsx(yw,{})}),d.jsxs("span",{className:"font-semibold text-lg text-center",style:{minWidth:"200px"},children:[" ",p+1,"/",r.length,": ",X==null?void 0:X.name]}),d.jsx("button",{onClick:()=>v(B=>(B+1)%r.length),disabled:r.length<=1,className:"p-3 bg-gray-200 rounded-full hover:bg-gray-300 disabled:opacity-50","aria-label":"Next Person",children:d.jsx(gw,{})})]}),d.jsx("div",{})]}),d.jsxs("div",{className:"p-4 bg-gray-50 border rounded-lg",children:[d.jsxs("h3",{className:"text-lg font-bold mb-2",children:[" ",X==null?void 0:X.name]}),d.jsx("div",{className:"text-center text-gray-500 py-8",children:"(     )"})]})]}):d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"  "}),d.jsx("p",{className:"text-gray-600 mb-6",children:" 1:       ."}),d.jsx("div",{className:"space-y-4",children:r.map((B,j)=>d.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200 flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsxs("p",{className:"font-bold text-lg text-green-800",children:[j+1,". ",B.name]}),d.jsxs("p",{className:"text-sm text-green-700",children:[": ",B.documentIds.map(W=>{var G;return(G=P.find(Y=>Y.id===W))==null?void 0:G.name}).join(", ")||"    "]})]}),d.jsx("button",{onClick:()=>i(W=>W.filter(G=>G.id!==B.id)),className:"text-red-500 hover:text-red-700",children:d.jsx(Hm,{})})]},B.id))}),s?d.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg border border-gray-700 mt-4 space-y-3 animate-fadeIn",children:[d.jsx("h3",{className:"font-bold text-white",children:"  "}),d.jsx(P9,{value:o,onChange:l,placeholder:"  ..."}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsx(P9,{value:c,onChange:u,placeholder:"    ...",suggestions:I,onSuggestionClick:U}),d.jsx("button",{onClick:()=>U(I[0]),disabled:!c||I.length===0,className:"bg-gray-600 text-white px-4 rounded-md hover:bg-gray-500 disabled:opacity-50",children:""})]}),d.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:f.map(B=>d.jsxs("div",{className:"flex items-center gap-1 bg-gray-200 rounded-full px-3 py-1 text-sm",children:[d.jsx("span",{children:B.name}),d.jsx("button",{onClick:()=>O(B.id),className:"text-red-500",children:d.jsx(kf,{size:12})})]},B.id))})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:K,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:" "}),d.jsx("button",{onClick:()=>a(!1),className:"bg-gray-200 text-gray-800 py-2 px-4 rounded-lg hover:bg-gray-300",children:""})]})]}):d.jsxs("button",{onClick:()=>a(!0),className:"mt-4 flex items-center gap-2 bg-blue-600 text-white font-bold py-3 px-5 rounded-lg hover:bg-blue-700",children:[d.jsx(ic,{}),d.jsx("span",{children:" "})]}),d.jsx("div",{className:"mt-8 pt-4 border-t",children:d.jsxs("button",{onClick:()=>{y(!0),v(0)},disabled:r.length===0,className:"w-full bg-green-600 text-white font-bold text-lg py-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:["    ",r.length," "]})}),d.jsxs("details",{className:"mt-8",children:[d.jsx("summary",{className:"cursor-pointer text-gray-600 hover:text-black",children:"  ( )"}),d.jsxs("div",{className:"mt-4 p-4 border rounded-lg bg-gray-50",children:[d.jsx(uye,{onPeopleAdded:()=>{}}),d.jsxs("div",{className:"bg-white p-6 rounded-lg border my-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-3",children:"  ()"}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[d.jsx("input",{type:"text",value:k,onChange:B=>F(B.target.value),placeholder:"  ",className:"flex-grow p-3 border rounded-md"}),d.jsx("button",{onClick:ne,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:" "})]})]}),d.jsx("div",{className:"space-y-6",children:r.map(B=>d.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h2",{className:"text-xl font-bold",children:B.name}),d.jsx("button",{onClick:()=>z(B.id),className:"text-red-500 hover:text-red-700 font-bold px-3 py-1 rounded-md hover:bg-red-100",children:" "})]}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:t.map(j=>d.jsx("button",{onClick:()=>Q(B.id,j.id),className:`p-3 text-sm border rounded-md text-right transition-colors ${B.documentIds.includes(j.id)?"bg-green-100 border-green-500 ring-2 ring-green-400":"bg-white hover:bg-gray-100"}`,children:j.name},j.id))})]},B.id))})]})]})]})},F9=[{amount:2e3,label:"2,000 "},{amount:5e3,label:"5,000 "},{amount:1e4,label:"10,000 "}],fye=2e3,hye=[{amount:10,label:"$10.00"},{amount:50,label:"$50.00"},{amount:100,label:"$100.00"}],pye=10,mye=()=>{const{user:t}=Ar(),{siteSettings:e}=nn(),[n,r]=q.useState([]),[i,s]=q.useState(null),[a,o]=q.useState(!0),[l,c]=q.useState(F9[0].amount),[u,f]=q.useState(""),[h,p]=q.useState(""),[v,g]=q.useState(null),[y,b]=q.useState(0),[_,w]=q.useState(null),[C,S]=q.useState(!1),R=(t==null?void 0:t.countryCode)==="dz",D=R?"DZD":"USD",N=R?"":"$",k=R?F9:hye,F=R?fye:pye,P=q.useMemo(()=>l||parseInt(u)||0,[l,u]);q.useEffect(()=>{(async()=>{if(t){o(!0);try{const[z,Q]=await Promise.all([wme(t.id),bme(t.id)]);r(z),s(Q.find(B=>B.status==="Pending")||null)}catch(z){console.error("Failed to fetch billing data:",z),g({type:"error",message:"    ."})}finally{o(!1)}}})()},[t,y]);const I=ne=>{ne.target.files&&ne.target.files[0]&&w(ne.target.files[0])},U=async()=>{if(!t||!P||P<F){g({type:"error",message:`    ${F} ${N}.`});return}if(!_){g({type:"error",message:"      ."});return}S(!0),g(null);let ne;try{g({type:"success",message:"   ..."}),ne=await gm(_);const z=await m9(t.id,P,D,"CCP",ne);g({type:z.success?"success":"error",message:z.message}),z.success&&(c(null),f(""),w(null),b(Q=>Q+1))}catch(z){console.error("Error creating payment request:",z),g({type:"error",message:"    .    ."})}finally{S(!1)}setTimeout(()=>g(null),5e3)},O=async()=>{if(!t||!(e!=null&&e.payment.paypalEmail)||!P||P<F){g({type:"error",message:`The minimum amount is ${F} ${N}.`});return}const ne=await m9(t.id,P,D,"PayPal");if(!ne.success){g({type:"error",message:ne.message});return}const Q=`https://www.paypal.com/cgi-bin/webscr?${new URLSearchParams({business:e.payment.paypalEmail,item_name:`Gitut Credits for ${t.email}`,amount:P.toFixed(2),currency_code:"USD",no_shipping:"1",return:window.location.href,cancel_return:window.location.href,cmd:"_xclick"}).toString()}`;window.open(Q,"_blank"),b(B=>B+1)},K=ne=>{c(ne),f(""),p("")},X=ne=>{const z=ne.target.value;f(z),c(null),z&&parseInt(z)<F?p(`    ${F} ${N}.`):p("")},J=ne=>{switch(ne){case"Paid":return d.jsx("span",{className:"px-2 py-1 text-xs font-medium text-green-800 bg-green-100 rounded-full",children:""});case"Pending":return d.jsx("span",{className:"px-2 py-1 text-xs font-medium text-yellow-800 bg-yellow-100 rounded-full",children:"  "})}};return a?d.jsx("div",{children:"   ..."}):t?d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:" "}),v&&d.jsx("div",{className:`p-4 mb-4 rounded-md ${v.type==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:v.message}),d.jsxs("div",{className:"bg-white p-6 rounded-lg border shadow-sm mb-8",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:" "}),d.jsxs("div",{className:"text-5xl font-bold text-green-600 font-mono",children:[t.credits.amount.toLocaleString("en-US",{minimumFractionDigits:D==="USD"?2:0}),d.jsxs("span",{className:"text-3xl",children:[" ",N]})]}),d.jsx("p",{className:"text-gray-500 mt-2",children:"        ."})]}),i?d.jsxs("div",{className:"bg-yellow-50 p-6 rounded-lg border border-yellow-300 mb-8",children:[d.jsx("h2",{className:"text-xl font-semibold text-yellow-800",children:"     "}),d.jsxs("p",{className:"text-yellow-700 mt-2",children:["      ",d.jsxs("strong",{className:"font-mono",children:[i.amount.toLocaleString()," ",i.currency==="USD"?"$":""]}),"  ",(typeof i.date=="string"?new Date(i.date):i.date.toDate()).toLocaleDateString("ar-DZ"),".         ."]})]}):d.jsxs("div",{className:"bg-white p-6 rounded-lg border shadow-sm mb-8",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:" "}),d.jsx("p",{className:"text-gray-600 mb-4",children:" 1:        ."}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:k.map(ne=>d.jsx("button",{onClick:()=>K(ne.amount),className:`p-4 border-2 rounded-lg text-center transition-all ${l===ne.amount?"border-green-500 bg-green-50 ring-2 ring-green-300":"border-gray-300 bg-white hover:border-green-400"}`,children:d.jsx("p",{className:"text-2xl font-bold font-mono",children:ne.label})},ne.amount))}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{htmlFor:"customAmount",className:"block text-sm font-medium text-gray-700 mb-2",children:"   "}),d.jsx("input",{type:"number",id:"customAmount",value:u,onChange:X,placeholder:`  (  ${F} ${N})`,min:F,className:`block w-full px-3 py-2 bg-white border rounded-md shadow-sm focus:outline-none focus:ring-green-500 ${h?"border-red-500":"border-gray-300"}`}),h&&d.jsx("p",{className:"text-red-600 text-sm mt-1",children:h})]}),P>=F&&d.jsx("div",{className:"bg-gray-100 p-6 rounded-lg border-2 border-dashed border-gray-300",children:R?d.jsxs(d.Fragment,{children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:" 2:  "}),d.jsxs("p",{className:"text-gray-700 mb-4",children:["     ",d.jsxs("strong",{className:"font-mono",children:[P.toLocaleString("ar-DZ")," "]}),"   ."]}),d.jsxs("div",{className:"bg-white p-4 rounded-md flex flex-col gap-2 text-right",children:[d.jsxs("p",{className:"font-bold text-lg",children:[" : ",e==null?void 0:e.payment.baridiMob]}),d.jsxs("p",{className:"font-bold text-lg",children:["CCP / BaridiMob: ",e==null?void 0:e.payment.ccp]})]}),d.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:" 3:   "}),d.jsx("p",{className:"text-gray-700 mb-4",children:"     .              ."}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("label",{className:"flex-grow bg-white border border-gray-300 text-gray-700 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer text-center",children:[d.jsx("span",{children:_?` : ${_.name}`:" "}),d.jsx("input",{type:"file",accept:"image/*",onChange:I,className:"hidden"})]}),_&&d.jsx("img",{src:URL.createObjectURL(_),alt:"Preview",className:"h-12 w-12 rounded-md object-cover border"})]})]}),d.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:" 4:  "}),d.jsx("p",{className:"text-gray-700 mb-4",children:"        .          ."}),d.jsxs("button",{onClick:U,disabled:C,className:"w-full bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-wait flex items-center justify-center gap-2",children:[C?d.jsx(Ct,{className:"animate-spin"}):null,C?"  ...":"     "]})]})]}):d.jsxs(d.Fragment,{children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Step 2: Pay with PayPal"}),d.jsxs("p",{className:"text-gray-700 mb-4",children:["Click the button below to pay ",d.jsxs("strong",{className:"font-mono",children:["$",P.toFixed(2)," USD"]})," securely with PayPal."]}),d.jsxs("button",{onClick:O,className:"w-full flex items-center justify-center gap-3 bg-[#00457C] text-white font-bold py-3 px-6 rounded-lg hover:bg-[#003057]",children:[d.jsx(jme,{size:24}),d.jsx("span",{children:"Pay with PayPal"})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-4 text-center",children:"After payment, your request will be sent for review. Credits will be added to your account upon confirmation."})]})})]}),d.jsxs("div",{className:"bg-white p-6 rounded-lg border shadow-sm",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"  "}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:n.length>0?n.map(ne=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800",children:ne.id}),d.jsx("td",{className:"p-3 text-gray-600",children:(typeof ne.date=="string"?new Date(ne.date):ne.date.toDate()).toLocaleDateString("ar-DZ")}),d.jsxs("td",{className:"p-3 text-gray-800 font-mono",children:[ne.amount.toLocaleString()," ",ne.currency==="USD"?"$":""]}),d.jsx("td",{className:"p-3",children:J(ne.status)})]},ne.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:4,className:"text-center p-6 text-gray-500",children:"    ."})})})]})})]})]}):d.jsx("div",{children:"    ."})},gye=()=>{const[t,e]=q.useState(""),[n,r]=q.useState(""),[i,s]=q.useState(""),a=wi(),{login:o}=Wv(),l=async c=>{if(c.preventDefault(),s(""),!t||!n){s("   .");return}if(o(t,n))try{await jr.signInWithEmailAndPassword(t,n),a("/admin/app")}catch(f){console.error("Firebase admin login failed:",f),s("      Firebase.         Firebase Authentication.")}else s("   .")};return d.jsx("div",{className:"max-w-md mx-auto mt-10",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-center text-gray-900 mb-2",children:"  "}),d.jsx("p",{className:"text-center text-gray-500 mb-6",children:"     ."}),i&&d.jsx("p",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-center",children:i}),d.jsxs("form",{onSubmit:l,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"email",id:"email",value:t,onChange:c=>e(c.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"admin@gitut.com"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"password",id:"password",value:n,onChange:c=>r(c.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"********"})]}),d.jsx("button",{type:"submit",className:"w-full bg-green-600 text-white p-3 rounded-lg font-bold hover:bg-green-700 transition-colors",children:""})]})]})})},yye=()=>{const{admin:t,logout:e}=Wv(),{useAdminChatManager:n}=Qf(),{unreadConversationsCount:r}=n(),i=wi(),s=()=>{e(),jr.signOut(),i("/admin/login")},a="flex items-center gap-3 px-4 py-3 rounded-lg transition-colors",o="bg-green-600 text-white",l="text-gray-600 hover:bg-green-100 hover:text-green-800";return d.jsxs("aside",{className:"w-64 bg-white shadow-md flex flex-col p-4 rounded-lg",children:[d.jsxs("div",{className:"text-center border-b pb-4 mb-4",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"  "}),d.jsx("p",{className:"text-sm text-gray-500",children:(t==null?void 0:t.email)||"admin@gitut.com"})]}),d.jsxs("nav",{className:"flex flex-col gap-2 flex-grow",children:[d.jsxs(Jn,{to:"/admin/app",end:!0,className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),d.jsx("span",{children:" "})]}),d.jsxs(Jn,{to:"users",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M15 21v-2a6 6 0 00-12 0v2"})}),d.jsx("span",{children:" "})]}),d.jsx(Jn,{to:"chat",className:({isActive:c})=>`${a} ${c?o:l}`,children:d.jsxs("div",{className:"flex justify-between items-center w-full",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(ek,{className:"h-5 w-5"}),d.jsx("span",{children:" "})]}),r>0&&d.jsx("span",{className:"bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:r})]})}),d.jsxs(Jn,{to:"billing",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),d.jsx("span",{children:" "})]}),d.jsxs(Jn,{to:"documents",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),d.jsx("span",{children:" "})]}),d.jsxs(Jn,{to:"document-studio",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),d.jsx("span",{children:" "})]}),d.jsxs(Jn,{to:"excel-commands",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx(FH,{className:"h-5 w-5"}),d.jsx("span",{children:" "})]}),d.jsxs(Jn,{to:"document-commands",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx(ZI,{className:"h-5 w-5"}),d.jsx("span",{children:" "})]}),d.jsxs(Jn,{to:"base-templates",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx($me,{className:"h-5 w-5"}),d.jsx("span",{children:" "})]}),d.jsxs(Jn,{to:"static-docs",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),d.jsx("span",{children:" "})]}),d.jsxs(Jn,{to:"sites",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),d.jsx("span",{children:" "})]}),d.jsxs(Jn,{to:"data",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"})}),d.jsx("span",{children:" "})]}),d.jsx("div",{className:"border-t my-2"}),d.jsxs(Jn,{to:"pages",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})}),d.jsx("span",{children:" "})]}),d.jsxs(Jn,{to:"blog",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})}),d.jsx("span",{children:" "})]}),d.jsxs(Jn,{to:"ads",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),d.jsx("span",{children:" "})]}),d.jsxs(Jn,{to:"seo",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),d.jsx("span",{children:"  (SEO)"})]}),d.jsxs(Jn,{to:"settings",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0 3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826 3.31 2.37-2.37.996.608 2.296.096 2.572-1.065z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),d.jsx("span",{children:" "})]})]}),d.jsx("div",{className:"mt-auto pt-4 border-t",children:d.jsxs("button",{onClick:s,className:`${a} ${l} w-full`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),d.jsx("span",{children:" "})]})})]})},vye=()=>{const{loadFullDocuments:t,loading:e}=nn(),{admin:n}=Wv(),{user:r,loading:i}=Ar(),a=Dr().pathname.includes("document-studio");return q.useEffect(()=>{n&&r&&t()},[t,n,r]),e||i?d.jsx("div",{className:"flex justify-center items-center h-screen",children:d.jsx(Ct,{className:"animate-spin text-4xl text-green-600"})}):d.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-start",children:[d.jsx(yye,{}),d.jsx("main",{className:"flex-1 w-full",children:d.jsx("div",{className:`bg-white rounded-lg shadow-lg ${a?"p-0 h-[85vh] overflow-hidden":"p-6 min-h-[60vh]"}`,children:d.jsx(EN,{})})})]})},xye=({children:t})=>{const{admin:e}=Wv();return e?t:d.jsx(gp,{to:"/admin/login",replace:!0})},_ye=()=>{const[t,e]=q.useState(0),[n,r]=q.useState(0),[i,s]=q.useState({DZD:0,USD:0}),[a,o]=q.useState(!0),[l,c]=q.useState(!1),[u,f]=q.useState(""),{refetchAdminData:h}=nn();q.useEffect(()=>{(async()=>{o(!0);try{const[g,y,b]=await Promise.all([BA(),jA(),p9()]),_=g.filter(w=>w.status==="Pending").length;r(_),e(y.length),s(b)}catch(g){console.error("Failed to fetch dashboard data:",g)}finally{o(!1)}})()},[]);const p=async()=>{c(!0),f("     ...");try{await h();const[v,g,y]=await Promise.all([BA(),jA(),p9()]);r(v.filter(b=>b.status==="Pending").length),e(g.length),s(y),f("  !")}catch(v){console.error("Manual refresh failed:",v),f(" .     .")}finally{c(!1),setTimeout(()=>f(""),5e3)}};return d.jsxs("div",{children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"   "}),d.jsxs("button",{onClick:p,disabled:l,className:"flex items-center gap-2 bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-wait",children:[d.jsx(ege,{className:l?"animate-spin":""}),d.jsx("span",{children:l?" ...":" "})]})]}),u&&d.jsx("div",{className:`p-3 mb-4 rounded-md text-center ${u.includes("")?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:u}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"bg-gray-100 p-6 rounded-lg shadow",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:"  "}),a?d.jsx("p",{className:"text-4xl font-bold text-gray-900",children:"..."}):d.jsx("p",{className:"text-4xl font-bold text-gray-900",children:t}),d.jsx(en,{to:"/admin/app/users",className:"text-green-600 hover:underline mt-4 inline-block",children:"  "})]}),d.jsxs("div",{className:"bg-yellow-100 p-6 rounded-lg shadow",children:[d.jsx("h2",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"  "}),a?d.jsx("p",{className:"text-4xl font-bold text-yellow-900",children:"..."}):d.jsx("p",{className:"text-4xl font-bold text-yellow-900",children:n}),d.jsx(en,{to:"/admin/app/billing",className:"text-yellow-700 hover:underline mt-4 inline-block",children:"  "})]}),d.jsxs("div",{className:"bg-green-100 p-6 rounded-lg shadow",children:[d.jsx("h2",{className:"text-lg font-semibold text-green-800 mb-2",children:" ( )"}),a?d.jsx("p",{className:"text-4xl font-bold text-green-900 font-mono",children:"..."}):d.jsxs(d.Fragment,{children:[d.jsxs("p",{className:"text-4xl font-bold text-green-900 font-mono",children:[i.DZD.toLocaleString("ar-DZ")," ",d.jsx("span",{className:"text-2xl",children:""})]}),i.USD>0&&d.jsxs("p",{className:"text-xl font-bold text-green-800 font-mono mt-1",children:["+ ",i.USD.toLocaleString("en-US",{style:"currency",currency:"USD"})]})]}),d.jsx("p",{className:"text-green-700 mt-4",children:i.DZD===0&&i.USD===0?"     .":"    ."})]})]})]})},bye=()=>{const[t,e]=q.useState([]),{cafes:n,loading:r}=nn(),[i,s]=q.useState(!0);q.useEffect(()=>{s(!0),jA().then(e).finally(()=>s(!1))},[]);const a=(l,c)=>{let u="";c==="Suspended"&&(u=prompt("    :")||"   ."),e(f=>f.map(h=>h.id===l?{...h,status:c,suspensionReason:c==="Suspended"?u:void 0}:h))},o=l=>{switch(l){case"Active":return d.jsx("span",{className:"px-3 py-1 text-xs font-semibold text-green-800 bg-green-200 rounded-full",children:""});case"Suspended":return d.jsx("span",{className:"px-3 py-1 text-xs font-semibold text-red-800 bg-red-200 rounded-full",children:""})}};return r||i?d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(Ct,{className:"animate-spin text-4xl text-green-600"})}):d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:" "}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:t.map(l=>{const c=n.find(u=>u.id===l.cafeId);return d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:(c==null?void 0:c.name)||" "}),d.jsx("td",{className:"p-3 text-gray-600",children:l.email}),d.jsx("td",{className:"p-3",title:l.suspensionReason,children:o(l.status)}),d.jsx("td",{className:"p-3",children:l.status==="Active"?d.jsx("button",{onClick:()=>a(l.id,"Suspended"),className:"text-red-600 hover:underline text-sm font-semibold",children:""}):d.jsx("button",{onClick:()=>a(l.id,"Active"),className:"text-green-600 hover:underline text-sm font-semibold",children:" "})})]},l.id)})})]})})})]})},wye=()=>{const[t,e]=q.useState([]),[n,r]=q.useState([]),[i,s]=q.useState(!0),[a,o]=q.useState(0);q.useEffect(()=>{(async()=>{s(!0);try{const[h,p]=await Promise.all([BA(),Tme()]);e(h),r(p)}catch(h){console.error("Failed to fetch admin billing data:",h),alert("    .")}finally{s(!1)}})()},[a]);const l=async f=>{if(window.confirm(`           ${f.amount} ${f.currency}  "${f.userCafeName}"`))try{const p=await Eme(f);if(p.success)alert("      !"),o(v=>v+1);else throw new Error(p.message)}catch(p){console.error("Failed to approve payment:",p),alert(`  : ${p.message}`)}},c=f=>{switch(f){case"Pending":return d.jsx("span",{className:"px-3 py-1 text-xs font-semibold text-yellow-800 bg-yellow-200 rounded-full",children:""});case"Approved":return d.jsx("span",{className:"px-3 py-1 text-xs font-semibold text-green-800 bg-green-200 rounded-full",children:" "})}},u=f=>{switch(f){case"Paid":return d.jsx("span",{className:"px-2 py-1 text-xs font-medium text-green-800 bg-green-100 rounded-full",children:""});case"Pending":return d.jsx("span",{className:"px-2 py-1 text-xs font-medium text-yellow-800 bg-yellow-100 rounded-full",children:"  "})}};return i?d.jsx("div",{children:"  ..."}):d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"    "}),d.jsxs("div",{className:"bg-white p-4 rounded-lg border shadow-sm mb-8",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"   "}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:":  PayPal        PayPal    ."}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:t.length>0?t.map(f=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:f.userCafeName}),d.jsx("td",{className:"p-3 text-gray-600",children:(typeof f.date=="string"?new Date(f.date):f.date.toDate()).toLocaleDateString("ar-DZ")}),d.jsxs("td",{className:"p-3 text-gray-800 font-mono",children:[f.amount.toLocaleString()," ",f.currency==="USD"?"$":""]}),d.jsx("td",{className:"p-3 text-gray-600",children:f.method}),d.jsx("td",{className:"p-3",children:f.proofOfPaymentUrl?d.jsx("a",{href:yi(f.proofOfPaymentUrl),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm font-semibold",children:" "}):d.jsx("span",{className:"text-gray-400 text-xs",children:" "})}),d.jsx("td",{className:"p-3",children:c(f.status)}),d.jsx("td",{className:"p-3",children:f.status==="Pending"&&d.jsx("button",{onClick:()=>l(f),className:"bg-green-600 text-white font-semibold py-1 px-3 rounded-md hover:bg-green-700",children:""})})]},f.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:7,className:"text-center p-6 text-gray-500",children:"     ."})})})]})})]}),d.jsxs("div",{className:"bg-white p-4 rounded-lg border shadow-sm",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"  "}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:n.length>0?n.map(f=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:f.userCafeName||" "}),d.jsx("td",{className:"p-3 text-gray-600",children:(typeof f.date=="string"?new Date(f.date):f.date.toDate()).toLocaleDateString("ar-DZ")}),d.jsxs("td",{className:"p-3 text-gray-800 font-mono",children:[f.amount.toLocaleString()," ",f.currency==="USD"?"$":""]}),d.jsx("td",{className:"p-3",children:u(f.status)})]},f.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:4,className:"text-center p-6 text-gray-500",children:"    ."})})})]})})]})]})},Tye=()=>{const{siteSettings:t}=nn(),[e,n]=q.useState(t||In),[r,i]=q.useState(""),[s,a]=q.useState({current:"",new:"",confirm:""}),[o,l]=q.useState(!1);q.useEffect(()=>{if(t){const f={...In,...t,payment:{...In.payment,...t.payment||{}},pricing:{...In.pricing,...t.pricing||{}},seo:{...In.seo,...t.seo||{}},social:{...In.social,...t.social||{}},ads:{...In.ads,...t.ads||{}},ai:{...In.ai,...t.ai||{}}};n(f)}},[t]);const c=f=>{const{name:h,value:p,type:v,checked:g}=f.target,y=h.split("."),b=v==="checkbox"?g:v==="number"?parseFloat(p)||0:p;n(_=>{if(!_)return In;const w=JSON.parse(JSON.stringify(_));if(y.length===3){const[C,S,R]=y;w[C]||(w[C]={}),w[C][S]||(w[C][S]={}),w[C][S][R]=b}else if(y.length===2){const[C,S]=y;w[C]||(w[C]={}),w[C][S]=b}return w})},u=async f=>{if(f.preventDefault(),!!e){l(!0),i("");try{const h={payment:e.payment,pricing:e.pricing,ads:e.ads,ai:e.ai};await _H(h),i("    !")}catch(h){console.error("Error saving settings:",h),alert("    .     .")}finally{l(!1),setTimeout(()=>i(""),5e3)}}};return e?d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:" "}),r&&d.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-md relative mb-6",role:"alert",children:d.jsx("span",{className:"block sm:inline",children:r})}),d.jsxs("form",{onSubmit:u,className:"space-y-8 bg-white p-8 rounded-lg border",children:[d.jsxs("fieldset",{className:"border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-lg text-gray-700",children:" "}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-4",children:[d.jsxs("div",{className:"space-y-2 p-3 bg-gray-50 rounded-md",children:[d.jsx("h3",{className:"font-medium text-gray-600",children:"  "}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-500",children:" "}),d.jsx("input",{type:"number",name:"pricing.dynamicDocument.dzd",value:e.pricing.dynamicDocument.dzd,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-500",children:" "}),d.jsx("input",{type:"number",name:"pricing.dynamicDocument.usd",value:e.pricing.dynamicDocument.usd,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]})]}),d.jsxs("div",{className:"space-y-2 p-3 bg-gray-50 rounded-md",children:[d.jsx("h3",{className:"font-medium text-gray-600",children:"  "}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-500",children:" "}),d.jsx("input",{type:"number",name:"pricing.siteFormFill.dzd",value:e.pricing.siteFormFill.dzd,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-500",children:" "}),d.jsx("input",{type:"number",name:"pricing.siteFormFill.usd",value:e.pricing.siteFormFill.usd,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]})]}),d.jsxs("div",{className:"space-y-2 p-3 bg-gray-50 rounded-md",children:[d.jsx("h3",{className:"font-medium text-gray-600",children:"  "}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-500",children:" "}),d.jsx("input",{type:"number",name:"pricing.staticDocumentDownload.dzd",value:e.pricing.staticDocumentDownload.dzd,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-500",children:" "}),d.jsx("input",{type:"number",name:"pricing.staticDocumentDownload.usd",value:e.pricing.staticDocumentDownload.usd,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]})]})]})]}),d.jsxs("fieldset",{className:"border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-lg text-gray-700",children:" "}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:" CCP"}),d.jsx("input",{type:"text",name:"payment.ccp",value:e.payment.ccp,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"BaridiMob ( )"}),d.jsx("input",{type:"text",name:"payment.baridiMob",value:e.payment.baridiMob,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:" PayPal"}),d.jsx("input",{type:"email",name:"payment.paypalEmail",value:e.payment.paypalEmail,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"  (1 USD = ? DZD)"}),d.jsx("input",{type:"number",name:"payment.exchangeRate",value:e.payment.exchangeRate,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]}),d.jsx("div",{className:"md:col-span-2",children:d.jsxs("label",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",name:"payment.paypalEnabled",checked:e.payment.paypalEnabled,onChange:c,className:"h-4 w-4"}),d.jsx("span",{children:"   PayPal ( )"})]})})]})]}),d.jsxs("fieldset",{className:"border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-lg text-gray-700",children:"   (Gemini)"}),d.jsxs("div",{className:"space-y-4 mt-2",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:" API   (Master Key)"}),d.jsx("input",{type:"password",name:"ai.apiKey",value:e.ai.apiKey||"",onChange:c,placeholder:"  Gemini API   ",className:"mt-1 block w-full p-2 border rounded-md"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'      .         "secret"   Cloudflare Worker       .'})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",name:"ai.useAdminKey",checked:e.ai.useAdminKey||!1,onChange:c,className:"h-4 w-4"}),d.jsx("span",{children:"    "})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"                  API     .         ."})]})]})]}),d.jsx("div",{className:"flex justify-end pt-6 border-t mt-8",children:d.jsx("button",{type:"submit",disabled:o,className:"bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700 transition-colors disabled:bg-gray-400",children:o?" ...":" "})})]})]}):d.jsx("div",{children:"  ..."})},Eo=t=>t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):"",Eye=(t,e,n,r,i)=>{var k,F,P,I;const s=i==="ar"?"rtl":"ltr",a=t==="default",o=a?"dz":t,l=((k=e==null?void 0:e.seo)==null?void 0:k[t])||((F=e==null?void 0:e.seo)==null?void 0:F.default)||In.seo.default;(P=e==null?void 0:e.social)!=null&&P[t]||(I=e==null?void 0:e.social)!=null&&I.default||In.social.default;const c=$m(i),u=`${l.siteName} ${l.titleSeparator} ${l.tagline}`,f=l.metaDescription,h=String(l.mainPageTitle),p=String(l.mainPageSubtitle),v="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEimLwMLs6qcyccDKdYEHdje2p1XUaPI8S-9PAJYncZ3wzSoXugwzzDao7WN8Sf20JrNVWgqaZQ5ccW1qCjeGWWK4lSmIKMLrSzQ271AUWJ0SkxU-QozTrUR7weQOk4sJBRohL_82XOZKKsyKla87ptSbvzjJn6tgDwb2qU-vHpDGxE1tX3fyG5Jqiev-nY/w640-h640/64b156e3-b2fb-4528-8151-80f70afdc68f.jpg",g=`https://gitut.com/${a?"":t+"/"}`,y=`<script async src="https://www.googletagmanager.com/gtag/js?id=G-2BKKWGCXWX"><\/script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('config','G-2BKKWGCXWX');<\/script>`,b=`
      <header class="bg-white shadow-md">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
          <a href="/${a?"":o+"/"}" class="flex items-center gap-3">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-green-600" viewBox="0 0 24 24" fill="currentColor"><path d="M14 2H6C4.9 2 4 2.9 4 4V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V8L14 2ZM18 20H6V4H13V9H18V20Z"/></svg>
            <span class="text-2xl font-bold text-gray-900" dir="ltr">Gitut</span>
          </a>
          <nav class="flex items-center gap-6">
            <a href="/${o}/" class="text-gray-700 hover:text-green-600 font-semibold">${c("header.search")}</a>
            <a href="/${o}/login/" class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700">${c("header.login")}</a>
          </nav>
        </div>
      </header>
    `,w=n.filter(U=>U.enabled&&(U.lang===i||!U.lang&&i==="ar")).map(U=>`<a href="/${o}/page/${U.slug}/" class="hover:text-green-600 hover:underline">${Eo(U.title)}</a>`).join(""),C=r.some(U=>U.enabled&&U.content&&U.content[i]),S=i==="ar"?"/blog/":`/blog/${i}/`,R=C?`<a href="${S}" class="hover:text-green-600 hover:underline">${c("footer.blog")}</a>`:"",D=`
      <footer class="bg-white border-t mt-auto">
        <div class="container mx-auto px-4 py-8 text-center">
          <nav class="flex flex-wrap justify-center gap-x-6 gap-y-2 text-gray-600 mb-4">
            ${w}
            <a href="/${o}/services/" class="hover:text-green-600 hover:underline">${c("footer.services")}</a>
            ${R}
          </nav>
          <p class="text-gray-500 text-sm">&copy; ${new Date().getFullYear()} ${Eo(l.siteName)}. ${c("footer.rightsReserved")}</p>
        </div>
      </footer>
    `,N=`
      <div class="flex flex-col min-h-screen bg-gray-100">
        ${b}
        <main class="flex-grow container mx-auto px-4 py-8">
          <section class="text-center p-8 md:p-10 bg-white rounded-xl shadow-lg">
            <h1 class="text-3xl md:text-4xl font-bold text-gray-900 mb-2">${Eo(h)}</h1>
            <p class="text-base md:text-lg text-gray-700 max-w-3xl mx-auto">${Eo(p)}</p>
          </section>
          <div id="root" class="mt-8">
            <p class="text-center text-gray-500">   ...</p>
          </div>
        </main>
        ${D}
      </div>
    `;return`
      <!DOCTYPE html>
      <html lang="${i}" dir="${s}">
      <head>
          <meta charset="UTF-8" />
          <meta name="viewport" content="width=device-width, initial-scale=1.0" />
          <title>${Eo(u)}</title>
          <meta name="description" content="${Eo(f)}" />
          <meta property="og:type" content="website"><meta property="og:url" content="${g}"><meta property="og:title" content="${Eo(u)}"><meta property="og:description" content="${Eo(f)}"><meta property="og:image" content="${v}"><meta property="og:image:secure_url" content="${v}"><meta property="og:image:width" content="640"><meta property="og:image:height" content="640"><meta property="og:site_name" content="${Eo(l.siteName)}">
          <meta name="twitter:card" content="summary_large_image"><meta name="twitter:url" content="${g}"><meta name="twitter:title" content="${Eo(u)}"><meta name="twitter:description" content="${Eo(f)}"><meta name="twitter:image" content="${v}">
          <link rel="icon" type="image/png" href="https://cyber-m.pages.dev/data/image/icon.png">
          <link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
          <script src="https://cdn.tailwindcss.com/3.4.1"><\/script>
          <style>body { font-family: 'Cairo', sans-serif; }</style>
          ${y}
          <script type="module">import("/index.tsx");<\/script>
      </head>
      <body class="bg-gray-100">${N}</body>
      </html>
    `},Cye=()=>{var _,w,C,S;const{siteSettings:t,pages:e,blogPosts:n}=nn(),[r,i]=q.useState(In),[s,a]=q.useState(""),[o,l]=q.useState(!1),[c,u]=q.useState("default"),[f,h]=q.useState(new Set);q.useEffect(()=>{i(t?{...In,...t,seo:{...In.seo,...t.seo||{}},social:{...In.social,...t.social||{}}}:In)},[t]);const p=(R,D)=>{const{name:N,value:k}=R.target;h(F=>new Set(F).add(c)),i(F=>{const P=JSON.parse(JSON.stringify(F));return D==="seo"?(P.seo||(P.seo={}),P.seo[c]||(P.seo[c]={...In.seo.default}),P.seo[c][N]=k):(P.social||(P.social={}),P.social[c]||(P.social[c]={...In.social.default}),P.social[c][N]=k),P})},v=async R=>{if(R.preventDefault(),!!r){l(!0),a("");try{await _H({seo:r.seo,social:r.social}),a("     .    ...");const D=[],N=Array.from(f);for(const k of N){const F=rd(k==="default"?"dz":k),P=Eye(k,r,e,n,F),I=k==="default"?"dist/index.html":`dist/${k}/index.html`;D.push({path:I,content:P})}D.length>0?(await cu({files:D,commitMessage:`feat(static): Update homepages for ${N.join(", ")}`}),a(`   ${D.length}   !`)):a("  .    ."),h(new Set)}catch(D){console.error("Error saving settings:",D),alert("     .")}finally{l(!1),setTimeout(()=>a(""),5e3)}}};if(!r)return d.jsx("div",{className:"flex justify-center p-8",children:d.jsx(Ct,{className:"animate-spin text-2xl"})});const g=((_=r.seo)==null?void 0:_[c])||((w=r.seo)==null?void 0:w.default)||In.seo.default,y=((C=r.social)==null?void 0:C[c])||((S=r.social)==null?void 0:S.default)||In.social.default,b=[{code:"default",name:"Default"},...ks.en];return d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"  (SEO)"}),s&&d.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-md relative mb-6",role:"alert",children:d.jsx("span",{className:"block sm:inline",children:s})}),d.jsx("div",{className:"mb-6 border-b border-gray-200",children:d.jsx("nav",{className:"flex flex-wrap -mb-px","aria-label":"Tabs",children:b.map(R=>d.jsx("button",{onClick:()=>u(R.code),className:`whitespace-nowrap py-3 px-4 border-b-2 font-medium text-sm
                                ${c===R.code?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:R.name},R.code))})}),d.jsxs("form",{onSubmit:v,className:"space-y-8 bg-white p-8 rounded-lg border",children:[d.jsxs("fieldset",{className:"border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-lg text-gray-700",children:"   SEO"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-2",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",name:"siteName",value:g.siteName||"",onChange:R=>p(R,"seo"),className:"block w-full px-3 py-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  (Tagline)"}),d.jsx("input",{type:"text",name:"tagline",value:g.tagline||"",onChange:R=>p(R,"seo"),className:"block w-full px-3 py-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",name:"titleSeparator",value:g.titleSeparator||"",onChange:R=>p(R,"seo"),className:"block w-full max-w-xs px-3 py-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  (Meta Description)"}),d.jsx("textarea",{name:"metaDescription",rows:2,value:g.metaDescription||"",onChange:R=>p(R,"seo"),className:"block w-full px-3 py-2 border border-gray-300 rounded-md"})]})]})]}),d.jsxs("fieldset",{className:"border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-lg text-gray-700",children:"  "}),d.jsxs("div",{className:"space-y-4 mt-2",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  (  1)"}),d.jsx("input",{type:"text",name:"mainPageTitle",value:g.mainPageTitle||"",onChange:R=>p(R,"seo"),className:"block w-full px-3 py-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  (  2)"}),d.jsx("textarea",{name:"mainPageSubtitle",rows:3,value:g.mainPageSubtitle||"",onChange:R=>p(R,"seo"),className:"block w-full px-3 py-2 border border-gray-300 rounded-md"})]})]})]}),d.jsxs("fieldset",{className:"border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-lg text-gray-700",children:"  "}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-2",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"url",name:"facebook",value:y.facebook||"",onChange:R=>p(R,"social"),placeholder:"https://facebook.com/yourpage",className:"block w-full px-3 py-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"url",name:"twitter",value:y.twitter||"",onChange:R=>p(R,"social"),placeholder:"https://twitter.com/yourprofile",className:"block w-full px-3 py-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"url",name:"instagram",value:y.instagram||"",onChange:R=>p(R,"social"),placeholder:"https://instagram.com/yourprofile",className:"block w-full px-3 py-2 border border-gray-300 rounded-md"})]})]})]}),d.jsx("div",{className:"flex justify-end pt-6 border-t",children:d.jsxs("button",{type:"submit",disabled:o,className:"flex items-center gap-2 bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:[o?d.jsx(Ct,{className:"animate-spin"}):null,o?"  ...":"  "]})})]})]})};var wC,M9;function Sye(){if(M9)return wC;M9=1;function t(){this.__data__=[],this.size=0}return wC=t,wC}var TC,U9;function gG(){if(U9)return TC;U9=1;function t(e,n){return e===n||e!==e&&n!==n}return TC=t,TC}var EC,O9;function Tw(){if(O9)return EC;O9=1;var t=gG();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return EC=e,EC}var CC,L9;function Dye(){if(L9)return CC;L9=1;var t=Tw(),e=Array.prototype,n=e.splice;function r(i){var s=this.__data__,a=t(s,i);if(a<0)return!1;var o=s.length-1;return a==o?s.pop():n.call(s,a,1),--this.size,!0}return CC=r,CC}var SC,j9;function Aye(){if(j9)return SC;j9=1;var t=Tw();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return SC=e,SC}var DC,B9;function Nye(){if(B9)return DC;B9=1;var t=Tw();function e(n){return t(this.__data__,n)>-1}return DC=e,DC}var AC,V9;function Iye(){if(V9)return AC;V9=1;var t=Tw();function e(n,r){var i=this.__data__,s=t(i,n);return s<0?(++this.size,i.push([n,r])):i[s][1]=r,this}return AC=e,AC}var NC,W9;function Ew(){if(W9)return NC;W9=1;var t=Sye(),e=Dye(),n=Aye(),r=Nye(),i=Iye();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var c=a[o];this.set(c[0],c[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,NC=s,NC}var IC,q9;function kye(){if(q9)return IC;q9=1;var t=Ew();function e(){this.__data__=new t,this.size=0}return IC=e,IC}var kC,$9;function Rye(){if($9)return kC;$9=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return kC=t,kC}var RC,z9;function Pye(){if(z9)return RC;z9=1;function t(e){return this.__data__.get(e)}return RC=t,RC}var PC,H9;function Fye(){if(H9)return PC;H9=1;function t(e){return this.__data__.has(e)}return PC=t,PC}var FC,G9;function yG(){if(G9)return FC;G9=1;var t=typeof hs=="object"&&hs&&hs.Object===Object&&hs;return FC=t,FC}var MC,K9;function Dc(){if(K9)return MC;K9=1;var t=yG(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return MC=n,MC}var UC,X9;function uk(){if(X9)return UC;X9=1;var t=Dc(),e=t.Symbol;return UC=e,UC}var OC,J9;function Mye(){if(J9)return OC;J9=1;var t=uk(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function s(a){var o=n.call(a,i),l=a[i];try{a[i]=void 0;var c=!0}catch{}var u=r.call(a);return c&&(o?a[i]=l:delete a[i]),u}return OC=s,OC}var LC,Y9;function Uye(){if(Y9)return LC;Y9=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return LC=n,LC}var jC,Q9;function Cw(){if(Q9)return jC;Q9=1;var t=uk(),e=Mye(),n=Uye(),r="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function a(o){return o==null?o===void 0?i:r:s&&s in Object(o)?e(o):n(o)}return jC=a,jC}var BC,Z9;function vG(){if(Z9)return BC;Z9=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return BC=t,BC}var VC,e7;function xG(){if(e7)return VC;e7=1;var t=Cw(),e=vG(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function a(o){if(!e(o))return!1;var l=t(o);return l==r||l==i||l==n||l==s}return VC=a,VC}var WC,t7;function Oye(){if(t7)return WC;t7=1;var t=Dc(),e=t["__core-js_shared__"];return WC=e,WC}var qC,n7;function Lye(){if(n7)return qC;n7=1;var t=Oye(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return qC=n,qC}var $C,r7;function _G(){if(r7)return $C;r7=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return $C=n,$C}var zC,i7;function jye(){if(i7)return zC;i7=1;var t=xG(),e=Lye(),n=vG(),r=_G(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,a=Function.prototype,o=Object.prototype,l=a.toString,c=o.hasOwnProperty,u=RegExp("^"+l.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(h){if(!n(h)||e(h))return!1;var p=t(h)?u:s;return p.test(r(h))}return zC=f,zC}var HC,s7;function Bye(){if(s7)return HC;s7=1;function t(e,n){return e==null?void 0:e[n]}return HC=t,HC}var GC,a7;function Gm(){if(a7)return GC;a7=1;var t=jye(),e=Bye();function n(r,i){var s=e(r,i);return t(s)?s:void 0}return GC=n,GC}var KC,o7;function dk(){if(o7)return KC;o7=1;var t=Gm(),e=Dc(),n=t(e,"Map");return KC=n,KC}var XC,l7;function Sw(){if(l7)return XC;l7=1;var t=Gm(),e=t(Object,"create");return XC=e,XC}var JC,c7;function Vye(){if(c7)return JC;c7=1;var t=Sw();function e(){this.__data__=t?t(null):{},this.size=0}return JC=e,JC}var YC,u7;function Wye(){if(u7)return YC;u7=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return YC=t,YC}var QC,d7;function qye(){if(d7)return QC;d7=1;var t=Sw(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(s){var a=this.__data__;if(t){var o=a[s];return o===e?void 0:o}return r.call(a,s)?a[s]:void 0}return QC=i,QC}var ZC,f7;function $ye(){if(f7)return ZC;f7=1;var t=Sw(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var s=this.__data__;return t?s[i]!==void 0:n.call(s,i)}return ZC=r,ZC}var eS,h7;function zye(){if(h7)return eS;h7=1;var t=Sw(),e="__lodash_hash_undefined__";function n(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=t&&i===void 0?e:i,this}return eS=n,eS}var tS,p7;function Hye(){if(p7)return tS;p7=1;var t=Vye(),e=Wye(),n=qye(),r=$ye(),i=zye();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var c=a[o];this.set(c[0],c[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,tS=s,tS}var nS,m7;function Gye(){if(m7)return nS;m7=1;var t=Hye(),e=Ew(),n=dk();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return nS=r,nS}var rS,g7;function Kye(){if(g7)return rS;g7=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return rS=t,rS}var iS,y7;function Dw(){if(y7)return iS;y7=1;var t=Kye();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return iS=e,iS}var sS,v7;function Xye(){if(v7)return sS;v7=1;var t=Dw();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return sS=e,sS}var aS,x7;function Jye(){if(x7)return aS;x7=1;var t=Dw();function e(n){return t(this,n).get(n)}return aS=e,aS}var oS,_7;function Yye(){if(_7)return oS;_7=1;var t=Dw();function e(n){return t(this,n).has(n)}return oS=e,oS}var lS,b7;function Qye(){if(b7)return lS;b7=1;var t=Dw();function e(n,r){var i=t(this,n),s=i.size;return i.set(n,r),this.size+=i.size==s?0:1,this}return lS=e,lS}var cS,w7;function bG(){if(w7)return cS;w7=1;var t=Gye(),e=Xye(),n=Jye(),r=Yye(),i=Qye();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var c=a[o];this.set(c[0],c[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,cS=s,cS}var uS,T7;function Zye(){if(T7)return uS;T7=1;var t=Ew(),e=dk(),n=bG(),r=200;function i(s,a){var o=this.__data__;if(o instanceof t){var l=o.__data__;if(!e||l.length<r-1)return l.push([s,a]),this.size=++o.size,this;o=this.__data__=new n(l)}return o.set(s,a),this.size=o.size,this}return uS=i,uS}var dS,E7;function eve(){if(E7)return dS;E7=1;var t=Ew(),e=kye(),n=Rye(),r=Pye(),i=Fye(),s=Zye();function a(o){var l=this.__data__=new t(o);this.size=l.size}return a.prototype.clear=e,a.prototype.delete=n,a.prototype.get=r,a.prototype.has=i,a.prototype.set=s,dS=a,dS}var fS,C7;function tve(){if(C7)return fS;C7=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return fS=e,fS}var hS,S7;function nve(){if(S7)return hS;S7=1;function t(e){return this.__data__.has(e)}return hS=t,hS}var pS,D7;function rve(){if(D7)return pS;D7=1;var t=bG(),e=tve(),n=nve();function r(i){var s=-1,a=i==null?0:i.length;for(this.__data__=new t;++s<a;)this.add(i[s])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,pS=r,pS}var mS,A7;function ive(){if(A7)return mS;A7=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return mS=t,mS}var gS,N7;function sve(){if(N7)return gS;N7=1;function t(e,n){return e.has(n)}return gS=t,gS}var yS,I7;function wG(){if(I7)return yS;I7=1;var t=rve(),e=ive(),n=sve(),r=1,i=2;function s(a,o,l,c,u,f){var h=l&r,p=a.length,v=o.length;if(p!=v&&!(h&&v>p))return!1;var g=f.get(a),y=f.get(o);if(g&&y)return g==o&&y==a;var b=-1,_=!0,w=l&i?new t:void 0;for(f.set(a,o),f.set(o,a);++b<p;){var C=a[b],S=o[b];if(c)var R=h?c(S,C,b,o,a,f):c(C,S,b,a,o,f);if(R!==void 0){if(R)continue;_=!1;break}if(w){if(!e(o,function(D,N){if(!n(w,N)&&(C===D||u(C,D,l,c,f)))return w.push(N)})){_=!1;break}}else if(!(C===S||u(C,S,l,c,f))){_=!1;break}}return f.delete(a),f.delete(o),_}return yS=s,yS}var vS,k7;function ave(){if(k7)return vS;k7=1;var t=Dc(),e=t.Uint8Array;return vS=e,vS}var xS,R7;function ove(){if(R7)return xS;R7=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,s){r[++n]=[s,i]}),r}return xS=t,xS}var _S,P7;function lve(){if(P7)return _S;P7=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return _S=t,_S}var bS,F7;function cve(){if(F7)return bS;F7=1;var t=uk(),e=ave(),n=gG(),r=wG(),i=ove(),s=lve(),a=1,o=2,l="[object Boolean]",c="[object Date]",u="[object Error]",f="[object Map]",h="[object Number]",p="[object RegExp]",v="[object Set]",g="[object String]",y="[object Symbol]",b="[object ArrayBuffer]",_="[object DataView]",w=t?t.prototype:void 0,C=w?w.valueOf:void 0;function S(R,D,N,k,F,P,I){switch(N){case _:if(R.byteLength!=D.byteLength||R.byteOffset!=D.byteOffset)return!1;R=R.buffer,D=D.buffer;case b:return!(R.byteLength!=D.byteLength||!P(new e(R),new e(D)));case l:case c:case h:return n(+R,+D);case u:return R.name==D.name&&R.message==D.message;case p:case g:return R==D+"";case f:var U=i;case v:var O=k&a;if(U||(U=s),R.size!=D.size&&!O)return!1;var K=I.get(R);if(K)return K==D;k|=o,I.set(R,D);var X=r(U(R),U(D),k,F,P,I);return I.delete(R),X;case y:if(C)return C.call(R)==C.call(D)}return!1}return bS=S,bS}var wS,M7;function uve(){if(M7)return wS;M7=1;function t(e,n){for(var r=-1,i=n.length,s=e.length;++r<i;)e[s+r]=n[r];return e}return wS=t,wS}var TS,U7;function fk(){if(U7)return TS;U7=1;var t=Array.isArray;return TS=t,TS}var ES,O7;function dve(){if(O7)return ES;O7=1;var t=uve(),e=fk();function n(r,i,s){var a=i(r);return e(r)?a:t(a,s(r))}return ES=n,ES}var CS,L7;function fve(){if(L7)return CS;L7=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=0,a=[];++r<i;){var o=e[r];n(o,r,e)&&(a[s++]=o)}return a}return CS=t,CS}var SS,j7;function hve(){if(j7)return SS;j7=1;function t(){return[]}return SS=t,SS}var DS,B7;function pve(){if(B7)return DS;B7=1;var t=fve(),e=hve(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(a){return a==null?[]:(a=Object(a),t(i(a),function(o){return r.call(a,o)}))}:e;return DS=s,DS}var AS,V7;function mve(){if(V7)return AS;V7=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return AS=t,AS}var NS,W7;function Aw(){if(W7)return NS;W7=1;function t(e){return e!=null&&typeof e=="object"}return NS=t,NS}var IS,q7;function gve(){if(q7)return IS;q7=1;var t=Cw(),e=Aw(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return IS=r,IS}var kS,$7;function yve(){if($7)return kS;$7=1;var t=gve(),e=Aw(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,s=t((function(){return arguments})())?t:function(a){return e(a)&&r.call(a,"callee")&&!i.call(a,"callee")};return kS=s,kS}var b0={exports:{}},RS,z7;function vve(){if(z7)return RS;z7=1;function t(){return!1}return RS=t,RS}b0.exports;var H7;function TG(){return H7||(H7=1,(function(t,e){var n=Dc(),r=vve(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===i,o=a?n.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||r;t.exports=c})(b0,b0.exports)),b0.exports}var PS,G7;function xve(){if(G7)return PS;G7=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var s=typeof r;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return PS=n,PS}var FS,K7;function EG(){if(K7)return FS;K7=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return FS=e,FS}var MS,X7;function _ve(){if(X7)return MS;X7=1;var t=Cw(),e=EG(),n=Aw(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",a="[object Date]",o="[object Error]",l="[object Function]",c="[object Map]",u="[object Number]",f="[object Object]",h="[object RegExp]",p="[object Set]",v="[object String]",g="[object WeakMap]",y="[object ArrayBuffer]",b="[object DataView]",_="[object Float32Array]",w="[object Float64Array]",C="[object Int8Array]",S="[object Int16Array]",R="[object Int32Array]",D="[object Uint8Array]",N="[object Uint8ClampedArray]",k="[object Uint16Array]",F="[object Uint32Array]",P={};P[_]=P[w]=P[C]=P[S]=P[R]=P[D]=P[N]=P[k]=P[F]=!0,P[r]=P[i]=P[y]=P[s]=P[b]=P[a]=P[o]=P[l]=P[c]=P[u]=P[f]=P[h]=P[p]=P[v]=P[g]=!1;function I(U){return n(U)&&e(U.length)&&!!P[t(U)]}return MS=I,MS}var US,J7;function bve(){if(J7)return US;J7=1;function t(e){return function(n){return e(n)}}return US=t,US}var w0={exports:{}};w0.exports;var Y7;function wve(){return Y7||(Y7=1,(function(t,e){var n=yG(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,a=s&&n.process,o=(function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}})();t.exports=o})(w0,w0.exports)),w0.exports}var OS,Q7;function CG(){if(Q7)return OS;Q7=1;var t=_ve(),e=bve(),n=wve(),r=n&&n.isTypedArray,i=r?e(r):t;return OS=i,OS}var LS,Z7;function Tve(){if(Z7)return LS;Z7=1;var t=mve(),e=yve(),n=fk(),r=TG(),i=xve(),s=CG(),a=Object.prototype,o=a.hasOwnProperty;function l(c,u){var f=n(c),h=!f&&e(c),p=!f&&!h&&r(c),v=!f&&!h&&!p&&s(c),g=f||h||p||v,y=g?t(c.length,String):[],b=y.length;for(var _ in c)(u||o.call(c,_))&&!(g&&(_=="length"||p&&(_=="offset"||_=="parent")||v&&(_=="buffer"||_=="byteLength"||_=="byteOffset")||i(_,b)))&&y.push(_);return y}return LS=l,LS}var jS,eM;function Eve(){if(eM)return jS;eM=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return jS=e,jS}var BS,tM;function Cve(){if(tM)return BS;tM=1;function t(e,n){return function(r){return e(n(r))}}return BS=t,BS}var VS,nM;function Sve(){if(nM)return VS;nM=1;var t=Cve(),e=t(Object.keys,Object);return VS=e,VS}var WS,rM;function Dve(){if(rM)return WS;rM=1;var t=Eve(),e=Sve(),n=Object.prototype,r=n.hasOwnProperty;function i(s){if(!t(s))return e(s);var a=[];for(var o in Object(s))r.call(s,o)&&o!="constructor"&&a.push(o);return a}return WS=i,WS}var qS,iM;function Ave(){if(iM)return qS;iM=1;var t=xG(),e=EG();function n(r){return r!=null&&e(r.length)&&!t(r)}return qS=n,qS}var $S,sM;function Nve(){if(sM)return $S;sM=1;var t=Tve(),e=Dve(),n=Ave();function r(i){return n(i)?t(i):e(i)}return $S=r,$S}var zS,aM;function Ive(){if(aM)return zS;aM=1;var t=dve(),e=pve(),n=Nve();function r(i){return t(i,n,e)}return zS=r,zS}var HS,oM;function kve(){if(oM)return HS;oM=1;var t=Ive(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(s,a,o,l,c,u){var f=o&e,h=t(s),p=h.length,v=t(a),g=v.length;if(p!=g&&!f)return!1;for(var y=p;y--;){var b=h[y];if(!(f?b in a:r.call(a,b)))return!1}var _=u.get(s),w=u.get(a);if(_&&w)return _==a&&w==s;var C=!0;u.set(s,a),u.set(a,s);for(var S=f;++y<p;){b=h[y];var R=s[b],D=a[b];if(l)var N=f?l(D,R,b,a,s,u):l(R,D,b,s,a,u);if(!(N===void 0?R===D||c(R,D,o,l,u):N)){C=!1;break}S||(S=b=="constructor")}if(C&&!S){var k=s.constructor,F=a.constructor;k!=F&&"constructor"in s&&"constructor"in a&&!(typeof k=="function"&&k instanceof k&&typeof F=="function"&&F instanceof F)&&(C=!1)}return u.delete(s),u.delete(a),C}return HS=i,HS}var GS,lM;function Rve(){if(lM)return GS;lM=1;var t=Gm(),e=Dc(),n=t(e,"DataView");return GS=n,GS}var KS,cM;function Pve(){if(cM)return KS;cM=1;var t=Gm(),e=Dc(),n=t(e,"Promise");return KS=n,KS}var XS,uM;function Fve(){if(uM)return XS;uM=1;var t=Gm(),e=Dc(),n=t(e,"Set");return XS=n,XS}var JS,dM;function Mve(){if(dM)return JS;dM=1;var t=Gm(),e=Dc(),n=t(e,"WeakMap");return JS=n,JS}var YS,fM;function Uve(){if(fM)return YS;fM=1;var t=Rve(),e=dk(),n=Pve(),r=Fve(),i=Mve(),s=Cw(),a=_G(),o="[object Map]",l="[object Object]",c="[object Promise]",u="[object Set]",f="[object WeakMap]",h="[object DataView]",p=a(t),v=a(e),g=a(n),y=a(r),b=a(i),_=s;return(t&&_(new t(new ArrayBuffer(1)))!=h||e&&_(new e)!=o||n&&_(n.resolve())!=c||r&&_(new r)!=u||i&&_(new i)!=f)&&(_=function(w){var C=s(w),S=C==l?w.constructor:void 0,R=S?a(S):"";if(R)switch(R){case p:return h;case v:return o;case g:return c;case y:return u;case b:return f}return C}),YS=_,YS}var QS,hM;function Ove(){if(hM)return QS;hM=1;var t=eve(),e=wG(),n=cve(),r=kve(),i=Uve(),s=fk(),a=TG(),o=CG(),l=1,c="[object Arguments]",u="[object Array]",f="[object Object]",h=Object.prototype,p=h.hasOwnProperty;function v(g,y,b,_,w,C){var S=s(g),R=s(y),D=S?u:i(g),N=R?u:i(y);D=D==c?f:D,N=N==c?f:N;var k=D==f,F=N==f,P=D==N;if(P&&a(g)){if(!a(y))return!1;S=!0,k=!1}if(P&&!k)return C||(C=new t),S||o(g)?e(g,y,b,_,w,C):n(g,y,D,b,_,w,C);if(!(b&l)){var I=k&&p.call(g,"__wrapped__"),U=F&&p.call(y,"__wrapped__");if(I||U){var O=I?g.value():g,K=U?y.value():y;return C||(C=new t),w(O,K,b,_,C)}}return P?(C||(C=new t),r(g,y,b,_,w,C)):!1}return QS=v,QS}var ZS,pM;function Lve(){if(pM)return ZS;pM=1;var t=Ove(),e=Aw();function n(r,i,s,a,o){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,s,a,n,o)}return ZS=n,ZS}var eD,mM;function jve(){if(mM)return eD;mM=1;var t=Lve();function e(n,r){return t(n,r)}return eD=e,eD}var _2={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */var Bve=_2.exports,gM;function Vve(){return gM||(gM=1,(function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:Bve,function(){return(function(n){var r={};function i(s){if(r[s])return r[s].exports;var a=r[s]={i:s,l:!1,exports:{}};return n[s].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=n,i.c=r,i.d=function(s,a,o){i.o(s,a)||Object.defineProperty(s,a,{configurable:!1,enumerable:!0,get:o})},i.n=function(s){var a=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(a,"a",a),a},i.o=function(s,a){return Object.prototype.hasOwnProperty.call(s,a)},i.p="",i(i.s=109)})([(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(17),a=i(18),o=i(19),l=i(45),c=i(46),u=i(47),f=i(48),h=i(49),p=i(12),v=i(32),g=i(33),y=i(31),b=i(1),_={Scope:b.Scope,create:b.create,find:b.find,query:b.query,register:b.register,Container:s.default,Format:a.default,Leaf:o.default,Embed:f.default,Scroll:l.default,Block:u.default,Inline:c.default,Text:h.default,Attributor:{Attribute:p.default,Class:v.default,Style:g.default,Store:y.default}};r.default=_}),(function(n,r,i){var s=this&&this.__extends||(function(){var y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,_){b.__proto__=_}||function(b,_){for(var w in _)_.hasOwnProperty(w)&&(b[w]=_[w])};return function(b,_){y(b,_);function w(){this.constructor=b}b.prototype=_===null?Object.create(_):(w.prototype=_.prototype,new w)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=(function(y){s(b,y);function b(_){var w=this;return _="[Parchment] "+_,w=y.call(this,_)||this,w.message=_,w.name=w.constructor.name,w}return b})(Error);r.ParchmentError=a;var o={},l={},c={},u={};r.DATA_KEY="__blot";var f;(function(y){y[y.TYPE=3]="TYPE",y[y.LEVEL=12]="LEVEL",y[y.ATTRIBUTE=13]="ATTRIBUTE",y[y.BLOT=14]="BLOT",y[y.INLINE=7]="INLINE",y[y.BLOCK=11]="BLOCK",y[y.BLOCK_BLOT=10]="BLOCK_BLOT",y[y.INLINE_BLOT=6]="INLINE_BLOT",y[y.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",y[y.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",y[y.ANY=15]="ANY"})(f=r.Scope||(r.Scope={}));function h(y,b){var _=v(y);if(_==null)throw new a("Unable to create "+y+" blot");var w=_,C=y instanceof Node||y.nodeType===Node.TEXT_NODE?y:w.create(b);return new w(C,b)}r.create=h;function p(y,b){return b===void 0&&(b=!1),y==null?null:y[r.DATA_KEY]!=null?y[r.DATA_KEY].blot:b?p(y.parentNode,b):null}r.find=p;function v(y,b){b===void 0&&(b=f.ANY);var _;if(typeof y=="string")_=u[y]||o[y];else if(y instanceof Text||y.nodeType===Node.TEXT_NODE)_=u.text;else if(typeof y=="number")y&f.LEVEL&f.BLOCK?_=u.block:y&f.LEVEL&f.INLINE&&(_=u.inline);else if(y instanceof HTMLElement){var w=(y.getAttribute("class")||"").split(/\s+/);for(var C in w)if(_=l[w[C]],_)break;_=_||c[y.tagName]}return _==null?null:b&f.LEVEL&_.scope&&b&f.TYPE&_.scope?_:null}r.query=v;function g(){for(var y=[],b=0;b<arguments.length;b++)y[b]=arguments[b];if(y.length>1)return y.map(function(C){return g(C)});var _=y[0];if(typeof _.blotName!="string"&&typeof _.attrName!="string")throw new a("Invalid definition");if(_.blotName==="abstract")throw new a("Cannot register abstract class");if(u[_.blotName||_.attrName]=_,typeof _.keyName=="string")o[_.keyName]=_;else if(_.className!=null&&(l[_.className]=_),_.tagName!=null){Array.isArray(_.tagName)?_.tagName=_.tagName.map(function(C){return C.toUpperCase()}):_.tagName=_.tagName.toUpperCase();var w=Array.isArray(_.tagName)?_.tagName:[_.tagName];w.forEach(function(C){(c[C]==null||_.className==null)&&(c[C]=_)})}return _}r.register=g}),(function(n,r,i){var s=i(51),a=i(11),o=i(3),l=i(20),c="\0",u=function(f){Array.isArray(f)?this.ops=f:f!=null&&Array.isArray(f.ops)?this.ops=f.ops:this.ops=[]};u.prototype.insert=function(f,h){var p={};return f.length===0?this:(p.insert=f,h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(p.attributes=h),this.push(p))},u.prototype.delete=function(f){return f<=0?this:this.push({delete:f})},u.prototype.retain=function(f,h){if(f<=0)return this;var p={retain:f};return h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(p.attributes=h),this.push(p)},u.prototype.push=function(f){var h=this.ops.length,p=this.ops[h-1];if(f=o(!0,{},f),typeof p=="object"){if(typeof f.delete=="number"&&typeof p.delete=="number")return this.ops[h-1]={delete:p.delete+f.delete},this;if(typeof p.delete=="number"&&f.insert!=null&&(h-=1,p=this.ops[h-1],typeof p!="object"))return this.ops.unshift(f),this;if(a(f.attributes,p.attributes)){if(typeof f.insert=="string"&&typeof p.insert=="string")return this.ops[h-1]={insert:p.insert+f.insert},typeof f.attributes=="object"&&(this.ops[h-1].attributes=f.attributes),this;if(typeof f.retain=="number"&&typeof p.retain=="number")return this.ops[h-1]={retain:p.retain+f.retain},typeof f.attributes=="object"&&(this.ops[h-1].attributes=f.attributes),this}}return h===this.ops.length?this.ops.push(f):this.ops.splice(h,0,f),this},u.prototype.chop=function(){var f=this.ops[this.ops.length-1];return f&&f.retain&&!f.attributes&&this.ops.pop(),this},u.prototype.filter=function(f){return this.ops.filter(f)},u.prototype.forEach=function(f){this.ops.forEach(f)},u.prototype.map=function(f){return this.ops.map(f)},u.prototype.partition=function(f){var h=[],p=[];return this.forEach(function(v){var g=f(v)?h:p;g.push(v)}),[h,p]},u.prototype.reduce=function(f,h){return this.ops.reduce(f,h)},u.prototype.changeLength=function(){return this.reduce(function(f,h){return h.insert?f+l.length(h):h.delete?f-h.delete:f},0)},u.prototype.length=function(){return this.reduce(function(f,h){return f+l.length(h)},0)},u.prototype.slice=function(f,h){f=f||0,typeof h!="number"&&(h=1/0);for(var p=[],v=l.iterator(this.ops),g=0;g<h&&v.hasNext();){var y;g<f?y=v.next(f-g):(y=v.next(h-g),p.push(y)),g+=l.length(y)}return new u(p)},u.prototype.compose=function(f){var h=l.iterator(this.ops),p=l.iterator(f.ops),v=[],g=p.peek();if(g!=null&&typeof g.retain=="number"&&g.attributes==null){for(var y=g.retain;h.peekType()==="insert"&&h.peekLength()<=y;)y-=h.peekLength(),v.push(h.next());g.retain-y>0&&p.next(g.retain-y)}for(var b=new u(v);h.hasNext()||p.hasNext();)if(p.peekType()==="insert")b.push(p.next());else if(h.peekType()==="delete")b.push(h.next());else{var _=Math.min(h.peekLength(),p.peekLength()),w=h.next(_),C=p.next(_);if(typeof C.retain=="number"){var S={};typeof w.retain=="number"?S.retain=_:S.insert=w.insert;var R=l.attributes.compose(w.attributes,C.attributes,typeof w.retain=="number");if(R&&(S.attributes=R),b.push(S),!p.hasNext()&&a(b.ops[b.ops.length-1],S)){var D=new u(h.rest());return b.concat(D).chop()}}else typeof C.delete=="number"&&typeof w.retain=="number"&&b.push(C)}return b.chop()},u.prototype.concat=function(f){var h=new u(this.ops.slice());return f.ops.length>0&&(h.push(f.ops[0]),h.ops=h.ops.concat(f.ops.slice(1))),h},u.prototype.diff=function(f,h){if(this.ops===f.ops)return new u;var p=[this,f].map(function(_){return _.map(function(w){if(w.insert!=null)return typeof w.insert=="string"?w.insert:c;var C=_===f?"on":"with";throw new Error("diff() called "+C+" non-document")}).join("")}),v=new u,g=s(p[0],p[1],h),y=l.iterator(this.ops),b=l.iterator(f.ops);return g.forEach(function(_){for(var w=_[1].length;w>0;){var C=0;switch(_[0]){case s.INSERT:C=Math.min(b.peekLength(),w),v.push(b.next(C));break;case s.DELETE:C=Math.min(w,y.peekLength()),y.next(C),v.delete(C);break;case s.EQUAL:C=Math.min(y.peekLength(),b.peekLength(),w);var S=y.next(C),R=b.next(C);a(S.insert,R.insert)?v.retain(C,l.attributes.diff(S.attributes,R.attributes)):v.push(R).delete(C);break}w-=C}}),v.chop()},u.prototype.eachLine=function(f,h){h=h||`
`;for(var p=l.iterator(this.ops),v=new u,g=0;p.hasNext();){if(p.peekType()!=="insert")return;var y=p.peek(),b=l.length(y)-p.peekLength(),_=typeof y.insert=="string"?y.insert.indexOf(h,b)-b:-1;if(_<0)v.push(p.next());else if(_>0)v.push(p.next(_));else{if(f(v,p.next(1).attributes||{},g)===!1)return;g+=1,v=new u}}v.length()>0&&f(v,{},g)},u.prototype.transform=function(f,h){if(h=!!h,typeof f=="number")return this.transformPosition(f,h);for(var p=l.iterator(this.ops),v=l.iterator(f.ops),g=new u;p.hasNext()||v.hasNext();)if(p.peekType()==="insert"&&(h||v.peekType()!=="insert"))g.retain(l.length(p.next()));else if(v.peekType()==="insert")g.push(v.next());else{var y=Math.min(p.peekLength(),v.peekLength()),b=p.next(y),_=v.next(y);if(b.delete)continue;_.delete?g.push(_):g.retain(y,l.attributes.transform(b.attributes,_.attributes,h))}return g.chop()},u.prototype.transformPosition=function(f,h){h=!!h;for(var p=l.iterator(this.ops),v=0;p.hasNext()&&v<=f;){var g=p.peekLength(),y=p.peekType();if(p.next(),y==="delete"){f-=Math.min(g,f-v);continue}else y==="insert"&&(v<f||!h)&&(f+=g);v+=g}return f},n.exports=u}),(function(n,r){var i=Object.prototype.hasOwnProperty,s=Object.prototype.toString,a=Object.defineProperty,o=Object.getOwnPropertyDescriptor,l=function(p){return typeof Array.isArray=="function"?Array.isArray(p):s.call(p)==="[object Array]"},c=function(p){if(!p||s.call(p)!=="[object Object]")return!1;var v=i.call(p,"constructor"),g=p.constructor&&p.constructor.prototype&&i.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!v&&!g)return!1;var y;for(y in p);return typeof y>"u"||i.call(p,y)},u=function(p,v){a&&v.name==="__proto__"?a(p,v.name,{enumerable:!0,configurable:!0,value:v.newValue,writable:!0}):p[v.name]=v.newValue},f=function(p,v){if(v==="__proto__")if(i.call(p,v)){if(o)return o(p,v).value}else return;return p[v]};n.exports=function h(){var p,v,g,y,b,_,w=arguments[0],C=1,S=arguments.length,R=!1;for(typeof w=="boolean"&&(R=w,w=arguments[1]||{},C=2),(w==null||typeof w!="object"&&typeof w!="function")&&(w={});C<S;++C)if(p=arguments[C],p!=null)for(v in p)g=f(w,v),y=f(p,v),w!==y&&(R&&y&&(c(y)||(b=l(y)))?(b?(b=!1,_=g&&l(g)?g:[]):_=g&&c(g)?g:{},u(w,{name:v,newValue:h(R,_,y)})):typeof y<"u"&&u(w,{name:v,newValue:y}));return w}}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var s=(function(){function P(I,U){for(var O=0;O<U.length;O++){var K=U[O];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(I,K.key,K)}}return function(I,U,O){return U&&P(I.prototype,U),O&&P(I,O),I}})(),a=function P(I,U,O){I===null&&(I=Function.prototype);var K=Object.getOwnPropertyDescriptor(I,U);if(K===void 0){var X=Object.getPrototypeOf(I);return X===null?void 0:P(X,U,O)}else{if("value"in K)return K.value;var J=K.get;return J===void 0?void 0:J.call(O)}},o=i(3),l=w(o),c=i(2),u=w(c),f=i(0),h=w(f),p=i(16),v=w(p),g=i(6),y=w(g),b=i(7),_=w(b);function w(P){return P&&P.__esModule?P:{default:P}}function C(P,I){if(!(P instanceof I))throw new TypeError("Cannot call a class as a function")}function S(P,I){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:P}function R(P,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);P.prototype=Object.create(I&&I.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(P,I):P.__proto__=I)}var D=1,N=(function(P){R(I,P);function I(){return C(this,I),S(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return s(I,[{key:"attach",value:function(){a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"attach",this).call(this),this.attributes=new h.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new u.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(O,K){var X=h.default.query(O,h.default.Scope.BLOCK_ATTRIBUTE);X!=null&&this.attributes.attribute(X,K)}},{key:"formatAt",value:function(O,K,X,J){this.format(X,J)}},{key:"insertAt",value:function(O,K,X){if(typeof K=="string"&&K.endsWith(`
`)){var J=h.default.create(k.blotName);this.parent.insertBefore(J,O===0?this:this.next),J.insertAt(0,K.slice(0,-1))}else a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertAt",this).call(this,O,K,X)}}]),I})(h.default.Embed);N.scope=h.default.Scope.BLOCK_BLOT;var k=(function(P){R(I,P);function I(U){C(this,I);var O=S(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,U));return O.cache={},O}return s(I,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(h.default.Leaf).reduce(function(O,K){return K.length()===0?O:O.insert(K.value(),F(K))},new u.default).insert(`
`,F(this))),this.cache.delta}},{key:"deleteAt",value:function(O,K){a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"deleteAt",this).call(this,O,K),this.cache={}}},{key:"formatAt",value:function(O,K,X,J){K<=0||(h.default.query(X,h.default.Scope.BLOCK)?O+K===this.length()&&this.format(X,J):a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"formatAt",this).call(this,O,Math.min(K,this.length()-O-1),X,J),this.cache={})}},{key:"insertAt",value:function(O,K,X){if(X!=null)return a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertAt",this).call(this,O,K,X);if(K.length!==0){var J=K.split(`
`),ne=J.shift();ne.length>0&&(O<this.length()-1||this.children.tail==null?a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertAt",this).call(this,Math.min(O,this.length()-1),ne):this.children.tail.insertAt(this.children.tail.length(),ne),this.cache={});var z=this;J.reduce(function(Q,B){return z=z.split(Q,!0),z.insertAt(0,B),B.length},O+ne.length)}}},{key:"insertBefore",value:function(O,K){var X=this.children.head;a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertBefore",this).call(this,O,K),X instanceof v.default&&X.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"length",this).call(this)+D),this.cache.length}},{key:"moveChildren",value:function(O,K){a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"moveChildren",this).call(this,O,K),this.cache={}}},{key:"optimize",value:function(O){a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"optimize",this).call(this,O),this.cache={}}},{key:"path",value:function(O){return a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"path",this).call(this,O,!0)}},{key:"removeChild",value:function(O){a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"removeChild",this).call(this,O),this.cache={}}},{key:"split",value:function(O){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(K&&(O===0||O>=this.length()-D)){var X=this.clone();return O===0?(this.parent.insertBefore(X,this),this):(this.parent.insertBefore(X,this.next),X)}else{var J=a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"split",this).call(this,O,K);return this.cache={},J}}}]),I})(h.default.Block);k.blotName="block",k.tagName="P",k.defaultChild="break",k.allowedChildren=[y.default,h.default.Embed,_.default];function F(P){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return P==null||(typeof P.formats=="function"&&(I=(0,l.default)(I,P.formats())),P.parent==null||P.parent.blotName=="scroll"||P.parent.statics.scope!==P.statics.scope)?I:F(P.parent,I)}r.bubbleFormats=F,r.BlockEmbed=N,r.default=k}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},a=(function(){function z(Q,B){var j=[],W=!0,G=!1,Y=void 0;try{for(var ee=Q[Symbol.iterator](),ae;!(W=(ae=ee.next()).done)&&(j.push(ae.value),!(B&&j.length===B));W=!0);}catch(de){G=!0,Y=de}finally{try{!W&&ee.return&&ee.return()}finally{if(G)throw Y}}return j}return function(Q,B){if(Array.isArray(Q))return Q;if(Symbol.iterator in Object(Q))return z(Q,B);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=(function(){function z(Q,B){for(var j=0;j<B.length;j++){var W=B[j];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(Q,W.key,W)}}return function(Q,B,j){return B&&z(Q.prototype,B),j&&z(Q,j),Q}})();i(50);var l=i(2),c=F(l),u=i(14),f=F(u),h=i(8),p=F(h),v=i(9),g=F(v),y=i(0),b=F(y),_=i(15),w=F(_),C=i(3),S=F(C),R=i(10),D=F(R),N=i(34),k=F(N);function F(z){return z&&z.__esModule?z:{default:z}}function P(z,Q,B){return Q in z?Object.defineProperty(z,Q,{value:B,enumerable:!0,configurable:!0,writable:!0}):z[Q]=B,z}function I(z,Q){if(!(z instanceof Q))throw new TypeError("Cannot call a class as a function")}var U=(0,D.default)("quill"),O=(function(){o(z,null,[{key:"debug",value:function(B){B===!0&&(B="log"),D.default.level(B)}},{key:"find",value:function(B){return B.__quill||b.default.find(B)}},{key:"import",value:function(B){return this.imports[B]==null&&U.error("Cannot import "+B+". Are you sure it was registered?"),this.imports[B]}},{key:"register",value:function(B,j){var W=this,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof B!="string"){var Y=B.attrName||B.blotName;typeof Y=="string"?this.register("formats/"+Y,B,j):Object.keys(B).forEach(function(ee){W.register(ee,B[ee],j)})}else this.imports[B]!=null&&!G&&U.warn("Overwriting "+B+" with",j),this.imports[B]=j,(B.startsWith("blots/")||B.startsWith("formats/"))&&j.blotName!=="abstract"?b.default.register(j):B.startsWith("modules")&&typeof j.register=="function"&&j.register()}}]);function z(Q){var B=this,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(I(this,z),this.options=K(Q,j),this.container=this.options.container,this.container==null)return U.error("Invalid Quill container",Q);this.options.debug&&z.debug(this.options.debug);var W=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new p.default,this.scroll=b.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new f.default(this.scroll),this.selection=new w.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(p.default.events.EDITOR_CHANGE,function(Y){Y===p.default.events.TEXT_CHANGE&&B.root.classList.toggle("ql-blank",B.editor.isBlank())}),this.emitter.on(p.default.events.SCROLL_UPDATE,function(Y,ee){var ae=B.selection.lastRange,de=ae&&ae.length===0?ae.index:void 0;X.call(B,function(){return B.editor.update(null,ee,de)},Y)});var G=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+W+"<p><br></p></div>");this.setContents(G),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return o(z,[{key:"addContainer",value:function(B){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof B=="string"){var W=B;B=document.createElement("div"),B.classList.add(W)}return this.container.insertBefore(B,j),B}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(B,j,W){var G=this,Y=J(B,j,W),ee=a(Y,4);return B=ee[0],j=ee[1],W=ee[3],X.call(this,function(){return G.editor.deleteText(B,j)},W,B,-1*j)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(B),this.container.classList.toggle("ql-disabled",!B)}},{key:"focus",value:function(){var B=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=B,this.scrollIntoView()}},{key:"format",value:function(B,j){var W=this,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;return X.call(this,function(){var Y=W.getSelection(!0),ee=new c.default;if(Y==null)return ee;if(b.default.query(B,b.default.Scope.BLOCK))ee=W.editor.formatLine(Y.index,Y.length,P({},B,j));else{if(Y.length===0)return W.selection.format(B,j),ee;ee=W.editor.formatText(Y.index,Y.length,P({},B,j))}return W.setSelection(Y,p.default.sources.SILENT),ee},G)}},{key:"formatLine",value:function(B,j,W,G,Y){var ee=this,ae=void 0,de=J(B,j,W,G,Y),fe=a(de,4);return B=fe[0],j=fe[1],ae=fe[2],Y=fe[3],X.call(this,function(){return ee.editor.formatLine(B,j,ae)},Y,B,0)}},{key:"formatText",value:function(B,j,W,G,Y){var ee=this,ae=void 0,de=J(B,j,W,G,Y),fe=a(de,4);return B=fe[0],j=fe[1],ae=fe[2],Y=fe[3],X.call(this,function(){return ee.editor.formatText(B,j,ae)},Y,B,0)}},{key:"getBounds",value:function(B){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,W=void 0;typeof B=="number"?W=this.selection.getBounds(B,j):W=this.selection.getBounds(B.index,B.length);var G=this.container.getBoundingClientRect();return{bottom:W.bottom-G.top,height:W.height,left:W.left-G.left,right:W.right-G.left,top:W.top-G.top,width:W.width}}},{key:"getContents",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-B,W=J(B,j),G=a(W,2);return B=G[0],j=G[1],this.editor.getContents(B,j)}},{key:"getFormat",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof B=="number"?this.editor.getFormat(B,j):this.editor.getFormat(B.index,B.length)}},{key:"getIndex",value:function(B){return B.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(B){return this.scroll.leaf(B)}},{key:"getLine",value:function(B){return this.scroll.line(B)}},{key:"getLines",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof B!="number"?this.scroll.lines(B.index,B.length):this.scroll.lines(B,j)}},{key:"getModule",value:function(B){return this.theme.modules[B]}},{key:"getSelection",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return B&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-B,W=J(B,j),G=a(W,2);return B=G[0],j=G[1],this.editor.getText(B,j)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(B,j,W){var G=this,Y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:z.sources.API;return X.call(this,function(){return G.editor.insertEmbed(B,j,W)},Y,B)}},{key:"insertText",value:function(B,j,W,G,Y){var ee=this,ae=void 0,de=J(B,0,W,G,Y),fe=a(de,4);return B=fe[0],ae=fe[2],Y=fe[3],X.call(this,function(){return ee.editor.insertText(B,j,ae)},Y,B,j.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(B,j,W){this.clipboard.dangerouslyPasteHTML(B,j,W)}},{key:"removeFormat",value:function(B,j,W){var G=this,Y=J(B,j,W),ee=a(Y,4);return B=ee[0],j=ee[1],W=ee[3],X.call(this,function(){return G.editor.removeFormat(B,j)},W,B)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(B){var j=this,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return X.call(this,function(){B=new c.default(B);var G=j.getLength(),Y=j.editor.deleteText(0,G),ee=j.editor.applyDelta(B),ae=ee.ops[ee.ops.length-1];ae!=null&&typeof ae.insert=="string"&&ae.insert[ae.insert.length-1]===`
`&&(j.editor.deleteText(j.getLength()-1,1),ee.delete(1));var de=Y.compose(ee);return de},W)}},{key:"setSelection",value:function(B,j,W){if(B==null)this.selection.setRange(null,j||z.sources.API);else{var G=J(B,j,W),Y=a(G,4);B=Y[0],j=Y[1],W=Y[3],this.selection.setRange(new _.Range(B,j),W),W!==p.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(B){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API,W=new c.default().insert(B);return this.setContents(W,j)}},{key:"update",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,j=this.scroll.update(B);return this.selection.update(B),j}},{key:"updateContents",value:function(B){var j=this,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return X.call(this,function(){return B=new c.default(B),j.editor.applyDelta(B,W)},W,!0)}}]),z})();O.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},O.events=p.default.events,O.sources=p.default.sources,O.version="1.3.7",O.imports={delta:c.default,parchment:b.default,"core/module":g.default,"core/theme":k.default};function K(z,Q){if(Q=(0,S.default)(!0,{container:z,modules:{clipboard:!0,keyboard:!0,history:!0}},Q),!Q.theme||Q.theme===O.DEFAULTS.theme)Q.theme=k.default;else if(Q.theme=O.import("themes/"+Q.theme),Q.theme==null)throw new Error("Invalid theme "+Q.theme+". Did you register it?");var B=(0,S.default)(!0,{},Q.theme.DEFAULTS);[B,Q].forEach(function(G){G.modules=G.modules||{},Object.keys(G.modules).forEach(function(Y){G.modules[Y]===!0&&(G.modules[Y]={})})});var j=Object.keys(B.modules).concat(Object.keys(Q.modules)),W=j.reduce(function(G,Y){var ee=O.import("modules/"+Y);return ee==null?U.error("Cannot load "+Y+" module. Are you sure you registered it?"):G[Y]=ee.DEFAULTS||{},G},{});return Q.modules!=null&&Q.modules.toolbar&&Q.modules.toolbar.constructor!==Object&&(Q.modules.toolbar={container:Q.modules.toolbar}),Q=(0,S.default)(!0,{},O.DEFAULTS,{modules:W},B,Q),["bounds","container","scrollingContainer"].forEach(function(G){typeof Q[G]=="string"&&(Q[G]=document.querySelector(Q[G]))}),Q.modules=Object.keys(Q.modules).reduce(function(G,Y){return Q.modules[Y]&&(G[Y]=Q.modules[Y]),G},{}),Q}function X(z,Q,B,j){if(this.options.strict&&!this.isEnabled()&&Q===p.default.sources.USER)return new c.default;var W=B==null?null:this.getSelection(),G=this.editor.delta,Y=z();if(W!=null&&(B===!0&&(B=W.index),j==null?W=ne(W,Y,Q):j!==0&&(W=ne(W,B,j,Q)),this.setSelection(W,p.default.sources.SILENT)),Y.length()>0){var ee,ae=[p.default.events.TEXT_CHANGE,Y,G,Q];if((ee=this.emitter).emit.apply(ee,[p.default.events.EDITOR_CHANGE].concat(ae)),Q!==p.default.sources.SILENT){var de;(de=this.emitter).emit.apply(de,ae)}}return Y}function J(z,Q,B,j,W){var G={};return typeof z.index=="number"&&typeof z.length=="number"?typeof Q!="number"?(W=j,j=B,B=Q,Q=z.length,z=z.index):(Q=z.length,z=z.index):typeof Q!="number"&&(W=j,j=B,B=Q,Q=0),(typeof B>"u"?"undefined":s(B))==="object"?(G=B,W=j):typeof B=="string"&&(j!=null?G[B]=j:W=B),W=W||p.default.sources.API,[z,Q,G,W]}function ne(z,Q,B,j){if(z==null)return null;var W=void 0,G=void 0;if(Q instanceof c.default){var Y=[z.index,z.index+z.length].map(function(fe){return Q.transformPosition(fe,j!==p.default.sources.USER)}),ee=a(Y,2);W=ee[0],G=ee[1]}else{var ae=[z.index,z.index+z.length].map(function(fe){return fe<Q||fe===Q&&j===p.default.sources.USER?fe:B>=0?fe+B:Math.max(Q,fe+B)}),de=a(ae,2);W=de[0],G=de[1]}return new _.Range(W,G-W)}r.expandConfig=K,r.overload=J,r.default=O}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function y(b,_){for(var w=0;w<_.length;w++){var C=_[w];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(b,C.key,C)}}return function(b,_,w){return _&&y(b.prototype,_),w&&y(b,w),b}})(),a=function y(b,_,w){b===null&&(b=Function.prototype);var C=Object.getOwnPropertyDescriptor(b,_);if(C===void 0){var S=Object.getPrototypeOf(b);return S===null?void 0:y(S,_,w)}else{if("value"in C)return C.value;var R=C.get;return R===void 0?void 0:R.call(w)}},o=i(7),l=f(o),c=i(0),u=f(c);function f(y){return y&&y.__esModule?y:{default:y}}function h(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}function p(y,b){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:y}function v(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(y,b):y.__proto__=b)}var g=(function(y){v(b,y);function b(){return h(this,b),p(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,[{key:"formatAt",value:function(w,C,S,R){if(b.compare(this.statics.blotName,S)<0&&u.default.query(S,u.default.Scope.BLOT)){var D=this.isolate(w,C);R&&D.wrap(S,R)}else a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"formatAt",this).call(this,w,C,S,R)}},{key:"optimize",value:function(w){if(a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"optimize",this).call(this,w),this.parent instanceof b&&b.compare(this.statics.blotName,this.parent.statics.blotName)>0){var C=this.parent.isolate(this.offset(),this.length());this.moveChildren(C),C.wrap(this)}}}],[{key:"compare",value:function(w,C){var S=b.order.indexOf(w),R=b.order.indexOf(C);return S>=0||R>=0?S-R:w===C?0:w<C?-1:1}}]),b})(u.default.Inline);g.allowedChildren=[g,u.default.Embed,l.default],g.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=g}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),a=o(s);function o(h){return h&&h.__esModule?h:{default:h}}function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function c(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function u(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=(function(h){u(p,h);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(a.default.Text);r.default=f}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function _(w,C){for(var S=0;S<C.length;S++){var R=C[S];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(w,R.key,R)}}return function(w,C,S){return C&&_(w.prototype,C),S&&_(w,S),w}})(),a=function _(w,C,S){w===null&&(w=Function.prototype);var R=Object.getOwnPropertyDescriptor(w,C);if(R===void 0){var D=Object.getPrototypeOf(w);return D===null?void 0:_(D,C,S)}else{if("value"in R)return R.value;var N=R.get;return N===void 0?void 0:N.call(S)}},o=i(54),l=f(o),c=i(10),u=f(c);function f(_){return _&&_.__esModule?_:{default:_}}function h(_,w){if(!(_ instanceof w))throw new TypeError("Cannot call a class as a function")}function p(_,w){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:_}function v(_,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);_.prototype=Object.create(w&&w.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(_,w):_.__proto__=w)}var g=(0,u.default)("quill:events"),y=["selectionchange","mousedown","mouseup","click"];y.forEach(function(_){document.addEventListener(_,function(){for(var w=arguments.length,C=Array(w),S=0;S<w;S++)C[S]=arguments[S];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(R){if(R.__quill&&R.__quill.emitter){var D;(D=R.__quill.emitter).handleDOM.apply(D,C)}})})});var b=(function(_){v(w,_);function w(){h(this,w);var C=p(this,(w.__proto__||Object.getPrototypeOf(w)).call(this));return C.listeners={},C.on("error",g.error),C}return s(w,[{key:"emit",value:function(){g.log.apply(g,arguments),a(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(S){for(var R=arguments.length,D=Array(R>1?R-1:0),N=1;N<R;N++)D[N-1]=arguments[N];(this.listeners[S.type]||[]).forEach(function(k){var F=k.node,P=k.handler;(S.target===F||F.contains(S.target))&&P.apply(void 0,[S].concat(D))})}},{key:"listenDOM",value:function(S,R,D){this.listeners[S]||(this.listeners[S]=[]),this.listeners[S].push({node:R,handler:D})}}]),w})(l.default);b.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},b.sources={API:"api",SILENT:"silent",USER:"user"},r.default=b}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});function s(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")}var a=function o(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s(this,o),this.quill=l,this.options=c};a.DEFAULTS={},r.default=a}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=["error","warn","log","info"],a="warn";function o(c){if(s.indexOf(c)<=s.indexOf(a)){for(var u,f=arguments.length,h=Array(f>1?f-1:0),p=1;p<f;p++)h[p-1]=arguments[p];(u=console)[c].apply(u,h)}}function l(c){return s.reduce(function(u,f){return u[f]=o.bind(console,f,c),u},{})}o.level=l.level=function(c){a=c},r.default=l}),(function(n,r,i){var s=Array.prototype.slice,a=i(52),o=i(53),l=n.exports=function(h,p,v){return v||(v={}),h===p?!0:h instanceof Date&&p instanceof Date?h.getTime()===p.getTime():!h||!p||typeof h!="object"&&typeof p!="object"?v.strict?h===p:h==p:f(h,p,v)};function c(h){return h==null}function u(h){return!(!h||typeof h!="object"||typeof h.length!="number"||typeof h.copy!="function"||typeof h.slice!="function"||h.length>0&&typeof h[0]!="number")}function f(h,p,v){var g,y;if(c(h)||c(p)||h.prototype!==p.prototype)return!1;if(o(h))return o(p)?(h=s.call(h),p=s.call(p),l(h,p,v)):!1;if(u(h)){if(!u(p)||h.length!==p.length)return!1;for(g=0;g<h.length;g++)if(h[g]!==p[g])return!1;return!0}try{var b=a(h),_=a(p)}catch{return!1}if(b.length!=_.length)return!1;for(b.sort(),_.sort(),g=b.length-1;g>=0;g--)if(b[g]!=_[g])return!1;for(g=b.length-1;g>=0;g--)if(y=b[g],!l(h[y],p[y],v))return!1;return typeof h==typeof p}}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(1),a=(function(){function o(l,c,u){u===void 0&&(u={}),this.attrName=l,this.keyName=c;var f=s.Scope.TYPE&s.Scope.ATTRIBUTE;u.scope!=null?this.scope=u.scope&s.Scope.LEVEL|f:this.scope=s.Scope.ATTRIBUTE,u.whitelist!=null&&(this.whitelist=u.whitelist)}return o.keys=function(l){return[].map.call(l.attributes,function(c){return c.name})},o.prototype.add=function(l,c){return this.canAdd(l,c)?(l.setAttribute(this.keyName,c),!0):!1},o.prototype.canAdd=function(l,c){var u=s.query(l,s.Scope.BLOT&(this.scope|s.Scope.TYPE));return u==null?!1:this.whitelist==null?!0:typeof c=="string"?this.whitelist.indexOf(c.replace(/["']/g,""))>-1:this.whitelist.indexOf(c)>-1},o.prototype.remove=function(l){l.removeAttribute(this.keyName)},o.prototype.value=function(l){var c=l.getAttribute(this.keyName);return this.canAdd(l,c)&&c?c:""},o})();r.default=a}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var s=(function(){function N(k,F){var P=[],I=!0,U=!1,O=void 0;try{for(var K=k[Symbol.iterator](),X;!(I=(X=K.next()).done)&&(P.push(X.value),!(F&&P.length===F));I=!0);}catch(J){U=!0,O=J}finally{try{!I&&K.return&&K.return()}finally{if(U)throw O}}return P}return function(k,F){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return N(k,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=(function(){function N(k,F){for(var P=0;P<F.length;P++){var I=F[P];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(k,I.key,I)}}return function(k,F,P){return F&&N(k.prototype,F),P&&N(k,P),k}})(),o=function N(k,F,P){k===null&&(k=Function.prototype);var I=Object.getOwnPropertyDescriptor(k,F);if(I===void 0){var U=Object.getPrototypeOf(k);return U===null?void 0:N(U,F,P)}else{if("value"in I)return I.value;var O=I.get;return O===void 0?void 0:O.call(P)}},l=i(2),c=_(l),u=i(0),f=_(u),h=i(4),p=_(h),v=i(6),g=_(v),y=i(7),b=_(y);function _(N){return N&&N.__esModule?N:{default:N}}function w(N,k){if(!(N instanceof k))throw new TypeError("Cannot call a class as a function")}function C(N,k){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:N}function S(N,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);N.prototype=Object.create(k&&k.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(N,k):N.__proto__=k)}var R=(function(N){S(k,N);function k(){return w(this,k),C(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return k})(g.default);R.blotName="code",R.tagName="CODE";var D=(function(N){S(k,N);function k(){return w(this,k),C(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return a(k,[{key:"delta",value:function(){var P=this,I=this.domNode.textContent;return I.endsWith(`
`)&&(I=I.slice(0,-1)),I.split(`
`).reduce(function(U,O){return U.insert(O).insert(`
`,P.formats())},new c.default)}},{key:"format",value:function(P,I){if(!(P===this.statics.blotName&&I)){var U=this.descendant(b.default,this.length()-1),O=s(U,1),K=O[0];K!=null&&K.deleteAt(K.length()-1,1),o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"format",this).call(this,P,I)}}},{key:"formatAt",value:function(P,I,U,O){if(I!==0&&!(f.default.query(U,f.default.Scope.BLOCK)==null||U===this.statics.blotName&&O===this.statics.formats(this.domNode))){var K=this.newlineIndex(P);if(!(K<0||K>=P+I)){var X=this.newlineIndex(P,!0)+1,J=K-X+1,ne=this.isolate(X,J),z=ne.next;ne.format(U,O),z instanceof k&&z.formatAt(0,P-X+I-J,U,O)}}}},{key:"insertAt",value:function(P,I,U){if(U==null){var O=this.descendant(b.default,P),K=s(O,2),X=K[0],J=K[1];X.insertAt(J,I)}}},{key:"length",value:function(){var P=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?P:P+1}},{key:"newlineIndex",value:function(P){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(I)return this.domNode.textContent.slice(0,P).lastIndexOf(`
`);var U=this.domNode.textContent.slice(P).indexOf(`
`);return U>-1?P+U:-1}},{key:"optimize",value:function(P){this.domNode.textContent.endsWith(`
`)||this.appendChild(f.default.create("text",`
`)),o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,P);var I=this.next;I!=null&&I.prev===this&&I.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===I.statics.formats(I.domNode)&&(I.optimize(P),I.moveChildren(this),I.remove())}},{key:"replace",value:function(P){o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replace",this).call(this,P),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(I){var U=f.default.find(I);U==null?I.parentNode.removeChild(I):U instanceof f.default.Embed?U.remove():U.unwrap()})}}],[{key:"create",value:function(P){var I=o(k.__proto__||Object.getPrototypeOf(k),"create",this).call(this,P);return I.setAttribute("spellcheck",!1),I}},{key:"formats",value:function(){return!0}}]),k})(p.default);D.blotName="code-block",D.tagName="PRE",D.TAB="  ",r.Code=R,r.default=D}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},a=(function(){function z(Q,B){var j=[],W=!0,G=!1,Y=void 0;try{for(var ee=Q[Symbol.iterator](),ae;!(W=(ae=ee.next()).done)&&(j.push(ae.value),!(B&&j.length===B));W=!0);}catch(de){G=!0,Y=de}finally{try{!W&&ee.return&&ee.return()}finally{if(G)throw Y}}return j}return function(Q,B){if(Array.isArray(Q))return Q;if(Symbol.iterator in Object(Q))return z(Q,B);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=(function(){function z(Q,B){for(var j=0;j<B.length;j++){var W=B[j];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(Q,W.key,W)}}return function(Q,B,j){return B&&z(Q.prototype,B),j&&z(Q,j),Q}})(),l=i(2),c=I(l),u=i(20),f=I(u),h=i(0),p=I(h),v=i(13),g=I(v),y=i(24),b=I(y),_=i(4),w=I(_),C=i(16),S=I(C),R=i(21),D=I(R),N=i(11),k=I(N),F=i(3),P=I(F);function I(z){return z&&z.__esModule?z:{default:z}}function U(z,Q,B){return Q in z?Object.defineProperty(z,Q,{value:B,enumerable:!0,configurable:!0,writable:!0}):z[Q]=B,z}function O(z,Q){if(!(z instanceof Q))throw new TypeError("Cannot call a class as a function")}var K=/^[ -~]*$/,X=(function(){function z(Q){O(this,z),this.scroll=Q,this.delta=this.getDelta()}return o(z,[{key:"applyDelta",value:function(B){var j=this,W=!1;this.scroll.update();var G=this.scroll.length();return this.scroll.batchStart(),B=ne(B),B.reduce(function(Y,ee){var ae=ee.retain||ee.delete||ee.insert.length||1,de=ee.attributes||{};if(ee.insert!=null){if(typeof ee.insert=="string"){var fe=ee.insert;fe.endsWith(`
`)&&W&&(W=!1,fe=fe.slice(0,-1)),Y>=G&&!fe.endsWith(`
`)&&(W=!0),j.scroll.insertAt(Y,fe);var Ae=j.scroll.line(Y),Re=a(Ae,2),me=Re[0],Le=Re[1],V=(0,P.default)({},(0,_.bubbleFormats)(me));if(me instanceof w.default){var xe=me.descendant(p.default.Leaf,Le),Te=a(xe,1),le=Te[0];V=(0,P.default)(V,(0,_.bubbleFormats)(le))}de=f.default.attributes.diff(V,de)||{}}else if(s(ee.insert)==="object"){var re=Object.keys(ee.insert)[0];if(re==null)return Y;j.scroll.insertAt(Y,re,ee.insert[re])}G+=ae}return Object.keys(de).forEach(function(oe){j.scroll.formatAt(Y,ae,oe,de[oe])}),Y+ae},0),B.reduce(function(Y,ee){return typeof ee.delete=="number"?(j.scroll.deleteAt(Y,ee.delete),Y):Y+(ee.retain||ee.insert.length||1)},0),this.scroll.batchEnd(),this.update(B)}},{key:"deleteText",value:function(B,j){return this.scroll.deleteAt(B,j),this.update(new c.default().retain(B).delete(j))}},{key:"formatLine",value:function(B,j){var W=this,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(G).forEach(function(Y){if(!(W.scroll.whitelist!=null&&!W.scroll.whitelist[Y])){var ee=W.scroll.lines(B,Math.max(j,1)),ae=j;ee.forEach(function(de){var fe=de.length();if(!(de instanceof g.default))de.format(Y,G[Y]);else{var Ae=B-de.offset(W.scroll),Re=de.newlineIndex(Ae+ae)-Ae+1;de.formatAt(Ae,Re,Y,G[Y])}ae-=fe})}}),this.scroll.optimize(),this.update(new c.default().retain(B).retain(j,(0,D.default)(G)))}},{key:"formatText",value:function(B,j){var W=this,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(G).forEach(function(Y){W.scroll.formatAt(B,j,Y,G[Y])}),this.update(new c.default().retain(B).retain(j,(0,D.default)(G)))}},{key:"getContents",value:function(B,j){return this.delta.slice(B,B+j)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(B,j){return B.concat(j.delta())},new c.default)}},{key:"getFormat",value:function(B){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,W=[],G=[];j===0?this.scroll.path(B).forEach(function(ee){var ae=a(ee,1),de=ae[0];de instanceof w.default?W.push(de):de instanceof p.default.Leaf&&G.push(de)}):(W=this.scroll.lines(B,j),G=this.scroll.descendants(p.default.Leaf,B,j));var Y=[W,G].map(function(ee){if(ee.length===0)return{};for(var ae=(0,_.bubbleFormats)(ee.shift());Object.keys(ae).length>0;){var de=ee.shift();if(de==null)return ae;ae=J((0,_.bubbleFormats)(de),ae)}return ae});return P.default.apply(P.default,Y)}},{key:"getText",value:function(B,j){return this.getContents(B,j).filter(function(W){return typeof W.insert=="string"}).map(function(W){return W.insert}).join("")}},{key:"insertEmbed",value:function(B,j,W){return this.scroll.insertAt(B,j,W),this.update(new c.default().retain(B).insert(U({},j,W)))}},{key:"insertText",value:function(B,j){var W=this,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return j=j.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(B,j),Object.keys(G).forEach(function(Y){W.scroll.formatAt(B,j.length,Y,G[Y])}),this.update(new c.default().retain(B).insert(j,(0,D.default)(G)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var B=this.scroll.children.head;return B.statics.blotName!==w.default.blotName||B.children.length>1?!1:B.children.head instanceof S.default}},{key:"removeFormat",value:function(B,j){var W=this.getText(B,j),G=this.scroll.line(B+j),Y=a(G,2),ee=Y[0],ae=Y[1],de=0,fe=new c.default;ee!=null&&(ee instanceof g.default?de=ee.newlineIndex(ae)-ae+1:de=ee.length()-ae,fe=ee.delta().slice(ae,ae+de-1).insert(`
`));var Ae=this.getContents(B,j+de),Re=Ae.diff(new c.default().insert(W).concat(fe)),me=new c.default().retain(B).concat(Re);return this.applyDelta(me)}},{key:"update",value:function(B){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,G=this.delta;if(j.length===1&&j[0].type==="characterData"&&j[0].target.data.match(K)&&p.default.find(j[0].target)){var Y=p.default.find(j[0].target),ee=(0,_.bubbleFormats)(Y),ae=Y.offset(this.scroll),de=j[0].oldValue.replace(b.default.CONTENTS,""),fe=new c.default().insert(de),Ae=new c.default().insert(Y.value()),Re=new c.default().retain(ae).concat(fe.diff(Ae,W));B=Re.reduce(function(me,Le){return Le.insert?me.insert(Le.insert,ee):me.push(Le)},new c.default),this.delta=G.compose(B)}else this.delta=this.getDelta(),(!B||!(0,k.default)(G.compose(B),this.delta))&&(B=G.diff(this.delta,W));return B}}]),z})();function J(z,Q){return Object.keys(Q).reduce(function(B,j){return z[j]==null||(Q[j]===z[j]?B[j]=Q[j]:Array.isArray(Q[j])?Q[j].indexOf(z[j])<0&&(B[j]=Q[j].concat([z[j]])):B[j]=[Q[j],z[j]]),B},{})}function ne(z){return z.reduce(function(Q,B){if(B.insert===1){var j=(0,D.default)(B.attributes);return delete j.image,Q.insert({image:B.attributes.image},j)}if(B.attributes!=null&&(B.attributes.list===!0||B.attributes.bullet===!0)&&(B=(0,D.default)(B),B.attributes.list?B.attributes.list="ordered":(B.attributes.list="bullet",delete B.attributes.bullet)),typeof B.insert=="string"){var W=B.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return Q.insert(W,B.attributes)}return Q.push(B)},new c.default)}r.default=X}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var s=(function(){function N(k,F){var P=[],I=!0,U=!1,O=void 0;try{for(var K=k[Symbol.iterator](),X;!(I=(X=K.next()).done)&&(P.push(X.value),!(F&&P.length===F));I=!0);}catch(J){U=!0,O=J}finally{try{!I&&K.return&&K.return()}finally{if(U)throw O}}return P}return function(k,F){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return N(k,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=(function(){function N(k,F){for(var P=0;P<F.length;P++){var I=F[P];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(k,I.key,I)}}return function(k,F,P){return F&&N(k.prototype,F),P&&N(k,P),k}})(),o=i(0),l=b(o),c=i(21),u=b(c),f=i(11),h=b(f),p=i(8),v=b(p),g=i(10),y=b(g);function b(N){return N&&N.__esModule?N:{default:N}}function _(N){if(Array.isArray(N)){for(var k=0,F=Array(N.length);k<N.length;k++)F[k]=N[k];return F}else return Array.from(N)}function w(N,k){if(!(N instanceof k))throw new TypeError("Cannot call a class as a function")}var C=(0,y.default)("quill:selection"),S=function N(k){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;w(this,N),this.index=k,this.length=F},R=(function(){function N(k,F){var P=this;w(this,N),this.emitter=F,this.scroll=k,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new S(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){P.mouseDown||setTimeout(P.update.bind(P,v.default.sources.USER),1)}),this.emitter.on(v.default.events.EDITOR_CHANGE,function(I,U){I===v.default.events.TEXT_CHANGE&&U.length()>0&&P.update(v.default.sources.SILENT)}),this.emitter.on(v.default.events.SCROLL_BEFORE_UPDATE,function(){if(P.hasFocus()){var I=P.getNativeRange();I!=null&&I.start.node!==P.cursor.textNode&&P.emitter.once(v.default.events.SCROLL_UPDATE,function(){try{P.setNativeRange(I.start.node,I.start.offset,I.end.node,I.end.offset)}catch{}})}}),this.emitter.on(v.default.events.SCROLL_OPTIMIZE,function(I,U){if(U.range){var O=U.range,K=O.startNode,X=O.startOffset,J=O.endNode,ne=O.endOffset;P.setNativeRange(K,X,J,ne)}}),this.update(v.default.sources.SILENT)}return a(N,[{key:"handleComposition",value:function(){var F=this;this.root.addEventListener("compositionstart",function(){F.composing=!0}),this.root.addEventListener("compositionend",function(){if(F.composing=!1,F.cursor.parent){var P=F.cursor.restore();if(!P)return;setTimeout(function(){F.setNativeRange(P.startNode,P.startOffset,P.endNode,P.endOffset)},1)}})}},{key:"handleDragging",value:function(){var F=this;this.emitter.listenDOM("mousedown",document.body,function(){F.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){F.mouseDown=!1,F.update(v.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(F,P){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[F])){this.scroll.update();var I=this.getNativeRange();if(!(I==null||!I.native.collapsed||l.default.query(F,l.default.Scope.BLOCK))){if(I.start.node!==this.cursor.textNode){var U=l.default.find(I.start.node,!1);if(U==null)return;if(U instanceof l.default.Leaf){var O=U.split(I.start.offset);U.parent.insertBefore(this.cursor,O)}else U.insertBefore(this.cursor,I.start.node);this.cursor.attach()}this.cursor.format(F,P),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(F){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,I=this.scroll.length();F=Math.min(F,I-1),P=Math.min(F+P,I-1)-F;var U=void 0,O=this.scroll.leaf(F),K=s(O,2),X=K[0],J=K[1];if(X==null)return null;var ne=X.position(J,!0),z=s(ne,2);U=z[0],J=z[1];var Q=document.createRange();if(P>0){Q.setStart(U,J);var B=this.scroll.leaf(F+P),j=s(B,2);if(X=j[0],J=j[1],X==null)return null;var W=X.position(J,!0),G=s(W,2);return U=G[0],J=G[1],Q.setEnd(U,J),Q.getBoundingClientRect()}else{var Y="left",ee=void 0;return U instanceof Text?(J<U.data.length?(Q.setStart(U,J),Q.setEnd(U,J+1)):(Q.setStart(U,J-1),Q.setEnd(U,J),Y="right"),ee=Q.getBoundingClientRect()):(ee=X.domNode.getBoundingClientRect(),J>0&&(Y="right")),{bottom:ee.top+ee.height,height:ee.height,left:ee[Y],right:ee[Y],top:ee.top,width:0}}}},{key:"getNativeRange",value:function(){var F=document.getSelection();if(F==null||F.rangeCount<=0)return null;var P=F.getRangeAt(0);if(P==null)return null;var I=this.normalizeNative(P);return C.info("getNativeRange",I),I}},{key:"getRange",value:function(){var F=this.getNativeRange();if(F==null)return[null,null];var P=this.normalizedToRange(F);return[P,F]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(F){var P=this,I=[[F.start.node,F.start.offset]];F.native.collapsed||I.push([F.end.node,F.end.offset]);var U=I.map(function(X){var J=s(X,2),ne=J[0],z=J[1],Q=l.default.find(ne,!0),B=Q.offset(P.scroll);return z===0?B:Q instanceof l.default.Container?B+Q.length():B+Q.index(ne,z)}),O=Math.min(Math.max.apply(Math,_(U)),this.scroll.length()-1),K=Math.min.apply(Math,[O].concat(_(U)));return new S(K,O-K)}},{key:"normalizeNative",value:function(F){if(!D(this.root,F.startContainer)||!F.collapsed&&!D(this.root,F.endContainer))return null;var P={start:{node:F.startContainer,offset:F.startOffset},end:{node:F.endContainer,offset:F.endOffset},native:F};return[P.start,P.end].forEach(function(I){for(var U=I.node,O=I.offset;!(U instanceof Text)&&U.childNodes.length>0;)if(U.childNodes.length>O)U=U.childNodes[O],O=0;else if(U.childNodes.length===O)U=U.lastChild,O=U instanceof Text?U.data.length:U.childNodes.length+1;else break;I.node=U,I.offset=O}),P}},{key:"rangeToNative",value:function(F){var P=this,I=F.collapsed?[F.index]:[F.index,F.index+F.length],U=[],O=this.scroll.length();return I.forEach(function(K,X){K=Math.min(O-1,K);var J=void 0,ne=P.scroll.leaf(K),z=s(ne,2),Q=z[0],B=z[1],j=Q.position(B,X!==0),W=s(j,2);J=W[0],B=W[1],U.push(J,B)}),U.length<2&&(U=U.concat(U)),U}},{key:"scrollIntoView",value:function(F){var P=this.lastRange;if(P!=null){var I=this.getBounds(P.index,P.length);if(I!=null){var U=this.scroll.length()-1,O=this.scroll.line(Math.min(P.index,U)),K=s(O,1),X=K[0],J=X;if(P.length>0){var ne=this.scroll.line(Math.min(P.index+P.length,U)),z=s(ne,1);J=z[0]}if(!(X==null||J==null)){var Q=F.getBoundingClientRect();I.top<Q.top?F.scrollTop-=Q.top-I.top:I.bottom>Q.bottom&&(F.scrollTop+=I.bottom-Q.bottom)}}}}},{key:"setNativeRange",value:function(F,P){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:F,U=arguments.length>3&&arguments[3]!==void 0?arguments[3]:P,O=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(C.info("setNativeRange",F,P,I,U),!(F!=null&&(this.root.parentNode==null||F.parentNode==null||I.parentNode==null))){var K=document.getSelection();if(K!=null)if(F!=null){this.hasFocus()||this.root.focus();var X=(this.getNativeRange()||{}).native;if(X==null||O||F!==X.startContainer||P!==X.startOffset||I!==X.endContainer||U!==X.endOffset){F.tagName=="BR"&&(P=[].indexOf.call(F.parentNode.childNodes,F),F=F.parentNode),I.tagName=="BR"&&(U=[].indexOf.call(I.parentNode.childNodes,I),I=I.parentNode);var J=document.createRange();J.setStart(F,P),J.setEnd(I,U),K.removeAllRanges(),K.addRange(J)}}else K.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(F){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;if(typeof P=="string"&&(I=P,P=!1),C.info("setRange",F),F!=null){var U=this.rangeToNative(F);this.setNativeRange.apply(this,_(U).concat([P]))}else this.setNativeRange(null);this.update(I)}},{key:"update",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v.default.sources.USER,P=this.lastRange,I=this.getRange(),U=s(I,2),O=U[0],K=U[1];if(this.lastRange=O,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,h.default)(P,this.lastRange)){var X;!this.composing&&K!=null&&K.native.collapsed&&K.start.node!==this.cursor.textNode&&this.cursor.restore();var J=[v.default.events.SELECTION_CHANGE,(0,u.default)(this.lastRange),(0,u.default)(P),F];if((X=this.emitter).emit.apply(X,[v.default.events.EDITOR_CHANGE].concat(J)),F!==v.default.sources.SILENT){var ne;(ne=this.emitter).emit.apply(ne,J)}}}}]),N})();function D(N,k){try{k.parentNode}catch{return!1}return k instanceof Text&&(k=k.parentNode),N.contains(k)}r.Range=S,r.default=R}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function v(g,y){for(var b=0;b<y.length;b++){var _=y[b];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(g,_.key,_)}}return function(g,y,b){return y&&v(g.prototype,y),b&&v(g,b),g}})(),a=function v(g,y,b){g===null&&(g=Function.prototype);var _=Object.getOwnPropertyDescriptor(g,y);if(_===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:v(w,y,b)}else{if("value"in _)return _.value;var C=_.get;return C===void 0?void 0:C.call(b)}},o=i(0),l=c(o);function c(v){return v&&v.__esModule?v:{default:v}}function u(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function f(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function h(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=(function(v){h(g,v);function g(){return u(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,[{key:"insertInto",value:function(b,_){b.children.length===0?a(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"insertInto",this).call(this,b,_):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),g})(l.default.Embed);p.blotName="break",p.tagName="BR",r.default=p}),(function(n,r,i){var s=this&&this.__extends||(function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var v in p)p.hasOwnProperty(v)&&(h[v]=p[v])};return function(h,p){f(h,p);function v(){this.constructor=h}h.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(44),o=i(30),l=i(1),c=(function(f){s(h,f);function h(p){var v=f.call(this,p)||this;return v.build(),v}return h.prototype.appendChild=function(p){this.insertBefore(p)},h.prototype.attach=function(){f.prototype.attach.call(this),this.children.forEach(function(p){p.attach()})},h.prototype.build=function(){var p=this;this.children=new a.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(v){try{var g=u(v);p.insertBefore(g,p.children.head||void 0)}catch(y){if(y instanceof l.ParchmentError)return;throw y}})},h.prototype.deleteAt=function(p,v){if(p===0&&v===this.length())return this.remove();this.children.forEachAt(p,v,function(g,y,b){g.deleteAt(y,b)})},h.prototype.descendant=function(p,v){var g=this.children.find(v),y=g[0],b=g[1];return p.blotName==null&&p(y)||p.blotName!=null&&y instanceof p?[y,b]:y instanceof h?y.descendant(p,b):[null,-1]},h.prototype.descendants=function(p,v,g){v===void 0&&(v=0),g===void 0&&(g=Number.MAX_VALUE);var y=[],b=g;return this.children.forEachAt(v,g,function(_,w,C){(p.blotName==null&&p(_)||p.blotName!=null&&_ instanceof p)&&y.push(_),_ instanceof h&&(y=y.concat(_.descendants(p,w,b))),b-=C}),y},h.prototype.detach=function(){this.children.forEach(function(p){p.detach()}),f.prototype.detach.call(this)},h.prototype.formatAt=function(p,v,g,y){this.children.forEachAt(p,v,function(b,_,w){b.formatAt(_,w,g,y)})},h.prototype.insertAt=function(p,v,g){var y=this.children.find(p),b=y[0],_=y[1];if(b)b.insertAt(_,v,g);else{var w=g==null?l.create("text",v):l.create(v,g);this.appendChild(w)}},h.prototype.insertBefore=function(p,v){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(g){return p instanceof g}))throw new l.ParchmentError("Cannot insert "+p.statics.blotName+" into "+this.statics.blotName);p.insertInto(this,v)},h.prototype.length=function(){return this.children.reduce(function(p,v){return p+v.length()},0)},h.prototype.moveChildren=function(p,v){this.children.forEach(function(g){p.insertBefore(g,v)})},h.prototype.optimize=function(p){if(f.prototype.optimize.call(this,p),this.children.length===0)if(this.statics.defaultChild!=null){var v=l.create(this.statics.defaultChild);this.appendChild(v),v.optimize(p)}else this.remove()},h.prototype.path=function(p,v){v===void 0&&(v=!1);var g=this.children.find(p,v),y=g[0],b=g[1],_=[[this,p]];return y instanceof h?_.concat(y.path(b,v)):(y!=null&&_.push([y,b]),_)},h.prototype.removeChild=function(p){this.children.remove(p)},h.prototype.replace=function(p){p instanceof h&&p.moveChildren(this),f.prototype.replace.call(this,p)},h.prototype.split=function(p,v){if(v===void 0&&(v=!1),!v){if(p===0)return this;if(p===this.length())return this.next}var g=this.clone();return this.parent.insertBefore(g,this.next),this.children.forEachAt(p,this.length(),function(y,b,_){y=y.split(b,v),g.appendChild(y)}),g},h.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},h.prototype.update=function(p,v){var g=this,y=[],b=[];p.forEach(function(_){_.target===g.domNode&&_.type==="childList"&&(y.push.apply(y,_.addedNodes),b.push.apply(b,_.removedNodes))}),b.forEach(function(_){if(!(_.parentNode!=null&&_.tagName!=="IFRAME"&&document.body.compareDocumentPosition(_)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var w=l.find(_);w!=null&&(w.domNode.parentNode==null||w.domNode.parentNode===g.domNode)&&w.detach()}}),y.filter(function(_){return _.parentNode==g.domNode}).sort(function(_,w){return _===w?0:_.compareDocumentPosition(w)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(_){var w=null;_.nextSibling!=null&&(w=l.find(_.nextSibling));var C=u(_);(C.next!=w||C.next==null)&&(C.parent!=null&&C.parent.removeChild(g),g.insertBefore(C,w||void 0))})},h})(o.default);function u(f){var h=l.find(f);if(h==null)try{h=l.create(f)}catch{h=l.create(l.Scope.INLINE),[].slice.call(f.childNodes).forEach(function(v){h.domNode.appendChild(v)}),f.parentNode&&f.parentNode.replaceChild(h.domNode,f),h.attach()}return h}r.default=c}),(function(n,r,i){var s=this&&this.__extends||(function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var v in p)p.hasOwnProperty(v)&&(h[v]=p[v])};return function(h,p){f(h,p);function v(){this.constructor=h}h.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(12),o=i(31),l=i(17),c=i(1),u=(function(f){s(h,f);function h(p){var v=f.call(this,p)||this;return v.attributes=new o.default(v.domNode),v}return h.formats=function(p){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return p.tagName.toLowerCase()},h.prototype.format=function(p,v){var g=c.query(p);g instanceof a.default?this.attributes.attribute(g,v):v&&g!=null&&(p!==this.statics.blotName||this.formats()[p]!==v)&&this.replaceWith(p,v)},h.prototype.formats=function(){var p=this.attributes.values(),v=this.statics.formats(this.domNode);return v!=null&&(p[this.statics.blotName]=v),p},h.prototype.replaceWith=function(p,v){var g=f.prototype.replaceWith.call(this,p,v);return this.attributes.copy(g),g},h.prototype.update=function(p,v){var g=this;f.prototype.update.call(this,p,v),p.some(function(y){return y.target===g.domNode&&y.type==="attributes"})&&this.attributes.build()},h.prototype.wrap=function(p,v){var g=f.prototype.wrap.call(this,p,v);return g instanceof h&&g.statics.scope===this.statics.scope&&this.attributes.move(g),g},h})(l.default);r.default=u}),(function(n,r,i){var s=this&&this.__extends||(function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){c(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(30),o=i(1),l=(function(c){s(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.value=function(f){return!0},u.prototype.index=function(f,h){return this.domNode===f||this.domNode.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(h,1):-1},u.prototype.position=function(f,h){var p=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return f>0&&(p+=1),[this.parent.domNode,p]},u.prototype.value=function(){var f;return f={},f[this.statics.blotName]=this.statics.value(this.domNode)||!0,f},u.scope=o.Scope.INLINE_BLOT,u})(a.default);r.default=l}),(function(n,r,i){var s=i(11),a=i(3),o={attributes:{compose:function(c,u,f){typeof c!="object"&&(c={}),typeof u!="object"&&(u={});var h=a(!0,{},u);f||(h=Object.keys(h).reduce(function(v,g){return h[g]!=null&&(v[g]=h[g]),v},{}));for(var p in c)c[p]!==void 0&&u[p]===void 0&&(h[p]=c[p]);return Object.keys(h).length>0?h:void 0},diff:function(c,u){typeof c!="object"&&(c={}),typeof u!="object"&&(u={});var f=Object.keys(c).concat(Object.keys(u)).reduce(function(h,p){return s(c[p],u[p])||(h[p]=u[p]===void 0?null:u[p]),h},{});return Object.keys(f).length>0?f:void 0},transform:function(c,u,f){if(typeof c!="object")return u;if(typeof u=="object"){if(!f)return u;var h=Object.keys(u).reduce(function(p,v){return c[v]===void 0&&(p[v]=u[v]),p},{});return Object.keys(h).length>0?h:void 0}}},iterator:function(c){return new l(c)},length:function(c){return typeof c.delete=="number"?c.delete:typeof c.retain=="number"?c.retain:typeof c.insert=="string"?c.insert.length:1}};function l(c){this.ops=c,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(c){c||(c=1/0);var u=this.ops[this.index];if(u){var f=this.offset,h=o.length(u);if(c>=h-f?(c=h-f,this.index+=1,this.offset=0):this.offset+=c,typeof u.delete=="number")return{delete:c};var p={};return u.attributes&&(p.attributes=u.attributes),typeof u.retain=="number"?p.retain=c:typeof u.insert=="string"?p.insert=u.insert.substr(f,c):p.insert=u.insert,p}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?o.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var c=this.offset,u=this.index,f=this.next(),h=this.ops.slice(this.index);return this.offset=c,this.index=u,[f].concat(h)}else return[]},n.exports=o}),(function(n,r){var i=(function(){function s(g,y){return y!=null&&g instanceof y}var a;try{a=Map}catch{a=function(){}}var o;try{o=Set}catch{o=function(){}}var l;try{l=Promise}catch{l=function(){}}function c(g,y,b,_,w){typeof y=="object"&&(b=y.depth,_=y.prototype,w=y.includeNonEnumerable,y=y.circular);var C=[],S=[],R=typeof Buffer<"u";typeof y>"u"&&(y=!0),typeof b>"u"&&(b=1/0);function D(N,k){if(N===null)return null;if(k===0)return N;var F,P;if(typeof N!="object")return N;if(s(N,a))F=new a;else if(s(N,o))F=new o;else if(s(N,l))F=new l(function(Q,B){N.then(function(j){Q(D(j,k-1))},function(j){B(D(j,k-1))})});else if(c.__isArray(N))F=[];else if(c.__isRegExp(N))F=new RegExp(N.source,v(N)),N.lastIndex&&(F.lastIndex=N.lastIndex);else if(c.__isDate(N))F=new Date(N.getTime());else{if(R&&Buffer.isBuffer(N))return Buffer.allocUnsafe?F=Buffer.allocUnsafe(N.length):F=new Buffer(N.length),N.copy(F),F;s(N,Error)?F=Object.create(N):typeof _>"u"?(P=Object.getPrototypeOf(N),F=Object.create(P)):(F=Object.create(_),P=_)}if(y){var I=C.indexOf(N);if(I!=-1)return S[I];C.push(N),S.push(F)}s(N,a)&&N.forEach(function(Q,B){var j=D(B,k-1),W=D(Q,k-1);F.set(j,W)}),s(N,o)&&N.forEach(function(Q){var B=D(Q,k-1);F.add(B)});for(var U in N){var O;P&&(O=Object.getOwnPropertyDescriptor(P,U)),!(O&&O.set==null)&&(F[U]=D(N[U],k-1))}if(Object.getOwnPropertySymbols)for(var K=Object.getOwnPropertySymbols(N),U=0;U<K.length;U++){var X=K[U],J=Object.getOwnPropertyDescriptor(N,X);J&&!J.enumerable&&!w||(F[X]=D(N[X],k-1),J.enumerable||Object.defineProperty(F,X,{enumerable:!1}))}if(w)for(var ne=Object.getOwnPropertyNames(N),U=0;U<ne.length;U++){var z=ne[U],J=Object.getOwnPropertyDescriptor(N,z);J&&J.enumerable||(F[z]=D(N[z],k-1),Object.defineProperty(F,z,{enumerable:!1}))}return F}return D(g,b)}c.clonePrototype=function(y){if(y===null)return null;var b=function(){};return b.prototype=y,new b};function u(g){return Object.prototype.toString.call(g)}c.__objToStr=u;function f(g){return typeof g=="object"&&u(g)==="[object Date]"}c.__isDate=f;function h(g){return typeof g=="object"&&u(g)==="[object Array]"}c.__isArray=h;function p(g){return typeof g=="object"&&u(g)==="[object RegExp]"}c.__isRegExp=p;function v(g){var y="";return g.global&&(y+="g"),g.ignoreCase&&(y+="i"),g.multiline&&(y+="m"),y}return c.__getRegExpFlags=v,c})();typeof n=="object"&&n.exports&&(n.exports=i)}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function F(P,I){var U=[],O=!0,K=!1,X=void 0;try{for(var J=P[Symbol.iterator](),ne;!(O=(ne=J.next()).done)&&(U.push(ne.value),!(I&&U.length===I));O=!0);}catch(z){K=!0,X=z}finally{try{!O&&J.return&&J.return()}finally{if(K)throw X}}return U}return function(P,I){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return F(P,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=(function(){function F(P,I){for(var U=0;U<I.length;U++){var O=I[U];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(P,O.key,O)}}return function(P,I,U){return I&&F(P.prototype,I),U&&F(P,U),P}})(),o=function F(P,I,U){P===null&&(P=Function.prototype);var O=Object.getOwnPropertyDescriptor(P,I);if(O===void 0){var K=Object.getPrototypeOf(P);return K===null?void 0:F(K,I,U)}else{if("value"in O)return O.value;var X=O.get;return X===void 0?void 0:X.call(U)}},l=i(0),c=C(l),u=i(8),f=C(u),h=i(4),p=C(h),v=i(16),g=C(v),y=i(13),b=C(y),_=i(25),w=C(_);function C(F){return F&&F.__esModule?F:{default:F}}function S(F,P){if(!(F instanceof P))throw new TypeError("Cannot call a class as a function")}function R(F,P){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:F}function D(F,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);F.prototype=Object.create(P&&P.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(F,P):F.__proto__=P)}function N(F){return F instanceof p.default||F instanceof h.BlockEmbed}var k=(function(F){D(P,F);function P(I,U){S(this,P);var O=R(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,I));return O.emitter=U.emitter,Array.isArray(U.whitelist)&&(O.whitelist=U.whitelist.reduce(function(K,X){return K[X]=!0,K},{})),O.domNode.addEventListener("DOMNodeInserted",function(){}),O.optimize(),O.enable(),O}return a(P,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(U,O){var K=this.line(U),X=s(K,2),J=X[0],ne=X[1],z=this.line(U+O),Q=s(z,1),B=Q[0];if(o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"deleteAt",this).call(this,U,O),B!=null&&J!==B&&ne>0){if(J instanceof h.BlockEmbed||B instanceof h.BlockEmbed){this.optimize();return}if(J instanceof b.default){var j=J.newlineIndex(J.length(),!0);if(j>-1&&(J=J.split(j+1),J===B)){this.optimize();return}}else if(B instanceof b.default){var W=B.newlineIndex(0);W>-1&&B.split(W+1)}var G=B.children.head instanceof g.default?null:B.children.head;J.moveChildren(B,G),J.remove()}this.optimize()}},{key:"enable",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",U)}},{key:"formatAt",value:function(U,O,K,X){this.whitelist!=null&&!this.whitelist[K]||(o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"formatAt",this).call(this,U,O,K,X),this.optimize())}},{key:"insertAt",value:function(U,O,K){if(!(K!=null&&this.whitelist!=null&&!this.whitelist[O])){if(U>=this.length())if(K==null||c.default.query(O,c.default.Scope.BLOCK)==null){var X=c.default.create(this.statics.defaultChild);this.appendChild(X),K==null&&O.endsWith(`
`)&&(O=O.slice(0,-1)),X.insertAt(0,O,K)}else{var J=c.default.create(O,K);this.appendChild(J)}else o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,U,O,K);this.optimize()}}},{key:"insertBefore",value:function(U,O){if(U.statics.scope===c.default.Scope.INLINE_BLOT){var K=c.default.create(this.statics.defaultChild);K.appendChild(U),U=K}o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertBefore",this).call(this,U,O)}},{key:"leaf",value:function(U){return this.path(U).pop()||[null,-1]}},{key:"line",value:function(U){return U===this.length()?this.line(U-1):this.descendant(N,U)}},{key:"lines",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,K=function X(J,ne,z){var Q=[],B=z;return J.children.forEachAt(ne,z,function(j,W,G){N(j)?Q.push(j):j instanceof c.default.Container&&(Q=Q.concat(X(j,W,B))),B-=G}),Q};return K(this,U,O)}},{key:"optimize",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"optimize",this).call(this,U,O),U.length>0&&this.emitter.emit(f.default.events.SCROLL_OPTIMIZE,U,O))}},{key:"path",value:function(U){return o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"path",this).call(this,U).slice(1)}},{key:"update",value:function(U){if(this.batch!==!0){var O=f.default.sources.USER;typeof U=="string"&&(O=U),Array.isArray(U)||(U=this.observer.takeRecords()),U.length>0&&this.emitter.emit(f.default.events.SCROLL_BEFORE_UPDATE,O,U),o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"update",this).call(this,U.concat([])),U.length>0&&this.emitter.emit(f.default.events.SCROLL_UPDATE,O,U)}}}]),P})(c.default.Scroll);k.blotName="scroll",k.className="ql-editor",k.tagName="DIV",k.defaultChild="block",k.allowedChildren=[p.default,h.BlockEmbed,w.default],r.default=k}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ee){return typeof ee}:function(ee){return ee&&typeof Symbol=="function"&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":typeof ee},a=(function(){function ee(ae,de){var fe=[],Ae=!0,Re=!1,me=void 0;try{for(var Le=ae[Symbol.iterator](),V;!(Ae=(V=Le.next()).done)&&(fe.push(V.value),!(de&&fe.length===de));Ae=!0);}catch(xe){Re=!0,me=xe}finally{try{!Ae&&Le.return&&Le.return()}finally{if(Re)throw me}}return fe}return function(ae,de){if(Array.isArray(ae))return ae;if(Symbol.iterator in Object(ae))return ee(ae,de);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=(function(){function ee(ae,de){for(var fe=0;fe<de.length;fe++){var Ae=de[fe];Ae.enumerable=Ae.enumerable||!1,Ae.configurable=!0,"value"in Ae&&(Ae.writable=!0),Object.defineProperty(ae,Ae.key,Ae)}}return function(ae,de,fe){return de&&ee(ae.prototype,de),fe&&ee(ae,fe),ae}})(),l=i(21),c=F(l),u=i(11),f=F(u),h=i(3),p=F(h),v=i(2),g=F(v),y=i(20),b=F(y),_=i(0),w=F(_),C=i(5),S=F(C),R=i(10),D=F(R),N=i(9),k=F(N);function F(ee){return ee&&ee.__esModule?ee:{default:ee}}function P(ee,ae,de){return ae in ee?Object.defineProperty(ee,ae,{value:de,enumerable:!0,configurable:!0,writable:!0}):ee[ae]=de,ee}function I(ee,ae){if(!(ee instanceof ae))throw new TypeError("Cannot call a class as a function")}function U(ee,ae){if(!ee)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ae&&(typeof ae=="object"||typeof ae=="function")?ae:ee}function O(ee,ae){if(typeof ae!="function"&&ae!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ae);ee.prototype=Object.create(ae&&ae.prototype,{constructor:{value:ee,enumerable:!1,writable:!0,configurable:!0}}),ae&&(Object.setPrototypeOf?Object.setPrototypeOf(ee,ae):ee.__proto__=ae)}var K=(0,D.default)("quill:keyboard"),X=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",J=(function(ee){O(ae,ee),o(ae,null,[{key:"match",value:function(fe,Ae){return Ae=Y(Ae),["altKey","ctrlKey","metaKey","shiftKey"].some(function(Re){return!!Ae[Re]!==fe[Re]&&Ae[Re]!==null})?!1:Ae.key===(fe.which||fe.keyCode)}}]);function ae(de,fe){I(this,ae);var Ae=U(this,(ae.__proto__||Object.getPrototypeOf(ae)).call(this,de,fe));return Ae.bindings={},Object.keys(Ae.options.bindings).forEach(function(Re){Re==="list autofill"&&de.scroll.whitelist!=null&&!de.scroll.whitelist.list||Ae.options.bindings[Re]&&Ae.addBinding(Ae.options.bindings[Re])}),Ae.addBinding({key:ae.keys.ENTER,shiftKey:null},j),Ae.addBinding({key:ae.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(Ae.addBinding({key:ae.keys.BACKSPACE},{collapsed:!0},z),Ae.addBinding({key:ae.keys.DELETE},{collapsed:!0},Q)):(Ae.addBinding({key:ae.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},z),Ae.addBinding({key:ae.keys.DELETE},{collapsed:!0,suffix:/^.?$/},Q)),Ae.addBinding({key:ae.keys.BACKSPACE},{collapsed:!1},B),Ae.addBinding({key:ae.keys.DELETE},{collapsed:!1},B),Ae.addBinding({key:ae.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},z),Ae.listen(),Ae}return o(ae,[{key:"addBinding",value:function(fe){var Ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},me=Y(fe);if(me==null||me.key==null)return K.warn("Attempted to add invalid keyboard binding",me);typeof Ae=="function"&&(Ae={handler:Ae}),typeof Re=="function"&&(Re={handler:Re}),me=(0,p.default)(me,Ae,Re),this.bindings[me.key]=this.bindings[me.key]||[],this.bindings[me.key].push(me)}},{key:"listen",value:function(){var fe=this;this.quill.root.addEventListener("keydown",function(Ae){if(!Ae.defaultPrevented){var Re=Ae.which||Ae.keyCode,me=(fe.bindings[Re]||[]).filter(function(Oe){return ae.match(Ae,Oe)});if(me.length!==0){var Le=fe.quill.getSelection();if(!(Le==null||!fe.quill.hasFocus())){var V=fe.quill.getLine(Le.index),xe=a(V,2),Te=xe[0],le=xe[1],re=fe.quill.getLeaf(Le.index),oe=a(re,2),he=oe[0],we=oe[1],ie=Le.length===0?[he,we]:fe.quill.getLeaf(Le.index+Le.length),ce=a(ie,2),ge=ce[0],ye=ce[1],Ne=he instanceof w.default.Text?he.value().slice(0,we):"",Ue=ge instanceof w.default.Text?ge.value().slice(ye):"",Se={collapsed:Le.length===0,empty:Le.length===0&&Te.length()<=1,format:fe.quill.getFormat(Le),offset:le,prefix:Ne,suffix:Ue},Me=me.some(function(Oe){if(Oe.collapsed!=null&&Oe.collapsed!==Se.collapsed||Oe.empty!=null&&Oe.empty!==Se.empty||Oe.offset!=null&&Oe.offset!==Se.offset)return!1;if(Array.isArray(Oe.format)){if(Oe.format.every(function(Xe){return Se.format[Xe]==null}))return!1}else if(s(Oe.format)==="object"&&!Object.keys(Oe.format).every(function(Xe){return Oe.format[Xe]===!0?Se.format[Xe]!=null:Oe.format[Xe]===!1?Se.format[Xe]==null:(0,f.default)(Oe.format[Xe],Se.format[Xe])}))return!1;return Oe.prefix!=null&&!Oe.prefix.test(Se.prefix)||Oe.suffix!=null&&!Oe.suffix.test(Se.suffix)?!1:Oe.handler.call(fe,Le,Se)!==!0});Me&&Ae.preventDefault()}}}})}}]),ae})(k.default);J.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},J.DEFAULTS={bindings:{bold:G("bold"),italic:G("italic"),underline:G("underline"),indent:{key:J.keys.TAB,format:["blockquote","indent","list"],handler:function(ae,de){if(de.collapsed&&de.offset!==0)return!0;this.quill.format("indent","+1",S.default.sources.USER)}},outdent:{key:J.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(ae,de){if(de.collapsed&&de.offset!==0)return!0;this.quill.format("indent","-1",S.default.sources.USER)}},"outdent backspace":{key:J.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(ae,de){de.format.indent!=null?this.quill.format("indent","-1",S.default.sources.USER):de.format.list!=null&&this.quill.format("list",!1,S.default.sources.USER)}},"indent code-block":W(!0),"outdent code-block":W(!1),"remove tab":{key:J.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(ae){this.quill.deleteText(ae.index-1,1,S.default.sources.USER)}},tab:{key:J.keys.TAB,handler:function(ae){this.quill.history.cutoff();var de=new g.default().retain(ae.index).delete(ae.length).insert("	");this.quill.updateContents(de,S.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(ae.index+1,S.default.sources.SILENT)}},"list empty enter":{key:J.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(ae,de){this.quill.format("list",!1,S.default.sources.USER),de.format.indent&&this.quill.format("indent",!1,S.default.sources.USER)}},"checklist enter":{key:J.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(ae){var de=this.quill.getLine(ae.index),fe=a(de,2),Ae=fe[0],Re=fe[1],me=(0,p.default)({},Ae.formats(),{list:"checked"}),Le=new g.default().retain(ae.index).insert(`
`,me).retain(Ae.length()-Re-1).retain(1,{list:"unchecked"});this.quill.updateContents(Le,S.default.sources.USER),this.quill.setSelection(ae.index+1,S.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:J.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(ae,de){var fe=this.quill.getLine(ae.index),Ae=a(fe,2),Re=Ae[0],me=Ae[1],Le=new g.default().retain(ae.index).insert(`
`,de.format).retain(Re.length()-me-1).retain(1,{header:null});this.quill.updateContents(Le,S.default.sources.USER),this.quill.setSelection(ae.index+1,S.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(ae,de){var fe=de.prefix.length,Ae=this.quill.getLine(ae.index),Re=a(Ae,2),me=Re[0],Le=Re[1];if(Le>fe)return!0;var V=void 0;switch(de.prefix.trim()){case"[]":case"[ ]":V="unchecked";break;case"[x]":V="checked";break;case"-":case"*":V="bullet";break;default:V="ordered"}this.quill.insertText(ae.index," ",S.default.sources.USER),this.quill.history.cutoff();var xe=new g.default().retain(ae.index-Le).delete(fe+1).retain(me.length()-2-Le).retain(1,{list:V});this.quill.updateContents(xe,S.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(ae.index-fe,S.default.sources.SILENT)}},"code exit":{key:J.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(ae){var de=this.quill.getLine(ae.index),fe=a(de,2),Ae=fe[0],Re=fe[1],me=new g.default().retain(ae.index+Ae.length()-Re-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(me,S.default.sources.USER)}},"embed left":ne(J.keys.LEFT,!1),"embed left shift":ne(J.keys.LEFT,!0),"embed right":ne(J.keys.RIGHT,!1),"embed right shift":ne(J.keys.RIGHT,!0)}};function ne(ee,ae){var de,fe=ee===J.keys.LEFT?"prefix":"suffix";return de={key:ee,shiftKey:ae,altKey:null},P(de,fe,/^$/),P(de,"handler",function(Re){var me=Re.index;ee===J.keys.RIGHT&&(me+=Re.length+1);var Le=this.quill.getLeaf(me),V=a(Le,1),xe=V[0];return xe instanceof w.default.Embed?(ee===J.keys.LEFT?ae?this.quill.setSelection(Re.index-1,Re.length+1,S.default.sources.USER):this.quill.setSelection(Re.index-1,S.default.sources.USER):ae?this.quill.setSelection(Re.index,Re.length+1,S.default.sources.USER):this.quill.setSelection(Re.index+Re.length+1,S.default.sources.USER),!1):!0}),de}function z(ee,ae){if(!(ee.index===0||this.quill.getLength()<=1)){var de=this.quill.getLine(ee.index),fe=a(de,1),Ae=fe[0],Re={};if(ae.offset===0){var me=this.quill.getLine(ee.index-1),Le=a(me,1),V=Le[0];if(V!=null&&V.length()>1){var xe=Ae.formats(),Te=this.quill.getFormat(ee.index-1,1);Re=b.default.attributes.diff(xe,Te)||{}}}var le=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(ae.prefix)?2:1;this.quill.deleteText(ee.index-le,le,S.default.sources.USER),Object.keys(Re).length>0&&this.quill.formatLine(ee.index-le,le,Re,S.default.sources.USER),this.quill.focus()}}function Q(ee,ae){var de=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(ae.suffix)?2:1;if(!(ee.index>=this.quill.getLength()-de)){var fe={},Ae=0,Re=this.quill.getLine(ee.index),me=a(Re,1),Le=me[0];if(ae.offset>=Le.length()-1){var V=this.quill.getLine(ee.index+1),xe=a(V,1),Te=xe[0];if(Te){var le=Le.formats(),re=this.quill.getFormat(ee.index,1);fe=b.default.attributes.diff(le,re)||{},Ae=Te.length()}}this.quill.deleteText(ee.index,de,S.default.sources.USER),Object.keys(fe).length>0&&this.quill.formatLine(ee.index+Ae-1,de,fe,S.default.sources.USER)}}function B(ee){var ae=this.quill.getLines(ee),de={};if(ae.length>1){var fe=ae[0].formats(),Ae=ae[ae.length-1].formats();de=b.default.attributes.diff(Ae,fe)||{}}this.quill.deleteText(ee,S.default.sources.USER),Object.keys(de).length>0&&this.quill.formatLine(ee.index,1,de,S.default.sources.USER),this.quill.setSelection(ee.index,S.default.sources.SILENT),this.quill.focus()}function j(ee,ae){var de=this;ee.length>0&&this.quill.scroll.deleteAt(ee.index,ee.length);var fe=Object.keys(ae.format).reduce(function(Ae,Re){return w.default.query(Re,w.default.Scope.BLOCK)&&!Array.isArray(ae.format[Re])&&(Ae[Re]=ae.format[Re]),Ae},{});this.quill.insertText(ee.index,`
`,fe,S.default.sources.USER),this.quill.setSelection(ee.index+1,S.default.sources.SILENT),this.quill.focus(),Object.keys(ae.format).forEach(function(Ae){fe[Ae]==null&&(Array.isArray(ae.format[Ae])||Ae!=="link"&&de.quill.format(Ae,ae.format[Ae],S.default.sources.USER))})}function W(ee){return{key:J.keys.TAB,shiftKey:!ee,format:{"code-block":!0},handler:function(de){var fe=w.default.query("code-block"),Ae=de.index,Re=de.length,me=this.quill.scroll.descendant(fe,Ae),Le=a(me,2),V=Le[0],xe=Le[1];if(V!=null){var Te=this.quill.getIndex(V),le=V.newlineIndex(xe,!0)+1,re=V.newlineIndex(Te+xe+Re),oe=V.domNode.textContent.slice(le,re).split(`
`);xe=0,oe.forEach(function(he,we){ee?(V.insertAt(le+xe,fe.TAB),xe+=fe.TAB.length,we===0?Ae+=fe.TAB.length:Re+=fe.TAB.length):he.startsWith(fe.TAB)&&(V.deleteAt(le+xe,fe.TAB.length),xe-=fe.TAB.length,we===0?Ae-=fe.TAB.length:Re-=fe.TAB.length),xe+=he.length+1}),this.quill.update(S.default.sources.USER),this.quill.setSelection(Ae,Re,S.default.sources.SILENT)}}}}function G(ee){return{key:ee[0].toUpperCase(),shortKey:!0,handler:function(de,fe){this.quill.format(ee,!fe.format[ee],S.default.sources.USER)}}}function Y(ee){if(typeof ee=="string"||typeof ee=="number")return Y({key:ee});if((typeof ee>"u"?"undefined":s(ee))==="object"&&(ee=(0,c.default)(ee,!1)),typeof ee.key=="string")if(J.keys[ee.key.toUpperCase()]!=null)ee.key=J.keys[ee.key.toUpperCase()];else if(ee.key.length===1)ee.key=ee.key.toUpperCase().charCodeAt(0);else return null;return ee.shortKey&&(ee[X]=ee.shortKey,delete ee.shortKey),ee}r.default=J,r.SHORTKEY=X}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function b(_,w){var C=[],S=!0,R=!1,D=void 0;try{for(var N=_[Symbol.iterator](),k;!(S=(k=N.next()).done)&&(C.push(k.value),!(w&&C.length===w));S=!0);}catch(F){R=!0,D=F}finally{try{!S&&N.return&&N.return()}finally{if(R)throw D}}return C}return function(_,w){if(Array.isArray(_))return _;if(Symbol.iterator in Object(_))return b(_,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=function b(_,w,C){_===null&&(_=Function.prototype);var S=Object.getOwnPropertyDescriptor(_,w);if(S===void 0){var R=Object.getPrototypeOf(_);return R===null?void 0:b(R,w,C)}else{if("value"in S)return S.value;var D=S.get;return D===void 0?void 0:D.call(C)}},o=(function(){function b(_,w){for(var C=0;C<w.length;C++){var S=w[C];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(_,S.key,S)}}return function(_,w,C){return w&&b(_.prototype,w),C&&b(_,C),_}})(),l=i(0),c=h(l),u=i(7),f=h(u);function h(b){return b&&b.__esModule?b:{default:b}}function p(b,_){if(!(b instanceof _))throw new TypeError("Cannot call a class as a function")}function v(b,_){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:b}function g(b,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);b.prototype=Object.create(_&&_.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(b,_):b.__proto__=_)}var y=(function(b){g(_,b),o(_,null,[{key:"value",value:function(){}}]);function _(w,C){p(this,_);var S=v(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,w));return S.selection=C,S.textNode=document.createTextNode(_.CONTENTS),S.domNode.appendChild(S.textNode),S._length=0,S}return o(_,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(C,S){if(this._length!==0)return a(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"format",this).call(this,C,S);for(var R=this,D=0;R!=null&&R.statics.scope!==c.default.Scope.BLOCK_BLOT;)D+=R.offset(R.parent),R=R.parent;R!=null&&(this._length=_.CONTENTS.length,R.optimize(),R.formatAt(D,_.CONTENTS.length,C,S),this._length=0)}},{key:"index",value:function(C,S){return C===this.textNode?0:a(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"index",this).call(this,C,S)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){a(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var C=this.textNode,S=this.selection.getNativeRange(),R=void 0,D=void 0,N=void 0;if(S!=null&&S.start.node===C&&S.end.node===C){var k=[C,S.start.offset,S.end.offset];R=k[0],D=k[1],N=k[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==_.CONTENTS){var F=this.textNode.data.split(_.CONTENTS).join("");this.next instanceof f.default?(R=this.next.domNode,this.next.insertAt(0,F),this.textNode.data=_.CONTENTS):(this.textNode.data=F,this.parent.insertBefore(c.default.create(this.textNode),this),this.textNode=document.createTextNode(_.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),D!=null){var P=[D,N].map(function(U){return Math.max(0,Math.min(R.data.length,U-1))}),I=s(P,2);return D=I[0],N=I[1],{startNode:R,startOffset:D,endNode:R,endOffset:N}}}}},{key:"update",value:function(C,S){var R=this;if(C.some(function(N){return N.type==="characterData"&&N.target===R.textNode})){var D=this.restore();D&&(S.range=D)}}},{key:"value",value:function(){return""}}]),_})(c.default.Embed);y.blotName="cursor",y.className="ql-cursor",y.tagName="span",y.CONTENTS="\uFEFF",r.default=y}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),a=c(s),o=i(4),l=c(o);function c(v){return v&&v.__esModule?v:{default:v}}function u(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function f(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function h(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=(function(v){h(g,v);function g(){return u(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g})(a.default.Container);p.allowedChildren=[l.default,o.BlockEmbed,p],r.default=p}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var s=(function(){function y(b,_){for(var w=0;w<_.length;w++){var C=_[w];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(b,C.key,C)}}return function(b,_,w){return _&&y(b.prototype,_),w&&y(b,w),b}})(),a=function y(b,_,w){b===null&&(b=Function.prototype);var C=Object.getOwnPropertyDescriptor(b,_);if(C===void 0){var S=Object.getPrototypeOf(b);return S===null?void 0:y(S,_,w)}else{if("value"in C)return C.value;var R=C.get;return R===void 0?void 0:R.call(w)}},o=i(0),l=c(o);function c(y){return y&&y.__esModule?y:{default:y}}function u(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}function f(y,b){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:y}function h(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(y,b):y.__proto__=b)}var p=(function(y){h(b,y);function b(){return u(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,[{key:"value",value:function(w){var C=a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"value",this).call(this,w);return C.startsWith("rgb(")?(C=C.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+C.split(",").map(function(S){return("00"+parseInt(S).toString(16)).slice(-2)}).join("")):C}}]),b})(l.default.Attributor.Style),v=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),g=new p("color","color",{scope:l.default.Scope.INLINE});r.ColorAttributor=p,r.ColorClass=v,r.ColorStyle=g}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var s=(function(){function g(y,b){for(var _=0;_<b.length;_++){var w=b[_];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}return function(y,b,_){return b&&g(y.prototype,b),_&&g(y,_),y}})(),a=function g(y,b,_){y===null&&(y=Function.prototype);var w=Object.getOwnPropertyDescriptor(y,b);if(w===void 0){var C=Object.getPrototypeOf(y);return C===null?void 0:g(C,b,_)}else{if("value"in w)return w.value;var S=w.get;return S===void 0?void 0:S.call(_)}},o=i(6),l=c(o);function c(g){return g&&g.__esModule?g:{default:g}}function u(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function f(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function h(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var p=(function(g){h(y,g);function y(){return u(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,[{key:"format",value:function(_,w){if(_!==this.statics.blotName||!w)return a(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,_,w);w=this.constructor.sanitize(w),this.domNode.setAttribute("href",w)}}],[{key:"create",value:function(_){var w=a(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,_);return _=this.sanitize(_),w.setAttribute("href",_),w.setAttribute("rel","noopener noreferrer"),w.setAttribute("target","_blank"),w}},{key:"formats",value:function(_){return _.getAttribute("href")}},{key:"sanitize",value:function(_){return v(_,this.PROTOCOL_WHITELIST)?_:this.SANITIZED_URL}}]),y})(l.default);p.blotName="link",p.tagName="A",p.SANITIZED_URL="about:blank",p.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function v(g,y){var b=document.createElement("a");b.href=g;var _=b.href.slice(0,b.href.indexOf(":"));return y.indexOf(_)>-1}r.default=p,r.sanitize=v}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},a=(function(){function y(b,_){for(var w=0;w<_.length;w++){var C=_[w];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(b,C.key,C)}}return function(b,_,w){return _&&y(b.prototype,_),w&&y(b,w),b}})(),o=i(23),l=f(o),c=i(107),u=f(c);function f(y){return y&&y.__esModule?y:{default:y}}function h(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}var p=0;function v(y,b){y.setAttribute(b,y.getAttribute(b)!=="true")}var g=(function(){function y(b){var _=this;h(this,y),this.select=b,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){_.togglePicker()}),this.label.addEventListener("keydown",function(w){switch(w.keyCode){case l.default.keys.ENTER:_.togglePicker();break;case l.default.keys.ESCAPE:_.escape(),w.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return a(y,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),v(this.label,"aria-expanded"),v(this.options,"aria-hidden")}},{key:"buildItem",value:function(_){var w=this,C=document.createElement("span");return C.tabIndex="0",C.setAttribute("role","button"),C.classList.add("ql-picker-item"),_.hasAttribute("value")&&C.setAttribute("data-value",_.getAttribute("value")),_.textContent&&C.setAttribute("data-label",_.textContent),C.addEventListener("click",function(){w.selectItem(C,!0)}),C.addEventListener("keydown",function(S){switch(S.keyCode){case l.default.keys.ENTER:w.selectItem(C,!0),S.preventDefault();break;case l.default.keys.ESCAPE:w.escape(),S.preventDefault();break}}),C}},{key:"buildLabel",value:function(){var _=document.createElement("span");return _.classList.add("ql-picker-label"),_.innerHTML=u.default,_.tabIndex="0",_.setAttribute("role","button"),_.setAttribute("aria-expanded","false"),this.container.appendChild(_),_}},{key:"buildOptions",value:function(){var _=this,w=document.createElement("span");w.classList.add("ql-picker-options"),w.setAttribute("aria-hidden","true"),w.tabIndex="-1",w.id="ql-picker-options-"+p,p+=1,this.label.setAttribute("aria-controls",w.id),this.options=w,[].slice.call(this.select.options).forEach(function(C){var S=_.buildItem(C);w.appendChild(S),C.selected===!0&&_.selectItem(S)}),this.container.appendChild(w)}},{key:"buildPicker",value:function(){var _=this;[].slice.call(this.select.attributes).forEach(function(w){_.container.setAttribute(w.name,w.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var _=this;this.close(),setTimeout(function(){return _.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(_){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,C=this.container.querySelector(".ql-selected");if(_!==C&&(C!=null&&C.classList.remove("ql-selected"),_!=null&&(_.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(_.parentNode.children,_),_.hasAttribute("data-value")?this.label.setAttribute("data-value",_.getAttribute("data-value")):this.label.removeAttribute("data-value"),_.hasAttribute("data-label")?this.label.setAttribute("data-label",_.getAttribute("data-label")):this.label.removeAttribute("data-label"),w))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":s(Event))==="object"){var S=document.createEvent("Event");S.initEvent("change",!0,!0),this.select.dispatchEvent(S)}this.close()}}},{key:"update",value:function(){var _=void 0;if(this.select.selectedIndex>-1){var w=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];_=this.select.options[this.select.selectedIndex],this.selectItem(w)}else this.selectItem(null);var C=_!=null&&_!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",C)}}]),y})();r.default=g}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),a=K(s),o=i(5),l=K(o),c=i(4),u=K(c),f=i(16),h=K(f),p=i(25),v=K(p),g=i(24),y=K(g),b=i(35),_=K(b),w=i(6),C=K(w),S=i(22),R=K(S),D=i(7),N=K(D),k=i(55),F=K(k),P=i(42),I=K(P),U=i(23),O=K(U);function K(X){return X&&X.__esModule?X:{default:X}}l.default.register({"blots/block":u.default,"blots/block/embed":c.BlockEmbed,"blots/break":h.default,"blots/container":v.default,"blots/cursor":y.default,"blots/embed":_.default,"blots/inline":C.default,"blots/scroll":R.default,"blots/text":N.default,"modules/clipboard":F.default,"modules/history":I.default,"modules/keyboard":O.default}),a.default.register(u.default,h.default,y.default,C.default,R.default,N.default),r.default=l.default}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(1),a=(function(){function o(l){this.domNode=l,this.domNode[s.DATA_KEY]={blot:this}}return Object.defineProperty(o.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),o.create=function(l){if(this.tagName==null)throw new s.ParchmentError("Blot definition missing tagName");var c;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?c=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?c=document.createElement(l):c=document.createElement(this.tagName[0])):c=document.createElement(this.tagName),this.className&&c.classList.add(this.className),c},o.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},o.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return s.create(l)},o.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[s.DATA_KEY]},o.prototype.deleteAt=function(l,c){var u=this.isolate(l,c);u.remove()},o.prototype.formatAt=function(l,c,u,f){var h=this.isolate(l,c);if(s.query(u,s.Scope.BLOT)!=null&&f)h.wrap(u,f);else if(s.query(u,s.Scope.ATTRIBUTE)!=null){var p=s.create(this.statics.scope);h.wrap(p),p.format(u,f)}},o.prototype.insertAt=function(l,c,u){var f=u==null?s.create("text",c):s.create(c,u),h=this.split(l);this.parent.insertBefore(f,h)},o.prototype.insertInto=function(l,c){c===void 0&&(c=null),this.parent!=null&&this.parent.children.remove(this);var u=null;l.children.insertBefore(this,c),c!=null&&(u=c.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=u)&&l.domNode.insertBefore(this.domNode,u),this.parent=l,this.attach()},o.prototype.isolate=function(l,c){var u=this.split(l);return u.split(c),u},o.prototype.length=function(){return 1},o.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},o.prototype.optimize=function(l){this.domNode[s.DATA_KEY]!=null&&delete this.domNode[s.DATA_KEY].mutations},o.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},o.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},o.prototype.replaceWith=function(l,c){var u=typeof l=="string"?s.create(l,c):l;return u.replace(this),u},o.prototype.split=function(l,c){return l===0?this:this.next},o.prototype.update=function(l,c){},o.prototype.wrap=function(l,c){var u=typeof l=="string"?s.create(l,c):l;return this.parent!=null&&this.parent.insertBefore(u,this.next),u.appendChild(this),u},o.blotName="abstract",o})();r.default=a}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),a=i(32),o=i(33),l=i(1),c=(function(){function u(f){this.attributes={},this.domNode=f,this.build()}return u.prototype.attribute=function(f,h){h?f.add(this.domNode,h)&&(f.value(this.domNode)!=null?this.attributes[f.attrName]=f:delete this.attributes[f.attrName]):(f.remove(this.domNode),delete this.attributes[f.attrName])},u.prototype.build=function(){var f=this;this.attributes={};var h=s.default.keys(this.domNode),p=a.default.keys(this.domNode),v=o.default.keys(this.domNode);h.concat(p).concat(v).forEach(function(g){var y=l.query(g,l.Scope.ATTRIBUTE);y instanceof s.default&&(f.attributes[y.attrName]=y)})},u.prototype.copy=function(f){var h=this;Object.keys(this.attributes).forEach(function(p){var v=h.attributes[p].value(h.domNode);f.format(p,v)})},u.prototype.move=function(f){var h=this;this.copy(f),Object.keys(this.attributes).forEach(function(p){h.attributes[p].remove(h.domNode)}),this.attributes={}},u.prototype.values=function(){var f=this;return Object.keys(this.attributes).reduce(function(h,p){return h[p]=f.attributes[p].value(f.domNode),h},{})},u})();r.default=c}),(function(n,r,i){var s=this&&this.__extends||(function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){c(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(12);function o(c,u){var f=c.getAttribute("class")||"";return f.split(/\s+/).filter(function(h){return h.indexOf(u+"-")===0})}var l=(function(c){s(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.keys=function(f){return(f.getAttribute("class")||"").split(/\s+/).map(function(h){return h.split("-").slice(0,-1).join("-")})},u.prototype.add=function(f,h){return this.canAdd(f,h)?(this.remove(f),f.classList.add(this.keyName+"-"+h),!0):!1},u.prototype.remove=function(f){var h=o(f,this.keyName);h.forEach(function(p){f.classList.remove(p)}),f.classList.length===0&&f.removeAttribute("class")},u.prototype.value=function(f){var h=o(f,this.keyName)[0]||"",p=h.slice(this.keyName.length+1);return this.canAdd(f,p)?p:""},u})(a.default);r.default=l}),(function(n,r,i){var s=this&&this.__extends||(function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){c(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(12);function o(c){var u=c.split("-"),f=u.slice(1).map(function(h){return h[0].toUpperCase()+h.slice(1)}).join("");return u[0]+f}var l=(function(c){s(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.keys=function(f){return(f.getAttribute("style")||"").split(";").map(function(h){var p=h.split(":");return p[0].trim()})},u.prototype.add=function(f,h){return this.canAdd(f,h)?(f.style[o(this.keyName)]=h,!0):!1},u.prototype.remove=function(f){f.style[o(this.keyName)]="",f.getAttribute("style")||f.removeAttribute("style")},u.prototype.value=function(f){var h=f.style[o(this.keyName)];return this.canAdd(f,h)?h:""},u})(a.default);r.default=l}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function l(c,u){for(var f=0;f<u.length;f++){var h=u[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(c,h.key,h)}}return function(c,u,f){return u&&l(c.prototype,u),f&&l(c,f),c}})();function a(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var o=(function(){function l(c,u){a(this,l),this.quill=c,this.options=u,this.modules={}}return s(l,[{key:"init",value:function(){var u=this;Object.keys(this.options.modules).forEach(function(f){u.modules[f]==null&&u.addModule(f)})}},{key:"addModule",value:function(u){var f=this.quill.constructor.import("modules/"+u);return this.modules[u]=new f(this.quill,this.options.modules[u]||{}),this.modules[u]}}]),l})();o.DEFAULTS={modules:{}},o.themes={default:o},r.default=o}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function b(_,w){for(var C=0;C<w.length;C++){var S=w[C];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(_,S.key,S)}}return function(_,w,C){return w&&b(_.prototype,w),C&&b(_,C),_}})(),a=function b(_,w,C){_===null&&(_=Function.prototype);var S=Object.getOwnPropertyDescriptor(_,w);if(S===void 0){var R=Object.getPrototypeOf(_);return R===null?void 0:b(R,w,C)}else{if("value"in S)return S.value;var D=S.get;return D===void 0?void 0:D.call(C)}},o=i(0),l=f(o),c=i(7),u=f(c);function f(b){return b&&b.__esModule?b:{default:b}}function h(b,_){if(!(b instanceof _))throw new TypeError("Cannot call a class as a function")}function p(b,_){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:b}function v(b,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);b.prototype=Object.create(_&&_.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(b,_):b.__proto__=_)}var g="\uFEFF",y=(function(b){v(_,b);function _(w){h(this,_);var C=p(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,w));return C.contentNode=document.createElement("span"),C.contentNode.setAttribute("contenteditable",!1),[].slice.call(C.domNode.childNodes).forEach(function(S){C.contentNode.appendChild(S)}),C.leftGuard=document.createTextNode(g),C.rightGuard=document.createTextNode(g),C.domNode.appendChild(C.leftGuard),C.domNode.appendChild(C.contentNode),C.domNode.appendChild(C.rightGuard),C}return s(_,[{key:"index",value:function(C,S){return C===this.leftGuard?0:C===this.rightGuard?1:a(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"index",this).call(this,C,S)}},{key:"restore",value:function(C){var S=void 0,R=void 0,D=C.data.split(g).join("");if(C===this.leftGuard)if(this.prev instanceof u.default){var N=this.prev.length();this.prev.insertAt(N,D),S={startNode:this.prev.domNode,startOffset:N+D.length}}else R=document.createTextNode(D),this.parent.insertBefore(l.default.create(R),this),S={startNode:R,startOffset:D.length};else C===this.rightGuard&&(this.next instanceof u.default?(this.next.insertAt(0,D),S={startNode:this.next.domNode,startOffset:D.length}):(R=document.createTextNode(D),this.parent.insertBefore(l.default.create(R),this.next),S={startNode:R,startOffset:D.length}));return C.data=g,S}},{key:"update",value:function(C,S){var R=this;C.forEach(function(D){if(D.type==="characterData"&&(D.target===R.leftGuard||D.target===R.rightGuard)){var N=R.restore(D.target);N&&(S.range=N)}})}}]),_})(l.default.Embed);r.default=y}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var s=i(0),a=o(s);function o(h){return h&&h.__esModule?h:{default:h}}var l={scope:a.default.Scope.BLOCK,whitelist:["right","center","justify"]},c=new a.default.Attributor.Attribute("align","align",l),u=new a.default.Attributor.Class("align","ql-align",l),f=new a.default.Attributor.Style("align","text-align",l);r.AlignAttribute=c,r.AlignClass=u,r.AlignStyle=f}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var s=i(0),a=l(s),o=i(26);function l(f){return f&&f.__esModule?f:{default:f}}var c=new a.default.Attributor.Class("background","ql-bg",{scope:a.default.Scope.INLINE}),u=new o.ColorAttributor("background","background-color",{scope:a.default.Scope.INLINE});r.BackgroundClass=c,r.BackgroundStyle=u}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var s=i(0),a=o(s);function o(h){return h&&h.__esModule?h:{default:h}}var l={scope:a.default.Scope.BLOCK,whitelist:["rtl"]},c=new a.default.Attributor.Attribute("direction","dir",l),u=new a.default.Attributor.Class("direction","ql-direction",l),f=new a.default.Attributor.Style("direction","direction",l);r.DirectionAttribute=c,r.DirectionClass=u,r.DirectionStyle=f}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var s=(function(){function b(_,w){for(var C=0;C<w.length;C++){var S=w[C];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(_,S.key,S)}}return function(_,w,C){return w&&b(_.prototype,w),C&&b(_,C),_}})(),a=function b(_,w,C){_===null&&(_=Function.prototype);var S=Object.getOwnPropertyDescriptor(_,w);if(S===void 0){var R=Object.getPrototypeOf(_);return R===null?void 0:b(R,w,C)}else{if("value"in S)return S.value;var D=S.get;return D===void 0?void 0:D.call(C)}},o=i(0),l=c(o);function c(b){return b&&b.__esModule?b:{default:b}}function u(b,_){if(!(b instanceof _))throw new TypeError("Cannot call a class as a function")}function f(b,_){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:b}function h(b,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);b.prototype=Object.create(_&&_.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(b,_):b.__proto__=_)}var p={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},v=new l.default.Attributor.Class("font","ql-font",p),g=(function(b){h(_,b);function _(){return u(this,_),f(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return s(_,[{key:"value",value:function(C){return a(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"value",this).call(this,C).replace(/["']/g,"")}}]),_})(l.default.Attributor.Style),y=new g("font","font-family",p);r.FontStyle=y,r.FontClass=v}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var s=i(0),a=o(s);function o(u){return u&&u.__esModule?u:{default:u}}var l=new a.default.Attributor.Class("size","ql-size",{scope:a.default.Scope.INLINE,whitelist:["small","large","huge"]}),c=new a.default.Attributor.Style("size","font-size",{scope:a.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=l,r.SizeStyle=c}),(function(n,r,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var s=(function(){function w(C,S){for(var R=0;R<S.length;R++){var D=S[R];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(C,D.key,D)}}return function(C,S,R){return S&&w(C.prototype,S),R&&w(C,R),C}})(),a=i(0),o=h(a),l=i(5),c=h(l),u=i(9),f=h(u);function h(w){return w&&w.__esModule?w:{default:w}}function p(w,C){if(!(w instanceof C))throw new TypeError("Cannot call a class as a function")}function v(w,C){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:w}function g(w,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);w.prototype=Object.create(C&&C.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(w,C):w.__proto__=C)}var y=(function(w){g(C,w);function C(S,R){p(this,C);var D=v(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,S,R));return D.lastRecorded=0,D.ignoreChange=!1,D.clear(),D.quill.on(c.default.events.EDITOR_CHANGE,function(N,k,F,P){N!==c.default.events.TEXT_CHANGE||D.ignoreChange||(!D.options.userOnly||P===c.default.sources.USER?D.record(k,F):D.transform(k))}),D.quill.keyboard.addBinding({key:"Z",shortKey:!0},D.undo.bind(D)),D.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},D.redo.bind(D)),/Win/i.test(navigator.platform)&&D.quill.keyboard.addBinding({key:"Y",shortKey:!0},D.redo.bind(D)),D}return s(C,[{key:"change",value:function(R,D){if(this.stack[R].length!==0){var N=this.stack[R].pop();this.stack[D].push(N),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(N[R],c.default.sources.USER),this.ignoreChange=!1;var k=_(N[R]);this.quill.setSelection(k)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(R,D){if(R.ops.length!==0){this.stack.redo=[];var N=this.quill.getContents().diff(D),k=Date.now();if(this.lastRecorded+this.options.delay>k&&this.stack.undo.length>0){var F=this.stack.undo.pop();N=N.compose(F.undo),R=F.redo.compose(R)}else this.lastRecorded=k;this.stack.undo.push({redo:R,undo:N}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(R){this.stack.undo.forEach(function(D){D.undo=R.transform(D.undo,!0),D.redo=R.transform(D.redo,!0)}),this.stack.redo.forEach(function(D){D.undo=R.transform(D.undo,!0),D.redo=R.transform(D.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),C})(f.default);y.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function b(w){var C=w.ops[w.ops.length-1];return C==null?!1:C.insert!=null?typeof C.insert=="string"&&C.insert.endsWith(`
`):C.attributes!=null?Object.keys(C.attributes).some(function(S){return o.default.query(S,o.default.Scope.BLOCK)!=null}):!1}function _(w){var C=w.reduce(function(R,D){return R+=D.delete||0,R},0),S=w.length()-C;return b(w)&&(S-=1),S}r.default=y,r.getLastChangeIndex=_}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var s=(function(){function j(W,G){for(var Y=0;Y<G.length;Y++){var ee=G[Y];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(W,ee.key,ee)}}return function(W,G,Y){return G&&j(W.prototype,G),Y&&j(W,Y),W}})(),a=function j(W,G,Y){W===null&&(W=Function.prototype);var ee=Object.getOwnPropertyDescriptor(W,G);if(ee===void 0){var ae=Object.getPrototypeOf(W);return ae===null?void 0:j(ae,G,Y)}else{if("value"in ee)return ee.value;var de=ee.get;return de===void 0?void 0:de.call(Y)}},o=i(3),l=k(o),c=i(2),u=k(c),f=i(8),h=k(f),p=i(23),v=k(p),g=i(34),y=k(g),b=i(59),_=k(b),w=i(60),C=k(w),S=i(28),R=k(S),D=i(61),N=k(D);function k(j){return j&&j.__esModule?j:{default:j}}function F(j,W){if(!(j instanceof W))throw new TypeError("Cannot call a class as a function")}function P(j,W){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return W&&(typeof W=="object"||typeof W=="function")?W:j}function I(j,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof W);j.prototype=Object.create(W&&W.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),W&&(Object.setPrototypeOf?Object.setPrototypeOf(j,W):j.__proto__=W)}var U=[!1,"center","right","justify"],O=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],K=[!1,"serif","monospace"],X=["1","2","3",!1],J=["small",!1,"large","huge"],ne=(function(j){I(W,j);function W(G,Y){F(this,W);var ee=P(this,(W.__proto__||Object.getPrototypeOf(W)).call(this,G,Y)),ae=function de(fe){if(!document.body.contains(G.root))return document.body.removeEventListener("click",de);ee.tooltip!=null&&!ee.tooltip.root.contains(fe.target)&&document.activeElement!==ee.tooltip.textbox&&!ee.quill.hasFocus()&&ee.tooltip.hide(),ee.pickers!=null&&ee.pickers.forEach(function(Ae){Ae.container.contains(fe.target)||Ae.close()})};return G.emitter.listenDOM("click",document.body,ae),ee}return s(W,[{key:"addModule",value:function(Y){var ee=a(W.prototype.__proto__||Object.getPrototypeOf(W.prototype),"addModule",this).call(this,Y);return Y==="toolbar"&&this.extendToolbar(ee),ee}},{key:"buildButtons",value:function(Y,ee){Y.forEach(function(ae){var de=ae.getAttribute("class")||"";de.split(/\s+/).forEach(function(fe){if(fe.startsWith("ql-")&&(fe=fe.slice(3),ee[fe]!=null))if(fe==="direction")ae.innerHTML=ee[fe][""]+ee[fe].rtl;else if(typeof ee[fe]=="string")ae.innerHTML=ee[fe];else{var Ae=ae.value||"";Ae!=null&&ee[fe][Ae]&&(ae.innerHTML=ee[fe][Ae])}})})}},{key:"buildPickers",value:function(Y,ee){var ae=this;this.pickers=Y.map(function(fe){if(fe.classList.contains("ql-align"))return fe.querySelector("option")==null&&B(fe,U),new C.default(fe,ee.align);if(fe.classList.contains("ql-background")||fe.classList.contains("ql-color")){var Ae=fe.classList.contains("ql-background")?"background":"color";return fe.querySelector("option")==null&&B(fe,O,Ae==="background"?"#ffffff":"#000000"),new _.default(fe,ee[Ae])}else return fe.querySelector("option")==null&&(fe.classList.contains("ql-font")?B(fe,K):fe.classList.contains("ql-header")?B(fe,X):fe.classList.contains("ql-size")&&B(fe,J)),new R.default(fe)});var de=function(){ae.pickers.forEach(function(Ae){Ae.update()})};this.quill.on(h.default.events.EDITOR_CHANGE,de)}}]),W})(y.default);ne.DEFAULTS=(0,l.default)(!0,{},y.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var W=this,G=this.container.querySelector("input.ql-image[type=file]");G==null&&(G=document.createElement("input"),G.setAttribute("type","file"),G.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),G.classList.add("ql-image"),G.addEventListener("change",function(){if(G.files!=null&&G.files[0]!=null){var Y=new FileReader;Y.onload=function(ee){var ae=W.quill.getSelection(!0);W.quill.updateContents(new u.default().retain(ae.index).delete(ae.length).insert({image:ee.target.result}),h.default.sources.USER),W.quill.setSelection(ae.index+1,h.default.sources.SILENT),G.value=""},Y.readAsDataURL(G.files[0])}}),this.container.appendChild(G)),G.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var z=(function(j){I(W,j);function W(G,Y){F(this,W);var ee=P(this,(W.__proto__||Object.getPrototypeOf(W)).call(this,G,Y));return ee.textbox=ee.root.querySelector('input[type="text"]'),ee.listen(),ee}return s(W,[{key:"listen",value:function(){var Y=this;this.textbox.addEventListener("keydown",function(ee){v.default.match(ee,"enter")?(Y.save(),ee.preventDefault()):v.default.match(ee,"escape")&&(Y.cancel(),ee.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),ee!=null?this.textbox.value=ee:Y!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+Y)||""),this.root.setAttribute("data-mode",Y)}},{key:"restoreFocus",value:function(){var Y=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=Y}},{key:"save",value:function(){var Y=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var ee=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",Y,h.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",Y,h.default.sources.USER)),this.quill.root.scrollTop=ee;break}case"video":Y=Q(Y);case"formula":{if(!Y)break;var ae=this.quill.getSelection(!0);if(ae!=null){var de=ae.index+ae.length;this.quill.insertEmbed(de,this.root.getAttribute("data-mode"),Y,h.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(de+1," ",h.default.sources.USER),this.quill.setSelection(de+2,h.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),W})(N.default);function Q(j){var W=j.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||j.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return W?(W[1]||"https")+"://www.youtube.com/embed/"+W[2]+"?showinfo=0":(W=j.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(W[1]||"https")+"://player.vimeo.com/video/"+W[2]+"/":j}function B(j,W){var G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;W.forEach(function(Y){var ee=document.createElement("option");Y===G?ee.setAttribute("selected","selected"):ee.setAttribute("value",Y),j.appendChild(ee)})}r.BaseTooltip=z,r.default=ne}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function a(){this.head=this.tail=null,this.length=0}return a.prototype.append=function(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];this.insertBefore(o[0],null),o.length>1&&this.append.apply(this,o.slice(1))},a.prototype.contains=function(o){for(var l,c=this.iterator();l=c();)if(l===o)return!0;return!1},a.prototype.insertBefore=function(o,l){o&&(o.next=l,l!=null?(o.prev=l.prev,l.prev!=null&&(l.prev.next=o),l.prev=o,l===this.head&&(this.head=o)):this.tail!=null?(this.tail.next=o,o.prev=this.tail,this.tail=o):(o.prev=null,this.head=this.tail=o),this.length+=1)},a.prototype.offset=function(o){for(var l=0,c=this.head;c!=null;){if(c===o)return l;l+=c.length(),c=c.next}return-1},a.prototype.remove=function(o){this.contains(o)&&(o.prev!=null&&(o.prev.next=o.next),o.next!=null&&(o.next.prev=o.prev),o===this.head&&(this.head=o.next),o===this.tail&&(this.tail=o.prev),this.length-=1)},a.prototype.iterator=function(o){return o===void 0&&(o=this.head),function(){var l=o;return o!=null&&(o=o.next),l}},a.prototype.find=function(o,l){l===void 0&&(l=!1);for(var c,u=this.iterator();c=u();){var f=c.length();if(o<f||l&&o===f&&(c.next==null||c.next.length()!==0))return[c,o];o-=f}return[null,0]},a.prototype.forEach=function(o){for(var l,c=this.iterator();l=c();)o(l)},a.prototype.forEachAt=function(o,l,c){if(!(l<=0))for(var u=this.find(o),f=u[0],h=u[1],p,v=o-h,g=this.iterator(f);(p=g())&&v<o+l;){var y=p.length();o>v?c(p,o-v,Math.min(l,v+y-o)):c(p,0,Math.min(y,o+l-v)),v+=y}},a.prototype.map=function(o){return this.reduce(function(l,c){return l.push(o(c)),l},[])},a.prototype.reduce=function(o,l){for(var c,u=this.iterator();c=u();)l=o(l,c);return l},a})();r.default=s}),(function(n,r,i){var s=this&&this.__extends||(function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var v in p)p.hasOwnProperty(v)&&(h[v]=p[v])};return function(h,p){f(h,p);function v(){this.constructor=h}h.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(17),o=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},c=100,u=(function(f){s(h,f);function h(p){var v=f.call(this,p)||this;return v.scroll=v,v.observer=new MutationObserver(function(g){v.update(g)}),v.observer.observe(v.domNode,l),v.attach(),v}return h.prototype.detach=function(){f.prototype.detach.call(this),this.observer.disconnect()},h.prototype.deleteAt=function(p,v){this.update(),p===0&&v===this.length()?this.children.forEach(function(g){g.remove()}):f.prototype.deleteAt.call(this,p,v)},h.prototype.formatAt=function(p,v,g,y){this.update(),f.prototype.formatAt.call(this,p,v,g,y)},h.prototype.insertAt=function(p,v,g){this.update(),f.prototype.insertAt.call(this,p,v,g)},h.prototype.optimize=function(p,v){var g=this;p===void 0&&(p=[]),v===void 0&&(v={}),f.prototype.optimize.call(this,v);for(var y=[].slice.call(this.observer.takeRecords());y.length>0;)p.push(y.pop());for(var b=function(S,R){R===void 0&&(R=!0),!(S==null||S===g)&&S.domNode.parentNode!=null&&(S.domNode[o.DATA_KEY].mutations==null&&(S.domNode[o.DATA_KEY].mutations=[]),R&&b(S.parent))},_=function(S){S.domNode[o.DATA_KEY]==null||S.domNode[o.DATA_KEY].mutations==null||(S instanceof a.default&&S.children.forEach(_),S.optimize(v))},w=p,C=0;w.length>0;C+=1){if(C>=c)throw new Error("[Parchment] Maximum optimize iterations reached");for(w.forEach(function(S){var R=o.find(S.target,!0);R!=null&&(R.domNode===S.target&&(S.type==="childList"?(b(o.find(S.previousSibling,!1)),[].forEach.call(S.addedNodes,function(D){var N=o.find(D,!1);b(N,!1),N instanceof a.default&&N.children.forEach(function(k){b(k,!1)})})):S.type==="attributes"&&b(R.prev)),b(R))}),this.children.forEach(_),w=[].slice.call(this.observer.takeRecords()),y=w.slice();y.length>0;)p.push(y.pop())}},h.prototype.update=function(p,v){var g=this;v===void 0&&(v={}),p=p||this.observer.takeRecords(),p.map(function(y){var b=o.find(y.target,!0);return b==null?null:b.domNode[o.DATA_KEY].mutations==null?(b.domNode[o.DATA_KEY].mutations=[y],b):(b.domNode[o.DATA_KEY].mutations.push(y),null)}).forEach(function(y){y==null||y===g||y.domNode[o.DATA_KEY]==null||y.update(y.domNode[o.DATA_KEY].mutations||[],v)}),this.domNode[o.DATA_KEY].mutations!=null&&f.prototype.update.call(this,this.domNode[o.DATA_KEY].mutations,v),this.optimize(p,v)},h.blotName="scroll",h.defaultChild="block",h.scope=o.Scope.BLOCK_BLOT,h.tagName="DIV",h})(a.default);r.default=u}),(function(n,r,i){var s=this&&this.__extends||(function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var p in h)h.hasOwnProperty(p)&&(f[p]=h[p])};return function(f,h){u(f,h);function p(){this.constructor=f}f.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(18),o=i(1);function l(u,f){if(Object.keys(u).length!==Object.keys(f).length)return!1;for(var h in u)if(u[h]!==f[h])return!1;return!0}var c=(function(u){s(f,u);function f(){return u!==null&&u.apply(this,arguments)||this}return f.formats=function(h){if(h.tagName!==f.tagName)return u.formats.call(this,h)},f.prototype.format=function(h,p){var v=this;h===this.statics.blotName&&!p?(this.children.forEach(function(g){g instanceof a.default||(g=g.wrap(f.blotName,!0)),v.attributes.copy(g)}),this.unwrap()):u.prototype.format.call(this,h,p)},f.prototype.formatAt=function(h,p,v,g){if(this.formats()[v]!=null||o.query(v,o.Scope.ATTRIBUTE)){var y=this.isolate(h,p);y.format(v,g)}else u.prototype.formatAt.call(this,h,p,v,g)},f.prototype.optimize=function(h){u.prototype.optimize.call(this,h);var p=this.formats();if(Object.keys(p).length===0)return this.unwrap();var v=this.next;v instanceof f&&v.prev===this&&l(p,v.formats())&&(v.moveChildren(this),v.remove())},f.blotName="inline",f.scope=o.Scope.INLINE_BLOT,f.tagName="SPAN",f})(a.default);r.default=c}),(function(n,r,i){var s=this&&this.__extends||(function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){c(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(18),o=i(1),l=(function(c){s(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.formats=function(f){var h=o.query(u.blotName).tagName;if(f.tagName!==h)return c.formats.call(this,f)},u.prototype.format=function(f,h){o.query(f,o.Scope.BLOCK)!=null&&(f===this.statics.blotName&&!h?this.replaceWith(u.blotName):c.prototype.format.call(this,f,h))},u.prototype.formatAt=function(f,h,p,v){o.query(p,o.Scope.BLOCK)!=null?this.format(p,v):c.prototype.formatAt.call(this,f,h,p,v)},u.prototype.insertAt=function(f,h,p){if(p==null||o.query(h,o.Scope.INLINE)!=null)c.prototype.insertAt.call(this,f,h,p);else{var v=this.split(f),g=o.create(h,p);v.parent.insertBefore(g,v)}},u.prototype.update=function(f,h){navigator.userAgent.match(/Trident/)?this.build():c.prototype.update.call(this,f,h)},u.blotName="block",u.scope=o.Scope.BLOCK_BLOT,u.tagName="P",u})(a.default);r.default=l}),(function(n,r,i){var s=this&&this.__extends||(function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,u){c.__proto__=u}||function(c,u){for(var f in u)u.hasOwnProperty(f)&&(c[f]=u[f])};return function(c,u){l(c,u);function f(){this.constructor=c}c.prototype=u===null?Object.create(u):(f.prototype=u.prototype,new f)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(19),o=(function(l){s(c,l);function c(){return l!==null&&l.apply(this,arguments)||this}return c.formats=function(u){},c.prototype.format=function(u,f){l.prototype.formatAt.call(this,0,this.length(),u,f)},c.prototype.formatAt=function(u,f,h,p){u===0&&f===this.length()?this.format(h,p):l.prototype.formatAt.call(this,u,f,h,p)},c.prototype.formats=function(){return this.statics.formats(this.domNode)},c})(a.default);r.default=o}),(function(n,r,i){var s=this&&this.__extends||(function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){c(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(19),o=i(1),l=(function(c){s(u,c);function u(f){var h=c.call(this,f)||this;return h.text=h.statics.value(h.domNode),h}return u.create=function(f){return document.createTextNode(f)},u.value=function(f){var h=f.data;return h.normalize&&(h=h.normalize()),h},u.prototype.deleteAt=function(f,h){this.domNode.data=this.text=this.text.slice(0,f)+this.text.slice(f+h)},u.prototype.index=function(f,h){return this.domNode===f?h:-1},u.prototype.insertAt=function(f,h,p){p==null?(this.text=this.text.slice(0,f)+h+this.text.slice(f),this.domNode.data=this.text):c.prototype.insertAt.call(this,f,h,p)},u.prototype.length=function(){return this.text.length},u.prototype.optimize=function(f){c.prototype.optimize.call(this,f),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof u&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},u.prototype.position=function(f,h){return[this.domNode,f]},u.prototype.split=function(f,h){if(h===void 0&&(h=!1),!h){if(f===0)return this;if(f===this.length())return this.next}var p=o.create(this.domNode.splitText(f));return this.parent.insertBefore(p,this.next),this.text=this.statics.value(this.domNode),p},u.prototype.update=function(f,h){var p=this;f.some(function(v){return v.type==="characterData"&&v.target===p.domNode})&&(this.text=this.statics.value(this.domNode))},u.prototype.value=function(){return this.text},u.blotName="text",u.scope=o.Scope.INLINE_BLOT,u})(a.default);r.default=l}),(function(n,r,i){var s=document.createElement("div");if(s.classList.toggle("test-class",!1),s.classList.contains("test-class")){var a=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(o,l){return arguments.length>1&&!this.contains(o)==!l?l:a.call(this,o)}}String.prototype.startsWith||(String.prototype.startsWith=function(o,l){return l=l||0,this.substr(l,o.length)===o}),String.prototype.endsWith||(String.prototype.endsWith=function(o,l){var c=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>c.length)&&(l=c.length),l-=o.length;var u=c.indexOf(o,l);return u!==-1&&u===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var c=Object(this),u=c.length>>>0,f=arguments[1],h,p=0;p<u;p++)if(h=c[p],l.call(f,h,p,c))return h}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})}),(function(n,r){var i=-1,s=1,a=0;function o(C,S,R){if(C==S)return C?[[a,C]]:[];(R<0||C.length<R)&&(R=null);var D=f(C,S),N=C.substring(0,D);C=C.substring(D),S=S.substring(D),D=h(C,S);var k=C.substring(C.length-D);C=C.substring(0,C.length-D),S=S.substring(0,S.length-D);var F=l(C,S);return N&&F.unshift([a,N]),k&&F.push([a,k]),v(F),R!=null&&(F=b(F,R)),F=_(F),F}function l(C,S){var R;if(!C)return[[s,S]];if(!S)return[[i,C]];var D=C.length>S.length?C:S,N=C.length>S.length?S:C,k=D.indexOf(N);if(k!=-1)return R=[[s,D.substring(0,k)],[a,N],[s,D.substring(k+N.length)]],C.length>S.length&&(R[0][0]=R[2][0]=i),R;if(N.length==1)return[[i,C],[s,S]];var F=p(C,S);if(F){var P=F[0],I=F[1],U=F[2],O=F[3],K=F[4],X=o(P,U),J=o(I,O);return X.concat([[a,K]],J)}return c(C,S)}function c(C,S){for(var R=C.length,D=S.length,N=Math.ceil((R+D)/2),k=N,F=2*N,P=new Array(F),I=new Array(F),U=0;U<F;U++)P[U]=-1,I[U]=-1;P[k+1]=0,I[k+1]=0;for(var O=R-D,K=O%2!=0,X=0,J=0,ne=0,z=0,Q=0;Q<N;Q++){for(var B=-Q+X;B<=Q-J;B+=2){var j=k+B,W;B==-Q||B!=Q&&P[j-1]<P[j+1]?W=P[j+1]:W=P[j-1]+1;for(var G=W-B;W<R&&G<D&&C.charAt(W)==S.charAt(G);)W++,G++;if(P[j]=W,W>R)J+=2;else if(G>D)X+=2;else if(K){var Y=k+O-B;if(Y>=0&&Y<F&&I[Y]!=-1){var ee=R-I[Y];if(W>=ee)return u(C,S,W,G)}}}for(var ae=-Q+ne;ae<=Q-z;ae+=2){var Y=k+ae,ee;ae==-Q||ae!=Q&&I[Y-1]<I[Y+1]?ee=I[Y+1]:ee=I[Y-1]+1;for(var de=ee-ae;ee<R&&de<D&&C.charAt(R-ee-1)==S.charAt(D-de-1);)ee++,de++;if(I[Y]=ee,ee>R)z+=2;else if(de>D)ne+=2;else if(!K){var j=k+O-ae;if(j>=0&&j<F&&P[j]!=-1){var W=P[j],G=k+W-j;if(ee=R-ee,W>=ee)return u(C,S,W,G)}}}}return[[i,C],[s,S]]}function u(C,S,R,D){var N=C.substring(0,R),k=S.substring(0,D),F=C.substring(R),P=S.substring(D),I=o(N,k),U=o(F,P);return I.concat(U)}function f(C,S){if(!C||!S||C.charAt(0)!=S.charAt(0))return 0;for(var R=0,D=Math.min(C.length,S.length),N=D,k=0;R<N;)C.substring(k,N)==S.substring(k,N)?(R=N,k=R):D=N,N=Math.floor((D-R)/2+R);return N}function h(C,S){if(!C||!S||C.charAt(C.length-1)!=S.charAt(S.length-1))return 0;for(var R=0,D=Math.min(C.length,S.length),N=D,k=0;R<N;)C.substring(C.length-N,C.length-k)==S.substring(S.length-N,S.length-k)?(R=N,k=R):D=N,N=Math.floor((D-R)/2+R);return N}function p(C,S){var R=C.length>S.length?C:S,D=C.length>S.length?S:C;if(R.length<4||D.length*2<R.length)return null;function N(J,ne,z){for(var Q=J.substring(z,z+Math.floor(J.length/4)),B=-1,j="",W,G,Y,ee;(B=ne.indexOf(Q,B+1))!=-1;){var ae=f(J.substring(z),ne.substring(B)),de=h(J.substring(0,z),ne.substring(0,B));j.length<de+ae&&(j=ne.substring(B-de,B)+ne.substring(B,B+ae),W=J.substring(0,z-de),G=J.substring(z+ae),Y=ne.substring(0,B-de),ee=ne.substring(B+ae))}return j.length*2>=J.length?[W,G,Y,ee,j]:null}var k=N(R,D,Math.ceil(R.length/4)),F=N(R,D,Math.ceil(R.length/2)),P;if(!k&&!F)return null;F?k?P=k[4].length>F[4].length?k:F:P=F:P=k;var I,U,O,K;C.length>S.length?(I=P[0],U=P[1],O=P[2],K=P[3]):(O=P[0],K=P[1],I=P[2],U=P[3]);var X=P[4];return[I,U,O,K,X]}function v(C){C.push([a,""]);for(var S=0,R=0,D=0,N="",k="",F;S<C.length;)switch(C[S][0]){case s:D++,k+=C[S][1],S++;break;case i:R++,N+=C[S][1],S++;break;case a:R+D>1?(R!==0&&D!==0&&(F=f(k,N),F!==0&&(S-R-D>0&&C[S-R-D-1][0]==a?C[S-R-D-1][1]+=k.substring(0,F):(C.splice(0,0,[a,k.substring(0,F)]),S++),k=k.substring(F),N=N.substring(F)),F=h(k,N),F!==0&&(C[S][1]=k.substring(k.length-F)+C[S][1],k=k.substring(0,k.length-F),N=N.substring(0,N.length-F))),R===0?C.splice(S-D,R+D,[s,k]):D===0?C.splice(S-R,R+D,[i,N]):C.splice(S-R-D,R+D,[i,N],[s,k]),S=S-R-D+(R?1:0)+(D?1:0)+1):S!==0&&C[S-1][0]==a?(C[S-1][1]+=C[S][1],C.splice(S,1)):S++,D=0,R=0,N="",k="";break}C[C.length-1][1]===""&&C.pop();var P=!1;for(S=1;S<C.length-1;)C[S-1][0]==a&&C[S+1][0]==a&&(C[S][1].substring(C[S][1].length-C[S-1][1].length)==C[S-1][1]?(C[S][1]=C[S-1][1]+C[S][1].substring(0,C[S][1].length-C[S-1][1].length),C[S+1][1]=C[S-1][1]+C[S+1][1],C.splice(S-1,1),P=!0):C[S][1].substring(0,C[S+1][1].length)==C[S+1][1]&&(C[S-1][1]+=C[S+1][1],C[S][1]=C[S][1].substring(C[S+1][1].length)+C[S+1][1],C.splice(S+1,1),P=!0)),S++;P&&v(C)}var g=o;g.INSERT=s,g.DELETE=i,g.EQUAL=a,n.exports=g;function y(C,S){if(S===0)return[a,C];for(var R=0,D=0;D<C.length;D++){var N=C[D];if(N[0]===i||N[0]===a){var k=R+N[1].length;if(S===k)return[D+1,C];if(S<k){C=C.slice();var F=S-R,P=[N[0],N[1].slice(0,F)],I=[N[0],N[1].slice(F)];return C.splice(D,1,P,I),[D+1,C]}else R=k}}throw new Error("cursor_pos is out of bounds!")}function b(C,S){var R=y(C,S),D=R[1],N=R[0],k=D[N],F=D[N+1];if(k==null)return C;if(k[0]!==a)return C;if(F!=null&&k[1]+F[1]===F[1]+k[1])return D.splice(N,2,F,k),w(D,N,2);if(F!=null&&F[1].indexOf(k[1])===0){D.splice(N,2,[F[0],k[1]],[0,k[1]]);var P=F[1].slice(k[1].length);return P.length>0&&D.splice(N+2,0,[F[0],P]),w(D,N,3)}else return C}function _(C){for(var S=!1,R=function(F){return F.charCodeAt(0)>=56320&&F.charCodeAt(0)<=57343},D=function(F){return F.charCodeAt(F.length-1)>=55296&&F.charCodeAt(F.length-1)<=56319},N=2;N<C.length;N+=1)C[N-2][0]===a&&D(C[N-2][1])&&C[N-1][0]===i&&R(C[N-1][1])&&C[N][0]===s&&R(C[N][1])&&(S=!0,C[N-1][1]=C[N-2][1].slice(-1)+C[N-1][1],C[N][1]=C[N-2][1].slice(-1)+C[N][1],C[N-2][1]=C[N-2][1].slice(0,-1));if(!S)return C;for(var k=[],N=0;N<C.length;N+=1)C[N][1].length>0&&k.push(C[N]);return k}function w(C,S,R){for(var D=S+R-1;D>=0&&D>=S-1;D--)if(D+1<C.length){var N=C[D],k=C[D+1];N[0]===k[1]&&C.splice(D,2,[N[0],N[1]+k[1]])}return C}}),(function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(s){var a=[];for(var o in s)a.push(o);return a}}),(function(n,r){var i=(function(){return Object.prototype.toString.call(arguments)})()=="[object Arguments]";r=n.exports=i?s:a,r.supported=s;function s(o){return Object.prototype.toString.call(o)=="[object Arguments]"}r.unsupported=a;function a(o){return o&&typeof o=="object"&&typeof o.length=="number"&&Object.prototype.hasOwnProperty.call(o,"callee")&&!Object.prototype.propertyIsEnumerable.call(o,"callee")||!1}}),(function(n,r){var i=Object.prototype.hasOwnProperty,s="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(s=!1));function o(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function l(){this._events=new a,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],f,h;if(this._eventsCount===0)return u;for(h in f=this._events)i.call(f,h)&&u.push(s?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},l.prototype.listeners=function(u,f){var h=s?s+u:u,p=this._events[h];if(f)return!!p;if(!p)return[];if(p.fn)return[p.fn];for(var v=0,g=p.length,y=new Array(g);v<g;v++)y[v]=p[v].fn;return y},l.prototype.emit=function(u,f,h,p,v,g){var y=s?s+u:u;if(!this._events[y])return!1;var b=this._events[y],_=arguments.length,w,C;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),_){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,f),!0;case 3:return b.fn.call(b.context,f,h),!0;case 4:return b.fn.call(b.context,f,h,p),!0;case 5:return b.fn.call(b.context,f,h,p,v),!0;case 6:return b.fn.call(b.context,f,h,p,v,g),!0}for(C=1,w=new Array(_-1);C<_;C++)w[C-1]=arguments[C];b.fn.apply(b.context,w)}else{var S=b.length,R;for(C=0;C<S;C++)switch(b[C].once&&this.removeListener(u,b[C].fn,void 0,!0),_){case 1:b[C].fn.call(b[C].context);break;case 2:b[C].fn.call(b[C].context,f);break;case 3:b[C].fn.call(b[C].context,f,h);break;case 4:b[C].fn.call(b[C].context,f,h,p);break;default:if(!w)for(R=1,w=new Array(_-1);R<_;R++)w[R-1]=arguments[R];b[C].fn.apply(b[C].context,w)}}return!0},l.prototype.on=function(u,f,h){var p=new o(f,h||this),v=s?s+u:u;return this._events[v]?this._events[v].fn?this._events[v]=[this._events[v],p]:this._events[v].push(p):(this._events[v]=p,this._eventsCount++),this},l.prototype.once=function(u,f,h){var p=new o(f,h||this,!0),v=s?s+u:u;return this._events[v]?this._events[v].fn?this._events[v]=[this._events[v],p]:this._events[v].push(p):(this._events[v]=p,this._eventsCount++),this},l.prototype.removeListener=function(u,f,h,p){var v=s?s+u:u;if(!this._events[v])return this;if(!f)return--this._eventsCount===0?this._events=new a:delete this._events[v],this;var g=this._events[v];if(g.fn)g.fn===f&&(!p||g.once)&&(!h||g.context===h)&&(--this._eventsCount===0?this._events=new a:delete this._events[v]);else{for(var y=0,b=[],_=g.length;y<_;y++)(g[y].fn!==f||p&&!g[y].once||h&&g[y].context!==h)&&b.push(g[y]);b.length?this._events[v]=b.length===1?b[0]:b:--this._eventsCount===0?this._events=new a:delete this._events[v]}return this},l.prototype.removeAllListeners=function(u){var f;return u?(f=s?s+u:u,this._events[f]&&(--this._eventsCount===0?this._events=new a:delete this._events[f])):(this._events=new a,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=s,l.EventEmitter=l,typeof n<"u"&&(n.exports=l)}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(re){return typeof re}:function(re){return re&&typeof Symbol=="function"&&re.constructor===Symbol&&re!==Symbol.prototype?"symbol":typeof re},a=(function(){function re(oe,he){var we=[],ie=!0,ce=!1,ge=void 0;try{for(var ye=oe[Symbol.iterator](),Ne;!(ie=(Ne=ye.next()).done)&&(we.push(Ne.value),!(he&&we.length===he));ie=!0);}catch(Ue){ce=!0,ge=Ue}finally{try{!ie&&ye.return&&ye.return()}finally{if(ce)throw ge}}return we}return function(oe,he){if(Array.isArray(oe))return oe;if(Symbol.iterator in Object(oe))return re(oe,he);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=(function(){function re(oe,he){for(var we=0;we<he.length;we++){var ie=he[we];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(oe,ie.key,ie)}}return function(oe,he,we){return he&&re(oe.prototype,he),we&&re(oe,we),oe}})(),l=i(3),c=I(l),u=i(2),f=I(u),h=i(0),p=I(h),v=i(5),g=I(v),y=i(10),b=I(y),_=i(9),w=I(_),C=i(36),S=i(37),R=i(13),D=I(R),N=i(26),k=i(38),F=i(39),P=i(40);function I(re){return re&&re.__esModule?re:{default:re}}function U(re,oe,he){return oe in re?Object.defineProperty(re,oe,{value:he,enumerable:!0,configurable:!0,writable:!0}):re[oe]=he,re}function O(re,oe){if(!(re instanceof oe))throw new TypeError("Cannot call a class as a function")}function K(re,oe){if(!re)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return oe&&(typeof oe=="object"||typeof oe=="function")?oe:re}function X(re,oe){if(typeof oe!="function"&&oe!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof oe);re.prototype=Object.create(oe&&oe.prototype,{constructor:{value:re,enumerable:!1,writable:!0,configurable:!0}}),oe&&(Object.setPrototypeOf?Object.setPrototypeOf(re,oe):re.__proto__=oe)}var J=(0,b.default)("quill:clipboard"),ne="__ql-matcher",z=[[Node.TEXT_NODE,le],[Node.TEXT_NODE,V],["br",Re],[Node.ELEMENT_NODE,V],[Node.ELEMENT_NODE,Ae],[Node.ELEMENT_NODE,xe],[Node.ELEMENT_NODE,fe],[Node.ELEMENT_NODE,Te],["li",Le],["b",de.bind(de,"bold")],["i",de.bind(de,"italic")],["style",me]],Q=[C.AlignAttribute,k.DirectionAttribute].reduce(function(re,oe){return re[oe.keyName]=oe,re},{}),B=[C.AlignStyle,S.BackgroundStyle,N.ColorStyle,k.DirectionStyle,F.FontStyle,P.SizeStyle].reduce(function(re,oe){return re[oe.keyName]=oe,re},{}),j=(function(re){X(oe,re);function oe(he,we){O(this,oe);var ie=K(this,(oe.__proto__||Object.getPrototypeOf(oe)).call(this,he,we));return ie.quill.root.addEventListener("paste",ie.onPaste.bind(ie)),ie.container=ie.quill.addContainer("ql-clipboard"),ie.container.setAttribute("contenteditable",!0),ie.container.setAttribute("tabindex",-1),ie.matchers=[],z.concat(ie.options.matchers).forEach(function(ce){var ge=a(ce,2),ye=ge[0],Ne=ge[1];!we.matchVisual&&Ne===xe||ie.addMatcher(ye,Ne)}),ie}return o(oe,[{key:"addMatcher",value:function(we,ie){this.matchers.push([we,ie])}},{key:"convert",value:function(we){if(typeof we=="string")return this.container.innerHTML=we.replace(/\>\r?\n +\</g,"><"),this.convert();var ie=this.quill.getFormat(this.quill.selection.savedRange.index);if(ie[D.default.blotName]){var ce=this.container.innerText;return this.container.innerHTML="",new f.default().insert(ce,U({},D.default.blotName,ie[D.default.blotName]))}var ge=this.prepareMatching(),ye=a(ge,2),Ne=ye[0],Ue=ye[1],Se=ae(this.container,Ne,Ue);return Y(Se,`
`)&&Se.ops[Se.ops.length-1].attributes==null&&(Se=Se.compose(new f.default().retain(Se.length()-1).delete(1))),J.log("convert",this.container.innerHTML,Se),this.container.innerHTML="",Se}},{key:"dangerouslyPasteHTML",value:function(we,ie){var ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.default.sources.API;if(typeof we=="string")this.quill.setContents(this.convert(we),ie),this.quill.setSelection(0,g.default.sources.SILENT);else{var ge=this.convert(ie);this.quill.updateContents(new f.default().retain(we).concat(ge),ce),this.quill.setSelection(we+ge.length(),g.default.sources.SILENT)}}},{key:"onPaste",value:function(we){var ie=this;if(!(we.defaultPrevented||!this.quill.isEnabled())){var ce=this.quill.getSelection(),ge=new f.default().retain(ce.index),ye=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(g.default.sources.SILENT),setTimeout(function(){ge=ge.concat(ie.convert()).delete(ce.length),ie.quill.updateContents(ge,g.default.sources.USER),ie.quill.setSelection(ge.length()-ce.length,g.default.sources.SILENT),ie.quill.scrollingContainer.scrollTop=ye,ie.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var we=this,ie=[],ce=[];return this.matchers.forEach(function(ge){var ye=a(ge,2),Ne=ye[0],Ue=ye[1];switch(Ne){case Node.TEXT_NODE:ce.push(Ue);break;case Node.ELEMENT_NODE:ie.push(Ue);break;default:[].forEach.call(we.container.querySelectorAll(Ne),function(Se){Se[ne]=Se[ne]||[],Se[ne].push(Ue)});break}}),[ie,ce]}}]),oe})(w.default);j.DEFAULTS={matchers:[],matchVisual:!0};function W(re,oe,he){return(typeof oe>"u"?"undefined":s(oe))==="object"?Object.keys(oe).reduce(function(we,ie){return W(we,ie,oe[ie])},re):re.reduce(function(we,ie){return ie.attributes&&ie.attributes[oe]?we.push(ie):we.insert(ie.insert,(0,c.default)({},U({},oe,he),ie.attributes))},new f.default)}function G(re){if(re.nodeType!==Node.ELEMENT_NODE)return{};var oe="__ql-computed-style";return re[oe]||(re[oe]=window.getComputedStyle(re))}function Y(re,oe){for(var he="",we=re.ops.length-1;we>=0&&he.length<oe.length;--we){var ie=re.ops[we];if(typeof ie.insert!="string")break;he=ie.insert+he}return he.slice(-1*oe.length)===oe}function ee(re){if(re.childNodes.length===0)return!1;var oe=G(re);return["block","list-item"].indexOf(oe.display)>-1}function ae(re,oe,he){return re.nodeType===re.TEXT_NODE?he.reduce(function(we,ie){return ie(re,we)},new f.default):re.nodeType===re.ELEMENT_NODE?[].reduce.call(re.childNodes||[],function(we,ie){var ce=ae(ie,oe,he);return ie.nodeType===re.ELEMENT_NODE&&(ce=oe.reduce(function(ge,ye){return ye(ie,ge)},ce),ce=(ie[ne]||[]).reduce(function(ge,ye){return ye(ie,ge)},ce)),we.concat(ce)},new f.default):new f.default}function de(re,oe,he){return W(he,re,!0)}function fe(re,oe){var he=p.default.Attributor.Attribute.keys(re),we=p.default.Attributor.Class.keys(re),ie=p.default.Attributor.Style.keys(re),ce={};return he.concat(we).concat(ie).forEach(function(ge){var ye=p.default.query(ge,p.default.Scope.ATTRIBUTE);ye!=null&&(ce[ye.attrName]=ye.value(re),ce[ye.attrName])||(ye=Q[ge],ye!=null&&(ye.attrName===ge||ye.keyName===ge)&&(ce[ye.attrName]=ye.value(re)||void 0),ye=B[ge],ye!=null&&(ye.attrName===ge||ye.keyName===ge)&&(ye=B[ge],ce[ye.attrName]=ye.value(re)||void 0))}),Object.keys(ce).length>0&&(oe=W(oe,ce)),oe}function Ae(re,oe){var he=p.default.query(re);if(he==null)return oe;if(he.prototype instanceof p.default.Embed){var we={},ie=he.value(re);ie!=null&&(we[he.blotName]=ie,oe=new f.default().insert(we,he.formats(re)))}else typeof he.formats=="function"&&(oe=W(oe,he.blotName,he.formats(re)));return oe}function Re(re,oe){return Y(oe,`
`)||oe.insert(`
`),oe}function me(){return new f.default}function Le(re,oe){var he=p.default.query(re);if(he==null||he.blotName!=="list-item"||!Y(oe,`
`))return oe;for(var we=-1,ie=re.parentNode;!ie.classList.contains("ql-clipboard");)(p.default.query(ie)||{}).blotName==="list"&&(we+=1),ie=ie.parentNode;return we<=0?oe:oe.compose(new f.default().retain(oe.length()-1).retain(1,{indent:we}))}function V(re,oe){return Y(oe,`
`)||(ee(re)||oe.length()>0&&re.nextSibling&&ee(re.nextSibling))&&oe.insert(`
`),oe}function xe(re,oe){if(ee(re)&&re.nextElementSibling!=null&&!Y(oe,`

`)){var he=re.offsetHeight+parseFloat(G(re).marginTop)+parseFloat(G(re).marginBottom);re.nextElementSibling.offsetTop>re.offsetTop+he*1.5&&oe.insert(`
`)}return oe}function Te(re,oe){var he={},we=re.style||{};return we.fontStyle&&G(re).fontStyle==="italic"&&(he.italic=!0),we.fontWeight&&(G(re).fontWeight.startsWith("bold")||parseInt(G(re).fontWeight)>=700)&&(he.bold=!0),Object.keys(he).length>0&&(oe=W(oe,he)),parseFloat(we.textIndent||0)>0&&(oe=new f.default().insert("	").concat(oe)),oe}function le(re,oe){var he=re.data;if(re.parentNode.tagName==="O:P")return oe.insert(he.trim());if(he.trim().length===0&&re.parentNode.classList.contains("ql-clipboard"))return oe;if(!G(re.parentNode).whiteSpace.startsWith("pre")){var we=function(ce,ge){return ge=ge.replace(/[^\u00a0]/g,""),ge.length<1&&ce?" ":ge};he=he.replace(/\r\n/g," ").replace(/\n/g," "),he=he.replace(/\s\s+/g,we.bind(we,!0)),(re.previousSibling==null&&ee(re.parentNode)||re.previousSibling!=null&&ee(re.previousSibling))&&(he=he.replace(/^\s+/,we.bind(we,!1))),(re.nextSibling==null&&ee(re.parentNode)||re.nextSibling!=null&&ee(re.nextSibling))&&(he=he.replace(/\s+$/,we.bind(we,!1)))}return oe.insert(he)}r.default=j,r.matchAttributor=fe,r.matchBlot=Ae,r.matchNewline=V,r.matchSpacing=xe,r.matchText=le}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function v(g,y){for(var b=0;b<y.length;b++){var _=y[b];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(g,_.key,_)}}return function(g,y,b){return y&&v(g.prototype,y),b&&v(g,b),g}})(),a=function v(g,y,b){g===null&&(g=Function.prototype);var _=Object.getOwnPropertyDescriptor(g,y);if(_===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:v(w,y,b)}else{if("value"in _)return _.value;var C=_.get;return C===void 0?void 0:C.call(b)}},o=i(6),l=c(o);function c(v){return v&&v.__esModule?v:{default:v}}function u(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function f(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function h(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=(function(v){h(g,v);function g(){return u(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,[{key:"optimize",value:function(b){a(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"optimize",this).call(this,b),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return a(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),g})(l.default);p.blotName="bold",p.tagName=["STRONG","B"],r.default=p}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var s=(function(){function P(I,U){var O=[],K=!0,X=!1,J=void 0;try{for(var ne=I[Symbol.iterator](),z;!(K=(z=ne.next()).done)&&(O.push(z.value),!(U&&O.length===U));K=!0);}catch(Q){X=!0,J=Q}finally{try{!K&&ne.return&&ne.return()}finally{if(X)throw J}}return O}return function(I,U){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return P(I,U);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=(function(){function P(I,U){for(var O=0;O<U.length;O++){var K=U[O];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(I,K.key,K)}}return function(I,U,O){return U&&P(I.prototype,U),O&&P(I,O),I}})(),o=i(2),l=b(o),c=i(0),u=b(c),f=i(5),h=b(f),p=i(10),v=b(p),g=i(9),y=b(g);function b(P){return P&&P.__esModule?P:{default:P}}function _(P,I,U){return I in P?Object.defineProperty(P,I,{value:U,enumerable:!0,configurable:!0,writable:!0}):P[I]=U,P}function w(P,I){if(!(P instanceof I))throw new TypeError("Cannot call a class as a function")}function C(P,I){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:P}function S(P,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);P.prototype=Object.create(I&&I.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(P,I):P.__proto__=I)}var R=(0,v.default)("quill:toolbar"),D=(function(P){S(I,P);function I(U,O){w(this,I);var K=C(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,U,O));if(Array.isArray(K.options.container)){var X=document.createElement("div");k(X,K.options.container),U.container.parentNode.insertBefore(X,U.container),K.container=X}else typeof K.options.container=="string"?K.container=document.querySelector(K.options.container):K.container=K.options.container;if(!(K.container instanceof HTMLElement)){var J;return J=R.error("Container required for toolbar",K.options),C(K,J)}return K.container.classList.add("ql-toolbar"),K.controls=[],K.handlers={},Object.keys(K.options.handlers).forEach(function(ne){K.addHandler(ne,K.options.handlers[ne])}),[].forEach.call(K.container.querySelectorAll("button, select"),function(ne){K.attach(ne)}),K.quill.on(h.default.events.EDITOR_CHANGE,function(ne,z){ne===h.default.events.SELECTION_CHANGE&&K.update(z)}),K.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){var ne=K.quill.selection.getRange(),z=s(ne,1),Q=z[0];K.update(Q)}),K}return a(I,[{key:"addHandler",value:function(O,K){this.handlers[O]=K}},{key:"attach",value:function(O){var K=this,X=[].find.call(O.classList,function(ne){return ne.indexOf("ql-")===0});if(X){if(X=X.slice(3),O.tagName==="BUTTON"&&O.setAttribute("type","button"),this.handlers[X]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[X]==null){R.warn("ignoring attaching to disabled format",X,O);return}if(u.default.query(X)==null){R.warn("ignoring attaching to nonexistent format",X,O);return}}var J=O.tagName==="SELECT"?"change":"click";O.addEventListener(J,function(ne){var z=void 0;if(O.tagName==="SELECT"){if(O.selectedIndex<0)return;var Q=O.options[O.selectedIndex];Q.hasAttribute("selected")?z=!1:z=Q.value||!1}else O.classList.contains("ql-active")?z=!1:z=O.value||!O.hasAttribute("value"),ne.preventDefault();K.quill.focus();var B=K.quill.selection.getRange(),j=s(B,1),W=j[0];if(K.handlers[X]!=null)K.handlers[X].call(K,z);else if(u.default.query(X).prototype instanceof u.default.Embed){if(z=prompt("Enter "+X),!z)return;K.quill.updateContents(new l.default().retain(W.index).delete(W.length).insert(_({},X,z)),h.default.sources.USER)}else K.quill.format(X,z,h.default.sources.USER);K.update(W)}),this.controls.push([X,O])}}},{key:"update",value:function(O){var K=O==null?{}:this.quill.getFormat(O);this.controls.forEach(function(X){var J=s(X,2),ne=J[0],z=J[1];if(z.tagName==="SELECT"){var Q=void 0;if(O==null)Q=null;else if(K[ne]==null)Q=z.querySelector("option[selected]");else if(!Array.isArray(K[ne])){var B=K[ne];typeof B=="string"&&(B=B.replace(/\"/g,'\\"')),Q=z.querySelector('option[value="'+B+'"]')}Q==null?(z.value="",z.selectedIndex=-1):Q.selected=!0}else if(O==null)z.classList.remove("ql-active");else if(z.hasAttribute("value")){var j=K[ne]===z.getAttribute("value")||K[ne]!=null&&K[ne].toString()===z.getAttribute("value")||K[ne]==null&&!z.getAttribute("value");z.classList.toggle("ql-active",j)}else z.classList.toggle("ql-active",K[ne]!=null)})}}]),I})(y.default);D.DEFAULTS={};function N(P,I,U){var O=document.createElement("button");O.setAttribute("type","button"),O.classList.add("ql-"+I),U!=null&&(O.value=U),P.appendChild(O)}function k(P,I){Array.isArray(I[0])||(I=[I]),I.forEach(function(U){var O=document.createElement("span");O.classList.add("ql-formats"),U.forEach(function(K){if(typeof K=="string")N(O,K);else{var X=Object.keys(K)[0],J=K[X];Array.isArray(J)?F(O,X,J):N(O,X,J)}}),P.appendChild(O)})}function F(P,I,U){var O=document.createElement("select");O.classList.add("ql-"+I),U.forEach(function(K){var X=document.createElement("option");K!==!1?X.setAttribute("value",K):X.setAttribute("selected","selected"),O.appendChild(X)}),P.appendChild(O)}D.DEFAULTS={container:null,handlers:{clean:function(){var I=this,U=this.quill.getSelection();if(U!=null)if(U.length==0){var O=this.quill.getFormat();Object.keys(O).forEach(function(K){u.default.query(K,u.default.Scope.INLINE)!=null&&I.quill.format(K,!1)})}else this.quill.removeFormat(U,h.default.sources.USER)},direction:function(I){var U=this.quill.getFormat().align;I==="rtl"&&U==null?this.quill.format("align","right",h.default.sources.USER):!I&&U==="right"&&this.quill.format("align",!1,h.default.sources.USER),this.quill.format("direction",I,h.default.sources.USER)},indent:function(I){var U=this.quill.getSelection(),O=this.quill.getFormat(U),K=parseInt(O.indent||0);if(I==="+1"||I==="-1"){var X=I==="+1"?1:-1;O.direction==="rtl"&&(X*=-1),this.quill.format("indent",K+X,h.default.sources.USER)}},link:function(I){I===!0&&(I=prompt("Enter link URL:")),this.quill.format("link",I,h.default.sources.USER)},list:function(I){var U=this.quill.getSelection(),O=this.quill.getFormat(U);I==="check"?O.list==="checked"||O.list==="unchecked"?this.quill.format("list",!1,h.default.sources.USER):this.quill.format("list","unchecked",h.default.sources.USER):this.quill.format("list",I,h.default.sources.USER)}}},r.default=D,r.addControls=k}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function v(g,y){for(var b=0;b<y.length;b++){var _=y[b];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(g,_.key,_)}}return function(g,y,b){return y&&v(g.prototype,y),b&&v(g,b),g}})(),a=function v(g,y,b){g===null&&(g=Function.prototype);var _=Object.getOwnPropertyDescriptor(g,y);if(_===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:v(w,y,b)}else{if("value"in _)return _.value;var C=_.get;return C===void 0?void 0:C.call(b)}},o=i(28),l=c(o);function c(v){return v&&v.__esModule?v:{default:v}}function u(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function f(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function h(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=(function(v){h(g,v);function g(y,b){u(this,g);var _=f(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,y));return _.label.innerHTML=b,_.container.classList.add("ql-color-picker"),[].slice.call(_.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(w){w.classList.add("ql-primary")}),_}return s(g,[{key:"buildItem",value:function(b){var _=a(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"buildItem",this).call(this,b);return _.style.backgroundColor=b.getAttribute("value")||"",_}},{key:"selectItem",value:function(b,_){a(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"selectItem",this).call(this,b,_);var w=this.label.querySelector(".ql-color-label"),C=b&&b.getAttribute("data-value")||"";w&&(w.tagName==="line"?w.style.stroke=C:w.style.fill=C)}}]),g})(l.default);r.default=p}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function v(g,y){for(var b=0;b<y.length;b++){var _=y[b];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(g,_.key,_)}}return function(g,y,b){return y&&v(g.prototype,y),b&&v(g,b),g}})(),a=function v(g,y,b){g===null&&(g=Function.prototype);var _=Object.getOwnPropertyDescriptor(g,y);if(_===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:v(w,y,b)}else{if("value"in _)return _.value;var C=_.get;return C===void 0?void 0:C.call(b)}},o=i(28),l=c(o);function c(v){return v&&v.__esModule?v:{default:v}}function u(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function f(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function h(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=(function(v){h(g,v);function g(y,b){u(this,g);var _=f(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,y));return _.container.classList.add("ql-icon-picker"),[].forEach.call(_.container.querySelectorAll(".ql-picker-item"),function(w){w.innerHTML=b[w.getAttribute("data-value")||""]}),_.defaultItem=_.container.querySelector(".ql-selected"),_.selectItem(_.defaultItem),_}return s(g,[{key:"selectItem",value:function(b,_){a(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"selectItem",this).call(this,b,_),b=b||this.defaultItem,this.label.innerHTML=b.innerHTML}}]),g})(l.default);r.default=p}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function l(c,u){for(var f=0;f<u.length;f++){var h=u[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(c,h.key,h)}}return function(c,u,f){return u&&l(c.prototype,u),f&&l(c,f),c}})();function a(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var o=(function(){function l(c,u){var f=this;a(this,l),this.quill=c,this.boundsContainer=u||document.body,this.root=c.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){f.root.style.marginTop=-1*f.quill.root.scrollTop+"px"}),this.hide()}return s(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(u){var f=u.left+u.width/2-this.root.offsetWidth/2,h=u.bottom+this.quill.root.scrollTop;this.root.style.left=f+"px",this.root.style.top=h+"px",this.root.classList.remove("ql-flip");var p=this.boundsContainer.getBoundingClientRect(),v=this.root.getBoundingClientRect(),g=0;if(v.right>p.right&&(g=p.right-v.right,this.root.style.left=f+g+"px"),v.left<p.left&&(g=p.left-v.left,this.root.style.left=f+g+"px"),v.bottom>p.bottom){var y=v.bottom-v.top,b=u.bottom-u.top+y;this.root.style.top=h-b+"px",this.root.classList.add("ql-flip")}return g}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l})();r.default=o}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function F(P,I){var U=[],O=!0,K=!1,X=void 0;try{for(var J=P[Symbol.iterator](),ne;!(O=(ne=J.next()).done)&&(U.push(ne.value),!(I&&U.length===I));O=!0);}catch(z){K=!0,X=z}finally{try{!O&&J.return&&J.return()}finally{if(K)throw X}}return U}return function(P,I){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return F(P,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=function F(P,I,U){P===null&&(P=Function.prototype);var O=Object.getOwnPropertyDescriptor(P,I);if(O===void 0){var K=Object.getPrototypeOf(P);return K===null?void 0:F(K,I,U)}else{if("value"in O)return O.value;var X=O.get;return X===void 0?void 0:X.call(U)}},o=(function(){function F(P,I){for(var U=0;U<I.length;U++){var O=I[U];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(P,O.key,O)}}return function(P,I,U){return I&&F(P.prototype,I),U&&F(P,U),P}})(),l=i(3),c=w(l),u=i(8),f=w(u),h=i(43),p=w(h),v=i(27),g=w(v),y=i(15),b=i(41),_=w(b);function w(F){return F&&F.__esModule?F:{default:F}}function C(F,P){if(!(F instanceof P))throw new TypeError("Cannot call a class as a function")}function S(F,P){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:F}function R(F,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);F.prototype=Object.create(P&&P.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(F,P):F.__proto__=P)}var D=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],N=(function(F){R(P,F);function P(I,U){C(this,P),U.modules.toolbar!=null&&U.modules.toolbar.container==null&&(U.modules.toolbar.container=D);var O=S(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,I,U));return O.quill.container.classList.add("ql-snow"),O}return o(P,[{key:"extendToolbar",value:function(U){U.container.classList.add("ql-snow"),this.buildButtons([].slice.call(U.container.querySelectorAll("button")),_.default),this.buildPickers([].slice.call(U.container.querySelectorAll("select")),_.default),this.tooltip=new k(this.quill,this.options.bounds),U.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(O,K){U.handlers.link.call(U,!K.format.link)})}}]),P})(p.default);N.DEFAULTS=(0,c.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(P){if(P){var I=this.quill.getSelection();if(I==null||I.length==0)return;var U=this.quill.getText(I);/^\S+@\S+\.\S+$/.test(U)&&U.indexOf("mailto:")!==0&&(U="mailto:"+U);var O=this.quill.theme.tooltip;O.edit("link",U)}else this.quill.format("link",!1)}}}}});var k=(function(F){R(P,F);function P(I,U){C(this,P);var O=S(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,I,U));return O.preview=O.root.querySelector("a.ql-preview"),O}return o(P,[{key:"listen",value:function(){var U=this;a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(O){U.root.classList.contains("ql-editing")?U.save():U.edit("link",U.preview.textContent),O.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(O){if(U.linkRange!=null){var K=U.linkRange;U.restoreFocus(),U.quill.formatText(K,"link",!1,f.default.sources.USER),delete U.linkRange}O.preventDefault(),U.hide()}),this.quill.on(f.default.events.SELECTION_CHANGE,function(O,K,X){if(O!=null){if(O.length===0&&X===f.default.sources.USER){var J=U.quill.scroll.descendant(g.default,O.index),ne=s(J,2),z=ne[0],Q=ne[1];if(z!=null){U.linkRange=new y.Range(O.index-Q,z.length());var B=g.default.formats(z.domNode);U.preview.textContent=B,U.preview.setAttribute("href",B),U.show(),U.position(U.quill.getBounds(U.linkRange));return}}else delete U.linkRange;U.hide()}})}},{key:"show",value:function(){a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),P})(h.BaseTooltip);k.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=N}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(29),a=ie(s),o=i(36),l=i(38),c=i(64),u=i(65),f=ie(u),h=i(66),p=ie(h),v=i(67),g=ie(v),y=i(37),b=i(26),_=i(39),w=i(40),C=i(56),S=ie(C),R=i(68),D=ie(R),N=i(27),k=ie(N),F=i(69),P=ie(F),I=i(70),U=ie(I),O=i(71),K=ie(O),X=i(72),J=ie(X),ne=i(73),z=ie(ne),Q=i(13),B=ie(Q),j=i(74),W=ie(j),G=i(75),Y=ie(G),ee=i(57),ae=ie(ee),de=i(41),fe=ie(de),Ae=i(28),Re=ie(Ae),me=i(59),Le=ie(me),V=i(60),xe=ie(V),Te=i(61),le=ie(Te),re=i(108),oe=ie(re),he=i(62),we=ie(he);function ie(ce){return ce&&ce.__esModule?ce:{default:ce}}a.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":o.AlignClass,"attributors/class/background":y.BackgroundClass,"attributors/class/color":b.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":_.FontClass,"attributors/class/size":w.SizeClass,"attributors/style/align":o.AlignStyle,"attributors/style/background":y.BackgroundStyle,"attributors/style/color":b.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":_.FontStyle,"attributors/style/size":w.SizeStyle},!0),a.default.register({"formats/align":o.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":c.IndentClass,"formats/background":y.BackgroundStyle,"formats/color":b.ColorStyle,"formats/font":_.FontClass,"formats/size":w.SizeClass,"formats/blockquote":f.default,"formats/code-block":B.default,"formats/header":p.default,"formats/list":g.default,"formats/bold":S.default,"formats/code":Q.Code,"formats/italic":D.default,"formats/link":k.default,"formats/script":P.default,"formats/strike":U.default,"formats/underline":K.default,"formats/image":J.default,"formats/video":z.default,"formats/list/item":v.ListItem,"modules/formula":W.default,"modules/syntax":Y.default,"modules/toolbar":ae.default,"themes/bubble":oe.default,"themes/snow":we.default,"ui/icons":fe.default,"ui/picker":Re.default,"ui/icon-picker":xe.default,"ui/color-picker":Le.default,"ui/tooltip":le.default},!0),r.default=a.default}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var s=(function(){function g(y,b){for(var _=0;_<b.length;_++){var w=b[_];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}return function(y,b,_){return b&&g(y.prototype,b),_&&g(y,_),y}})(),a=function g(y,b,_){y===null&&(y=Function.prototype);var w=Object.getOwnPropertyDescriptor(y,b);if(w===void 0){var C=Object.getPrototypeOf(y);return C===null?void 0:g(C,b,_)}else{if("value"in w)return w.value;var S=w.get;return S===void 0?void 0:S.call(_)}},o=i(0),l=c(o);function c(g){return g&&g.__esModule?g:{default:g}}function u(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function f(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function h(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var p=(function(g){h(y,g);function y(){return u(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,[{key:"add",value:function(_,w){if(w==="+1"||w==="-1"){var C=this.value(_)||0;w=w==="+1"?C+1:C-1}return w===0?(this.remove(_),!0):a(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"add",this).call(this,_,w)}},{key:"canAdd",value:function(_,w){return a(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"canAdd",this).call(this,_,w)||a(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"canAdd",this).call(this,_,parseInt(w))}},{key:"value",value:function(_){return parseInt(a(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"value",this).call(this,_))||void 0}}]),y})(l.default.Attributor.Class),v=new p("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=v}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(4),a=o(s);function o(h){return h&&h.__esModule?h:{default:h}}function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function c(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function u(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=(function(h){u(p,h);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(a.default);f.blotName="blockquote",f.tagName="blockquote",r.default=f}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function p(v,g){for(var y=0;y<g.length;y++){var b=g[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(v,b.key,b)}}return function(v,g,y){return g&&p(v.prototype,g),y&&p(v,y),v}})(),a=i(4),o=l(a);function l(p){return p&&p.__esModule?p:{default:p}}function c(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function u(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function f(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var h=(function(p){f(v,p);function v(){return c(this,v),u(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return s(v,null,[{key:"formats",value:function(y){return this.tagName.indexOf(y.tagName)+1}}]),v})(o.default);h.blotName="header",h.tagName=["H1","H2","H3","H4","H5","H6"],r.default=h}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var s=(function(){function C(S,R){for(var D=0;D<R.length;D++){var N=R[D];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(S,N.key,N)}}return function(S,R,D){return R&&C(S.prototype,R),D&&C(S,D),S}})(),a=function C(S,R,D){S===null&&(S=Function.prototype);var N=Object.getOwnPropertyDescriptor(S,R);if(N===void 0){var k=Object.getPrototypeOf(S);return k===null?void 0:C(k,R,D)}else{if("value"in N)return N.value;var F=N.get;return F===void 0?void 0:F.call(D)}},o=i(0),l=p(o),c=i(4),u=p(c),f=i(25),h=p(f);function p(C){return C&&C.__esModule?C:{default:C}}function v(C,S,R){return S in C?Object.defineProperty(C,S,{value:R,enumerable:!0,configurable:!0,writable:!0}):C[S]=R,C}function g(C,S){if(!(C instanceof S))throw new TypeError("Cannot call a class as a function")}function y(C,S){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:C}function b(C,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);C.prototype=Object.create(S&&S.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(C,S):C.__proto__=S)}var _=(function(C){b(S,C);function S(){return g(this,S),y(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return s(S,[{key:"format",value:function(D,N){D===w.blotName&&!N?this.replaceWith(l.default.create(this.statics.scope)):a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"format",this).call(this,D,N)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(D,N){return this.parent.isolate(this.offset(this.parent),this.length()),D===this.parent.statics.blotName?(this.parent.replaceWith(D,N),this):(this.parent.unwrap(),a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replaceWith",this).call(this,D,N))}}],[{key:"formats",value:function(D){return D.tagName===this.tagName?void 0:a(S.__proto__||Object.getPrototypeOf(S),"formats",this).call(this,D)}}]),S})(u.default);_.blotName="list-item",_.tagName="LI";var w=(function(C){b(S,C),s(S,null,[{key:"create",value:function(D){var N=D==="ordered"?"OL":"UL",k=a(S.__proto__||Object.getPrototypeOf(S),"create",this).call(this,N);return(D==="checked"||D==="unchecked")&&k.setAttribute("data-checked",D==="checked"),k}},{key:"formats",value:function(D){if(D.tagName==="OL")return"ordered";if(D.tagName==="UL")return D.hasAttribute("data-checked")?D.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function S(R){g(this,S);var D=y(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,R)),N=function(F){if(F.target.parentNode===R){var P=D.statics.formats(R),I=l.default.find(F.target);P==="checked"?I.format("list","unchecked"):P==="unchecked"&&I.format("list","checked")}};return R.addEventListener("touchstart",N),R.addEventListener("mousedown",N),D}return s(S,[{key:"format",value:function(D,N){this.children.length>0&&this.children.tail.format(D,N)}},{key:"formats",value:function(){return v({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(D,N){if(D instanceof _)a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertBefore",this).call(this,D,N);else{var k=N==null?this.length():N.offset(this),F=this.split(k);F.parent.insertBefore(D,F)}}},{key:"optimize",value:function(D){a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"optimize",this).call(this,D);var N=this.next;N!=null&&N.prev===this&&N.statics.blotName===this.statics.blotName&&N.domNode.tagName===this.domNode.tagName&&N.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(N.moveChildren(this),N.remove())}},{key:"replace",value:function(D){if(D.statics.blotName!==this.statics.blotName){var N=l.default.create(this.statics.defaultChild);D.moveChildren(N),this.appendChild(N)}a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replace",this).call(this,D)}}]),S})(h.default);w.blotName="list",w.scope=l.default.Scope.BLOCK_BLOT,w.tagName=["OL","UL"],w.defaultChild="list-item",w.allowedChildren=[_],r.ListItem=_,r.default=w}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(56),a=o(s);function o(h){return h&&h.__esModule?h:{default:h}}function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function c(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function u(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=(function(h){u(p,h);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(a.default);f.blotName="italic",f.tagName=["EM","I"],r.default=f}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function v(g,y){for(var b=0;b<y.length;b++){var _=y[b];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(g,_.key,_)}}return function(g,y,b){return y&&v(g.prototype,y),b&&v(g,b),g}})(),a=function v(g,y,b){g===null&&(g=Function.prototype);var _=Object.getOwnPropertyDescriptor(g,y);if(_===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:v(w,y,b)}else{if("value"in _)return _.value;var C=_.get;return C===void 0?void 0:C.call(b)}},o=i(6),l=c(o);function c(v){return v&&v.__esModule?v:{default:v}}function u(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function f(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function h(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=(function(v){h(g,v);function g(){return u(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,null,[{key:"create",value:function(b){return b==="super"?document.createElement("sup"):b==="sub"?document.createElement("sub"):a(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,b)}},{key:"formats",value:function(b){if(b.tagName==="SUB")return"sub";if(b.tagName==="SUP")return"super"}}]),g})(l.default);p.blotName="script",p.tagName=["SUB","SUP"],r.default=p}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(6),a=o(s);function o(h){return h&&h.__esModule?h:{default:h}}function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function c(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function u(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=(function(h){u(p,h);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(a.default);f.blotName="strike",f.tagName="S",r.default=f}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(6),a=o(s);function o(h){return h&&h.__esModule?h:{default:h}}function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function c(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function u(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=(function(h){u(p,h);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(a.default);f.blotName="underline",f.tagName="U",r.default=f}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function y(b,_){for(var w=0;w<_.length;w++){var C=_[w];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(b,C.key,C)}}return function(b,_,w){return _&&y(b.prototype,_),w&&y(b,w),b}})(),a=function y(b,_,w){b===null&&(b=Function.prototype);var C=Object.getOwnPropertyDescriptor(b,_);if(C===void 0){var S=Object.getPrototypeOf(b);return S===null?void 0:y(S,_,w)}else{if("value"in C)return C.value;var R=C.get;return R===void 0?void 0:R.call(w)}},o=i(0),l=u(o),c=i(27);function u(y){return y&&y.__esModule?y:{default:y}}function f(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}function h(y,b){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:y}function p(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(y,b):y.__proto__=b)}var v=["alt","height","width"],g=(function(y){p(b,y);function b(){return f(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,[{key:"format",value:function(w,C){v.indexOf(w)>-1?C?this.domNode.setAttribute(w,C):this.domNode.removeAttribute(w):a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,w,C)}}],[{key:"create",value:function(w){var C=a(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,w);return typeof w=="string"&&C.setAttribute("src",this.sanitize(w)),C}},{key:"formats",value:function(w){return v.reduce(function(C,S){return w.hasAttribute(S)&&(C[S]=w.getAttribute(S)),C},{})}},{key:"match",value:function(w){return/\.(jpe?g|gif|png)$/.test(w)||/^data:image\/.+;base64/.test(w)}},{key:"sanitize",value:function(w){return(0,c.sanitize)(w,["http","https","data"])?w:"//:0"}},{key:"value",value:function(w){return w.getAttribute("src")}}]),b})(l.default.Embed);g.blotName="image",g.tagName="IMG",r.default=g}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function y(b,_){for(var w=0;w<_.length;w++){var C=_[w];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(b,C.key,C)}}return function(b,_,w){return _&&y(b.prototype,_),w&&y(b,w),b}})(),a=function y(b,_,w){b===null&&(b=Function.prototype);var C=Object.getOwnPropertyDescriptor(b,_);if(C===void 0){var S=Object.getPrototypeOf(b);return S===null?void 0:y(S,_,w)}else{if("value"in C)return C.value;var R=C.get;return R===void 0?void 0:R.call(w)}},o=i(4),l=i(27),c=u(l);function u(y){return y&&y.__esModule?y:{default:y}}function f(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}function h(y,b){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:y}function p(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(y,b):y.__proto__=b)}var v=["height","width"],g=(function(y){p(b,y);function b(){return f(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,[{key:"format",value:function(w,C){v.indexOf(w)>-1?C?this.domNode.setAttribute(w,C):this.domNode.removeAttribute(w):a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,w,C)}}],[{key:"create",value:function(w){var C=a(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,w);return C.setAttribute("frameborder","0"),C.setAttribute("allowfullscreen",!0),C.setAttribute("src",this.sanitize(w)),C}},{key:"formats",value:function(w){return v.reduce(function(C,S){return w.hasAttribute(S)&&(C[S]=w.getAttribute(S)),C},{})}},{key:"sanitize",value:function(w){return c.default.sanitize(w)}},{key:"value",value:function(w){return w.getAttribute("src")}}]),b})(o.BlockEmbed);g.blotName="video",g.className="ql-video",g.tagName="IFRAME",r.default=g}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var s=(function(){function w(C,S){for(var R=0;R<S.length;R++){var D=S[R];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(C,D.key,D)}}return function(C,S,R){return S&&w(C.prototype,S),R&&w(C,R),C}})(),a=function w(C,S,R){C===null&&(C=Function.prototype);var D=Object.getOwnPropertyDescriptor(C,S);if(D===void 0){var N=Object.getPrototypeOf(C);return N===null?void 0:w(N,S,R)}else{if("value"in D)return D.value;var k=D.get;return k===void 0?void 0:k.call(R)}},o=i(35),l=p(o),c=i(5),u=p(c),f=i(9),h=p(f);function p(w){return w&&w.__esModule?w:{default:w}}function v(w,C){if(!(w instanceof C))throw new TypeError("Cannot call a class as a function")}function g(w,C){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:w}function y(w,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);w.prototype=Object.create(C&&C.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(w,C):w.__proto__=C)}var b=(function(w){y(C,w);function C(){return v(this,C),g(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return s(C,null,[{key:"create",value:function(R){var D=a(C.__proto__||Object.getPrototypeOf(C),"create",this).call(this,R);return typeof R=="string"&&(window.katex.render(R,D,{throwOnError:!1,errorColor:"#f00"}),D.setAttribute("data-value",R)),D}},{key:"value",value:function(R){return R.getAttribute("data-value")}}]),C})(l.default);b.blotName="formula",b.className="ql-formula",b.tagName="SPAN";var _=(function(w){y(C,w),s(C,null,[{key:"register",value:function(){u.default.register(b,!0)}}]);function C(){v(this,C);var S=g(this,(C.__proto__||Object.getPrototypeOf(C)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return S}return C})(h.default);r.FormulaBlot=b,r.default=_}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var s=(function(){function R(D,N){for(var k=0;k<N.length;k++){var F=N[k];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(D,F.key,F)}}return function(D,N,k){return N&&R(D.prototype,N),k&&R(D,k),D}})(),a=function R(D,N,k){D===null&&(D=Function.prototype);var F=Object.getOwnPropertyDescriptor(D,N);if(F===void 0){var P=Object.getPrototypeOf(D);return P===null?void 0:R(P,N,k)}else{if("value"in F)return F.value;var I=F.get;return I===void 0?void 0:I.call(k)}},o=i(0),l=g(o),c=i(5),u=g(c),f=i(9),h=g(f),p=i(13),v=g(p);function g(R){return R&&R.__esModule?R:{default:R}}function y(R,D){if(!(R instanceof D))throw new TypeError("Cannot call a class as a function")}function b(R,D){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:R}function _(R,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);R.prototype=Object.create(D&&D.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(R,D):R.__proto__=D)}var w=(function(R){_(D,R);function D(){return y(this,D),b(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return s(D,[{key:"replaceWith",value:function(k){this.domNode.textContent=this.domNode.textContent,this.attach(),a(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"replaceWith",this).call(this,k)}},{key:"highlight",value:function(k){var F=this.domNode.textContent;this.cachedText!==F&&((F.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=k(F),this.domNode.normalize(),this.attach()),this.cachedText=F)}}]),D})(v.default);w.className="ql-syntax";var C=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),S=(function(R){_(D,R),s(D,null,[{key:"register",value:function(){u.default.register(C,!0),u.default.register(w,!0)}}]);function D(N,k){y(this,D);var F=b(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,N,k));if(typeof F.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var P=null;return F.quill.on(u.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(P),P=setTimeout(function(){F.highlight(),P=null},F.options.interval)}),F.highlight(),F}return s(D,[{key:"highlight",value:function(){var k=this;if(!this.quill.selection.composing){this.quill.update(u.default.sources.USER);var F=this.quill.getSelection();this.quill.scroll.descendants(w).forEach(function(P){P.highlight(k.options.highlight)}),this.quill.update(u.default.sources.SILENT),F!=null&&this.quill.setSelection(F,u.default.sources.SILENT)}}}]),D})(h.default);S.DEFAULTS={highlight:(function(){return window.hljs==null?null:function(R){var D=window.hljs.highlightAuto(R);return D.value}})(),interval:1e3},r.CodeBlock=w,r.CodeToken=C,r.default=S}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'}),(function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'}),(function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'}),(function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'}),(function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var s=function D(N,k,F){N===null&&(N=Function.prototype);var P=Object.getOwnPropertyDescriptor(N,k);if(P===void 0){var I=Object.getPrototypeOf(N);return I===null?void 0:D(I,k,F)}else{if("value"in P)return P.value;var U=P.get;return U===void 0?void 0:U.call(F)}},a=(function(){function D(N,k){for(var F=0;F<k.length;F++){var P=k[F];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(N,P.key,P)}}return function(N,k,F){return k&&D(N.prototype,k),F&&D(N,F),N}})(),o=i(3),l=y(o),c=i(8),u=y(c),f=i(43),h=y(f),p=i(15),v=i(41),g=y(v);function y(D){return D&&D.__esModule?D:{default:D}}function b(D,N){if(!(D instanceof N))throw new TypeError("Cannot call a class as a function")}function _(D,N){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:D}function w(D,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);D.prototype=Object.create(N&&N.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(D,N):D.__proto__=N)}var C=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],S=(function(D){w(N,D);function N(k,F){b(this,N),F.modules.toolbar!=null&&F.modules.toolbar.container==null&&(F.modules.toolbar.container=C);var P=_(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,k,F));return P.quill.container.classList.add("ql-bubble"),P}return a(N,[{key:"extendToolbar",value:function(F){this.tooltip=new R(this.quill,this.options.bounds),this.tooltip.root.appendChild(F.container),this.buildButtons([].slice.call(F.container.querySelectorAll("button")),g.default),this.buildPickers([].slice.call(F.container.querySelectorAll("select")),g.default)}}]),N})(h.default);S.DEFAULTS=(0,l.default)(!0,{},h.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(N){N?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var R=(function(D){w(N,D);function N(k,F){b(this,N);var P=_(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,k,F));return P.quill.on(u.default.events.EDITOR_CHANGE,function(I,U,O,K){if(I===u.default.events.SELECTION_CHANGE)if(U!=null&&U.length>0&&K===u.default.sources.USER){P.show(),P.root.style.left="0px",P.root.style.width="",P.root.style.width=P.root.offsetWidth+"px";var X=P.quill.getLines(U.index,U.length);if(X.length===1)P.position(P.quill.getBounds(U));else{var J=X[X.length-1],ne=P.quill.getIndex(J),z=Math.min(J.length()-1,U.index+U.length-ne),Q=P.quill.getBounds(new p.Range(ne,z));P.position(Q)}}else document.activeElement!==P.textbox&&P.quill.hasFocus()&&P.hide()}),P}return a(N,[{key:"listen",value:function(){var F=this;s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){F.root.classList.remove("ql-editing")}),this.quill.on(u.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!F.root.classList.contains("ql-hidden")){var P=F.quill.getSelection();P!=null&&F.position(F.quill.getBounds(P))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(F){var P=s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"position",this).call(this,F),I=this.root.querySelector(".ql-tooltip-arrow");if(I.style.marginLeft="",P===0)return P;I.style.marginLeft=-1*P-I.offsetWidth/2+"px"}}]),N})(f.BaseTooltip);R.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=R,r.default=S}),(function(n,r,i){n.exports=i(63)})]).default})})(_2)),_2.exports}var Co,yM;function Wve(){if(yM)return Co;yM=1;var t=Co&&Co.__extends||(function(){var u=function(f,h){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var g in v)v.hasOwnProperty(g)&&(p[g]=v[g])},u(f,h)};return function(f,h){u(f,h);function p(){this.constructor=f}f.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}})(),e=Co&&Co.__assign||function(){return e=Object.assign||function(u){for(var f,h=1,p=arguments.length;h<p;h++){f=arguments[h];for(var v in f)Object.prototype.hasOwnProperty.call(f,v)&&(u[v]=f[v])}return u},e.apply(this,arguments)},n=Co&&Co.__spreadArrays||function(){for(var u=0,f=0,h=arguments.length;f<h;f++)u+=arguments[f].length;for(var p=Array(u),v=0,f=0;f<h;f++)for(var g=arguments[f],y=0,b=g.length;y<b;y++,v++)p[v]=g[y];return p},r=Co&&Co.__importDefault||function(u){return u&&u.__esModule?u:{default:u}},i=r(ob()),s=r(EB()),a=r(jve()),o=r(Vve()),l=(function(u){t(f,u);function f(h){var p=u.call(this,h)||this;p.dirtyProps=["modules","formats","bounds","theme","children"],p.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],p.state={generation:0},p.selection=null,p.onEditorChange=function(g,y,b,_){var w,C,S,R;g==="text-change"?(C=(w=p).onEditorChangeText)===null||C===void 0||C.call(w,p.editor.root.innerHTML,y,_,p.unprivilegedEditor):g==="selection-change"&&((R=(S=p).onEditorChangeSelection)===null||R===void 0||R.call(S,y,_,p.unprivilegedEditor))};var v=p.isControlled()?h.value:h.defaultValue;return p.value=v??"",p}return f.prototype.validateProps=function(h){var p;if(i.default.Children.count(h.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(i.default.Children.count(h.children)){var v=i.default.Children.only(h.children);if(((p=v)===null||p===void 0?void 0:p.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&h.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},f.prototype.shouldComponentUpdate=function(h,p){var v=this,g;if(this.validateProps(h),!this.editor||this.state.generation!==p.generation)return!0;if("value"in h){var y=this.getEditorContents(),b=(g=h.value,g??"");this.isEqualValue(b,y)||this.setEditorContents(this.editor,b)}return h.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,h.readOnly),n(this.cleanProps,this.dirtyProps).some(function(_){return!a.default(h[_],v.props[_])})},f.prototype.shouldComponentRegenerate=function(h){var p=this;return this.dirtyProps.some(function(v){return!a.default(h[v],p.props[v])})},f.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},f.prototype.componentWillUnmount=function(){this.destroyEditor()},f.prototype.componentDidUpdate=function(h,p){var v=this;if(this.editor&&this.shouldComponentRegenerate(h)){var g=this.editor.getContents(),y=this.editor.getSelection();this.regenerationSnapshot={delta:g,selection:y},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==p.generation){var b=this.regenerationSnapshot,g=b.delta,_=b.selection;delete this.regenerationSnapshot,this.instantiateEditor();var w=this.editor;w.setContents(g),c(function(){return v.setEditorSelection(w,_)})}},f.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},f.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},f.prototype.isControlled=function(){return"value"in this.props},f.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},f.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},f.prototype.createEditor=function(h,p){var v=new o.default(h,p);return p.tabIndex!=null&&this.setEditorTabIndex(v,p.tabIndex),this.hookEditor(v),v},f.prototype.hookEditor=function(h){this.unprivilegedEditor=this.makeUnprivilegedEditor(h),h.on("editor-change",this.onEditorChange)},f.prototype.unhookEditor=function(h){h.off("editor-change",this.onEditorChange)},f.prototype.getEditorContents=function(){return this.value},f.prototype.getEditorSelection=function(){return this.selection},f.prototype.isDelta=function(h){return h&&h.ops},f.prototype.isEqualValue=function(h,p){return this.isDelta(h)&&this.isDelta(p)?a.default(h.ops,p.ops):a.default(h,p)},f.prototype.setEditorContents=function(h,p){var v=this;this.value=p;var g=this.getEditorSelection();typeof p=="string"?h.setContents(h.clipboard.convert(p)):h.setContents(p),c(function(){return v.setEditorSelection(h,g)})},f.prototype.setEditorSelection=function(h,p){if(this.selection=p,p){var v=h.getLength();p.index=Math.max(0,Math.min(p.index,v-1)),p.length=Math.max(0,Math.min(p.length,v-1-p.index)),h.setSelection(p)}},f.prototype.setEditorTabIndex=function(h,p){var v,g;!((g=(v=h)===null||v===void 0?void 0:v.scroll)===null||g===void 0)&&g.domNode&&(h.scroll.domNode.tabIndex=p)},f.prototype.setEditorReadOnly=function(h,p){p?h.disable():h.enable()},f.prototype.makeUnprivilegedEditor=function(h){var p=h;return{getHTML:function(){return p.root.innerHTML},getLength:p.getLength.bind(p),getText:p.getText.bind(p),getContents:p.getContents.bind(p),getSelection:p.getSelection.bind(p),getBounds:p.getBounds.bind(p)}},f.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var h=s.default.findDOMNode(this.editingArea);if(!h)throw new Error("Cannot find element for editing area");if(h.nodeType===3)throw new Error("Editing area cannot be a text node");return h},f.prototype.renderEditingArea=function(){var h=this,p=this.props,v=p.children,g=p.preserveWhitespace,y=this.state.generation,b={key:y,ref:function(_){h.editingArea=_}};return i.default.Children.count(v)?i.default.cloneElement(i.default.Children.only(v),b):g?i.default.createElement("pre",e({},b)):i.default.createElement("div",e({},b))},f.prototype.render=function(){var h;return i.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(h=this.props.className,h??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},f.prototype.onEditorChangeText=function(h,p,v,g){var y,b;if(this.editor){var _=this.isDelta(this.value)?g.getContents():g.getHTML();_!==this.getEditorContents()&&(this.lastDeltaChangeSet=p,this.value=_,(b=(y=this.props).onChange)===null||b===void 0||b.call(y,h,p,v,g))}},f.prototype.onEditorChangeSelection=function(h,p,v){var g,y,b,_,w,C;if(this.editor){var S=this.getEditorSelection(),R=!S&&h,D=S&&!h;a.default(h,S)||(this.selection=h,(y=(g=this.props).onChangeSelection)===null||y===void 0||y.call(g,h,p,v),R?(_=(b=this.props).onFocus)===null||_===void 0||_.call(b,h,p,v):D&&((C=(w=this.props).onBlur)===null||C===void 0||C.call(w,S,p,v)))}},f.prototype.focus=function(){this.editor&&this.editor.focus()},f.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},f.displayName="React Quill",f.Quill=o.default,f.defaultProps={theme:"snow",modules:{},readOnly:!1},f})(i.default.Component);function c(u){Promise.resolve().then(u)}return Co=l,Co}var qve=Wve();const gr=ab(qve);if(gr.Quill){const t=gr.Quill.import("attributors/style/size");t.whitelist=["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px"],gr.Quill.register("attributors/style/size",t,!0)}const $ve=t=>t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,""),zve=()=>{const{pages:t,refetchAdminData:e}=nn(),[n,r]=q.useState({isOpen:!1,mode:"create",page:null}),[i,s]=q.useState({title:"",content:"",lang:"ar"}),[a,o]=q.useState(!1),l=()=>{s({title:"",content:"",lang:"ar"}),r({isOpen:!0,mode:"create",page:null})},c=g=>{s({title:g.title,content:g.content,lang:g.lang||"ar"}),r({isOpen:!0,mode:"edit",page:g})},u=()=>{r({isOpen:!1,mode:"create",page:null})},f=async()=>{if(!i.title.trim()){alert("    .");return}o(!0);try{const g=`      : "${i.title}".   HTML   (h2, h3)  (p)  (ul/li)     .`;s(b=>({...b,content:""}));const y=await ac({model:"gemini-2.5-flash",contents:g});s(b=>({...b,content:y.text||""}))}catch(g){console.error("AI content generation failed:",g),alert("  .        .")}finally{o(!1)}},h=async g=>{g.preventDefault();const y=$ve(i.title);n.mode==="create"?await vp.create({...i,slug:y,enabled:!1}):n.page&&await vp.update(n.page.id,{...i,slug:y}),await e(),u()},p=async g=>{const y=t.find(b=>b.id===g);y&&(await vp.toggleStatus(g,y.enabled),await e())},v=async g=>{window.confirm("              .")&&(await vp.delete(g),await e())};return d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:" "}),d.jsx("button",{onClick:l,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"+   "})]}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:t.map(g=>{var y;return d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:g.title}),d.jsx("td",{className:"p-3 text-gray-600 text-sm",children:((y=ef.find(b=>b.code===g.lang))==null?void 0:y.name)||g.lang||" ()"}),d.jsx("td",{className:"p-3",children:d.jsx("button",{onClick:()=>p(g.id),className:`px-3 py-1 text-xs font-semibold rounded-full ${g.enabled?"text-green-800 bg-green-200":"text-red-800 bg-red-200"}`,children:g.enabled?"":""})}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse",children:[d.jsx(en,{to:`/dz/page/${g.slug}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>c(g),className:"text-green-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>v(g.id),className:"text-red-600 hover:underline text-sm font-semibold",children:""})]})]},g.id)})})]})})}),n.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl",children:d.jsxs("form",{onSubmit:h,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:n.mode==="create"?"  ":" "})}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsxs("div",{className:"flex gap-2 items-center",children:[d.jsx("input",{type:"text",id:"title",value:i.title,onChange:g=>s(y=>({...y,title:g.target.value})),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"}),d.jsxs("button",{type:"button",onClick:f,disabled:a,className:"flex items-center gap-2 px-3 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 disabled:bg-purple-300",title:"   ",children:[a?d.jsx(Ct,{className:"animate-spin"}):d.jsx(na,{}),d.jsx("span",{children:""})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"lang",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("select",{id:"lang",value:i.lang||"ar",onChange:g=>s(y=>({...y,lang:g.target.value})),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",children:ef.map(g=>d.jsx("option",{value:g.code,children:g.name},g.code))})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 mb-1",children:""}),d.jsx(gr,{theme:"snow",value:i.content,onChange:g=>s(y=>({...y,content:g})),modules:{toolbar:[[{size:["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px",!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"},{align:[]}],["link","image","video"],["clean"]]}})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:u,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:""})]})]})})})]})},is=(t,e,n=!0)=>{const r=n?`meta[property='${t}']`:`meta[name='${t}']`;let i=document.querySelector(r);i||(i=document.createElement("meta"),i.setAttribute(n?"property":"name",t),document.head.appendChild(i)),i.setAttribute("content",e)},Hve=()=>{const{countryCode:t,slug:e}=aa(),{pages:n,siteSettings:r,loading:i}=nn(),{language:s,t:a}=la(),o=n.find(c=>c.slug===e&&c.enabled),l=q.useMemo(()=>o?n.filter(c=>c.enabled&&c.id!==o.id&&(c.lang===s||!c.lang&&s==="ar")):[],[n,o,s]);return q.useEffect(()=>{var c,u;if(o&&r){const f=((c=r.seo)==null?void 0:c[t||"dz"])||((u=r.seo)==null?void 0:u.default);if(f){const h=`${o.title} ${f.titleSeparator} ${f.siteName}`,p=o.content.replace(/<[^>]*>/g,"").substring(0,160)+(o.content.length>160?"...":""),v="https://datas.gitut.com/data/image/gitut-og-main.png",g=s==="ar"?"ar_AR":s==="fr"?"fr_FR":"en_US";document.title=h,is("description",p,!1),is("og:title",h),is("og:description",p),is("og:image",v),is("og:image:secure_url",v),is("og:image:width","1200"),is("og:image:height","630"),is("og:url",window.location.href),is("og:type","article"),is("og:site_name",f.siteName),is("og:locale",g),is("twitter:card","summary_large_image",!1),is("twitter:url",window.location.href,!1),is("twitter:title",h,!1),is("twitter:description",p,!1),is("twitter:image",v,!1)}}},[o,r,t,s]),i?d.jsx("div",{className:"text-center py-20",children:"  ..."}):o?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[d.jsxs("article",{className:"md:col-span-3 bg-white rounded-lg shadow-xl p-6 md:p-10",children:[d.jsx("header",{className:"mb-8 border-b pb-6",children:d.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 leading-tight",children:o.title})}),d.jsx("div",{className:"prose prose-lg max-w-none text-gray-800 leading-relaxed",dangerouslySetInnerHTML:{__html:o.content}})]}),l.length>0&&d.jsx("aside",{className:"md:col-span-1 space-y-6",children:d.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg border sticky top-24",children:[d.jsx("h3",{className:"font-bold text-lg mb-3 text-gray-800 border-b pb-2",children:a("relatedPages.title")}),d.jsx("div",{className:"space-y-3",children:l.map(c=>d.jsx(en,{to:`/${t}/page/${c.slug}/`,className:"block p-3 bg-gray-50 rounded-md border hover:border-green-400 hover:bg-green-50 transition-all",children:d.jsx("p",{className:"font-semibold text-gray-900",children:c.title})},c.id))})]})})]}),d.jsx(zH,{url:window.location.href,title:o.title,description:o.content})]}):d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-3xl font-bold mb-4",children:"404 -   "}),d.jsx("p",{className:"text-gray-600 mb-6",children:"         ."}),d.jsx(en,{to:`/${t||"dz"}`,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"   "})]})},vM={DASHBOARD_TOP:"   ",PROFILE_SIDEBAR:"   ",PDF_INTERSTITIAL:"   ",PUBLIC_FORM_LEFT:"   ",PUBLIC_FORM_RIGHT:"   ",SERVICE_DETAIL_MAIN_TOP:"  ( )",SERVICE_DETAIL_MAIN_BOTTOM:"   ( )",SITE_DETAIL_SIDEBAR:"   ( )",BLOG_POST_BODY_TOP:" (  )",BLOG_POST_BODY_BOTTOM:" (  )",BLOG_POST_SIDEBAR:" ( )"},Gve=()=>{const{ads:t}=nn(),[e,n]=q.useState(t),[r,i]=q.useState({isOpen:!1,mode:"create",ad:null}),[s,a]=q.useState({title:"",content:"",imageUrl:"",link:"",placement:"DASHBOARD_TOP",enabled:!0});q.useEffect(()=>{n(t)},[t]);const o=()=>{a({title:"",content:"",imageUrl:"",link:"",placement:"DASHBOARD_TOP",enabled:!0}),i({isOpen:!0,mode:"create",ad:null})},l=p=>{a({...p}),i({isOpen:!0,mode:"edit",ad:p})},c=()=>{i({isOpen:!1,mode:"create",ad:null})},u=async p=>{p.preventDefault();try{r.mode==="create"?await xp.create(s):r.ad&&await xp.update(r.ad.id,s),alert("  !       ."),c()}catch(v){console.error("Failed to save ad:",v),alert("  .       .")}},f=async p=>{try{const v=e.find(g=>g.id===p);v&&(await xp.toggleStatus(p,v.enabled),n(g=>g.map(y=>y.id===p?{...y,enabled:!y.enabled}:y)))}catch(v){console.error("Failed to toggle status:",v),alert("  .       .")}},h=async p=>{if(window.confirm("        "))try{await xp.delete(p),n(v=>v.filter(g=>g.id!==p))}catch(v){console.error("Failed to delete ad:",v),alert("  .       .")}};return d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:" "}),d.jsx("button",{onClick:o,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"+   "})]}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:e.map(p=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:p.title}),d.jsx("td",{className:"p-3 text-gray-600",children:vM[p.placement]}),d.jsx("td",{className:"p-3",children:d.jsx("button",{onClick:()=>f(p.id),className:`px-3 py-1 text-xs font-semibold rounded-full ${p.enabled?"text-green-800 bg-green-200":"text-red-800 bg-red-200"}`,children:p.enabled?"":""})}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse",children:[d.jsx("button",{onClick:()=>l(p),className:"text-green-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>h(p.id),className:"text-red-600 hover:underline text-sm font-semibold",children:""})]})]},p.id))})]})})}),r.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",children:d.jsxs("form",{onSubmit:u,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:r.mode==="create"?"  ":" "})}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",id:"title",value:s.title,onChange:p=>a(v=>({...v,title:p.target.value})),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 mb-1",children:""}),d.jsx("textarea",{id:"content",rows:3,value:s.content,onChange:p=>a(v=>({...v,content:p.target.value})),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"imageUrl",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"url",id:"imageUrl",value:s.imageUrl,onChange:p=>a(v=>({...v,imageUrl:p.target.value})),required:!0,placeholder:"https://picsum.photos/...",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"link",className:"block text-sm font-medium text-gray-700 mb-1",children:" ( )"}),d.jsx("input",{type:"url",id:"link",value:s.link,onChange:p=>a(v=>({...v,link:p.target.value})),required:!0,placeholder:"https://example.com",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"placement",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("select",{id:"placement",value:s.placement,onChange:p=>a(v=>({...v,placement:p.target.value})),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",children:Object.entries(vM).map(([p,v])=>d.jsx("option",{value:p,children:v},p))})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:c,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:""})]})]})})})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Kve,Xve;function Jve(){return{geminiUrl:Kve,vertexUrl:Xve}}function Yve(t,e,n,r){var i,s;if(!(t!=null&&t.baseUrl)){const a=Jve();return e?(i=a.vertexUrl)!==null&&i!==void 0?i:n:(s=a.geminiUrl)!==null&&s!==void 0?s:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zf{}function Rt(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const s=e[i];return s!=null?String(s):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function E(t,e,n){for(let s=0;s<e.length-1;s++){const a=e[s];if(a.endsWith("[]")){const o=a.slice(0,-2);if(!(o in t))if(Array.isArray(n))t[o]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(t[o])){const l=t[o];if(Array.isArray(n))for(let c=0;c<l.length;c++){const u=l[c];E(u,e.slice(s+1),n[c])}else for(const c of l)E(c,e.slice(s+1),n)}return}else if(a.endsWith("[0]")){const o=a.slice(0,-3);o in t||(t[o]=[{}]);const l=t[o];E(l[0],e.slice(s+1),n);return}(!t[a]||typeof t[a]!="object")&&(t[a]={}),t=t[a]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function T(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const r=e[n];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in t){const s=t[i];return Array.isArray(s)?s.map(a=>T(a,e.slice(n+1))):void 0}else return}else t=t[r]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hk(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qve(t){const e={},n=T(t,["operationName"]);n!=null&&E(e,["_url","operationName"],n);const r=T(t,["config"]);return r!=null&&E(e,["config"],r),e}function Zve(t){const e={},n=T(t,["operationName"]);n!=null&&E(e,["operationName"],n);const r=T(t,["resourceName"]);r!=null&&E(e,["_url","resourceName"],r);const i=T(t,["config"]);return i!=null&&E(e,["config"],i),e}function e1e(t){const e={},n=T(t,["operationName"]);n!=null&&E(e,["_url","operationName"],n);const r=T(t,["config"]);return r!=null&&E(e,["config"],r),e}function t1e(t){const e={},n=T(t,["video","uri"]);n!=null&&E(e,["uri"],n);const r=T(t,["video","encodedVideo"]);r!=null&&E(e,["videoBytes"],hk(r));const i=T(t,["encoding"]);return i!=null&&E(e,["mimeType"],i),e}function n1e(t){const e={},n=T(t,["_self"]);return n!=null&&E(e,["video"],t1e(n)),e}function r1e(t){const e={},n=T(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>n1e(a))),E(e,["generatedVideos"],s)}const r=T(t,["raiMediaFilteredCount"]);r!=null&&E(e,["raiMediaFilteredCount"],r);const i=T(t,["raiMediaFilteredReasons"]);return i!=null&&E(e,["raiMediaFilteredReasons"],i),e}function i1e(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["metadata"]);r!=null&&E(e,["metadata"],r);const i=T(t,["done"]);i!=null&&E(e,["done"],i);const s=T(t,["error"]);s!=null&&E(e,["error"],s);const a=T(t,["response","generateVideoResponse"]);return a!=null&&E(e,["response"],r1e(a)),e}function s1e(t){const e={},n=T(t,["gcsUri"]);n!=null&&E(e,["uri"],n);const r=T(t,["bytesBase64Encoded"]);r!=null&&E(e,["videoBytes"],hk(r));const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function a1e(t){const e={},n=T(t,["_self"]);return n!=null&&E(e,["video"],s1e(n)),e}function o1e(t){const e={},n=T(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>a1e(a))),E(e,["generatedVideos"],s)}const r=T(t,["raiMediaFilteredCount"]);r!=null&&E(e,["raiMediaFilteredCount"],r);const i=T(t,["raiMediaFilteredReasons"]);return i!=null&&E(e,["raiMediaFilteredReasons"],i),e}function l1e(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["metadata"]);r!=null&&E(e,["metadata"],r);const i=T(t,["done"]);i!=null&&E(e,["done"],i);const s=T(t,["error"]);s!=null&&E(e,["error"],s);const a=T(t,["response"]);return a!=null&&E(e,["response"],o1e(a)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var xM;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(xM||(xM={}));var _M;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(_M||(_M={}));var yu;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(yu||(yu={}));var bM;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(bM||(bM={}));var wM;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(wM||(wM={}));var TM;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(TM||(TM={}));var EM;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(EM||(EM={}));var CM;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(CM||(CM={}));var SM;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(SM||(SM={}));var DM;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(DM||(DM={}));var AM;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(AM||(AM={}));var NM;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(NM||(NM={}));var IM;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(IM||(IM={}));var kM;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(kM||(kM={}));var RM;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(RM||(RM={}));var j_;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(j_||(j_={}));var PM;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(PM||(PM={}));var KA;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(KA||(KA={}));var FM;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(FM||(FM={}));var MM;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(MM||(MM={}));var UM;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(UM||(UM={}));var OM;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(OM||(OM={}));var LM;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(LM||(LM={}));var jM;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(jM||(jM={}));var BM;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(BM||(BM={}));var VM;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(VM||(VM={}));var WM;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(WM||(WM={}));var qM;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(qM||(qM={}));var $M;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})($M||($M={}));var zM;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(zM||(zM={}));var HM;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(HM||(HM={}));var GM;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(GM||(GM={}));var KM;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(KM||(KM={}));var XM;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(XM||(XM={}));var JM;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(JM||(JM={}));var YM;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(YM||(YM={}));var QM;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(QM||(QM={}));var ZM;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(ZM||(ZM={}));var eU;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(eU||(eU={}));var tU;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(tU||(tU={}));var nU;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(nU||(nU={}));var rU;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(rU||(rU={}));var iU;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(iU||(iU={}));var sU;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(sU||(sU={}));var aU;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(aU||(aU={}));var bp;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(bp||(bp={}));class XA{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Zg{get text(){var e,n,r,i,s,a,o,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",u=!1;const f=[];for(const h of(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[p,v]of Object.entries(h))p!=="text"&&p!=="thought"&&(v!==null||v!==void 0)&&f.push(p);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;u=!0,c+=h.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?c:void 0}get data(){var e,n,r,i,s,a,o,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const u=[];for(const f of(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[h,p]of Object.entries(f))h!=="inlineData"&&(p!==null||p!==void 0)&&u.push(h);f.inlineData&&typeof f.inlineData.data=="string"&&(c+=atob(f.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,n,r,i,s,a,o,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(u=>u.functionCall).map(u=>u.functionCall).filter(u=>u!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var e,n,r,i,s,a,o,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const u=(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((u==null?void 0:u.length)!==0)return(c=u==null?void 0:u[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,n,r,i,s,a,o,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const u=(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((u==null?void 0:u.length)!==0)return(c=u==null?void 0:u[0])===null||c===void 0?void 0:c.output}}class oU{}class lU{}class c1e{}class u1e{}class d1e{}class f1e{}class cU{}class uU{}class dU{}class h1e{}class B_{_fromAPIResponse({apiResponse:e,isVertexAI:n}){const r=new B_;let i;const s=e;return n?i=l1e(s):i=i1e(s),Object.assign(r,i),r}}class fU{}class hU{}class pU{}class p1e{}class m1e{}class g1e{}class mU{}class y1e{get text(){var e,n,r;let i="",s=!1;const a=[];for(const o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,c]of Object.entries(o))l!=="text"&&l!=="thought"&&c!==null&&a.push(l);if(typeof o.text=="string"){if(typeof o.thought=="boolean"&&o.thought)continue;s=!0,i+=o.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?i:void 0}get data(){var e,n,r;let i="";const s=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[o,l]of Object.entries(a))o!=="inlineData"&&l!==null&&s.push(o);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class v1e{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pn(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function SG(t,e){const n=Pn(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function DG(t){return Array.isArray(t)?t.map(e=>V_(e)):[V_(t)]}function V_(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function AG(t){const e=V_(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function NG(t){const e=V_(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function gU(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function IG(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>gU(e)):[gU(t)]}function JA(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function yU(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function vU(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function ps(t){if(t==null)throw new Error("ContentUnion is required");return JA(t)?t:{role:"user",parts:IG(t)}}function pk(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=ps(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=ps(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>ps(n)):[ps(e)]}function to(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(yU(t)||vU(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ps(t)]}const e=[],n=[],r=JA(t[0]);for(const i of t){const s=JA(i);if(s!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(i);else{if(yU(i)||vU(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:IG(n)}),e}function x1e(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(yu).includes(n[0].toUpperCase())?n[0].toUpperCase():yu.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(yu).includes(r.toUpperCase())?r.toUpperCase():yu.TYPE_UNSPECIFIED})}}function Rp(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=t.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,t=s[1]):s[1].type==="null"&&(e.nullable=!0,t=s[0])),t.type instanceof Array&&x1e(t.type,e);for(const[a,o]of Object.entries(t))if(o!=null)if(a=="type"){if(o==="null")throw new Error("type: null can not be the only possible type for the field.");if(o instanceof Array)continue;e.type=Object.values(yu).includes(o.toUpperCase())?o.toUpperCase():yu.TYPE_UNSPECIFIED}else if(n.includes(a))e[a]=Rp(o);else if(r.includes(a)){const l=[];for(const c of o){if(c.type=="null"){e.nullable=!0;continue}l.push(Rp(c))}e[a]=l}else if(i.includes(a)){const l={};for(const[c,u]of Object.entries(o))l[c]=Rp(u);e[a]=l}else{if(a==="additionalProperties")continue;e[a]=o}return e}function mk(t){return Rp(t)}function gk(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function yk(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Km(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Rp(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Rp(e.response));return t}function Xm(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function _1e(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Ac(t,e){if(typeof e!="string")throw new Error("name must be a string");return _1e(t,e,"cachedContents")}function kG(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function eh(t){return hk(t)}function b1e(t){return t!=null&&typeof t=="object"&&"name"in t}function w1e(t){return t!=null&&typeof t=="object"&&"video"in t}function T1e(t){return t!=null&&typeof t=="object"&&"uri"in t}function RG(t){var e;let n;if(b1e(t)&&(n=t.name),!(T1e(t)&&(n=t.uri,n===void 0))&&!(w1e(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function PG(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function FG(t){for(const e of["models","tunedModels","publisherModels"])if(E1e(t,e))return t[e];return[]}function E1e(t,e){return t!==null&&typeof t=="object"&&e in t}function C1e(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function S1e(t,e={}){const n=[],r=new Set;for(const i of t){const s=i.name;if(r.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);r.add(s);const a=C1e(i,e);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function MG(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function D1e(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function UG(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let s=!1;for(const a of i){if(typeof a!="object"||a===null)continue;const l=a.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Jm(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function OG(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function A1e(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function N1e(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["data"]);n!=null&&E(e,["data"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function I1e(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function k1e(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function R1e(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],A1e(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],N1e(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],I1e(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],k1e(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function LG(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>R1e(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function P1e(t){const e={},n=T(t,["anyOf"]);n!=null&&E(e,["anyOf"],n);const r=T(t,["default"]);r!=null&&E(e,["default"],r);const i=T(t,["description"]);i!=null&&E(e,["description"],i);const s=T(t,["enum"]);s!=null&&E(e,["enum"],s);const a=T(t,["example"]);a!=null&&E(e,["example"],a);const o=T(t,["format"]);o!=null&&E(e,["format"],o);const l=T(t,["items"]);l!=null&&E(e,["items"],l);const c=T(t,["maxItems"]);c!=null&&E(e,["maxItems"],c);const u=T(t,["maxLength"]);u!=null&&E(e,["maxLength"],u);const f=T(t,["maxProperties"]);f!=null&&E(e,["maxProperties"],f);const h=T(t,["maximum"]);h!=null&&E(e,["maximum"],h);const p=T(t,["minItems"]);p!=null&&E(e,["minItems"],p);const v=T(t,["minLength"]);v!=null&&E(e,["minLength"],v);const g=T(t,["minProperties"]);g!=null&&E(e,["minProperties"],g);const y=T(t,["minimum"]);y!=null&&E(e,["minimum"],y);const b=T(t,["nullable"]);b!=null&&E(e,["nullable"],b);const _=T(t,["pattern"]);_!=null&&E(e,["pattern"],_);const w=T(t,["properties"]);w!=null&&E(e,["properties"],w);const C=T(t,["propertyOrdering"]);C!=null&&E(e,["propertyOrdering"],C);const S=T(t,["required"]);S!=null&&E(e,["required"],S);const R=T(t,["title"]);R!=null&&E(e,["title"],R);const D=T(t,["type"]);return D!=null&&E(e,["type"],D),e}function F1e(t){const e={};if(T(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=T(t,["category"]);n!=null&&E(e,["category"],n);const r=T(t,["threshold"]);return r!=null&&E(e,["threshold"],r),e}function M1e(t){const e={},n=T(t,["behavior"]);n!=null&&E(e,["behavior"],n);const r=T(t,["description"]);r!=null&&E(e,["description"],r);const i=T(t,["name"]);i!=null&&E(e,["name"],i);const s=T(t,["parameters"]);s!=null&&E(e,["parameters"],s);const a=T(t,["parametersJsonSchema"]);a!=null&&E(e,["parametersJsonSchema"],a);const o=T(t,["response"]);o!=null&&E(e,["response"],o);const l=T(t,["responseJsonSchema"]);return l!=null&&E(e,["responseJsonSchema"],l),e}function U1e(t){const e={},n=T(t,["startTime"]);n!=null&&E(e,["startTime"],n);const r=T(t,["endTime"]);return r!=null&&E(e,["endTime"],r),e}function O1e(t){const e={},n=T(t,["timeRangeFilter"]);if(n!=null&&E(e,["timeRangeFilter"],U1e(n)),T(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function L1e(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["dynamicThreshold"]);return r!=null&&E(e,["dynamicThreshold"],r),e}function j1e(t){const e={},n=T(t,["dynamicRetrievalConfig"]);return n!=null&&E(e,["dynamicRetrievalConfig"],L1e(n)),e}function B1e(){return{}}function V1e(t){const e={},n=T(t,["environment"]);return n!=null&&E(e,["environment"],n),e}function W1e(t){const e={},n=T(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>M1e(c))),E(e,["functionDeclarations"],l)}if(T(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=T(t,["googleSearch"]);r!=null&&E(e,["googleSearch"],O1e(r));const i=T(t,["googleSearchRetrieval"]);if(i!=null&&E(e,["googleSearchRetrieval"],j1e(i)),T(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(T(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");T(t,["urlContext"])!=null&&E(e,["urlContext"],B1e());const a=T(t,["computerUse"]);a!=null&&E(e,["computerUse"],V1e(a));const o=T(t,["codeExecution"]);return o!=null&&E(e,["codeExecution"],o),e}function q1e(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["allowedFunctionNames"]);return r!=null&&E(e,["allowedFunctionNames"],r),e}function $1e(t){const e={},n=T(t,["latitude"]);n!=null&&E(e,["latitude"],n);const r=T(t,["longitude"]);return r!=null&&E(e,["longitude"],r),e}function z1e(t){const e={},n=T(t,["latLng"]);n!=null&&E(e,["latLng"],$1e(n));const r=T(t,["languageCode"]);return r!=null&&E(e,["languageCode"],r),e}function H1e(t){const e={},n=T(t,["functionCallingConfig"]);n!=null&&E(e,["functionCallingConfig"],q1e(n));const r=T(t,["retrievalConfig"]);return r!=null&&E(e,["retrievalConfig"],z1e(r)),e}function G1e(t){const e={},n=T(t,["voiceName"]);return n!=null&&E(e,["voiceName"],n),e}function jG(t){const e={},n=T(t,["prebuiltVoiceConfig"]);return n!=null&&E(e,["prebuiltVoiceConfig"],G1e(n)),e}function K1e(t){const e={},n=T(t,["speaker"]);n!=null&&E(e,["speaker"],n);const r=T(t,["voiceConfig"]);return r!=null&&E(e,["voiceConfig"],jG(r)),e}function X1e(t){const e={},n=T(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>K1e(i))),E(e,["speakerVoiceConfigs"],r)}return e}function J1e(t){const e={},n=T(t,["voiceConfig"]);n!=null&&E(e,["voiceConfig"],jG(n));const r=T(t,["multiSpeakerVoiceConfig"]);r!=null&&E(e,["multiSpeakerVoiceConfig"],X1e(r));const i=T(t,["languageCode"]);return i!=null&&E(e,["languageCode"],i),e}function Y1e(t){const e={},n=T(t,["includeThoughts"]);n!=null&&E(e,["includeThoughts"],n);const r=T(t,["thinkingBudget"]);return r!=null&&E(e,["thinkingBudget"],r),e}function Q1e(t,e,n){const r={},i=T(e,["systemInstruction"]);n!==void 0&&i!=null&&E(n,["systemInstruction"],LG(ps(i)));const s=T(e,["temperature"]);s!=null&&E(r,["temperature"],s);const a=T(e,["topP"]);a!=null&&E(r,["topP"],a);const o=T(e,["topK"]);o!=null&&E(r,["topK"],o);const l=T(e,["candidateCount"]);l!=null&&E(r,["candidateCount"],l);const c=T(e,["maxOutputTokens"]);c!=null&&E(r,["maxOutputTokens"],c);const u=T(e,["stopSequences"]);u!=null&&E(r,["stopSequences"],u);const f=T(e,["responseLogprobs"]);f!=null&&E(r,["responseLogprobs"],f);const h=T(e,["logprobs"]);h!=null&&E(r,["logprobs"],h);const p=T(e,["presencePenalty"]);p!=null&&E(r,["presencePenalty"],p);const v=T(e,["frequencyPenalty"]);v!=null&&E(r,["frequencyPenalty"],v);const g=T(e,["seed"]);g!=null&&E(r,["seed"],g);const y=T(e,["responseMimeType"]);y!=null&&E(r,["responseMimeType"],y);const b=T(e,["responseSchema"]);b!=null&&E(r,["responseSchema"],P1e(mk(b)));const _=T(e,["responseJsonSchema"]);if(_!=null&&E(r,["responseJsonSchema"],_),T(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(T(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const w=T(e,["safetySettings"]);if(n!==void 0&&w!=null){let P=w;Array.isArray(P)&&(P=P.map(I=>F1e(I))),E(n,["safetySettings"],P)}const C=T(e,["tools"]);if(n!==void 0&&C!=null){let P=Xm(C);Array.isArray(P)&&(P=P.map(I=>W1e(Km(I)))),E(n,["tools"],P)}const S=T(e,["toolConfig"]);if(n!==void 0&&S!=null&&E(n,["toolConfig"],H1e(S)),T(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const R=T(e,["cachedContent"]);n!==void 0&&R!=null&&E(n,["cachedContent"],Ac(t,R));const D=T(e,["responseModalities"]);D!=null&&E(r,["responseModalities"],D);const N=T(e,["mediaResolution"]);N!=null&&E(r,["mediaResolution"],N);const k=T(e,["speechConfig"]);if(k!=null&&E(r,["speechConfig"],J1e(gk(k))),T(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const F=T(e,["thinkingConfig"]);return F!=null&&E(r,["thinkingConfig"],Y1e(F)),r}function Z1e(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["request","model"],Pn(t,r));const i=T(e,["contents"]);if(i!=null){let a=to(i);Array.isArray(a)&&(a=a.map(o=>LG(o))),E(n,["request","contents"],a)}const s=T(e,["config"]);return s!=null&&E(n,["request","generationConfig"],Q1e(t,s,n)),n}function exe(t,e){const n={};if(T(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(T(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(T(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=T(e,["fileName"]);r!=null&&E(n,["fileName"],r);const i=T(e,["inlinedRequests"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>Z1e(t,a))),E(n,["requests","requests"],s)}return n}function txe(t,e){const n={},r=T(t,["displayName"]);if(e!==void 0&&r!=null&&E(e,["batch","displayName"],r),T(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function tD(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Pn(t,r));const i=T(e,["src"]);i!=null&&E(n,["batch","inputConfig"],exe(t,MG(t,i)));const s=T(e,["config"]);return s!=null&&E(n,["config"],txe(s,n)),n}function nxe(t,e){const n={},r=T(t,["taskType"]);e!==void 0&&r!=null&&E(e,["requests[]","taskType"],r);const i=T(t,["title"]);e!==void 0&&i!=null&&E(e,["requests[]","title"],i);const s=T(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&E(e,["requests[]","outputDimensionality"],s),T(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(T(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function rxe(t,e){const n={},r=T(e,["contents"]);r!=null&&E(n,["requests[]","request","content"],pk(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],nxe(i,n)),n}function ixe(t,e){const n={},r=T(e,["fileName"]);r!=null&&E(n,["file_name"],r);const i=T(e,["inlinedRequests"]);return i!=null&&E(n,["requests"],rxe(t,i)),n}function sxe(t,e){const n={},r=T(t,["displayName"]);return e!==void 0&&r!=null&&E(e,["batch","displayName"],r),n}function nD(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Pn(t,r));const i=T(e,["src"]);i!=null&&E(n,["batch","inputConfig"],ixe(t,i));const s=T(e,["config"]);return s!=null&&E(n,["config"],sxe(s,n)),n}function axe(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],Jm(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function oxe(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],Jm(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function lxe(t,e){const n={},r=T(t,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=T(t,["pageToken"]);if(e!==void 0&&i!=null&&E(e,["_query","pageToken"],i),T(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function cxe(t){const e={},n=T(t,["config"]);return n!=null&&E(e,["config"],lxe(n,e)),e}function uxe(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],Jm(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function dxe(t){const e={},n=T(t,["format"]);n!=null&&E(e,["instancesFormat"],n);const r=T(t,["gcsUri"]);r!=null&&E(e,["gcsSource","uris"],r);const i=T(t,["bigqueryUri"]);if(i!=null&&E(e,["bigquerySource","inputUri"],i),T(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(T(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function fxe(t){const e={},n=T(t,["format"]);n!=null&&E(e,["predictionsFormat"],n);const r=T(t,["gcsUri"]);r!=null&&E(e,["gcsDestination","outputUriPrefix"],r);const i=T(t,["bigqueryUri"]);if(i!=null&&E(e,["bigqueryDestination","outputUri"],i),T(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(T(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(T(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function hxe(t,e){const n={},r=T(t,["displayName"]);e!==void 0&&r!=null&&E(e,["displayName"],r);const i=T(t,["dest"]);return e!==void 0&&i!=null&&E(e,["outputConfig"],fxe(D1e(i))),n}function pxe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["model"],Pn(t,r));const i=T(e,["src"]);i!=null&&E(n,["inputConfig"],dxe(MG(t,i)));const s=T(e,["config"]);return s!=null&&E(n,["config"],hxe(s,n)),n}function mxe(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],Jm(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function gxe(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],Jm(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function yxe(t,e){const n={},r=T(t,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=T(t,["pageToken"]);e!==void 0&&i!=null&&E(e,["_query","pageToken"],i);const s=T(t,["filter"]);return e!==void 0&&s!=null&&E(e,["_query","filter"],s),n}function vxe(t){const e={},n=T(t,["config"]);return n!=null&&E(e,["config"],yxe(n,e)),e}function xxe(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],Jm(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function _xe(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function bxe(t){const e={},n=T(t,["data"]);n!=null&&E(e,["data"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function wxe(t){const e={},n=T(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function Txe(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function Exe(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],_xe(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],bxe(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],wxe(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],Txe(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function Cxe(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Exe(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function Sxe(t){const e={},n=T(t,["citationSources"]);return n!=null&&E(e,["citations"],n),e}function Dxe(t){const e={},n=T(t,["retrievedUrl"]);n!=null&&E(e,["retrievedUrl"],n);const r=T(t,["urlRetrievalStatus"]);return r!=null&&E(e,["urlRetrievalStatus"],r),e}function Axe(t){const e={},n=T(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Dxe(i))),E(e,["urlMetadata"],r)}return e}function Nxe(t){const e={},n=T(t,["content"]);n!=null&&E(e,["content"],Cxe(n));const r=T(t,["citationMetadata"]);r!=null&&E(e,["citationMetadata"],Sxe(r));const i=T(t,["tokenCount"]);i!=null&&E(e,["tokenCount"],i);const s=T(t,["finishReason"]);s!=null&&E(e,["finishReason"],s);const a=T(t,["urlContextMetadata"]);a!=null&&E(e,["urlContextMetadata"],Axe(a));const o=T(t,["avgLogprobs"]);o!=null&&E(e,["avgLogprobs"],o);const l=T(t,["groundingMetadata"]);l!=null&&E(e,["groundingMetadata"],l);const c=T(t,["index"]);c!=null&&E(e,["index"],c);const u=T(t,["logprobsResult"]);u!=null&&E(e,["logprobsResult"],u);const f=T(t,["safetyRatings"]);return f!=null&&E(e,["safetyRatings"],f),e}function Ixe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>Nxe(c))),E(e,["candidates"],l)}const i=T(t,["modelVersion"]);i!=null&&E(e,["modelVersion"],i);const s=T(t,["promptFeedback"]);s!=null&&E(e,["promptFeedback"],s);const a=T(t,["responseId"]);a!=null&&E(e,["responseId"],a);const o=T(t,["usageMetadata"]);return o!=null&&E(e,["usageMetadata"],o),e}function vk(t){const e={},n=T(t,["details"]);n!=null&&E(e,["details"],n);const r=T(t,["code"]);r!=null&&E(e,["code"],r);const i=T(t,["message"]);return i!=null&&E(e,["message"],i),e}function kxe(t){const e={},n=T(t,["response"]);n!=null&&E(e,["response"],Ixe(n));const r=T(t,["error"]);return r!=null&&E(e,["error"],vk(r)),e}function Rxe(t){const e={},n=T(t,["values"]);return n!=null&&E(e,["values"],n),e}function Pxe(t){const e={},n=T(t,["embedding"]);n!=null&&E(e,["embedding"],Rxe(n));const r=T(t,["tokenCount"]);return r!=null&&E(e,["tokenCount"],r),e}function Fxe(t){const e={},n=T(t,["response"]);n!=null&&E(e,["response"],Pxe(n));const r=T(t,["error"]);return r!=null&&E(e,["error"],vk(r)),e}function Mxe(t){const e={},n=T(t,["responsesFile"]);n!=null&&E(e,["fileName"],n);const r=T(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>kxe(a))),E(e,["inlinedResponses"],s)}const i=T(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>Fxe(a))),E(e,["inlinedEmbedContentResponses"],s)}return e}function pp(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["metadata","displayName"]);r!=null&&E(e,["displayName"],r);const i=T(t,["metadata","state"]);i!=null&&E(e,["state"],OG(i));const s=T(t,["metadata","createTime"]);s!=null&&E(e,["createTime"],s);const a=T(t,["metadata","endTime"]);a!=null&&E(e,["endTime"],a);const o=T(t,["metadata","updateTime"]);o!=null&&E(e,["updateTime"],o);const l=T(t,["metadata","model"]);l!=null&&E(e,["model"],l);const c=T(t,["metadata","output"]);return c!=null&&E(e,["dest"],Mxe(UG(c))),e}function Uxe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=T(t,["operations"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>pp(a))),E(e,["batchJobs"],s)}return e}function Oxe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["name"]);r!=null&&E(e,["name"],r);const i=T(t,["done"]);i!=null&&E(e,["done"],i);const s=T(t,["error"]);return s!=null&&E(e,["error"],vk(s)),e}function BG(t){const e={},n=T(t,["details"]);n!=null&&E(e,["details"],n);const r=T(t,["code"]);r!=null&&E(e,["code"],r);const i=T(t,["message"]);return i!=null&&E(e,["message"],i),e}function Lxe(t){const e={},n=T(t,["instancesFormat"]);n!=null&&E(e,["format"],n);const r=T(t,["gcsSource","uris"]);r!=null&&E(e,["gcsUri"],r);const i=T(t,["bigquerySource","inputUri"]);return i!=null&&E(e,["bigqueryUri"],i),e}function jxe(t){const e={},n=T(t,["predictionsFormat"]);n!=null&&E(e,["format"],n);const r=T(t,["gcsDestination","outputUriPrefix"]);r!=null&&E(e,["gcsUri"],r);const i=T(t,["bigqueryDestination","outputUri"]);return i!=null&&E(e,["bigqueryUri"],i),e}function YA(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["displayName"]);r!=null&&E(e,["displayName"],r);const i=T(t,["state"]);i!=null&&E(e,["state"],OG(i));const s=T(t,["error"]);s!=null&&E(e,["error"],BG(s));const a=T(t,["createTime"]);a!=null&&E(e,["createTime"],a);const o=T(t,["startTime"]);o!=null&&E(e,["startTime"],o);const l=T(t,["endTime"]);l!=null&&E(e,["endTime"],l);const c=T(t,["updateTime"]);c!=null&&E(e,["updateTime"],c);const u=T(t,["model"]);u!=null&&E(e,["model"],u);const f=T(t,["inputConfig"]);f!=null&&E(e,["src"],Lxe(f));const h=T(t,["outputConfig"]);return h!=null&&E(e,["dest"],jxe(UG(h))),e}function Bxe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=T(t,["batchPredictionJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>YA(a))),E(e,["batchJobs"],s)}return e}function Vxe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["name"]);r!=null&&E(e,["name"],r);const i=T(t,["done"]);i!=null&&E(e,["done"],i);const s=T(t,["error"]);return s!=null&&E(e,["error"],BG(s)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Pf;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Pf||(Pf={}));class $v{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,s;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(s=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wxe extends Zf{constructor(e){super(),this.apiClient=e,this.create=async n=>{var r,i;if(this.apiClient.isVertexAI())return n.config=this.formatDestination(n.src,n.config),this.createInternal(n);const s=n.src;if(!(Array.isArray(n.src)||s.inlinedRequests!==void 0))return this.createInternal(n);const o=this.createInlinedGenerateContentRequest(n),l=o.path,c=o.body,u=tD(this.apiClient,n)._query||{};return this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()).then(h=>pp(h))},this.createEmbeddings=async n=>{var r,i;if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");if(!(n.src.inlinedRequests!==void 0))return this.createEmbeddingsInternal(n);const o=this.createInlinedEmbedContentRequest(n),l=o.path,c=o.body,u=nD(this.apiClient,n)._query||{};return this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()).then(h=>pp(h))},this.list=async(n={})=>new $v(Pf.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=tD(this.apiClient,e),r=n._url,i=Rt("{model}:batchGenerateContent",r),o=n.batch.inputConfig.requests,l=o.requests,c=[];for(const u of l){const f=Object.assign({},u);if(f.systemInstruction){const h=f.systemInstruction;delete f.systemInstruction;const p=f.request;p.systemInstruction=h,f.request=p}c.push(f)}return o.requests=c,delete n.config,delete n._url,delete n._query,{path:i,body:n}}createInlinedEmbedContentRequest(e){const n=nD(this.apiClient,e),r=n._url,i=Rt("{model}:asyncBatchEmbedContent",r),o=n.batch.inputConfig.requests,l=o.requests,c=[];delete o.config;for(const u of l){const f=Object.assign({},u),h=f.request;for(const p in f)p!=="request"&&(h[p]=f[p],delete f[p]);c.push(f)}return o.requests=c,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const s=this.getGcsUri(e),a=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?r.dest=`${s.slice(0,-6)}/dest`:r.dest=`${s}_dest_${i}`;else if(a)r.dest=`${a}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=pxe(this.apiClient,e);return o=Rt("batchPredictionJobs",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>YA(u))}else{const c=tD(this.apiClient,e);return o=Rt("{model}:batchGenerateContent",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>pp(u))}}async createEmbeddingsInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=nD(this.apiClient,e);return s=Rt("{model}:asyncBatchEmbedContent",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>pp(l))}}async get(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=mxe(this.apiClient,e);return o=Rt("batchPredictionJobs/{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>YA(u))}else{const c=axe(this.apiClient,e);return o=Rt("batches/{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>pp(u))}}async cancel(e){var n,r,i,s;let a="",o={};if(this.apiClient.isVertexAI()){const l=gxe(this.apiClient,e);a=Rt("batchPredictionJobs/{name}:cancel",l._url),o=l._query,delete l.config,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=oxe(this.apiClient,e);a=Rt("batches/{name}:cancel",l._url),o=l._query,delete l.config,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=vxe(e);return o=Rt("batchPredictionJobs",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=Bxe(u),h=new mU;return Object.assign(h,f),h})}else{const c=cxe(e);return o=Rt("batches",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=Uxe(u),h=new mU;return Object.assign(h,f),h})}}async delete(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=xxe(this.apiClient,e);return o=Rt("batchPredictionJobs/{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>Vxe(u))}else{const c=uxe(this.apiClient,e);return o=Rt("batches/{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>Oxe(u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qxe(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function $xe(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["data"]);n!=null&&E(e,["data"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function zxe(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function Hxe(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function Gxe(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],qxe(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],$xe(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],zxe(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],Hxe(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function xU(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Gxe(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function Kxe(t){const e={},n=T(t,["behavior"]);n!=null&&E(e,["behavior"],n);const r=T(t,["description"]);r!=null&&E(e,["description"],r);const i=T(t,["name"]);i!=null&&E(e,["name"],i);const s=T(t,["parameters"]);s!=null&&E(e,["parameters"],s);const a=T(t,["parametersJsonSchema"]);a!=null&&E(e,["parametersJsonSchema"],a);const o=T(t,["response"]);o!=null&&E(e,["response"],o);const l=T(t,["responseJsonSchema"]);return l!=null&&E(e,["responseJsonSchema"],l),e}function Xxe(t){const e={},n=T(t,["startTime"]);n!=null&&E(e,["startTime"],n);const r=T(t,["endTime"]);return r!=null&&E(e,["endTime"],r),e}function Jxe(t){const e={},n=T(t,["timeRangeFilter"]);if(n!=null&&E(e,["timeRangeFilter"],Xxe(n)),T(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function Yxe(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["dynamicThreshold"]);return r!=null&&E(e,["dynamicThreshold"],r),e}function Qxe(t){const e={},n=T(t,["dynamicRetrievalConfig"]);return n!=null&&E(e,["dynamicRetrievalConfig"],Yxe(n)),e}function Zxe(){return{}}function e2e(t){const e={},n=T(t,["environment"]);return n!=null&&E(e,["environment"],n),e}function t2e(t){const e={},n=T(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>Kxe(c))),E(e,["functionDeclarations"],l)}if(T(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=T(t,["googleSearch"]);r!=null&&E(e,["googleSearch"],Jxe(r));const i=T(t,["googleSearchRetrieval"]);if(i!=null&&E(e,["googleSearchRetrieval"],Qxe(i)),T(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(T(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");T(t,["urlContext"])!=null&&E(e,["urlContext"],Zxe());const a=T(t,["computerUse"]);a!=null&&E(e,["computerUse"],e2e(a));const o=T(t,["codeExecution"]);return o!=null&&E(e,["codeExecution"],o),e}function n2e(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["allowedFunctionNames"]);return r!=null&&E(e,["allowedFunctionNames"],r),e}function r2e(t){const e={},n=T(t,["latitude"]);n!=null&&E(e,["latitude"],n);const r=T(t,["longitude"]);return r!=null&&E(e,["longitude"],r),e}function i2e(t){const e={},n=T(t,["latLng"]);n!=null&&E(e,["latLng"],r2e(n));const r=T(t,["languageCode"]);return r!=null&&E(e,["languageCode"],r),e}function s2e(t){const e={},n=T(t,["functionCallingConfig"]);n!=null&&E(e,["functionCallingConfig"],n2e(n));const r=T(t,["retrievalConfig"]);return r!=null&&E(e,["retrievalConfig"],i2e(r)),e}function a2e(t,e){const n={},r=T(t,["ttl"]);e!==void 0&&r!=null&&E(e,["ttl"],r);const i=T(t,["expireTime"]);e!==void 0&&i!=null&&E(e,["expireTime"],i);const s=T(t,["displayName"]);e!==void 0&&s!=null&&E(e,["displayName"],s);const a=T(t,["contents"]);if(e!==void 0&&a!=null){let u=to(a);Array.isArray(u)&&(u=u.map(f=>xU(f))),E(e,["contents"],u)}const o=T(t,["systemInstruction"]);e!==void 0&&o!=null&&E(e,["systemInstruction"],xU(ps(o)));const l=T(t,["tools"]);if(e!==void 0&&l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>t2e(f))),E(e,["tools"],u)}const c=T(t,["toolConfig"]);if(e!==void 0&&c!=null&&E(e,["toolConfig"],s2e(c)),T(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function o2e(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["model"],SG(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],a2e(i,n)),n}function l2e(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],Ac(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function c2e(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],Ac(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function u2e(t,e){const n={},r=T(t,["ttl"]);e!==void 0&&r!=null&&E(e,["ttl"],r);const i=T(t,["expireTime"]);return e!==void 0&&i!=null&&E(e,["expireTime"],i),n}function d2e(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],Ac(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],u2e(i,n)),n}function f2e(t,e){const n={},r=T(t,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=T(t,["pageToken"]);return e!==void 0&&i!=null&&E(e,["_query","pageToken"],i),n}function h2e(t){const e={},n=T(t,["config"]);return n!=null&&E(e,["config"],f2e(n,e)),e}function p2e(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function m2e(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["data"]);r!=null&&E(e,["data"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function g2e(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["fileUri"]);r!=null&&E(e,["fileUri"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function y2e(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function v2e(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],p2e(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],m2e(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],g2e(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],y2e(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function _U(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>v2e(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function x2e(t){const e={};if(T(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=T(t,["description"]);n!=null&&E(e,["description"],n);const r=T(t,["name"]);r!=null&&E(e,["name"],r);const i=T(t,["parameters"]);i!=null&&E(e,["parameters"],i);const s=T(t,["parametersJsonSchema"]);s!=null&&E(e,["parametersJsonSchema"],s);const a=T(t,["response"]);a!=null&&E(e,["response"],a);const o=T(t,["responseJsonSchema"]);return o!=null&&E(e,["responseJsonSchema"],o),e}function _2e(t){const e={},n=T(t,["startTime"]);n!=null&&E(e,["startTime"],n);const r=T(t,["endTime"]);return r!=null&&E(e,["endTime"],r),e}function b2e(t){const e={},n=T(t,["timeRangeFilter"]);n!=null&&E(e,["timeRangeFilter"],_2e(n));const r=T(t,["excludeDomains"]);return r!=null&&E(e,["excludeDomains"],r),e}function w2e(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["dynamicThreshold"]);return r!=null&&E(e,["dynamicThreshold"],r),e}function T2e(t){const e={},n=T(t,["dynamicRetrievalConfig"]);return n!=null&&E(e,["dynamicRetrievalConfig"],w2e(n)),e}function E2e(t){const e={},n=T(t,["excludeDomains"]);return n!=null&&E(e,["excludeDomains"],n),e}function C2e(t){const e={},n=T(t,["apiKeyString"]);return n!=null&&E(e,["apiKeyString"],n),e}function S2e(t){const e={},n=T(t,["apiKeyConfig"]);n!=null&&E(e,["apiKeyConfig"],C2e(n));const r=T(t,["authType"]);r!=null&&E(e,["authType"],r);const i=T(t,["googleServiceAccountConfig"]);i!=null&&E(e,["googleServiceAccountConfig"],i);const s=T(t,["httpBasicAuthConfig"]);s!=null&&E(e,["httpBasicAuthConfig"],s);const a=T(t,["oauthConfig"]);a!=null&&E(e,["oauthConfig"],a);const o=T(t,["oidcConfig"]);return o!=null&&E(e,["oidcConfig"],o),e}function D2e(t){const e={},n=T(t,["authConfig"]);return n!=null&&E(e,["authConfig"],S2e(n)),e}function A2e(){return{}}function N2e(t){const e={},n=T(t,["environment"]);return n!=null&&E(e,["environment"],n),e}function I2e(t){const e={},n=T(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>x2e(h))),E(e,["functionDeclarations"],f)}const r=T(t,["retrieval"]);r!=null&&E(e,["retrieval"],r);const i=T(t,["googleSearch"]);i!=null&&E(e,["googleSearch"],b2e(i));const s=T(t,["googleSearchRetrieval"]);s!=null&&E(e,["googleSearchRetrieval"],T2e(s));const a=T(t,["enterpriseWebSearch"]);a!=null&&E(e,["enterpriseWebSearch"],E2e(a));const o=T(t,["googleMaps"]);o!=null&&E(e,["googleMaps"],D2e(o)),T(t,["urlContext"])!=null&&E(e,["urlContext"],A2e());const c=T(t,["computerUse"]);c!=null&&E(e,["computerUse"],N2e(c));const u=T(t,["codeExecution"]);return u!=null&&E(e,["codeExecution"],u),e}function k2e(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["allowedFunctionNames"]);return r!=null&&E(e,["allowedFunctionNames"],r),e}function R2e(t){const e={},n=T(t,["latitude"]);n!=null&&E(e,["latitude"],n);const r=T(t,["longitude"]);return r!=null&&E(e,["longitude"],r),e}function P2e(t){const e={},n=T(t,["latLng"]);n!=null&&E(e,["latLng"],R2e(n));const r=T(t,["languageCode"]);return r!=null&&E(e,["languageCode"],r),e}function F2e(t){const e={},n=T(t,["functionCallingConfig"]);n!=null&&E(e,["functionCallingConfig"],k2e(n));const r=T(t,["retrievalConfig"]);return r!=null&&E(e,["retrievalConfig"],P2e(r)),e}function M2e(t,e){const n={},r=T(t,["ttl"]);e!==void 0&&r!=null&&E(e,["ttl"],r);const i=T(t,["expireTime"]);e!==void 0&&i!=null&&E(e,["expireTime"],i);const s=T(t,["displayName"]);e!==void 0&&s!=null&&E(e,["displayName"],s);const a=T(t,["contents"]);if(e!==void 0&&a!=null){let f=to(a);Array.isArray(f)&&(f=f.map(h=>_U(h))),E(e,["contents"],f)}const o=T(t,["systemInstruction"]);e!==void 0&&o!=null&&E(e,["systemInstruction"],_U(ps(o)));const l=T(t,["tools"]);if(e!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>I2e(h))),E(e,["tools"],f)}const c=T(t,["toolConfig"]);e!==void 0&&c!=null&&E(e,["toolConfig"],F2e(c));const u=T(t,["kmsKeyName"]);return e!==void 0&&u!=null&&E(e,["encryption_spec","kmsKeyName"],u),n}function U2e(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["model"],SG(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],M2e(i,n)),n}function O2e(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],Ac(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function L2e(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],Ac(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function j2e(t,e){const n={},r=T(t,["ttl"]);e!==void 0&&r!=null&&E(e,["ttl"],r);const i=T(t,["expireTime"]);return e!==void 0&&i!=null&&E(e,["expireTime"],i),n}function B2e(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],Ac(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],j2e(i,n)),n}function V2e(t,e){const n={},r=T(t,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=T(t,["pageToken"]);return e!==void 0&&i!=null&&E(e,["_query","pageToken"],i),n}function W2e(t){const e={},n=T(t,["config"]);return n!=null&&E(e,["config"],V2e(n,e)),e}function b2(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["displayName"]);r!=null&&E(e,["displayName"],r);const i=T(t,["model"]);i!=null&&E(e,["model"],i);const s=T(t,["createTime"]);s!=null&&E(e,["createTime"],s);const a=T(t,["updateTime"]);a!=null&&E(e,["updateTime"],a);const o=T(t,["expireTime"]);o!=null&&E(e,["expireTime"],o);const l=T(t,["usageMetadata"]);return l!=null&&E(e,["usageMetadata"],l),e}function q2e(t){const e={},n=T(t,["sdkHttpResponse"]);return n!=null&&E(e,["sdkHttpResponse"],n),e}function $2e(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=T(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>b2(a))),E(e,["cachedContents"],s)}return e}function w2(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["displayName"]);r!=null&&E(e,["displayName"],r);const i=T(t,["model"]);i!=null&&E(e,["model"],i);const s=T(t,["createTime"]);s!=null&&E(e,["createTime"],s);const a=T(t,["updateTime"]);a!=null&&E(e,["updateTime"],a);const o=T(t,["expireTime"]);o!=null&&E(e,["expireTime"],o);const l=T(t,["usageMetadata"]);return l!=null&&E(e,["usageMetadata"],l),e}function z2e(t){const e={},n=T(t,["sdkHttpResponse"]);return n!=null&&E(e,["sdkHttpResponse"],n),e}function H2e(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=T(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>w2(a))),E(e,["cachedContents"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class G2e extends Zf{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new $v(Pf.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=U2e(this.apiClient,e);return o=Rt("cachedContents",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>w2(u))}else{const c=o2e(this.apiClient,e);return o=Rt("cachedContents",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>b2(u))}}async get(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=O2e(this.apiClient,e);return o=Rt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>w2(u))}else{const c=l2e(this.apiClient,e);return o=Rt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>b2(u))}}async delete(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=L2e(this.apiClient,e);return o=Rt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=z2e(u),h=new hU;return Object.assign(h,f),h})}else{const c=c2e(this.apiClient,e);return o=Rt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=q2e(u),h=new hU;return Object.assign(h,f),h})}}async update(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=B2e(this.apiClient,e);return o=Rt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>w2(u))}else{const c=d2e(this.apiClient,e);return o=Rt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>b2(u))}}async listInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=W2e(e);return o=Rt("cachedContents",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=H2e(u),h=new pU;return Object.assign(h,f),h})}else{const c=h2e(e);return o=Rt("cachedContents",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=$2e(u),h=new pU;return Object.assign(h,f),h})}}}function bU(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function fr(t){return this instanceof fr?(this.v=t,this):new fr(t)}function Pp(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(p){return function(v){return Promise.resolve(v).then(p,f)}}function o(p,v){r[p]&&(i[p]=function(g){return new Promise(function(y,b){s.push([p,g,y,b])>1||l(p,g)})},v&&(i[p]=v(i[p])))}function l(p,v){try{c(r[p](v))}catch(g){h(s[0][3],g)}}function c(p){p.value instanceof fr?Promise.resolve(p.value.v).then(u,f):h(s[0][2],p)}function u(p){l("next",p)}function f(p){l("throw",p)}function h(p,v){p(v),s.shift(),s.length&&l(s[0][0],s[0][1])}}function X0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof bU=="function"?bU(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(a){return new Promise(function(o,l){a=t[s](a),i(o,l,a.done,a.value)})}}function i(s,a,o,l){Promise.resolve(l).then(function(c){s({value:c,done:o})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function K2e(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:VG(n)}function VG(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function X2e(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function wU(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let s=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),s&&!VG(t[r])&&(s=!1),r++;s?e.push(...i):e.pop()}return e}class J2e{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Y2e(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Y2e{constructor(e,n,r,i={},s=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=s,this.sendPromise=Promise.resolve(),X2e(s)}async sendMessage(e){var n;await this.sendPromise;const r=ps(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var s,a,o;const l=await i,c=(a=(s=l.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content,u=l.automaticFunctionCallingHistory,f=this.getHistory(!0).length;let h=[];u!=null&&(h=(o=u.slice(f))!==null&&o!==void 0?o:[]);const p=c?[c]:[];this.recordHistory(r,p,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=ps(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const s=await i;return this.processStreamResponse(s,r)}getHistory(e=!1){const n=e?wU(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return Pp(this,arguments,function*(){var a,o,l,c;const u=[];try{for(var f=!0,h=X0(e),p;p=yield fr(h.next()),a=p.done,!a;f=!0){c=p.value,f=!1;const v=c;if(K2e(v)){const g=(i=(r=v.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;g!==void 0&&u.push(g)}yield yield fr(v)}}catch(v){o={error:v}}finally{try{!f&&!a&&(l=h.return)&&(yield fr(l.call(h)))}finally{if(o)throw o.error}}this.recordHistory(n,u)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(s=>s.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...wU(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nw extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Nw.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Q2e(t,e){const n={},r=T(t,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=T(t,["pageToken"]);return e!==void 0&&i!=null&&E(e,["_query","pageToken"],i),n}function Z2e(t){const e={},n=T(t,["config"]);return n!=null&&E(e,["config"],Q2e(n,e)),e}function e_e(t){const e={},n=T(t,["details"]);n!=null&&E(e,["details"],n);const r=T(t,["message"]);r!=null&&E(e,["message"],r);const i=T(t,["code"]);return i!=null&&E(e,["code"],i),e}function t_e(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["displayName"]);r!=null&&E(e,["displayName"],r);const i=T(t,["mimeType"]);i!=null&&E(e,["mimeType"],i);const s=T(t,["sizeBytes"]);s!=null&&E(e,["sizeBytes"],s);const a=T(t,["createTime"]);a!=null&&E(e,["createTime"],a);const o=T(t,["expirationTime"]);o!=null&&E(e,["expirationTime"],o);const l=T(t,["updateTime"]);l!=null&&E(e,["updateTime"],l);const c=T(t,["sha256Hash"]);c!=null&&E(e,["sha256Hash"],c);const u=T(t,["uri"]);u!=null&&E(e,["uri"],u);const f=T(t,["downloadUri"]);f!=null&&E(e,["downloadUri"],f);const h=T(t,["state"]);h!=null&&E(e,["state"],h);const p=T(t,["source"]);p!=null&&E(e,["source"],p);const v=T(t,["videoMetadata"]);v!=null&&E(e,["videoMetadata"],v);const g=T(t,["error"]);return g!=null&&E(e,["error"],e_e(g)),e}function n_e(t){const e={},n=T(t,["file"]);n!=null&&E(e,["file"],t_e(n));const r=T(t,["config"]);return r!=null&&E(e,["config"],r),e}function r_e(t){const e={},n=T(t,["name"]);n!=null&&E(e,["_url","file"],RG(n));const r=T(t,["config"]);return r!=null&&E(e,["config"],r),e}function i_e(t){const e={},n=T(t,["name"]);n!=null&&E(e,["_url","file"],RG(n));const r=T(t,["config"]);return r!=null&&E(e,["config"],r),e}function s_e(t){const e={},n=T(t,["details"]);n!=null&&E(e,["details"],n);const r=T(t,["message"]);r!=null&&E(e,["message"],r);const i=T(t,["code"]);return i!=null&&E(e,["code"],i),e}function QA(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["displayName"]);r!=null&&E(e,["displayName"],r);const i=T(t,["mimeType"]);i!=null&&E(e,["mimeType"],i);const s=T(t,["sizeBytes"]);s!=null&&E(e,["sizeBytes"],s);const a=T(t,["createTime"]);a!=null&&E(e,["createTime"],a);const o=T(t,["expirationTime"]);o!=null&&E(e,["expirationTime"],o);const l=T(t,["updateTime"]);l!=null&&E(e,["updateTime"],l);const c=T(t,["sha256Hash"]);c!=null&&E(e,["sha256Hash"],c);const u=T(t,["uri"]);u!=null&&E(e,["uri"],u);const f=T(t,["downloadUri"]);f!=null&&E(e,["downloadUri"],f);const h=T(t,["state"]);h!=null&&E(e,["state"],h);const p=T(t,["source"]);p!=null&&E(e,["source"],p);const v=T(t,["videoMetadata"]);v!=null&&E(e,["videoMetadata"],v);const g=T(t,["error"]);return g!=null&&E(e,["error"],s_e(g)),e}function a_e(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=T(t,["files"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>QA(a))),E(e,["files"],s)}return e}function o_e(t){const e={},n=T(t,["sdkHttpResponse"]);return n!=null&&E(e,["sdkHttpResponse"],n),e}function l_e(t){const e={},n=T(t,["sdkHttpResponse"]);return n!=null&&E(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class c_e extends Zf{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new $v(Pf.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>QA(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Z2e(e);return s=Rt("files",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{const c=a_e(l),u=new p1e;return Object.assign(u,c),u})}}async createInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=n_e(e);return s=Rt("upload/v1beta/files",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=o_e(l),u=new m1e;return Object.assign(u,c),u})}}async get(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=r_e(e);return s=Rt("files/{file}",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>QA(l))}}async delete(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=i_e(e);return s=Rt("files/{file}",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{const c=l_e(l),u=new g1e;return Object.assign(u,c),u})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function u_e(t){const e={},n=T(t,["voiceName"]);return n!=null&&E(e,["voiceName"],n),e}function WG(t){const e={},n=T(t,["prebuiltVoiceConfig"]);return n!=null&&E(e,["prebuiltVoiceConfig"],u_e(n)),e}function d_e(t){const e={},n=T(t,["speaker"]);n!=null&&E(e,["speaker"],n);const r=T(t,["voiceConfig"]);return r!=null&&E(e,["voiceConfig"],WG(r)),e}function f_e(t){const e={},n=T(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>d_e(i))),E(e,["speakerVoiceConfigs"],r)}return e}function h_e(t){const e={},n=T(t,["voiceConfig"]);n!=null&&E(e,["voiceConfig"],WG(n));const r=T(t,["multiSpeakerVoiceConfig"]);r!=null&&E(e,["multiSpeakerVoiceConfig"],f_e(r));const i=T(t,["languageCode"]);return i!=null&&E(e,["languageCode"],i),e}function p_e(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function m_e(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["data"]);n!=null&&E(e,["data"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function g_e(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function y_e(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function v_e(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],p_e(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],m_e(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],g_e(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],y_e(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function x_e(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>v_e(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function __e(t){const e={},n=T(t,["behavior"]);n!=null&&E(e,["behavior"],n);const r=T(t,["description"]);r!=null&&E(e,["description"],r);const i=T(t,["name"]);i!=null&&E(e,["name"],i);const s=T(t,["parameters"]);s!=null&&E(e,["parameters"],s);const a=T(t,["parametersJsonSchema"]);a!=null&&E(e,["parametersJsonSchema"],a);const o=T(t,["response"]);o!=null&&E(e,["response"],o);const l=T(t,["responseJsonSchema"]);return l!=null&&E(e,["responseJsonSchema"],l),e}function b_e(t){const e={},n=T(t,["startTime"]);n!=null&&E(e,["startTime"],n);const r=T(t,["endTime"]);return r!=null&&E(e,["endTime"],r),e}function w_e(t){const e={},n=T(t,["timeRangeFilter"]);if(n!=null&&E(e,["timeRangeFilter"],b_e(n)),T(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function T_e(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["dynamicThreshold"]);return r!=null&&E(e,["dynamicThreshold"],r),e}function E_e(t){const e={},n=T(t,["dynamicRetrievalConfig"]);return n!=null&&E(e,["dynamicRetrievalConfig"],T_e(n)),e}function C_e(){return{}}function S_e(t){const e={},n=T(t,["environment"]);return n!=null&&E(e,["environment"],n),e}function D_e(t){const e={},n=T(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>__e(c))),E(e,["functionDeclarations"],l)}if(T(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=T(t,["googleSearch"]);r!=null&&E(e,["googleSearch"],w_e(r));const i=T(t,["googleSearchRetrieval"]);if(i!=null&&E(e,["googleSearchRetrieval"],E_e(i)),T(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(T(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");T(t,["urlContext"])!=null&&E(e,["urlContext"],C_e());const a=T(t,["computerUse"]);a!=null&&E(e,["computerUse"],S_e(a));const o=T(t,["codeExecution"]);return o!=null&&E(e,["codeExecution"],o),e}function A_e(t){const e={},n=T(t,["handle"]);if(n!=null&&E(e,["handle"],n),T(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function TU(){return{}}function N_e(t){const e={},n=T(t,["disabled"]);n!=null&&E(e,["disabled"],n);const r=T(t,["startOfSpeechSensitivity"]);r!=null&&E(e,["startOfSpeechSensitivity"],r);const i=T(t,["endOfSpeechSensitivity"]);i!=null&&E(e,["endOfSpeechSensitivity"],i);const s=T(t,["prefixPaddingMs"]);s!=null&&E(e,["prefixPaddingMs"],s);const a=T(t,["silenceDurationMs"]);return a!=null&&E(e,["silenceDurationMs"],a),e}function I_e(t){const e={},n=T(t,["automaticActivityDetection"]);n!=null&&E(e,["automaticActivityDetection"],N_e(n));const r=T(t,["activityHandling"]);r!=null&&E(e,["activityHandling"],r);const i=T(t,["turnCoverage"]);return i!=null&&E(e,["turnCoverage"],i),e}function k_e(t){const e={},n=T(t,["targetTokens"]);return n!=null&&E(e,["targetTokens"],n),e}function R_e(t){const e={},n=T(t,["triggerTokens"]);n!=null&&E(e,["triggerTokens"],n);const r=T(t,["slidingWindow"]);return r!=null&&E(e,["slidingWindow"],k_e(r)),e}function P_e(t){const e={},n=T(t,["proactiveAudio"]);return n!=null&&E(e,["proactiveAudio"],n),e}function F_e(t,e){const n={},r=T(t,["generationConfig"]);e!==void 0&&r!=null&&E(e,["setup","generationConfig"],r);const i=T(t,["responseModalities"]);e!==void 0&&i!=null&&E(e,["setup","generationConfig","responseModalities"],i);const s=T(t,["temperature"]);e!==void 0&&s!=null&&E(e,["setup","generationConfig","temperature"],s);const a=T(t,["topP"]);e!==void 0&&a!=null&&E(e,["setup","generationConfig","topP"],a);const o=T(t,["topK"]);e!==void 0&&o!=null&&E(e,["setup","generationConfig","topK"],o);const l=T(t,["maxOutputTokens"]);e!==void 0&&l!=null&&E(e,["setup","generationConfig","maxOutputTokens"],l);const c=T(t,["mediaResolution"]);e!==void 0&&c!=null&&E(e,["setup","generationConfig","mediaResolution"],c);const u=T(t,["seed"]);e!==void 0&&u!=null&&E(e,["setup","generationConfig","seed"],u);const f=T(t,["speechConfig"]);e!==void 0&&f!=null&&E(e,["setup","generationConfig","speechConfig"],h_e(yk(f)));const h=T(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&E(e,["setup","generationConfig","enableAffectiveDialog"],h);const p=T(t,["systemInstruction"]);e!==void 0&&p!=null&&E(e,["setup","systemInstruction"],x_e(ps(p)));const v=T(t,["tools"]);if(e!==void 0&&v!=null){let S=Xm(v);Array.isArray(S)&&(S=S.map(R=>D_e(Km(R)))),E(e,["setup","tools"],S)}const g=T(t,["sessionResumption"]);e!==void 0&&g!=null&&E(e,["setup","sessionResumption"],A_e(g));const y=T(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&E(e,["setup","inputAudioTranscription"],TU());const b=T(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&E(e,["setup","outputAudioTranscription"],TU());const _=T(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&E(e,["setup","realtimeInputConfig"],I_e(_));const w=T(t,["contextWindowCompression"]);e!==void 0&&w!=null&&E(e,["setup","contextWindowCompression"],R_e(w));const C=T(t,["proactivity"]);return e!==void 0&&C!=null&&E(e,["setup","proactivity"],P_e(C)),n}function M_e(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["setup","model"],Pn(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],F_e(i,n)),n}function U_e(){return{}}function O_e(){return{}}function L_e(t){const e={},n=T(t,["media"]);n!=null&&E(e,["mediaChunks"],DG(n));const r=T(t,["audio"]);r!=null&&E(e,["audio"],NG(r));const i=T(t,["audioStreamEnd"]);i!=null&&E(e,["audioStreamEnd"],i);const s=T(t,["video"]);s!=null&&E(e,["video"],AG(s));const a=T(t,["text"]);return a!=null&&E(e,["text"],a),T(t,["activityStart"])!=null&&E(e,["activityStart"],U_e()),T(t,["activityEnd"])!=null&&E(e,["activityEnd"],O_e()),e}function qG(t){const e={},n=T(t,["text"]);n!=null&&E(e,["text"],n);const r=T(t,["weight"]);return r!=null&&E(e,["weight"],r),e}function j_e(t){const e={},n=T(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>qG(i))),E(e,["weightedPrompts"],r)}return e}function $G(t){const e={},n=T(t,["temperature"]);n!=null&&E(e,["temperature"],n);const r=T(t,["topK"]);r!=null&&E(e,["topK"],r);const i=T(t,["seed"]);i!=null&&E(e,["seed"],i);const s=T(t,["guidance"]);s!=null&&E(e,["guidance"],s);const a=T(t,["bpm"]);a!=null&&E(e,["bpm"],a);const o=T(t,["density"]);o!=null&&E(e,["density"],o);const l=T(t,["brightness"]);l!=null&&E(e,["brightness"],l);const c=T(t,["scale"]);c!=null&&E(e,["scale"],c);const u=T(t,["muteBass"]);u!=null&&E(e,["muteBass"],u);const f=T(t,["muteDrums"]);f!=null&&E(e,["muteDrums"],f);const h=T(t,["onlyBassAndDrums"]);h!=null&&E(e,["onlyBassAndDrums"],h);const p=T(t,["musicGenerationMode"]);return p!=null&&E(e,["musicGenerationMode"],p),e}function B_e(t){const e={},n=T(t,["musicGenerationConfig"]);return n!=null&&E(e,["musicGenerationConfig"],$G(n)),e}function zG(t){const e={},n=T(t,["model"]);return n!=null&&E(e,["model"],n),e}function HG(t){const e={},n=T(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>qG(i))),E(e,["weightedPrompts"],r)}return e}function ZA(t){const e={},n=T(t,["setup"]);n!=null&&E(e,["setup"],zG(n));const r=T(t,["clientContent"]);r!=null&&E(e,["clientContent"],HG(r));const i=T(t,["musicGenerationConfig"]);i!=null&&E(e,["musicGenerationConfig"],$G(i));const s=T(t,["playbackControl"]);return s!=null&&E(e,["playbackControl"],s),e}function V_e(t){const e={},n=T(t,["voiceName"]);return n!=null&&E(e,["voiceName"],n),e}function W_e(t){const e={},n=T(t,["prebuiltVoiceConfig"]);return n!=null&&E(e,["prebuiltVoiceConfig"],V_e(n)),e}function q_e(t){const e={},n=T(t,["voiceConfig"]);if(n!=null&&E(e,["voiceConfig"],W_e(n)),T(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=T(t,["languageCode"]);return r!=null&&E(e,["languageCode"],r),e}function $_e(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function z_e(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["data"]);r!=null&&E(e,["data"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function H_e(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["fileUri"]);r!=null&&E(e,["fileUri"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function G_e(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function K_e(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],$_e(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],z_e(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],H_e(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],G_e(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function X_e(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>K_e(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function J_e(t){const e={};if(T(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=T(t,["description"]);n!=null&&E(e,["description"],n);const r=T(t,["name"]);r!=null&&E(e,["name"],r);const i=T(t,["parameters"]);i!=null&&E(e,["parameters"],i);const s=T(t,["parametersJsonSchema"]);s!=null&&E(e,["parametersJsonSchema"],s);const a=T(t,["response"]);a!=null&&E(e,["response"],a);const o=T(t,["responseJsonSchema"]);return o!=null&&E(e,["responseJsonSchema"],o),e}function Y_e(t){const e={},n=T(t,["startTime"]);n!=null&&E(e,["startTime"],n);const r=T(t,["endTime"]);return r!=null&&E(e,["endTime"],r),e}function Q_e(t){const e={},n=T(t,["timeRangeFilter"]);n!=null&&E(e,["timeRangeFilter"],Y_e(n));const r=T(t,["excludeDomains"]);return r!=null&&E(e,["excludeDomains"],r),e}function Z_e(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["dynamicThreshold"]);return r!=null&&E(e,["dynamicThreshold"],r),e}function ebe(t){const e={},n=T(t,["dynamicRetrievalConfig"]);return n!=null&&E(e,["dynamicRetrievalConfig"],Z_e(n)),e}function tbe(t){const e={},n=T(t,["excludeDomains"]);return n!=null&&E(e,["excludeDomains"],n),e}function nbe(t){const e={},n=T(t,["apiKeyString"]);return n!=null&&E(e,["apiKeyString"],n),e}function rbe(t){const e={},n=T(t,["apiKeyConfig"]);n!=null&&E(e,["apiKeyConfig"],nbe(n));const r=T(t,["authType"]);r!=null&&E(e,["authType"],r);const i=T(t,["googleServiceAccountConfig"]);i!=null&&E(e,["googleServiceAccountConfig"],i);const s=T(t,["httpBasicAuthConfig"]);s!=null&&E(e,["httpBasicAuthConfig"],s);const a=T(t,["oauthConfig"]);a!=null&&E(e,["oauthConfig"],a);const o=T(t,["oidcConfig"]);return o!=null&&E(e,["oidcConfig"],o),e}function ibe(t){const e={},n=T(t,["authConfig"]);return n!=null&&E(e,["authConfig"],rbe(n)),e}function sbe(){return{}}function abe(t){const e={},n=T(t,["environment"]);return n!=null&&E(e,["environment"],n),e}function obe(t){const e={},n=T(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>J_e(h))),E(e,["functionDeclarations"],f)}const r=T(t,["retrieval"]);r!=null&&E(e,["retrieval"],r);const i=T(t,["googleSearch"]);i!=null&&E(e,["googleSearch"],Q_e(i));const s=T(t,["googleSearchRetrieval"]);s!=null&&E(e,["googleSearchRetrieval"],ebe(s));const a=T(t,["enterpriseWebSearch"]);a!=null&&E(e,["enterpriseWebSearch"],tbe(a));const o=T(t,["googleMaps"]);o!=null&&E(e,["googleMaps"],ibe(o)),T(t,["urlContext"])!=null&&E(e,["urlContext"],sbe());const c=T(t,["computerUse"]);c!=null&&E(e,["computerUse"],abe(c));const u=T(t,["codeExecution"]);return u!=null&&E(e,["codeExecution"],u),e}function lbe(t){const e={},n=T(t,["handle"]);n!=null&&E(e,["handle"],n);const r=T(t,["transparent"]);return r!=null&&E(e,["transparent"],r),e}function EU(){return{}}function cbe(t){const e={},n=T(t,["disabled"]);n!=null&&E(e,["disabled"],n);const r=T(t,["startOfSpeechSensitivity"]);r!=null&&E(e,["startOfSpeechSensitivity"],r);const i=T(t,["endOfSpeechSensitivity"]);i!=null&&E(e,["endOfSpeechSensitivity"],i);const s=T(t,["prefixPaddingMs"]);s!=null&&E(e,["prefixPaddingMs"],s);const a=T(t,["silenceDurationMs"]);return a!=null&&E(e,["silenceDurationMs"],a),e}function ube(t){const e={},n=T(t,["automaticActivityDetection"]);n!=null&&E(e,["automaticActivityDetection"],cbe(n));const r=T(t,["activityHandling"]);r!=null&&E(e,["activityHandling"],r);const i=T(t,["turnCoverage"]);return i!=null&&E(e,["turnCoverage"],i),e}function dbe(t){const e={},n=T(t,["targetTokens"]);return n!=null&&E(e,["targetTokens"],n),e}function fbe(t){const e={},n=T(t,["triggerTokens"]);n!=null&&E(e,["triggerTokens"],n);const r=T(t,["slidingWindow"]);return r!=null&&E(e,["slidingWindow"],dbe(r)),e}function hbe(t){const e={},n=T(t,["proactiveAudio"]);return n!=null&&E(e,["proactiveAudio"],n),e}function pbe(t,e){const n={},r=T(t,["generationConfig"]);e!==void 0&&r!=null&&E(e,["setup","generationConfig"],r);const i=T(t,["responseModalities"]);e!==void 0&&i!=null&&E(e,["setup","generationConfig","responseModalities"],i);const s=T(t,["temperature"]);e!==void 0&&s!=null&&E(e,["setup","generationConfig","temperature"],s);const a=T(t,["topP"]);e!==void 0&&a!=null&&E(e,["setup","generationConfig","topP"],a);const o=T(t,["topK"]);e!==void 0&&o!=null&&E(e,["setup","generationConfig","topK"],o);const l=T(t,["maxOutputTokens"]);e!==void 0&&l!=null&&E(e,["setup","generationConfig","maxOutputTokens"],l);const c=T(t,["mediaResolution"]);e!==void 0&&c!=null&&E(e,["setup","generationConfig","mediaResolution"],c);const u=T(t,["seed"]);e!==void 0&&u!=null&&E(e,["setup","generationConfig","seed"],u);const f=T(t,["speechConfig"]);e!==void 0&&f!=null&&E(e,["setup","generationConfig","speechConfig"],q_e(yk(f)));const h=T(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&E(e,["setup","generationConfig","enableAffectiveDialog"],h);const p=T(t,["systemInstruction"]);e!==void 0&&p!=null&&E(e,["setup","systemInstruction"],X_e(ps(p)));const v=T(t,["tools"]);if(e!==void 0&&v!=null){let S=Xm(v);Array.isArray(S)&&(S=S.map(R=>obe(Km(R)))),E(e,["setup","tools"],S)}const g=T(t,["sessionResumption"]);e!==void 0&&g!=null&&E(e,["setup","sessionResumption"],lbe(g));const y=T(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&E(e,["setup","inputAudioTranscription"],EU());const b=T(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&E(e,["setup","outputAudioTranscription"],EU());const _=T(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&E(e,["setup","realtimeInputConfig"],ube(_));const w=T(t,["contextWindowCompression"]);e!==void 0&&w!=null&&E(e,["setup","contextWindowCompression"],fbe(w));const C=T(t,["proactivity"]);return e!==void 0&&C!=null&&E(e,["setup","proactivity"],hbe(C)),n}function mbe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["setup","model"],Pn(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],pbe(i,n)),n}function gbe(){return{}}function ybe(){return{}}function vbe(t){const e={},n=T(t,["media"]);n!=null&&E(e,["mediaChunks"],DG(n));const r=T(t,["audio"]);r!=null&&E(e,["audio"],NG(r));const i=T(t,["audioStreamEnd"]);i!=null&&E(e,["audioStreamEnd"],i);const s=T(t,["video"]);s!=null&&E(e,["video"],AG(s));const a=T(t,["text"]);return a!=null&&E(e,["text"],a),T(t,["activityStart"])!=null&&E(e,["activityStart"],gbe()),T(t,["activityEnd"])!=null&&E(e,["activityEnd"],ybe()),e}function xbe(){return{}}function _be(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function bbe(t){const e={},n=T(t,["data"]);n!=null&&E(e,["data"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function wbe(t){const e={},n=T(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function GG(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function Tbe(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],_be(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],bbe(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],wbe(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],GG(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function Ebe(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Tbe(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function CU(t){const e={},n=T(t,["text"]);n!=null&&E(e,["text"],n);const r=T(t,["finished"]);return r!=null&&E(e,["finished"],r),e}function Cbe(t){const e={},n=T(t,["retrievedUrl"]);n!=null&&E(e,["retrievedUrl"],n);const r=T(t,["urlRetrievalStatus"]);return r!=null&&E(e,["urlRetrievalStatus"],r),e}function Sbe(t){const e={},n=T(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Cbe(i))),E(e,["urlMetadata"],r)}return e}function Dbe(t){const e={},n=T(t,["modelTurn"]);n!=null&&E(e,["modelTurn"],Ebe(n));const r=T(t,["turnComplete"]);r!=null&&E(e,["turnComplete"],r);const i=T(t,["interrupted"]);i!=null&&E(e,["interrupted"],i);const s=T(t,["groundingMetadata"]);s!=null&&E(e,["groundingMetadata"],s);const a=T(t,["generationComplete"]);a!=null&&E(e,["generationComplete"],a);const o=T(t,["inputTranscription"]);o!=null&&E(e,["inputTranscription"],CU(o));const l=T(t,["outputTranscription"]);l!=null&&E(e,["outputTranscription"],CU(l));const c=T(t,["urlContextMetadata"]);return c!=null&&E(e,["urlContextMetadata"],Sbe(c)),e}function Abe(t){const e={},n=T(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>GG(i))),E(e,["functionCalls"],r)}return e}function Nbe(t){const e={},n=T(t,["ids"]);return n!=null&&E(e,["ids"],n),e}function Nx(t){const e={},n=T(t,["modality"]);n!=null&&E(e,["modality"],n);const r=T(t,["tokenCount"]);return r!=null&&E(e,["tokenCount"],r),e}function Ibe(t){const e={},n=T(t,["promptTokenCount"]);n!=null&&E(e,["promptTokenCount"],n);const r=T(t,["cachedContentTokenCount"]);r!=null&&E(e,["cachedContentTokenCount"],r);const i=T(t,["responseTokenCount"]);i!=null&&E(e,["responseTokenCount"],i);const s=T(t,["toolUsePromptTokenCount"]);s!=null&&E(e,["toolUsePromptTokenCount"],s);const a=T(t,["thoughtsTokenCount"]);a!=null&&E(e,["thoughtsTokenCount"],a);const o=T(t,["totalTokenCount"]);o!=null&&E(e,["totalTokenCount"],o);const l=T(t,["promptTokensDetails"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(p=>Nx(p))),E(e,["promptTokensDetails"],h)}const c=T(t,["cacheTokensDetails"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>Nx(p))),E(e,["cacheTokensDetails"],h)}const u=T(t,["responseTokensDetails"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(p=>Nx(p))),E(e,["responseTokensDetails"],h)}const f=T(t,["toolUsePromptTokensDetails"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(p=>Nx(p))),E(e,["toolUsePromptTokensDetails"],h)}return e}function kbe(t){const e={},n=T(t,["timeLeft"]);return n!=null&&E(e,["timeLeft"],n),e}function Rbe(t){const e={},n=T(t,["newHandle"]);n!=null&&E(e,["newHandle"],n);const r=T(t,["resumable"]);r!=null&&E(e,["resumable"],r);const i=T(t,["lastConsumedClientMessageIndex"]);return i!=null&&E(e,["lastConsumedClientMessageIndex"],i),e}function Pbe(t){const e={};T(t,["setupComplete"])!=null&&E(e,["setupComplete"],xbe());const r=T(t,["serverContent"]);r!=null&&E(e,["serverContent"],Dbe(r));const i=T(t,["toolCall"]);i!=null&&E(e,["toolCall"],Abe(i));const s=T(t,["toolCallCancellation"]);s!=null&&E(e,["toolCallCancellation"],Nbe(s));const a=T(t,["usageMetadata"]);a!=null&&E(e,["usageMetadata"],Ibe(a));const o=T(t,["goAway"]);o!=null&&E(e,["goAway"],kbe(o));const l=T(t,["sessionResumptionUpdate"]);return l!=null&&E(e,["sessionResumptionUpdate"],Rbe(l)),e}function Fbe(){return{}}function Mbe(t){const e={},n=T(t,["text"]);n!=null&&E(e,["text"],n);const r=T(t,["weight"]);return r!=null&&E(e,["weight"],r),e}function Ube(t){const e={},n=T(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Mbe(i))),E(e,["weightedPrompts"],r)}return e}function Obe(t){const e={},n=T(t,["temperature"]);n!=null&&E(e,["temperature"],n);const r=T(t,["topK"]);r!=null&&E(e,["topK"],r);const i=T(t,["seed"]);i!=null&&E(e,["seed"],i);const s=T(t,["guidance"]);s!=null&&E(e,["guidance"],s);const a=T(t,["bpm"]);a!=null&&E(e,["bpm"],a);const o=T(t,["density"]);o!=null&&E(e,["density"],o);const l=T(t,["brightness"]);l!=null&&E(e,["brightness"],l);const c=T(t,["scale"]);c!=null&&E(e,["scale"],c);const u=T(t,["muteBass"]);u!=null&&E(e,["muteBass"],u);const f=T(t,["muteDrums"]);f!=null&&E(e,["muteDrums"],f);const h=T(t,["onlyBassAndDrums"]);h!=null&&E(e,["onlyBassAndDrums"],h);const p=T(t,["musicGenerationMode"]);return p!=null&&E(e,["musicGenerationMode"],p),e}function Lbe(t){const e={},n=T(t,["clientContent"]);n!=null&&E(e,["clientContent"],Ube(n));const r=T(t,["musicGenerationConfig"]);return r!=null&&E(e,["musicGenerationConfig"],Obe(r)),e}function jbe(t){const e={},n=T(t,["data"]);n!=null&&E(e,["data"],n);const r=T(t,["mimeType"]);r!=null&&E(e,["mimeType"],r);const i=T(t,["sourceMetadata"]);return i!=null&&E(e,["sourceMetadata"],Lbe(i)),e}function Bbe(t){const e={},n=T(t,["audioChunks"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>jbe(i))),E(e,["audioChunks"],r)}return e}function Vbe(t){const e={},n=T(t,["text"]);n!=null&&E(e,["text"],n);const r=T(t,["filteredReason"]);return r!=null&&E(e,["filteredReason"],r),e}function Wbe(t){const e={};T(t,["setupComplete"])!=null&&E(e,["setupComplete"],Fbe());const r=T(t,["serverContent"]);r!=null&&E(e,["serverContent"],Bbe(r));const i=T(t,["filteredPrompt"]);return i!=null&&E(e,["filteredPrompt"],Vbe(i)),e}function qbe(t){const e={},n=T(t,["sessionId"]);return n!=null&&E(e,["sessionId"],n),e}function $be(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function zbe(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["data"]);r!=null&&E(e,["data"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function Hbe(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["fileUri"]);r!=null&&E(e,["fileUri"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function KG(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function Gbe(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],$be(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],zbe(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],Hbe(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],KG(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function Kbe(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Gbe(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function SU(t){const e={},n=T(t,["text"]);n!=null&&E(e,["text"],n);const r=T(t,["finished"]);return r!=null&&E(e,["finished"],r),e}function Xbe(t){const e={},n=T(t,["modelTurn"]);n!=null&&E(e,["modelTurn"],Kbe(n));const r=T(t,["turnComplete"]);r!=null&&E(e,["turnComplete"],r);const i=T(t,["interrupted"]);i!=null&&E(e,["interrupted"],i);const s=T(t,["groundingMetadata"]);s!=null&&E(e,["groundingMetadata"],s);const a=T(t,["generationComplete"]);a!=null&&E(e,["generationComplete"],a);const o=T(t,["inputTranscription"]);o!=null&&E(e,["inputTranscription"],SU(o));const l=T(t,["outputTranscription"]);return l!=null&&E(e,["outputTranscription"],SU(l)),e}function Jbe(t){const e={},n=T(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>KG(i))),E(e,["functionCalls"],r)}return e}function Ybe(t){const e={},n=T(t,["ids"]);return n!=null&&E(e,["ids"],n),e}function Ix(t){const e={},n=T(t,["modality"]);n!=null&&E(e,["modality"],n);const r=T(t,["tokenCount"]);return r!=null&&E(e,["tokenCount"],r),e}function Qbe(t){const e={},n=T(t,["promptTokenCount"]);n!=null&&E(e,["promptTokenCount"],n);const r=T(t,["cachedContentTokenCount"]);r!=null&&E(e,["cachedContentTokenCount"],r);const i=T(t,["candidatesTokenCount"]);i!=null&&E(e,["responseTokenCount"],i);const s=T(t,["toolUsePromptTokenCount"]);s!=null&&E(e,["toolUsePromptTokenCount"],s);const a=T(t,["thoughtsTokenCount"]);a!=null&&E(e,["thoughtsTokenCount"],a);const o=T(t,["totalTokenCount"]);o!=null&&E(e,["totalTokenCount"],o);const l=T(t,["promptTokensDetails"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(v=>Ix(v))),E(e,["promptTokensDetails"],p)}const c=T(t,["cacheTokensDetails"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(v=>Ix(v))),E(e,["cacheTokensDetails"],p)}const u=T(t,["candidatesTokensDetails"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(v=>Ix(v))),E(e,["responseTokensDetails"],p)}const f=T(t,["toolUsePromptTokensDetails"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(v=>Ix(v))),E(e,["toolUsePromptTokensDetails"],p)}const h=T(t,["trafficType"]);return h!=null&&E(e,["trafficType"],h),e}function Zbe(t){const e={},n=T(t,["timeLeft"]);return n!=null&&E(e,["timeLeft"],n),e}function ewe(t){const e={},n=T(t,["newHandle"]);n!=null&&E(e,["newHandle"],n);const r=T(t,["resumable"]);r!=null&&E(e,["resumable"],r);const i=T(t,["lastConsumedClientMessageIndex"]);return i!=null&&E(e,["lastConsumedClientMessageIndex"],i),e}function twe(t){const e={},n=T(t,["setupComplete"]);n!=null&&E(e,["setupComplete"],qbe(n));const r=T(t,["serverContent"]);r!=null&&E(e,["serverContent"],Xbe(r));const i=T(t,["toolCall"]);i!=null&&E(e,["toolCall"],Jbe(i));const s=T(t,["toolCallCancellation"]);s!=null&&E(e,["toolCallCancellation"],Ybe(s));const a=T(t,["usageMetadata"]);a!=null&&E(e,["usageMetadata"],Qbe(a));const o=T(t,["goAway"]);o!=null&&E(e,["goAway"],Zbe(o));const l=T(t,["sessionResumptionUpdate"]);return l!=null&&E(e,["sessionResumptionUpdate"],ewe(l)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nwe(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function rwe(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["data"]);n!=null&&E(e,["data"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function iwe(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function swe(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function awe(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],nwe(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],rwe(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],iwe(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],swe(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function Iw(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>awe(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function owe(t){const e={},n=T(t,["anyOf"]);n!=null&&E(e,["anyOf"],n);const r=T(t,["default"]);r!=null&&E(e,["default"],r);const i=T(t,["description"]);i!=null&&E(e,["description"],i);const s=T(t,["enum"]);s!=null&&E(e,["enum"],s);const a=T(t,["example"]);a!=null&&E(e,["example"],a);const o=T(t,["format"]);o!=null&&E(e,["format"],o);const l=T(t,["items"]);l!=null&&E(e,["items"],l);const c=T(t,["maxItems"]);c!=null&&E(e,["maxItems"],c);const u=T(t,["maxLength"]);u!=null&&E(e,["maxLength"],u);const f=T(t,["maxProperties"]);f!=null&&E(e,["maxProperties"],f);const h=T(t,["maximum"]);h!=null&&E(e,["maximum"],h);const p=T(t,["minItems"]);p!=null&&E(e,["minItems"],p);const v=T(t,["minLength"]);v!=null&&E(e,["minLength"],v);const g=T(t,["minProperties"]);g!=null&&E(e,["minProperties"],g);const y=T(t,["minimum"]);y!=null&&E(e,["minimum"],y);const b=T(t,["nullable"]);b!=null&&E(e,["nullable"],b);const _=T(t,["pattern"]);_!=null&&E(e,["pattern"],_);const w=T(t,["properties"]);w!=null&&E(e,["properties"],w);const C=T(t,["propertyOrdering"]);C!=null&&E(e,["propertyOrdering"],C);const S=T(t,["required"]);S!=null&&E(e,["required"],S);const R=T(t,["title"]);R!=null&&E(e,["title"],R);const D=T(t,["type"]);return D!=null&&E(e,["type"],D),e}function lwe(t){const e={};if(T(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=T(t,["category"]);n!=null&&E(e,["category"],n);const r=T(t,["threshold"]);return r!=null&&E(e,["threshold"],r),e}function cwe(t){const e={},n=T(t,["behavior"]);n!=null&&E(e,["behavior"],n);const r=T(t,["description"]);r!=null&&E(e,["description"],r);const i=T(t,["name"]);i!=null&&E(e,["name"],i);const s=T(t,["parameters"]);s!=null&&E(e,["parameters"],s);const a=T(t,["parametersJsonSchema"]);a!=null&&E(e,["parametersJsonSchema"],a);const o=T(t,["response"]);o!=null&&E(e,["response"],o);const l=T(t,["responseJsonSchema"]);return l!=null&&E(e,["responseJsonSchema"],l),e}function uwe(t){const e={},n=T(t,["startTime"]);n!=null&&E(e,["startTime"],n);const r=T(t,["endTime"]);return r!=null&&E(e,["endTime"],r),e}function dwe(t){const e={},n=T(t,["timeRangeFilter"]);if(n!=null&&E(e,["timeRangeFilter"],uwe(n)),T(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function fwe(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["dynamicThreshold"]);return r!=null&&E(e,["dynamicThreshold"],r),e}function hwe(t){const e={},n=T(t,["dynamicRetrievalConfig"]);return n!=null&&E(e,["dynamicRetrievalConfig"],fwe(n)),e}function pwe(){return{}}function mwe(t){const e={},n=T(t,["environment"]);return n!=null&&E(e,["environment"],n),e}function gwe(t){const e={},n=T(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>cwe(c))),E(e,["functionDeclarations"],l)}if(T(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=T(t,["googleSearch"]);r!=null&&E(e,["googleSearch"],dwe(r));const i=T(t,["googleSearchRetrieval"]);if(i!=null&&E(e,["googleSearchRetrieval"],hwe(i)),T(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(T(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");T(t,["urlContext"])!=null&&E(e,["urlContext"],pwe());const a=T(t,["computerUse"]);a!=null&&E(e,["computerUse"],mwe(a));const o=T(t,["codeExecution"]);return o!=null&&E(e,["codeExecution"],o),e}function ywe(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["allowedFunctionNames"]);return r!=null&&E(e,["allowedFunctionNames"],r),e}function vwe(t){const e={},n=T(t,["latitude"]);n!=null&&E(e,["latitude"],n);const r=T(t,["longitude"]);return r!=null&&E(e,["longitude"],r),e}function xwe(t){const e={},n=T(t,["latLng"]);n!=null&&E(e,["latLng"],vwe(n));const r=T(t,["languageCode"]);return r!=null&&E(e,["languageCode"],r),e}function _we(t){const e={},n=T(t,["functionCallingConfig"]);n!=null&&E(e,["functionCallingConfig"],ywe(n));const r=T(t,["retrievalConfig"]);return r!=null&&E(e,["retrievalConfig"],xwe(r)),e}function bwe(t){const e={},n=T(t,["voiceName"]);return n!=null&&E(e,["voiceName"],n),e}function XG(t){const e={},n=T(t,["prebuiltVoiceConfig"]);return n!=null&&E(e,["prebuiltVoiceConfig"],bwe(n)),e}function wwe(t){const e={},n=T(t,["speaker"]);n!=null&&E(e,["speaker"],n);const r=T(t,["voiceConfig"]);return r!=null&&E(e,["voiceConfig"],XG(r)),e}function Twe(t){const e={},n=T(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>wwe(i))),E(e,["speakerVoiceConfigs"],r)}return e}function Ewe(t){const e={},n=T(t,["voiceConfig"]);n!=null&&E(e,["voiceConfig"],XG(n));const r=T(t,["multiSpeakerVoiceConfig"]);r!=null&&E(e,["multiSpeakerVoiceConfig"],Twe(r));const i=T(t,["languageCode"]);return i!=null&&E(e,["languageCode"],i),e}function Cwe(t){const e={},n=T(t,["includeThoughts"]);n!=null&&E(e,["includeThoughts"],n);const r=T(t,["thinkingBudget"]);return r!=null&&E(e,["thinkingBudget"],r),e}function Swe(t,e,n){const r={},i=T(e,["systemInstruction"]);n!==void 0&&i!=null&&E(n,["systemInstruction"],Iw(ps(i)));const s=T(e,["temperature"]);s!=null&&E(r,["temperature"],s);const a=T(e,["topP"]);a!=null&&E(r,["topP"],a);const o=T(e,["topK"]);o!=null&&E(r,["topK"],o);const l=T(e,["candidateCount"]);l!=null&&E(r,["candidateCount"],l);const c=T(e,["maxOutputTokens"]);c!=null&&E(r,["maxOutputTokens"],c);const u=T(e,["stopSequences"]);u!=null&&E(r,["stopSequences"],u);const f=T(e,["responseLogprobs"]);f!=null&&E(r,["responseLogprobs"],f);const h=T(e,["logprobs"]);h!=null&&E(r,["logprobs"],h);const p=T(e,["presencePenalty"]);p!=null&&E(r,["presencePenalty"],p);const v=T(e,["frequencyPenalty"]);v!=null&&E(r,["frequencyPenalty"],v);const g=T(e,["seed"]);g!=null&&E(r,["seed"],g);const y=T(e,["responseMimeType"]);y!=null&&E(r,["responseMimeType"],y);const b=T(e,["responseSchema"]);b!=null&&E(r,["responseSchema"],owe(mk(b)));const _=T(e,["responseJsonSchema"]);if(_!=null&&E(r,["responseJsonSchema"],_),T(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(T(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const w=T(e,["safetySettings"]);if(n!==void 0&&w!=null){let P=w;Array.isArray(P)&&(P=P.map(I=>lwe(I))),E(n,["safetySettings"],P)}const C=T(e,["tools"]);if(n!==void 0&&C!=null){let P=Xm(C);Array.isArray(P)&&(P=P.map(I=>gwe(Km(I)))),E(n,["tools"],P)}const S=T(e,["toolConfig"]);if(n!==void 0&&S!=null&&E(n,["toolConfig"],_we(S)),T(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const R=T(e,["cachedContent"]);n!==void 0&&R!=null&&E(n,["cachedContent"],Ac(t,R));const D=T(e,["responseModalities"]);D!=null&&E(r,["responseModalities"],D);const N=T(e,["mediaResolution"]);N!=null&&E(r,["mediaResolution"],N);const k=T(e,["speechConfig"]);if(k!=null&&E(r,["speechConfig"],Ewe(gk(k))),T(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const F=T(e,["thinkingConfig"]);return F!=null&&E(r,["thinkingConfig"],Cwe(F)),r}function DU(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Pn(t,r));const i=T(e,["contents"]);if(i!=null){let a=to(i);Array.isArray(a)&&(a=a.map(o=>Iw(o))),E(n,["contents"],a)}const s=T(e,["config"]);return s!=null&&E(n,["generationConfig"],Swe(t,s,n)),n}function Dwe(t,e){const n={},r=T(t,["taskType"]);e!==void 0&&r!=null&&E(e,["requests[]","taskType"],r);const i=T(t,["title"]);e!==void 0&&i!=null&&E(e,["requests[]","title"],i);const s=T(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&E(e,["requests[]","outputDimensionality"],s),T(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(T(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Awe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Pn(t,r));const i=T(e,["contents"]);i!=null&&E(n,["requests[]","content"],pk(t,i));const s=T(e,["config"]);s!=null&&E(n,["config"],Dwe(s,n));const a=T(e,["model"]);return a!==void 0&&E(n,["requests[]","model"],Pn(t,a)),n}function Nwe(t,e){const n={};if(T(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(T(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=T(t,["numberOfImages"]);e!==void 0&&r!=null&&E(e,["parameters","sampleCount"],r);const i=T(t,["aspectRatio"]);e!==void 0&&i!=null&&E(e,["parameters","aspectRatio"],i);const s=T(t,["guidanceScale"]);if(e!==void 0&&s!=null&&E(e,["parameters","guidanceScale"],s),T(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=T(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&E(e,["parameters","safetySetting"],a);const o=T(t,["personGeneration"]);e!==void 0&&o!=null&&E(e,["parameters","personGeneration"],o);const l=T(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&E(e,["parameters","includeSafetyAttributes"],l);const c=T(t,["includeRaiReason"]);e!==void 0&&c!=null&&E(e,["parameters","includeRaiReason"],c);const u=T(t,["language"]);e!==void 0&&u!=null&&E(e,["parameters","language"],u);const f=T(t,["outputMimeType"]);e!==void 0&&f!=null&&E(e,["parameters","outputOptions","mimeType"],f);const h=T(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&E(e,["parameters","outputOptions","compressionQuality"],h),T(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const p=T(t,["imageSize"]);if(e!==void 0&&p!=null&&E(e,["parameters","sampleImageSize"],p),T(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Iwe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Pn(t,r));const i=T(e,["prompt"]);i!=null&&E(n,["instances[0]","prompt"],i);const s=T(e,["config"]);return s!=null&&E(n,["config"],Nwe(s,n)),n}function kwe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","name"],Pn(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function Rwe(t,e,n){const r={},i=T(e,["pageSize"]);n!==void 0&&i!=null&&E(n,["_query","pageSize"],i);const s=T(e,["pageToken"]);n!==void 0&&s!=null&&E(n,["_query","pageToken"],s);const a=T(e,["filter"]);n!==void 0&&a!=null&&E(n,["_query","filter"],a);const o=T(e,["queryBase"]);return n!==void 0&&o!=null&&E(n,["_url","models_url"],PG(t,o)),r}function Pwe(t,e){const n={},r=T(e,["config"]);return r!=null&&E(n,["config"],Rwe(t,r,n)),n}function Fwe(t,e){const n={},r=T(t,["displayName"]);e!==void 0&&r!=null&&E(e,["displayName"],r);const i=T(t,["description"]);e!==void 0&&i!=null&&E(e,["description"],i);const s=T(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&E(e,["defaultCheckpointId"],s),n}function Mwe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","name"],Pn(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],Fwe(i,n)),n}function Uwe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","name"],Pn(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function Owe(t){const e={};if(T(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(T(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(T(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Lwe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Pn(t,r));const i=T(e,["contents"]);if(i!=null){let a=to(i);Array.isArray(a)&&(a=a.map(o=>Iw(o))),E(n,["contents"],a)}const s=T(e,["config"]);return s!=null&&E(n,["config"],Owe(s)),n}function JG(t){const e={};if(T(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=T(t,["imageBytes"]);n!=null&&E(e,["bytesBase64Encoded"],eh(n));const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function jwe(t,e){const n={},r=T(t,["prompt"]);e!==void 0&&r!=null&&E(e,["instances[0]","prompt"],r);const i=T(t,["image"]);if(e!==void 0&&i!=null&&E(e,["instances[0]","image"],JG(i)),T(t,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");return n}function Bwe(t,e){const n={},r=T(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&E(e,["parameters","sampleCount"],r),T(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(T(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=T(t,["durationSeconds"]);if(e!==void 0&&i!=null&&E(e,["parameters","durationSeconds"],i),T(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=T(t,["aspectRatio"]);e!==void 0&&s!=null&&E(e,["parameters","aspectRatio"],s);const a=T(t,["resolution"]);e!==void 0&&a!=null&&E(e,["parameters","resolution"],a);const o=T(t,["personGeneration"]);if(e!==void 0&&o!=null&&E(e,["parameters","personGeneration"],o),T(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=T(t,["negativePrompt"]);e!==void 0&&l!=null&&E(e,["parameters","negativePrompt"],l);const c=T(t,["enhancePrompt"]);if(e!==void 0&&c!=null&&E(e,["parameters","enhancePrompt"],c),T(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(T(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(T(t,["referenceImages"])!==void 0)throw new Error("referenceImages parameter is not supported in Gemini API.");if(T(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(T(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function Vwe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Pn(t,r));const i=T(e,["prompt"]);i!=null&&E(n,["instances[0]","prompt"],i);const s=T(e,["image"]);if(s!=null&&E(n,["instances[0]","image"],JG(s)),T(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const a=T(e,["source"]);a!=null&&E(n,["config"],jwe(a,n));const o=T(e,["config"]);return o!=null&&E(n,["config"],Bwe(o,n)),n}function Wwe(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function qwe(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["data"]);r!=null&&E(e,["data"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function $we(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["fileUri"]);r!=null&&E(e,["fileUri"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function zwe(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function Hwe(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],Wwe(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],qwe(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],$we(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],zwe(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function Ym(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Hwe(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function Gwe(t){const e={},n=T(t,["anyOf"]);n!=null&&E(e,["anyOf"],n);const r=T(t,["default"]);r!=null&&E(e,["default"],r);const i=T(t,["description"]);i!=null&&E(e,["description"],i);const s=T(t,["enum"]);s!=null&&E(e,["enum"],s);const a=T(t,["example"]);a!=null&&E(e,["example"],a);const o=T(t,["format"]);o!=null&&E(e,["format"],o);const l=T(t,["items"]);l!=null&&E(e,["items"],l);const c=T(t,["maxItems"]);c!=null&&E(e,["maxItems"],c);const u=T(t,["maxLength"]);u!=null&&E(e,["maxLength"],u);const f=T(t,["maxProperties"]);f!=null&&E(e,["maxProperties"],f);const h=T(t,["maximum"]);h!=null&&E(e,["maximum"],h);const p=T(t,["minItems"]);p!=null&&E(e,["minItems"],p);const v=T(t,["minLength"]);v!=null&&E(e,["minLength"],v);const g=T(t,["minProperties"]);g!=null&&E(e,["minProperties"],g);const y=T(t,["minimum"]);y!=null&&E(e,["minimum"],y);const b=T(t,["nullable"]);b!=null&&E(e,["nullable"],b);const _=T(t,["pattern"]);_!=null&&E(e,["pattern"],_);const w=T(t,["properties"]);w!=null&&E(e,["properties"],w);const C=T(t,["propertyOrdering"]);C!=null&&E(e,["propertyOrdering"],C);const S=T(t,["required"]);S!=null&&E(e,["required"],S);const R=T(t,["title"]);R!=null&&E(e,["title"],R);const D=T(t,["type"]);return D!=null&&E(e,["type"],D),e}function Kwe(t){const e={},n=T(t,["featureSelectionPreference"]);return n!=null&&E(e,["featureSelectionPreference"],n),e}function Xwe(t){const e={},n=T(t,["method"]);n!=null&&E(e,["method"],n);const r=T(t,["category"]);r!=null&&E(e,["category"],r);const i=T(t,["threshold"]);return i!=null&&E(e,["threshold"],i),e}function Jwe(t){const e={};if(T(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=T(t,["description"]);n!=null&&E(e,["description"],n);const r=T(t,["name"]);r!=null&&E(e,["name"],r);const i=T(t,["parameters"]);i!=null&&E(e,["parameters"],i);const s=T(t,["parametersJsonSchema"]);s!=null&&E(e,["parametersJsonSchema"],s);const a=T(t,["response"]);a!=null&&E(e,["response"],a);const o=T(t,["responseJsonSchema"]);return o!=null&&E(e,["responseJsonSchema"],o),e}function Ywe(t){const e={},n=T(t,["startTime"]);n!=null&&E(e,["startTime"],n);const r=T(t,["endTime"]);return r!=null&&E(e,["endTime"],r),e}function Qwe(t){const e={},n=T(t,["timeRangeFilter"]);n!=null&&E(e,["timeRangeFilter"],Ywe(n));const r=T(t,["excludeDomains"]);return r!=null&&E(e,["excludeDomains"],r),e}function Zwe(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["dynamicThreshold"]);return r!=null&&E(e,["dynamicThreshold"],r),e}function eTe(t){const e={},n=T(t,["dynamicRetrievalConfig"]);return n!=null&&E(e,["dynamicRetrievalConfig"],Zwe(n)),e}function tTe(t){const e={},n=T(t,["excludeDomains"]);return n!=null&&E(e,["excludeDomains"],n),e}function nTe(t){const e={},n=T(t,["apiKeyString"]);return n!=null&&E(e,["apiKeyString"],n),e}function rTe(t){const e={},n=T(t,["apiKeyConfig"]);n!=null&&E(e,["apiKeyConfig"],nTe(n));const r=T(t,["authType"]);r!=null&&E(e,["authType"],r);const i=T(t,["googleServiceAccountConfig"]);i!=null&&E(e,["googleServiceAccountConfig"],i);const s=T(t,["httpBasicAuthConfig"]);s!=null&&E(e,["httpBasicAuthConfig"],s);const a=T(t,["oauthConfig"]);a!=null&&E(e,["oauthConfig"],a);const o=T(t,["oidcConfig"]);return o!=null&&E(e,["oidcConfig"],o),e}function iTe(t){const e={},n=T(t,["authConfig"]);return n!=null&&E(e,["authConfig"],rTe(n)),e}function sTe(){return{}}function aTe(t){const e={},n=T(t,["environment"]);return n!=null&&E(e,["environment"],n),e}function YG(t){const e={},n=T(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>Jwe(h))),E(e,["functionDeclarations"],f)}const r=T(t,["retrieval"]);r!=null&&E(e,["retrieval"],r);const i=T(t,["googleSearch"]);i!=null&&E(e,["googleSearch"],Qwe(i));const s=T(t,["googleSearchRetrieval"]);s!=null&&E(e,["googleSearchRetrieval"],eTe(s));const a=T(t,["enterpriseWebSearch"]);a!=null&&E(e,["enterpriseWebSearch"],tTe(a));const o=T(t,["googleMaps"]);o!=null&&E(e,["googleMaps"],iTe(o)),T(t,["urlContext"])!=null&&E(e,["urlContext"],sTe());const c=T(t,["computerUse"]);c!=null&&E(e,["computerUse"],aTe(c));const u=T(t,["codeExecution"]);return u!=null&&E(e,["codeExecution"],u),e}function oTe(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["allowedFunctionNames"]);return r!=null&&E(e,["allowedFunctionNames"],r),e}function lTe(t){const e={},n=T(t,["latitude"]);n!=null&&E(e,["latitude"],n);const r=T(t,["longitude"]);return r!=null&&E(e,["longitude"],r),e}function cTe(t){const e={},n=T(t,["latLng"]);n!=null&&E(e,["latLng"],lTe(n));const r=T(t,["languageCode"]);return r!=null&&E(e,["languageCode"],r),e}function uTe(t){const e={},n=T(t,["functionCallingConfig"]);n!=null&&E(e,["functionCallingConfig"],oTe(n));const r=T(t,["retrievalConfig"]);return r!=null&&E(e,["retrievalConfig"],cTe(r)),e}function dTe(t){const e={},n=T(t,["voiceName"]);return n!=null&&E(e,["voiceName"],n),e}function fTe(t){const e={},n=T(t,["prebuiltVoiceConfig"]);return n!=null&&E(e,["prebuiltVoiceConfig"],dTe(n)),e}function hTe(t){const e={},n=T(t,["voiceConfig"]);if(n!=null&&E(e,["voiceConfig"],fTe(n)),T(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=T(t,["languageCode"]);return r!=null&&E(e,["languageCode"],r),e}function pTe(t){const e={},n=T(t,["includeThoughts"]);n!=null&&E(e,["includeThoughts"],n);const r=T(t,["thinkingBudget"]);return r!=null&&E(e,["thinkingBudget"],r),e}function mTe(t,e,n){const r={},i=T(e,["systemInstruction"]);n!==void 0&&i!=null&&E(n,["systemInstruction"],Ym(ps(i)));const s=T(e,["temperature"]);s!=null&&E(r,["temperature"],s);const a=T(e,["topP"]);a!=null&&E(r,["topP"],a);const o=T(e,["topK"]);o!=null&&E(r,["topK"],o);const l=T(e,["candidateCount"]);l!=null&&E(r,["candidateCount"],l);const c=T(e,["maxOutputTokens"]);c!=null&&E(r,["maxOutputTokens"],c);const u=T(e,["stopSequences"]);u!=null&&E(r,["stopSequences"],u);const f=T(e,["responseLogprobs"]);f!=null&&E(r,["responseLogprobs"],f);const h=T(e,["logprobs"]);h!=null&&E(r,["logprobs"],h);const p=T(e,["presencePenalty"]);p!=null&&E(r,["presencePenalty"],p);const v=T(e,["frequencyPenalty"]);v!=null&&E(r,["frequencyPenalty"],v);const g=T(e,["seed"]);g!=null&&E(r,["seed"],g);const y=T(e,["responseMimeType"]);y!=null&&E(r,["responseMimeType"],y);const b=T(e,["responseSchema"]);b!=null&&E(r,["responseSchema"],Gwe(mk(b)));const _=T(e,["responseJsonSchema"]);_!=null&&E(r,["responseJsonSchema"],_);const w=T(e,["routingConfig"]);w!=null&&E(r,["routingConfig"],w);const C=T(e,["modelSelectionConfig"]);C!=null&&E(r,["modelConfig"],Kwe(C));const S=T(e,["safetySettings"]);if(n!==void 0&&S!=null){let K=S;Array.isArray(K)&&(K=K.map(X=>Xwe(X))),E(n,["safetySettings"],K)}const R=T(e,["tools"]);if(n!==void 0&&R!=null){let K=Xm(R);Array.isArray(K)&&(K=K.map(X=>YG(Km(X)))),E(n,["tools"],K)}const D=T(e,["toolConfig"]);n!==void 0&&D!=null&&E(n,["toolConfig"],uTe(D));const N=T(e,["labels"]);n!==void 0&&N!=null&&E(n,["labels"],N);const k=T(e,["cachedContent"]);n!==void 0&&k!=null&&E(n,["cachedContent"],Ac(t,k));const F=T(e,["responseModalities"]);F!=null&&E(r,["responseModalities"],F);const P=T(e,["mediaResolution"]);P!=null&&E(r,["mediaResolution"],P);const I=T(e,["speechConfig"]);I!=null&&E(r,["speechConfig"],hTe(gk(I)));const U=T(e,["audioTimestamp"]);U!=null&&E(r,["audioTimestamp"],U);const O=T(e,["thinkingConfig"]);return O!=null&&E(r,["thinkingConfig"],pTe(O)),r}function AU(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Pn(t,r));const i=T(e,["contents"]);if(i!=null){let a=to(i);Array.isArray(a)&&(a=a.map(o=>Ym(o))),E(n,["contents"],a)}const s=T(e,["config"]);return s!=null&&E(n,["generationConfig"],mTe(t,s,n)),n}function gTe(t,e){const n={},r=T(t,["taskType"]);e!==void 0&&r!=null&&E(e,["instances[]","task_type"],r);const i=T(t,["title"]);e!==void 0&&i!=null&&E(e,["instances[]","title"],i);const s=T(t,["outputDimensionality"]);e!==void 0&&s!=null&&E(e,["parameters","outputDimensionality"],s);const a=T(t,["mimeType"]);e!==void 0&&a!=null&&E(e,["instances[]","mimeType"],a);const o=T(t,["autoTruncate"]);return e!==void 0&&o!=null&&E(e,["parameters","autoTruncate"],o),n}function yTe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Pn(t,r));const i=T(e,["contents"]);i!=null&&E(n,["instances[]","content"],pk(t,i));const s=T(e,["config"]);return s!=null&&E(n,["config"],gTe(s,n)),n}function vTe(t,e){const n={},r=T(t,["outputGcsUri"]);e!==void 0&&r!=null&&E(e,["parameters","storageUri"],r);const i=T(t,["negativePrompt"]);e!==void 0&&i!=null&&E(e,["parameters","negativePrompt"],i);const s=T(t,["numberOfImages"]);e!==void 0&&s!=null&&E(e,["parameters","sampleCount"],s);const a=T(t,["aspectRatio"]);e!==void 0&&a!=null&&E(e,["parameters","aspectRatio"],a);const o=T(t,["guidanceScale"]);e!==void 0&&o!=null&&E(e,["parameters","guidanceScale"],o);const l=T(t,["seed"]);e!==void 0&&l!=null&&E(e,["parameters","seed"],l);const c=T(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&E(e,["parameters","safetySetting"],c);const u=T(t,["personGeneration"]);e!==void 0&&u!=null&&E(e,["parameters","personGeneration"],u);const f=T(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&E(e,["parameters","includeSafetyAttributes"],f);const h=T(t,["includeRaiReason"]);e!==void 0&&h!=null&&E(e,["parameters","includeRaiReason"],h);const p=T(t,["language"]);e!==void 0&&p!=null&&E(e,["parameters","language"],p);const v=T(t,["outputMimeType"]);e!==void 0&&v!=null&&E(e,["parameters","outputOptions","mimeType"],v);const g=T(t,["outputCompressionQuality"]);e!==void 0&&g!=null&&E(e,["parameters","outputOptions","compressionQuality"],g);const y=T(t,["addWatermark"]);e!==void 0&&y!=null&&E(e,["parameters","addWatermark"],y);const b=T(t,["imageSize"]);e!==void 0&&b!=null&&E(e,["parameters","sampleImageSize"],b);const _=T(t,["enhancePrompt"]);return e!==void 0&&_!=null&&E(e,["parameters","enhancePrompt"],_),n}function xTe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Pn(t,r));const i=T(e,["prompt"]);i!=null&&E(n,["instances[0]","prompt"],i);const s=T(e,["config"]);return s!=null&&E(n,["config"],vTe(s,n)),n}function $o(t){const e={},n=T(t,["gcsUri"]);n!=null&&E(e,["gcsUri"],n);const r=T(t,["imageBytes"]);r!=null&&E(e,["bytesBase64Encoded"],eh(r));const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function _Te(t){const e={},n=T(t,["maskMode"]);n!=null&&E(e,["maskMode"],n);const r=T(t,["segmentationClasses"]);r!=null&&E(e,["maskClasses"],r);const i=T(t,["maskDilation"]);return i!=null&&E(e,["dilation"],i),e}function bTe(t){const e={},n=T(t,["controlType"]);n!=null&&E(e,["controlType"],n);const r=T(t,["enableControlImageComputation"]);return r!=null&&E(e,["computeControl"],r),e}function wTe(t){const e={},n=T(t,["styleDescription"]);return n!=null&&E(e,["styleDescription"],n),e}function TTe(t){const e={},n=T(t,["subjectType"]);n!=null&&E(e,["subjectType"],n);const r=T(t,["subjectDescription"]);return r!=null&&E(e,["subjectDescription"],r),e}function ETe(t){const e={},n=T(t,["referenceImage"]);n!=null&&E(e,["referenceImage"],$o(n));const r=T(t,["referenceId"]);r!=null&&E(e,["referenceId"],r);const i=T(t,["referenceType"]);i!=null&&E(e,["referenceType"],i);const s=T(t,["maskImageConfig"]);s!=null&&E(e,["maskImageConfig"],_Te(s));const a=T(t,["controlImageConfig"]);a!=null&&E(e,["controlImageConfig"],bTe(a));const o=T(t,["styleImageConfig"]);o!=null&&E(e,["styleImageConfig"],wTe(o));const l=T(t,["subjectImageConfig"]);return l!=null&&E(e,["subjectImageConfig"],TTe(l)),e}function CTe(t,e){const n={},r=T(t,["outputGcsUri"]);e!==void 0&&r!=null&&E(e,["parameters","storageUri"],r);const i=T(t,["negativePrompt"]);e!==void 0&&i!=null&&E(e,["parameters","negativePrompt"],i);const s=T(t,["numberOfImages"]);e!==void 0&&s!=null&&E(e,["parameters","sampleCount"],s);const a=T(t,["aspectRatio"]);e!==void 0&&a!=null&&E(e,["parameters","aspectRatio"],a);const o=T(t,["guidanceScale"]);e!==void 0&&o!=null&&E(e,["parameters","guidanceScale"],o);const l=T(t,["seed"]);e!==void 0&&l!=null&&E(e,["parameters","seed"],l);const c=T(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&E(e,["parameters","safetySetting"],c);const u=T(t,["personGeneration"]);e!==void 0&&u!=null&&E(e,["parameters","personGeneration"],u);const f=T(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&E(e,["parameters","includeSafetyAttributes"],f);const h=T(t,["includeRaiReason"]);e!==void 0&&h!=null&&E(e,["parameters","includeRaiReason"],h);const p=T(t,["language"]);e!==void 0&&p!=null&&E(e,["parameters","language"],p);const v=T(t,["outputMimeType"]);e!==void 0&&v!=null&&E(e,["parameters","outputOptions","mimeType"],v);const g=T(t,["outputCompressionQuality"]);e!==void 0&&g!=null&&E(e,["parameters","outputOptions","compressionQuality"],g);const y=T(t,["addWatermark"]);e!==void 0&&y!=null&&E(e,["parameters","addWatermark"],y);const b=T(t,["editMode"]);e!==void 0&&b!=null&&E(e,["parameters","editMode"],b);const _=T(t,["baseSteps"]);return e!==void 0&&_!=null&&E(e,["parameters","editConfig","baseSteps"],_),n}function STe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Pn(t,r));const i=T(e,["prompt"]);i!=null&&E(n,["instances[0]","prompt"],i);const s=T(e,["referenceImages"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>ETe(l))),E(n,["instances[0]","referenceImages"],o)}const a=T(e,["config"]);return a!=null&&E(n,["config"],CTe(a,n)),n}function DTe(t,e){const n={},r=T(t,["outputGcsUri"]);e!==void 0&&r!=null&&E(e,["parameters","storageUri"],r);const i=T(t,["includeRaiReason"]);e!==void 0&&i!=null&&E(e,["parameters","includeRaiReason"],i);const s=T(t,["outputMimeType"]);e!==void 0&&s!=null&&E(e,["parameters","outputOptions","mimeType"],s);const a=T(t,["outputCompressionQuality"]);e!==void 0&&a!=null&&E(e,["parameters","outputOptions","compressionQuality"],a);const o=T(t,["enhanceInputImage"]);e!==void 0&&o!=null&&E(e,["parameters","upscaleConfig","enhanceInputImage"],o);const l=T(t,["imagePreservationFactor"]);e!==void 0&&l!=null&&E(e,["parameters","upscaleConfig","imagePreservationFactor"],l);const c=T(t,["numberOfImages"]);e!==void 0&&c!=null&&E(e,["parameters","sampleCount"],c);const u=T(t,["mode"]);return e!==void 0&&u!=null&&E(e,["parameters","mode"],u),n}function ATe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Pn(t,r));const i=T(e,["image"]);i!=null&&E(n,["instances[0]","image"],$o(i));const s=T(e,["upscaleFactor"]);s!=null&&E(n,["parameters","upscaleConfig","upscaleFactor"],s);const a=T(e,["config"]);return a!=null&&E(n,["config"],DTe(a,n)),n}function NTe(t){const e={},n=T(t,["productImage"]);return n!=null&&E(e,["image"],$o(n)),e}function ITe(t,e){const n={},r=T(t,["prompt"]);e!==void 0&&r!=null&&E(e,["instances[0]","prompt"],r);const i=T(t,["personImage"]);e!==void 0&&i!=null&&E(e,["instances[0]","personImage","image"],$o(i));const s=T(t,["productImages"]);if(e!==void 0&&s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>NTe(o))),E(e,["instances[0]","productImages"],a)}return n}function kTe(t,e){const n={},r=T(t,["numberOfImages"]);e!==void 0&&r!=null&&E(e,["parameters","sampleCount"],r);const i=T(t,["baseSteps"]);e!==void 0&&i!=null&&E(e,["parameters","editConfig","baseSteps"],i);const s=T(t,["outputGcsUri"]);e!==void 0&&s!=null&&E(e,["parameters","storageUri"],s);const a=T(t,["seed"]);e!==void 0&&a!=null&&E(e,["parameters","seed"],a);const o=T(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&E(e,["parameters","safetySetting"],o);const l=T(t,["personGeneration"]);e!==void 0&&l!=null&&E(e,["parameters","personGeneration"],l);const c=T(t,["addWatermark"]);e!==void 0&&c!=null&&E(e,["parameters","addWatermark"],c);const u=T(t,["outputMimeType"]);e!==void 0&&u!=null&&E(e,["parameters","outputOptions","mimeType"],u);const f=T(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&E(e,["parameters","outputOptions","compressionQuality"],f);const h=T(t,["enhancePrompt"]);return e!==void 0&&h!=null&&E(e,["parameters","enhancePrompt"],h),n}function RTe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Pn(t,r));const i=T(e,["source"]);i!=null&&E(n,["config"],ITe(i,n));const s=T(e,["config"]);return s!=null&&E(n,["config"],kTe(s,n)),n}function PTe(t){const e={},n=T(t,["image"]);return n!=null&&E(e,["image"],$o(n)),e}function FTe(t,e){const n={},r=T(t,["prompt"]);e!==void 0&&r!=null&&E(e,["instances[0]","prompt"],r);const i=T(t,["image"]);e!==void 0&&i!=null&&E(e,["instances[0]","image"],$o(i));const s=T(t,["scribbleImage"]);return e!==void 0&&s!=null&&E(e,["instances[0]","scribble"],PTe(s)),n}function MTe(t,e){const n={},r=T(t,["mode"]);e!==void 0&&r!=null&&E(e,["parameters","mode"],r);const i=T(t,["maxPredictions"]);e!==void 0&&i!=null&&E(e,["parameters","maxPredictions"],i);const s=T(t,["confidenceThreshold"]);e!==void 0&&s!=null&&E(e,["parameters","confidenceThreshold"],s);const a=T(t,["maskDilation"]);e!==void 0&&a!=null&&E(e,["parameters","maskDilation"],a);const o=T(t,["binaryColorThreshold"]);return e!==void 0&&o!=null&&E(e,["parameters","binaryColorThreshold"],o),n}function UTe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Pn(t,r));const i=T(e,["source"]);i!=null&&E(n,["config"],FTe(i,n));const s=T(e,["config"]);return s!=null&&E(n,["config"],MTe(s,n)),n}function OTe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","name"],Pn(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function LTe(t,e,n){const r={},i=T(e,["pageSize"]);n!==void 0&&i!=null&&E(n,["_query","pageSize"],i);const s=T(e,["pageToken"]);n!==void 0&&s!=null&&E(n,["_query","pageToken"],s);const a=T(e,["filter"]);n!==void 0&&a!=null&&E(n,["_query","filter"],a);const o=T(e,["queryBase"]);return n!==void 0&&o!=null&&E(n,["_url","models_url"],PG(t,o)),r}function jTe(t,e){const n={},r=T(e,["config"]);return r!=null&&E(n,["config"],LTe(t,r,n)),n}function BTe(t,e){const n={},r=T(t,["displayName"]);e!==void 0&&r!=null&&E(e,["displayName"],r);const i=T(t,["description"]);e!==void 0&&i!=null&&E(e,["description"],i);const s=T(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&E(e,["defaultCheckpointId"],s),n}function VTe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Pn(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],BTe(i,n)),n}function WTe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","name"],Pn(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function qTe(t,e){const n={},r=T(t,["systemInstruction"]);e!==void 0&&r!=null&&E(e,["systemInstruction"],Ym(ps(r)));const i=T(t,["tools"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>YG(o))),E(e,["tools"],a)}const s=T(t,["generationConfig"]);return e!==void 0&&s!=null&&E(e,["generationConfig"],s),n}function $Te(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Pn(t,r));const i=T(e,["contents"]);if(i!=null){let a=to(i);Array.isArray(a)&&(a=a.map(o=>Ym(o))),E(n,["contents"],a)}const s=T(e,["config"]);return s!=null&&E(n,["config"],qTe(s,n)),n}function zTe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Pn(t,r));const i=T(e,["contents"]);if(i!=null){let a=to(i);Array.isArray(a)&&(a=a.map(o=>Ym(o))),E(n,["contents"],a)}const s=T(e,["config"]);return s!=null&&E(n,["config"],s),n}function QG(t){const e={},n=T(t,["uri"]);n!=null&&E(e,["gcsUri"],n);const r=T(t,["videoBytes"]);r!=null&&E(e,["bytesBase64Encoded"],eh(r));const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function HTe(t,e){const n={},r=T(t,["prompt"]);e!==void 0&&r!=null&&E(e,["instances[0]","prompt"],r);const i=T(t,["image"]);e!==void 0&&i!=null&&E(e,["instances[0]","image"],$o(i));const s=T(t,["video"]);return e!==void 0&&s!=null&&E(e,["instances[0]","video"],QG(s)),n}function GTe(t){const e={},n=T(t,["image"]);n!=null&&E(e,["image"],$o(n));const r=T(t,["referenceType"]);return r!=null&&E(e,["referenceType"],r),e}function KTe(t){const e={},n=T(t,["image"]);n!=null&&E(e,["_self"],$o(n));const r=T(t,["maskMode"]);return r!=null&&E(e,["maskMode"],r),e}function XTe(t,e){const n={},r=T(t,["numberOfVideos"]);e!==void 0&&r!=null&&E(e,["parameters","sampleCount"],r);const i=T(t,["outputGcsUri"]);e!==void 0&&i!=null&&E(e,["parameters","storageUri"],i);const s=T(t,["fps"]);e!==void 0&&s!=null&&E(e,["parameters","fps"],s);const a=T(t,["durationSeconds"]);e!==void 0&&a!=null&&E(e,["parameters","durationSeconds"],a);const o=T(t,["seed"]);e!==void 0&&o!=null&&E(e,["parameters","seed"],o);const l=T(t,["aspectRatio"]);e!==void 0&&l!=null&&E(e,["parameters","aspectRatio"],l);const c=T(t,["resolution"]);e!==void 0&&c!=null&&E(e,["parameters","resolution"],c);const u=T(t,["personGeneration"]);e!==void 0&&u!=null&&E(e,["parameters","personGeneration"],u);const f=T(t,["pubsubTopic"]);e!==void 0&&f!=null&&E(e,["parameters","pubsubTopic"],f);const h=T(t,["negativePrompt"]);e!==void 0&&h!=null&&E(e,["parameters","negativePrompt"],h);const p=T(t,["enhancePrompt"]);e!==void 0&&p!=null&&E(e,["parameters","enhancePrompt"],p);const v=T(t,["generateAudio"]);e!==void 0&&v!=null&&E(e,["parameters","generateAudio"],v);const g=T(t,["lastFrame"]);e!==void 0&&g!=null&&E(e,["instances[0]","lastFrame"],$o(g));const y=T(t,["referenceImages"]);if(e!==void 0&&y!=null){let w=y;Array.isArray(w)&&(w=w.map(C=>GTe(C))),E(e,["instances[0]","referenceImages"],w)}const b=T(t,["mask"]);e!==void 0&&b!=null&&E(e,["instances[0]","mask"],KTe(b));const _=T(t,["compressionQuality"]);return e!==void 0&&_!=null&&E(e,["parameters","compressionQuality"],_),n}function JTe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Pn(t,r));const i=T(e,["prompt"]);i!=null&&E(n,["instances[0]","prompt"],i);const s=T(e,["image"]);s!=null&&E(n,["instances[0]","image"],$o(s));const a=T(e,["video"]);a!=null&&E(n,["instances[0]","video"],QG(a));const o=T(e,["source"]);o!=null&&E(n,["config"],HTe(o,n));const l=T(e,["config"]);return l!=null&&E(n,["config"],XTe(l,n)),n}function YTe(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function QTe(t){const e={},n=T(t,["data"]);n!=null&&E(e,["data"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function ZTe(t){const e={},n=T(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function eEe(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function tEe(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],YTe(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],QTe(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],ZTe(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],eEe(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function nEe(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>tEe(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function rEe(t){const e={},n=T(t,["citationSources"]);return n!=null&&E(e,["citations"],n),e}function iEe(t){const e={},n=T(t,["retrievedUrl"]);n!=null&&E(e,["retrievedUrl"],n);const r=T(t,["urlRetrievalStatus"]);return r!=null&&E(e,["urlRetrievalStatus"],r),e}function sEe(t){const e={},n=T(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>iEe(i))),E(e,["urlMetadata"],r)}return e}function aEe(t){const e={},n=T(t,["content"]);n!=null&&E(e,["content"],nEe(n));const r=T(t,["citationMetadata"]);r!=null&&E(e,["citationMetadata"],rEe(r));const i=T(t,["tokenCount"]);i!=null&&E(e,["tokenCount"],i);const s=T(t,["finishReason"]);s!=null&&E(e,["finishReason"],s);const a=T(t,["urlContextMetadata"]);a!=null&&E(e,["urlContextMetadata"],sEe(a));const o=T(t,["avgLogprobs"]);o!=null&&E(e,["avgLogprobs"],o);const l=T(t,["groundingMetadata"]);l!=null&&E(e,["groundingMetadata"],l);const c=T(t,["index"]);c!=null&&E(e,["index"],c);const u=T(t,["logprobsResult"]);u!=null&&E(e,["logprobsResult"],u);const f=T(t,["safetyRatings"]);return f!=null&&E(e,["safetyRatings"],f),e}function NU(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>aEe(c))),E(e,["candidates"],l)}const i=T(t,["modelVersion"]);i!=null&&E(e,["modelVersion"],i);const s=T(t,["promptFeedback"]);s!=null&&E(e,["promptFeedback"],s);const a=T(t,["responseId"]);a!=null&&E(e,["responseId"],a);const o=T(t,["usageMetadata"]);return o!=null&&E(e,["usageMetadata"],o),e}function oEe(t){const e={},n=T(t,["values"]);return n!=null&&E(e,["values"],n),e}function lEe(){return{}}function cEe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>oEe(a))),E(e,["embeddings"],s)}return T(t,["metadata"])!=null&&E(e,["metadata"],lEe()),e}function uEe(t){const e={},n=T(t,["bytesBase64Encoded"]);n!=null&&E(e,["imageBytes"],eh(n));const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function ZG(t){const e={},n=T(t,["safetyAttributes","categories"]);n!=null&&E(e,["categories"],n);const r=T(t,["safetyAttributes","scores"]);r!=null&&E(e,["scores"],r);const i=T(t,["contentType"]);return i!=null&&E(e,["contentType"],i),e}function dEe(t){const e={},n=T(t,["_self"]);n!=null&&E(e,["image"],uEe(n));const r=T(t,["raiFilteredReason"]);r!=null&&E(e,["raiFilteredReason"],r);const i=T(t,["_self"]);return i!=null&&E(e,["safetyAttributes"],ZG(i)),e}function fEe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>dEe(a))),E(e,["generatedImages"],s)}const i=T(t,["positivePromptSafetyAttributes"]);return i!=null&&E(e,["positivePromptSafetyAttributes"],ZG(i)),e}function hEe(t){const e={},n=T(t,["baseModel"]);n!=null&&E(e,["baseModel"],n);const r=T(t,["createTime"]);r!=null&&E(e,["createTime"],r);const i=T(t,["updateTime"]);return i!=null&&E(e,["updateTime"],i),e}function eN(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["displayName"]);r!=null&&E(e,["displayName"],r);const i=T(t,["description"]);i!=null&&E(e,["description"],i);const s=T(t,["version"]);s!=null&&E(e,["version"],s);const a=T(t,["_self"]);a!=null&&E(e,["tunedModelInfo"],hEe(a));const o=T(t,["inputTokenLimit"]);o!=null&&E(e,["inputTokenLimit"],o);const l=T(t,["outputTokenLimit"]);l!=null&&E(e,["outputTokenLimit"],l);const c=T(t,["supportedGenerationMethods"]);return c!=null&&E(e,["supportedActions"],c),e}function pEe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=T(t,["_self"]);if(i!=null){let s=FG(i);Array.isArray(s)&&(s=s.map(a=>eN(a))),E(e,["models"],s)}return e}function mEe(t){const e={},n=T(t,["sdkHttpResponse"]);return n!=null&&E(e,["sdkHttpResponse"],n),e}function gEe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["totalTokens"]);r!=null&&E(e,["totalTokens"],r);const i=T(t,["cachedContentTokenCount"]);return i!=null&&E(e,["cachedContentTokenCount"],i),e}function yEe(t){const e={},n=T(t,["video","uri"]);n!=null&&E(e,["uri"],n);const r=T(t,["video","encodedVideo"]);r!=null&&E(e,["videoBytes"],eh(r));const i=T(t,["encoding"]);return i!=null&&E(e,["mimeType"],i),e}function vEe(t){const e={},n=T(t,["_self"]);return n!=null&&E(e,["video"],yEe(n)),e}function xEe(t){const e={},n=T(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>vEe(a))),E(e,["generatedVideos"],s)}const r=T(t,["raiMediaFilteredCount"]);r!=null&&E(e,["raiMediaFilteredCount"],r);const i=T(t,["raiMediaFilteredReasons"]);return i!=null&&E(e,["raiMediaFilteredReasons"],i),e}function _Ee(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["metadata"]);r!=null&&E(e,["metadata"],r);const i=T(t,["done"]);i!=null&&E(e,["done"],i);const s=T(t,["error"]);s!=null&&E(e,["error"],s);const a=T(t,["response","generateVideoResponse"]);return a!=null&&E(e,["response"],xEe(a)),e}function bEe(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function wEe(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["data"]);r!=null&&E(e,["data"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function TEe(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["fileUri"]);r!=null&&E(e,["fileUri"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function EEe(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function CEe(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],bEe(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],wEe(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],TEe(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],EEe(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function SEe(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>CEe(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function DEe(t){const e={},n=T(t,["citations"]);return n!=null&&E(e,["citations"],n),e}function AEe(t){const e={},n=T(t,["retrievedUrl"]);n!=null&&E(e,["retrievedUrl"],n);const r=T(t,["urlRetrievalStatus"]);return r!=null&&E(e,["urlRetrievalStatus"],r),e}function NEe(t){const e={},n=T(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>AEe(i))),E(e,["urlMetadata"],r)}return e}function IEe(t){const e={},n=T(t,["content"]);n!=null&&E(e,["content"],SEe(n));const r=T(t,["citationMetadata"]);r!=null&&E(e,["citationMetadata"],DEe(r));const i=T(t,["finishMessage"]);i!=null&&E(e,["finishMessage"],i);const s=T(t,["finishReason"]);s!=null&&E(e,["finishReason"],s);const a=T(t,["urlContextMetadata"]);a!=null&&E(e,["urlContextMetadata"],NEe(a));const o=T(t,["avgLogprobs"]);o!=null&&E(e,["avgLogprobs"],o);const l=T(t,["groundingMetadata"]);l!=null&&E(e,["groundingMetadata"],l);const c=T(t,["index"]);c!=null&&E(e,["index"],c);const u=T(t,["logprobsResult"]);u!=null&&E(e,["logprobsResult"],u);const f=T(t,["safetyRatings"]);return f!=null&&E(e,["safetyRatings"],f),e}function IU(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(u=>IEe(u))),E(e,["candidates"],c)}const i=T(t,["createTime"]);i!=null&&E(e,["createTime"],i);const s=T(t,["modelVersion"]);s!=null&&E(e,["modelVersion"],s);const a=T(t,["promptFeedback"]);a!=null&&E(e,["promptFeedback"],a);const o=T(t,["responseId"]);o!=null&&E(e,["responseId"],o);const l=T(t,["usageMetadata"]);return l!=null&&E(e,["usageMetadata"],l),e}function kEe(t){const e={},n=T(t,["truncated"]);n!=null&&E(e,["truncated"],n);const r=T(t,["token_count"]);return r!=null&&E(e,["tokenCount"],r),e}function REe(t){const e={},n=T(t,["values"]);n!=null&&E(e,["values"],n);const r=T(t,["statistics"]);return r!=null&&E(e,["statistics"],kEe(r)),e}function PEe(t){const e={},n=T(t,["billableCharacterCount"]);return n!=null&&E(e,["billableCharacterCount"],n),e}function FEe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["predictions[]","embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>REe(a))),E(e,["embeddings"],s)}const i=T(t,["metadata"]);return i!=null&&E(e,["metadata"],PEe(i)),e}function eK(t){const e={},n=T(t,["gcsUri"]);n!=null&&E(e,["gcsUri"],n);const r=T(t,["bytesBase64Encoded"]);r!=null&&E(e,["imageBytes"],eh(r));const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function tK(t){const e={},n=T(t,["safetyAttributes","categories"]);n!=null&&E(e,["categories"],n);const r=T(t,["safetyAttributes","scores"]);r!=null&&E(e,["scores"],r);const i=T(t,["contentType"]);return i!=null&&E(e,["contentType"],i),e}function kw(t){const e={},n=T(t,["_self"]);n!=null&&E(e,["image"],eK(n));const r=T(t,["raiFilteredReason"]);r!=null&&E(e,["raiFilteredReason"],r);const i=T(t,["_self"]);i!=null&&E(e,["safetyAttributes"],tK(i));const s=T(t,["prompt"]);return s!=null&&E(e,["enhancedPrompt"],s),e}function MEe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>kw(a))),E(e,["generatedImages"],s)}const i=T(t,["positivePromptSafetyAttributes"]);return i!=null&&E(e,["positivePromptSafetyAttributes"],tK(i)),e}function UEe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>kw(s))),E(e,["generatedImages"],i)}return e}function OEe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>kw(s))),E(e,["generatedImages"],i)}return e}function LEe(t){const e={},n=T(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>kw(i))),E(e,["generatedImages"],r)}return e}function jEe(t){const e={},n=T(t,["label"]);n!=null&&E(e,["label"],n);const r=T(t,["score"]);return r!=null&&E(e,["score"],r),e}function BEe(t){const e={},n=T(t,["_self"]);n!=null&&E(e,["mask"],eK(n));const r=T(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>jEe(s))),E(e,["labels"],i)}return e}function VEe(t){const e={},n=T(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>BEe(i))),E(e,["generatedMasks"],r)}return e}function WEe(t){const e={},n=T(t,["endpoint"]);n!=null&&E(e,["name"],n);const r=T(t,["deployedModelId"]);return r!=null&&E(e,["deployedModelId"],r),e}function qEe(t){const e={},n=T(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&E(e,["baseModel"],n);const r=T(t,["createTime"]);r!=null&&E(e,["createTime"],r);const i=T(t,["updateTime"]);return i!=null&&E(e,["updateTime"],i),e}function $Ee(t){const e={},n=T(t,["checkpointId"]);n!=null&&E(e,["checkpointId"],n);const r=T(t,["epoch"]);r!=null&&E(e,["epoch"],r);const i=T(t,["step"]);return i!=null&&E(e,["step"],i),e}function tN(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["displayName"]);r!=null&&E(e,["displayName"],r);const i=T(t,["description"]);i!=null&&E(e,["description"],i);const s=T(t,["versionId"]);s!=null&&E(e,["version"],s);const a=T(t,["deployedModels"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(h=>WEe(h))),E(e,["endpoints"],f)}const o=T(t,["labels"]);o!=null&&E(e,["labels"],o);const l=T(t,["_self"]);l!=null&&E(e,["tunedModelInfo"],qEe(l));const c=T(t,["defaultCheckpointId"]);c!=null&&E(e,["defaultCheckpointId"],c);const u=T(t,["checkpoints"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(h=>$Ee(h))),E(e,["checkpoints"],f)}return e}function zEe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=T(t,["_self"]);if(i!=null){let s=FG(i);Array.isArray(s)&&(s=s.map(a=>tN(a))),E(e,["models"],s)}return e}function HEe(t){const e={},n=T(t,["sdkHttpResponse"]);return n!=null&&E(e,["sdkHttpResponse"],n),e}function GEe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["totalTokens"]);return r!=null&&E(e,["totalTokens"],r),e}function KEe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["tokensInfo"]);return r!=null&&E(e,["tokensInfo"],r),e}function XEe(t){const e={},n=T(t,["gcsUri"]);n!=null&&E(e,["uri"],n);const r=T(t,["bytesBase64Encoded"]);r!=null&&E(e,["videoBytes"],eh(r));const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function JEe(t){const e={},n=T(t,["_self"]);return n!=null&&E(e,["video"],XEe(n)),e}function YEe(t){const e={},n=T(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>JEe(a))),E(e,["generatedVideos"],s)}const r=T(t,["raiMediaFilteredCount"]);r!=null&&E(e,["raiMediaFilteredCount"],r);const i=T(t,["raiMediaFilteredReasons"]);return i!=null&&E(e,["raiMediaFilteredReasons"],i),e}function QEe(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["metadata"]);r!=null&&E(e,["metadata"],r);const i=T(t,["done"]);i!=null&&E(e,["done"],i);const s=T(t,["error"]);s!=null&&E(e,["error"],s);const a=T(t,["response"]);return a!=null&&E(e,["response"],YEe(a)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ZEe="Content-Type",eCe="X-Server-Timeout",tCe="User-Agent",nN="x-goog-api-client",nCe="1.19.0",rCe=`google-genai-sdk/${nCe}`,iCe="v1beta1",sCe="v1beta",kU=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class aCe{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:iCe,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:sCe,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[a,o]of Object.entries(e.queryParams))i.searchParams.append(a,String(o));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,n,e.abortSignal),this.unaryApiCall(i,s,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,s]of Object.entries(n))typeof s=="object"?r[i]=Object.assign(Object.assign({},r[i]),s):s!==void 0&&(r[i]=s);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,n,e.abortSignal),this.streamApiCall(i,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r){if(n&&n.timeout||r){const i=new AbortController,s=i.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const a=setTimeout(()=>i.abort(),n.timeout);a&&typeof a.unref=="function"&&a.unref()}r&&r.addEventListener("abort",()=>{i.abort()}),e.signal=s}return n&&n.extraBody!==null&&oCe(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await RU(i),new XA(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await RU(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return Pp(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),s=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";for(;;){const{done:o,value:l}=yield fr(i.read());if(o){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const c=s.decode(l,{stream:!0});try{const f=JSON.parse(c);if("error"in f){const h=JSON.parse(JSON.stringify(f.error)),p=h.status,v=h.code,g=`got status: ${p}. ${JSON.stringify(f)}`;if(v>=400&&v<600)throw new Nw({message:g,status:v})}}catch(f){if(f.name==="ApiError")throw f}a+=c;let u=a.match(kU);for(;u;){const f=u[1];try{const h=new Response(f,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield fr(new XA(h)),a=a.slice(u[0].length),u=a.match(kU)}catch(h){throw new Error(`exception parsing stream chunk ${f}. ${h}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=rCe+" "+this.clientOptions.userAgentExtra;return e[tCe]=n,e[nN]=n,e[ZEe]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[r,i]of Object.entries(e.headers))n.append(r,i);e.timeout&&e.timeout>0&&n.append(eCe,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const s=this.clientOptions.uploader,a=await s.stat(e);i.sizeBytes=String(a.size);const o=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:a.type;if(o===void 0||o==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=o;const l=await this.fetchUploadUrl(i,n);return s.upload(e,l,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var r;let i={};n!=null&&n.httpOptions?i=n.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const s={file:e},a=await this.request({path:Rt("upload/v1beta/files",s._url),body:JSON.stringify(s),httpMethod:"POST",httpOptions:i});if(!a||!(a!=null&&a.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const o=(r=a==null?void 0:a.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(o===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return o}}async function RU(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Nw({message:i,status:n}):new Error(i)}}function oCe(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const s=JSON.parse(t.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))n=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(s,a){const o=Object.assign({},s);for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const c=a[l],u=o[l];c&&typeof c=="object"&&!Array.isArray(c)&&u&&typeof u=="object"&&!Array.isArray(u)?o[l]=r(u,c):(u&&c&&typeof u!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof u}, New type: ${typeof c}. Overwriting.`),o[l]=c)}return o}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lCe="mcp_used/unknown";let cCe=!1;function nK(t){for(const e of t)if(uCe(e)||typeof e=="object"&&"inputSchema"in e)return!0;return cCe}function rK(t){var e;const n=(e=t[nN])!==null&&e!==void 0?e:"";t[nN]=(n+` ${lCe}`).trimStart()}function uCe(t){return t!==null&&typeof t=="object"&&t instanceof xk}function dCe(t,e=100){return Pp(this,arguments,function*(){let r,i=0;for(;i<e;){const s=yield fr(t.listTools({cursor:r}));for(const a of s.tools)yield yield fr(a),i++;if(!s.nextCursor)break;r=s.nextCursor}})}class xk{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new xk(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const s={},a=[];for(const u of this.mcpClients)try{for(var o=!0,l=(n=void 0,X0(dCe(u))),c;c=await l.next(),e=c.done,!e;o=!0){i=c.value,o=!1;const f=i;a.push(f);const h=f.name;if(s[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);s[h]=u}}catch(f){n={error:f}}finally{try{!o&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),S1e(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const a=await i.callTool({name:r.name,arguments:r.args},void 0,s);n.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function fCe(t,e,n){const r=new v1e;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data);const s=Wbe(i);Object.assign(r,s),e(r)}class hCe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),a=gCe(this.apiClient.getDefaultHeaders()),o=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${o}`;let c=()=>{};const u=new Promise(w=>{c=w}),f=e.callbacks,h=function(){c({})},p=this.apiClient,v={onopen:h,onmessage:w=>{fCe(p,f.onmessage,w)},onerror:(n=f==null?void 0:f.onerror)!==null&&n!==void 0?n:function(w){},onclose:(r=f==null?void 0:f.onclose)!==null&&r!==void 0?r:function(w){}},g=this.webSocketFactory.create(l,mCe(a),v);g.connect(),await u;const y=Pn(this.apiClient,e.model),b=zG({model:y}),_=ZA({setup:b});return g.send(JSON.stringify(_)),new pCe(g,this.apiClient)}}class pCe{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=j_e(e),r=HG(n);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=B_e(e),r=ZA(n);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const n=ZA({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(bp.PLAY)}pause(){this.sendPlaybackControl(bp.PAUSE)}stop(){this.sendPlaybackControl(bp.STOP)}resetContext(){this.sendPlaybackControl(bp.RESET_CONTEXT)}close(){this.conn.close()}}function mCe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function gCe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yCe="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function vCe(t,e,n){const r=new y1e;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const s=JSON.parse(i);if(t.isVertexAI()){const a=twe(s);Object.assign(r,a)}else{const a=Pbe(s);Object.assign(r,a)}e(r)}class xCe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new hCe(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,s,a,o;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let u;const f=this.apiClient.getHeaders();e.config&&e.config.tools&&nK(e.config.tools)&&rK(f);const h=TCe(f);if(this.apiClient.isVertexAI())u=`${l}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h);else{const k=this.apiClient.getApiKey();let F="BidiGenerateContent",P="key";k!=null&&k.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),c!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),F="BidiGenerateContentConstrained",P="access_token"),u=`${l}/ws/google.ai.generativelanguage.${c}.GenerativeService.${F}?${P}=${k}`}let p=()=>{};const v=new Promise(k=>{p=k}),g=e.callbacks,y=function(){var k;(k=g==null?void 0:g.onopen)===null||k===void 0||k.call(g),p({})},b=this.apiClient,_={onopen:y,onmessage:k=>{vCe(b,g.onmessage,k)},onerror:(n=g==null?void 0:g.onerror)!==null&&n!==void 0?n:function(k){},onclose:(r=g==null?void 0:g.onclose)!==null&&r!==void 0?r:function(k){}},w=this.webSocketFactory.create(u,wCe(h),_);w.connect(),await v;let C=Pn(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&C.startsWith("publishers/")){const k=this.apiClient.getProject(),F=this.apiClient.getLocation();C=`projects/${k}/locations/${F}/`+C}let S={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[j_.AUDIO]}:e.config.responseModalities=[j_.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const R=(o=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&o!==void 0?o:[],D=[];for(const k of R)if(this.isCallableTool(k)){const F=k;D.push(await F.tool())}else D.push(k);D.length>0&&(e.config.tools=D);const N={model:C,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?S=mbe(this.apiClient,N):S=M_e(this.apiClient,N),delete S.config,w.send(JSON.stringify(S)),new bCe(w,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const _Ce={turnComplete:!0};class bCe{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=to(n.turns),e.isVertexAI()?r=r.map(i=>Ym(i)):r=r.map(i=>Iw(i))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const s of r){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(yCe)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},_Ce),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:vbe(e)}:n={realtimeInput:L_e(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function wCe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function TCe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const PU=10;function FU(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Fp(a)){i=!0;break}if(!i)return!0;const s=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function Fp(t){return"callTool"in t&&typeof t.callTool=="function"}function ECe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Fp(i)))!==null&&r!==void 0?r:!1}function CCe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>!Fp(i)))!==null&&r!==void 0?r:!1}function MU(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SCe extends Zf{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,s,a,o;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!ECe(n)||FU(n.config))return await this.generateContentInternal(l);if(CCe(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let c,u;const f=to(l.contents),h=(s=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:PU;let p=0;for(;p<h&&(c=await this.generateContentInternal(l),!(!c.functionCalls||c.functionCalls.length===0));){const v=c.candidates[0].content,g=[];for(const y of(o=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&o!==void 0?o:[])if(Fp(y)){const _=await y.callTool(c.functionCalls);g.push(..._)}p++,u={role:"user",parts:g},l.contents=to(l.contents),l.contents.push(v),l.contents.push(u),MU(l.config)&&(f.push(v),f.push(u))}return MU(l.config)&&(c.automaticFunctionCallingHistory=f),c},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),FU(n.config)){const r=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let s;const a=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?s=l==null?void 0:l.safetyAttributes:a.push(l);let o;return s?o={generatedImages:a,positivePromptSafetyAttributes:s,sdkHttpResponse:r.sdkHttpResponse}:o={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},o}),this.list=async n=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new $v(Pf.PAGED_ITEM_MODELS,o=>this.listInternal(o),await this.listInternal(a),a)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const s=(n=e.config)===null||n===void 0?void 0:n.tools;if(!s)return e;const a=await Promise.all(s.map(async l=>Fp(l)?await l.tool():l)),o={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(o.config.tools=a,e.config&&e.config.tools&&nK(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let c=Object.assign({},l);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),rK(c),o.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:c})}return o}async initAfcToolsMap(e){var n,r,i;const s=new Map;for(const a of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Fp(a)){const o=a,l=await o.tool();for(const c of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!c.name)throw new Error("Function declaration name is required.");if(s.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);s.set(c.name,o)}}return s}async processAfcStream(e){var n,r,i;const s=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:PU;let a=!1,o=0;const l=await this.initAfcToolsMap(e);return(function(c,u,f){var h,p;return Pp(this,arguments,function*(){for(var v,g,y,b;o<s;){a&&(o++,a=!1);const S=yield fr(c.processParamsMaybeAddMcpUsage(f)),R=yield fr(c.generateContentStreamInternal(S)),D=[],N=[];try{for(var _=!0,w=(g=void 0,X0(R)),C;C=yield fr(w.next()),v=C.done,!v;_=!0){b=C.value,_=!1;const k=b;if(yield yield fr(k),k.candidates&&(!((h=k.candidates[0])===null||h===void 0)&&h.content)){N.push(k.candidates[0].content);for(const F of(p=k.candidates[0].content.parts)!==null&&p!==void 0?p:[])if(o<s&&F.functionCall){if(!F.functionCall.name)throw new Error("Function call name was not returned by the model.");if(u.has(F.functionCall.name)){const P=yield fr(u.get(F.functionCall.name).callTool([F.functionCall]));D.push(...P)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${u.keys()}, mising tool: ${F.functionCall.name}`)}}}}catch(k){g={error:k}}finally{try{!_&&!v&&(y=w.return)&&(yield fr(y.call(w)))}finally{if(g)throw g.error}}if(D.length>0){a=!0;const k=new Zg;k.candidates=[{content:{role:"user",parts:D}}],yield yield fr(k);const F=[];F.push(...N),F.push({role:"user",parts:D});const P=to(f.contents).concat(F);f.contents=P}else break}})})(this,l,e)}async generateContentInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=AU(this.apiClient,e);return o=Rt("{model}:generateContent",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=IU(u),h=new Zg;return Object.assign(h,f),h})}else{const c=DU(this.apiClient,e);return o=Rt("{model}:generateContent",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=NU(u),h=new Zg;return Object.assign(h,f),h})}}async generateContentStreamInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=AU(this.apiClient,e);return o=Rt("{model}:streamGenerateContent?alt=sse",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.requestStream({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(f){return Pp(this,arguments,function*(){var h,p,v,g;try{for(var y=!0,b=X0(f),_;_=yield fr(b.next()),h=_.done,!h;y=!0){g=_.value,y=!1;const w=g,C=IU(yield fr(w.json()));C.sdkHttpResponse={headers:w.headers};const S=new Zg;Object.assign(S,C),yield yield fr(S)}}catch(w){p={error:w}}finally{try{!y&&!h&&(v=b.return)&&(yield fr(v.call(b)))}finally{if(p)throw p.error}}})})}else{const c=DU(this.apiClient,e);return o=Rt("{model}:streamGenerateContent?alt=sse",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.requestStream({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),a.then(function(f){return Pp(this,arguments,function*(){var h,p,v,g;try{for(var y=!0,b=X0(f),_;_=yield fr(b.next()),h=_.done,!h;y=!0){g=_.value,y=!1;const w=g,C=NU(yield fr(w.json()));C.sdkHttpResponse={headers:w.headers};const S=new Zg;Object.assign(S,C),yield yield fr(S)}}catch(w){p={error:w}}finally{try{!y&&!h&&(v=b.return)&&(yield fr(v.call(b)))}finally{if(p)throw p.error}}})})}}async embedContent(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=yTe(this.apiClient,e);return o=Rt("{model}:predict",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=FEe(u),h=new oU;return Object.assign(h,f),h})}else{const c=Awe(this.apiClient,e);return o=Rt("{model}:batchEmbedContents",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=cEe(u),h=new oU;return Object.assign(h,f),h})}}async generateImagesInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=xTe(this.apiClient,e);return o=Rt("{model}:predict",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=MEe(u),h=new lU;return Object.assign(h,f),h})}else{const c=Iwe(this.apiClient,e);return o=Rt("{model}:predict",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=fEe(u),h=new lU;return Object.assign(h,f),h})}}async editImageInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=STe(this.apiClient,e);return s=Rt("{model}:predict",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{const c=UEe(l),u=new c1e;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=ATe(this.apiClient,e);return s=Rt("{model}:predict",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{const c=OEe(l),u=new u1e;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=RTe(this.apiClient,e);return s=Rt("{model}:predict",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=LEe(l),u=new d1e;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=UTe(this.apiClient,e);return s=Rt("{model}:predict",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=VEe(l),u=new f1e;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=OTe(this.apiClient,e);return o=Rt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>tN(u))}else{const c=kwe(this.apiClient,e);return o=Rt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>eN(u))}}async listInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=jTe(this.apiClient,e);return o=Rt("{models_url}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=zEe(u),h=new cU;return Object.assign(h,f),h})}else{const c=Pwe(this.apiClient,e);return o=Rt("{models_url}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=pEe(u),h=new cU;return Object.assign(h,f),h})}}async update(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=VTe(this.apiClient,e);return o=Rt("{model}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>tN(u))}else{const c=Mwe(this.apiClient,e);return o=Rt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>eN(u))}}async delete(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=WTe(this.apiClient,e);return o=Rt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=HEe(u),h=new uU;return Object.assign(h,f),h})}else{const c=Uwe(this.apiClient,e);return o=Rt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=mEe(u),h=new uU;return Object.assign(h,f),h})}}async countTokens(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=$Te(this.apiClient,e);return o=Rt("{model}:countTokens",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=GEe(u),h=new dU;return Object.assign(h,f),h})}else{const c=Lwe(this.apiClient,e);return o=Rt("{model}:countTokens",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=gEe(u),h=new dU;return Object.assign(h,f),h})}}async computeTokens(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=zTe(this.apiClient,e);return s=Rt("{model}:computeTokens",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{const c=KEe(l),u=new h1e;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=JTe(this.apiClient,e);return o=Rt("{model}:predictLongRunning",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>{const f=QEe(u),h=new B_;return Object.assign(h,f),h})}else{const c=Vwe(this.apiClient,e);return o=Rt("{model}:predictLongRunning",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>{const f=_Ee(u),h=new B_;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class DCe extends Zf{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:a,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:a,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=e1e(e);return o=Rt("{operationName}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a}else{const c=Qve(e);return o=Rt("{operationName}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a}}async fetchPredictVideosOperationInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=Zve(e);return s=Rt("{resourceName}:fetchPredictOperation",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ACe(t){const e={},n=T(t,["voiceName"]);return n!=null&&E(e,["voiceName"],n),e}function iK(t){const e={},n=T(t,["prebuiltVoiceConfig"]);return n!=null&&E(e,["prebuiltVoiceConfig"],ACe(n)),e}function NCe(t){const e={},n=T(t,["speaker"]);n!=null&&E(e,["speaker"],n);const r=T(t,["voiceConfig"]);return r!=null&&E(e,["voiceConfig"],iK(r)),e}function ICe(t){const e={},n=T(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>NCe(i))),E(e,["speakerVoiceConfigs"],r)}return e}function kCe(t){const e={},n=T(t,["voiceConfig"]);n!=null&&E(e,["voiceConfig"],iK(n));const r=T(t,["multiSpeakerVoiceConfig"]);r!=null&&E(e,["multiSpeakerVoiceConfig"],ICe(r));const i=T(t,["languageCode"]);return i!=null&&E(e,["languageCode"],i),e}function RCe(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function PCe(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["data"]);n!=null&&E(e,["data"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function FCe(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function MCe(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function UCe(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],RCe(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],PCe(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],FCe(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],MCe(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function OCe(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>UCe(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function LCe(t){const e={},n=T(t,["behavior"]);n!=null&&E(e,["behavior"],n);const r=T(t,["description"]);r!=null&&E(e,["description"],r);const i=T(t,["name"]);i!=null&&E(e,["name"],i);const s=T(t,["parameters"]);s!=null&&E(e,["parameters"],s);const a=T(t,["parametersJsonSchema"]);a!=null&&E(e,["parametersJsonSchema"],a);const o=T(t,["response"]);o!=null&&E(e,["response"],o);const l=T(t,["responseJsonSchema"]);return l!=null&&E(e,["responseJsonSchema"],l),e}function jCe(t){const e={},n=T(t,["startTime"]);n!=null&&E(e,["startTime"],n);const r=T(t,["endTime"]);return r!=null&&E(e,["endTime"],r),e}function BCe(t){const e={},n=T(t,["timeRangeFilter"]);if(n!=null&&E(e,["timeRangeFilter"],jCe(n)),T(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function VCe(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["dynamicThreshold"]);return r!=null&&E(e,["dynamicThreshold"],r),e}function WCe(t){const e={},n=T(t,["dynamicRetrievalConfig"]);return n!=null&&E(e,["dynamicRetrievalConfig"],VCe(n)),e}function qCe(){return{}}function $Ce(t){const e={},n=T(t,["environment"]);return n!=null&&E(e,["environment"],n),e}function zCe(t){const e={},n=T(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>LCe(c))),E(e,["functionDeclarations"],l)}if(T(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=T(t,["googleSearch"]);r!=null&&E(e,["googleSearch"],BCe(r));const i=T(t,["googleSearchRetrieval"]);if(i!=null&&E(e,["googleSearchRetrieval"],WCe(i)),T(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(T(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");T(t,["urlContext"])!=null&&E(e,["urlContext"],qCe());const a=T(t,["computerUse"]);a!=null&&E(e,["computerUse"],$Ce(a));const o=T(t,["codeExecution"]);return o!=null&&E(e,["codeExecution"],o),e}function HCe(t){const e={},n=T(t,["handle"]);if(n!=null&&E(e,["handle"],n),T(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function UU(){return{}}function GCe(t){const e={},n=T(t,["disabled"]);n!=null&&E(e,["disabled"],n);const r=T(t,["startOfSpeechSensitivity"]);r!=null&&E(e,["startOfSpeechSensitivity"],r);const i=T(t,["endOfSpeechSensitivity"]);i!=null&&E(e,["endOfSpeechSensitivity"],i);const s=T(t,["prefixPaddingMs"]);s!=null&&E(e,["prefixPaddingMs"],s);const a=T(t,["silenceDurationMs"]);return a!=null&&E(e,["silenceDurationMs"],a),e}function KCe(t){const e={},n=T(t,["automaticActivityDetection"]);n!=null&&E(e,["automaticActivityDetection"],GCe(n));const r=T(t,["activityHandling"]);r!=null&&E(e,["activityHandling"],r);const i=T(t,["turnCoverage"]);return i!=null&&E(e,["turnCoverage"],i),e}function XCe(t){const e={},n=T(t,["targetTokens"]);return n!=null&&E(e,["targetTokens"],n),e}function JCe(t){const e={},n=T(t,["triggerTokens"]);n!=null&&E(e,["triggerTokens"],n);const r=T(t,["slidingWindow"]);return r!=null&&E(e,["slidingWindow"],XCe(r)),e}function YCe(t){const e={},n=T(t,["proactiveAudio"]);return n!=null&&E(e,["proactiveAudio"],n),e}function QCe(t,e){const n={},r=T(t,["generationConfig"]);e!==void 0&&r!=null&&E(e,["setup","generationConfig"],r);const i=T(t,["responseModalities"]);e!==void 0&&i!=null&&E(e,["setup","generationConfig","responseModalities"],i);const s=T(t,["temperature"]);e!==void 0&&s!=null&&E(e,["setup","generationConfig","temperature"],s);const a=T(t,["topP"]);e!==void 0&&a!=null&&E(e,["setup","generationConfig","topP"],a);const o=T(t,["topK"]);e!==void 0&&o!=null&&E(e,["setup","generationConfig","topK"],o);const l=T(t,["maxOutputTokens"]);e!==void 0&&l!=null&&E(e,["setup","generationConfig","maxOutputTokens"],l);const c=T(t,["mediaResolution"]);e!==void 0&&c!=null&&E(e,["setup","generationConfig","mediaResolution"],c);const u=T(t,["seed"]);e!==void 0&&u!=null&&E(e,["setup","generationConfig","seed"],u);const f=T(t,["speechConfig"]);e!==void 0&&f!=null&&E(e,["setup","generationConfig","speechConfig"],kCe(yk(f)));const h=T(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&E(e,["setup","generationConfig","enableAffectiveDialog"],h);const p=T(t,["systemInstruction"]);e!==void 0&&p!=null&&E(e,["setup","systemInstruction"],OCe(ps(p)));const v=T(t,["tools"]);if(e!==void 0&&v!=null){let S=Xm(v);Array.isArray(S)&&(S=S.map(R=>zCe(Km(R)))),E(e,["setup","tools"],S)}const g=T(t,["sessionResumption"]);e!==void 0&&g!=null&&E(e,["setup","sessionResumption"],HCe(g));const y=T(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&E(e,["setup","inputAudioTranscription"],UU());const b=T(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&E(e,["setup","outputAudioTranscription"],UU());const _=T(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&E(e,["setup","realtimeInputConfig"],KCe(_));const w=T(t,["contextWindowCompression"]);e!==void 0&&w!=null&&E(e,["setup","contextWindowCompression"],JCe(w));const C=T(t,["proactivity"]);return e!==void 0&&C!=null&&E(e,["setup","proactivity"],YCe(C)),n}function ZCe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["setup","model"],Pn(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],QCe(i,n)),n}function eSe(t,e,n){const r={},i=T(e,["expireTime"]);n!==void 0&&i!=null&&E(n,["expireTime"],i);const s=T(e,["newSessionExpireTime"]);n!==void 0&&s!=null&&E(n,["newSessionExpireTime"],s);const a=T(e,["uses"]);n!==void 0&&a!=null&&E(n,["uses"],a);const o=T(e,["liveConnectConstraints"]);n!==void 0&&o!=null&&E(n,["bidiGenerateContentSetup"],ZCe(t,o));const l=T(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&E(n,["fieldMask"],l),r}function tSe(t,e){const n={},r=T(e,["config"]);return r!=null&&E(n,["config"],eSe(t,r,n)),n}function nSe(t){const e={},n=T(t,["name"]);return n!=null&&E(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rSe(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(s=>`${n}.${s}`);e.push(...i)}else e.push(n)}return e.join(",")}function iSe(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const s=r.setup;typeof s=="object"&&s!==null?(t.bidiGenerateContentSetup=s,n=s):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const s=rSe(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?t.fieldMask=s:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let o=[];i.length>0&&(o=i.map(c=>a.includes(c)?`generationConfig.${c}`:c));const l=[];s&&l.push(s),o.length>0&&l.push(...o),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class sSe extends Zf{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const o=tSe(this.apiClient,e);s=Rt("auth_tokens",o._url),a=o._query,delete o.config,delete o._url,delete o._query;const l=iSe(o,e.config);return i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>nSe(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aSe(t){const e={},n=T(t,["name"]);n!=null&&E(e,["_url","name"],n);const r=T(t,["config"]);return r!=null&&E(e,["config"],r),e}function oSe(t,e){const n={},r=T(t,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=T(t,["pageToken"]);e!==void 0&&i!=null&&E(e,["_query","pageToken"],i);const s=T(t,["filter"]);return e!==void 0&&s!=null&&E(e,["_query","filter"],s),n}function lSe(t){const e={},n=T(t,["config"]);return n!=null&&E(e,["config"],oSe(n,e)),e}function cSe(t){const e={},n=T(t,["name"]);n!=null&&E(e,["_url","name"],n);const r=T(t,["config"]);return r!=null&&E(e,["config"],r),e}function uSe(t){const e={},n=T(t,["textInput"]);n!=null&&E(e,["textInput"],n);const r=T(t,["output"]);return r!=null&&E(e,["output"],r),e}function dSe(t){const e={};if(T(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(T(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=T(t,["examples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>uSe(i))),E(e,["examples","examples"],r)}return e}function fSe(t,e){const n={};if(T(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=T(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&E(e,["displayName"],r),T(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=T(t,["epochCount"]);e!==void 0&&i!=null&&E(e,["tuningTask","hyperparameters","epochCount"],i);const s=T(t,["learningRateMultiplier"]);if(s!=null&&E(n,["tuningTask","hyperparameters","learningRateMultiplier"],s),T(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(T(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(T(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const a=T(t,["batchSize"]);e!==void 0&&a!=null&&E(e,["tuningTask","hyperparameters","batchSize"],a);const o=T(t,["learningRate"]);if(e!==void 0&&o!=null&&E(e,["tuningTask","hyperparameters","learningRate"],o),T(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return n}function hSe(t){const e={},n=T(t,["baseModel"]);n!=null&&E(e,["baseModel"],n);const r=T(t,["preTunedModel"]);r!=null&&E(e,["preTunedModel"],r);const i=T(t,["trainingDataset"]);i!=null&&E(e,["tuningTask","trainingData"],dSe(i));const s=T(t,["config"]);return s!=null&&E(e,["config"],fSe(s,e)),e}function pSe(t){const e={},n=T(t,["name"]);n!=null&&E(e,["_url","name"],n);const r=T(t,["config"]);return r!=null&&E(e,["config"],r),e}function mSe(t,e){const n={},r=T(t,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=T(t,["pageToken"]);e!==void 0&&i!=null&&E(e,["_query","pageToken"],i);const s=T(t,["filter"]);return e!==void 0&&s!=null&&E(e,["_query","filter"],s),n}function gSe(t){const e={},n=T(t,["config"]);return n!=null&&E(e,["config"],mSe(n,e)),e}function ySe(t){const e={},n=T(t,["name"]);n!=null&&E(e,["_url","name"],n);const r=T(t,["config"]);return r!=null&&E(e,["config"],r),e}function vSe(t,e){const n={},r=T(t,["gcsUri"]);e!==void 0&&r!=null&&E(e,["supervisedTuningSpec","trainingDatasetUri"],r);const i=T(t,["vertexDatasetResource"]);if(e!==void 0&&i!=null&&E(e,["supervisedTuningSpec","trainingDatasetUri"],i),T(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function xSe(t,e){const n={},r=T(t,["gcsUri"]);r!=null&&E(n,["validationDatasetUri"],r);const i=T(t,["vertexDatasetResource"]);return e!==void 0&&i!=null&&E(e,["supervisedTuningSpec","trainingDatasetUri"],i),n}function _Se(t,e){const n={},r=T(t,["validationDataset"]);e!==void 0&&r!=null&&E(e,["supervisedTuningSpec"],xSe(r,n));const i=T(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&E(e,["tunedModelDisplayName"],i);const s=T(t,["description"]);e!==void 0&&s!=null&&E(e,["description"],s);const a=T(t,["epochCount"]);e!==void 0&&a!=null&&E(e,["supervisedTuningSpec","hyperParameters","epochCount"],a);const o=T(t,["learningRateMultiplier"]);e!==void 0&&o!=null&&E(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],o);const l=T(t,["exportLastCheckpointOnly"]);e!==void 0&&l!=null&&E(e,["supervisedTuningSpec","exportLastCheckpointOnly"],l);const c=T(t,["preTunedModelCheckpointId"]);c!=null&&E(n,["preTunedModel","checkpointId"],c);const u=T(t,["adapterSize"]);if(e!==void 0&&u!=null&&E(e,["supervisedTuningSpec","hyperParameters","adapterSize"],u),T(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(T(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const f=T(t,["labels"]);return e!==void 0&&f!=null&&E(e,["labels"],f),n}function bSe(t){const e={},n=T(t,["baseModel"]);n!=null&&E(e,["baseModel"],n);const r=T(t,["preTunedModel"]);r!=null&&E(e,["preTunedModel"],r);const i=T(t,["trainingDataset"]);i!=null&&E(e,["supervisedTuningSpec","trainingDatasetUri"],vSe(i,e));const s=T(t,["config"]);return s!=null&&E(e,["config"],_Se(s,e)),e}function wSe(t){const e={},n=T(t,["name"]);n!=null&&E(e,["model"],n);const r=T(t,["name"]);return r!=null&&E(e,["endpoint"],r),e}function sK(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["name"]);r!=null&&E(e,["name"],r);const i=T(t,["state"]);i!=null&&E(e,["state"],kG(i));const s=T(t,["createTime"]);s!=null&&E(e,["createTime"],s);const a=T(t,["tuningTask","startTime"]);a!=null&&E(e,["startTime"],a);const o=T(t,["tuningTask","completeTime"]);o!=null&&E(e,["endTime"],o);const l=T(t,["updateTime"]);l!=null&&E(e,["updateTime"],l);const c=T(t,["description"]);c!=null&&E(e,["description"],c);const u=T(t,["baseModel"]);u!=null&&E(e,["baseModel"],u);const f=T(t,["_self"]);f!=null&&E(e,["tunedModel"],wSe(f));const h=T(t,["customBaseModel"]);h!=null&&E(e,["customBaseModel"],h);const p=T(t,["experiment"]);p!=null&&E(e,["experiment"],p);const v=T(t,["labels"]);v!=null&&E(e,["labels"],v);const g=T(t,["outputUri"]);g!=null&&E(e,["outputUri"],g);const y=T(t,["pipelineJob"]);y!=null&&E(e,["pipelineJob"],y);const b=T(t,["serviceAccount"]);b!=null&&E(e,["serviceAccount"],b);const _=T(t,["tunedModelDisplayName"]);return _!=null&&E(e,["tunedModelDisplayName"],_),e}function TSe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=T(t,["tunedModels"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>sK(a))),E(e,["tuningJobs"],s)}return e}function ESe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["name"]);r!=null&&E(e,["name"],r);const i=T(t,["metadata"]);i!=null&&E(e,["metadata"],i);const s=T(t,["done"]);s!=null&&E(e,["done"],s);const a=T(t,["error"]);return a!=null&&E(e,["error"],a),e}function CSe(t){const e={},n=T(t,["checkpointId"]);n!=null&&E(e,["checkpointId"],n);const r=T(t,["epoch"]);r!=null&&E(e,["epoch"],r);const i=T(t,["step"]);i!=null&&E(e,["step"],i);const s=T(t,["endpoint"]);return s!=null&&E(e,["endpoint"],s),e}function SSe(t){const e={},n=T(t,["model"]);n!=null&&E(e,["model"],n);const r=T(t,["endpoint"]);r!=null&&E(e,["endpoint"],r);const i=T(t,["checkpoints"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>CSe(a))),E(e,["checkpoints"],s)}return e}function rN(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["name"]);r!=null&&E(e,["name"],r);const i=T(t,["state"]);i!=null&&E(e,["state"],kG(i));const s=T(t,["createTime"]);s!=null&&E(e,["createTime"],s);const a=T(t,["startTime"]);a!=null&&E(e,["startTime"],a);const o=T(t,["endTime"]);o!=null&&E(e,["endTime"],o);const l=T(t,["updateTime"]);l!=null&&E(e,["updateTime"],l);const c=T(t,["error"]);c!=null&&E(e,["error"],c);const u=T(t,["description"]);u!=null&&E(e,["description"],u);const f=T(t,["baseModel"]);f!=null&&E(e,["baseModel"],f);const h=T(t,["tunedModel"]);h!=null&&E(e,["tunedModel"],SSe(h));const p=T(t,["preTunedModel"]);p!=null&&E(e,["preTunedModel"],p);const v=T(t,["supervisedTuningSpec"]);v!=null&&E(e,["supervisedTuningSpec"],v);const g=T(t,["tuningDataStats"]);g!=null&&E(e,["tuningDataStats"],g);const y=T(t,["encryptionSpec"]);y!=null&&E(e,["encryptionSpec"],y);const b=T(t,["partnerModelTuningSpec"]);b!=null&&E(e,["partnerModelTuningSpec"],b);const _=T(t,["customBaseModel"]);_!=null&&E(e,["customBaseModel"],_);const w=T(t,["experiment"]);w!=null&&E(e,["experiment"],w);const C=T(t,["labels"]);C!=null&&E(e,["labels"],C);const S=T(t,["outputUri"]);S!=null&&E(e,["outputUri"],S);const R=T(t,["pipelineJob"]);R!=null&&E(e,["pipelineJob"],R);const D=T(t,["serviceAccount"]);D!=null&&E(e,["serviceAccount"],D);const N=T(t,["tunedModelDisplayName"]);return N!=null&&E(e,["tunedModelDisplayName"],N),e}function DSe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=T(t,["tuningJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>rN(a))),E(e,["tuningJobs"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ASe extends Zf{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new $v(Pf.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const r={tunedModelName:n.baseModel},i=Object.assign(Object.assign({},n),{preTunedModel:r});return i.baseModel=void 0,await this.tuneInternal(i)}else{const r=Object.assign({},n);return await this.tuneInternal(r)}else{const r=Object.assign({},n),i=await this.tuneMldevInternal(r);let s="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?s=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(s=i.name.split("/operations/")[0]),{name:s,state:KA.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=pSe(e);return o=Rt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>rN(u))}else{const c=aSe(e);return o=Rt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>sK(u))}}async listInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=gSe(e);return o=Rt("tuningJobs",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=DSe(u),h=new fU;return Object.assign(h,f),h})}else{const c=lSe(e);return o=Rt("tunedModels",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=TSe(u),h=new fU;return Object.assign(h,f),h})}}async cancel(e){var n,r,i,s;let a="",o={};if(this.apiClient.isVertexAI()){const l=ySe(e);a=Rt("{name}:cancel",l._url),o=l._query,delete l.config,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=cSe(e);a=Rt("{name}:cancel",l._url),o=l._query,delete l.config,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async tuneInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=bSe(e);return s=Rt("tuningJobs",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>rN(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=hSe(e);return s=Rt("tunedModels",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>ESe(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NSe{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const ISe=1024*1024*8,kSe=3,RSe=1e3,PSe=2,rD="x-goog-upload-status";async function FSe(t,e,n){var r,i,s;let a=0,o=0,l=new XA(new Response),c="upload";for(a=t.size;o<a;){const f=Math.min(ISe,a-o),h=t.slice(o,o+f);o+f>=a&&(c+=", finalize");let p=0,v=RSe;for(;p<kSe&&(l=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(o),"Content-Length":String(f)}}}),!(!((r=l==null?void 0:l.headers)===null||r===void 0)&&r[rD]));)p++,await USe(v),v=v*PSe;if(o+=f,((i=l==null?void 0:l.headers)===null||i===void 0?void 0:i[rD])!=="active")break;if(a<=o)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const u=await(l==null?void 0:l.json());if(((s=l==null?void 0:l.headers)===null||s===void 0?void 0:s[rD])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return u.file}async function MSe(t){return{size:t.size,type:t.type}}function USe(t){return new Promise(e=>setTimeout(e,t))}class OSe{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await FSe(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await MSe(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LSe{create(e,n,r){return new jSe(e,n,r)}}class jSe{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const OU="x-goog-api-key";class BSe{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(OU)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(OU,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const VSe="gl-node/";class LU{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Yve(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new BSe(this.apiKey);this.apiClient=new aCe({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:VSe+"web",uploader:new OSe,downloader:new NSe}),this.models=new SCe(this.apiClient),this.live=new xCe(this.apiClient,i,new LSe),this.batches=new Wxe(this.apiClient),this.chats=new J2e(this.models,this.apiClient),this.caches=new G2e(this.apiClient),this.files=new c_e(this.apiClient),this.operations=new DCe(this.apiClient),this.authTokens=new sSe(this.apiClient),this.tunings=new ASe(this.apiClient)}}if(gr.Quill){const t=gr.Quill.import("attributors/style/size");t.whitelist=["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px"],gr.Quill.register("attributors/style/size",t,!0)}const WSe=t=>t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,""),qSe=()=>{var oe;const{blogPosts:t,addBlogPost:e,updateBlogPost:n,deleteBlogPost:r}=nn(),[i,s]=q.useState([]),[a,o]=q.useState({isOpen:!1,mode:"create",post:null}),[l,c]=q.useState({title:"",content:{},publishedAt:"",tags:[]}),[u,f]=q.useState(!1),[h,p]=q.useState("ar"),[v,g]=q.useState(""),[y,b]=q.useState([]),[_,w]=q.useState(!1),[C,S]=q.useState(!1),[R,D]=q.useState(null),[N,k]=q.useState(""),[F,P]=q.useState(""),[I,U]=q.useState(!1),[O,K]=q.useState(!1),[X,J]=q.useState([]),[ne,z]=q.useState(!1);q.useEffect(()=>{const he=[...t].sort((we,ie)=>{const ce=we.publishedAt?we.publishedAt.toDate():we.createdAt.toDate();return(ie.publishedAt?ie.publishedAt.toDate():ie.createdAt.toDate()).getTime()-ce.getTime()});s(he)},[t]),q.useEffect(()=>{if(a.mode==="create"&&p("ar"),a.isOpen){const he=new Set;t.forEach(we=>{we.content&&we.content[h]&&we.tags&&we.tags.split(",").forEach(ce=>{ce.trim()&&he.add(ce.trim())})}),b(Array.from(he).sort())}},[a.isOpen,a.mode,h,t]);const Q=()=>{const he=new Date().toISOString().split("T")[0];c({title:"",content:{},publishedAt:he,tags:[]}),p("ar"),o({isOpen:!0,mode:"create",post:null})},B=he=>{const we=he.publishedAt?he.publishedAt.toDate().toISOString().split("T")[0]:"";c({title:he.title,content:he.content||{},publishedAt:we,tags:he.tags?he.tags.split(",").map(ce=>ce.trim()).filter(Boolean):[]});const ie=Object.keys(he.content||{});ie.includes("ar")?p("ar"):ie.length>0?p(ie[0]):p("ar"),o({isOpen:!0,mode:"edit",post:he})},j=()=>{o({isOpen:!1,mode:"create",post:null})},W=async he=>{var ie;const we=await Ms("tagTitleLists",he);k(((ie=we==null?void 0:we.titles)==null?void 0:ie.join(`
`))||""),D(he),P(he),S(!0)},G=()=>{S(!1),D(null),k(""),P("")},Y=async()=>{if(R){const he=N.split(`
`).map(we=>we.trim()).filter(Boolean);await mr("tagTitleLists",{tag:R,titles:he}),G()}},ee=async()=>{if(F){U(!0);try{const ie=(await new LU({apiKey:"PLACEHOLDER_API_KEY"}).models.generateContent({model:"gemini-2.5-flash",contents:`Generate a list of 10 to 15 SEO-friendly blog post titles in Arabic about the topic: "${F}". Return only the list of titles, with each title on a new line. Do not include numbers or bullet points.`})).text||"";k(ce=>(ce?ce+`
`:"")+ie.trim())}catch(he){console.error("AI Title Generation Error:",he),alert("  .")}finally{U(!1)}}},ae=async he=>{if(he&&!l.tags.includes(he)){const we=l.title;if(c(ie=>({...ie,tags:[...ie.tags,he]})),!we.trim()){const ie=await Ms("tagTitleLists",he);if(ie&&ie.titles&&ie.titles.length>0){const ce=ie.titles,ge=Math.floor(Math.random()*ce.length),ye=ce[ge];c(Ne=>({...Ne,title:ye}))}}}g("")},de=he=>{c(we=>({...we,tags:we.tags.filter(ie=>ie!==he)}))},fe=he=>{if(he.key==="Enter"||he.key===","){he.preventDefault();const we=v.trim();ae(we)}},Ae=he=>{ae(he)},Re=async()=>{const he=/(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:watch\?v=|embed\/|v\/)|youtu\.be\/)([\w-]{11})(?:\S+)?/,we=l.title.trim().match(he);if(we){f(!0);try{const ye=we[0],Ne=ef.find(it=>it.code===h),Ue=Ne?Ne.name:"Arabic",Se=`Based on the content of this YouTube video: ${ye}, write a detailed and well-formatted blog post in ${Ue}. The blog post should be in HTML format, using tags like <h2>, <h3>, <p>, and <ul>. Also, generate a compelling and SEO-friendly title for the blog post based on the video's content. Return the result as a single JSON object with two keys: "title" (a string for the new blog post title) and "content" (an HTML string for the blog post body).`;c(it=>({...it,content:{...it.content,[h]:""}}));const Xe=(await ac({model:"gemini-2.5-flash",contents:Se,config:{responseMimeType:"application/json"}})).text.replace(/^```json\s*|```\s*$/g,""),rt=JSON.parse(Xe);if(rt.title&&rt.content)c(it=>({...it,title:rt.title,content:{...it.content,[h]:rt.content}}));else throw new Error("AI response did not contain 'title' and 'content' keys.")}catch(ye){console.error("AI content generation from YouTube failed:",ye),alert("     .          .")}finally{f(!1)}return}const ie=l.content[h]||"",ce=l.title.trim()!=="",ge=ie.replace(/<[^>]*>?/gm,"").trim()!=="";if(!ce&&!ge){alert("          .");return}f(!0);try{if(ge){const ye=ef.find(rt=>rt.code===h),Ne=ye?ye.name:h,Ue=`Analyze the following draft text for a blog post.
                1. Generate a compelling and SEO-friendly title in ${Ne}.
                2. Expand the draft into a full, well-formatted blog post in ${Ne}, using HTML tags like <h2>, <h3>, <p>, and <ul>.
                3. Return the result as a single JSON object with two keys: "title" (a string) and "content" (an HTML string).
    
                Draft text: "${ie.replace(/<[^>]*>?/gm," ")}"`,Oe=(await ac({model:"gemini-2.5-flash",contents:Ue,config:{responseMimeType:"application/json"}})).text.replace(/^```json\s*|```\s*$/g,""),Xe=JSON.parse(Oe);c(rt=>({...rt,title:Xe.title,content:{...rt.content,[h]:Xe.content}}))}else{const Ne={ar:`      : "${l.title}".         HTML     (h2)   (h3)  (p)    (ul/li).    .`,en:`Write a detailed article in English about the topic: "${l.title}". The article should be well-formatted using HTML, with main headings (h2), subheadings (h3), paragraphs (p), and possibly bullet points (ul/li). Make the content rich and informative.`,fr:`Rdigez un article dtaill en franais sur le sujet : "${l.title}". L'article doit tre bien format en HTML, avec des titres principaux (h2), des sous-titres (h3), des paragraphes (p), et ventuellement des listes  puces (ul/li). Assurez-vous que le contenu est riche et informatif.`,de:`Schreiben Sie einen detaillierten Artikel auf Deutsch zum Thema: "${l.title}". Der Artikel sollte gut mit HTML formatiert sein, mit Hauptberschriften (h2), Unterberschriften (h3), Abstzen (p) und mglicherweise Aufzhlungspunkten (ul/li). Machen Sie den Inhalt reichhaltig und informativ.`,es:`Escribe un artculo detallado en espaol sobre el tema: "${l.title}". El artculo debe estar bien formateado usando HTML, con encabezados principales (h2), subttulos (h3), prrafos (p) y posiblemente listas con vietas (ul/li). Haz que el contenido sea rico e informativo.`,tr:`"${l.title}" konusunda Trke detayl bir makale yazn. Makale, ana balklar (h2), alt balklar (h3), paragraflar (p) ve muhtemelen madde iaretli listeler (ul/li) kullanlarak HTML ile iyi bir ekilde biimlendirilmelidir. erii zengin ve bilgilendirici yapn.`,ja:`${l.title}h2h3pul/liHTML`}[h]||`Write a detailed article about: "${l.title}". Format it with HTML (h2, p, ul).`;c(Me=>({...Me,content:{...Me.content,[h]:""}}));const Se=(await ac({model:"gemini-2.5-flash",contents:Ne})).text||"";c(Me=>({...Me,content:{...Me.content,[h]:Se}}))}}catch(ye){console.error("AI content generation failed:",ye),alert("  .       JSON  .        .")}finally{f(!1)}},me=async()=>{var ce;const he=(ce=l.content[h])==null?void 0:ce.replace(/<[^>]*>?/gm," ").trim(),we=l.tags.join(", "),ie=he||we;if(!ie){alert("       .");return}K(!0),z(!0),J([]);try{const Ne=(await new LU({apiKey:"PLACEHOLDER_API_KEY"}).models.generateContent({model:"gemini-2.5-flash",contents:`Generate 5 to 10 SEO-friendly blog post titles based on the following topic/content: "${ie}". Return the result as a JSON array of strings. Example: ["Title 1", "Title 2"]`,config:{responseMimeType:"application/json"}})).text.replace(/^```json\s*|```\s*$/g,""),Ue=JSON.parse(Ne);J(Ue)}catch(ge){console.error("AI Title Suggestion Error:",ge),alert("  ."),K(!1)}finally{z(!1)}},Le=he=>{c(we=>({...we,title:he})),K(!1)},V=async he=>{he.preventDefault();const we=l.publishedAt?new Date(l.publishedAt):null,ie=WSe(l.title),{content:ce,...ge}=l,ye=Object.fromEntries(Object.entries(ce).filter(([,Ue])=>Ue&&String(Ue).replace(/<[^>]*>?/gm,"").trim()!==""));if(Object.keys(ye).length===0){alert("          .");return}const Ne=l.tags.join(",");if(a.mode==="create"){const Ue={...ge,tags:Ne,content:ye,publishedAt:we?Vr.firestore.Timestamp.fromDate(we):void 0,slug:ie,author:"Admin",createdAt:Vr.firestore.Timestamp.now(),enabled:!1},Se=await _p.create(Ue);e(Se)}else if(a.post){const Ue={...ge,tags:Ne,content:ye,publishedAt:we?Vr.firestore.Timestamp.fromDate(we):void 0,slug:ie};await _p.update(a.post.id,Ue),n(a.post.id,{...a.post,...Ue})}j()},xe=async he=>{const we=i.find(ie=>ie.id===he);we&&(await _p.toggleStatus(he,we.enabled),n(he,{enabled:!we.enabled}))},Te=async he=>{window.confirm("        ")&&(await _p.delete(he),r(he))},le=he=>{const we=Object.keys(he.content||{});return we.includes("ar")?`/blog/${he.slug}`:we.length>0?`/blog/${we[0]}/${he.slug}`:`/blog/${he.slug}`},re={toolbar:[[{size:["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px",!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"},{align:[]}],["link","image","video"],["clean"]]};return d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:" "}),d.jsx("button",{onClick:Q,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"+   "})]}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:i.map(he=>{const we=he.publishedAt?he.publishedAt.toDate():he.createdAt.toDate();return d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:he.title}),d.jsx("td",{className:"p-3 text-gray-600",children:we.toLocaleDateString("ar-DZ")}),d.jsx("td",{className:"p-3",children:d.jsx("button",{onClick:()=>xe(he.id),className:`px-3 py-1 text-xs font-semibold rounded-full ${he.enabled?"text-green-800 bg-green-200":"text-gray-800 bg-gray-200"}`,children:he.enabled?"":""})}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse",children:[d.jsx(en,{to:le(he),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>B(he),className:"text-green-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>Te(he.id),className:"text-red-600 hover:underline text-sm font-semibold",children:""})]})]},he.id)})})]})})}),a.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl",children:d.jsxs("form",{onSubmit:V,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:a.mode==="create"?"  ":" "})}),d.jsxs("div",{className:"p-6 space-y-6 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"  ( )"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",id:"title",value:l.title,onChange:he=>c(we=>({...we,title:he.target.value})),required:!0,className:"block w-full px-3 py-2 pr-10 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"}),d.jsx("button",{type:"button",onClick:me,className:"absolute top-1/2 right-2 -translate-y-1/2 p-2 text-purple-600 hover:bg-purple-100 rounded-full",title:"   ",children:d.jsx(na,{})})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"publishedAt",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"date",id:"publishedAt",value:l.publishedAt,onChange:he=>c(we=>({...we,publishedAt:he.target.value})),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"    ."})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700 mb-1",children:" (Tags)"}),d.jsxs("div",{className:"flex flex-wrap items-center gap-2 p-2 border rounded-md bg-gray-50",children:[l.tags.map(he=>d.jsxs("div",{className:"flex items-center gap-1 bg-green-100 text-green-800 rounded-full px-3 py-1 text-sm",children:[d.jsx("span",{children:he}),d.jsx("button",{type:"button",onClick:()=>W(he),className:"text-green-600 hover:text-green-800",title:`    "${he}"`,children:d.jsx(Xme,{size:12})}),d.jsx("button",{type:"button",onClick:()=>de(he),className:"text-green-600 hover:text-green-800 font-bold",children:""})]},he)),d.jsxs("div",{className:"relative flex-grow",children:[d.jsx("input",{type:"text",value:v,onChange:he=>g(he.target.value),onKeyDown:fe,onFocus:()=>w(!0),onBlur:()=>setTimeout(()=>w(!1),150),placeholder:" ...",className:"bg-transparent focus:outline-none p-1 min-w-[120px]"}),_&&y.length>0&&d.jsx("div",{className:"absolute top-full left-0 mt-1 w-full bg-white border rounded-md shadow-lg z-10 max-h-40 overflow-y-auto",children:y.filter(he=>!l.tags.includes(he)&&he.toLowerCase().includes(v.toLowerCase())).map(he=>d.jsx("div",{onMouseDown:()=>Ae(he),className:"px-3 py-2 cursor-pointer hover:bg-gray-100",children:he},he))})]})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" Enter   (,)  ."})]}),d.jsxs("div",{className:"space-y-4 border-t pt-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("select",{value:h,onChange:he=>p(he.target.value),className:"block w-full max-w-xs px-3 py-2 bg-white border border-gray-300 rounded-md",children:ef.map(he=>d.jsx("option",{value:he.code,children:he.name},he.code))})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" (",((oe=ef.find(he=>he.code===h))==null?void 0:oe.name)||h,")"]}),d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx("div",{className:"flex-grow",children:d.jsx(gr,{theme:"snow",value:l.content[h]||"",onChange:he=>{c(we=>({...we,content:{...we.content,[h]:he}}))},modules:re})}),d.jsx("button",{type:"button",onClick:Re,disabled:u,className:"p-2 bg-purple-100 text-purple-700 rounded-md hover:bg-purple-200",title:"     ",children:u?d.jsx(Ct,{className:"animate-spin"}):d.jsx(na,{})})]})]})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:j,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:""})]})]})})}),C&&R&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[60] flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",children:[d.jsxs("div",{className:"p-6 border-b",children:[d.jsxs("h2",{className:"text-xl font-bold",children:['  : "',R,'"']}),d.jsx("p",{className:"text-sm text-gray-500",children:"          ."})]}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[60vh] overflow-y-auto",children:[d.jsxs("div",{className:"p-4 border rounded-md bg-gray-50 space-y-2",children:[d.jsx("label",{htmlFor:"title-gen-prompt",className:"font-semibold text-sm",children:"   "}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",id:"title-gen-prompt",value:F,onChange:he=>P(he.target.value),placeholder:" ...",className:"flex-grow px-3 py-2 border rounded-md"}),d.jsxs("button",{type:"button",onClick:ee,disabled:I,className:"bg-purple-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-purple-700 flex items-center gap-2",children:[I?d.jsx(Ct,{className:"animate-spin"}):d.jsx(na,{}),d.jsx("span",{children:""})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"titles-textarea",className:"font-semibold text-sm",children:"  (   )"}),d.jsx("textarea",{id:"titles-textarea",value:N,onChange:he=>k(he.target.value),rows:10,className:"w-full mt-1 p-2 border rounded-md"})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-between",children:[d.jsx("button",{type:"button",onClick:G,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"button",onClick:Y,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700",children:" "})]})]})}),O&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[60] flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg",children:[d.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[d.jsx("h2",{className:"text-xl font-bold",children:" "}),d.jsx("button",{onClick:()=>K(!1),className:"text-gray-400 hover:text-gray-600",children:""})]}),d.jsx("div",{className:"p-6 min-h-[200px] max-h-[60vh] overflow-y-auto",children:ne?d.jsx("div",{className:"flex justify-center items-center h-full",children:d.jsx(Ct,{className:"animate-spin text-2xl text-purple-600"})}):d.jsx("ul",{className:"space-y-2",children:X.map((he,we)=>d.jsx("li",{children:d.jsx("button",{onClick:()=>Le(he),className:"w-full text-right p-3 bg-gray-50 rounded-md hover:bg-green-100 border border-transparent hover:border-green-300",children:he})},we))})})]})})]})};var T2={exports:{}},$Se=T2.exports,jU;function zSe(){return jU||(jU=1,(function(t,e){(function(n,r){r()})($Se,function(){function n(c,u){return typeof u>"u"?u={autoBom:!1}:typeof u!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function r(c,u,f){var h=new XMLHttpRequest;h.open("GET",c),h.responseType="blob",h.onload=function(){l(h.response,u,f)},h.onerror=function(){console.error("could not download file")},h.send()}function i(c){var u=new XMLHttpRequest;u.open("HEAD",c,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function s(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(u)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof hs=="object"&&hs.global===hs?hs:void 0,o=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(c,u,f){var h=a.URL||a.webkitURL,p=document.createElement("a");u=u||c.name||"download",p.download=u,p.rel="noopener",typeof c=="string"?(p.href=c,p.origin===location.origin?s(p):i(p.href)?r(c,u,f):s(p,p.target="_blank")):(p.href=h.createObjectURL(c),setTimeout(function(){h.revokeObjectURL(p.href)},4e4),setTimeout(function(){s(p)},0))}:"msSaveOrOpenBlob"in navigator?function(c,u,f){if(u=u||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(n(c,f),u);else if(i(c))r(c,u,f);else{var h=document.createElement("a");h.href=c,h.target="_blank",setTimeout(function(){s(h)})}}:function(c,u,f,h){if(h=h||open("","_blank"),h&&(h.document.title=h.document.body.innerText="downloading..."),typeof c=="string")return r(c,u,f);var p=c.type==="application/octet-stream",v=/constructor/i.test(a.HTMLElement)||a.safari,g=/CriOS\/[\d]+/.test(navigator.userAgent);if((g||p&&v||o)&&typeof FileReader<"u"){var y=new FileReader;y.onloadend=function(){var w=y.result;w=g?w:w.replace(/^data:[^;]*;/,"data:attachment/file;"),h?h.location.href=w:location=w,h=null},y.readAsDataURL(c)}else{var b=a.URL||a.webkitURL,_=b.createObjectURL(c);h?h.location=_:location.href=_,h=null,setTimeout(function(){b.revokeObjectURL(_)},4e4)}});a.saveAs=l.saveAs=l,t.exports=l})})(T2)),T2.exports}var Qh=zSe();const HSe=[{dataType:"cafes",countryCode:"dz",fileName:"dz-cafes-public.json",label:"   (dz)"},{dataType:"services",countryCode:"dz",fileName:"dz-all-services-public.json",label:"   (dz)"},{dataType:"blog",countryCode:"global",fileName:"blog-posts-public.json",label:"  ()"},{dataType:"pages",countryCode:"dz",fileName:"dz-pages-public.json",label:"   (dz)"},{dataType:"settings",countryCode:"global",fileName:"site-settings-public.json",label:"  "},{dataType:"ads",countryCode:"global",fileName:"ads-public.json",label:"  "},{dataType:"documents",countryCode:"global",fileName:"documents.json",label:"  (documents.json)"}],Zh=t=>t.replace(/<!--[\s\S]*?-->/g,"").replace(/>\s+</g,"><").replace(/\n/g,"").replace(/\s{2,}/g," "),zn=t=>t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):"",BU=t=>t?t.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r"):"",E2=t=>t?`
          <a href="${t.link}" target="_blank" rel="noopener noreferrer" class="block rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow duration-300 group my-6 no-underline">
                <div class="relative">
                  <img src="${t.imageUrl}" alt="${t.title}" class="w-full h-auto object-cover" />
                  <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent p-4 flex flex-col justify-end">
                    <h3 class="text-lg font-bold text-white group-hover:underline">${t.title}</h3>
                    <p class="text-sm text-white/90">${t.content}</p>
                  </div>
                </div>
            </a>
    `:"",e0={linkedin:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg>',pinterest:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0c-6.627 0-12 5.372-12 12 0 5.084 3.163 9.426 7.627 11.174-.105-.949-.2-2.405.042-3.441.218-.937 1.407-5.965 1.407-5.965s-.359-.719-.359-1.782c0-1.668.967-2.914 2.171-2.914 1.023 0 1.518.769 1.518 1.69 0 1.029-.655 2.568-.994 3.995-.283 1.194.599 2.169 1.777 2.169 2.133 0 3.772-2.249 3.772-5.495 0-2.873-2.064-4.882-5.012-4.882-3.414 0-5.418 2.561-5.418 5.207 0 1.031.397 2.138.893 2.738.098.119.117.223.084.345l-.333 1.36c-.053.22-.174.267-.402.161-1.499-.698-2.436-2.889-2.436-4.649 0-3.785 2.75-7.262 7.929-7.262 4.163 0 7.398 2.967 7.398 6.931 0 4.136-2.607 7.464-6.227 7.464-1.216 0-2.359-.631-2.75-1.378l-.748 2.853c-.271 1.043-1.002 2.35-1.492 3.146 1.124.343 2.318.535 3.554.535 6.627 0 12-5.373 12-12 0-6.628-5.373-12-12-12z"/></svg>',reddit:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M24 11.779c0-1.459-1.192-2.645-2.657-2.645-.717 0-1.365.286-1.84.746-1.81-1.191-4.259-1.982-6.971-2.146l1.463-4.64-4.98-1.655-1.463 4.64c-2.83.208-5.353 1.073-7.163 2.294-.475-.46-.b23-.746-1.84-.746-1.465 0-2.657 1.186-2.657 2.645 0 .972.533 1.811 1.317 2.271-.052.282-.084.569-.084.867 0 3.911 4.808 7.083 10.741 7.083s10.741-3.172 10.741-7.083c0-.298-.032-.585-.084-.867.784-.46 1.317-1.3 1.317-2.271zm-15.424 1.221c-.759.759-1.992.759-2.751 0-.759-.759-.759-1.991 0-2.751.759-.759 1.992-.759 2.751 0 .759.759.759 1.992 0 2.751zm9.113 0c-.759.759-1.992.759-2.751 0-.759-.759-.759-1.991 0-2.751.759-.759 1.992-.759 2.751 0 .759.759.759 1.992 0 2.751zm-4.129 4.06c-1.749 0-3.303-.732-4.437-1.916.347.086.703.131 1.066.131 3.237 0 5.862-2.625 5.862-5.862 0-.354-.031-.699-.091-1.035 1.568.12 2.949.7 4.095 1.654-1.321 2.04-3.733 3.447-6.5 4.028z"/></svg>',facebook:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"/></svg>',clipboard:'<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1h-12c-1.1 0-2 .9-2 2v14h2v-14h12v-2zm3 4h-11c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2v-14c0-1.1-.9-2-2-2zm0 16h-11v-14h11v14z"/></svg>'},aK=(t,e,n)=>{const r=encodeURIComponent(t),i=encodeURIComponent(e),s=(n||"").replace(/<[^>]*>/g,"").substring(0,155);return`
        <div class="mt-auto pt-3 border-t flex items-center gap-3">
            <span class="text-xs text-gray-500 font-semibold">:</span>
            <a href="https://www.linkedin.com/shareArticle?mini=true&url=${r}&title=${i}" target="_blank" rel="noopener noreferrer" class="transition-transform hover:scale-125 text-blue-700">${e0.linkedin}</a>
            <a href="https://pinterest.com/pin/create/button/?url=${r}&description=${i}" target="_blank" rel="noopener noreferrer" class="transition-transform hover:scale-125 text-red-600">${e0.pinterest}</a>
            <a href="https://www.reddit.com/submit?url=${r}&title=${i}" target="_blank" rel="noopener noreferrer" class="transition-transform hover:scale-125 text-orange-500">${e0.reddit}</a>
            <a href="https://www.facebook.com/sharer/sharer.php?u=${r}&quote=${i}" target="_blank" rel="noopener noreferrer" class="transition-transform hover:scale-125 text-blue-600">${e0.facebook}</a>
            <button class="copy-details-btn transition-transform hover:scale-125 text-gray-500 hover:text-gray-700" title=" " data-title="${zn(e)}" data-snippet="${zn(s)}" data-url="${zn(t)}">${e0.clipboard}</button>
        </div>
    `},GSe=(t,e,n)=>{const r=encodeURIComponent(t),i=encodeURIComponent(e),s=BU(e),a=BU(n.replace(/<[^>]*>/g,"").substring(0,155)),o={linkedin:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg>',pinterest:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0c-6.627 0-12 5.372-12 12 0 5.084 3.163 9.426 7.627 11.174-.105-.949-.2-2.405.042-3.441.218-.937 1.407-5.965 1.407-5.965s-.359-.719-.359-1.782c0-1.668.967-2.914 2.171-2.914 1.023 0 1.518.769 1.518 1.69 0 1.029-.655 2.568-.994 3.995-.283 1.194.599 2.169 1.777 2.169 2.133 0 3.772-2.249 3.772-5.495 0-2.873-2.064-4.882-5.012-4.882-3.414 0-5.418 2.561-5.418 5.207 0 1.031.397 2.138.893 2.738.098.119.117.223.084.345l-.333 1.36c-.053.22-.174.267-.402.161-1.499-.698-2.436-2.889-2.436-4.649 0-3.785 2.75-7.262 7.929-7.262 4.163 0 7.398 2.967 7.398 6.931 0 4.136-2.607 7.464-6.227 7.464-1.216 0-2.359-.631-2.75-1.378l-.748 2.853c-.271 1.043-1.002 2.35-1.492 3.146 1.124.343 2.318.535 3.554.535 6.627 0 12-5.373 12-12 0-6.628-5.373-12-12-12z"/></svg>',reddit:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M24 11.779c0-1.459-1.192-2.645-2.657-2.645-.717 0-1.365.286-1.84.746-1.81-1.191-4.259-1.982-6.971-2.146l1.463-4.64-4.98-1.655-1.463 4.64c-2.83.208-5.353 1.073-7.163 2.294-.475-.46-.b23-.746-1.84-.746-1.465 0-2.657 1.186-2.657 2.645 0 .972.533 1.811 1.317 2.271-.052.282-.084.569-.084.867 0 3.911 4.808 7.083 10.741 7.083s10.741-3.172 10.741-7.083c0-.298-.032-.585-.084-.867.784-.46 1.317-1.3 1.317-2.271zm-15.424 1.221c-.759.759-1.992.759-2.751 0-.759-.759-.759-1.991 0-2.751.759-.759 1.992-.759 2.751 0 .759.759.759 1.992 0 2.751zm9.113 0c-.759.759-1.992.759-2.751 0-.759-.759-.759-1.991 0-2.751.759-.759 1.992-.759 2.751 0 .759.759.759 1.992 0 2.751zm-4.129 4.06c-1.749 0-3.303-.732-4.437-1.916.347.086.703.131 1.066.131 3.237 0 5.862-2.625 5.862-5.862 0-.354-.031-.699-.091-1.035 1.568.12 2.949.7 4.095 1.654-1.321 2.04-3.733 3.447-6.5 4.028z"/></svg>',facebook:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"/></svg>',clipboard:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1h-12c-1.1 0-2 .9-2 2v14h2v-14h12v-2zm3 4h-11c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2v-14c0-1.1-.9-2-2-2zm0 16h-11v-14h11v14z"/></svg>'};return`
        <div class="fixed bottom-6 left-6 z-40 flex flex-col items-center gap-3">
            <a href="https://www.linkedin.com/shareArticle?mini=true&url=${r}&title=${i}" target="_blank" rel="noopener noreferrer" class="w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-transform hover:scale-110 bg-blue-700">${o.linkedin}</a>
            <a href="https://pinterest.com/pin/create/button/?url=${r}&description=${i}" target="_blank" rel="noopener noreferrer" class="w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-transform hover:scale-110 bg-red-600">${o.pinterest}</a>
            <a href="https://www.reddit.com/submit?url=${r}&title=${i}" target="_blank" rel="noopener noreferrer" class="w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-transform hover:scale-110 bg-orange-500">${o.reddit}</a>
            <a href="https://www.facebook.com/sharer/sharer.php?u=${r}&quote=${i}" target="_blank" rel="noopener noreferrer" class="w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-transform hover:scale-110 bg-blue-600">${o.facebook}</a>
            <button class="copy-details-btn w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-all hover:scale-110 bg-gray-600" data-title="${zn(s)}" data-snippet="${zn(a)}" data-url="${zn(t)}">${o.clipboard}</button>
        </div>
    `},KSe=`
<script>
document.addEventListener('DOMContentLoaded', function() {
    const copyButtons = document.querySelectorAll('.copy-details-btn');
    
    if (copyButtons.length > 0) {
        const handleCopyFallback = (text, btn) => {
            navigator.clipboard.writeText(text).then(() => {
                const originalContent = btn.innerHTML;
                btn.innerHTML = '<span class="text-xs"> !</span>';
                setTimeout(() => {
                    btn.innerHTML = \`<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1h-12c-1.1 0-2 .9-2 2v14h2v-14h12v-2zm3 4h-11c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2v-14c0-1.1-.9-2-2-2zm0 16h-11v-14h11v14z"/></svg>\`;
                }, 2000);
            });
        };

        copyButtons.forEach(btn => {
            btn.addEventListener('click', function(e) {
                e.preventDefault();
                e.stopPropagation();
                const button = this;
                const title = button.dataset.title || '';
                const snippet = button.dataset.snippet || '';
                const url = button.dataset.url || '';
                
                const textPlain = \`\${title}\\n\\n\${snippet}\\n\\n\${url}\`;
                const textHtml = \`
                    <p style="font-weight: bold; font-family: sans-serif; font-size: 16px;">\${title}</p>
                    <div style="font-family: sans-serif; font-size: 14px;"><p>\${snippet}</p></div>
                    <a href="\${url}">\${url}</a>
                \`;

                try {
                    if (typeof ClipboardItem === 'undefined') {
                        handleCopyFallback(textPlain, button);
                        return;
                    }
                    const blobHtml = new Blob([textHtml], { type: 'text/html' });
                    const blobPlain = new Blob([textPlain], { type: 'text/plain' });
                    
                    navigator.clipboard.write([
                        new ClipboardItem({
                            'text/html': blobHtml,
                            'text/plain': blobPlain,
                        })
                    ]).then(() => {
                        const originalContent = button.innerHTML;
                        button.innerHTML = '<span class="text-xs"> !</span>';
                        setTimeout(() => {
                            button.innerHTML = \`<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1h-12c-1.1 0-2 .9-2 2v14h2v-14h12v-2zm3 4h-11c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2v-14c0-1.1-.9-2-2-2zm0 16h-11v-14h11v14z"/></svg>\`;
                        }, 2000);
                    }, (err) => {
                        console.error('Async clipboard write failed, falling back to plain text: ', err);
                        handleCopyFallback(textPlain, button);
                    });
                } catch (error) {
                    console.error('Failed to use Clipboard API, falling back to writeText: ', error);
                    handleCopyFallback(textPlain, button);
                }
            });
        });
    }
});
<\/script>
`,XSe=(t,e)=>{const n=t==="global"?"/":`/${t}/`,r=t==="global"?"/dz/login/":`/${t}/login/`;return`
        <header class="bg-white shadow-md sticky top-0 z-50">
            <div class="container mx-auto px-4 py-4 flex justify-between items-center">
                <a href="${n}" class="flex items-center gap-3"><svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-green-600" viewBox="0 0 24 24" fill="currentColor"><path d="M14 2H6C4.9 2 4 2.9 4 4V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V8L14 2ZM18 20H6V4H13V9H18V20Z"/></svg><span class="text-2xl font-bold text-gray-900" dir="ltr">Gitut</span></a>
                <nav class="flex items-center gap-6"><a href="${n}" class="text-gray-700 hover:text-green-600 font-semibold">${e("header.search")}</a><a href="${r}" class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700">${e("header.login")}</a></nav>
            </div>
        </header>
    `},JSe=(t,e,n,r,i,s)=>{var h,p;const a=t==="global"?"dz":t,o=((h=s==null?void 0:s.seo)==null?void 0:h[a])||((p=s==null?void 0:s.seo)==null?void 0:p.default),c=r.filter(v=>v.enabled&&(v.lang===e||!v.lang&&e==="ar")).map(v=>`<a href="../page/${v.slug}/" class="hover:text-green-600 hover:underline">${zn(v.title)}</a>`).join("");return`
        <footer class="bg-white border-t mt-auto">
          <div class="container mx-auto px-4 py-8 flex flex-col items-center gap-4">
            <nav class="flex flex-wrap justify-center gap-x-6 gap-y-2 text-gray-600">${i.some(v=>v.enabled&&v.content&&v.content[e])?`<a href="/blog/" class="hover:text-green-600 hover:underline">${n("footer.blog")}</a>`:""}<a href="../services/" class="hover:text-green-600 hover:underline">${n("footer.services")}</a>${c}</nav>
            <p class="text-center text-gray-500 text-sm">&copy; ${new Date().getFullYear()} ${zn((o==null?void 0:o.siteName)||"Gitut")}. ${n("footer.rightsReserved")}</p>
          </div>
        </footer>
    `},Qm=({title:t,description:e,mainContent:n,countryCode:r,lang:i,siteSettings:s,pages:a,allBlogPosts:o,socialShare:l,imageUrl:c,scripts:u=""})=>{var C,S;const f=i==="ar"?"rtl":"ltr",h=$m(i),p=XSe(r,h),v=JSe(r,i,h,a,o,s),g=`
        <div class="flex flex-col min-h-screen">
            ${p}
            ${n}
            ${v}
        </div>
    `,y=((C=s==null?void 0:s.seo)==null?void 0:C[r])||((S=s==null?void 0:s.seo)==null?void 0:S.default),b=c||"https://file.gitut.com/data/image/icon.png",_=`<script async src="https://www.googletagmanager.com/gtag/js?id=G-2BKKWGCXWX"><\/script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('config','G-2BKKWGCXWX');<\/script>`,w=l?GSe(l.url,l.title,l.description):"";return`<!DOCTYPE html>
        <html lang="${i}" dir="${f}">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <link rel="icon" type="image/png" href="https://file.gitut.com/data/image/icon.png">
            <title>${zn(t)}</title>
            <meta name="description" content="${zn(e)}">
            
            <!-- Open Graph / Facebook -->
            <meta property="og:type" content="website">
            <meta property="og:url" content="${(l==null?void 0:l.url)||""}">
            <meta property="og:title" content="${zn(t)}">
            <meta property="og:description" content="${zn(e)}">
            <meta property="og:image" content="${b}">
            <meta property="og:image:secure_url" content="${b}">
            <meta property="og:image:width" content="640">
            <meta property="og:image:height" content="640">
            <meta property="og:site_name" content="${zn((y==null?void 0:y.siteName)||"Gitut")}">

            <!-- Twitter -->
            <meta name="twitter:card" content="summary_large_image">
            <meta name="twitter:url" content="${(l==null?void 0:l.url)||""}">
            <meta name="twitter:title" content="${zn(t)}">
            <meta name="twitter:description" content="${zn(e)}">
            <meta name="twitter:image" content="${b}">

            <link rel="preconnect" href="https://cdn.tailwindcss.com" crossorigin>
            <link rel="preconnect" href="https://fonts.googleapis.com">
            <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
            <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
            <script src="https://cdn.tailwindcss.com/3.4.1?plugins=typography"><\/script>
            <style>body { font-family: 'Cairo', sans-serif; } .prose a { color: #16a34a; } .prose a:hover { color: #15803d; } .compact-prose p { margin-top: 0; margin-bottom: 0.25em; }</style>
            ${_}
        </head>
        <body class="bg-gray-100 text-gray-900">
            <div id="root">${g}</div>
            ${w}
            ${KSe}
            ${u}
            <script src="/index.js" type="module"><\/script>
        </body>
        </html>`},VU=(t,e,n,r,i,s)=>{var f,h;const a=rd(e),o=$m(a),l=t.filter(p=>p.serviceType==="doc"&&p.slug);t.filter(p=>p.serviceType==="static-doc"&&p.slug),t.filter(p=>p.serviceType==="site"&&p.slug);let c='<main class="flex-grow container mx-auto px-4 py-8"><div class="max-w-4xl mx-auto">';return c+=`<h1 class="text-4xl font-bold text-gray-800 mb-8 text-center">${zn(o("footer.services"))}</h1>`,c+='<div class="space-y-10">',c+=((p,v,g,y)=>{if(g.length===0)return"";let b=`<section class="bg-white rounded-lg shadow-lg p-6 mb-8">
            <h2 class="text-2xl font-bold text-gray-700 mb-4 border-b pb-2 flex items-center gap-3">${v}<span>${p}</span></h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">`;return g.forEach(_=>{const w=`../${y}/${_.slug}/`,C="description"in _&&_.description?_.description:"";b+=`<div class="p-4 border rounded-lg bg-white flex flex-col shadow-sm transition-shadow hover:shadow-lg">
                <div class="flex-grow">
                    <a href="${w}" class="no-underline">
                        <h3 class="font-semibold text-lg text-gray-800 hover:text-green-600">${zn(_.name)}</h3>
                        <div class="text-sm text-gray-600 mt-1 prose prose-sm max-w-none line-clamp-2">${C}</div>
                    </a>
                </div>
                ${aK(`https://gitut.com/${e}/${y}/${_.slug}/`,_.name,C)}
            </div>`}),b+="</div></section>",b})("  ",'<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-green-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>',l,"doc"),c+="</div></div></main>",Qm({title:`${o("footer.services")} | ${((h=(f=n==null?void 0:n.seo)==null?void 0:f[e])==null?void 0:h.siteName)||"Gitut"}`,description:`        Gitut  ${e}.`,mainContent:c,countryCode:e,lang:a,siteSettings:n,pages:r,allBlogPosts:i})},WU=(t,e,n,r,i)=>{var f,h;const s=rd(e),a=$m(s),o=r.filter(p=>p.enabled&&p.id!==t.id&&(p.lang===s||!p.lang&&s==="ar"));let l="";o.length>0&&(l=`<aside class="md:col-span-1 space-y-6">
            <div class="bg-white p-4 rounded-lg shadow-lg border sticky top-24">
                <h3 class="font-bold text-lg mb-3 text-gray-800 border-b pb-2">${zn(a("relatedPages.title"))}</h3>
                <div class="space-y-3">
                    ${o.map(p=>`<a href="../page/${p.slug}/" class="block p-3 bg-gray-50 rounded-md border hover:border-green-400 hover:bg-green-50 transition-all"><p class="font-semibold text-gray-900">${zn(p.title)}</p></a>`).join("")}
                </div>
            </div>
        </aside>`);const c=`<main class="flex-grow container mx-auto px-4 py-8">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
            <article class="md:col-span-3 bg-white rounded-lg shadow-xl p-6 md:p-10">
                <header class="mb-8 border-b pb-6"><h1 class="text-4xl md:text-5xl font-bold text-gray-900 leading-tight">${zn(t.title)}</h1></header>
                <div class="prose prose-lg max-w-none text-gray-800 leading-relaxed">${t.content}</div>
            </article>
            ${l}
        </div>
    </main>`,u=`https://gitut.com/${e}/page/${t.slug}/`;return Qm({title:`${t.title} | ${((h=(f=n==null?void 0:n.seo)==null?void 0:f[e])==null?void 0:h.siteName)||"Gitut"}`,description:t.content.replace(/<[^>]*>/g,"").substring(0,160),mainContent:c,countryCode:e,lang:s,siteSettings:n,pages:r,allBlogPosts:i,socialShare:{url:u,title:t.title,description:t.content}})},qU=(t,e,n,r,i,s)=>{var p,v;const a=t.countryCode||"dz",o=rd(a),l=$m(o),c=e.filter(g=>g.id!==t.id&&g.tags===t.tags).slice(0,5);let u="";c.length>0&&(u=`<aside class="md:col-span-1 space-y-6">
            <div class="bg-white p-4 rounded-lg shadow-lg border sticky top-24">
                <h3 class="font-bold text-lg mb-3 text-gray-800">${l("relatedServices.title")}</h3>
                <div class="space-y-3">
                    ${c.map(g=>`<a href="../doc/${g.slug}/" class="w-full text-right block p-3 bg-gray-50 rounded-md border hover:border-green-400 hover:bg-green-50 transition-all">
                        <p class="font-semibold text-gray-900">${zn(g.name)}</p>
                        <div class="mt-1 prose prose-sm max-w-none line-clamp-2 compact-prose">${"description"in g&&g.description?g.description:""}</div>
                    </a>`).join("")}
                </div>
            </div>
            <div class="sticky top-24">${E2(s.find(g=>g.placement==="SITE_DETAIL_SIDEBAR"))}</div>
        </aside>`);const f=`<main class="flex-grow container mx-auto px-4 py-8">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
            <div class="md:col-span-3 bg-white rounded-lg shadow-xl p-6 md:p-8 flex flex-col">
                <div class="flex-grow">
                    <header class="mb-6 border-b pb-4"><h1 class="text-4xl font-bold text-gray-900">${zn(t.name)}</h1></header>
                    <div class="prose prose-lg max-w-none text-gray-800">${"description"in t&&t.description?t.description:""}</div>
                    <div class="my-6">${E2(s.find(g=>g.placement==="SERVICE_DETAIL_MAIN_TOP"))}</div>
                </div>
                <div class="mt-8 pt-6 border-t">
                     <div class="mb-6">${E2(s.find(g=>g.placement==="SERVICE_DETAIL_MAIN_BOTTOM"))}</div>
                    <div class="flex flex-col sm:flex-row gap-4">
                        <a href="/view/${t.id}/" class="bg-red-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-red-700"></a>
                        <a href="/go-to-site/internal-form/?redirect=%2Fpublic-form%2F${t.id}%2F&name=${encodeURIComponent(` : ${t.name}`)}" class="bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700">/</a>
                    </div>
                </div>
            </div>
            ${u}
        </div>
    </main>`,h=`https://gitut.com/${a}/doc/${t.slug}/`;return Qm({title:`${t.name} | ${((v=(p=n==null?void 0:n.seo)==null?void 0:p[a])==null?void 0:v.siteName)||"Gitut"}`,description:"description"in t&&t.description?t.description.replace(/<[^>]*>/g,"").substring(0,160):"",mainContent:f,countryCode:a,lang:o,siteSettings:n,pages:r,allBlogPosts:i,socialShare:{url:h,title:t.name,description:"description"in t&&t.description?t.description:""}})},$U=(t,e,n,r,i)=>{var l,c;const s=Object.keys(ks).find(u=>ks[u].some(f=>rd(f.code)===n))||"dz",a=$m(n),o=`<main class="flex-grow container mx-auto px-4 py-8">
        <div class="max-w-5xl mx-auto">
            <section class="text-center py-10 bg-white rounded-lg shadow-lg mb-8">
                <h1 class="text-4xl font-bold text-gray-800 mb-2">${zn(a("footer.blog"))}</h1>
                <p class="text-lg text-gray-600 max-w-2xl mx-auto">           .</p>
            </section>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            ${t.map(u=>{const f=`./${u.slug}/`,h=(u.publishedAt||u.createdAt).toDate().toLocaleDateString("ar-DZ"),p=(u.content[n]||"").replace(/<[^>]*>/g,"").substring(0,100)+"...";return`<article class="bg-white rounded-lg shadow-md overflow-hidden transition-shadow hover:shadow-xl flex flex-col group">
                    <div class="p-6 flex flex-col flex-grow">
                        <p class="text-sm text-gray-500 mb-2">${h}</p>
                        <h3 class="text-2xl font-bold text-gray-800 mb-3 group-hover:text-green-600"><a href="${f}">${zn(u.title)}</a></h3>
                        <p class="text-gray-600 mb-4 flex-grow">${zn(p)}</p>
                        <a href="${f}" class="font-semibold text-green-600 hover:underline mb-4">  &rarr;</a>
                        ${aK(`https://gitut.com/blog/${n==="ar"?"":n+"/"}${u.slug}/`,u.title,p)}
                    </div>
                </article>`}).join("")}
            </div>
        </div>
    </main>`;return Qm({title:`${a("footer.blog")} | ${((c=(l=e==null?void 0:e.seo)==null?void 0:l[s])==null?void 0:c.siteName)||"Gitut"}`,description:"           .",mainContent:o,countryCode:s,lang:n,siteSettings:e,pages:r,allBlogPosts:i})},zU=(t,e,n,r,i,s,a)=>{var p,v;const o=Object.keys(ks).find(g=>ks[g].some(y=>rd(y.code)===r))||"dz",l=t.tags?t.tags.split(",").map(g=>g.trim().toLowerCase()):[],c=e.filter(g=>g.id!==t.id&&g.tags&&g.tags.split(",").some(y=>l.includes(y.trim().toLowerCase()))).slice(0,5);let u="";c.length>0&&(u=`<aside class="md:col-span-1 space-y-6">
            <div class="bg-white p-4 rounded-lg shadow-lg border sticky top-24">
                <h3 class="font-bold text-lg mb-3 text-gray-800 border-b pb-2">  </h3>
                <div class="space-y-3">
                    ${c.map(g=>{const y=(g.publishedAt||g.createdAt).toDate().toLocaleDateString("ar-DZ");return`<a href="../${g.slug}/" class="block p-3 bg-gray-50 rounded-md border hover:border-green-400 hover:bg-green-50 transition-all">
                            <p class="font-semibold text-gray-900 line-clamp-2">${zn(g.title)}</p>
                            <p class="text-xs text-gray-500 mt-1">${y}</p>
                        </a>`}).join("")}
                </div>
                <div class="mt-4 pt-4 border-t">${E2(i.find(g=>g.placement==="BLOG_POST_SIDEBAR"))}</div>
            </div>
        </aside>`);const f=`<main class="flex-grow container mx-auto px-4 py-8">
        <div class="max-w-6xl mx-auto">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <article class="md:col-span-3 bg-white rounded-lg shadow-xl p-6 md:p-10">
                    <header class="mb-8 border-b pb-6">
                        <h1 class="text-4xl md:text-5xl font-bold text-gray-900 leading-tight">${zn(t.title)}</h1>
                        <div class="mt-4 text-sm text-gray-500"><span> : ${(t.publishedAt||t.createdAt).toDate().toLocaleDateString("ar-DZ")}</span><span class="mx-2">|</span><span>: ${t.author}</span></div>
                    </header>
                    <div class="prose prose-lg max-w-none text-gray-800 leading-relaxed">${t.content[r]||""}</div>
                </article>
                ${u}
            </div>
        </div>
    </main>`,h=`https://gitut.com/blog/${r==="ar"?"":r+"/"}${t.slug}/`;return Qm({title:`${t.title} | ${((v=(p=n==null?void 0:n.seo)==null?void 0:p[o])==null?void 0:v.siteName)||"GITUT"}`,description:(t.content[r]||"").replace(/<[^>]*>/g,"").substring(0,160),mainContent:f,countryCode:o,lang:r,siteSettings:n,pages:s,allBlogPosts:a,socialShare:{url:h,title:t.title,description:t.content[r]||""}})},HU=(t,e,n,r)=>{var l,c;const i=t||"dz",s=rd(i),a=((l=e==null?void 0:e.seo)==null?void 0:l[i])||((c=e==null?void 0:e.seo)==null?void 0:c.default);let o=`<main class="flex-grow container mx-auto px-4 py-8">
        <section class="text-center p-8 md:p-10 bg-white rounded-xl shadow-lg">
          <h1 class="text-3xl md:text-4xl font-bold text-gray-900 mb-2">${zn((a==null?void 0:a.mainPageTitle)||"")}</h1>
          <p class="text-base md:text-lg text-gray-700 max-w-3xl mx-auto">${zn((a==null?void 0:a.mainPageSubtitle)||"")}</p>
        </section>
        <div id="root-find-page" class="mt-8">
          <p class="text-center text-gray-500">   ...</p>
        </div>
      </main>`;return Qm({title:`${a==null?void 0:a.siteName} | ${a==null?void 0:a.tagline}`,description:(a==null?void 0:a.metaDescription)||"",mainContent:o,countryCode:i,lang:s,siteSettings:e,pages:n,allBlogPosts:r,scripts:'<script type="module">import("/index.tsx");<\/script>'})},YSe=()=>{const[t,e]=q.useState(null),[n,r]=q.useState(null),[i,s]=q.useState(!1),[a,o]=q.useState(""),[l,c]=q.useState(""),[u,f]=q.useState(!1),{codes:h,refetchAdminData:p,siteSettings:v,services:g,blogPosts:y,cafes:b,pages:_,ads:w}=nn(),[C,S]=q.useState(!1),[R,D]=q.useState(""),[N,k]=q.useState(!1),[F,P]=q.useState(""),[I,U]=q.useState(!1),[O,K]=q.useState(""),[X,J]=q.useState(!1),[ne,z]=q.useState(""),[Q,B]=q.useState(!1),[j,W]=q.useState(!1),[G,Y]=q.useState(""),[ee,ae]=q.useState(!1),[de,fe]=q.useState(!1),[Ae,Re]=q.useState(!1),[me,Le]=q.useState(""),[V,xe]=q.useState(!1),[Te,le]=q.useState(""),[re,oe]=q.useState(!1),[he,we]=q.useState(!1),[ie,ce]=q.useState(!1),ge=q.useRef(null),ye=q.useRef(null),Ne=q.useRef(null);q.useEffect(()=>{const Qe=ft=>{ge.current&&!ge.current.contains(ft.target)&&oe(!1),ye.current&&!ye.current.contains(ft.target)&&we(!1),Ne.current&&!Ne.current.contains(ft.target)&&ce(!1)};return document.addEventListener("mousedown",Qe),()=>document.removeEventListener("mousedown",Qe)},[]);const[Ue,Se]=q.useState({isOpen:!1,mode:"create",code:null}),[Me,Oe]=q.useState({key:"",description:"",questionText:""}),[Xe,rt]=q.useState(!1),[it,Lt]=q.useState(""),_n=q.useMemo(()=>{const Qe=Object.entries(x2).map(([be,_e])=>({id:`const-${be}`,key:`[${be}]`,description:_e,isReadOnly:!0})),ft=h.map(be=>({...be,isReadOnly:!1})),Ut=new Set(Qe.map(be=>be.key)),ue=ft.filter(be=>!Ut.has(be.key));return[...Qe,...ue].sort((be,_e)=>be.key.localeCompare(_e.key))},[h]),cn=async()=>{rt(!0),Lt("     ...");try{await p(),Lt("   !")}catch(Qe){console.error("Manual data refresh failed:",Qe),Lt("  .")}finally{rt(!1),setTimeout(()=>Lt(""),5e3)}},Nr=async(Qe,ft,Ut)=>{e(Ut),o(""),c("");try{c(`(1/2) Generating data for ${Ut}...`);const ue=await F_(Qe,ft);if(Qe==="blog"){if(typeof ue!="object"||ue===null)throw new Error("Blog data generation returned an invalid format.");const be=Object.entries(ue).map(([_e,Ce])=>({path:`dist/data/json/${_e}`,content:JSON.stringify(Ce)}));if(be.length===0){c("     ."),e(null),setTimeout(()=>c(""),5e3);return}c(`(2/2) Publishing ${be.length} files to GitHub...`),await cu({files:be,commitMessage:"feat: Update public blog data"}),c(`  ${be.length}     GitHub!`)}else{const be=JSON.stringify(ue),_e=`dist/data/json/${Ut}`;c(`(2/2) Publishing ${Ut} to GitHub...`),await cu({files:[{path:_e,content:be}],commitMessage:`feat: Update ${Ut}`}),c(`  ${Ut}   GitHub!`)}}catch(ue){console.error(ue);const be=ue instanceof Error?ue.message:String(ue);o(`   ${Ut}. ${be}`)}finally{e(null),setTimeout(()=>{c(""),o("")},5e3)}},Qn=async(Qe,ft,Ut)=>{r(Ut),o("");try{const ue=await F_(Qe,ft);if(Qe==="blog"){const be=new fp;Object.entries(ue).forEach(([Ce,Ie])=>{be.file(Ce,JSON.stringify(Ie))});const _e=await be.generateAsync({type:"blob"});Qh.saveAs(_e,"gitut-blog-data.zip")}else{const be=new Blob([JSON.stringify(ue)],{type:"application/json"});Qh.saveAs(be,Ut)}}catch(ue){console.error(ue);const be=ue instanceof Error?ue.message:String(ue);o(`   ${Ut}. ${be}`)}finally{r(null)}},Zn=async Qe=>{s(!0),o("");try{await Nme(Qe)}catch(ft){console.error(ft),o(`Failed to generate zip file for ${Qe}.`)}finally{s(!1)}},lr=async()=>{f(!0),o(""),c("");try{const Qe="https://gitut.com",ft=[],Ut=[],ue=qe=>{let Ve=`<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
`;return qe.forEach($e=>{Ve+=`  <url><loc>${$e}</loc></url>
`}),Ve+="</urlset>",Ve};c("Generating core pages sitemap...");const be=new Set,_e=ks.en.map(qe=>qe.code);be.add(Qe+"/"),_e.forEach(qe=>{be.add(`${Qe}/${qe}/`),be.add(`${Qe}/${qe}/find-cafe`)}),_.forEach(qe=>{qe.enabled&&qe.slug&&_e.forEach(Ve=>{be.add(`${Qe}/${Ve}/page/${qe.slug}`)})}),b.forEach(qe=>{qe.isProfilePublished&&qe.numericId&&be.add(`${Qe}/${qe.countryCode}/profile/${qe.numericId}`)});const Ce=ue(be);ft.push({path:"dist/sitemap-pages.xml",content:Ce}),Ut.push(`<sitemap><loc>${Qe}/sitemap-pages.xml</loc></sitemap>`),c("Generating service sitemaps...");const Ie=g.reduce((qe,Ve)=>{const $e=Ve.countryCode||"dz";return qe[$e]||(qe[$e]=[]),qe[$e].push(Ve),qe},{});for(const qe in Ie){const Ve=new Set;Ve.add(`${Qe}/${qe}/services/`),Ie[qe].forEach(at=>{if(at.slug){const gt=at.serviceType==="site"?"site":"doc";Ve.add(`${Qe}/${qe}/${gt}/${at.slug}/`)}});const $e=ue(Ve),Je=`dist/sitemap-services-${qe}.xml`;ft.push({path:Je,content:$e}),Ut.push(`<sitemap><loc>${Qe}/sitemap-services-${qe}.xml</loc></sitemap>`)}c("Generating blog sitemaps...");const ke=y.reduce((qe,Ve)=>(Ve.enabled&&Ve.content&&Object.keys(Ve.content).forEach($e=>{qe[$e]||(qe[$e]=[]),qe[$e].push(Ve)}),qe),{});for(const qe in ke){const Ve=new Set,$e=qe==="ar"?"":`/${qe}`;Ve.add(`${Qe}/blog${$e}/`),ke[qe].forEach(gt=>{gt.slug&&Ve.add(`${Qe}/blog${$e}/${gt.slug}/`)});const Je=ue(Ve),at=`dist/sitemap-blog-${qe}.xml`;ft.push({path:at,content:Je}),Ut.push(`<sitemap><loc>${Qe}/sitemap-blog-${qe}.xml</loc></sitemap>`)}c("Generating sitemap index file...");const We=`<?xml version="1.0" encoding="UTF-8"?>
<sitemapindex xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
  ${Ut.join(`
  `)}
</sitemapindex>`;ft.push({path:"dist/sitemap.xml",content:We}),c(`Uploading ${ft.length} sitemap files to GitHub...`),await cu({files:ft,commitMessage:"feat: Update sitemaps (index, pages, services, blog)",repoConfig:{owner:"gitut-cms",repo:"sitemap"}}),c(`Successfully published ${ft.length} sitemap files!`)}catch(Qe){console.error("Sitemap publishing failed:",Qe);const ft=Qe instanceof Error?Qe.message:"An unknown error occurred.";o(`    Sitemap: ${ft}`)}finally{f(!1),setTimeout(()=>{c(""),o("")},8e3)}},Qt=async()=>{S(!0),D("");try{const{newVersion:Qe}=await Cme();D(`      ${Qe}.      .`)}catch(Qe){const ft=Qe instanceof Error?Qe.message:"An unknown error occurred.";D(`: ${ft}`)}finally{S(!1)}},Tn=async Qe=>{k(!0),P("   ...");try{const ft=[],ue=g.filter(be=>be.slug).reduce((be,_e)=>{const Ce=_e.countryCode||"global";return be[Ce]||(be[Ce]=[]),be[Ce].push(_e),be},{});for(const be in ue){const _e=be==="global",Ce=ue[be],Ie=VU(Ce,be,v,_,y,w),ke=_e?"dist/services/index.html":`dist/${be}/services/index.html`;ft.push({path:ke,content:Zh(Ie)});for(const We of Ce){const qe=qU(We,g,v,_,y,w),Ve=We.serviceType==="site"?"site":"doc",$e=_e?`dist/${Ve}/${We.slug}/index.html`:`dist/${be}/${Ve}/${We.slug}/index.html`;ft.push({path:$e,content:Zh(qe)})}}ft.length===0?P("    ."):(P(` ${ft.length}   GitHub...`),await cu({files:ft,commitMessage:"feat: Regenerate static service pages"}),P(`  ${ft.length}   !`))}catch(ft){console.error(ft);const Ut=ft instanceof Error?ft.message:String(ft);P(`: ${Ut}`)}finally{k(!1),setTimeout(()=>P(""),8e3)}},pe=async Qe=>{U(!0),K("");try{const ft=new fp,ue=g.filter(Ce=>Ce.slug).reduce((Ce,Ie)=>{const ke=Ie.countryCode||"global";return Ce[ke]||(Ce[ke]=[]),Ce[ke].push(Ie),Ce},{});for(const Ce in ue){const Ie=Ce==="global",ke=ue[Ce],We=Ie?ft:ft.folder(Ce);if(!We)continue;for(const $e of ke){const Je=qU($e,g,v,_,y,w),at=We.folder($e.serviceType==="site"?"site":"doc"),gt=at==null?void 0:at.folder($e.slug);gt==null||gt.file("index.html",Je)}const qe=VU(ke,Ce,v,_,y,w),Ve=We.folder("services");Ve==null||Ve.file("index.html",qe)}const be=await ft.generateAsync({type:"blob"}),_e=Qe?`gitut-service-pages-${Qe}.zip`:"gitut-service-pages-all.zip";Qh.saveAs(be,_e)}catch(ft){console.error(ft),K("    ZIP.")}finally{U(!1)}},Ee=async Qe=>{J(!0),z("   ...");try{const ft=[],Ut=y.filter(be=>be.enabled&&be.slug);for(const be of Ut)if(be.content)for(const _e in be.content){const Ce=zU(be,y,v,_e,w,_,y),ke=`dist/blog/${_e==="ar"?"":`${_e}/`}${be.slug}/index.html`;ft.push({path:ke,content:Zh(Ce)})}const ue=Ut.reduce((be,_e)=>(_e.content&&Object.keys(_e.content).forEach(Ce=>{be[Ce]||(be[Ce]=[]),be[Ce].push(_e)}),be),{});for(const be in ue){const _e=$U(ue[be],v,be,_,y),Ce=`dist/blog/${be==="ar"?"index.html":`${be}/index.html`}`;ft.push({path:Ce,content:Zh(_e)})}ft.length===0?z("      ."):(z(` ${ft.length}   GitHub...`),await cu({files:ft,commitMessage:`feat: Regenerate static blog pages${Qe?` for ${Qe}`:""}`}),z(`  ${ft.length}   !`))}catch(ft){console.error(ft);const Ut=ft instanceof Error?ft.message:String(ft);z(`: ${Ut}`)}finally{J(!1),setTimeout(()=>z(""),8e3)}},Fe=async()=>{B(!0);try{const Qe=new fp,ft=Qe.folder("blog");if(!ft)throw new Error("Could not create blog folder in zip");const Ut=y.filter(_e=>_e.enabled&&_e.slug);for(const _e of Ut)if(_e.content)for(const Ce in _e.content){const Ie=zU(_e,y,v,Ce,w,_,y),ke=Ce==="ar"?ft:ft.folder(Ce),We=ke==null?void 0:ke.folder(_e.slug);We==null||We.file("index.html",Ie)}const ue=Ut.reduce((_e,Ce)=>(Ce.content&&Object.keys(Ce.content).forEach(Ie=>{_e[Ie]||(_e[Ie]=[]),_e[Ie].push(Ce)}),_e),{});for(const _e in ue){const Ce=$U(ue[_e],v,_e,_,y);if(_e==="ar")ft.file("index.html",Ce);else{const Ie=ft.folder(_e);Ie==null||Ie.file("index.html",Ce)}}const be=await Qe.generateAsync({type:"blob"});Qh.saveAs(be,"gitut-blog-pages.zip")}catch(Qe){console.error(Qe)}finally{B(!1)}},Ge=async()=>{W(!0),Y("   ...");try{const Qe=[],ft=ks.en.map(Ut=>Ut.code);for(const Ut of _)if(Ut.enabled&&Ut.slug)for(const ue of ft){const be=WU(Ut,ue,v,_,y),_e=`dist/${ue}/page/${Ut.slug}/index.html`;Qe.push({path:_e,content:Zh(be)})}Qe.length===0?Y("    ."):(Y(` ${Qe.length/ft.length}  ( )  GitHub...`),await cu({files:Qe,commitMessage:"feat: Regenerate static site pages"}),Y(`  ${Qe.length}  !`))}catch(Qe){console.error(Qe);const ft=Qe instanceof Error?Qe.message:String(Qe);Y(`: ${ft}`)}finally{W(!1),setTimeout(()=>Y(""),8e3)}},st=async()=>{var Qe;ae(!0);try{const ft=new fp,Ut=ks.en.map(be=>be.code);for(const be of _)if(be.enabled&&be.slug)for(const _e of Ut){const Ce=WU(be,_e,v,_,y),Ie=ft.folder(_e);if(!Ie)continue;const ke=(Qe=Ie.folder("page"))==null?void 0:Qe.folder(be.slug);ke==null||ke.file("index.html",Ce)}const ue=await ft.generateAsync({type:"blob"});Qh.saveAs(ue,"gitut-static-pages.zip")}catch(ft){console.error(ft)}finally{ae(!1)}},It=async()=>{fe(!0),Le("Generating homepage files...");try{const Qe=[],Ut=[null,...ks.en.map(ue=>ue.code)];for(const ue of Ut){const be=HU(ue,v,_,y),_e=ue?`dist/${ue}/index.html`:"dist/index.html";Qe.push({path:_e,content:Zh(be)})}Le(`Uploading ${Qe.length} files to GitHub...`),await cu({files:Qe,commitMessage:"feat: Regenerate static homepages"}),Le(`Successfully published ${Qe.length} homepages!`)}catch(Qe){console.error("Homepage publishing failed:",Qe),Le(`: ${Qe.message}`)}finally{fe(!1),setTimeout(()=>Le(""),8e3)}},ln=async()=>{Re(!0),Le("");try{const Qe=new fp,Ut=[null,...ks.en.map(be=>be.code)];for(const be of Ut){const _e=HU(be,v,_,y),Ce=be?`${be}/index.html`:"index.html";Qe.file(Ce,_e)}const ue=await Qe.generateAsync({type:"blob"});Qh.saveAs(ue,"gitut-homepages.zip")}catch(Qe){console.error("Homepage download failed:",Qe),Le(`: ${Qe.message}`)}finally{Re(!1)}},rn=Qe=>{Qe?(Oe({key:Qe.key,description:Qe.description,questionText:Qe.questionText||""}),Se({isOpen:!0,mode:"edit",code:Qe})):(Oe({key:"",description:"",questionText:""}),Se({isOpen:!0,mode:"create",code:null}))},xr=async Qe=>{Qe.preventDefault();const ft={...Me,key:`[${Me.key.replace(/\[|\]/g,"")}]`};try{Ue.mode==="create"?await z0.create(ft):Ue.code&&await z0.update(Ue.code.id,ft),await p(),Se({isOpen:!1,mode:"create",code:null})}catch(Ut){console.error(Ut),alert("  .")}},Ln=async Qe=>{window.confirm("  ")&&(await z0.delete(Qe),await p())};return d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"   "}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("section",{className:"bg-white p-6 rounded-lg shadow-md border",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:"  "}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"      JSON     .        ."}),d.jsx("div",{className:"space-y-3",children:HSe.map(Qe=>d.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-3 rounded-md",children:[d.jsx("span",{className:"font-semibold text-gray-700",children:Qe.label}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>Qn(Qe.dataType,Qe.countryCode,Qe.fileName),disabled:!!t||n===Qe.fileName,title:" ",className:"bg-gray-600 text-white font-semibold py-1 px-3 rounded-md hover:bg-gray-700 disabled:bg-gray-400 text-sm flex items-center gap-2",children:n===Qe.fileName?d.jsx(Ct,{className:"animate-spin"}):d.jsx(Io,{})}),d.jsxs("button",{onClick:()=>Nr(Qe.dataType,Qe.countryCode,Qe.fileName),disabled:!!t||!!n,className:"bg-blue-600 text-white font-semibold py-1 px-3 rounded-md hover:bg-blue-700 disabled:bg-gray-400 text-sm flex items-center gap-2",children:[t===Qe.fileName?d.jsx(Ct,{className:"animate-spin"}):d.jsx(qme,{}),d.jsx("span",{children:""})]})]})]},Qe.fileName))}),l&&d.jsx("p",{className:"text-green-600 text-sm mt-3",children:l}),a&&d.jsx("p",{className:"text-red-600 text-sm mt-3",children:a})]}),d.jsxs("section",{className:"bg-white p-6 rounded-lg shadow-md border",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:"    ZIP"}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"        (JSON  PDF)       ."}),d.jsxs("div",{className:"relative",ref:ye,children:[d.jsxs("button",{onClick:()=>we(Qe=>!Qe),className:"w-full bg-gray-700 text-white font-bold py-3 px-5 rounded-lg hover:bg-gray-800 transition-colors flex items-center justify-center gap-2",disabled:i,children:[i?d.jsx(Ct,{className:"animate-spin"}):d.jsx(Io,{}),d.jsx("span",{children:i?" ...":"  "}),d.jsx(AH,{})]}),he&&d.jsx("div",{className:"absolute top-full right-0 mt-2 w-full bg-white rounded-lg shadow-xl border z-10",children:d.jsx("ul",{className:"py-1 max-h-60 overflow-y-auto",children:ks.en.map(Qe=>d.jsx("li",{children:d.jsxs("button",{onClick:()=>Zn(Qe.code),className:"w-full text-right px-4 py-2 hover:bg-gray-100 flex items-center gap-3",children:[d.jsx("span",{className:"text-xl",children:Qe.flag}),d.jsx("span",{children:Qe.name})]})},Qe.code))})})]})]}),d.jsxs("section",{className:"bg-white p-6 rounded-lg shadow-md border md:col-span-2",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:"  "}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex gap-2 p-3 bg-gray-50 rounded-md items-center",children:[d.jsx("span",{className:"font-semibold text-gray-700 flex-1",children:" "}),d.jsx("button",{onClick:ln,disabled:de||Ae,title:" ZIP",className:"bg-gray-600 text-white font-bold p-3 rounded-lg hover:bg-gray-700 disabled:bg-gray-400",children:d.jsx(Io,{})}),d.jsx("button",{onClick:It,disabled:de||Ae,className:"bg-green-600 text-white font-bold p-3 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:de?d.jsx(Ct,{className:"animate-spin"}):""})]}),d.jsxs("div",{className:"flex gap-2 p-3 bg-gray-50 rounded-md items-center",children:[d.jsx("span",{className:"font-semibold text-gray-700 flex-1",children:" "}),d.jsx("button",{onClick:()=>pe(),disabled:N||I,title:" ZIP",className:"bg-gray-600 text-white font-bold p-3 rounded-lg hover:bg-gray-700 disabled:bg-gray-400",children:d.jsx(Io,{})}),d.jsx("button",{onClick:()=>Tn(),disabled:N||I,className:"bg-green-600 text-white font-bold p-3 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:N?d.jsx(Ct,{className:"animate-spin"}):""})]}),d.jsxs("div",{className:"flex gap-2 p-3 bg-gray-50 rounded-md items-center",children:[d.jsx("span",{className:"font-semibold text-gray-700 flex-1",children:""}),d.jsx("button",{onClick:Fe,disabled:X||Q,title:" ZIP",className:"bg-gray-600 text-white font-bold p-3 rounded-lg hover:bg-gray-700 disabled:bg-gray-400",children:d.jsx(Io,{})}),d.jsx("button",{onClick:()=>Ee(),disabled:X||Q,className:"bg-green-600 text-white font-bold p-3 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:X?d.jsx(Ct,{className:"animate-spin"}):""})]}),d.jsxs("div",{className:"flex gap-2 p-3 bg-gray-50 rounded-md items-center",children:[d.jsx("span",{className:"font-semibold text-gray-700 flex-1",children:" "}),d.jsx("button",{onClick:st,disabled:j||ee,title:" ZIP",className:"bg-gray-600 text-white font-bold p-3 rounded-lg hover:bg-gray-700 disabled:bg-gray-400",children:d.jsx(Io,{})}),d.jsx("button",{onClick:Ge,disabled:j||ee,className:"bg-green-600 text-white font-bold p-3 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:j?d.jsx(Ct,{className:"animate-spin"}):""})]})]}),d.jsx("p",{className:"text-xs text-center mt-2 text-gray-500",children:"     HTML    GitHub    ZIP."}),F&&d.jsx("p",{className:"text-blue-600 text-sm mt-2 text-center",children:F}),me&&d.jsx("p",{className:"text-blue-600 text-sm mt-2 text-center",children:me}),ne&&d.jsx("p",{className:"text-blue-600 text-sm mt-2 text-center",children:ne}),G&&d.jsx("p",{className:"text-blue-600 text-sm mt-2 text-center",children:G})]}),d.jsxs("section",{className:"bg-white p-6 rounded-lg shadow-md border md:col-span-2",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:" "}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsx("button",{onClick:Qt,disabled:C,className:"bg-yellow-500 text-white font-bold p-4 rounded-lg hover:bg-yellow-600 disabled:bg-gray-400",children:C?d.jsx(Ct,{className:"animate-spin"}):"  "}),d.jsx("button",{onClick:lr,disabled:u,className:"bg-blue-500 text-white font-bold p-4 rounded-lg hover:bg-blue-600 disabled:bg-gray-400",children:u?d.jsx(Ct,{className:"animate-spin"}):" Sitemap.xml"}),d.jsx("button",{onClick:cn,disabled:Xe,className:"bg-indigo-500 text-white font-bold p-4 rounded-lg hover:bg-indigo-600 disabled:bg-gray-400",children:Xe?d.jsx(Ct,{className:"animate-spin"}):"  "})]}),R&&d.jsx("p",{className:"text-center mt-2 text-sm text-blue-700",children:R}),it&&d.jsx("p",{className:"text-center mt-2 text-sm text-indigo-700",children:it})]}),d.jsxs("section",{className:"bg-white p-6 rounded-lg shadow-md border md:col-span-2",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h2",{className:"text-xl font-bold",children:"  (Placeholders)"}),d.jsxs("button",{onClick:()=>rn(null),className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700",children:[d.jsx(ic,{}),"  "]})]}),d.jsx("div",{className:"max-h-96 overflow-y-auto pr-2",children:d.jsxs("table",{className:"w-full text-right text-sm",children:[d.jsx("thead",{className:"sticky top-0 bg-gray-100",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-2 border-b",children:""}),d.jsx("th",{className:"p-2 border-b",children:""}),d.jsx("th",{className:"p-2 border-b",children:""})]})}),d.jsx("tbody",{children:_n.map(Qe=>d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"p-2 border-b font-mono text-gray-700",children:Qe.key}),d.jsx("td",{className:"p-2 border-b text-gray-600",children:Qe.description}),d.jsx("td",{className:"p-2 border-b",children:Qe.isReadOnly?d.jsxs("span",{className:"text-xs text-gray-400 flex items-center gap-1",children:[d.jsx(UH,{}),""]}):d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>rn(Qe),className:"text-blue-600 hover:underline",children:d.jsx(vw,{})}),d.jsx("button",{onClick:()=>Ln(Qe.id),className:"text-red-600 hover:underline",children:d.jsx(Hm,{})})]})})]},Qe.id))})]})})]})]}),Ue.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg",children:d.jsxs("form",{onSubmit:xr,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:Ue.mode==="create"?"  ":" "})}),d.jsxs("div",{className:"p-6 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" ( )"}),d.jsx("input",{type:"text",value:Me.key.replace(/\[|\]/g,""),onChange:Qe=>Oe(ft=>({...ft,key:Qe.target.value})),required:!0,className:"w-full p-2 border rounded-md",dir:"ltr"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),d.jsx("input",{type:"text",value:Me.description,onChange:Qe=>Oe(ft=>({...ft,description:Qe.target.value})),required:!0,className:"w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"   ()"}),d.jsx("input",{type:"text",value:Me.questionText||"",onChange:Qe=>Oe(ft=>({...ft,questionText:Qe.target.value})),className:"w-full p-2 border rounded-md"})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:()=>Se({isOpen:!1,mode:"create",code:null}),className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg",children:""}),d.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg",children:""})]})]})})})]})};if(gr.Quill){const t=gr.Quill.import("attributors/style/size");t.whitelist=["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px"],gr.Quill.register("attributors/style/size",t,!0)}const t0={siteId:"",siteName:"",siteUrl:"",fields:[]},GU=t=>t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,""),QSe=()=>{var J;const{sites:t}=nn(),[e,n]=q.useState(t),[r,i]=q.useState({isOpen:!1,mode:"create",site:null}),[s,a]=q.useState({name:"",url:"",type:"template",countryCode:"",description:"",tags:"",slug:"",jsonTemplate:t0}),[o,l]=q.useState(!1),[c,u]=q.useState(`[
  
]`),[f,h]=q.useState(""),[p,v]=q.useState(!1),[g,y]=q.useState("builder"),[b,_]=q.useState(""),[w,C]=q.useState("");q.useEffect(()=>{n(t)},[t]),q.useEffect(()=>{if(r.isOpen&&s.type==="template"&&g==="builder")try{_(JSON.stringify(s.jsonTemplate||t0,null,2)),C("")}catch{_("{}"),C("Error generating JSON string from form data.")}},[s.jsonTemplate,g,r.isOpen,s.type]);const S=()=>{y("builder"),a({name:"",url:"",type:"template",countryCode:"",description:"",tags:"",slug:"",jsonTemplate:t0}),i({isOpen:!0,mode:"create",site:null})},R=ne=>{y("builder");const z=ne.jsonTemplate||{...t0,siteName:ne.name,siteUrl:ne.url,siteId:ne.id};a({...ne,countryCode:ne.countryCode||"",description:ne.description||"",tags:ne.tags||"",slug:ne.slug||"",jsonTemplate:z}),_(JSON.stringify(z,null,2)),i({isOpen:!0,mode:"edit",site:ne})},D=()=>{i({isOpen:!1,mode:"create",site:null})},N=(ne,z,Q)=>{a(B=>{var W;const j=[...((W=B.jsonTemplate)==null?void 0:W.fields)||[]];return j[ne]={...j[ne],[z]:Q},{...B,jsonTemplate:{...B.jsonTemplate,fields:j}}})},k=()=>{a(ne=>{var z;return{...ne,jsonTemplate:{...ne.jsonTemplate,fields:[...((z=ne.jsonTemplate)==null?void 0:z.fields)||[],{fieldId:"fullName",label:"",cssSelector:"",action:"write",type:"text"}]}}})},F=ne=>{a(z=>{var Q;return{...z,jsonTemplate:{...z.jsonTemplate,fields:(((Q=z.jsonTemplate)==null?void 0:Q.fields)||[]).filter((B,j)=>j!==ne)}}})},P=ne=>{const z=ne.target.value;_(z);try{const Q=JSON.parse(z);if(typeof Q!="object"||Q===null){C("Input must be a valid JSON object.");return}let B,j=!1;Q.jsonTemplate&&typeof Q.jsonTemplate=="object"&&Array.isArray(Q.jsonTemplate.fields)?(B=Q.jsonTemplate,j=!0):Array.isArray(Q.fields)&&(B=Q),B?(a(j?W=>({...W,name:Q.name||W.name,url:Q.url||W.url,countryCode:Q.countryCode||W.countryCode,type:Q.type==="template"?"template":W.type,description:Q.description||W.description,tags:Q.tags||W.tags,jsonTemplate:B}):W=>({...W,jsonTemplate:B})),C("")):C('JSON must be an object with a "fields" array, or a site object containing a "jsonTemplate" key.')}catch{C("Invalid JSON format.")}},I=async ne=>{var B,j,W;if(ne.preventDefault(),g==="raw"&&w){alert(`Please fix the JSON error before saving: ${w}`);return}let z=GU(s.name);if((r.mode==="create"||r.mode==="edit"&&s.name!==((B=r.site)==null?void 0:B.name))&&e.find(Y=>Y.slug===z)){if(!window.confirm("     (    ).        "))return;z=`${z}-${Date.now().toString().slice(-6)}`}if((r.mode==="create"||r.mode==="edit"&&s.url!==((j=r.site)==null?void 0:j.url))&&e.find(Y=>Y.url===s.url)&&!window.confirm("    .      "))return;const Q={...s,slug:z,countryCode:s.countryCode||void 0,jsonTemplate:{...s.jsonTemplate||t0,siteName:s.name,siteUrl:s.url,siteId:((W=r.site)==null?void 0:W.id)||s.name.toLowerCase().replace(/\s+/g,"-")}};Q.type==="static"&&(Q.jsonTemplate=void 0),r.mode==="create"?(await Zd.create(Q),n(G=>[...G,{...Q,id:Q.name}])):r.site&&(await Zd.update(r.site.id,Q),n(G=>G.map(Y=>Y.id===r.site.id?{...Q,id:r.site.id}:Y))),alert(" .       ."),D()},U=ne=>{window.confirm("        ")&&(Zd.delete(ne),n(z=>z.filter(Q=>Q.id!==ne)))},O=async()=>{h(""),v(!0);let ne=0;try{const z=JSON.parse(c);if(!Array.isArray(z))throw new Error("The provided input must be a valid JSON array.");for(const Q of z){if(!Q.name||!Q.url||!Q.type){console.warn("Skipping invalid site object in bulk add:",Q);continue}const B={...Q,slug:GU(Q.name)};await Zd.create(B),n(j=>[...j,{...B,id:B.name}]),ne++}alert(`  ${ne}  .`),l(!1),u(`[
  
]`)}catch(z){h(`: ${z.message}`)}finally{v(!1)}},K=Object.keys(ei);return d.jsxs("div",{children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:" "}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>l(!0),className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"+    (JSON)"}),d.jsx("button",{onClick:S,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"+   "})]})]}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:e.map(ne=>{var z,Q;return d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:ne.name}),d.jsx("td",{className:"p-3 text-gray-600",children:ne.type==="static"?"":""}),d.jsx("td",{className:"p-3 text-gray-600",children:ne.countryCode||""}),d.jsx("td",{className:"p-3 text-gray-600 text-xs",children:ne.type==="template"?`${((Q=(z=ne.jsonTemplate)==null?void 0:z.fields)==null?void 0:Q.length)||0} `:"-"}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse whitespace-nowrap",children:[ne.slug&&d.jsx("a",{href:`/${ne.countryCode||"dz"}/site/${ne.slug}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>R(ne),className:"text-green-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>U(ne.id),className:"text-red-600 hover:underline text-sm font-semibold",children:""})]})]},ne.id)})})]})})}),o&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl flex flex-col h-[90vh]",children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:"    JSON"})}),d.jsxs("div",{className:"p-6 space-y-4 flex-grow overflow-y-auto",children:[d.jsx("p",{className:"text-sm text-gray-600",children:"  JSON   .        ."}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"bulkJson",className:"block text-sm font-medium text-gray-700 mb-1",children:"JSON Array of Sites"}),d.jsx("textarea",{id:"bulkJson",value:c,onChange:ne=>u(ne.target.value),className:"w-full h-96 font-mono text-sm bg-gray-900 text-green-300 p-2 rounded-md",dir:"ltr",placeholder:`[
  {
    "name": "ANEM Wassit Online",
    "url": "https://wassitonline.anem.dz/",
    "type": "template",
    "countryCode": "dz",
    "jsonTemplate": {
      "fields": [
        { "fieldId": "nationalId", "label": "NIN", "cssSelector": "#nin", "action": "write", "type": "text" },
        { "fieldId": "dob", "label": "Date of Birth", "cssSelector": "#ddn", "action": "write", "type": "date" }
      ]
    }
  },
  {
    "name": "Google",
    "url": "https://google.com",
    "type": "static"
  }
]`}),f&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:f})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:()=>l(!1),className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"button",onClick:O,disabled:p,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 disabled:bg-gray-400",children:p?d.jsx(Ct,{className:"animate-spin"}):"  "})]})]})}),r.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl",children:d.jsxs("form",{onSubmit:I,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:r.mode==="create"?"  ":" "})}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsxs("select",{id:"type",value:s.type,onChange:ne=>a(z=>({...z,type:ne.target.value})),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",children:[d.jsx("option",{value:"template",children:"  ( )"}),d.jsx("option",{value:"static",children:"  (  )"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"countryCode",className:"block text-sm font-medium text-gray-700 mb-1",children:" ( : dz)"}),d.jsx("input",{type:"text",id:"countryCode",value:s.countryCode||"",onChange:ne=>a(z=>({...z,countryCode:ne.target.value.toLowerCase()})),placeholder:"  ",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",id:"name",value:s.name,onChange:ne=>a(z=>({...z,name:ne.target.value})),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"url",className:"block text-sm font-medium text-gray-700 mb-1",children:"  (URL)"}),d.jsx("input",{type:"url",id:"url",value:s.url,onChange:ne=>a(z=>({...z,url:ne.target.value})),required:!0,placeholder:"https://example.com",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"  ( )"}),d.jsx(gr,{theme:"snow",value:s.description||"",onChange:ne=>a(z=>({...z,description:ne})),modules:{toolbar:[[{size:["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px",!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"},{align:[]}],["link","image","video"],["clean"]]}})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700 mb-1",children:" ( )"}),d.jsx("input",{type:"text",id:"tags",value:s.tags||"",onChange:ne=>a(z=>({...z,tags:ne.target.value})),placeholder:": , , anem",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"         ."})]}),s.type==="template"&&d.jsxs("fieldset",{className:"border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-gray-700",children:"   (JSON)"}),d.jsxs("div",{className:"flex gap-1 mb-3 border-b pb-3 -mx-4 px-4",children:[d.jsx("button",{type:"button",onClick:()=>y("builder"),className:`px-3 py-1 text-sm rounded-full ${g==="builder"?"bg-green-600 text-white":"bg-gray-200"}`,children:" "}),d.jsx("button",{type:"button",onClick:()=>y("raw"),className:`px-3 py-1 text-sm rounded-full ${g==="raw"?"bg-green-600 text-white":"bg-gray-200"}`,children:" JSON "})]}),g==="builder"?d.jsxs("div",{className:"space-y-3 mt-2",children:[(((J=s.jsonTemplate)==null?void 0:J.fields)||[]).map((ne,z)=>d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 p-3 bg-gray-50 rounded-md border relative",children:[d.jsx("button",{type:"button",onClick:()=>F(z),className:"absolute top-2 left-2 bg-red-100 text-red-600 h-6 w-6 flex items-center justify-center rounded-full hover:bg-red-200",children:""}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"  (Label)"}),d.jsx("input",{type:"text",value:ne.label,onChange:Q=>N(z,"label",Q.target.value),required:!0,className:"block w-full p-2 border rounded-md text-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"  (Field ID)"}),d.jsx("select",{value:ne.fieldId,onChange:Q=>N(z,"fieldId",Q.target.value),className:"block w-full p-2 border rounded-md text-sm bg-white",children:K.map(Q=>d.jsx("option",{value:Q,children:ei[Q].label},Q))})]}),d.jsxs("div",{className:"lg:col-span-3 grid grid-cols-1 md:grid-cols-3 gap-2",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-600",children:" CSS"}),d.jsx("input",{type:"text",value:ne.cssSelector,onChange:Q=>N(z,"cssSelector",Q.target.value),required:!0,placeholder:"#id, .class",className:"block w-full p-2 border rounded-md text-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-600",children:" "}),d.jsxs("select",{value:ne.action,onChange:Q=>N(z,"action",Q.target.value),className:"block w-full p-2 border rounded-md text-sm bg-white",children:[d.jsx("option",{value:"write",children:""}),d.jsx("option",{value:"select",children:""}),d.jsx("option",{value:"click",children:""})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-600",children:" "}),d.jsxs("select",{value:ne.type,onChange:Q=>N(z,"type",Q.target.value),className:"block w-full p-2 border rounded-md text-sm bg-white",children:[d.jsx("option",{value:"text",children:"Text"}),d.jsx("option",{value:"textarea",children:"Textarea"}),d.jsx("option",{value:"date",children:"Date"}),d.jsx("option",{value:"select",children:"Select"}),d.jsx("option",{value:"checkbox",children:"Checkbox"}),d.jsx("option",{value:"radio",children:"Radio"}),d.jsx("option",{value:"email",children:"Email"}),d.jsx("option",{value:"tel",children:"Tel"}),d.jsx("option",{value:"number",children:"Number"})]})]})]})]},z)),d.jsxs("button",{type:"button",onClick:k,className:"mt-2 text-sm bg-green-100 text-green-800 font-semibold py-2 px-3 rounded-lg hover:bg-green-200 transition-colors flex items-center gap-2",children:[d.jsx(ic,{}),"   "]})]}):d.jsxs("div",{children:[d.jsx("textarea",{value:b,onChange:P,className:"w-full h-64 font-mono text-sm bg-gray-900 text-green-300 p-2 rounded-md",dir:"ltr"}),w&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:w})]})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:D,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:""})]})]})})})]})},oK=window.SpeechRecognition||window.webkitSpeechRecognition,iD=!!oK,lK=({formFields:t,onFieldUpdate:e})=>{const[n,r]=q.useState("idle"),[i,s]=q.useState(""),[a,o]=q.useState(!1),[l,c]=q.useState(null),[u,f]=q.useState("ar-SA"),[h,p]=q.useState("voice"),[v,g]=q.useState(""),y=q.useRef(null),b=q.useRef(""),_=q.useRef(n);q.useEffect(()=>{_.current=n},[n]);const w=q.useRef(e);w.current=e;const C=async P=>{if(P.trim()){o(!0),c(null);try{const I=`You are an AI assistant processing a user's speech or text transcript to fill a web form.
**IMPORTANT RULES:**
1.  When the user says or writes the Arabic word "", you MUST interpret and write it as the "@" symbol.
2.  If you identify an email address, you MUST format it using only English letters, numbers, and standard symbols (like '@', '.', '-'). Do NOT use Arabic characters for the email address. For example, if the user says "       ", the value for the email field should be "mustakhdim@mithal.com" or a similar valid email format, not "@.".

**TASK:**
Based on the user's transcript and the list of available form fields, identify the target field(s) and the corresponding value(s).
- User Transcript: "${P}"
- Available Fields: ${JSON.stringify(t)}

The user might mention multiple fields in one sentence. Your response must be a JSON array of objects, where each object contains a "fieldId" and a "value". For example: [{ "fieldId": "fullName", "value": "John Doe" }, { "fieldId": "email", "value": "john.doe@example.com" }]. If no fields are mentioned, return an empty array.`,O=await vge(P,t,{type:"ARRAY",items:{type:"OBJECT",properties:{fieldId:{type:"STRING"},value:{type:"STRING"}}}},I);Array.isArray(O)&&O.length>0?w.current(O):console.log("AI did not find any fields to update from transcript:",P)}catch(I){console.error("Error processing transcript with AI:",I);const U=I instanceof Error?I.message:"An unknown error occurred.";c(`  : ${U}`)}finally{o(!1)}}};q.useEffect(()=>{if(!iD)return;const P=new oK;return y.current=P,P.continuous=!0,P.interimResults=!0,P.onresult=I=>{let U="";for(let O=I.resultIndex;O<I.results.length;++O)I.results[O].isFinal?b.current+=I.results[O][0].transcript+" ":U+=I.results[O][0].transcript;s(b.current+U)},P.onerror=I=>{console.error("Speech recognition error:",I.error),c(`  : ${I.error}`),r("idle")},P.onend=()=>{_.current==="recording"&&r("paused")},()=>{P.abort()}},[iD]);const S=()=>{y.current&&(b.current="",s(""),y.current.lang=u,y.current.start(),r("recording"))},R=()=>{y.current&&(r("paused"),y.current.stop())},D=()=>{y.current&&(y.current.lang=u,y.current.start(),r("recording"))},N=async()=>{y.current&&(r("idle"),y.current.stop(),i.trim()&&await C(i),s(""),b.current="")},k=async()=>{v.trim()&&(await C(v),g(""))},F=()=>{switch(n){case"recording":return d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{type:"button",onClick:R,className:"flex-1 flex items-center justify-center gap-2 p-2 bg-yellow-500 text-white font-semibold rounded-md hover:bg-yellow-600",children:[d.jsx(Yme,{})," ",d.jsx("span",{children:" "})]}),d.jsxs("button",{type:"button",onClick:N,disabled:a,className:"flex-1 flex items-center justify-center gap-2 p-2 bg-green-600 text-white font-semibold rounded-md hover:bg-green-700 disabled:bg-gray-400",children:[a?d.jsx(Ct,{className:"animate-spin"}):d.jsx(G0,{}),d.jsx("span",{children:" "})]})]});case"paused":return d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{type:"button",onClick:D,className:"flex-1 flex items-center justify-center gap-2 p-2 bg-blue-500 text-white font-semibold rounded-md hover:bg-blue-600",children:[d.jsx(OH,{})," ",d.jsx("span",{children:""})]}),d.jsxs("button",{type:"button",onClick:N,disabled:a,className:"flex-1 flex items-center justify-center gap-2 p-2 bg-green-600 text-white font-semibold rounded-md hover:bg-green-700 disabled:bg-gray-400",children:[a?d.jsx(Ct,{className:"animate-spin"}):d.jsx(G0,{}),d.jsx("span",{children:" "})]})]});case"idle":default:return d.jsxs("button",{type:"button",onClick:S,disabled:a,className:"w-full flex items-center justify-center gap-3 p-3 bg-blue-500 text-white font-bold rounded-lg hover:bg-blue-600 disabled:bg-gray-400",children:[d.jsx(yc,{}),d.jsx("span",{children:"   "})]})}};return d.jsxs("div",{className:"space-y-3 p-3 bg-gray-100 rounded-md border my-4",children:[d.jsxs("div",{className:"flex border border-gray-300 rounded-md overflow-hidden",children:[d.jsxs("button",{onClick:()=>p("voice"),className:`flex-1 p-2 text-center font-semibold flex items-center justify-center gap-2 ${h==="voice"?"bg-green-600 text-white":"bg-gray-200 text-gray-700"}`,children:[d.jsx(yc,{}),d.jsx("span",{children:""})]}),d.jsxs("button",{onClick:()=>p("text"),className:`flex-1 p-2 text-center font-semibold flex items-center justify-center gap-2 ${h==="text"?"bg-green-600 text-white":"bg-gray-200 text-gray-700"}`,children:[d.jsx(FH,{}),d.jsx("span",{children:""})]})]}),h==="voice"?d.jsx(d.Fragment,{children:iD?d.jsxs(d.Fragment,{children:[n!=="idle"&&d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:" :"}),d.jsx("div",{className:"mt-1 p-2 bg-white border rounded-md min-h-[60px] text-gray-800 text-right",children:i||d.jsx("span",{className:"text-gray-400",children:"..."})})]}),d.jsxs("div",{className:"flex items-center justify-between gap-4",children:[d.jsx("div",{className:"flex-grow",children:F()}),d.jsxs("select",{value:u,onChange:P=>f(P.target.value),disabled:n!=="idle"||a,className:"bg-white border border-gray-300 rounded-md px-2 py-1 text-sm disabled:bg-gray-200","aria-label":"   ",children:[d.jsx("option",{value:"ar-SA",children:""}),d.jsx("option",{value:"en-US",children:"English"}),d.jsx("option",{value:"fr-FR",children:"Franais"})]})]})]}):d.jsx("div",{className:"p-3 bg-yellow-100 text-yellow-800 text-center rounded-md",children:"      ."})}):d.jsxs("div",{className:"space-y-2",children:[d.jsx("textarea",{value:v,onChange:P=>g(P.target.value),placeholder:"   ... :       user  example.com",className:"w-full p-2 border border-gray-300 rounded-md",rows:3,disabled:a}),d.jsxs("button",{type:"button",onClick:k,disabled:a||!v.trim(),className:"w-full flex items-center justify-center gap-3 p-3 bg-green-600 text-white font-bold rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:[a?d.jsx(Ct,{className:"animate-spin"}):d.jsx(G0,{}),d.jsx("span",{children:" "})]})]}),l&&d.jsx("p",{className:"text-red-600 text-sm mt-2",children:l})]})},ZSe=()=>{const{siteId:t}=aa(),e=wi(),{user:n}=Ar(),{sites:r,cafes:i,siteSettings:s,loading:a}=nn(),o=q.useMemo(()=>r.find(F=>F.id===t),[t,r]),l=q.useMemo(()=>i.find(F=>F.id===(n==null?void 0:n.cafeId)),[i,n]),c=(l==null?void 0:l.formFillMode)||"json",[u,f]=q.useState({}),[h,p]=q.useState(null),[v,g]=q.useState(""),[y,b]=q.useState(!0);q.useEffect(()=>{c==="json"&&(o!=null&&o.jsonTemplate)?p(o.jsonTemplate):p(null)},[o,c]);const _=(F,P)=>{f(I=>({...I,[F]:P}))},w=F=>{const P={...u};F.forEach(({fieldId:I,value:U})=>{P[I]=U}),f(P)},C=F=>{var U;const P=(U=F.target.files)==null?void 0:U[0];if(!P)return;g("");const I=new FileReader;I.onload=O=>{var K;try{const X=(K=O.target)==null?void 0:K.result,J=JSON.parse(X);if(J&&J.siteId&&Array.isArray(J.fields))p(J);else throw new Error("Invalid JSON structure.")}catch(X){g("   .     JSON   ."),console.error(X)}},I.onerror=()=>{g("    .")},I.readAsText(P)},S=async F=>{if(F.preventDefault(),!n||!s||!o){alert(":         .");return}const P=n.credits.currency==="USD"?s.pricing.siteFormFill.usd:s.pricing.siteFormFill.dzd,I=await JI(n,P);if(!I.success){alert(I.message),e(`/${n.countryCode}/app/billing`);return}if(y){const K={},X=c==="json"?h==null?void 0:h.fields.map(J=>({id:J.fieldId,label:J.label})):o==null?void 0:o.templateFields;X&&(X.forEach(J=>{const ne=J.id;Object.keys(ei).includes(ne)&&(K[ne]=u[ne])}),Object.keys(K).length>0&&hp.create(K))}const U={source:"gitut-webapp",type:"client_data_update",payload:u};window.postMessage(U,"*"),window.open(o.url,"_blank");const O=(n==null?void 0:n.credits.currency)==="USD"?"$":"";alert(`  ${P} ${O}  .       .    .`),f({})},R=q.useMemo(()=>c==="json"&&h?h.fields.map(F=>({id:F.fieldId,label:F.label})):c==="ai"&&(o!=null&&o.templateFields)?o.templateFields.map(F=>({id:F.id,label:F.label})):[],[o,c,h]);if(a)return d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(Ct,{className:"animate-spin text-4xl text-green-600"})});if(!o||o.type!=="template")return d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"        "}),d.jsx("p",{className:"text-gray-600 mb-6",children:"         ."}),d.jsx(en,{to:"/app",className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"   "})]});const D=(n==null?void 0:n.credits.currency)==="USD"?s==null?void 0:s.pricing.siteFormFill.usd:s==null?void 0:s.pricing.siteFormFill.dzd,N=(n==null?void 0:n.credits.currency)==="USD"?"$":"",k=()=>{var F;return c==="json"?h?h.fields.map(P=>d.jsxs("div",{children:[d.jsx("label",{htmlFor:P.fieldId,className:"block text-sm font-medium text-gray-700 mb-1",children:P.label}),d.jsx("input",{type:"text",id:P.fieldId,name:P.fieldId,value:u[P.fieldId]||"",onChange:I=>_(I.target.name,I.target.value),required:!0,className:"block w-full px-3 py-2 border border-gray-300 rounded-md"})]},P.cssSelector)):d.jsxs("div",{className:"text-center p-6 border-2 border-dashed rounded-lg",children:[d.jsx("p",{className:"font-semibold text-gray-700",children:" 1:    JSON   ."}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"        ."})]}):(F=o.templateFields)==null?void 0:F.map(P=>d.jsxs("div",{children:[d.jsx("label",{htmlFor:P.id,className:"block text-sm font-medium text-gray-700 mb-1",children:P.label}),d.jsx("input",{type:"text",id:P.id,name:P.id,value:u[P.id]||"",onChange:I=>_(I.target.name,I.target.value),required:!0,className:"block w-full px-3 py-2 border border-gray-300 rounded-md"})]},P.id))};return d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:["  : ",o.name]}),d.jsxs("p",{className:"text-gray-600",children:[": ",d.jsxs("span",{className:"font-bold font-mono",children:[D," ",N]})]})]}),d.jsx(en,{to:`/${n==null?void 0:n.countryCode}/app`,className:"text-sm bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:" "})]}),d.jsxs("form",{onSubmit:S,className:"space-y-6 bg-white p-8 rounded-lg border",children:[c==="json"&&d.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border",children:[d.jsxs("label",{htmlFor:"json-upload",className:"flex items-center gap-3 cursor-pointer text-blue-800 font-semibold",children:[d.jsx(zme,{className:"text-2xl"}),d.jsxs("div",{children:[d.jsx("span",{children:h?` : ${h.siteName}`:"  JSON  "}),d.jsx("p",{className:"text-xs font-normal text-gray-600",children:"          ."})]})]}),d.jsx("input",{id:"json-upload",type:"file",accept:".json",onChange:C,className:"hidden"}),v&&d.jsx("p",{className:"text-red-500 text-sm mt-2",children:v})]}),(c==="ai"||c==="json"&&h)&&d.jsx(lK,{formFields:R,onFieldUpdate:w}),k(),d.jsxs("div",{className:"pt-4 border-t",children:[d.jsxs("div",{className:"flex items-center mb-4",children:[d.jsx("input",{id:"saveClient",name:"saveClient",type:"checkbox",checked:y,onChange:F=>b(F.target.checked),className:"h-4 w-4 text-green-600"}),d.jsx("label",{htmlFor:"saveClient",className:"mr-2 block text-sm text-gray-900",children:"/   "})]}),d.jsx("button",{type:"submit",className:"w-full bg-green-600 text-white p-3 rounded-lg font-bold hover:bg-green-700 transition-colors flex items-center justify-center gap-2",children:d.jsx("span",{children:"     "})})]})]})]})};if(gr.Quill){const t=gr.Quill.import("attributors/style/size");t.whitelist=["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px"],gr.Quill.register("attributors/style/size",t,!0)}const kx=t=>t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,""),eDe={toolbar:[[{header:[1,2,3,4,5,6,!1]}],[{font:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"},{align:[]}],[{color:[]},{background:[]}],["link","image","video"],["clean"]]},tDe=()=>{const{fullDocuments:t,loadingFullDocuments:e,codes:n,refetchAdminData:r}=nn(),[i,s]=q.useState([]);wi();const{t:a}=la(),[o,l]=q.useState({isOpen:!1,mode:"create",doc:null}),[c,u]=q.useState({}),[f,h]=q.useState(!1),[p,v]=q.useState(""),[g,y]=q.useState(""),[b,_]=q.useState({preview:"",final:""}),[w,C]=q.useState({isOpen:!1,doc:null}),[S,R]=q.useState({}),[D,N]=q.useState({preview:"upload",final:"upload"}),[k,F]=q.useState({preview:"",final:""}),[P,I]=q.useState(!1),U=q.useRef(null),O=q.useRef(null),[K,X]=q.useState(!1),[J,ne]=q.useState(""),[z,Q]=q.useState("");q.useEffect(()=>{const ce=[...t].sort((ge,ye)=>ge.name.localeCompare(ye.name)).filter(ge=>ge.name.toLowerCase().includes(g.toLowerCase())||ge.description.toLowerCase().includes(g.toLowerCase())||ge.id.toLowerCase().includes(g.toLowerCase()));s(ce)},[t,g]);const B=async()=>{await r()},j=async ie=>{if(window.confirm("              ."))try{await fl.delete(ie),await B(),alert("   .")}catch(ce){console.error("Failed to delete document:",ce),alert("  .")}},W=()=>{u({id:"",name:"",groupId:"",description:"",countryCode:"dz",requiredFields:[],complexFields:[],previewTemplateUrl:"",finalTemplateUrl:"",previewTemplateHtml:"",finalTemplateHtml:"",tags:"",slug:""}),N({preview:"upload",final:"upload"}),F({preview:"",final:""}),_({preview:"",final:""}),l({isOpen:!0,mode:"create",doc:null}),v("")},G=async ie=>{u({...ie});const ce={preview:"upload",final:"upload"},ge={preview:ie.previewTemplateHtml||"",final:ie.finalTemplateHtml||""};ie.previewTemplateHtml&&(ce.preview="code"),ie.finalTemplateHtml&&(ce.final="code"),F(ge),N(ce),_({preview:"",final:""}),l({isOpen:!0,mode:"edit",doc:ie}),v("")},Y=()=>{l({isOpen:!1,mode:"create",doc:null})},ee=ie=>{const{name:ce,value:ge}=ie.target;u(ye=>({...ye,[ce]:ge}))},ae=async(ie,ce)=>{var Ne;const ge=(Ne=ie.target.files)==null?void 0:Ne[0];if(!ge)return;const ye=new FileReader;ye.onload=Ue=>{var Me;const Se=(Me=Ue.target)==null?void 0:Me.result;_(Oe=>({...Oe,[ce]:Se})),F(Oe=>({...Oe,[ce]:Se}))},ye.readAsText(ge)},de=async ie=>{var ce,ge,ye;ie.preventDefault(),h(!0);try{const Ne={...c},Ue=Oe=>Oe.replace(/\s{2,}/g," ").replace(/\n/g,"").trim();let Se="";D.preview==="code"?Se=k.preview:b.preview&&(Se=b.preview),Se&&(Ne.previewTemplateHtml=Ue(Se),Ne.previewTemplateUrl="");let Me="";if(D.final==="code"?Me=k.final:b.final&&(Me=b.final),Me?(Ne.finalTemplateHtml=Ue(Me),Ne.finalTemplateUrl="",Ne.requiredFields=H0(Me)):Ne.finalTemplateHtml&&(Ne.requiredFields=H0(Ne.finalTemplateHtml)),Ne.slug=(ce=c.slug)!=null&&ce.trim()?kx(c.slug):kx(c.name||""),o.mode==="create"){const Oe=((ge=c.id)==null?void 0:ge.trim())||((ye=c.groupId)==null?void 0:ye.trim())||Ne.slug;Ne.id=Oe,Ne.groupId||(Ne.groupId=Oe),await fl.create(Ne)}else o.doc&&await fl.update(o.doc.id,Ne);await B(),alert("   !"),Y()}catch(Ne){console.error("Failed to save document:",Ne),alert("  .")}finally{h(!1)}},fe=async()=>{var ie;if(!((ie=c.name)!=null&&ie.trim())){alert("      .");return}I(!0);try{const ce=`         "${c.name}".            .      HTML  ( <p>  <ul>).`,ye=(await ac({model:"gemini-2.5-flash",contents:ce})).text||"";u(Ne=>({...Ne,description:ye}))}catch(ce){console.error("AI description generation failed:",ce),alert("    .")}finally{I(!1)}},Ae=ie=>{R(ie.fieldCustomizations||{}),C({isOpen:!0,doc:ie})},Re=()=>{C({isOpen:!1,doc:null}),R({})},me=(ie,ce,ge)=>{R(ye=>({...ye,[ie]:{...ye[ie]||{type:"text"},[ce]:ge}}))},Le=(ie,ce,ge)=>{R(ye=>{var Ue;const Ne=[...((Ue=ye[ie])==null?void 0:Ue.options)||[]];return Ne[ce]=ge,{...ye,[ie]:{...ye[ie]||{type:"text"},options:Ne}}})},V=ie=>{R(ce=>{var ye;const ge=[...((ye=ce[ie])==null?void 0:ye.options)||[],""];return{...ce,[ie]:{...ce[ie]||{type:"text"},type:"select",options:ge}}})},xe=(ie,ce)=>{R(ge=>{var Ne;const ye=(((Ne=ge[ie])==null?void 0:Ne.options)||[]).filter((Ue,Se)=>Se!==ce);return{...ge,[ie]:{...ge[ie]||{type:"text"},options:ye}}})},Te=async()=>{if(w.doc){h(!0);try{const ie={...w.doc,fieldCustomizations:S};await fl.update(w.doc.id,ie),await B(),alert("  !"),Re()}catch(ie){console.error("Failed to save customizations:",ie),alert("  .")}finally{h(!1)}}},le=(ie,ce)=>{N(ge=>({...ge,[ie]:ce}))},re=(ie,ce)=>{if(!ce)return;const ye=(ie==="preview"?U:O).current;if(ye){const Ne=ye.selectionStart,Ue=ye.selectionEnd,Se=ye.value,Me=Se.substring(0,Ne)+ce+Se.substring(Ue);F(Oe=>({...Oe,[ie]:Me})),setTimeout(()=>{ye&&(ye.focus(),ye.selectionStart=ye.selectionEnd=Ne+ce.length)},0)}},oe=()=>{ne(JSON.stringify([{id:"custom-doc-id",name:"  ",groupId:"unique-group-id",description:"<p> HTML .</p>",countryCode:"dz",tags:"tag1,tag2",previewTemplateHtml:"<!--  HTML  -->",finalTemplateHtml:"<!--  HTML   [placeholders] -->"}],null,2)),Q(""),X(!0)},he=()=>{X(!1)},we=async ie=>{ie.preventDefault(),Q(""),h(!0);try{const ce=JSON.parse(J),ge=Array.isArray(ce)?ce:[ce];let ye=0;for(const[Ne,Ue]of ge.entries()){const{name:Se,groupId:Me,previewTemplateHtml:Oe,finalTemplateHtml:Xe}=Ue;if(typeof Se!="string"||!Se.trim()||typeof Me!="string"||!Me.trim()||typeof Oe!="string"||!Oe.trim()||typeof Xe!="string"||!Xe.trim()){const Qt=[];(typeof Se!="string"||!Se.trim())&&Qt.push("name"),(typeof Me!="string"||!Me.trim())&&Qt.push("groupId"),(typeof Oe!="string"||!Oe.trim())&&Qt.push("previewTemplateHtml"),(typeof Xe!="string"||!Xe.trim())&&Qt.push("finalTemplateHtml");const Tn=Ue.name||Ue.id||`  ${Ne+1}`;throw new Error(`    : ${Qt.join(", ")}   "${Tn}"`)}const{description:rt,countryCode:it,tags:Lt,id:_n}=Ue,cn=Qt=>Qt.replace(/\s{2,}/g," ").replace(/\n/g,"").trim(),Nr=cn(Xe),Qn=cn(Oe),Zn={name:Se,groupId:Me,description:rt||"",countryCode:it||"",tags:Lt||"",slug:kx(Se),previewTemplateHtml:Qn,finalTemplateHtml:Nr,previewTemplateUrl:"",finalTemplateUrl:"",requiredFields:H0(Nr)},lr=_n||Me||kx(Se);Zn.id=lr,await fl.create(Zn),ye++}await B(),alert(`  ${ye} () !`),he()}catch(ce){const ge=ce instanceof Error?ce.message:" JSON     .";Q(ge)}finally{h(!1)}};return e?d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(Ct,{className:"animate-spin text-4xl text-green-600"})}):d.jsxs("div",{children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:" "}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:oe,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700",children:[d.jsx(ic,{className:"inline-block ml-2 rtl:ml-0 rtl:mr-2"}),"  JSON"]}),d.jsxs("button",{onClick:W,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:[d.jsx(ic,{className:"inline-block ml-2 rtl:ml-0 rtl:mr-2"}),"  "]})]})]}),d.jsx("div",{className:"mb-4",children:d.jsx("input",{type:"text",placeholder:"   ...",value:g,onChange:ie=>y(ie.target.value),className:"w-full p-3 border rounded-lg"})}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:"ID / Group ID"}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:i.map(ie=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:ie.name}),d.jsxs("td",{className:"p-3 text-gray-500 font-mono text-xs",children:[ie.id,d.jsx("br",{}),ie.groupId!==ie.id&&`(${ie.groupId})`]}),d.jsx("td",{className:"p-3 text-gray-600 text-sm",title:ie.description.replace(/<[^>]*>?/gm,""),children:d.jsx("div",{className:"prose prose-sm max-w-none line-clamp-2",dangerouslySetInnerHTML:{__html:ie.description}})}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse whitespace-nowrap",children:[ie.slug&&d.jsx("a",{href:`/${ie.countryCode||"dz"}/doc/${ie.slug}/`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>G(ie),className:"text-green-600 hover:underline text-sm font-semibold",children:" "}),d.jsx("button",{onClick:()=>Ae(ie),className:"text-blue-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>j(ie.id),className:"text-red-600 hover:underline text-sm font-semibold",children:""})]})]},ie.id))})]})})}),K&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl",children:d.jsxs("form",{onSubmit:we,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:"    JSON"})}),d.jsx("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:d.jsxs("div",{children:[d.jsx("label",{htmlFor:"jsonInput",className:"block text-sm font-medium text-gray-700 mb-1",children:" JSON (        )"}),d.jsx("textarea",{id:"jsonInput",value:J,onChange:ie=>ne(ie.target.value),required:!0,className:"w-full h-80 p-2 border rounded-md font-mono text-sm bg-gray-900 text-green-300",dir:"ltr"}),z&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:z})]})}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:he,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",disabled:f,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:f?" ...":" ()"})]})]})})}),o.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-start p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl",children:d.jsxs("form",{onSubmit:de,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:o.mode==="create"?"  ":" "})}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",name:"name",id:"name",value:c.name||"",onChange:ee,required:!0,className:"w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"groupId",className:"block text-sm font-medium text-gray-700 mb-1",children:"  (Group ID)"}),d.jsx("input",{type:"text",name:"groupId",id:"groupId",value:c.groupId||"",onChange:ee,required:!0,className:"w-full p-2 border rounded-md"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"    Group ID      ."})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"id",className:"block text-sm font-medium text-gray-700 mb-1",children:"  (ID)"}),d.jsx("input",{type:"text",name:"id",id:"id",value:c.id||"",onChange:ee,disabled:o.mode==="edit",className:"w-full p-2 border rounded-md bg-gray-100 disabled:cursor-not-allowed",title:o.mode==="edit"?"     ":"   Group ID"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:o.mode==="edit"?"     .":"   Group ID."})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"slug",className:"block text-sm font-medium text-gray-700 mb-1",children:"  (Slug)"}),d.jsx("input",{type:"text",name:"slug",id:"slug",value:c.slug||"",onChange:ee,className:"w-full p-2 border rounded-md"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"  .       ."})]})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-1",children:[d.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:""}),d.jsxs("button",{type:"button",onClick:fe,disabled:P,className:"flex items-center gap-1 text-xs bg-purple-100 text-purple-700 font-semibold py-1 px-2 rounded-md hover:bg-purple-200 disabled:opacity-50",title:"   ",children:[P?d.jsx(Ct,{className:"animate-spin"}):d.jsx(na,{}),d.jsx("span",{children:"  "})]})]}),d.jsx(gr,{theme:"snow",value:c.description||"",onChange:ie=>u(ce=>({...ce,description:ie})),modules:eDe})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"countryCode",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",name:"countryCode",id:"countryCode",value:c.countryCode||"",onChange:ee,placeholder:"dz, fr, us...",className:"w-full p-2 border rounded-md"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"   ."})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700 mb-1",children:" ( )"}),d.jsx("input",{type:"text",name:"tags",id:"tags",value:c.tags||"",onChange:ee,className:"w-full p-2 border rounded-md"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 border-t pt-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsxs("div",{className:"flex gap-1 mb-2 border-b",children:[d.jsx("button",{type:"button",onClick:()=>le("preview","upload"),className:`px-3 py-1 text-sm rounded-t-md ${D.preview==="upload"?"bg-gray-200 font-semibold":"bg-white"}`,children:" "}),d.jsx("button",{type:"button",onClick:()=>le("preview","code"),className:`px-3 py-1 text-sm rounded-t-md ${D.preview==="code"?"bg-gray-200 font-semibold":"bg-white"}`,children:" "})]}),D.preview==="upload"?d.jsxs(d.Fragment,{children:[d.jsx("input",{type:"file",id:"previewTemplate",onChange:ie=>ae(ie,"preview"),accept:".html",className:"w-full text-sm"}),b.preview&&d.jsxs("span",{className:"text-xs text-gray-500 truncate block mt-1",children:["Selected: ",b.preview.substring(0,50),"..."]})]}):d.jsxs("div",{className:"space-y-1",children:[d.jsx("textarea",{ref:U,value:k.preview,onChange:ie=>F(ce=>({...ce,preview:ie.target.value})),className:"w-full h-32 p-2 border rounded-md font-mono text-xs bg-gray-900 text-green-300",placeholder:"<html>...</html>",dir:"ltr"}),d.jsx("div",{className:"flex justify-end",children:d.jsxs("select",{onChange:ie=>{re("preview",ie.target.value),ie.target.value=""},className:"text-xs bg-gray-200 text-gray-800 font-semibold py-1 px-2 rounded-md hover:bg-gray-300 cursor-pointer border border-gray-300",children:[d.jsx("option",{value:"",children:" ..."}),n.map(ie=>d.jsxs("option",{value:ie.key,children:[ie.description," (",ie.key,")"]},ie.id))]})})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsxs("div",{className:"flex gap-1 mb-2 border-b",children:[d.jsx("button",{type:"button",onClick:()=>le("final","upload"),className:`px-3 py-1 text-sm rounded-t-md ${D.final==="upload"?"bg-gray-200 font-semibold":"bg-white"}`,children:" "}),d.jsx("button",{type:"button",onClick:()=>le("final","code"),className:`px-3 py-1 text-sm rounded-t-md ${D.final==="code"?"bg-gray-200 font-semibold":"bg-white"}`,children:" "})]}),D.final==="upload"?d.jsxs(d.Fragment,{children:[d.jsx("input",{type:"file",id:"finalTemplate",onChange:ie=>ae(ie,"final"),accept:".html",className:"w-full text-sm"}),b.final&&d.jsxs("span",{className:"text-xs text-gray-500 truncate block mt-1",children:["Selected: ",b.final.substring(0,50),"..."]})]}):d.jsxs("div",{className:"space-y-1",children:[d.jsx("textarea",{ref:O,value:k.final,onChange:ie=>F(ce=>({...ce,final:ie.target.value})),className:"w-full h-32 p-2 border rounded-md font-mono text-xs bg-gray-900 text-green-300",placeholder:"<html>...</html>",dir:"ltr"}),d.jsx("div",{className:"flex justify-end",children:d.jsxs("select",{onChange:ie=>{re("final",ie.target.value),ie.target.value=""},className:"text-xs bg-gray-200 text-gray-800 font-semibold py-1 px-2 rounded-md hover:bg-gray-300 cursor-pointer border border-gray-300",children:[d.jsx("option",{value:"",children:" ..."}),n.map(ie=>d.jsxs("option",{value:ie.key,children:[ie.description," (",ie.key,")"]},ie.id))]})})]})]})]}),p&&d.jsx("p",{className:"text-red-500 text-sm",children:p})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:Y,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",disabled:f,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:f?" ...":" "})]})]})})}),w.isOpen&&w.doc&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl",children:d.jsxs("form",{onSubmit:ie=>{ie.preventDefault(),Te()},children:[d.jsx("div",{className:"p-6 border-b",children:d.jsxs("h2",{className:"text-2xl font-bold",children:["  : ",w.doc.name]})}),d.jsx("div",{className:"p-6 space-y-6 max-h-[70vh] overflow-y-auto",children:Object.keys(ei).map(ie=>{var ge,ye,Ne,Ue,Se,Me,Oe;const ce=(ge=w.doc)==null?void 0:ge.requiredFields.includes(ie);return d.jsxs("div",{className:`p-4 border rounded-md ${ce?"bg-green-50 border-green-200":"bg-gray-50"}`,children:[d.jsx("h3",{className:"font-bold text-lg text-gray-800 mb-3",children:a(ei[ie].label)}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsxs("select",{value:((ye=S[ie])==null?void 0:ye.type)||"text",onChange:Xe=>me(ie,"type",Xe.target.value),className:"w-full p-2 border rounded-md bg-white",children:[d.jsx("option",{value:"text",children:"  (Text)"}),d.jsx("option",{value:"select",children:"   (Select)"}),d.jsx("option",{value:"multiselect",children:"   (Multi-select)"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  ()"}),d.jsx("input",{type:"text",value:((Ne=S[ie])==null?void 0:Ne.customQuestion)||"",onChange:Xe=>me(ie,"customQuestion",Xe.target.value),placeholder:"    ",className:"w-full p-2 border rounded-md"})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),d.jsxs("select",{value:((Ue=S[ie])==null?void 0:Ue.speechLang)||"",onChange:Xe=>me(ie,"speechLang",Xe.target.value),className:"w-full p-2 border rounded-md bg-white",children:[d.jsx("option",{value:"",children:" ( )"}),d.jsx("option",{value:"ar-SA",children:""}),d.jsx("option",{value:"en-US",children:""}),d.jsx("option",{value:"fr-FR",children:""})]})]})]}),(((Se=S[ie])==null?void 0:Se.type)==="select"||((Me=S[ie])==null?void 0:Me.type)==="multiselect")&&d.jsxs("div",{className:"mt-4 pt-4 border-t",children:[d.jsx("h4",{className:"font-semibold mb-2",children:" "}),d.jsx("div",{className:"space-y-2",children:(((Oe=S[ie])==null?void 0:Oe.options)||[]).map((Xe,rt)=>d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"text",value:Xe,onChange:it=>Le(ie,rt,it.target.value),placeholder:` ${rt+1}`,className:"flex-grow p-2 border rounded-md"}),d.jsx("button",{type:"button",onClick:()=>xe(ie,rt),className:"p-2 bg-red-100 text-red-600 rounded-full hover:bg-red-200",children:d.jsx(Hm,{})})]},rt))}),d.jsxs("button",{type:"button",onClick:()=>V(ie),className:"mt-3 flex items-center gap-2 text-sm bg-green-100 text-green-800 font-semibold py-2 px-3 rounded-lg hover:bg-green-200",children:[d.jsx(ic,{}),"  "]})]})]},ie)})}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:Re,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",disabled:f,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700",children:f?d.jsx(Ct,{className:"animate-spin"}):" "})]})]})})})]})},nDe=()=>{const[t,e]=q.useState([]),[n,r]=q.useState({isOpen:!1,mode:"create",client:null}),[i,s]=q.useState({}),{t:a}=la();q.useEffect(()=>{hp.getAll().then(e)},[]);const o=()=>{hp.getAll().then(e)},l=()=>{s({}),r({isOpen:!0,mode:"create",client:null})},c=y=>{s({...y}),r({isOpen:!0,mode:"edit",client:y})},u=()=>{r({isOpen:!1,mode:"create",client:null})},f=(y,b)=>{s(_=>({..._,[y]:b}))},h=q.useMemo(()=>Object.values(ei).map(y=>({id:y.id,label:a(y.label)})),[a]),p=y=>{y.forEach(({fieldId:b,value:_})=>{f(b,_)})},v=y=>{y.preventDefault(),n.mode==="create"?hp.create(i):n.client&&hp.update(n.client.id,i),o(),u()},g=y=>{window.confirm("              .")&&(hp.delete(y),o())};return d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:" "}),d.jsx("button",{onClick:l,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"+   "})]}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:t.length>0?t.map(y=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("img",{src:yi(y.profilePicture)||`https://ui-avatars.com/api/?name=${y.fullName||"NN"}&background=random`,alt:y.fullName||"Client",className:"w-10 h-10 rounded-full object-cover"}),d.jsx("span",{children:y.fullName||"-"})]})}),d.jsx("td",{className:"p-3 text-gray-600",children:y.phone||"-"}),d.jsx("td",{className:"p-3 text-gray-600",children:y.email||"-"}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse",children:[d.jsx("button",{onClick:()=>c(y),className:"text-blue-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>g(y.id),className:"text-red-600 hover:underline text-sm font-semibold",children:""})]})]},y.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:4,className:"text-center p-6 text-gray-500",children:'   .   "  " .'})})})]})})}),n.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",children:d.jsxs("form",{onSubmit:v,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:n.mode==="create"?"  ":"  "})}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[d.jsx(lK,{formFields:h,onFieldUpdate:p}),Object.values(ei).map(y=>{var _;if(!y)return null;const b=y.id;return d.jsxs("div",{children:[d.jsx("label",{htmlFor:y.id,className:"block text-sm font-medium text-gray-700 mb-1",children:a(y.label)}),y.type==="file"?d.jsx(qv,{value:i[b]||"",onChange:w=>f(b,w)}):y.type==="select"?d.jsxs("select",{id:y.id,name:y.id,value:i[b]||"",onChange:w=>f(w.target.name,w.target.value),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",children:[d.jsx("option",{value:"",children:a(y.placeholder)}),(_=y.options)==null?void 0:_.map(w=>d.jsx("option",{value:w.value,children:a(w.label)},w.value))]}):d.jsx("input",{type:y.type,id:y.id,name:y.id,value:i[b]||"",onChange:w=>f(w.target.name,w.target.value),placeholder:a(y.placeholder)||"",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]},y.id)})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:u,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:""})]})]})})})]})},rDe=({onSearch:t})=>{const{wilayas:e,dairas:n,communes:r,locationsLoading:i}=nn(),[s,a]=q.useState(""),[o,l]=q.useState(""),[c,u]=q.useState(""),[f,h]=q.useState(""),[p,v]=q.useState([]),[g,y]=q.useState([]),b=S=>{const R=S.target.value;a(R),l(""),u(""),R?(v(n.filter(D=>D.wilaya_code===R)),y([])):(v([]),y([]))},_=S=>{const R=S.target.value;l(R),u(""),y(R&&s?r.filter(D=>D.daira_name===R&&D.wilaya_code===s):[])},w=S=>{u(S.target.value)},C=S=>{var D;S.preventDefault();const R=((D=e.find(N=>N.code===s))==null?void 0:D.name)||"";t({wilaya:R,daira:o,commune:c,name:f})};return d.jsxs("form",{onSubmit:C,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[d.jsxs("select",{value:s,onChange:b,className:"p-3 bg-white border border-gray-300 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-500",disabled:i,"aria-label":"Select Wilaya",children:[d.jsx("option",{value:"",children:i?" ...":" "}),e.map(S=>d.jsx("option",{value:S.code,children:S.name},S.id))]}),d.jsxs("select",{value:o,onChange:_,className:"p-3 bg-white border border-gray-300 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-500",disabled:!s||p.length===0,"aria-label":"Select Daira",children:[d.jsx("option",{value:"",children:" "}),p.map(S=>d.jsx("option",{value:S.name,children:S.name},S.id))]}),d.jsxs("select",{value:c,onChange:w,className:"p-3 bg-white border border-gray-300 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-500",disabled:!o||g.length===0,"aria-label":"Select Commune",children:[d.jsx("option",{value:"",children:" "}),g.map(S=>d.jsx("option",{value:S.name,children:S.name},S.id))]}),d.jsx("input",{type:"text",placeholder:" ...",value:f,onChange:S=>h(S.target.value),className:"p-3 bg-white border border-gray-300 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-500","aria-label":"Search by cafe name"})]}),d.jsx("button",{type:"submit",className:"w-full bg-green-600 text-white p-3 rounded-lg font-bold hover:bg-green-700 transition-colors",children:""})]})};function iDe(t,e){function n(u){return u*Math.PI/180}const r=6371,i=n(e.latitude-t.latitude),s=n(e.longitude-t.longitude),a=n(t.latitude),o=n(t.latitude),l=Math.sin(i/2)*Math.sin(i/2)+Math.sin(s/2)*Math.sin(s/2)*Math.cos(a)*Math.cos(o),c=2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l));return r*c}const sDe=()=>{const{countryCode:t,type:e,id:n}=aa(),{documents:r,staticDocuments:i,sites:s,cafes:a,loading:o}=nn(),[l,c]=q.useState(null),[u,f]=q.useState([]),[h,p]=q.useState(!1),[v,g]=q.useState(!1),[y,b]=q.useState(!1),[_,w]=q.useState(""),[C,S]=q.useState(!1),[R,D]=q.useState([]),[N,k]=q.useState(0);q.useEffect(()=>{c(null),w(""),(()=>{let J=null;if(e==="doc"&&n){const ne=r.find(z=>z.id===n);if(ne){J={...ne,type:"doc"};const Q=r.filter(j=>j.groupId===ne.groupId).sort((j,W)=>j.name.localeCompare(W.name,"ar"));D(Q);const B=Q.findIndex(j=>j.id===ne.id);k(B>=0?B:0)}}else if(e==="site"&&n){const ne=s.find(z=>z.id===n);ne&&(J={...ne,type:"site"},D([]))}else if(e==="static-doc"&&n){const ne=i.find(z=>z.id===n);ne&&(J={...ne,type:"static-doc"},D([]))}J&&J.countryCode&&J.countryCode!==t?c(null):c(J)})()},[e,n,r,s,i,t]),q.useEffect(()=>{const X=async()=>{if(R.length>0&&N<R.length){const ne=R[N].previewTemplateUrl;if(!ne){w(""),S(!1);return}S(!0);try{const z=await fetch(ne);z.ok?w(await z.text()):w("")}catch(z){console.error("Error fetching preview:",z),w("")}finally{S(!1)}}};(l==null?void 0:l.type)==="doc"&&R.length>0&&X()},[R,N,l]);const F=()=>{k(X=>(X+1)%R.length)},P=()=>{k(X=>(X-1+R.length)%R.length)},I=X=>{if(!l)return;let ne=a;const z=X.name.trim().toLowerCase();X.wilaya&&(ne=ne.filter(Q=>Q.address.wilaya===X.wilaya)),X.daira&&(ne=ne.filter(Q=>Q.address.daira===X.daira)),X.commune&&(ne=ne.filter(Q=>Q.address.commune===X.commune)),z&&(ne=ne.filter(Q=>Q.name.toLowerCase().includes(z))),f(ne),b(!0),p(!1)},U=X=>{const J=X.target.checked;if(p(J),J){if(!navigator.geolocation){alert("     ."),p(!1);return}g(!0),b(!1),navigator.geolocation.getCurrentPosition(ne=>{const z={latitude:ne.coords.latitude,longitude:ne.coords.longitude},B=a.filter(j=>j.address.latitude&&j.address.longitude).map(j=>({...j,distance:iDe(z,j.address)})).sort((j,W)=>j.distance-W.distance);f(B),g(!1),b(!0)},ne=>{console.error("Geolocation error:",ne),alert(`    : ${ne.message}`),g(!1),p(!1)})}else f([]),b(!1)},O=q.useMemo(()=>{if((l==null?void 0:l.type)==="doc"&&R.length>0){const X=R[N];return X?{...X,type:"doc"}:null}else if((l==null?void 0:l.type)==="static-doc")return{...l,type:"static-doc"};return l},[l,R,N]),K=q.useMemo(()=>{if((O==null?void 0:O.type)!=="doc")return[];const X=O;return(X.spokenFields&&X.spokenFields.length>0?X.spokenFields:X.requiredFields).filter(ne=>ne!=="profilePicture").map(ne=>ei[ne]).filter(ne=>!!ne)},[O]);return O?d.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8 text-center",children:[d.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:O.name}),d.jsx("p",{className:"text-lg text-gray-600",children:"description"in O?O.description:"url"in O?O.url:""})]}),l.type==="doc"&&d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:" "}),d.jsxs("div",{className:"relative",children:[R.length>1&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:P,className:"absolute right-3 top-1/2 -translate-y-1/2 z-10 bg-black bg-opacity-50 text-white p-4 rounded-full hover:bg-opacity-75 transition-all","aria-label":" ",children:d.jsx(yw,{className:"h-6 w-6"})}),d.jsx("button",{onClick:F,className:"absolute left-3 top-1/2 -translate-y-1/2 z-10 bg-black bg-opacity-50 text-white p-4 rounded-full hover:bg-opacity-75 transition-all","aria-label":" ",children:d.jsx(gw,{className:"h-6 w-6"})}),d.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 z-10 bg-black bg-opacity-50 text-white text-sm px-3 py-1 rounded-full",children:[N+1," / ",R.length]})]}),C?d.jsx("div",{className:"flex justify-center items-center h-64 bg-gray-50 rounded-md",children:d.jsx("p",{className:"text-gray-500",children:"  ..."})}):_?d.jsx("iframe",{srcDoc:_,title:" ",className:"w-full h-[70vh] border rounded-md bg-white"}):d.jsx("div",{className:"flex justify-center items-center h-64 bg-gray-50 rounded-md",children:d.jsx("p",{className:"text-gray-500",children:"     ."})})]})]}),l.type==="static-doc"&&"fileUrl"in l&&d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:" "}),d.jsx("iframe",{src:l.fileUrl,title:" ",className:"w-full h-[70vh] border rounded-md bg-white"}),d.jsx("div",{className:"mt-4 text-center",children:d.jsx("a",{href:l.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-green-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-green-700",children:"     "})})]}),O.type==="doc"&&d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"   "}),O.visitorExamplePrompt&&d.jsxs("div",{className:"bg-blue-50 border-r-4 border-blue-400 p-4 rounded-md mb-6",children:[d.jsx("h3",{className:"font-bold text-lg text-blue-800 mb-2",children:"   ():"}),d.jsxs("p",{className:"text-blue-700 leading-relaxed",children:['"',O.visitorExamplePrompt,'"']})]}),K.length>0&&d.jsxs("div",{className:"mt-4",children:[d.jsx("h3",{className:"font-semibold text-gray-800",children:"  :"}),d.jsx("ul",{className:"list-disc list-inside mt-2 space-y-1 text-gray-700",children:K.map(X=>d.jsx("li",{children:X.label},X.id))})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"     "}),!h&&d.jsx(rDe,{onSearch:I}),d.jsx("div",{className:"mt-4",children:d.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:h,onChange:U,disabled:v,className:"h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),d.jsx("span",{className:"font-semibold text-gray-700",children:v?"...  ":"    "})]})})]}),y&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("h2",{className:"text-2xl font-bold",children:[" (",u.length,")"]}),u.length>0?d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(X=>d.jsxs("article",{className:"bg-white rounded-lg shadow-md overflow-hidden transition-transform hover:scale-105 duration-300 flex flex-col",children:[d.jsx("img",{src:X.imageUrl,alt:X.name,className:"w-full h-48 object-cover"}),d.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[d.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:X.name}),d.jsxs("p",{className:"text-gray-600 mb-4 text-sm",children:[X.address.commune,", ",X.address.wilaya]}),X.distance!==void 0&&d.jsxs("p",{className:"text-sm font-bold text-blue-700 bg-blue-100 rounded-full px-3 py-1 self-start mb-4",children:["~ ",X.distance.toFixed(1)," "]}),d.jsx("div",{className:"flex-grow"}),d.jsx(en,{to:`/${t}/profile/${X.numericId}`,className:"block text-center w-full mt-auto bg-blue-100 text-blue-800 font-semibold py-2 px-4 rounded-lg hover:bg-blue-200 transition-colors",children:" "})]})]},X.id))}):d.jsx("div",{className:"text-center py-10 bg-white rounded-lg shadow",children:d.jsx("p",{className:"text-gray-600 text-lg",children:"      ."})})]})]}):d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"    "}),d.jsx(en,{to:`/${t}/services`,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"   "})]})};if(gr.Quill){const t=gr.Quill.import("attributors/style/size");t.whitelist=["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px"],gr.Quill.register("attributors/style/size",t,!0)}const aDe=t=>t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,""),oDe=()=>{const{staticDocuments:t}=nn(),[e,n]=q.useState(t),[r,i]=q.useState({isOpen:!1,mode:"create",doc:null}),[s,a]=q.useState({name:"",description:"",fileUrl:"",countryCode:"",tags:""}),[o,l]=q.useState(null),[c,u]=q.useState(!1);q.useEffect(()=>n(t),[t]);const f=()=>{a({name:"",description:"",fileUrl:"",countryCode:"",tags:""}),l(null),i({isOpen:!0,mode:"create",doc:null})},h=_=>{a({name:_.name,description:_.description,fileUrl:_.fileUrl,countryCode:_.countryCode||"",tags:_.tags||""}),l(null),i({isOpen:!0,mode:"edit",doc:_})},p=()=>{i({isOpen:!1,mode:"create",doc:null})},v=_=>{_.target.files&&_.target.files[0]&&(l(_.target.files[0]),g(_.target.files[0]))},g=async _=>{if(!_){alert("   .");return}u(!0);try{const w=await gm(_);a(C=>({...C,fileUrl:w})),alert("      !")}catch(w){console.error("Upload error:",w),alert(`  : ${w.message}`)}finally{u(!1)}},y=async _=>{if(_.preventDefault(),!s.fileUrl){alert("     .");return}const w={...s,slug:aDe(s.name)};try{r.mode==="create"?(await of.create(w),n(C=>[...C,{...w,id:"new-"+Date.now(),slug:w.slug||""}])):r.doc&&(await of.update(r.doc.id,w),n(C=>C.map(S=>S.id===r.doc.id?{...w,id:r.doc.id}:S))),alert("  !"),p()}catch(C){console.error("Failed to save static doc:",C),alert(" .")}},b=async _=>{if(window.confirm("        "))try{await of.delete(_),n(w=>w.filter(C=>C.id!==_)),alert("  !")}catch(w){console.error("Failed to delete static doc:",w),alert(" .")}};return d.jsxs("div",{children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"   (PDF)"}),d.jsx("button",{onClick:f,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"+   "})]}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:e.map(_=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:_.name}),d.jsx("td",{className:"p-3 text-gray-600 text-sm max-w-md",title:_.description.replace(/<[^>]*>?/gm,""),children:d.jsx("div",{className:"prose prose-sm max-w-none line-clamp-2 compact-prose",dangerouslySetInnerHTML:{__html:_.description}})}),d.jsx("td",{className:"p-3 text-gray-600",children:_.countryCode||""}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse",children:[_.slug&&d.jsx("a",{href:`/${_.countryCode||"dz"}/doc/${_.slug}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>h(_),className:"text-green-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>b(_.id),className:"text-red-600 hover:underline text-sm font-semibold",children:""})]})]},_.id))})]})})}),r.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",children:d.jsxs("form",{onSubmit:y,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:r.mode==="create"?"  ":" "})}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",id:"name",value:s.name,onChange:_=>a(w=>({...w,name:_.target.value})),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:""}),d.jsx(gr,{theme:"snow",value:s.description,onChange:_=>a(w=>({...w,description:_})),modules:{toolbar:[[{size:["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px",!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"},{align:[]}],["link","image","video"],["clean"]]}})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700 mb-1",children:" ( )"}),d.jsx("input",{type:"text",id:"tags",value:s.tags||"",onChange:_=>a(w=>({...w,tags:_.target.value})),placeholder:":  , , ",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"countryCode",className:"block text-sm font-medium text-gray-700 mb-1",children:" ( : dz)"}),d.jsx("input",{type:"text",id:"countryCode",value:s.countryCode||"",onChange:_=>a(w=>({...w,countryCode:_.target.value.toLowerCase()})),placeholder:"  ",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500"})]}),d.jsxs("div",{className:"space-y-3 border-t pt-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:" "}),d.jsxs("div",{children:[d.jsxs("label",{className:"w-full flex items-center justify-center gap-2 bg-blue-100 text-blue-800 font-semibold py-3 px-4 rounded-lg hover:bg-blue-200 transition-colors cursor-pointer",children:[c?d.jsx(Ct,{className:"animate-spin"}):d.jsx(Nl,{}),d.jsx("span",{children:c?" ...":"  PDF "}),d.jsx("input",{type:"file",accept:".pdf",onChange:v,className:"hidden"})]}),o&&!c&&d.jsxs("p",{className:"text-xs text-gray-500 mt-2 text-center",children:[" : ",o.name]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"fileUrl",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"url",id:"fileUrl",value:s.fileUrl,readOnly:!0,placeholder:"    ...",className:"block w-full px-3 py-2 bg-gray-100 border border-gray-300 rounded-md shadow-sm"})]})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:p,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:" "})]})]})})})]})},lDe=()=>{const{docId:t}=aa(),{staticDocuments:e,loading:n,siteSettings:r}=nn(),{user:i}=Ar(),s=wi(),a=q.useRef(null),[o,l]=q.useState(!1),[c,u]=q.useState(""),f=q.useMemo(()=>e.find(_=>_.id===t),[e,t]),h=q.useMemo(()=>yi(f==null?void 0:f.fileUrl),[f]),p=(i==null?void 0:i.credits.currency)==="USD"?r==null?void 0:r.pricing.staticDocumentDownload.usd:r==null?void 0:r.pricing.staticDocumentDownload.dzd,v=(i==null?void 0:i.credits.currency)==="USD"?"$":"",g=()=>{const _=a.current;_&&_.contentWindow&&(_.contentWindow.focus(),_.contentWindow.print())},y=()=>{if(f){const _=document.createElement("a");_.href=h,_.setAttribute("download",f.name),document.body.appendChild(_),_.click(),document.body.removeChild(_)}},b=async()=>{if(!i||!r||p===void 0){u("   .        .");return}u("");const _=await JI(i,p);_.success?(l(!0),alert(`  ${p} ${v}  .`)):(u(_.message),_.message.includes("  ")&&setTimeout(()=>s("/app/billing"),2e3))};return n?d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(Ct,{className:"animate-spin text-4xl text-green-600"})}):f?d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:f.name}),o&&d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:g,className:"flex items-center gap-2 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700",children:[d.jsx(bw,{})," ",d.jsx("span",{children:""})]}),d.jsxs("button",{onClick:y,className:"flex items-center gap-2 bg-green-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-green-700",children:[d.jsx(Io,{})," ",d.jsx("span",{children:""})]})]})]}),d.jsx("div",{className:"border rounded-lg overflow-hidden bg-gray-200",children:o?d.jsx("iframe",{ref:a,src:h,title:f.name,className:"w-full h-[70vh] border-0"}):d.jsxs("div",{className:"flex flex-col items-center justify-center h-[70vh] text-center p-4",children:[d.jsx(UH,{className:"text-5xl text-gray-400 mb-4"}),d.jsx("h2",{className:"text-xl font-bold text-gray-800",children:" "}),d.jsxs("p",{className:"text-gray-600 mb-4",children:["     ",d.jsxs("span",{className:"font-bold font-mono",children:[p," ",v]}),"  ."]}),d.jsx("button",{onClick:b,className:"bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700",children:" "}),c&&d.jsx("p",{className:"text-red-500 mt-4",children:c})]})})]}):d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"    "}),d.jsx(en,{to:"/app",className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700",children:"   "})]})},cDe=()=>{const{countryCode:t,docId:e}=aa(),n=wi(),{staticDocuments:r,documents:i,fullDocuments:s,siteSettings:a,loading:o}=nn(),l=q.useMemo(()=>{const N=decodeURIComponent(e||""),k=r.find(I=>I.id===N||I.slug===N);if(k)return{...k,serviceType:"static-doc"};const F=i.find(I=>I.id===N||I.slug===N);if(F)return{...F,serviceType:"doc"};const P=s.find(I=>I.id===N||I.slug===N);return P?{...P,serviceType:"doc"}:null},[r,i,s,e]),c=(a==null?void 0:a.ads.pdfInterstitialTimer)??5,[u,f]=q.useState(c),[h,p]=q.useState(!1),v=q.useRef(null),[g,y]=q.useState(!1),[b,_]=q.useState({active:!1,format:null}),[w,C]=q.useState(!1),S=q.useMemo(()=>l?l.serviceType==="static-doc"&&l.fileUrl?yi(l.fileUrl):l.serviceType==="doc"&&"previewTemplateUrl"in l&&l.previewTemplateUrl?yi(l.previewTemplateUrl):"#":"#",[l]);q.useEffect(()=>{!o&&l&&f(c)},[o,l,c]),q.useEffect(()=>{const N=k=>{v.current&&!v.current.contains(k.target)&&y(!1)};return document.addEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[]);const R=async N=>{if(!(w||!l||l.serviceType!=="doc"||!N)){C(!0);try{const k=[...s,...i];if(N==="pdf")await Vy(k,l.id,{},{action:"download",targetLang:"ar",templateType:"preview"});else if(N==="word"){let F="previewTemplateHtml"in l?l.previewTemplateHtml:"";if(!F&&"previewTemplateUrl"in l&&l.previewTemplateUrl){const U=await fetch(yi(l.previewTemplateUrl));U.ok&&(F=await U.text())}if(!F)throw new Error("Could not load Word template content.");const P=new Blob([`
                    <html xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:w='urn:schemas-microsoft-com:office:word' xmlns='http://www.w3.org/TR/REC-html40'>
                    <head><meta charset='utf-8'><title>${l.name}</title></head>
                    <body>${F}</body>
                    </html>
                `],{type:"application/msword"}),I=document.createElement("a");I.href=URL.createObjectURL(P),I.download=`${l.slug||"document"}.doc`,document.body.appendChild(I),I.click(),document.body.removeChild(I),URL.revokeObjectURL(I.href)}}catch(k){console.error("Failed to download document:",k),alert("   .")}finally{C(!1),_({active:!1,format:null})}}};q.useEffect(()=>{if(!(o||!l)){if(b.active)if(u>0){const N=setTimeout(()=>f(k=>k-1),1e3);return()=>clearTimeout(N)}else R(b.format);else if(!h)if(u>0){const N=setTimeout(()=>f(k=>k-1),1e3);return()=>clearTimeout(N)}else p(!0)}},[u,o,l,h,b]);const D=N=>{y(!1),_({active:!0,format:N}),f(c)};if(o)return d.jsxs("div",{className:"flex flex-col items-center justify-center p-10 text-center",children:[d.jsx(Ct,{className:"animate-spin text-4xl text-green-600 mb-4"}),d.jsx("p",{className:"text-gray-600",children:"  ..."})]});if(!l)return d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"    "}),d.jsx("p",{className:"text-gray-600 mb-6",children:"         ."}),d.jsx(en,{to:"/",className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"   "})]});if(h){const N=()=>l.serviceType==="doc"&&"previewTemplateHtml"in l&&l.previewTemplateHtml?d.jsx("iframe",{srcDoc:l.previewTemplateHtml,title:l.name,className:"w-full h-full border-0"}):S!=="#"?d.jsx("iframe",{src:S,title:l.name,className:"w-full h-full border-0"}):d.jsx("div",{className:"flex items-center justify-center h-full p-8 text-center",children:d.jsx("p",{className:"text-gray-600 text-lg",children:"     ."})});return d.jsxs(d.Fragment,{children:[b.active&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-[100] flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg border space-y-4 max-w-3xl mx-auto text-center",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"   ..."}),d.jsx("p",{className:"text-gray-600",children:"    :"}),d.jsx("div",{className:"text-5xl font-bold text-green-600 font-mono tracking-widest my-4 p-4 bg-gray-100 rounded-lg",children:w?d.jsx(Ct,{className:"animate-spin"}):u}),d.jsxs("div",{className:"pt-6 border-t",children:[d.jsx("p",{className:"text-sm text-gray-500 mb-4",children:":"}),d.jsx(sc,{placement:"PDF_INTERSTITIAL"})]})]})}),d.jsxs("div",{className:"flex h-[85vh] gap-4",children:[d.jsxs("aside",{className:"w-64 flex-shrink-0 bg-white rounded-lg shadow-lg border p-4 flex flex-col",children:[d.jsxs("div",{className:"flex-grow space-y-4",children:[d.jsx("h3",{className:"text-lg font-bold text-center border-b pb-3",children:" "}),l.serviceType==="doc"&&d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:()=>n(`/${t}/go-to-site/internal-form`,{state:{targetUrl:`/${t}/public-form/${l.id}`,siteName:` : ${l.name}`}}),className:"w-full flex items-center justify-center gap-2 bg-green-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-green-700 transition-colors",children:[d.jsx(RH,{}),d.jsx("span",{children:"/"})]}),d.jsxs("div",{ref:v,className:"relative",children:[d.jsxs("button",{onClick:()=>y(k=>!k),className:"w-full flex items-center justify-center gap-2 bg-red-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-red-700 transition-colors",children:[d.jsx(Io,{}),d.jsx("span",{children:"  "})]}),g&&d.jsx("div",{className:"absolute bottom-full right-0 mb-2 w-full bg-white rounded-lg shadow-xl border z-10",children:d.jsxs("ul",{className:"py-1",children:[d.jsx("li",{children:d.jsxs("button",{onClick:()=>D("pdf"),className:"w-full text-right flex items-center gap-3 px-4 py-2 hover:bg-gray-100",children:[d.jsx(_w,{className:"text-red-500"}),d.jsx("span",{children:"  PDF"})]})}),d.jsx("li",{children:d.jsxs("button",{onClick:()=>D("word"),className:"w-full text-right flex items-center gap-3 px-4 py-2 hover:bg-gray-100",children:[d.jsx(tk,{className:"text-blue-500"}),d.jsx("span",{children:"  Word"})]})})]})})]})]})]}),d.jsx("div",{className:"mt-6 pt-6 border-t",children:d.jsx(sc,{placement:"PROFILE_SIDEBAR"})})]}),d.jsx("main",{className:"flex-1 bg-white p-2 rounded-lg shadow-lg border h-full",children:N()})]})]})}return d.jsx("div",{className:"max-w-3xl mx-auto text-center",children:d.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg border space-y-4",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"    ..."}),d.jsxs("p",{className:"text-gray-600",children:['  "',l.name,'"   :']}),d.jsx("div",{className:"text-5xl font-bold text-green-600 font-mono tracking-widest my-4 p-4 bg-gray-100 rounded-lg",children:u}),d.jsxs("div",{className:"pt-6 border-t",children:[d.jsx("p",{className:"text-sm text-gray-500 mb-4",children:":"}),d.jsx(sc,{placement:"PDF_INTERSTITIAL"})]})]})})},uDe=({cafe:t,linkTo:e,linkState:n,isOnline:r})=>{const i="https://images.unsplash.com/photo-1554118811-1e0d58224f24?auto=format&fit=crop&w=800&q=80",s=t.address.commune&&t.address.wilaya?`${t.address.commune}, ${t.address.wilaya}`:`${t.address.city||""}, ${t.address.state||""}`.replace(/^,|,$/g,"").trim(),a=`/${t.countryCode}/profile/${t.numericId}`;return d.jsxs("article",{className:"bg-white rounded-lg shadow-md overflow-hidden transition-transform hover:scale-105 duration-300 flex flex-col",children:[d.jsx("img",{src:yi(t.imageUrl)||i,alt:t.name,className:"w-full h-48 object-cover",onError:o=>{o.currentTarget.src=i}}),d.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[d.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:t.name}),r!==void 0&&d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx("span",{className:`w-2.5 h-2.5 rounded-full transition-colors duration-500 ${r===null?"bg-gray-300 animate-pulse":r?"bg-green-500":"bg-gray-400"}`}),d.jsx("span",{className:"text-xs text-gray-600",children:r===null?" ...":r?" ":" "})]}),d.jsxs("p",{className:"text-gray-600 mb-1 text-sm",children:[d.jsx("span",{className:"font-semibold",children:":"})," ",t.owner]}),d.jsxs("p",{className:"text-gray-600 mb-2 text-sm",children:[d.jsx("span",{className:"font-semibold",children:":"})," ",s]}),t.distance!==void 0&&d.jsx("div",{className:"mb-4",children:d.jsxs("span",{className:"inline-block bg-green-100 text-green-800 text-xs font-semibold px-2.5 py-1 rounded-full",children:["~ ",t.distance.toFixed(1)," "]})}),d.jsx("p",{className:"text-gray-700 mb-4 flex-grow line-clamp-2",children:t.description}),d.jsxs("div",{className:"mt-auto flex gap-2",children:[e?d.jsx(en,{to:e,state:n,className:"block text-center flex-grow font-semibold py-2 px-4 rounded-lg transition-colors bg-green-600 text-white hover:bg-green-700",children:"  "}):d.jsx(en,{to:a,className:"block text-center flex-grow font-semibold py-2 px-4 rounded-lg transition-colors bg-gray-200 text-gray-800 hover:bg-gray-300",children:"  "}),d.jsx(en,{to:a,state:{openChat:!0},className:"flex-shrink-0 flex items-center justify-center bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors",title:" ",children:d.jsx(ZI,{})})]})]})]})},Ba=t=>t?t.replace(/[]/g,"").replace(//g,"").toLowerCase():"",dDe=({cafe:t,linkTo:e,linkState:n})=>{const{usePresence:r}=Qf(),{isOnline:i}=r(t.id);return d.jsx(uDe,{cafe:t,linkTo:e,linkState:n,isOnline:i})},fDe=()=>{const t=Dr(),e=wi(),{countryCode:n}=aa(),{documents:r,sites:i,communes:s,cafes:a}=nn(),{documentIds:o}=t.state||{documentIds:[]},l=q.useMemo(()=>{const D=r.filter(k=>o.includes(k.id)).map(k=>({...k,serviceType:"doc"})),N=i.filter(k=>o.includes(k.id)).map(k=>({...k,serviceType:"site"}));return[...D,...N]},[o,r,i]),[c,u]=q.useState([]),[f,h]=q.useState(!1),[p,v]=q.useState(""),[g,y]=q.useState([]),[b,_]=q.useState(!1),w=q.useMemo(()=>o&&o.length>0?a:[],[o,a]);q.useEffect(()=>{if(!p.trim()){y([]);return}const D=[],N=[],k=new Set,F=Ba(p);if(/^\d+$/.test(p)){const I=parseInt(p,10),U=w.find(O=>O.numericId===I);U&&D.push({type:"cafe",data:U})}w.forEach(I=>{!D.some(U=>U.data.id===I.id)&&(Ba(I.name).includes(F)||Ba(I.owner).includes(F))&&D.push({type:"cafe",data:I})}),s.forEach(I=>{const U=`${I.wilaya_name}, ${I.daira_name}, ${I.name}`;k.has(U)||(Ba(I.name).includes(F)||Ba(I.daira_name).includes(F)||Ba(I.wilaya_name).includes(F))&&(N.push({type:"commune",data:I}),k.add(U))}),y([...D,...N].slice(0,15))},[p,w,s]);const C=D=>{if(D.preventDefault(),_(!1),!p.trim()){u(w),h(!0);return}const N=Ba(p),F=/^\d+$/.test(p.trim())?parseInt(p.trim(),10):null,P=w.filter(I=>F!==null&&I.numericId===F||Ba(I.name).includes(N)||Ba(I.owner).includes(N)||I.address.wilaya&&Ba(I.address.wilaya).includes(N)||I.address.daira&&Ba(I.address.daira).includes(N)||I.address.commune&&Ba(I.address.commune).includes(N));u(P),h(!0)},S=D=>{if(v(""),_(!1),h(!0),D.type==="cafe")e(`/${n}/form`,{state:{cafeId:D.data.id,selectedDocIds:o}});else if(D.type==="commune"){const N=w.filter(k=>k.address.commune===D.data.name&&k.address.daira===D.data.daira_name&&k.address.wilaya===D.data.wilaya_name);u(N)}},R=D=>{switch(D.type){case"cafe":return d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"font-semibold",children:D.data.name}),d.jsxs("span",{className:"text-xs text-gray-500",children:[D.data.address.commune," -  /"]})]});case"commune":return`${D.data.wilaya_name}, ${D.data.daira_name}, ${D.data.name}`}};return o.length===0?d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:":     ."}),d.jsx("p",{className:"text-gray-600 mb-6",children:"       ."}),d.jsx(en,{to:`/${n}`,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700",children:"   "})]}):d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8 text-center",children:[d.jsx(en,{to:`/${n}`,className:"text-green-600 hover:underline mb-4 inline-block",children:"    "}),d.jsx("h1",{className:"text-xl font-semibold text-gray-700",children:" 2:    "}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:l.map(D=>D.name).join(" ")})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"  "}),d.jsxs("form",{onSubmit:C,className:"relative max-w-2xl mx-auto flex items-center gap-2",children:[d.jsxs("div",{className:"relative flex-grow",children:[d.jsx(zA,{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"}),d.jsx("input",{type:"text",value:p,onChange:D=>v(D.target.value),onFocus:()=>_(!0),onBlur:()=>setTimeout(()=>_(!1),200),placeholder:"      (  )...",className:"w-full p-4 pr-12 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-lg","aria-label":"  "}),b&&g.length>0&&d.jsx("ul",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-gray-300 rounded-lg shadow-lg z-20 max-h-80 overflow-y-auto",children:g.map((D,N)=>d.jsx("li",{className:"px-4 py-3 cursor-pointer hover:bg-green-50 border-b last:border-b-0",onMouseDown:()=>S(D),children:R(D)},`${D.type}-${D.data.id}-${N}`))})]}),d.jsx("button",{type:"submit",className:"flex-shrink-0 bg-gray-800 text-white p-4 rounded-lg hover:bg-black transition-colors","aria-label":"",children:d.jsx(zA,{className:"h-6 w-6"})})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:f?` (${c.length})`:`      (${w.length})`}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(f?c:w).map(D=>d.jsx(dDe,{cafe:D,linkTo:`/${n}/form`,linkState:{cafeId:D.id,selectedDocIds:o}},D.id))}),f&&c.length===0&&d.jsx("div",{className:"text-center py-10 bg-white rounded-lg shadow",children:d.jsx("p",{className:"text-gray-600 text-lg",children:"         ."})})]})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var W_={};W_.version="0.18.5";var cK=1252,hDe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],_k={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},bk=function(t){hDe.indexOf(t)!=-1&&(cK=_k[0]=t)};function pDe(){bk(1252)}var Po=function(t){bk(t)};function wk(){Po(1200),pDe()}function KU(t){for(var e=[],n=0,r=t.length;n<r;++n)e[n]=t.charCodeAt(n);return e}function mDe(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n)+(t.charCodeAt(2*n+1)<<8));return e.join("")}function uK(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n+1)+(t.charCodeAt(2*n)<<8));return e.join("")}var T0=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1);return e==255&&n==254?mDe(t.slice(2)):e==254&&n==255?uK(t.slice(2)):e==65279?t.slice(1):t},Rx=function(e){return String.fromCharCode(e)},XU=function(e){return String.fromCharCode(e)},Wy,vu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function qy(t){for(var e="",n=0,r=0,i=0,s=0,a=0,o=0,l=0,c=0;c<t.length;)n=t.charCodeAt(c++),s=n>>2,r=t.charCodeAt(c++),a=(n&3)<<4|r>>4,i=t.charCodeAt(c++),o=(r&15)<<2|i>>6,l=i&63,isNaN(r)?o=l=64:isNaN(i)&&(l=64),e+=vu.charAt(s)+vu.charAt(a)+vu.charAt(o)+vu.charAt(l);return e}function Ia(t){var e="",n=0,r=0,i=0,s=0,a=0,o=0,l=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<t.length;)s=vu.indexOf(t.charAt(c++)),a=vu.indexOf(t.charAt(c++)),n=s<<2|a>>4,e+=String.fromCharCode(n),o=vu.indexOf(t.charAt(c++)),r=(a&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(r)),l=vu.indexOf(t.charAt(c++)),i=(o&3)<<6|l,l!==64&&(e+=String.fromCharCode(i));return e}var fn=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Nc=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,n){return n?new Buffer(e,n):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function $u(t){return fn?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function JU(t){return fn?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var wa=function(e){return fn?Nc(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)&255})};function Rw(t){if(typeof ArrayBuffer>"u")return wa(t);for(var e=new ArrayBuffer(t.length),n=new Uint8Array(e),r=0;r!=t.length;++r)n[r]=t.charCodeAt(r)&255;return e}function sd(t){if(Array.isArray(t))return t.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],n=0;n<t.length;++n)e[n]=String.fromCharCode(t[n]);return e.join("")}function gDe(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}function Tk(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return Tk(new Uint8Array(t));for(var e=new Array(t.length),n=0;n<t.length;++n)e[n]=t[n];return e}var Ui=fn?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Nc(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,n=0;for(e=0;e<t.length;++e)n+=t[e].length;var r=new Uint8Array(n),i=0;for(e=0,n=0;e<t.length;n+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)r.set(t[e],n);else{if(typeof t[e]=="string")throw"wtf";r.set(new Uint8Array(t[e]),n)}return r}return[].concat.apply([],t.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function yDe(t){for(var e=[],n=0,r=t.length+250,i=$u(t.length+255),s=0;s<t.length;++s){var a=t.charCodeAt(s);if(a<128)i[n++]=a;else if(a<2048)i[n++]=192|a>>6&31,i[n++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var o=t.charCodeAt(++s)&1023;i[n++]=240|a>>8&7,i[n++]=128|a>>2&63,i[n++]=128|o>>6&15|(a&3)<<4,i[n++]=128|o&63}else i[n++]=224|a>>12&15,i[n++]=128|a>>6&63,i[n++]=128|a&63;n>r&&(e.push(i.slice(0,n)),n=0,i=$u(65535),r=65530)}return e.push(i.slice(0,n)),Ui(e)}var Us=/\u0000/g,E0=/[\u0001-\u0006]/g;function Mp(t){for(var e="",n=t.length-1;n>=0;)e+=t.charAt(n--);return e}function Fo(t,e){var n=""+t;return n.length>=e?n:Br("0",e-n.length)+n}function Ek(t,e){var n=""+t;return n.length>=e?n:Br(" ",e-n.length)+n}function q_(t,e){var n=""+t;return n.length>=e?n:n+Br(" ",e-n.length)}function vDe(t,e){var n=""+Math.round(t);return n.length>=e?n:Br("0",e-n.length)+n}function xDe(t,e){var n=""+t;return n.length>=e?n:Br("0",e-n.length)+n}var YU=Math.pow(2,32);function ep(t,e){if(t>YU||t<-YU)return vDe(t,e);var n=Math.round(t);return xDe(n,e)}function $_(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var QU=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],sD=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function _De(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var Ht={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},ZU={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},bDe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function z_(t,e,n){for(var r=t<0?-1:1,i=t*r,s=0,a=1,o=0,l=1,c=0,u=0,f=Math.floor(i);c<e&&(f=Math.floor(i),o=f*a+s,u=f*c+l,!(i-f<5e-8));)i=1/(i-f),s=a,a=o,l=c,c=u;if(u>e&&(c>e?(u=l,o=s):(u=c,o=a)),!n)return[0,r*o,u];var h=Math.floor(r*o/u);return[h,r*o-h*u,u]}function tf(t,e,n){if(t>2958465||t<0)return null;var r=t|0,i=Math.floor(86400*(t-r)),s=0,a=[],o={D:r,T:i,u:86400*(t-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(r+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++r,++o.D)),r===60)a=n?[1317,10,29]:[1900,2,29],s=3;else if(r===0)a=n?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var l=new Date(1900,0,1);l.setDate(l.getDate()+r-1),a=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),r<60&&(s=(s+6)%7),n&&(s=DDe(l,a))}return o.y=a[0],o.m=a[1],o.d=a[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=s,o}var dK=new Date(1899,11,31,0,0,0),wDe=dK.getTime(),TDe=new Date(1900,2,1,0,0,0);function fK(t,e){var n=t.getTime();return e?n-=1461*24*60*60*1e3:t>=TDe&&(n+=1440*60*1e3),(n-(wDe+(t.getTimezoneOffset()-dK.getTimezoneOffset())*6e4))/(1440*60*1e3)}function Ck(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function EDe(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function CDe(t){var e=t<0?12:11,n=Ck(t.toFixed(12));return n.length<=e||(n=t.toPrecision(10),n.length<=e)?n:t.toExponential(5)}function SDe(t){var e=Ck(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function $y(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),n;return e>=-4&&e<=-1?n=t.toPrecision(10+e):Math.abs(e)<=9?n=CDe(t):e===10?n=t.toFixed(10).substr(0,12):n=SDe(t),Ck(EDe(n.toUpperCase()))}function Ff(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):$y(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return ao(14,fK(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function DDe(t,e){e[0]-=581;var n=t.getDay();return t<60&&(n=(n+6)%7),n}function ADe(t,e,n,r){var i="",s=0,a=0,o=n.y,l,c=0;switch(t){case 98:o=n.y+543;case 121:switch(e.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(e.length){case 1:case 2:l=n.m,c=e.length;break;case 3:return sD[n.m-1][1];case 5:return sD[n.m-1][0];default:return sD[n.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=n.d,c=e.length;break;case 3:return QU[n.q][0];default:return QU[n.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(n.H+11)%12,c=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=n.H,c=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=n.M,c=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return n.u===0&&(e=="s"||e=="ss")?Fo(n.S,e.length):(r>=2?a=r===3?1e3:100:a=r===1?10:1,s=Math.round(a*(n.S+n.u)),s>=60*a&&(s=0),e==="s"?s===0?"0":""+s/a:(i=Fo(s,2+r),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=n.D*24+n.H;break;case"[m]":case"[mm]":l=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":l=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+e}c=e.length===3?1:2;break;case 101:l=o,c=1;break}var u=c>0?Fo(l,c):"";return u}function xu(t){var e=3;if(t.length<=e)return t;for(var n=t.length%e,r=t.substr(0,n);n!=t.length;n+=e)r+=(r.length>0?",":"")+t.substr(n,e);return r}var hK=/%/g;function NDe(t,e,n){var r=e.replace(hK,""),i=e.length-r.length;return oc(t,r,n*Math.pow(10,2*i))+Br("%",i)}function IDe(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return oc(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function pK(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+pK(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),n.indexOf("e")===-1){var a=Math.floor(Math.log(e)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(a-n.length+s):n+="E+"+(a-s);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(i+s)%i)+"."+u.substr(s)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var mK=/# (\?+)( ?)\/( ?)(\d+)/;function kDe(t,e,n){var r=parseInt(t[4],10),i=Math.round(e*r),s=Math.floor(i/r),a=i-s*r,o=r;return n+(s===0?"":""+s)+" "+(a===0?Br(" ",t[1].length+1+t[4].length):Ek(a,t[1].length)+t[2]+"/"+t[3]+Fo(o,t[4].length))}function RDe(t,e,n){return n+(e===0?"":""+e)+Br(" ",t[1].length+2+t[4].length)}var gK=/^#*0*\.([0#]+)/,yK=/\).*[0#]/,vK=/\(###\) ###\\?-####/;function Ns(t){for(var e="",n,r=0;r!=t.length;++r)switch(n=t.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(n)}return e}function eO(t,e){var n=Math.pow(10,e);return""+Math.round(t*n)/n}function tO(t,e){var n=t-Math.floor(t),r=Math.pow(10,e);return e<(""+Math.round(n*r)).length?0:Math.round(n*r)}function PDe(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function FDe(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function $a(t,e,n){if(t.charCodeAt(0)===40&&!e.match(yK)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?$a("n",r,n):"("+$a("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return IDe(t,e,n);if(e.indexOf("%")!==-1)return NDe(t,e,n);if(e.indexOf("E")!==-1)return pK(e,n);if(e.charCodeAt(0)===36)return"$"+$a(t,e.substr(e.charAt(1)==" "?2:1),n);var i,s,a,o,l=Math.abs(n),c=n<0?"-":"";if(e.match(/^00+$/))return c+ep(l,e.length);if(e.match(/^[#?]+$/))return i=ep(n,0),i==="0"&&(i=""),i.length>e.length?i:Ns(e.substr(0,e.length-i.length))+i;if(s=e.match(mK))return kDe(s,l,c);if(e.match(/^#+0+$/))return c+ep(l,e.length-e.indexOf("0"));if(s=e.match(gK))return i=eO(n,s[1].length).replace(/^([^\.]+)$/,"$1."+Ns(s[1])).replace(/\.$/,"."+Ns(s[1])).replace(/\.(\d*)$/,function(v,g){return"."+g+Br("0",Ns(s[1]).length-g.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return c+eO(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return c+xu(ep(l,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+$a(t,e,-n):xu(""+(Math.floor(n)+PDe(n,s[1].length)))+"."+Fo(tO(n,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return $a(t,e.replace(/^#,#*,/,""),n);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Mp($a(t,e.replace(/[\\-]/g,""),n)),a=0,Mp(Mp(e.replace(/\\/g,"")).replace(/[0#]/g,function(v){return a<i.length?i.charAt(a++):v==="0"?"0":""}));if(e.match(vK))return i=$a(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=z_(l,Math.pow(10,a)-1,!1),i=""+c,u=oc("n",s[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+s[2]+"/"+s[3],u=q_(o[2],a),u.length<s[4].length&&(u=Ns(s[4].substr(s[4].length-u.length))+u),i+=u,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=z_(l,Math.pow(10,a)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?Ek(o[1],a)+s[2]+"/"+s[3]+q_(o[2],a):Br(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=ep(n,0),e.length<=i.length?i:Ns(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var f=e.indexOf(".")-a,h=e.length-i.length-f;return Ns(e.substr(0,f)+i+e.substr(e.length-h))}if(s=e.match(/^00,000\.([#0]*0)$/))return a=tO(n,s[1].length),n<0?"-"+$a(t,e,-n):xu(FDe(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?Fo(0,3-v.length):"")+v})+"."+Fo(a,s[1].length);switch(e){case"###,##0.00":return $a(t,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var p=xu(ep(l,0));return p!=="0"?c+p:"";case"###,###.00":return $a(t,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return $a(t,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function MDe(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return oc(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function UDe(t,e,n){var r=e.replace(hK,""),i=e.length-r.length;return oc(t,r,n*Math.pow(10,2*i))+Br("%",i)}function xK(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+xK(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),!n.match(/[Ee]/)){var a=Math.floor(Math.log(e)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(a-n.length+s):n+="E+"+(a-s),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(i+s)%i)+"."+u.substr(s)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function il(t,e,n){if(t.charCodeAt(0)===40&&!e.match(yK)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?il("n",r,n):"("+il("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return MDe(t,e,n);if(e.indexOf("%")!==-1)return UDe(t,e,n);if(e.indexOf("E")!==-1)return xK(e,n);if(e.charCodeAt(0)===36)return"$"+il(t,e.substr(e.charAt(1)==" "?2:1),n);var i,s,a,o,l=Math.abs(n),c=n<0?"-":"";if(e.match(/^00+$/))return c+Fo(l,e.length);if(e.match(/^[#?]+$/))return i=""+n,n===0&&(i=""),i.length>e.length?i:Ns(e.substr(0,e.length-i.length))+i;if(s=e.match(mK))return RDe(s,l,c);if(e.match(/^#+0+$/))return c+Fo(l,e.length-e.indexOf("0"));if(s=e.match(gK))return i=(""+n).replace(/^([^\.]+)$/,"$1."+Ns(s[1])).replace(/\.$/,"."+Ns(s[1])),i=i.replace(/\.(\d*)$/,function(v,g){return"."+g+Br("0",Ns(s[1]).length-g.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return c+xu(""+l);if(s=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+il(t,e,-n):xu(""+n)+"."+Br("0",s[1].length);if(s=e.match(/^#,#*,#0/))return il(t,e.replace(/^#,#*,/,""),n);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Mp(il(t,e.replace(/[\\-]/g,""),n)),a=0,Mp(Mp(e.replace(/\\/g,"")).replace(/[0#]/g,function(v){return a<i.length?i.charAt(a++):v==="0"?"0":""}));if(e.match(vK))return i=il(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=z_(l,Math.pow(10,a)-1,!1),i=""+c,u=oc("n",s[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+s[2]+"/"+s[3],u=q_(o[2],a),u.length<s[4].length&&(u=Ns(s[4].substr(s[4].length-u.length))+u),i+=u,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=z_(l,Math.pow(10,a)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?Ek(o[1],a)+s[2]+"/"+s[3]+q_(o[2],a):Br(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+n,e.length<=i.length?i:Ns(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var f=e.indexOf(".")-a,h=e.length-i.length-f;return Ns(e.substr(0,f)+i+e.substr(e.length-h))}if(s=e.match(/^00,000\.([#0]*0)$/))return n<0?"-"+il(t,e,-n):xu(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?Fo(0,3-v.length):"")+v})+"."+Fo(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var p=xu(""+l);return p!=="0"?c+p:"";default:if(e.match(/\.[0#?]*$/))return il(t,e.slice(0,e.lastIndexOf(".")),n)+Ns(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function oc(t,e,n){return(n|0)===n?il(t,e,n):$a(t,e,n)}function ODe(t){for(var e=[],n=!1,r=0,i=0;r<t.length;++r)switch(t.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=t.substr(i,r-i),i=r+1}if(e[e.length]=t.substr(i),n===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var _K=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Zm(t){for(var e=0,n="",r="";e<t.length;)switch(n=t.charAt(e)){case"G":$_(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=n;t.charAt(e++)!=="]"&&e<t.length;)r+=t.charAt(e);if(r.match(_K))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(n=t.charAt(++e))>-1||n=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===n;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function LDe(t,e,n,r){for(var i=[],s="",a=0,o="",l="t",c,u,f,h="H";a<t.length;)switch(o=t.charAt(a)){case"G":if(!$_(t,a))throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"G",v:"General"},a+=7;break;case'"':for(s="";(f=t.charCodeAt(++a))!==34&&a<t.length;)s+=String.fromCharCode(f);i[i.length]={t:"t",v:s},++a;break;case"\\":var p=t.charAt(++a),v=p==="("||p===")"?p:"t";i[i.length]={t:v,v:p},++a;break;case"_":i[i.length]={t:"t",v:" "},a+=2;break;case"@":i[i.length]={t:"T",v:e},++a;break;case"B":case"b":if(t.charAt(a+1)==="1"||t.charAt(a+1)==="2"){if(c==null&&(c=tf(e,n,t.charAt(a+1)==="2"),c==null))return"";i[i.length]={t:"X",v:t.substr(a,2)},l=o,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||c==null&&(c=tf(e,n),c==null))return"";for(s=o;++a<t.length&&t.charAt(a).toLowerCase()===o;)s+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),i[i.length]={t:o,v:s},l=o;break;case"A":case"a":case"":var g={t:o,v:o};if(c==null&&(c=tf(e,n)),t.substr(a,3).toUpperCase()==="A/P"?(c!=null&&(g.v=c.H>=12?"P":"A"),g.t="T",h="h",a+=3):t.substr(a,5).toUpperCase()==="AM/PM"?(c!=null&&(g.v=c.H>=12?"PM":"AM"),g.t="T",a+=5,h="h"):t.substr(a,5).toUpperCase()==="/"?(c!=null&&(g.v=c.H>=12?"":""),g.t="T",a+=5,h="h"):(g.t="t",++a),c==null&&g.t==="T")return"";i[i.length]=g,l=o;break;case"[":for(s=o;t.charAt(a++)!=="]"&&a<t.length;)s+=t.charAt(a);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(_K)){if(c==null&&(c=tf(e,n),c==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},l=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",Zm(t)||(i[i.length]={t:"t",v:s}));break;case".":if(c!=null){for(s=o;++a<t.length&&(o=t.charAt(a))==="0";)s+=o;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=o;++a<t.length&&"0#?.,E+-%".indexOf(o=t.charAt(a))>-1;)s+=o;i[i.length]={t:"n",v:s};break;case"?":for(s=o;t.charAt(++a)===o;)s+=o;i[i.length]={t:o,v:s},l=o;break;case"*":++a,(t.charAt(a)==" "||t.charAt(a)=="*")&&++a;break;case"(":case")":i[i.length]={t:r===1?"t":o,v:o},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=o;a<t.length&&"0123456789".indexOf(t.charAt(++a))>-1;)s+=t.charAt(a);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:o,v:o},++a;break;case"$":i[i.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"t",v:o},++a;break}var y=0,b=0,_;for(a=i.length-1,l="t";a>=0;--a)switch(i[a].t){case"h":case"H":i[a].t=h,l="h",y<1&&(y=1);break;case"s":(_=i[a].v.match(/\.0+$/))&&(b=Math.max(b,_[0].length-1)),y<3&&(y=3);case"d":case"y":case"M":case"e":l=i[a].t;break;case"m":l==="s"&&(i[a].t="M",y<2&&(y=2));break;case"X":break;case"Z":y<1&&i[a].v.match(/[Hh]/)&&(y=1),y<2&&i[a].v.match(/[Mm]/)&&(y=2),y<3&&i[a].v.match(/[Ss]/)&&(y=3)}switch(y){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var w="",C;for(a=0;a<i.length;++a)switch(i[a].t){case"t":case"T":case" ":case"D":break;case"X":i[a].v="",i[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[a].v=ADe(i[a].t.charCodeAt(0),i[a].v,c,b),i[a].t="t";break;case"n":case"?":for(C=a+1;i[C]!=null&&((o=i[C].t)==="?"||o==="D"||(o===" "||o==="t")&&i[C+1]!=null&&(i[C+1].t==="?"||i[C+1].t==="t"&&i[C+1].v==="/")||i[a].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[C].v==="/"||i[C].v===" "&&i[C+1]!=null&&i[C+1].t=="?"));)i[a].v+=i[C].v,i[C]={v:"",t:";"},++C;w+=i[a].v,a=C-1;break;case"G":i[a].t="t",i[a].v=Ff(e,n);break}var S="",R,D;if(w.length>0){w.charCodeAt(0)==40?(R=e<0&&w.charCodeAt(0)===45?-e:e,D=oc("n",w,R)):(R=e<0&&r>1?-e:e,D=oc("n",w,R),R<0&&i[0]&&i[0].t=="t"&&(D=D.substr(1),i[0].v="-"+i[0].v)),C=D.length-1;var N=i.length;for(a=0;a<i.length;++a)if(i[a]!=null&&i[a].t!="t"&&i[a].v.indexOf(".")>-1){N=a;break}var k=i.length;if(N===i.length&&D.indexOf("E")===-1){for(a=i.length-1;a>=0;--a)i[a]==null||"n?".indexOf(i[a].t)===-1||(C>=i[a].v.length-1?(C-=i[a].v.length,i[a].v=D.substr(C+1,i[a].v.length)):C<0?i[a].v="":(i[a].v=D.substr(0,C+1),C=-1),i[a].t="t",k=a);C>=0&&k<i.length&&(i[k].v=D.substr(0,C+1)+i[k].v)}else if(N!==i.length&&D.indexOf("E")===-1){for(C=D.indexOf(".")-1,a=N;a>=0;--a)if(!(i[a]==null||"n?".indexOf(i[a].t)===-1)){for(u=i[a].v.indexOf(".")>-1&&a===N?i[a].v.indexOf(".")-1:i[a].v.length-1,S=i[a].v.substr(u+1);u>=0;--u)C>=0&&(i[a].v.charAt(u)==="0"||i[a].v.charAt(u)==="#")&&(S=D.charAt(C--)+S);i[a].v=S,i[a].t="t",k=a}for(C>=0&&k<i.length&&(i[k].v=D.substr(0,C+1)+i[k].v),C=D.indexOf(".")+1,a=N;a<i.length;++a)if(!(i[a]==null||"n?(".indexOf(i[a].t)===-1&&a!==N)){for(u=i[a].v.indexOf(".")>-1&&a===N?i[a].v.indexOf(".")+1:0,S=i[a].v.substr(0,u);u<i[a].v.length;++u)C<D.length&&(S+=D.charAt(C++));i[a].v=S,i[a].t="t",k=a}}}for(a=0;a<i.length;++a)i[a]!=null&&"n?".indexOf(i[a].t)>-1&&(R=r>1&&e<0&&a>0&&i[a-1].v==="-"?-e:e,i[a].v=oc(i[a].t,i[a].v,R),i[a].t="t");var F="";for(a=0;a!==i.length;++a)i[a]!=null&&(F+=i[a].v);return F}var nO=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function rO(t,e){if(e==null)return!1;var n=parseFloat(e[2]);switch(e[1]){case"=":if(t==n)return!0;break;case">":if(t>n)return!0;break;case"<":if(t<n)return!0;break;case"<>":if(t!=n)return!0;break;case">=":if(t>=n)return!0;break;case"<=":if(t<=n)return!0;break}return!1}function jDe(t,e){var n=ODe(t),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof e!="number")return[4,n.length===4||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var s=e>0?n[0]:e<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,s];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var a=n[0].match(nO),o=n[1].match(nO);return rO(e,a)?[r,n[0]]:rO(e,o)?[r,n[1]]:[r,n[a!=null&&o!=null?2:1]]}return[r,s]}function ao(t,e,n){n==null&&(n={});var r="";switch(typeof t){case"string":t=="m/d/yy"&&n.dateNF?r=n.dateNF:r=t;break;case"number":t==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:Ht)[t],r==null&&(r=n.table&&n.table[ZU[t]]||Ht[ZU[t]]),r==null&&(r=bDe[t]||"General");break}if($_(r,0))return Ff(e,n);e instanceof Date&&(e=fK(e,n.date1904));var i=jDe(r,e);if($_(i[1]))return Ff(e,n);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return LDe(i[1],e,n,i[0])}function lc(t,e){if(typeof e!="number"){e=+e||-1;for(var n=0;n<392;++n){if(Ht[n]==null){e<0&&(e=n);continue}if(Ht[n]==t){e=n;break}}e<0&&(e=391)}return Ht[e]=t,e}function Pw(t){for(var e=0;e!=392;++e)t[e]!==void 0&&lc(t[e],e)}function eg(){Ht=_De()}var BDe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},bK=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function VDe(t){var e=typeof t=="number"?Ht[t]:t;return e=e.replace(bK,"(\\d+)"),new RegExp("^"+e+"$")}function WDe(t,e,n){var r=-1,i=-1,s=-1,a=-1,o=-1,l=-1;(e.match(bK)||[]).forEach(function(f,h){var p=parseInt(n[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":r=p;break;case"d":s=p;break;case"h":a=p;break;case"s":l=p;break;case"m":a>=0?o=p:i=p;break}}),l>=0&&o==-1&&i>=0&&(o=i,i=-1);var c=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return a==-1&&o==-1&&l==-1?c:r==-1&&i==-1&&s==-1?u:c+"T"+u}var qDe=(function(){var t={};t.version="1.2.0";function e(){for(var D=0,N=new Array(256),k=0;k!=256;++k)D=k,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,N[k]=D;return typeof Int32Array<"u"?new Int32Array(N):N}var n=e();function r(D){var N=0,k=0,F=0,P=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(F=0;F!=256;++F)P[F]=D[F];for(F=0;F!=256;++F)for(k=D[F],N=256+F;N<4096;N+=256)k=P[N]=k>>>8^D[k&255];var I=[];for(F=1;F!=16;++F)I[F-1]=typeof Int32Array<"u"?P.subarray(F*256,F*256+256):P.slice(F*256,F*256+256);return I}var i=r(n),s=i[0],a=i[1],o=i[2],l=i[3],c=i[4],u=i[5],f=i[6],h=i[7],p=i[8],v=i[9],g=i[10],y=i[11],b=i[12],_=i[13],w=i[14];function C(D,N){for(var k=N^-1,F=0,P=D.length;F<P;)k=k>>>8^n[(k^D.charCodeAt(F++))&255];return~k}function S(D,N){for(var k=N^-1,F=D.length-15,P=0;P<F;)k=w[D[P++]^k&255]^_[D[P++]^k>>8&255]^b[D[P++]^k>>16&255]^y[D[P++]^k>>>24]^g[D[P++]]^v[D[P++]]^p[D[P++]]^h[D[P++]]^f[D[P++]]^u[D[P++]]^c[D[P++]]^l[D[P++]]^o[D[P++]]^a[D[P++]]^s[D[P++]]^n[D[P++]];for(F+=15;P<F;)k=k>>>8^n[(k^D[P++])&255];return~k}function R(D,N){for(var k=N^-1,F=0,P=D.length,I=0,U=0;F<P;)I=D.charCodeAt(F++),I<128?k=k>>>8^n[(k^I)&255]:I<2048?(k=k>>>8^n[(k^(192|I>>6&31))&255],k=k>>>8^n[(k^(128|I&63))&255]):I>=55296&&I<57344?(I=(I&1023)+64,U=D.charCodeAt(F++)&1023,k=k>>>8^n[(k^(240|I>>8&7))&255],k=k>>>8^n[(k^(128|I>>2&63))&255],k=k>>>8^n[(k^(128|U>>6&15|(I&3)<<4))&255],k=k>>>8^n[(k^(128|U&63))&255]):(k=k>>>8^n[(k^(224|I>>12&15))&255],k=k>>>8^n[(k^(128|I>>6&63))&255],k=k>>>8^n[(k^(128|I&63))&255]);return~k}return t.table=n,t.bstr=C,t.buf=S,t.str=R,t})(),Vt=(function(){var e={};e.version="1.2.1";function n(ue,be){for(var _e=ue.split("/"),Ce=be.split("/"),Ie=0,ke=0,We=Math.min(_e.length,Ce.length);Ie<We;++Ie){if(ke=_e[Ie].length-Ce[Ie].length)return ke;if(_e[Ie]!=Ce[Ie])return _e[Ie]<Ce[Ie]?-1:1}return _e.length-Ce.length}function r(ue){if(ue.charAt(ue.length-1)=="/")return ue.slice(0,-1).indexOf("/")===-1?ue:r(ue.slice(0,-1));var be=ue.lastIndexOf("/");return be===-1?ue:ue.slice(0,be+1)}function i(ue){if(ue.charAt(ue.length-1)=="/")return i(ue.slice(0,-1));var be=ue.lastIndexOf("/");return be===-1?ue:ue.slice(be+1)}function s(ue,be){typeof be=="string"&&(be=new Date(be));var _e=be.getHours();_e=_e<<6|be.getMinutes(),_e=_e<<5|be.getSeconds()>>>1,ue.write_shift(2,_e);var Ce=be.getFullYear()-1980;Ce=Ce<<4|be.getMonth()+1,Ce=Ce<<5|be.getDate(),ue.write_shift(2,Ce)}function a(ue){var be=ue.read_shift(2)&65535,_e=ue.read_shift(2)&65535,Ce=new Date,Ie=_e&31;_e>>>=5;var ke=_e&15;_e>>>=4,Ce.setMilliseconds(0),Ce.setFullYear(_e+1980),Ce.setMonth(ke-1),Ce.setDate(Ie);var We=be&31;be>>>=5;var qe=be&63;return be>>>=6,Ce.setHours(be),Ce.setMinutes(qe),Ce.setSeconds(We<<1),Ce}function o(ue){Gi(ue,0);for(var be={},_e=0;ue.l<=ue.length-4;){var Ce=ue.read_shift(2),Ie=ue.read_shift(2),ke=ue.l+Ie,We={};switch(Ce){case 21589:_e=ue.read_shift(1),_e&1&&(We.mtime=ue.read_shift(4)),Ie>5&&(_e&2&&(We.atime=ue.read_shift(4)),_e&4&&(We.ctime=ue.read_shift(4))),We.mtime&&(We.mt=new Date(We.mtime*1e3));break}ue.l=ke,be[Ce]=We}return be}var l;function c(){return l||(l={})}function u(ue,be){if(ue[0]==80&&ue[1]==75)return lr(ue,be);if((ue[0]|32)==109&&(ue[1]|32)==105)return ln(ue,be);if(ue.length<512)throw new Error("CFB file size "+ue.length+" < 512");var _e=3,Ce=512,Ie=0,ke=0,We=0,qe=0,Ve=0,$e=[],Je=ue.slice(0,512);Gi(Je,0);var at=f(Je);switch(_e=at[0],_e){case 3:Ce=512;break;case 4:Ce=4096;break;case 0:if(at[1]==0)return lr(ue,be);default:throw new Error("Major Version: Expected 3 or 4 saw "+_e)}Ce!==512&&(Je=ue.slice(0,Ce),Gi(Je,28));var gt=ue.slice(0,Ce);h(Je,_e);var St=Je.read_shift(4,"i");if(_e===3&&St!==0)throw new Error("# Directory Sectors: Expected 0 saw "+St);Je.l+=4,We=Je.read_shift(4,"i"),Je.l+=4,Je.chk("00100000","Mini Stream Cutoff Size: "),qe=Je.read_shift(4,"i"),Ie=Je.read_shift(4,"i"),Ve=Je.read_shift(4,"i"),ke=Je.read_shift(4,"i");for(var yt=-1,ht=0;ht<109&&(yt=Je.read_shift(4,"i"),!(yt<0));++ht)$e[ht]=yt;var Jt=p(ue,Ce);y(Ve,ke,Jt,Ce,$e);var Fn=_(Jt,We,$e,Ce);Fn[We].name="!Directory",Ie>0&&qe!==U&&(Fn[qe].name="!MiniFAT"),Fn[$e[0]].name="!FAT",Fn.fat_addrs=$e,Fn.ssz=Ce;var Dn={},jn=[],uo=[],zo=[];w(We,Fn,Jt,jn,Ie,Dn,uo,qe),v(uo,zo,jn),jn.shift();var da={FileIndex:uo,FullPaths:zo};return be&&be.raw&&(da.raw={header:gt,sectors:Jt}),da}function f(ue){if(ue[ue.l]==80&&ue[ue.l+1]==75)return[0,0];ue.chk(O,"Header Signature: "),ue.l+=16;var be=ue.read_shift(2,"u");return[ue.read_shift(2,"u"),be]}function h(ue,be){var _e=9;switch(ue.l+=2,_e=ue.read_shift(2)){case 9:if(be!=3)throw new Error("Sector Shift: Expected 9 saw "+_e);break;case 12:if(be!=4)throw new Error("Sector Shift: Expected 12 saw "+_e);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+_e)}ue.chk("0600","Mini Sector Shift: "),ue.chk("000000000000","Reserved: ")}function p(ue,be){for(var _e=Math.ceil(ue.length/be)-1,Ce=[],Ie=1;Ie<_e;++Ie)Ce[Ie-1]=ue.slice(Ie*be,(Ie+1)*be);return Ce[_e-1]=ue.slice(_e*be),Ce}function v(ue,be,_e){for(var Ce=0,Ie=0,ke=0,We=0,qe=0,Ve=_e.length,$e=[],Je=[];Ce<Ve;++Ce)$e[Ce]=Je[Ce]=Ce,be[Ce]=_e[Ce];for(;qe<Je.length;++qe)Ce=Je[qe],Ie=ue[Ce].L,ke=ue[Ce].R,We=ue[Ce].C,$e[Ce]===Ce&&(Ie!==-1&&$e[Ie]!==Ie&&($e[Ce]=$e[Ie]),ke!==-1&&$e[ke]!==ke&&($e[Ce]=$e[ke])),We!==-1&&($e[We]=Ce),Ie!==-1&&Ce!=$e[Ce]&&($e[Ie]=$e[Ce],Je.lastIndexOf(Ie)<qe&&Je.push(Ie)),ke!==-1&&Ce!=$e[Ce]&&($e[ke]=$e[Ce],Je.lastIndexOf(ke)<qe&&Je.push(ke));for(Ce=1;Ce<Ve;++Ce)$e[Ce]===Ce&&(ke!==-1&&$e[ke]!==ke?$e[Ce]=$e[ke]:Ie!==-1&&$e[Ie]!==Ie&&($e[Ce]=$e[Ie]));for(Ce=1;Ce<Ve;++Ce)if(ue[Ce].type!==0){if(qe=Ce,qe!=$e[qe])do qe=$e[qe],be[Ce]=be[qe]+"/"+be[Ce];while(qe!==0&&$e[qe]!==-1&&qe!=$e[qe]);$e[Ce]=-1}for(be[0]+="/",Ce=1;Ce<Ve;++Ce)ue[Ce].type!==2&&(be[Ce]+="/")}function g(ue,be,_e){for(var Ce=ue.start,Ie=ue.size,ke=[],We=Ce;_e&&Ie>0&&We>=0;)ke.push(be.slice(We*I,We*I+I)),Ie-=I,We=Hd(_e,We*4);return ke.length===0?nt(0):Ui(ke).slice(0,ue.size)}function y(ue,be,_e,Ce,Ie){var ke=U;if(ue===U){if(be!==0)throw new Error("DIFAT chain shorter than expected")}else if(ue!==-1){var We=_e[ue],qe=(Ce>>>2)-1;if(!We)return;for(var Ve=0;Ve<qe&&(ke=Hd(We,Ve*4))!==U;++Ve)Ie.push(ke);y(Hd(We,Ce-4),be-1,_e,Ce,Ie)}}function b(ue,be,_e,Ce,Ie){var ke=[],We=[];Ie||(Ie=[]);var qe=Ce-1,Ve=0,$e=0;for(Ve=be;Ve>=0;){Ie[Ve]=!0,ke[ke.length]=Ve,We.push(ue[Ve]);var Je=_e[Math.floor(Ve*4/Ce)];if($e=Ve*4&qe,Ce<4+$e)throw new Error("FAT boundary crossed: "+Ve+" 4 "+Ce);if(!ue[Je])break;Ve=Hd(ue[Je],$e)}return{nodes:ke,data:mO([We])}}function _(ue,be,_e,Ce){var Ie=ue.length,ke=[],We=[],qe=[],Ve=[],$e=Ce-1,Je=0,at=0,gt=0,St=0;for(Je=0;Je<Ie;++Je)if(qe=[],gt=Je+be,gt>=Ie&&(gt-=Ie),!We[gt]){Ve=[];var yt=[];for(at=gt;at>=0;){yt[at]=!0,We[at]=!0,qe[qe.length]=at,Ve.push(ue[at]);var ht=_e[Math.floor(at*4/Ce)];if(St=at*4&$e,Ce<4+St)throw new Error("FAT boundary crossed: "+at+" 4 "+Ce);if(!ue[ht]||(at=Hd(ue[ht],St),yt[at]))break}ke[gt]={nodes:qe,data:mO([Ve])}}return ke}function w(ue,be,_e,Ce,Ie,ke,We,qe){for(var Ve=0,$e=Ce.length?2:0,Je=be[ue].data,at=0,gt=0,St;at<Je.length;at+=128){var yt=Je.slice(at,at+128);Gi(yt,64),gt=yt.read_shift(2),St=Rk(yt,0,gt-$e),Ce.push(St);var ht={name:St,type:yt.read_shift(1),color:yt.read_shift(1),L:yt.read_shift(4,"i"),R:yt.read_shift(4,"i"),C:yt.read_shift(4,"i"),clsid:yt.read_shift(16),state:yt.read_shift(4,"i"),start:0,size:0},Jt=yt.read_shift(2)+yt.read_shift(2)+yt.read_shift(2)+yt.read_shift(2);Jt!==0&&(ht.ct=C(yt,yt.l-8));var Fn=yt.read_shift(2)+yt.read_shift(2)+yt.read_shift(2)+yt.read_shift(2);Fn!==0&&(ht.mt=C(yt,yt.l-8)),ht.start=yt.read_shift(4,"i"),ht.size=yt.read_shift(4,"i"),ht.size<0&&ht.start<0&&(ht.size=ht.type=0,ht.start=U,ht.name=""),ht.type===5?(Ve=ht.start,Ie>0&&Ve!==U&&(be[Ve].name="!StreamData")):ht.size>=4096?(ht.storage="fat",be[ht.start]===void 0&&(be[ht.start]=b(_e,ht.start,be.fat_addrs,be.ssz)),be[ht.start].name=ht.name,ht.content=be[ht.start].data.slice(0,ht.size)):(ht.storage="minifat",ht.size<0?ht.size=0:Ve!==U&&ht.start!==U&&be[Ve]&&(ht.content=g(ht,be[Ve].data,(be[qe]||{}).data))),ht.content&&Gi(ht.content,0),ke[St]=ht,We.push(ht)}}function C(ue,be){return new Date((ba(ue,be+4)/1e7*Math.pow(2,32)+ba(ue,be)/1e7-11644473600)*1e3)}function S(ue,be){return c(),u(l.readFileSync(ue),be)}function R(ue,be){var _e=be&&be.type;switch(_e||fn&&Buffer.isBuffer(ue)&&(_e="buffer"),_e||"base64"){case"file":return S(ue,be);case"base64":return u(wa(Ia(ue)),be);case"binary":return u(wa(ue),be)}return u(ue,be)}function D(ue,be){var _e=be||{},Ce=_e.root||"Root Entry";if(ue.FullPaths||(ue.FullPaths=[]),ue.FileIndex||(ue.FileIndex=[]),ue.FullPaths.length!==ue.FileIndex.length)throw new Error("inconsistent CFB structure");ue.FullPaths.length===0&&(ue.FullPaths[0]=Ce+"/",ue.FileIndex[0]={name:Ce,type:5}),_e.CLSID&&(ue.FileIndex[0].clsid=_e.CLSID),N(ue)}function N(ue){var be="Sh33tJ5";if(!Vt.find(ue,"/"+be)){var _e=nt(4);_e[0]=55,_e[1]=_e[3]=50,_e[2]=54,ue.FileIndex.push({name:be,type:2,content:_e,size:4,L:69,R:69,C:69}),ue.FullPaths.push(ue.FullPaths[0]+be),k(ue)}}function k(ue,be){D(ue);for(var _e=!1,Ce=!1,Ie=ue.FullPaths.length-1;Ie>=0;--Ie){var ke=ue.FileIndex[Ie];switch(ke.type){case 0:Ce?_e=!0:(ue.FileIndex.pop(),ue.FullPaths.pop());break;case 1:case 2:case 5:Ce=!0,isNaN(ke.R*ke.L*ke.C)&&(_e=!0),ke.R>-1&&ke.L>-1&&ke.R==ke.L&&(_e=!0);break;default:_e=!0;break}}if(!(!_e&&!be)){var We=new Date(1987,1,19),qe=0,Ve=Object.create?Object.create(null):{},$e=[];for(Ie=0;Ie<ue.FullPaths.length;++Ie)Ve[ue.FullPaths[Ie]]=!0,ue.FileIndex[Ie].type!==0&&$e.push([ue.FullPaths[Ie],ue.FileIndex[Ie]]);for(Ie=0;Ie<$e.length;++Ie){var Je=r($e[Ie][0]);Ce=Ve[Je],Ce||($e.push([Je,{name:i(Je).replace("/",""),type:1,clsid:X,ct:We,mt:We,content:null}]),Ve[Je]=!0)}for($e.sort(function(St,yt){return n(St[0],yt[0])}),ue.FullPaths=[],ue.FileIndex=[],Ie=0;Ie<$e.length;++Ie)ue.FullPaths[Ie]=$e[Ie][0],ue.FileIndex[Ie]=$e[Ie][1];for(Ie=0;Ie<$e.length;++Ie){var at=ue.FileIndex[Ie],gt=ue.FullPaths[Ie];if(at.name=i(gt).replace("/",""),at.L=at.R=at.C=-(at.color=1),at.size=at.content?at.content.length:0,at.start=0,at.clsid=at.clsid||X,Ie===0)at.C=$e.length>1?1:-1,at.size=0,at.type=5;else if(gt.slice(-1)=="/"){for(qe=Ie+1;qe<$e.length&&r(ue.FullPaths[qe])!=gt;++qe);for(at.C=qe>=$e.length?-1:qe,qe=Ie+1;qe<$e.length&&r(ue.FullPaths[qe])!=r(gt);++qe);at.R=qe>=$e.length?-1:qe,at.type=1}else r(ue.FullPaths[Ie+1]||"")==r(gt)&&(at.R=Ie+1),at.type=2}}}function F(ue,be){var _e=be||{};if(_e.fileType=="mad")return rn(ue,_e);switch(k(ue),_e.fileType){case"zip":return Tn(ue,_e)}var Ce=(function(St){for(var yt=0,ht=0,Jt=0;Jt<St.FileIndex.length;++Jt){var Fn=St.FileIndex[Jt];if(Fn.content){var Dn=Fn.content.length;Dn>0&&(Dn<4096?yt+=Dn+63>>6:ht+=Dn+511>>9)}}for(var jn=St.FullPaths.length+3>>2,uo=yt+7>>3,zo=yt+127>>7,da=uo+ht+jn+zo,Xr=da+127>>7,Rc=Xr<=109?0:Math.ceil((Xr-109)/127);da+Xr+Rc+127>>7>Xr;)Rc=++Xr<=109?0:Math.ceil((Xr-109)/127);var cr=[1,Rc,Xr,zo,jn,ht,yt,0];return St.FileIndex[0].size=yt<<6,cr[7]=(St.FileIndex[0].start=cr[0]+cr[1]+cr[2]+cr[3]+cr[4]+cr[5])+(cr[6]+7>>3),cr})(ue),Ie=nt(Ce[7]<<9),ke=0,We=0;{for(ke=0;ke<8;++ke)Ie.write_shift(1,K[ke]);for(ke=0;ke<8;++ke)Ie.write_shift(2,0);for(Ie.write_shift(2,62),Ie.write_shift(2,3),Ie.write_shift(2,65534),Ie.write_shift(2,9),Ie.write_shift(2,6),ke=0;ke<3;++ke)Ie.write_shift(2,0);for(Ie.write_shift(4,0),Ie.write_shift(4,Ce[2]),Ie.write_shift(4,Ce[0]+Ce[1]+Ce[2]+Ce[3]-1),Ie.write_shift(4,0),Ie.write_shift(4,4096),Ie.write_shift(4,Ce[3]?Ce[0]+Ce[1]+Ce[2]-1:U),Ie.write_shift(4,Ce[3]),Ie.write_shift(-4,Ce[1]?Ce[0]-1:U),Ie.write_shift(4,Ce[1]),ke=0;ke<109;++ke)Ie.write_shift(-4,ke<Ce[2]?Ce[1]+ke:-1)}if(Ce[1])for(We=0;We<Ce[1];++We){for(;ke<236+We*127;++ke)Ie.write_shift(-4,ke<Ce[2]?Ce[1]+ke:-1);Ie.write_shift(-4,We===Ce[1]-1?U:We+1)}var qe=function(St){for(We+=St;ke<We-1;++ke)Ie.write_shift(-4,ke+1);St&&(++ke,Ie.write_shift(-4,U))};for(We=ke=0,We+=Ce[1];ke<We;++ke)Ie.write_shift(-4,J.DIFSECT);for(We+=Ce[2];ke<We;++ke)Ie.write_shift(-4,J.FATSECT);qe(Ce[3]),qe(Ce[4]);for(var Ve=0,$e=0,Je=ue.FileIndex[0];Ve<ue.FileIndex.length;++Ve)Je=ue.FileIndex[Ve],Je.content&&($e=Je.content.length,!($e<4096)&&(Je.start=We,qe($e+511>>9)));for(qe(Ce[6]+7>>3);Ie.l&511;)Ie.write_shift(-4,J.ENDOFCHAIN);for(We=ke=0,Ve=0;Ve<ue.FileIndex.length;++Ve)Je=ue.FileIndex[Ve],Je.content&&($e=Je.content.length,!(!$e||$e>=4096)&&(Je.start=We,qe($e+63>>6)));for(;Ie.l&511;)Ie.write_shift(-4,J.ENDOFCHAIN);for(ke=0;ke<Ce[4]<<2;++ke){var at=ue.FullPaths[ke];if(!at||at.length===0){for(Ve=0;Ve<17;++Ve)Ie.write_shift(4,0);for(Ve=0;Ve<3;++Ve)Ie.write_shift(4,-1);for(Ve=0;Ve<12;++Ve)Ie.write_shift(4,0);continue}Je=ue.FileIndex[ke],ke===0&&(Je.start=Je.size?Je.start-1:U);var gt=ke===0&&_e.root||Je.name;if($e=2*(gt.length+1),Ie.write_shift(64,gt,"utf16le"),Ie.write_shift(2,$e),Ie.write_shift(1,Je.type),Ie.write_shift(1,Je.color),Ie.write_shift(-4,Je.L),Ie.write_shift(-4,Je.R),Ie.write_shift(-4,Je.C),Je.clsid)Ie.write_shift(16,Je.clsid,"hex");else for(Ve=0;Ve<4;++Ve)Ie.write_shift(4,0);Ie.write_shift(4,Je.state||0),Ie.write_shift(4,0),Ie.write_shift(4,0),Ie.write_shift(4,0),Ie.write_shift(4,0),Ie.write_shift(4,Je.start),Ie.write_shift(4,Je.size),Ie.write_shift(4,0)}for(ke=1;ke<ue.FileIndex.length;++ke)if(Je=ue.FileIndex[ke],Je.size>=4096)if(Ie.l=Je.start+1<<9,fn&&Buffer.isBuffer(Je.content))Je.content.copy(Ie,Ie.l,0,Je.size),Ie.l+=Je.size+511&-512;else{for(Ve=0;Ve<Je.size;++Ve)Ie.write_shift(1,Je.content[Ve]);for(;Ve&511;++Ve)Ie.write_shift(1,0)}for(ke=1;ke<ue.FileIndex.length;++ke)if(Je=ue.FileIndex[ke],Je.size>0&&Je.size<4096)if(fn&&Buffer.isBuffer(Je.content))Je.content.copy(Ie,Ie.l,0,Je.size),Ie.l+=Je.size+63&-64;else{for(Ve=0;Ve<Je.size;++Ve)Ie.write_shift(1,Je.content[Ve]);for(;Ve&63;++Ve)Ie.write_shift(1,0)}if(fn)Ie.l=Ie.length;else for(;Ie.l<Ie.length;)Ie.write_shift(1,0);return Ie}function P(ue,be){var _e=ue.FullPaths.map(function(Ve){return Ve.toUpperCase()}),Ce=_e.map(function(Ve){var $e=Ve.split("/");return $e[$e.length-(Ve.slice(-1)=="/"?2:1)]}),Ie=!1;be.charCodeAt(0)===47?(Ie=!0,be=_e[0].slice(0,-1)+be):Ie=be.indexOf("/")!==-1;var ke=be.toUpperCase(),We=Ie===!0?_e.indexOf(ke):Ce.indexOf(ke);if(We!==-1)return ue.FileIndex[We];var qe=!ke.match(E0);for(ke=ke.replace(Us,""),qe&&(ke=ke.replace(E0,"!")),We=0;We<_e.length;++We)if((qe?_e[We].replace(E0,"!"):_e[We]).replace(Us,"")==ke||(qe?Ce[We].replace(E0,"!"):Ce[We]).replace(Us,"")==ke)return ue.FileIndex[We];return null}var I=64,U=-2,O="d0cf11e0a1b11ae1",K=[208,207,17,224,161,177,26,225],X="00000000000000000000000000000000",J={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:U,FREESECT:-1,HEADER_SIGNATURE:O,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:X,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ne(ue,be,_e){c();var Ce=F(ue,_e);l.writeFileSync(be,Ce)}function z(ue){for(var be=new Array(ue.length),_e=0;_e<ue.length;++_e)be[_e]=String.fromCharCode(ue[_e]);return be.join("")}function Q(ue,be){var _e=F(ue,be);switch(be&&be.type||"buffer"){case"file":return c(),l.writeFileSync(be.filename,_e),_e;case"binary":return typeof _e=="string"?_e:z(_e);case"base64":return qy(typeof _e=="string"?_e:z(_e));case"buffer":if(fn)return Buffer.isBuffer(_e)?_e:Nc(_e);case"array":return typeof _e=="string"?wa(_e):_e}return _e}var B;function j(ue){try{var be=ue.InflateRaw,_e=new be;if(_e._processChunk(new Uint8Array([3,0]),_e._finishFlushFlag),_e.bytesRead)B=ue;else throw new Error("zlib does not expose bytesRead")}catch(Ce){console.error("cannot use native zlib: "+(Ce.message||Ce))}}function W(ue,be){if(!B)return Qn(ue,be);var _e=B.InflateRaw,Ce=new _e,Ie=Ce._processChunk(ue.slice(ue.l),Ce._finishFlushFlag);return ue.l+=Ce.bytesRead,Ie}function G(ue){return B?B.deflateRawSync(ue):Oe(ue)}var Y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ee=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ae=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function de(ue){var be=(ue<<1|ue<<11)&139536|(ue<<5|ue<<15)&558144;return(be>>16|be>>8|be)&255}for(var fe=typeof Uint8Array<"u",Ae=fe?new Uint8Array(256):[],Re=0;Re<256;++Re)Ae[Re]=de(Re);function me(ue,be){var _e=Ae[ue&255];return be<=8?_e>>>8-be:(_e=_e<<8|Ae[ue>>8&255],be<=16?_e>>>16-be:(_e=_e<<8|Ae[ue>>16&255],_e>>>24-be))}function Le(ue,be){var _e=be&7,Ce=be>>>3;return(ue[Ce]|(_e<=6?0:ue[Ce+1]<<8))>>>_e&3}function V(ue,be){var _e=be&7,Ce=be>>>3;return(ue[Ce]|(_e<=5?0:ue[Ce+1]<<8))>>>_e&7}function xe(ue,be){var _e=be&7,Ce=be>>>3;return(ue[Ce]|(_e<=4?0:ue[Ce+1]<<8))>>>_e&15}function Te(ue,be){var _e=be&7,Ce=be>>>3;return(ue[Ce]|(_e<=3?0:ue[Ce+1]<<8))>>>_e&31}function le(ue,be){var _e=be&7,Ce=be>>>3;return(ue[Ce]|(_e<=1?0:ue[Ce+1]<<8))>>>_e&127}function re(ue,be,_e){var Ce=be&7,Ie=be>>>3,ke=(1<<_e)-1,We=ue[Ie]>>>Ce;return _e<8-Ce||(We|=ue[Ie+1]<<8-Ce,_e<16-Ce)||(We|=ue[Ie+2]<<16-Ce,_e<24-Ce)||(We|=ue[Ie+3]<<24-Ce),We&ke}function oe(ue,be,_e){var Ce=be&7,Ie=be>>>3;return Ce<=5?ue[Ie]|=(_e&7)<<Ce:(ue[Ie]|=_e<<Ce&255,ue[Ie+1]=(_e&7)>>8-Ce),be+3}function he(ue,be,_e){var Ce=be&7,Ie=be>>>3;return _e=(_e&1)<<Ce,ue[Ie]|=_e,be+1}function we(ue,be,_e){var Ce=be&7,Ie=be>>>3;return _e<<=Ce,ue[Ie]|=_e&255,_e>>>=8,ue[Ie+1]=_e,be+8}function ie(ue,be,_e){var Ce=be&7,Ie=be>>>3;return _e<<=Ce,ue[Ie]|=_e&255,_e>>>=8,ue[Ie+1]=_e&255,ue[Ie+2]=_e>>>8,be+16}function ce(ue,be){var _e=ue.length,Ce=2*_e>be?2*_e:be+5,Ie=0;if(_e>=be)return ue;if(fn){var ke=JU(Ce);if(ue.copy)ue.copy(ke);else for(;Ie<ue.length;++Ie)ke[Ie]=ue[Ie];return ke}else if(fe){var We=new Uint8Array(Ce);if(We.set)We.set(ue);else for(;Ie<_e;++Ie)We[Ie]=ue[Ie];return We}return ue.length=Ce,ue}function ge(ue){for(var be=new Array(ue),_e=0;_e<ue;++_e)be[_e]=0;return be}function ye(ue,be,_e){var Ce=1,Ie=0,ke=0,We=0,qe=0,Ve=ue.length,$e=fe?new Uint16Array(32):ge(32);for(ke=0;ke<32;++ke)$e[ke]=0;for(ke=Ve;ke<_e;++ke)ue[ke]=0;Ve=ue.length;var Je=fe?new Uint16Array(Ve):ge(Ve);for(ke=0;ke<Ve;++ke)$e[Ie=ue[ke]]++,Ce<Ie&&(Ce=Ie),Je[ke]=0;for($e[0]=0,ke=1;ke<=Ce;++ke)$e[ke+16]=qe=qe+$e[ke-1]<<1;for(ke=0;ke<Ve;++ke)qe=ue[ke],qe!=0&&(Je[ke]=$e[qe+16]++);var at=0;for(ke=0;ke<Ve;++ke)if(at=ue[ke],at!=0)for(qe=me(Je[ke],Ce)>>Ce-at,We=(1<<Ce+4-at)-1;We>=0;--We)be[qe|We<<at]=at&15|ke<<4;return Ce}var Ne=fe?new Uint16Array(512):ge(512),Ue=fe?new Uint16Array(32):ge(32);if(!fe){for(var Se=0;Se<512;++Se)Ne[Se]=0;for(Se=0;Se<32;++Se)Ue[Se]=0}(function(){for(var ue=[],be=0;be<32;be++)ue.push(5);ye(ue,Ue,32);var _e=[];for(be=0;be<=143;be++)_e.push(8);for(;be<=255;be++)_e.push(9);for(;be<=279;be++)_e.push(7);for(;be<=287;be++)_e.push(8);ye(_e,Ne,288)})();var Me=(function(){for(var be=fe?new Uint8Array(32768):[],_e=0,Ce=0;_e<ae.length-1;++_e)for(;Ce<ae[_e+1];++Ce)be[Ce]=_e;for(;Ce<32768;++Ce)be[Ce]=29;var Ie=fe?new Uint8Array(259):[];for(_e=0,Ce=0;_e<ee.length-1;++_e)for(;Ce<ee[_e+1];++Ce)Ie[Ce]=_e;function ke(qe,Ve){for(var $e=0;$e<qe.length;){var Je=Math.min(65535,qe.length-$e),at=$e+Je==qe.length;for(Ve.write_shift(1,+at),Ve.write_shift(2,Je),Ve.write_shift(2,~Je&65535);Je-- >0;)Ve[Ve.l++]=qe[$e++]}return Ve.l}function We(qe,Ve){for(var $e=0,Je=0,at=fe?new Uint16Array(32768):[];Je<qe.length;){var gt=Math.min(65535,qe.length-Je);if(gt<10){for($e=oe(Ve,$e,+(Je+gt==qe.length)),$e&7&&($e+=8-($e&7)),Ve.l=$e/8|0,Ve.write_shift(2,gt),Ve.write_shift(2,~gt&65535);gt-- >0;)Ve[Ve.l++]=qe[Je++];$e=Ve.l*8;continue}$e=oe(Ve,$e,+(Je+gt==qe.length)+2);for(var St=0;gt-- >0;){var yt=qe[Je];St=(St<<5^yt)&32767;var ht=-1,Jt=0;if((ht=at[St])&&(ht|=Je&-32768,ht>Je&&(ht-=32768),ht<Je))for(;qe[ht+Jt]==qe[Je+Jt]&&Jt<250;)++Jt;if(Jt>2){yt=Ie[Jt],yt<=22?$e=we(Ve,$e,Ae[yt+1]>>1)-1:(we(Ve,$e,3),$e+=5,we(Ve,$e,Ae[yt-23]>>5),$e+=3);var Fn=yt<8?0:yt-4>>2;Fn>0&&(ie(Ve,$e,Jt-ee[yt]),$e+=Fn),yt=be[Je-ht],$e=we(Ve,$e,Ae[yt]>>3),$e-=3;var Dn=yt<4?0:yt-2>>1;Dn>0&&(ie(Ve,$e,Je-ht-ae[yt]),$e+=Dn);for(var jn=0;jn<Jt;++jn)at[St]=Je&32767,St=(St<<5^qe[Je])&32767,++Je;gt-=Jt-1}else yt<=143?yt=yt+48:$e=he(Ve,$e,1),$e=we(Ve,$e,Ae[yt]),at[St]=Je&32767,++Je}$e=we(Ve,$e,0)-1}return Ve.l=($e+7)/8|0,Ve.l}return function(Ve,$e){return Ve.length<8?ke(Ve,$e):We(Ve,$e)}})();function Oe(ue){var be=nt(50+Math.floor(ue.length*1.1)),_e=Me(ue,be);return be.slice(0,_e)}var Xe=fe?new Uint16Array(32768):ge(32768),rt=fe?new Uint16Array(32768):ge(32768),it=fe?new Uint16Array(128):ge(128),Lt=1,_n=1;function cn(ue,be){var _e=Te(ue,be)+257;be+=5;var Ce=Te(ue,be)+1;be+=5;var Ie=xe(ue,be)+4;be+=4;for(var ke=0,We=fe?new Uint8Array(19):ge(19),qe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ve=1,$e=fe?new Uint8Array(8):ge(8),Je=fe?new Uint8Array(8):ge(8),at=We.length,gt=0;gt<Ie;++gt)We[Y[gt]]=ke=V(ue,be),Ve<ke&&(Ve=ke),$e[ke]++,be+=3;var St=0;for($e[0]=0,gt=1;gt<=Ve;++gt)Je[gt]=St=St+$e[gt-1]<<1;for(gt=0;gt<at;++gt)(St=We[gt])!=0&&(qe[gt]=Je[St]++);var yt=0;for(gt=0;gt<at;++gt)if(yt=We[gt],yt!=0){St=Ae[qe[gt]]>>8-yt;for(var ht=(1<<7-yt)-1;ht>=0;--ht)it[St|ht<<yt]=yt&7|gt<<3}var Jt=[];for(Ve=1;Jt.length<_e+Ce;)switch(St=it[le(ue,be)],be+=St&7,St>>>=3){case 16:for(ke=3+Le(ue,be),be+=2,St=Jt[Jt.length-1];ke-- >0;)Jt.push(St);break;case 17:for(ke=3+V(ue,be),be+=3;ke-- >0;)Jt.push(0);break;case 18:for(ke=11+le(ue,be),be+=7;ke-- >0;)Jt.push(0);break;default:Jt.push(St),Ve<St&&(Ve=St);break}var Fn=Jt.slice(0,_e),Dn=Jt.slice(_e);for(gt=_e;gt<286;++gt)Fn[gt]=0;for(gt=Ce;gt<30;++gt)Dn[gt]=0;return Lt=ye(Fn,Xe,286),_n=ye(Dn,rt,30),be}function Nr(ue,be){if(ue[0]==3&&!(ue[1]&3))return[$u(be),2];for(var _e=0,Ce=0,Ie=JU(be||1<<18),ke=0,We=Ie.length>>>0,qe=0,Ve=0;(Ce&1)==0;){if(Ce=V(ue,_e),_e+=3,Ce>>>1)Ce>>1==1?(qe=9,Ve=5):(_e=cn(ue,_e),qe=Lt,Ve=_n);else{_e&7&&(_e+=8-(_e&7));var $e=ue[_e>>>3]|ue[(_e>>>3)+1]<<8;if(_e+=32,$e>0)for(!be&&We<ke+$e&&(Ie=ce(Ie,ke+$e),We=Ie.length);$e-- >0;)Ie[ke++]=ue[_e>>>3],_e+=8;continue}for(;;){!be&&We<ke+32767&&(Ie=ce(Ie,ke+32767),We=Ie.length);var Je=re(ue,_e,qe),at=Ce>>>1==1?Ne[Je]:Xe[Je];if(_e+=at&15,at>>>=4,(at>>>8&255)===0)Ie[ke++]=at;else{if(at==256)break;at-=257;var gt=at<8?0:at-4>>2;gt>5&&(gt=0);var St=ke+ee[at];gt>0&&(St+=re(ue,_e,gt),_e+=gt),Je=re(ue,_e,Ve),at=Ce>>>1==1?Ue[Je]:rt[Je],_e+=at&15,at>>>=4;var yt=at<4?0:at-2>>1,ht=ae[at];for(yt>0&&(ht+=re(ue,_e,yt),_e+=yt),!be&&We<St&&(Ie=ce(Ie,St+100),We=Ie.length);ke<St;)Ie[ke]=Ie[ke-ht],++ke}}}return be?[Ie,_e+7>>>3]:[Ie.slice(0,ke),_e+7>>>3]}function Qn(ue,be){var _e=ue.slice(ue.l||0),Ce=Nr(_e,be);return ue.l+=Ce[1],Ce[0]}function Zn(ue,be){if(ue)typeof console<"u"&&console.error(be);else throw new Error(be)}function lr(ue,be){var _e=ue;Gi(_e,0);var Ce=[],Ie=[],ke={FileIndex:Ce,FullPaths:Ie};D(ke,{root:be.root});for(var We=_e.length-4;(_e[We]!=80||_e[We+1]!=75||_e[We+2]!=5||_e[We+3]!=6)&&We>=0;)--We;_e.l=We+4,_e.l+=4;var qe=_e.read_shift(2);_e.l+=6;var Ve=_e.read_shift(4);for(_e.l=Ve,We=0;We<qe;++We){_e.l+=20;var $e=_e.read_shift(4),Je=_e.read_shift(4),at=_e.read_shift(2),gt=_e.read_shift(2),St=_e.read_shift(2);_e.l+=8;var yt=_e.read_shift(4),ht=o(_e.slice(_e.l+at,_e.l+at+gt));_e.l+=at+gt+St;var Jt=_e.l;_e.l=yt+4,Qt(_e,$e,Je,ke,ht),_e.l=Jt}return ke}function Qt(ue,be,_e,Ce,Ie){ue.l+=2;var ke=ue.read_shift(2),We=ue.read_shift(2),qe=a(ue);if(ke&8257)throw new Error("Unsupported ZIP encryption");for(var Ve=ue.read_shift(4),$e=ue.read_shift(4),Je=ue.read_shift(4),at=ue.read_shift(2),gt=ue.read_shift(2),St="",yt=0;yt<at;++yt)St+=String.fromCharCode(ue[ue.l++]);if(gt){var ht=o(ue.slice(ue.l,ue.l+gt));(ht[21589]||{}).mt&&(qe=ht[21589].mt),((Ie||{})[21589]||{}).mt&&(qe=Ie[21589].mt)}ue.l+=gt;var Jt=ue.slice(ue.l,ue.l+$e);switch(We){case 8:Jt=W(ue,Je);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+We)}var Fn=!1;ke&8&&(Ve=ue.read_shift(4),Ve==134695760&&(Ve=ue.read_shift(4),Fn=!0),$e=ue.read_shift(4),Je=ue.read_shift(4)),$e!=be&&Zn(Fn,"Bad compressed size: "+be+" != "+$e),Je!=_e&&Zn(Fn,"Bad uncompressed size: "+_e+" != "+Je),Ln(Ce,St,Jt,{unsafe:!0,mt:qe})}function Tn(ue,be){var _e=be||{},Ce=[],Ie=[],ke=nt(1),We=_e.compression?8:0,qe=0,Ve=0,$e=0,Je=0,at=0,gt=ue.FullPaths[0],St=gt,yt=ue.FileIndex[0],ht=[],Jt=0;for(Ve=1;Ve<ue.FullPaths.length;++Ve)if(St=ue.FullPaths[Ve].slice(gt.length),yt=ue.FileIndex[Ve],!(!yt.size||!yt.content||St=="Sh33tJ5")){var Fn=Je,Dn=nt(St.length);for($e=0;$e<St.length;++$e)Dn.write_shift(1,St.charCodeAt($e)&127);Dn=Dn.slice(0,Dn.l),ht[at]=qDe.buf(yt.content,0);var jn=yt.content;We==8&&(jn=G(jn)),ke=nt(30),ke.write_shift(4,67324752),ke.write_shift(2,20),ke.write_shift(2,qe),ke.write_shift(2,We),yt.mt?s(ke,yt.mt):ke.write_shift(4,0),ke.write_shift(-4,ht[at]),ke.write_shift(4,jn.length),ke.write_shift(4,yt.content.length),ke.write_shift(2,Dn.length),ke.write_shift(2,0),Je+=ke.length,Ce.push(ke),Je+=Dn.length,Ce.push(Dn),Je+=jn.length,Ce.push(jn),ke=nt(46),ke.write_shift(4,33639248),ke.write_shift(2,0),ke.write_shift(2,20),ke.write_shift(2,qe),ke.write_shift(2,We),ke.write_shift(4,0),ke.write_shift(-4,ht[at]),ke.write_shift(4,jn.length),ke.write_shift(4,yt.content.length),ke.write_shift(2,Dn.length),ke.write_shift(2,0),ke.write_shift(2,0),ke.write_shift(2,0),ke.write_shift(2,0),ke.write_shift(4,0),ke.write_shift(4,Fn),Jt+=ke.l,Ie.push(ke),Jt+=Dn.length,Ie.push(Dn),++at}return ke=nt(22),ke.write_shift(4,101010256),ke.write_shift(2,0),ke.write_shift(2,0),ke.write_shift(2,at),ke.write_shift(2,at),ke.write_shift(4,Jt),ke.write_shift(4,Je),ke.write_shift(2,0),Ui([Ui(Ce),Ui(Ie),ke])}var pe={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Ee(ue,be){if(ue.ctype)return ue.ctype;var _e=ue.name||"",Ce=_e.match(/\.([^\.]+)$/);return Ce&&pe[Ce[1]]||be&&(Ce=(_e=be).match(/[\.\\]([^\.\\])+$/),Ce&&pe[Ce[1]])?pe[Ce[1]]:"application/octet-stream"}function Fe(ue){for(var be=qy(ue),_e=[],Ce=0;Ce<be.length;Ce+=76)_e.push(be.slice(Ce,Ce+76));return _e.join(`\r
`)+`\r
`}function Ge(ue){var be=ue.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function($e){var Je=$e.charCodeAt(0).toString(16).toUpperCase();return"="+(Je.length==1?"0"+Je:Je)});be=be.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),be.charAt(0)==`
`&&(be="=0D"+be.slice(1)),be=be.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var _e=[],Ce=be.split(`\r
`),Ie=0;Ie<Ce.length;++Ie){var ke=Ce[Ie];if(ke.length==0){_e.push("");continue}for(var We=0;We<ke.length;){var qe=76,Ve=ke.slice(We,We+qe);Ve.charAt(qe-1)=="="?qe--:Ve.charAt(qe-2)=="="?qe-=2:Ve.charAt(qe-3)=="="&&(qe-=3),Ve=ke.slice(We,We+qe),We+=qe,We<ke.length&&(Ve+="="),_e.push(Ve)}}return _e.join(`\r
`)}function st(ue){for(var be=[],_e=0;_e<ue.length;++_e){for(var Ce=ue[_e];_e<=ue.length&&Ce.charAt(Ce.length-1)=="=";)Ce=Ce.slice(0,Ce.length-1)+ue[++_e];be.push(Ce)}for(var Ie=0;Ie<be.length;++Ie)be[Ie]=be[Ie].replace(/[=][0-9A-Fa-f]{2}/g,function(ke){return String.fromCharCode(parseInt(ke.slice(1),16))});return wa(be.join(`\r
`))}function It(ue,be,_e){for(var Ce="",Ie="",ke="",We,qe=0;qe<10;++qe){var Ve=be[qe];if(!Ve||Ve.match(/^\s*$/))break;var $e=Ve.match(/^(.*?):\s*([^\s].*)$/);if($e)switch($e[1].toLowerCase()){case"content-location":Ce=$e[2].trim();break;case"content-type":ke=$e[2].trim();break;case"content-transfer-encoding":Ie=$e[2].trim();break}}switch(++qe,Ie.toLowerCase()){case"base64":We=wa(Ia(be.slice(qe).join("")));break;case"quoted-printable":We=st(be.slice(qe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Ie)}var Je=Ln(ue,Ce.slice(_e.length),We,{unsafe:!0});ke&&(Je.ctype=ke)}function ln(ue,be){if(z(ue.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var _e=be&&be.root||"",Ce=(fn&&Buffer.isBuffer(ue)?ue.toString("binary"):z(ue)).split(`\r
`),Ie=0,ke="";for(Ie=0;Ie<Ce.length;++Ie)if(ke=Ce[Ie],!!/^Content-Location:/i.test(ke)&&(ke=ke.slice(ke.indexOf("file")),_e||(_e=ke.slice(0,ke.lastIndexOf("/")+1)),ke.slice(0,_e.length)!=_e))for(;_e.length>0&&(_e=_e.slice(0,_e.length-1),_e=_e.slice(0,_e.lastIndexOf("/")+1),ke.slice(0,_e.length)!=_e););var We=(Ce[1]||"").match(/boundary="(.*?)"/);if(!We)throw new Error("MAD cannot find boundary");var qe="--"+(We[1]||""),Ve=[],$e=[],Je={FileIndex:Ve,FullPaths:$e};D(Je);var at,gt=0;for(Ie=0;Ie<Ce.length;++Ie){var St=Ce[Ie];St!==qe&&St!==qe+"--"||(gt++&&It(Je,Ce.slice(at,Ie),_e),at=Ie)}return Je}function rn(ue,be){var _e=be||{},Ce=_e.boundary||"SheetJS";Ce="------="+Ce;for(var Ie=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Ce.slice(2)+'"',"","",""],ke=ue.FullPaths[0],We=ke,qe=ue.FileIndex[0],Ve=1;Ve<ue.FullPaths.length;++Ve)if(We=ue.FullPaths[Ve].slice(ke.length),qe=ue.FileIndex[Ve],!(!qe.size||!qe.content||We=="Sh33tJ5")){We=We.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Jt){return"_x"+Jt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Jt){return"_u"+Jt.charCodeAt(0).toString(16)+"_"});for(var $e=qe.content,Je=fn&&Buffer.isBuffer($e)?$e.toString("binary"):z($e),at=0,gt=Math.min(1024,Je.length),St=0,yt=0;yt<=gt;++yt)(St=Je.charCodeAt(yt))>=32&&St<128&&++at;var ht=at>=gt*4/5;Ie.push(Ce),Ie.push("Content-Location: "+(_e.root||"file:///C:/SheetJS/")+We),Ie.push("Content-Transfer-Encoding: "+(ht?"quoted-printable":"base64")),Ie.push("Content-Type: "+Ee(qe,We)),Ie.push(""),Ie.push(ht?Ge(Je):Fe(Je))}return Ie.push(Ce+`--\r
`),Ie.join(`\r
`)}function xr(ue){var be={};return D(be,ue),be}function Ln(ue,be,_e,Ce){var Ie=Ce&&Ce.unsafe;Ie||D(ue);var ke=!Ie&&Vt.find(ue,be);if(!ke){var We=ue.FullPaths[0];be.slice(0,We.length)==We?We=be:(We.slice(-1)!="/"&&(We+="/"),We=(We+be).replace("//","/")),ke={name:i(be),type:2},ue.FileIndex.push(ke),ue.FullPaths.push(We),Ie||Vt.utils.cfb_gc(ue)}return ke.content=_e,ke.size=_e?_e.length:0,Ce&&(Ce.CLSID&&(ke.clsid=Ce.CLSID),Ce.mt&&(ke.mt=Ce.mt),Ce.ct&&(ke.ct=Ce.ct)),ke}function Qe(ue,be){D(ue);var _e=Vt.find(ue,be);if(_e){for(var Ce=0;Ce<ue.FileIndex.length;++Ce)if(ue.FileIndex[Ce]==_e)return ue.FileIndex.splice(Ce,1),ue.FullPaths.splice(Ce,1),!0}return!1}function ft(ue,be,_e){D(ue);var Ce=Vt.find(ue,be);if(Ce){for(var Ie=0;Ie<ue.FileIndex.length;++Ie)if(ue.FileIndex[Ie]==Ce)return ue.FileIndex[Ie].name=i(_e),ue.FullPaths[Ie]=_e,!0}return!1}function Ut(ue){k(ue,!0)}return e.find=P,e.read=R,e.parse=u,e.write=Q,e.writeFile=ne,e.utils={cfb_new:xr,cfb_add:Ln,cfb_del:Qe,cfb_mov:ft,cfb_gc:Ut,ReadShift:J0,CheckField:qK,prep_blob:Gi,bconcat:Ui,use_zlib:j,_deflateRaw:Oe,_inflateRaw:Qn,consts:J},e})();function $De(t){return typeof t=="string"?Rw(t):Array.isArray(t)?gDe(t):t}function zv(t,e,n){if(typeof Deno<"u"){if(n&&typeof e=="string")switch(n){case"utf8":e=new TextEncoder(n).encode(e);break;case"binary":e=Rw(e);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(t,e)}var r=n=="utf8"?yl(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,t);if(typeof Blob<"u"){var i=new Blob([$De(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,t);if(typeof saveAs<"u")return saveAs(i,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:t,saveAs:!0});var a=document.createElement("a");if(a.download!=null)return a.download=t,a.href=s,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(t);return o.open("w"),o.encoding="binary",Array.isArray(e)&&(e=sd(e)),o.write(e),o.close(),e}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+t)}function zDe(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(t);e.open("r"),e.encoding="binary";var n=e.read();return e.close(),n}catch(r){if(!r.message||!r.message.match(/onstruct/))throw r}throw new Error("Cannot access file "+t)}function zr(t){for(var e=Object.keys(t),n=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(t,e[r])&&n.push(e[r]);return n}function iO(t,e){for(var n=[],r=zr(t),i=0;i!==r.length;++i)n[t[r[i]][e]]==null&&(n[t[r[i]][e]]=r[i]);return n}function Fw(t){for(var e=[],n=zr(t),r=0;r!==n.length;++r)e[t[n[r]]]=n[r];return e}function Mw(t){for(var e=[],n=zr(t),r=0;r!==n.length;++r)e[t[n[r]]]=parseInt(n[r],10);return e}function HDe(t){for(var e=[],n=zr(t),r=0;r!==n.length;++r)e[t[n[r]]]==null&&(e[t[n[r]]]=[]),e[t[n[r]]].push(n[r]);return e}var H_=new Date(1899,11,30,0,0,0);function _i(t,e){var n=t.getTime(),r=H_.getTime()+(t.getTimezoneOffset()-H_.getTimezoneOffset())*6e4;return(n-r)/(1440*60*1e3)}var wK=new Date,GDe=H_.getTime()+(wK.getTimezoneOffset()-H_.getTimezoneOffset())*6e4,sO=wK.getTimezoneOffset();function Uw(t){var e=new Date;return e.setTime(t*24*60*60*1e3+GDe),e.getTimezoneOffset()!==sO&&e.setTime(e.getTime()+(e.getTimezoneOffset()-sO)*6e4),e}function KDe(t){var e=0,n=0,r=!1,i=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var s=1;s!=i.length;++s)if(i[s]){switch(n=1,s>3&&(r=!0),i[s].slice(i[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[s].slice(i[s].length-1));case"D":n*=24;case"H":n*=60;case"M":if(r)n*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=n*parseInt(i[s],10)}return e}var aO=new Date("2017-02-19T19:06:09.000Z"),TK=isNaN(aO.getFullYear())?new Date("2/19/17"):aO,XDe=TK.getFullYear()==2017;function yr(t,e){var n=new Date(t);if(XDe)return e>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):e<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(t instanceof Date)return t;if(TK.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return t.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function Mf(t,e){if(fn&&Buffer.isBuffer(t)){if(e){if(t[0]==255&&t[1]==254)return yl(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return yl(uK(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return yl(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return yl(new TextDecoder("utf-16be").decode(t.slice(2)))}var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(s){return n[s]||s})}catch{}for(var r=[],i=0;i!=t.length;++i)r.push(String.fromCharCode(t[i]));return r.join("")}function vr(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=vr(t[n]));return e}function Br(t,e){for(var n="";n.length<e;)n+=t;return n}function Lo(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var n=1,r=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,s){return n=-n,s}),!isNaN(e=Number(r)))?e/n:e}var JDe=["january","february","march","april","may","june","july","august","september","october","november","december"];function vm(t){var e=new Date(t),n=new Date(NaN),r=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return n;var a=t.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),a.length>3&&JDe.indexOf(a)==-1)return n}else if(a.match(/[a-z]/))return n;return r<0||r>8099?n:(i>0||s>1)&&r!=101?e:t.match(/[^-0-9:,\/\\]/)?n:e}var YDe=(function(){var t="abacaba".split(/(:?b)/i).length==5;return function(n,r,i){if(t||typeof r=="string")return n.split(r);for(var s=n.split(r),a=[s[0]],o=1;o<s.length;++o)a.push(i),a.push(s[o]);return a}})();function EK(t){return t?t.content&&t.type?Mf(t.content,!0):t.data?T0(t.data):t.asNodeBuffer&&fn?T0(t.asNodeBuffer().toString("binary")):t.asBinary?T0(t.asBinary()):t._data&&t._data.getContent?T0(Mf(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function CK(t){if(!t)return null;if(t.data)return KU(t.data);if(t.asNodeBuffer&&fn)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return typeof e=="string"?KU(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function QDe(t){return t&&t.name.slice(-4)===".bin"?CK(t):EK(t)}function Ga(t,e){for(var n=t.FullPaths||zr(t.files),r=e.toLowerCase().replace(/[\/]/g,"\\"),i=r.replace(/\\/g,"/"),s=0;s<n.length;++s){var a=n[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==a||i==a)return t.files?t.files[n[s]]:t.FileIndex[s]}return null}function Sk(t,e){var n=Ga(t,e);if(n==null)throw new Error("Cannot find file "+e+" in zip");return n}function ci(t,e,n){if(!n)return QDe(Sk(t,e));if(!e)return null;try{return ci(t,e)}catch{return null}}function Ta(t,e,n){if(!n)return EK(Sk(t,e));if(!e)return null;try{return Ta(t,e)}catch{return null}}function ZDe(t,e,n){return CK(Sk(t,e))}function oO(t){for(var e=t.FullPaths||zr(t.files),n=[],r=0;r<e.length;++r)e[r].slice(-1)!="/"&&n.push(e[r].replace(/^Root Entry[\/]/,""));return n.sort()}function on(t,e,n){if(t.FullPaths){if(typeof n=="string"){var r;return fn?r=Nc(n):r=yDe(n),Vt.utils.cfb_add(t,e,r)}Vt.utils.cfb_add(t,e,n)}else t.file(e,n)}function Dk(){return Vt.utils.cfb_new()}function SK(t,e){switch(e.type){case"base64":return Vt.read(t,{type:"base64"});case"binary":return Vt.read(t,{type:"binary"});case"buffer":case"array":return Vt.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function C0(t,e){if(t.charAt(0)=="/")return t.slice(1);var n=e.split("/");e.slice(-1)!="/"&&n.pop();for(var r=t.split("/");r.length!==0;){var i=r.shift();i===".."?n.pop():i!=="."&&n.push(i)}return n.join("/")}var ri=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,e4e=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,lO=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,t4e=/<[^>]*>/g,ws=ri.match(lO)?lO:t4e,n4e=/<\w*:/,r4e=/<(\/?)\w+:/;function Yt(t,e,n){for(var r={},i=0,s=0;i!==t.length&&!((s=t.charCodeAt(i))===32||s===10||s===13);++i);if(e||(r[0]=t.slice(0,i)),i===t.length)return r;var a=t.match(e4e),o=0,l="",c=0,u="",f="",h=1;if(a)for(c=0;c!=a.length;++c){for(f=a[c],s=0;s!=f.length&&f.charCodeAt(s)!==61;++s);for(u=f.slice(0,s).trim();f.charCodeAt(s+1)==32;)++s;for(h=(i=f.charCodeAt(s+1))==34||i==39?1:0,l=f.slice(s+1+h,f.length-h),o=0;o!=u.length&&u.charCodeAt(o)!==58;++o);if(o===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),r[u]=l,r[u.toLowerCase()]=l;else{var p=(o===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(o+1);if(r[p]&&u.slice(o-3,o)=="ext")continue;r[p]=l,r[p.toLowerCase()]=l}}return r}function Rl(t){return t.replace(r4e,"<$1")}var DK={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Ak=Fw(DK),Cn=(function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function n(r){var i=r+"",s=i.indexOf("<![CDATA[");if(s==-1)return i.replace(t,function(o,l){return DK[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(e,function(o,l){return String.fromCharCode(parseInt(l,16))});var a=i.indexOf("]]>");return n(i.slice(0,s))+i.slice(s+9,a)+n(i.slice(a+3))}})(),Nk=/[&<>'"]/g,i4e=/[\u0000-\u0008\u000b-\u001f]/g;function Gn(t){var e=t+"";return e.replace(Nk,function(n){return Ak[n]}).replace(i4e,function(n){return"_x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+"_"})}function cO(t){return Gn(t).replace(/ /g,"_x0020_")}var AK=/[\u0000-\u001f]/g;function Ik(t){var e=t+"";return e.replace(Nk,function(n){return Ak[n]}).replace(/\n/g,"<br/>").replace(AK,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}function s4e(t){var e=t+"";return e.replace(Nk,function(n){return Ak[n]}).replace(AK,function(n){return"&#x"+n.charCodeAt(0).toString(16).toUpperCase()+";"})}var uO=(function(){var t=/&#(\d+);/g;function e(n,r){return String.fromCharCode(parseInt(r,10))}return function(r){return r.replace(t,e)}})();function a4e(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function hr(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function aD(t){for(var e="",n=0,r=0,i=0,s=0,a=0,o=0;n<t.length;){if(r=t.charCodeAt(n++),r<128){e+=String.fromCharCode(r);continue}if(i=t.charCodeAt(n++),r>191&&r<224){a=(r&31)<<6,a|=i&63,e+=String.fromCharCode(a);continue}if(s=t.charCodeAt(n++),r<240){e+=String.fromCharCode((r&15)<<12|(i&63)<<6|s&63);continue}a=t.charCodeAt(n++),o=((r&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function dO(t){var e=$u(2*t.length),n,r,i=1,s=0,a=0,o;for(r=0;r<t.length;r+=i)i=1,(o=t.charCodeAt(r))<128?n=o:o<224?(n=(o&31)*64+(t.charCodeAt(r+1)&63),i=2):o<240?(n=(o&15)*4096+(t.charCodeAt(r+1)&63)*64+(t.charCodeAt(r+2)&63),i=3):(i=4,n=(o&7)*262144+(t.charCodeAt(r+1)&63)*4096+(t.charCodeAt(r+2)&63)*64+(t.charCodeAt(r+3)&63),n-=65536,a=55296+(n>>>10&1023),n=56320+(n&1023)),a!==0&&(e[s++]=a&255,e[s++]=a>>>8,a=0),e[s++]=n%256,e[s++]=n>>>8;return e.slice(0,s).toString("ucs2")}function fO(t){return Nc(t,"binary").toString("utf8")}var Px="foo bar baz",Yn=fn&&(fO(Px)==aD(Px)&&fO||dO(Px)==aD(Px)&&dO)||aD,yl=fn?function(t){return Nc(t,"utf8").toString("binary")}:function(t){for(var e=[],n=0,r=0,i=0;n<t.length;)switch(r=t.charCodeAt(n++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=t.charCodeAt(n++)-56320+(r<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},zy=(function(){var t={};return function(n,r){var i=n+"|"+(r||"");return t[i]?t[i]:t[i]=new RegExp("<(?:\\w+:)?"+n+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+n+">",r||"")}})(),NK=(function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)r=r.replace(t[i][0],t[i][1]);return r}})(),o4e=(function(){var t={};return function(n){return t[n]!==void 0?t[n]:t[n]=new RegExp("<(?:vt:)?"+n+">([\\s\\S]*?)</(?:vt:)?"+n+">","g")}})(),l4e=/<\/?(?:vt:)?variant>/g,c4e=/<(?:vt:)([^>]*)>([\s\S]*)</;function hO(t,e){var n=Yt(t),r=t.match(o4e(n.baseType))||[],i=[];if(r.length!=n.size){if(e.WTF)throw new Error("unexpected vector length "+r.length+" != "+n.size);return i}return r.forEach(function(s){var a=s.replace(l4e,"").match(c4e);a&&i.push({v:Yn(a[2]),t:a[1]})}),i}var IK=/(^\s|\s$|\n)/;function Xi(t,e){return"<"+t+(e.match(IK)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function Hy(t){return zr(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function _t(t,e,n){return"<"+t+(n!=null?Hy(n):"")+(e!=null?(e.match(IK)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function iN(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(n){if(e)throw n}return""}function u4e(t,e){switch(typeof t){case"string":var n=_t("vt:lpwstr",Gn(t));return n=n.replace(/&quot;/g,"_x0022_"),n;case"number":return _t((t|0)==t?"vt:i4":"vt:r8",Gn(String(t)));case"boolean":return _t("vt:bool",t?"true":"false")}if(t instanceof Date)return _t("vt:filetime",iN(t));throw new Error("Unable to serialize "+t)}function kk(t){if(fn&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return Yn(sd(Tk(t)));throw new Error("Bad input format: expected Buffer or string")}var Gy=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,vi={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},th=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],_a={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function d4e(t,e){for(var n=1-2*(t[e+7]>>>7),r=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,s=5;s>=0;--s)i=i*256+t[e+s];return r==2047?i==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),n*Math.pow(2,r-52)*i)}function f4e(t,e,n){var r=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,a=r?-e:e;isFinite(a)?a==0?i=s=0:(i=Math.floor(Math.log(a)/Math.LN2),s=a*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var o=0;o<=5;++o,s/=256)t[n+o]=s&255;t[n+6]=(i&15)<<4|s&15,t[n+7]=i>>4|r}var pO=function(t){for(var e=[],n=10240,r=0;r<t[0].length;++r)if(t[0][r])for(var i=0,s=t[0][r].length;i<s;i+=n)e.push.apply(e,t[0][r].slice(i,i+n));return e},mO=fn?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Nc(e)})):pO(t)}:pO,gO=function(t,e,n){for(var r=[],i=e;i<n;i+=2)r.push(String.fromCharCode(ec(t,i)));return r.join("").replace(Us,"")},Rk=fn?function(t,e,n){return Buffer.isBuffer(t)?t.toString("utf16le",e,n).replace(Us,""):gO(t,e,n)}:gO,yO=function(t,e,n){for(var r=[],i=e;i<e+n;++i)r.push(("0"+t[i].toString(16)).slice(-2));return r.join("")},kK=fn?function(t,e,n){return Buffer.isBuffer(t)?t.toString("hex",e,e+n):yO(t,e,n)}:yO,vO=function(t,e,n){for(var r=[],i=e;i<n;i++)r.push(String.fromCharCode(mp(t,i)));return r.join("")},Hv=fn?function(e,n,r){return Buffer.isBuffer(e)?e.toString("utf8",n,r):vO(e,n,r)}:vO,RK=function(t,e){var n=ba(t,e);return n>0?Hv(t,e+4,e+4+n-1):""},PK=RK,FK=function(t,e){var n=ba(t,e);return n>0?Hv(t,e+4,e+4+n-1):""},MK=FK,UK=function(t,e){var n=2*ba(t,e);return n>0?Hv(t,e+4,e+4+n-1):""},OK=UK,LK=function(e,n){var r=ba(e,n);return r>0?Rk(e,n+4,n+4+r):""},jK=LK,BK=function(t,e){var n=ba(t,e);return n>0?Hv(t,e+4,e+4+n):""},VK=BK,WK=function(t,e){return d4e(t,e)},G_=WK,Pk=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};fn&&(PK=function(e,n){if(!Buffer.isBuffer(e))return RK(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},MK=function(e,n){if(!Buffer.isBuffer(e))return FK(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},OK=function(e,n){if(!Buffer.isBuffer(e))return UK(e,n);var r=2*e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r-1)},jK=function(e,n){if(!Buffer.isBuffer(e))return LK(e,n);var r=e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r)},VK=function(e,n){if(!Buffer.isBuffer(e))return BK(e,n);var r=e.readUInt32LE(n);return e.toString("utf8",n+4,n+4+r)},G_=function(e,n){return Buffer.isBuffer(e)?e.readDoubleLE(n):WK(e,n)},Pk=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var mp=function(t,e){return t[e]},ec=function(t,e){return t[e+1]*256+t[e]},h4e=function(t,e){var n=t[e+1]*256+t[e];return n<32768?n:(65535-n+1)*-1},ba=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},Hd=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},p4e=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function J0(t,e){var n="",r,i,s=[],a,o,l,c;switch(e){case"dbcs":if(c=this.l,fn&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*t).toString("utf16le");else for(l=0;l<t;++l)n+=String.fromCharCode(ec(this,c)),c+=2;t*=2;break;case"utf8":n=Hv(this,this.l,this.l+t);break;case"utf16le":t*=2,n=Rk(this,this.l,this.l+t);break;case"wstr":return J0.call(this,t,"dbcs");case"lpstr-ansi":n=PK(this,this.l),t=4+ba(this,this.l);break;case"lpstr-cp":n=MK(this,this.l),t=4+ba(this,this.l);break;case"lpwstr":n=OK(this,this.l),t=4+2*ba(this,this.l);break;case"lpp4":t=4+ba(this,this.l),n=jK(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+ba(this,this.l),n=VK(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,n="";(a=mp(this,this.l+t++))!==0;)s.push(Rx(a));n=s.join("");break;case"_wstr":for(t=0,n="";(a=ec(this,this.l+t))!==0;)s.push(Rx(a)),t+=2;t+=2,n=s.join("");break;case"dbcs-cont":for(n="",c=this.l,l=0;l<t;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return a=mp(this,c),this.l=c+1,o=J0.call(this,t-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(Rx(ec(this,c))),c+=2}n=s.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(n="",c=this.l,l=0;l!=t;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return a=mp(this,c),this.l=c+1,o=J0.call(this,t-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(Rx(mp(this,c))),c+=1}n=s.join("");break;default:switch(t){case 1:return r=mp(this,this.l),this.l++,r;case 2:return r=(e==="i"?h4e:ec)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(t>0?Hd:p4e)(this,this.l),this.l+=4,r):(i=ba(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=G_(this,this.l):i=G_([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:n=kK(this,this.l,t);break}}return this.l+=t,n}var m4e=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24&255},g4e=function(t,e,n){t[n]=e&255,t[n+1]=e>>8&255,t[n+2]=e>>16&255,t[n+3]=e>>24&255},y4e=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255};function v4e(t,e,n){var r=0,i=0;if(n==="dbcs"){for(i=0;i!=e.length;++i)y4e(this,e.charCodeAt(i),this.l+2*i);r=2*e.length}else if(n==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;r=e.length}else if(n==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(n==="utf16le"){var s=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var a=e.charCodeAt(i);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(t){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,m4e(this,e,this.l);break;case 8:if(r=8,n==="f"){f4e(this,e,this.l);break}case 16:break;case-4:r=4,g4e(this,e,this.l);break}return this.l+=r,this}function qK(t,e){var n=kK(this,this.l,t.length>>1);if(n!==t)throw new Error(e+"Expected "+t+" saw "+n);this.l+=t.length>>1}function Gi(t,e){t.l=e,t.read_shift=J0,t.chk=qK,t.write_shift=v4e}function xs(t,e){t.l+=e}function nt(t){var e=$u(t);return Gi(e,0),e}function Ic(t,e,n){if(t){var r,i,s;Gi(t,t.l||0);for(var a=t.length,o=0,l=0;t.l<a;){o=t.read_shift(1),o&128&&(o=(o&127)+((t.read_shift(1)&127)<<7));var c=Zy[o]||Zy[65535];for(r=t.read_shift(1),s=r&127,i=1;i<4&&r&128;++i)s+=((r=t.read_shift(1))&127)<<7*i;l=t.l+s;var u=c.f&&c.f(t,s,n);if(t.l=l,e(u,c,o))return}}}function ra(){var t=[],e=fn?256:2048,n=function(c){var u=nt(c);return Gi(u,0),u},r=n(e),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&t.push(r),r=null)},s=function(c){return r&&c<r.length-r.l?r:(i(),r=n(Math.max(c+1,e)))},a=function(){return i(),Ui(t)},o=function(c){i(),r=c,r.l==null&&(r.l=r.length),s(e)};return{next:s,push:o,end:a,_bufs:t}}function lt(t,e,n,r){var i=+e,s;if(!isNaN(i)){r||(r=Zy[i].p||(n||[]).length||0),s=1+(i>=128?1:0)+1,r>=128&&++s,r>=16384&&++s,r>=2097152&&++s;var a=t.next(s);i<=127?a.write_shift(1,i):(a.write_shift(1,(i&127)+128),a.write_shift(1,i>>7));for(var o=0;o!=4;++o)if(r>=128)a.write_shift(1,(r&127)+128),r>>=7;else{a.write_shift(1,r);break}r>0&&Pk(n)&&t.push(n)}}function Y0(t,e,n){var r=vr(t);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function xO(t,e,n){var r=vr(t);return r.s=Y0(r.s,e.s,n),r.e=Y0(r.e,e.s,n),r}function Q0(t,e){if(t.cRel&&t.c<0)for(t=vr(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=vr(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var n=Xt(t);return!t.cRel&&t.cRel!=null&&(n=b4e(n)),!t.rRel&&t.rRel!=null&&(n=x4e(n)),n}function oD(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+Pr(t.s.c)+":"+(t.e.cRel?"":"$")+Pr(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+ti(t.s.r)+":"+(t.e.rRel?"":"$")+ti(t.e.r):Q0(t.s,e.biff)+":"+Q0(t.e,e.biff)}function Fk(t){return parseInt(_4e(t),10)-1}function ti(t){return""+(t+1)}function x4e(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function _4e(t){return t.replace(/\$(\d+)$/,"$1")}function Mk(t){for(var e=w4e(t),n=0,r=0;r!==e.length;++r)n=26*n+e.charCodeAt(r)-64;return n-1}function Pr(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function b4e(t){return t.replace(/^([A-Z])/,"$$$1")}function w4e(t){return t.replace(/^\$([A-Z])/,"$1")}function T4e(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Fr(t){for(var e=0,n=0,r=0;r<t.length;++r){var i=t.charCodeAt(r);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:e-1}}function Xt(t){for(var e=t.c+1,n="";e;e=(e-1)/26|0)n=String.fromCharCode((e-1)%26+65)+n;return n+(t.r+1)}function ia(t){var e=t.indexOf(":");return e==-1?{s:Fr(t),e:Fr(t)}:{s:Fr(t.slice(0,e)),e:Fr(t.slice(e+1))}}function an(t,e){return typeof e>"u"||typeof e=="number"?an(t.s,t.e):(typeof t!="string"&&(t=Xt(t)),typeof e!="string"&&(e=Xt(e)),t==e?t:t+":"+e)}function Sn(t){var e={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,s=t.length;for(n=0;r<s&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.s.c=--n,n=0;r<s&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;if(e.s.r=--n,r===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,n=0;r!=s&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.e.c=--n,n=0;r!=s&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;return e.e.r=--n,e}function _O(t,e){var n=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=ao(t.z,n?_i(e):e)}catch{}try{return t.w=ao((t.XF||{}).numFmtId||(n?14:0),n?_i(e):e)}catch{return""+e}}function vc(t,e,n){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&n&&n.dateNF&&(t.z=n.dateNF),t.t=="e"?kc[t.v]||t.v:e==null?_O(t,t.v):_O(t,e))}function ad(t,e){var n=e&&e.sheet?e.sheet:"Sheet1",r={};return r[n]=t,{SheetNames:[n],Sheets:r}}function $K(t,e,n){var r=n||{},i=t?Array.isArray(t):r.dense,s=t||(i?[]:{}),a=0,o=0;if(s&&r.origin!=null){if(typeof r.origin=="number")a=r.origin;else{var l=typeof r.origin=="string"?Fr(r.origin):r.origin;a=l.r,o=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var u=Sn(s["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),a==-1&&(c.e.r=a=u.e.r+1)}for(var f=0;f!=e.length;++f)if(e[f]){if(!Array.isArray(e[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=e[f].length;++h)if(!(typeof e[f][h]>"u")){var p={v:e[f][h]},v=a+f,g=o+h;if(c.s.r>v&&(c.s.r=v),c.s.c>g&&(c.s.c=g),c.e.r<v&&(c.e.r=v),c.e.c<g&&(c.e.c=g),e[f][h]&&typeof e[f][h]=="object"&&!Array.isArray(e[f][h])&&!(e[f][h]instanceof Date))p=e[f][h];else if(Array.isArray(p.v)&&(p.f=e[f][h][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(r.nullError)p.t="e",p.v=0;else if(r.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=r.dateNF||Ht[14],r.cellDates?(p.t="d",p.w=ao(p.z,_i(p.v))):(p.t="n",p.v=_i(p.v),p.w=ao(p.z,p.v))):p.t="s";if(i)s[v]||(s[v]=[]),s[v][g]&&s[v][g].z&&(p.z=s[v][g].z),s[v][g]=p;else{var y=Xt({c:g,r:v});s[y]&&s[y].z&&(p.z=s[y].z),s[y]=p}}}return c.s.c<1e7&&(s["!ref"]=an(c)),s}function tg(t,e){return $K(null,t,e)}function E4e(t){return t.read_shift(4,"i")}function jo(t,e){return e||(e=nt(4)),e.write_shift(4,t),e}function vs(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Oi(t,e){var n=!1;return e==null&&(n=!0,e=nt(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}function C4e(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function S4e(t,e){return e||(e=nt(4)),e.write_shift(2,0),e.write_shift(2,0),e}function Uk(t,e){var n=t.l,r=t.read_shift(1),i=vs(t),s=[],a={t:i,h:i};if((r&1)!==0){for(var o=t.read_shift(4),l=0;l!=o;++l)s.push(C4e(t));a.r=s}else a.r=[{ich:0,ifnt:0}];return t.l=n+e,a}function D4e(t,e){var n=!1;return e==null&&(n=!0,e=nt(15+4*t.t.length)),e.write_shift(1,0),Oi(t.t,e),n?e.slice(0,e.l):e}var A4e=Uk;function N4e(t,e){var n=!1;return e==null&&(n=!0,e=nt(23+4*t.t.length)),e.write_shift(1,1),Oi(t.t,e),e.write_shift(4,1),S4e({},e),n?e.slice(0,e.l):e}function co(t){var e=t.read_shift(4),n=t.read_shift(2);return n+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:n}}function nh(t,e){return e==null&&(e=nt(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function rh(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function ih(t,e){return e==null&&(e=nt(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var I4e=vs,zK=Oi;function Ok(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function K_(t,e){var n=!1;return e==null&&(n=!0,e=nt(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}var k4e=vs,sN=Ok,Lk=K_;function jk(t){var e=t.slice(t.l,t.l+4),n=e[0]&1,r=e[0]&2;t.l+=4;var i=r===0?G_([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Hd(e,0)>>2;return n?i/100:i}function HK(t,e){e==null&&(e=nt(4));var n=0,r=0,i=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?r=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(r=1,n=1),r)e.write_shift(-4,((n?i:t)<<2)+(n+2));else throw new Error("unsupported RkNumber "+t)}function GK(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function R4e(t,e){return e||(e=nt(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var sh=GK,ng=R4e;function fs(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function Uf(t,e){return(e||nt(8)).write_shift(8,t,"f")}function P4e(t){var e={},n=t.read_shift(1),r=n>>>1,i=t.read_shift(1),s=t.read_shift(2,"i"),a=t.read_shift(1),o=t.read_shift(1),l=t.read_shift(1);switch(t.l++,r){case 0:e.auto=1;break;case 1:e.index=i;var c=cf[i];c&&(e.rgb=Xy(c));break;case 2:e.rgb=Xy([a,o,l]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function X_(t,e){if(e||(e=nt(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var n=t.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),e.write_shift(2,n),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var r=t.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),e.write_shift(1,parseInt(r.slice(0,2),16)),e.write_shift(1,parseInt(r.slice(2,4),16)),e.write_shift(1,parseInt(r.slice(4,6),16)),e.write_shift(1,255)}return e}function F4e(t){var e=t.read_shift(1);t.l++;var n={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return n}function M4e(t,e){e||(e=nt(2));var n=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,n),e.write_shift(1,0),e}function KK(t,e){var n={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},r=t.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return n[t.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return t.l-=4,t.read_shift(0,e==1?"lpstr":"lpwstr")}function U4e(t){return KK(t,1)}function O4e(t){return KK(t,2)}var Bk=2,Ks=3,Fx=11,bO=12,J_=19,Mx=64,L4e=65,j4e=71,B4e=4108,V4e=4126,ki=80,XK=81,W4e=[ki,XK],aN={1:{n:"CodePage",t:Bk},2:{n:"Category",t:ki},3:{n:"PresentationFormat",t:ki},4:{n:"ByteCount",t:Ks},5:{n:"LineCount",t:Ks},6:{n:"ParagraphCount",t:Ks},7:{n:"SlideCount",t:Ks},8:{n:"NoteCount",t:Ks},9:{n:"HiddenCount",t:Ks},10:{n:"MultimediaClipCount",t:Ks},11:{n:"ScaleCrop",t:Fx},12:{n:"HeadingPairs",t:B4e},13:{n:"TitlesOfParts",t:V4e},14:{n:"Manager",t:ki},15:{n:"Company",t:ki},16:{n:"LinksUpToDate",t:Fx},17:{n:"CharacterCount",t:Ks},19:{n:"SharedDoc",t:Fx},22:{n:"HyperlinksChanged",t:Fx},23:{n:"AppVersion",t:Ks,p:"version"},24:{n:"DigSig",t:L4e},26:{n:"ContentType",t:ki},27:{n:"ContentStatus",t:ki},28:{n:"Language",t:ki},29:{n:"Version",t:ki},255:{},2147483648:{n:"Locale",t:J_},2147483651:{n:"Behavior",t:J_},1919054434:{}},oN={1:{n:"CodePage",t:Bk},2:{n:"Title",t:ki},3:{n:"Subject",t:ki},4:{n:"Author",t:ki},5:{n:"Keywords",t:ki},6:{n:"Comments",t:ki},7:{n:"Template",t:ki},8:{n:"LastAuthor",t:ki},9:{n:"RevNumber",t:ki},10:{n:"EditTime",t:Mx},11:{n:"LastPrinted",t:Mx},12:{n:"CreatedDate",t:Mx},13:{n:"ModifiedDate",t:Mx},14:{n:"PageCount",t:Ks},15:{n:"WordCount",t:Ks},16:{n:"CharCount",t:Ks},17:{n:"Thumbnail",t:j4e},18:{n:"Application",t:ki},19:{n:"DocSecurity",t:Ks},255:{},2147483648:{n:"Locale",t:J_},2147483651:{n:"Behavior",t:J_},1919054434:{}},wO={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},q4e=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function $4e(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var z4e=$4e([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),cf=vr(z4e),kc={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},JK={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},lN={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Ux={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function Vk(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function H4e(t){var e=Vk();if(!t||!t.match)return e;var n={};if((t.match(ws)||[]).forEach(function(r){var i=Yt(r);switch(i[0].replace(n4e,"<")){case"<?xml":break;case"<Types":e.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":n[i.Extension]=i.ContentType;break;case"<Override":e[lN[i.ContentType]]!==void 0&&e[lN[i.ContentType]].push(i.PartName);break}}),e.xmlns!==vi.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=n,delete e.calcchains,e}function YK(t,e){var n=HDe(lN),r=[],i;r[r.length]=ri,r[r.length]=_t("Types",null,{xmlns:vi.CT,"xmlns:xsd":vi.xsd,"xmlns:xsi":vi.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return _t("Default",null,{Extension:l[0],ContentType:l[1]})}));var s=function(l){t[l]&&t[l].length>0&&(i=t[l][0],r[r.length]=_t("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:Ux[l][e.bookType]||Ux[l].xlsx}))},a=function(l){(t[l]||[]).forEach(function(c){r[r.length]=_t("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:Ux[l][e.bookType]||Ux[l].xlsx})})},o=function(l){(t[l]||[]).forEach(function(c){r[r.length]=_t("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:n[l][0]})})};return s("workbooks"),a("sheets"),a("charts"),o("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),a("metadata"),o("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var pn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Ky(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function Z0(t,e){var n={"!id":{}};if(!t)return n;e.charAt(0)!=="/"&&(e="/"+e);var r={};return(t.match(ws)||[]).forEach(function(i){var s=Yt(i);if(s[0]==="<Relationship"){var a={};a.Type=s.Type,a.Target=s.Target,a.Id=s.Id,s.TargetMode&&(a.TargetMode=s.TargetMode);var o=s.TargetMode==="External"?s.Target:C0(s.Target,e);n[o]=a,r[s.Id]=a}}),n["!id"]=r,n}function Up(t){var e=[ri,_t("Relationships",null,{xmlns:vi.RELS})];return zr(t["!id"]).forEach(function(n){e[e.length]=_t("Relationship",null,t["!id"][n])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function $n(t,e,n,r,i,s){if(i||(i={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,i.Id="rId"+e,i.Type=r,i.Target=n,[pn.HLINK,pn.XPATH,pn.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),t["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][i.Id]=i,t[("/"+i.Target).replace("//","/")]=i,e}var G4e="application/vnd.oasis.opendocument.spreadsheet";function K4e(t,e){for(var n=kk(t),r,i;r=Gy.exec(n);)switch(r[3]){case"manifest":break;case"file-entry":if(i=Yt(r[0],!1),i.path=="/"&&i.type!==G4e)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw r}}function X4e(t){var e=[ri];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var n=0;n<t.length;++n)e.push('  <manifest:file-entry manifest:full-path="'+t[n][0]+'" manifest:media-type="'+t[n][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function TO(t,e,n){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function J4e(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function Y4e(t){var e=[ri];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var n=0;n!=t.length;++n)e.push(TO(t[n][0],t[n][1])),e.push(J4e("",t[n][0]));return e.push(TO("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function QK(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+W_.version+"</meta:generator></office:meta></office:document-meta>"}var no=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],Q4e=(function(){for(var t=new Array(no.length),e=0;e<no.length;++e){var n=no[e],r="(?:"+n[0].slice(0,n[0].indexOf(":"))+":)"+n[0].slice(n[0].indexOf(":")+1);t[e]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return t})();function ZK(t){var e={};t=Yn(t);for(var n=0;n<no.length;++n){var r=no[n],i=t.match(Q4e[n]);i!=null&&i.length>0&&(e[r[1]]=Cn(i[1])),r[2]==="date"&&e[r[1]]&&(e[r[1]]=yr(e[r[1]]))}return e}function lD(t,e,n,r,i){i[t]!=null||e==null||e===""||(i[t]=e,e=Gn(e),r[r.length]=n?_t(t,e,n):Xi(t,e))}function eX(t,e){var n=e||{},r=[ri,_t("cp:coreProperties",null,{"xmlns:cp":vi.CORE_PROPS,"xmlns:dc":vi.dc,"xmlns:dcterms":vi.dcterms,"xmlns:dcmitype":vi.dcmitype,"xmlns:xsi":vi.xsi})],i={};if(!t&&!n.Props)return r.join("");t&&(t.CreatedDate!=null&&lD("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:iN(t.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i),t.ModifiedDate!=null&&lD("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:iN(t.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i));for(var s=0;s!=no.length;++s){var a=no[s],o=n.Props&&n.Props[a[1]]!=null?n.Props[a[1]]:t?t[a[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&lD(a[0],o,null,r,i)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var uf=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],tX=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function nX(t,e,n,r){var i=[];if(typeof t=="string")i=hO(t,r);else for(var s=0;s<t.length;++s)i=i.concat(t[s].map(function(u){return{v:u}}));var a=typeof e=="string"?hO(e,r).map(function(u){return u.v}):e,o=0,l=0;if(a.length>0)for(var c=0;c!==i.length;c+=2){switch(l=+i[c+1].v,i[c].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":n.Worksheets=l,n.SheetNames=a.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":n.NamedRanges=l,n.DefinedNames=a.slice(o,o+l);break;case"Charts":case"Diagramme":n.Chartsheets=l,n.ChartNames=a.slice(o,o+l);break}o+=l}}function Z4e(t,e,n){var r={};return e||(e={}),t=Yn(t),uf.forEach(function(i){var s=(t.match(zy(i[0]))||[])[1];switch(i[2]){case"string":s&&(e[i[1]]=Cn(s));break;case"bool":e[i[1]]=s==="true";break;case"raw":var a=t.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));a&&a.length>0&&(r[i[1]]=a[1]);break}}),r.HeadingPairs&&r.TitlesOfParts&&nX(r.HeadingPairs,r.TitlesOfParts,e,n),e}function rX(t){var e=[],n=_t;return t||(t={}),t.Application="SheetJS",e[e.length]=ri,e[e.length]=_t("Properties",null,{xmlns:vi.EXT_PROPS,"xmlns:vt":vi.vt}),uf.forEach(function(r){if(t[r[1]]!==void 0){var i;switch(r[2]){case"string":i=Gn(String(t[r[1]]));break;case"bool":i=t[r[1]]?"true":"false";break}i!==void 0&&(e[e.length]=n(r[0],i))}}),e[e.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=n("TitlesOfParts",n("vt:vector",t.SheetNames.map(function(r){return"<vt:lpstr>"+Gn(r)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var eAe=/<[^>]+>[^<]*/g;function tAe(t,e){var n={},r="",i=t.match(eAe);if(i)for(var s=0;s!=i.length;++s){var a=i[s],o=Yt(a);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":r=Cn(o.name);break;case"</property>":r=null;break;default:if(a.indexOf("<vt:")===0){var l=a.split(">"),c=l[0].slice(4),u=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":n[r]=Cn(u);break;case"bool":n[r]=hr(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[r]=parseInt(u,10);break;case"r4":case"r8":case"decimal":n[r]=parseFloat(u);break;case"filetime":case"date":n[r]=yr(u);break;case"cy":case"error":n[r]=Cn(u);break;default:if(c.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",a,c,l)}}else if(a.slice(0,2)!=="</"){if(e.WTF)throw new Error(a)}}}return n}function iX(t){var e=[ri,_t("Properties",null,{xmlns:vi.CUST_PROPS,"xmlns:vt":vi.vt})];if(!t)return e.join("");var n=1;return zr(t).forEach(function(i){++n,e[e.length]=_t("property",u4e(t[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:Gn(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var cN={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},cD;function nAe(t,e,n){cD||(cD=Fw(cN)),e=cD[e]||e,t[e]=n}function rAe(t,e){var n=[];return zr(cN).map(function(r){for(var i=0;i<no.length;++i)if(no[i][1]==r)return no[i];for(i=0;i<uf.length;++i)if(uf[i][1]==r)return uf[i];throw r}).forEach(function(r){if(t[r[1]]!=null){var i=e&&e.Props&&e.Props[r[1]]!=null?e.Props[r[1]]:t[r[1]];switch(r[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),n.push(Xi(cN[r[1]]||r[1],i))}}),_t("DocumentProperties",n.join(""),{xmlns:_a.o})}function iAe(t,e){var n=["Worksheets","SheetNames"],r="CustomDocumentProperties",i=[];return t&&zr(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)){for(var a=0;a<no.length;++a)if(s==no[a][1])return;for(a=0;a<uf.length;++a)if(s==uf[a][1])return;for(a=0;a<n.length;++a)if(s==n[a])return;var o=t[s],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o=String(o),i.push(_t(cO(s),o,{"dt:dt":l}))}}),e&&zr(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(t&&Object.prototype.hasOwnProperty.call(t,s))){var a=e[s],o="string";typeof a=="number"?(o="float",a=String(a)):a===!0||a===!1?(o="boolean",a=a?"1":"0"):a instanceof Date?(o="dateTime.tz",a=a.toISOString()):a=String(a),i.push(_t(cO(s),a,{"dt:dt":o}))}}),"<"+r+' xmlns="'+_a.o+'">'+i.join("")+"</"+r+">"}function Wk(t){var e=t.read_shift(4),n=t.read_shift(4);return new Date((n/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function sAe(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,n=e.getTime()/1e3+11644473600,r=n%Math.pow(2,32),i=(n-r)/Math.pow(2,32);r*=1e7,i*=1e7;var s=r/Math.pow(2,32)|0;s>0&&(r=r%Math.pow(2,32),i+=s);var a=nt(8);return a.write_shift(4,r),a.write_shift(4,i),a}function sX(t,e,n){var r=t.l,i=t.read_shift(0,"lpstr-cp");if(n)for(;t.l-r&3;)++t.l;return i}function aX(t,e,n){var r=t.read_shift(0,"lpwstr");return r}function oX(t,e,n){return e===31?aX(t):sX(t,e,n)}function uN(t,e,n){return oX(t,e,n===!1?0:4)}function aAe(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return oX(t,e,0)}function oAe(t){for(var e=t.read_shift(4),n=[],r=0;r!=e;++r){var i=t.l;n[r]=t.read_shift(0,"lpwstr").replace(Us,""),t.l-i&2&&(t.l+=2)}return n}function lAe(t){for(var e=t.read_shift(4),n=[],r=0;r!=e;++r)n[r]=t.read_shift(0,"lpstr-cp").replace(Us,"");return n}function cAe(t){var e=t.l,n=Y_(t,XK);t[t.l]==0&&t[t.l+1]==0&&t.l-e&2&&(t.l+=2);var r=Y_(t,Ks);return[n,r]}function uAe(t){for(var e=t.read_shift(4),n=[],r=0;r<e/2;++r)n.push(cAe(t));return n}function EO(t,e){for(var n=t.read_shift(4),r={},i=0;i!=n;++i){var s=t.read_shift(4),a=t.read_shift(4);r[s]=t.read_shift(a,e===1200?"utf16le":"utf8").replace(Us,"").replace(E0,"!"),e===1200&&a%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),r}function lX(t){var e=t.read_shift(4),n=t.slice(t.l,t.l+e);return t.l+=e,(e&3)>0&&(t.l+=4-(e&3)&3),n}function dAe(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}function Y_(t,e,n){var r=t.read_shift(2),i,s=n||{};if(t.l+=2,e!==bO&&r!==e&&W4e.indexOf(e)===-1&&!((e&65534)==4126&&(r&65534)==4126))throw new Error("Expected type "+e+" saw "+r);switch(e===bO?r:e){case 2:return i=t.read_shift(2,"i"),s.raw||(t.l+=2),i;case 3:return i=t.read_shift(4,"i"),i;case 11:return t.read_shift(4)!==0;case 19:return i=t.read_shift(4),i;case 30:return sX(t,r,4).replace(Us,"");case 31:return aX(t);case 64:return Wk(t);case 65:return lX(t);case 71:return dAe(t);case 80:return uN(t,r,!s.raw).replace(Us,"");case 81:return aAe(t,r).replace(Us,"");case 4108:return uAe(t);case 4126:case 4127:return r==4127?oAe(t):lAe(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+r)}}function CO(t,e){var n=nt(4),r=nt(4);switch(n.write_shift(4,t==80?31:t),t){case 3:r.write_shift(-4,e);break;case 5:r=nt(8),r.write_shift(8,e,"f");break;case 11:r.write_shift(4,e?1:0);break;case 64:r=sAe(e);break;case 31:case 80:for(r=nt(4+2*(e.length+1)+(e.length%2?0:2)),r.write_shift(4,e.length+1),r.write_shift(0,e,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return Ui([n,r])}function SO(t,e){var n=t.l,r=t.read_shift(4),i=t.read_shift(4),s=[],a=0,o=0,l=-1,c={};for(a=0;a!=i;++a){var u=t.read_shift(4),f=t.read_shift(4);s[a]=[u,f+n]}s.sort(function(_,w){return _[1]-w[1]});var h={};for(a=0;a!=i;++a){if(t.l!==s[a][1]){var p=!0;if(a>0&&e)switch(e[s[a-1][0]].t){case 2:t.l+2===s[a][1]&&(t.l+=2,p=!1);break;case 80:t.l<=s[a][1]&&(t.l=s[a][1],p=!1);break;case 4108:t.l<=s[a][1]&&(t.l=s[a][1],p=!1);break}if((!e||a==0)&&t.l<=s[a][1]&&(p=!1,t.l=s[a][1]),p)throw new Error("Read Error: Expected address "+s[a][1]+" at "+t.l+" :"+a)}if(e){var v=e[s[a][0]];if(h[v.n]=Y_(t,v.t,{raw:!0}),v.p==="version"&&(h[v.n]=String(h[v.n]>>16)+"."+("0000"+String(h[v.n]&65535)).slice(-4)),v.n=="CodePage")switch(h[v.n]){case 0:h[v.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Po(o=h[v.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[v.n])}}else if(s[a][0]===1){if(o=h.CodePage=Y_(t,Bk),Po(o),l!==-1){var g=t.l;t.l=s[l][1],c=EO(t,o),t.l=g}}else if(s[a][0]===0){if(o===0){l=a,t.l=s[a+1][1];continue}c=EO(t,o)}else{var y=c[s[a][0]],b;switch(t[t.l]){case 65:t.l+=4,b=lX(t);break;case 30:t.l+=4,b=uN(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,b=uN(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,b=t.read_shift(4,"i");break;case 19:t.l+=4,b=t.read_shift(4);break;case 5:t.l+=4,b=t.read_shift(8,"f");break;case 11:t.l+=4,b=Yr(t,4);break;case 64:t.l+=4,b=yr(Wk(t));break;default:throw new Error("unparsed value: "+t[t.l])}h[y]=b}}return t.l=n+r,h}var cX=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function fAe(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function DO(t,e,n){var r=nt(8),i=[],s=[],a=8,o=0,l=nt(8),c=nt(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),s.push(l),i.push(c),a+=8+l.length,!e){c=nt(8),c.write_shift(4,0),i.unshift(c);var u=[nt(4)];for(u[0].write_shift(4,t.length),o=0;o<t.length;++o){var f=t[o][0];for(l=nt(8+2*(f.length+1)+(f.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,f.length+1),l.write_shift(0,f,"dbcs");l.l!=l.length;)l.write_shift(1,0);u.push(l)}l=Ui(u),s.unshift(l),a+=8+l.length}for(o=0;o<t.length;++o)if(!(e&&!e[t[o][0]])&&!(cX.indexOf(t[o][0])>-1||tX.indexOf(t[o][0])>-1)&&t[o][1]!=null){var h=t[o][1],p=0;if(e){p=+e[t[o][0]];var v=n[p];if(v.p=="version"&&typeof h=="string"){var g=h.split(".");h=(+g[0]<<16)+(+g[1]||0)}l=CO(v.t,h)}else{var y=fAe(h);y==-1&&(y=31,h=String(h)),l=CO(y,h)}s.push(l),c=nt(8),c.write_shift(4,e?p:2+o),i.push(c),a+=8+l.length}var b=8*(s.length+1);for(o=0;o<s.length;++o)i[o].write_shift(4,b),b+=s[o].length;return r.write_shift(4,a),r.write_shift(4,s.length),Ui([r].concat(i).concat(s))}function AO(t,e,n){var r=t.content;if(!r)return{};Gi(r,0);var i,s,a,o,l=0;r.chk("feff","Byte Order: "),r.read_shift(2);var c=r.read_shift(4),u=r.read_shift(16);if(u!==Vt.utils.consts.HEADER_CLSID&&u!==n)throw new Error("Bad PropertySet CLSID "+u);if(i=r.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(s=r.read_shift(16),o=r.read_shift(4),i===1&&o!==r.l)throw new Error("Length mismatch: "+o+" !== "+r.l);i===2&&(a=r.read_shift(16),l=r.read_shift(4));var f=SO(r,e),h={SystemIdentifier:c};for(var p in f)h[p]=f[p];if(h.FMTID=s,i===1)return h;if(l-r.l==2&&(r.l+=2),r.l!==l)throw new Error("Length mismatch 2: "+r.l+" !== "+l);var v;try{v=SO(r,null)}catch{}for(p in v)h[p]=v[p];return h.FMTID=[s,a],h}function NO(t,e,n,r,i,s){var a=nt(i?68:48),o=[a];a.write_shift(2,65534),a.write_shift(2,0),a.write_shift(4,842412599),a.write_shift(16,Vt.utils.consts.HEADER_CLSID,"hex"),a.write_shift(4,i?2:1),a.write_shift(16,e,"hex"),a.write_shift(4,i?68:48);var l=DO(t,n,r);if(o.push(l),i){var c=DO(i,null,null);a.write_shift(16,s,"hex"),a.write_shift(4,68+l.length),o.push(c)}return Ui(o)}function au(t,e){return t.read_shift(e),null}function hAe(t,e){e||(e=nt(t));for(var n=0;n<t;++n)e.write_shift(1,0);return e}function pAe(t,e,n){for(var r=[],i=t.l+e;t.l<i;)r.push(n(t,i-t.l));if(i!==t.l)throw new Error("Slurp error");return r}function Yr(t,e){return t.read_shift(e)===1}function Is(t,e){return e||(e=nt(2)),e.write_shift(2,+!!t),e}function ui(t){return t.read_shift(2,"u")}function Ka(t,e){return e||(e=nt(2)),e.write_shift(2,t),e}function uX(t,e){return pAe(t,e,ui)}function mAe(t){var e=t.read_shift(1),n=t.read_shift(1);return n===1?e:e===1}function dX(t,e,n){return n||(n=nt(2)),n.write_shift(1,e=="e"?+t:+!!t),n.write_shift(1,e=="e"?1:0),n}function Gv(t,e,n){var r=t.read_shift(n&&n.biff>=12?2:1),i="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var s=t.read_shift(1);s&&(i="dbcs-cont")}else n.biff==12&&(i="wstr");n.biff>=2&&n.biff<=5&&(i="cpstr");var a=r?t.read_shift(r,i):"";return a}function gAe(t){var e=t.read_shift(2),n=t.read_shift(1),r=n&4,i=n&8,s=1+(n&1),a=0,o,l={};i&&(a=t.read_shift(2)),r&&(o=t.read_shift(4));var c=s==2?"dbcs-cont":"sbcs-cont",u=e===0?"":t.read_shift(e,c);return i&&(t.l+=4*a),r&&(t.l+=o),l.t=u,i||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function yAe(t){var e=t.t||"",n=nt(3);n.write_shift(2,e.length),n.write_shift(1,1);var r=nt(2*e.length);r.write_shift(2*e.length,e,"utf16le");var i=[n,r];return Ui(i)}function Of(t,e,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return t.read_shift(e,"cpstr");if(n.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?r=t.read_shift(e,"sbcs-cont"):r=t.read_shift(e,"dbcs-cont"),r}function Kv(t,e,n){var r=t.read_shift(n&&n.biff==2?1:2);return r===0?(t.l++,""):Of(t,r,n)}function ah(t,e,n){if(n.biff>5)return Kv(t,e,n);var r=t.read_shift(1);return r===0?(t.l++,""):t.read_shift(r,n.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function fX(t,e,n){return n||(n=nt(3+2*t.length)),n.write_shift(2,t.length),n.write_shift(1,1),n.write_shift(31,t,"utf16le"),n}function vAe(t){var e=t.read_shift(1);t.l++;var n=t.read_shift(2);return t.l+=2,[e,n]}function xAe(t){var e=t.read_shift(4),n=t.l,r=!1;e>24&&(t.l+=e-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(r=!0),t.l=n);var i=t.read_shift((r?e-24:e)>>1,"utf16le").replace(Us,"");return r&&(t.l+=24),i}function _Ae(t){for(var e=t.read_shift(2),n="";e-- >0;)n+="../";var r=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=t.read_shift(4);if(i===0)return n+r.replace(/\\/g,"/");var s=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var a=t.read_shift(s>>1,"utf16le").replace(Us,"");return n+a}function bAe(t,e){var n=t.read_shift(16);switch(n){case"e0c9ea79f9bace118c8200aa004ba90b":return xAe(t);case"0303000000000000c000000000000046":return _Ae(t);default:throw new Error("Unsupported Moniker "+n)}}function Ox(t){var e=t.read_shift(4),n=e>0?t.read_shift(e,"utf16le").replace(Us,""):"";return n}function IO(t,e){e||(e=nt(6+t.length*2)),e.write_shift(4,1+t.length);for(var n=0;n<t.length;++n)e.write_shift(2,t.charCodeAt(n));return e.write_shift(2,0),e}function wAe(t,e){var n=t.l+e,r=t.read_shift(4);if(r!==2)throw new Error("Unrecognized streamVersion: "+r);var i=t.read_shift(2);t.l+=2;var s,a,o,l,c="",u,f;i&16&&(s=Ox(t,n-t.l)),i&128&&(a=Ox(t,n-t.l)),(i&257)===257&&(o=Ox(t,n-t.l)),(i&257)===1&&(l=bAe(t,n-t.l)),i&8&&(c=Ox(t,n-t.l)),i&32&&(u=t.read_shift(16)),i&64&&(f=Wk(t)),t.l=n;var h=a||o||l||"";h&&c&&(h+="#"+c),h||(h="#"+c),i&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var p={Target:h};return u&&(p.guid=u),f&&(p.time=f),s&&(p.Tooltip=s),p}function TAe(t){var e=nt(512),n=0,r=t.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var i=r.indexOf("#"),s=i>-1?31:23;switch(r.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var a=[8,6815827,6619237,4849780,83];for(n=0;n<a.length;++n)e.write_shift(4,a[n]);if(s==28)r=r.slice(1),IO(r,e);else if(s&2){for(a="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<a.length;++n)e.write_shift(1,parseInt(a[n],16));var o=i>-1?r.slice(0,i):r;for(e.write_shift(4,2*(o.length+1)),n=0;n<o.length;++n)e.write_shift(2,o.charCodeAt(n));e.write_shift(2,0),s&8&&IO(i>-1?r.slice(i+1):"",e)}else{for(a="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<a.length;++n)e.write_shift(1,parseInt(a[n],16));for(var l=0;r.slice(l*3,l*3+3)=="../"||r.slice(l*3,l*3+3)=="..\\";)++l;for(e.write_shift(2,l),e.write_shift(4,r.length-3*l+1),n=0;n<r.length-3*l;++n)e.write_shift(1,r.charCodeAt(n+3*l)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),n=0;n<6;++n)e.write_shift(4,0)}return e.slice(0,e.l)}function hX(t){var e=t.read_shift(1),n=t.read_shift(1),r=t.read_shift(1),i=t.read_shift(1);return[e,n,r,i]}function pX(t,e){var n=hX(t);return n[3]=0,n}function Pl(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2);return{r:e,c:n,ixfe:r}}function Lf(t,e,n,r){return r||(r=nt(6)),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(2,n||0),r}function EAe(t){var e=t.read_shift(2),n=t.read_shift(2);return t.l+=8,{type:e,flags:n}}function CAe(t,e,n){return e===0?"":ah(t,e,n)}function SAe(t,e,n){var r=n.biff>8?4:2,i=t.read_shift(r),s=t.read_shift(r,"i"),a=t.read_shift(r,"i");return[i,s,a]}function mX(t){var e=t.read_shift(2),n=jk(t);return[e,n]}function DAe(t,e,n){t.l+=4,e-=4;var r=t.l+e,i=Gv(t,e,n),s=t.read_shift(2);if(r-=t.l,s!==r)throw new Error("Malformed AddinUdf: padding = "+r+" != "+s);return t.l+=s,i}function Ow(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),i=t.read_shift(2);return{s:{c:r,r:e},e:{c:i,r:n}}}function gX(t,e){return e||(e=nt(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function yX(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(1),i=t.read_shift(1);return{s:{c:r,r:e},e:{c:i,r:n}}}var AAe=yX;function vX(t){t.l+=4;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2);return t.l+=12,[n,e,r]}function NAe(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e}function IAe(t){var e={};return t.l+=4,t.cf=t.read_shift(2),e}function ss(t){t.l+=2,t.l+=t.read_shift(2)}var kAe={0:ss,4:ss,5:ss,6:ss,7:IAe,8:ss,9:ss,10:ss,11:ss,12:ss,13:NAe,14:ss,15:ss,16:ss,17:ss,18:ss,19:ss,20:ss,21:vX};function RAe(t,e){for(var n=t.l+e,r=[];t.l<n;){var i=t.read_shift(2);t.l-=2;try{r.push(kAe[i](t,n-t.l))}catch{return t.l=n,r}}return t.l!=n&&(t.l=n),r}function Lx(t,e){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=t.read_shift(2),e-=2,e>=2&&(n.dt=t.read_shift(2),t.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+n.BIFFVer)}return t.read_shift(e),n}function qk(t,e,n){var r=1536,i=16;switch(n.bookType){case"biff8":break;case"biff5":r=1280,i=8;break;case"biff4":r=4,i=6;break;case"biff3":r=3,i=6;break;case"biff2":r=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=nt(i);return s.write_shift(2,r),s.write_shift(2,e),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function PAe(t,e){return e===0||t.read_shift(2),1200}function FAe(t,e,n){if(n.enc)return t.l+=e,"";var r=t.l,i=ah(t,0,n);return t.read_shift(e+r-t.l),i}function MAe(t,e){var n=!e||e.biff==8,r=nt(n?112:54);for(r.write_shift(e.biff==8?2:1,7),n&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(n?0:536870912));r.l<r.length;)r.write_shift(1,n?0:32);return r}function UAe(t,e,n){var r=n&&n.biff==8||e==2?t.read_shift(2):(t.l+=e,0);return{fDialog:r&16,fBelow:r&64,fRight:r&128}}function OAe(t,e,n){var r=t.read_shift(4),i=t.read_shift(1)&3,s=t.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var a=Gv(t,0,n);return a.length===0&&(a="Sheet1"),{pos:r,hs:i,dt:s,name:a}}function LAe(t,e){var n=!e||e.biff>=8?2:1,r=nt(8+n*t.name.length);r.write_shift(4,t.pos),r.write_shift(1,t.hs||0),r.write_shift(1,t.dt),r.write_shift(1,t.name.length),e.biff>=8&&r.write_shift(1,1),r.write_shift(n*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var i=r.slice(0,r.l);return i.l=r.l,i}function jAe(t,e){for(var n=t.l+e,r=t.read_shift(4),i=t.read_shift(4),s=[],a=0;a!=i&&t.l<n;++a)s.push(gAe(t));return s.Count=r,s.Unique=i,s}function BAe(t,e){var n=nt(8);n.write_shift(4,t.Count),n.write_shift(4,t.Unique);for(var r=[],i=0;i<t.length;++i)r[i]=yAe(t[i]);var s=Ui([n].concat(r));return s.parts=[n.length].concat(r.map(function(a){return a.length})),s}function VAe(t,e){var n={};return n.dsst=t.read_shift(2),t.l+=e-2,n}function WAe(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var n=t.read_shift(2);t.l+=4;var r=t.read_shift(1);return t.l+=3,r&7&&(e.level=r&7),r&32&&(e.hidden=!0),r&64&&(e.hpt=n/20),e}function qAe(t){var e=EAe(t);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var n=t.read_shift(4);return n!==0}function $Ae(t){return t.read_shift(2),t.read_shift(4)}function kO(t,e,n){var r=0;n&&n.biff==2||(r=t.read_shift(2));var i=t.read_shift(2);n&&n.biff==2&&(r=1-(i>>15),i&=32767);var s={Unsynced:r&1,DyZero:(r&2)>>1,ExAsc:(r&4)>>2,ExDsc:(r&8)>>3};return[s,i]}function zAe(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),a=t.read_shift(2),o=t.read_shift(2),l=t.read_shift(2),c=t.read_shift(2);return{Pos:[e,n],Dim:[r,i],Flags:s,CurTab:a,FirstTab:o,Selected:l,TabRatio:c}}function HAe(){var t=nt(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function GAe(t,e,n){if(n&&n.biff>=2&&n.biff<5)return{};var r=t.read_shift(2);return{RTL:r&64}}function KAe(t){var e=nt(18),n=1718;return t&&t.RTL&&(n|=64),e.write_shift(2,n),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function XAe(){}function JAe(t,e,n){var r={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return r.name=Gv(t,0,n),r}function YAe(t,e){var n=t.name||"Arial",r=e&&e.biff==5,i=r?15+n.length:16+2*n.length,s=nt(i);return s.write_shift(2,t.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,n.length),r||s.write_shift(1,1),s.write_shift((r?1:2)*n.length,n,r?"sbcs":"utf16le"),s}function QAe(t){var e=Pl(t);return e.isst=t.read_shift(4),e}function ZAe(t,e,n,r){var i=nt(10);return Lf(t,e,r,i),i.write_shift(4,n),i}function eNe(t,e,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=t.l+e,i=Pl(t);n.biff==2&&t.l++;var s=Kv(t,r-t.l,n);return i.val=s,i}function tNe(t,e,n,r,i){var s=!i||i.biff==8,a=nt(8+ +s+(1+s)*n.length);return Lf(t,e,r,a),a.write_shift(2,n.length),s&&a.write_shift(1,1),a.write_shift((1+s)*n.length,n,s?"utf16le":"sbcs"),a}function nNe(t,e,n){var r=t.read_shift(2),i=ah(t,0,n);return[r,i]}function rNe(t,e,n,r){var i=n&&n.biff==5;r||(r=nt(i?3+e.length:5+2*e.length)),r.write_shift(2,t),r.write_shift(i?1:2,e.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var s=r.length>r.l?r.slice(0,r.l):r;return s.l==null&&(s.l=s.length),s}var iNe=ah;function RO(t,e,n){var r=t.l+e,i=n.biff==8||!n.biff?4:2,s=t.read_shift(i),a=t.read_shift(i),o=t.read_shift(2),l=t.read_shift(2);return t.l=r,{s:{r:s,c:o},e:{r:a,c:l}}}function sNe(t,e){var n=e.biff==8||!e.biff?4:2,r=nt(2*n+6);return r.write_shift(n,t.s.r),r.write_shift(n,t.e.r+1),r.write_shift(2,t.s.c),r.write_shift(2,t.e.c+1),r.write_shift(2,0),r}function aNe(t){var e=t.read_shift(2),n=t.read_shift(2),r=mX(t);return{r:e,c:n,ixfe:r[0],rknum:r[1]}}function oNe(t,e){for(var n=t.l+e-2,r=t.read_shift(2),i=t.read_shift(2),s=[];t.l<n;)s.push(mX(t));if(t.l!==n)throw new Error("MulRK read error");var a=t.read_shift(2);if(s.length!=a-i+1)throw new Error("MulRK length mismatch");return{r,c:i,C:a,rkrec:s}}function lNe(t,e){for(var n=t.l+e-2,r=t.read_shift(2),i=t.read_shift(2),s=[];t.l<n;)s.push(t.read_shift(2));if(t.l!==n)throw new Error("MulBlank read error");var a=t.read_shift(2);if(s.length!=a-i+1)throw new Error("MulBlank length mismatch");return{r,c:i,C:a,ixfe:s}}function cNe(t,e,n,r){var i={},s=t.read_shift(4),a=t.read_shift(4),o=t.read_shift(4),l=t.read_shift(2);return i.patternType=q4e[o>>26],r.cellStyles&&(i.alc=s&7,i.fWrap=s>>3&1,i.alcV=s>>4&7,i.fJustLast=s>>7&1,i.trot=s>>8&255,i.cIndent=s>>16&15,i.fShrinkToFit=s>>20&1,i.iReadOrder=s>>22&2,i.fAtrNum=s>>26&1,i.fAtrFnt=s>>27&1,i.fAtrAlc=s>>28&1,i.fAtrBdr=s>>29&1,i.fAtrPat=s>>30&1,i.fAtrProt=s>>31&1,i.dgLeft=a&15,i.dgRight=a>>4&15,i.dgTop=a>>8&15,i.dgBottom=a>>12&15,i.icvLeft=a>>16&127,i.icvRight=a>>23&127,i.grbitDiag=a>>30&3,i.icvTop=o&127,i.icvBottom=o>>7&127,i.icvDiag=o>>14&127,i.dgDiag=o>>21&15,i.icvFore=l&127,i.icvBack=l>>7&127,i.fsxButton=l>>14&1),i}function uNe(t,e,n){var r={};return r.ifnt=t.read_shift(2),r.numFmtId=t.read_shift(2),r.flags=t.read_shift(2),r.fStyle=r.flags>>2&1,e-=6,r.data=cNe(t,e,r.fStyle,n),r}function PO(t,e,n,r){var i=n&&n.biff==5;r||(r=nt(i?16:20)),r.write_shift(2,0),t.style?(r.write_shift(2,t.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,t.numFmtId||0),r.write_shift(2,e<<4));var s=0;return t.numFmtId>0&&i&&(s|=1024),r.write_shift(4,s),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function dNe(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function fNe(t){var e=nt(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function FO(t,e,n){var r=Pl(t);(n.biff==2||e==9)&&++t.l;var i=mAe(t);return r.val=i,r.t=i===!0||i===!1?"b":"e",r}function hNe(t,e,n,r,i,s){var a=nt(8);return Lf(t,e,r,a),dX(n,s,a),a}function pNe(t,e,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=Pl(t),i=fs(t);return r.val=i,r}function mNe(t,e,n,r){var i=nt(14);return Lf(t,e,r,i),Uf(n,i),i}var MO=CAe;function gNe(t,e,n){var r=t.l+e,i=t.read_shift(2),s=t.read_shift(2);if(n.sbcch=s,s==1025||s==14849)return[s,i];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var a=Of(t,s),o=[];r>t.l;)o.push(Kv(t));return[s,i,a,o]}function UO(t,e,n){var r=t.read_shift(2),i,s={fBuiltIn:r&1,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return n.sbcch===14849&&(i=DAe(t,e-2,n)),s.body=i||t.read_shift(e-2),typeof i=="string"&&(s.Name=i),s}var yNe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function OO(t,e,n){var r=t.l+e,i=t.read_shift(2),s=t.read_shift(1),a=t.read_shift(1),o=t.read_shift(n&&n.biff==2?1:2),l=0;(!n||n.biff>=5)&&(n.biff!=5&&(t.l+=2),l=t.read_shift(2),n.biff==5&&(t.l+=2),t.l+=4);var c=Of(t,a,n);i&32&&(c=yNe[c.charCodeAt(0)]);var u=r-t.l;n&&n.biff==2&&--u;var f=r==t.l||o===0||!(u>0)?[]:R6e(t,u,n,o);return{chKey:s,Name:c,itab:l,rgce:f}}function xX(t,e,n){if(n.biff<8)return vNe(t,e,n);for(var r=[],i=t.l+e,s=t.read_shift(n.biff>8?4:2);s--!==0;)r.push(SAe(t,n.biff>8?12:6,n));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return r}function vNe(t,e,n){t[t.l+1]==3&&t[t.l]++;var r=Gv(t,e,n);return r.charCodeAt(0)==3?r.slice(1):r}function xNe(t,e,n){if(n.biff<8){t.l+=e;return}var r=t.read_shift(2),i=t.read_shift(2),s=Of(t,r,n),a=Of(t,i,n);return[s,a]}function _Ne(t,e,n){var r=yX(t);t.l++;var i=t.read_shift(1);return e-=8,[P6e(t,e,n),i,r]}function LO(t,e,n){var r=AAe(t);switch(n.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[r,I6e(t,e,n)]}function bNe(t){var e=t.read_shift(4)!==0,n=t.read_shift(4)!==0,r=t.read_shift(4);return[e,n,r]}function wNe(t,e,n){if(!(n.biff<8)){var r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),a=t.read_shift(2),o=ah(t,0,n);return n.biff<8&&t.read_shift(1),[{r,c:i},o,a,s]}}function TNe(t,e,n){return wNe(t,e,n)}function ENe(t,e){for(var n=[],r=t.read_shift(2);r--;)n.push(Ow(t));return n}function CNe(t){var e=nt(2+t.length*8);e.write_shift(2,t.length);for(var n=0;n<t.length;++n)gX(t[n],e);return e}function SNe(t,e,n){if(n&&n.biff<8)return ANe(t,e,n);var r=vX(t),i=RAe(t,e-22,r[1]);return{cmo:r,ft:i}}var DNe={8:function(t,e){var n=t.l+e;t.l+=10;var r=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var i=t.read_shift(1);return t.l+=i,t.l=n,{fmt:r}}};function ANe(t,e,n){t.l+=4;var r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,e-=36;var a=[];return a.push((DNe[r]||xs)(t,e,n)),{cmo:[i,r,s],ft:a}}function NNe(t,e,n){var r=t.l,i="";try{t.l+=4;var s=(n.lastobj||{cmo:[0,0]}).cmo[1],a;[0,5,7,11,12,14].indexOf(s)==-1?t.l+=6:a=vAe(t,6,n);var o=t.read_shift(2);t.read_shift(2),ui(t,2);var l=t.read_shift(2);t.l+=l;for(var c=1;c<t.lens.length-1;++c){if(t.l-r!=t.lens[c])throw new Error("TxO: bad continue record");var u=t[t.l],f=Of(t,t.lens[c+1]-t.lens[c]-1);if(i+=f,i.length>=(u?o:2*o))break}if(i.length!==o&&i.length!==o*2)throw new Error("cchText: "+o+" != "+i.length);return t.l=r+e,{t:i}}catch{return t.l=r+e,{t:i}}}function INe(t,e){var n=Ow(t);t.l+=16;var r=wAe(t,e-24);return[n,r]}function kNe(t){var e=nt(24),n=Fr(t[0]);e.write_shift(2,n.r),e.write_shift(2,n.r),e.write_shift(2,n.c),e.write_shift(2,n.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(r[i],16));return Ui([e,TAe(t[1])])}function RNe(t,e){t.read_shift(2);var n=Ow(t),r=t.read_shift((e-10)/2,"dbcs-cont");return r=r.replace(Us,""),[n,r]}function PNe(t){var e=t[1].Tooltip,n=nt(10+2*(e.length+1));n.write_shift(2,2048);var r=Fr(t[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var i=0;i<e.length;++i)n.write_shift(2,e.charCodeAt(i));return n.write_shift(2,0),n}function FNe(t){var e=[0,0],n;return n=t.read_shift(2),e[0]=wO[n]||n,n=t.read_shift(2),e[1]=wO[n]||n,e}function MNe(t){return t||(t=nt(4)),t.write_shift(2,1),t.write_shift(2,1),t}function UNe(t){for(var e=t.read_shift(2),n=[];e-- >0;)n.push(pX(t));return n}function ONe(t){for(var e=t.read_shift(2),n=[];e-- >0;)n.push(pX(t));return n}function LNe(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e}function _X(t,e,n){if(!n.cellStyles)return xs(t,e);var r=n&&n.biff>=12?4:2,i=t.read_shift(r),s=t.read_shift(r),a=t.read_shift(r),o=t.read_shift(r),l=t.read_shift(2);r==2&&(t.l+=2);var c={s:i,e:s,w:a,ixfe:o,flags:l};return(n.biff>=5||!n.biff)&&(c.level=l>>8&7),c}function jNe(t,e){var n=nt(12);n.write_shift(2,e),n.write_shift(2,e),n.write_shift(2,t.width*256),n.write_shift(2,0);var r=0;return t.hidden&&(r|=1),n.write_shift(1,r),r=t.level||0,n.write_shift(1,r),n.write_shift(2,0),n}function BNe(t,e){var n={};return e<32||(t.l+=16,n.header=fs(t),n.footer=fs(t),t.l+=2),n}function VNe(t,e,n){var r={area:!1};if(n.biff!=5)return t.l+=e,r;var i=t.read_shift(1);return t.l+=3,i&16&&(r.area=!0),r}function WNe(t){for(var e=nt(2*t),n=0;n<t;++n)e.write_shift(2,n+1);return e}var qNe=Pl,$Ne=uX,zNe=Kv;function HNe(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),i={fmt:e,env:n,len:r,data:t.slice(t.l,t.l+r)};return t.l+=r,i}function GNe(t,e,n){n.biffguess&&n.biff==5&&(n.biff=2);var r=Pl(t);++t.l;var i=ah(t,e-7,n);return r.t="str",r.val=i,r}function KNe(t){var e=Pl(t);++t.l;var n=fs(t);return e.t="n",e.val=n,e}function XNe(t,e,n){var r=nt(15);return Qv(r,t,e),r.write_shift(8,n,"f"),r}function JNe(t){var e=Pl(t);++t.l;var n=t.read_shift(2);return e.t="n",e.val=n,e}function YNe(t,e,n){var r=nt(9);return Qv(r,t,e),r.write_shift(2,n),r}function QNe(t){var e=t.read_shift(1);return e===0?(t.l++,""):t.read_shift(e,"sbcs-cont")}function ZNe(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}function e3e(t,e,n){var r=t.l+e,i=Pl(t),s=t.read_shift(2),a=Of(t,s,n);return t.l=r,i.t="str",i.val=a,i}var t3e=[2,3,48,49,131,139,140,245],dN=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=Fw({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(o,l){var c=[],u=$u(1);switch(l.type){case"base64":u=wa(Ia(o));break;case"binary":u=wa(o);break;case"buffer":case"array":u=o;break}Gi(u,0);var f=u.read_shift(1),h=!!(f&136),p=!1,v=!1;switch(f){case 2:break;case 3:break;case 48:p=!0,h=!0;break;case 49:p=!0,h=!0;break;case 131:break;case 139:break;case 140:v=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var g=0,y=521;f==2&&(g=u.read_shift(2)),u.l+=3,f!=2&&(g=u.read_shift(4)),g>1048576&&(g=1e6),f!=2&&(y=u.read_shift(2));var b=u.read_shift(2),_=l.codepage||1252;f!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(_=t[u[u.l]]),u.l+=1,u.l+=2),v&&(u.l+=36);for(var w=[],C={},S=Math.min(u.length,f==2?521:y-10-(p?264:0)),R=v?32:11;u.l<S&&u[u.l]!=13;)switch(C={},C.name=Wy.utils.decode(_,u.slice(u.l,u.l+R)).replace(/[\u0000\r\n].*$/g,""),u.l+=R,C.type=String.fromCharCode(u.read_shift(1)),f!=2&&!v&&(C.offset=u.read_shift(4)),C.len=u.read_shift(1),f==2&&(C.offset=u.read_shift(2)),C.dec=u.read_shift(1),C.name.length&&w.push(C),f!=2&&(u.l+=v?13:14),C.type){case"B":(!p||C.len!=8)&&l.WTF&&console.log("Skipping "+C.name+":"+C.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+C.name+":"+C.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+C.type)}if(u[u.l]!==13&&(u.l=y-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=y;var D=0,N=0;for(c[0]=[],N=0;N!=w.length;++N)c[0][N]=w[N].name;for(;g-- >0;){if(u[u.l]===42){u.l+=b;continue}for(++u.l,c[++D]=[],N=0,N=0;N!=w.length;++N){var k=u.slice(u.l,u.l+w[N].len);u.l+=w[N].len,Gi(k,0);var F=Wy.utils.decode(_,k);switch(w[N].type){case"C":F.trim().length&&(c[D][N]=F.replace(/\s+$/,""));break;case"D":F.length===8?c[D][N]=new Date(+F.slice(0,4),+F.slice(4,6)-1,+F.slice(6,8)):c[D][N]=F;break;case"F":c[D][N]=parseFloat(F.trim());break;case"+":case"I":c[D][N]=v?k.read_shift(-4,"i")^2147483648:k.read_shift(4,"i");break;case"L":switch(F.trim().toUpperCase()){case"Y":case"T":c[D][N]=!0;break;case"N":case"F":c[D][N]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+F+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));c[D][N]="##MEMO##"+(v?parseInt(F.trim(),10):k.read_shift(4));break;case"N":F=F.replace(/\u0000/g,"").trim(),F&&F!="."&&(c[D][N]=+F||0);break;case"@":c[D][N]=new Date(k.read_shift(-8,"f")-621356832e5);break;case"T":c[D][N]=new Date((k.read_shift(4)-2440588)*864e5+k.read_shift(4));break;case"Y":c[D][N]=k.read_shift(4,"i")/1e4+k.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[D][N]=-k.read_shift(-8,"f");break;case"B":if(p&&w[N].len==8){c[D][N]=k.read_shift(8,"f");break}case"G":case"P":k.l+=w[N].len;break;case"0":if(w[N].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+w[N].type)}}}if(f!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=w,c}function r(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var u=tg(n(o,c),c);return u["!cols"]=c.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete c.DBF,u}function i(o,l){try{return ad(r(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function a(o,l){var c=l||{};if(+c.codepage>=0&&Po(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=ra(),f=eb(o,{header:1,raw:!0,cellDates:!0}),h=f[0],p=f.slice(1),v=o["!cols"]||[],g=0,y=0,b=0,_=1;for(g=0;g<h.length;++g){if(((v[g]||{}).DBF||{}).name){h[g]=v[g].DBF.name,++b;continue}if(h[g]!=null){if(++b,typeof h[g]=="number"&&(h[g]=h[g].toString(10)),typeof h[g]!="string")throw new Error("DBF Invalid column name "+h[g]+" |"+typeof h[g]+"|");if(h.indexOf(h[g])!==g){for(y=0;y<1024;++y)if(h.indexOf(h[g]+"_"+y)==-1){h[g]+="_"+y;break}}}}var w=Sn(o["!ref"]),C=[],S=[],R=[];for(g=0;g<=w.e.c-w.s.c;++g){var D="",N="",k=0,F=[];for(y=0;y<p.length;++y)p[y][g]!=null&&F.push(p[y][g]);if(F.length==0||h[g]==null){C[g]="?";continue}for(y=0;y<F.length;++y){switch(typeof F[y]){case"number":N="B";break;case"string":N="C";break;case"boolean":N="L";break;case"object":N=F[y]instanceof Date?"D":"C";break;default:N="C"}k=Math.max(k,String(F[y]).length),D=D&&D!=N?"C":N}k>250&&(k=250),N=((v[g]||{}).DBF||{}).type,N=="C"&&v[g].DBF.len>k&&(k=v[g].DBF.len),D=="B"&&N=="N"&&(D="N",R[g]=v[g].DBF.dec,k=v[g].DBF.len),S[g]=D=="C"||N=="N"?k:s[D]||0,_+=S[g],C[g]=D}var P=u.next(32);for(P.write_shift(4,318902576),P.write_shift(4,p.length),P.write_shift(2,296+32*b),P.write_shift(2,_),g=0;g<4;++g)P.write_shift(4,0);for(P.write_shift(4,0|(+e[cK]||3)<<8),g=0,y=0;g<h.length;++g)if(h[g]!=null){var I=u.next(32),U=(h[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);I.write_shift(1,U,"sbcs"),I.write_shift(1,C[g]=="?"?"C":C[g],"sbcs"),I.write_shift(4,y),I.write_shift(1,S[g]||s[C[g]]||0),I.write_shift(1,R[g]||0),I.write_shift(1,2),I.write_shift(4,0),I.write_shift(1,0),I.write_shift(4,0),I.write_shift(4,0),y+=S[g]||s[C[g]]||0}var O=u.next(264);for(O.write_shift(4,13),g=0;g<65;++g)O.write_shift(4,0);for(g=0;g<p.length;++g){var K=u.next(_);for(K.write_shift(1,0),y=0;y<h.length;++y)if(h[y]!=null)switch(C[y]){case"L":K.write_shift(1,p[g][y]==null?63:p[g][y]?84:70);break;case"B":K.write_shift(8,p[g][y]||0,"f");break;case"N":var X="0";for(typeof p[g][y]=="number"&&(X=p[g][y].toFixed(R[y]||0)),b=0;b<S[y]-X.length;++b)K.write_shift(1,32);K.write_shift(1,X,"sbcs");break;case"D":p[g][y]?(K.write_shift(4,("0000"+p[g][y].getFullYear()).slice(-4),"sbcs"),K.write_shift(2,("00"+(p[g][y].getMonth()+1)).slice(-2),"sbcs"),K.write_shift(2,("00"+p[g][y].getDate()).slice(-2),"sbcs")):K.write_shift(8,"00000000","sbcs");break;case"C":var J=String(p[g][y]!=null?p[g][y]:"").slice(0,S[y]);for(K.write_shift(1,J,"sbcs"),b=0;b<S[y]-J.length;++b)K.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:i,to_sheet:r,from_sheet:a}})(),bX=(function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+zr(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(h,p){var v=t[p];return typeof v=="number"?XU(v):v},r=function(h,p,v){var g=p.charCodeAt(0)-32<<4|v.charCodeAt(0)-48;return g==59?h:XU(g)};t["|"]=254;function i(h,p){switch(p.type){case"base64":return s(Ia(h),p);case"binary":return s(h,p);case"buffer":return s(fn&&Buffer.isBuffer(h)?h.toString("binary"):sd(h),p);case"array":return s(Mf(h),p)}throw new Error("Unrecognized type "+p.type)}function s(h,p){var v=h.split(/[\n\r]+/),g=-1,y=-1,b=0,_=0,w=[],C=[],S=null,R={},D=[],N=[],k=[],F=0,P;for(+p.codepage>=0&&Po(+p.codepage);b!==v.length;++b){F=0;var I=v[b].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,n),U=I.replace(/;;/g,"\0").split(";").map(function(Y){return Y.replace(/\u0000/g,";")}),O=U[0],K;if(I.length>0)switch(O){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":U[1].charAt(0)=="P"&&C.push(I.slice(3).replace(/;;/g,";"));break;case"C":var X=!1,J=!1,ne=!1,z=!1,Q=-1,B=-1;for(_=1;_<U.length;++_)switch(U[_].charAt(0)){case"A":break;case"X":y=parseInt(U[_].slice(1))-1,J=!0;break;case"Y":for(g=parseInt(U[_].slice(1))-1,J||(y=0),P=w.length;P<=g;++P)w[P]=[];break;case"K":K=U[_].slice(1),K.charAt(0)==='"'?K=K.slice(1,K.length-1):K==="TRUE"?K=!0:K==="FALSE"?K=!1:isNaN(Lo(K))?isNaN(vm(K).getDate())||(K=yr(K)):(K=Lo(K),S!==null&&Zm(S)&&(K=Uw(K))),X=!0;break;case"E":z=!0;var j=Op(U[_].slice(1),{r:g,c:y});w[g][y]=[w[g][y],j];break;case"S":ne=!0,w[g][y]=[w[g][y],"S5S"];break;case"G":break;case"R":Q=parseInt(U[_].slice(1))-1;break;case"C":B=parseInt(U[_].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+I)}if(X&&(w[g][y]&&w[g][y].length==2?w[g][y][0]=K:w[g][y]=K,S=null),ne){if(z)throw new Error("SYLK shared formula cannot have own formula");var W=Q>-1&&w[Q][B];if(!W||!W[1])throw new Error("SYLK shared formula cannot find base");w[g][y][1]=jX(W[1],{r:g-Q,c:y-B})}break;case"F":var G=0;for(_=1;_<U.length;++_)switch(U[_].charAt(0)){case"X":y=parseInt(U[_].slice(1))-1,++G;break;case"Y":for(g=parseInt(U[_].slice(1))-1,P=w.length;P<=g;++P)w[P]=[];break;case"M":F=parseInt(U[_].slice(1))/20;break;case"F":break;case"G":break;case"P":S=C[parseInt(U[_].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(k=U[_].slice(1).split(" "),P=parseInt(k[0],10);P<=parseInt(k[1],10);++P)F=parseInt(k[2],10),N[P-1]=F===0?{hidden:!0}:{wch:F},zu(N[P-1]);break;case"C":y=parseInt(U[_].slice(1))-1,N[y]||(N[y]={});break;case"R":g=parseInt(U[_].slice(1))-1,D[g]||(D[g]={}),F>0?(D[g].hpt=F,D[g].hpx=_m(F)):F===0&&(D[g].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+I)}G<1&&(S=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+I)}}return D.length>0&&(R["!rows"]=D),N.length>0&&(R["!cols"]=N),p&&p.sheetRows&&(w=w.slice(0,p.sheetRows)),[w,R]}function a(h,p){var v=i(h,p),g=v[0],y=v[1],b=tg(g,p);return zr(y).forEach(function(_){b[_]=y[_]}),b}function o(h,p){return ad(a(h,p),p)}function l(h,p,v,g){var y="C;Y"+(v+1)+";X"+(g+1)+";K";switch(h.t){case"n":y+=h.v||0,h.f&&!h.F&&(y+=";E"+Xk(h.f,{r:v,c:g}));break;case"b":y+=h.v?"TRUE":"FALSE";break;case"e":y+=h.w||h.v;break;case"d":y+='"'+(h.w||h.v)+'"';break;case"s":y+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return y}function c(h,p){p.forEach(function(v,g){var y="F;W"+(g+1)+" "+(g+1)+" ";v.hidden?y+="0":(typeof v.width=="number"&&!v.wpx&&(v.wpx=Jy(v.width)),typeof v.wpx=="number"&&!v.wch&&(v.wch=Yy(v.wpx)),typeof v.wch=="number"&&(y+=Math.round(v.wch))),y.charAt(y.length-1)!=" "&&h.push(y)})}function u(h,p){p.forEach(function(v,g){var y="F;";v.hidden?y+="M0;":v.hpt?y+="M"+20*v.hpt+";":v.hpx&&(y+="M"+20*Qy(v.hpx)+";"),y.length>2&&h.push(y+"R"+(g+1))})}function f(h,p){var v=["ID;PWXL;N;E"],g=[],y=Sn(h["!ref"]),b,_=Array.isArray(h),w=`\r
`;v.push("P;PGeneral"),v.push("F;P0;DG0G8;M255"),h["!cols"]&&c(v,h["!cols"]),h["!rows"]&&u(v,h["!rows"]),v.push("B;Y"+(y.e.r-y.s.r+1)+";X"+(y.e.c-y.s.c+1)+";D"+[y.s.c,y.s.r,y.e.c,y.e.r].join(" "));for(var C=y.s.r;C<=y.e.r;++C)for(var S=y.s.c;S<=y.e.c;++S){var R=Xt({r:C,c:S});b=_?(h[C]||[])[S]:h[R],!(!b||b.v==null&&(!b.f||b.F))&&g.push(l(b,h,C,S))}return v.join(w)+w+g.join(w)+w+"E"+w}return{to_workbook:o,to_sheet:a,from_sheet:f}})(),wX=(function(){function t(s,a){switch(a.type){case"base64":return e(Ia(s),a);case"binary":return e(s,a);case"buffer":return e(fn&&Buffer.isBuffer(s)?s.toString("binary"):sd(s),a);case"array":return e(Mf(s),a)}throw new Error("Unrecognized type "+a.type)}function e(s,a){for(var o=s.split(`
`),l=-1,c=-1,u=0,f=[];u!==o.length;++u){if(o[u].trim()==="BOT"){f[++l]=[],c=0;continue}if(!(l<0)){var h=o[u].trim().split(","),p=h[0],v=h[1];++u;for(var g=o[u]||"";(g.match(/["]/g)||[]).length&1&&u<o.length-1;)g+=`
`+o[++u];switch(g=g.trim(),+p){case-1:if(g==="BOT"){f[++l]=[],c=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?f[l][c]=!0:g==="FALSE"?f[l][c]=!1:isNaN(Lo(v))?isNaN(vm(v).getDate())?f[l][c]=v:f[l][c]=yr(v):f[l][c]=Lo(v),++c;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),f[l][c++]=g!==""?g:null;break}if(g==="EOD")break}}return a&&a.sheetRows&&(f=f.slice(0,a.sheetRows)),f}function n(s,a){return tg(t(s,a),a)}function r(s,a){return ad(n(s,a),a)}var i=(function(){var s=function(l,c,u,f,h){l.push(c),l.push(u+","+f),l.push('"'+h.replace(/"/g,'""')+'"')},a=function(l,c,u,f){l.push(c+","+u),l.push(c==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var c=[],u=Sn(l["!ref"]),f,h=Array.isArray(l);s(c,"TABLE",0,1,"sheetjs"),s(c,"VECTORS",0,u.e.r-u.s.r+1,""),s(c,"TUPLES",0,u.e.c-u.s.c+1,""),s(c,"DATA",0,0,"");for(var p=u.s.r;p<=u.e.r;++p){a(c,-1,0,"BOT");for(var v=u.s.c;v<=u.e.c;++v){var g=Xt({r:p,c:v});if(f=h?(l[p]||[])[v]:l[g],!f){a(c,1,0,"");continue}switch(f.t){case"n":var y=f.w;!y&&f.v!=null&&(y=f.v),y==null?f.f&&!f.F?a(c,1,0,"="+f.f):a(c,1,0,""):a(c,0,y,"V");break;case"b":a(c,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":a(c,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=ao(f.z||Ht[14],_i(yr(f.v)))),a(c,0,f.w,"V");break;default:a(c,1,0,"")}}}a(c,-1,0,"EOD");var b=`\r
`,_=c.join(b);return _}})();return{to_workbook:r,to_sheet:n,from_sheet:i}})(),TX=(function(){function t(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(f,h){for(var p=f.split(`
`),v=-1,g=-1,y=0,b=[];y!==p.length;++y){var _=p[y].trim().split(":");if(_[0]==="cell"){var w=Fr(_[1]);if(b.length<=w.r)for(v=b.length;v<=w.r;++v)b[v]||(b[v]=[]);switch(v=w.r,g=w.c,_[2]){case"t":b[v][g]=t(_[3]);break;case"v":b[v][g]=+_[3];break;case"vtf":var C=_[_.length-1];case"vtc":switch(_[3]){case"nl":b[v][g]=!!+_[4];break;default:b[v][g]=+_[4];break}_[2]=="vtf"&&(b[v][g]=[b[v][g],C])}}}return h&&h.sheetRows&&(b=b.slice(0,h.sheetRows)),b}function r(f,h){return tg(n(f,h),h)}function i(f,h){return ad(r(f,h),h)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(f){if(!f||!f["!ref"])return"";for(var h=[],p=[],v,g="",y=ia(f["!ref"]),b=Array.isArray(f),_=y.s.r;_<=y.e.r;++_)for(var w=y.s.c;w<=y.e.c;++w)if(g=Xt({r:_,c:w}),v=b?(f[_]||[])[w]:f[g],!(!v||v.v==null||v.t==="z")){switch(p=["cell",g,"t"],v.t){case"s":case"str":p.push(e(v.v));break;case"n":v.f?(p[2]="vtf",p[3]="n",p[4]=v.v,p[5]=e(v.f)):(p[2]="v",p[3]=v.v);break;case"b":p[2]="vt"+(v.f?"f":"c"),p[3]="nl",p[4]=v.v?"1":"0",p[5]=e(v.f||(v.v?"TRUE":"FALSE"));break;case"d":var C=_i(yr(v.v));p[2]="vtc",p[3]="nd",p[4]=""+C,p[5]=v.w||ao(v.z||Ht[14],C);break;case"e":continue}h.push(p.join(":"))}return h.push("sheet:c:"+(y.e.c-y.s.c+1)+":r:"+(y.e.r-y.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function u(f){return[s,a,o,a,c(f),l].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:u}})(),xm=(function(){function t(u,f,h,p,v){v.raw?f[h][p]=u:u===""||(u==="TRUE"?f[h][p]=!0:u==="FALSE"?f[h][p]=!1:isNaN(Lo(u))?isNaN(vm(u).getDate())?f[h][p]=u:f[h][p]=yr(u):f[h][p]=Lo(u))}function e(u,f){var h=f||{},p=[];if(!u||u.length===0)return p;for(var v=u.split(/[\r\n]/),g=v.length-1;g>=0&&v[g].length===0;)--g;for(var y=10,b=0,_=0;_<=g;++_)b=v[_].indexOf(" "),b==-1?b=v[_].length:b++,y=Math.max(y,b);for(_=0;_<=g;++_){p[_]=[];var w=0;for(t(v[_].slice(0,y).trim(),p,_,w,h),w=1;w<=(v[_].length-y)/10+1;++w)t(v[_].slice(y+(w-1)*10,y+w*10).trim(),p,_,w,h)}return h.sheetRows&&(p=p.slice(0,h.sheetRows)),p}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(u){for(var f={},h=!1,p=0,v=0;p<u.length;++p)(v=u.charCodeAt(p))==34?h=!h:!h&&v in n&&(f[v]=(f[v]||0)+1);v=[];for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&v.push([f[p],p]);if(!v.length){f=r;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&v.push([f[p],p])}return v.sort(function(g,y){return g[0]-y[0]||r[g[1]]-r[y[1]]}),n[v.pop()[1]]||44}function s(u,f){var h=f||{},p="",v=h.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(p=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(p=u.charAt(4),u=u.slice(6)):p=i(u.slice(0,1024)):h&&h.FS?p=h.FS:p=i(u.slice(0,1024));var y=0,b=0,_=0,w=0,C=0,S=p.charCodeAt(0),R=!1,D=0,N=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var k=h.dateNF!=null?VDe(h.dateNF):null;function F(){var P=u.slice(w,C),I={};if(P.charAt(0)=='"'&&P.charAt(P.length-1)=='"'&&(P=P.slice(1,-1).replace(/""/g,'"')),P.length===0)I.t="z";else if(h.raw)I.t="s",I.v=P;else if(P.trim().length===0)I.t="s",I.v=P;else if(P.charCodeAt(0)==61)P.charCodeAt(1)==34&&P.charCodeAt(P.length-1)==34?(I.t="s",I.v=P.slice(2,-1).replace(/""/g,'"')):gke(P)?(I.t="n",I.f=P.slice(1)):(I.t="s",I.v=P);else if(P=="TRUE")I.t="b",I.v=!0;else if(P=="FALSE")I.t="b",I.v=!1;else if(!isNaN(_=Lo(P)))I.t="n",h.cellText!==!1&&(I.w=P),I.v=_;else if(!isNaN(vm(P).getDate())||k&&P.match(k)){I.z=h.dateNF||Ht[14];var U=0;k&&P.match(k)&&(P=WDe(P,h.dateNF,P.match(k)||[]),U=1),h.cellDates?(I.t="d",I.v=yr(P,U)):(I.t="n",I.v=_i(yr(P,U))),h.cellText!==!1&&(I.w=ao(I.z,I.v instanceof Date?_i(I.v):I.v)),h.cellNF||delete I.z}else I.t="s",I.v=P;if(I.t=="z"||(h.dense?(v[y]||(v[y]=[]),v[y][b]=I):v[Xt({c:b,r:y})]=I),w=C+1,N=u.charCodeAt(w),g.e.c<b&&(g.e.c=b),g.e.r<y&&(g.e.r=y),D==S)++b;else if(b=0,++y,h.sheetRows&&h.sheetRows<=y)return!0}e:for(;C<u.length;++C)switch(D=u.charCodeAt(C)){case 34:N===34&&(R=!R);break;case S:case 10:case 13:if(!R&&F())break e;break}return C-w>0&&F(),v["!ref"]=an(g),v}function a(u,f){return!(f&&f.PRN)||f.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?s(u,f):tg(e(u,f),f)}function o(u,f){var h="",p=f.type=="string"?[0,0,0,0]:r6(u,f);switch(f.type){case"base64":h=Ia(u);break;case"binary":h=u;break;case"buffer":f.codepage==65001?h=u.toString("utf8"):f.codepage&&typeof Wy<"u"||(h=fn&&Buffer.isBuffer(u)?u.toString("binary"):sd(u));break;case"array":h=Mf(u);break;case"string":h=u;break;default:throw new Error("Unrecognized type "+f.type)}return p[0]==239&&p[1]==187&&p[2]==191?h=Yn(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=Yn(h):f.type=="binary"&&typeof Wy<"u",h.slice(0,19)=="socialcalc:version:"?TX.to_sheet(f.type=="string"?h:Yn(h),f):a(h,f)}function l(u,f){return ad(o(u,f),f)}function c(u){for(var f=[],h=Sn(u["!ref"]),p,v=Array.isArray(u),g=h.s.r;g<=h.e.r;++g){for(var y=[],b=h.s.c;b<=h.e.c;++b){var _=Xt({r:g,c:b});if(p=v?(u[g]||[])[b]:u[_],!p||p.v==null){y.push("          ");continue}for(var w=(p.w||(vc(p),p.w)||"").slice(0,10);w.length<10;)w+=" ";y.push(w+(b===0?" ":""))}f.push(y.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}})();function n3e(t,e){var n=e||{},r=!!n.WTF;n.WTF=!0;try{var i=bX.to_workbook(t,n);return n.WTF=r,i}catch(s){if(n.WTF=r,!s.message.match(/SYLK bad record ID/)&&r)throw s;return xm.to_workbook(t,e)}}var df=(function(){function t(j,W,G){if(j){Gi(j,j.l||0);for(var Y=G.Enum||Q;j.l<j.length;){var ee=j.read_shift(2),ae=Y[ee]||Y[65535],de=j.read_shift(2),fe=j.l+de,Ae=ae.f&&ae.f(j,de,G);if(j.l=fe,W(Ae,ae,ee))return}}}function e(j,W){switch(W.type){case"base64":return n(wa(Ia(j)),W);case"binary":return n(wa(j),W);case"buffer":case"array":return n(j,W)}throw"Unsupported type "+W.type}function n(j,W){if(!j)return j;var G=W||{},Y=G.dense?[]:{},ee="Sheet1",ae="",de=0,fe={},Ae=[],Re=[],me={s:{r:0,c:0},e:{r:0,c:0}},Le=G.sheetRows||0;if(j[2]==0&&(j[3]==8||j[3]==9)&&j.length>=16&&j[14]==5&&j[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(j[2]==2)G.Enum=Q,t(j,function(le,re,oe){switch(oe){case 0:G.vers=le,le>=4096&&(G.qpro=!0);break;case 6:me=le;break;case 204:le&&(ae=le);break;case 222:ae=le;break;case 15:case 51:G.qpro||(le[1].v=le[1].v.slice(1));case 13:case 14:case 16:oe==14&&(le[2]&112)==112&&(le[2]&15)>1&&(le[2]&15)<15&&(le[1].z=G.dateNF||Ht[14],G.cellDates&&(le[1].t="d",le[1].v=Uw(le[1].v))),G.qpro&&le[3]>de&&(Y["!ref"]=an(me),fe[ee]=Y,Ae.push(ee),Y=G.dense?[]:{},me={s:{r:0,c:0},e:{r:0,c:0}},de=le[3],ee=ae||"Sheet"+(de+1),ae="");var he=G.dense?(Y[le[0].r]||[])[le[0].c]:Y[Xt(le[0])];if(he){he.t=le[1].t,he.v=le[1].v,le[1].z!=null&&(he.z=le[1].z),le[1].f!=null&&(he.f=le[1].f);break}G.dense?(Y[le[0].r]||(Y[le[0].r]=[]),Y[le[0].r][le[0].c]=le[1]):Y[Xt(le[0])]=le[1];break}},G);else if(j[2]==26||j[2]==14)G.Enum=B,j[2]==14&&(G.qpro=!0,j.l=0),t(j,function(le,re,oe){switch(oe){case 204:ee=le;break;case 22:le[1].v=le[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(le[3]>de&&(Y["!ref"]=an(me),fe[ee]=Y,Ae.push(ee),Y=G.dense?[]:{},me={s:{r:0,c:0},e:{r:0,c:0}},de=le[3],ee="Sheet"+(de+1)),Le>0&&le[0].r>=Le)break;G.dense?(Y[le[0].r]||(Y[le[0].r]=[]),Y[le[0].r][le[0].c]=le[1]):Y[Xt(le[0])]=le[1],me.e.c<le[0].c&&(me.e.c=le[0].c),me.e.r<le[0].r&&(me.e.r=le[0].r);break;case 27:le[14e3]&&(Re[le[14e3][0]]=le[14e3][1]);break;case 1537:Re[le[0]]=le[1],le[0]==de&&(ee=le[1]);break}},G);else throw new Error("Unrecognized LOTUS BOF "+j[2]);if(Y["!ref"]=an(me),fe[ae||ee]=Y,Ae.push(ae||ee),!Re.length)return{SheetNames:Ae,Sheets:fe};for(var V={},xe=[],Te=0;Te<Re.length;++Te)fe[Ae[Te]]?(xe.push(Re[Te]||Ae[Te]),V[Re[Te]]=fe[Re[Te]]||fe[Ae[Te]]):(xe.push(Re[Te]),V[Re[Te]]={"!ref":"A1"});return{SheetNames:xe,Sheets:V}}function r(j,W){var G=W||{};if(+G.codepage>=0&&Po(+G.codepage),G.type=="string")throw new Error("Cannot write WK1 to JS string");var Y=ra(),ee=Sn(j["!ref"]),ae=Array.isArray(j),de=[];bt(Y,0,s(1030)),bt(Y,6,l(ee));for(var fe=Math.min(ee.e.r,8191),Ae=ee.s.r;Ae<=fe;++Ae)for(var Re=ti(Ae),me=ee.s.c;me<=ee.e.c;++me){Ae===ee.s.r&&(de[me]=Pr(me));var Le=de[me]+Re,V=ae?(j[Ae]||[])[me]:j[Le];if(!(!V||V.t=="z"))if(V.t=="n")(V.v|0)==V.v&&V.v>=-32768&&V.v<=32767?bt(Y,13,p(Ae,me,V.v)):bt(Y,14,g(Ae,me,V.v));else{var xe=vc(V);bt(Y,15,f(Ae,me,xe.slice(0,239)))}}return bt(Y,1),Y.end()}function i(j,W){var G=W||{};if(+G.codepage>=0&&Po(+G.codepage),G.type=="string")throw new Error("Cannot write WK3 to JS string");var Y=ra();bt(Y,0,a(j));for(var ee=0,ae=0;ee<j.SheetNames.length;++ee)(j.Sheets[j.SheetNames[ee]]||{})["!ref"]&&bt(Y,27,z(j.SheetNames[ee],ae++));var de=0;for(ee=0;ee<j.SheetNames.length;++ee){var fe=j.Sheets[j.SheetNames[ee]];if(!(!fe||!fe["!ref"])){for(var Ae=Sn(fe["!ref"]),Re=Array.isArray(fe),me=[],Le=Math.min(Ae.e.r,8191),V=Ae.s.r;V<=Le;++V)for(var xe=ti(V),Te=Ae.s.c;Te<=Ae.e.c;++Te){V===Ae.s.r&&(me[Te]=Pr(Te));var le=me[Te]+xe,re=Re?(fe[V]||[])[Te]:fe[le];if(!(!re||re.t=="z"))if(re.t=="n")bt(Y,23,F(V,Te,de,re.v));else{var oe=vc(re);bt(Y,22,D(V,Te,de,oe.slice(0,239)))}}++de}}return bt(Y,1),Y.end()}function s(j){var W=nt(2);return W.write_shift(2,j),W}function a(j){var W=nt(26);W.write_shift(2,4096),W.write_shift(2,4),W.write_shift(4,0);for(var G=0,Y=0,ee=0,ae=0;ae<j.SheetNames.length;++ae){var de=j.SheetNames[ae],fe=j.Sheets[de];if(!(!fe||!fe["!ref"])){++ee;var Ae=ia(fe["!ref"]);G<Ae.e.r&&(G=Ae.e.r),Y<Ae.e.c&&(Y=Ae.e.c)}}return G>8191&&(G=8191),W.write_shift(2,G),W.write_shift(1,ee),W.write_shift(1,Y),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(1,1),W.write_shift(1,2),W.write_shift(4,0),W.write_shift(4,0),W}function o(j,W,G){var Y={s:{c:0,r:0},e:{c:0,r:0}};return W==8&&G.qpro?(Y.s.c=j.read_shift(1),j.l++,Y.s.r=j.read_shift(2),Y.e.c=j.read_shift(1),j.l++,Y.e.r=j.read_shift(2),Y):(Y.s.c=j.read_shift(2),Y.s.r=j.read_shift(2),W==12&&G.qpro&&(j.l+=2),Y.e.c=j.read_shift(2),Y.e.r=j.read_shift(2),W==12&&G.qpro&&(j.l+=2),Y.s.c==65535&&(Y.s.c=Y.e.c=Y.s.r=Y.e.r=0),Y)}function l(j){var W=nt(8);return W.write_shift(2,j.s.c),W.write_shift(2,j.s.r),W.write_shift(2,j.e.c),W.write_shift(2,j.e.r),W}function c(j,W,G){var Y=[{c:0,r:0},{t:"n",v:0},0,0];return G.qpro&&G.vers!=20768?(Y[0].c=j.read_shift(1),Y[3]=j.read_shift(1),Y[0].r=j.read_shift(2),j.l+=2):(Y[2]=j.read_shift(1),Y[0].c=j.read_shift(2),Y[0].r=j.read_shift(2)),Y}function u(j,W,G){var Y=j.l+W,ee=c(j,W,G);if(ee[1].t="s",G.vers==20768){j.l++;var ae=j.read_shift(1);return ee[1].v=j.read_shift(ae,"utf8"),ee}return G.qpro&&j.l++,ee[1].v=j.read_shift(Y-j.l,"cstr"),ee}function f(j,W,G){var Y=nt(7+G.length);Y.write_shift(1,255),Y.write_shift(2,W),Y.write_shift(2,j),Y.write_shift(1,39);for(var ee=0;ee<Y.length;++ee){var ae=G.charCodeAt(ee);Y.write_shift(1,ae>=128?95:ae)}return Y.write_shift(1,0),Y}function h(j,W,G){var Y=c(j,W,G);return Y[1].v=j.read_shift(2,"i"),Y}function p(j,W,G){var Y=nt(7);return Y.write_shift(1,255),Y.write_shift(2,W),Y.write_shift(2,j),Y.write_shift(2,G,"i"),Y}function v(j,W,G){var Y=c(j,W,G);return Y[1].v=j.read_shift(8,"f"),Y}function g(j,W,G){var Y=nt(13);return Y.write_shift(1,255),Y.write_shift(2,W),Y.write_shift(2,j),Y.write_shift(8,G,"f"),Y}function y(j,W,G){var Y=j.l+W,ee=c(j,W,G);if(ee[1].v=j.read_shift(8,"f"),G.qpro)j.l=Y;else{var ae=j.read_shift(2);C(j.slice(j.l,j.l+ae),ee),j.l+=ae}return ee}function b(j,W,G){var Y=W&32768;return W&=-32769,W=(Y?j:0)+(W>=8192?W-16384:W),(Y?"":"$")+(G?Pr(W):ti(W))}var _={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function C(j,W){Gi(j,0);for(var G=[],Y=0,ee="",ae="",de="",fe="";j.l<j.length;){var Ae=j[j.l++];switch(Ae){case 0:G.push(j.read_shift(8,"f"));break;case 1:ae=b(W[0].c,j.read_shift(2),!0),ee=b(W[0].r,j.read_shift(2),!1),G.push(ae+ee);break;case 2:{var Re=b(W[0].c,j.read_shift(2),!0),me=b(W[0].r,j.read_shift(2),!1);ae=b(W[0].c,j.read_shift(2),!0),ee=b(W[0].r,j.read_shift(2),!1),G.push(Re+me+":"+ae+ee)}break;case 3:if(j.l<j.length){console.error("WK1 premature formula end");return}break;case 4:G.push("("+G.pop()+")");break;case 5:G.push(j.read_shift(2));break;case 6:{for(var Le="";Ae=j[j.l++];)Le+=String.fromCharCode(Ae);G.push('"'+Le.replace(/"/g,'""')+'"')}break;case 8:G.push("-"+G.pop());break;case 23:G.push("+"+G.pop());break;case 22:G.push("NOT("+G.pop()+")");break;case 20:case 21:fe=G.pop(),de=G.pop(),G.push(["AND","OR"][Ae-20]+"("+de+","+fe+")");break;default:if(Ae<32&&w[Ae])fe=G.pop(),de=G.pop(),G.push(de+w[Ae]+fe);else if(_[Ae]){if(Y=_[Ae][1],Y==69&&(Y=j[j.l++]),Y>G.length){console.error("WK1 bad formula parse 0x"+Ae.toString(16)+":|"+G.join("|")+"|");return}var V=G.slice(-Y);G.length-=Y,G.push(_[Ae][0]+"("+V.join(",")+")")}else return Ae<=7?console.error("WK1 invalid opcode "+Ae.toString(16)):Ae<=24?console.error("WK1 unsupported op "+Ae.toString(16)):Ae<=30?console.error("WK1 invalid opcode "+Ae.toString(16)):Ae<=115?console.error("WK1 unsupported function opcode "+Ae.toString(16)):console.error("WK1 unrecognized opcode "+Ae.toString(16))}}G.length==1?W[1].f=""+G[0]:console.error("WK1 bad formula parse |"+G.join("|")+"|")}function S(j){var W=[{c:0,r:0},{t:"n",v:0},0];return W[0].r=j.read_shift(2),W[3]=j[j.l++],W[0].c=j[j.l++],W}function R(j,W){var G=S(j);return G[1].t="s",G[1].v=j.read_shift(W-4,"cstr"),G}function D(j,W,G,Y){var ee=nt(6+Y.length);ee.write_shift(2,j),ee.write_shift(1,G),ee.write_shift(1,W),ee.write_shift(1,39);for(var ae=0;ae<Y.length;++ae){var de=Y.charCodeAt(ae);ee.write_shift(1,de>=128?95:de)}return ee.write_shift(1,0),ee}function N(j,W){var G=S(j);G[1].v=j.read_shift(2);var Y=G[1].v>>1;if(G[1].v&1)switch(Y&7){case 0:Y=(Y>>3)*5e3;break;case 1:Y=(Y>>3)*500;break;case 2:Y=(Y>>3)/20;break;case 3:Y=(Y>>3)/200;break;case 4:Y=(Y>>3)/2e3;break;case 5:Y=(Y>>3)/2e4;break;case 6:Y=(Y>>3)/16;break;case 7:Y=(Y>>3)/64;break}return G[1].v=Y,G}function k(j,W){var G=S(j),Y=j.read_shift(4),ee=j.read_shift(4),ae=j.read_shift(2);if(ae==65535)return Y===0&&ee===3221225472?(G[1].t="e",G[1].v=15):Y===0&&ee===3489660928?(G[1].t="e",G[1].v=42):G[1].v=0,G;var de=ae&32768;return ae=(ae&32767)-16446,G[1].v=(1-de*2)*(ee*Math.pow(2,ae+32)+Y*Math.pow(2,ae)),G}function F(j,W,G,Y){var ee=nt(14);if(ee.write_shift(2,j),ee.write_shift(1,G),ee.write_shift(1,W),Y==0)return ee.write_shift(4,0),ee.write_shift(4,0),ee.write_shift(2,65535),ee;var ae=0,de=0,fe=0,Ae=0;return Y<0&&(ae=1,Y=-Y),de=Math.log2(Y)|0,Y/=Math.pow(2,de-31),Ae=Y>>>0,(Ae&2147483648)==0&&(Y/=2,++de,Ae=Y>>>0),Y-=Ae,Ae|=2147483648,Ae>>>=0,Y*=Math.pow(2,32),fe=Y>>>0,ee.write_shift(4,fe),ee.write_shift(4,Ae),de+=16383+(ae?32768:0),ee.write_shift(2,de),ee}function P(j,W){var G=k(j);return j.l+=W-14,G}function I(j,W){var G=S(j),Y=j.read_shift(4);return G[1].v=Y>>6,G}function U(j,W){var G=S(j),Y=j.read_shift(8,"f");return G[1].v=Y,G}function O(j,W){var G=U(j);return j.l+=W-10,G}function K(j,W){return j[j.l+W-1]==0?j.read_shift(W,"cstr"):""}function X(j,W){var G=j[j.l++];G>W-1&&(G=W-1);for(var Y="";Y.length<G;)Y+=String.fromCharCode(j[j.l++]);return Y}function J(j,W,G){if(!(!G.qpro||W<21)){var Y=j.read_shift(1);j.l+=17,j.l+=1,j.l+=2;var ee=j.read_shift(W-21,"cstr");return[Y,ee]}}function ne(j,W){for(var G={},Y=j.l+W;j.l<Y;){var ee=j.read_shift(2);if(ee==14e3){for(G[ee]=[0,""],G[ee][0]=j.read_shift(2);j[j.l];)G[ee][1]+=String.fromCharCode(j[j.l]),j.l++;j.l++}}return G}function z(j,W){var G=nt(5+j.length);G.write_shift(2,14e3),G.write_shift(2,W);for(var Y=0;Y<j.length;++Y){var ee=j.charCodeAt(Y);G[G.l++]=ee>127?95:ee}return G[G.l++]=0,G}var Q={0:{n:"BOF",f:ui},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:v},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:y},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:K},222:{n:"SHEETNAMELP",f:X},65535:{n:""}},B={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:R},23:{n:"NUMBER17",f:k},24:{n:"NUMBER18",f:N},25:{n:"FORMULA19",f:P},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ne},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:I},38:{n:"??"},39:{n:"NUMBER27",f:U},40:{n:"FORMULA28",f:O},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:K},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:J},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:e}})();function r3e(t){var e={},n=t.match(ws),r=0,i=!1;if(n)for(;r!=n.length;++r){var s=Yt(n[r]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;e.cp=_k[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=s.val;break;case"<sz":e.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":s.rgb&&(e.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(s[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+s[0])}}return e}var i3e=(function(){var t=zy("t"),e=zy("rPr");function n(s){var a=s.match(t);if(!a)return{t:"s",v:""};var o={t:"s",v:Cn(a[1])},l=s.match(e);return l&&(o.s=r3e(l[1])),o}var r=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(a){return a.replace(r,"").split(i).map(n).filter(function(o){return o.v})}})(),s3e=(function(){var e=/(\r\n|\n)/g;function n(i,s,a){var o=[];i.u&&o.push("text-decoration: underline;"),i.uval&&o.push("text-underline-style:"+i.uval+";"),i.sz&&o.push("font-size:"+i.sz+"pt;"),i.outline&&o.push("text-effect: outline;"),i.shadow&&o.push("text-shadow: auto;"),s.push('<span style="'+o.join("")+'">'),i.b&&(s.push("<b>"),a.push("</b>")),i.i&&(s.push("<i>"),a.push("</i>")),i.strike&&(s.push("<s>"),a.push("</s>"));var l=i.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(s.push("<"+l+">"),a.push("</"+l+">")),a.push("</span>"),i}function r(i){var s=[[],i.v,[]];return i.v?(i.s&&n(i.s,s[0],s[2]),s[0].join("")+s[1].replace(e,"<br/>")+s[2].join("")):""}return function(s){return s.map(r).join("")}})(),a3e=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,o3e=/<(?:\w+:)?r>/,l3e=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function $k(t,e){var n=e?e.cellHTML:!0,r={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=Cn(Yn(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=Yn(t),n&&(r.h=Ik(r.t))):t.match(o3e)&&(r.r=Yn(t),r.t=Cn(Yn((t.replace(l3e,"").match(a3e)||[]).join("").replace(ws,""))),n&&(r.h=s3e(i3e(r.r)))),r):{t:""}}var c3e=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,u3e=/<(?:\w+:)?(?:si|sstItem)>/g,d3e=/<\/(?:\w+:)?(?:si|sstItem)>/;function f3e(t,e){var n=[],r="";if(!t)return n;var i=t.match(c3e);if(i){r=i[2].replace(u3e,"").split(d3e);for(var s=0;s!=r.length;++s){var a=$k(r[s].trim(),e);a!=null&&(n[n.length]=a)}i=Yt(i[1]),n.Count=i.count,n.Unique=i.uniqueCount}return n}var h3e=/^\s|\s$|[\t\n\r]/;function EX(t,e){if(!e.bookSST)return"";var n=[ri];n[n.length]=_t("sst",null,{xmlns:th[0],count:t.Count,uniqueCount:t.Unique});for(var r=0;r!=t.length;++r)if(t[r]!=null){var i=t[r],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(h3e)&&(s+=' xml:space="preserve"'),s+=">"+Gn(i.t)+"</t>"),s+="</si>",n[n.length]=s}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}function p3e(t){return[t.read_shift(4),t.read_shift(4)]}function m3e(t,e){var n=[],r=!1;return Ic(t,function(s,a,o){switch(o){case 159:n.Count=s[0],n.Unique=s[1];break;case 19:n.push(s);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(a.T,!r||e.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function g3e(t,e){return e||(e=nt(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var y3e=D4e;function v3e(t){var e=ra();lt(e,159,g3e(t));for(var n=0;n<t.length;++n)lt(e,19,y3e(t[n]));return lt(e,160),e.end()}function CX(t){for(var e=[],n=t.split(""),r=0;r<n.length;++r)e[r]=n[r].charCodeAt(0);return e}function cc(t,e){var n={};return n.Major=t.read_shift(2),n.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),n}function x3e(t){var e={};return e.id=t.read_shift(0,"lpp4"),e.R=cc(t,4),e.U=cc(t,4),e.W=cc(t,4),e}function _3e(t){for(var e=t.read_shift(4),n=t.l+e-4,r={},i=t.read_shift(4),s=[];i-- >0;)s.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(r.name=t.read_shift(0,"lpp4"),r.comps=s,t.l!=n)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+n);return r}function b3e(t){var e=[];t.l+=4;for(var n=t.read_shift(4);n-- >0;)e.push(_3e(t));return e}function w3e(t){var e=[];t.l+=4;for(var n=t.read_shift(4);n-- >0;)e.push(t.read_shift(0,"lpp4"));return e}function T3e(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=cc(t,4),e.U=cc(t,4),e.W=cc(t,4),e}function E3e(t){var e=T3e(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function SX(t,e){var n=t.l+e,r={};r.Flags=t.read_shift(4)&63,t.l+=4,r.AlgID=t.read_shift(4);var i=!1;switch(r.AlgID){case 26126:case 26127:case 26128:i=r.Flags==36;break;case 26625:i=r.Flags==4;break;case 0:i=r.Flags==16||r.Flags==4||r.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=t.read_shift(4),r.KeySize=t.read_shift(4),r.ProviderType=t.read_shift(4),t.l+=8,r.CSPName=t.read_shift(n-t.l>>1,"utf16le"),t.l=n,r}function DX(t,e){var n={},r=t.l+e;return t.l+=4,n.Salt=t.slice(t.l,t.l+16),t.l+=16,n.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),n.VerifierHash=t.slice(t.l,r),t.l=r,n}function C3e(t){var e=cc(t);switch(e.Minor){case 2:return[e.Minor,S3e(t)];case 3:return[e.Minor,D3e()];case 4:return[e.Minor,A3e(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function S3e(t){var e=t.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var n=t.read_shift(4),r=SX(t,n),i=DX(t,t.length-t.l);return{t:"Std",h:r,v:i}}function D3e(){throw new Error("File is password-protected: ECMA-376 Extensible")}function A3e(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var n=t.read_shift(t.length-t.l,"utf8"),r={};return n.replace(ws,function(s){var a=Yt(s);switch(Rl(a[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(o){r[o]=a[o]});break;case"<dataIntegrity":r.encryptedHmacKey=a.encryptedHmacKey,r.encryptedHmacValue=a.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":r.uri=a.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":r.encs.push(a);break;default:throw a[0]}}),r}function N3e(t,e){var n={},r=n.EncryptionVersionInfo=cc(t,4);if(e-=4,r.Minor!=2)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);n.Flags=t.read_shift(4),e-=4;var i=t.read_shift(4);return e-=4,n.EncryptionHeader=SX(t,i),e-=i,n.EncryptionVerifier=DX(t,e),n}function I3e(t){var e={},n=e.EncryptionVersionInfo=cc(t,4);if(n.Major!=1||n.Minor!=1)throw"unrecognized version code "+n.Major+" : "+n.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}function zk(t){var e=0,n,r=CX(t),i=r.length+1,s,a,o,l,c;for(n=$u(i),n[0]=r.length,s=1;s!=i;++s)n[s]=r[s-1];for(s=i-1;s>=0;--s)a=n[s],o=(e&16384)===0?0:1,l=e<<1&32767,c=o|l,e=c^a;return e^52811}var AX=(function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(a){return(a/2|a*128)&255},i=function(a,o){return r(a^o)},s=function(a){for(var o=e[a.length-1],l=104,c=a.length-1;c>=0;--c)for(var u=a[c],f=0;f!=7;++f)u&64&&(o^=n[l]),u*=2,--l;return o};return function(a){for(var o=CX(a),l=s(o),c=o.length,u=$u(16),f=0;f!=16;++f)u[f]=0;var h,p,v;for((c&1)===1&&(h=l>>8,u[c]=i(t[0],h),--c,h=l&255,p=o[o.length-1],u[c]=i(p,h));c>0;)--c,h=l>>8,u[c]=i(o[c],h),--c,h=l&255,u[c]=i(o[c],h);for(c=15,v=15-o.length;v>0;)h=l>>8,u[c]=i(t[v],h),--c,--v,h=l&255,u[c]=i(o[c],h),--c,--v;return u}})(),k3e=function(t,e,n,r,i){i||(i=e),r||(r=AX(t));var s,a;for(s=0;s!=e.length;++s)a=e[s],a^=r[n],a=(a>>5|a<<3)&255,i[s]=a,++n;return[i,n,r]},R3e=function(t){var e=0,n=AX(t);return function(r){var i=k3e("",r,e,n);return e=i[1],i[0]}};function P3e(t,e,n,r){var i={key:ui(t),verificationBytes:ui(t)};return n.password&&(i.verifier=zk(n.password)),r.valid=i.verificationBytes===i.verifier,r.valid&&(r.insitu=R3e(n.password)),i}function F3e(t,e,n){var r=n||{};return r.Info=t.read_shift(2),t.l-=2,r.Info===1?r.Data=I3e(t):r.Data=N3e(t,e),r}function M3e(t,e,n){var r={Type:n.biff>=8?t.read_shift(2):0};return r.Type?F3e(t,e-2,r):P3e(t,n.biff>=8?e:e-2,n,r),r}var NX=(function(){function t(i,s){switch(s.type){case"base64":return e(Ia(i),s);case"binary":return e(i,s);case"buffer":return e(fn&&Buffer.isBuffer(i)?i.toString("binary"):sd(i),s);case"array":return e(Mf(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var a=s||{},o=a.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(u,f){Array.isArray(o)&&(o[f]=[]);for(var h=/\\\w+\b/g,p=0,v,g=-1;v=h.exec(u);){switch(v[0]){case"\\cell":var y=u.slice(p,h.lastIndex-v[0].length);if(y[0]==" "&&(y=y.slice(1)),++g,y.length){var b={v:y,t:"s"};Array.isArray(o)?o[f][g]=b:o[Xt({r:f,c:g})]=b}break}p=h.lastIndex}g>c.e.c&&(c.e.c=g)}),o["!ref"]=an(c),o}function n(i,s){return ad(t(i,s),s)}function r(i){for(var s=["{\\rtf1\\ansi"],a=Sn(i["!ref"]),o,l=Array.isArray(i),c=a.s.r;c<=a.e.r;++c){s.push("\\trowd\\trautofit1");for(var u=a.s.c;u<=a.e.c;++u)s.push("\\cellx"+(u+1));for(s.push("\\pard\\intbl"),u=a.s.c;u<=a.e.c;++u){var f=Xt({r:c,c:u});o=l?(i[c]||[])[u]:i[f],!(!o||o.v==null&&(!o.f||o.F))&&(s.push(" "+(o.w||(vc(o),o.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:n,to_sheet:t,from_sheet:r}})();function U3e(t){var e=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function Xy(t){for(var e=0,n=1;e!=3;++e)n=n*256+(t[e]>255?255:t[e]<0?0:t[e]);return n.toString(16).toUpperCase().slice(1)}function O3e(t){var e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.max(e,n,r),s=Math.min(e,n,r),a=i-s;if(a===0)return[0,0,e];var o=0,l=0,c=i+s;switch(l=a/(c>1?2-c:c),i){case e:o=((n-r)/a+6)%6;break;case n:o=(r-e)/a+2;break;case r:o=(e-n)/a+4;break}return[o/6,l,c/2]}function L3e(t){var e=t[0],n=t[1],r=t[2],i=n*2*(r<.5?r:1-r),s=r-i/2,a=[s,s,s],o=6*e,l;if(n!==0)switch(o|0){case 0:case 6:l=i*o,a[0]+=i,a[1]+=l;break;case 1:l=i*(2-o),a[0]+=l,a[1]+=i;break;case 2:l=i*(o-2),a[1]+=i,a[2]+=l;break;case 3:l=i*(4-o),a[1]+=l,a[2]+=i;break;case 4:l=i*(o-4),a[2]+=i,a[0]+=l;break;case 5:l=i*(6-o),a[2]+=l,a[0]+=i;break}for(var c=0;c!=3;++c)a[c]=Math.round(a[c]*255);return a}function Q_(t,e){if(e===0)return t;var n=O3e(U3e(t));return e<0?n[2]=n[2]*(1+e):n[2]=1-(1-n[2])*(1-e),Xy(L3e(n))}var IX=6,j3e=15,B3e=1,us=IX;function Jy(t){return Math.floor((t+Math.round(128/us)/256)*us)}function Yy(t){return Math.floor((t-5)/us*100+.5)/100}function Z_(t){return Math.round((t*us+5)/us*256)/256}function uD(t){return Z_(Yy(Jy(t)))}function Hk(t){var e=Math.abs(t-uD(t)),n=us;if(e>.005)for(us=B3e;us<j3e;++us)Math.abs(t-uD(t))<=e&&(e=Math.abs(t-uD(t)),n=us);us=n}function zu(t){t.width?(t.wpx=Jy(t.width),t.wch=Yy(t.wpx),t.MDW=us):t.wpx?(t.wch=Yy(t.wpx),t.width=Z_(t.wch),t.MDW=us):typeof t.wch=="number"&&(t.width=Z_(t.wch),t.wpx=Jy(t.width),t.MDW=us),t.customWidth&&delete t.customWidth}var V3e=96,kX=V3e;function Qy(t){return t*96/kX}function _m(t){return t*kX/96}var W3e={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function q3e(t,e,n,r){e.Borders=[];var i={},s=!1;(t[0].match(ws)||[]).forEach(function(a){var o=Yt(a);switch(Rl(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},o.diagonalUp&&(i.diagonalUp=hr(o.diagonalUp)),o.diagonalDown&&(i.diagonalDown=hr(o.diagonalDown)),e.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+o[0]+" in borders")}})}function $3e(t,e,n,r){e.Fills=[];var i={},s=!1;(t[0].match(ws)||[]).forEach(function(a){var o=Yt(a);switch(Rl(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},e.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":o.patternType&&(i.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),o.indexed&&(i.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(i.bgColor.theme=parseInt(o.theme,10)),o.tint&&(i.bgColor.tint=parseFloat(o.tint)),o.rgb&&(i.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),o.theme&&(i.fgColor.theme=parseInt(o.theme,10)),o.tint&&(i.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(i.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fills")}})}function z3e(t,e,n,r){e.Fonts=[];var i={},s=!1;(t[0].match(ws)||[]).forEach(function(a){var o=Yt(a);switch(Rl(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(i),i={};break;case"<name":o.val&&(i.name=Yn(o.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=o.val?hr(o.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=o.val?hr(o.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(o.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=o.val?hr(o.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=o.val?hr(o.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=o.val?hr(o.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=o.val?hr(o.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=o.val?hr(o.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":o.val&&(i.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(i.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(i.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(i.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=_k[parseInt(o.val,10)];break;case"<color":if(i.color||(i.color={}),o.auto&&(i.color.auto=hr(o.auto)),o.rgb)i.color.rgb=o.rgb.slice(-6);else if(o.indexed){i.color.index=parseInt(o.indexed,10);var l=cf[i.color.index];i.color.index==81&&(l=cf[1]),l||(l=cf[1]),i.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(i.color.theme=parseInt(o.theme,10),o.tint&&(i.color.tint=parseFloat(o.tint)),o.theme&&n.themeElements&&n.themeElements.clrScheme&&(i.color.rgb=Q_(n.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fonts")}})}function H3e(t,e,n){e.NumberFmt=[];for(var r=zr(Ht),i=0;i<r.length;++i)e.NumberFmt[r[i]]=Ht[r[i]];var s=t[0].match(ws);if(s)for(i=0;i<s.length;++i){var a=Yt(s[i]);switch(Rl(a[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=Cn(Yn(a.formatCode)),l=parseInt(a.numFmtId,10);if(e.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&e.NumberFmt[l]!=null;--l);e.NumberFmt[l]=o}lc(o,l)}}break;case"</numFmt>":break;default:if(n.WTF)throw new Error("unrecognized "+a[0]+" in numFmts")}}}function G3e(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)t[r]!=null&&(e[e.length]=_t("numFmt",null,{numFmtId:r,formatCode:Gn(t[r])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=_t("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var jx=["numFmtId","fillId","fontId","borderId","xfId"],Bx=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function K3e(t,e,n){e.CellXf=[];var r,i=!1;(t[0].match(ws)||[]).forEach(function(s){var a=Yt(s),o=0;switch(Rl(a[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(r=a,delete r[0],o=0;o<jx.length;++o)r[jx[o]]&&(r[jx[o]]=parseInt(r[jx[o]],10));for(o=0;o<Bx.length;++o)r[Bx[o]]&&(r[Bx[o]]=hr(r[Bx[o]]));if(e.NumberFmt&&r.numFmtId>392){for(o=392;o>60;--o)if(e.NumberFmt[r.numFmtId]==e.NumberFmt[o]){r.numFmtId=o;break}}e.CellXf.push(r);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};a.vertical&&(l.vertical=a.vertical),a.horizontal&&(l.horizontal=a.horizontal),a.textRotation!=null&&(l.textRotation=a.textRotation),a.indent&&(l.indent=a.indent),a.wrapText&&(l.wrapText=hr(a.wrapText)),r.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+a[0]+" in cellXfs")}})}function X3e(t){var e=[];return e[e.length]=_t("cellXfs",null),t.forEach(function(n){e[e.length]=_t("xf",null,n)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=_t("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var J3e=(function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,n=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,c){var u={};if(!o)return u;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=o.match(e))&&H3e(f,u,c),(f=o.match(i))&&z3e(f,u,l,c),(f=o.match(r))&&$3e(f,u,l,c),(f=o.match(s))&&q3e(f,u,l,c),(f=o.match(n))&&K3e(f,u,c),u}})();function RX(t,e){var n=[ri,_t("styleSheet",null,{xmlns:th[0],"xmlns:vt":vi.vt})],r;return t.SSF&&(r=G3e(t.SSF))!=null&&(n[n.length]=r),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=X3e(e.cellXfs))&&(n[n.length]=r),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function Y3e(t,e){var n=t.read_shift(2),r=vs(t);return[n,r]}function Q3e(t,e,n){n||(n=nt(6+4*e.length)),n.write_shift(2,t),Oi(e,n);var r=n.length>n.l?n.slice(0,n.l):n;return n.l==null&&(n.l=n.length),r}function Z3e(t,e,n){var r={};r.sz=t.read_shift(2)/20;var i=F4e(t);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var s=t.read_shift(2);switch(s===700&&(r.bold=1),t.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var a=t.read_shift(1);a!=0&&(r.underline=a);var o=t.read_shift(1);o>0&&(r.family=o);var l=t.read_shift(1);switch(l>0&&(r.charset=l),t.l++,r.color=P4e(t),t.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=vs(t),r}function eIe(t,e){e||(e=nt(153)),e.write_shift(2,t.sz*20),M4e(t,e),e.write_shift(2,t.bold?700:400);var n=0;t.vertAlign=="superscript"?n=1:t.vertAlign=="subscript"&&(n=2),e.write_shift(2,n),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),X_(t.color,e);var r=0;return r=2,e.write_shift(1,r),Oi(t.name,e),e.length>e.l?e.slice(0,e.l):e}var tIe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],dD,nIe=xs;function jO(t,e){e||(e=nt(84)),dD||(dD=Fw(tIe));var n=dD[t.patternType];n==null&&(n=40),e.write_shift(4,n);var r=0;if(n!=40)for(X_({auto:1},e),X_({auto:1},e);r<12;++r)e.write_shift(4,0);else{for(;r<4;++r)e.write_shift(4,0);for(;r<12;++r)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function rIe(t,e){var n=t.l+e,r=t.read_shift(2),i=t.read_shift(2);return t.l=n,{ixfe:r,numFmtId:i}}function PX(t,e,n){n||(n=nt(16)),n.write_shift(2,e||0),n.write_shift(2,t.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);var r=0;return n.write_shift(1,r),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function n0(t,e){return e||(e=nt(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var iIe=xs;function sIe(t,e){return e||(e=nt(51)),e.write_shift(1,0),n0(null,e),n0(null,e),n0(null,e),n0(null,e),n0(null,e),e.length>e.l?e.slice(0,e.l):e}function aIe(t,e){return e||(e=nt(52)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),K_(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function oIe(t,e,n){var r=nt(2052);return r.write_shift(4,t),K_(e,r),K_(n,r),r.length>r.l?r.slice(0,r.l):r}function lIe(t,e,n){var r={};r.NumberFmt=[];for(var i in Ht)r.NumberFmt[i]=Ht[i];r.CellXf=[],r.Fonts=[];var s=[],a=!1;return Ic(t,function(l,c,u){switch(u){case 44:r.NumberFmt[l[0]]=l[1],lc(l[1],l[0]);break;case 43:r.Fonts.push(l),l.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(l.color.rgb=Q_(e.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&r.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:s.push(u),a=!0;break;case 38:s.pop(),a=!1;break;default:if(c.T>0)s.push(u);else if(c.T<0)s.pop();else if(!a||n.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),r}function cIe(t,e){if(e){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&++n}),n!=0&&(lt(t,615,jo(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&lt(t,44,Q3e(i,e[i]))}),lt(t,616))}}function uIe(t){var e=1;lt(t,611,jo(e)),lt(t,43,eIe({sz:12,color:{theme:1},name:"Calibri",family:2})),lt(t,612)}function dIe(t){var e=2;lt(t,603,jo(e)),lt(t,45,jO({patternType:"none"})),lt(t,45,jO({patternType:"gray125"})),lt(t,604)}function fIe(t){var e=1;lt(t,613,jo(e)),lt(t,46,sIe()),lt(t,614)}function hIe(t){var e=1;lt(t,626,jo(e)),lt(t,47,PX({numFmtId:0},65535)),lt(t,627)}function pIe(t,e){lt(t,617,jo(e.length)),e.forEach(function(n){lt(t,47,PX(n,0))}),lt(t,618)}function mIe(t){var e=1;lt(t,619,jo(e)),lt(t,48,aIe({xfId:0,name:"Normal"})),lt(t,620)}function gIe(t){var e=0;lt(t,505,jo(e)),lt(t,506)}function yIe(t){var e=0;lt(t,508,oIe(e,"TableStyleMedium9","PivotStyleMedium4")),lt(t,509)}function vIe(t,e){var n=ra();return lt(n,278),cIe(n,t.SSF),uIe(n),dIe(n),fIe(n),hIe(n),pIe(n,e.cellXfs),mIe(n),gIe(n),yIe(n),lt(n,279),n.end()}var xIe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function _Ie(t,e,n){e.themeElements.clrScheme=[];var r={};(t[0].match(ws)||[]).forEach(function(i){var s=Yt(i);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=s.val;break;case"<a:sysClr":r.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(e.themeElements.clrScheme[xIe.indexOf(s[0])]=r,r={}):r.name=s[0].slice(3,s[0].length-1);break;default:if(n&&n.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function bIe(){}function wIe(){}var TIe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,EIe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,CIe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function SIe(t,e,n){e.themeElements={};var r;[["clrScheme",TIe,_Ie],["fontScheme",EIe,bIe],["fmtScheme",CIe,wIe]].forEach(function(i){if(!(r=t.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](r,e,n)})}var DIe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function FX(t,e){(!t||t.length===0)&&(t=Gk());var n,r={};if(!(n=t.match(DIe)))throw new Error("themeElements not found in theme");return SIe(n[0],r,e),r.raw=t,r}function Gk(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var n=[ri];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function AIe(t,e,n){var r=t.l+e,i=t.read_shift(4);if(i!==124226){if(!n.cellStyles){t.l=r;return}var s=t.slice(t.l);t.l=r;var a;try{a=SK(s,{type:"array"})}catch{return}var o=Ta(a,"theme/theme/theme1.xml",!0);if(o)return FX(o,n)}}function NIe(t){return t.read_shift(4)}function IIe(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:t.l+=4;break;case 1:e.xclrValue=kIe(t,4);break;case 2:e.xclrValue=hX(t);break;case 3:e.xclrValue=NIe(t);break;case 4:t.l+=4;break}return t.l+=8,e}function kIe(t,e){return xs(t,e)}function RIe(t,e){return xs(t,e)}function PIe(t){var e=t.read_shift(2),n=t.read_shift(2)-4,r=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=IIe(t);break;case 6:r[1]=RIe(t,n);break;case 14:case 15:r[1]=t.read_shift(n===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+n)}return r}function FIe(t,e){var n=t.l+e;t.l+=2;var r=t.read_shift(2);t.l+=2;for(var i=t.read_shift(2),s=[];i-- >0;)s.push(PIe(t,n-t.l));return{ixfe:r,ext:s}}function MIe(t,e){e.forEach(function(n){n[0]})}function UIe(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:vs(t)}}function OIe(t){var e=nt(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),Oi(t.name,e),e.slice(0,e.l)}function LIe(t){for(var e=[],n=t.read_shift(4);n-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function jIe(t){var e=nt(4+8*t.length);e.write_shift(4,t.length);for(var n=0;n<t.length;++n)e.write_shift(4,t[n][0]),e.write_shift(4,t[n][1]);return e}function BIe(t,e){var n=nt(8+2*e.length);return n.write_shift(4,t),Oi(e,n),n.slice(0,n.l)}function VIe(t){return t.l+=4,t.read_shift(4)!=0}function WIe(t,e){var n=nt(8);return n.write_shift(4,t),n.write_shift(4,1),n}function qIe(t,e,n){var r={Types:[],Cell:[],Value:[]},i=n||{},s=[],a=!1,o=2;return Ic(t,function(l,c,u){switch(u){case 335:r.Types.push({name:l.name});break;case 51:l.forEach(function(f){o==1?r.Cell.push({type:r.Types[f[0]-1].name,index:f[1]}):o==0&&r.Value.push({type:r.Types[f[0]-1].name,index:f[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:s.push(u),a=!0;break;case 36:s.pop(),a=!1;break;default:if(!c.T){if(!a||i.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}function $Ie(){var t=ra();return lt(t,332),lt(t,334,jo(1)),lt(t,335,OIe({name:"XLDAPR",version:12e4,flags:3496657072})),lt(t,336),lt(t,339,BIe(1,"XLDAPR")),lt(t,52),lt(t,35,jo(514)),lt(t,4096,jo(0)),lt(t,4097,Ka(1)),lt(t,36),lt(t,53),lt(t,340),lt(t,337,WIe(1)),lt(t,51,jIe([[1,0]])),lt(t,338),lt(t,333),t.end()}function zIe(t,e,n){var r={Types:[],Cell:[],Value:[]};if(!t)return r;var i=!1,s=2,a;return t.replace(ws,function(o){var l=Yt(o);switch(Rl(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":r.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<r.Types.length;++c)r.Types[c].name==l.name&&(a=r.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?r.Cell.push({type:r.Types[l.t-1].name,index:+l.v}):s==0&&r.Value.push({type:r.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!a)break;a.offsets||(a.offsets=[]),a.offsets.push(+l.i);break;default:if(!i&&n.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),r}function MX(){var t=[ri];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function HIe(t){var e=[];if(!t)return e;var n=1;return(t.match(ws)||[]).forEach(function(r){var i=Yt(r);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?n=i.i:i.i=n,e.push(i);break}}),e}function GIe(t){var e={};e.i=t.read_shift(4);var n={};n.r=t.read_shift(4),n.c=t.read_shift(4),e.r=Xt(n);var r=t.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}function KIe(t,e,n){var r=[];return Ic(t,function(s,a,o){switch(o){case 63:r.push(s);break;default:if(!a.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function XIe(t,e,n,r){if(!t)return t;var i=r||{},s=!1;Ic(t,function(o,l,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!l.T){if(!s||i.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},i)}function JIe(t,e){if(!t)return"??";var n=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][n].Target}var wp=1024;function UX(t,e){for(var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),i=[_t("xml",null,{"xmlns:v":_a.v,"xmlns:o":_a.o,"xmlns:x":_a.x,"xmlns:mv":_a.mv}).replace(/\/>/,">"),_t("o:shapelayout",_t("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),_t("v:shapetype",[_t("v:stroke",null,{joinstyle:"miter"}),_t("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:r})];wp<t*1e3;)wp+=1e3;return e.forEach(function(s){var a=Fr(s[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var l=o.type=="gradient"?_t("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,c=_t("v:fill",l,o),u={on:"t",obscured:"t"};++wp,i=i.concat(["<v:shape"+Hy({id:"_x0000_s"+wp,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",c,_t("v:shadow",null,u),_t("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Xi("x:Anchor",[a.c+1,0,a.r+1,0,a.c+3,20,a.r+5,20].join(",")),Xi("x:AutoFill","False"),Xi("x:Row",String(a.r)),Xi("x:Column",String(a.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function BO(t,e,n,r){var i=Array.isArray(t),s;e.forEach(function(a){var o=Fr(a.ref);if(i?(t[o.r]||(t[o.r]=[]),s=t[o.r][o.c]):s=t[a.ref],!s){s={t:"z"},i?t[o.r][o.c]=s:t[a.ref]=s;var l=Sn(t["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var c=an(l);c!==t["!ref"]&&(t["!ref"]=c)}s.c||(s.c=[]);var u={a:a.author,t:a.t,r:a.r,T:n};a.h&&(u.h=a.h);for(var f=s.c.length-1;f>=0;--f){if(!n&&s.c[f].T)return;n&&!s.c[f].T&&s.c.splice(f,1)}if(n&&r){for(f=0;f<r.length;++f)if(u.a==r[f].id){u.a=r[f].name||u.a;break}}s.c.push(u)})}function YIe(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],r=[],i=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&n.push(o[1])}});var s=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=Yt(o[0]),c={author:l.authorId&&n[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},u=Fr(l.ref);if(!(e.sheetRows&&e.sheetRows<=u.r)){var f=a.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&$k(f[1])||{r:"",t:"",h:""};c.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),c.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(c.h=h.h),r.push(c)}}}}),r}function OX(t){var e=[ri,_t("comments",null,{xmlns:th[0]})],n=[];return e.push("<authors>"),t.forEach(function(r){r[1].forEach(function(i){var s=Gn(i.a);n.indexOf(s)==-1&&(n.push(s),e.push("<author>"+s+"</author>")),i.T&&i.ID&&n.indexOf("tc="+i.ID)==-1&&(n.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),n.length==0&&(n.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(r){var i=0,s=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?i=n.indexOf("tc="+r[1][0].ID):r[1].forEach(function(l){l.a&&(i=n.indexOf(Gn(l.a))),s.push(l.t||"")}),e.push('<comment ref="'+r[0]+'" authorId="'+i+'"><text>'),s.length<=1)e.push(Xi("t",Gn(s[0]||"")));else{for(var a=`Comment:
    `+s[0]+`
`,o=1;o<s.length;++o)a+=`Reply:
    `+s[o]+`
`;e.push(Xi("t",Gn(a)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function QIe(t,e){var n=[],r=!1,i={},s=0;return t.replace(ws,function(o,l){var c=Yt(o);switch(Rl(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":i.t!=null&&n.push(i);break;case"<text>":case"<text":s=l+o.length;break;case"</text>":i.t=t.slice(s,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":r=!0;break;case"</mentions>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return o}),n}function ZIe(t,e,n){var r=[ri,_t("ThreadedComments",null,{xmlns:vi.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(i){var s="";(i[1]||[]).forEach(function(a,o){if(!a.T){delete a.ID;return}a.a&&e.indexOf(a.a)==-1&&e.push(a.a);var l={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};o==0?s=l.id:l.parentId=s,a.ID=l.id,a.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(a.a)).slice(-12)+"}"),r.push(_t("threadedComment",Xi("text",a.t||""),l))})}),r.push("</ThreadedComments>"),r.join("")}function eke(t,e){var n=[],r=!1;return t.replace(ws,function(s){var a=Yt(s);switch(Rl(a[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":n.push({name:a.displayname,id:a.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+a[0]+" in threaded comments")}return s}),n}function tke(t){var e=[ri,_t("personList",null,{xmlns:vi.TCMNT,"xmlns:x":th[0]}).replace(/[\/]>/,">")];return t.forEach(function(n,r){e.push(_t("person",null,{displayName:n,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:n,providerId:"None"}))}),e.push("</personList>"),e.join("")}function nke(t){var e={};e.iauthor=t.read_shift(4);var n=sh(t);return e.rfx=n.s,e.ref=Xt(n.s),t.l+=16,e}function rke(t,e){return e==null&&(e=nt(36)),e.write_shift(4,t[1].iauthor),ng(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var ike=vs;function ske(t){return Oi(t.slice(0,54))}function ake(t,e){var n=[],r=[],i={},s=!1;return Ic(t,function(o,l,c){switch(c){case 632:r.push(o);break;case 635:i=o;break;case 637:i.t=o.t,i.h=o.h,i.r=o.r;break;case 636:if(i.author=r[i.iauthor],delete i.iauthor,e.sheetRows&&i.rfx&&e.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,n.push(i);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!s||e.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),n}function oke(t){var e=ra(),n=[];return lt(e,628),lt(e,630),t.forEach(function(r){r[1].forEach(function(i){n.indexOf(i.a)>-1||(n.push(i.a.slice(0,54)),lt(e,632,ske(i.a)))})}),lt(e,631),lt(e,633),t.forEach(function(r){r[1].forEach(function(i){i.iauthor=n.indexOf(i.a);var s={s:Fr(r[0]),e:Fr(r[0])};lt(e,635,rke([s,i])),i.t&&i.t.length>0&&lt(e,637,N4e(i)),lt(e,636),delete i.iauthor})}),lt(e,634),lt(e,629),e.end()}var lke="application/vnd.ms-office.vbaProject";function cke(t){var e=Vt.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(n,r){if(!(n.slice(-1)==="/"||!n.match(/_VBA_PROJECT_CUR/))){var i=n.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Vt.utils.cfb_add(e,i,t.FileIndex[r].content)}}),Vt.write(e)}function uke(t,e){e.FullPaths.forEach(function(n,r){if(r!=0){var i=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&Vt.utils.cfb_add(t,i,e.FileIndex[r].content)}})}var LX=["xlsb","xlsm","xlam","biff8","xla"];function dke(){return{"!type":"dialog"}}function fke(){return{"!type":"dialog"}}function hke(){return{"!type":"macro"}}function pke(){return{"!type":"macro"}}var Op=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function n(r,i,s,a){var o=!1,l=!1;s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1)),a.length==0?o=!0:a.charAt(0)=="["&&(o=!0,a=a.slice(1,-1));var c=s.length>0?parseInt(s,10)|0:0,u=a.length>0?parseInt(a,10)|0:0;return o?u+=e.c:--u,l?c+=e.r:--c,i+(o?"":"$")+Pr(u)+(l?"":"$")+ti(c)}return function(i,s){return e=s,i.replace(t,n)}})(),Kk=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Xk=(function(){return function(e,n){return e.replace(Kk,function(r,i,s,a,o,l){var c=Mk(a)-(s?0:n.c),u=Fk(l)-(o?0:n.r),f=u==0?"":o?u+1:"["+u+"]",h=c==0?"":s?c+1:"["+c+"]";return i+"R"+f+"C"+h})}})();function jX(t,e){return t.replace(Kk,function(n,r,i,s,a,o){return r+(i=="$"?i+s:Pr(Mk(s)+e.c))+(a=="$"?a+o:ti(Fk(o)+e.r))})}function mke(t,e,n){var r=ia(e),i=r.s,s=Fr(n),a={r:s.r-i.r,c:s.c-i.c};return jX(t,a)}function gke(t){return t.length!=1}function VO(t){return t.replace(/_xlfn\./g,"")}function oi(t){t.l+=1}function Hu(t,e){var n=t.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function BX(t,e,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return VX(t);n.biff==12&&(r=4)}var i=t.read_shift(r),s=t.read_shift(r),a=Hu(t),o=Hu(t);return{s:{r:i,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function VX(t){var e=Hu(t),n=Hu(t),r=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function yke(t,e,n){if(n.biff<8)return VX(t);var r=t.read_shift(n.biff==12?4:2),i=t.read_shift(n.biff==12?4:2),s=Hu(t),a=Hu(t);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:a[0],cRel:a[1],rRel:a[2]}}}function WX(t,e,n){if(n&&n.biff>=2&&n.biff<=5)return vke(t);var r=t.read_shift(n&&n.biff==12?4:2),i=Hu(t);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function vke(t){var e=Hu(t),n=t.read_shift(1);return{r:e[0],c:n,cRel:e[1],rRel:e[2]}}function xke(t){var e=t.read_shift(2),n=t.read_shift(2);return{r:e,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function _ke(t,e,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return bke(t);var i=t.read_shift(r>=12?4:2),s=t.read_shift(2),a=(s&16384)>>14,o=(s&32768)>>15;if(s&=16383,o==1)for(;i>524287;)i-=1048576;if(a==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:a,rRel:o}}function bke(t){var e=t.read_shift(2),n=t.read_shift(1),r=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),i==1&&n>=128&&(n=n-256),{r:e,c:n,cRel:i,rRel:r}}function wke(t,e,n){var r=(t[t.l++]&96)>>5,i=BX(t,n.biff>=2&&n.biff<=5?6:8,n);return[r,i]}function Tke(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),s=8;if(n)switch(n.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}var a=BX(t,s,n);return[r,i,a]}function Eke(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function Cke(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),s=8;if(n)switch(n.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}return t.l+=s,[r,i]}function Ske(t,e,n){var r=(t[t.l++]&96)>>5,i=yke(t,e-1,n);return[r,i]}function Dke(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n.biff==2?6:n.biff==12?14:7,[r]}function WO(t){var e=t[t.l+1]&1,n=1;return t.l+=4,[e,n]}function Ake(t,e,n){t.l+=2;for(var r=t.read_shift(n&&n.biff==2?1:2),i=[],s=0;s<=r;++s)i.push(t.read_shift(n&&n.biff==2?1:2));return i}function Nke(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function Ike(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function kke(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function Rke(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=n&&n.biff==2?3:4,[r]}function qX(t){var e=t.read_shift(1),n=t.read_shift(1);return[e,n]}function Pke(t){return t.read_shift(2),qX(t)}function Fke(t){return t.read_shift(2),qX(t)}function Mke(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=WX(t,0,n);return[r,i]}function Uke(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=_ke(t,0,n);return[r,i]}function Oke(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);n&&n.biff==5&&(t.l+=12);var s=WX(t,0,n);return[r,i,s]}function Lke(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(n&&n.biff<=3?1:2);return[V6e[i],HX[i],r]}function jke(t,e,n){var r=t[t.l++],i=t.read_shift(1),s=n&&n.biff<=3?[r==88?-1:0,t.read_shift(1)]:Bke(t);return[i,(s[0]===0?HX:B6e)[s[1]]]}function Bke(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function Vke(t,e,n){t.l+=n&&n.biff==2?3:4}function Wke(t,e,n){if(t.l++,n&&n.biff==12)return[t.read_shift(4,"i"),0];var r=t.read_shift(2),i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function qke(t){return t.l++,kc[t.read_shift(1)]}function $ke(t){return t.l++,t.read_shift(2)}function zke(t){return t.l++,t.read_shift(1)!==0}function Hke(t){return t.l++,fs(t)}function Gke(t,e,n){return t.l++,Gv(t,e-1,n)}function Kke(t,e){var n=[t.read_shift(1)];if(e==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=Yr(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:n[1]=kc[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:n[1]=fs(t);break;case 2:n[1]=ah(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function Xke(t,e,n){for(var r=t.read_shift(n.biff==12?4:2),i=[],s=0;s!=r;++s)i.push((n.biff==12?sh:Ow)(t));return i}function Jke(t,e,n){var r=0,i=0;n.biff==12?(r=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),r=1+t.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--i==0&&(i=256));for(var s=0,a=[];s!=r&&(a[s]=[]);++s)for(var o=0;o!=i;++o)a[s][o]=Kke(t,n.biff);return a}function Yke(t,e,n){var r=t.read_shift(1)>>>5&3,i=!n||n.biff>=8?4:2,s=t.read_shift(i);switch(n.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[r,0,s]}function Qke(t,e,n){if(n.biff==5)return Zke(t);var r=t.read_shift(1)>>>5&3,i=t.read_shift(2),s=t.read_shift(4);return[r,i,s]}function Zke(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2,"i");t.l+=8;var r=t.read_shift(2);return t.l+=12,[e,n,r]}function e6e(t,e,n){var r=t.read_shift(1)>>>5&3;t.l+=n&&n.biff==2?3:4;var i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function t6e(t,e,n){var r=t.read_shift(1)>>>5&3,i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function n6e(t,e,n){var r=t.read_shift(1)>>>5&3;return t.l+=4,n.biff<8&&t.l--,n.biff==12&&(t.l+=2),[r]}function r6e(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),s=4;if(n)switch(n.biff){case 5:s=15;break;case 12:s=6;break}return t.l+=s,[r,i]}var i6e=xs,s6e=xs,a6e=xs;function Xv(t,e,n){return t.l+=2,[xke(t)]}function Jk(t){return t.l+=6,[]}var o6e=Xv,l6e=Jk,c6e=Jk,u6e=Xv;function $X(t){return t.l+=2,[ui(t),t.read_shift(2)&1]}var d6e=Xv,f6e=$X,h6e=Jk,p6e=Xv,m6e=Xv,g6e=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function y6e(t){t.l+=2;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),i=t.read_shift(2),s=t.read_shift(2),a=g6e[n>>2&31];return{ixti:e,coltype:n&3,rt:a,idx:r,c:i,C:s}}function v6e(t){return t.l+=2,[t.read_shift(4)]}function x6e(t,e,n){return t.l+=5,t.l+=2,t.l+=n.biff==2?1:4,["PTGSHEET"]}function _6e(t,e,n){return t.l+=n.biff==2?4:5,["PTGENDSHEET"]}function b6e(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function w6e(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function T6e(t){return t.l+=4,[0,0]}var qO={1:{n:"PtgExp",f:Wke},2:{n:"PtgTbl",f:a6e},3:{n:"PtgAdd",f:oi},4:{n:"PtgSub",f:oi},5:{n:"PtgMul",f:oi},6:{n:"PtgDiv",f:oi},7:{n:"PtgPower",f:oi},8:{n:"PtgConcat",f:oi},9:{n:"PtgLt",f:oi},10:{n:"PtgLe",f:oi},11:{n:"PtgEq",f:oi},12:{n:"PtgGe",f:oi},13:{n:"PtgGt",f:oi},14:{n:"PtgNe",f:oi},15:{n:"PtgIsect",f:oi},16:{n:"PtgUnion",f:oi},17:{n:"PtgRange",f:oi},18:{n:"PtgUplus",f:oi},19:{n:"PtgUminus",f:oi},20:{n:"PtgPercent",f:oi},21:{n:"PtgParen",f:oi},22:{n:"PtgMissArg",f:oi},23:{n:"PtgStr",f:Gke},26:{n:"PtgSheet",f:x6e},27:{n:"PtgEndSheet",f:_6e},28:{n:"PtgErr",f:qke},29:{n:"PtgBool",f:zke},30:{n:"PtgInt",f:$ke},31:{n:"PtgNum",f:Hke},32:{n:"PtgArray",f:Dke},33:{n:"PtgFunc",f:Lke},34:{n:"PtgFuncVar",f:jke},35:{n:"PtgName",f:Yke},36:{n:"PtgRef",f:Mke},37:{n:"PtgArea",f:wke},38:{n:"PtgMemArea",f:e6e},39:{n:"PtgMemErr",f:i6e},40:{n:"PtgMemNoMem",f:s6e},41:{n:"PtgMemFunc",f:t6e},42:{n:"PtgRefErr",f:n6e},43:{n:"PtgAreaErr",f:Eke},44:{n:"PtgRefN",f:Uke},45:{n:"PtgAreaN",f:Ske},46:{n:"PtgMemAreaN",f:b6e},47:{n:"PtgMemNoMemN",f:w6e},57:{n:"PtgNameX",f:Qke},58:{n:"PtgRef3d",f:Oke},59:{n:"PtgArea3d",f:Tke},60:{n:"PtgRefErr3d",f:r6e},61:{n:"PtgAreaErr3d",f:Cke},255:{}},E6e={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},C6e={1:{n:"PtgElfLel",f:$X},2:{n:"PtgElfRw",f:p6e},3:{n:"PtgElfCol",f:o6e},6:{n:"PtgElfRwV",f:m6e},7:{n:"PtgElfColV",f:u6e},10:{n:"PtgElfRadical",f:d6e},11:{n:"PtgElfRadicalS",f:h6e},13:{n:"PtgElfColS",f:l6e},15:{n:"PtgElfColSV",f:c6e},16:{n:"PtgElfRadicalLel",f:f6e},25:{n:"PtgList",f:y6e},29:{n:"PtgSxName",f:v6e},255:{}},S6e={0:{n:"PtgAttrNoop",f:T6e},1:{n:"PtgAttrSemi",f:Rke},2:{n:"PtgAttrIf",f:Ike},4:{n:"PtgAttrChoose",f:Ake},8:{n:"PtgAttrGoto",f:Nke},16:{n:"PtgAttrSum",f:Vke},32:{n:"PtgAttrBaxcel",f:WO},33:{n:"PtgAttrBaxcel",f:WO},64:{n:"PtgAttrSpace",f:Pke},65:{n:"PtgAttrSpaceSemi",f:Fke},128:{n:"PtgAttrIfError",f:kke},255:{}};function Jv(t,e,n,r){if(r.biff<8)return xs(t,e);for(var i=t.l+e,s=[],a=0;a!==n.length;++a)switch(n[a][0]){case"PtgArray":n[a][1]=Jke(t,0,r),s.push(n[a][1]);break;case"PtgMemArea":n[a][2]=Xke(t,n[a][1],r),s.push(n[a][2]);break;case"PtgExp":r&&r.biff==12&&(n[a][1][1]=t.read_shift(4),s.push(n[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[a][0]}return e=i-t.l,e!==0&&s.push(xs(t,e)),s}function Yv(t,e,n){for(var r=t.l+e,i,s,a=[];r!=t.l;)e=r-t.l,s=t[t.l],i=qO[s]||qO[E6e[s]],(s===24||s===25)&&(i=(s===24?C6e:S6e)[t[t.l+1]]),!i||!i.f?xs(t,e):a.push([i.n,i.f(t,e,n)]);return a}function D6e(t){for(var e=[],n=0;n<t.length;++n){for(var r=t[n],i=[],s=0;s<r.length;++s){var a=r[s];if(a)switch(a[0]){case 2:i.push('"'+a[1].replace(/"/g,'""')+'"');break;default:i.push(a[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var A6e={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function N6e(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function zX(t,e,n){if(!t)return"SH33TJSERR0";if(n.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var r=t.XTI[e];if(n.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!r)return"SH33TJSERR1";var i="";if(n.biff>8)switch(t[r[0]][0]){case 357:return i=r[1]==-1?"#REF":t.SheetNames[r[1]],r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 358:return n.SID!=null?t.SheetNames[n.SID]:"SH33TJSSAME"+t[r[0]][0];case 355:default:return"SH33TJSSRC"+t[r[0]][0]}switch(t[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":t.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 14849:return t[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return t[r[0]][0][3]?(i=r[1]==-1?"#REF":t[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+t[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function $O(t,e,n){var r=zX(t,e,n);return r=="#REF"?r:N6e(r,n)}function cs(t,e,n,r,i){var s=i&&i.biff||8,a={s:{c:0,r:0}},o=[],l,c,u,f=0,h=0,p,v="";if(!t[0]||!t[0][0])return"";for(var g=-1,y="",b=0,_=t[0].length;b<_;++b){var w=t[0][b];switch(w[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),g>=0){switch(t[0][g][1][0]){case 0:y=Br(" ",t[0][g][1][1]);break;case 1:y=Br("\r",t[0][g][1][1]);break;default:if(y="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][g][1][0])}c=c+y,g=-1}o.push(c+A6e[w[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=Y0(w[1][1],a,i),o.push(Q0(u,s));break;case"PtgRefN":u=n?Y0(w[1][1],n,i):w[1][1],o.push(Q0(u,s));break;case"PtgRef3d":f=w[1][1],u=Y0(w[1][2],a,i),v=$O(r,f,i),o.push(v+"!"+Q0(u,s));break;case"PtgFunc":case"PtgFuncVar":var C=w[1][0],S=w[1][1];C||(C=0),C&=127;var R=C==0?[]:o.slice(-C);o.length-=C,S==="User"&&(S=R.shift()),o.push(S+"("+R.join(",")+")");break;case"PtgBool":o.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(w[1]);break;case"PtgNum":o.push(String(w[1]));break;case"PtgStr":o.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(w[1]);break;case"PtgAreaN":p=xO(w[1][1],n?{s:n}:a,i),o.push(oD(p,i));break;case"PtgArea":p=xO(w[1][1],a,i),o.push(oD(p,i));break;case"PtgArea3d":f=w[1][1],p=w[1][2],v=$O(r,f,i),o.push(v+"!"+oD(p,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=w[1][2];var D=(r.names||[])[h-1]||(r[0]||[])[h],N=D?D.Name:"SH33TJSNAME"+String(h);N&&N.slice(0,6)=="_xlfn."&&!i.xlfn&&(N=N.slice(6)),o.push(N);break;case"PtgNameX":var k=w[1][1];h=w[1][2];var F;if(i.biff<=5)k<0&&(k=-k),r[k]&&(F=r[k][h]);else{var P="";if(((r[k]||[])[0]||[])[0]==14849||(((r[k]||[])[0]||[])[0]==1025?r[k][h]&&r[k][h].itab>0&&(P=r.SheetNames[r[k][h].itab-1]+"!"):P=r.SheetNames[h-1]+"!"),r[k]&&r[k][h])P+=r[k][h].Name;else if(r[0]&&r[0][h])P+=r[0][h].Name;else{var I=(zX(r,k,i)||"").split(";;");I[h-1]?P=I[h-1]:P+="SH33TJSERRX"}o.push(P);break}F||(F={Name:"SH33TJSERRY"}),o.push(F.Name);break;case"PtgParen":var U="(",O=")";if(g>=0){switch(y="",t[0][g][1][0]){case 2:U=Br(" ",t[0][g][1][1])+U;break;case 3:U=Br("\r",t[0][g][1][1])+U;break;case 4:O=Br(" ",t[0][g][1][1])+O;break;case 5:O=Br("\r",t[0][g][1][1])+O;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][g][1][0])}g=-1}o.push(U+o.pop()+O);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:w[1][1],r:w[1][0]};var K={c:n.c,r:n.r};if(r.sharedf[Xt(u)]){var X=r.sharedf[Xt(u)];o.push(cs(X,a,K,r,i))}else{var J=!1;for(l=0;l!=r.arrayf.length;++l)if(c=r.arrayf[l],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){o.push(cs(c[1],a,K,r,i)),J=!0;break}J||o.push(w[1])}break;case"PtgArray":o.push("{"+D6e(w[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=b;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(w));default:throw new Error("Unrecognized Formula Token: "+String(w))}var ne=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&g>=0&&ne.indexOf(t[0][b][0])==-1){w=t[0][g];var z=!0;switch(w[1][0]){case 4:z=!1;case 0:y=Br(" ",w[1][1]);break;case 5:z=!1;case 1:y=Br("\r",w[1][1]);break;default:if(y="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}o.push((z?y:"")+o.pop()+(z?"":y)),g=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function I6e(t,e,n){var r=t.l+e,i=n.biff==2?1:2,s,a=t.read_shift(i);if(a==65535)return[[],xs(t,e-2)];var o=Yv(t,a,n);return e!==a+i&&(s=Jv(t,e-a-i,o,n)),t.l=r,[o,s]}function k6e(t,e,n){var r=t.l+e,i=n.biff==2?1:2,s,a=t.read_shift(i);if(a==65535)return[[],xs(t,e-2)];var o=Yv(t,a,n);return e!==a+i&&(s=Jv(t,e-a-i,o,n)),t.l=r,[o,s]}function R6e(t,e,n,r){var i=t.l+e,s=Yv(t,r,n),a;return i!==t.l&&(a=Jv(t,i-t.l,s,n)),[s,a]}function P6e(t,e,n){var r=t.l+e,i,s=t.read_shift(2),a=Yv(t,s,n);return s==65535?[[],xs(t,e-2)]:(e!==s+2&&(i=Jv(t,r-s-2,a,n)),[a,i])}function F6e(t){var e;if(ec(t,t.l+6)!==65535)return[fs(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=t[t.l+2]===1,t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}function M6e(t){if(t==null){var e=nt(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return Uf(t);return Uf(0)}function fD(t,e,n){var r=t.l+e,i=Pl(t);n.biff==2&&++t.l;var s=F6e(t),a=t.read_shift(1);n.biff!=2&&(t.read_shift(1),n.biff>=5&&t.read_shift(4));var o=k6e(t,r-t.l,n);return{cell:i,val:s[0],formula:o,shared:a>>3&1,tt:s[1]}}function U6e(t,e,n,r,i){var s=Lf(e,n,i),a=M6e(t.v),o=nt(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var c=nt(t.bf.length),u=0;u<t.bf.length;++u)c[u]=t.bf[u];var f=Ui([s,a,o,c]);return f}function Lw(t,e,n){var r=t.read_shift(4),i=Yv(t,r,n),s=t.read_shift(4),a=s>0?Jv(t,s,i,n):null;return[i,a]}var O6e=Lw,jw=Lw,L6e=Lw,j6e=Lw,B6e={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},HX={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},V6e={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function zO(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,n){return n.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function W6e(t){var e="of:="+t.replace(Kk,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function hD(t){var e=t.split(":"),n=e[0].split(".")[0];return[n,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}function q6e(t){return t.replace(/\./,"!")}var ey={},Lp={},ty=typeof Map<"u";function Yk(t,e,n){var r=0,i=t.length;if(n){if(ty?n.has(e):Object.prototype.hasOwnProperty.call(n,e)){for(var s=ty?n.get(e):n[e];r<s.length;++r)if(t[s[r]].t===e)return t.Count++,s[r]}}else for(;r<i;++r)if(t[r].t===e)return t.Count++,r;return t[i]={t:e},t.Count++,t.Unique++,n&&(ty?(n.has(e)||n.set(e,[]),n.get(e).push(i)):(Object.prototype.hasOwnProperty.call(n,e)||(n[e]=[]),n[e].push(i))),i}function Bw(t,e){var n={min:t+1,max:t+1},r=-1;return e.MDW&&(us=e.MDW),e.width!=null?n.customWidth=1:e.wpx!=null?r=Yy(e.wpx):e.wch!=null&&(r=e.wch),r>-1?(n.width=Z_(r),n.customWidth=1):e.width!=null&&(n.width=e.width),e.hidden&&(n.hidden=!0),e.level!=null&&(n.outlineLevel=n.level=e.level),n}function ff(t,e){if(t){var n=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(n=[1,1,1,1,.5,.5]),t.left==null&&(t.left=n[0]),t.right==null&&(t.right=n[1]),t.top==null&&(t.top=n[2]),t.bottom==null&&(t.bottom=n[3]),t.header==null&&(t.header=n[4]),t.footer==null&&(t.footer=n[5])}}function od(t,e,n){var r=n.revssf[e.z!=null?e.z:"General"],i=60,s=t.length;if(r==null&&n.ssf){for(;i<392;++i)if(n.ssf[i]==null){lc(e.z,i),n.ssf[i]=e.z,n.revssf[e.z]=r=i;break}}for(i=0;i!=s;++i)if(t[i].numFmtId===r)return i;return t[s]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function GX(t,e,n,r,i,s){try{r.cellNF&&(t.z=Ht[e])}catch(o){if(r.WTF)throw o}if(!(t.t==="z"&&!r.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=yr(t.v)),(!r||r.cellText!==!1)&&t.t!=="z")try{if(Ht[e]==null&&lc(BDe[e]||"General",e),t.t==="e")t.w=t.w||kc[t.v];else if(e===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=$y(t.v);else if(t.t==="d"){var a=_i(t.v);(a|0)===a?t.w=a.toString(10):t.w=$y(a)}else{if(t.v===void 0)return"";t.w=Ff(t.v,Lp)}else t.t==="d"?t.w=ao(e,_i(t.v),Lp):t.w=ao(e,t.v,Lp)}catch(o){if(r.WTF)throw o}if(r.cellStyles&&n!=null)try{t.s=s.Fills[n],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=Q_(i.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),r.WTF&&(t.s.fgColor.raw_rgb=i.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=Q_(i.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),r.WTF&&(t.s.bgColor.raw_rgb=i.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(o){if(r.WTF&&s.Fills)throw o}}}function $6e(t,e,n){if(t&&t["!ref"]){var r=Sn(t["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+n+"): "+t["!ref"])}}function z6e(t,e){var n=Sn(e);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(t["!ref"]=an(n))}var H6e=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,G6e=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,K6e=/<(?:\w:)?hyperlink [^>]*>/mg,X6e=/"(\w*:\w*)"/,J6e=/<(?:\w:)?col\b[^>]*[\/]?>/g,Y6e=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,Q6e=/<(?:\w:)?pageMargins[^>]*\/>/g,KX=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,Z6e=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,eRe=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function tRe(t,e,n,r,i,s,a){if(!t)return t;r||(r={"!id":{}});var o=e.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",u="",f=t.match(G6e);f?(c=t.slice(0,f.index),u=t.slice(f.index+f[0].length)):c=u=t;var h=c.match(KX);h?Qk(h[0],o,i,n):(h=c.match(Z6e))&&rRe(h[0],h[1]||"",o,i,n);var p=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var v=c.slice(p,p+50).match(X6e);v&&z6e(o,v[1])}var g=c.match(eRe);g&&g[1]&&gRe(g[1],i);var y=[];if(e.cellStyles){var b=c.match(J6e);b&&dRe(y,b)}f&&xRe(f[1],o,e,l,s,a);var _=u.match(Y6e);_&&(o["!autofilter"]=hRe(_[0]));var w=[],C=u.match(H6e);if(C)for(p=0;p!=C.length;++p)w[p]=Sn(C[p].slice(C[p].indexOf('"')+1));var S=u.match(K6e);S&&lRe(o,S,r);var R=u.match(Q6e);if(R&&(o["!margins"]=cRe(Yt(R[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=an(l)),e.sheetRows>0&&o["!ref"]){var D=Sn(o["!ref"]);e.sheetRows<=+D.e.r&&(D.e.r=e.sheetRows-1,D.e.r>l.e.r&&(D.e.r=l.e.r),D.e.r<D.s.r&&(D.s.r=D.e.r),D.e.c>l.e.c&&(D.e.c=l.e.c),D.e.c<D.s.c&&(D.s.c=D.e.c),o["!fullref"]=o["!ref"],o["!ref"]=an(D))}return y.length>0&&(o["!cols"]=y),w.length>0&&(o["!merges"]=w),o}function nRe(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',n=0;n!=t.length;++n)e+='<mergeCell ref="'+an(t[n])+'"/>';return e+"</mergeCells>"}function Qk(t,e,n,r){var i=Yt(t);n.Sheets[r]||(n.Sheets[r]={}),i.codeName&&(n.Sheets[r].CodeName=Cn(Yn(i.codeName)))}function rRe(t,e,n,r,i){Qk(t.slice(0,t.indexOf(">")),n,r,i)}function iRe(t,e,n,r,i){var s=!1,a={},o=null;if(r.bookType!=="xlsx"&&e.vbaraw){var l=e.SheetNames[n];try{e.Workbook&&(l=e.Workbook.Sheets[n].CodeName||l)}catch{}s=!0,a.codeName=yl(Gn(l))}if(t&&t["!outline"]){var c={summaryBelow:1,summaryRight:1};t["!outline"].above&&(c.summaryBelow=0),t["!outline"].left&&(c.summaryRight=0),o=(o||"")+_t("outlinePr",null,c)}!s&&!o||(i[i.length]=_t("sheetPr",o,a))}var sRe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],aRe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function oRe(t){var e={sheet:1};return sRe.forEach(function(n){t[n]!=null&&t[n]&&(e[n]="1")}),aRe.forEach(function(n){t[n]!=null&&!t[n]&&(e[n]="0")}),t.password&&(e.password=zk(t.password).toString(16).toUpperCase()),_t("sheetProtection",null,e)}function lRe(t,e,n){for(var r=Array.isArray(t),i=0;i!=e.length;++i){var s=Yt(Yn(e[i]),!0);if(!s.ref)return;var a=((n||{})["!id"]||[])[s.id];a?(s.Target=a.Target,s.location&&(s.Target+="#"+Cn(s.location))):(s.Target="#"+Cn(s.location),a={Target:s.Target,TargetMode:"Internal"}),s.Rel=a,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var o=Sn(s.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var u=Xt({c,r:l});r?(t[l]||(t[l]=[]),t[l][c]||(t[l][c]={t:"z",v:void 0}),t[l][c].l=s):(t[u]||(t[u]={t:"z",v:void 0}),t[u].l=s)}}}function cRe(t){var e={};return["left","right","top","bottom","header","footer"].forEach(function(n){t[n]&&(e[n]=parseFloat(t[n]))}),e}function uRe(t){return ff(t),_t("pageMargins",null,t)}function dRe(t,e){for(var n=!1,r=0;r!=e.length;++r){var i=Yt(e[r],!0);i.hidden&&(i.hidden=hr(i.hidden));var s=parseInt(i.min,10)-1,a=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!n&&i.width&&(n=!0,Hk(i.width)),zu(i);s<=a;)t[s++]=vr(i)}}function fRe(t,e){for(var n=["<cols>"],r,i=0;i!=e.length;++i)(r=e[i])&&(n[n.length]=_t("col",null,Bw(i,r)));return n[n.length]="</cols>",n.join("")}function hRe(t){var e={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return e}function pRe(t,e,n,r){var i=typeof t.ref=="string"?t.ref:an(t.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var s=n.Workbook.Names,a=ia(i);a.s.r==a.e.r&&(a.e.r=ia(e["!ref"]).e.r,i=an(a));for(var o=0;o<s.length;++o){var l=s[o];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==r){l.Ref="'"+n.SheetNames[r]+"'!"+i;break}}return o==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+i}),_t("autoFilter",null,{ref:i})}var mRe=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function gRe(t,e){e.Views||(e.Views=[{}]),(t.match(mRe)||[]).forEach(function(n,r){var i=Yt(n);e.Views[r]||(e.Views[r]={}),+i.zoomScale&&(e.Views[r].zoom=+i.zoomScale),hr(i.rightToLeft)&&(e.Views[r].RTL=!0)})}function yRe(t,e,n,r){var i={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),_t("sheetViews",_t("sheetView",null,i),{})}function vRe(t,e,n,r){if(t.c&&n["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var i="",s=t.t,a=t.v;if(t.t!=="z")switch(t.t){case"b":i=t.v?"1":"0";break;case"n":i=""+t.v;break;case"e":i=kc[t.v];break;case"d":r&&r.cellDates?i=yr(t.v,-1).toISOString():(t=vr(t),t.t="n",i=""+(t.v=_i(yr(t.v)))),typeof t.z>"u"&&(t.z=Ht[14]);break;default:i=t.v;break}var o=Xi("v",Gn(i)),l={r:e},c=od(r.cellXfs,t,r);switch(c!==0&&(l.s=c),t.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){o=Xi("v",""+Yk(r.Strings,t.v,r.revStrings)),l.t="s";break}l.t="str";break}if(t.t!=s&&(t.t=s,t.v=a),typeof t.f=="string"&&t.f){var u=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;o=_t("f",Gn(t.f),u)+(t.v!=null?o:"")}return t.l&&n["!links"].push([e,t.l]),t.D&&(l.cm=1),_t("c",o,l)}var xRe=(function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,n=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,s=zy("v"),a=zy("f");return function(l,c,u,f,h,p){for(var v=0,g="",y=[],b=[],_=0,w=0,C=0,S="",R,D,N=0,k=0,F,P,I=0,U=0,O=Array.isArray(p.CellXf),K,X=[],J=[],ne=Array.isArray(c),z=[],Q={},B=!1,j=!!u.sheetStubs,W=l.split(e),G=0,Y=W.length;G!=Y;++G){g=W[G].trim();var ee=g.length;if(ee!==0){var ae=0;e:for(v=0;v<ee;++v)switch(g[v]){case">":if(g[v-1]!="/"){++v;break e}if(u&&u.cellStyles){if(D=Yt(g.slice(ae,v),!0),N=D.r!=null?parseInt(D.r,10):N+1,k=-1,u.sheetRows&&u.sheetRows<N)continue;Q={},B=!1,D.ht&&(B=!0,Q.hpt=parseFloat(D.ht),Q.hpx=_m(Q.hpt)),D.hidden=="1"&&(B=!0,Q.hidden=!0),D.outlineLevel!=null&&(B=!0,Q.level=+D.outlineLevel),B&&(z[N-1]=Q)}break;case"<":ae=v;break}if(ae>=v)break;if(D=Yt(g.slice(ae,v),!0),N=D.r!=null?parseInt(D.r,10):N+1,k=-1,!(u.sheetRows&&u.sheetRows<N)){f.s.r>N-1&&(f.s.r=N-1),f.e.r<N-1&&(f.e.r=N-1),u&&u.cellStyles&&(Q={},B=!1,D.ht&&(B=!0,Q.hpt=parseFloat(D.ht),Q.hpx=_m(Q.hpt)),D.hidden=="1"&&(B=!0,Q.hidden=!0),D.outlineLevel!=null&&(B=!0,Q.level=+D.outlineLevel),B&&(z[N-1]=Q)),y=g.slice(v).split(t);for(var de=0;de!=y.length&&y[de].trim().charAt(0)=="<";++de);for(y=y.slice(de),v=0;v!=y.length;++v)if(g=y[v].trim(),g.length!==0){if(b=g.match(n),_=v,w=0,C=0,g="<c "+(g.slice(0,1)=="<"?">":"")+g,b!=null&&b.length===2){for(_=0,S=b[1],w=0;w!=S.length&&!((C=S.charCodeAt(w)-64)<1||C>26);++w)_=26*_+C;--_,k=_}else++k;for(w=0;w!=g.length&&g.charCodeAt(w)!==62;++w);if(++w,D=Yt(g.slice(0,w),!0),D.r||(D.r=Xt({r:N-1,c:k})),S=g.slice(w),R={t:""},(b=S.match(s))!=null&&b[1]!==""&&(R.v=Cn(b[1])),u.cellFormula){if((b=S.match(a))!=null&&b[1]!==""){if(R.f=Cn(Yn(b[1])).replace(/\r\n/g,`
`),u.xlfn||(R.f=VO(R.f)),b[0].indexOf('t="array"')>-1)R.F=(S.match(i)||[])[1],R.F.indexOf(":")>-1&&X.push([Sn(R.F),R.F]);else if(b[0].indexOf('t="shared"')>-1){P=Yt(b[0]);var fe=Cn(Yn(b[1]));u.xlfn||(fe=VO(fe)),J[parseInt(P.si,10)]=[P,fe,D.r]}}else(b=S.match(/<f[^>]*\/>/))&&(P=Yt(b[0]),J[P.si]&&(R.f=mke(J[P.si][1],J[P.si][2],D.r)));var Ae=Fr(D.r);for(w=0;w<X.length;++w)Ae.r>=X[w][0].s.r&&Ae.r<=X[w][0].e.r&&Ae.c>=X[w][0].s.c&&Ae.c<=X[w][0].e.c&&(R.F=X[w][1])}if(D.t==null&&R.v===void 0)if(R.f||R.F)R.v=0,R.t="n";else if(j)R.t="z";else continue;else R.t=D.t||"n";switch(f.s.c>k&&(f.s.c=k),f.e.c<k&&(f.e.c=k),R.t){case"n":if(R.v==""||R.v==null){if(!j)continue;R.t="z"}else R.v=parseFloat(R.v);break;case"s":if(typeof R.v>"u"){if(!j)continue;R.t="z"}else F=ey[parseInt(R.v,10)],R.v=F.t,R.r=F.r,u.cellHTML&&(R.h=F.h);break;case"str":R.t="s",R.v=R.v!=null?Yn(R.v):"",u.cellHTML&&(R.h=Ik(R.v));break;case"inlineStr":b=S.match(r),R.t="s",b!=null&&(F=$k(b[1]))?(R.v=F.t,u.cellHTML&&(R.h=F.h)):R.v="";break;case"b":R.v=hr(R.v);break;case"d":u.cellDates?R.v=yr(R.v,1):(R.v=_i(yr(R.v,1)),R.t="n");break;case"e":(!u||u.cellText!==!1)&&(R.w=R.v),R.v=JK[R.v];break}if(I=U=0,K=null,O&&D.s!==void 0&&(K=p.CellXf[D.s],K!=null&&(K.numFmtId!=null&&(I=K.numFmtId),u.cellStyles&&K.fillId!=null&&(U=K.fillId))),GX(R,I,U,u,h,p),u.cellDates&&O&&R.t=="n"&&Zm(Ht[I])&&(R.t="d",R.v=Uw(R.v)),D.cm&&u.xlmeta){var Re=(u.xlmeta.Cell||[])[+D.cm-1];Re&&Re.type=="XLDAPR"&&(R.D=!0)}if(ne){var me=Fr(D.r);c[me.r]||(c[me.r]=[]),c[me.r][me.c]=R}else c[D.r]=R}}}}z.length>0&&(c["!rows"]=z)}})();function _Re(t,e,n,r){var i=[],s=[],a=Sn(t["!ref"]),o="",l,c="",u=[],f=0,h=0,p=t["!rows"],v=Array.isArray(t),g={r:c},y,b=-1;for(h=a.s.c;h<=a.e.c;++h)u[h]=Pr(h);for(f=a.s.r;f<=a.e.r;++f){for(s=[],c=ti(f),h=a.s.c;h<=a.e.c;++h){l=u[h]+c;var _=v?(t[f]||[])[h]:t[l];_!==void 0&&(o=vRe(_,l,t,e))!=null&&s.push(o)}(s.length>0||p&&p[f])&&(g={r:c},p&&p[f]&&(y=p[f],y.hidden&&(g.hidden=1),b=-1,y.hpx?b=Qy(y.hpx):y.hpt&&(b=y.hpt),b>-1&&(g.ht=b,g.customHeight=1),y.level&&(g.outlineLevel=y.level)),i[i.length]=_t("row",s.join(""),g))}if(p)for(;f<p.length;++f)p&&p[f]&&(g={r:f+1},y=p[f],y.hidden&&(g.hidden=1),b=-1,y.hpx?b=Qy(y.hpx):y.hpt&&(b=y.hpt),b>-1&&(g.ht=b,g.customHeight=1),y.level&&(g.outlineLevel=y.level),i[i.length]=_t("row","",g));return i.join("")}function XX(t,e,n,r){var i=[ri,_t("worksheet",null,{xmlns:th[0],"xmlns:r":vi.r})],s=n.SheetNames[t],a=0,o="",l=n.Sheets[s];l==null&&(l={});var c=l["!ref"]||"A1",u=Sn(c);if(u.e.c>16383||u.e.r>1048575){if(e.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),c=an(u)}r||(r={}),l["!comments"]=[];var f=[];iRe(l,n,t,e,i),i[i.length]=_t("dimension",null,{ref:c}),i[i.length]=yRe(l,e,t,n),e.sheetFormat&&(i[i.length]=_t("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(i[i.length]=fRe(l,l["!cols"])),i[a=i.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(o=_Re(l,e),o.length>0&&(i[i.length]=o)),i.length>a+1&&(i[i.length]="</sheetData>",i[a]=i[a].replace("/>",">")),l["!protect"]&&(i[i.length]=oRe(l["!protect"])),l["!autofilter"]!=null&&(i[i.length]=pRe(l["!autofilter"],l,n,t)),l["!merges"]!=null&&l["!merges"].length>0&&(i[i.length]=nRe(l["!merges"]));var h=-1,p,v=-1;return l["!links"].length>0&&(i[i.length]="<hyperlinks>",l["!links"].forEach(function(g){g[1].Target&&(p={ref:g[0]},g[1].Target.charAt(0)!="#"&&(v=$n(r,-1,Gn(g[1].Target).replace(/#.*$/,""),pn.HLINK),p["r:id"]="rId"+v),(h=g[1].Target.indexOf("#"))>-1&&(p.location=Gn(g[1].Target.slice(h+1))),g[1].Tooltip&&(p.tooltip=Gn(g[1].Tooltip)),i[i.length]=_t("hyperlink",null,p))}),i[i.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(i[i.length]=uRe(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=Xi("ignoredErrors",_t("ignoredError",null,{numberStoredAsText:1,sqref:c}))),f.length>0&&(v=$n(r,-1,"../drawings/drawing"+(t+1)+".xml",pn.DRAW),i[i.length]=_t("drawing",null,{"r:id":"rId"+v}),l["!drawing"]=f),l["!comments"].length>0&&(v=$n(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",pn.VML),i[i.length]=_t("legacyDrawing",null,{"r:id":"rId"+v}),l["!legacy"]=v),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function bRe(t,e){var n={},r=t.l+e;n.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var s=t.read_shift(1);return t.l=r,s&7&&(n.level=s&7),s&16&&(n.hidden=!0),s&32&&(n.hpt=i/20),n}function wRe(t,e,n){var r=nt(145),i=(n["!rows"]||[])[t]||{};r.write_shift(4,t),r.write_shift(4,0);var s=320;i.hpx?s=Qy(i.hpx)*20:i.hpt&&(s=i.hpt*20),r.write_shift(2,s),r.write_shift(1,0);var a=0;i.level&&(a|=i.level),i.hidden&&(a|=16),(i.hpx||i.hpt)&&(a|=32),r.write_shift(1,a),r.write_shift(1,0);var o=0,l=r.l;r.l+=4;for(var c={r:t,c:0},u=0;u<16;++u)if(!(e.s.c>u+1<<10||e.e.c<u<<10)){for(var f=-1,h=-1,p=u<<10;p<u+1<<10;++p){c.c=p;var v=Array.isArray(n)?(n[c.r]||[])[c.c]:n[Xt(c)];v&&(f<0&&(f=p),h=p)}f<0||(++o,r.write_shift(4,f),r.write_shift(4,h))}var g=r.l;return r.l=l,r.write_shift(4,o),r.l=g,r.length>r.l?r.slice(0,r.l):r}function TRe(t,e,n,r){var i=wRe(r,n,e);(i.length>17||(e["!rows"]||[])[r])&&lt(t,0,i)}var ERe=sh,CRe=ng;function SRe(){}function DRe(t,e){var n={},r=t[t.l];return++t.l,n.above=!(r&64),n.left=!(r&128),t.l+=18,n.name=I4e(t),n}function ARe(t,e,n){n==null&&(n=nt(84+4*t.length));var r=192;e&&(e.above&&(r&=-65),e.left&&(r&=-129)),n.write_shift(1,r);for(var i=1;i<3;++i)n.write_shift(1,0);return X_({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),zK(t,n),n.slice(0,n.l)}function NRe(t){var e=co(t);return[e]}function IRe(t,e,n){return n==null&&(n=nt(8)),nh(e,n)}function kRe(t){var e=rh(t);return[e]}function RRe(t,e,n){return n==null&&(n=nt(4)),ih(e,n)}function PRe(t){var e=co(t),n=t.read_shift(1);return[e,n,"b"]}function FRe(t,e,n){return n==null&&(n=nt(9)),nh(e,n),n.write_shift(1,t.v?1:0),n}function MRe(t){var e=rh(t),n=t.read_shift(1);return[e,n,"b"]}function URe(t,e,n){return n==null&&(n=nt(5)),ih(e,n),n.write_shift(1,t.v?1:0),n}function ORe(t){var e=co(t),n=t.read_shift(1);return[e,n,"e"]}function LRe(t,e,n){return n==null&&(n=nt(9)),nh(e,n),n.write_shift(1,t.v),n}function jRe(t){var e=rh(t),n=t.read_shift(1);return[e,n,"e"]}function BRe(t,e,n){return n==null&&(n=nt(8)),ih(e,n),n.write_shift(1,t.v),n.write_shift(2,0),n.write_shift(1,0),n}function VRe(t){var e=co(t),n=t.read_shift(4);return[e,n,"s"]}function WRe(t,e,n){return n==null&&(n=nt(12)),nh(e,n),n.write_shift(4,e.v),n}function qRe(t){var e=rh(t),n=t.read_shift(4);return[e,n,"s"]}function $Re(t,e,n){return n==null&&(n=nt(8)),ih(e,n),n.write_shift(4,e.v),n}function zRe(t){var e=co(t),n=fs(t);return[e,n,"n"]}function HRe(t,e,n){return n==null&&(n=nt(16)),nh(e,n),Uf(t.v,n),n}function JX(t){var e=rh(t),n=fs(t);return[e,n,"n"]}function GRe(t,e,n){return n==null&&(n=nt(12)),ih(e,n),Uf(t.v,n),n}function KRe(t){var e=co(t),n=jk(t);return[e,n,"n"]}function XRe(t,e,n){return n==null&&(n=nt(12)),nh(e,n),HK(t.v,n),n}function JRe(t){var e=rh(t),n=jk(t);return[e,n,"n"]}function YRe(t,e,n){return n==null&&(n=nt(8)),ih(e,n),HK(t.v,n),n}function QRe(t){var e=co(t),n=Uk(t);return[e,n,"is"]}function ZRe(t){var e=co(t),n=vs(t);return[e,n,"str"]}function e5e(t,e,n){return n==null&&(n=nt(12+4*t.v.length)),nh(e,n),Oi(t.v,n),n.length>n.l?n.slice(0,n.l):n}function t5e(t){var e=rh(t),n=vs(t);return[e,n,"str"]}function n5e(t,e,n){return n==null&&(n=nt(8+4*t.v.length)),ih(e,n),Oi(t.v,n),n.length>n.l?n.slice(0,n.l):n}function r5e(t,e,n){var r=t.l+e,i=co(t);i.r=n["!row"];var s=t.read_shift(1),a=[i,s,"b"];if(n.cellFormula){t.l+=2;var o=jw(t,r-t.l,n);a[3]=cs(o,null,i,n.supbooks,n)}else t.l=r;return a}function i5e(t,e,n){var r=t.l+e,i=co(t);i.r=n["!row"];var s=t.read_shift(1),a=[i,s,"e"];if(n.cellFormula){t.l+=2;var o=jw(t,r-t.l,n);a[3]=cs(o,null,i,n.supbooks,n)}else t.l=r;return a}function s5e(t,e,n){var r=t.l+e,i=co(t);i.r=n["!row"];var s=fs(t),a=[i,s,"n"];if(n.cellFormula){t.l+=2;var o=jw(t,r-t.l,n);a[3]=cs(o,null,i,n.supbooks,n)}else t.l=r;return a}function a5e(t,e,n){var r=t.l+e,i=co(t);i.r=n["!row"];var s=vs(t),a=[i,s,"str"];if(n.cellFormula){t.l+=2;var o=jw(t,r-t.l,n);a[3]=cs(o,null,i,n.supbooks,n)}else t.l=r;return a}var o5e=sh,l5e=ng;function c5e(t,e){return e==null&&(e=nt(4)),e.write_shift(4,t),e}function u5e(t,e){var n=t.l+e,r=sh(t),i=Ok(t),s=vs(t),a=vs(t),o=vs(t);t.l=n;var l={rfx:r,relId:i,loc:s,display:o};return a&&(l.Tooltip=a),l}function d5e(t,e){var n=nt(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));ng({s:Fr(t[0]),e:Fr(t[0])},n),Lk("rId"+e,n);var r=t[1].Target.indexOf("#"),i=r==-1?"":t[1].Target.slice(r+1);return Oi(i||"",n),Oi(t[1].Tooltip||"",n),Oi("",n),n.slice(0,n.l)}function f5e(){}function h5e(t,e,n){var r=t.l+e,i=GK(t),s=t.read_shift(1),a=[i];if(a[2]=s,n.cellFormula){var o=O6e(t,r-t.l,n);a[1]=o}else t.l=r;return a}function p5e(t,e,n){var r=t.l+e,i=sh(t),s=[i];if(n.cellFormula){var a=j6e(t,r-t.l,n);s[1]=a,t.l=r}else t.l=r;return s}function m5e(t,e,n){n==null&&(n=nt(18));var r=Bw(t,e);n.write_shift(-4,t),n.write_shift(-4,t),n.write_shift(4,(r.width||10)*256),n.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof r.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),n.write_shift(2,i),n}var YX=["left","right","top","bottom","header","footer"];function g5e(t){var e={};return YX.forEach(function(n){e[n]=fs(t)}),e}function y5e(t,e){return e==null&&(e=nt(48)),ff(t),YX.forEach(function(n){Uf(t[n],e)}),e}function v5e(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function x5e(t,e,n){n==null&&(n=nt(30));var r=924;return(((e||{}).Views||[])[0]||{}).RTL&&(r|=32),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}function _5e(t){var e=nt(24);return e.write_shift(4,4),e.write_shift(4,1),ng(t,e),e}function b5e(t,e){return e==null&&(e=nt(66)),e.write_shift(2,t.password?zk(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(n){n[1]?e.write_shift(4,t[n[0]]!=null&&!t[n[0]]?1:0):e.write_shift(4,t[n[0]]!=null&&t[n[0]]?0:1)}),e}function w5e(){}function T5e(){}function E5e(t,e,n,r,i,s,a){if(!t)return t;var o=e||{};r||(r={"!id":{}});var l=o.dense?[]:{},c,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,p,v,g,y,b,_,w,C,S,R=[];o.biff=12,o["!row"]=0;var D=0,N=!1,k=[],F={},P=o.supbooks||i.supbooks||[[]];if(P.sharedf=F,P.arrayf=k,P.SheetNames=i.SheetNames||i.Sheets.map(function(ne){return ne.name}),!o.supbooks&&(o.supbooks=P,i.Names))for(var I=0;I<i.Names.length;++I)P[0][I+1]=i.Names[I];var U=[],O=[],K=!1;Zy[16]={n:"BrtShortReal",f:JX};var X;if(Ic(t,function(z,Q,B){if(!h)switch(B){case 148:c=z;break;case 0:p=z,o.sheetRows&&o.sheetRows<=p.r&&(h=!0),C=ti(y=p.r),o["!row"]=p.r,(z.hidden||z.hpt||z.level!=null)&&(z.hpt&&(z.hpx=_m(z.hpt)),O[z.r]=z);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(v={t:z[2]},z[2]){case"n":v.v=z[1];break;case"s":w=ey[z[1]],v.v=w.t,v.r=w.r;break;case"b":v.v=!!z[1];break;case"e":v.v=z[1],o.cellText!==!1&&(v.w=kc[v.v]);break;case"str":v.t="s",v.v=z[1];break;case"is":v.t="s",v.v=z[1].t;break}if((g=a.CellXf[z[0].iStyleRef])&&GX(v,g.numFmtId,null,o,s,a),b=z[0].c==-1?b+1:z[0].c,o.dense?(l[y]||(l[y]=[]),l[y][b]=v):l[Pr(b)+C]=v,o.cellFormula){for(N=!1,D=0;D<k.length;++D){var j=k[D];p.r>=j[0].s.r&&p.r<=j[0].e.r&&b>=j[0].s.c&&b<=j[0].e.c&&(v.F=an(j[0]),N=!0)}!N&&z.length>3&&(v.f=z[3])}if(u.s.r>p.r&&(u.s.r=p.r),u.s.c>b&&(u.s.c=b),u.e.r<p.r&&(u.e.r=p.r),u.e.c<b&&(u.e.c=b),o.cellDates&&g&&v.t=="n"&&Zm(Ht[g.numFmtId])){var W=tf(v.v);W&&(v.t="d",v.v=new Date(W.y,W.m-1,W.d,W.H,W.M,W.S,W.u))}X&&(X.type=="XLDAPR"&&(v.D=!0),X=void 0);break;case 1:case 12:if(!o.sheetStubs||f)break;v={t:"z",v:void 0},b=z[0].c==-1?b+1:z[0].c,o.dense?(l[y]||(l[y]=[]),l[y][b]=v):l[Pr(b)+C]=v,u.s.r>p.r&&(u.s.r=p.r),u.s.c>b&&(u.s.c=b),u.e.r<p.r&&(u.e.r=p.r),u.e.c<b&&(u.e.c=b),X&&(X.type=="XLDAPR"&&(v.D=!0),X=void 0);break;case 176:R.push(z);break;case 49:X=((o.xlmeta||{}).Cell||[])[z-1];break;case 494:var G=r["!id"][z.relId];for(G?(z.Target=G.Target,z.loc&&(z.Target+="#"+z.loc),z.Rel=G):z.relId==""&&(z.Target="#"+z.loc),y=z.rfx.s.r;y<=z.rfx.e.r;++y)for(b=z.rfx.s.c;b<=z.rfx.e.c;++b)o.dense?(l[y]||(l[y]=[]),l[y][b]||(l[y][b]={t:"z",v:void 0}),l[y][b].l=z):(_=Xt({c:b,r:y}),l[_]||(l[_]={t:"z",v:void 0}),l[_].l=z);break;case 426:if(!o.cellFormula)break;k.push(z),S=o.dense?l[y][b]:l[Pr(b)+C],S.f=cs(z[1],u,{r:p.r,c:b},P,o),S.F=an(z[0]);break;case 427:if(!o.cellFormula)break;F[Xt(z[0].s)]=z[1],S=o.dense?l[y][b]:l[Pr(b)+C],S.f=cs(z[1],u,{r:p.r,c:b},P,o);break;case 60:if(!o.cellStyles)break;for(;z.e>=z.s;)U[z.e--]={width:z.w/256,hidden:!!(z.flags&1),level:z.level},K||(K=!0,Hk(z.w/256)),zu(U[z.e+1]);break;case 161:l["!autofilter"]={ref:an(z)};break;case 476:l["!margins"]=z;break;case 147:i.Sheets[n]||(i.Sheets[n]={}),z.name&&(i.Sheets[n].CodeName=z.name),(z.above||z.left)&&(l["!outline"]={above:z.above,left:z.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),z.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!Q.T){if(!f||o.WTF)throw new Error("Unexpected record 0x"+B.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(u.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=an(c||u)),o.sheetRows&&l["!ref"]){var J=Sn(l["!ref"]);o.sheetRows<=+J.e.r&&(J.e.r=o.sheetRows-1,J.e.r>u.e.r&&(J.e.r=u.e.r),J.e.r<J.s.r&&(J.s.r=J.e.r),J.e.c>u.e.c&&(J.e.c=u.e.c),J.e.c<J.s.c&&(J.s.c=J.e.c),l["!fullref"]=l["!ref"],l["!ref"]=an(J))}return R.length>0&&(l["!merges"]=R),U.length>0&&(l["!cols"]=U),O.length>0&&(l["!rows"]=O),l}function C5e(t,e,n,r,i,s,a){if(e.v===void 0)return!1;var o="";switch(e.t){case"b":o=e.v?"1":"0";break;case"d":e=vr(e),e.z=e.z||Ht[14],e.v=_i(yr(e.v)),e.t="n";break;case"n":case"e":o=""+e.v;break;default:o=e.v;break}var l={r:n,c:r};switch(l.s=od(i.cellXfs,e,i),e.l&&s["!links"].push([Xt(l),e.l]),e.c&&s["!comments"].push([Xt(l),e.c]),e.t){case"s":case"str":return i.bookSST?(o=Yk(i.Strings,e.v,i.revStrings),l.t="s",l.v=o,a?lt(t,18,$Re(e,l)):lt(t,7,WRe(e,l))):(l.t="str",a?lt(t,17,n5e(e,l)):lt(t,6,e5e(e,l))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?a?lt(t,13,YRe(e,l)):lt(t,2,XRe(e,l)):a?lt(t,16,GRe(e,l)):lt(t,5,HRe(e,l)),!0;case"b":return l.t="b",a?lt(t,15,URe(e,l)):lt(t,4,FRe(e,l)),!0;case"e":return l.t="e",a?lt(t,14,BRe(e,l)):lt(t,3,LRe(e,l)),!0}return a?lt(t,12,RRe(e,l)):lt(t,1,IRe(e,l)),!0}function S5e(t,e,n,r){var i=Sn(e["!ref"]||"A1"),s,a="",o=[];lt(t,145);var l=Array.isArray(e),c=i.e.r;e["!rows"]&&(c=Math.max(i.e.r,e["!rows"].length-1));for(var u=i.s.r;u<=c;++u){a=ti(u),TRe(t,e,i,u);var f=!1;if(u<=i.e.r)for(var h=i.s.c;h<=i.e.c;++h){u===i.s.r&&(o[h]=Pr(h)),s=o[h]+a;var p=l?(e[u]||[])[h]:e[s];if(!p){f=!1;continue}f=C5e(t,p,u,h,r,e,f)}}lt(t,146)}function D5e(t,e){!e||!e["!merges"]||(lt(t,177,c5e(e["!merges"].length)),e["!merges"].forEach(function(n){lt(t,176,l5e(n))}),lt(t,178))}function A5e(t,e){!e||!e["!cols"]||(lt(t,390),e["!cols"].forEach(function(n,r){n&&lt(t,60,m5e(r,n))}),lt(t,391))}function N5e(t,e){!e||!e["!ref"]||(lt(t,648),lt(t,649,_5e(Sn(e["!ref"]))),lt(t,650))}function I5e(t,e,n){e["!links"].forEach(function(r){if(r[1].Target){var i=$n(n,-1,r[1].Target.replace(/#.*$/,""),pn.HLINK);lt(t,494,d5e(r,i))}}),delete e["!links"]}function k5e(t,e,n,r){if(e["!comments"].length>0){var i=$n(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",pn.VML);lt(t,551,Lk("rId"+i)),e["!legacy"]=i}}function R5e(t,e,n,r){if(e["!autofilter"]){var i=e["!autofilter"],s=typeof i.ref=="string"?i.ref:an(i.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var a=n.Workbook.Names,o=ia(s);o.s.r==o.e.r&&(o.e.r=ia(e["!ref"]).e.r,s=an(o));for(var l=0;l<a.length;++l){var c=a[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==r){c.Ref="'"+n.SheetNames[r]+"'!"+s;break}}l==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+s}),lt(t,161,ng(Sn(s))),lt(t,162)}}function P5e(t,e,n){lt(t,133),lt(t,137,x5e(e,n)),lt(t,138),lt(t,134)}function F5e(t,e){e["!protect"]&&lt(t,535,b5e(e["!protect"]))}function M5e(t,e,n,r){var i=ra(),s=n.SheetNames[t],a=n.Sheets[s]||{},o=s;try{n&&n.Workbook&&(o=n.Workbook.Sheets[t].CodeName||o)}catch{}var l=Sn(a["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return a["!links"]=[],a["!comments"]=[],lt(i,129),(n.vbaraw||a["!outline"])&&lt(i,147,ARe(o,a["!outline"])),lt(i,148,CRe(l)),P5e(i,a,n.Workbook),A5e(i,a),S5e(i,a,t,e),F5e(i,a),R5e(i,a,n,t),D5e(i,a),I5e(i,a,r),a["!margins"]&&lt(i,476,y5e(a["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&N5e(i,a),k5e(i,a,t,r),lt(i,130),i.end()}function U5e(t){var e=[],n=t.match(/^<c:numCache>/),r;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var a=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);a&&(e[+a[1]]=n?+a[2]:a[2])});var i=Cn((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){r=s.replace(/<.*?>/g,"")}),[e,i,r]}function O5e(t,e,n,r,i,s){var a=s||{"!type":"chart"};if(!t)return s;var o=0,l=0,c="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=U5e(f);u.s.r=u.s.c=0,u.e.c=o,c=Pr(o),h[0].forEach(function(p,v){a[c+ti(v)]={t:"n",v:p,z:h[1]},l=v}),u.e.r<l&&(u.e.r=l),++o}),o>0&&(a["!ref"]=an(u)),a}function L5e(t,e,n,r,i){if(!t)return t;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},a,o=t.match(KX);return o&&Qk(o[0],s,i,n),(a=t.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=a[1]),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}function j5e(t,e){t.l+=10;var n=vs(t);return{name:n}}function B5e(t,e,n,r,i){if(!t)return t;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},a=!1;return Ic(t,function(l,c,u){switch(u){case 550:s["!rel"]=l;break;case 651:i.Sheets[n]||(i.Sheets[n]={}),l.name&&(i.Sheets[n].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!a||e.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},e),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}var Zk=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],V5e=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],W5e=[],q5e=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function HO(t,e){for(var n=0;n!=t.length;++n)for(var r=t[n],i=0;i!=e.length;++i){var s=e[i];if(r[s[0]]==null)r[s[0]]=s[1];else switch(s[2]){case"bool":typeof r[s[0]]=="string"&&(r[s[0]]=hr(r[s[0]]));break;case"int":typeof r[s[0]]=="string"&&(r[s[0]]=parseInt(r[s[0]],10));break}}}function GO(t,e){for(var n=0;n!=e.length;++n){var r=e[n];if(t[r[0]]==null)t[r[0]]=r[1];else switch(r[2]){case"bool":typeof t[r[0]]=="string"&&(t[r[0]]=hr(t[r[0]]));break;case"int":typeof t[r[0]]=="string"&&(t[r[0]]=parseInt(t[r[0]],10));break}}}function QX(t){GO(t.WBProps,Zk),GO(t.CalcPr,q5e),HO(t.WBView,V5e),HO(t.Sheets,W5e),Lp.date1904=hr(t.WBProps.date1904)}function $5e(t){return!t.Workbook||!t.Workbook.WBProps?"false":hr(t.Workbook.WBProps.date1904)?"true":"false"}var z5e="][*?/\\".split("");function ZX(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return z5e.forEach(function(r){if(t.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}function H5e(t,e,n){t.forEach(function(r,i){ZX(r);for(var s=0;s<i;++s)if(r==t[s])throw new Error("Duplicate Sheet Name: "+r);if(n){var a=e&&e[i]&&e[i].CodeName||r;if(a.charCodeAt(0)==95&&a.length>22)throw new Error("Bad Code Name: Worksheet"+a)}})}function G5e(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];H5e(t.SheetNames,e,!!t.vbaraw);for(var n=0;n<t.SheetNames.length;++n)$6e(t.Sheets[t.SheetNames[n]],t.SheetNames[n],n)}var K5e=/<\w+:workbook/;function X5e(t,e){if(!t)throw new Error("Could not find file");var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,i="xmlns",s={},a=0;if(t.replace(ws,function(l,c){var u=Yt(l);switch(Rl(u[0])){case"<?xml":break;case"<workbook":l.match(K5e)&&(i="xmlns"+l.match(/<(\w+):/)[1]),n.xmlns=u[i];break;case"</workbook>":break;case"<fileVersion":delete u[0],n.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":Zk.forEach(function(f){if(u[f[0]]!=null)switch(f[2]){case"bool":n.WBProps[f[0]]=hr(u[f[0]]);break;case"int":n.WBProps[f[0]]=parseInt(u[f[0]],10);break;default:n.WBProps[f[0]]=u[f[0]]}}),u.codeName&&(n.WBProps.CodeName=Yn(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],n.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=Cn(Yn(u.name)),delete u[0],n.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":r=!0;break;case"</definedNames>":r=!1;break;case"<definedName":s={},s.Name=Yn(u.name),u.comment&&(s.Comment=u.comment),u.localSheetId&&(s.Sheet=+u.localSheetId),hr(u.hidden||"0")&&(s.Hidden=!0),a=c+l.length;break;case"</definedName>":s.Ref=Cn(Yn(t.slice(a,c))),n.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete u[0],n.CalcPr=u;break;case"<calcPr/>":delete u[0],n.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<revisionPtr":break;default:if(!r&&e.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return l}),th.indexOf(n.xmlns)===-1)throw new Error("Unknown Namespace: "+n.xmlns);return QX(n),n}function eJ(t){var e=[ri];e[e.length]=_t("workbook",null,{xmlns:th[0],"xmlns:r":vi.r});var n=t.Workbook&&(t.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(Zk.forEach(function(o){t.Workbook.WBProps[o[0]]!=null&&t.Workbook.WBProps[o[0]]!=o[1]&&(r[o[0]]=t.Workbook.WBProps[o[0]])}),t.Workbook.WBProps.CodeName&&(r.codeName=t.Workbook.WBProps.CodeName,delete r.CodeName)),e[e.length]=_t("workbookPr",null,r);var i=t.Workbook&&t.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=t.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==t.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=t.SheetNames.length;++s){var a={name:Gn(t.SheetNames[s].slice(0,31))};if(a.sheetId=""+(s+1),a["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:a.state="hidden";break;case 2:a.state="veryHidden";break}e[e.length]=_t("sheet",null,a)}return e[e.length]="</sheets>",n&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(o){var l={name:o.Name};o.Comment&&(l.comment=o.Comment),o.Sheet!=null&&(l.localSheetId=""+o.Sheet),o.Hidden&&(l.hidden="1"),o.Ref&&(e[e.length]=_t("definedName",Gn(o.Ref),l))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function J5e(t,e){var n={};return n.Hidden=t.read_shift(4),n.iTabID=t.read_shift(4),n.strRelID=sN(t),n.name=vs(t),n}function Y5e(t,e){return e||(e=nt(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),Lk(t.strRelID,e),Oi(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function Q5e(t,e){var n={},r=t.read_shift(4);n.defaultThemeVersion=t.read_shift(4);var i=e>8?vs(t):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function Z5e(t,e){e||(e=nt(72));var n=0;return t&&t.filterPrivacy&&(n|=8),e.write_shift(4,n),e.write_shift(4,0),zK(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function e8e(t,e){var n={};return t.read_shift(4),n.ArchID=t.read_shift(4),t.l+=e-8,n}function t8e(t,e,n){var r=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),s=k4e(t),a=L6e(t,0,n),o=Ok(t);t.l=r;var l={Name:s,Ptg:a};return i<268435455&&(l.Sheet=i),o&&(l.Comment=o),l}function n8e(t,e){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],i=!1;e||(e={}),e.biff=12;var s=[],a=[[]];return a.SheetNames=[],a.XTI=[],Zy[16]={n:"BrtFRTArchID$",f:e8e},Ic(t,function(l,c,u){switch(u){case 156:a.SheetNames.push(l.name),n.Sheets.push(l);break;case 153:n.WBProps=l;break;case 39:l.Sheet!=null&&(e.SID=l.Sheet),l.Ref=cs(l.Ptg,null,null,a,e),delete e.SID,delete l.Ptg,s.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:a[0].length?a.push([u,l]):a[0]=[u,l],a[a.length-1].XTI=[];break;case 362:a.length===0&&(a[0]=[],a[0].XTI=[]),a[a.length-1].XTI=a[a.length-1].XTI.concat(l),a.XTI=a.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:r.push(u),i=!0;break;case 36:r.pop(),i=!1;break;case 37:r.push(u),i=!0;break;case 38:r.pop(),i=!1;break;case 16:break;default:if(!c.T){if(!i||e.WTF&&r[r.length-1]!=37&&r[r.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},e),QX(n),n.Names=s,n.supbooks=a,n}function r8e(t,e){lt(t,143);for(var n=0;n!=e.SheetNames.length;++n){var r=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[n]&&e.Workbook.Sheets[n].Hidden||0,i={Hidden:r,iTabID:n+1,strRelID:"rId"+(n+1),name:e.SheetNames[n]};lt(t,156,Y5e(i))}lt(t,144)}function i8e(t,e){e||(e=nt(127));for(var n=0;n!=4;++n)e.write_shift(4,0);return Oi("SheetJS",e),Oi(W_.version,e),Oi(W_.version,e),Oi("7262",e),e.length>e.l?e.slice(0,e.l):e}function s8e(t,e){e||(e=nt(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var n=120;return e.write_shift(1,n),e.length>e.l?e.slice(0,e.l):e}function a8e(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var n=e.Workbook.Sheets,r=0,i=-1,s=-1;r<n.length;++r)!n[r]||!n[r].Hidden&&i==-1?i=r:n[r].Hidden==1&&s==-1&&(s=r);s>i||(lt(t,135),lt(t,158,s8e(i)),lt(t,136))}}function o8e(t,e){var n=ra();return lt(n,131),lt(n,128,i8e()),lt(n,153,Z5e(t.Workbook&&t.Workbook.WBProps||null)),a8e(n,t),r8e(n,t),lt(n,132),n.end()}function l8e(t,e,n){return e.slice(-4)===".bin"?n8e(t,n):X5e(t,n)}function c8e(t,e,n,r,i,s,a,o){return e.slice(-4)===".bin"?E5e(t,r,n,i,s,a,o):tRe(t,r,n,i,s,a,o)}function u8e(t,e,n,r,i,s,a,o){return e.slice(-4)===".bin"?B5e(t,r,n,i,s):L5e(t,r,n,i,s)}function d8e(t,e,n,r,i,s,a,o){return e.slice(-4)===".bin"?hke():pke()}function f8e(t,e,n,r,i,s,a,o){return e.slice(-4)===".bin"?dke():fke()}function h8e(t,e,n,r){return e.slice(-4)===".bin"?lIe(t,n,r):J3e(t,n,r)}function p8e(t,e,n){return FX(t,n)}function m8e(t,e,n){return e.slice(-4)===".bin"?m3e(t,n):f3e(t,n)}function g8e(t,e,n){return e.slice(-4)===".bin"?ake(t,n):YIe(t,n)}function y8e(t,e,n){return e.slice(-4)===".bin"?KIe(t):HIe(t)}function v8e(t,e,n,r){return n.slice(-4)===".bin"?XIe(t,e,n,r):void 0}function x8e(t,e,n){return e.slice(-4)===".bin"?qIe(t,e,n):zIe(t,e,n)}function _8e(t,e,n){return(e.slice(-4)===".bin"?o8e:eJ)(t)}function b8e(t,e,n,r,i){return(e.slice(-4)===".bin"?M5e:XX)(t,n,r,i)}function w8e(t,e,n){return(e.slice(-4)===".bin"?vIe:RX)(t,n)}function T8e(t,e,n){return(e.slice(-4)===".bin"?v3e:EX)(t,n)}function E8e(t,e,n){return(e.slice(-4)===".bin"?oke:OX)(t)}function C8e(t){return(t.slice(-4)===".bin"?$Ie:MX)()}var tJ=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,nJ=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function So(t,e){var n=t.split(/\s+/),r=[];if(r[0]=n[0],n.length===1)return r;var i=t.match(tJ),s,a,o,l;if(i)for(l=0;l!=i.length;++l)s=i[l].match(nJ),(a=s[1].indexOf(":"))===-1?r[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?o="xmlns"+s[1].slice(6):o=s[1].slice(a+1),r[o]=s[2].slice(1,s[2].length-1));return r}function S8e(t){var e=t.split(/\s+/),n={};if(e.length===1)return n;var r=t.match(tJ),i,s,a,o;if(r)for(o=0;o!=r.length;++o)i=r[o].match(nJ),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?a="xmlns"+i[1].slice(6):a=i[1].slice(s+1),n[a]=i[2].slice(1,i[2].length-1));return n}var ny;function D8e(t,e){var n=ny[t]||Cn(t);return n==="General"?Ff(e):ao(n,e)}function A8e(t,e,n,r){var i=r;switch((n[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=hr(r);break;case"i2":case"int":i=parseInt(r,10);break;case"r4":case"float":i=parseFloat(r);break;case"date":case"dateTime.tz":i=yr(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+n[0])}t[Cn(e)]=i}function N8e(t,e,n){if(t.t!=="z"){if(!n||n.cellText!==!1)try{t.t==="e"?t.w=t.w||kc[t.v]:e==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=$y(t.v):t.w=Ff(t.v):t.w=D8e(e||"General",t.v)}catch(s){if(n.WTF)throw s}try{var r=ny[e]||e||"General";if(n.cellNF&&(t.z=r),n.cellDates&&t.t=="n"&&Zm(r)){var i=tf(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(s){if(n.WTF)throw s}}}function I8e(t,e,n){if(n.cellStyles&&e.Interior){var r=e.Interior;r.Pattern&&(r.patternType=W3e[r.Pattern]||r.Pattern)}t[e.ID]=e}function k8e(t,e,n,r,i,s,a,o,l,c){var u="General",f=r.StyleID,h={};c=c||{};var p=[],v=0;for(f===void 0&&o&&(f=o.StyleID),f===void 0&&a&&(f=a.StyleID);s[f]!==void 0&&(s[f].nf&&(u=s[f].nf),s[f].Interior&&p.push(s[f].Interior),!!s[f].Parent);)f=s[f].Parent;switch(n.Type){case"Boolean":r.t="b",r.v=hr(t);break;case"String":r.t="s",r.r=uO(Cn(t)),r.v=t.indexOf("<")>-1?Cn(e||t).replace(/<.*?>/g,""):r.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),r.v=(yr(t)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),r.v!==r.v?r.v=Cn(t):r.v<60&&(r.v=r.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":r.v===void 0&&(r.v=+t),r.t||(r.t="n");break;case"Error":r.t="e",r.v=JK[t],c.cellText!==!1&&(r.w=t);break;default:t==""&&e==""?r.t="z":(r.t="s",r.v=uO(e||t));break}if(N8e(r,u,c),c.cellFormula!==!1)if(r.Formula){var g=Cn(r.Formula);g.charCodeAt(0)==61&&(g=g.slice(1)),r.f=Op(g,i),delete r.Formula,r.ArrayRange=="RC"?r.F=Op("RC:RC",i):r.ArrayRange&&(r.F=Op(r.ArrayRange,i),l.push([Sn(r.F),r.F]))}else for(v=0;v<l.length;++v)i.r>=l[v][0].s.r&&i.r<=l[v][0].e.r&&i.c>=l[v][0].s.c&&i.c<=l[v][0].e.c&&(r.F=l[v][1]);c.cellStyles&&(p.forEach(function(y){!h.patternType&&y.patternType&&(h.patternType=y.patternType)}),r.s=h),r.StyleID!==void 0&&(r.ixfe=r.StyleID)}function R8e(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function pD(t,e){var n=e||{};eg();var r=T0(kk(t));(n.type=="binary"||n.type=="array"||n.type=="base64")&&(r=Yn(r));var i=r.slice(0,1024).toLowerCase(),s=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var a=vr(n);return a.type="string",xm.to_workbook(r,a)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(re){i.indexOf("<"+re)>=0&&(s=!0)}),s)return yPe(r,n);ny={"General Number":"General","General Date":Ht[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Ht[15],"Short Date":Ht[14],"Long Time":Ht[19],"Medium Time":Ht[18],"Short Time":Ht[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Ht[2],Standard:Ht[4],Percent:Ht[10],Scientific:Ht[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],c,u={},f=[],h=n.dense?[]:{},p="",v={},g={},y=So('<Data ss:Type="String">'),b=0,_=0,w=0,C={s:{r:2e6,c:2e6},e:{r:0,c:0}},S={},R={},D="",N=0,k=[],F={},P={},I=0,U=[],O=[],K={},X=[],J,ne=!1,z=[],Q=[],B={},j=0,W=0,G={Sheets:[],WBProps:{date1904:!1}},Y={};Gy.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"");for(var ee="";o=Gy.exec(r);)switch(o[3]=(ee=o[3]).toLowerCase()){case"data":if(ee=="data"){if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?k8e(r.slice(b,o.index),D,y,l[l.length-1][0]=="comment"?K:v,{c:_,r:w},S,X[_],g,z,n):(D="",y=So(o[0]),b=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(O.length>0&&(v.c=O),(!n.sheetRows||n.sheetRows>w)&&v.v!==void 0&&(n.dense?(h[w]||(h[w]=[]),h[w][_]=v):h[Pr(_)+ti(w)]=v),v.HRef&&(v.l={Target:Cn(v.HRef)},v.HRefScreenTip&&(v.l.Tooltip=v.HRefScreenTip),delete v.HRef,delete v.HRefScreenTip),(v.MergeAcross||v.MergeDown)&&(j=_+(parseInt(v.MergeAcross,10)|0),W=w+(parseInt(v.MergeDown,10)|0),k.push({s:{c:_,r:w},e:{c:j,r:W}})),!n.sheetStubs)v.MergeAcross?_=j+1:++_;else if(v.MergeAcross||v.MergeDown){for(var ae=_;ae<=j;++ae)for(var de=w;de<=W;++de)(ae>_||de>w)&&(n.dense?(h[de]||(h[de]=[]),h[de][ae]={t:"z"}):h[Pr(ae)+ti(de)]={t:"z"});_=j+1}else++_;else v=S8e(o[0]),v.Index&&(_=+v.Index-1),_<C.s.c&&(C.s.c=_),_>C.e.c&&(C.e.c=_),o[0].slice(-2)==="/>"&&++_,O=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(w<C.s.r&&(C.s.r=w),w>C.e.r&&(C.e.r=w),o[0].slice(-2)==="/>"&&(g=So(o[0]),g.Index&&(w=+g.Index-1)),_=0,++w):(g=So(o[0]),g.Index&&(w=+g.Index-1),B={},(g.AutoFitHeight=="0"||g.Height)&&(B.hpx=parseInt(g.Height,10),B.hpt=Qy(B.hpx),Q[w]=B),g.Hidden=="1"&&(B.hidden=!0,Q[w]=B));break;case"worksheet":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));f.push(p),C.s.r<=C.e.r&&C.s.c<=C.e.c&&(h["!ref"]=an(C),n.sheetRows&&n.sheetRows<=C.e.r&&(h["!fullref"]=h["!ref"],C.e.r=n.sheetRows-1,h["!ref"]=an(C))),k.length&&(h["!merges"]=k),X.length>0&&(h["!cols"]=X),Q.length>0&&(h["!rows"]=Q),u[p]=h}else C={s:{r:2e6,c:2e6},e:{r:0,c:0}},w=_=0,l.push([o[3],!1]),c=So(o[0]),p=Cn(c.Name),h=n.dense?[]:{},k=[],z=[],Q=[],Y={name:p,Hidden:0},G.Sheets.push(Y);break;case"table":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),X=[],ne=!1}break;case"style":o[1]==="/"?I8e(S,R,n):R=So(o[0]);break;case"numberformat":R.nf=Cn(So(o[0]).Format||"General"),ny[R.nf]&&(R.nf=ny[R.nf]);for(var fe=0;fe!=392&&Ht[fe]!=R.nf;++fe);if(fe==392){for(fe=57;fe!=392;++fe)if(Ht[fe]==null){lc(R.nf,fe);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(J=So(o[0]),J.Hidden&&(J.hidden=!0,delete J.Hidden),J.Width&&(J.wpx=parseInt(J.Width,10)),!ne&&J.wpx>10){ne=!0,us=IX;for(var Ae=0;Ae<X.length;++Ae)X[Ae]&&zu(X[Ae])}ne&&zu(J),X[J.Index-1||X.length]=J;for(var Re=0;Re<+J.Span;++Re)X[X.length]=vr(J);break;case"namedrange":if(o[1]==="/")break;G.Names||(G.Names=[]);var me=Yt(o[0]),Le={Name:me.Name,Ref:Op(me.RefersTo.slice(1),{r:0,c:0})};G.Sheets.length>0&&(Le.Sheet=G.Sheets.length-1),G.Names.push(Le);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?D+=r.slice(N,o.index):N=o.index+o[0].length;break;case"interior":if(!n.cellStyles)break;R.Interior=So(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?nAe(F,ee,r.slice(I,o.index)):I=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));R8e(K),O.push(K)}else l.push([o[3],!1]),c=So(o[0]),K={a:c.Author};break;case"autofilter":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var V=So(o[0]);h["!autofilter"]={ref:Op(V.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return QO(r,n);var xe=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:xe=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:xe=!1}break;case"excelworkbook":switch(o[3]){case"date1904":G.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:xe=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:xe=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(r.slice(I,o.index)){case"SheetHidden":Y.Hidden=1;break;case"SheetVeryHidden":Y.Hidden=2;break}else I=o.index+o[0].length;break;case"header":h["!margins"]||ff(h["!margins"]={},"xlml"),isNaN(+Yt(o[0]).Margin)||(h["!margins"].header=+Yt(o[0]).Margin);break;case"footer":h["!margins"]||ff(h["!margins"]={},"xlml"),isNaN(+Yt(o[0]).Margin)||(h["!margins"].footer=+Yt(o[0]).Margin);break;case"pagemargins":var Te=Yt(o[0]);h["!margins"]||ff(h["!margins"]={},"xlml"),isNaN(+Te.Top)||(h["!margins"].top=+Te.Top),isNaN(+Te.Left)||(h["!margins"].left=+Te.Left),isNaN(+Te.Right)||(h["!margins"].right=+Te.Right),isNaN(+Te.Bottom)||(h["!margins"].bottom=+Te.Bottom);break;case"displayrighttoleft":G.Views||(G.Views=[]),G.Views[0]||(G.Views[0]={}),G.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:xe=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:xe=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:xe=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:xe=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:xe=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:xe=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:xe=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:xe=!1}break;case"smarttags":break;default:xe=!1;break}if(xe||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?A8e(P,ee,U,r.slice(I,o.index)):(U=o,I=o.index+o[0].length);break}if(n.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var le={};return!n.bookSheets&&!n.bookProps&&(le.Sheets=u),le.SheetNames=f,le.Workbook=G,le.SSF=vr(Ht),le.Props=F,le.Custprops=P,le}function fN(t,e){switch(t6(e=e||{}),e.type||"base64"){case"base64":return pD(Ia(t),e);case"binary":case"buffer":case"file":return pD(t,e);case"array":return pD(sd(t),e)}}function P8e(t,e){var n=[];return t.Props&&n.push(rAe(t.Props,e)),t.Custprops&&n.push(iAe(t.Props,t.Custprops)),n.join("")}function F8e(){return""}function M8e(t,e){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(r,i){var s=[];s.push(_t("NumberFormat",null,{"ss:Format":Gn(Ht[r.numFmtId])}));var a={"ss:ID":"s"+(21+i)};n.push(_t("Style",s.join(""),a))}),_t("Styles",n.join(""))}function rJ(t){return _t("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+Xk(t.Ref,{r:0,c:0})})}function U8e(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,n=[],r=0;r<e.length;++r){var i=e[r];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||n.push(rJ(i)))}return _t("Names",n.join(""))}function O8e(t,e,n,r){if(!t||!((r||{}).Workbook||{}).Names)return"";for(var i=r.Workbook.Names,s=[],a=0;a<i.length;++a){var o=i[a];o.Sheet==n&&(o.Name.match(/^_xlfn\./)||s.push(rJ(o)))}return s.join("")}function L8e(t,e,n,r){if(!t)return"";var i=[];if(t["!margins"]&&(i.push("<PageSetup>"),t["!margins"].header&&i.push(_t("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&i.push(_t("Footer",null,{"x:Margin":t["!margins"].footer})),i.push(_t("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),i.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n])if(r.Workbook.Sheets[n].Hidden)i.push(_t("Visible",r.Workbook.Sheets[n].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<n&&!(r.Workbook.Sheets[s]&&!r.Workbook.Sheets[s].Hidden);++s);s==n&&i.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),t["!protect"]&&(i.push(Xi("ProtectContents","True")),t["!protect"].objects&&i.push(Xi("ProtectObjects","True")),t["!protect"].scenarios&&i.push(Xi("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?i.push(Xi("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&i.push(Xi("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(a){t["!protect"][a[0]]&&i.push("<"+a[1]+"/>")})),i.length==0?"":_t("WorksheetOptions",i.join(""),{xmlns:_a.x})}function j8e(t){return t.map(function(e){var n=a4e(e.t||""),r=_t("ss:Data",n,{xmlns:"http://www.w3.org/TR/REC-html40"});return _t("Comment",r,{"ss:Author":e.a})}).join("")}function B8e(t,e,n,r,i,s,a){if(!t||t.v==null&&t.f==null)return"";var o={};if(t.f&&(o["ss:Formula"]="="+Gn(Xk(t.f,a))),t.F&&t.F.slice(0,e.length)==e){var l=Fr(t.F.slice(e.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==a.r?"":"["+(l.r-a.r)+"]")+"C"+(l.c==a.c?"":"["+(l.c-a.c)+"]")}if(t.l&&t.l.Target&&(o["ss:HRef"]=Gn(t.l.Target),t.l.Tooltip&&(o["x:HRefScreenTip"]=Gn(t.l.Tooltip))),n["!merges"])for(var c=n["!merges"],u=0;u!=c.length;++u)c[u].s.c!=a.c||c[u].s.r!=a.r||(c[u].e.c>c[u].s.c&&(o["ss:MergeAcross"]=c[u].e.c-c[u].s.c),c[u].e.r>c[u].s.r&&(o["ss:MergeDown"]=c[u].e.r-c[u].s.r));var f="",h="";switch(t.t){case"z":if(!r.sheetStubs)return"";break;case"n":f="Number",h=String(t.v);break;case"b":f="Boolean",h=t.v?"1":"0";break;case"e":f="Error",h=kc[t.v];break;case"d":f="DateTime",h=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Ht[14]);break;case"s":f="String",h=s4e(t.v||"");break}var p=od(r.cellXfs,t,r);o["ss:StyleID"]="s"+(21+p),o["ss:Index"]=a.c+1;var v=t.v!=null?h:"",g=t.t=="z"?"":'<Data ss:Type="'+f+'">'+v+"</Data>";return(t.c||[]).length>0&&(g+=j8e(t.c)),_t("Cell",g,o)}function V8e(t,e){var n='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=_m(e.hpt)),e.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(n+=' ss:Hidden="1"')),n+">"}function W8e(t,e,n,r){if(!t["!ref"])return"";var i=Sn(t["!ref"]),s=t["!merges"]||[],a=0,o=[];t["!cols"]&&t["!cols"].forEach(function(y,b){zu(y);var _=!!y.width,w=Bw(b,y),C={"ss:Index":b+1};_&&(C["ss:Width"]=Jy(w.width)),y.hidden&&(C["ss:Hidden"]="1"),o.push(_t("Column",null,C))});for(var l=Array.isArray(t),c=i.s.r;c<=i.e.r;++c){for(var u=[V8e(c,(t["!rows"]||[])[c])],f=i.s.c;f<=i.e.c;++f){var h=!1;for(a=0;a!=s.length;++a)if(!(s[a].s.c>f)&&!(s[a].s.r>c)&&!(s[a].e.c<f)&&!(s[a].e.r<c)){(s[a].s.c!=f||s[a].s.r!=c)&&(h=!0);break}if(!h){var p={r:c,c:f},v=Xt(p),g=l?(t[c]||[])[f]:t[v];u.push(B8e(g,v,t,e,n,r,p))}}u.push("</Row>"),u.length>2&&o.push(u.join(""))}return o.join("")}function q8e(t,e,n){var r=[],i=n.SheetNames[t],s=n.Sheets[i],a=s?O8e(s,e,t,n):"";return a.length>0&&r.push("<Names>"+a+"</Names>"),a=s?W8e(s,e,t,n):"",a.length>0&&r.push("<Table>"+a+"</Table>"),r.push(L8e(s,e,t,n)),r.join("")}function $8e(t,e){e||(e={}),t.SSF||(t.SSF=vr(Ht)),t.SSF&&(eg(),Pw(t.SSF),e.revssf=Mw(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],od(e.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(P8e(t,e)),n.push(F8e()),n.push(""),n.push("");for(var r=0;r<t.SheetNames.length;++r)n.push(_t("Worksheet",q8e(r,e,t),{"ss:Name":Gn(t.SheetNames[r])}));return n[2]=M8e(t,e),n[3]=U8e(t),ri+_t("Workbook",n.join(""),{xmlns:_a.ss,"xmlns:o":_a.o,"xmlns:x":_a.x,"xmlns:ss":_a.ss,"xmlns:dt":_a.dt,"xmlns:html":_a.html})}function z8e(t){var e={},n=t.content;if(n.l=28,e.AnsiUserType=n.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=U4e(n),n.length-n.l<=4)return e;var r=n.read_shift(4);if(r==0||r>40||(n.l-=4,e.Reserved1=n.read_shift(0,"lpstr-ansi"),n.length-n.l<=4)||(r=n.read_shift(4),r!==1907505652)||(e.UnicodeClipboardFormat=O4e(n),r=n.read_shift(4),r==0||r>40))return e;n.l-=4,e.Reserved2=n.read_shift(0,"lpwstr")}var H8e=[60,1084,2066,2165,2175];function G8e(t,e,n,r,i){var s=r,a=[],o=n.slice(n.l,n.l+s);if(i&&i.enc&&i.enc.insitu&&o.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(o)}a.push(o),n.l+=s;for(var l=ec(n,n.l),c=hN[l],u=0;c!=null&&H8e.indexOf(l)>-1;)s=ec(n,n.l+2),u=n.l+4,l==2066?u+=4:(l==2165||l==2175)&&(u+=12),o=n.slice(u,n.l+4+s),a.push(o),n.l+=4+s,c=hN[l=ec(n,n.l)];var f=Ui(a);Gi(f,0);var h=0;f.lens=[];for(var p=0;p<a.length;++p)f.lens.push(h),h+=a[p].length;if(f.length<r)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+f.length+" < "+r;return e.f(f,f.length,i)}function tl(t,e,n){if(t.t!=="z"&&t.XF){var r=0;try{r=t.z||t.XF.numFmtId||0,e.cellNF&&(t.z=Ht[r])}catch(s){if(e.WTF)throw s}if(!e||e.cellText!==!1)try{t.t==="e"?t.w=t.w||kc[t.v]:r===0||r=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=$y(t.v):t.w=Ff(t.v):t.w=ao(r,t.v,{date1904:!!n,dateNF:e&&e.dateNF})}catch(s){if(e.WTF)throw s}if(e.cellDates&&r&&t.t=="n"&&Zm(Ht[r]||String(r))){var i=tf(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function Vx(t,e,n){return{v:t,ixfe:e,t:n}}function K8e(t,e){var n={opts:{}},r={},i=e.dense?[]:{},s={},a={},o=null,l=[],c="",u={},f,h="",p,v,g,y,b={},_=[],w,C,S=[],R=[],D={Sheets:[],WBProps:{date1904:!1},Views:[{}]},N={},k=function(Oe){return Oe<8?cf[Oe]:Oe<64&&R[Oe-8]||cf[Oe]},F=function(Oe,Xe,rt){var it=Xe.XF.data;if(!(!it||!it.patternType||!rt||!rt.cellStyles)){Xe.s={},Xe.s.patternType=it.patternType;var Lt;(Lt=Xy(k(it.icvFore)))&&(Xe.s.fgColor={rgb:Lt}),(Lt=Xy(k(it.icvBack)))&&(Xe.s.bgColor={rgb:Lt})}},P=function(Oe,Xe,rt){if(!(B>1)&&!(rt.sheetRows&&Oe.r>=rt.sheetRows)){if(rt.cellStyles&&Xe.XF&&Xe.XF.data&&F(Oe,Xe,rt),delete Xe.ixfe,delete Xe.XF,f=Oe,h=Xt(Oe),(!a||!a.s||!a.e)&&(a={s:{r:0,c:0},e:{r:0,c:0}}),Oe.r<a.s.r&&(a.s.r=Oe.r),Oe.c<a.s.c&&(a.s.c=Oe.c),Oe.r+1>a.e.r&&(a.e.r=Oe.r+1),Oe.c+1>a.e.c&&(a.e.c=Oe.c+1),rt.cellFormula&&Xe.f){for(var it=0;it<_.length;++it)if(!(_[it][0].s.c>Oe.c||_[it][0].s.r>Oe.r)&&!(_[it][0].e.c<Oe.c||_[it][0].e.r<Oe.r)){Xe.F=an(_[it][0]),(_[it][0].s.c!=Oe.c||_[it][0].s.r!=Oe.r)&&delete Xe.f,Xe.f&&(Xe.f=""+cs(_[it][1],a,Oe,z,I));break}}rt.dense?(i[Oe.r]||(i[Oe.r]=[]),i[Oe.r][Oe.c]=Xe):i[h]=Xe}},I={enc:!1,sbcch:0,snames:[],sharedf:b,arrayf:_,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(I.password=e.password);var U,O=[],K=[],X=[],J=[],ne=!1,z=[];z.SheetNames=I.snames,z.sharedf=I.sharedf,z.arrayf=I.arrayf,z.names=[],z.XTI=[];var Q=0,B=0,j=0,W=[],G=[],Y;I.codepage=1200,Po(1200);for(var ee=!1;t.l<t.length-1;){var ae=t.l,de=t.read_shift(2);if(de===0&&Q===10)break;var fe=t.l===t.length?0:t.read_shift(2),Ae=hN[de];if(Ae&&Ae.f){if(e.bookSheets&&Q===133&&de!==133)break;if(Q=de,Ae.r===2||Ae.r==12){var Re=t.read_shift(2);if(fe-=2,!I.enc&&Re!==de&&((Re&255)<<8|Re>>8)!==de)throw new Error("rt mismatch: "+Re+"!="+de);Ae.r==12&&(t.l+=10,fe-=10)}var me={};if(de===10?me=Ae.f(t,fe,I):me=G8e(de,Ae,t,fe,I),B==0&&[9,521,1033,2057].indexOf(Q)===-1)continue;switch(de){case 34:n.opts.Date1904=D.WBProps.date1904=me;break;case 134:n.opts.WriteProtect=!0;break;case 47:if(I.enc||(t.l=0),I.enc=me,!e.password)throw new Error("File is password-protected");if(me.valid==null)throw new Error("Encryption scheme unsupported");if(!me.valid)throw new Error("Password is incorrect");break;case 92:I.lastuser=me;break;case 66:var Le=Number(me);switch(Le){case 21010:Le=1200;break;case 32768:Le=1e4;break;case 32769:Le=1252;break}Po(I.codepage=Le),ee=!0;break;case 317:I.rrtabid=me;break;case 25:I.winlocked=me;break;case 439:n.opts.RefreshAll=me;break;case 12:n.opts.CalcCount=me;break;case 16:n.opts.CalcDelta=me;break;case 17:n.opts.CalcIter=me;break;case 13:n.opts.CalcMode=me;break;case 14:n.opts.CalcPrecision=me;break;case 95:n.opts.CalcSaveRecalc=me;break;case 15:I.CalcRefMode=me;break;case 2211:n.opts.FullCalc=me;break;case 129:me.fDialog&&(i["!type"]="dialog"),me.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),me.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:S.push(me);break;case 430:z.push([me]),z[z.length-1].XTI=[];break;case 35:case 547:z[z.length-1].push(me);break;case 24:case 536:Y={Name:me.Name,Ref:cs(me.rgce,a,null,z,I)},me.itab>0&&(Y.Sheet=me.itab-1),z.names.push(Y),z[0]||(z[0]=[],z[0].XTI=[]),z[z.length-1].push(me),me.Name=="_xlnm._FilterDatabase"&&me.itab>0&&me.rgce&&me.rgce[0]&&me.rgce[0][0]&&me.rgce[0][0][0]=="PtgArea3d"&&(G[me.itab-1]={ref:an(me.rgce[0][0][1][2])});break;case 22:I.ExternCount=me;break;case 23:z.length==0&&(z[0]=[],z[0].XTI=[]),z[z.length-1].XTI=z[z.length-1].XTI.concat(me),z.XTI=z.XTI.concat(me);break;case 2196:if(I.biff<8)break;Y!=null&&(Y.Comment=me[1]);break;case 18:i["!protect"]=me;break;case 19:me!==0&&I.WTF&&console.error("Password verifier: "+me);break;case 133:s[me.pos]=me,I.snames.push(me.name);break;case 10:{if(--B)break;if(a.e){if(a.e.r>0&&a.e.c>0){if(a.e.r--,a.e.c--,i["!ref"]=an(a),e.sheetRows&&e.sheetRows<=a.e.r){var V=a.e.r;a.e.r=e.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=an(a),a.e.r=V}a.e.r++,a.e.c++}O.length>0&&(i["!merges"]=O),K.length>0&&(i["!objects"]=K),X.length>0&&(i["!cols"]=X),J.length>0&&(i["!rows"]=J),D.Sheets.push(N)}c===""?u=i:r[c]=i,i=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(I.biff===8&&(I.biff={9:2,521:3,1033:4}[de]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[me.BIFFVer]||8),I.biffguess=me.BIFFVer==0,me.BIFFVer==0&&me.dt==4096&&(I.biff=5,ee=!0,Po(I.codepage=28591)),I.biff==8&&me.BIFFVer==0&&me.dt==16&&(I.biff=2),B++)break;if(i=e.dense?[]:{},I.biff<8&&!ee&&(ee=!0,Po(I.codepage=e.codepage||1252)),I.biff<5||me.BIFFVer==0&&me.dt==4096){c===""&&(c="Sheet1"),a={s:{r:0,c:0},e:{r:0,c:0}};var xe={pos:t.l-fe,name:c};s[xe.pos]=xe,I.snames.push(c)}else c=(s[ae]||{name:""}).name;me.dt==32&&(i["!type"]="chart"),me.dt==64&&(i["!type"]="macro"),O=[],K=[],I.arrayf=_=[],X=[],J=[],ne=!1,N={Hidden:(s[ae]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(e.dense?(i[me.r]||[])[me.c]:i[Xt({c:me.c,r:me.r})])&&++me.c,w={ixfe:me.ixfe,XF:S[me.ixfe]||{},v:me.val,t:"n"},j>0&&(w.z=W[w.ixfe>>8&63]),tl(w,e,n.opts.Date1904),P({c:me.c,r:me.r},w,e);break;case 5:case 517:w={ixfe:me.ixfe,XF:S[me.ixfe],v:me.val,t:me.t},j>0&&(w.z=W[w.ixfe>>8&63]),tl(w,e,n.opts.Date1904),P({c:me.c,r:me.r},w,e);break;case 638:w={ixfe:me.ixfe,XF:S[me.ixfe],v:me.rknum,t:"n"},j>0&&(w.z=W[w.ixfe>>8&63]),tl(w,e,n.opts.Date1904),P({c:me.c,r:me.r},w,e);break;case 189:for(var Te=me.c;Te<=me.C;++Te){var le=me.rkrec[Te-me.c][0];w={ixfe:le,XF:S[le],v:me.rkrec[Te-me.c][1],t:"n"},j>0&&(w.z=W[w.ixfe>>8&63]),tl(w,e,n.opts.Date1904),P({c:Te,r:me.r},w,e)}break;case 6:case 518:case 1030:{if(me.val=="String"){o=me;break}if(w=Vx(me.val,me.cell.ixfe,me.tt),w.XF=S[w.ixfe],e.cellFormula){var re=me.formula;if(re&&re[0]&&re[0][0]&&re[0][0][0]=="PtgExp"){var oe=re[0][0][1][0],he=re[0][0][1][1],we=Xt({r:oe,c:he});b[we]?w.f=""+cs(me.formula,a,me.cell,z,I):w.F=((e.dense?(i[oe]||[])[he]:i[we])||{}).F}else w.f=""+cs(me.formula,a,me.cell,z,I)}j>0&&(w.z=W[w.ixfe>>8&63]),tl(w,e,n.opts.Date1904),P(me.cell,w,e),o=me}break;case 7:case 519:if(o)o.val=me,w=Vx(me,o.cell.ixfe,"s"),w.XF=S[w.ixfe],e.cellFormula&&(w.f=""+cs(o.formula,a,o.cell,z,I)),j>0&&(w.z=W[w.ixfe>>8&63]),tl(w,e,n.opts.Date1904),P(o.cell,w,e),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{_.push(me);var ie=Xt(me[0].s);if(p=e.dense?(i[me[0].s.r]||[])[me[0].s.c]:i[ie],e.cellFormula&&p){if(!o||!ie||!p)break;p.f=""+cs(me[1],a,me[0],z,I),p.F=an(me[0])}}break;case 1212:{if(!e.cellFormula)break;if(h){if(!o)break;b[Xt(o.cell)]=me[0],p=e.dense?(i[o.cell.r]||[])[o.cell.c]:i[Xt(o.cell)],(p||{}).f=""+cs(me[0],a,f,z,I)}}break;case 253:w=Vx(l[me.isst].t,me.ixfe,"s"),l[me.isst].h&&(w.h=l[me.isst].h),w.XF=S[w.ixfe],j>0&&(w.z=W[w.ixfe>>8&63]),tl(w,e,n.opts.Date1904),P({c:me.c,r:me.r},w,e);break;case 513:e.sheetStubs&&(w={ixfe:me.ixfe,XF:S[me.ixfe],t:"z"},j>0&&(w.z=W[w.ixfe>>8&63]),tl(w,e,n.opts.Date1904),P({c:me.c,r:me.r},w,e));break;case 190:if(e.sheetStubs)for(var ce=me.c;ce<=me.C;++ce){var ge=me.ixfe[ce-me.c];w={ixfe:ge,XF:S[ge],t:"z"},j>0&&(w.z=W[w.ixfe>>8&63]),tl(w,e,n.opts.Date1904),P({c:ce,r:me.r},w,e)}break;case 214:case 516:case 4:w=Vx(me.val,me.ixfe,"s"),w.XF=S[w.ixfe],j>0&&(w.z=W[w.ixfe>>8&63]),tl(w,e,n.opts.Date1904),P({c:me.c,r:me.r},w,e);break;case 0:case 512:B===1&&(a=me);break;case 252:l=me;break;case 1054:if(I.biff==4){W[j++]=me[1];for(var ye=0;ye<j+163&&Ht[ye]!=me[1];++ye);ye>=163&&lc(me[1],j+163)}else lc(me[1],me[0]);break;case 30:{W[j++]=me;for(var Ne=0;Ne<j+163&&Ht[Ne]!=me;++Ne);Ne>=163&&lc(me,j+163)}break;case 229:O=O.concat(me);break;case 93:K[me.cmo[0]]=I.lastobj=me;break;case 438:I.lastobj.TxO=me;break;case 127:I.lastobj.ImData=me;break;case 440:for(y=me[0].s.r;y<=me[0].e.r;++y)for(g=me[0].s.c;g<=me[0].e.c;++g)p=e.dense?(i[y]||[])[g]:i[Xt({c:g,r:y})],p&&(p.l=me[1]);break;case 2048:for(y=me[0].s.r;y<=me[0].e.r;++y)for(g=me[0].s.c;g<=me[0].e.c;++g)p=e.dense?(i[y]||[])[g]:i[Xt({c:g,r:y})],p&&p.l&&(p.l.Tooltip=me[1]);break;case 28:{if(I.biff<=5&&I.biff>=2)break;p=e.dense?(i[me[0].r]||[])[me[0].c]:i[Xt(me[0])];var Ue=K[me[2]];p||(e.dense?(i[me[0].r]||(i[me[0].r]=[]),p=i[me[0].r][me[0].c]={t:"z"}):p=i[Xt(me[0])]={t:"z"},a.e.r=Math.max(a.e.r,me[0].r),a.s.r=Math.min(a.s.r,me[0].r),a.e.c=Math.max(a.e.c,me[0].c),a.s.c=Math.min(a.s.c,me[0].c)),p.c||(p.c=[]),v={a:me[1],t:Ue.TxO.t},p.c.push(v)}break;case 2173:MIe(S[me.ixfe],me.ext);break;case 125:{if(!I.cellStyles)break;for(;me.e>=me.s;)X[me.e--]={width:me.w/256,level:me.level||0,hidden:!!(me.flags&1)},ne||(ne=!0,Hk(me.w/256)),zu(X[me.e+1])}break;case 520:{var Se={};me.level!=null&&(J[me.r]=Se,Se.level=me.level),me.hidden&&(J[me.r]=Se,Se.hidden=!0),me.hpt&&(J[me.r]=Se,Se.hpt=me.hpt,Se.hpx=_m(me.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||ff(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[de]]=me;break;case 161:i["!margins"]||ff(i["!margins"]={}),i["!margins"].header=me.header,i["!margins"].footer=me.footer;break;case 574:me.RTL&&(D.Views[0].RTL=!0);break;case 146:R=me;break;case 2198:U=me;break;case 140:C=me;break;case 442:c?N.CodeName=me||N.name:D.WBProps.CodeName=me||"ThisWorkbook";break}}else Ae||console.error("Missing Info for XLS Record 0x"+de.toString(16)),t.l+=fe}return n.SheetNames=zr(s).sort(function(Me,Oe){return Number(Me)-Number(Oe)}).map(function(Me){return s[Me].name}),e.bookSheets||(n.Sheets=r),!n.SheetNames.length&&u["!ref"]?(n.SheetNames.push("Sheet1"),n.Sheets&&(n.Sheets.Sheet1=u)):n.Preamble=u,n.Sheets&&G.forEach(function(Me,Oe){n.Sheets[n.SheetNames[Oe]]["!autofilter"]=Me}),n.Strings=l,n.SSF=vr(Ht),I.enc&&(n.Encryption=I.enc),U&&(n.Themes=U),n.Metadata={},C!==void 0&&(n.Metadata.Country=C),z.names.length>0&&(D.Names=z.names),n.Workbook=D,n}var ry={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function X8e(t,e,n){var r=Vt.find(t,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var i=AO(r,aN,ry.DSI);for(var s in i)e[s]=i[s]}catch(c){if(n.WTF)throw c}var a=Vt.find(t,"/!SummaryInformation");if(a&&a.size>0)try{var o=AO(a,oN,ry.SI);for(var l in o)e[l]==null&&(e[l]=o[l])}catch(c){if(n.WTF)throw c}e.HeadingPairs&&e.TitlesOfParts&&(nX(e.HeadingPairs,e.TitlesOfParts,e,n),delete e.HeadingPairs,delete e.TitlesOfParts)}function J8e(t,e){var n=[],r=[],i=[],s=0,a,o=iO(aN,"n"),l=iO(oN,"n");if(t.Props)for(a=zr(t.Props),s=0;s<a.length;++s)(Object.prototype.hasOwnProperty.call(o,a[s])?n:Object.prototype.hasOwnProperty.call(l,a[s])?r:i).push([a[s],t.Props[a[s]]]);if(t.Custprops)for(a=zr(t.Custprops),s=0;s<a.length;++s)Object.prototype.hasOwnProperty.call(t.Props||{},a[s])||(Object.prototype.hasOwnProperty.call(o,a[s])?n:Object.prototype.hasOwnProperty.call(l,a[s])?r:i).push([a[s],t.Custprops[a[s]]]);var c=[];for(s=0;s<i.length;++s)cX.indexOf(i[s][0])>-1||tX.indexOf(i[s][0])>-1||i[s][1]!=null&&c.push(i[s]);r.length&&Vt.utils.cfb_add(e,"/SummaryInformation",NO(r,ry.SI,l,oN)),(n.length||c.length)&&Vt.utils.cfb_add(e,"/DocumentSummaryInformation",NO(n,ry.DSI,o,aN,c.length?c:null,ry.UDI))}function iJ(t,e){e||(e={}),t6(e),wk(),e.codepage&&bk(e.codepage);var n,r;if(t.FullPaths){if(Vt.find(t,"/encryption"))throw new Error("File is password-protected");n=Vt.find(t,"!CompObj"),r=Vt.find(t,"/Workbook")||Vt.find(t,"/Book")}else{switch(e.type){case"base64":t=wa(Ia(t));break;case"binary":t=wa(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}Gi(t,0),r={content:t}}var i,s;if(n&&z8e(n),e.bookProps&&!e.bookSheets)i={};else{var a=fn?"buffer":"array";if(r&&r.content)i=K8e(r.content,e);else if((s=Vt.find(t,"PerfectOffice_MAIN"))&&s.content)i=df.to_workbook(s.content,(e.type=a,e));else if((s=Vt.find(t,"NativeContent_MAIN"))&&s.content)i=df.to_workbook(s.content,(e.type=a,e));else throw(s=Vt.find(t,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&t.FullPaths&&Vt.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=cke(t))}var o={};return t.FullPaths&&X8e(t,o,e),i.Props=i.Custprops=o,e.bookFiles&&(i.cfb=t),i}function Y8e(t,e){var n=e||{},r=Vt.utils.cfb_new({root:"R"}),i="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":i="/Workbook",n.biff=8;break;case"biff5":i="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return Vt.utils.cfb_add(r,i,sJ(t,n)),n.biff==8&&(t.Props||t.Custprops)&&J8e(t,r),n.biff==8&&t.vbaraw&&uke(r,Vt.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),r}var Zy={0:{f:bRe},1:{f:NRe},2:{f:KRe},3:{f:ORe},4:{f:PRe},5:{f:zRe},6:{f:ZRe},7:{f:VRe},8:{f:a5e},9:{f:s5e},10:{f:r5e},11:{f:i5e},12:{f:kRe},13:{f:JRe},14:{f:jRe},15:{f:MRe},16:{f:JX},17:{f:t5e},18:{f:qRe},19:{f:Uk},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:t8e},40:{},42:{},43:{f:Z3e},44:{f:Y3e},45:{f:nIe},46:{f:iIe},47:{f:rIe},48:{},49:{f:E4e},50:{},51:{f:LIe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:_X},62:{f:QRe},63:{f:GIe},64:{f:w5e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:xs,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:v5e},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:DRe},148:{f:ERe,p:16},151:{f:f5e},152:{},153:{f:Q5e},154:{},155:{},156:{f:J5e},157:{},158:{},159:{T:1,f:p3e},160:{T:-1},161:{T:1,f:sh},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:o5e},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:UIe},336:{T:-1},337:{f:VIe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:sN},357:{},358:{},359:{},360:{T:1},361:{},362:{f:xX},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:h5e},427:{f:p5e},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:g5e},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:SRe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:u5e},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:sN},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:ike},633:{T:1},634:{T:-1},635:{T:1,f:nke},636:{T:-1},637:{f:A4e},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:j5e},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:T5e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},hN={6:{f:fD},10:{f:au},12:{f:ui},13:{f:ui},14:{f:Yr},15:{f:Yr},16:{f:fs},17:{f:Yr},18:{f:Yr},19:{f:ui},20:{f:MO},21:{f:MO},23:{f:xX},24:{f:OO},25:{f:Yr},26:{},27:{},28:{f:TNe},29:{},34:{f:Yr},35:{f:UO},38:{f:fs},39:{f:fs},40:{f:fs},41:{f:fs},42:{f:Yr},43:{f:Yr},47:{f:M3e},49:{f:JAe},51:{f:ui},60:{},61:{f:zAe},64:{f:Yr},65:{f:XAe},66:{f:ui},77:{},80:{},81:{},82:{},85:{f:ui},89:{},90:{},91:{},92:{f:FAe},93:{f:SNe},94:{},95:{f:Yr},96:{},97:{},99:{f:Yr},125:{f:_X},128:{f:dNe},129:{f:UAe},130:{f:ui},131:{f:Yr},132:{f:Yr},133:{f:OAe},134:{},140:{f:FNe},141:{f:ui},144:{},146:{f:ONe},151:{},152:{},153:{},154:{},155:{},156:{f:ui},157:{},158:{},160:{f:$Ne},161:{f:BNe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:oNe},190:{f:lNe},193:{f:au},197:{},198:{},199:{},200:{},201:{},202:{f:Yr},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:ui},220:{},221:{f:Yr},222:{},224:{f:uNe},225:{f:PAe},226:{f:au},227:{},229:{f:ENe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:jAe},253:{f:QAe},255:{f:VAe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:uX},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Yr},353:{f:au},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:gNe},431:{f:Yr},432:{},433:{},434:{},437:{},438:{f:NNe},439:{f:Yr},440:{f:INe},441:{},442:{f:Kv},443:{},444:{f:ui},445:{},446:{},448:{f:au},449:{f:$Ae,r:2},450:{f:au},512:{f:RO},513:{f:qNe},515:{f:pNe},516:{f:eNe},517:{f:FO},519:{f:zNe},520:{f:WAe},523:{},545:{f:LO},549:{f:kO},566:{},574:{f:GAe},638:{f:aNe},659:{},1048:{},1054:{f:nNe},1084:{},1212:{f:_Ne},2048:{f:RNe},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Lx},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:au},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:LNe,r:12},2173:{f:FIe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Yr,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:xNe,r:12},2197:{},2198:{f:AIe,r:12},2199:{},2200:{},2201:{},2202:{f:bNe,r:12},2203:{f:au},2204:{},2205:{},2206:{},2207:{},2211:{f:qAe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:ui},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:VNe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:UNe},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:RO},1:{},2:{f:JNe},3:{f:KNe},4:{f:GNe},5:{f:FO},7:{f:QNe},8:{},9:{f:Lx},11:{},22:{f:ui},30:{f:iNe},31:{},32:{},33:{f:LO},36:{},37:{f:kO},50:{f:ZNe},62:{},52:{},67:{},68:{f:ui},69:{},86:{},126:{},127:{f:HNe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:e3e},223:{},234:{},354:{},421:{},518:{f:fD},521:{f:Lx},536:{f:OO},547:{f:UO},561:{},579:{},1030:{f:fD},1033:{f:Lx},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function bt(t,e,n,r){var i=e;if(!isNaN(i)){var s=r||(n||[]).length||0,a=t.next(4);a.write_shift(2,i),a.write_shift(2,s),s>0&&Pk(n)&&t.push(n)}}function Q8e(t,e,n,r){var i=(n||[]).length||0;if(i<=8224)return bt(t,e,n,i);var s=e;if(!isNaN(s)){for(var a=n.parts||[],o=0,l=0,c=0;c+(a[o]||8224)<=8224;)c+=a[o]||8224,o++;var u=t.next(4);for(u.write_shift(2,s),u.write_shift(2,c),t.push(n.slice(l,l+c)),l+=c;l<i;){for(u=t.next(4),u.write_shift(2,60),c=0;c+(a[o]||8224)<=8224;)c+=a[o]||8224,o++;u.write_shift(2,c),t.push(n.slice(l,l+c)),l+=c}}}function Qv(t,e,n){return t||(t=nt(7)),t.write_shift(2,e),t.write_shift(2,n),t.write_shift(2,0),t.write_shift(1,0),t}function Z8e(t,e,n,r){var i=nt(9);return Qv(i,t,e),dX(n,r||"b",i),i}function ePe(t,e,n){var r=nt(8+2*n.length);return Qv(r,t,e),r.write_shift(1,n.length),r.write_shift(n.length,n,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function tPe(t,e,n,r){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?_i(yr(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?bt(t,2,YNe(n,r,i)):bt(t,3,XNe(n,r,i));return;case"b":case"e":bt(t,5,Z8e(n,r,e.v,e.t));return;case"s":case"str":bt(t,4,ePe(n,r,(e.v||"").slice(0,255)));return}bt(t,1,Qv(null,n,r))}function nPe(t,e,n,r){var i=Array.isArray(e),s=Sn(e["!ref"]||"A1"),a,o="",l=[];if(s.e.c>255||s.e.r>16383){if(r.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),a=an(s)}for(var c=s.s.r;c<=s.e.r;++c){o=ti(c);for(var u=s.s.c;u<=s.e.c;++u){c===s.s.r&&(l[u]=Pr(u)),a=l[u]+o;var f=i?(e[c]||[])[u]:e[a];f&&tPe(t,f,c,u)}}}function rPe(t,e){for(var n=e||{},r=ra(),i=0,s=0;s<t.SheetNames.length;++s)t.SheetNames[s]==n.sheet&&(i=s);if(i==0&&n.sheet&&t.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return bt(r,n.biff==4?1033:n.biff==3?521:9,qk(t,16,n)),nPe(r,t.Sheets[t.SheetNames[i]],i,n),bt(r,10),r.end()}function iPe(t,e,n){bt(t,49,YAe({sz:12,name:"Arial"},n))}function sPe(t,e,n){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&bt(t,1054,rNe(i,e[i],n))})}function aPe(t,e){var n=nt(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),bt(t,2151,n),n=nt(39),n.write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),gX(Sn(e["!ref"]||"A1"),n),n.write_shift(4,4),bt(t,2152,n)}function oPe(t,e){for(var n=0;n<16;++n)bt(t,224,PO({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(r){bt(t,224,PO(r,0,e))})}function lPe(t,e){for(var n=0;n<e["!links"].length;++n){var r=e["!links"][n];bt(t,440,kNe(r)),r[1].Tooltip&&bt(t,2048,PNe(r))}delete e["!links"]}function cPe(t,e){if(e){var n=0;e.forEach(function(r,i){++n<=256&&r&&bt(t,125,jNe(Bw(i,r),i))})}}function uPe(t,e,n,r,i){var s=16+od(i.cellXfs,e,i);if(e.v==null&&!e.bf){bt(t,513,Lf(n,r,s));return}if(e.bf)bt(t,6,U6e(e,n,r,i,s));else switch(e.t){case"d":case"n":var a=e.t=="d"?_i(yr(e.v)):e.v;bt(t,515,mNe(n,r,a,s));break;case"b":case"e":bt(t,517,hNe(n,r,e.v,s,i,e.t));break;case"s":case"str":if(i.bookSST){var o=Yk(i.Strings,e.v,i.revStrings);bt(t,253,ZAe(n,r,o,s))}else bt(t,516,tNe(n,r,(e.v||"").slice(0,255),s,i));break;default:bt(t,513,Lf(n,r,s))}}function dPe(t,e,n){var r=ra(),i=n.SheetNames[t],s=n.Sheets[i]||{},a=(n||{}).Workbook||{},o=(a.Sheets||[])[t]||{},l=Array.isArray(s),c=e.biff==8,u,f="",h=[],p=Sn(s["!ref"]||"A1"),v=c?65536:16384;if(p.e.c>255||p.e.r>=v){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,v-1)}bt(r,2057,qk(n,16,e)),bt(r,13,Ka(1)),bt(r,12,Ka(100)),bt(r,15,Is(!0)),bt(r,17,Is(!1)),bt(r,16,Uf(.001)),bt(r,95,Is(!0)),bt(r,42,Is(!1)),bt(r,43,Is(!1)),bt(r,130,Ka(1)),bt(r,128,fNe()),bt(r,131,Is(!1)),bt(r,132,Is(!1)),c&&cPe(r,s["!cols"]),bt(r,512,sNe(p,e)),c&&(s["!links"]=[]);for(var g=p.s.r;g<=p.e.r;++g){f=ti(g);for(var y=p.s.c;y<=p.e.c;++y){g===p.s.r&&(h[y]=Pr(y)),u=h[y]+f;var b=l?(s[g]||[])[y]:s[u];b&&(uPe(r,b,g,y,e),c&&b.l&&s["!links"].push([u,b.l]))}}var _=o.CodeName||o.name||i;return c&&bt(r,574,KAe((a.Views||[])[0])),c&&(s["!merges"]||[]).length&&bt(r,229,CNe(s["!merges"])),c&&lPe(r,s),bt(r,442,fX(_)),c&&aPe(r,s),bt(r,10),r.end()}function fPe(t,e,n){var r=ra(),i=(t||{}).Workbook||{},s=i.Sheets||[],a=i.WBProps||{},o=n.biff==8,l=n.biff==5;if(bt(r,2057,qk(t,5,n)),n.bookType=="xla"&&bt(r,135),bt(r,225,o?Ka(1200):null),bt(r,193,hAe(2)),l&&bt(r,191),l&&bt(r,192),bt(r,226),bt(r,92,MAe("SheetJS",n)),bt(r,66,Ka(o?1200:1252)),o&&bt(r,353,Ka(0)),o&&bt(r,448),bt(r,317,WNe(t.SheetNames.length)),o&&t.vbaraw&&bt(r,211),o&&t.vbaraw){var c=a.CodeName||"ThisWorkbook";bt(r,442,fX(c))}bt(r,156,Ka(17)),bt(r,25,Is(!1)),bt(r,18,Is(!1)),bt(r,19,Ka(0)),o&&bt(r,431,Is(!1)),o&&bt(r,444,Ka(0)),bt(r,61,HAe()),bt(r,64,Is(!1)),bt(r,141,Ka(0)),bt(r,34,Is($5e(t)=="true")),bt(r,14,Is(!0)),o&&bt(r,439,Is(!1)),bt(r,218,Ka(0)),iPe(r,t,n),sPe(r,t.SSF,n),oPe(r,n),o&&bt(r,352,Is(!1));var u=r.end(),f=ra();o&&bt(f,140,MNe()),o&&n.Strings&&Q8e(f,252,BAe(n.Strings)),bt(f,10);var h=f.end(),p=ra(),v=0,g=0;for(g=0;g<t.SheetNames.length;++g)v+=(o?12:11)+(o?2:1)*t.SheetNames[g].length;var y=u.length+v+h.length;for(g=0;g<t.SheetNames.length;++g){var b=s[g]||{};bt(p,133,LAe({pos:y,hs:b.Hidden||0,dt:0,name:t.SheetNames[g]},n)),y+=e[g].length}var _=p.end();if(v!=_.length)throw new Error("BS8 "+v+" != "+_.length);var w=[];return u.length&&w.push(u),_.length&&w.push(_),h.length&&w.push(h),Ui(w)}function hPe(t,e){var n=e||{},r=[];t&&!t.SSF&&(t.SSF=vr(Ht)),t&&t.SSF&&(eg(),Pw(t.SSF),n.revssf=Mw(t.SSF),n.revssf[t.SSF[65535]]=0,n.ssf=t.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,n6(n),n.cellXfs=[],od(n.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var i=0;i<t.SheetNames.length;++i)r[r.length]=dPe(i,n,t);return r.unshift(fPe(t,r,n)),Ui(r)}function sJ(t,e){for(var n=0;n<=t.SheetNames.length;++n){var r=t.Sheets[t.SheetNames[n]];if(!(!r||!r["!ref"])){var i=ia(r["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return hPe(t,e);case 4:case 3:case 2:return rPe(t,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function KO(t,e){var n=e||{},r=n.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var i=t.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var s=t.match(/<\/table/i),a=i.index,o=s&&s.index||t.length,l=YDe(t.slice(a,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,u=0,f=0,h=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},v=[];for(a=0;a<l.length;++a){var g=l[a].trim(),y=g.slice(0,3).toLowerCase();if(y=="<tr"){if(++c,n.sheetRows&&n.sheetRows<=c){--c;break}u=0;continue}if(!(y!="<td"&&y!="<th")){var b=g.split(/<\/t[dh]>/i);for(o=0;o<b.length;++o){var _=b[o].trim();if(_.match(/<t[dh]/i)){for(var w=_,C=0;w.charAt(0)=="<"&&(C=w.indexOf(">"))>-1;)w=w.slice(C+1);for(var S=0;S<v.length;++S){var R=v[S];R.s.c==u&&R.s.r<c&&c<=R.e.r&&(u=R.e.c+1,S=-1)}var D=Yt(_.slice(0,_.indexOf(">")));h=D.colspan?+D.colspan:1,((f=+D.rowspan)>1||h>1)&&v.push({s:{r:c,c:u},e:{r:c+(f||1)-1,c:u+h-1}});var N=D.t||D["data-t"]||"";if(!w.length){u+=h;continue}if(w=NK(w),p.s.r>c&&(p.s.r=c),p.e.r<c&&(p.e.r=c),p.s.c>u&&(p.s.c=u),p.e.c<u&&(p.e.c=u),!w.length){u+=h;continue}var k={t:"s",v:w};n.raw||!w.trim().length||N=="s"||(w==="TRUE"?k={t:"b",v:!0}:w==="FALSE"?k={t:"b",v:!1}:isNaN(Lo(w))?isNaN(vm(w).getDate())||(k={t:"d",v:yr(w)},n.cellDates||(k={t:"n",v:_i(k.v)}),k.z=n.dateNF||Ht[14]):k={t:"n",v:Lo(w)}),n.dense?(r[c]||(r[c]=[]),r[c][u]=k):r[Xt({r:c,c:u})]=k,u+=h}}}}return r["!ref"]=an(p),v.length&&(r["!merges"]=v),r}function pPe(t,e,n,r){for(var i=t["!merges"]||[],s=[],a=e.s.c;a<=e.e.c;++a){for(var o=0,l=0,c=0;c<i.length;++c)if(!(i[c].s.r>n||i[c].s.c>a)&&!(i[c].e.r<n||i[c].e.c<a)){if(i[c].s.r<n||i[c].s.c<a){o=-1;break}o=i[c].e.r-i[c].s.r+1,l=i[c].e.c-i[c].s.c+1;break}if(!(o<0)){var u=Xt({r:n,c:a}),f=r.dense?(t[n]||[])[a]:t[u],h=f&&f.v!=null&&(f.h||Ik(f.w||(vc(f),f.w)||""))||"",p={};o>1&&(p.rowspan=o),l>1&&(p.colspan=l),r.editable?h='<span contenteditable="true">'+h+"</span>":f&&(p["data-t"]=f&&f.t||"z",f.v!=null&&(p["data-v"]=f.v),f.z!=null&&(p["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),p.id=(r.id||"sjs")+"-"+u,s.push(_t("td",h,p))}}var v="<tr>";return v+s.join("")+"</tr>"}var mPe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',gPe="</body></html>";function yPe(t,e){var n=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!n||n.length==0)throw new Error("Invalid HTML: could not find <table>");if(n.length==1)return ad(KO(n[0],e),e);var r=s6();return n.forEach(function(i,s){a6(r,KO(i,e),"Sheet"+(s+1))}),r}function vPe(t,e,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function aJ(t,e){var n=e||{},r=n.header!=null?n.header:mPe,i=n.footer!=null?n.footer:gPe,s=[r],a=ia(t["!ref"]);n.dense=Array.isArray(t),s.push(vPe(t,a,n));for(var o=a.s.r;o<=a.e.r;++o)s.push(pPe(t,a,o,n));return s.push("</table>"+i),s.join("")}function oJ(t,e,n){var r=n||{},i=0,s=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var a=typeof r.origin=="string"?Fr(r.origin):r.origin;i=a.r,s=a.c}var o=e.getElementsByTagName("tr"),l=Math.min(r.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:i,c:s}};if(t["!ref"]){var u=ia(t["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),i==-1&&(c.e.r=i=u.e.r+1)}var f=[],h=0,p=t["!rows"]||(t["!rows"]=[]),v=0,g=0,y=0,b=0,_=0,w=0;for(t["!cols"]||(t["!cols"]=[]);v<o.length&&g<l;++v){var C=o[v];if(XO(C)){if(r.display)continue;p[g]={hidden:!0}}var S=C.children;for(y=b=0;y<S.length;++y){var R=S[y];if(!(r.display&&XO(R))){var D=R.hasAttribute("data-v")?R.getAttribute("data-v"):R.hasAttribute("v")?R.getAttribute("v"):NK(R.innerHTML),N=R.getAttribute("data-z")||R.getAttribute("z");for(h=0;h<f.length;++h){var k=f[h];k.s.c==b+s&&k.s.r<g+i&&g+i<=k.e.r&&(b=k.e.c+1-s,h=-1)}w=+R.getAttribute("colspan")||1,((_=+R.getAttribute("rowspan")||1)>1||w>1)&&f.push({s:{r:g+i,c:b+s},e:{r:g+i+(_||1)-1,c:b+s+(w||1)-1}});var F={t:"s",v:D},P=R.getAttribute("data-t")||R.getAttribute("t")||"";D!=null&&(D.length==0?F.t=P||"z":r.raw||D.trim().length==0||P=="s"||(D==="TRUE"?F={t:"b",v:!0}:D==="FALSE"?F={t:"b",v:!1}:isNaN(Lo(D))?isNaN(vm(D).getDate())||(F={t:"d",v:yr(D)},r.cellDates||(F={t:"n",v:_i(F.v)}),F.z=r.dateNF||Ht[14]):F={t:"n",v:Lo(D)})),F.z===void 0&&N!=null&&(F.z=N);var I="",U=R.getElementsByTagName("A");if(U&&U.length)for(var O=0;O<U.length&&!(U[O].hasAttribute("href")&&(I=U[O].getAttribute("href"),I.charAt(0)!="#"));++O);I&&I.charAt(0)!="#"&&(F.l={Target:I}),r.dense?(t[g+i]||(t[g+i]=[]),t[g+i][b+s]=F):t[Xt({c:b+s,r:g+i})]=F,c.e.c<b+s&&(c.e.c=b+s),b+=w}}++g}return f.length&&(t["!merges"]=(t["!merges"]||[]).concat(f)),c.e.r=Math.max(c.e.r,g-1+i),t["!ref"]=an(c),g>=l&&(t["!fullref"]=an((c.e.r=o.length-v+g-1+i,c))),t}function lJ(t,e){var n=e||{},r=n.dense?[]:{};return oJ(r,t,e)}function xPe(t,e){return ad(lJ(t,e),e)}function XO(t){var e="",n=_Pe(t);return n&&(e=n(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function _Pe(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function bPe(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(r,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),n=Cn(e.replace(/<[^>]*>/g,""));return[n]}var JO={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function cJ(t,e){var n=e||{},r=kk(t),i=[],s,a,o={name:""},l="",c=0,u,f,h={},p=[],v=n.dense?[]:{},g,y,b={value:""},_="",w=0,C=[],S=-1,R=-1,D={s:{r:1e6,c:1e7},e:{r:0,c:0}},N=0,k={},F=[],P={},I=0,U=0,O=[],K=1,X=1,J=[],ne={Names:[]},z={},Q=["",""],B=[],j={},W="",G=0,Y=!1,ee=!1,ae=0;for(Gy.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");g=Gy.exec(r);)switch(g[3]=g[3].replace(/_.*$/,"")){case"table":case"":g[1]==="/"?(D.e.c>=D.s.c&&D.e.r>=D.s.r?v["!ref"]=an(D):v["!ref"]="A1:A1",n.sheetRows>0&&n.sheetRows<=D.e.r&&(v["!fullref"]=v["!ref"],D.e.r=n.sheetRows-1,v["!ref"]=an(D)),F.length&&(v["!merges"]=F),O.length&&(v["!rows"]=O),u.name=u.||u.name,typeof JSON<"u"&&JSON.stringify(u),p.push(u.name),h[u.name]=v,ee=!1):g[0].charAt(g[0].length-2)!=="/"&&(u=Yt(g[0],!1),S=R=-1,D.s.r=D.s.c=1e7,D.e.r=D.e.c=0,v=n.dense?[]:{},F=[],O=[],ee=!0);break;case"table-row-group":g[1]==="/"?--N:++N;break;case"table-row":case"":if(g[1]==="/"){S+=K,K=1;break}if(f=Yt(g[0],!1),f.?S=f.-1:S==-1&&(S=0),K=+f["number-rows-repeated"]||1,K<10)for(ae=0;ae<K;++ae)N>0&&(O[S+ae]={level:N});R=-1;break;case"covered-table-cell":g[1]!=="/"&&++R,n.sheetStubs&&(n.dense?(v[S]||(v[S]=[]),v[S][R]={t:"z"}):v[Xt({r:S,c:R})]={t:"z"}),_="",C=[];break;case"table-cell":case"":if(g[0].charAt(g[0].length-2)==="/")++R,b=Yt(g[0],!1),X=parseInt(b["number-columns-repeated"]||"1",10),y={t:"z",v:null},b.formula&&n.cellFormula!=!1&&(y.f=zO(Cn(b.formula))),(b.||b["value-type"])=="string"&&(y.t="s",y.v=Cn(b["string-value"]||""),n.dense?(v[S]||(v[S]=[]),v[S][R]=y):v[Xt({r:S,c:R})]=y),R+=X-1;else if(g[1]!=="/"){++R,_="",w=0,C=[],X=1;var de=K?S+K-1:S;if(R>D.e.c&&(D.e.c=R),R<D.s.c&&(D.s.c=R),S<D.s.r&&(D.s.r=S),de>D.e.r&&(D.e.r=de),b=Yt(g[0],!1),B=[],j={},y={t:b.||b["value-type"],v:null},n.cellFormula)if(b.formula&&(b.formula=Cn(b.formula)),b["number-matrix-columns-spanned"]&&b["number-matrix-rows-spanned"]&&(I=parseInt(b["number-matrix-rows-spanned"],10)||0,U=parseInt(b["number-matrix-columns-spanned"],10)||0,P={s:{r:S,c:R},e:{r:S+I-1,c:R+U-1}},y.F=an(P),J.push([P,y.F])),b.formula)y.f=zO(b.formula);else for(ae=0;ae<J.length;++ae)S>=J[ae][0].s.r&&S<=J[ae][0].e.r&&R>=J[ae][0].s.c&&R<=J[ae][0].e.c&&(y.F=J[ae][1]);switch((b["number-columns-spanned"]||b["number-rows-spanned"])&&(I=parseInt(b["number-rows-spanned"],10)||0,U=parseInt(b["number-columns-spanned"],10)||0,P={s:{r:S,c:R},e:{r:S+I-1,c:R+U-1}},F.push(P)),b["number-columns-repeated"]&&(X=parseInt(b["number-columns-repeated"],10)),y.t){case"boolean":y.t="b",y.v=hr(b["boolean-value"]);break;case"float":y.t="n",y.v=parseFloat(b.value);break;case"percentage":y.t="n",y.v=parseFloat(b.value);break;case"currency":y.t="n",y.v=parseFloat(b.value);break;case"date":y.t="d",y.v=yr(b["date-value"]),n.cellDates||(y.t="n",y.v=_i(y.v)),y.z="m/d/yy";break;case"time":y.t="n",y.v=KDe(b["time-value"])/86400,n.cellDates&&(y.t="d",y.v=Uw(y.v)),y.z="HH:MM:SS";break;case"number":y.t="n",y.v=parseFloat(b.);break;default:if(y.t==="string"||y.t==="text"||!y.t)y.t="s",b["string-value"]!=null&&(_=Cn(b["string-value"]),C=[]);else throw new Error("Unsupported value type "+y.t)}}else{if(Y=!1,y.t==="s"&&(y.v=_||"",C.length&&(y.R=C),Y=w==0),z.Target&&(y.l=z),B.length>0&&(y.c=B,B=[]),_&&n.cellText!==!1&&(y.w=_),Y&&(y.t="z",delete y.v),(!Y||n.sheetStubs)&&!(n.sheetRows&&n.sheetRows<=S))for(var fe=0;fe<K;++fe){if(X=parseInt(b["number-columns-repeated"]||"1",10),n.dense)for(v[S+fe]||(v[S+fe]=[]),v[S+fe][R]=fe==0?y:vr(y);--X>0;)v[S+fe][R+X]=vr(y);else for(v[Xt({r:S+fe,c:R})]=y;--X>0;)v[Xt({r:S+fe,c:R+X})]=vr(y);D.e.c<=R&&(D.e.c=R)}X=parseInt(b["number-columns-repeated"]||"1",10),R+=X-1,X=0,y={},_="",C=[]}z={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(g[1]==="/"){if((s=i.pop())[0]!==g[3])throw"Bad state: "+s}else g[0].charAt(g[0].length-2)!=="/"&&i.push([g[3],!0]);break;case"annotation":if(g[1]==="/"){if((s=i.pop())[0]!==g[3])throw"Bad state: "+s;j.t=_,C.length&&(j.R=C),j.a=W,B.push(j)}else g[0].charAt(g[0].length-2)!=="/"&&i.push([g[3],!1]);W="",G=0,_="",w=0,C=[];break;case"creator":g[1]==="/"?W=r.slice(G,g.index):G=g.index+g[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(g[1]==="/"){if((s=i.pop())[0]!==g[3])throw"Bad state: "+s}else g[0].charAt(g[0].length-2)!=="/"&&i.push([g[3],!1]);_="",w=0,C=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(g[1]==="/"){if(k[o.name]=l,(s=i.pop())[0]!==g[3])throw"Bad state: "+s}else g[0].charAt(g[0].length-2)!=="/"&&(l="",o=Yt(g[0],!1),i.push([g[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":a=Yt(g[0],!1),l+=JO[g[3]][a.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":a=Yt(g[0],!1),l+=JO[g[3]][a.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(g[0].slice(-2)==="/>")break;if(g[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":l+=r.slice(c,g.index);break}else c=g.index+g[0].length;break;case"named-range":a=Yt(g[0],!1),Q=hD(a["cell-range-address"]);var Ae={Name:a.name,Ref:Q[0]+"!"+Q[1]};ee&&(Ae.Sheet=p.length),ne.Names.push(Ae);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(g[1]==="/"&&(!b||!b["string-value"])){var Re=bPe(r.slice(w,g.index));_=(_.length>0?_+`
`:"")+Re[0]}else Yt(g[0],!1),w=g.index+g[0].length;break;case"s":break;case"database-range":if(g[1]==="/")break;try{Q=hD(Yt(g[0])["target-range-address"]),h[Q[0]]["!autofilter"]={ref:Q[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(g[1]!=="/"){if(z=Yt(g[0],!1),!z.href)break;z.Target=Cn(z.href),delete z.href,z.Target.charAt(0)=="#"&&z.Target.indexOf(".")>-1?(Q=hD(z.Target.slice(1)),z.Target="#"+Q[0]+"!"+Q[1]):z.Target.match(/^\.\.[\\\/]/)&&(z.Target=z.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(g[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(n.WTF)throw new Error(g)}}var me={Sheets:h,SheetNames:p,Workbook:ne};return n.bookSheets&&delete me.Sheets,me}function YO(t,e){e=e||{},Ga(t,"META-INF/manifest.xml")&&K4e(ci(t,"META-INF/manifest.xml"),e);var n=Ta(t,"content.xml");if(!n)throw new Error("Missing content.xml in ODS / UOF file");var r=cJ(Yn(n),e);return Ga(t,"meta.xml")&&(r.Props=ZK(ci(t,"meta.xml"))),r}function QO(t,e){return cJ(t,e)}var wPe=(function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Hy({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return ri+e}})(),ZO=(function(){var t=function(s){return Gn(s).replace(/  +/g,function(a){return'<text:s text:c="'+a.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,n=`          <table:covered-table-cell/>
`,r=function(s,a,o){var l=[];l.push('      <table:table table:name="'+Gn(a.SheetNames[o])+`" table:style-name="ta1">
`);var c=0,u=0,f=ia(s["!ref"]||"A1"),h=s["!merges"]||[],p=0,v=Array.isArray(s);if(s["!cols"])for(u=0;u<=f.e.c;++u)l.push("        <table:table-column"+(s["!cols"][u]?' table:style-name="co'+s["!cols"][u].ods+'"':"")+`></table:table-column>
`);var g="",y=s["!rows"]||[];for(c=0;c<f.s.r;++c)g=y[c]?' table:style-name="ro'+y[c].ods+'"':"",l.push("        <table:table-row"+g+`></table:table-row>
`);for(;c<=f.e.r;++c){for(g=y[c]?' table:style-name="ro'+y[c].ods+'"':"",l.push("        <table:table-row"+g+`>
`),u=0;u<f.s.c;++u)l.push(e);for(;u<=f.e.c;++u){var b=!1,_={},w="";for(p=0;p!=h.length;++p)if(!(h[p].s.c>u)&&!(h[p].s.r>c)&&!(h[p].e.c<u)&&!(h[p].e.r<c)){(h[p].s.c!=u||h[p].s.r!=c)&&(b=!0),_["table:number-columns-spanned"]=h[p].e.c-h[p].s.c+1,_["table:number-rows-spanned"]=h[p].e.r-h[p].s.r+1;break}if(b){l.push(n);continue}var C=Xt({r:c,c:u}),S=v?(s[c]||[])[u]:s[C];if(S&&S.f&&(_["table:formula"]=Gn(W6e(S.f)),S.F&&S.F.slice(0,C.length)==C)){var R=ia(S.F);_["table:number-matrix-columns-spanned"]=R.e.c-R.s.c+1,_["table:number-matrix-rows-spanned"]=R.e.r-R.s.r+1}if(!S){l.push(e);continue}switch(S.t){case"b":w=S.v?"TRUE":"FALSE",_["office:value-type"]="boolean",_["office:boolean-value"]=S.v?"true":"false";break;case"n":w=S.w||String(S.v||0),_["office:value-type"]="float",_["office:value"]=S.v||0;break;case"s":case"str":w=S.v==null?"":S.v,_["office:value-type"]="string";break;case"d":w=S.w||yr(S.v).toISOString(),_["office:value-type"]="date",_["office:date-value"]=yr(S.v).toISOString(),_["table:style-name"]="ce1";break;default:l.push(e);continue}var D=t(w);if(S.l&&S.l.Target){var N=S.l.Target;N=N.charAt(0)=="#"?"#"+q6e(N.slice(1)):N,N.charAt(0)!="#"&&!N.match(/^\w+:/)&&(N="../"+N),D=_t("text:a",D,{"xlink:href":N.replace(/&/g,"&amp;")})}l.push("          "+_t("table:table-cell",_t("text:p",D,{}),_)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},i=function(s,a){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var o=0;a.SheetNames.map(function(c){return a.Sheets[c]}).forEach(function(c){if(c&&c["!cols"]){for(var u=0;u<c["!cols"].length;++u)if(c["!cols"][u]){var f=c["!cols"][u];if(f.width==null&&f.wpx==null&&f.wch==null)continue;zu(f),f.ods=o;var h=c["!cols"][u].wpx+"px";s.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+`"/>
`),s.push(`  </style:style>
`),++o}}});var l=0;a.SheetNames.map(function(c){return a.Sheets[c]}).forEach(function(c){if(c&&c["!rows"]){for(var u=0;u<c["!rows"].length;++u)if(c["!rows"][u]){c["!rows"][u].ods=l;var f=c["!rows"][u].hpx+"px";s.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),s.push(`  </style:style>
`),++l}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(a,o){var l=[ri],c=Hy({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=Hy({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(l.push("<office:document"+c+u+`>
`),l.push(QK().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+c+`>
`),i(l,a),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var f=0;f!=a.SheetNames.length;++f)l.push(r(a.Sheets[a.SheetNames[f]],a,f));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),o.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}})();function uJ(t,e){if(e.bookType=="fods")return ZO(t,e);var n=Dk(),r="",i=[],s=[];return r="mimetype",on(n,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",on(n,r,ZO(t,e)),i.push([r,"text/xml"]),s.push([r,"ContentFile"]),r="styles.xml",on(n,r,wPe(t,e)),i.push([r,"text/xml"]),s.push([r,"StylesFile"]),r="meta.xml",on(n,r,ri+QK()),i.push([r,"text/xml"]),s.push([r,"MetadataFile"]),r="manifest.rdf",on(n,r,Y4e(s)),i.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",on(n,r,X4e(i)),n}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function jf(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function pN(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):Yn(sd(t))}function TPe(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):wa(yl(t))}function EPe(t,e){e:for(var n=0;n<=t.length-e.length;++n){for(var r=0;r<e.length;++r)if(t[n+r]!=e[r])continue e;return!0}return!1}function Gu(t){var e=t.reduce(function(i,s){return i+s.length},0),n=new Uint8Array(e),r=0;return t.forEach(function(i){n.set(i,r),r+=i.length}),n}function eL(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function CPe(t,e){for(var n=(t[e+15]&127)<<7|t[e+14]>>1,r=t[e+14]&1,i=e+13;i>=e;--i)r=r*256+t[i];return(t[e+15]&128?-r:r)*Math.pow(10,n-6176)}function SPe(t,e,n){var r=Math.floor(n==0?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,i=n/Math.pow(10,r-6176);t[e+15]|=r>>7,t[e+14]|=(r&127)<<1;for(var s=0;i>=1;++s,i/=256)t[e+s]=i&255;t[e+15]|=n>=0?0:128}function ev(t,e){var n=e?e[0]:0,r=t[n]&127;e:if(t[n++]>=128&&(r|=(t[n]&127)<<7,t[n++]<128||(r|=(t[n]&127)<<14,t[n++]<128)||(r|=(t[n]&127)<<21,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,28),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,35),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,42),++n,t[n++]<128)))break e;return e&&(e[0]=n),r}function Wn(t){var e=new Uint8Array(7);e[0]=t&127;var n=1;e:if(t>127){if(e[n-1]|=128,e[n]=t>>7&127,++n,t<=16383||(e[n-1]|=128,e[n]=t>>14&127,++n,t<=2097151)||(e[n-1]|=128,e[n]=t>>21&127,++n,t<=268435455)||(e[n-1]|=128,e[n]=t/256>>>21&127,++n,t<=34359738367)||(e[n-1]|=128,e[n]=t/65536>>>21&127,++n,t<=4398046511103))break e;e[n-1]|=128,e[n]=t/16777216>>>21&127,++n}return e.slice(0,n)}function Wr(t){var e=0,n=t[e]&127;e:if(t[e++]>=128){if(n|=(t[e]&127)<<7,t[e++]<128||(n|=(t[e]&127)<<14,t[e++]<128)||(n|=(t[e]&127)<<21,t[e++]<128))break e;n|=(t[e]&127)<<28}return n}function Nn(t){for(var e=[],n=[0];n[0]<t.length;){var r=n[0],i=ev(t,n),s=i&7;i=Math.floor(i/8);var a=0,o;if(i==0)break;switch(s){case 0:{for(var l=n[0];t[n[0]++]>=128;);o=t.slice(l,n[0])}break;case 5:a=4,o=t.slice(n[0],n[0]+a),n[0]+=a;break;case 1:a=8,o=t.slice(n[0],n[0]+a),n[0]+=a;break;case 2:a=ev(t,n),o=t.slice(n[0],n[0]+a),n[0]+=a;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(r))}var c={data:o,type:s};e[i]==null?e[i]=[c]:e[i].push(c)}return e}function zi(t){var e=[];return t.forEach(function(n,r){n.forEach(function(i){i.data&&(e.push(Wn(r*8+i.type)),i.type==2&&e.push(Wn(i.data.length)),e.push(i.data))})}),Gu(e)}function e6(t,e){return(t==null?void 0:t.map(function(n){return e(n.data)}))||[]}function za(t){for(var e,n=[],r=[0];r[0]<t.length;){var i=ev(t,r),s=Nn(t.slice(r[0],r[0]+i));r[0]+=i;var a={id:Wr(s[1][0].data),messages:[]};s[2].forEach(function(o){var l=Nn(o.data),c=Wr(l[3][0].data);a.messages.push({meta:l,data:t.slice(r[0],r[0]+c)}),r[0]+=c}),(e=s[3])!=null&&e[0]&&(a.merge=Wr(s[3][0].data)>>>0>0),n.push(a)}return n}function tp(t){var e=[];return t.forEach(function(n){var r=[];r[1]=[{data:Wn(n.id),type:0}],r[2]=[],n.merge!=null&&(r[3]=[{data:Wn(+!!n.merge),type:0}]);var i=[];n.messages.forEach(function(a){i.push(a.data),a.meta[3]=[{type:0,data:Wn(a.data.length)}],r[2].push({data:zi(a.meta),type:2})});var s=zi(r);e.push(Wn(s.length)),e.push(s),i.forEach(function(a){return e.push(a)})}),Gu(e)}function DPe(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var n=[0],r=ev(e,n),i=[];n[0]<e.length;){var s=e[n[0]]&3;if(s==0){var a=e[n[0]++]>>2;if(a<60)++a;else{var o=a-59;a=e[n[0]],o>1&&(a|=e[n[0]+1]<<8),o>2&&(a|=e[n[0]+2]<<16),o>3&&(a|=e[n[0]+3]<<24),a>>>=0,a++,n[0]+=o}i.push(e.slice(n[0],n[0]+a)),n[0]+=a;continue}else{var l=0,c=0;if(s==1?(c=(e[n[0]]>>2&7)+4,l=(e[n[0]++]&224)<<3,l|=e[n[0]++]):(c=(e[n[0]++]>>2)+1,s==2?(l=e[n[0]]|e[n[0]+1]<<8,n[0]+=2):(l=(e[n[0]]|e[n[0]+1]<<8|e[n[0]+2]<<16|e[n[0]+3]<<24)>>>0,n[0]+=4)),i=[Gu(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(i.push(i[0].slice(-l)),c-=l;c>=i[i.length-1].length;)i.push(i[i.length-1]),c-=i[i.length-1].length;i.push(i[0].slice(-l,-l+c))}}var u=Gu(i);if(u.length!=r)throw new Error("Unexpected length: ".concat(u.length," != ").concat(r));return u}function Ha(t){for(var e=[],n=0;n<t.length;){var r=t[n++],i=t[n]|t[n+1]<<8|t[n+2]<<16;n+=3,e.push(DPe(r,t.slice(n,n+i))),n+=i}if(n!==t.length)throw new Error("data is not a valid framed stream!");return Gu(e)}function np(t){for(var e=[],n=0;n<t.length;){var r=Math.min(t.length-n,268435455),i=new Uint8Array(4);e.push(i);var s=Wn(r),a=s.length;e.push(s),r<=60?(a++,e.push(new Uint8Array([r-1<<2]))):r<=256?(a+=2,e.push(new Uint8Array([240,r-1&255]))):r<=65536?(a+=3,e.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(a+=4,e.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(a+=5,e.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),e.push(t.slice(n,n+r)),a+=r,i[0]=0,i[1]=a&255,i[2]=a>>8&255,i[3]=a>>16&255,n+=r}return Gu(e)}function APe(t,e,n,r){var i=jf(t),s=i.getUint32(4,!0),a=(r>1?12:8)+eL(s&(r>1?3470:398))*4,o=-1,l=-1,c=NaN,u=new Date(2001,0,1);s&512&&(o=i.getUint32(a,!0),a+=4),a+=eL(s&(r>1?12288:4096))*4,s&16&&(l=i.getUint32(a,!0),a+=4),s&32&&(c=i.getFloat64(a,!0),a+=8),s&64&&(u.setTime(u.getTime()+i.getFloat64(a,!0)*1e3),a+=8);var f;switch(t[2]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:e[l]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:n[o]};else if(l>-1)f={t:"s",v:e[l]};else if(!isNaN(c))f={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return f}function NPe(t,e,n){var r=jf(t),i=r.getUint32(8,!0),s=12,a=-1,o=-1,l=NaN,c=NaN,u=new Date(2001,0,1);i&1&&(l=CPe(t,s),s+=16),i&2&&(c=r.getFloat64(s,!0),s+=8),i&4&&(u.setTime(u.getTime()+r.getFloat64(s,!0)*1e3),s+=8),i&8&&(o=r.getUint32(s,!0),s+=4),i&16&&(a=r.getUint32(s,!0),s+=4);var f;switch(t[1]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:e[o]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(a>-1)f={t:"s",v:n[a]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)));break;case 10:f={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)))}return f}function mD(t,e){var n=new Uint8Array(32),r=jf(n),i=12,s=0;switch(n[0]=5,t.t){case"n":n[1]=2,SPe(n,i,t.v),s|=1,i+=16;break;case"b":n[1]=6,r.setFloat64(i,t.v?1:0,!0),s|=2,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[1]=3,r.setUint32(i,e.indexOf(t.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(8,s,!0),n.slice(0,i)}function gD(t,e){var n=new Uint8Array(32),r=jf(n),i=12,s=0;switch(n[0]=3,t.t){case"n":n[2]=2,r.setFloat64(i,t.v,!0),s|=32,i+=8;break;case"b":n[2]=6,r.setFloat64(i,t.v?1:0,!0),s|=32,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[2]=3,r.setUint32(i,e.indexOf(t.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(4,s,!0),n.slice(0,i)}function IPe(t,e,n){switch(t[0]){case 0:case 1:case 2:case 3:return APe(t,e,n,t[0]);case 5:return NPe(t,e,n);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function ls(t){var e=Nn(t);return ev(e[1][0].data)}function tL(t,e){var n=Nn(e.data),r=Wr(n[1][0].data),i=n[3],s=[];return(i||[]).forEach(function(a){var o=Nn(a.data),l=Wr(o[1][0].data)>>>0;switch(r){case 1:s[l]=pN(o[3][0].data);break;case 8:{var c=t[ls(o[9][0].data)][0],u=Nn(c.data),f=t[ls(u[1][0].data)][0],h=Wr(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var p=Nn(f.data);s[l]=p[3].map(function(v){return pN(v.data)}).join("")}break}}),s}function kPe(t,e){var n,r,i,s,a,o,l,c,u,f,h,p,v,g,y=Nn(t),b=Wr(y[1][0].data)>>>0,_=Wr(y[2][0].data)>>>0,w=((r=(n=y[8])==null?void 0:n[0])==null?void 0:r.data)&&Wr(y[8][0].data)>0||!1,C,S;if((s=(i=y[7])==null?void 0:i[0])!=null&&s.data&&e!=0)C=(o=(a=y[7])==null?void 0:a[0])==null?void 0:o.data,S=(c=(l=y[6])==null?void 0:l[0])==null?void 0:c.data;else if((f=(u=y[4])==null?void 0:u[0])!=null&&f.data&&e!=1)C=(p=(h=y[4])==null?void 0:h[0])==null?void 0:p.data,S=(g=(v=y[3])==null?void 0:v[0])==null?void 0:g.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var R=w?4:1,D=jf(C),N=[],k=0;k<C.length/2;++k){var F=D.getUint16(k*2,!0);F<65535&&N.push([k,F])}if(N.length!=_)throw"Expected ".concat(_," cells, found ").concat(N.length);var P=[];for(k=0;k<N.length-1;++k)P[N[k][0]]=S.subarray(N[k][1]*R,N[k+1][1]*R);return N.length>=1&&(P[N[N.length-1][0]]=S.subarray(N[N.length-1][1]*R)),{R:b,cells:P}}function RPe(t,e){var n,r=Nn(e.data),i=(n=r==null?void 0:r[7])!=null&&n[0]?Wr(r[7][0].data)>>>0>0?1:0:-1,s=e6(r[5],function(a){return kPe(a,i)});return{nrows:Wr(r[4][0].data)>>>0,data:s.reduce(function(a,o){return a[o.R]||(a[o.R]=[]),o.cells.forEach(function(l,c){if(a[o.R][c])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(c));a[o.R][c]=l}),a},[])}}function PPe(t,e,n){var r,i=Nn(e.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(Wr(i[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(s.e.c=(Wr(i[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));n["!ref"]=an(s);var a=Nn(i[4][0].data),o=tL(t,t[ls(a[4][0].data)][0]),l=(r=a[17])!=null&&r[0]?tL(t,t[ls(a[17][0].data)][0]):[],c=Nn(a[3][0].data),u=0;c[1].forEach(function(f){var h=Nn(f.data),p=t[ls(h[2][0].data)][0],v=Wr(p.meta[1][0].data);if(v!=6002)throw new Error("6001 unexpected reference to ".concat(v));var g=RPe(t,p);g.data.forEach(function(y,b){y.forEach(function(_,w){var C=Xt({r:u+b,c:w}),S=IPe(_,o,l);S&&(n[C]=S)})}),u+=g.nrows})}function FPe(t,e){var n=Nn(e.data),r={"!ref":"A1"},i=t[ls(n[2][0].data)],s=Wr(i[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return PPe(t,i[0],r),r}function MPe(t,e){var n,r=Nn(e.data),i={name:(n=r[1])!=null&&n[0]?pN(r[1][0].data):"",sheets:[]},s=e6(r[2],ls);return s.forEach(function(a){t[a].forEach(function(o){var l=Wr(o.meta[1][0].data);l==6e3&&i.sheets.push(FPe(t,o))})}),i}function UPe(t,e){var n=s6(),r=Nn(e.data),i=e6(r[1],ls);if(i.forEach(function(s){t[s].forEach(function(a){var o=Wr(a.meta[1][0].data);if(o==2){var l=MPe(t,a);l.sheets.forEach(function(c,u){a6(n,c,u==0?l.name:l.name+"_"+u,!0)})}})}),n.SheetNames.length==0)throw new Error("Empty NUMBERS file");return n}function yD(t){var e,n,r,i,s={},a=[];if(t.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=Ha(l.content)}catch(f){return console.log("?? "+l.content.length+" "+(f.message||f))}var u;try{u=za(c)}catch(f){return console.log("## "+(f.message||f))}u.forEach(function(f){s[f.id]=f.messages,a.push(f.id)})}}),!a.length)throw new Error("File has no messages");var o=((i=(r=(n=(e=s==null?void 0:s[1])==null?void 0:e[0])==null?void 0:n.meta)==null?void 0:r[1])==null?void 0:i[0].data)&&Wr(s[1][0].meta[1][0].data)==1&&s[1][0];if(o||a.forEach(function(l){s[l].forEach(function(c){var u=Wr(c.meta[1][0].data)>>>0;if(u==1)if(!o)o=c;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return UPe(s,o)}function OPe(t,e,n){var r,i,s,a;if(!((r=t[6])!=null&&r[0])||!((i=t[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var o=((a=(s=t[8])==null?void 0:s[0])==null?void 0:a.data)&&Wr(t[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var l=0,c=jf(t[7][0].data),u=0,f=[],h=jf(t[4][0].data),p=0,v=[],g=0;g<e.length;++g){if(e[g]==null){c.setUint16(g*2,65535,!0),h.setUint16(g*2,65535);continue}c.setUint16(g*2,u,!0),h.setUint16(g*2,p,!0);var y,b;switch(typeof e[g]){case"string":y=mD({t:"s",v:e[g]},n),b=gD({t:"s",v:e[g]},n);break;case"number":y=mD({t:"n",v:e[g]},n),b=gD({t:"n",v:e[g]},n);break;case"boolean":y=mD({t:"b",v:e[g]},n),b=gD({t:"b",v:e[g]},n);break;default:throw new Error("Unsupported value "+e[g])}f.push(y),u+=y.length,v.push(b),p+=b.length,++l}for(t[2][0].data=Wn(l);g<t[7][0].data.length/2;++g)c.setUint16(g*2,65535,!0),h.setUint16(g*2,65535,!0);return t[6][0].data=Gu(f),t[3][0].data=Gu(v),l}function LPe(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=ia(n["!ref"]);r.s.r=r.s.c=0;var i=!1;r.e.c>9&&(i=!0,r.e.c=9),r.e.r>49&&(i=!0,r.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(an(r)));var s=eb(n,{range:r,header:1}),a=["~Sh33tJ5~"];s.forEach(function(W){return W.forEach(function(G){typeof G=="string"&&a.push(G)})});var o={},l=[],c=Vt.read(e.numbers,{type:"base64"});c.FileIndex.map(function(W,G){return[W,c.FullPaths[G]]}).forEach(function(W){var G=W[0],Y=W[1];if(G.type==2&&G.name.match(/\.iwa/)){var ee=G.content,ae=Ha(ee),de=za(ae);de.forEach(function(fe){l.push(fe.id),o[fe.id]={deps:[],location:Y,type:Wr(fe.messages[0].meta[1][0].data)}})}}),l.sort(function(W,G){return W-G});var u=l.filter(function(W){return W>1}).map(function(W){return[W,Wn(W)]});c.FileIndex.map(function(W,G){return[W,c.FullPaths[G]]}).forEach(function(W){var G=W[0];if(W[1],!!G.name.match(/\.iwa/)){var Y=za(Ha(G.content));Y.forEach(function(ee){ee.messages.forEach(function(ae){u.forEach(function(de){ee.messages.some(function(fe){return Wr(fe.meta[1][0].data)!=11006&&EPe(fe.data,de[1])})&&o[de[0]].deps.push(ee.id)})})})}});for(var f=Vt.find(c,o[1].location),h=za(Ha(f.content)),p,v=0;v<h.length;++v){var g=h[v];g.id==1&&(p=g)}var y=ls(Nn(p.messages[0].data)[1][0].data);for(f=Vt.find(c,o[y].location),h=za(Ha(f.content)),v=0;v<h.length;++v)g=h[v],g.id==y&&(p=g);for(y=ls(Nn(p.messages[0].data)[2][0].data),f=Vt.find(c,o[y].location),h=za(Ha(f.content)),v=0;v<h.length;++v)g=h[v],g.id==y&&(p=g);for(y=ls(Nn(p.messages[0].data)[2][0].data),f=Vt.find(c,o[y].location),h=za(Ha(f.content)),v=0;v<h.length;++v)g=h[v],g.id==y&&(p=g);var b=Nn(p.messages[0].data);{b[6][0].data=Wn(r.e.r+1),b[7][0].data=Wn(r.e.c+1);var _=ls(b[46][0].data),w=Vt.find(c,o[_].location),C=za(Ha(w.content));{for(var S=0;S<C.length&&C[S].id!=_;++S);if(C[S].id!=_)throw"Bad ColumnRowUIDMapArchive";var R=Nn(C[S].messages[0].data);R[1]=[],R[2]=[],R[3]=[];for(var D=0;D<=r.e.c;++D){var N=[];N[1]=N[2]=[{type:0,data:Wn(D+420690)}],R[1].push({type:2,data:zi(N)}),R[2].push({type:0,data:Wn(D)}),R[3].push({type:0,data:Wn(D)})}R[4]=[],R[5]=[],R[6]=[];for(var k=0;k<=r.e.r;++k)N=[],N[1]=N[2]=[{type:0,data:Wn(k+726270)}],R[4].push({type:2,data:zi(N)}),R[5].push({type:0,data:Wn(k)}),R[6].push({type:0,data:Wn(k)});C[S].messages[0].data=zi(R)}w.content=np(tp(C)),w.size=w.content.length,delete b[46];var F=Nn(b[4][0].data);{F[7][0].data=Wn(r.e.r+1);var P=Nn(F[1][0].data),I=ls(P[2][0].data);w=Vt.find(c,o[I].location),C=za(Ha(w.content));{if(C[0].id!=I)throw"Bad HeaderStorageBucket";var U=Nn(C[0].messages[0].data);for(k=0;k<s.length;++k){var O=Nn(U[2][0].data);O[1][0].data=Wn(k),O[4][0].data=Wn(s[k].length),U[2][k]={type:U[2][0].type,data:zi(O)}}C[0].messages[0].data=zi(U)}w.content=np(tp(C)),w.size=w.content.length;var K=ls(F[2][0].data);w=Vt.find(c,o[K].location),C=za(Ha(w.content));{if(C[0].id!=K)throw"Bad HeaderStorageBucket";for(U=Nn(C[0].messages[0].data),D=0;D<=r.e.c;++D)O=Nn(U[2][0].data),O[1][0].data=Wn(D),O[4][0].data=Wn(r.e.r+1),U[2][D]={type:U[2][0].type,data:zi(O)};C[0].messages[0].data=zi(U)}w.content=np(tp(C)),w.size=w.content.length;var X=ls(F[4][0].data);(function(){for(var W=Vt.find(c,o[X].location),G=za(Ha(W.content)),Y,ee=0;ee<G.length;++ee){var ae=G[ee];ae.id==X&&(Y=ae)}var de=Nn(Y.messages[0].data);{de[3]=[];var fe=[];a.forEach(function(me,Le){fe[1]=[{type:0,data:Wn(Le)}],fe[2]=[{type:0,data:Wn(1)}],fe[3]=[{type:2,data:TPe(me)}],de[3].push({type:2,data:zi(fe)})})}Y.messages[0].data=zi(de);var Ae=tp(G),Re=np(Ae);W.content=Re,W.size=W.content.length})();var J=Nn(F[3][0].data);{var ne=J[1][0];delete J[2];var z=Nn(ne.data);{var Q=ls(z[2][0].data);(function(){for(var W=Vt.find(c,o[Q].location),G=za(Ha(W.content)),Y,ee=0;ee<G.length;++ee){var ae=G[ee];ae.id==Q&&(Y=ae)}var de=Nn(Y.messages[0].data);{delete de[6],delete J[7];var fe=new Uint8Array(de[5][0].data);de[5]=[];for(var Ae=0,Re=0;Re<=r.e.r;++Re){var me=Nn(fe);Ae+=OPe(me,s[Re],a),me[1][0].data=Wn(Re),de[5].push({data:zi(me),type:2})}de[1]=[{type:0,data:Wn(r.e.c+1)}],de[2]=[{type:0,data:Wn(r.e.r+1)}],de[3]=[{type:0,data:Wn(Ae)}],de[4]=[{type:0,data:Wn(r.e.r+1)}]}Y.messages[0].data=zi(de);var Le=tp(G),V=np(Le);W.content=V,W.size=W.content.length})()}ne.data=zi(z)}F[3][0].data=zi(J)}b[4][0].data=zi(F)}p.messages[0].data=zi(b);var B=tp(h),j=np(B);return f.content=j,f.size=f.content.length,c}function dJ(t){return function(n){for(var r=0;r!=t.length;++r){var i=t[r];n[i[0]]===void 0&&(n[i[0]]=i[1]),i[2]==="n"&&(n[i[0]]=Number(n[i[0]]))}}}function t6(t){dJ([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function n6(t){dJ([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function jPe(t){return pn.WS.indexOf(t)>-1?"sheet":t==pn.CS?"chart":t==pn.DS?"dialog":t==pn.MS?"macro":t&&t.length?t:"sheet"}function BPe(t,e){if(!t)return 0;try{t=e.map(function(r){return r.id||(r.id=r.strRelID),[r.name,t["!id"][r.id].Target,jPe(t["!id"][r.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function VPe(t,e,n,r,i,s,a,o,l,c,u,f){try{s[r]=Z0(Ta(t,n,!0),e);var h=ci(t,e),p;switch(o){case"sheet":p=c8e(h,e,i,l,s[r],c,u,f);break;case"chart":if(p=u8e(h,e,i,l,s[r],c,u,f),!p||!p["!drawel"])break;var v=C0(p["!drawel"].Target,e),g=Ky(v),y=JIe(Ta(t,v,!0),Z0(Ta(t,g,!0),v)),b=C0(y,v),_=Ky(b);p=O5e(Ta(t,b,!0),b,l,Z0(Ta(t,_,!0),b),c,p);break;case"macro":p=d8e(h,e,i,l,s[r],c,u,f);break;case"dialog":p=f8e(h,e,i,l,s[r],c,u,f);break;default:throw new Error("Unrecognized sheet type "+o)}a[r]=p;var w=[];s&&s[r]&&zr(s[r]).forEach(function(C){var S="";if(s[r][C].Type==pn.CMNT){S=C0(s[r][C].Target,e);var R=g8e(ci(t,S,!0),S,l);if(!R||!R.length)return;BO(p,R,!1)}s[r][C].Type==pn.TCMNT&&(S=C0(s[r][C].Target,e),w=w.concat(QIe(ci(t,S,!0),l)))}),w&&w.length&&BO(p,w,!0,l.people||[])}catch(C){if(l.WTF)throw C}}function Va(t){return t.charAt(0)=="/"?t.slice(1):t}function WPe(t,e){if(eg(),e=e||{},t6(e),Ga(t,"META-INF/manifest.xml")||Ga(t,"objectdata.xml"))return YO(t,e);if(Ga(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof yD<"u"){if(t.FileIndex)return yD(t);var n=Vt.utils.cfb_new();return oO(t).forEach(function(O){on(n,O,ZDe(t,O))}),yD(n)}throw new Error("Unsupported NUMBERS file")}if(!Ga(t,"[Content_Types].xml"))throw Ga(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Ga(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var r=oO(t),i=H4e(Ta(t,"[Content_Types].xml")),s=!1,a,o;if(i.workbooks.length===0&&(o="xl/workbook.xml",ci(t,o,!0)&&i.workbooks.push(o)),i.workbooks.length===0){if(o="xl/workbook.bin",!ci(t,o,!0))throw new Error("Could not find workbook");i.workbooks.push(o),s=!0}i.workbooks[0].slice(-3)=="bin"&&(s=!0);var l={},c={};if(!e.bookSheets&&!e.bookProps){if(ey=[],i.sst)try{ey=m8e(ci(t,Va(i.sst)),i.sst,e)}catch(O){if(e.WTF)throw O}e.cellStyles&&i.themes.length&&(l=p8e(Ta(t,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],e)),i.style&&(c=h8e(ci(t,Va(i.style)),i.style,l,e))}i.links.map(function(O){try{var K=Z0(Ta(t,Ky(Va(O))),O);return v8e(ci(t,Va(O)),K,O,e)}catch{}});var u=l8e(ci(t,Va(i.workbooks[0])),i.workbooks[0],e),f={},h="";i.coreprops.length&&(h=ci(t,Va(i.coreprops[0]),!0),h&&(f=ZK(h)),i.extprops.length!==0&&(h=ci(t,Va(i.extprops[0]),!0),h&&Z4e(h,f,e)));var p={};(!e.bookSheets||e.bookProps)&&i.custprops.length!==0&&(h=Ta(t,Va(i.custprops[0]),!0),h&&(p=tAe(h,e)));var v={};if((e.bookSheets||e.bookProps)&&(u.Sheets?a=u.Sheets.map(function(K){return K.name}):f.Worksheets&&f.SheetNames.length>0&&(a=f.SheetNames),e.bookProps&&(v.Props=f,v.Custprops=p),e.bookSheets&&typeof a<"u"&&(v.SheetNames=a),e.bookSheets?v.SheetNames:e.bookProps))return v;a={};var g={};e.bookDeps&&i.calcchain&&(g=y8e(ci(t,Va(i.calcchain)),i.calcchain));var y=0,b={},_,w;{var C=u.Sheets;f.Worksheets=C.length,f.SheetNames=[];for(var S=0;S!=C.length;++S)f.SheetNames[S]=C[S].name}var R=s?"bin":"xml",D=i.workbooks[0].lastIndexOf("/"),N=(i.workbooks[0].slice(0,D+1)+"_rels/"+i.workbooks[0].slice(D+1)+".rels").replace(/^\//,"");Ga(t,N)||(N="xl/_rels/workbook."+R+".rels");var k=Z0(Ta(t,N,!0),N.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(e.xlmeta=x8e(ci(t,Va(i.metadata[0])),i.metadata[0],e)),(i.people||[]).length>=1&&(e.people=eke(ci(t,Va(i.people[0])),e)),k&&(k=BPe(k,u.Sheets));var F=ci(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(y=0;y!=f.Worksheets;++y){var P="sheet";if(k&&k[y]?(_="xl/"+k[y][1].replace(/[\/]?xl\//,""),Ga(t,_)||(_=k[y][1]),Ga(t,_)||(_=N.replace(/_rels\/.*$/,"")+k[y][1]),P=k[y][2]):(_="xl/worksheets/sheet"+(y+1-F)+"."+R,_=_.replace(/sheet0\./,"sheet.")),w=_.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(y!=e.sheets)continue e;break;case"string":if(f.SheetNames[y].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var I=!1,U=0;U!=e.sheets.length;++U)typeof e.sheets[U]=="number"&&e.sheets[U]==y&&(I=1),typeof e.sheets[U]=="string"&&e.sheets[U].toLowerCase()==f.SheetNames[y].toLowerCase()&&(I=1);if(!I)continue e}}VPe(t,_,w,f.SheetNames[y],y,b,a,P,e,u,l,c)}return v={Directory:i,Workbook:u,Props:f,Custprops:p,Deps:g,Sheets:a,SheetNames:f.SheetNames,Strings:ey,Styles:c,Themes:l,SSF:vr(Ht)},e&&e.bookFiles&&(t.files?(v.keys=r,v.files=t.files):(v.keys=[],v.files={},t.FullPaths.forEach(function(O,K){O=O.replace(/^Root Entry[\/]/,""),v.keys.push(O),v.files[O]=t.FileIndex[K]}))),e&&e.bookVBA&&(i.vba.length>0?v.vbaraw=ci(t,Va(i.vba[0]),!0):i.defaults&&i.defaults.bin===lke&&(v.vbaraw=ci(t,"xl/vbaProject.bin",!0))),v}function qPe(t,e){var n=e||{},r="Workbook",i=Vt.find(t,r);try{if(r="/!DataSpaces/Version",i=Vt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(x3e(i.content),r="/!DataSpaces/DataSpaceMap",i=Vt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var s=b3e(i.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=Vt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var a=w3e(i.content);if(a.length!=1||a[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=Vt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);E3e(i.content)}catch{}if(r="/EncryptionInfo",i=Vt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var o=C3e(i.content);if(r="/EncryptedPackage",i=Vt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],i.content,n.password||"",n);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],i.content,n.password||"",n);throw new Error("File is password-protected")}function $Pe(t,e){return e.bookType=="ods"?uJ(t,e):e.bookType=="numbers"?LPe(t,e):e.bookType=="xlsb"?zPe(t,e):HPe(t,e)}function zPe(t,e){wp=1024,t&&!t.SSF&&(t.SSF=vr(Ht)),t&&t.SSF&&(eg(),Pw(t.SSF),e.revssf=Mw(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,ty?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n=e.bookType=="xlsb"?"bin":"xml",r=LX.indexOf(e.bookType)>-1,i=Vk();n6(e=e||{});var s=Dk(),a="",o=0;if(e.cellXfs=[],od(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),a="docProps/core.xml",on(s,a,eX(t.Props,e)),i.coreprops.push(a),$n(e.rels,2,a,pn.CORE_PROPS),a="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],c=0;c<t.SheetNames.length;++c)(t.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(t.SheetNames[c]);t.Props.SheetNames=l}for(t.Props.Worksheets=t.Props.SheetNames.length,on(s,a,rX(t.Props)),i.extprops.push(a),$n(e.rels,3,a,pn.EXT_PROPS),t.Custprops!==t.Props&&zr(t.Custprops||{}).length>0&&(a="docProps/custom.xml",on(s,a,iX(t.Custprops)),i.custprops.push(a),$n(e.rels,4,a,pn.CUST_PROPS)),o=1;o<=t.SheetNames.length;++o){var u={"!id":{}},f=t.Sheets[t.SheetNames[o-1]],h=(f||{})["!type"]||"sheet";switch(h){case"chart":default:a="xl/worksheets/sheet"+o+"."+n,on(s,a,b8e(o-1,a,e,t,u)),i.sheets.push(a),$n(e.wbrels,-1,"worksheets/sheet"+o+"."+n,pn.WS[0])}if(f){var p=f["!comments"],v=!1,g="";p&&p.length>0&&(g="xl/comments"+o+"."+n,on(s,g,E8e(p,g)),i.comments.push(g),$n(u,-1,"../comments"+o+"."+n,pn.CMNT),v=!0),f["!legacy"]&&v&&on(s,"xl/drawings/vmlDrawing"+o+".vml",UX(o,f["!comments"])),delete f["!comments"],delete f["!legacy"]}u["!id"].rId1&&on(s,Ky(a),Up(u))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+n,on(s,a,T8e(e.Strings,a,e)),i.strs.push(a),$n(e.wbrels,-1,"sharedStrings."+n,pn.SST)),a="xl/workbook."+n,on(s,a,_8e(t,a)),i.workbooks.push(a),$n(e.rels,1,a,pn.WB),a="xl/theme/theme1.xml",on(s,a,Gk(t.Themes,e)),i.themes.push(a),$n(e.wbrels,-1,"theme/theme1.xml",pn.THEME),a="xl/styles."+n,on(s,a,w8e(t,a,e)),i.styles.push(a),$n(e.wbrels,-1,"styles."+n,pn.STY),t.vbaraw&&r&&(a="xl/vbaProject.bin",on(s,a,t.vbaraw),i.vba.push(a),$n(e.wbrels,-1,"vbaProject.bin",pn.VBA)),a="xl/metadata."+n,on(s,a,C8e(a)),i.metadata.push(a),$n(e.wbrels,-1,"metadata."+n,pn.XLMETA),on(s,"[Content_Types].xml",YK(i,e)),on(s,"_rels/.rels",Up(e.rels)),on(s,"xl/_rels/workbook."+n+".rels",Up(e.wbrels)),delete e.revssf,delete e.ssf,s}function HPe(t,e){wp=1024,t&&!t.SSF&&(t.SSF=vr(Ht)),t&&t.SSF&&(eg(),Pw(t.SSF),e.revssf=Mw(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,ty?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n="xml",r=LX.indexOf(e.bookType)>-1,i=Vk();n6(e=e||{});var s=Dk(),a="",o=0;if(e.cellXfs=[],od(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),a="docProps/core.xml",on(s,a,eX(t.Props,e)),i.coreprops.push(a),$n(e.rels,2,a,pn.CORE_PROPS),a="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],c=0;c<t.SheetNames.length;++c)(t.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(t.SheetNames[c]);t.Props.SheetNames=l}t.Props.Worksheets=t.Props.SheetNames.length,on(s,a,rX(t.Props)),i.extprops.push(a),$n(e.rels,3,a,pn.EXT_PROPS),t.Custprops!==t.Props&&zr(t.Custprops||{}).length>0&&(a="docProps/custom.xml",on(s,a,iX(t.Custprops)),i.custprops.push(a),$n(e.rels,4,a,pn.CUST_PROPS));var u=["SheetJ5"];for(e.tcid=0,o=1;o<=t.SheetNames.length;++o){var f={"!id":{}},h=t.Sheets[t.SheetNames[o-1]],p=(h||{})["!type"]||"sheet";switch(p){case"chart":default:a="xl/worksheets/sheet"+o+"."+n,on(s,a,XX(o-1,e,t,f)),i.sheets.push(a),$n(e.wbrels,-1,"worksheets/sheet"+o+"."+n,pn.WS[0])}if(h){var v=h["!comments"],g=!1,y="";if(v&&v.length>0){var b=!1;v.forEach(function(_){_[1].forEach(function(w){w.T==!0&&(b=!0)})}),b&&(y="xl/threadedComments/threadedComment"+o+"."+n,on(s,y,ZIe(v,u,e)),i.threadedcomments.push(y),$n(f,-1,"../threadedComments/threadedComment"+o+"."+n,pn.TCMNT)),y="xl/comments"+o+"."+n,on(s,y,OX(v)),i.comments.push(y),$n(f,-1,"../comments"+o+"."+n,pn.CMNT),g=!0}h["!legacy"]&&g&&on(s,"xl/drawings/vmlDrawing"+o+".vml",UX(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&on(s,Ky(a),Up(f))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+n,on(s,a,EX(e.Strings,e)),i.strs.push(a),$n(e.wbrels,-1,"sharedStrings."+n,pn.SST)),a="xl/workbook."+n,on(s,a,eJ(t)),i.workbooks.push(a),$n(e.rels,1,a,pn.WB),a="xl/theme/theme1.xml",on(s,a,Gk(t.Themes,e)),i.themes.push(a),$n(e.wbrels,-1,"theme/theme1.xml",pn.THEME),a="xl/styles."+n,on(s,a,RX(t,e)),i.styles.push(a),$n(e.wbrels,-1,"styles."+n,pn.STY),t.vbaraw&&r&&(a="xl/vbaProject.bin",on(s,a,t.vbaraw),i.vba.push(a),$n(e.wbrels,-1,"vbaProject.bin",pn.VBA)),a="xl/metadata."+n,on(s,a,MX()),i.metadata.push(a),$n(e.wbrels,-1,"metadata."+n,pn.XLMETA),u.length>1&&(a="xl/persons/person.xml",on(s,a,tke(u)),i.people.push(a),$n(e.wbrels,-1,"persons/person.xml",pn.PEOPLE)),on(s,"[Content_Types].xml",YK(i,e)),on(s,"_rels/.rels",Up(e.rels)),on(s,"xl/_rels/workbook."+n+".rels",Up(e.wbrels)),delete e.revssf,delete e.ssf,s}function r6(t,e){var n="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":n=Ia(t.slice(0,12));break;case"binary":n=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function GPe(t,e){return Vt.find(t,"EncryptedPackage")?qPe(t,e):iJ(t,e)}function KPe(t,e){var n,r=t,i=e||{};return i.type||(i.type=fn&&Buffer.isBuffer(t)?"buffer":"base64"),n=SK(r,i),WPe(n,i)}function fJ(t,e){var n=0;e:for(;n<t.length;)switch(t.charCodeAt(n)){case 10:case 13:case 32:++n;break;case 60:return fN(t.slice(n),e);default:break e}return xm.to_workbook(t,e)}function XPe(t,e){var n="",r=r6(t,e);switch(e.type){case"base64":n=Ia(t);break;case"binary":n=t;break;case"buffer":n=t.toString("binary");break;case"array":n=Mf(t);break;default:throw new Error("Unrecognized type "+e.type)}return r[0]==239&&r[1]==187&&r[2]==191&&(n=Yn(n)),e.type="binary",fJ(n,e)}function JPe(t,e){var n=t;return e.type=="base64"&&(n=Ia(n)),n=Wy.utils.decode(1200,n.slice(2),"str"),e.type="binary",fJ(n,e)}function YPe(t){return t.match(/[^\x00-\x7F]/)?yl(t):t}function vD(t,e,n,r){return r?(n.type="string",xm.to_workbook(t,n)):xm.to_workbook(e,n)}function mN(t,e){wk();var n=e||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return mN(new Uint8Array(t),(n=vr(n),n.type="array",n));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!n.type&&(n.type=typeof Deno<"u"?"buffer":"array");var r=t,i=[0,0,0,0],s=!1;if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),Lp={},n.dateNF&&(Lp.dateNF=n.dateNF),n.type||(n.type=fn&&Buffer.isBuffer(t)?"buffer":"base64"),n.type=="file"&&(n.type=fn?"buffer":"binary",r=zDe(t),typeof Uint8Array<"u"&&!fn&&(n.type="array")),n.type=="string"&&(s=!0,n.type="binary",n.codepage=65001,r=YPe(t)),n.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var a=new ArrayBuffer(3),o=new Uint8Array(a);if(o.foo="bar",!o.foo)return n=vr(n),n.type="array",mN(Tk(r),n)}switch((i=r6(r,n))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return GPe(Vt.read(r,n),n);break;case 9:if(i[1]<=8)return iJ(r,n);break;case 60:return fN(r,n);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return n3e(r,n);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return wX.to_workbook(r,n);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?KPe(r,n):vD(t,r,n,s);case 239:return i[3]===60?fN(r,n):vD(t,r,n,s);case 255:if(i[1]===254)return JPe(r,n);if(i[1]===0&&i[2]===2&&i[3]===0)return df.to_workbook(r,n);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return df.to_workbook(r,n);break;case 3:case 131:case 139:case 140:return dN.to_workbook(r,n);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return NX.to_workbook(r,n);break;case 10:case 13:case 32:return XPe(r,n);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return t3e.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?dN.to_workbook(r,n):vD(t,r,n,s)}function hJ(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return zv(e.file,Vt.write(t,{type:fn?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Vt.write(t,e)}function QPe(t,e){var n=vr(e||{}),r=$Pe(t,n);return ZPe(r,n)}function ZPe(t,e){var n={},r=fn?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(n.compression="DEFLATE"),e.password)n.type=r;else switch(e.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":n.type=r;break;default:throw new Error("Unrecognized type "+e.type)}var i=t.FullPaths?Vt.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!e.compression}):t.generate(n);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(Rw(i))}return e.password&&typeof encrypt_agile<"u"?hJ(encrypt_agile(i,e.password),e):e.type==="file"?zv(e.file,i):e.type=="string"?Yn(i):i}function eFe(t,e){var n=e||{},r=Y8e(t,n);return hJ(r,n)}function sl(t,e,n){n||(n="");var r=n+t;switch(e.type){case"base64":return qy(yl(r));case"binary":return yl(r);case"string":return t;case"file":return zv(e.file,r,"utf8");case"buffer":return fn?Nc(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):sl(r,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function tFe(t,e){switch(e.type){case"base64":return qy(t);case"binary":return t;case"string":return t;case"file":return zv(e.file,t,"binary");case"buffer":return fn?Nc(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Wx(t,e){switch(e.type){case"string":case"base64":case"binary":for(var n="",r=0;r<t.length;++r)n+=String.fromCharCode(t[r]);return e.type=="base64"?qy(n):e.type=="string"?Yn(n):n;case"file":return zv(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function pJ(t,e){wk(),G5e(t);var n=vr(e||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),n.type=="array"){n.type="binary";var r=pJ(t,n);return n.type="array",Rw(r)}var i=0;if(n.sheet&&(typeof n.sheet=="number"?i=n.sheet:i=t.SheetNames.indexOf(n.sheet),!t.SheetNames[i]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return sl($8e(t,n),n);case"slk":case"sylk":return sl(bX.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"htm":case"html":return sl(aJ(t.Sheets[t.SheetNames[i]],n),n);case"txt":return tFe(mJ(t.Sheets[t.SheetNames[i]],n),n);case"csv":return sl(i6(t.Sheets[t.SheetNames[i]],n),n,"\uFEFF");case"dif":return sl(wX.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"dbf":return Wx(dN.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"prn":return sl(xm.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"rtf":return sl(NX.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"eth":return sl(TX.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"fods":return sl(uJ(t,n),n);case"wk1":return Wx(df.sheet_to_wk1(t.Sheets[t.SheetNames[i]],n),n);case"wk3":return Wx(df.book_to_wk3(t,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),Wx(sJ(t,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),eFe(t,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return QPe(t,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function nFe(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},n=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();n.match(/^\.[a-z]+$/)&&(t.bookType=n.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function rFe(t,e,n){var r={};return r.type="file",r.file=e,nFe(r),pJ(t,r)}function iFe(t,e,n,r,i,s,a,o){var l=ti(n),c=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,h=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:n,enumerable:!1})}catch{h.__rowNum__=n}else h.__rowNum__=n;if(!a||t[n])for(var p=e.s.c;p<=e.e.c;++p){var v=a?t[n][p]:t[r[p]+l];if(v===void 0||v.t===void 0){if(c===void 0)continue;s[p]!=null&&(h[s[p]]=c);continue}var g=v.v;switch(v.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+v.t)}if(s[p]!=null){if(g==null)if(v.t=="e"&&g===null)h[s[p]]=null;else if(c!==void 0)h[s[p]]=c;else if(u&&g===null)h[s[p]]=null;else continue;else h[s[p]]=u&&(v.t!=="n"||v.t==="n"&&o.rawNumbers!==!1)?g:vc(v,g,o);g!=null&&(f=!1)}}return{row:h,isempty:f}}function eb(t,e){if(t==null||t["!ref"]==null)return[];var n={t:"n",v:0},r=0,i=1,s=[],a=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=e||{},u=c.range!=null?c.range:t["!ref"];switch(c.header===1?r=1:c.header==="A"?r=2:Array.isArray(c.header)?r=3:c.header==null&&(r=0),typeof u){case"string":l=Sn(u);break;case"number":l=Sn(t["!ref"]),l.s.r=u;break;default:l=u}r>0&&(i=0);var f=ti(l.s.r),h=[],p=[],v=0,g=0,y=Array.isArray(t),b=l.s.r,_=0,w={};y&&!t[b]&&(t[b]=[]);var C=c.skipHidden&&t["!cols"]||[],S=c.skipHidden&&t["!rows"]||[];for(_=l.s.c;_<=l.e.c;++_)if(!(C[_]||{}).hidden)switch(h[_]=Pr(_),n=y?t[b][_]:t[h[_]+f],r){case 1:s[_]=_-l.s.c;break;case 2:s[_]=h[_];break;case 3:s[_]=c.header[_-l.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),o=a=vc(n,null,c),g=w[a]||0,!g)w[a]=1;else{do o=a+"_"+g++;while(w[o]);w[a]=g,w[o]=1}s[_]=o}for(b=l.s.r+i;b<=l.e.r;++b)if(!(S[b]||{}).hidden){var R=iFe(t,l,b,h,r,s,y,c);(R.isempty===!1||(r===1?c.blankrows!==!1:c.blankrows))&&(p[v++]=R.row)}return p.length=v,p}var nL=/"/g;function sFe(t,e,n,r,i,s,a,o){for(var l=!0,c=[],u="",f=ti(n),h=e.s.c;h<=e.e.c;++h)if(r[h]){var p=o.dense?(t[n]||[])[h]:t[r[h]+f];if(p==null)u="";else if(p.v!=null){l=!1,u=""+(o.rawNumbers&&p.t=="n"?p.v:vc(p,null,o));for(var v=0,g=0;v!==u.length;++v)if((g=u.charCodeAt(v))===i||g===s||g===34||o.forceQuotes){u='"'+u.replace(nL,'""')+'"';break}u=="ID"&&(u='"ID"')}else p.f!=null&&!p.F?(l=!1,u="="+p.f,u.indexOf(",")>=0&&(u='"'+u.replace(nL,'""')+'"')):u="";c.push(u)}return o.blankrows===!1&&l?null:c.join(a)}function i6(t,e){var n=[],r=e??{};if(t==null||t["!ref"]==null)return"";var i=Sn(t["!ref"]),s=r.FS!==void 0?r.FS:",",a=s.charCodeAt(0),o=r.RS!==void 0?r.RS:`
`,l=o.charCodeAt(0),c=new RegExp((s=="|"?"\\|":s)+"+$"),u="",f=[];r.dense=Array.isArray(t);for(var h=r.skipHidden&&t["!cols"]||[],p=r.skipHidden&&t["!rows"]||[],v=i.s.c;v<=i.e.c;++v)(h[v]||{}).hidden||(f[v]=Pr(v));for(var g=0,y=i.s.r;y<=i.e.r;++y)(p[y]||{}).hidden||(u=sFe(t,i,y,f,a,l,s,r),u!=null&&(r.strip&&(u=u.replace(c,"")),(u||r.blankrows!==!1)&&n.push((g++?o:"")+u)));return delete r.dense,n.join("")}function mJ(t,e){e||(e={}),e.FS="	",e.RS=`
`;var n=i6(t,e);return n}function aFe(t){var e="",n,r="";if(t==null||t["!ref"]==null)return[];var i=Sn(t["!ref"]),s="",a=[],o,l=[],c=Array.isArray(t);for(o=i.s.c;o<=i.e.c;++o)a[o]=Pr(o);for(var u=i.s.r;u<=i.e.r;++u)for(s=ti(u),o=i.s.c;o<=i.e.c;++o)if(e=a[o]+s,n=c?(t[u]||[])[o]:t[e],r="",n!==void 0){if(n.F!=null){if(e=n.F,!n.f)continue;r=n.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}l[l.length]=e+"="+r}return l}function gJ(t,e,n){var r=n||{},i=+!r.skipHeader,s=t||{},a=0,o=0;if(s&&r.origin!=null)if(typeof r.origin=="number")a=r.origin;else{var l=typeof r.origin=="string"?Fr(r.origin):r.origin;a=l.r,o=l.c}var c,u={s:{c:0,r:0},e:{c:o,r:a+e.length-1+i}};if(s["!ref"]){var f=Sn(s["!ref"]);u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),a==-1&&(a=f.e.r+1,u.e.r=a+e.length-1+i)}else a==-1&&(a=0,u.e.r=e.length-1+i);var h=r.header||[],p=0;e.forEach(function(g,y){zr(g).forEach(function(b){(p=h.indexOf(b))==-1&&(h[p=h.length]=b);var _=g[b],w="z",C="",S=Xt({c:o+p,r:a+y+i});c=tv(s,S),_&&typeof _=="object"&&!(_ instanceof Date)?s[S]=_:(typeof _=="number"?w="n":typeof _=="boolean"?w="b":typeof _=="string"?w="s":_ instanceof Date?(w="d",r.cellDates||(w="n",_=_i(_)),C=r.dateNF||Ht[14]):_===null&&r.nullError&&(w="e",_=0),c?(c.t=w,c.v=_,delete c.w,delete c.R,C&&(c.z=C)):s[S]=c={t:w,v:_},C&&(c.z=C))})}),u.e.c=Math.max(u.e.c,o+h.length-1);var v=ti(a);if(i)for(p=0;p<h.length;++p)s[Pr(p+o)+v]={t:"s",v:h[p]};return s["!ref"]=an(u),s}function oFe(t,e){return gJ(null,t,e)}function tv(t,e,n){if(typeof e=="string"){if(Array.isArray(t)){var r=Fr(e);return t[r.r]||(t[r.r]=[]),t[r.r][r.c]||(t[r.r][r.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?tv(t,Xt(e)):tv(t,Xt({r:e,c:n||0}))}function lFe(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var n=t.SheetNames.indexOf(e);if(n>-1)return n;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function s6(){return{SheetNames:[],Sheets:{}}}function a6(t,e,n,r){var i=1;if(!n)for(;i<=65535&&t.SheetNames.indexOf(n="Sheet"+i)!=-1;++i,n=void 0);if(!n||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&t.SheetNames.indexOf(n)>=0){var s=n.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var a=s&&s[1]||n;for(++i;i<=65535&&t.SheetNames.indexOf(n=a+i)!=-1;++i);}if(ZX(n),t.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return t.SheetNames.push(n),t.Sheets[n]=e,n}function cFe(t,e,n){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var r=lFe(t,e);switch(t.Workbook.Sheets[r]||(t.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}t.Workbook.Sheets[r].Hidden=n}function uFe(t,e){return t.z=e,t}function yJ(t,e,n){return e?(t.l={Target:e},n&&(t.l.Tooltip=n)):delete t.l,t}function dFe(t,e,n){return yJ(t,"#"+e,n)}function fFe(t,e,n){t.c||(t.c=[]),t.c.push({t:e,a:n||"SheetJS"})}function hFe(t,e,n,r){for(var i=typeof e!="string"?e:Sn(e),s=typeof e=="string"?e:an(e),a=i.s.r;a<=i.e.r;++a)for(var o=i.s.c;o<=i.e.c;++o){var l=tv(t,a,o);l.t="n",l.F=s,delete l.v,a==i.s.r&&o==i.s.c&&(l.f=n,r&&(l.D=!0))}return t}var qx={encode_col:Pr,encode_row:ti,encode_cell:Xt,encode_range:an,decode_col:Mk,decode_row:Fk,split_cell:T4e,decode_cell:Fr,decode_range:ia,format_cell:vc,sheet_add_aoa:$K,sheet_add_json:gJ,sheet_add_dom:oJ,aoa_to_sheet:tg,json_to_sheet:oFe,table_to_sheet:lJ,table_to_book:xPe,sheet_to_csv:i6,sheet_to_txt:mJ,sheet_to_json:eb,sheet_to_html:aJ,sheet_to_formulae:aFe,sheet_to_row_object_array:eb,sheet_get_cell:tv,book_new:s6,book_append_sheet:a6,book_set_sheet_visibility:cFe,cell_set_number_format:uFe,cell_set_hyperlink:yJ,cell_set_internal_link:dFe,cell_add_comment:fFe,sheet_set_array_formula:hFe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function o6(t,e){return t.indexOf(e)!==-1}function rp(t,e,n){const r=n[e];if(!r)return null;for(const i of Object.keys(r)){const s=r[i];for(const a of s)if(o6(t,String(a)))return i}return null}function pFe(t,e,n){const r=n[e];if(!r)return[];const i=[];for(const s of Object.keys(r)){const a=r[s];for(const o of a)if(o6(t,String(o))){i.push(s);break}}return i}function mFe(t){if(!t)return t;let e=t.trim();return e=e.replace(/\s+/g," "),e=e.replace(/(^|\s)(?=[\u0600-\u06FF])/g,"$1"),e.toLowerCase()}function gFe(t,e){let n=t.trim(),r="string";return!isNaN(Number(n))&&n!==""?(n=parseFloat(n),r="number"):(n.toLowerCase()===""||n.toLowerCase()==="")&&(n=n.toLowerCase()==="",r="boolean"),{value:n,valueType:r}}function yFe(t,e,n={}){const r=t;let i=mFe(r);const s={intent:null,target:null,movement:null,index:null,startIndex:null,endIndex:null,position:null,color:null,conditions:[],references:[],useReference:!1,isNegated:!1,raw:r};for(const u of e.negationWords||[])if(o6(i,u)){s.isNegated=!0,i=i.replace(u,"");break}s.intent=rp(i,"intents",e),s.target=rp(i,"targets",e),s.position=rp(i,"positions",e),s.color=rp(i,"colors",e),s.movement=rp(i,"movements",e);const a=pFe(i,"numbers",e).map(u=>isNaN(Number(u))?u:parseInt(String(u),10)),o=(i.match(/\b(\d+)\b/g)||[]).map(Number),l=[...new Set([...a,...o])].filter(u=>u!==null).map(Number);l.length>0&&(rp(i,"rangeWords",e)&&l.length>=2?(s.startIndex=Math.min(...l),s.endIndex=Math.max(...l)):s.index=l[0]);const c=e.conditions;for(const u of Object.keys(c)){const f=c[u];for(const h of f){const p=i.indexOf(h);if(p!==-1){const g=r.slice(p+h.length).trim().match(/^(.+?)(?:\s+(?:|)\s+|$)/i);if(g){const{value:y,valueType:b}=gFe(g[1].trim());s.conditions.push({type:u,value:y,valueType:b,isNegated:s.isNegated})}s.isNegated=!1}}}return s}function vFe(t){return t.split(/\s+(?:|)\s+/i).map(e=>e.trim()).filter(Boolean)}function xFe(t,e){const n=t.trim(),r=vFe(n),i={lastResult:null,lastColumn:null,lastSearch:null,lastSelection:null,lastTarget:null,lastIndex:null,history:[]},s=[];for(const a of r){const o=yFe(a,e,i);!o||!o.intent||s.push(o)}return{actions:s,context:i}}const _Fe=({onClose:t,onCreate:e})=>{const[n,r]=q.useState(20),[i,s]=q.useState(10),[a,o]=q.useState("new_sheet.xlsx"),l=()=>{n>0&&i>0&&a.trim()&&e(n,i,a.trim())};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",onClick:t,children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",onClick:c=>c.stopPropagation(),children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-xl font-bold",children:"   "})}),d.jsxs("div",{className:"p-6 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"sheet-name",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",id:"sheet-name",value:a,onChange:c=>o(c.target.value),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]}),d.jsxs("div",{className:"flex gap-4",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{htmlFor:"sheet-rows",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"number",id:"sheet-rows",value:n,onChange:c=>r(Math.max(1,parseInt(c.target.value,10)||1)),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]}),d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{htmlFor:"sheet-cols",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"number",id:"sheet-cols",value:i,onChange:c=>s(Math.max(1,parseInt(c.target.value,10)||1)),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:t,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"button",onClick:l,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:""})]})]})})},bFe=()=>{const{excelCommands:t}=nn(),[e,n]=q.useState([]),[r,i]=q.useState([]),[s,a]=q.useState([]),[o,l]=q.useState(""),[c,u]=q.useState(new Set),[f,h]=q.useState(new Set),[p,v]=q.useState(new Set),[g,y]=q.useState(null),[b,_]=q.useState({}),[w,C]=q.useState(""),[S,R]=q.useState(!1),[D,N]=q.useState(""),[k,F]=q.useState(!1),[P,I]=q.useState(!1),U=q.useRef(null),O=q.useRef(!1),K=q.useRef(s),X=q.useRef(r),J=q.useRef({selectedRows:c,selectedCols:f,selectedCells:p}),ne=q.useRef({setCurrentData:a,setHeaders:i,setCellStyles:_,setSelectedRows:u,setSelectedCols:h,setSelectedCells:v});q.useEffect(()=>{K.current=s,X.current=r,J.current={selectedRows:c,selectedCols:f,selectedCells:p},ne.current={setCurrentData:a,setHeaders:i,setCellStyles:_,setSelectedRows:u,setSelectedCols:h,setSelectedCells:v}});const z=window.SpeechRecognition||window.webkitSpeechRecognition,Q=!!z,B=q.useCallback(re=>{if(!re.length)return!1;let oe=!1,he=[...X.current],we=K.current.map(ce=>[...ce]);({...ne.current.setCellStyles});const ie=J.current.selectedRows.size>0?"rows":J.current.selectedCols.size>0?"columns":J.current.selectedCells.size>0?"cells":"none";for(const ce of re)switch(ce.intent){case"color":if(ce.color){const ye={backgroundColor:ce.color};["white","yellow","pink"].includes(ce.color)&&(ye.color="#333"),["black","blue","purple","green","red"].includes(ce.color)&&(ye.color="#fff"),ne.current.setCellStyles(Ne=>{const Ue={...Ne},Se=(Me,Oe)=>{Ue[`${Me}:${Oe}`]={...Ue[`${Me}:${Oe}`]||{},...ye}};return ie==="cells"?J.current.selectedCells.forEach(Me=>{const[Oe,Xe]=Me.split(":").map(Number);Se(Oe,Xe)}):ie==="rows"?J.current.selectedRows.forEach(Me=>X.current.forEach((Oe,Xe)=>Se(Number(Me),Xe))):ie==="columns"&&J.current.selectedCols.forEach(Me=>K.current.forEach((Oe,Xe)=>Se(Xe,Number(Me)))),Ue}),oe=!0}break;case"move":if(ce.movement&&ie==="columns"&&J.current.selectedCols.size===1){const ye=Number(Array.from(J.current.selectedCols)[0]),Ne=ce.movement==="right"?ye+1:ye-1;Ne>=0&&Ne<he.length&&([he[ye],he[Ne]]=[he[Ne],he[ye]],we.forEach(Ue=>{[Ue[ye],Ue[Ne]]=[Ue[Ne],Ue[ye]]}),ne.current.setSelectedCols(new Set([Ne])),oe=!0)}break;case"delete":case"clear":const ge=ce.intent==="delete";if(ie==="rows")Array.from(J.current.selectedRows).sort((Ne,Ue)=>Number(Ue)-Number(Ne)).forEach(Ne=>we.splice(Number(Ne),1)),ne.current.setSelectedRows(new Set),oe=!0;else if(ie==="columns"){const ye=Array.from(J.current.selectedCols).sort((Ne,Ue)=>Number(Ue)-Number(Ne));ge&&ye.forEach(Ne=>he.splice(Number(Ne),1)),we.forEach(Ne=>{ye.forEach(Ue=>ge?Ne.splice(Number(Ue),1):Ne[Number(Ue)]="")}),ne.current.setSelectedCols(new Set),oe=!0}else ie==="cells"&&(J.current.selectedCells.forEach(ye=>{const[Ne,Ue]=ye.split(":").map(Number);we[Ne][Ue]=""}),oe=!0);break;case"sum":if(ie==="columns"&&J.current.selectedCols.size===1){const ye=Number(Array.from(J.current.selectedCols)[0]),Ne=we.reduce((Me,Oe)=>Me+(Number(Oe[ye])||0),0),Ue=we.findIndex(Me=>!Me[ye]),Se=Ue!==-1?Ue:we.length;Se===we.length&&we.push(Array(he.length).fill("")),we[Se][ye]=Ne,oe=!0}break}return oe&&(ne.current.setHeaders(he),ne.current.setCurrentData(we),ne.current.setSelectedRows(new Set),ne.current.setSelectedCols(new Set),ne.current.setSelectedCells(new Set)),oe},[]);q.useEffect(()=>{if(!Q)return;U.current=new z;const re=U.current;return re.continuous=!0,re.interimResults=!1,re.lang="ar-SA",re.onstart=()=>F(!0),re.onend=()=>{if(O.current){console.log("Excel Studio: Speech recognition ended, attempting restart.");try{re.start()}catch(oe){console.error("Excel Studio: Could not restart recognition",oe),O.current=!1,F(!1)}}else F(!1)},re.onerror=oe=>{N(`   : ${oe.error}`),O.current=!1,F(!1)},re.onresult=oe=>{let he="";for(let ie=oe.resultIndex;ie<oe.results.length;++ie)oe.results[ie].isFinal&&(he+=oe.results[ie][0].transcript);const we=he.trim();if(we&&t){const{actions:ie}=xFe(we,t);B(ie)||C(ge=>(ge?ge+" ":"")+we)}else we&&C(ie=>(ie?ie+" ":"")+we)},()=>{U.current&&(O.current=!1,U.current.abort())}},[Q,t,B]);const j=()=>{const re=U.current;re&&(k?(O.current=!1,re.stop()):(N(""),O.current=!0,re.start()))},W=q.useMemo(()=>c.size>0?"rows":f.size>0?"columns":p.size>0?"cells":"none",[c,f,p]),G=q.useMemo(()=>{const re=new Map;return W==="cells"&&Array.from(p).forEach((oe,he)=>{re.set(oe,he+1)}),re},[p,W]),Y=re=>{var we;const oe=(we=re.target.files)==null?void 0:we[0];if(!oe)return;l(oe.name);const he=new FileReader;he.onload=ie=>{var ce;try{const ge=new Uint8Array((ce=ie.target)==null?void 0:ce.result),ye=mN(ge,{type:"array"}),Ne=ye.SheetNames[0],Ue=ye.Sheets[Ne],Se=qx.sheet_to_json(Ue,{header:1});if(Se.length>0){const Me=Se[0].map(Xe=>String(Xe)),Oe=Se.slice(1).map(Xe=>{const rt=Array(Me.length).fill("");return Xe.forEach((it,Lt)=>{Lt<rt.length&&(rt[Lt]=it)}),rt});i(Me),n(JSON.parse(JSON.stringify(Oe))),a(Oe),de()}else N("    .")}catch(ge){console.error(ge),ge instanceof Error?N(`    Excel: ${ge.message}`):N("    Excel.      .")}},he.readAsArrayBuffer(oe)},ee=(re,oe,he)=>{const we=Array.from({length:oe},(ce,ge)=>String.fromCharCode(65+ge)),ie=Array.from({length:re},()=>Array(oe).fill(""));i(we),a(ie),n(JSON.parse(JSON.stringify(ie))),l(he),de(),I(!1)},ae=()=>{a(JSON.parse(JSON.stringify(e))),_({}),de()},de=()=>{u(new Set),h(new Set),v(new Set),y(null),C(""),N("")},fe=re=>{h(new Set),v(new Set),y(null),u(oe=>{const he=new Set(oe);return he.has(re)?he.delete(re):he.add(re),he})},Ae=re=>{u(new Set),v(new Set),y(null),h(oe=>{const he=new Set(oe);return he.has(re)?he.delete(re):he.add(re),he})},Re=(re,oe,he)=>{u(new Set),h(new Set),y(null);const we=`${re}:${oe}`;v(ie=>{const ce=he?new Set(ie):new Set;return ce.has(we)&&he?ce.delete(we):ce.add(we),ce})},me=(re,oe)=>{y({rowIndex:re,colIndex:oe}),u(new Set),h(new Set),v(new Set)},Le=(re,oe,he)=>{const we=JSON.parse(JSON.stringify(s));we[oe][he]=re.target.value,a(we)},V=()=>{y(null)},xe=re=>{if(!g)return;const{rowIndex:oe,colIndex:he}=g;if(re.key==="Enter")re.preventDefault(),oe<s.length-1?y({rowIndex:oe+1,colIndex:he}):y(null);else if(re.key==="Escape")y(null);else if(re.key==="Tab"){re.preventDefault();const we=re.shiftKey?he-1:he+1;we>=0&&we<r.length?y({rowIndex:oe,colIndex:we}):!re.shiftKey&&oe<s.length-1?y({rowIndex:oe+1,colIndex:0}):y(null)}},Te=async()=>{if(W==="none"){N("         .");return}if(!w.trim()){N("    .");return}N(""),R(!0);try{const re=[];W==="cells"?Array.from(p).forEach((ge,ye)=>{const[Ne,Ue]=ge.split(":").map(Number);re.push({value:String(s[Ne][Ue]),rowIndex:Ne,colIndex:Ue,header:r[Ue],cellNumber:ye+1})}):W==="rows"?Array.from(c).forEach(ge=>r.forEach((ye,Ne)=>re.push({value:String(s[Number(ge)][Ne]),rowIndex:Number(ge),colIndex:Ne,header:ye}))):W==="columns"&&Array.from(f).forEach(ge=>s.forEach((ye,Ne)=>re.push({value:String(ye[Number(ge)]),rowIndex:Ne,colIndex:Number(ge),header:r[Number(ge)]})));const we=(await _ge(w,re,W==="cells"?"Each selected cell is assigned a unique number (cellNumber). The user might refer to these cells by their number.":"The user has selected entire rows or columns.")).modifications;if(!Array.isArray(we))throw new Error("AI response format is incorrect.");let ie=JSON.parse(JSON.stringify(s)),ce=JSON.parse(JSON.stringify(b));we.forEach(ge=>{const{rowIndex:ye,colIndex:Ne,newValue:Ue,backgroundColor:Se}=ge;typeof ye=="number"&&typeof Ne=="number"&&(Ue!==void 0&&(ie[Number(ye)][Number(Ne)]=Ue),Se&&(ce[`${ye}:${Ne}`]={...ce[`${ye}:${Ne}`],backgroundColor:Se}))}),a(ie),_(ce),de()}catch(re){re instanceof Error?N(re.message):N("     .")}finally{R(!1)}},le=()=>{const re=qx.aoa_to_sheet([r,...s]),oe=qx.book_new();qx.book_append_sheet(oe,re,"Sheet1"),rFe(oe,`modified_${o||"data.xlsx"}`)};return s.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-6 text-center",children:[P&&d.jsx(_Fe,{onClose:()=>I(!1),onCreate:ee}),d.jsx(kH,{className:"text-6xl text-gray-300 mb-4"}),d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"  "}),d.jsx("p",{className:"text-gray-600 mb-6",children:"        Excel    ."}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[d.jsxs("label",{className:"bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition-colors cursor-pointer flex items-center justify-center gap-2",children:[d.jsx(Nl,{}),d.jsx("span",{children:" "}),d.jsx("input",{type:"file",accept:".xlsx, .xls",onChange:Y,className:"hidden"})]}),d.jsxs("button",{onClick:()=>I(!0),className:"bg-blue-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[d.jsx(ic,{}),d.jsx("span",{children:"   "})]})]}),D&&d.jsx("p",{className:"text-red-500 mt-4",children:D})]}):d.jsxs("div",{className:"flex flex-col h-full p-6",children:[d.jsxs("header",{className:"flex-shrink-0 flex flex-col sm:flex-row justify-between items-center mb-4 gap-4",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800 truncate",title:o,children:o}),d.jsx("button",{type:"button",onClick:j,disabled:!Q,className:`p-3 rounded-full transition-colors ${Q?k?"bg-red-500 text-white animate-pulse":"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,title:"  ",children:k?d.jsx(yc,{}):d.jsx(nk,{})})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("button",{onClick:ae,className:"flex items-center gap-2 bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300",children:[d.jsx(tge,{}),d.jsx("span",{children:" "})]}),d.jsxs("button",{onClick:le,className:"flex items-center gap-2 bg-green-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-green-700",children:[d.jsx(Io,{}),d.jsx("span",{children:""})]})]})]}),d.jsxs("div",{className:"bg-blue-50 border border-blue-200 text-blue-800 p-3 rounded-md mb-4 flex items-start gap-3 text-sm",children:[d.jsx(Kme,{className:"flex-shrink-0 mt-1"}),d.jsxs("div",{children:[d.jsx("strong",{children:" :"}),d.jsxs("ol",{className:"list-decimal list-inside",children:[d.jsx("li",{children:"** :**      ."}),d.jsx("li",{children:'**  :**         (: "  1 ").'}),d.jsx("li",{children:'** :**       ""   .'})]})]})]}),d.jsx("div",{className:"flex-grow overflow-auto border rounded-lg",children:d.jsxs("table",{className:"w-full text-sm text-right border-collapse",children:[d.jsx("thead",{className:"sticky top-0 bg-gray-100 z-10",children:d.jsxs("tr",{children:[d.jsx("th",{className:"sticky right-0 bg-gray-100 border-b border-gray-300 p-2 min-w-[50px]",children:"#"}),r.map((re,oe)=>d.jsx("th",{onClick:()=>Ae(oe),className:`p-2 border-b border-l border-gray-300 font-semibold cursor-pointer whitespace-nowrap ${f.has(oe)?"bg-green-200":"hover:bg-gray-200"}`,children:re||String.fromCharCode(65+oe)},oe))]})}),d.jsx("tbody",{children:s.map((re,oe)=>d.jsxs("tr",{className:`${c.has(oe)?"bg-green-100":""}`,children:[d.jsx("td",{onClick:()=>fe(oe),className:"sticky right-0 p-2 border-b border-l border-gray-300 font-mono text-center cursor-pointer bg-gray-50 hover:bg-gray-200",children:oe+1}),re.map((he,we)=>{const ie=(g==null?void 0:g.rowIndex)===oe&&(g==null?void 0:g.colIndex)===we,ce=`${oe}:${we}`,ge=b[ce]||{},ye=p.has(ce);let Ne="border-b border-l border-gray-300 text-black relative";return ie?Ne+=" p-0":(Ne+=" p-2 whitespace-nowrap truncate max-w-xs cursor-pointer",ye?Ne+=" bg-green-200":(c.has(oe)||f.has(we))&&(Ne+=" bg-green-100")),d.jsx("td",{style:ge,className:Ne,title:ie?void 0:he,onClick:Ue=>!ie&&Re(oe,we,Ue.ctrlKey||Ue.metaKey),onDoubleClick:()=>me(oe,we),children:ie?d.jsx("div",{className:"relative w-full h-full",children:d.jsx("input",{type:"text",value:he||"",onChange:Ue=>Le(Ue,oe,we),onBlur:V,onKeyDown:xe,autoFocus:!0,className:"w-full h-full p-2 box-border border-2 border-blue-500 outline-none rounded-sm bg-white text-black"})}):d.jsxs(d.Fragment,{children:[ye&&d.jsx("span",{className:"absolute top-0 right-0 text-xs bg-blue-500 text-white rounded-bl-md px-1 py-0.5 pointer-events-none z-20",children:G.get(ce)}),he]})},we)})]},oe))})]})}),d.jsx("footer",{className:"flex-shrink-0 mt-4 p-4 bg-white rounded-lg shadow-md border",children:d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[d.jsx("div",{className:"relative flex-grow",children:d.jsx("textarea",{value:w,onChange:re=>C(re.target.value),placeholder:"      ...",className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 resize-none bg-gray-800 text-white placeholder-gray-400 border-gray-600",rows:2,disabled:S})}),d.jsxs("button",{onClick:Te,disabled:S||W==="none",className:"flex items-center justify-center gap-2 bg-blue-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:[S?d.jsx(Ct,{className:"animate-spin"}):d.jsx(na,{}),d.jsx("span",{children:S?" ...":"  "})]})]}),D&&d.jsx("p",{className:"text-red-500 text-sm mt-2 text-center",children:D})]})})]})};var Wa={},l6="1.13.7",rL=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},Vw=Array.prototype,c6=Object.prototype,iL=typeof Symbol<"u"?Symbol.prototype:null,wFe=Vw.push,Zv=Vw.slice,nv=c6.toString,TFe=c6.hasOwnProperty,vJ=typeof ArrayBuffer<"u",EFe=typeof DataView<"u",CFe=Array.isArray,sL=Object.keys,aL=Object.create,oL=vJ&&ArrayBuffer.isView,SFe=isNaN,DFe=isFinite,xJ=!{toString:null}.propertyIsEnumerable("toString"),lL=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],AFe=Math.pow(2,53)-1;function js(t,e){return e=e==null?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var s=Array(e+1);for(i=0;i<e;i++)s[i]=arguments[i];return s[e]=r,t.apply(this,s)}}function ld(t){var e=typeof t;return e==="function"||e==="object"&&!!t}function _J(t){return t===null}function u6(t){return t===void 0}function d6(t){return t===!0||t===!1||nv.call(t)==="[object Boolean]"}function bJ(t){return!!(t&&t.nodeType===1)}function Ts(t){var e="[object "+t+"]";return function(n){return nv.call(n)===e}}const Ww=Ts("String"),f6=Ts("Number"),wJ=Ts("Date"),TJ=Ts("RegExp"),EJ=Ts("Error"),h6=Ts("Symbol"),p6=Ts("ArrayBuffer");var CJ=Ts("Function"),NFe=rL.document&&rL.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof NFe!="function"&&(CJ=function(t){return typeof t=="function"||!1});const _s=CJ,SJ=Ts("Object");var DJ=EFe&&(!/\[native code\]/.test(String(DataView))||SJ(new DataView(new ArrayBuffer(8)))),m6=typeof Map<"u"&&SJ(new Map),IFe=Ts("DataView");function kFe(t){return t!=null&&_s(t.getInt8)&&p6(t.buffer)}const rv=DJ?kFe:IFe,cd=CFe||Ts("Array");function ud(t,e){return t!=null&&TFe.call(t,e)}var gN=Ts("Arguments");(function(){gN(arguments)||(gN=function(t){return ud(t,"callee")})})();const qw=gN;function AJ(t){return!h6(t)&&DFe(t)&&!isNaN(parseFloat(t))}function g6(t){return f6(t)&&SFe(t)}function y6(t){return function(){return t}}function NJ(t){return function(e){var n=t(e);return typeof n=="number"&&n>=0&&n<=AFe}}function IJ(t){return function(e){return e==null?void 0:e[t]}}const tb=IJ("byteLength"),RFe=NJ(tb);var PFe=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function FFe(t){return oL?oL(t)&&!rv(t):RFe(t)&&PFe.test(nv.call(t))}const v6=vJ?FFe:y6(!1),sa=IJ("length");function MFe(t){for(var e={},n=t.length,r=0;r<n;++r)e[t[r]]=!0;return{contains:function(i){return e[i]===!0},push:function(i){return e[i]=!0,t.push(i)}}}function kJ(t,e){e=MFe(e);var n=lL.length,r=t.constructor,i=_s(r)&&r.prototype||c6,s="constructor";for(ud(t,s)&&!e.contains(s)&&e.push(s);n--;)s=lL[n],s in t&&t[s]!==i[s]&&!e.contains(s)&&e.push(s)}function bi(t){if(!ld(t))return[];if(sL)return sL(t);var e=[];for(var n in t)ud(t,n)&&e.push(n);return xJ&&kJ(t,e),e}function RJ(t){if(t==null)return!0;var e=sa(t);return typeof e=="number"&&(cd(t)||Ww(t)||qw(t))?e===0:sa(bi(t))===0}function x6(t,e){var n=bi(e),r=n.length;if(t==null)return!r;for(var i=Object(t),s=0;s<r;s++){var a=n[s];if(e[a]!==i[a]||!(a in i))return!1}return!0}function Un(t){if(t instanceof Un)return t;if(!(this instanceof Un))return new Un(t);this._wrapped=t}Un.VERSION=l6;Un.prototype.value=function(){return this._wrapped};Un.prototype.valueOf=Un.prototype.toJSON=Un.prototype.value;Un.prototype.toString=function(){return String(this._wrapped)};function cL(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,tb(t))}var uL="[object DataView]";function yN(t,e,n,r){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var i=typeof t;return i!=="function"&&i!=="object"&&typeof e!="object"?!1:PJ(t,e,n,r)}function PJ(t,e,n,r){t instanceof Un&&(t=t._wrapped),e instanceof Un&&(e=e._wrapped);var i=nv.call(t);if(i!==nv.call(e))return!1;if(DJ&&i=="[object Object]"&&rv(t)){if(!rv(e))return!1;i=uL}switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return iL.valueOf.call(t)===iL.valueOf.call(e);case"[object ArrayBuffer]":case uL:return PJ(cL(t),cL(e),n,r)}var s=i==="[object Array]";if(!s&&v6(t)){var a=tb(t);if(a!==tb(e))return!1;if(t.buffer===e.buffer&&t.byteOffset===e.byteOffset)return!0;s=!0}if(!s){if(typeof t!="object"||typeof e!="object")return!1;var o=t.constructor,l=e.constructor;if(o!==l&&!(_s(o)&&o instanceof o&&_s(l)&&l instanceof l)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],r=r||[];for(var c=n.length;c--;)if(n[c]===t)return r[c]===e;if(n.push(t),r.push(e),s){if(c=t.length,c!==e.length)return!1;for(;c--;)if(!yN(t[c],e[c],n,r))return!1}else{var u=bi(t),f;if(c=u.length,bi(e).length!==c)return!1;for(;c--;)if(f=u[c],!(ud(e,f)&&yN(t[f],e[f],n,r)))return!1}return n.pop(),r.pop(),!0}function FJ(t,e){return yN(t,e)}function rg(t){if(!ld(t))return[];var e=[];for(var n in t)e.push(n);return xJ&&kJ(t,e),e}function _6(t){var e=sa(t);return function(n){if(n==null)return!1;var r=rg(n);if(sa(r))return!1;for(var i=0;i<e;i++)if(!_s(n[t[i]]))return!1;return t!==OJ||!_s(n[b6])}}var b6="forEach",MJ="has",w6=["clear","delete"],UJ=["get",MJ,"set"],UFe=w6.concat(b6,UJ),OJ=w6.concat(UJ),OFe=["add"].concat(w6,b6,MJ);const LJ=m6?_6(UFe):Ts("Map"),jJ=m6?_6(OJ):Ts("WeakMap"),BJ=m6?_6(OFe):Ts("Set"),VJ=Ts("WeakSet");function oh(t){for(var e=bi(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=t[e[i]];return r}function WJ(t){for(var e=bi(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=[e[i],t[e[i]]];return r}function T6(t){for(var e={},n=bi(t),r=0,i=n.length;r<i;r++)e[t[n[r]]]=n[r];return e}function iv(t){var e=[];for(var n in t)_s(t[n])&&e.push(n);return e.sort()}function E6(t,e){return function(n){var r=arguments.length;if(e&&(n=Object(n)),r<2||n==null)return n;for(var i=1;i<r;i++)for(var s=arguments[i],a=t(s),o=a.length,l=0;l<o;l++){var c=a[l];(!e||n[c]===void 0)&&(n[c]=s[c])}return n}}const C6=E6(rg),bm=E6(bi),S6=E6(rg,!0);function LFe(){return function(){}}function qJ(t){if(!ld(t))return{};if(aL)return aL(t);var e=LFe();e.prototype=t;var n=new e;return e.prototype=null,n}function $J(t,e){var n=qJ(t);return e&&bm(n,e),n}function zJ(t){return ld(t)?cd(t)?t.slice():C6({},t):t}function HJ(t,e){return e(t),t}function D6(t){return cd(t)?t:[t]}Un.toPath=D6;function e1(t){return Un.toPath(t)}function A6(t,e){for(var n=e.length,r=0;r<n;r++){if(t==null)return;t=t[e[r]]}return n?t:void 0}function N6(t,e,n){var r=A6(t,e1(e));return u6(r)?n:r}function GJ(t,e){e=e1(e);for(var n=e.length,r=0;r<n;r++){var i=e[r];if(!ud(t,i))return!1;t=t[i]}return!!n}function $w(t){return t}function Bf(t){return t=bm({},t),function(e){return x6(e,t)}}function zw(t){return t=e1(t),function(e){return A6(e,t)}}function t1(t,e,n){if(e===void 0)return t;switch(n??3){case 1:return function(r){return t.call(e,r)};case 3:return function(r,i,s){return t.call(e,r,i,s)};case 4:return function(r,i,s,a){return t.call(e,r,i,s,a)}}return function(){return t.apply(e,arguments)}}function KJ(t,e,n){return t==null?$w:_s(t)?t1(t,e,n):ld(t)&&!cd(t)?Bf(t):zw(t)}function Hw(t,e){return KJ(t,e,1/0)}Un.iteratee=Hw;function ca(t,e,n){return Un.iteratee!==Hw?Un.iteratee(t,e):KJ(t,e,n)}function XJ(t,e,n){e=ca(e,n);for(var r=bi(t),i=r.length,s={},a=0;a<i;a++){var o=r[a];s[o]=e(t[o],o,t)}return s}function I6(){}function JJ(t){return t==null?I6:function(e){return N6(t,e)}}function YJ(t,e,n){var r=Array(Math.max(0,t));e=t1(e,n,1);for(var i=0;i<t;i++)r[i]=e(i);return r}function nb(t,e){return e==null&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}const wm=Date.now||function(){return new Date().getTime()};function QJ(t){var e=function(s){return t[s]},n="(?:"+bi(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(s){return s=s==null?"":""+s,r.test(s)?s.replace(i,e):s}}const ZJ={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},eY=QJ(ZJ),jFe=T6(ZJ),tY=QJ(jFe),nY=Un.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var xD=/(.)^/,BFe={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},VFe=/\\|'|\r|\n|\u2028|\u2029/g;function WFe(t){return"\\"+BFe[t]}var qFe=/^\s*(\w|\$)+\s*$/;function rY(t,e,n){!e&&n&&(e=n),e=S6({},e,Un.templateSettings);var r=RegExp([(e.escape||xD).source,(e.interpolate||xD).source,(e.evaluate||xD).source].join("|")+"|$","g"),i=0,s="__p+='";t.replace(r,function(c,u,f,h,p){return s+=t.slice(i,p).replace(VFe,WFe),i=p+c.length,u?s+=`'+
((__t=(`+u+`))==null?'':_.escape(__t))+
'`:f?s+=`'+
((__t=(`+f+`))==null?'':__t)+
'`:h&&(s+=`';
`+h+`
__p+='`),c}),s+=`';
`;var a=e.variable;if(a){if(!qFe.test(a))throw new Error("variable is not a bare identifier: "+a)}else s=`with(obj||{}){
`+s+`}
`,a="obj";s=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+s+`return __p;
`;var o;try{o=new Function(a,"_",s)}catch(c){throw c.source=s,c}var l=function(c){return o.call(this,c,Un)};return l.source="function("+a+`){
`+s+"}",l}function iY(t,e,n){e=e1(e);var r=e.length;if(!r)return _s(n)?n.call(t):n;for(var i=0;i<r;i++){var s=t==null?void 0:t[e[i]];s===void 0&&(s=n,i=r),t=_s(s)?s.call(t):s}return t}var $Fe=0;function sY(t){var e=++$Fe+"";return t?t+e:e}function aY(t){var e=Un(t);return e._chain=!0,e}function oY(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var s=qJ(t.prototype),a=t.apply(s,i);return ld(a)?a:s}var lh=js(function(t,e){var n=lh.placeholder,r=function(){for(var i=0,s=e.length,a=Array(s),o=0;o<s;o++)a[o]=e[o]===n?arguments[i++]:e[o];for(;i<arguments.length;)a.push(arguments[i++]);return oY(t,r,this,this,a)};return r});lh.placeholder=Un;const k6=js(function(t,e,n){if(!_s(t))throw new TypeError("Bind must be called on a function");var r=js(function(i){return oY(t,r,e,this,n.concat(i))});return r}),ka=NJ(sa);function ch(t,e,n,r){if(r=r||[],!e&&e!==0)e=1/0;else if(e<=0)return r.concat(t);for(var i=r.length,s=0,a=sa(t);s<a;s++){var o=t[s];if(ka(o)&&(cd(o)||qw(o)))if(e>1)ch(o,e-1,n,r),i=r.length;else for(var l=0,c=o.length;l<c;)r[i++]=o[l++];else n||(r[i++]=o)}return r}const lY=js(function(t,e){e=ch(e,!1,!1);var n=e.length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=e[n];t[r]=k6(t[r],t)}return t});function cY(t,e){var n=function(r){var i=n.cache,s=""+(e?e.apply(this,arguments):r);return ud(i,s)||(i[s]=t.apply(this,arguments)),i[s]};return n.cache={},n}const R6=js(function(t,e,n){return setTimeout(function(){return t.apply(null,n)},e)}),uY=lh(R6,Un,1);function dY(t,e,n){var r,i,s,a,o=0;n||(n={});var l=function(){o=n.leading===!1?0:wm(),r=null,a=t.apply(i,s),r||(i=s=null)},c=function(){var u=wm();!o&&n.leading===!1&&(o=u);var f=e-(u-o);return i=this,s=arguments,f<=0||f>e?(r&&(clearTimeout(r),r=null),o=u,a=t.apply(i,s),r||(i=s=null)):!r&&n.trailing!==!1&&(r=setTimeout(l,f)),a};return c.cancel=function(){clearTimeout(r),o=0,r=i=s=null},c}function fY(t,e,n){var r,i,s,a,o,l=function(){var u=wm()-i;e>u?r=setTimeout(l,e-u):(r=null,n||(a=t.apply(o,s)),r||(s=o=null))},c=js(function(u){return o=this,s=u,i=wm(),r||(r=setTimeout(l,e),n&&(a=t.apply(o,s))),a});return c.cancel=function(){clearTimeout(r),r=s=o=null},c}function hY(t,e){return lh(e,t)}function Gw(t){return function(){return!t.apply(this,arguments)}}function pY(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}}function mY(t,e){return function(){if(--t<1)return e.apply(this,arguments)}}function P6(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}}const gY=lh(P6,2);function F6(t,e,n){e=ca(e,n);for(var r=bi(t),i,s=0,a=r.length;s<a;s++)if(i=r[s],e(t[i],i,t))return i}function yY(t){return function(e,n,r){n=ca(n,r);for(var i=sa(e),s=t>0?0:i-1;s>=0&&s<i;s+=t)if(n(e[s],s,e))return s;return-1}}const Kw=yY(1),M6=yY(-1);function U6(t,e,n,r){n=ca(n,r,1);for(var i=n(e),s=0,a=sa(t);s<a;){var o=Math.floor((s+a)/2);n(t[o])<i?s=o+1:a=o}return s}function vY(t,e,n){return function(r,i,s){var a=0,o=sa(r);if(typeof s=="number")t>0?a=s>=0?s:Math.max(s+o,a):o=s>=0?Math.min(s+1,o):s+o+1;else if(n&&s&&o)return s=n(r,i),r[s]===i?s:-1;if(i!==i)return s=e(Zv.call(r,a,o),g6),s>=0?s+a:-1;for(s=t>0?a:o-1;s>=0&&s<o;s+=t)if(r[s]===i)return s;return-1}}const O6=vY(1,Kw,U6),xY=vY(-1,M6);function sv(t,e,n){var r=ka(t)?Kw:F6,i=r(t,e,n);if(i!==void 0&&i!==-1)return t[i]}function _Y(t,e){return sv(t,Bf(e))}function Vo(t,e,n){e=t1(e,n);var r,i;if(ka(t))for(r=0,i=t.length;r<i;r++)e(t[r],r,t);else{var s=bi(t);for(r=0,i=s.length;r<i;r++)e(t[s[r]],s[r],t)}return t}function xc(t,e,n){e=ca(e,n);for(var r=!ka(t)&&bi(t),i=(r||t).length,s=Array(i),a=0;a<i;a++){var o=r?r[a]:a;s[a]=e(t[o],o,t)}return s}function bY(t){var e=function(n,r,i,s){var a=!ka(n)&&bi(n),o=(a||n).length,l=t>0?0:o-1;for(s||(i=n[a?a[l]:l],l+=t);l>=0&&l<o;l+=t){var c=a?a[l]:l;i=r(i,n[c],c,n)}return i};return function(n,r,i,s){var a=arguments.length>=3;return e(n,t1(r,s,4),i,a)}}const jp=bY(1),rb=bY(-1);function Ku(t,e,n){var r=[];return e=ca(e,n),Vo(t,function(i,s,a){e(i,s,a)&&r.push(i)}),r}function wY(t,e,n){return Ku(t,Gw(ca(e)),n)}function ib(t,e,n){e=ca(e,n);for(var r=!ka(t)&&bi(t),i=(r||t).length,s=0;s<i;s++){var a=r?r[s]:s;if(!e(t[a],a,t))return!1}return!0}function sb(t,e,n){e=ca(e,n);for(var r=!ka(t)&&bi(t),i=(r||t).length,s=0;s<i;s++){var a=r?r[s]:s;if(e(t[a],a,t))return!0}return!1}function ro(t,e,n,r){return ka(t)||(t=oh(t)),(typeof n!="number"||r)&&(n=0),O6(t,e,n)>=0}const TY=js(function(t,e,n){var r,i;return _s(e)?i=e:(e=e1(e),r=e.slice(0,-1),e=e[e.length-1]),xc(t,function(s){var a=i;if(!a){if(r&&r.length&&(s=A6(s,r)),s==null)return;a=s[e]}return a==null?a:a.apply(s,n)})});function Xw(t,e){return xc(t,zw(e))}function EY(t,e){return Ku(t,Bf(e))}function L6(t,e,n){var r=-1/0,i=-1/0,s,a;if(e==null||typeof e=="number"&&typeof t[0]!="object"&&t!=null){t=ka(t)?t:oh(t);for(var o=0,l=t.length;o<l;o++)s=t[o],s!=null&&s>r&&(r=s)}else e=ca(e,n),Vo(t,function(c,u,f){a=e(c,u,f),(a>i||a===-1/0&&r===-1/0)&&(r=c,i=a)});return r}function CY(t,e,n){var r=1/0,i=1/0,s,a;if(e==null||typeof e=="number"&&typeof t[0]!="object"&&t!=null){t=ka(t)?t:oh(t);for(var o=0,l=t.length;o<l;o++)s=t[o],s!=null&&s<r&&(r=s)}else e=ca(e,n),Vo(t,function(c,u,f){a=e(c,u,f),(a<i||a===1/0&&r===1/0)&&(r=c,i=a)});return r}var zFe=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function j6(t){return t?cd(t)?Zv.call(t):Ww(t)?t.match(zFe):ka(t)?xc(t,$w):oh(t):[]}function B6(t,e,n){if(e==null||n)return ka(t)||(t=oh(t)),t[nb(t.length-1)];var r=j6(t),i=sa(r);e=Math.max(Math.min(e,i),0);for(var s=i-1,a=0;a<e;a++){var o=nb(a,s),l=r[a];r[a]=r[o],r[o]=l}return r.slice(0,e)}function SY(t){return B6(t,1/0)}function DY(t,e,n){var r=0;return e=ca(e,n),Xw(xc(t,function(i,s,a){return{value:i,index:r++,criteria:e(i,s,a)}}).sort(function(i,s){var a=i.criteria,o=s.criteria;if(a!==o){if(a>o||a===void 0)return 1;if(a<o||o===void 0)return-1}return i.index-s.index}),"value")}function Jw(t,e){return function(n,r,i){var s=e?[[],[]]:{};return r=ca(r,i),Vo(n,function(a,o){var l=r(a,o,n);t(s,a,l)}),s}}const AY=Jw(function(t,e,n){ud(t,n)?t[n].push(e):t[n]=[e]}),NY=Jw(function(t,e,n){t[n]=e}),IY=Jw(function(t,e,n){ud(t,n)?t[n]++:t[n]=1}),kY=Jw(function(t,e,n){t[n?0:1].push(e)},!0);function RY(t){return t==null?0:ka(t)?t.length:bi(t).length}function HFe(t,e,n){return e in n}const V6=js(function(t,e){var n={},r=e[0];if(t==null)return n;_s(r)?(e.length>1&&(r=t1(r,e[1])),e=rg(t)):(r=HFe,e=ch(e,!1,!1),t=Object(t));for(var i=0,s=e.length;i<s;i++){var a=e[i],o=t[a];r(o,a,t)&&(n[a]=o)}return n}),PY=js(function(t,e){var n=e[0],r;return _s(n)?(n=Gw(n),e.length>1&&(r=e[1])):(e=xc(ch(e,!1,!1),String),n=function(i,s){return!ro(e,s)}),V6(t,n,r)});function W6(t,e,n){return Zv.call(t,0,Math.max(0,t.length-(e==null||n?1:e)))}function Bp(t,e,n){return t==null||t.length<1?e==null||n?void 0:[]:e==null||n?t[0]:W6(t,t.length-e)}function hf(t,e,n){return Zv.call(t,e==null||n?1:e)}function FY(t,e,n){return t==null||t.length<1?e==null||n?void 0:[]:e==null||n?t[t.length-1]:hf(t,Math.max(0,t.length-e))}function MY(t){return Ku(t,Boolean)}function UY(t,e){return ch(t,e,!1)}const q6=js(function(t,e){return e=ch(e,!0,!0),Ku(t,function(n){return!ro(e,n)})}),OY=js(function(t,e){return q6(t,e)});function av(t,e,n,r){d6(e)||(r=n,n=e,e=!1),n!=null&&(n=ca(n,r));for(var i=[],s=[],a=0,o=sa(t);a<o;a++){var l=t[a],c=n?n(l,a,t):l;e&&!n?((!a||s!==c)&&i.push(l),s=c):n?ro(s,c)||(s.push(c),i.push(l)):ro(i,l)||i.push(l)}return i}const LY=js(function(t){return av(ch(t,!0,!0))});function jY(t){for(var e=[],n=arguments.length,r=0,i=sa(t);r<i;r++){var s=t[r];if(!ro(e,s)){var a;for(a=1;a<n&&ro(arguments[a],s);a++);a===n&&e.push(s)}}return e}function ov(t){for(var e=t&&L6(t,sa).length||0,n=Array(e),r=0;r<e;r++)n[r]=Xw(t,r);return n}const BY=js(ov);function VY(t,e){for(var n={},r=0,i=sa(t);r<i;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n}function WY(t,e,n){e==null&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),s=0;s<r;s++,t+=n)i[s]=t;return i}function qY(t,e){if(e==null||e<1)return[];for(var n=[],r=0,i=t.length;r<i;)n.push(Zv.call(t,r,r+=e));return n}function $6(t,e){return t._chain?Un(e).chain():e}function z6(t){return Vo(iv(t),function(e){var n=Un[e]=t[e];Un.prototype[e]=function(){var r=[this._wrapped];return wFe.apply(r,arguments),$6(this,n.apply(Un,r))}}),Un}Vo(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=Vw[t];Un.prototype[t]=function(){var n=this._wrapped;return n!=null&&(e.apply(n,arguments),(t==="shift"||t==="splice")&&n.length===0&&delete n[0]),$6(this,n)}});Vo(["concat","join","slice"],function(t){var e=Vw[t];Un.prototype[t]=function(){var n=this._wrapped;return n!=null&&(n=e.apply(n,arguments)),$6(this,n)}});const GFe=Object.freeze(Object.defineProperty({__proto__:null,VERSION:l6,after:mY,all:ib,allKeys:rg,any:sb,assign:bm,before:P6,bind:k6,bindAll:lY,chain:aY,chunk:qY,clone:zJ,collect:xc,compact:MY,compose:pY,constant:y6,contains:ro,countBy:IY,create:$J,debounce:fY,default:Un,defaults:S6,defer:uY,delay:R6,detect:sv,difference:q6,drop:hf,each:Vo,escape:eY,every:ib,extend:C6,extendOwn:bm,filter:Ku,find:sv,findIndex:Kw,findKey:F6,findLastIndex:M6,findWhere:_Y,first:Bp,flatten:UY,foldl:jp,foldr:rb,forEach:Vo,functions:iv,get:N6,groupBy:AY,has:GJ,head:Bp,identity:$w,include:ro,includes:ro,indexBy:NY,indexOf:O6,initial:W6,inject:jp,intersection:jY,invert:T6,invoke:TY,isArguments:qw,isArray:cd,isArrayBuffer:p6,isBoolean:d6,isDataView:rv,isDate:wJ,isElement:bJ,isEmpty:RJ,isEqual:FJ,isError:EJ,isFinite:AJ,isFunction:_s,isMap:LJ,isMatch:x6,isNaN:g6,isNull:_J,isNumber:f6,isObject:ld,isRegExp:TJ,isSet:BJ,isString:Ww,isSymbol:h6,isTypedArray:v6,isUndefined:u6,isWeakMap:jJ,isWeakSet:VJ,iteratee:Hw,keys:bi,last:FY,lastIndexOf:xY,map:xc,mapObject:XJ,matcher:Bf,matches:Bf,max:L6,memoize:cY,methods:iv,min:CY,mixin:z6,negate:Gw,noop:I6,now:wm,object:VY,omit:PY,once:gY,pairs:WJ,partial:lh,partition:kY,pick:V6,pluck:Xw,property:zw,propertyOf:JJ,random:nb,range:WY,reduce:jp,reduceRight:rb,reject:wY,rest:hf,restArguments:js,result:iY,sample:B6,select:Ku,shuffle:SY,size:RY,some:sb,sortBy:DY,sortedIndex:U6,tail:hf,take:Bp,tap:HJ,template:rY,templateSettings:nY,throttle:dY,times:YJ,toArray:j6,toPath:D6,transpose:ov,unescape:tY,union:LY,uniq:av,unique:av,uniqueId:sY,unzip:ov,values:oh,where:EY,without:OY,wrap:hY,zip:BY},Symbol.toStringTag,{value:"Module"}));var vN=z6(GFe);vN._=vN;const KFe=Object.freeze(Object.defineProperty({__proto__:null,VERSION:l6,after:mY,all:ib,allKeys:rg,any:sb,assign:bm,before:P6,bind:k6,bindAll:lY,chain:aY,chunk:qY,clone:zJ,collect:xc,compact:MY,compose:pY,constant:y6,contains:ro,countBy:IY,create:$J,debounce:fY,default:vN,defaults:S6,defer:uY,delay:R6,detect:sv,difference:q6,drop:hf,each:Vo,escape:eY,every:ib,extend:C6,extendOwn:bm,filter:Ku,find:sv,findIndex:Kw,findKey:F6,findLastIndex:M6,findWhere:_Y,first:Bp,flatten:UY,foldl:jp,foldr:rb,forEach:Vo,functions:iv,get:N6,groupBy:AY,has:GJ,head:Bp,identity:$w,include:ro,includes:ro,indexBy:NY,indexOf:O6,initial:W6,inject:jp,intersection:jY,invert:T6,invoke:TY,isArguments:qw,isArray:cd,isArrayBuffer:p6,isBoolean:d6,isDataView:rv,isDate:wJ,isElement:bJ,isEmpty:RJ,isEqual:FJ,isError:EJ,isFinite:AJ,isFunction:_s,isMap:LJ,isMatch:x6,isNaN:g6,isNull:_J,isNumber:f6,isObject:ld,isRegExp:TJ,isSet:BJ,isString:Ww,isSymbol:h6,isTypedArray:v6,isUndefined:u6,isWeakMap:jJ,isWeakSet:VJ,iteratee:Hw,keys:bi,last:FY,lastIndexOf:xY,map:xc,mapObject:XJ,matcher:Bf,matches:Bf,max:L6,memoize:cY,methods:iv,min:CY,mixin:z6,negate:Gw,noop:I6,now:wm,object:VY,omit:PY,once:gY,pairs:WJ,partial:lh,partition:kY,pick:V6,pluck:Xw,property:zw,propertyOf:JJ,random:nb,range:WY,reduce:jp,reduceRight:rb,reject:wY,rest:hf,restArguments:js,result:iY,sample:B6,select:Ku,shuffle:SY,size:RY,some:sb,sortBy:DY,sortedIndex:U6,tail:hf,take:Bp,tap:HJ,template:rY,templateSettings:nY,throttle:dY,times:YJ,toArray:j6,toPath:D6,transpose:ov,unescape:tY,union:LY,uniq:av,unique:av,uniqueId:sY,unzip:ov,values:oh,where:EY,without:OY,wrap:hY,zip:BY},Symbol.toStringTag,{value:"Module"})),ii=uZ(KFe);var $x={},qa={},_D={exports:{}},zx={exports:{}},dL;function ig(){if(dL)return zx.exports;dL=1;var t=(function(){return this===void 0})();if(t)zx.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:t,propertyIsWritable:function(u,f){var h=Object.getOwnPropertyDescriptor(u,f);return!!(!h||h.writable||h.set)}};else{var e={}.hasOwnProperty,n={}.toString,r={}.constructor.prototype,i=function(u){var f=[];for(var h in u)e.call(u,h)&&f.push(h);return f},s=function(u,f){return{value:u[f]}},a=function(u,f,h){return u[f]=h.value,u},o=function(u){return u},l=function(u){try{return Object(u).constructor.prototype}catch{return r}},c=function(u){try{return n.call(u)==="[object Array]"}catch{return!1}};zx.exports={isArray:c,keys:i,names:i,defineProperty:a,getDescriptor:s,freeze:o,getPrototypeOf:l,isES5:t,propertyIsWritable:function(){return!0}}}return zx.exports}var r0,fL;function or(){if(fL)return r0;fL=1;var t={},e=ig(),n=typeof navigator>"u",r={e:{}},i,s=typeof self<"u"?self:typeof window<"u"?window:typeof hs<"u"?hs:r0!==void 0?r0:null;function a(){try{var W=i;return i=null,W.apply(this,arguments)}catch(G){return r.e=G,r}}function o(W){return i=W,a}var l=function(W,G){var Y={}.hasOwnProperty;function ee(){this.constructor=W,this.constructor$=G;for(var ae in G.prototype)Y.call(G.prototype,ae)&&ae.charAt(ae.length-1)!=="$"&&(this[ae+"$"]=G.prototype[ae])}return ee.prototype=G.prototype,W.prototype=new ee,W.prototype};function c(W){return W==null||W===!0||W===!1||typeof W=="string"||typeof W=="number"}function u(W){return typeof W=="function"||typeof W=="object"&&W!==null}function f(W){return c(W)?new Error(D(W)):W}function h(W,G){var Y=W.length,ee=new Array(Y+1),ae;for(ae=0;ae<Y;++ae)ee[ae]=W[ae];return ee[ae]=G,ee}function p(W,G,Y){if(e.isES5){var ee=Object.getOwnPropertyDescriptor(W,G);if(ee!=null)return ee.get==null&&ee.set==null?ee.value:Y}else return{}.hasOwnProperty.call(W,G)?W[G]:void 0}function v(W,G,Y){if(c(W))return W;var ee={value:Y,configurable:!0,enumerable:!1,writable:!0};return e.defineProperty(W,G,ee),W}function g(W){throw W}var y=(function(){var W=[Array.prototype,Object.prototype,Function.prototype],G=function(ae){for(var de=0;de<W.length;++de)if(W[de]===ae)return!0;return!1};if(e.isES5){var Y=Object.getOwnPropertyNames;return function(ae){for(var de=[],fe=Object.create(null);ae!=null&&!G(ae);){var Ae;try{Ae=Y(ae)}catch{return de}for(var Re=0;Re<Ae.length;++Re){var me=Ae[Re];if(!fe[me]){fe[me]=!0;var Le=Object.getOwnPropertyDescriptor(ae,me);Le!=null&&Le.get==null&&Le.set==null&&de.push(me)}}ae=e.getPrototypeOf(ae)}return de}}else{var ee={}.hasOwnProperty;return function(ae){if(G(ae))return[];var de=[];e:for(var fe in ae)if(ee.call(ae,fe))de.push(fe);else{for(var Ae=0;Ae<W.length;++Ae)if(ee.call(W[Ae],fe))continue e;de.push(fe)}return de}}})(),b=/this\s*\.\s*\S+\s*=/;function _(W){try{if(typeof W=="function"){var G=e.names(W.prototype),Y=e.isES5&&G.length>1,ee=G.length>0&&!(G.length===1&&G[0]==="constructor"),ae=b.test(W+"")&&e.names(W).length>0;if(Y||ee||ae)return!0}return!1}catch{return!1}}function w(W){return W}var C=/^[a-z$_][a-z$_0-9]*$/i;function S(W){return C.test(W)}function R(W,G,Y){for(var ee=new Array(W),ae=0;ae<W;++ae)ee[ae]=G+ae+Y;return ee}function D(W){try{return W+""}catch{return"[no string representation]"}}function N(W){return W!==null&&typeof W=="object"&&typeof W.message=="string"&&typeof W.name=="string"}function k(W){try{v(W,"isOperational",!0)}catch{}}function F(W){return W==null?!1:W instanceof Error.__BluebirdErrorTypes__.OperationalError||W.isOperational===!0}function P(W){return N(W)&&e.propertyIsWritable(W,"stack")}var I=(function(){return"stack"in new Error?function(W){return P(W)?W:new Error(D(W))}:function(W){if(P(W))return W;try{throw new Error(D(W))}catch(G){return G}}})();function U(W){return{}.toString.call(W)}function O(W,G,Y){for(var ee=e.names(W),ae=0;ae<ee.length;++ae){var de=ee[ae];if(Y(de))try{e.defineProperty(G,de,e.getDescriptor(W,de))}catch{}}}var K=function(W){return e.isArray(W)?W:null};if(typeof Symbol<"u"&&Symbol.iterator){var X=typeof Array.from=="function"?function(W){return Array.from(W)}:function(W){for(var G=[],Y=W[Symbol.iterator](),ee;!(ee=Y.next()).done;)G.push(ee.value);return G};K=function(W){return e.isArray(W)?W:W!=null&&typeof W[Symbol.iterator]=="function"?X(W):null}}var J=typeof process<"u"&&U(process).toLowerCase()==="[object process]",ne=typeof process<"u"&&typeof t<"u";function z(W){return ne?t[W]:void 0}function Q(){if(typeof Promise=="function")try{var W=new Promise(function(){});if({}.toString.call(W)==="[object Promise]")return Promise}catch{}}function B(W,G){return W.bind(G)}var j={isClass:_,isIdentifier:S,inheritedDataKeys:y,getDataPropertyOrDefault:p,thrower:g,isArray:e.isArray,asArray:K,notEnumerableProp:v,isPrimitive:c,isObject:u,isError:N,canEvaluate:n,errorObj:r,tryCatch:o,inherits:l,withAppended:h,maybeWrapAsError:f,toFastProperties:w,filledRange:R,toString:D,canAttachTrace:P,ensureErrorObject:I,originatesFromRejection:F,markAsOriginatingFromRejection:k,classString:U,copyDescriptors:O,hasDevTools:typeof chrome<"u"&&chrome&&typeof chrome.loadTimes=="function",isNode:J,hasEnvVariables:ne,env:z,global:s,getNativePromise:Q,domainBind:B};j.isRecentNode=j.isNode&&(function(){var W=process.versions.node.split(".").map(Number);return W[0]===0&&W[1]>10||W[0]>0})(),j.isNode&&j.toFastProperties(process);try{throw new Error}catch(W){j.lastLineError=W}return r0=j,r0}var Hx={exports:{}},bD,hL;function XFe(){if(hL)return bD;hL=1;var t=or(),e,n=function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)},r=t.getNativePromise();if(t.isNode&&typeof MutationObserver>"u"){var i=hs.setImmediate,s=process.nextTick;e=t.isRecentNode?function(o){i.call(hs,o)}:function(o){s.call(process,o)}}else if(typeof r=="function"&&typeof r.resolve=="function"){var a=r.resolve();e=function(o){a.then(o)}}else typeof MutationObserver<"u"&&!(typeof window<"u"&&window.navigator&&(window.navigator.standalone||window.cordova))?e=(function(){var o=document.createElement("div"),l={attributes:!0},c=!1,u=document.createElement("div"),f=new MutationObserver(function(){o.classList.toggle("foo"),c=!1});f.observe(u,l);var h=function(){c||(c=!0,u.classList.toggle("foo"))};return function(v){var g=new MutationObserver(function(){g.disconnect(),v()});g.observe(o,l),h()}})():typeof setImmediate<"u"?e=function(o){setImmediate(o)}:typeof setTimeout<"u"?e=function(o){setTimeout(o,0)}:e=n;return bD=e,bD}var wD,pL;function JFe(){if(pL)return wD;pL=1;function t(n,r,i,s,a){for(var o=0;o<a;++o)i[o+s]=n[o+r],n[o+r]=void 0}function e(n){this._capacity=n,this._length=0,this._front=0}return e.prototype._willBeOverCapacity=function(n){return this._capacity<n},e.prototype._pushOne=function(n){var r=this.length();this._checkCapacity(r+1);var i=this._front+r&this._capacity-1;this[i]=n,this._length=r+1},e.prototype.push=function(n,r,i){var s=this.length()+3;if(this._willBeOverCapacity(s)){this._pushOne(n),this._pushOne(r),this._pushOne(i);return}var a=this._front+s-3;this._checkCapacity(s);var o=this._capacity-1;this[a+0&o]=n,this[a+1&o]=r,this[a+2&o]=i,this._length=s},e.prototype.shift=function(){var n=this._front,r=this[n];return this[n]=void 0,this._front=n+1&this._capacity-1,this._length--,r},e.prototype.length=function(){return this._length},e.prototype._checkCapacity=function(n){this._capacity<n&&this._resizeTo(this._capacity<<1)},e.prototype._resizeTo=function(n){var r=this._capacity;this._capacity=n;var i=this._front,s=this._length,a=i+s&r-1;t(this,0,this,r,a)},wD=e,wD}var mL;function YFe(){if(mL)return Hx.exports;mL=1;var t;try{throw new Error}catch(l){t=l}var e=XFe(),n=JFe(),r=or();function i(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new n(16),this._normalQueue=new n(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var l=this;this.drainQueues=function(){l._drainQueues()},this._schedule=e}i.prototype.setScheduler=function(l){var c=this._schedule;return this._schedule=l,this._customScheduler=!0,c},i.prototype.hasCustomScheduler=function(){return this._customScheduler},i.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},i.prototype.disableTrampolineIfNecessary=function(){r.hasDevTools&&(this._trampolineEnabled=!1)},i.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},i.prototype.fatalError=function(l,c){c?(process.stderr.write("Fatal "+(l instanceof Error?l.stack:l)+`
`),process.exit(2)):this.throwLater(l)},i.prototype.throwLater=function(l,c){if(arguments.length===1&&(c=l,l=function(){throw c}),typeof setTimeout<"u")setTimeout(function(){l(c)},0);else try{this._schedule(function(){l(c)})}catch{throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}};function s(l,c,u){this._lateQueue.push(l,c,u),this._queueTick()}function a(l,c,u){this._normalQueue.push(l,c,u),this._queueTick()}function o(l){this._normalQueue._pushOne(l),this._queueTick()}return r.hasDevTools?(i.prototype.invokeLater=function(l,c,u){this._trampolineEnabled?s.call(this,l,c,u):this._schedule(function(){setTimeout(function(){l.call(c,u)},100)})},i.prototype.invoke=function(l,c,u){this._trampolineEnabled?a.call(this,l,c,u):this._schedule(function(){l.call(c,u)})},i.prototype.settlePromises=function(l){this._trampolineEnabled?o.call(this,l):this._schedule(function(){l._settlePromises()})}):(i.prototype.invokeLater=s,i.prototype.invoke=a,i.prototype.settlePromises=o),i.prototype._drainQueue=function(l){for(;l.length()>0;){var c=l.shift();if(typeof c!="function"){c._settlePromises();continue}var u=l.shift(),f=l.shift();c.call(u,f)}},i.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},i.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},i.prototype._reset=function(){this._isTickUsed=!1},Hx.exports=i,Hx.exports.firstLineError=t,Hx.exports}var TD,gL;function Xu(){if(gL)return TD;gL=1;var t=ig(),e=t.freeze,n=or(),r=n.inherits,i=n.notEnumerableProp;function s(b,_){function w(C){if(!(this instanceof w))return new w(C);i(this,"message",typeof C=="string"?C:_),i(this,"name",b),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return r(w,Error),w}var a,o,l=s("Warning","warning"),c=s("CancellationError","cancellation error"),u=s("TimeoutError","timeout error"),f=s("AggregateError","aggregate error");try{a=TypeError,o=RangeError}catch{a=s("TypeError","type error"),o=s("RangeError","range error")}for(var h="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),p=0;p<h.length;++p)typeof Array.prototype[h[p]]=="function"&&(f.prototype[h[p]]=Array.prototype[h[p]]);t.defineProperty(f.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),f.prototype.isOperational=!0;var v=0;f.prototype.toString=function(){var b=Array(v*4+1).join(" "),_=`
`+b+`AggregateError of:
`;v++,b=Array(v*4+1).join(" ");for(var w=0;w<this.length;++w){for(var C=this[w]===this?"[Circular AggregateError]":this[w]+"",S=C.split(`
`),R=0;R<S.length;++R)S[R]=b+S[R];C=S.join(`
`),_+=C+`
`}return v--,_};function g(b){if(!(this instanceof g))return new g(b);i(this,"name","OperationalError"),i(this,"message",b),this.cause=b,this.isOperational=!0,b instanceof Error?(i(this,"message",b.message),i(this,"stack",b.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}r(g,Error);var y=Error.__BluebirdErrorTypes__;return y||(y=e({CancellationError:c,TimeoutError:u,OperationalError:g,RejectionError:g,AggregateError:f}),t.defineProperty(Error,"__BluebirdErrorTypes__",{value:y,writable:!1,enumerable:!1,configurable:!1})),TD={Error,TypeError:a,RangeError:o,CancellationError:y.CancellationError,OperationalError:y.OperationalError,TimeoutError:y.TimeoutError,AggregateError:y.AggregateError,Warning:l},TD}var ED,yL;function QFe(){return yL||(yL=1,ED=function(t,e){var n=or(),r=n.errorObj,i=n.isObject;function s(f,h){if(i(f)){if(f instanceof t)return f;var p=o(f);if(p===r){h&&h._pushContext();var v=t.reject(p.e);return h&&h._popContext(),v}else if(typeof p=="function"){if(c(f)){var v=new t(e);return f._then(v._fulfill,v._reject,void 0,v,null),v}return u(f,p,h)}}return f}function a(f){return f.then}function o(f){try{return a(f)}catch(h){return r.e=h,r}}var l={}.hasOwnProperty;function c(f){try{return l.call(f,"_promise0")}catch{return!1}}function u(f,h,p){var v=new t(e),g=v;p&&p._pushContext(),v._captureStackTrace(),p&&p._popContext();var y=!0,b=n.tryCatch(h).call(f,_,w);y=!1,v&&b===r&&(v._rejectCallback(b.e,!0,!0),v=null);function _(C){v&&(v._resolveCallback(C),v=null)}function w(C){v&&(v._rejectCallback(C,y,!0),v=null)}return g}return s}),ED}var CD,vL;function ZFe(){return vL||(vL=1,CD=function(t,e,n,r,i){var s=or();s.isArray;function a(l){switch(l){case-2:return[];case-3:return{}}}function o(l){var c=this._promise=new t(e);l instanceof t&&c._propagateFrom(l,3),c._setOnCancel(this),this._values=l,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return s.inherits(o,i),o.prototype.length=function(){return this._length},o.prototype.promise=function(){return this._promise},o.prototype._init=function l(c,u){var f=n(this._values,this._promise);if(f instanceof t){f=f._target();var h=f._bitField;if(this._values=f,(h&50397184)===0)return this._promise._setAsyncGuaranteed(),f._then(l,this._reject,void 0,this,u);if((h&33554432)!==0)f=f._value();else return(h&16777216)!==0?this._reject(f._reason()):this._cancel()}if(f=s.asArray(f),f===null){var p=r("expecting an array or an iterable object but got "+s.classString(f)).reason();this._promise._rejectCallback(p,!1);return}if(f.length===0){u===-5?this._resolveEmptyArray():this._resolve(a(u));return}this._iterate(f)},o.prototype._iterate=function(l){var c=this.getActualLength(l.length);this._length=c,this._values=this.shouldCopyValues()?new Array(c):this._values;for(var u=this._promise,f=!1,h=null,p=0;p<c;++p){var v=n(l[p],u);v instanceof t?(v=v._target(),h=v._bitField):h=null,f?h!==null&&v.suppressUnhandledRejections():h!==null?(h&50397184)===0?(v._proxy(this,p),this._values[p]=v):(h&33554432)!==0?f=this._promiseFulfilled(v._value(),p):(h&16777216)!==0?f=this._promiseRejected(v._reason(),p):f=this._promiseCancelled(p):f=this._promiseFulfilled(v,p)}f||u._setAsyncGuaranteed()},o.prototype._isResolved=function(){return this._values===null},o.prototype._resolve=function(l){this._values=null,this._promise._fulfill(l)},o.prototype._cancel=function(){this._isResolved()||!this._promise._isCancellable()||(this._values=null,this._promise._cancel())},o.prototype._reject=function(l){this._values=null,this._promise._rejectCallback(l,!1)},o.prototype._promiseFulfilled=function(l,c){this._values[c]=l;var u=++this._totalResolved;return u>=this._length?(this._resolve(this._values),!0):!1},o.prototype._promiseCancelled=function(){return this._cancel(),!0},o.prototype._promiseRejected=function(l){return this._totalResolved++,this._reject(l),!0},o.prototype._resultCancelled=function(){if(!this._isResolved()){var l=this._values;if(this._cancel(),l instanceof t)l.cancel();else for(var c=0;c<l.length;++c)l[c]instanceof t&&l[c].cancel()}},o.prototype.shouldCopyValues=function(){return!0},o.prototype.getActualLength=function(l){return l},o}),CD}var SD,xL;function e9e(){return xL||(xL=1,SD=function(t){var e=!1,n=[];t.prototype._promiseCreated=function(){},t.prototype._pushContext=function(){},t.prototype._popContext=function(){return null},t._peekContext=t.prototype._peekContext=function(){};function r(){this._trace=new r.CapturedTrace(s())}r.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,n.push(this._trace))},r.prototype._popContext=function(){if(this._trace!==void 0){var a=n.pop(),o=a._promiseCreated;return a._promiseCreated=null,o}return null};function i(){if(e)return new r}function s(){var a=n.length-1;if(a>=0)return n[a]}return r.CapturedTrace=null,r.create=i,r.deactivateLongStackTraces=function(){},r.activateLongStackTraces=function(){var a=t.prototype._pushContext,o=t.prototype._popContext,l=t._peekContext,c=t.prototype._peekContext,u=t.prototype._promiseCreated;r.deactivateLongStackTraces=function(){t.prototype._pushContext=a,t.prototype._popContext=o,t._peekContext=l,t.prototype._peekContext=c,t.prototype._promiseCreated=u,e=!1},e=!0,t.prototype._pushContext=r.prototype._pushContext,t.prototype._popContext=r.prototype._popContext,t._peekContext=t.prototype._peekContext=s,t.prototype._promiseCreated=function(){var f=this._peekContext();f&&f._promiseCreated==null&&(f._promiseCreated=this)}},r}),SD}var DD,_L;function t9e(){return _L||(_L=1,DD=function(t,e){var n=t._getDomain,r=t._async,i=Xu().Warning,s=or(),a=s.canAttachTrace,o,l,c=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,u=/\((?:timers\.js):\d+:\d+\)/,f=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,h=null,p=null,v=!1,g,y=!!(s.env("BLUEBIRD_DEBUG")!=0&&(s.env("BLUEBIRD_DEBUG")||s.env("NODE_ENV")==="development")),b=!!(s.env("BLUEBIRD_WARNINGS")!=0&&(y||s.env("BLUEBIRD_WARNINGS"))),_=!!(s.env("BLUEBIRD_LONG_STACK_TRACES")!=0&&(y||s.env("BLUEBIRD_LONG_STACK_TRACES"))),w=s.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(b||!!s.env("BLUEBIRD_W_FORGOTTEN_RETURN"));t.prototype.suppressUnhandledRejections=function(){var ce=this._target();ce._bitField=ce._bitField&-1048577|524288},t.prototype._ensurePossibleRejectionHandled=function(){(this._bitField&524288)===0&&(this._setRejectionIsUnhandled(),r.invokeLater(this._notifyUnhandledRejection,this,void 0))},t.prototype._notifyUnhandledRejectionIsHandled=function(){me("rejectionHandled",o,void 0,this)},t.prototype._setReturnedNonUndefined=function(){this._bitField=this._bitField|268435456},t.prototype._returnedNonUndefined=function(){return(this._bitField&268435456)!==0},t.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var ce=this._settledValue();this._setUnhandledRejectionIsNotified(),me("unhandledRejection",l,ce,this)}},t.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=this._bitField|262144},t.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},t.prototype._isUnhandledRejectionNotified=function(){return(this._bitField&262144)>0},t.prototype._setRejectionIsUnhandled=function(){this._bitField=this._bitField|1048576},t.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},t.prototype._isRejectionUnhandled=function(){return(this._bitField&1048576)>0},t.prototype._warn=function(ce,ge,ye){return G(ce,ge,ye||this)},t.onPossiblyUnhandledRejection=function(ce){var ge=n();l=typeof ce=="function"?ge===null?ce:s.domainBind(ge,ce):void 0},t.onUnhandledRejectionHandled=function(ce){var ge=n();o=typeof ce=="function"?ge===null?ce:s.domainBind(ge,ce):void 0};var C=function(){};t.longStackTraces=function(){if(r.haveItemsQueued()&&!ie.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!ie.longStackTraces&&xe()){var ce=t.prototype._captureStackTrace,ge=t.prototype._attachExtraTrace;ie.longStackTraces=!0,C=function(){if(r.haveItemsQueued()&&!ie.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);t.prototype._captureStackTrace=ce,t.prototype._attachExtraTrace=ge,e.deactivateLongStackTraces(),r.enableTrampoline(),ie.longStackTraces=!1},t.prototype._captureStackTrace=Q,t.prototype._attachExtraTrace=B,e.activateLongStackTraces(),r.disableTrampolineIfNecessary()}},t.hasLongStackTraces=function(){return ie.longStackTraces&&xe()};var S=(function(){try{if(typeof CustomEvent=="function"){var ce=new CustomEvent("CustomEvent");return s.global.dispatchEvent(ce),function(ge,ye){var Ne=new CustomEvent(ge.toLowerCase(),{detail:ye,cancelable:!0});return!s.global.dispatchEvent(Ne)}}else if(typeof Event=="function"){var ce=new Event("CustomEvent");return s.global.dispatchEvent(ce),function(ye,Ne){var Ue=new Event(ye.toLowerCase(),{cancelable:!0});return Ue.detail=Ne,!s.global.dispatchEvent(Ue)}}else{var ce=document.createEvent("CustomEvent");return ce.initCustomEvent("testingtheevent",!1,!0,{}),s.global.dispatchEvent(ce),function(ye,Ne){var Ue=document.createEvent("CustomEvent");return Ue.initCustomEvent(ye.toLowerCase(),!1,!0,Ne),!s.global.dispatchEvent(Ue)}}}catch{}return function(){return!1}})(),R=(function(){return s.isNode?function(){return process.emit.apply(process,arguments)}:s.global?function(ce){var ge="on"+ce.toLowerCase(),ye=s.global[ge];return ye?(ye.apply(s.global,[].slice.call(arguments,1)),!0):!1}:function(){return!1}})();function D(ce,ge){return{promise:ge}}var N={promiseCreated:D,promiseFulfilled:D,promiseRejected:D,promiseResolved:D,promiseCancelled:D,promiseChained:function(ce,ge,ye){return{promise:ge,child:ye}},warning:function(ce,ge){return{warning:ge}},unhandledRejection:function(ce,ge,ye){return{reason:ge,promise:ye}},rejectionHandled:D},k=function(ce){var ge=!1;try{ge=R.apply(null,arguments)}catch(Ne){r.throwLater(Ne),ge=!0}var ye=!1;try{ye=S(ce,N[ce].apply(null,arguments))}catch(Ne){r.throwLater(Ne),ye=!0}return ye||ge};t.config=function(ce){if(ce=Object(ce),"longStackTraces"in ce&&(ce.longStackTraces?t.longStackTraces():!ce.longStackTraces&&t.hasLongStackTraces()&&C()),"warnings"in ce){var ge=ce.warnings;ie.warnings=!!ge,w=ie.warnings,s.isObject(ge)&&"wForgottenReturn"in ge&&(w=!!ge.wForgottenReturn)}if("cancellation"in ce&&ce.cancellation&&!ie.cancellation){if(r.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");t.prototype._clearCancellationData=K,t.prototype._propagateFrom=X,t.prototype._onCancel=U,t.prototype._setOnCancel=O,t.prototype._attachCancellationCallback=I,t.prototype._execute=P,ne=X,ie.cancellation=!0}return"monitoring"in ce&&(ce.monitoring&&!ie.monitoring?(ie.monitoring=!0,t.prototype._fireEvent=k):!ce.monitoring&&ie.monitoring&&(ie.monitoring=!1,t.prototype._fireEvent=F)),t};function F(){return!1}t.prototype._fireEvent=F,t.prototype._execute=function(ce,ge,ye){try{ce(ge,ye)}catch(Ne){return Ne}},t.prototype._onCancel=function(){},t.prototype._setOnCancel=function(ce){},t.prototype._attachCancellationCallback=function(ce){},t.prototype._captureStackTrace=function(){},t.prototype._attachExtraTrace=function(){},t.prototype._clearCancellationData=function(){},t.prototype._propagateFrom=function(ce,ge){};function P(ce,ge,ye){var Ne=this;try{ce(ge,ye,function(Ue){if(typeof Ue!="function")throw new TypeError("onCancel must be a function, got: "+s.toString(Ue));Ne._attachCancellationCallback(Ue)})}catch(Ue){return Ue}}function I(ce){if(!this._isCancellable())return this;var ge=this._onCancel();ge!==void 0?s.isArray(ge)?ge.push(ce):this._setOnCancel([ge,ce]):this._setOnCancel(ce)}function U(){return this._onCancelField}function O(ce){this._onCancelField=ce}function K(){this._cancellationParent=void 0,this._onCancelField=void 0}function X(ce,ge){if((ge&1)!==0){this._cancellationParent=ce;var ye=ce._branchesRemainingToCancel;ye===void 0&&(ye=0),ce._branchesRemainingToCancel=ye+1}(ge&2)!==0&&ce._isBound()&&this._setBoundTo(ce._boundTo)}function J(ce,ge){(ge&2)!==0&&ce._isBound()&&this._setBoundTo(ce._boundTo)}var ne=J;function z(){var ce=this._boundTo;return ce!==void 0&&ce instanceof t?ce.isFulfilled()?ce.value():void 0:ce}function Q(){this._trace=new he(this._peekContext())}function B(ce,ge){if(a(ce)){var ye=this._trace;if(ye!==void 0&&ge&&(ye=ye._parent),ye!==void 0)ye.attachExtraTrace(ce);else if(!ce.__stackCleaned__){var Ne=Ae(ce);s.notEnumerableProp(ce,"stack",Ne.message+`
`+Ne.stack.join(`
`)),s.notEnumerableProp(ce,"__stackCleaned__",!0)}}}function j(ce,ge,ye,Ne,Ue){if(ce===void 0&&ge!==null&&w){if(Ue!==void 0&&Ue._returnedNonUndefined()||(Ne._bitField&65535)===0)return;ye&&(ye=ye+" ");var Se="",Me="";if(ge._trace){for(var Oe=ge._trace.stack.split(`
`),Xe=de(Oe),rt=Xe.length-1;rt>=0;--rt){var it=Xe[rt];if(!u.test(it)){var Lt=it.match(f);Lt&&(Se="at "+Lt[1]+":"+Lt[2]+":"+Lt[3]+" ");break}}if(Xe.length>0){for(var _n=Xe[0],rt=0;rt<Oe.length;++rt)if(Oe[rt]===_n){rt>0&&(Me=`
`+Oe[rt-1]);break}}}var cn="a promise was created in a "+ye+"handler "+Se+"but was not returned from it, see http://goo.gl/rRqMUw"+Me;Ne._warn(cn,!0,ge)}}function W(ce,ge){var ye=ce+" is deprecated and will be removed in a future version.";return ge&&(ye+=" Use "+ge+" instead."),G(ye)}function G(ce,ge,ye){if(ie.warnings){var Ne=new i(ce),Ue;if(ge)ye._attachExtraTrace(Ne);else if(ie.longStackTraces&&(Ue=t._peekContext()))Ue.attachExtraTrace(Ne);else{var Se=Ae(Ne);Ne.stack=Se.message+`
`+Se.stack.join(`
`)}k("warning",Ne)||Re(Ne,"",!0)}}function Y(ce,ge){for(var ye=0;ye<ge.length-1;++ye)ge[ye].push("From previous event:"),ge[ye]=ge[ye].join(`
`);return ye<ge.length&&(ge[ye]=ge[ye].join(`
`)),ce+`
`+ge.join(`
`)}function ee(ce){for(var ge=0;ge<ce.length;++ge)(ce[ge].length===0||ge+1<ce.length&&ce[ge][0]===ce[ge+1][0])&&(ce.splice(ge,1),ge--)}function ae(ce){for(var ge=ce[0],ye=1;ye<ce.length;++ye){for(var Ne=ce[ye],Ue=ge.length-1,Se=ge[Ue],Me=-1,Oe=Ne.length-1;Oe>=0;--Oe)if(Ne[Oe]===Se){Me=Oe;break}for(var Oe=Me;Oe>=0;--Oe){var Xe=Ne[Oe];if(ge[Ue]===Xe)ge.pop(),Ue--;else break}ge=Ne}}function de(ce){for(var ge=[],ye=0;ye<ce.length;++ye){var Ne=ce[ye],Ue=Ne==="    (No stack trace)"||h.test(Ne),Se=Ue&&Te(Ne);Ue&&!Se&&(v&&Ne.charAt(0)!==" "&&(Ne="    "+Ne),ge.push(Ne))}return ge}function fe(ce){for(var ge=ce.stack.replace(/\s+$/g,"").split(`
`),ye=0;ye<ge.length;++ye){var Ne=ge[ye];if(Ne==="    (No stack trace)"||h.test(Ne))break}return ye>0&&ce.name!="SyntaxError"&&(ge=ge.slice(ye)),ge}function Ae(ce){var ge=ce.stack,ye=ce.toString();return ge=typeof ge=="string"&&ge.length>0?fe(ce):["    (No stack trace)"],{message:ye,stack:ce.name=="SyntaxError"?ge:de(ge)}}function Re(ce,ge,ye){if(typeof console<"u"){var Ne;if(s.isObject(ce)){var Ue=ce.stack;Ne=ge+p(Ue,ce)}else Ne=ge+String(ce);typeof g=="function"?g(Ne,ye):(typeof console.log=="function"||typeof console.log=="object")&&console.log(Ne)}}function me(ce,ge,ye,Ne){var Ue=!1;try{typeof ge=="function"&&(Ue=!0,ce==="rejectionHandled"?ge(Ne):ge(ye,Ne))}catch(Se){r.throwLater(Se)}ce==="unhandledRejection"?!k(ce,ye,Ne)&&!Ue&&Re(ye,"Unhandled rejection "):k(ce,Ne)}function Le(ce){var ge;if(typeof ce=="function")ge="[function "+(ce.name||"anonymous")+"]";else{ge=ce&&typeof ce.toString=="function"?ce.toString():s.toString(ce);var ye=/\[object [a-zA-Z0-9$_]+\]/;if(ye.test(ge))try{var Ne=JSON.stringify(ce);ge=Ne}catch{}ge.length===0&&(ge="(empty array)")}return"(<"+V(ge)+">, no stack trace)"}function V(ce){var ge=41;return ce.length<ge?ce:ce.substr(0,ge-3)+"..."}function xe(){return typeof we=="function"}var Te=function(){return!1},le=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function re(ce){var ge=ce.match(le);if(ge)return{fileName:ge[1],line:parseInt(ge[2],10)}}function oe(ce,ge){if(xe()){for(var ye=ce.stack.split(`
`),Ne=ge.stack.split(`
`),Ue=-1,Se=-1,Me,Oe,Xe=0;Xe<ye.length;++Xe){var rt=re(ye[Xe]);if(rt){Me=rt.fileName,Ue=rt.line;break}}for(var Xe=0;Xe<Ne.length;++Xe){var rt=re(Ne[Xe]);if(rt){Oe=rt.fileName,Se=rt.line;break}}Ue<0||Se<0||!Me||!Oe||Me!==Oe||Ue>=Se||(Te=function(it){if(c.test(it))return!0;var Lt=re(it);return!!(Lt&&Lt.fileName===Me&&Ue<=Lt.line&&Lt.line<=Se)})}}function he(ce){this._parent=ce,this._promisesCreated=0;var ge=this._length=1+(ce===void 0?0:ce._length);we(this,he),ge>32&&this.uncycle()}s.inherits(he,Error),e.CapturedTrace=he,he.prototype.uncycle=function(){var ce=this._length;if(!(ce<2)){for(var ge=[],ye={},Ne=0,Ue=this;Ue!==void 0;++Ne)ge.push(Ue),Ue=Ue._parent;ce=this._length=Ne;for(var Ne=ce-1;Ne>=0;--Ne){var Se=ge[Ne].stack;ye[Se]===void 0&&(ye[Se]=Ne)}for(var Ne=0;Ne<ce;++Ne){var Me=ge[Ne].stack,Oe=ye[Me];if(Oe!==void 0&&Oe!==Ne){Oe>0&&(ge[Oe-1]._parent=void 0,ge[Oe-1]._length=1),ge[Ne]._parent=void 0,ge[Ne]._length=1;var Xe=Ne>0?ge[Ne-1]:this;Oe<ce-1?(Xe._parent=ge[Oe+1],Xe._parent.uncycle(),Xe._length=Xe._parent._length+1):(Xe._parent=void 0,Xe._length=1);for(var rt=Xe._length+1,it=Ne-2;it>=0;--it)ge[it]._length=rt,rt++;return}}}},he.prototype.attachExtraTrace=function(ce){if(!ce.__stackCleaned__){this.uncycle();for(var ge=Ae(ce),ye=ge.message,Ne=[ge.stack],Ue=this;Ue!==void 0;)Ne.push(de(Ue.stack.split(`
`))),Ue=Ue._parent;ae(Ne),ee(Ne),s.notEnumerableProp(ce,"stack",Y(ye,Ne)),s.notEnumerableProp(ce,"__stackCleaned__",!0)}};var we=(function(){var ge=/^\s*at\s*/,ye=function(Me,Oe){return typeof Me=="string"?Me:Oe.name!==void 0&&Oe.message!==void 0?Oe.toString():Le(Oe)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,h=ge,p=ye;var Ne=Error.captureStackTrace;return Te=function(Me){return c.test(Me)},function(Me,Oe){Error.stackTraceLimit+=6,Ne(Me,Oe),Error.stackTraceLimit-=6}}var Ue=new Error;if(typeof Ue.stack=="string"&&Ue.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return h=/@/,p=ye,v=!0,function(Oe){Oe.stack=new Error().stack};var Se;try{throw new Error}catch(Me){Se="stack"in Me}return!("stack"in Ue)&&Se&&typeof Error.stackTraceLimit=="number"?(h=ge,p=ye,function(Oe){Error.stackTraceLimit+=6;try{throw new Error}catch(Xe){Oe.stack=Xe.stack}Error.stackTraceLimit-=6}):(p=function(Me,Oe){return typeof Me=="string"?Me:(typeof Oe=="object"||typeof Oe=="function")&&Oe.name!==void 0&&Oe.message!==void 0?Oe.toString():Le(Oe)},null)})();typeof console<"u"&&typeof console.warn<"u"&&(g=function(ce){console.warn(ce)},s.isNode&&process.stderr.isTTY?g=function(ce,ge){var ye=ge?"\x1B[33m":"\x1B[31m";console.warn(ye+ce+`\x1B[0m
`)}:!s.isNode&&typeof new Error().stack=="string"&&(g=function(ce,ge){console.warn("%c"+ce,ge?"color: darkorange":"color: red")}));var ie={warnings:b,longStackTraces:!1,cancellation:!1,monitoring:!1};return _&&t.longStackTraces(),{longStackTraces:function(){return ie.longStackTraces},warnings:function(){return ie.warnings},cancellation:function(){return ie.cancellation},monitoring:function(){return ie.monitoring},propagateFromFunction:function(){return ne},boundValueFunction:function(){return z},checkForgottenReturns:j,setBounds:oe,warn:G,deprecated:W,CapturedTrace:he,fireDomEvent:S,fireGlobalEvent:R}}),DD}var AD,bL;function n9e(){return bL||(bL=1,AD=function(t,e){var n=or(),r=t.CancellationError,i=n.errorObj;function s(f,h,p){this.promise=f,this.type=h,this.handler=p,this.called=!1,this.cancelPromise=null}s.prototype.isFinallyHandler=function(){return this.type===0};function a(f){this.finallyHandler=f}a.prototype._resultCancelled=function(){o(this.finallyHandler)};function o(f,h){return f.cancelPromise!=null?(arguments.length>1?f.cancelPromise._reject(h):f.cancelPromise._cancel(),f.cancelPromise=null,!0):!1}function l(){return u.call(this,this.promise._target()._settledValue())}function c(f){if(!o(this,f))return i.e=f,i}function u(f){var h=this.promise,p=this.handler;if(!this.called){this.called=!0;var v=this.isFinallyHandler()?p.call(h._boundValue()):p.call(h._boundValue(),f);if(v!==void 0){h._setReturnedNonUndefined();var g=e(v,h);if(g instanceof t){if(this.cancelPromise!=null)if(g._isCancelled()){var y=new r("late cancellation observer");return h._attachExtraTrace(y),i.e=y,i}else g.isPending()&&g._attachCancellationCallback(new a(this));return g._then(l,c,void 0,this,void 0)}}}return h.isRejected()?(o(this),i.e=f,i):(o(this),f)}return t.prototype._passThrough=function(f,h,p,v){return typeof f!="function"?this.then():this._then(p,v,void 0,new s(this,h,f),void 0)},t.prototype.lastly=t.prototype.finally=function(f){return this._passThrough(f,0,u,u)},t.prototype.tap=function(f){return this._passThrough(f,1,u)},s}),AD}var ND,wL;function r9e(){return wL||(wL=1,ND=function(t){var e=or(),n=ig().keys,r=e.tryCatch,i=e.errorObj;function s(a,o,l){return function(c){var u=l._boundValue();e:for(var f=0;f<a.length;++f){var h=a[f];if(h===Error||h!=null&&h.prototype instanceof Error){if(c instanceof h)return r(o).call(u,c)}else if(typeof h=="function"){var p=r(h).call(u,c);if(p===i)return p;if(p)return r(o).call(u,c)}else if(e.isObject(c)){for(var v=n(h),g=0;g<v.length;++g){var y=v[g];if(h[y]!=c[y])continue e}return r(o).call(u,c)}}return t}}return s}),ND}var ID,TL;function $Y(){if(TL)return ID;TL=1;var t=or(),e=t.maybeWrapAsError,n=Xu(),r=n.OperationalError,i=ig();function s(c){return c instanceof Error&&i.getPrototypeOf(c)===Error.prototype}var a=/^(?:name|message|stack|cause)$/;function o(c){var u;if(s(c)){u=new r(c),u.name=c.name,u.message=c.message,u.stack=c.stack;for(var f=i.keys(c),h=0;h<f.length;++h){var p=f[h];a.test(p)||(u[p]=c[p])}return u}return t.markAsOriginatingFromRejection(c),c}function l(c,u){return function(f,h){if(c!==null){if(f){var p=o(e(f));c._attachExtraTrace(p),c._reject(p)}else if(!u)c._fulfill(h);else{for(var v=arguments.length,g=new Array(Math.max(v-1,0)),y=1;y<v;++y)g[y-1]=arguments[y];c._fulfill(g)}c=null}}}return ID=l,ID}var kD,EL;function i9e(){return EL||(EL=1,kD=function(t,e,n,r,i){var s=or(),a=s.tryCatch;t.method=function(o){if(typeof o!="function")throw new t.TypeError("expecting a function but got "+s.classString(o));return function(){var l=new t(e);l._captureStackTrace(),l._pushContext();var c=a(o).apply(this,arguments),u=l._popContext();return i.checkForgottenReturns(c,u,"Promise.method",l),l._resolveFromSyncValue(c),l}},t.attempt=t.try=function(o){if(typeof o!="function")return r("expecting a function but got "+s.classString(o));var l=new t(e);l._captureStackTrace(),l._pushContext();var c;if(arguments.length>1){i.deprecated("calling Promise.try with more than 1 argument");var u=arguments[1],f=arguments[2];c=s.isArray(u)?a(o).apply(f,u):a(o).call(f,u)}else c=a(o)();var h=l._popContext();return i.checkForgottenReturns(c,h,"Promise.try",l),l._resolveFromSyncValue(c),l},t.prototype._resolveFromSyncValue=function(o){o===s.errorObj?this._rejectCallback(o.e,!1):this._resolveCallback(o,!0)}}),kD}var RD,CL;function s9e(){return CL||(CL=1,RD=function(t,e,n,r){var i=!1,s=function(c,u){this._reject(u)},a=function(c,u){u.promiseRejectionQueued=!0,u.bindingPromise._then(s,s,null,this,c)},o=function(c,u){(this._bitField&50397184)===0&&this._resolveCallback(u.target)},l=function(c,u){u.promiseRejectionQueued||this._reject(c)};t.prototype.bind=function(c){i||(i=!0,t.prototype._propagateFrom=r.propagateFromFunction(),t.prototype._boundValue=r.boundValueFunction());var u=n(c),f=new t(e);f._propagateFrom(this,1);var h=this._target();if(f._setBoundTo(u),u instanceof t){var p={promiseRejectionQueued:!1,promise:f,target:h,bindingPromise:u};h._then(e,a,void 0,f,p),u._then(o,l,void 0,f,p),f._setOnCancel(u)}else f._resolveCallback(h);return f},t.prototype._setBoundTo=function(c){c!==void 0?(this._bitField=this._bitField|2097152,this._boundTo=c):this._bitField=this._bitField&-2097153},t.prototype._isBound=function(){return(this._bitField&2097152)===2097152},t.bind=function(c,u){return t.resolve(u).bind(c)}}),RD}var PD,SL;function a9e(){return SL||(SL=1,PD=function(t,e,n,r){var i=or(),s=i.tryCatch,a=i.errorObj,o=t._async;t.prototype.break=t.prototype.cancel=function(){if(!r.cancellation())return this._warn("cancellation is disabled");for(var l=this,c=l;l._isCancellable();){if(!l._cancelBy(c)){c._isFollowing()?c._followee().cancel():c._cancelBranched();break}var u=l._cancellationParent;if(u==null||!u._isCancellable()){l._isFollowing()?l._followee().cancel():l._cancelBranched();break}else l._isFollowing()&&l._followee().cancel(),l._setWillBeCancelled(),c=l,l=u}},t.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},t.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},t.prototype._cancelBy=function(l){return l===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),this._enoughBranchesHaveCancelled()?(this._invokeOnCancel(),!0):!1)},t.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},t.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),o.invoke(this._cancelPromises,this,void 0))},t.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},t.prototype._unsetOnCancel=function(){this._onCancelField=void 0},t.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},t.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},t.prototype._doInvokeOnCancel=function(l,c){if(i.isArray(l))for(var u=0;u<l.length;++u)this._doInvokeOnCancel(l[u],c);else if(l!==void 0)if(typeof l=="function"){if(!c){var f=s(l).call(this._boundValue());f===a&&(this._attachExtraTrace(f.e),o.throwLater(f.e))}}else l._resultCancelled(this)},t.prototype._invokeOnCancel=function(){var l=this._onCancel();this._unsetOnCancel(),o.invoke(this._doInvokeOnCancel,this,l)},t.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},t.prototype._resultCancelled=function(){this.cancel()}}),PD}var FD,DL;function o9e(){return DL||(DL=1,FD=function(t){function e(){return this.value}function n(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(r){return r instanceof t&&r.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:r},void 0)},t.prototype.throw=t.prototype.thenThrow=function(r){return this._then(n,void 0,void 0,{reason:r},void 0)},t.prototype.catchThrow=function(r){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:r},void 0);var i=arguments[1],s=function(){throw i};return this.caught(r,s)},t.prototype.catchReturn=function(r){if(arguments.length<=1)return r instanceof t&&r.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:r},void 0);var i=arguments[1];i instanceof t&&i.suppressUnhandledRejections();var s=function(){return i};return this.caught(r,s)}}),FD}var MD,AL;function l9e(){return AL||(AL=1,MD=function(t){function e(l){l!==void 0?(l=l._target(),this._bitField=l._bitField,this._settledValueField=l._isFateSealed()?l._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var n=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},r=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},i=e.prototype.isFulfilled=function(){return(this._bitField&33554432)!==0},s=e.prototype.isRejected=function(){return(this._bitField&16777216)!==0},a=e.prototype.isPending=function(){return(this._bitField&50397184)===0},o=e.prototype.isResolved=function(){return(this._bitField&50331648)!==0};e.prototype.isCancelled=function(){return(this._bitField&8454144)!==0},t.prototype.__isCancelled=function(){return(this._bitField&65536)===65536},t.prototype._isCancelled=function(){return this._target().__isCancelled()},t.prototype.isCancelled=function(){return(this._target()._bitField&8454144)!==0},t.prototype.isPending=function(){return a.call(this._target())},t.prototype.isRejected=function(){return s.call(this._target())},t.prototype.isFulfilled=function(){return i.call(this._target())},t.prototype.isResolved=function(){return o.call(this._target())},t.prototype.value=function(){return n.call(this._target())},t.prototype.reason=function(){var l=this._target();return l._unsetRejectionIsUnhandled(),r.call(l)},t.prototype._value=function(){return this._settledValue()},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},t.PromiseInspection=e}),MD}var UD,NL;function c9e(){return NL||(NL=1,UD=function(t,e,n,r,i,s){var a=or(),o=a.canEvaluate,l=a.tryCatch,c=a.errorObj,u;if(o){for(var f=function(_){return new Function("value","holder",`                             
	            'use strict';                                                    
	            holder.pIndex = value;                                           
	            holder.checkFulfillment(this);                                   
	            `.replace(/Index/g,_))},h=function(_){return new Function("promise","holder",`                           
	            'use strict';                                                    
	            holder.pIndex = promise;                                         
	            `.replace(/Index/g,_))},p=function(_){for(var w=new Array(_),C=0;C<w.length;++C)w[C]="this.p"+(C+1);var S=w.join(" = ")+" = null;",R=`var promise;
`+w.map(function(F){return`                                                         
	                promise = `+F+`;                                      
	                if (promise instanceof Promise) {                            
	                    promise.cancel();                                        
	                }                                                            
	            `}).join(`
`),D=w.join(", "),N="Holder$"+_,k=`return function(tryCatch, errorObj, Promise, async) {    
	            'use strict';                                                    
	            function [TheName](fn) {                                         
	                [TheProperties]                                              
	                this.fn = fn;                                                
	                this.asyncNeeded = true;                                     
	                this.now = 0;                                                
	            }                                                                
	                                                                             
	            [TheName].prototype._callFunction = function(promise) {          
	                promise._pushContext();                                      
	                var ret = tryCatch(this.fn)([ThePassedArguments]);           
	                promise._popContext();                                       
	                if (ret === errorObj) {                                      
	                    promise._rejectCallback(ret.e, false);                   
	                } else {                                                     
	                    promise._resolveCallback(ret);                           
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype.checkFulfillment = function(promise) {       
	                var now = ++this.now;                                        
	                if (now === [TheTotal]) {                                    
	                    if (this.asyncNeeded) {                                  
	                        async.invoke(this._callFunction, this, promise);     
	                    } else {                                                 
	                        this._callFunction(promise);                         
	                    }                                                        
	                                                                             
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype._resultCancelled = function() {              
	                [CancellationCode]                                           
	            };                                                               
	                                                                             
	            return [TheName];                                                
	        }(tryCatch, errorObj, Promise, async);                               
	        `;return k=k.replace(/\[TheName\]/g,N).replace(/\[TheTotal\]/g,_).replace(/\[ThePassedArguments\]/g,D).replace(/\[TheProperties\]/g,S).replace(/\[CancellationCode\]/g,R),new Function("tryCatch","errorObj","Promise","async",k)(l,c,t,i)},v=[],g=[],y=[],b=0;b<8;++b)v.push(p(b+1)),g.push(f(b+1)),y.push(h(b+1));u=function(_){this._reject(_)}}t.join=function(){var _=arguments.length-1,w;if(_>0&&typeof arguments[_]=="function"&&(w=arguments[_],_<=8&&o)){var O=new t(r);O._captureStackTrace();for(var C=v[_-1],S=new C(w),R=g,D=0;D<_;++D){var N=n(arguments[D],O);if(N instanceof t){N=N._target();var k=N._bitField;(k&50397184)===0?(N._then(R[D],u,void 0,O,S),y[D](N,S),S.asyncNeeded=!1):(k&33554432)!==0?R[D].call(O,N._value(),S):(k&16777216)!==0?O._reject(N._reason()):O._cancel()}else R[D].call(O,N,S)}if(!O._isFateSealed()){if(S.asyncNeeded){var F=s();F!==null&&(S.fn=a.domainBind(F,S.fn))}O._setAsyncGuaranteed(),O._setOnCancel(S)}return O}for(var P=arguments.length,I=new Array(P),U=0;U<P;++U)I[U]=arguments[U];w&&I.pop();var O=new e(I).promise();return w!==void 0?O.spread(w):O}}),UD}var OD,IL;function u9e(){return IL||(IL=1,OD=function(t,e,n,r,i,s){var a=t._getDomain,o=or(),l=o.tryCatch,c=o.errorObj,u=t._async;function f(p,v,g,y){this.constructor$(p),this._promise._captureStackTrace();var b=a();this._callback=b===null?v:o.domainBind(b,v),this._preservedValues=y===i?new Array(this.length()):null,this._limit=g,this._inFlight=0,this._queue=[],u.invoke(this._asyncInit,this,void 0)}o.inherits(f,e),f.prototype._asyncInit=function(){this._init$(void 0,-2)},f.prototype._init=function(){},f.prototype._promiseFulfilled=function(p,v){var g=this._values,y=this.length(),b=this._preservedValues,_=this._limit;if(v<0){if(v=v*-1-1,g[v]=p,_>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(_>=1&&this._inFlight>=_)return g[v]=p,this._queue.push(v),!1;b!==null&&(b[v]=p);var w=this._promise,C=this._callback,S=w._boundValue();w._pushContext();var R=l(C).call(S,p,v,y),D=w._popContext();if(s.checkForgottenReturns(R,D,b!==null?"Promise.filter":"Promise.map",w),R===c)return this._reject(R.e),!0;var N=r(R,this._promise);if(N instanceof t){N=N._target();var k=N._bitField;if((k&50397184)===0)return _>=1&&this._inFlight++,g[v]=N,N._proxy(this,(v+1)*-1),!1;if((k&33554432)!==0)R=N._value();else return(k&16777216)!==0?(this._reject(N._reason()),!0):(this._cancel(),!0)}g[v]=R}var F=++this._totalResolved;return F>=y?(b!==null?this._filter(g,b):this._resolve(g),!0):!1},f.prototype._drainQueue=function(){for(var p=this._queue,v=this._limit,g=this._values;p.length>0&&this._inFlight<v;){if(this._isResolved())return;var y=p.pop();this._promiseFulfilled(g[y],y)}},f.prototype._filter=function(p,v){for(var g=v.length,y=new Array(g),b=0,_=0;_<g;++_)p[_]&&(y[b++]=v[_]);y.length=b,this._resolve(y)},f.prototype.preservedValues=function(){return this._preservedValues};function h(p,v,g,y){if(typeof v!="function")return n("expecting a function but got "+o.classString(v));var b=0;if(g!==void 0)if(typeof g=="object"&&g!==null){if(typeof g.concurrency!="number")return t.reject(new TypeError("'concurrency' must be a number but it is "+o.classString(g.concurrency)));b=g.concurrency}else return t.reject(new TypeError("options argument must be an object but it is "+o.classString(g)));return b=typeof b=="number"&&isFinite(b)&&b>=1?b:0,new f(p,v,b,y).promise()}t.prototype.map=function(p,v){return h(this,p,v,null)},t.map=function(p,v,g,y){return h(p,v,g,y)}}),OD}var LD,kL;function d9e(){if(kL)return LD;kL=1;var t=Object.create;if(t){var e=t(null),n=t(null);e[" size"]=n[" size"]=0}return LD=function(r){var i=or(),s=i.canEvaluate,a=i.isIdentifier,o,l;{var c=function(y){return new Function("ensureMethod",`                                    
	        return function(obj) {                                               
	            'use strict'                                                     
	            var len = this.length;                                           
	            ensureMethod(obj, 'methodName');                                 
	            switch(len) {                                                    
	                case 1: return obj.methodName(this[0]);                      
	                case 2: return obj.methodName(this[0], this[1]);             
	                case 3: return obj.methodName(this[0], this[1], this[2]);    
	                case 0: return obj.methodName();                             
	                default:                                                     
	                    return obj.methodName.apply(obj, this);                  
	            }                                                                
	        };                                                                   
	        `.replace(/methodName/g,y))(h)},u=function(y){return new Function("obj",`                                             
	        'use strict';                                                        
	        return obj.propertyName;                                             
	        `.replace("propertyName",y))},f=function(y,b,_){var w=_[y];if(typeof w!="function"){if(!a(y))return null;if(w=b(y),_[y]=w,_[" size"]++,_[" size"]>512){for(var C=Object.keys(_),S=0;S<256;++S)delete _[C[S]];_[" size"]=C.length-256}}return w};o=function(y){return f(y,c,e)},l=function(y){return f(y,u,n)}}function h(y,b){var _;if(y!=null&&(_=y[b]),typeof _!="function"){var w="Object "+i.classString(y)+" has no method '"+i.toString(b)+"'";throw new r.TypeError(w)}return _}function p(y){var b=this.pop(),_=h(y,b);return _.apply(y,this)}r.prototype.call=function(y){for(var b=arguments.length,_=new Array(Math.max(b-1,0)),w=1;w<b;++w)_[w-1]=arguments[w];if(s){var C=o(y);if(C!==null)return this._then(C,void 0,void 0,_,void 0)}return _.push(y),this._then(p,void 0,void 0,_,void 0)};function v(y){return y[this]}function g(y){var b=+this;return b<0&&(b=Math.max(0,b+y.length)),y[b]}r.prototype.get=function(y){var b=typeof y=="number",_;if(b)_=g;else if(s){var w=l(y);_=w!==null?w:v}else _=v;return this._then(_,void 0,void 0,y,void 0)}},LD}var jD,RL;function f9e(){return RL||(RL=1,jD=function(t,e,n,r,i,s){var a=or(),o=Xu().TypeError,l=or().inherits,c=a.errorObj,u=a.tryCatch,f={};function h(w){setTimeout(function(){throw w},0)}function p(w){var C=n(w);return C!==w&&typeof w._isDisposable=="function"&&typeof w._getDisposer=="function"&&w._isDisposable()&&C._setDisposable(w._getDisposer()),C}function v(w,C){var S=0,R=w.length,D=new t(i);function N(){if(S>=R)return D._fulfill();var k=p(w[S++]);if(k instanceof t&&k._isDisposable()){try{k=n(k._getDisposer().tryDispose(C),w.promise)}catch(F){return h(F)}if(k instanceof t)return k._then(N,h,null,null,null)}N()}return N(),D}function g(w,C,S){this._data=w,this._promise=C,this._context=S}g.prototype.data=function(){return this._data},g.prototype.promise=function(){return this._promise},g.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():f},g.prototype.tryDispose=function(w){var C=this.resource(),S=this._context;S!==void 0&&S._pushContext();var R=C!==f?this.doDispose(C,w):null;return S!==void 0&&S._popContext(),this._promise._unsetDisposable(),this._data=null,R},g.isDisposer=function(w){return w!=null&&typeof w.resource=="function"&&typeof w.tryDispose=="function"};function y(w,C,S){this.constructor$(w,C,S)}l(y,g),y.prototype.doDispose=function(w,C){var S=this.data();return S.call(w,w,C)};function b(w){return g.isDisposer(w)?(this.resources[this.index]._setDisposable(w),w.promise()):w}function _(w){this.length=w,this.promise=null,this[w-1]=null}_.prototype._resultCancelled=function(){for(var w=this.length,C=0;C<w;++C){var S=this[C];S instanceof t&&S.cancel()}},t.using=function(){var w=arguments.length;if(w<2)return e("you must pass at least 2 arguments to Promise.using");var C=arguments[w-1];if(typeof C!="function")return e("expecting a function but got "+a.classString(C));var S,R=!0;w===2&&Array.isArray(arguments[0])?(S=arguments[0],w=S.length,R=!1):(S=arguments,w--);for(var D=new _(w),N=0;N<w;++N){var k=S[N];if(g.isDisposer(k)){var F=k;k=k.promise(),k._setDisposable(F)}else{var P=n(k);P instanceof t&&(k=P._then(b,null,null,{resources:D,index:N},void 0))}D[N]=k}for(var I=new Array(D.length),N=0;N<I.length;++N)I[N]=t.resolve(D[N]).reflect();var U=t.all(I).then(function(K){for(var X=0;X<K.length;++X){var J=K[X];if(J.isRejected())return c.e=J.error(),c;if(!J.isFulfilled()){U.cancel();return}K[X]=J.value()}O._pushContext(),C=u(C);var ne=R?C.apply(void 0,K):C(K),z=O._popContext();return s.checkForgottenReturns(ne,z,"Promise.using",O),ne}),O=U.lastly(function(){var K=new t.PromiseInspection(U);return v(D,K)});return D.promise=O,O._setOnCancel(D),O},t.prototype._setDisposable=function(w){this._bitField=this._bitField|131072,this._disposer=w},t.prototype._isDisposable=function(){return(this._bitField&131072)>0},t.prototype._getDisposer=function(){return this._disposer},t.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},t.prototype.disposer=function(w){if(typeof w=="function")return new y(w,this,r());throw new o}}),jD}var BD,PL;function h9e(){return PL||(PL=1,BD=function(t,e,n){var r=or(),i=t.TimeoutError;function s(f){this.handle=f}s.prototype._resultCancelled=function(){clearTimeout(this.handle)};var a=function(f){return o(+this).thenReturn(f)},o=t.delay=function(f,h){var p,v;return h!==void 0?(p=t.resolve(h)._then(a,null,null,f,void 0),n.cancellation()&&h instanceof t&&p._setOnCancel(h)):(p=new t(e),v=setTimeout(function(){p._fulfill()},+f),n.cancellation()&&p._setOnCancel(new s(v)),p._captureStackTrace()),p._setAsyncGuaranteed(),p};t.prototype.delay=function(f){return o(f,this)};var l=function(f,h,p){var v;typeof h!="string"?h instanceof Error?v=h:v=new i("operation timed out"):v=new i(h),r.markAsOriginatingFromRejection(v),f._attachExtraTrace(v),f._reject(v),p!=null&&p.cancel()};function c(f){return clearTimeout(this.handle),f}function u(f){throw clearTimeout(this.handle),f}t.prototype.timeout=function(f,h){f=+f;var p,v,g=new s(setTimeout(function(){p.isPending()&&l(p,h,v)},f));return n.cancellation()?(v=this.then(),p=v._then(c,u,void 0,g,void 0),p._setOnCancel(g)):p=this._then(c,u,void 0,g,void 0),p}}),BD}var VD,FL;function p9e(){return FL||(FL=1,VD=function(t,e,n,r,i,s){var a=Xu(),o=a.TypeError,l=or(),c=l.errorObj,u=l.tryCatch,f=[];function h(v,g,y){for(var b=0;b<g.length;++b){y._pushContext();var _=u(g[b])(v);if(y._popContext(),_===c){y._pushContext();var w=t.reject(c.e);return y._popContext(),w}var C=r(_,y);if(C instanceof t)return C}return null}function p(v,g,y,b){if(s.cancellation()){var _=new t(n),w=this._finallyPromise=new t(n);this._promise=_.lastly(function(){return w}),_._captureStackTrace(),_._setOnCancel(this)}else{var C=this._promise=new t(n);C._captureStackTrace()}this._stack=b,this._generatorFunction=v,this._receiver=g,this._generator=void 0,this._yieldHandlers=typeof y=="function"?[y].concat(f):f,this._yieldedPromise=null,this._cancellationPhase=!1}l.inherits(p,i),p.prototype._isResolved=function(){return this._promise===null},p.prototype._cleanup=function(){this._promise=this._generator=null,s.cancellation()&&this._finallyPromise!==null&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},p.prototype._promiseCancelled=function(){if(!this._isResolved()){var v=typeof this._generator.return<"u",g;if(v)this._promise._pushContext(),g=u(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var y=new t.CancellationError("generator .return() sentinel");t.coroutine.returnSentinel=y,this._promise._attachExtraTrace(y),this._promise._pushContext(),g=u(this._generator.throw).call(this._generator,y),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(g)}},p.prototype._promiseFulfilled=function(v){this._yieldedPromise=null,this._promise._pushContext();var g=u(this._generator.next).call(this._generator,v);this._promise._popContext(),this._continue(g)},p.prototype._promiseRejected=function(v){this._yieldedPromise=null,this._promise._attachExtraTrace(v),this._promise._pushContext();var g=u(this._generator.throw).call(this._generator,v);this._promise._popContext(),this._continue(g)},p.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof t){var v=this._yieldedPromise;this._yieldedPromise=null,v.cancel()}},p.prototype.promise=function(){return this._promise},p.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},p.prototype._continue=function(v){var g=this._promise;if(v===c)return this._cleanup(),this._cancellationPhase?g.cancel():g._rejectCallback(v.e,!1);var y=v.value;if(v.done===!0)return this._cleanup(),this._cancellationPhase?g.cancel():g._resolveCallback(y);var b=r(y,this._promise);if(!(b instanceof t)&&(b=h(b,this._yieldHandlers,this._promise),b===null)){this._promiseRejected(new o(`A value %s was yielded that could not be treated as a promise

    See http://goo.gl/MqrFmX

`.replace("%s",y)+`From coroutine:
`+this._stack.split(`
`).slice(1,-7).join(`
`)));return}b=b._target();var _=b._bitField;(_&50397184)===0?(this._yieldedPromise=b,b._proxy(this,null)):(_&33554432)!==0?t._async.invoke(this._promiseFulfilled,this,b._value()):(_&16777216)!==0?t._async.invoke(this._promiseRejected,this,b._reason()):this._promiseCancelled()},t.coroutine=function(v,g){if(typeof v!="function")throw new o(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var y=Object(g).yieldHandler,b=p,_=new Error().stack;return function(){var w=v.apply(this,arguments),C=new b(void 0,void 0,y,_),S=C.promise();return C._generator=w,C._promiseFulfilled(void 0),S}},t.coroutine.addYieldHandler=function(v){if(typeof v!="function")throw new o("expecting a function but got "+l.classString(v));f.push(v)},t.spawn=function(v){if(s.deprecated("Promise.spawn()","Promise.coroutine()"),typeof v!="function")return e(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var g=new p(v,this),y=g.promise();return g._run(t.spawn),y}}),VD}var WD,ML;function m9e(){return ML||(ML=1,WD=function(t){var e=or(),n=t._async,r=e.tryCatch,i=e.errorObj;function s(l,c){var u=this;if(!e.isArray(l))return a.call(u,l,c);var f=r(c).apply(u._boundValue(),[null].concat(l));f===i&&n.throwLater(f.e)}function a(l,c){var u=this,f=u._boundValue(),h=l===void 0?r(c).call(f,null):r(c).call(f,null,l);h===i&&n.throwLater(h.e)}function o(l,c){var u=this;if(!l){var f=new Error(l+"");f.cause=l,l=f}var h=r(c).call(u._boundValue(),l);h===i&&n.throwLater(h.e)}t.prototype.asCallback=t.prototype.nodeify=function(l,c){if(typeof l=="function"){var u=a;c!==void 0&&Object(c).spread&&(u=s),this._then(u,o,void 0,this,l)}return this}}),WD}var qD,UL;function g9e(){return UL||(UL=1,qD=function(t,e){var n={},r=or(),i=$Y(),s=r.withAppended,a=r.maybeWrapAsError,o=r.canEvaluate,l=Xu().TypeError,c="Async",u={__isPromisified__:!0},f=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],h=new RegExp("^(?:"+f.join("|")+")$"),p=function(U){return r.isIdentifier(U)&&U.charAt(0)!=="_"&&U!=="constructor"};function v(U){return!h.test(U)}function g(U){try{return U.__isPromisified__===!0}catch{return!1}}function y(U,O,K){var X=r.getDataPropertyOrDefault(U,O+K,u);return X?g(X):!1}function b(U,O,K){for(var X=0;X<U.length;X+=2){var J=U[X];if(K.test(J)){for(var ne=J.replace(K,""),z=0;z<U.length;z+=2)if(U[z]===ne)throw new l(`Cannot promisify an API that has normal methods with '%s'-suffix

    See http://goo.gl/MqrFmX
`.replace("%s",O))}}}function _(U,O,K,X){for(var J=r.inheritedDataKeys(U),ne=[],z=0;z<J.length;++z){var Q=J[z],B=U[Q],j=X===p?!0:p(Q);typeof B=="function"&&!g(B)&&!y(U,Q,O)&&X(Q,B,U,j)&&ne.push(Q,B)}return b(ne,O,K),ne}var w=function(U){return U.replace(/([$])/,"\\$")},C;{var S=function(U){for(var O=[U],K=Math.max(0,U-1-3),X=U-1;X>=K;--X)O.push(X);for(var X=U+1;X<=3;++X)O.push(X);return O},R=function(U){return r.filledRange(U,"_arg","")},D=function(U){return r.filledRange(Math.max(U,3),"_arg","")},N=function(U){return typeof U.length=="number"?Math.max(Math.min(U.length,1024),0):0};C=function(U,O,K,X,J,ne){var z=Math.max(0,N(X)-1),Q=S(z),B=typeof U=="string"||O===n;function j(ee){var ae=R(ee).join(", "),de=ee>0?", ":"",fe;return B?fe=`ret = callback.call(this, {{args}}, nodeback); break;
`:fe=O===void 0?`ret = callback({{args}}, nodeback); break;
`:`ret = callback.call(receiver, {{args}}, nodeback); break;
`,fe.replace("{{args}}",ae).replace(", ",de)}function W(){for(var ee="",ae=0;ae<Q.length;++ae)ee+="case "+Q[ae]+":"+j(Q[ae]);return ee+=`                                                             
	        default:                                                             
	            var args = new Array(len + 1);                                   
	            var i = 0;                                                       
	            for (var i = 0; i < len; ++i) {                                  
	               args[i] = arguments[i];                                       
	            }                                                                
	            args[i] = nodeback;                                              
	            [CodeForCall]                                                    
	            break;                                                           
	        `.replace("[CodeForCall]",B?`ret = callback.apply(this, args);
`:`ret = callback.apply(receiver, args);
`),ee}var G=typeof U=="string"?"this != null ? this['"+U+"'] : fn":"fn",Y=`'use strict';                                                
	        var ret = function (Parameters) {                                    
	            'use strict';                                                    
	            var len = arguments.length;                                      
	            var promise = new Promise(INTERNAL);                             
	            promise._captureStackTrace();                                    
	            var nodeback = nodebackForPromise(promise, `+ne+`);   
	            var ret;                                                         
	            var callback = tryCatch([GetFunctionCode]);                      
	            switch(len) {                                                    
	                [CodeForSwitchCase]                                          
	            }                                                                
	            if (ret === errorObj) {                                          
	                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);
	            }                                                                
	            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     
	            return promise;                                                  
	        };                                                                   
	        notEnumerableProp(ret, '__isPromisified__', true);                   
	        return ret;                                                          
	    `.replace("[CodeForSwitchCase]",W()).replace("[GetFunctionCode]",G);return Y=Y.replace("Parameters",D(z)),new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL",Y)(t,X,O,s,a,i,r.tryCatch,r.errorObj,r.notEnumerableProp,e)}}function k(U,O,K,X,J,ne){var z=(function(){return this})(),Q=U;typeof Q=="string"&&(U=X);function B(){var j=O;O===n&&(j=this);var W=new t(e);W._captureStackTrace();var G=typeof Q=="string"&&this!==z?this[Q]:U,Y=i(W,ne);try{G.apply(j,s(arguments,Y))}catch(ee){W._rejectCallback(a(ee),!0,!0)}return W._isFateSealed()||W._setAsyncGuaranteed(),W}return r.notEnumerableProp(B,"__isPromisified__",!0),B}var F=o?C:k;function P(U,O,K,X,J){for(var ne=new RegExp(w(O)+"$"),z=_(U,O,ne,K),Q=0,B=z.length;Q<B;Q+=2){var j=z[Q],W=z[Q+1],G=j+O;if(X===F)U[G]=F(j,n,j,W,O,J);else{var Y=X(W,function(){return F(j,n,j,W,O,J)});r.notEnumerableProp(Y,"__isPromisified__",!0),U[G]=Y}}return r.toFastProperties(U),U}function I(U,O,K){return F(U,O,void 0,U,null,K)}t.promisify=function(U,O){if(typeof U!="function")throw new l("expecting a function but got "+r.classString(U));if(g(U))return U;O=Object(O);var K=O.context===void 0?n:O.context,X=!!O.multiArgs,J=I(U,K,X);return r.copyDescriptors(U,J,v),J},t.promisifyAll=function(U,O){if(typeof U!="function"&&typeof U!="object")throw new l(`the target of promisifyAll must be an object or a function

    See http://goo.gl/MqrFmX
`);O=Object(O);var K=!!O.multiArgs,X=O.suffix;typeof X!="string"&&(X=c);var J=O.filter;typeof J!="function"&&(J=p);var ne=O.promisifier;if(typeof ne!="function"&&(ne=F),!r.isIdentifier(X))throw new RangeError(`suffix must be a valid identifier

    See http://goo.gl/MqrFmX
`);for(var z=r.inheritedDataKeys(U),Q=0;Q<z.length;++Q){var B=U[z[Q]];z[Q]!=="constructor"&&r.isClass(B)&&(P(B.prototype,X,J,ne,K),P(B,X,J,ne,K))}return P(U,X,J,ne,K)}}),qD}var $D,OL;function y9e(){return OL||(OL=1,$D=function(t,e,n,r){var i=or(),s=i.isObject,a=ig(),o;typeof Map=="function"&&(o=Map);var l=(function(){var h=0,p=0;function v(g,y){this[h]=g,this[h+p]=y,h++}return function(y){p=y.size,h=0;var b=new Array(y.size*2);return y.forEach(v,b),b}})(),c=function(h){for(var p=new o,v=h.length/2|0,g=0;g<v;++g){var y=h[v+g],b=h[g];p.set(y,b)}return p};function u(h){var p=!1,v;if(o!==void 0&&h instanceof o)v=l(h),p=!0;else{var g=a.keys(h),y=g.length;v=new Array(y*2);for(var b=0;b<y;++b){var _=g[b];v[b]=h[_],v[b+y]=_}}this.constructor$(v),this._isMap=p,this._init$(void 0,-3)}i.inherits(u,e),u.prototype._init=function(){},u.prototype._promiseFulfilled=function(h,p){this._values[p]=h;var v=++this._totalResolved;if(v>=this._length){var g;if(this._isMap)g=c(this._values);else{g={};for(var y=this.length(),b=0,_=this.length();b<_;++b)g[this._values[b+y]]=this._values[b]}return this._resolve(g),!0}return!1},u.prototype.shouldCopyValues=function(){return!1},u.prototype.getActualLength=function(h){return h>>1};function f(h){var p,v=n(h);if(s(v))v instanceof t?p=v._then(t.props,void 0,void 0,void 0,void 0):p=new u(v).promise();else return r(`cannot await properties of a non-object

    See http://goo.gl/MqrFmX
`);return v instanceof t&&p._propagateFrom(v,2),p}t.prototype.props=function(){return f(this)},t.props=function(h){return f(h)}}),$D}var zD,LL;function v9e(){return LL||(LL=1,zD=function(t,e,n,r){var i=or(),s=function(o){return o.then(function(l){return a(l,o)})};function a(o,l){var c=n(o);if(c instanceof t)return s(c);if(o=i.asArray(o),o===null)return r("expecting an array or an iterable object but got "+i.classString(o));var u=new t(e);l!==void 0&&u._propagateFrom(l,3);for(var f=u._fulfill,h=u._reject,p=0,v=o.length;p<v;++p){var g=o[p];g===void 0&&!(p in o)||t.cast(g)._then(f,h,void 0,u,null)}return u}t.race=function(o){return a(o,void 0)},t.prototype.race=function(){return a(this,void 0)}}),zD}var HD,jL;function x9e(){return jL||(jL=1,HD=function(t,e,n,r,i,s){var a=t._getDomain,o=or(),l=o.tryCatch;function c(v,g,y,b){this.constructor$(v);var _=a();this._fn=_===null?g:o.domainBind(_,g),y!==void 0&&(y=t.resolve(y),y._attachCancellationCallback(this)),this._initialValue=y,this._currentCancellable=null,b===i?this._eachValues=Array(this._length):b===0?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}o.inherits(c,e),c.prototype._gotAccum=function(v){this._eachValues!==void 0&&this._eachValues!==null&&v!==i&&this._eachValues.push(v)},c.prototype._eachComplete=function(v){return this._eachValues!==null&&this._eachValues.push(v),this._eachValues},c.prototype._init=function(){},c.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==void 0?this._eachValues:this._initialValue)},c.prototype.shouldCopyValues=function(){return!1},c.prototype._resolve=function(v){this._promise._resolveCallback(v),this._values=null},c.prototype._resultCancelled=function(v){if(v===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof t&&this._currentCancellable.cancel(),this._initialValue instanceof t&&this._initialValue.cancel())},c.prototype._iterate=function(v){this._values=v;var g,y,b=v.length;if(this._initialValue!==void 0?(g=this._initialValue,y=0):(g=t.resolve(v[0]),y=1),this._currentCancellable=g,!g.isRejected())for(;y<b;++y){var _={accum:null,value:v[y],index:y,length:b,array:this};g=g._then(h,void 0,void 0,_,void 0)}this._eachValues!==void 0&&(g=g._then(this._eachComplete,void 0,void 0,this,void 0)),g._then(u,u,void 0,g,this)},t.prototype.reduce=function(v,g){return f(this,v,g,null)},t.reduce=function(v,g,y,b){return f(v,g,y,b)};function u(v,g){this.isFulfilled()?g._resolve(v):g._reject(v)}function f(v,g,y,b){if(typeof g!="function")return n("expecting a function but got "+o.classString(g));var _=new c(v,g,y,b);return _.promise()}function h(v){this.accum=v,this.array._gotAccum(v);var g=r(this.value,this.array._promise);return g instanceof t?(this.array._currentCancellable=g,g._then(p,void 0,void 0,this,void 0)):p.call(this,g)}function p(v){var g=this.array,y=g._promise,b=l(g._fn);y._pushContext();var _;g._eachValues!==void 0?_=b.call(y._boundValue(),v,this.index,this.length):_=b.call(y._boundValue(),this.accum,v,this.index,this.length),_ instanceof t&&(g._currentCancellable=_);var w=y._popContext();return s.checkForgottenReturns(_,w,g._eachValues!==void 0?"Promise.each":"Promise.reduce",y),_}}),HD}var GD,BL;function _9e(){return BL||(BL=1,GD=function(t,e,n){var r=t.PromiseInspection,i=or();function s(a){this.constructor$(a)}i.inherits(s,e),s.prototype._promiseResolved=function(a,o){this._values[a]=o;var l=++this._totalResolved;return l>=this._length?(this._resolve(this._values),!0):!1},s.prototype._promiseFulfilled=function(a,o){var l=new r;return l._bitField=33554432,l._settledValueField=a,this._promiseResolved(o,l)},s.prototype._promiseRejected=function(a,o){var l=new r;return l._bitField=16777216,l._settledValueField=a,this._promiseResolved(o,l)},t.settle=function(a){return n.deprecated(".settle()",".reflect()"),new s(a).promise()},t.prototype.settle=function(){return t.settle(this)}}),GD}var KD,VL;function b9e(){return VL||(VL=1,KD=function(t,e,n){var r=or(),i=Xu().RangeError,s=Xu().AggregateError,a=r.isArray,o={};function l(u){this.constructor$(u),this._howMany=0,this._unwrap=!1,this._initialized=!1}r.inherits(l,e),l.prototype._init=function(){if(this._initialized){if(this._howMany===0){this._resolve([]);return}this._init$(void 0,-5);var u=a(this._values);!this._isResolved()&&u&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},l.prototype.init=function(){this._initialized=!0,this._init()},l.prototype.setUnwrap=function(){this._unwrap=!0},l.prototype.howMany=function(){return this._howMany},l.prototype.setHowMany=function(u){this._howMany=u},l.prototype._promiseFulfilled=function(u){return this._addFulfilled(u),this._fulfilled()===this.howMany()?(this._values.length=this.howMany(),this.howMany()===1&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0):!1},l.prototype._promiseRejected=function(u){return this._addRejected(u),this._checkOutcome()},l.prototype._promiseCancelled=function(){return this._values instanceof t||this._values==null?this._cancel():(this._addRejected(o),this._checkOutcome())},l.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var u=new s,f=this.length();f<this._values.length;++f)this._values[f]!==o&&u.push(this._values[f]);return u.length>0?this._reject(u):this._cancel(),!0}return!1},l.prototype._fulfilled=function(){return this._totalResolved},l.prototype._rejected=function(){return this._values.length-this.length()},l.prototype._addRejected=function(u){this._values.push(u)},l.prototype._addFulfilled=function(u){this._values[this._totalResolved++]=u},l.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},l.prototype._getRangeError=function(u){var f="Input array must contain at least "+this._howMany+" items but contains only "+u+" items";return new i(f)},l.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))};function c(u,f){if((f|0)!==f||f<0)return n(`expecting a positive integer

    See http://goo.gl/MqrFmX
`);var h=new l(u),p=h.promise();return h.setHowMany(f),h.init(),p}t.some=function(u,f){return c(u,f)},t.prototype.some=function(u){return c(this,u)},t._SomePromiseArray=l}),KD}var XD,WL;function w9e(){return WL||(WL=1,XD=function(t,e){var n=t.map;t.prototype.filter=function(r,i){return n(this,r,i,e)},t.filter=function(r,i,s){return n(r,i,s,e)}}),XD}var JD,qL;function T9e(){return qL||(qL=1,JD=function(t,e){var n=t.reduce,r=t.all;function i(){return r(this)}function s(a,o){return n(a,o,e,e)}t.prototype.each=function(a){return n(this,a,e,0)._then(i,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(a){return n(this,a,e,e)},t.each=function(a,o){return n(a,o,e,0)._then(i,void 0,void 0,a,void 0)},t.mapSeries=s}),JD}var YD,$L;function E9e(){return $L||($L=1,YD=function(t){var e=t._SomePromiseArray;function n(r){var i=new e(r),s=i.promise();return i.setHowMany(1),i.setUnwrap(),i.init(),s}t.any=function(r){return n(r)},t.prototype.any=function(){return n(this)}}),YD}var zL;function C9e(){return zL||(zL=1,(function(t){t.exports=function(){var e=function(){return new h(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},n=function(){return new I.PromiseInspection(this._target())},r=function(X){return I.reject(new h(X))};function i(){}var s={},a=or(),o;a.isNode?o=function(){var X=process.domain;return X===void 0&&(X=null),X}:o=function(){return null},a.notEnumerableProp(I,"_getDomain",o);var l=ig(),c=YFe(),u=new c;l.defineProperty(I,"_async",{value:u});var f=Xu(),h=I.TypeError=f.TypeError;I.RangeError=f.RangeError;var p=I.CancellationError=f.CancellationError;I.TimeoutError=f.TimeoutError,I.OperationalError=f.OperationalError,I.RejectionError=f.OperationalError,I.AggregateError=f.AggregateError;var v=function(){},g={},y={},b=QFe()(I,v),_=ZFe()(I,v,b,r,i),w=e9e()(I),C=w.create,S=t9e()(I,w);S.CapturedTrace;var R=n9e()(I,b),D=r9e()(y),N=$Y(),k=a.errorObj,F=a.tryCatch;function P(X,J){if(typeof J!="function")throw new h("expecting a function but got "+a.classString(J));if(X.constructor!==I)throw new h(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`)}function I(X){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,X!==v&&(P(this,X),this._resolveFromExecutor(X)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}I.prototype.toString=function(){return"[object Promise]"},I.prototype.caught=I.prototype.catch=function(X){var J=arguments.length;if(J>1){var ne=new Array(J-1),z=0,Q;for(Q=0;Q<J-1;++Q){var B=arguments[Q];if(a.isObject(B))ne[z++]=B;else return r("expecting an object but got A catch statement predicate "+a.classString(B))}return ne.length=z,X=arguments[Q],this.then(void 0,D(ne,X,this))}return this.then(void 0,X)},I.prototype.reflect=function(){return this._then(n,n,void 0,this,void 0)},I.prototype.then=function(X,J){if(S.warnings()&&arguments.length>0&&typeof X!="function"&&typeof J!="function"){var ne=".then() only accepts functions but was passed: "+a.classString(X);arguments.length>1&&(ne+=", "+a.classString(J)),this._warn(ne)}return this._then(X,J,void 0,void 0,void 0)},I.prototype.done=function(X,J){var ne=this._then(X,J,void 0,void 0,void 0);ne._setIsFinal()},I.prototype.spread=function(X){return typeof X!="function"?r("expecting a function but got "+a.classString(X)):this.all()._then(X,void 0,void 0,g,void 0)},I.prototype.toJSON=function(){var X={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(X.fulfillmentValue=this.value(),X.isFulfilled=!0):this.isRejected()&&(X.rejectionReason=this.reason(),X.isRejected=!0),X},I.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new _(this).promise()},I.prototype.error=function(X){return this.caught(a.originatesFromRejection,X)},I.getNewLibraryCopy=t.exports,I.is=function(X){return X instanceof I},I.fromNode=I.fromCallback=function(X){var J=new I(v);J._captureStackTrace();var ne=arguments.length>1?!!Object(arguments[1]).multiArgs:!1,z=F(X)(N(J,ne));return z===k&&J._rejectCallback(z.e,!0),J._isFateSealed()||J._setAsyncGuaranteed(),J},I.all=function(X){return new _(X).promise()},I.cast=function(X){var J=b(X);return J instanceof I||(J=new I(v),J._captureStackTrace(),J._setFulfilled(),J._rejectionHandler0=X),J},I.resolve=I.fulfilled=I.cast,I.reject=I.rejected=function(X){var J=new I(v);return J._captureStackTrace(),J._rejectCallback(X,!0),J},I.setScheduler=function(X){if(typeof X!="function")throw new h("expecting a function but got "+a.classString(X));return u.setScheduler(X)},I.prototype._then=function(X,J,ne,z,Q){var B=Q!==void 0,j=B?Q:new I(v),W=this._target(),G=W._bitField;B||(j._propagateFrom(this,3),j._captureStackTrace(),z===void 0&&(this._bitField&2097152)!==0&&((G&50397184)!==0?z=this._boundValue():z=W===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,j));var Y=o();if((G&50397184)!==0){var ee,ae,de=W._settlePromiseCtx;(G&33554432)!==0?(ae=W._rejectionHandler0,ee=X):(G&16777216)!==0?(ae=W._fulfillmentHandler0,ee=J,W._unsetRejectionIsUnhandled()):(de=W._settlePromiseLateCancellationObserver,ae=new p("late cancellation observer"),W._attachExtraTrace(ae),ee=J),u.invoke(de,W,{handler:Y===null?ee:typeof ee=="function"&&a.domainBind(Y,ee),promise:j,receiver:z,value:ae})}else W._addCallbacks(X,J,j,z,Y);return j},I.prototype._length=function(){return this._bitField&65535},I.prototype._isFateSealed=function(){return(this._bitField&117506048)!==0},I.prototype._isFollowing=function(){return(this._bitField&67108864)===67108864},I.prototype._setLength=function(X){this._bitField=this._bitField&-65536|X&65535},I.prototype._setFulfilled=function(){this._bitField=this._bitField|33554432,this._fireEvent("promiseFulfilled",this)},I.prototype._setRejected=function(){this._bitField=this._bitField|16777216,this._fireEvent("promiseRejected",this)},I.prototype._setFollowing=function(){this._bitField=this._bitField|67108864,this._fireEvent("promiseResolved",this)},I.prototype._setIsFinal=function(){this._bitField=this._bitField|4194304},I.prototype._isFinal=function(){return(this._bitField&4194304)>0},I.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},I.prototype._setCancelled=function(){this._bitField=this._bitField|65536,this._fireEvent("promiseCancelled",this)},I.prototype._setWillBeCancelled=function(){this._bitField=this._bitField|8388608},I.prototype._setAsyncGuaranteed=function(){u.hasCustomScheduler()||(this._bitField=this._bitField|134217728)},I.prototype._receiverAt=function(X){var J=X===0?this._receiver0:this[X*4-4+3];if(J!==s)return J===void 0&&this._isBound()?this._boundValue():J},I.prototype._promiseAt=function(X){return this[X*4-4+2]},I.prototype._fulfillmentHandlerAt=function(X){return this[X*4-4+0]},I.prototype._rejectionHandlerAt=function(X){return this[X*4-4+1]},I.prototype._boundValue=function(){},I.prototype._migrateCallback0=function(X){X._bitField;var J=X._fulfillmentHandler0,ne=X._rejectionHandler0,z=X._promise0,Q=X._receiverAt(0);Q===void 0&&(Q=s),this._addCallbacks(J,ne,z,Q,null)},I.prototype._migrateCallbackAt=function(X,J){var ne=X._fulfillmentHandlerAt(J),z=X._rejectionHandlerAt(J),Q=X._promiseAt(J),B=X._receiverAt(J);B===void 0&&(B=s),this._addCallbacks(ne,z,Q,B,null)},I.prototype._addCallbacks=function(X,J,ne,z,Q){var B=this._length();if(B>=65531&&(B=0,this._setLength(0)),B===0)this._promise0=ne,this._receiver0=z,typeof X=="function"&&(this._fulfillmentHandler0=Q===null?X:a.domainBind(Q,X)),typeof J=="function"&&(this._rejectionHandler0=Q===null?J:a.domainBind(Q,J));else{var j=B*4-4;this[j+2]=ne,this[j+3]=z,typeof X=="function"&&(this[j+0]=Q===null?X:a.domainBind(Q,X)),typeof J=="function"&&(this[j+1]=Q===null?J:a.domainBind(Q,J))}return this._setLength(B+1),B},I.prototype._proxy=function(X,J){this._addCallbacks(void 0,void 0,J,X,null)},I.prototype._resolveCallback=function(X,J){if((this._bitField&117506048)===0){if(X===this)return this._rejectCallback(e(),!1);var ne=b(X,this);if(!(ne instanceof I))return this._fulfill(X);J&&this._propagateFrom(ne,2);var z=ne._target();if(z===this){this._reject(e());return}var Q=z._bitField;if((Q&50397184)===0){var B=this._length();B>0&&z._migrateCallback0(this);for(var j=1;j<B;++j)z._migrateCallbackAt(this,j);this._setFollowing(),this._setLength(0),this._setFollowee(z)}else if((Q&33554432)!==0)this._fulfill(z._value());else if((Q&16777216)!==0)this._reject(z._reason());else{var W=new p("late cancellation observer");z._attachExtraTrace(W),this._reject(W)}}},I.prototype._rejectCallback=function(X,J,ne){var z=a.ensureErrorObject(X),Q=z===X;if(!Q&&!ne&&S.warnings()){var B="a promise was rejected with a non-error: "+a.classString(X);this._warn(B,!0)}this._attachExtraTrace(z,J?Q:!1),this._reject(X)},I.prototype._resolveFromExecutor=function(X){var J=this;this._captureStackTrace(),this._pushContext();var ne=!0,z=this._execute(X,function(Q){J._resolveCallback(Q)},function(Q){J._rejectCallback(Q,ne)});ne=!1,this._popContext(),z!==void 0&&J._rejectCallback(z,!0)},I.prototype._settlePromiseFromHandler=function(X,J,ne,z){var Q=z._bitField;if((Q&65536)===0){z._pushContext();var B;J===g?!ne||typeof ne.length!="number"?(B=k,B.e=new h("cannot .spread() a non-array: "+a.classString(ne))):B=F(X).apply(this._boundValue(),ne):B=F(X).call(J,ne);var j=z._popContext();Q=z._bitField,(Q&65536)===0&&(B===y?z._reject(ne):B===k?z._rejectCallback(B.e,!1):(S.checkForgottenReturns(B,j,"",z,this),z._resolveCallback(B)))}},I.prototype._target=function(){for(var X=this;X._isFollowing();)X=X._followee();return X},I.prototype._followee=function(){return this._rejectionHandler0},I.prototype._setFollowee=function(X){this._rejectionHandler0=X},I.prototype._settlePromise=function(X,J,ne,z){var Q=X instanceof I,B=this._bitField,j=(B&134217728)!==0;(B&65536)!==0?(Q&&X._invokeInternalOnCancel(),ne instanceof R&&ne.isFinallyHandler()?(ne.cancelPromise=X,F(J).call(ne,z)===k&&X._reject(k.e)):J===n?X._fulfill(n.call(ne)):ne instanceof i?ne._promiseCancelled(X):Q||X instanceof _?X._cancel():ne.cancel()):typeof J=="function"?Q?(j&&X._setAsyncGuaranteed(),this._settlePromiseFromHandler(J,ne,z,X)):J.call(ne,z,X):ne instanceof i?ne._isResolved()||((B&33554432)!==0?ne._promiseFulfilled(z,X):ne._promiseRejected(z,X)):Q&&(j&&X._setAsyncGuaranteed(),(B&33554432)!==0?X._fulfill(z):X._reject(z))},I.prototype._settlePromiseLateCancellationObserver=function(X){var J=X.handler,ne=X.promise,z=X.receiver,Q=X.value;typeof J=="function"?ne instanceof I?this._settlePromiseFromHandler(J,z,Q,ne):J.call(z,Q,ne):ne instanceof I&&ne._reject(Q)},I.prototype._settlePromiseCtx=function(X){this._settlePromise(X.promise,X.handler,X.receiver,X.value)},I.prototype._settlePromise0=function(X,J,ne){var z=this._promise0,Q=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(z,X,Q,J)},I.prototype._clearCallbackDataAtIndex=function(X){var J=X*4-4;this[J+2]=this[J+3]=this[J+0]=this[J+1]=void 0},I.prototype._fulfill=function(X){var J=this._bitField;if(!((J&117506048)>>>16)){if(X===this){var ne=e();return this._attachExtraTrace(ne),this._reject(ne)}this._setFulfilled(),this._rejectionHandler0=X,(J&65535)>0&&((J&134217728)!==0?this._settlePromises():u.settlePromises(this))}},I.prototype._reject=function(X){var J=this._bitField;if(!((J&117506048)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=X,this._isFinal())return u.fatalError(X,a.isNode);(J&65535)>0?u.settlePromises(this):this._ensurePossibleRejectionHandled()}},I.prototype._fulfillPromises=function(X,J){for(var ne=1;ne<X;ne++){var z=this._fulfillmentHandlerAt(ne),Q=this._promiseAt(ne),B=this._receiverAt(ne);this._clearCallbackDataAtIndex(ne),this._settlePromise(Q,z,B,J)}},I.prototype._rejectPromises=function(X,J){for(var ne=1;ne<X;ne++){var z=this._rejectionHandlerAt(ne),Q=this._promiseAt(ne),B=this._receiverAt(ne);this._clearCallbackDataAtIndex(ne),this._settlePromise(Q,z,B,J)}},I.prototype._settlePromises=function(){var X=this._bitField,J=X&65535;if(J>0){if((X&16842752)!==0){var ne=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,ne,X),this._rejectPromises(J,ne)}else{var z=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,z,X),this._fulfillPromises(J,z)}this._setLength(0)}this._clearCancellationData()},I.prototype._settledValue=function(){var X=this._bitField;if((X&33554432)!==0)return this._rejectionHandler0;if((X&16777216)!==0)return this._fulfillmentHandler0};function U(X){this.promise._resolveCallback(X)}function O(X){this.promise._rejectCallback(X,!1)}I.defer=I.pending=function(){S.deprecated("Promise.defer","new Promise");var X=new I(v);return{promise:X,resolve:U,reject:O}},a.notEnumerableProp(I,"_makeSelfResolutionError",e),i9e()(I,v,b,r,S),s9e()(I,v,b,S),a9e()(I,_,r,S),o9e()(I),l9e()(I),c9e()(I,_,b,v,u,o),I.Promise=I,I.version="3.4.7",u9e()(I,_,r,b,v,S),d9e()(I),f9e()(I,r,b,C,v,S),h9e()(I,v,S),p9e()(I,r,v,b,i,S),m9e()(I),g9e()(I,v),y9e()(I,_,b,r),v9e()(I,v,b,r),x9e()(I,_,r,b,v,S),_9e()(I,_,S),b9e()(I,_,r),w9e()(I,v),T9e()(I,v),E9e()(I),a.toFastProperties(I),a.toFastProperties(I.prototype);function K(X){var J=new I(v);J._fulfillmentHandler0=X,J._rejectionHandler0=X,J._promise0=X,J._receiver0=X}return K({a:1}),K({b:2}),K({c:3}),K(1),K(function(){}),K(void 0),K(!1),K(new I(v)),S.setBounds(c.firstLineError,a.lastLineError),I}})(_D)),_D.exports}var HL;function dd(){if(HL)return qa;HL=1;var t=ii,e=C9e()();qa.defer=n,qa.when=e.resolve,qa.resolve=e.resolve,qa.all=e.all,qa.props=e.props,qa.reject=e.reject,qa.promisify=e.promisify,qa.mapSeries=e.mapSeries,qa.attempt=e.attempt,qa.nfcall=function(r){var i=Array.prototype.slice.call(arguments,1),s=e.promisify(r);return s.apply(null,i)},e.prototype.fail=e.prototype.caught,e.prototype.also=function(r){return this.then(function(i){var s=t.extend({},i,r(i));return e.props(s)})};function n(){var r,i,s=new e.Promise(function(a,o){r=a,i=o});return{resolve:r,reject:i,promise:s}}return qa}var Vn={},GL;function uh(){if(GL)return Vn;GL=1;var t=ii,e=Vn.types={document:"document",paragraph:"paragraph",run:"run",text:"text",tab:"tab",hyperlink:"hyperlink",noteReference:"noteReference",image:"image",note:"note",commentReference:"commentReference",comment:"comment",table:"table",tableRow:"tableRow",tableCell:"tableCell",break:"break",bookmarkStart:"bookmarkStart"};function n(S,R){return R=R||{},{type:e.document,children:S,notes:R.notes||new u({}),comments:R.comments||[]}}function r(S,R){R=R||{};var D=R.indent||{};return{type:e.paragraph,children:S,styleId:R.styleId||null,styleName:R.styleName||null,numbering:R.numbering||null,alignment:R.alignment||null,indent:{start:D.start||null,end:D.end||null,firstLine:D.firstLine||null,hanging:D.hanging||null}}}function i(S,R){return R=R||{},{type:e.run,children:S,styleId:R.styleId||null,styleName:R.styleName||null,isBold:!!R.isBold,isUnderline:!!R.isUnderline,isItalic:!!R.isItalic,isStrikethrough:!!R.isStrikethrough,isAllCaps:!!R.isAllCaps,isSmallCaps:!!R.isSmallCaps,verticalAlignment:R.verticalAlignment||s.baseline,font:R.font||null,fontSize:R.fontSize||null}}var s={baseline:"baseline",superscript:"superscript",subscript:"subscript"};function a(S){return{type:e.text,value:S}}function o(){return{type:e.tab}}function l(S,R){return{type:e.hyperlink,children:S,href:R.href,anchor:R.anchor,targetFrame:R.targetFrame}}function c(S){return{type:e.noteReference,noteType:S.noteType,noteId:S.noteId}}function u(S){this._notes=t.indexBy(S,function(R){return v(R.noteType,R.noteId)})}u.prototype.resolve=function(S){return this.findNoteByKey(v(S.noteType,S.noteId))},u.prototype.findNoteByKey=function(S){return this._notes[S]||null};function f(S){return{type:e.note,noteType:S.noteType,noteId:S.noteId,body:S.body}}function h(S){return{type:e.commentReference,commentId:S.commentId}}function p(S){return{type:e.comment,commentId:S.commentId,body:S.body,authorName:S.authorName,authorInitials:S.authorInitials}}function v(S,R){return S+"-"+R}function g(S){return{type:e.image,read:function(R){return R?S.readImage(R):S.readImage().then(function(D){return Buffer.from(D)})},readAsArrayBuffer:function(){return S.readImage()},readAsBase64String:function(){return S.readImage("base64")},readAsBuffer:function(){return S.readImage().then(function(R){return Buffer.from(R)})},altText:S.altText,contentType:S.contentType}}function y(S,R){return R=R||{},{type:e.table,children:S,styleId:R.styleId||null,styleName:R.styleName||null}}function b(S,R){return R=R||{},{type:e.tableRow,children:S,isHeader:R.isHeader||!1}}function _(S,R){return R=R||{},{type:e.tableCell,children:S,colSpan:R.colSpan==null?1:R.colSpan,rowSpan:R.rowSpan==null?1:R.rowSpan}}function w(S){return{type:e.break,breakType:S}}function C(S){return{type:e.bookmarkStart,name:S.name}}return Vn.document=Vn.Document=n,Vn.paragraph=Vn.Paragraph=r,Vn.run=Vn.Run=i,Vn.text=Vn.Text=a,Vn.tab=Vn.Tab=o,Vn.Hyperlink=l,Vn.noteReference=Vn.NoteReference=c,Vn.Notes=u,Vn.Note=f,Vn.commentReference=h,Vn.comment=p,Vn.Image=g,Vn.Table=y,Vn.TableRow=b,Vn.TableCell=_,Vn.lineBreak=w("line"),Vn.pageBreak=w("page"),Vn.columnBreak=w("column"),Vn.BookmarkStart=C,Vn.verticalAlignment=s,Vn}var ip={},KL;function _c(){if(KL)return ip;KL=1;var t=ii;ip.Result=e,ip.success=n,ip.warning=r,ip.error=i;function e(l,c){this.value=l,this.messages=c||[]}e.prototype.map=function(l){return new e(l(this.value),this.messages)},e.prototype.flatMap=function(l){var c=l(this.value);return new e(c.value,s([this,c]))},e.prototype.flatMapThen=function(l){var c=this;return l(this.value).then(function(u){return new e(u.value,s([c,u]))})},e.combine=function(l){var c=t.flatten(t.pluck(l,"value")),u=s(l);return new e(c,u)};function n(l){return new e(l,[])}function r(l){return{type:"warning",message:l}}function i(l){return{type:"error",message:l.message,error:l}}function s(l){var c=[];return t.flatten(t.pluck(l,"messages"),!0).forEach(function(u){a(c,u)||c.push(u)}),c}function a(l,c){return t.find(l,o.bind(null,c))!==void 0}function o(l,c){return l.type===c.type&&l.message===c.message}return ip}var i0={},s0={},XL;function S9e(){if(XL)return s0;XL=1,s0.byteLength=o,s0.toByteArray=c,s0.fromByteArray=h;for(var t=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=r.length;i<s;++i)t[i]=r[i],e[r.charCodeAt(i)]=i;e[45]=62,e[95]=63;function a(p){var v=p.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=p.indexOf("=");g===-1&&(g=v);var y=g===v?0:4-g%4;return[g,y]}function o(p){var v=a(p),g=v[0],y=v[1];return(g+y)*3/4-y}function l(p,v,g){return(v+g)*3/4-g}function c(p){var v,g=a(p),y=g[0],b=g[1],_=new n(l(p,y,b)),w=0,C=b>0?y-4:y,S;for(S=0;S<C;S+=4)v=e[p.charCodeAt(S)]<<18|e[p.charCodeAt(S+1)]<<12|e[p.charCodeAt(S+2)]<<6|e[p.charCodeAt(S+3)],_[w++]=v>>16&255,_[w++]=v>>8&255,_[w++]=v&255;return b===2&&(v=e[p.charCodeAt(S)]<<2|e[p.charCodeAt(S+1)]>>4,_[w++]=v&255),b===1&&(v=e[p.charCodeAt(S)]<<10|e[p.charCodeAt(S+1)]<<4|e[p.charCodeAt(S+2)]>>2,_[w++]=v>>8&255,_[w++]=v&255),_}function u(p){return t[p>>18&63]+t[p>>12&63]+t[p>>6&63]+t[p&63]}function f(p,v,g){for(var y,b=[],_=v;_<g;_+=3)y=(p[_]<<16&16711680)+(p[_+1]<<8&65280)+(p[_+2]&255),b.push(u(y));return b.join("")}function h(p){for(var v,g=p.length,y=g%3,b=[],_=16383,w=0,C=g-y;w<C;w+=_)b.push(f(p,w,w+_>C?C:w+_));return y===1?(v=p[g-1],b.push(t[v>>2]+t[v<<4&63]+"==")):y===2&&(v=(p[g-2]<<8)+p[g-1],b.push(t[v>>10]+t[v>>4&63]+t[v<<2&63]+"=")),b.join("")}return s0}var JL;function zY(){if(JL)return i0;JL=1;var t=S9e(),e=xH();i0.openArrayBuffer=n,i0.splitPath=r,i0.joinPath=i;function n(s){return e.loadAsync(s).then(function(a){function o(f){return a.file(f)!==null}function l(f,h){return a.file(f).async("uint8array").then(function(p){if(h==="base64")return t.fromByteArray(p);if(h){var v=new TextDecoder(h);return v.decode(p)}else return p})}function c(f,h){a.file(f,h)}function u(){return a.generateAsync({type:"arraybuffer"})}return{exists:o,read:l,write:c,toArrayBuffer:u}})}function r(s){var a=s.lastIndexOf("/");return a===-1?{dirname:"",basename:s}:{dirname:s.substring(0,a),basename:s.substring(a+1)}}function i(){var s=Array.prototype.filter.call(arguments,function(o){return o}),a=[];return s.forEach(function(o){/^\//.test(o)?a=[o]:a.push(o)}),a.join("/")}return i0}var Gx={},Rd={},a0={},YL;function HY(){if(YL)return a0;YL=1;var t=ii;a0.Element=n,a0.element=function(s,a,o){return new n(s,a,o)},a0.text=function(s){return{type:"text",value:s}};var e={first:function(){return null},firstOrEmpty:function(){return e},attributes:{}};function n(s,a,o){this.type="element",this.name=s,this.attributes=a||{},this.children=o||[]}n.prototype.first=function(s){return t.find(this.children,function(a){return a.name===s})},n.prototype.firstOrEmpty=function(s){return this.first(s)||e},n.prototype.getElementsByTagName=function(s){var a=t.filter(this.children,function(o){return o.name===s});return i(a)},n.prototype.text=function(){if(this.children.length===0)return"";if(this.children.length!==1||this.children[0].type!=="text")throw new Error("Not implemented");return this.children[0].value};var r={getElementsByTagName:function(s){return i(t.flatten(this.map(function(a){return a.getElementsByTagName(s)},!0)))}};function i(s){return t.extend(s,r)}return a0}var QD={},Kx={},o0={},Gl={},Pd={},QL;function Yw(){if(QL)return Pd;QL=1;function t(s,a,o){if(o===void 0&&(o=Array.prototype),s&&typeof o.find=="function")return o.find.call(s,a);for(var l=0;l<s.length;l++)if(Object.prototype.hasOwnProperty.call(s,l)){var c=s[l];if(a.call(void 0,c,l,s))return c}}function e(s,a){return a===void 0&&(a=Object),a&&typeof a.freeze=="function"?a.freeze(s):s}function n(s,a){if(s===null||typeof s!="object")throw new TypeError("target is not an object");for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o]);return s}var r=e({HTML:"text/html",isHTML:function(s){return s===r.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),i=e({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(s){return s===i.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});return Pd.assign=n,Pd.find=t,Pd.freeze=e,Pd.MIME_TYPE=r,Pd.NAMESPACE=i,Pd}var ZL;function H6(){if(ZL)return Gl;ZL=1;var t=Yw(),e=t.find,n=t.NAMESPACE;function r(pe){return pe!==""}function i(pe){return pe?pe.split(/[\t\n\f\r ]+/).filter(r):[]}function s(pe,Ee){return pe.hasOwnProperty(Ee)||(pe[Ee]=!0),pe}function a(pe){if(!pe)return[];var Ee=i(pe);return Object.keys(Ee.reduce(s,{}))}function o(pe){return function(Ee){return pe&&pe.indexOf(Ee)!==-1}}function l(pe,Ee){for(var Fe in pe)Object.prototype.hasOwnProperty.call(pe,Fe)&&(Ee[Fe]=pe[Fe])}function c(pe,Ee){var Fe=pe.prototype;if(!(Fe instanceof Ee)){let st=function(){};var Ge=st;st.prototype=Ee.prototype,st=new st,l(Fe,st),pe.prototype=Fe=st}Fe.constructor!=pe&&(typeof pe!="function"&&console.error("unknown Class:"+pe),Fe.constructor=pe)}var u={},f=u.ELEMENT_NODE=1,h=u.ATTRIBUTE_NODE=2,p=u.TEXT_NODE=3,v=u.CDATA_SECTION_NODE=4,g=u.ENTITY_REFERENCE_NODE=5,y=u.ENTITY_NODE=6,b=u.PROCESSING_INSTRUCTION_NODE=7,_=u.COMMENT_NODE=8,w=u.DOCUMENT_NODE=9,C=u.DOCUMENT_TYPE_NODE=10,S=u.DOCUMENT_FRAGMENT_NODE=11,R=u.NOTATION_NODE=12,D={},N={};D.INDEX_SIZE_ERR=(N[1]="Index size error",1),D.DOMSTRING_SIZE_ERR=(N[2]="DOMString size error",2);var k=D.HIERARCHY_REQUEST_ERR=(N[3]="Hierarchy request error",3);D.WRONG_DOCUMENT_ERR=(N[4]="Wrong document",4),D.INVALID_CHARACTER_ERR=(N[5]="Invalid character",5),D.NO_DATA_ALLOWED_ERR=(N[6]="No data allowed",6),D.NO_MODIFICATION_ALLOWED_ERR=(N[7]="No modification allowed",7);var F=D.NOT_FOUND_ERR=(N[8]="Not found",8);D.NOT_SUPPORTED_ERR=(N[9]="Not supported",9);var P=D.INUSE_ATTRIBUTE_ERR=(N[10]="Attribute in use",10);D.INVALID_STATE_ERR=(N[11]="Invalid state",11),D.SYNTAX_ERR=(N[12]="Syntax error",12),D.INVALID_MODIFICATION_ERR=(N[13]="Invalid modification",13),D.NAMESPACE_ERR=(N[14]="Invalid namespace",14),D.INVALID_ACCESS_ERR=(N[15]="Invalid access",15);function I(pe,Ee){if(Ee instanceof Error)var Fe=Ee;else Fe=this,Error.call(this,N[pe]),this.message=N[pe],Error.captureStackTrace&&Error.captureStackTrace(this,I);return Fe.code=pe,Ee&&(this.message=this.message+": "+Ee),Fe}I.prototype=Error.prototype,l(D,I);function U(){}U.prototype={length:0,item:function(pe){return pe>=0&&pe<this.length?this[pe]:null},toString:function(pe,Ee){for(var Fe=[],Ge=0;Ge<this.length;Ge++)Qn(this[Ge],Fe,pe,Ee);return Fe.join("")},filter:function(pe){return Array.prototype.filter.call(this,pe)},indexOf:function(pe){return Array.prototype.indexOf.call(this,pe)}};function O(pe,Ee){this._node=pe,this._refresh=Ee,K(this)}function K(pe){var Ee=pe._node._inc||pe._node.ownerDocument._inc;if(pe._inc!==Ee){var Fe=pe._refresh(pe._node);if(Qt(pe,"length",Fe.length),!pe.$$length||Fe.length<pe.$$length)for(var Ge=Fe.length;Ge in pe;Ge++)Object.prototype.hasOwnProperty.call(pe,Ge)&&delete pe[Ge];l(Fe,pe),pe._inc=Ee}}O.prototype.item=function(pe){return K(this),this[pe]||null},c(O,U);function X(){}function J(pe,Ee){for(var Fe=pe.length;Fe--;)if(pe[Fe]===Ee)return Fe}function ne(pe,Ee,Fe,Ge){if(Ge?Ee[J(Ee,Ge)]=Fe:Ee[Ee.length++]=Fe,pe){Fe.ownerElement=pe;var st=pe.ownerDocument;st&&(Ge&&ee(st,pe,Ge),Y(st,pe,Fe))}}function z(pe,Ee,Fe){var Ge=J(Ee,Fe);if(Ge>=0){for(var st=Ee.length-1;Ge<st;)Ee[Ge]=Ee[++Ge];if(Ee.length=st,pe){var It=pe.ownerDocument;It&&(ee(It,pe,Fe),Fe.ownerElement=null)}}else throw new I(F,new Error(pe.tagName+"@"+Fe))}X.prototype={length:0,item:U.prototype.item,getNamedItem:function(pe){for(var Ee=this.length;Ee--;){var Fe=this[Ee];if(Fe.nodeName==pe)return Fe}},setNamedItem:function(pe){var Ee=pe.ownerElement;if(Ee&&Ee!=this._ownerElement)throw new I(P);var Fe=this.getNamedItem(pe.nodeName);return ne(this._ownerElement,this,pe,Fe),Fe},setNamedItemNS:function(pe){var Ee=pe.ownerElement,Fe;if(Ee&&Ee!=this._ownerElement)throw new I(P);return Fe=this.getNamedItemNS(pe.namespaceURI,pe.localName),ne(this._ownerElement,this,pe,Fe),Fe},removeNamedItem:function(pe){var Ee=this.getNamedItem(pe);return z(this._ownerElement,this,Ee),Ee},removeNamedItemNS:function(pe,Ee){var Fe=this.getNamedItemNS(pe,Ee);return z(this._ownerElement,this,Fe),Fe},getNamedItemNS:function(pe,Ee){for(var Fe=this.length;Fe--;){var Ge=this[Fe];if(Ge.localName==Ee&&Ge.namespaceURI==pe)return Ge}return null}};function Q(){}Q.prototype={hasFeature:function(pe,Ee){return!0},createDocument:function(pe,Ee,Fe){var Ge=new G;if(Ge.implementation=this,Ge.childNodes=new U,Ge.doctype=Fe||null,Fe&&Ge.appendChild(Fe),Ee){var st=Ge.createElementNS(pe,Ee);Ge.appendChild(st)}return Ge},createDocumentType:function(pe,Ee,Fe){var Ge=new Se;return Ge.name=pe,Ge.nodeName=pe,Ge.publicId=Ee||"",Ge.systemId=Fe||"",Ge}};function B(){}B.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(pe,Ee){return oe(this,pe,Ee)},replaceChild:function(pe,Ee){oe(this,pe,Ee,re),Ee&&this.removeChild(Ee)},removeChild:function(pe){return de(this,pe)},appendChild:function(pe){return this.insertBefore(pe,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(pe){return lr(this.ownerDocument||this,this,pe)},normalize:function(){for(var pe=this.firstChild;pe;){var Ee=pe.nextSibling;Ee&&Ee.nodeType==p&&pe.nodeType==p?(this.removeChild(Ee),pe.appendData(Ee.data)):(pe.normalize(),pe=Ee)}},isSupported:function(pe,Ee){return this.ownerDocument.implementation.hasFeature(pe,Ee)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(pe){for(var Ee=this;Ee;){var Fe=Ee._nsMap;if(Fe){for(var Ge in Fe)if(Object.prototype.hasOwnProperty.call(Fe,Ge)&&Fe[Ge]===pe)return Ge}Ee=Ee.nodeType==h?Ee.ownerDocument:Ee.parentNode}return null},lookupNamespaceURI:function(pe){for(var Ee=this;Ee;){var Fe=Ee._nsMap;if(Fe&&Object.prototype.hasOwnProperty.call(Fe,pe))return Fe[pe];Ee=Ee.nodeType==h?Ee.ownerDocument:Ee.parentNode}return null},isDefaultNamespace:function(pe){var Ee=this.lookupPrefix(pe);return Ee==null}};function j(pe){return pe=="<"&&"&lt;"||pe==">"&&"&gt;"||pe=="&"&&"&amp;"||pe=='"'&&"&quot;"||"&#"+pe.charCodeAt()+";"}l(u,B),l(u,B.prototype);function W(pe,Ee){if(Ee(pe))return!0;if(pe=pe.firstChild)do if(W(pe,Ee))return!0;while(pe=pe.nextSibling)}function G(){this.ownerDocument=this}function Y(pe,Ee,Fe){pe&&pe._inc++;var Ge=Fe.namespaceURI;Ge===n.XMLNS&&(Ee._nsMap[Fe.prefix?Fe.localName:""]=Fe.value)}function ee(pe,Ee,Fe,Ge){pe&&pe._inc++;var st=Fe.namespaceURI;st===n.XMLNS&&delete Ee._nsMap[Fe.prefix?Fe.localName:""]}function ae(pe,Ee,Fe){if(pe&&pe._inc){pe._inc++;var Ge=Ee.childNodes;if(Fe)Ge[Ge.length++]=Fe;else{for(var st=Ee.firstChild,It=0;st;)Ge[It++]=st,st=st.nextSibling;Ge.length=It,delete Ge[Ge.length]}}}function de(pe,Ee){var Fe=Ee.previousSibling,Ge=Ee.nextSibling;return Fe?Fe.nextSibling=Ge:pe.firstChild=Ge,Ge?Ge.previousSibling=Fe:pe.lastChild=Fe,Ee.parentNode=null,Ee.previousSibling=null,Ee.nextSibling=null,ae(pe.ownerDocument,pe),Ee}function fe(pe){return pe&&(pe.nodeType===B.DOCUMENT_NODE||pe.nodeType===B.DOCUMENT_FRAGMENT_NODE||pe.nodeType===B.ELEMENT_NODE)}function Ae(pe){return pe&&(me(pe)||Le(pe)||Re(pe)||pe.nodeType===B.DOCUMENT_FRAGMENT_NODE||pe.nodeType===B.COMMENT_NODE||pe.nodeType===B.PROCESSING_INSTRUCTION_NODE)}function Re(pe){return pe&&pe.nodeType===B.DOCUMENT_TYPE_NODE}function me(pe){return pe&&pe.nodeType===B.ELEMENT_NODE}function Le(pe){return pe&&pe.nodeType===B.TEXT_NODE}function V(pe,Ee){var Fe=pe.childNodes||[];if(e(Fe,me)||Re(Ee))return!1;var Ge=e(Fe,Re);return!(Ee&&Ge&&Fe.indexOf(Ge)>Fe.indexOf(Ee))}function xe(pe,Ee){var Fe=pe.childNodes||[];function Ge(It){return me(It)&&It!==Ee}if(e(Fe,Ge))return!1;var st=e(Fe,Re);return!(Ee&&st&&Fe.indexOf(st)>Fe.indexOf(Ee))}function Te(pe,Ee,Fe){if(!fe(pe))throw new I(k,"Unexpected parent node type "+pe.nodeType);if(Fe&&Fe.parentNode!==pe)throw new I(F,"child not in parent");if(!Ae(Ee)||Re(Ee)&&pe.nodeType!==B.DOCUMENT_NODE)throw new I(k,"Unexpected node type "+Ee.nodeType+" for parent node type "+pe.nodeType)}function le(pe,Ee,Fe){var Ge=pe.childNodes||[],st=Ee.childNodes||[];if(Ee.nodeType===B.DOCUMENT_FRAGMENT_NODE){var It=st.filter(me);if(It.length>1||e(st,Le))throw new I(k,"More than one element or text in fragment");if(It.length===1&&!V(pe,Fe))throw new I(k,"Element in fragment can not be inserted before doctype")}if(me(Ee)&&!V(pe,Fe))throw new I(k,"Only one element can be added and only after doctype");if(Re(Ee)){if(e(Ge,Re))throw new I(k,"Only one doctype is allowed");var ln=e(Ge,me);if(Fe&&Ge.indexOf(ln)<Ge.indexOf(Fe))throw new I(k,"Doctype can only be inserted before an element");if(!Fe&&ln)throw new I(k,"Doctype can not be appended since element is present")}}function re(pe,Ee,Fe){var Ge=pe.childNodes||[],st=Ee.childNodes||[];if(Ee.nodeType===B.DOCUMENT_FRAGMENT_NODE){var It=st.filter(me);if(It.length>1||e(st,Le))throw new I(k,"More than one element or text in fragment");if(It.length===1&&!xe(pe,Fe))throw new I(k,"Element in fragment can not be inserted before doctype")}if(me(Ee)&&!xe(pe,Fe))throw new I(k,"Only one element can be added and only after doctype");if(Re(Ee)){let xr=function(Ln){return Re(Ln)&&Ln!==Fe};var rn=xr;if(e(Ge,xr))throw new I(k,"Only one doctype is allowed");var ln=e(Ge,me);if(Fe&&Ge.indexOf(ln)<Ge.indexOf(Fe))throw new I(k,"Doctype can only be inserted before an element")}}function oe(pe,Ee,Fe,Ge){Te(pe,Ee,Fe),pe.nodeType===B.DOCUMENT_NODE&&(Ge||le)(pe,Ee,Fe);var st=Ee.parentNode;if(st&&st.removeChild(Ee),Ee.nodeType===S){var It=Ee.firstChild;if(It==null)return Ee;var ln=Ee.lastChild}else It=ln=Ee;var rn=Fe?Fe.previousSibling:pe.lastChild;It.previousSibling=rn,ln.nextSibling=Fe,rn?rn.nextSibling=It:pe.firstChild=It,Fe==null?pe.lastChild=ln:Fe.previousSibling=ln;do{It.parentNode=pe;var xr=pe.ownerDocument||pe;he(It,xr)}while(It!==ln&&(It=It.nextSibling));return ae(pe.ownerDocument||pe,pe),Ee.nodeType==S&&(Ee.firstChild=Ee.lastChild=null),Ee}function he(pe,Ee){if(pe.ownerDocument!==Ee){if(pe.ownerDocument=Ee,pe.nodeType===f&&pe.attributes)for(var Fe=0;Fe<pe.attributes.length;Fe++){var Ge=pe.attributes.item(Fe);Ge&&(Ge.ownerDocument=Ee)}for(var st=pe.firstChild;st;)he(st,Ee),st=st.nextSibling}}function we(pe,Ee){Ee.parentNode&&Ee.parentNode.removeChild(Ee),Ee.parentNode=pe,Ee.previousSibling=pe.lastChild,Ee.nextSibling=null,Ee.previousSibling?Ee.previousSibling.nextSibling=Ee:pe.firstChild=Ee,pe.lastChild=Ee,ae(pe.ownerDocument,pe,Ee);var Fe=pe.ownerDocument||pe;return he(Ee,Fe),Ee}G.prototype={nodeName:"#document",nodeType:w,doctype:null,documentElement:null,_inc:1,insertBefore:function(pe,Ee){if(pe.nodeType==S){for(var Fe=pe.firstChild;Fe;){var Ge=Fe.nextSibling;this.insertBefore(Fe,Ee),Fe=Ge}return pe}return oe(this,pe,Ee),he(pe,this),this.documentElement===null&&pe.nodeType===f&&(this.documentElement=pe),pe},removeChild:function(pe){return this.documentElement==pe&&(this.documentElement=null),de(this,pe)},replaceChild:function(pe,Ee){oe(this,pe,Ee,re),he(pe,this),Ee&&this.removeChild(Ee),me(pe)&&(this.documentElement=pe)},importNode:function(pe,Ee){return Zn(this,pe,Ee)},getElementById:function(pe){var Ee=null;return W(this.documentElement,function(Fe){if(Fe.nodeType==f&&Fe.getAttribute("id")==pe)return Ee=Fe,!0}),Ee},getElementsByClassName:function(pe){var Ee=a(pe);return new O(this,function(Fe){var Ge=[];return Ee.length>0&&W(Fe.documentElement,function(st){if(st!==Fe&&st.nodeType===f){var It=st.getAttribute("class");if(It){var ln=pe===It;if(!ln){var rn=a(It);ln=Ee.every(o(rn))}ln&&Ge.push(st)}}}),Ge})},createElement:function(pe){var Ee=new ie;Ee.ownerDocument=this,Ee.nodeName=pe,Ee.tagName=pe,Ee.localName=pe,Ee.childNodes=new U;var Fe=Ee.attributes=new X;return Fe._ownerElement=Ee,Ee},createDocumentFragment:function(){var pe=new rt;return pe.ownerDocument=this,pe.childNodes=new U,pe},createTextNode:function(pe){var Ee=new ye;return Ee.ownerDocument=this,Ee.appendData(pe),Ee},createComment:function(pe){var Ee=new Ne;return Ee.ownerDocument=this,Ee.appendData(pe),Ee},createCDATASection:function(pe){var Ee=new Ue;return Ee.ownerDocument=this,Ee.appendData(pe),Ee},createProcessingInstruction:function(pe,Ee){var Fe=new it;return Fe.ownerDocument=this,Fe.tagName=Fe.nodeName=Fe.target=pe,Fe.nodeValue=Fe.data=Ee,Fe},createAttribute:function(pe){var Ee=new ce;return Ee.ownerDocument=this,Ee.name=pe,Ee.nodeName=pe,Ee.localName=pe,Ee.specified=!0,Ee},createEntityReference:function(pe){var Ee=new Xe;return Ee.ownerDocument=this,Ee.nodeName=pe,Ee},createElementNS:function(pe,Ee){var Fe=new ie,Ge=Ee.split(":"),st=Fe.attributes=new X;return Fe.childNodes=new U,Fe.ownerDocument=this,Fe.nodeName=Ee,Fe.tagName=Ee,Fe.namespaceURI=pe,Ge.length==2?(Fe.prefix=Ge[0],Fe.localName=Ge[1]):Fe.localName=Ee,st._ownerElement=Fe,Fe},createAttributeNS:function(pe,Ee){var Fe=new ce,Ge=Ee.split(":");return Fe.ownerDocument=this,Fe.nodeName=Ee,Fe.name=Ee,Fe.namespaceURI=pe,Fe.specified=!0,Ge.length==2?(Fe.prefix=Ge[0],Fe.localName=Ge[1]):Fe.localName=Ee,Fe}},c(G,B);function ie(){this._nsMap={}}ie.prototype={nodeType:f,hasAttribute:function(pe){return this.getAttributeNode(pe)!=null},getAttribute:function(pe){var Ee=this.getAttributeNode(pe);return Ee&&Ee.value||""},getAttributeNode:function(pe){return this.attributes.getNamedItem(pe)},setAttribute:function(pe,Ee){var Fe=this.ownerDocument.createAttribute(pe);Fe.value=Fe.nodeValue=""+Ee,this.setAttributeNode(Fe)},removeAttribute:function(pe){var Ee=this.getAttributeNode(pe);Ee&&this.removeAttributeNode(Ee)},appendChild:function(pe){return pe.nodeType===S?this.insertBefore(pe,null):we(this,pe)},setAttributeNode:function(pe){return this.attributes.setNamedItem(pe)},setAttributeNodeNS:function(pe){return this.attributes.setNamedItemNS(pe)},removeAttributeNode:function(pe){return this.attributes.removeNamedItem(pe.nodeName)},removeAttributeNS:function(pe,Ee){var Fe=this.getAttributeNodeNS(pe,Ee);Fe&&this.removeAttributeNode(Fe)},hasAttributeNS:function(pe,Ee){return this.getAttributeNodeNS(pe,Ee)!=null},getAttributeNS:function(pe,Ee){var Fe=this.getAttributeNodeNS(pe,Ee);return Fe&&Fe.value||""},setAttributeNS:function(pe,Ee,Fe){var Ge=this.ownerDocument.createAttributeNS(pe,Ee);Ge.value=Ge.nodeValue=""+Fe,this.setAttributeNode(Ge)},getAttributeNodeNS:function(pe,Ee){return this.attributes.getNamedItemNS(pe,Ee)},getElementsByTagName:function(pe){return new O(this,function(Ee){var Fe=[];return W(Ee,function(Ge){Ge!==Ee&&Ge.nodeType==f&&(pe==="*"||Ge.tagName==pe)&&Fe.push(Ge)}),Fe})},getElementsByTagNameNS:function(pe,Ee){return new O(this,function(Fe){var Ge=[];return W(Fe,function(st){st!==Fe&&st.nodeType===f&&(pe==="*"||st.namespaceURI===pe)&&(Ee==="*"||st.localName==Ee)&&Ge.push(st)}),Ge})}},G.prototype.getElementsByTagName=ie.prototype.getElementsByTagName,G.prototype.getElementsByTagNameNS=ie.prototype.getElementsByTagNameNS,c(ie,B);function ce(){}ce.prototype.nodeType=h,c(ce,B);function ge(){}ge.prototype={data:"",substringData:function(pe,Ee){return this.data.substring(pe,pe+Ee)},appendData:function(pe){pe=this.data+pe,this.nodeValue=this.data=pe,this.length=pe.length},insertData:function(pe,Ee){this.replaceData(pe,0,Ee)},appendChild:function(pe){throw new Error(N[k])},deleteData:function(pe,Ee){this.replaceData(pe,Ee,"")},replaceData:function(pe,Ee,Fe){var Ge=this.data.substring(0,pe),st=this.data.substring(pe+Ee);Fe=Ge+Fe+st,this.nodeValue=this.data=Fe,this.length=Fe.length}},c(ge,B);function ye(){}ye.prototype={nodeName:"#text",nodeType:p,splitText:function(pe){var Ee=this.data,Fe=Ee.substring(pe);Ee=Ee.substring(0,pe),this.data=this.nodeValue=Ee,this.length=Ee.length;var Ge=this.ownerDocument.createTextNode(Fe);return this.parentNode&&this.parentNode.insertBefore(Ge,this.nextSibling),Ge}},c(ye,ge);function Ne(){}Ne.prototype={nodeName:"#comment",nodeType:_},c(Ne,ge);function Ue(){}Ue.prototype={nodeName:"#cdata-section",nodeType:v},c(Ue,ge);function Se(){}Se.prototype.nodeType=C,c(Se,B);function Me(){}Me.prototype.nodeType=R,c(Me,B);function Oe(){}Oe.prototype.nodeType=y,c(Oe,B);function Xe(){}Xe.prototype.nodeType=g,c(Xe,B);function rt(){}rt.prototype.nodeName="#document-fragment",rt.prototype.nodeType=S,c(rt,B);function it(){}it.prototype.nodeType=b,c(it,B);function Lt(){}Lt.prototype.serializeToString=function(pe,Ee,Fe){return _n.call(pe,Ee,Fe)},B.prototype.toString=_n;function _n(pe,Ee){var Fe=[],Ge=this.nodeType==9&&this.documentElement||this,st=Ge.prefix,It=Ge.namespaceURI;if(It&&st==null){var st=Ge.lookupPrefix(It);if(st==null)var ln=[{namespace:It,prefix:null}]}return Qn(this,Fe,pe,Ee,ln),Fe.join("")}function cn(pe,Ee,Fe){var Ge=pe.prefix||"",st=pe.namespaceURI;if(!st||Ge==="xml"&&st===n.XML||st===n.XMLNS)return!1;for(var It=Fe.length;It--;){var ln=Fe[It];if(ln.prefix===Ge)return ln.namespace!==st}return!0}function Nr(pe,Ee,Fe){pe.push(" ",Ee,'="',Fe.replace(/[<>&"\t\n\r]/g,j),'"')}function Qn(pe,Ee,Fe,Ge,st){if(st||(st=[]),Ge)if(pe=Ge(pe),pe){if(typeof pe=="string"){Ee.push(pe);return}}else return;switch(pe.nodeType){case f:var It=pe.attributes,ln=It.length,Ie=pe.firstChild,rn=pe.tagName;Fe=n.isHTML(pe.namespaceURI)||Fe;var xr=rn;if(!Fe&&!pe.prefix&&pe.namespaceURI){for(var Ln,Qe=0;Qe<It.length;Qe++)if(It.item(Qe).name==="xmlns"){Ln=It.item(Qe).value;break}if(!Ln)for(var ft=st.length-1;ft>=0;ft--){var Ut=st[ft];if(Ut.prefix===""&&Ut.namespace===pe.namespaceURI){Ln=Ut.namespace;break}}if(Ln!==pe.namespaceURI)for(var ft=st.length-1;ft>=0;ft--){var Ut=st[ft];if(Ut.namespace===pe.namespaceURI){Ut.prefix&&(xr=Ut.prefix+":"+rn);break}}}Ee.push("<",xr);for(var ue=0;ue<ln;ue++){var be=It.item(ue);be.prefix=="xmlns"?st.push({prefix:be.localName,namespace:be.value}):be.nodeName=="xmlns"&&st.push({prefix:"",namespace:be.value})}for(var ue=0;ue<ln;ue++){var be=It.item(ue);if(cn(be,Fe,st)){var _e=be.prefix||"",Ce=be.namespaceURI;Nr(Ee,_e?"xmlns:"+_e:"xmlns",Ce),st.push({prefix:_e,namespace:Ce})}Qn(be,Ee,Fe,Ge,st)}if(rn===xr&&cn(pe,Fe,st)){var _e=pe.prefix||"",Ce=pe.namespaceURI;Nr(Ee,_e?"xmlns:"+_e:"xmlns",Ce),st.push({prefix:_e,namespace:Ce})}if(Ie||Fe&&!/^(?:meta|link|img|br|hr|input)$/i.test(rn)){if(Ee.push(">"),Fe&&/^script$/i.test(rn))for(;Ie;)Ie.data?Ee.push(Ie.data):Qn(Ie,Ee,Fe,Ge,st.slice()),Ie=Ie.nextSibling;else for(;Ie;)Qn(Ie,Ee,Fe,Ge,st.slice()),Ie=Ie.nextSibling;Ee.push("</",xr,">")}else Ee.push("/>");return;case w:case S:for(var Ie=pe.firstChild;Ie;)Qn(Ie,Ee,Fe,Ge,st.slice()),Ie=Ie.nextSibling;return;case h:return Nr(Ee,pe.name,pe.value);case p:return Ee.push(pe.data.replace(/[<&>]/g,j));case v:return Ee.push("<![CDATA[",pe.data,"]]>");case _:return Ee.push("<!--",pe.data,"-->");case C:var ke=pe.publicId,We=pe.systemId;if(Ee.push("<!DOCTYPE ",pe.name),ke)Ee.push(" PUBLIC ",ke),We&&We!="."&&Ee.push(" ",We),Ee.push(">");else if(We&&We!=".")Ee.push(" SYSTEM ",We,">");else{var qe=pe.internalSubset;qe&&Ee.push(" [",qe,"]"),Ee.push(">")}return;case b:return Ee.push("<?",pe.target," ",pe.data,"?>");case g:return Ee.push("&",pe.nodeName,";");default:Ee.push("??",pe.nodeName)}}function Zn(pe,Ee,Fe){var Ge;switch(Ee.nodeType){case f:Ge=Ee.cloneNode(!1),Ge.ownerDocument=pe;case S:break;case h:Fe=!0;break}if(Ge||(Ge=Ee.cloneNode(!1)),Ge.ownerDocument=pe,Ge.parentNode=null,Fe)for(var st=Ee.firstChild;st;)Ge.appendChild(Zn(pe,st,Fe)),st=st.nextSibling;return Ge}function lr(pe,Ee,Fe){var Ge=new Ee.constructor;for(var st in Ee)if(Object.prototype.hasOwnProperty.call(Ee,st)){var It=Ee[st];typeof It!="object"&&It!=Ge[st]&&(Ge[st]=It)}switch(Ee.childNodes&&(Ge.childNodes=new U),Ge.ownerDocument=pe,Ge.nodeType){case f:var ln=Ee.attributes,rn=Ge.attributes=new X,xr=ln.length;rn._ownerElement=Ge;for(var Ln=0;Ln<xr;Ln++)Ge.setAttributeNode(lr(pe,ln.item(Ln),!0));break;case h:Fe=!0}if(Fe)for(var Qe=Ee.firstChild;Qe;)Ge.appendChild(lr(pe,Qe,Fe)),Qe=Qe.nextSibling;return Ge}function Qt(pe,Ee,Fe){pe[Ee]=Fe}try{if(Object.defineProperty){let pe=function(Ee){switch(Ee.nodeType){case f:case S:var Fe=[];for(Ee=Ee.firstChild;Ee;)Ee.nodeType!==7&&Ee.nodeType!==8&&Fe.push(pe(Ee)),Ee=Ee.nextSibling;return Fe.join("");default:return Ee.nodeValue}};var Tn=pe;Object.defineProperty(O.prototype,"length",{get:function(){return K(this),this.$$length}}),Object.defineProperty(B.prototype,"textContent",{get:function(){return pe(this)},set:function(Ee){switch(this.nodeType){case f:case S:for(;this.firstChild;)this.removeChild(this.firstChild);(Ee||String(Ee))&&this.appendChild(this.ownerDocument.createTextNode(Ee));break;default:this.data=Ee,this.value=Ee,this.nodeValue=Ee}}}),Qt=function(Ee,Fe,Ge){Ee["$$"+Fe]=Ge}}}catch{}return Gl.DocumentType=Se,Gl.DOMException=I,Gl.DOMImplementation=Q,Gl.Element=ie,Gl.Node=B,Gl.NodeList=U,Gl.XMLSerializer=Lt,Gl}var l0={},ZD={},ej;function D9e(){return ej||(ej=1,(function(t){var e=Yw().freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),t.entityMap=t.HTML_ENTITIES})(ZD)),ZD}var Xx={},tj;function A9e(){if(tj)return Xx;tj=1;var t=Yw().NAMESPACE,e=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,n=new RegExp("[\\-\\.0-9"+e.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),r=new RegExp("^"+e.source+n.source+"*(?::"+e.source+n.source+"*)?$"),i=0,s=1,a=2,o=3,l=4,c=5,u=6,f=7;function h(k,F){this.message=k,this.locator=F,Error.captureStackTrace&&Error.captureStackTrace(this,h)}h.prototype=new Error,h.prototype.name=h.name;function p(){}p.prototype={parse:function(k,F,P){var I=this.domBuilder;I.startDocument(),C(F,F={}),v(k,F,P,I,this.errorHandler),I.endDocument()}};function v(k,F,P,I,U){function O(we){if(we>65535){we-=65536;var ie=55296+(we>>10),ce=56320+(we&1023);return String.fromCharCode(ie,ce)}else return String.fromCharCode(we)}function K(we){var ie=we.slice(1,-1);return Object.hasOwnProperty.call(P,ie)?P[ie]:ie.charAt(0)==="#"?O(parseInt(ie.substr(1).replace("x","0x"))):(U.error("entity not found:"+we),we)}function X(we){if(we>G){var ie=k.substring(G,we).replace(/&#?\w+;/g,K);B&&J(G),I.characters(ie,0,we-G),G=we}}function J(we,ie){for(;we>=z&&(ie=Q.exec(k));)ne=ie.index,z=ne+ie[0].length,B.lineNumber++;B.columnNumber=we-ne+1}for(var ne=0,z=0,Q=/.*(?:\r\n?|\n)|.*$/g,B=I.locator,j=[{currentNSMap:F}],W={},G=0;;){try{var Y=k.indexOf("<",G);if(Y<0){if(!k.substr(G).match(/^\s*$/)){var ee=I.doc,ae=ee.createTextNode(k.substr(G));ee.appendChild(ae),I.currentElement=ae}return}switch(Y>G&&X(Y),k.charAt(Y+1)){case"/":var Te=k.indexOf(">",Y+3),de=k.substring(Y+2,Te).replace(/[ \t\n\r]+$/g,""),fe=j.pop();Te<0?(de=k.substring(Y+2).replace(/[\s<].*/,""),U.error("end tag name: "+de+" is not complete:"+fe.tagName),Te=Y+1+de.length):de.match(/\s</)&&(de=de.replace(/[\s<].*/,""),U.error("end tag name: "+de+" maybe not complete"),Te=Y+1+de.length);var Ae=fe.localNSMap,Re=fe.tagName==de,me=Re||fe.tagName&&fe.tagName.toLowerCase()==de.toLowerCase();if(me){if(I.endElement(fe.uri,fe.localName,de),Ae)for(var Le in Ae)Object.prototype.hasOwnProperty.call(Ae,Le)&&I.endPrefixMapping(Le);Re||U.fatalError("end tag name: "+de+" is not match the current start tagName:"+fe.tagName)}else j.push(fe);Te++;break;case"?":B&&J(Y),Te=R(k,Y,I);break;case"!":B&&J(Y),Te=S(k,Y,I,U);break;default:B&&J(Y);var V=new D,xe=j[j.length-1].currentNSMap,Te=y(k,Y,V,xe,K,U),le=V.length;if(!V.closed&&w(k,Te,V.tagName,W)&&(V.closed=!0,P.nbsp||U.warning("unclosed xml attribute")),B&&le){for(var re=g(B,{}),oe=0;oe<le;oe++){var he=V[oe];J(he.offset),he.locator=g(B,{})}I.locator=re,b(V,I,xe)&&j.push(V),I.locator=B}else b(V,I,xe)&&j.push(V);t.isHTML(V.uri)&&!V.closed?Te=_(k,Te,V.tagName,K,I):Te++}}catch(we){if(we instanceof h)throw we;U.error("element parse error: "+we),Te=-1}Te>G?G=Te:X(Math.max(Y,G)+1)}}function g(k,F){return F.lineNumber=k.lineNumber,F.columnNumber=k.columnNumber,F}function y(k,F,P,I,U,O){function K(B,j,W){P.attributeNames.hasOwnProperty(B)&&O.fatalError("Attribute "+B+" redefined"),P.addValue(B,j.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,U),W)}for(var X,J,ne=++F,z=i;;){var Q=k.charAt(ne);switch(Q){case"=":if(z===s)X=k.slice(F,ne),z=o;else if(z===a)z=o;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(z===o||z===s)if(z===s&&(O.warning('attribute value must after "="'),X=k.slice(F,ne)),F=ne+1,ne=k.indexOf(Q,F),ne>0)J=k.slice(F,ne),K(X,J,F-1),z=c;else throw new Error("attribute value no end '"+Q+"' match");else if(z==l)J=k.slice(F,ne),K(X,J,F),O.warning('attribute "'+X+'" missed start quot('+Q+")!!"),F=ne+1,z=c;else throw new Error('attribute value must after "="');break;case"/":switch(z){case i:P.setTagName(k.slice(F,ne));case c:case u:case f:z=f,P.closed=!0;case l:case s:break;case a:P.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return O.error("unexpected end of input"),z==i&&P.setTagName(k.slice(F,ne)),ne;case">":switch(z){case i:P.setTagName(k.slice(F,ne));case c:case u:case f:break;case l:case s:J=k.slice(F,ne),J.slice(-1)==="/"&&(P.closed=!0,J=J.slice(0,-1));case a:z===a&&(J=X),z==l?(O.warning('attribute "'+J+'" missed quot(")!'),K(X,J,F)):((!t.isHTML(I[""])||!J.match(/^(?:disabled|checked|selected)$/i))&&O.warning('attribute "'+J+'" missed value!! "'+J+'" instead!!'),K(J,J,F));break;case o:throw new Error("attribute value missed!!")}return ne;case"":Q=" ";default:if(Q<=" ")switch(z){case i:P.setTagName(k.slice(F,ne)),z=u;break;case s:X=k.slice(F,ne),z=a;break;case l:var J=k.slice(F,ne);O.warning('attribute "'+J+'" missed quot(")!!'),K(X,J,F);case c:z=u;break}else switch(z){case a:P.tagName,(!t.isHTML(I[""])||!X.match(/^(?:disabled|checked|selected)$/i))&&O.warning('attribute "'+X+'" missed value!! "'+X+'" instead2!!'),K(X,X,F),F=ne,z=s;break;case c:O.warning('attribute space is required"'+X+'"!!');case u:z=s,F=ne;break;case o:z=l,F=ne;break;case f:throw new Error("elements closed character '/' and '>' must be connected to")}}ne++}}function b(k,F,P){for(var I=k.tagName,U=null,Q=k.length;Q--;){var O=k[Q],K=O.qName,X=O.value,B=K.indexOf(":");if(B>0)var J=O.prefix=K.slice(0,B),ne=K.slice(B+1),z=J==="xmlns"&&ne;else ne=K,J=null,z=K==="xmlns"&&"";O.localName=ne,z!==!1&&(U==null&&(U={},C(P,P={})),P[z]=U[z]=X,O.uri=t.XMLNS,F.startPrefixMapping(z,X))}for(var Q=k.length;Q--;){O=k[Q];var J=O.prefix;J&&(J==="xml"&&(O.uri=t.XML),J!=="xmlns"&&(O.uri=P[J||""]))}var B=I.indexOf(":");B>0?(J=k.prefix=I.slice(0,B),ne=k.localName=I.slice(B+1)):(J=null,ne=k.localName=I);var j=k.uri=P[J||""];if(F.startElement(j,ne,I,k),k.closed){if(F.endElement(j,ne,I),U)for(J in U)Object.prototype.hasOwnProperty.call(U,J)&&F.endPrefixMapping(J)}else return k.currentNSMap=P,k.localNSMap=U,!0}function _(k,F,P,I,U){if(/^(?:script|textarea)$/i.test(P)){var O=k.indexOf("</"+P+">",F),K=k.substring(F+1,O);if(/[&<]/.test(K))return/^script$/i.test(P)?(U.characters(K,0,K.length),O):(K=K.replace(/&#?\w+;/g,I),U.characters(K,0,K.length),O)}return F+1}function w(k,F,P,I){var U=I[P];return U==null&&(U=k.lastIndexOf("</"+P+">"),U<F&&(U=k.lastIndexOf("</"+P)),I[P]=U),U<F}function C(k,F){for(var P in k)Object.prototype.hasOwnProperty.call(k,P)&&(F[P]=k[P])}function S(k,F,P,I){var U=k.charAt(F+2);switch(U){case"-":if(k.charAt(F+3)==="-"){var O=k.indexOf("-->",F+4);return O>F?(P.comment(k,F+4,O-F-4),O+3):(I.error("Unclosed comment"),-1)}else return-1;default:if(k.substr(F+3,6)=="CDATA["){var O=k.indexOf("]]>",F+9);return P.startCDATA(),P.characters(k,F+9,O-F-9),P.endCDATA(),O+3}var K=N(k,F),X=K.length;if(X>1&&/!doctype/i.test(K[0][0])){var J=K[1][0],ne=!1,z=!1;X>3&&(/^public$/i.test(K[2][0])?(ne=K[3][0],z=X>4&&K[4][0]):/^system$/i.test(K[2][0])&&(z=K[3][0]));var Q=K[X-1];return P.startDTD(J,ne,z),P.endDTD(),Q.index+Q[0].length}}return-1}function R(k,F,P){var I=k.indexOf("?>",F);if(I){var U=k.substring(F,I).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return U?(U[0].length,P.processingInstruction(U[1],U[2]),I+2):-1}return-1}function D(){this.attributeNames={}}D.prototype={setTagName:function(k){if(!r.test(k))throw new Error("invalid tagName:"+k);this.tagName=k},addValue:function(k,F,P){if(!r.test(k))throw new Error("invalid attribute:"+k);this.attributeNames[k]=this.length,this[this.length++]={qName:k,value:F,offset:P}},length:0,getLocalName:function(k){return this[k].localName},getLocator:function(k){return this[k].locator},getQName:function(k){return this[k].qName},getURI:function(k){return this[k].uri},getValue:function(k){return this[k].value}};function N(k,F){var P,I=[],U=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(U.lastIndex=F,U.exec(k);P=U.exec(k);)if(I.push(P),P[1])return I}return Xx.XMLReader=p,Xx.ParseError=h,Xx}var nj;function N9e(){if(nj)return l0;nj=1;var t=Yw(),e=H6(),n=D9e(),r=A9e(),i=e.DOMImplementation,s=t.NAMESPACE,a=r.ParseError,o=r.XMLReader;function l(y){return y.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function c(y){this.options=y||{locator:{}}}c.prototype.parseFromString=function(y,b){var _=this.options,w=new o,C=_.domBuilder||new f,S=_.errorHandler,R=_.locator,D=_.xmlns||{},N=/\/x?html?$/.test(b),k=N?n.HTML_ENTITIES:n.XML_ENTITIES;R&&C.setDocumentLocator(R),w.errorHandler=u(S,C,R),w.domBuilder=_.domBuilder||C,N&&(D[""]=s.HTML),D.xml=D.xml||s.XML;var F=_.normalizeLineEndings||l;return y&&typeof y=="string"?w.parse(F(y),D,k):w.errorHandler.error("invalid doc source"),C.doc};function u(y,b,_){if(!y){if(b instanceof f)return b;y=b}var w={},C=y instanceof Function;_=_||{};function S(R){var D=y[R];!D&&C&&(D=y.length==2?function(N){y(R,N)}:y),w[R]=D&&function(N){D("[xmldom "+R+"]	"+N+p(_))}||function(){}}return S("warning"),S("error"),S("fatalError"),w}function f(){this.cdata=!1}function h(y,b){b.lineNumber=y.lineNumber,b.columnNumber=y.columnNumber}f.prototype={startDocument:function(){this.doc=new i().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(y,b,_,w){var C=this.doc,S=C.createElementNS(y,_||b),R=w.length;g(this,S),this.currentElement=S,this.locator&&h(this.locator,S);for(var D=0;D<R;D++){var y=w.getURI(D),N=w.getValue(D),_=w.getQName(D),k=C.createAttributeNS(y,_);this.locator&&h(w.getLocator(D),k),k.value=k.nodeValue=N,S.setAttributeNode(k)}},endElement:function(y,b,_){var w=this.currentElement;w.tagName,this.currentElement=w.parentNode},startPrefixMapping:function(y,b){},endPrefixMapping:function(y){},processingInstruction:function(y,b){var _=this.doc.createProcessingInstruction(y,b);this.locator&&h(this.locator,_),g(this,_)},ignorableWhitespace:function(y,b,_){},characters:function(y,b,_){if(y=v.apply(this,arguments),y){if(this.cdata)var w=this.doc.createCDATASection(y);else var w=this.doc.createTextNode(y);this.currentElement?this.currentElement.appendChild(w):/^\s*$/.test(y)&&this.doc.appendChild(w),this.locator&&h(this.locator,w)}},skippedEntity:function(y){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(y){(this.locator=y)&&(y.lineNumber=0)},comment:function(y,b,_){y=v.apply(this,arguments);var w=this.doc.createComment(y);this.locator&&h(this.locator,w),g(this,w)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(y,b,_){var w=this.doc.implementation;if(w&&w.createDocumentType){var C=w.createDocumentType(y,b,_);this.locator&&h(this.locator,C),g(this,C),this.doc.doctype=C}},warning:function(y){console.warn("[xmldom warning]	"+y,p(this.locator))},error:function(y){console.error("[xmldom error]	"+y,p(this.locator))},fatalError:function(y){throw new a(y,this.locator)}};function p(y){if(y)return`
@`+(y.systemId||"")+"#[line:"+y.lineNumber+",col:"+y.columnNumber+"]"}function v(y,b,_){return typeof y=="string"?y.substr(b,_):y.length>=b+_||b?new java.lang.String(y,b,_)+"":y}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(y){f.prototype[y]=function(){return null}});function g(y,b){y.currentElement?y.currentElement.appendChild(b):y.doc.appendChild(b)}return l0.__DOMHandler=f,l0.normalizeLineEndings=l,l0.DOMParser=c,l0}var rj;function I9e(){if(rj)return o0;rj=1;var t=H6();return o0.DOMImplementation=t.DOMImplementation,o0.XMLSerializer=t.XMLSerializer,o0.DOMParser=N9e().DOMParser,o0}var ij;function k9e(){if(ij)return Kx;ij=1;var t=I9e(),e=H6();function n(r){var i=null,s=new t.DOMParser({errorHandler:function(o,l){i={level:o,message:l}}}),a=s.parseFromString(r);if(i===null)return a;throw new Error(i.level+": "+i.message)}return Kx.parseFromString=n,Kx.Node=e.Node,Kx}var sj;function R9e(){if(sj)return QD;sj=1;var t=dd(),e=ii,n=k9e(),r=HY(),i=r.Element;QD.readString=a;var s=n.Node;function a(o,l){l=l||{};try{var c=n.parseFromString(o,"text/xml")}catch(p){return t.reject(p)}if(c.documentElement.tagName==="parsererror")return t.resolve(new Error(c.documentElement.textContent));function u(p){switch(p.nodeType){case s.ELEMENT_NODE:return f(p);case s.TEXT_NODE:return r.text(p.nodeValue)}}function f(p){var v=h(p),g=[];e.forEach(p.childNodes,function(b){var _=u(b);_&&g.push(_)});var y={};return e.forEach(p.attributes,function(b){y[h(b)]=b.value}),new i(v,y,g)}function h(p){if(p.namespaceURI){var v=l[p.namespaceURI],g;return v?g=v+":":g="{"+p.namespaceURI+"}",g+p.localName}else return p.localName}return t.resolve(u(c.documentElement))}return QD}var e4={},Fd={},nl={},aj;function fd(){return aj||(aj=1,(function(){var t,e,n,r,i,s,a,o=[].slice,l={}.hasOwnProperty;t=function(){var c,u,f,h,p,v;if(v=arguments[0],p=2<=arguments.length?o.call(arguments,1):[],i(Object.assign))Object.assign.apply(null,arguments);else for(c=0,f=p.length;c<f;c++)if(h=p[c],h!=null)for(u in h)l.call(h,u)&&(v[u]=h[u]);return v},i=function(c){return!!c&&Object.prototype.toString.call(c)==="[object Function]"},s=function(c){var u;return!!c&&((u=typeof c)=="function"||u==="object")},n=function(c){return i(Array.isArray)?Array.isArray(c):Object.prototype.toString.call(c)==="[object Array]"},r=function(c){var u;if(n(c))return!c.length;for(u in c)if(l.call(c,u))return!1;return!0},a=function(c){var u,f;return s(c)&&(f=Object.getPrototypeOf(c))&&(u=f.constructor)&&typeof u=="function"&&u instanceof u&&Function.prototype.toString.call(u)===Function.prototype.toString.call(Object)},e=function(c){return i(c.valueOf)?c.valueOf():c},nl.assign=t,nl.isFunction=i,nl.isObject=s,nl.isArray=n,nl.isEmpty=r,nl.isPlainObject=a,nl.getValue=e}).call(nl)),nl}var C2={exports:{}},S2={exports:{}},D2={exports:{}},A2={exports:{}},P9e=A2.exports,oj;function GY(){return oj||(oj=1,(function(){A2.exports=(function(){function t(e,n,r){if(this.options=e.options,this.stringify=e.stringify,this.parent=e,n==null)throw new Error("Missing attribute name. "+this.debugInfo(n));if(r==null)throw new Error("Missing attribute value. "+this.debugInfo(n));this.name=this.stringify.attName(n),this.value=this.stringify.attValue(r)}return t.prototype.clone=function(){return Object.create(this)},t.prototype.toString=function(e){return this.options.writer.set(e).attribute(this)},t.prototype.debugInfo=function(e){return e=e||this.name,e==null?"parent: <"+this.parent.name+">":"attribute: {"+e+"}, parent: <"+this.parent.name+">"},t})()}).call(P9e)),A2.exports}var F9e=D2.exports,lj;function Qw(){return lj||(lj=1,(function(){var t,e,n,r,i,s,a=function(l,c){for(var u in c)o.call(c,u)&&(l[u]=c[u]);function f(){this.constructor=l}return f.prototype=c.prototype,l.prototype=new f,l.__super__=c.prototype,l},o={}.hasOwnProperty;s=fd(),i=s.isObject,r=s.isFunction,n=s.getValue,e=ua(),t=GY(),D2.exports=(function(l){a(c,l);function c(u,f,h){if(c.__super__.constructor.call(this,u),f==null)throw new Error("Missing element name. "+this.debugInfo());this.name=this.stringify.eleName(f),this.attributes={},h!=null&&this.attribute(h),u.isDocument&&(this.isRoot=!0,this.documentObject=u,u.rootObject=this)}return c.prototype.clone=function(){var u,f,h,p;h=Object.create(this),h.isRoot&&(h.documentObject=null),h.attributes={},p=this.attributes;for(f in p)o.call(p,f)&&(u=p[f],h.attributes[f]=u.clone());return h.children=[],this.children.forEach(function(v){var g;return g=v.clone(),g.parent=h,h.children.push(g)}),h},c.prototype.attribute=function(u,f){var h,p;if(u!=null&&(u=n(u)),i(u))for(h in u)o.call(u,h)&&(p=u[h],this.attribute(h,p));else r(f)&&(f=f.apply()),(!this.options.skipNullAttributes||f!=null)&&(this.attributes[u]=new t(this,u,f));return this},c.prototype.removeAttribute=function(u){var f,h,p;if(u==null)throw new Error("Missing attribute name. "+this.debugInfo());if(u=n(u),Array.isArray(u))for(h=0,p=u.length;h<p;h++)f=u[h],delete this.attributes[f];else delete this.attributes[u];return this},c.prototype.toString=function(u){return this.options.writer.set(u).element(this)},c.prototype.att=function(u,f){return this.attribute(u,f)},c.prototype.a=function(u,f){return this.attribute(u,f)},c})(e)}).call(F9e)),D2.exports}var N2={exports:{}},M9e=N2.exports,cj;function Zw(){return cj||(cj=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=ua(),N2.exports=(function(r){e(i,r);function i(s,a){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing CDATA text. "+this.debugInfo());this.text=this.stringify.cdata(a)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).cdata(this)},i})(t)}).call(M9e)),N2.exports}var I2={exports:{}},U9e=I2.exports,uj;function eT(){return uj||(uj=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=ua(),I2.exports=(function(r){e(i,r);function i(s,a){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing comment text. "+this.debugInfo());this.text=this.stringify.comment(a)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).comment(this)},i})(t)}).call(U9e)),I2.exports}var k2={exports:{}},O9e=k2.exports,dj;function tT(){return dj||(dj=1,(function(){var t,e,n=function(i,s){for(var a in s)r.call(s,a)&&(i[a]=s[a]);function o(){this.constructor=i}return o.prototype=s.prototype,i.prototype=new o,i.__super__=s.prototype,i},r={}.hasOwnProperty;e=fd().isObject,t=ua(),k2.exports=(function(i){n(s,i);function s(a,o,l,c){var u;s.__super__.constructor.call(this,a),e(o)&&(u=o,o=u.version,l=u.encoding,c=u.standalone),o||(o="1.0"),this.version=this.stringify.xmlVersion(o),l!=null&&(this.encoding=this.stringify.xmlEncoding(l)),c!=null&&(this.standalone=this.stringify.xmlStandalone(c))}return s.prototype.toString=function(a){return this.options.writer.set(a).declaration(this)},s})(t)}).call(O9e)),k2.exports}var R2={exports:{}},P2={exports:{}},L9e=P2.exports,fj;function nT(){return fj||(fj=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=ua(),P2.exports=(function(r){e(i,r);function i(s,a,o,l,c,u){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing DTD element name. "+this.debugInfo());if(o==null)throw new Error("Missing DTD attribute name. "+this.debugInfo(a));if(!l)throw new Error("Missing DTD attribute type. "+this.debugInfo(a));if(!c)throw new Error("Missing DTD attribute default. "+this.debugInfo(a));if(c.indexOf("#")!==0&&(c="#"+c),!c.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(a));if(u&&!c.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(a));this.elementName=this.stringify.eleName(a),this.attributeName=this.stringify.attName(o),this.attributeType=this.stringify.dtdAttType(l),this.defaultValue=this.stringify.dtdAttDefault(u),this.defaultValueType=c}return i.prototype.toString=function(s){return this.options.writer.set(s).dtdAttList(this)},i})(t)}).call(L9e)),P2.exports}var F2={exports:{}},j9e=F2.exports,hj;function rT(){return hj||(hj=1,(function(){var t,e,n=function(i,s){for(var a in s)r.call(s,a)&&(i[a]=s[a]);function o(){this.constructor=i}return o.prototype=s.prototype,i.prototype=new o,i.__super__=s.prototype,i},r={}.hasOwnProperty;e=fd().isObject,t=ua(),F2.exports=(function(i){n(s,i);function s(a,o,l,c){if(s.__super__.constructor.call(this,a),l==null)throw new Error("Missing DTD entity name. "+this.debugInfo(l));if(c==null)throw new Error("Missing DTD entity value. "+this.debugInfo(l));if(this.pe=!!o,this.name=this.stringify.eleName(l),!e(c))this.value=this.stringify.dtdEntityValue(c);else{if(!c.pubID&&!c.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(l));if(c.pubID&&!c.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(l));if(c.pubID!=null&&(this.pubID=this.stringify.dtdPubID(c.pubID)),c.sysID!=null&&(this.sysID=this.stringify.dtdSysID(c.sysID)),c.nData!=null&&(this.nData=this.stringify.dtdNData(c.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(l))}}return s.prototype.toString=function(a){return this.options.writer.set(a).dtdEntity(this)},s})(t)}).call(j9e)),F2.exports}var M2={exports:{}},B9e=M2.exports,pj;function iT(){return pj||(pj=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=ua(),M2.exports=(function(r){e(i,r);function i(s,a,o){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing DTD element name. "+this.debugInfo());o||(o="(#PCDATA)"),Array.isArray(o)&&(o="("+o.join(",")+")"),this.name=this.stringify.eleName(a),this.value=this.stringify.dtdElementValue(o)}return i.prototype.toString=function(s){return this.options.writer.set(s).dtdElement(this)},i})(t)}).call(B9e)),M2.exports}var U2={exports:{}},V9e=U2.exports,mj;function sT(){return mj||(mj=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=ua(),U2.exports=(function(r){e(i,r);function i(s,a,o){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing DTD notation name. "+this.debugInfo(a));if(!o.pubID&&!o.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(a));this.name=this.stringify.eleName(a),o.pubID!=null&&(this.pubID=this.stringify.dtdPubID(o.pubID)),o.sysID!=null&&(this.sysID=this.stringify.dtdSysID(o.sysID))}return i.prototype.toString=function(s){return this.options.writer.set(s).dtdNotation(this)},i})(t)}).call(V9e)),U2.exports}var W9e=R2.exports,gj;function aT(){return gj||(gj=1,(function(){var t,e,n,r,i,s,a=function(l,c){for(var u in c)o.call(c,u)&&(l[u]=c[u]);function f(){this.constructor=l}return f.prototype=c.prototype,l.prototype=new f,l.__super__=c.prototype,l},o={}.hasOwnProperty;s=fd().isObject,i=ua(),t=nT(),n=rT(),e=iT(),r=sT(),R2.exports=(function(l){a(c,l);function c(u,f,h){var p,v;c.__super__.constructor.call(this,u),this.name="!DOCTYPE",this.documentObject=u,s(f)&&(p=f,f=p.pubID,h=p.sysID),h==null&&(v=[f,h],h=v[0],f=v[1]),f!=null&&(this.pubID=this.stringify.dtdPubID(f)),h!=null&&(this.sysID=this.stringify.dtdSysID(h))}return c.prototype.element=function(u,f){var h;return h=new e(this,u,f),this.children.push(h),this},c.prototype.attList=function(u,f,h,p,v){var g;return g=new t(this,u,f,h,p,v),this.children.push(g),this},c.prototype.entity=function(u,f){var h;return h=new n(this,!1,u,f),this.children.push(h),this},c.prototype.pEntity=function(u,f){var h;return h=new n(this,!0,u,f),this.children.push(h),this},c.prototype.notation=function(u,f){var h;return h=new r(this,u,f),this.children.push(h),this},c.prototype.toString=function(u){return this.options.writer.set(u).docType(this)},c.prototype.ele=function(u,f){return this.element(u,f)},c.prototype.att=function(u,f,h,p,v){return this.attList(u,f,h,p,v)},c.prototype.ent=function(u,f){return this.entity(u,f)},c.prototype.pent=function(u,f){return this.pEntity(u,f)},c.prototype.not=function(u,f){return this.notation(u,f)},c.prototype.up=function(){return this.root()||this.documentObject},c})(i)}).call(W9e)),R2.exports}var O2={exports:{}},q9e=O2.exports,yj;function oT(){return yj||(yj=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=ua(),O2.exports=(function(r){e(i,r);function i(s,a){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing raw text. "+this.debugInfo());this.value=this.stringify.raw(a)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).raw(this)},i})(t)}).call(q9e)),O2.exports}var L2={exports:{}},$9e=L2.exports,vj;function lT(){return vj||(vj=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=ua(),L2.exports=(function(r){e(i,r);function i(s,a){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing element text. "+this.debugInfo());this.value=this.stringify.eleText(a)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).text(this)},i})(t)}).call($9e)),L2.exports}var j2={exports:{}},z9e=j2.exports,xj;function cT(){return xj||(xj=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=ua(),j2.exports=(function(r){e(i,r);function i(s,a,o){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing instruction target. "+this.debugInfo());this.target=this.stringify.insTarget(a),o&&(this.value=this.stringify.insValue(o))}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).processingInstruction(this)},i})(t)}).call(z9e)),j2.exports}var B2={exports:{}},H9e=B2.exports,_j;function G6(){return _j||(_j=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=ua(),B2.exports=(function(r){e(i,r);function i(s){i.__super__.constructor.call(this,s),this.isDummy=!0}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return""},i})(t)}).call(H9e)),B2.exports}var G9e=S2.exports,bj;function ua(){return bj||(bj=1,(function(){var t,e,n,r,i,s,a,o,l,c,u,f,h,p,v={}.hasOwnProperty;p=fd(),h=p.isObject,f=p.isFunction,u=p.isEmpty,c=p.getValue,s=null,t=null,e=null,n=null,r=null,o=null,l=null,a=null,i=null,S2.exports=(function(){function g(y){this.parent=y,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.children=[],s||(s=Qw(),t=Zw(),e=eT(),n=tT(),r=aT(),o=oT(),l=lT(),a=cT(),i=G6())}return g.prototype.element=function(y,b,_){var w,C,S,R,D,N,k,F,P,I,U;if(N=null,b===null&&_==null&&(P=[{},null],b=P[0],_=P[1]),b==null&&(b={}),b=c(b),h(b)||(I=[b,_],_=I[0],b=I[1]),y!=null&&(y=c(y)),Array.isArray(y))for(S=0,k=y.length;S<k;S++)C=y[S],N=this.element(C);else if(f(y))N=this.element(y.apply());else if(h(y)){for(D in y)if(v.call(y,D))if(U=y[D],f(U)&&(U=U.apply()),h(U)&&u(U)&&(U=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&D.indexOf(this.stringify.convertAttKey)===0)N=this.attribute(D.substr(this.stringify.convertAttKey.length),U);else if(!this.options.separateArrayItems&&Array.isArray(U))for(R=0,F=U.length;R<F;R++)C=U[R],w={},w[D]=C,N=this.element(w);else h(U)?(N=this.element(D),N.element(U)):N=this.element(D,U)}else this.options.skipNullNodes&&_===null?N=this.dummy():!this.options.ignoreDecorators&&this.stringify.convertTextKey&&y.indexOf(this.stringify.convertTextKey)===0?N=this.text(_):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&y.indexOf(this.stringify.convertCDataKey)===0?N=this.cdata(_):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&y.indexOf(this.stringify.convertCommentKey)===0?N=this.comment(_):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&y.indexOf(this.stringify.convertRawKey)===0?N=this.raw(_):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&y.indexOf(this.stringify.convertPIKey)===0?N=this.instruction(y.substr(this.stringify.convertPIKey.length),_):N=this.node(y,b,_);if(N==null)throw new Error("Could not create any elements with: "+y+". "+this.debugInfo());return N},g.prototype.insertBefore=function(y,b,_){var w,C,S;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(y));return C=this.parent.children.indexOf(this),S=this.parent.children.splice(C),w=this.parent.element(y,b,_),Array.prototype.push.apply(this.parent.children,S),w},g.prototype.insertAfter=function(y,b,_){var w,C,S;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(y));return C=this.parent.children.indexOf(this),S=this.parent.children.splice(C+1),w=this.parent.element(y,b,_),Array.prototype.push.apply(this.parent.children,S),w},g.prototype.remove=function(){var y;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return y=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[y,y-y+1].concat([])),this.parent},g.prototype.node=function(y,b,_){var w,C;return y!=null&&(y=c(y)),b||(b={}),b=c(b),h(b)||(C=[b,_],_=C[0],b=C[1]),w=new s(this,y,b),_!=null&&w.text(_),this.children.push(w),w},g.prototype.text=function(y){var b;return b=new l(this,y),this.children.push(b),this},g.prototype.cdata=function(y){var b;return b=new t(this,y),this.children.push(b),this},g.prototype.comment=function(y){var b;return b=new e(this,y),this.children.push(b),this},g.prototype.commentBefore=function(y){var b,_;return b=this.parent.children.indexOf(this),_=this.parent.children.splice(b),this.parent.comment(y),Array.prototype.push.apply(this.parent.children,_),this},g.prototype.commentAfter=function(y){var b,_;return b=this.parent.children.indexOf(this),_=this.parent.children.splice(b+1),this.parent.comment(y),Array.prototype.push.apply(this.parent.children,_),this},g.prototype.raw=function(y){var b;return b=new o(this,y),this.children.push(b),this},g.prototype.dummy=function(){var y;return y=new i(this),this.children.push(y),y},g.prototype.instruction=function(y,b){var _,w,C,S,R;if(y!=null&&(y=c(y)),b!=null&&(b=c(b)),Array.isArray(y))for(S=0,R=y.length;S<R;S++)_=y[S],this.instruction(_);else if(h(y))for(_ in y)v.call(y,_)&&(w=y[_],this.instruction(_,w));else f(b)&&(b=b.apply()),C=new a(this,y,b),this.children.push(C);return this},g.prototype.instructionBefore=function(y,b){var _,w;return _=this.parent.children.indexOf(this),w=this.parent.children.splice(_),this.parent.instruction(y,b),Array.prototype.push.apply(this.parent.children,w),this},g.prototype.instructionAfter=function(y,b){var _,w;return _=this.parent.children.indexOf(this),w=this.parent.children.splice(_+1),this.parent.instruction(y,b),Array.prototype.push.apply(this.parent.children,w),this},g.prototype.declaration=function(y,b,_){var w,C;return w=this.document(),C=new n(w,y,b,_),w.children[0]instanceof n?w.children[0]=C:w.children.unshift(C),w.root()||w},g.prototype.doctype=function(y,b){var _,w,C,S,R,D,N,k,F,P;for(w=this.document(),C=new r(w,y,b),F=w.children,S=R=0,N=F.length;R<N;S=++R)if(_=F[S],_ instanceof r)return w.children[S]=C,C;for(P=w.children,S=D=0,k=P.length;D<k;S=++D)if(_=P[S],_.isRoot)return w.children.splice(S,0,C),C;return w.children.push(C),C},g.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},g.prototype.root=function(){var y;for(y=this;y;){if(y.isDocument)return y.rootObject;if(y.isRoot)return y;y=y.parent}},g.prototype.document=function(){var y;for(y=this;y;){if(y.isDocument)return y;y=y.parent}},g.prototype.end=function(y){return this.document().end(y)},g.prototype.prev=function(){var y;for(y=this.parent.children.indexOf(this);y>0&&this.parent.children[y-1].isDummy;)y=y-1;if(y<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[y-1]},g.prototype.next=function(){var y;for(y=this.parent.children.indexOf(this);y<this.parent.children.length-1&&this.parent.children[y+1].isDummy;)y=y+1;if(y===-1||y===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[y+1]},g.prototype.importDocument=function(y){var b;return b=y.root().clone(),b.parent=this,b.isRoot=!1,this.children.push(b),this},g.prototype.debugInfo=function(y){var b,_;return y=y||this.name,y==null&&!((b=this.parent)!=null&&b.name)?"":y==null?"parent: <"+this.parent.name+">":(_=this.parent)!=null&&_.name?"node: <"+y+">, parent: <"+this.parent.name+">":"node: <"+y+">"},g.prototype.ele=function(y,b,_){return this.element(y,b,_)},g.prototype.nod=function(y,b,_){return this.node(y,b,_)},g.prototype.txt=function(y){return this.text(y)},g.prototype.dat=function(y){return this.cdata(y)},g.prototype.com=function(y){return this.comment(y)},g.prototype.ins=function(y,b){return this.instruction(y,b)},g.prototype.doc=function(){return this.document()},g.prototype.dec=function(y,b,_){return this.declaration(y,b,_)},g.prototype.dtd=function(y,b){return this.doctype(y,b)},g.prototype.e=function(y,b,_){return this.element(y,b,_)},g.prototype.n=function(y,b,_){return this.node(y,b,_)},g.prototype.t=function(y){return this.text(y)},g.prototype.d=function(y){return this.cdata(y)},g.prototype.c=function(y){return this.comment(y)},g.prototype.r=function(y){return this.raw(y)},g.prototype.i=function(y,b){return this.instruction(y,b)},g.prototype.u=function(){return this.up()},g.prototype.importXMLBuilder=function(y){return this.importDocument(y)},g})()}).call(G9e)),S2.exports}var V2={exports:{}},K9e=V2.exports,wj;function KY(){return wj||(wj=1,(function(){var t=function(n,r){return function(){return n.apply(r,arguments)}},e={}.hasOwnProperty;V2.exports=(function(){function n(r){this.assertLegalChar=t(this.assertLegalChar,this);var i,s,a;r||(r={}),this.noDoubleEncoding=r.noDoubleEncoding,s=r.stringify||{};for(i in s)e.call(s,i)&&(a=s[i],this[i]=a)}return n.prototype.eleName=function(r){return r=""+r||"",this.assertLegalChar(r)},n.prototype.eleText=function(r){return r=""+r||"",this.assertLegalChar(this.elEscape(r))},n.prototype.cdata=function(r){return r=""+r||"",r=r.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(r)},n.prototype.comment=function(r){if(r=""+r||"",r.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+r);return this.assertLegalChar(r)},n.prototype.raw=function(r){return""+r||""},n.prototype.attName=function(r){return r=""+r||""},n.prototype.attValue=function(r){return r=""+r||"",this.attEscape(r)},n.prototype.insTarget=function(r){return""+r||""},n.prototype.insValue=function(r){if(r=""+r||"",r.match(/\?>/))throw new Error("Invalid processing instruction value: "+r);return r},n.prototype.xmlVersion=function(r){if(r=""+r||"",!r.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+r);return r},n.prototype.xmlEncoding=function(r){if(r=""+r||"",!r.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+r);return r},n.prototype.xmlStandalone=function(r){return r?"yes":"no"},n.prototype.dtdPubID=function(r){return""+r||""},n.prototype.dtdSysID=function(r){return""+r||""},n.prototype.dtdElementValue=function(r){return""+r||""},n.prototype.dtdAttType=function(r){return""+r||""},n.prototype.dtdAttDefault=function(r){return r!=null?""+r||"":r},n.prototype.dtdEntityValue=function(r){return""+r||""},n.prototype.dtdNData=function(r){return""+r||""},n.prototype.convertAttKey="@",n.prototype.convertPIKey="?",n.prototype.convertTextKey="#text",n.prototype.convertCDataKey="#cdata",n.prototype.convertCommentKey="#comment",n.prototype.convertRawKey="#raw",n.prototype.assertLegalChar=function(r){var i;if(i=r.match(/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/),i)throw new Error("Invalid character in string: "+r+" at index "+i.index);return r},n.prototype.elEscape=function(r){var i;return i=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,r.replace(i,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},n.prototype.attEscape=function(r){var i;return i=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,r.replace(i,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},n})()}).call(K9e)),V2.exports}var W2={exports:{}},q2={exports:{}},X9e=q2.exports,Tj;function XY(){return Tj||(Tj=1,(function(){var t={}.hasOwnProperty;q2.exports=(function(){function e(n){var r,i,s,a,o,l,c,u,f;n||(n={}),this.pretty=n.pretty||!1,this.allowEmpty=(i=n.allowEmpty)!=null?i:!1,this.pretty?(this.indent=(s=n.indent)!=null?s:"  ",this.newline=(a=n.newline)!=null?a:`
`,this.offset=(o=n.offset)!=null?o:0,this.dontprettytextnodes=(l=n.dontprettytextnodes)!=null?l:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash=(c=n.spacebeforeslash)!=null?c:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,u=n.writer||{};for(r in u)t.call(u,r)&&(f=u[r],this[r]=f)}return e.prototype.set=function(n){var r,i,s;n||(n={}),"pretty"in n&&(this.pretty=n.pretty),"allowEmpty"in n&&(this.allowEmpty=n.allowEmpty),this.pretty?(this.indent="indent"in n?n.indent:"  ",this.newline="newline"in n?n.newline:`
`,this.offset="offset"in n?n.offset:0,this.dontprettytextnodes="dontprettytextnodes"in n?n.dontprettytextnodes:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash="spacebeforeslash"in n?n.spacebeforeslash:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,i=n.writer||{};for(r in i)t.call(i,r)&&(s=i[r],this[r]=s);return this},e.prototype.space=function(n){var r;return this.pretty?(r=(n||0)+this.offset+1,r>0?new Array(r).join(this.indent):""):""},e})()}).call(X9e)),q2.exports}var J9e=W2.exports,Ej;function K6(){return Ej||(Ej=1,(function(){var t,e,n,r,i,s,a,o,l,c,u,f,h,p,v=function(y,b){for(var _ in b)g.call(b,_)&&(y[_]=b[_]);function w(){this.constructor=y}return w.prototype=b.prototype,y.prototype=new w,y.__super__=b.prototype,y},g={}.hasOwnProperty;a=tT(),o=aT(),t=Zw(),e=eT(),c=Qw(),f=oT(),h=lT(),u=cT(),l=G6(),n=nT(),r=iT(),i=rT(),s=sT(),p=XY(),W2.exports=(function(y){v(b,y);function b(_){b.__super__.constructor.call(this,_)}return b.prototype.document=function(_){var w,C,S,R,D;for(this.textispresent=!1,R="",D=_.children,C=0,S=D.length;C<S;C++)w=D[C],!(w instanceof l)&&(R+=(function(){switch(!1){case!(w instanceof a):return this.declaration(w);case!(w instanceof o):return this.docType(w);case!(w instanceof e):return this.comment(w);case!(w instanceof u):return this.processingInstruction(w);default:return this.element(w,0)}}).call(this));return this.pretty&&R.slice(-this.newline.length)===this.newline&&(R=R.slice(0,-this.newline.length)),R},b.prototype.attribute=function(_){return" "+_.name+'="'+_.value+'"'},b.prototype.cdata=function(_,w){return this.space(w)+"<![CDATA["+_.text+"]]>"+this.newline},b.prototype.comment=function(_,w){return this.space(w)+"<!-- "+_.text+" -->"+this.newline},b.prototype.declaration=function(_,w){var C;return C=this.space(w),C+='<?xml version="'+_.version+'"',_.encoding!=null&&(C+=' encoding="'+_.encoding+'"'),_.standalone!=null&&(C+=' standalone="'+_.standalone+'"'),C+=this.spacebeforeslash+"?>",C+=this.newline,C},b.prototype.docType=function(_,w){var C,S,R,D,N;if(w||(w=0),D=this.space(w),D+="<!DOCTYPE "+_.root().name,_.pubID&&_.sysID?D+=' PUBLIC "'+_.pubID+'" "'+_.sysID+'"':_.sysID&&(D+=' SYSTEM "'+_.sysID+'"'),_.children.length>0){for(D+=" [",D+=this.newline,N=_.children,S=0,R=N.length;S<R;S++)C=N[S],D+=(function(){switch(!1){case!(C instanceof n):return this.dtdAttList(C,w+1);case!(C instanceof r):return this.dtdElement(C,w+1);case!(C instanceof i):return this.dtdEntity(C,w+1);case!(C instanceof s):return this.dtdNotation(C,w+1);case!(C instanceof t):return this.cdata(C,w+1);case!(C instanceof e):return this.comment(C,w+1);case!(C instanceof u):return this.processingInstruction(C,w+1);default:throw new Error("Unknown DTD node type: "+C.constructor.name)}}).call(this);D+="]"}return D+=this.spacebeforeslash+">",D+=this.newline,D},b.prototype.element=function(_,w){var C,S,R,D,N,k,F,P,I,U,O,K,X;w||(w=0),X=!1,this.textispresent?(this.newline="",this.pretty=!1):(this.newline=this.newlinedefault,this.pretty=this.prettydefault),K=this.space(w),P="",P+=K+"<"+_.name,I=_.attributes;for(F in I)g.call(I,F)&&(C=I[F],P+=this.attribute(C));if(_.children.length===0||_.children.every(function(J){return J.value===""}))this.allowEmpty?P+="></"+_.name+">"+this.newline:P+=this.spacebeforeslash+"/>"+this.newline;else if(this.pretty&&_.children.length===1&&_.children[0].value!=null)P+=">",P+=_.children[0].value,P+="</"+_.name+">"+this.newline;else{if(this.dontprettytextnodes){for(U=_.children,R=0,N=U.length;R<N;R++)if(S=U[R],S.value!=null){this.textispresent++,X=!0;break}}for(this.textispresent&&(this.newline="",this.pretty=!1,K=this.space(w)),P+=">"+this.newline,O=_.children,D=0,k=O.length;D<k;D++)S=O[D],P+=(function(){switch(!1){case!(S instanceof t):return this.cdata(S,w+1);case!(S instanceof e):return this.comment(S,w+1);case!(S instanceof c):return this.element(S,w+1);case!(S instanceof f):return this.raw(S,w+1);case!(S instanceof h):return this.text(S,w+1);case!(S instanceof u):return this.processingInstruction(S,w+1);case!(S instanceof l):return"";default:throw new Error("Unknown XML node type: "+S.constructor.name)}}).call(this);X&&this.textispresent--,this.textispresent||(this.newline=this.newlinedefault,this.pretty=this.prettydefault),P+=K+"</"+_.name+">"+this.newline}return P},b.prototype.processingInstruction=function(_,w){var C;return C=this.space(w)+"<?"+_.target,_.value&&(C+=" "+_.value),C+=this.spacebeforeslash+"?>"+this.newline,C},b.prototype.raw=function(_,w){return this.space(w)+_.value+this.newline},b.prototype.text=function(_,w){return this.space(w)+_.value+this.newline},b.prototype.dtdAttList=function(_,w){var C;return C=this.space(w)+"<!ATTLIST "+_.elementName+" "+_.attributeName+" "+_.attributeType,_.defaultValueType!=="#DEFAULT"&&(C+=" "+_.defaultValueType),_.defaultValue&&(C+=' "'+_.defaultValue+'"'),C+=this.spacebeforeslash+">"+this.newline,C},b.prototype.dtdElement=function(_,w){return this.space(w)+"<!ELEMENT "+_.name+" "+_.value+this.spacebeforeslash+">"+this.newline},b.prototype.dtdEntity=function(_,w){var C;return C=this.space(w)+"<!ENTITY",_.pe&&(C+=" %"),C+=" "+_.name,_.value?C+=' "'+_.value+'"':(_.pubID&&_.sysID?C+=' PUBLIC "'+_.pubID+'" "'+_.sysID+'"':_.sysID&&(C+=' SYSTEM "'+_.sysID+'"'),_.nData&&(C+=" NDATA "+_.nData)),C+=this.spacebeforeslash+">"+this.newline,C},b.prototype.dtdNotation=function(_,w){var C;return C=this.space(w)+"<!NOTATION "+_.name,_.pubID&&_.sysID?C+=' PUBLIC "'+_.pubID+'" "'+_.sysID+'"':_.pubID?C+=' PUBLIC "'+_.pubID+'"':_.sysID&&(C+=' SYSTEM "'+_.sysID+'"'),C+=this.spacebeforeslash+">"+this.newline,C},b.prototype.openNode=function(_,w){var C,S,R,D;if(w||(w=0),_ instanceof c){R=this.space(w)+"<"+_.name,D=_.attributes;for(S in D)g.call(D,S)&&(C=D[S],R+=this.attribute(C));return R+=(_.children?">":"/>")+this.newline,R}else return R=this.space(w)+"<!DOCTYPE "+_.rootNodeName,_.pubID&&_.sysID?R+=' PUBLIC "'+_.pubID+'" "'+_.sysID+'"':_.sysID&&(R+=' SYSTEM "'+_.sysID+'"'),R+=(_.children?" [":">")+this.newline,R},b.prototype.closeNode=function(_,w){switch(w||(w=0),!1){case!(_ instanceof c):return this.space(w)+"</"+_.name+">"+this.newline;case!(_ instanceof o):return this.space(w)+"]>"+this.newline}},b})(p)}).call(J9e)),W2.exports}var Y9e=C2.exports,Cj;function Q9e(){return Cj||(Cj=1,(function(){var t,e,n,r,i=function(a,o){for(var l in o)s.call(o,l)&&(a[l]=o[l]);function c(){this.constructor=a}return c.prototype=o.prototype,a.prototype=new c,a.__super__=o.prototype,a},s={}.hasOwnProperty;r=fd().isPlainObject,t=ua(),n=KY(),e=K6(),C2.exports=(function(a){i(o,a);function o(l){o.__super__.constructor.call(this,null),this.name="?xml",l||(l={}),l.writer||(l.writer=new e),this.options=l,this.stringify=new n(l),this.isDocument=!0}return o.prototype.end=function(l){var c;return l?r(l)&&(c=l,l=this.options.writer.set(c)):l=this.options.writer,l.document(this)},o.prototype.toString=function(l){return this.options.writer.set(l).document(this)},o})(t)}).call(Y9e)),C2.exports}var $2={exports:{}},Z9e=$2.exports,Sj;function e7e(){return Sj||(Sj=1,(function(){var t,e,n,r,i,s,a,o,l,c,u,f,h,p,v,g,y,b,_,w,C={}.hasOwnProperty;w=fd(),b=w.isObject,y=w.isFunction,_=w.isPlainObject,g=w.getValue,c=Qw(),e=Zw(),n=eT(),f=oT(),v=lT(),u=cT(),o=tT(),l=aT(),r=nT(),s=rT(),i=iT(),a=sT(),t=GY(),p=KY(),h=K6(),$2.exports=(function(){function S(R,D,N){var k;this.name="?xml",R||(R={}),R.writer?_(R.writer)&&(k=R.writer,R.writer=new h(k)):R.writer=new h(R),this.options=R,this.writer=R.writer,this.stringify=new p(R),this.onDataCallback=D||function(){},this.onEndCallback=N||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return S.prototype.node=function(R,D,N){var k,F;if(R==null)throw new Error("Missing node name.");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node. "+this.debugInfo(R));return this.openCurrent(),R=g(R),D===null&&N==null&&(k=[{},null],D=k[0],N=k[1]),D==null&&(D={}),D=g(D),b(D)||(F=[D,N],N=F[0],D=F[1]),this.currentNode=new c(this,R,D),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,N!=null&&this.text(N),this},S.prototype.element=function(R,D,N){return this.currentNode&&this.currentNode instanceof l?this.dtdElement.apply(this,arguments):this.node(R,D,N)},S.prototype.attribute=function(R,D){var N,k;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(R));if(R!=null&&(R=g(R)),b(R))for(N in R)C.call(R,N)&&(k=R[N],this.attribute(N,k));else y(D)&&(D=D.apply()),(!this.options.skipNullAttributes||D!=null)&&(this.currentNode.attributes[R]=new t(this,R,D));return this},S.prototype.text=function(R){var D;return this.openCurrent(),D=new v(this,R),this.onData(this.writer.text(D,this.currentLevel+1),this.currentLevel+1),this},S.prototype.cdata=function(R){var D;return this.openCurrent(),D=new e(this,R),this.onData(this.writer.cdata(D,this.currentLevel+1),this.currentLevel+1),this},S.prototype.comment=function(R){var D;return this.openCurrent(),D=new n(this,R),this.onData(this.writer.comment(D,this.currentLevel+1),this.currentLevel+1),this},S.prototype.raw=function(R){var D;return this.openCurrent(),D=new f(this,R),this.onData(this.writer.raw(D,this.currentLevel+1),this.currentLevel+1),this},S.prototype.instruction=function(R,D){var N,k,F,P,I;if(this.openCurrent(),R!=null&&(R=g(R)),D!=null&&(D=g(D)),Array.isArray(R))for(N=0,P=R.length;N<P;N++)k=R[N],this.instruction(k);else if(b(R))for(k in R)C.call(R,k)&&(F=R[k],this.instruction(k,F));else y(D)&&(D=D.apply()),I=new u(this,R,D),this.onData(this.writer.processingInstruction(I,this.currentLevel+1),this.currentLevel+1);return this},S.prototype.declaration=function(R,D,N){var k;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return k=new o(this,R,D,N),this.onData(this.writer.declaration(k,this.currentLevel+1),this.currentLevel+1),this},S.prototype.doctype=function(R,D,N){if(this.openCurrent(),R==null)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new l(this,D,N),this.currentNode.rootNodeName=R,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},S.prototype.dtdElement=function(R,D){var N;return this.openCurrent(),N=new i(this,R,D),this.onData(this.writer.dtdElement(N,this.currentLevel+1),this.currentLevel+1),this},S.prototype.attList=function(R,D,N,k,F){var P;return this.openCurrent(),P=new r(this,R,D,N,k,F),this.onData(this.writer.dtdAttList(P,this.currentLevel+1),this.currentLevel+1),this},S.prototype.entity=function(R,D){var N;return this.openCurrent(),N=new s(this,!1,R,D),this.onData(this.writer.dtdEntity(N,this.currentLevel+1),this.currentLevel+1),this},S.prototype.pEntity=function(R,D){var N;return this.openCurrent(),N=new s(this,!0,R,D),this.onData(this.writer.dtdEntity(N,this.currentLevel+1),this.currentLevel+1),this},S.prototype.notation=function(R,D){var N;return this.openCurrent(),N=new a(this,R,D),this.onData(this.writer.dtdNotation(N,this.currentLevel+1),this.currentLevel+1),this},S.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},S.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},S.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},S.prototype.openNode=function(R){if(!R.isOpen)return!this.root&&this.currentLevel===0&&R instanceof c&&(this.root=R),this.onData(this.writer.openNode(R,this.currentLevel),this.currentLevel),R.isOpen=!0},S.prototype.closeNode=function(R){if(!R.isClosed)return this.onData(this.writer.closeNode(R,this.currentLevel),this.currentLevel),R.isClosed=!0},S.prototype.onData=function(R,D){return this.documentStarted=!0,this.onDataCallback(R,D+1)},S.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},S.prototype.debugInfo=function(R){return R==null?"":"node: <"+R+">"},S.prototype.ele=function(){return this.element.apply(this,arguments)},S.prototype.nod=function(R,D,N){return this.node(R,D,N)},S.prototype.txt=function(R){return this.text(R)},S.prototype.dat=function(R){return this.cdata(R)},S.prototype.com=function(R){return this.comment(R)},S.prototype.ins=function(R,D){return this.instruction(R,D)},S.prototype.dec=function(R,D,N){return this.declaration(R,D,N)},S.prototype.dtd=function(R,D,N){return this.doctype(R,D,N)},S.prototype.e=function(R,D,N){return this.element(R,D,N)},S.prototype.n=function(R,D,N){return this.node(R,D,N)},S.prototype.t=function(R){return this.text(R)},S.prototype.d=function(R){return this.cdata(R)},S.prototype.c=function(R){return this.comment(R)},S.prototype.r=function(R){return this.raw(R)},S.prototype.i=function(R,D){return this.instruction(R,D)},S.prototype.att=function(){return this.currentNode&&this.currentNode instanceof l?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},S.prototype.a=function(){return this.currentNode&&this.currentNode instanceof l?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},S.prototype.ent=function(R,D){return this.entity(R,D)},S.prototype.pent=function(R,D){return this.pEntity(R,D)},S.prototype.not=function(R,D){return this.notation(R,D)},S})()}).call(Z9e)),$2.exports}var z2={exports:{}},t7e=z2.exports,Dj;function n7e(){return Dj||(Dj=1,(function(){var t,e,n,r,i,s,a,o,l,c,u,f,h,p,v=function(y,b){for(var _ in b)g.call(b,_)&&(y[_]=b[_]);function w(){this.constructor=y}return w.prototype=b.prototype,y.prototype=new w,y.__super__=b.prototype,y},g={}.hasOwnProperty;a=tT(),o=aT(),t=Zw(),e=eT(),c=Qw(),f=oT(),h=lT(),u=cT(),l=G6(),n=nT(),r=iT(),i=rT(),s=sT(),p=XY(),z2.exports=(function(y){v(b,y);function b(_,w){b.__super__.constructor.call(this,w),this.stream=_}return b.prototype.document=function(_){var w,C,S,R,D,N,k,F;for(N=_.children,C=0,R=N.length;C<R;C++)w=N[C],w.isLastRootNode=!1;for(_.children[_.children.length-1].isLastRootNode=!0,k=_.children,F=[],S=0,D=k.length;S<D;S++)if(w=k[S],!(w instanceof l))switch(!1){case!(w instanceof a):F.push(this.declaration(w));break;case!(w instanceof o):F.push(this.docType(w));break;case!(w instanceof e):F.push(this.comment(w));break;case!(w instanceof u):F.push(this.processingInstruction(w));break;default:F.push(this.element(w))}return F},b.prototype.attribute=function(_){return this.stream.write(" "+_.name+'="'+_.value+'"')},b.prototype.cdata=function(_,w){return this.stream.write(this.space(w)+"<![CDATA["+_.text+"]]>"+this.endline(_))},b.prototype.comment=function(_,w){return this.stream.write(this.space(w)+"<!-- "+_.text+" -->"+this.endline(_))},b.prototype.declaration=function(_,w){return this.stream.write(this.space(w)),this.stream.write('<?xml version="'+_.version+'"'),_.encoding!=null&&this.stream.write(' encoding="'+_.encoding+'"'),_.standalone!=null&&this.stream.write(' standalone="'+_.standalone+'"'),this.stream.write(this.spacebeforeslash+"?>"),this.stream.write(this.endline(_))},b.prototype.docType=function(_,w){var C,S,R,D;if(w||(w=0),this.stream.write(this.space(w)),this.stream.write("<!DOCTYPE "+_.root().name),_.pubID&&_.sysID?this.stream.write(' PUBLIC "'+_.pubID+'" "'+_.sysID+'"'):_.sysID&&this.stream.write(' SYSTEM "'+_.sysID+'"'),_.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(_)),D=_.children,S=0,R=D.length;S<R;S++)switch(C=D[S],!1){case!(C instanceof n):this.dtdAttList(C,w+1);break;case!(C instanceof r):this.dtdElement(C,w+1);break;case!(C instanceof i):this.dtdEntity(C,w+1);break;case!(C instanceof s):this.dtdNotation(C,w+1);break;case!(C instanceof t):this.cdata(C,w+1);break;case!(C instanceof e):this.comment(C,w+1);break;case!(C instanceof u):this.processingInstruction(C,w+1);break;default:throw new Error("Unknown DTD node type: "+C.constructor.name)}this.stream.write("]")}return this.stream.write(this.spacebeforeslash+">"),this.stream.write(this.endline(_))},b.prototype.element=function(_,w){var C,S,R,D,N,k,F,P;w||(w=0),P=this.space(w),this.stream.write(P+"<"+_.name),k=_.attributes;for(N in k)g.call(k,N)&&(C=k[N],this.attribute(C));if(_.children.length===0||_.children.every(function(I){return I.value===""}))this.allowEmpty?this.stream.write("></"+_.name+">"):this.stream.write(this.spacebeforeslash+"/>");else if(this.pretty&&_.children.length===1&&_.children[0].value!=null)this.stream.write(">"),this.stream.write(_.children[0].value),this.stream.write("</"+_.name+">");else{for(this.stream.write(">"+this.newline),F=_.children,R=0,D=F.length;R<D;R++)switch(S=F[R],!1){case!(S instanceof t):this.cdata(S,w+1);break;case!(S instanceof e):this.comment(S,w+1);break;case!(S instanceof c):this.element(S,w+1);break;case!(S instanceof f):this.raw(S,w+1);break;case!(S instanceof h):this.text(S,w+1);break;case!(S instanceof u):this.processingInstruction(S,w+1);break;case!(S instanceof l):break;default:throw new Error("Unknown XML node type: "+S.constructor.name)}this.stream.write(P+"</"+_.name+">")}return this.stream.write(this.endline(_))},b.prototype.processingInstruction=function(_,w){return this.stream.write(this.space(w)+"<?"+_.target),_.value&&this.stream.write(" "+_.value),this.stream.write(this.spacebeforeslash+"?>"+this.endline(_))},b.prototype.raw=function(_,w){return this.stream.write(this.space(w)+_.value+this.endline(_))},b.prototype.text=function(_,w){return this.stream.write(this.space(w)+_.value+this.endline(_))},b.prototype.dtdAttList=function(_,w){return this.stream.write(this.space(w)+"<!ATTLIST "+_.elementName+" "+_.attributeName+" "+_.attributeType),_.defaultValueType!=="#DEFAULT"&&this.stream.write(" "+_.defaultValueType),_.defaultValue&&this.stream.write(' "'+_.defaultValue+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(_))},b.prototype.dtdElement=function(_,w){return this.stream.write(this.space(w)+"<!ELEMENT "+_.name+" "+_.value),this.stream.write(this.spacebeforeslash+">"+this.endline(_))},b.prototype.dtdEntity=function(_,w){return this.stream.write(this.space(w)+"<!ENTITY"),_.pe&&this.stream.write(" %"),this.stream.write(" "+_.name),_.value?this.stream.write(' "'+_.value+'"'):(_.pubID&&_.sysID?this.stream.write(' PUBLIC "'+_.pubID+'" "'+_.sysID+'"'):_.sysID&&this.stream.write(' SYSTEM "'+_.sysID+'"'),_.nData&&this.stream.write(" NDATA "+_.nData)),this.stream.write(this.spacebeforeslash+">"+this.endline(_))},b.prototype.dtdNotation=function(_,w){return this.stream.write(this.space(w)+"<!NOTATION "+_.name),_.pubID&&_.sysID?this.stream.write(' PUBLIC "'+_.pubID+'" "'+_.sysID+'"'):_.pubID?this.stream.write(' PUBLIC "'+_.pubID+'"'):_.sysID&&this.stream.write(' SYSTEM "'+_.sysID+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(_))},b.prototype.endline=function(_){return _.isLastRootNode?"":this.newline},b})(p)}).call(t7e)),z2.exports}var Aj;function r7e(){return Aj||(Aj=1,(function(){var t,e,n,r,i,s,a;a=fd(),i=a.assign,s=a.isFunction,t=Q9e(),e=e7e(),r=K6(),n=n7e(),Fd.create=function(o,l,c,u){var f,h;if(o==null)throw new Error("Root element needs a name.");return u=i({},l,c,u),f=new t(u),h=f.element(o),u.headless||(f.declaration(u),(u.pubID!=null||u.sysID!=null)&&f.doctype(u)),h},Fd.begin=function(o,l,c){var u;return s(o)&&(u=[o,l],l=u[0],c=u[1],o={}),l?new e(o,l,c):new t(o)},Fd.stringWriter=function(o){return new r(o)},Fd.streamWriter=function(o,l){return new n(o,l)}}).call(Fd)),Fd}var Nj;function i7e(){if(Nj)return e4;Nj=1;var t=ii,e=r7e();e4.writeString=n;function n(i,s){var a=t.invert(s),o={element:c,text:r};function l(h,p){return o[p.type](h,p)}function c(h,p){var v=h.element(u(p.name),p.attributes);p.children.forEach(function(g){l(v,g)})}function u(h){var p=/^\{(.*)\}(.*)$/.exec(h);if(p){var v=a[p[1]];return v+(v===""?"":":")+p[2]}else return h}function f(h){var p=e.create(u(h.name),{version:"1.0",encoding:"UTF-8",standalone:!0});return t.forEach(s,function(v,g){var y="xmlns"+(g===""?"":":"+g);p.attribute(y,v)}),h.children.forEach(function(v){l(p,v)}),p.end()}return f(i)}function r(i,s){i.text(s.value)}return e4}var Ij;function JY(){if(Ij)return Rd;Ij=1;var t=HY();return Rd.Element=t.Element,Rd.element=t.element,Rd.text=t.text,Rd.readString=R9e().readString,Rd.writeString=i7e().writeString,Rd}var kj;function s7e(){if(kj)return Gx;kj=1;var t=ii,e=dd(),n=JY();Gx.read=i,Gx.readXmlFromZipFile=s;var r={"http://schemas.openxmlformats.org/wordprocessingml/2006/main":"w","http://schemas.openxmlformats.org/officeDocument/2006/relationships":"r","http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing":"wp","http://schemas.openxmlformats.org/drawingml/2006/main":"a","http://schemas.openxmlformats.org/drawingml/2006/picture":"pic","http://purl.oclc.org/ooxml/wordprocessingml/main":"w","http://purl.oclc.org/ooxml/officeDocument/relationships":"r","http://purl.oclc.org/ooxml/drawingml/wordprocessingDrawing":"wp","http://purl.oclc.org/ooxml/drawingml/main":"a","http://purl.oclc.org/ooxml/drawingml/picture":"pic","http://schemas.openxmlformats.org/package/2006/content-types":"content-types","http://schemas.openxmlformats.org/package/2006/relationships":"relationships","http://schemas.openxmlformats.org/markup-compatibility/2006":"mc","urn:schemas-microsoft-com:vml":"v","urn:schemas-microsoft-com:office:word":"office-word"};function i(l){return n.readString(l,r).then(function(c){return o(c)[0]})}function s(l,c){return l.exists(c)?l.read(c,"utf-8").then(a).then(i):e.resolve(null)}function a(l){return l.replace(/^\uFEFF/g,"")}function o(l){return l.type==="element"?l.name==="mc:AlternateContent"?l.first("mc:Fallback").children:(l.children=t.flatten(l.children.map(o,!0)),[l]):[l]}return Gx}var Jx={},Do={},Yx={},Rj;function a7e(){if(Rj)return Yx;Rj=1,Object.defineProperty(Yx,"__esModule",{value:!0});var t=[{"Typeface name":"Symbol","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Symbol","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"33","Unicode hex":"21"},{"Typeface name":"Symbol","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"8704","Unicode hex":"2200"},{"Typeface name":"Symbol","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"35","Unicode hex":"23"},{"Typeface name":"Symbol","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"8707","Unicode hex":"2203"},{"Typeface name":"Symbol","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"37","Unicode hex":"25"},{"Typeface name":"Symbol","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"38","Unicode hex":"26"},{"Typeface name":"Symbol","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"8717","Unicode hex":"220D"},{"Typeface name":"Symbol","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"40","Unicode hex":"28"},{"Typeface name":"Symbol","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"41","Unicode hex":"29"},{"Typeface name":"Symbol","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"42","Unicode hex":"2A"},{"Typeface name":"Symbol","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"43","Unicode hex":"2B"},{"Typeface name":"Symbol","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"44","Unicode hex":"2C"},{"Typeface name":"Symbol","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"8722","Unicode hex":"2212"},{"Typeface name":"Symbol","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"46","Unicode hex":"2E"},{"Typeface name":"Symbol","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"47","Unicode hex":"2F"},{"Typeface name":"Symbol","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"48","Unicode hex":"30"},{"Typeface name":"Symbol","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"49","Unicode hex":"31"},{"Typeface name":"Symbol","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"50","Unicode hex":"32"},{"Typeface name":"Symbol","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"51","Unicode hex":"33"},{"Typeface name":"Symbol","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"52","Unicode hex":"34"},{"Typeface name":"Symbol","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"53","Unicode hex":"35"},{"Typeface name":"Symbol","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"54","Unicode hex":"36"},{"Typeface name":"Symbol","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"55","Unicode hex":"37"},{"Typeface name":"Symbol","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"56","Unicode hex":"38"},{"Typeface name":"Symbol","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"57","Unicode hex":"39"},{"Typeface name":"Symbol","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"58","Unicode hex":"3A"},{"Typeface name":"Symbol","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"59","Unicode hex":"3B"},{"Typeface name":"Symbol","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"60","Unicode hex":"3C"},{"Typeface name":"Symbol","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"61","Unicode hex":"3D"},{"Typeface name":"Symbol","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"62","Unicode hex":"3E"},{"Typeface name":"Symbol","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"63","Unicode hex":"3F"},{"Typeface name":"Symbol","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"8773","Unicode hex":"2245"},{"Typeface name":"Symbol","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"913","Unicode hex":"391"},{"Typeface name":"Symbol","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"914","Unicode hex":"392"},{"Typeface name":"Symbol","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"935","Unicode hex":"3A7"},{"Typeface name":"Symbol","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"916","Unicode hex":"394"},{"Typeface name":"Symbol","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"917","Unicode hex":"395"},{"Typeface name":"Symbol","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"934","Unicode hex":"3A6"},{"Typeface name":"Symbol","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"915","Unicode hex":"393"},{"Typeface name":"Symbol","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"919","Unicode hex":"397"},{"Typeface name":"Symbol","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"921","Unicode hex":"399"},{"Typeface name":"Symbol","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"977","Unicode hex":"3D1"},{"Typeface name":"Symbol","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"922","Unicode hex":"39A"},{"Typeface name":"Symbol","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"923","Unicode hex":"39B"},{"Typeface name":"Symbol","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"924","Unicode hex":"39C"},{"Typeface name":"Symbol","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"925","Unicode hex":"39D"},{"Typeface name":"Symbol","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"927","Unicode hex":"39F"},{"Typeface name":"Symbol","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"928","Unicode hex":"3A0"},{"Typeface name":"Symbol","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"920","Unicode hex":"398"},{"Typeface name":"Symbol","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"929","Unicode hex":"3A1"},{"Typeface name":"Symbol","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"931","Unicode hex":"3A3"},{"Typeface name":"Symbol","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"932","Unicode hex":"3A4"},{"Typeface name":"Symbol","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"933","Unicode hex":"3A5"},{"Typeface name":"Symbol","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"962","Unicode hex":"3C2"},{"Typeface name":"Symbol","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"937","Unicode hex":"3A9"},{"Typeface name":"Symbol","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"926","Unicode hex":"39E"},{"Typeface name":"Symbol","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"936","Unicode hex":"3A8"},{"Typeface name":"Symbol","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"918","Unicode hex":"396"},{"Typeface name":"Symbol","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"91","Unicode hex":"5B"},{"Typeface name":"Symbol","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"8756","Unicode hex":"2234"},{"Typeface name":"Symbol","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"93","Unicode hex":"5D"},{"Typeface name":"Symbol","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"8869","Unicode hex":"22A5"},{"Typeface name":"Symbol","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"95","Unicode hex":"5F"},{"Typeface name":"Symbol","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"8254","Unicode hex":"203E"},{"Typeface name":"Symbol","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"945","Unicode hex":"3B1"},{"Typeface name":"Symbol","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"946","Unicode hex":"3B2"},{"Typeface name":"Symbol","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"967","Unicode hex":"3C7"},{"Typeface name":"Symbol","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"948","Unicode hex":"3B4"},{"Typeface name":"Symbol","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"949","Unicode hex":"3B5"},{"Typeface name":"Symbol","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"966","Unicode hex":"3C6"},{"Typeface name":"Symbol","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"947","Unicode hex":"3B3"},{"Typeface name":"Symbol","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"951","Unicode hex":"3B7"},{"Typeface name":"Symbol","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"953","Unicode hex":"3B9"},{"Typeface name":"Symbol","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"981","Unicode hex":"3D5"},{"Typeface name":"Symbol","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"954","Unicode hex":"3BA"},{"Typeface name":"Symbol","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"955","Unicode hex":"3BB"},{"Typeface name":"Symbol","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"956","Unicode hex":"3BC"},{"Typeface name":"Symbol","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"957","Unicode hex":"3BD"},{"Typeface name":"Symbol","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"959","Unicode hex":"3BF"},{"Typeface name":"Symbol","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"960","Unicode hex":"3C0"},{"Typeface name":"Symbol","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"952","Unicode hex":"3B8"},{"Typeface name":"Symbol","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"961","Unicode hex":"3C1"},{"Typeface name":"Symbol","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"963","Unicode hex":"3C3"},{"Typeface name":"Symbol","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"964","Unicode hex":"3C4"},{"Typeface name":"Symbol","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"965","Unicode hex":"3C5"},{"Typeface name":"Symbol","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"982","Unicode hex":"3D6"},{"Typeface name":"Symbol","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"969","Unicode hex":"3C9"},{"Typeface name":"Symbol","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"958","Unicode hex":"3BE"},{"Typeface name":"Symbol","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"968","Unicode hex":"3C8"},{"Typeface name":"Symbol","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"950","Unicode hex":"3B6"},{"Typeface name":"Symbol","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"123","Unicode hex":"7B"},{"Typeface name":"Symbol","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"124","Unicode hex":"7C"},{"Typeface name":"Symbol","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"125","Unicode hex":"7D"},{"Typeface name":"Symbol","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"126","Unicode hex":"7E"},{"Typeface name":"Symbol","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"8364","Unicode hex":"20AC"},{"Typeface name":"Symbol","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"978","Unicode hex":"3D2"},{"Typeface name":"Symbol","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"8242","Unicode hex":"2032"},{"Typeface name":"Symbol","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"8804","Unicode hex":"2264"},{"Typeface name":"Symbol","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"8260","Unicode hex":"2044"},{"Typeface name":"Symbol","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"8734","Unicode hex":"221E"},{"Typeface name":"Symbol","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"402","Unicode hex":"192"},{"Typeface name":"Symbol","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9827","Unicode hex":"2663"},{"Typeface name":"Symbol","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9830","Unicode hex":"2666"},{"Typeface name":"Symbol","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"9829","Unicode hex":"2665"},{"Typeface name":"Symbol","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"9824","Unicode hex":"2660"},{"Typeface name":"Symbol","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"8596","Unicode hex":"2194"},{"Typeface name":"Symbol","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"8592","Unicode hex":"2190"},{"Typeface name":"Symbol","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"8593","Unicode hex":"2191"},{"Typeface name":"Symbol","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"8594","Unicode hex":"2192"},{"Typeface name":"Symbol","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"8595","Unicode hex":"2193"},{"Typeface name":"Symbol","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"176","Unicode hex":"B0"},{"Typeface name":"Symbol","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"177","Unicode hex":"B1"},{"Typeface name":"Symbol","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"8243","Unicode hex":"2033"},{"Typeface name":"Symbol","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"8805","Unicode hex":"2265"},{"Typeface name":"Symbol","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"215","Unicode hex":"D7"},{"Typeface name":"Symbol","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"8733","Unicode hex":"221D"},{"Typeface name":"Symbol","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"8706","Unicode hex":"2202"},{"Typeface name":"Symbol","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Symbol","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"247","Unicode hex":"F7"},{"Typeface name":"Symbol","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"8800","Unicode hex":"2260"},{"Typeface name":"Symbol","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"8801","Unicode hex":"2261"},{"Typeface name":"Symbol","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"8776","Unicode hex":"2248"},{"Typeface name":"Symbol","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"8230","Unicode hex":"2026"},{"Typeface name":"Symbol","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Symbol","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"9135","Unicode hex":"23AF"},{"Typeface name":"Symbol","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"8629","Unicode hex":"21B5"},{"Typeface name":"Symbol","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"8501","Unicode hex":"2135"},{"Typeface name":"Symbol","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"8465","Unicode hex":"2111"},{"Typeface name":"Symbol","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"8476","Unicode hex":"211C"},{"Typeface name":"Symbol","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"8472","Unicode hex":"2118"},{"Typeface name":"Symbol","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"8855","Unicode hex":"2297"},{"Typeface name":"Symbol","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"8853","Unicode hex":"2295"},{"Typeface name":"Symbol","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"8709","Unicode hex":"2205"},{"Typeface name":"Symbol","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"8745","Unicode hex":"2229"},{"Typeface name":"Symbol","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"8746","Unicode hex":"222A"},{"Typeface name":"Symbol","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"8835","Unicode hex":"2283"},{"Typeface name":"Symbol","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"8839","Unicode hex":"2287"},{"Typeface name":"Symbol","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"8836","Unicode hex":"2284"},{"Typeface name":"Symbol","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"8834","Unicode hex":"2282"},{"Typeface name":"Symbol","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"8838","Unicode hex":"2286"},{"Typeface name":"Symbol","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"8712","Unicode hex":"2208"},{"Typeface name":"Symbol","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"8713","Unicode hex":"2209"},{"Typeface name":"Symbol","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"8736","Unicode hex":"2220"},{"Typeface name":"Symbol","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"8711","Unicode hex":"2207"},{"Typeface name":"Symbol","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"8719","Unicode hex":"220F"},{"Typeface name":"Symbol","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8730","Unicode hex":"221A"},{"Typeface name":"Symbol","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Symbol","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"172","Unicode hex":"AC"},{"Typeface name":"Symbol","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"8743","Unicode hex":"2227"},{"Typeface name":"Symbol","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"8744","Unicode hex":"2228"},{"Typeface name":"Symbol","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"8660","Unicode hex":"21D4"},{"Typeface name":"Symbol","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"8656","Unicode hex":"21D0"},{"Typeface name":"Symbol","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"8657","Unicode hex":"21D1"},{"Typeface name":"Symbol","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"8658","Unicode hex":"21D2"},{"Typeface name":"Symbol","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"8659","Unicode hex":"21D3"},{"Typeface name":"Symbol","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Symbol","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"12296","Unicode hex":"3008"},{"Typeface name":"Symbol","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"8721","Unicode hex":"2211"},{"Typeface name":"Symbol","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"9115","Unicode hex":"239B"},{"Typeface name":"Symbol","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"9116","Unicode hex":"239C"},{"Typeface name":"Symbol","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9117","Unicode hex":"239D"},{"Typeface name":"Symbol","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9121","Unicode hex":"23A1"},{"Typeface name":"Symbol","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"9122","Unicode hex":"23A2"},{"Typeface name":"Symbol","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"9123","Unicode hex":"23A3"},{"Typeface name":"Symbol","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"9127","Unicode hex":"23A7"},{"Typeface name":"Symbol","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"9128","Unicode hex":"23A8"},{"Typeface name":"Symbol","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"9129","Unicode hex":"23A9"},{"Typeface name":"Symbol","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"9130","Unicode hex":"23AA"},{"Typeface name":"Symbol","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"63743","Unicode hex":"F8FF"},{"Typeface name":"Symbol","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"12297","Unicode hex":"3009"},{"Typeface name":"Symbol","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8747","Unicode hex":"222B"},{"Typeface name":"Symbol","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"8992","Unicode hex":"2320"},{"Typeface name":"Symbol","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"9134","Unicode hex":"23AE"},{"Typeface name":"Symbol","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"8993","Unicode hex":"2321"},{"Typeface name":"Symbol","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"9118","Unicode hex":"239E"},{"Typeface name":"Symbol","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"9119","Unicode hex":"239F"},{"Typeface name":"Symbol","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"9120","Unicode hex":"23A0"},{"Typeface name":"Symbol","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"9124","Unicode hex":"23A4"},{"Typeface name":"Symbol","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"9125","Unicode hex":"23A5"},{"Typeface name":"Symbol","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"9126","Unicode hex":"23A6"},{"Typeface name":"Symbol","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"9131","Unicode hex":"23AB"},{"Typeface name":"Symbol","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"9132","Unicode hex":"23AC"},{"Typeface name":"Symbol","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"9133","Unicode hex":"23AD"},{"Typeface name":"Webdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Webdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128375","Unicode hex":"1F577"},{"Typeface name":"Webdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128376","Unicode hex":"1F578"},{"Typeface name":"Webdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128370","Unicode hex":"1F572"},{"Typeface name":"Webdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128374","Unicode hex":"1F576"},{"Typeface name":"Webdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"127942","Unicode hex":"1F3C6"},{"Typeface name":"Webdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"127894","Unicode hex":"1F396"},{"Typeface name":"Webdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128391","Unicode hex":"1F587"},{"Typeface name":"Webdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128488","Unicode hex":"1F5E8"},{"Typeface name":"Webdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128489","Unicode hex":"1F5E9"},{"Typeface name":"Webdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128496","Unicode hex":"1F5F0"},{"Typeface name":"Webdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128497","Unicode hex":"1F5F1"},{"Typeface name":"Webdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"127798","Unicode hex":"1F336"},{"Typeface name":"Webdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"127895","Unicode hex":"1F397"},{"Typeface name":"Webdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128638","Unicode hex":"1F67E"},{"Typeface name":"Webdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128636","Unicode hex":"1F67C"},{"Typeface name":"Webdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128469","Unicode hex":"1F5D5"},{"Typeface name":"Webdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128470","Unicode hex":"1F5D6"},{"Typeface name":"Webdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128471","Unicode hex":"1F5D7"},{"Typeface name":"Webdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"9204","Unicode hex":"23F4"},{"Typeface name":"Webdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"9205","Unicode hex":"23F5"},{"Typeface name":"Webdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"9206","Unicode hex":"23F6"},{"Typeface name":"Webdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"9207","Unicode hex":"23F7"},{"Typeface name":"Webdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"9194","Unicode hex":"23EA"},{"Typeface name":"Webdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"9193","Unicode hex":"23E9"},{"Typeface name":"Webdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"9198","Unicode hex":"23EE"},{"Typeface name":"Webdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"9197","Unicode hex":"23ED"},{"Typeface name":"Webdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"9208","Unicode hex":"23F8"},{"Typeface name":"Webdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"9209","Unicode hex":"23F9"},{"Typeface name":"Webdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"9210","Unicode hex":"23FA"},{"Typeface name":"Webdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128474","Unicode hex":"1F5DA"},{"Typeface name":"Webdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128499","Unicode hex":"1F5F3"},{"Typeface name":"Webdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128736","Unicode hex":"1F6E0"},{"Typeface name":"Webdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"127959","Unicode hex":"1F3D7"},{"Typeface name":"Webdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"127960","Unicode hex":"1F3D8"},{"Typeface name":"Webdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"127961","Unicode hex":"1F3D9"},{"Typeface name":"Webdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"127962","Unicode hex":"1F3DA"},{"Typeface name":"Webdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"127964","Unicode hex":"1F3DC"},{"Typeface name":"Webdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"127981","Unicode hex":"1F3ED"},{"Typeface name":"Webdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"127963","Unicode hex":"1F3DB"},{"Typeface name":"Webdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"127968","Unicode hex":"1F3E0"},{"Typeface name":"Webdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"127958","Unicode hex":"1F3D6"},{"Typeface name":"Webdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"127965","Unicode hex":"1F3DD"},{"Typeface name":"Webdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128739","Unicode hex":"1F6E3"},{"Typeface name":"Webdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128269","Unicode hex":"1F50D"},{"Typeface name":"Webdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"127956","Unicode hex":"1F3D4"},{"Typeface name":"Webdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128065","Unicode hex":"1F441"},{"Typeface name":"Webdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128066","Unicode hex":"1F442"},{"Typeface name":"Webdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127966","Unicode hex":"1F3DE"},{"Typeface name":"Webdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"127957","Unicode hex":"1F3D5"},{"Typeface name":"Webdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"128740","Unicode hex":"1F6E4"},{"Typeface name":"Webdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127967","Unicode hex":"1F3DF"},{"Typeface name":"Webdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"128755","Unicode hex":"1F6F3"},{"Typeface name":"Webdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128364","Unicode hex":"1F56C"},{"Typeface name":"Webdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"128363","Unicode hex":"1F56B"},{"Typeface name":"Webdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128360","Unicode hex":"1F568"},{"Typeface name":"Webdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"128264","Unicode hex":"1F508"},{"Typeface name":"Webdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"127892","Unicode hex":"1F394"},{"Typeface name":"Webdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"127893","Unicode hex":"1F395"},{"Typeface name":"Webdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128492","Unicode hex":"1F5EC"},{"Typeface name":"Webdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128637","Unicode hex":"1F67D"},{"Typeface name":"Webdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"128493","Unicode hex":"1F5ED"},{"Typeface name":"Webdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128490","Unicode hex":"1F5EA"},{"Typeface name":"Webdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128491","Unicode hex":"1F5EB"},{"Typeface name":"Webdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"11156","Unicode hex":"2B94"},{"Typeface name":"Webdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"10004","Unicode hex":"2714"},{"Typeface name":"Webdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128690","Unicode hex":"1F6B2"},{"Typeface name":"Webdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"11036","Unicode hex":"2B1C"},{"Typeface name":"Webdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128737","Unicode hex":"1F6E1"},{"Typeface name":"Webdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128230","Unicode hex":"1F4E6"},{"Typeface name":"Webdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128753","Unicode hex":"1F6F1"},{"Typeface name":"Webdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"11035","Unicode hex":"2B1B"},{"Typeface name":"Webdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128657","Unicode hex":"1F691"},{"Typeface name":"Webdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"128712","Unicode hex":"1F6C8"},{"Typeface name":"Webdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128745","Unicode hex":"1F6E9"},{"Typeface name":"Webdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128752","Unicode hex":"1F6F0"},{"Typeface name":"Webdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"128968","Unicode hex":"1F7C8"},{"Typeface name":"Webdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128372","Unicode hex":"1F574"},{"Typeface name":"Webdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"11044","Unicode hex":"2B24"},{"Typeface name":"Webdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128741","Unicode hex":"1F6E5"},{"Typeface name":"Webdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128660","Unicode hex":"1F694"},{"Typeface name":"Webdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"128472","Unicode hex":"1F5D8"},{"Typeface name":"Webdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"128473","Unicode hex":"1F5D9"},{"Typeface name":"Webdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"10067","Unicode hex":"2753"},{"Typeface name":"Webdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"128754","Unicode hex":"1F6F2"},{"Typeface name":"Webdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"128647","Unicode hex":"1F687"},{"Typeface name":"Webdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"128653","Unicode hex":"1F68D"},{"Typeface name":"Webdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9971","Unicode hex":"26F3"},{"Typeface name":"Webdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Webdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"8854","Unicode hex":"2296"},{"Typeface name":"Webdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"128685","Unicode hex":"1F6AD"},{"Typeface name":"Webdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"128494","Unicode hex":"1F5EE"},{"Typeface name":"Webdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Webdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128495","Unicode hex":"1F5EF"},{"Typeface name":"Webdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128498","Unicode hex":"1F5F2"},{"Typeface name":"Webdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128697","Unicode hex":"1F6B9"},{"Typeface name":"Webdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"128698","Unicode hex":"1F6BA"},{"Typeface name":"Webdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"128713","Unicode hex":"1F6C9"},{"Typeface name":"Webdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"128714","Unicode hex":"1F6CA"},{"Typeface name":"Webdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"128700","Unicode hex":"1F6BC"},{"Typeface name":"Webdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"128125","Unicode hex":"1F47D"},{"Typeface name":"Webdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"127947","Unicode hex":"1F3CB"},{"Typeface name":"Webdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"9975","Unicode hex":"26F7"},{"Typeface name":"Webdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"127938","Unicode hex":"1F3C2"},{"Typeface name":"Webdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"127948","Unicode hex":"1F3CC"},{"Typeface name":"Webdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"127946","Unicode hex":"1F3CA"},{"Typeface name":"Webdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127940","Unicode hex":"1F3C4"},{"Typeface name":"Webdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"127949","Unicode hex":"1F3CD"},{"Typeface name":"Webdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"127950","Unicode hex":"1F3CE"},{"Typeface name":"Webdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128664","Unicode hex":"1F698"},{"Typeface name":"Webdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128480","Unicode hex":"1F5E0"},{"Typeface name":"Webdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128738","Unicode hex":"1F6E2"},{"Typeface name":"Webdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128176","Unicode hex":"1F4B0"},{"Typeface name":"Webdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"127991","Unicode hex":"1F3F7"},{"Typeface name":"Webdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128179","Unicode hex":"1F4B3"},{"Typeface name":"Webdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128106","Unicode hex":"1F46A"},{"Typeface name":"Webdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"128481","Unicode hex":"1F5E1"},{"Typeface name":"Webdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128482","Unicode hex":"1F5E2"},{"Typeface name":"Webdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128483","Unicode hex":"1F5E3"},{"Typeface name":"Webdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Webdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128388","Unicode hex":"1F584"},{"Typeface name":"Webdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128389","Unicode hex":"1F585"},{"Typeface name":"Webdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Webdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128390","Unicode hex":"1F586"},{"Typeface name":"Webdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128441","Unicode hex":"1F5B9"},{"Typeface name":"Webdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"128442","Unicode hex":"1F5BA"},{"Typeface name":"Webdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128443","Unicode hex":"1F5BB"},{"Typeface name":"Webdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128373","Unicode hex":"1F575"},{"Typeface name":"Webdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"128368","Unicode hex":"1F570"},{"Typeface name":"Webdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128445","Unicode hex":"1F5BD"},{"Typeface name":"Webdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128446","Unicode hex":"1F5BE"},{"Typeface name":"Webdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Webdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128466","Unicode hex":"1F5D2"},{"Typeface name":"Webdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128467","Unicode hex":"1F5D3"},{"Typeface name":"Webdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Webdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128218","Unicode hex":"1F4DA"},{"Typeface name":"Webdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128478","Unicode hex":"1F5DE"},{"Typeface name":"Webdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128479","Unicode hex":"1F5DF"},{"Typeface name":"Webdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128451","Unicode hex":"1F5C3"},{"Typeface name":"Webdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128450","Unicode hex":"1F5C2"},{"Typeface name":"Webdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128444","Unicode hex":"1F5BC"},{"Typeface name":"Webdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"127917","Unicode hex":"1F3AD"},{"Typeface name":"Webdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"127900","Unicode hex":"1F39C"},{"Typeface name":"Webdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"127896","Unicode hex":"1F398"},{"Typeface name":"Webdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"127897","Unicode hex":"1F399"},{"Typeface name":"Webdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"127911","Unicode hex":"1F3A7"},{"Typeface name":"Webdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128191","Unicode hex":"1F4BF"},{"Typeface name":"Webdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"127902","Unicode hex":"1F39E"},{"Typeface name":"Webdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128247","Unicode hex":"1F4F7"},{"Typeface name":"Webdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"127903","Unicode hex":"1F39F"},{"Typeface name":"Webdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"127916","Unicode hex":"1F3AC"},{"Typeface name":"Webdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128253","Unicode hex":"1F4FD"},{"Typeface name":"Webdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128249","Unicode hex":"1F4F9"},{"Typeface name":"Webdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128254","Unicode hex":"1F4FE"},{"Typeface name":"Webdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128251","Unicode hex":"1F4FB"},{"Typeface name":"Webdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"127898","Unicode hex":"1F39A"},{"Typeface name":"Webdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"127899","Unicode hex":"1F39B"},{"Typeface name":"Webdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128250","Unicode hex":"1F4FA"},{"Typeface name":"Webdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128187","Unicode hex":"1F4BB"},{"Typeface name":"Webdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128421","Unicode hex":"1F5A5"},{"Typeface name":"Webdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128422","Unicode hex":"1F5A6"},{"Typeface name":"Webdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128423","Unicode hex":"1F5A7"},{"Typeface name":"Webdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"128377","Unicode hex":"1F579"},{"Typeface name":"Webdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"127918","Unicode hex":"1F3AE"},{"Typeface name":"Webdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"128379","Unicode hex":"1F57B"},{"Typeface name":"Webdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128380","Unicode hex":"1F57C"},{"Typeface name":"Webdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128223","Unicode hex":"1F4DF"},{"Typeface name":"Webdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128385","Unicode hex":"1F581"},{"Typeface name":"Webdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128384","Unicode hex":"1F580"},{"Typeface name":"Webdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128424","Unicode hex":"1F5A8"},{"Typeface name":"Webdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128425","Unicode hex":"1F5A9"},{"Typeface name":"Webdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128447","Unicode hex":"1F5BF"},{"Typeface name":"Webdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128426","Unicode hex":"1F5AA"},{"Typeface name":"Webdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128476","Unicode hex":"1F5DC"},{"Typeface name":"Webdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128274","Unicode hex":"1F512"},{"Typeface name":"Webdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128275","Unicode hex":"1F513"},{"Typeface name":"Webdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128477","Unicode hex":"1F5DD"},{"Typeface name":"Webdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128229","Unicode hex":"1F4E5"},{"Typeface name":"Webdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128228","Unicode hex":"1F4E4"},{"Typeface name":"Webdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128371","Unicode hex":"1F573"},{"Typeface name":"Webdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"127779","Unicode hex":"1F323"},{"Typeface name":"Webdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"127780","Unicode hex":"1F324"},{"Typeface name":"Webdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"127781","Unicode hex":"1F325"},{"Typeface name":"Webdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"127782","Unicode hex":"1F326"},{"Typeface name":"Webdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"9729","Unicode hex":"2601"},{"Typeface name":"Webdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"127784","Unicode hex":"1F328"},{"Typeface name":"Webdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"127783","Unicode hex":"1F327"},{"Typeface name":"Webdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"127785","Unicode hex":"1F329"},{"Typeface name":"Webdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"127786","Unicode hex":"1F32A"},{"Typeface name":"Webdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"127788","Unicode hex":"1F32C"},{"Typeface name":"Webdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"127787","Unicode hex":"1F32B"},{"Typeface name":"Webdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"127772","Unicode hex":"1F31C"},{"Typeface name":"Webdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"127777","Unicode hex":"1F321"},{"Typeface name":"Webdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128715","Unicode hex":"1F6CB"},{"Typeface name":"Webdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128719","Unicode hex":"1F6CF"},{"Typeface name":"Webdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"127869","Unicode hex":"1F37D"},{"Typeface name":"Webdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"127864","Unicode hex":"1F378"},{"Typeface name":"Webdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128718","Unicode hex":"1F6CE"},{"Typeface name":"Webdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128717","Unicode hex":"1F6CD"},{"Typeface name":"Webdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9413","Unicode hex":"24C5"},{"Typeface name":"Webdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9855","Unicode hex":"267F"},{"Typeface name":"Webdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128710","Unicode hex":"1F6C6"},{"Typeface name":"Webdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"128392","Unicode hex":"1F588"},{"Typeface name":"Webdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"127891","Unicode hex":"1F393"},{"Typeface name":"Webdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128484","Unicode hex":"1F5E4"},{"Typeface name":"Webdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128485","Unicode hex":"1F5E5"},{"Typeface name":"Webdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128486","Unicode hex":"1F5E6"},{"Typeface name":"Webdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"128487","Unicode hex":"1F5E7"},{"Typeface name":"Webdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128746","Unicode hex":"1F6EA"},{"Typeface name":"Webdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128063","Unicode hex":"1F43F"},{"Typeface name":"Webdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"128038","Unicode hex":"1F426"},{"Typeface name":"Webdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128031","Unicode hex":"1F41F"},{"Typeface name":"Webdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128021","Unicode hex":"1F415"},{"Typeface name":"Webdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"128008","Unicode hex":"1F408"},{"Typeface name":"Webdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"128620","Unicode hex":"1F66C"},{"Typeface name":"Webdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"128622","Unicode hex":"1F66E"},{"Typeface name":"Webdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"128621","Unicode hex":"1F66D"},{"Typeface name":"Webdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"128623","Unicode hex":"1F66F"},{"Typeface name":"Webdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128506","Unicode hex":"1F5FA"},{"Typeface name":"Webdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"127757","Unicode hex":"1F30D"},{"Typeface name":"Webdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"127759","Unicode hex":"1F30F"},{"Typeface name":"Webdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"127758","Unicode hex":"1F30E"},{"Typeface name":"Webdings","Dingbat dec":"255","Dingbat hex":"FF","Unicode dec":"128330","Unicode hex":"1F54A"},{"Typeface name":"Wingdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128393","Unicode hex":"1F589"},{"Typeface name":"Wingdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"9986","Unicode hex":"2702"},{"Typeface name":"Wingdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"9985","Unicode hex":"2701"},{"Typeface name":"Wingdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128083","Unicode hex":"1F453"},{"Typeface name":"Wingdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"128365","Unicode hex":"1F56D"},{"Typeface name":"Wingdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Wingdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128367","Unicode hex":"1F56F"},{"Typeface name":"Wingdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128383","Unicode hex":"1F57F"},{"Typeface name":"Wingdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"9990","Unicode hex":"2706"},{"Typeface name":"Wingdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128386","Unicode hex":"1F582"},{"Typeface name":"Wingdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Wingdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128234","Unicode hex":"1F4EA"},{"Typeface name":"Wingdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128235","Unicode hex":"1F4EB"},{"Typeface name":"Wingdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128236","Unicode hex":"1F4EC"},{"Typeface name":"Wingdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128237","Unicode hex":"1F4ED"},{"Typeface name":"Wingdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128448","Unicode hex":"1F5C0"},{"Typeface name":"Wingdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128449","Unicode hex":"1F5C1"},{"Typeface name":"Wingdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128462","Unicode hex":"1F5CE"},{"Typeface name":"Wingdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128463","Unicode hex":"1F5CF"},{"Typeface name":"Wingdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128464","Unicode hex":"1F5D0"},{"Typeface name":"Wingdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128452","Unicode hex":"1F5C4"},{"Typeface name":"Wingdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"8987","Unicode hex":"231B"},{"Typeface name":"Wingdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128430","Unicode hex":"1F5AE"},{"Typeface name":"Wingdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128432","Unicode hex":"1F5B0"},{"Typeface name":"Wingdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128434","Unicode hex":"1F5B2"},{"Typeface name":"Wingdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128435","Unicode hex":"1F5B3"},{"Typeface name":"Wingdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128436","Unicode hex":"1F5B4"},{"Typeface name":"Wingdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128427","Unicode hex":"1F5AB"},{"Typeface name":"Wingdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128428","Unicode hex":"1F5AC"},{"Typeface name":"Wingdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"9991","Unicode hex":"2707"},{"Typeface name":"Wingdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"9997","Unicode hex":"270D"},{"Typeface name":"Wingdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128398","Unicode hex":"1F58E"},{"Typeface name":"Wingdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"9996","Unicode hex":"270C"},{"Typeface name":"Wingdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128399","Unicode hex":"1F58F"},{"Typeface name":"Wingdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128077","Unicode hex":"1F44D"},{"Typeface name":"Wingdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128078","Unicode hex":"1F44E"},{"Typeface name":"Wingdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"9756","Unicode hex":"261C"},{"Typeface name":"Wingdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"9758","Unicode hex":"261E"},{"Typeface name":"Wingdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"9757","Unicode hex":"261D"},{"Typeface name":"Wingdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"9759","Unicode hex":"261F"},{"Typeface name":"Wingdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128400","Unicode hex":"1F590"},{"Typeface name":"Wingdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"9786","Unicode hex":"263A"},{"Typeface name":"Wingdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128528","Unicode hex":"1F610"},{"Typeface name":"Wingdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"9785","Unicode hex":"2639"},{"Typeface name":"Wingdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128163","Unicode hex":"1F4A3"},{"Typeface name":"Wingdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128369","Unicode hex":"1F571"},{"Typeface name":"Wingdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"127987","Unicode hex":"1F3F3"},{"Typeface name":"Wingdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127985","Unicode hex":"1F3F1"},{"Typeface name":"Wingdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"9992","Unicode hex":"2708"},{"Typeface name":"Wingdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9788","Unicode hex":"263C"},{"Typeface name":"Wingdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127778","Unicode hex":"1F322"},{"Typeface name":"Wingdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"10052","Unicode hex":"2744"},{"Typeface name":"Wingdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128326","Unicode hex":"1F546"},{"Typeface name":"Wingdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"10014","Unicode hex":"271E"},{"Typeface name":"Wingdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128328","Unicode hex":"1F548"},{"Typeface name":"Wingdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10016","Unicode hex":"2720"},{"Typeface name":"Wingdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"10017","Unicode hex":"2721"},{"Typeface name":"Wingdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"9770","Unicode hex":"262A"},{"Typeface name":"Wingdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"9775","Unicode hex":"262F"},{"Typeface name":"Wingdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128329","Unicode hex":"1F549"},{"Typeface name":"Wingdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"9784","Unicode hex":"2638"},{"Typeface name":"Wingdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"9800","Unicode hex":"2648"},{"Typeface name":"Wingdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"9801","Unicode hex":"2649"},{"Typeface name":"Wingdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"9802","Unicode hex":"264A"},{"Typeface name":"Wingdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"9803","Unicode hex":"264B"},{"Typeface name":"Wingdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"9804","Unicode hex":"264C"},{"Typeface name":"Wingdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"9805","Unicode hex":"264D"},{"Typeface name":"Wingdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"9806","Unicode hex":"264E"},{"Typeface name":"Wingdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"9807","Unicode hex":"264F"},{"Typeface name":"Wingdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"9808","Unicode hex":"2650"},{"Typeface name":"Wingdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"9809","Unicode hex":"2651"},{"Typeface name":"Wingdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"9810","Unicode hex":"2652"},{"Typeface name":"Wingdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9811","Unicode hex":"2653"},{"Typeface name":"Wingdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128624","Unicode hex":"1F670"},{"Typeface name":"Wingdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128629","Unicode hex":"1F675"},{"Typeface name":"Wingdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9899","Unicode hex":"26AB"},{"Typeface name":"Wingdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128318","Unicode hex":"1F53E"},{"Typeface name":"Wingdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9724","Unicode hex":"25FC"},{"Typeface name":"Wingdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128911","Unicode hex":"1F78F"},{"Typeface name":"Wingdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128912","Unicode hex":"1F790"},{"Typeface name":"Wingdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"10065","Unicode hex":"2751"},{"Typeface name":"Wingdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"10066","Unicode hex":"2752"},{"Typeface name":"Wingdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"128927","Unicode hex":"1F79F"},{"Typeface name":"Wingdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"10731","Unicode hex":"29EB"},{"Typeface name":"Wingdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9670","Unicode hex":"25C6"},{"Typeface name":"Wingdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10070","Unicode hex":"2756"},{"Typeface name":"Wingdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"8999","Unicode hex":"2327"},{"Typeface name":"Wingdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"11193","Unicode hex":"2BB9"},{"Typeface name":"Wingdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"8984","Unicode hex":"2318"},{"Typeface name":"Wingdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"127989","Unicode hex":"1F3F5"},{"Typeface name":"Wingdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"127990","Unicode hex":"1F3F6"},{"Typeface name":"Wingdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128630","Unicode hex":"1F676"},{"Typeface name":"Wingdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128631","Unicode hex":"1F677"},{"Typeface name":"Wingdings","Dingbat dec":"127","Dingbat hex":"7F","Unicode dec":"9647","Unicode hex":"25AF"},{"Typeface name":"Wingdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"127243","Unicode hex":"1F10B"},{"Typeface name":"Wingdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"10112","Unicode hex":"2780"},{"Typeface name":"Wingdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"10113","Unicode hex":"2781"},{"Typeface name":"Wingdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"10114","Unicode hex":"2782"},{"Typeface name":"Wingdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"10115","Unicode hex":"2783"},{"Typeface name":"Wingdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10116","Unicode hex":"2784"},{"Typeface name":"Wingdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"10117","Unicode hex":"2785"},{"Typeface name":"Wingdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"10118","Unicode hex":"2786"},{"Typeface name":"Wingdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"10119","Unicode hex":"2787"},{"Typeface name":"Wingdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"10120","Unicode hex":"2788"},{"Typeface name":"Wingdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"10121","Unicode hex":"2789"},{"Typeface name":"Wingdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127244","Unicode hex":"1F10C"},{"Typeface name":"Wingdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"10122","Unicode hex":"278A"},{"Typeface name":"Wingdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"10123","Unicode hex":"278B"},{"Typeface name":"Wingdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"10124","Unicode hex":"278C"},{"Typeface name":"Wingdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"10125","Unicode hex":"278D"},{"Typeface name":"Wingdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"10126","Unicode hex":"278E"},{"Typeface name":"Wingdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"10127","Unicode hex":"278F"},{"Typeface name":"Wingdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"10128","Unicode hex":"2790"},{"Typeface name":"Wingdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"10129","Unicode hex":"2791"},{"Typeface name":"Wingdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"10130","Unicode hex":"2792"},{"Typeface name":"Wingdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"10131","Unicode hex":"2793"},{"Typeface name":"Wingdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128610","Unicode hex":"1F662"},{"Typeface name":"Wingdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128608","Unicode hex":"1F660"},{"Typeface name":"Wingdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"128609","Unicode hex":"1F661"},{"Typeface name":"Wingdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128611","Unicode hex":"1F663"},{"Typeface name":"Wingdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128606","Unicode hex":"1F65E"},{"Typeface name":"Wingdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128604","Unicode hex":"1F65C"},{"Typeface name":"Wingdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128605","Unicode hex":"1F65D"},{"Typeface name":"Wingdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128607","Unicode hex":"1F65F"},{"Typeface name":"Wingdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"8729","Unicode hex":"2219"},{"Typeface name":"Wingdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Wingdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"11037","Unicode hex":"2B1D"},{"Typeface name":"Wingdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"11096","Unicode hex":"2B58"},{"Typeface name":"Wingdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128902","Unicode hex":"1F786"},{"Typeface name":"Wingdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128904","Unicode hex":"1F788"},{"Typeface name":"Wingdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128906","Unicode hex":"1F78A"},{"Typeface name":"Wingdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128907","Unicode hex":"1F78B"},{"Typeface name":"Wingdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128319","Unicode hex":"1F53F"},{"Typeface name":"Wingdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9642","Unicode hex":"25AA"},{"Typeface name":"Wingdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128910","Unicode hex":"1F78E"},{"Typeface name":"Wingdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128961","Unicode hex":"1F7C1"},{"Typeface name":"Wingdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128965","Unicode hex":"1F7C5"},{"Typeface name":"Wingdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"9733","Unicode hex":"2605"},{"Typeface name":"Wingdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128971","Unicode hex":"1F7CB"},{"Typeface name":"Wingdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128975","Unicode hex":"1F7CF"},{"Typeface name":"Wingdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"128979","Unicode hex":"1F7D3"},{"Typeface name":"Wingdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"128977","Unicode hex":"1F7D1"},{"Typeface name":"Wingdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"11216","Unicode hex":"2BD0"},{"Typeface name":"Wingdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"8982","Unicode hex":"2316"},{"Typeface name":"Wingdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"11214","Unicode hex":"2BCE"},{"Typeface name":"Wingdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"11215","Unicode hex":"2BCF"},{"Typeface name":"Wingdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"11217","Unicode hex":"2BD1"},{"Typeface name":"Wingdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"10026","Unicode hex":"272A"},{"Typeface name":"Wingdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"10032","Unicode hex":"2730"},{"Typeface name":"Wingdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"128336","Unicode hex":"1F550"},{"Typeface name":"Wingdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128337","Unicode hex":"1F551"},{"Typeface name":"Wingdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128338","Unicode hex":"1F552"},{"Typeface name":"Wingdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128339","Unicode hex":"1F553"},{"Typeface name":"Wingdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128340","Unicode hex":"1F554"},{"Typeface name":"Wingdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"128341","Unicode hex":"1F555"},{"Typeface name":"Wingdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"128342","Unicode hex":"1F556"},{"Typeface name":"Wingdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128343","Unicode hex":"1F557"},{"Typeface name":"Wingdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128344","Unicode hex":"1F558"},{"Typeface name":"Wingdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128345","Unicode hex":"1F559"},{"Typeface name":"Wingdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128346","Unicode hex":"1F55A"},{"Typeface name":"Wingdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128347","Unicode hex":"1F55B"},{"Typeface name":"Wingdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11184","Unicode hex":"2BB0"},{"Typeface name":"Wingdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11185","Unicode hex":"2BB1"},{"Typeface name":"Wingdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11186","Unicode hex":"2BB2"},{"Typeface name":"Wingdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"11187","Unicode hex":"2BB3"},{"Typeface name":"Wingdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"11188","Unicode hex":"2BB4"},{"Typeface name":"Wingdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"11189","Unicode hex":"2BB5"},{"Typeface name":"Wingdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11190","Unicode hex":"2BB6"},{"Typeface name":"Wingdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11191","Unicode hex":"2BB7"},{"Typeface name":"Wingdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128618","Unicode hex":"1F66A"},{"Typeface name":"Wingdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128619","Unicode hex":"1F66B"},{"Typeface name":"Wingdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128597","Unicode hex":"1F655"},{"Typeface name":"Wingdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128596","Unicode hex":"1F654"},{"Typeface name":"Wingdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128599","Unicode hex":"1F657"},{"Typeface name":"Wingdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128598","Unicode hex":"1F656"},{"Typeface name":"Wingdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128592","Unicode hex":"1F650"},{"Typeface name":"Wingdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128593","Unicode hex":"1F651"},{"Typeface name":"Wingdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128594","Unicode hex":"1F652"},{"Typeface name":"Wingdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128595","Unicode hex":"1F653"},{"Typeface name":"Wingdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"9003","Unicode hex":"232B"},{"Typeface name":"Wingdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8998","Unicode hex":"2326"},{"Typeface name":"Wingdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"11160","Unicode hex":"2B98"},{"Typeface name":"Wingdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"11162","Unicode hex":"2B9A"},{"Typeface name":"Wingdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"11161","Unicode hex":"2B99"},{"Typeface name":"Wingdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"11163","Unicode hex":"2B9B"},{"Typeface name":"Wingdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"11144","Unicode hex":"2B88"},{"Typeface name":"Wingdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"11146","Unicode hex":"2B8A"},{"Typeface name":"Wingdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"11145","Unicode hex":"2B89"},{"Typeface name":"Wingdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"11147","Unicode hex":"2B8B"},{"Typeface name":"Wingdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129128","Unicode hex":"1F868"},{"Typeface name":"Wingdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129130","Unicode hex":"1F86A"},{"Typeface name":"Wingdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129129","Unicode hex":"1F869"},{"Typeface name":"Wingdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129131","Unicode hex":"1F86B"},{"Typeface name":"Wingdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129132","Unicode hex":"1F86C"},{"Typeface name":"Wingdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129133","Unicode hex":"1F86D"},{"Typeface name":"Wingdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129135","Unicode hex":"1F86F"},{"Typeface name":"Wingdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129134","Unicode hex":"1F86E"},{"Typeface name":"Wingdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129144","Unicode hex":"1F878"},{"Typeface name":"Wingdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129146","Unicode hex":"1F87A"},{"Typeface name":"Wingdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129145","Unicode hex":"1F879"},{"Typeface name":"Wingdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129147","Unicode hex":"1F87B"},{"Typeface name":"Wingdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129148","Unicode hex":"1F87C"},{"Typeface name":"Wingdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129149","Unicode hex":"1F87D"},{"Typeface name":"Wingdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129151","Unicode hex":"1F87F"},{"Typeface name":"Wingdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129150","Unicode hex":"1F87E"},{"Typeface name":"Wingdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"8678","Unicode hex":"21E6"},{"Typeface name":"Wingdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"8680","Unicode hex":"21E8"},{"Typeface name":"Wingdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"8679","Unicode hex":"21E7"},{"Typeface name":"Wingdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8681","Unicode hex":"21E9"},{"Typeface name":"Wingdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"11012","Unicode hex":"2B04"},{"Typeface name":"Wingdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"8691","Unicode hex":"21F3"},{"Typeface name":"Wingdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"11009","Unicode hex":"2B01"},{"Typeface name":"Wingdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11008","Unicode hex":"2B00"},{"Typeface name":"Wingdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11011","Unicode hex":"2B03"},{"Typeface name":"Wingdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"11010","Unicode hex":"2B02"},{"Typeface name":"Wingdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"129196","Unicode hex":"1F8AC"},{"Typeface name":"Wingdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"129197","Unicode hex":"1F8AD"},{"Typeface name":"Wingdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128502","Unicode hex":"1F5F6"},{"Typeface name":"Wingdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"10003","Unicode hex":"2713"},{"Typeface name":"Wingdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"128503","Unicode hex":"1F5F7"},{"Typeface name":"Wingdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"128505","Unicode hex":"1F5F9"},{"Typeface name":"Wingdings 2","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 2","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128394","Unicode hex":"1F58A"},{"Typeface name":"Wingdings 2","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128395","Unicode hex":"1F58B"},{"Typeface name":"Wingdings 2","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128396","Unicode hex":"1F58C"},{"Typeface name":"Wingdings 2","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128397","Unicode hex":"1F58D"},{"Typeface name":"Wingdings 2","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"9988","Unicode hex":"2704"},{"Typeface name":"Wingdings 2","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"9984","Unicode hex":"2700"},{"Typeface name":"Wingdings 2","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128382","Unicode hex":"1F57E"},{"Typeface name":"Wingdings 2","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128381","Unicode hex":"1F57D"},{"Typeface name":"Wingdings 2","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128453","Unicode hex":"1F5C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128454","Unicode hex":"1F5C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128455","Unicode hex":"1F5C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128456","Unicode hex":"1F5C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128457","Unicode hex":"1F5C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128458","Unicode hex":"1F5CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128459","Unicode hex":"1F5CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128460","Unicode hex":"1F5CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128461","Unicode hex":"1F5CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128465","Unicode hex":"1F5D1"},{"Typeface name":"Wingdings 2","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128468","Unicode hex":"1F5D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128437","Unicode hex":"1F5B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"128438","Unicode hex":"1F5B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128439","Unicode hex":"1F5B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128440","Unicode hex":"1F5B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128429","Unicode hex":"1F5AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128431","Unicode hex":"1F5AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128433","Unicode hex":"1F5B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128402","Unicode hex":"1F592"},{"Typeface name":"Wingdings 2","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128403","Unicode hex":"1F593"},{"Typeface name":"Wingdings 2","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128408","Unicode hex":"1F598"},{"Typeface name":"Wingdings 2","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128409","Unicode hex":"1F599"},{"Typeface name":"Wingdings 2","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128410","Unicode hex":"1F59A"},{"Typeface name":"Wingdings 2","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"128411","Unicode hex":"1F59B"},{"Typeface name":"Wingdings 2","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128072","Unicode hex":"1F448"},{"Typeface name":"Wingdings 2","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128073","Unicode hex":"1F449"},{"Typeface name":"Wingdings 2","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128412","Unicode hex":"1F59C"},{"Typeface name":"Wingdings 2","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"128413","Unicode hex":"1F59D"},{"Typeface name":"Wingdings 2","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"128414","Unicode hex":"1F59E"},{"Typeface name":"Wingdings 2","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"128415","Unicode hex":"1F59F"},{"Typeface name":"Wingdings 2","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"128416","Unicode hex":"1F5A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128417","Unicode hex":"1F5A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"128070","Unicode hex":"1F446"},{"Typeface name":"Wingdings 2","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128071","Unicode hex":"1F447"},{"Typeface name":"Wingdings 2","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128418","Unicode hex":"1F5A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128419","Unicode hex":"1F5A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128401","Unicode hex":"1F591"},{"Typeface name":"Wingdings 2","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128500","Unicode hex":"1F5F4"},{"Typeface name":"Wingdings 2","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"128504","Unicode hex":"1F5F8"},{"Typeface name":"Wingdings 2","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"128501","Unicode hex":"1F5F5"},{"Typeface name":"Wingdings 2","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9745","Unicode hex":"2611"},{"Typeface name":"Wingdings 2","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"11197","Unicode hex":"2BBD"},{"Typeface name":"Wingdings 2","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"9746","Unicode hex":"2612"},{"Typeface name":"Wingdings 2","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"11198","Unicode hex":"2BBE"},{"Typeface name":"Wingdings 2","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"11199","Unicode hex":"2BBF"},{"Typeface name":"Wingdings 2","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128711","Unicode hex":"1F6C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"128625","Unicode hex":"1F671"},{"Typeface name":"Wingdings 2","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"128628","Unicode hex":"1F674"},{"Typeface name":"Wingdings 2","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128626","Unicode hex":"1F672"},{"Typeface name":"Wingdings 2","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128627","Unicode hex":"1F673"},{"Typeface name":"Wingdings 2","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"8253","Unicode hex":"203D"},{"Typeface name":"Wingdings 2","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128633","Unicode hex":"1F679"},{"Typeface name":"Wingdings 2","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128634","Unicode hex":"1F67A"},{"Typeface name":"Wingdings 2","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"128635","Unicode hex":"1F67B"},{"Typeface name":"Wingdings 2","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"128614","Unicode hex":"1F666"},{"Typeface name":"Wingdings 2","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128612","Unicode hex":"1F664"},{"Typeface name":"Wingdings 2","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"128613","Unicode hex":"1F665"},{"Typeface name":"Wingdings 2","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128615","Unicode hex":"1F667"},{"Typeface name":"Wingdings 2","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128602","Unicode hex":"1F65A"},{"Typeface name":"Wingdings 2","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128600","Unicode hex":"1F658"},{"Typeface name":"Wingdings 2","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"128601","Unicode hex":"1F659"},{"Typeface name":"Wingdings 2","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128603","Unicode hex":"1F65B"},{"Typeface name":"Wingdings 2","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9450","Unicode hex":"24EA"},{"Typeface name":"Wingdings 2","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"9312","Unicode hex":"2460"},{"Typeface name":"Wingdings 2","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"9313","Unicode hex":"2461"},{"Typeface name":"Wingdings 2","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9314","Unicode hex":"2462"},{"Typeface name":"Wingdings 2","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"9315","Unicode hex":"2463"},{"Typeface name":"Wingdings 2","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9316","Unicode hex":"2464"},{"Typeface name":"Wingdings 2","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"9317","Unicode hex":"2465"},{"Typeface name":"Wingdings 2","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9318","Unicode hex":"2466"},{"Typeface name":"Wingdings 2","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9319","Unicode hex":"2467"},{"Typeface name":"Wingdings 2","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9320","Unicode hex":"2468"},{"Typeface name":"Wingdings 2","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9321","Unicode hex":"2469"},{"Typeface name":"Wingdings 2","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9471","Unicode hex":"24FF"},{"Typeface name":"Wingdings 2","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"10102","Unicode hex":"2776"},{"Typeface name":"Wingdings 2","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10103","Unicode hex":"2777"},{"Typeface name":"Wingdings 2","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"10104","Unicode hex":"2778"},{"Typeface name":"Wingdings 2","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10105","Unicode hex":"2779"},{"Typeface name":"Wingdings 2","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"10106","Unicode hex":"277A"},{"Typeface name":"Wingdings 2","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"10107","Unicode hex":"277B"},{"Typeface name":"Wingdings 2","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"10108","Unicode hex":"277C"},{"Typeface name":"Wingdings 2","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"10109","Unicode hex":"277D"},{"Typeface name":"Wingdings 2","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"10110","Unicode hex":"277E"},{"Typeface name":"Wingdings 2","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"10111","Unicode hex":"277F"},{"Typeface name":"Wingdings 2","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"9737","Unicode hex":"2609"},{"Typeface name":"Wingdings 2","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"127765","Unicode hex":"1F315"},{"Typeface name":"Wingdings 2","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"9789","Unicode hex":"263D"},{"Typeface name":"Wingdings 2","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"9790","Unicode hex":"263E"},{"Typeface name":"Wingdings 2","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11839","Unicode hex":"2E3F"},{"Typeface name":"Wingdings 2","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10013","Unicode hex":"271D"},{"Typeface name":"Wingdings 2","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"128327","Unicode hex":"1F547"},{"Typeface name":"Wingdings 2","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"128348","Unicode hex":"1F55C"},{"Typeface name":"Wingdings 2","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"128349","Unicode hex":"1F55D"},{"Typeface name":"Wingdings 2","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"128350","Unicode hex":"1F55E"},{"Typeface name":"Wingdings 2","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"128351","Unicode hex":"1F55F"},{"Typeface name":"Wingdings 2","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"128352","Unicode hex":"1F560"},{"Typeface name":"Wingdings 2","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"128353","Unicode hex":"1F561"},{"Typeface name":"Wingdings 2","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"128354","Unicode hex":"1F562"},{"Typeface name":"Wingdings 2","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128355","Unicode hex":"1F563"},{"Typeface name":"Wingdings 2","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128356","Unicode hex":"1F564"},{"Typeface name":"Wingdings 2","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128357","Unicode hex":"1F565"},{"Typeface name":"Wingdings 2","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128358","Unicode hex":"1F566"},{"Typeface name":"Wingdings 2","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"128359","Unicode hex":"1F567"},{"Typeface name":"Wingdings 2","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128616","Unicode hex":"1F668"},{"Typeface name":"Wingdings 2","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128617","Unicode hex":"1F669"},{"Typeface name":"Wingdings 2","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128900","Unicode hex":"1F784"},{"Typeface name":"Wingdings 2","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"10625","Unicode hex":"2981"},{"Typeface name":"Wingdings 2","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"9679","Unicode hex":"25CF"},{"Typeface name":"Wingdings 2","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"9675","Unicode hex":"25CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128901","Unicode hex":"1F785"},{"Typeface name":"Wingdings 2","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128903","Unicode hex":"1F787"},{"Typeface name":"Wingdings 2","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128905","Unicode hex":"1F789"},{"Typeface name":"Wingdings 2","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"8857","Unicode hex":"2299"},{"Typeface name":"Wingdings 2","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"10687","Unicode hex":"29BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128908","Unicode hex":"1F78C"},{"Typeface name":"Wingdings 2","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128909","Unicode hex":"1F78D"},{"Typeface name":"Wingdings 2","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"9726","Unicode hex":"25FE"},{"Typeface name":"Wingdings 2","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"9632","Unicode hex":"25A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"9633","Unicode hex":"25A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128913","Unicode hex":"1F791"},{"Typeface name":"Wingdings 2","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128914","Unicode hex":"1F792"},{"Typeface name":"Wingdings 2","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128915","Unicode hex":"1F793"},{"Typeface name":"Wingdings 2","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128916","Unicode hex":"1F794"},{"Typeface name":"Wingdings 2","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9635","Unicode hex":"25A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128917","Unicode hex":"1F795"},{"Typeface name":"Wingdings 2","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128918","Unicode hex":"1F796"},{"Typeface name":"Wingdings 2","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128919","Unicode hex":"1F797"},{"Typeface name":"Wingdings 2","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128920","Unicode hex":"1F798"},{"Typeface name":"Wingdings 2","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings 2","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"11045","Unicode hex":"2B25"},{"Typeface name":"Wingdings 2","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"9671","Unicode hex":"25C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"128922","Unicode hex":"1F79A"},{"Typeface name":"Wingdings 2","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"9672","Unicode hex":"25C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"128923","Unicode hex":"1F79B"},{"Typeface name":"Wingdings 2","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128924","Unicode hex":"1F79C"},{"Typeface name":"Wingdings 2","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"128925","Unicode hex":"1F79D"},{"Typeface name":"Wingdings 2","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128926","Unicode hex":"1F79E"},{"Typeface name":"Wingdings 2","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"11050","Unicode hex":"2B2A"},{"Typeface name":"Wingdings 2","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"11047","Unicode hex":"2B27"},{"Typeface name":"Wingdings 2","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128928","Unicode hex":"1F7A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"9686","Unicode hex":"25D6"},{"Typeface name":"Wingdings 2","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"9687","Unicode hex":"25D7"},{"Typeface name":"Wingdings 2","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"11210","Unicode hex":"2BCA"},{"Typeface name":"Wingdings 2","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"11211","Unicode hex":"2BCB"},{"Typeface name":"Wingdings 2","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"11200","Unicode hex":"2BC0"},{"Typeface name":"Wingdings 2","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"11201","Unicode hex":"2BC1"},{"Typeface name":"Wingdings 2","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"11039","Unicode hex":"2B1F"},{"Typeface name":"Wingdings 2","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"11202","Unicode hex":"2BC2"},{"Typeface name":"Wingdings 2","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"11043","Unicode hex":"2B23"},{"Typeface name":"Wingdings 2","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11042","Unicode hex":"2B22"},{"Typeface name":"Wingdings 2","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11203","Unicode hex":"2BC3"},{"Typeface name":"Wingdings 2","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11204","Unicode hex":"2BC4"},{"Typeface name":"Wingdings 2","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128929","Unicode hex":"1F7A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128930","Unicode hex":"1F7A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128931","Unicode hex":"1F7A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128932","Unicode hex":"1F7A4"},{"Typeface name":"Wingdings 2","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128933","Unicode hex":"1F7A5"},{"Typeface name":"Wingdings 2","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128934","Unicode hex":"1F7A6"},{"Typeface name":"Wingdings 2","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128935","Unicode hex":"1F7A7"},{"Typeface name":"Wingdings 2","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128936","Unicode hex":"1F7A8"},{"Typeface name":"Wingdings 2","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128937","Unicode hex":"1F7A9"},{"Typeface name":"Wingdings 2","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128938","Unicode hex":"1F7AA"},{"Typeface name":"Wingdings 2","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128939","Unicode hex":"1F7AB"},{"Typeface name":"Wingdings 2","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128940","Unicode hex":"1F7AC"},{"Typeface name":"Wingdings 2","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128941","Unicode hex":"1F7AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128942","Unicode hex":"1F7AE"},{"Typeface name":"Wingdings 2","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128943","Unicode hex":"1F7AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"128944","Unicode hex":"1F7B0"},{"Typeface name":"Wingdings 2","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"128945","Unicode hex":"1F7B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"128946","Unicode hex":"1F7B2"},{"Typeface name":"Wingdings 2","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"128947","Unicode hex":"1F7B3"},{"Typeface name":"Wingdings 2","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"128948","Unicode hex":"1F7B4"},{"Typeface name":"Wingdings 2","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"128949","Unicode hex":"1F7B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"128950","Unicode hex":"1F7B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"128951","Unicode hex":"1F7B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"128952","Unicode hex":"1F7B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"128953","Unicode hex":"1F7B9"},{"Typeface name":"Wingdings 2","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"128954","Unicode hex":"1F7BA"},{"Typeface name":"Wingdings 2","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"128955","Unicode hex":"1F7BB"},{"Typeface name":"Wingdings 2","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"128956","Unicode hex":"1F7BC"},{"Typeface name":"Wingdings 2","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128957","Unicode hex":"1F7BD"},{"Typeface name":"Wingdings 2","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128958","Unicode hex":"1F7BE"},{"Typeface name":"Wingdings 2","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"128959","Unicode hex":"1F7BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"128960","Unicode hex":"1F7C0"},{"Typeface name":"Wingdings 2","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128962","Unicode hex":"1F7C2"},{"Typeface name":"Wingdings 2","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128964","Unicode hex":"1F7C4"},{"Typeface name":"Wingdings 2","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"128966","Unicode hex":"1F7C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"128969","Unicode hex":"1F7C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128970","Unicode hex":"1F7CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"10038","Unicode hex":"2736"},{"Typeface name":"Wingdings 2","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"128972","Unicode hex":"1F7CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128974","Unicode hex":"1F7CE"},{"Typeface name":"Wingdings 2","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128976","Unicode hex":"1F7D0"},{"Typeface name":"Wingdings 2","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128978","Unicode hex":"1F7D2"},{"Typeface name":"Wingdings 2","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"10041","Unicode hex":"2739"},{"Typeface name":"Wingdings 2","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128963","Unicode hex":"1F7C3"},{"Typeface name":"Wingdings 2","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128967","Unicode hex":"1F7C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Wingdings 2","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128973","Unicode hex":"1F7CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128980","Unicode hex":"1F7D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11212","Unicode hex":"2BCC"},{"Typeface name":"Wingdings 2","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11213","Unicode hex":"2BCD"},{"Typeface name":"Wingdings 2","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"8251","Unicode hex":"203B"},{"Typeface name":"Wingdings 2","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"8258","Unicode hex":"2042"},{"Typeface name":"Wingdings 3","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 3","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"11104","Unicode hex":"2B60"},{"Typeface name":"Wingdings 3","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"11106","Unicode hex":"2B62"},{"Typeface name":"Wingdings 3","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"11105","Unicode hex":"2B61"},{"Typeface name":"Wingdings 3","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"11107","Unicode hex":"2B63"},{"Typeface name":"Wingdings 3","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"11110","Unicode hex":"2B66"},{"Typeface name":"Wingdings 3","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"11111","Unicode hex":"2B67"},{"Typeface name":"Wingdings 3","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"11113","Unicode hex":"2B69"},{"Typeface name":"Wingdings 3","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"11112","Unicode hex":"2B68"},{"Typeface name":"Wingdings 3","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"11120","Unicode hex":"2B70"},{"Typeface name":"Wingdings 3","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"11122","Unicode hex":"2B72"},{"Typeface name":"Wingdings 3","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"11121","Unicode hex":"2B71"},{"Typeface name":"Wingdings 3","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"11123","Unicode hex":"2B73"},{"Typeface name":"Wingdings 3","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"11126","Unicode hex":"2B76"},{"Typeface name":"Wingdings 3","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"11128","Unicode hex":"2B78"},{"Typeface name":"Wingdings 3","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"11131","Unicode hex":"2B7B"},{"Typeface name":"Wingdings 3","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"11133","Unicode hex":"2B7D"},{"Typeface name":"Wingdings 3","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"11108","Unicode hex":"2B64"},{"Typeface name":"Wingdings 3","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"11109","Unicode hex":"2B65"},{"Typeface name":"Wingdings 3","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"11114","Unicode hex":"2B6A"},{"Typeface name":"Wingdings 3","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"11116","Unicode hex":"2B6C"},{"Typeface name":"Wingdings 3","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"11115","Unicode hex":"2B6B"},{"Typeface name":"Wingdings 3","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"11117","Unicode hex":"2B6D"},{"Typeface name":"Wingdings 3","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"11085","Unicode hex":"2B4D"},{"Typeface name":"Wingdings 3","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"11168","Unicode hex":"2BA0"},{"Typeface name":"Wingdings 3","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"11169","Unicode hex":"2BA1"},{"Typeface name":"Wingdings 3","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"11170","Unicode hex":"2BA2"},{"Typeface name":"Wingdings 3","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"11171","Unicode hex":"2BA3"},{"Typeface name":"Wingdings 3","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"11172","Unicode hex":"2BA4"},{"Typeface name":"Wingdings 3","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"11173","Unicode hex":"2BA5"},{"Typeface name":"Wingdings 3","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"11174","Unicode hex":"2BA6"},{"Typeface name":"Wingdings 3","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"11175","Unicode hex":"2BA7"},{"Typeface name":"Wingdings 3","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"11152","Unicode hex":"2B90"},{"Typeface name":"Wingdings 3","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"11153","Unicode hex":"2B91"},{"Typeface name":"Wingdings 3","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"11154","Unicode hex":"2B92"},{"Typeface name":"Wingdings 3","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"11155","Unicode hex":"2B93"},{"Typeface name":"Wingdings 3","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"11136","Unicode hex":"2B80"},{"Typeface name":"Wingdings 3","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"11139","Unicode hex":"2B83"},{"Typeface name":"Wingdings 3","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"11134","Unicode hex":"2B7E"},{"Typeface name":"Wingdings 3","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"11135","Unicode hex":"2B7F"},{"Typeface name":"Wingdings 3","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"11140","Unicode hex":"2B84"},{"Typeface name":"Wingdings 3","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"11142","Unicode hex":"2B86"},{"Typeface name":"Wingdings 3","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"11141","Unicode hex":"2B85"},{"Typeface name":"Wingdings 3","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"11143","Unicode hex":"2B87"},{"Typeface name":"Wingdings 3","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"11151","Unicode hex":"2B8F"},{"Typeface name":"Wingdings 3","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"11149","Unicode hex":"2B8D"},{"Typeface name":"Wingdings 3","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"11150","Unicode hex":"2B8E"},{"Typeface name":"Wingdings 3","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"11148","Unicode hex":"2B8C"},{"Typeface name":"Wingdings 3","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"11118","Unicode hex":"2B6E"},{"Typeface name":"Wingdings 3","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"11119","Unicode hex":"2B6F"},{"Typeface name":"Wingdings 3","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9099","Unicode hex":"238B"},{"Typeface name":"Wingdings 3","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"8996","Unicode hex":"2324"},{"Typeface name":"Wingdings 3","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"8963","Unicode hex":"2303"},{"Typeface name":"Wingdings 3","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"8997","Unicode hex":"2325"},{"Typeface name":"Wingdings 3","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"9251","Unicode hex":"2423"},{"Typeface name":"Wingdings 3","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"9085","Unicode hex":"237D"},{"Typeface name":"Wingdings 3","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"8682","Unicode hex":"21EA"},{"Typeface name":"Wingdings 3","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"11192","Unicode hex":"2BB8"},{"Typeface name":"Wingdings 3","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"129184","Unicode hex":"1F8A0"},{"Typeface name":"Wingdings 3","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"129185","Unicode hex":"1F8A1"},{"Typeface name":"Wingdings 3","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"129186","Unicode hex":"1F8A2"},{"Typeface name":"Wingdings 3","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"129187","Unicode hex":"1F8A3"},{"Typeface name":"Wingdings 3","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"129188","Unicode hex":"1F8A4"},{"Typeface name":"Wingdings 3","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"129189","Unicode hex":"1F8A5"},{"Typeface name":"Wingdings 3","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"129190","Unicode hex":"1F8A6"},{"Typeface name":"Wingdings 3","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"129191","Unicode hex":"1F8A7"},{"Typeface name":"Wingdings 3","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"129192","Unicode hex":"1F8A8"},{"Typeface name":"Wingdings 3","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"129193","Unicode hex":"1F8A9"},{"Typeface name":"Wingdings 3","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"129194","Unicode hex":"1F8AA"},{"Typeface name":"Wingdings 3","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"129195","Unicode hex":"1F8AB"},{"Typeface name":"Wingdings 3","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"129104","Unicode hex":"1F850"},{"Typeface name":"Wingdings 3","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"129106","Unicode hex":"1F852"},{"Typeface name":"Wingdings 3","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"129105","Unicode hex":"1F851"},{"Typeface name":"Wingdings 3","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"129107","Unicode hex":"1F853"},{"Typeface name":"Wingdings 3","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"129108","Unicode hex":"1F854"},{"Typeface name":"Wingdings 3","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"129109","Unicode hex":"1F855"},{"Typeface name":"Wingdings 3","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"129111","Unicode hex":"1F857"},{"Typeface name":"Wingdings 3","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"129110","Unicode hex":"1F856"},{"Typeface name":"Wingdings 3","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"129112","Unicode hex":"1F858"},{"Typeface name":"Wingdings 3","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"129113","Unicode hex":"1F859"},{"Typeface name":"Wingdings 3","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9650","Unicode hex":"25B2"},{"Typeface name":"Wingdings 3","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9660","Unicode hex":"25BC"},{"Typeface name":"Wingdings 3","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9651","Unicode hex":"25B3"},{"Typeface name":"Wingdings 3","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9661","Unicode hex":"25BD"},{"Typeface name":"Wingdings 3","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9664","Unicode hex":"25C0"},{"Typeface name":"Wingdings 3","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9654","Unicode hex":"25B6"},{"Typeface name":"Wingdings 3","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"9665","Unicode hex":"25C1"},{"Typeface name":"Wingdings 3","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9655","Unicode hex":"25B7"},{"Typeface name":"Wingdings 3","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"9699","Unicode hex":"25E3"},{"Typeface name":"Wingdings 3","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"9698","Unicode hex":"25E2"},{"Typeface name":"Wingdings 3","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"9700","Unicode hex":"25E4"},{"Typeface name":"Wingdings 3","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"9701","Unicode hex":"25E5"},{"Typeface name":"Wingdings 3","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"128896","Unicode hex":"1F780"},{"Typeface name":"Wingdings 3","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128898","Unicode hex":"1F782"},{"Typeface name":"Wingdings 3","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128897","Unicode hex":"1F781"},{"Typeface name":"Wingdings 3","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128899","Unicode hex":"1F783"},{"Typeface name":"Wingdings 3","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"11205","Unicode hex":"2BC5"},{"Typeface name":"Wingdings 3","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"11206","Unicode hex":"2BC6"},{"Typeface name":"Wingdings 3","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"11207","Unicode hex":"2BC7"},{"Typeface name":"Wingdings 3","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11208","Unicode hex":"2BC8"},{"Typeface name":"Wingdings 3","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"11164","Unicode hex":"2B9C"},{"Typeface name":"Wingdings 3","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"11166","Unicode hex":"2B9E"},{"Typeface name":"Wingdings 3","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"11165","Unicode hex":"2B9D"},{"Typeface name":"Wingdings 3","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"11167","Unicode hex":"2B9F"},{"Typeface name":"Wingdings 3","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"129040","Unicode hex":"1F810"},{"Typeface name":"Wingdings 3","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"129042","Unicode hex":"1F812"},{"Typeface name":"Wingdings 3","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"129041","Unicode hex":"1F811"},{"Typeface name":"Wingdings 3","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"129043","Unicode hex":"1F813"},{"Typeface name":"Wingdings 3","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"129044","Unicode hex":"1F814"},{"Typeface name":"Wingdings 3","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"129046","Unicode hex":"1F816"},{"Typeface name":"Wingdings 3","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"129045","Unicode hex":"1F815"},{"Typeface name":"Wingdings 3","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"129047","Unicode hex":"1F817"},{"Typeface name":"Wingdings 3","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"129048","Unicode hex":"1F818"},{"Typeface name":"Wingdings 3","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"129050","Unicode hex":"1F81A"},{"Typeface name":"Wingdings 3","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"129049","Unicode hex":"1F819"},{"Typeface name":"Wingdings 3","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"129051","Unicode hex":"1F81B"},{"Typeface name":"Wingdings 3","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"129052","Unicode hex":"1F81C"},{"Typeface name":"Wingdings 3","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"129054","Unicode hex":"1F81E"},{"Typeface name":"Wingdings 3","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"129053","Unicode hex":"1F81D"},{"Typeface name":"Wingdings 3","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"129055","Unicode hex":"1F81F"},{"Typeface name":"Wingdings 3","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"129024","Unicode hex":"1F800"},{"Typeface name":"Wingdings 3","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"129026","Unicode hex":"1F802"},{"Typeface name":"Wingdings 3","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"129025","Unicode hex":"1F801"},{"Typeface name":"Wingdings 3","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"129027","Unicode hex":"1F803"},{"Typeface name":"Wingdings 3","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"129028","Unicode hex":"1F804"},{"Typeface name":"Wingdings 3","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"129030","Unicode hex":"1F806"},{"Typeface name":"Wingdings 3","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"129029","Unicode hex":"1F805"},{"Typeface name":"Wingdings 3","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"129031","Unicode hex":"1F807"},{"Typeface name":"Wingdings 3","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"129032","Unicode hex":"1F808"},{"Typeface name":"Wingdings 3","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"129034","Unicode hex":"1F80A"},{"Typeface name":"Wingdings 3","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"129033","Unicode hex":"1F809"},{"Typeface name":"Wingdings 3","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"129035","Unicode hex":"1F80B"},{"Typeface name":"Wingdings 3","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"129056","Unicode hex":"1F820"},{"Typeface name":"Wingdings 3","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"129058","Unicode hex":"1F822"},{"Typeface name":"Wingdings 3","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"129060","Unicode hex":"1F824"},{"Typeface name":"Wingdings 3","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"129062","Unicode hex":"1F826"},{"Typeface name":"Wingdings 3","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"129064","Unicode hex":"1F828"},{"Typeface name":"Wingdings 3","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"129066","Unicode hex":"1F82A"},{"Typeface name":"Wingdings 3","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"129068","Unicode hex":"1F82C"},{"Typeface name":"Wingdings 3","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"129180","Unicode hex":"1F89C"},{"Typeface name":"Wingdings 3","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"129181","Unicode hex":"1F89D"},{"Typeface name":"Wingdings 3","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"129182","Unicode hex":"1F89E"},{"Typeface name":"Wingdings 3","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"129183","Unicode hex":"1F89F"},{"Typeface name":"Wingdings 3","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"129070","Unicode hex":"1F82E"},{"Typeface name":"Wingdings 3","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"129072","Unicode hex":"1F830"},{"Typeface name":"Wingdings 3","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"129074","Unicode hex":"1F832"},{"Typeface name":"Wingdings 3","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"129076","Unicode hex":"1F834"},{"Typeface name":"Wingdings 3","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"129078","Unicode hex":"1F836"},{"Typeface name":"Wingdings 3","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"129080","Unicode hex":"1F838"},{"Typeface name":"Wingdings 3","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"129082","Unicode hex":"1F83A"},{"Typeface name":"Wingdings 3","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"129081","Unicode hex":"1F839"},{"Typeface name":"Wingdings 3","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"129083","Unicode hex":"1F83B"},{"Typeface name":"Wingdings 3","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"129176","Unicode hex":"1F898"},{"Typeface name":"Wingdings 3","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"129178","Unicode hex":"1F89A"},{"Typeface name":"Wingdings 3","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"129177","Unicode hex":"1F899"},{"Typeface name":"Wingdings 3","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"129179","Unicode hex":"1F89B"},{"Typeface name":"Wingdings 3","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"129084","Unicode hex":"1F83C"},{"Typeface name":"Wingdings 3","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"129086","Unicode hex":"1F83E"},{"Typeface name":"Wingdings 3","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"129085","Unicode hex":"1F83D"},{"Typeface name":"Wingdings 3","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"129087","Unicode hex":"1F83F"},{"Typeface name":"Wingdings 3","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"129088","Unicode hex":"1F840"},{"Typeface name":"Wingdings 3","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"129090","Unicode hex":"1F842"},{"Typeface name":"Wingdings 3","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"129089","Unicode hex":"1F841"},{"Typeface name":"Wingdings 3","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"129091","Unicode hex":"1F843"},{"Typeface name":"Wingdings 3","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"129092","Unicode hex":"1F844"},{"Typeface name":"Wingdings 3","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"129094","Unicode hex":"1F846"},{"Typeface name":"Wingdings 3","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"129093","Unicode hex":"1F845"},{"Typeface name":"Wingdings 3","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"129095","Unicode hex":"1F847"},{"Typeface name":"Wingdings 3","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11176","Unicode hex":"2BA8"},{"Typeface name":"Wingdings 3","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11177","Unicode hex":"2BA9"},{"Typeface name":"Wingdings 3","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"11178","Unicode hex":"2BAA"},{"Typeface name":"Wingdings 3","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"11179","Unicode hex":"2BAB"},{"Typeface name":"Wingdings 3","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"11180","Unicode hex":"2BAC"},{"Typeface name":"Wingdings 3","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"11181","Unicode hex":"2BAD"},{"Typeface name":"Wingdings 3","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"11182","Unicode hex":"2BAE"},{"Typeface name":"Wingdings 3","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"11183","Unicode hex":"2BAF"},{"Typeface name":"Wingdings 3","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"129120","Unicode hex":"1F860"},{"Typeface name":"Wingdings 3","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"129122","Unicode hex":"1F862"},{"Typeface name":"Wingdings 3","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"129121","Unicode hex":"1F861"},{"Typeface name":"Wingdings 3","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"129123","Unicode hex":"1F863"},{"Typeface name":"Wingdings 3","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"129124","Unicode hex":"1F864"},{"Typeface name":"Wingdings 3","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"129125","Unicode hex":"1F865"},{"Typeface name":"Wingdings 3","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"129127","Unicode hex":"1F867"},{"Typeface name":"Wingdings 3","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"129126","Unicode hex":"1F866"},{"Typeface name":"Wingdings 3","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"129136","Unicode hex":"1F870"},{"Typeface name":"Wingdings 3","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"129138","Unicode hex":"1F872"},{"Typeface name":"Wingdings 3","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"129137","Unicode hex":"1F871"},{"Typeface name":"Wingdings 3","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"129139","Unicode hex":"1F873"},{"Typeface name":"Wingdings 3","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"129140","Unicode hex":"1F874"},{"Typeface name":"Wingdings 3","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"129141","Unicode hex":"1F875"},{"Typeface name":"Wingdings 3","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129143","Unicode hex":"1F877"},{"Typeface name":"Wingdings 3","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129142","Unicode hex":"1F876"},{"Typeface name":"Wingdings 3","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129152","Unicode hex":"1F880"},{"Typeface name":"Wingdings 3","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129154","Unicode hex":"1F882"},{"Typeface name":"Wingdings 3","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129153","Unicode hex":"1F881"},{"Typeface name":"Wingdings 3","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129155","Unicode hex":"1F883"},{"Typeface name":"Wingdings 3","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129156","Unicode hex":"1F884"},{"Typeface name":"Wingdings 3","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129157","Unicode hex":"1F885"},{"Typeface name":"Wingdings 3","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129159","Unicode hex":"1F887"},{"Typeface name":"Wingdings 3","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129158","Unicode hex":"1F886"},{"Typeface name":"Wingdings 3","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129168","Unicode hex":"1F890"},{"Typeface name":"Wingdings 3","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129170","Unicode hex":"1F892"},{"Typeface name":"Wingdings 3","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129169","Unicode hex":"1F891"},{"Typeface name":"Wingdings 3","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129171","Unicode hex":"1F893"},{"Typeface name":"Wingdings 3","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129172","Unicode hex":"1F894"},{"Typeface name":"Wingdings 3","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129174","Unicode hex":"1F896"},{"Typeface name":"Wingdings 3","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"129173","Unicode hex":"1F895"},{"Typeface name":"Wingdings 3","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"129175","Unicode hex":"1F897"}];return Yx.default=t,Yx}var Pj;function o7e(){if(Pj)return Do;Pj=1;var t=Do&&Do.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(Do,"__esModule",{value:!0}),Do.hex=Do.dec=Do.codePoint=void 0;for(var e=t(a7e()),n={},r=String.fromCodePoint?String.fromCodePoint:h,i=0,s=e.default;i<s.length;i++){var a=s[i],o=parseInt(a["Unicode dec"],10),l={codePoint:o,string:r(o)};n[a["Typeface name"].toUpperCase()+"_"+a["Dingbat dec"]]=l}function c(p,v){return n[p.toUpperCase()+"_"+v]}Do.codePoint=c;function u(p,v){return c(p,parseInt(v,10))}Do.dec=u;function f(p,v){return c(p,parseInt(v,16))}Do.hex=f;function h(p){if(p<=65535)return String.fromCharCode(p);var v=Math.floor((p-65536)/1024)+55296,g=(p-65536)%1024+56320;return String.fromCharCode(v,g)}return Do}var Qx={},Fj;function l7e(){if(Fj)return Qx;Fj=1,Qx.uriToZipEntryName=t,Qx.replaceFragment=e;function t(n,r){return r.charAt(0)==="/"?r.substr(1):n+"/"+r}function e(n,r){var i=n.indexOf("#");return i!==-1&&(n=n.substring(0,i)),n+"#"+r}return Qx}var Mj;function c7e(){if(Mj)return Jx;Mj=1,Jx.createBodyReader=a,Jx._readNumberingProperties=l;var t=o7e(),e=ii,n=uh(),r=_c().Result,i=_c().warning,s=l7e();function a(w){return{readXmlElement:function(C){return new o(w).readXmlElement(C)},readXmlElements:function(C){return new o(w).readXmlElements(C)}}}function o(w){var C=[],S=[],R=[],D=w.relationships,N=w.contentTypes,k=w.docxFile,F=w.files,P=w.numbering,I=w.styles;function U(Se){var Me=Se.map(O);return y(Me)}function O(Se){if(Se.type==="element"){var Me=Le[Se.name];if(Me)return Me(Se);if(!Object.prototype.hasOwnProperty.call(u,Se.name)){var Oe=i("An unrecognised element was ignored: "+Se.name);return f([Oe])}}return h()}function K(Se){return Q(Se).map(function(Me){return{type:"paragraphProperties",styleId:Me.styleId,styleName:Me.name,alignment:Se.firstOrEmpty("w:jc").attributes["w:val"],numbering:l(Me.styleId,Se.firstOrEmpty("w:numPr"),P),indent:X(Se.firstOrEmpty("w:ind"))}})}function X(Se){return{start:Se.attributes["w:start"]||Se.attributes["w:left"],end:Se.attributes["w:end"]||Se.attributes["w:right"],firstLine:Se.attributes["w:firstLine"],hanging:Se.attributes["w:hanging"]}}function J(Se){return B(Se).map(function(Me){var Oe=Se.firstOrEmpty("w:sz").attributes["w:val"],Xe=/^[0-9]+$/.test(Oe)?parseInt(Oe,10)/2:null;return{type:"runProperties",styleId:Me.styleId,styleName:Me.name,verticalAlignment:Se.firstOrEmpty("w:vertAlign").attributes["w:val"],font:Se.firstOrEmpty("w:rFonts").attributes["w:ascii"],fontSize:Xe,isBold:z(Se.first("w:b")),isUnderline:ne(Se.first("w:u")),isItalic:z(Se.first("w:i")),isStrikethrough:z(Se.first("w:strike")),isAllCaps:z(Se.first("w:caps")),isSmallCaps:z(Se.first("w:smallCaps"))}})}function ne(Se){if(Se){var Me=Se.attributes["w:val"];return Me!==void 0&&Me!=="false"&&Me!=="0"&&Me!=="none"}else return!1}function z(Se){if(Se){var Me=Se.attributes["w:val"];return Me!=="false"&&Me!=="0"}else return!1}function Q(Se){return W(Se,"w:pStyle","Paragraph",I.findParagraphStyleById)}function B(Se){return W(Se,"w:rStyle","Run",I.findCharacterStyleById)}function j(Se){return W(Se,"w:tblStyle","Table",I.findTableStyleById)}function W(Se,Me,Oe,Xe){var rt=[],it=Se.first(Me),Lt=null,_n=null;if(it&&(Lt=it.attributes["w:val"],Lt)){var cn=Xe(Lt);cn?_n=cn.name:rt.push(Ue(Oe,Lt))}return v({styleId:Lt,name:_n},rt)}var G={type:"unknown"};function Y(Se){var Me=Se.attributes["w:fldCharType"];if(Me==="begin")C.push(G),S=[];else if(Me==="end")C.pop();else if(Me==="separate"){var Oe=ae(S.join("")),Xe=Oe===null?G:{type:"hyperlink",options:Oe};C.pop(),C.push(Xe)}return h()}function ee(){var Se=e.last(C.filter(function(Me){return Me.type==="hyperlink"}));return Se?Se.options:null}function ae(Se){var Me=/\s*HYPERLINK "(.*)"/.exec(Se);if(Me)return{href:Me[1]};var Oe=/\s*HYPERLINK\s+\\l\s+"(.*)"/.exec(Se);return Oe?{anchor:Oe[1]}:null}function de(Se){return S.push(Se.text()),h()}function fe(Se){var Me=Se.attributes["w:font"],Oe=Se.attributes["w:char"],Xe=t.hex(Me,Oe);return Xe==null&&/^F0..$/.test(Oe)&&(Xe=t.hex(Me,Oe.substring(2))),Xe==null?f([i("A w:sym element with an unsupported character was ignored: char "+Oe+" in font "+Me)]):p(new n.Text(Xe.string))}function Ae(Se){return function(Me){var Oe=Me.attributes["w:id"];return p(new n.NoteReference({noteType:Se,noteId:Oe}))}}function Re(Se){return p(n.commentReference({commentId:Se.attributes["w:id"]}))}function me(Se){return U(Se.children)}var Le={"w:p":function(Se){var Me=Se.firstOrEmpty("w:pPr"),Oe=!!Me.firstOrEmpty("w:rPr").first("w:del");if(Oe)return Se.children.forEach(function(rt){R.push(rt)}),h();var Xe=Se.children;return R.length>0&&(Xe=R.concat(Xe),R=[]),g.map(K(Me),U(Xe),function(rt,it){return new n.Paragraph(it,rt)}).insertExtra()},"w:r":function(Se){return g.map(J(Se.firstOrEmpty("w:rPr")),U(Se.children),function(Me,Oe){var Xe=ee();return Xe!==null&&(Oe=[new n.Hyperlink(Oe,Xe)]),new n.Run(Oe,Me)})},"w:fldChar":Y,"w:instrText":de,"w:t":function(Se){return p(new n.Text(Se.text()))},"w:tab":function(Se){return p(new n.Tab)},"w:noBreakHyphen":function(){return p(new n.Text(""))},"w:softHyphen":function(Se){return p(new n.Text(""))},"w:sym":fe,"w:hyperlink":function(Se){var Me=Se.attributes["r:id"],Oe=Se.attributes["w:anchor"];return U(Se.children).map(function(Xe){function rt(Lt){var _n=Se.attributes["w:tgtFrame"]||null;return new n.Hyperlink(Xe,e.extend({targetFrame:_n},Lt))}if(Me){var it=D.findTargetByRelationshipId(Me);return Oe&&(it=s.replaceFragment(it,Oe)),rt({href:it})}else return Oe?rt({anchor:Oe}):Xe})},"w:tbl":V,"w:tr":Te,"w:tc":le,"w:footnoteReference":Ae("footnote"),"w:endnoteReference":Ae("endnote"),"w:commentReference":Re,"w:br":function(Se){var Me=Se.attributes["w:type"];return Me==null||Me==="textWrapping"?p(n.lineBreak):Me==="page"?p(n.pageBreak):Me==="column"?p(n.columnBreak):f([i("Unsupported break type: "+Me)])},"w:bookmarkStart":function(Se){var Me=Se.attributes["w:name"];return Me==="_GoBack"?h():p(new n.BookmarkStart({name:Me}))},"mc:AlternateContent":function(Se){return me(Se.first("mc:Fallback"))},"w:sdt":function(Se){return U(Se.firstOrEmpty("w:sdtContent").children)},"w:ins":me,"w:object":me,"w:smartTag":me,"w:drawing":me,"w:pict":function(Se){return me(Se).toExtra()},"v:roundrect":me,"v:shape":me,"v:textbox":me,"w:txbxContent":me,"wp:inline":he,"wp:anchor":he,"v:imagedata":ge,"v:group":me,"v:rect":me};return{readXmlElement:O,readXmlElements:U};function V(Se){var Me=xe(Se.firstOrEmpty("w:tblPr"));return U(Se.children).flatMap(oe).flatMap(function(Oe){return Me.map(function(Xe){return n.Table(Oe,Xe)})})}function xe(Se){return j(Se).map(function(Me){return{styleId:Me.styleId,styleName:Me.name}})}function Te(Se){var Me=Se.firstOrEmpty("w:trPr"),Oe=!!Me.first("w:tblHeader");return U(Se.children).map(function(Xe){return n.TableRow(Xe,{isHeader:Oe})})}function le(Se){return U(Se.children).map(function(Me){var Oe=Se.firstOrEmpty("w:tcPr"),Xe=Oe.firstOrEmpty("w:gridSpan").attributes["w:val"],rt=Xe?parseInt(Xe,10):1,it=n.TableCell(Me,{colSpan:rt});return it._vMerge=re(Oe),it})}function re(Se){var Me=Se.first("w:vMerge");if(Me){var Oe=Me.attributes["w:val"];return Oe==="continue"||!Oe}else return null}function oe(Se){var Me=e.any(Se,function(rt){return rt.type!==n.types.tableRow});if(Me)return v(Se,[i("unexpected non-row element in table, cell merging may be incorrect")]);var Oe=e.any(Se,function(rt){return e.any(rt.children,function(it){return it.type!==n.types.tableCell})});if(Oe)return v(Se,[i("unexpected non-cell element in table row, cell merging may be incorrect")]);var Xe={};return Se.forEach(function(rt){var it=0;rt.children.forEach(function(Lt){Lt._vMerge&&Xe[it]?Xe[it].rowSpan++:(Xe[it]=Lt,Lt._vMerge=!1),it+=Lt.colSpan})}),Se.forEach(function(rt){rt.children=rt.children.filter(function(it){return!it._vMerge}),rt.children.forEach(function(it){delete it._vMerge})}),p(Se)}function he(Se){var Me=Se.getElementsByTagName("a:graphic").getElementsByTagName("a:graphicData").getElementsByTagName("pic:pic").getElementsByTagName("pic:blipFill").getElementsByTagName("a:blip");return y(Me.map(we.bind(null,Se)))}function we(Se,Me){var Oe=Se.first("wp:docPr").attributes,Xe=ie(Oe.descr)?Oe.title:Oe.descr,rt=ce(Me);return rt===null?f([i("Could not find image file for a:blip element")]):Ne(rt,Xe)}function ie(Se){return Se==null||/^\s*$/.test(Se)}function ce(Se){var Me=Se.attributes["r:embed"],Oe=Se.attributes["r:link"];if(Me)return ye(Me);if(Oe){var Xe=D.findTargetByRelationshipId(Oe);return{path:Xe,read:F.read.bind(F,Xe)}}else return null}function ge(Se){var Me=Se.attributes["r:id"];return Me?Ne(ye(Me),Se.attributes["o:title"]):f([i("A v:imagedata element without a relationship ID was ignored")])}function ye(Se){var Me=s.uriToZipEntryName("word",D.findTargetByRelationshipId(Se));return{path:Me,read:k.read.bind(k,Me)}}function Ne(Se,Me){var Oe=N.findContentType(Se.path),Xe=n.Image({readImage:Se.read,altText:Me,contentType:Oe}),rt=c[Oe]?[]:i("Image of type "+Oe+" is unlikely to display in web browsers");return v(Xe,rt)}function Ue(Se,Me){return i(Se+" style with ID "+Me+" was referenced but not defined in the document")}}function l(w,C,S){var R=C.firstOrEmpty("w:ilvl").attributes["w:val"],D=C.firstOrEmpty("w:numId").attributes["w:val"];if(R!==void 0&&D!==void 0)return S.findLevel(D,R);if(w!=null){var N=S.findLevelByParagraphStyleId(w);if(N!=null)return N}return null}var c={"image/png":!0,"image/gif":!0,"image/jpeg":!0,"image/svg+xml":!0,"image/tiff":!0},u={"office-word:wrap":!0,"v:shadow":!0,"v:shapetype":!0,"w:annotationRef":!0,"w:bookmarkEnd":!0,"w:sectPr":!0,"w:proofErr":!0,"w:lastRenderedPageBreak":!0,"w:commentRangeStart":!0,"w:commentRangeEnd":!0,"w:del":!0,"w:footnoteRef":!0,"w:endnoteRef":!0,"w:pPr":!0,"w:rPr":!0,"w:tblPr":!0,"w:tblGrid":!0,"w:trPr":!0,"w:tcPr":!0};function f(w){return new g(null,null,w)}function h(){return new g(null)}function p(w){return new g(w)}function v(w,C){return new g(w,null,C)}function g(w,C,S){this.value=w||[],this.extra=C||[],this._result=new r({element:this.value,extra:C},S),this.messages=this._result.messages}g.prototype.toExtra=function(){return new g(null,b(this.extra,this.value),this.messages)},g.prototype.insertExtra=function(){var w=this.extra;return w&&w.length?new g(b(this.value,w),null,this.messages):this},g.prototype.map=function(w){var C=this._result.map(function(S){return w(S.element)});return new g(C.value,this.extra,C.messages)},g.prototype.flatMap=function(w){var C=this._result.flatMap(function(S){return w(S.element)._result});return new g(C.value.element,b(this.extra,C.value.extra),C.messages)},g.map=function(w,C,S){return new g(S(w.value,C.value),b(w.extra,C.extra),w.messages.concat(C.messages))};function y(w){var C=r.combine(e.pluck(w,"_result"));return new g(e.flatten(e.pluck(C.value,"element")),e.filter(e.flatten(e.pluck(C.value,"extra")),_),C.messages)}function b(w,C){return e.flatten([w,C])}function _(w){return w}return Jx}var t4={},Uj;function u7e(){if(Uj)return t4;Uj=1,t4.DocumentXmlReader=n;var t=uh(),e=_c().Result;function n(r){var i=r.bodyReader;function s(a){var o=a.first("w:body");if(o==null)throw new Error("Could not find the body element: are you sure this is a docx file?");var l=i.readXmlElements(o.children).map(function(c){return new t.Document(c,{notes:r.notes,comments:r.comments})});return new e(l.value,l.messages)}return{convertXmlToDocument:s}}return t4}var c0={},Oj;function d7e(){if(Oj)return c0;Oj=1,c0.readRelationships=t,c0.defaultValue=new e([]),c0.Relationships=e;function t(n){var r=[];return n.children.forEach(function(i){if(i.name==="relationships:Relationship"){var s={relationshipId:i.attributes.Id,target:i.attributes.Target,type:i.attributes.Type};r.push(s)}}),new e(r)}function e(n){var r={};n.forEach(function(s){r[s.relationshipId]=s.target});var i={};return n.forEach(function(s){i[s.type]||(i[s.type]=[]),i[s.type].push(s.target)}),{findTargetByRelationshipId:function(s){return r[s]},findTargetsByType:function(s){return i[s]||[]}}}return c0}var Zx={},Lj;function f7e(){if(Lj)return Zx;Lj=1,Zx.readContentTypesFromXml=e;var t={png:"png",gif:"gif",jpeg:"jpeg",jpg:"jpeg",tif:"tiff",tiff:"tiff",bmp:"bmp"};Zx.defaultContentTypes=n({},{});function e(r){var i={},s={};return r.children.forEach(function(a){if(a.name==="content-types:Default"&&(i[a.attributes.Extension]=a.attributes.ContentType),a.name==="content-types:Override"){var o=a.attributes.PartName;o.charAt(0)==="/"&&(o=o.substring(1)),s[o]=a.attributes.ContentType}}),n(s,i)}function n(r,i){return{findContentType:function(s){var a=r[s];if(a)return a;var o=s.split("."),l=o[o.length-1];if(i.hasOwnProperty(l))return i[l];var c=t[l.toLowerCase()];return c?"image/"+c:null}}}return Zx}var u0={},jj;function h7e(){if(jj)return u0;jj=1;var t=ii;u0.readNumberingXml=n,u0.Numbering=e,u0.defaultNumbering=new e({},{});function e(a,o,l){var c=t.flatten(t.values(o).map(function(p){return t.values(p.levels)})),u=t.indexBy(c.filter(function(p){return p.paragraphStyleId!=null}),"paragraphStyleId");function f(p,v){var g=a[p];if(g){var y=o[g.abstractNumId];if(y){if(y.numStyleLink==null)return o[g.abstractNumId].levels[v];var b=l.findNumberingStyleById(y.numStyleLink);return f(b.numId,v)}else return null}else return null}function h(p){return u[p]||null}return{findLevel:f,findLevelByParagraphStyleId:h}}function n(a,o){if(!o||!o.styles)throw new Error("styles is missing");var l=r(a),c=s(a);return new e(c,l,o.styles)}function r(a){var o={};return a.getElementsByTagName("w:abstractNum").forEach(function(l){var c=l.attributes["w:abstractNumId"];o[c]=i(l)}),o}function i(a){var o={};a.getElementsByTagName("w:lvl").forEach(function(c){var u=c.attributes["w:ilvl"],f=c.firstOrEmpty("w:numFmt").attributes["w:val"],h=c.firstOrEmpty("w:pStyle").attributes["w:val"];o[u]={isOrdered:f!=="bullet",level:u,paragraphStyleId:h}});var l=a.firstOrEmpty("w:numStyleLink").attributes["w:val"];return{levels:o,numStyleLink:l}}function s(a){var o={};return a.getElementsByTagName("w:num").forEach(function(l){var c=l.attributes["w:numId"],u=l.first("w:abstractNumId").attributes["w:val"];o[c]={abstractNumId:u}}),o}return u0}var d0={},Bj;function p7e(){if(Bj)return d0;Bj=1,d0.readStylesXml=e,d0.Styles=t,d0.defaultStyles=new t({},{});function t(s,a,o,l){return{findParagraphStyleById:function(c){return s[c]},findCharacterStyleById:function(c){return a[c]},findTableStyleById:function(c){return o[c]},findNumberingStyleById:function(c){return l[c]}}}t.EMPTY=new t({},{},{},{});function e(s){var a={},o={},l={},c={},u={paragraph:a,character:o,table:l};return s.getElementsByTagName("w:style").forEach(function(f){var h=n(f);if(h.type==="numbering")c[h.styleId]=i(f);else{var p=u[h.type];p&&(p[h.styleId]=h)}}),new t(a,o,l,c)}function n(s){var a=s.attributes["w:type"],o=s.attributes["w:styleId"],l=r(s);return{type:a,styleId:o,name:l}}function r(s){var a=s.first("w:name");return a?a.attributes["w:val"]:null}function i(s){var a=s.firstOrEmpty("w:pPr").firstOrEmpty("w:numPr").firstOrEmpty("w:numId").attributes["w:val"];return{numId:a}}return d0}var sp={},Vj;function m7e(){if(Vj)return sp;Vj=1;var t=uh(),e=_c().Result;sp.createFootnotesReader=n.bind(sp,"footnote"),sp.createEndnotesReader=n.bind(sp,"endnote");function n(r,i){function s(l){return e.combine(l.getElementsByTagName("w:"+r).filter(a).map(o))}function a(l){var c=l.attributes["w:type"];return c!=="continuationSeparator"&&c!=="separator"}function o(l){var c=l.attributes["w:id"];return i.readXmlElements(l.children).map(function(u){return t.Note({noteType:r,noteId:c,body:u})})}return s}return sp}var n4={},Wj;function g7e(){if(Wj)return n4;Wj=1;var t=uh(),e=_c().Result;function n(r){function i(a){return e.combine(a.getElementsByTagName("w:comment").map(s))}function s(a){var o=a.attributes["w:id"];function l(c){return(a.attributes[c]||"").trim()||null}return r.readXmlElements(a.children).map(function(c){return t.comment({commentId:o,body:c,authorName:l("w:author"),authorInitials:l("w:initials")})})}return i}return n4.createCommentsReader=n,n4}var r4={},qj;function y7e(){if(qj)return r4;qj=1;var t=dd();r4.Files=e;function e(){function n(r){return t.reject(new Error("could not open external image: '"+r+`'
cannot open linked files from a web browser`))}return{read:n}}return r4}var $j;function v7e(){if($j)return $x;$j=1,$x.read=v,$x._findPartPaths=g;var t=dd(),e=uh(),n=_c().Result,r=zY(),i=s7e().readXmlFromZipFile,s=c7e().createBodyReader,a=u7e().DocumentXmlReader,o=d7e(),l=f7e(),c=h7e(),u=p7e(),f=m7e(),h=g7e(),p=y7e().Files;function v(k,F){return F=F||{},t.props({contentTypes:S(k),partPaths:g(k),docxFile:k,files:F.path?p.relativeToFile(F.path):new p(null)}).also(function(P){return{styles:D(k,P.partPaths.styles)}}).also(function(P){return{numbering:R(k,P.partPaths.numbering,P.styles)}}).also(function(P){return{footnotes:w(P.partPaths.footnotes,P,function(I,U){return U?f.createFootnotesReader(I)(U):new n([])}),endnotes:w(P.partPaths.endnotes,P,function(I,U){return U?f.createEndnotesReader(I)(U):new n([])}),comments:w(P.partPaths.comments,P,function(I,U){return U?h.createCommentsReader(I)(U):new n([])})}}).also(function(P){return{notes:P.footnotes.flatMap(function(I){return P.endnotes.map(function(U){return new e.Notes(I.concat(U))})})}}).then(function(P){return w(P.partPaths.mainDocument,P,function(I,U){return P.notes.flatMap(function(O){return P.comments.flatMap(function(K){var X=new a({bodyReader:I,notes:O,comments:K});return X.convertXmlToDocument(U)})})})})}function g(k){return N(k).then(function(F){var P=y({docxFile:k,relationships:F,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",basePath:"",fallbackPath:"word/document.xml"});if(!k.exists(P))throw new Error("Could not find main document part. Are you sure this is a valid .docx file?");return _({filename:C(P),readElement:o.readRelationships,defaultValue:o.defaultValue})(k).then(function(I){function U(O){return y({docxFile:k,relationships:I,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/"+O,basePath:r.splitPath(P).dirname,fallbackPath:"word/"+O+".xml"})}return{mainDocument:P,comments:U("comments"),endnotes:U("endnotes"),footnotes:U("footnotes"),numbering:U("numbering"),styles:U("styles")}})})}function y(k){var F=k.docxFile,P=k.relationships,I=k.relationshipType,U=k.basePath,O=k.fallbackPath,K=P.findTargetsByType(I),X=K.map(function(ne){return b(r.joinPath(U,ne),"/")}),J=X.filter(function(ne){return F.exists(ne)});return J.length===0?O:J[0]}function b(k,F){return k.substring(0,F.length)===F?k.substring(F.length):k}function _(k){return function(F){return i(F,k.filename).then(function(P){return P?k.readElement(P):k.defaultValue})}}function w(k,F,P){var I=_({filename:C(k),readElement:o.readRelationships,defaultValue:o.defaultValue});return I(F.docxFile).then(function(U){var O=new s({relationships:U,contentTypes:F.contentTypes,docxFile:F.docxFile,numbering:F.numbering,styles:F.styles,files:F.files});return i(F.docxFile,k).then(function(K){return P(O,K)})})}function C(k){var F=r.splitPath(k);return r.joinPath(F.dirname,"_rels",F.basename+".rels")}var S=_({filename:"[Content_Types].xml",readElement:l.readContentTypesFromXml,defaultValue:l.defaultContentTypes});function R(k,F,P){return _({filename:F,readElement:function(I){return c.readNumberingXml(I,{styles:P})},defaultValue:c.defaultNumbering})(k)}function D(k,F){return _({filename:F,readElement:u.readStylesXml,defaultValue:u.defaultStyles})(k)}var N=_({filename:"_rels/.rels",readElement:o.readRelationships,defaultValue:o.defaultValue});return $x}var e2={},zj;function x7e(){if(zj)return e2;zj=1;var t=ii,e=dd(),n=JY();e2.writeStyleMap=a,e2.readStyleMap=u;var r="http://schemas.zwobble.org/mammoth/style-map",i="mammoth/style-map",s="/"+i;function a(f,h){return f.write(i,h),o(f).then(function(){return l(f)})}function o(f){var h="word/_rels/document.xml.rels",p="http://schemas.openxmlformats.org/package/2006/relationships",v="{"+p+"}Relationship";return f.read(h,"utf8").then(n.readString).then(function(g){var y=g.children;c(y,v,"Id",{Id:"rMammothStyleMap",Type:r,Target:s});var b={"":p};return f.write(h,n.writeString(g,b))})}function l(f){var h="[Content_Types].xml",p="http://schemas.openxmlformats.org/package/2006/content-types",v="{"+p+"}Override";return f.read(h,"utf8").then(n.readString).then(function(g){var y=g.children;c(y,v,"PartName",{PartName:s,ContentType:"text/prs.mammoth.style-map"});var b={"":p};return f.write(h,n.writeString(g,b))})}function c(f,h,p,v){var g=t.find(f,function(y){return y.name===h&&y.attributes[p]===v[p]});g?g.attributes=v:f.push(n.element(h,v))}function u(f){return f.exists(i)?f.read(i,"utf8"):e.resolve(null)}return e2}var t2={},Md={},Kl={},ou={},Hj;function YY(){if(Hj)return ou;Hj=1;var t=dT();function e(l,c,u){return r(t.element(l,c,{fresh:!1}),u)}function n(l,c,u){var f=t.element(l,c,{fresh:!0});return r(f,u)}function r(l,c){return{type:"element",tag:l,children:c||[]}}function i(l){return{type:"text",value:l}}var s={type:"forceWrite"};ou.freshElement=n,ou.nonFreshElement=e,ou.elementWithTag=r,ou.text=i,ou.forceWrite=s;var a={br:!0,hr:!0,img:!0};function o(l){return l.children.length===0&&a[l.tag.tagName]}return ou.isVoidElement=o,ou}var i4,Gj;function _7e(){if(Gj)return i4;Gj=1;var t=ii,e=YY();function n(g){return r(c(g))}function r(g){var y=[];return g.map(i).forEach(function(b){l(y,b)}),y}function i(g){return s[g.type](g)}var s={element:a,text:o,forceWrite:o};function a(g){return e.elementWithTag(g.tag,r(g.children))}function o(g){return g}function l(g,y){var b=g[g.length-1];y.type==="element"&&!y.tag.fresh&&b&&b.type==="element"&&y.tag.matchesElement(b.tag)?(y.tag.separator&&l(b.children,e.text(y.tag.separator)),y.children.forEach(function(_){l(b.children,_)})):g.push(y)}function c(g){return u(g,function(y){return f[y.type](y)})}function u(g,y){return t.flatten(t.map(g,y),!0)}var f={element:p,text:v,forceWrite:h};function h(g){return[g]}function p(g){var y=c(g.children);return y.length===0&&!e.isVoidElement(g)?[]:[e.elementWithTag(g.tag,y)]}function v(g){return g.value.length===0?[]:[g]}return i4=n,i4}var Kj;function uT(){if(Kj)return Kl;Kj=1;var t=YY();Kl.freshElement=t.freshElement,Kl.nonFreshElement=t.nonFreshElement,Kl.elementWithTag=t.elementWithTag,Kl.text=t.text,Kl.forceWrite=t.forceWrite,Kl.simplify=_7e();function e(a,o){o.forEach(function(l){n(a,l)})}function n(a,o){r[o.type](a,o)}var r={element:i,text:s,forceWrite:function(){}};function i(a,o){t.isVoidElement(o)?a.selfClosing(o.tag.tagName,o.tag.attributes):(a.open(o.tag.tagName,o.tag.attributes),e(a,o.children),a.close(o.tag.tagName))}function s(a,o){a.text(o.value)}return Kl.write=e,Kl}var Xj;function dT(){if(Xj)return Md;Xj=1;var t=ii,e=uT();Md.topLevelElement=n,Md.elements=r,Md.element=s;function n(o,l){return r([s(o,l,{fresh:!0})])}function r(o){return new i(o.map(function(l){return t.isString(l)?s(l):l}))}function i(o){this._elements=o}i.prototype.wrap=function(l){for(var c=l(),u=this._elements.length-1;u>=0;u--)c=this._elements[u].wrapNodes(c);return c};function s(o,l,c){return c=c||{},new a(o,l,c)}function a(o,l,c){var u={};t.isArray(o)?(o.forEach(function(f){u[f]=!0}),o=o[0]):u[o]=!0,this.tagName=o,this.tagNames=u,this.attributes=l||{},this.fresh=c.fresh,this.separator=c.separator}return a.prototype.matchesElement=function(o){return this.tagNames[o.tagName]&&t.isEqual(this.attributes||{},o.attributes||{})},a.prototype.wrap=function(l){return this.wrapNodes(l())},a.prototype.wrapNodes=function(l){return[e.elementWithTag(this,l)]},Md.empty=r([]),Md.ignore={wrap:function(){return[]}},Md}var s4={},Jj;function QY(){return Jj||(Jj=1,(function(t){var e=ii,n=dd(),r=uT();t.imgElement=i;function i(s){return function(a,o){return n.when(s(a)).then(function(l){var c={};return a.altText&&(c.alt=a.altText),e.extend(c,l),[r.freshElement("img",c)]})}}t.inline=t.imgElement,t.dataUri=i(function(s){return s.readAsBase64String().then(function(a){return{src:"data:"+s.contentType+";base64,"+a}})})})(s4)),s4}var a4={},o4={},Yj;function b7e(){if(Yj)return o4;Yj=1;var t=ii;o4.writer=e;function e(o){return o=o||{},o.prettyPrint?r():i()}var n={div:!0,p:!0,ul:!0,li:!0};function r(){var o=0,l="  ",c=[],u=!0,f=!1,h=i();function p(S,R){n[S]&&w(),c.push(S),h.open(S,R),n[S]&&o++,u=!1}function v(S){n[S]&&(o--,w()),c.pop(),h.close(S)}function g(S){_();var R=C()?S:S.replace(`
`,`
`+l);h.text(R)}function y(S,R){w(),h.selfClosing(S,R)}function b(){return c.length===0||n[c[c.length-1]]}function _(){f||(w(),f=!0)}function w(){if(f=!1,!u&&b()&&!C()){h._append(`
`);for(var S=0;S<o;S++)h._append(l)}}function C(){return t.some(c,function(S){return S==="pre"})}return{asString:h.asString,open:p,close:v,text:g,selfClosing:y}}function i(){var o=[];function l(g,y){var b=f(y);o.push("<"+g+b+">")}function c(g){o.push("</"+g+">")}function u(g,y){var b=f(y);o.push("<"+g+b+" />")}function f(g){return t.map(g,function(y,b){return" "+b+'="'+a(y)+'"'}).join("")}function h(g){o.push(s(g))}function p(g){o.push(g)}function v(){return o.join("")}return{asString:v,open:l,close:c,text:h,selfClosing:u,_append:p}}function s(o){return o.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function a(o){return o.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}return o4}var l4={},Qj;function w7e(){if(Qj)return l4;Qj=1;var t=ii;function e(f){return n(f,f)}function n(f,h){return function(){return{start:f,end:h}}}function r(f){var h=f.href||"";return h?{start:"[",end:"]("+h+")",anchorPosition:"before"}:{}}function i(f){var h=f.src||"",p=f.alt||"";return h||p?{start:"!["+p+"]("+h+")"}:{}}function s(f){return function(h,p){return{start:p?`
`:"",end:p?"":`
`,list:{isOrdered:f.isOrdered,indent:p?p.indent+1:0,count:0}}}}function a(f,h,p){h=h||{indent:0,isOrdered:!1,count:0},h.count++,p.hasClosed=!1;var v=h.isOrdered?h.count+".":"-",g=l("	",h.indent)+v+" ";return{start:g,end:function(){if(!p.hasClosed)return p.hasClosed=!0,`
`}}}var o={p:n("",`

`),br:n("",`  
`),ul:s({isOrdered:!1}),ol:s({isOrdered:!0}),li:a,strong:e("__"),em:e("*"),a:r,img:i};(function(){for(var f=1;f<=6;f++)o["h"+f]=n(l("#",f)+" ",`

`)})();function l(f,h){return new Array(h+1).join(f)}function c(){var f=[],h=[],p=null,v={};function g(S,R){R=R||{};var D=o[S]||function(){return{}},N=D(R,p,v);h.push({end:N.end,list:p}),N.list&&(p=N.list);var k=N.anchorPosition==="before";k&&y(R),f.push(N.start||""),k||y(R)}function y(S){S.id&&f.push('<a id="'+S.id+'"></a>')}function b(S){var R=h.pop();p=R.list;var D=t.isFunction(R.end)?R.end():R.end;f.push(D||"")}function _(S,R){g(S,R),b()}function w(S){f.push(u(S))}function C(){return f.join("")}return{asString:C,open:g,close:b,text:w,selfClosing:_}}l4.writer=c;function u(f){return f.replace(/\\/g,"\\\\").replace(/([\`\*_\{\}\[\]\(\)\#\+\-\.\!])/g,"\\$1")}return l4}var Zj;function T7e(){if(Zj)return a4;Zj=1;var t=b7e(),e=w7e();a4.writer=n;function n(r){return r=r||{},r.outputFormat==="markdown"?e.writer():t.writer(r)}return a4}var eB;function E7e(){if(eB)return t2;eB=1;var t=ii,e=dd(),n=uh(),r=dT(),i=_c(),s=QY(),a=uT(),o=T7e();t2.DocumentConverter=l;function l(y){return{convertToHtml:function(b){var _=t.indexBy(b.type===n.types.document?b.comments:[],"commentId"),w=new c(y,_);return w.convertToHtml(b)}}}function c(y,b){var _=1,w=[],C=[];y=t.extend({ignoreEmptyParagraphs:!0},y);var S=y.idPrefix===void 0?"":y.idPrefix,R=y.ignoreEmptyParagraphs,D=r.topLevelElement("p"),N=y.styleMap||[];function k(V){var xe=[],Te=P(V,xe,{}),le=[];v(Te,function(oe){oe.type==="deferred"&&le.push(oe)});var re={};return e.mapSeries(le,function(oe){return oe.value().then(function(he){re[oe.id]=he})}).then(function(){function oe(we){return p(we,function(ie){return ie.type==="deferred"?re[ie.id]:ie.children?[t.extend({},ie,{children:oe(ie.children)})]:[ie]})}var he=o.writer({prettyPrint:y.prettyPrint,outputFormat:y.outputFormat});return a.write(he,a.simplify(oe(Te))),new i.Result(he.asString(),xe)})}function F(V,xe,Te){return p(V,function(le){return P(le,xe,Te)})}function P(V,xe,Te){if(!Te)throw new Error("options not set");var le=Le[V.type];return le?le(V,xe,Te):[]}function I(V,xe,Te){return U(V,xe).wrap(function(){var le=F(V.children,xe,Te);return R?le:[a.forceWrite].concat(le)})}function U(V,xe){var Te=J(V);return Te?Te.to:(V.styleId&&xe.push(h("paragraph",V)),D)}function O(V,xe,Te){var le=function(){return F(V.children,xe,Te)},re=[];V.isSmallCaps&&re.push(K("smallCaps")),V.isAllCaps&&re.push(K("allCaps")),V.isStrikethrough&&re.push(K("strikethrough","s")),V.isUnderline&&re.push(K("underline")),V.verticalAlignment===n.verticalAlignment.subscript&&re.push(r.element("sub",{},{fresh:!1})),V.verticalAlignment===n.verticalAlignment.superscript&&re.push(r.element("sup",{},{fresh:!1})),V.isItalic&&re.push(K("italic","em")),V.isBold&&re.push(K("bold","strong"));var oe=r.empty,he=J(V);return he?oe=he.to:V.styleId&&xe.push(h("run",V)),re.push(oe),re.forEach(function(we){le=we.wrap.bind(we,le)}),le()}function K(V,xe){var Te=X({type:V});return Te||(xe?r.element(xe,{},{fresh:!1}):r.empty)}function X(V,xe){var Te=J(V);return Te?Te.to:xe}function J(V){for(var xe=0;xe<N.length;xe++)if(N[xe].from.matches(V))return N[xe]}function ne(V){return function(xe,Te){return e.attempt(function(){return V(xe,Te)}).caught(function(le){return Te.push(i.error(le)),[]})}}function z(V){return B(V.noteType,V.noteId)}function Q(V){return j(V.noteType,V.noteId)}function B(V,xe){return W(V+"-"+xe)}function j(V,xe){return W(V+"-ref-"+xe)}function W(V){return S+V}var G=r.elements([r.element("table",{},{fresh:!0})]);function Y(V,xe,Te){return X(V,G).wrap(function(){return ee(V,xe,Te)})}function ee(V,xe,Te){var le=t.findIndex(V.children,function(we){return!we.type===n.types.tableRow||!we.isHeader});le===-1&&(le=V.children.length);var re;if(le===0)re=F(V.children,xe,t.extend({},Te,{isTableHeader:!1}));else{var oe=F(V.children.slice(0,le),xe,t.extend({},Te,{isTableHeader:!0})),he=F(V.children.slice(le),xe,t.extend({},Te,{isTableHeader:!1}));re=[a.freshElement("thead",{},oe),a.freshElement("tbody",{},he)]}return[a.forceWrite].concat(re)}function ae(V,xe,Te){var le=F(V.children,xe,Te);return[a.freshElement("tr",{},[a.forceWrite].concat(le))]}function de(V,xe,Te){var le=Te.isTableHeader?"th":"td",re=F(V.children,xe,Te),oe={};return V.colSpan!==1&&(oe.colspan=V.colSpan.toString()),V.rowSpan!==1&&(oe.rowspan=V.rowSpan.toString()),[a.freshElement(le,oe,[a.forceWrite].concat(re))]}function fe(V,xe,Te){return X(V,r.ignore).wrap(function(){var le=b[V.commentId],re=C.length+1,oe="["+g(le)+re+"]";return C.push({label:oe,comment:le}),[a.freshElement("a",{href:"#"+B("comment",V.commentId),id:j("comment",V.commentId)},[a.text(oe)])]})}function Ae(V,xe,Te){var le=V.label,re=V.comment,oe=F(re.body,xe,Te).concat([a.nonFreshElement("p",{},[a.text(" "),a.freshElement("a",{href:"#"+j("comment",re.commentId)},[a.text("")])])]);return[a.freshElement("dt",{id:B("comment",re.commentId)},[a.text("Comment "+le)]),a.freshElement("dd",{},oe)]}function Re(V,xe,Te){return me(V).wrap(function(){return[]})}function me(V){var xe=J(V);return xe?xe.to:V.breakType==="line"?r.topLevelElement("br"):r.empty}var Le={document:function(V,xe,Te){var le=F(V.children,xe,Te),re=w.map(function(he){return V.notes.resolve(he)}),oe=F(re,xe,Te);return le.concat([a.freshElement("ol",{},oe),a.freshElement("dl",{},p(C,function(he){return Ae(he,xe,Te)}))])},paragraph:I,run:O,text:function(V,xe,Te){return[a.text(V.value)]},tab:function(V,xe,Te){return[a.text("	")]},hyperlink:function(V,xe,Te){var le=V.anchor?"#"+W(V.anchor):V.href,re={href:le};V.targetFrame!=null&&(re.target=V.targetFrame);var oe=F(V.children,xe,Te);return[a.nonFreshElement("a",re,oe)]},bookmarkStart:function(V,xe,Te){var le=a.freshElement("a",{id:W(V.name)},[a.forceWrite]);return[le]},noteReference:function(V,xe,Te){w.push(V);var le=a.freshElement("a",{href:"#"+z(V),id:Q(V)},[a.text("["+_+++"]")]);return[a.freshElement("sup",{},[le])]},note:function(V,xe,Te){var le=F(V.body,xe,Te),re=a.elementWithTag(r.element("p",{},{fresh:!1}),[a.text(" "),a.freshElement("a",{href:"#"+Q(V)},[a.text("")])]),oe=le.concat([re]);return a.freshElement("li",{id:z(V)},oe)},commentReference:fe,comment:Ae,image:f(ne(y.convertImage||s.dataUri)),table:Y,tableRow:ae,tableCell:de,break:Re};return{convertToHtml:k}}var u=1;function f(y){return function(b,_,w){return[{type:"deferred",id:u++,value:function(){return y(b,_,w)}}]}}function h(y,b){return i.warning("Unrecognised "+y+" style: '"+b.styleName+"' (Style ID: "+b.styleId+")")}function p(y,b){return t.flatten(y.map(b),!0)}function v(y,b){y.forEach(function(_){b(_),_.children&&v(_.children,b)})}var g=t2.commentAuthorLabel=function(b){return b.authorInitials||""};return t2}var c4={},tB;function C7e(){if(tB)return c4;tB=1;var t=uh();function e(n){if(n.type==="text")return n.value;if(n.type===t.types.tab)return"	";var r=n.type==="paragraph"?`

`:"";return(n.children||[]).map(e).join("")+r}return c4.convertElementToRawText=e,c4}var f0={},Ao={},u4={},d4={exports:{}},nB;function S7e(){if(nB)return d4.exports;nB=1;var t=d4.exports=function(e,n){this._tokens=e,this._startIndex=n||0};return t.prototype.head=function(){return this._tokens[this._startIndex]},t.prototype.tail=function(e){return new t(this._tokens,this._startIndex+1)},t.prototype.toArray=function(){return this._tokens.slice(this._startIndex)},t.prototype.end=function(){return this._tokens[this._tokens.length-1]},t.prototype.to=function(e){var n=this.head().source,r=e.head()||e.end();return n.to(r.source)},d4.exports}var rB;function D7e(){if(rB)return u4;rB=1;var t=S7e();return u4.Parser=function(e){var n=function(r,i){return r(new t(i))};return{parseTokens:n}},u4}var f4={},h4={},iB;function A7e(){return iB||(iB=1,(function(t){t.none=Object.create({value:function(){throw new Error("Called value on none")},isNone:function(){return!0},isSome:function(){return!1},map:function(){return t.none},flatMap:function(){return t.none},filter:function(){return t.none},toArray:function(){return[]},orElse:e,valueOrElse:e});function e(r){return typeof r=="function"?r():r}t.some=function(r){return new n(r)};var n=function(r){this._value=r};n.prototype.value=function(){return this._value},n.prototype.isNone=function(){return!1},n.prototype.isSome=function(){return!0},n.prototype.map=function(r){return new n(r(this._value))},n.prototype.flatMap=function(r){return r(this._value)},n.prototype.filter=function(r){return r(this._value)?this:t.none},n.prototype.toArray=function(){return[this._value]},n.prototype.orElse=function(r){return this},n.prototype.valueOrElse=function(r){return this._value},t.isOption=function(r){return r===t.none||r instanceof n},t.fromNullable=function(r){return r==null?t.none:new n(r)}})(h4)),h4}var p4,sB;function X6(){if(sB)return p4;sB=1,p4={failure:function(e,n){if(e.length<1)throw new Error("Failure must have errors");return new t({status:"failure",remaining:n,errors:e})},error:function(e,n){if(e.length<1)throw new Error("Failure must have errors");return new t({status:"error",remaining:n,errors:e})},success:function(e,n,r){return new t({status:"success",value:e,source:r,remaining:n,errors:[]})},cut:function(e){return new t({status:"cut",remaining:e,errors:[]})}};var t=function(e){this._value=e.value,this._status=e.status,this._hasValue=e.value!==void 0,this._remaining=e.remaining,this._source=e.source,this._errors=e.errors};return t.prototype.map=function(e){return this._hasValue?new t({value:e(this._value,this._source),status:this._status,remaining:this._remaining,source:this._source,errors:this._errors}):this},t.prototype.changeRemaining=function(e){return new t({value:this._value,status:this._status,remaining:e,source:this._source,errors:this._errors})},t.prototype.isSuccess=function(){return this._status==="success"||this._status==="cut"},t.prototype.isFailure=function(){return this._status==="failure"},t.prototype.isError=function(){return this._status==="error"},t.prototype.isCut=function(){return this._status==="cut"},t.prototype.value=function(){return this._value},t.prototype.remaining=function(){return this._remaining},t.prototype.source=function(){return this._source},t.prototype.errors=function(){return this._errors},p4}var m4={},aB;function ZY(){if(aB)return m4;aB=1,m4.error=function(e){return new t(e)};var t=function(e){this.expected=e.expected,this.actual=e.actual,this._location=e.location};return t.prototype.describe=function(){var e=this._location?this._location.describe()+`:
`:"";return e+"Expected "+this.expected+`
but got `+this.actual},t.prototype.lineNumber=function(){return this._location.lineNumber()},t.prototype.characterNumber=function(){return this._location.characterNumber()},m4}var g4={},oB;function N7e(){if(oB)return g4;oB=1,g4.fromArray=function(e){var n=0,r=function(){return n<e.length};return new t({hasNext:r,next:function(){if(r())return e[n++];throw new Error("No more elements")}})};var t=function(e){this._iterator=e};return t.prototype.map=function(e){var n=this._iterator;return new t({hasNext:function(){return n.hasNext()},next:function(){return e(n.next())}})},t.prototype.filter=function(e){var n=this._iterator,r=!1,i=!1,s,a=function(){if(!r)for(r=!0,i=!1;n.hasNext()&&!i;)s=n.next(),i=e(s)};return new t({hasNext:function(){return a(),i},next:function(){a();var o=s;return r=!1,o}})},t.prototype.first=function(){var e=this._iterator;return this._iterator.hasNext()?e.next():null},t.prototype.toArray=function(){for(var e=[];this._iterator.hasNext();)e.push(this._iterator.next());return e},g4}var lB;function eQ(){return lB||(lB=1,(function(t){var e=ii,n=A7e(),r=X6(),i=ZY(),s=N7e();t.token=function(h,p){var v=p!==void 0;return function(g){var y=g.head();if(y&&y.name===h&&(!v||y.value===p))return r.success(y.value,g.tail(),y.source);var b=u({name:h,value:p});return f(g,b)}},t.tokenOfType=function(h){return t.token(h)},t.firstOf=function(h,p){return e.isArray(p)||(p=Array.prototype.slice.call(arguments,1)),function(v){return s.fromArray(p).map(function(g){return g(v)}).filter(function(g){return g.isSuccess()||g.isError()}).first()||f(v,h)}},t.then=function(h,p){return function(v){var g=h(v);return g.map||console.log(g),g.map(p)}},t.sequence=function(){var h=Array.prototype.slice.call(arguments,0),p=function(g){var y=e.foldl(h,function(_,w){var C=_.result,S=_.hasCut;if(!C.isSuccess())return{result:C,hasCut:S};var R=w(C.remaining());if(R.isCut())return{result:C,hasCut:!0};if(R.isSuccess()){var D;w.isCaptured?D=C.value().withValue(w,R.value()):D=C.value();var N=R.remaining(),k=g.to(N);return{result:r.success(D,N,k),hasCut:S}}else return S?{result:r.error(R.errors(),R.remaining()),hasCut:S}:{result:R,hasCut:S}},{result:r.success(new a,g),hasCut:!1}).result,b=g.to(y.remaining());return y.map(function(_){return _.withValue(t.sequence.source,b)})};p.head=function(){var g=e.find(h,v);return t.then(p,t.sequence.extract(g))},p.map=function(g){return t.then(p,function(y){return g.apply(this,y.toArray())})};function v(g){return g.isCaptured}return p};var a=function(h,p){this._values=h||{},this._valuesArray=p||[]};a.prototype.withValue=function(h,p){if(h.captureName&&h.captureName in this._values)throw new Error('Cannot add second value for capture "'+h.captureName+'"');var v=e.clone(this._values);v[h.captureName]=p;var g=this._valuesArray.concat([p]);return new a(v,g)},a.prototype.get=function(h){if(h.captureName in this._values)return this._values[h.captureName];throw new Error('No value for capture "'+h.captureName+'"')},a.prototype.toArray=function(){return this._valuesArray},t.sequence.capture=function(h,p){var v=function(){return h.apply(this,arguments)};return v.captureName=p,v.isCaptured=!0,v},t.sequence.extract=function(h){return function(p){return p.get(h)}},t.sequence.applyValues=function(h){var p=Array.prototype.slice.call(arguments,1);return function(v){var g=p.map(function(y){return v.get(y)});return h.apply(this,g)}},t.sequence.source={captureName:"source"},t.sequence.cut=function(){return function(h){return r.cut(h)}},t.optional=function(h){return function(p){var v=h(p);return v.isSuccess()?v.map(n.some):v.isFailure()?r.success(n.none,p):v}},t.zeroOrMoreWithSeparator=function(h,p){return c(h,p,!1)},t.oneOrMoreWithSeparator=function(h,p){return c(h,p,!0)};var o=t.zeroOrMore=function(h){return function(p){for(var v=[],g;(g=h(p))&&g.isSuccess();)p=g.remaining(),v.push(g.value());return g.isError()?g:r.success(v,p)}};t.oneOrMore=function(h){return t.oneOrMoreWithSeparator(h,l)};function l(h){return r.success(null,h)}var c=function(h,p,v){return function(g){var y=h(g);if(y.isSuccess()){var b=t.sequence.capture(h,"main"),_=o(t.then(t.sequence(p,b),t.sequence.extract(b))),w=_(y.remaining());return r.success([y.value()].concat(w.value()),w.remaining())}else return v||y.isError()?y:r.success([],g)}};t.leftAssociative=function(h,p,v){var g;v?g=[{func:v,rule:p}]:g=p,g=g.map(function(b){return t.then(b.rule,function(_){return function(w,C){return b.func(w,_,C)}})});var y=t.firstOf.apply(null,["rules"].concat(g));return function(b){var _=b,w=h(b);if(!w.isSuccess())return w;for(var C=y(w.remaining());C.isSuccess();){var S=C.remaining(),R=_.to(C.remaining()),D=C.value();w=r.success(D(w.value(),R),S,R),C=y(w.remaining())}return C.isError()?C:w}},t.leftAssociative.firstOf=function(){return Array.prototype.slice.call(arguments,0)},t.nonConsuming=function(h){return function(p){return h(p).changeRemaining(p)}};var u=function(h){return h.value?h.name+' "'+h.value+'"':h.name};function f(h,p){var v,g=h.head();return g?v=i.error({expected:p,actual:u(g),location:g.source}):v=i.error({expected:p,actual:"end of tokens"}),r.failure([v],h)}})(f4)),f4}var y4={exports:{}},cB;function tQ(){if(cB)return y4.exports;cB=1,y4.exports=function(e,n){var r={asString:function(){return e},range:function(i,s){return new t(e,n,i,s)}};return r};var t=function(e,n,r,i){this._string=e,this._description=n,this._startIndex=r,this._endIndex=i};return t.prototype.to=function(e){return new t(this._string,this._description,this._startIndex,e._endIndex)},t.prototype.describe=function(){var e=this._position(),n=this._description?this._description+`
`:"";return n+"Line number: "+e.lineNumber+`
Character number: `+e.characterNumber},t.prototype.lineNumber=function(){return this._position().lineNumber},t.prototype.characterNumber=function(){return this._position().characterNumber},t.prototype._position=function(){for(var e=this,n=0,r=function(){return e._string.indexOf(`
`,n)},i=1;r()!==-1&&r()<this._startIndex;)n=r()+1,i+=1;var s=this._startIndex-n+1;return{lineNumber:i,characterNumber:s}},y4.exports}var v4,uB;function nQ(){return uB||(uB=1,v4=function(t,e,n){this.name=t,this.value=e,n&&(this.source=n)}),v4}var x4={},dB;function I7e(){return dB||(dB=1,(function(t){var e=eQ(),n=X6();t.parser=function(s,a,o){var l={rule:h,leftAssociative:p,rightAssociative:v},c=new r(o.map(f)),u=e.firstOf(s,a);function f(b){return{name:b.name,rule:i(b.ruleBuilder.bind(null,l))}}function h(){return g(c)}function p(b){return g(c.untilExclusive(b))}function v(b){return g(c.untilInclusive(b))}function g(b){return y.bind(null,b)}function y(b,_){var w=u(_);return w.isSuccess()?b.apply(w):w}return l};function r(s){function a(f){return new r(s.slice(0,l().indexOf(f)))}function o(f){return new r(s.slice(0,l().indexOf(f)+1))}function l(){return s.map(function(f){return f.name})}function c(f){for(var h,p;;)if(h=u(f.remaining()),h.isSuccess())p=f.source().to(h.source()),f=n.success(h.value()(f.value(),p),h.remaining(),p);else return h.isFailure()?f:h}function u(f){return e.firstOf("infix",s.map(function(h){return h.rule}))(f)}return{apply:c,untilExclusive:a,untilInclusive:o}}t.infix=function(s,a){function o(l){return t.infix(s,function(c){var u=a(c);return function(f){var h=u(f);return h.map(function(p){return function(v,g){return l(v,p,g)}})}})}return{name:s,ruleBuilder:a,map:o}};var i=function(s){var a;return function(o){return a||(a=s()),a(o)}}})(x4)),x4}var _4={},fB;function k7e(){if(fB)return _4;fB=1;var t=nQ(),e=tQ();_4.RegexTokeniser=n;function n(r){r=r.map(function(o){return{name:o.name,regex:new RegExp(o.regex.source,"g")}});function i(o,l){for(var c=new e(o,l),u=0,f=[];u<o.length;){var h=s(o,u,c);u=h.endIndex,f.push(h.token)}return f.push(a(o,c)),f}function s(o,l,c){for(var u=0;u<r.length;u++){var f=r[u].regex;f.lastIndex=l;var h=f.exec(o);if(h){var v=l+h[0].length;if(h.index===l&&v>l){var p=h[1],g=new t(r[u].name,p,c.range(l,v));return{token:g,endIndex:v}}}}var v=l+1,g=new t("unrecognisedCharacter",o.substring(l,v),c.range(l,v));return{token:g,endIndex:v}}function a(o,l){return new t("end",null,l.range(o.length,o.length))}return{tokenise:i}}return _4}var hB;function rQ(){return hB||(hB=1,Ao.Parser=D7e().Parser,Ao.rules=eQ(),Ao.errors=ZY(),Ao.results=X6(),Ao.StringSource=tQ(),Ao.Token=nQ(),Ao.bottomUp=I7e(),Ao.RegexTokeniser=k7e().RegexTokeniser,Ao.rule=function(t){var e;return function(n){return e||(e=t()),e(n)}}),Ao}var $i={},pB;function R7e(){if(pB)return $i;pB=1,$i.paragraph=t,$i.run=e,$i.table=n,$i.bold=new r("bold"),$i.italic=new r("italic"),$i.underline=new r("underline"),$i.strikethrough=new r("strikethrough"),$i.allCaps=new r("allCaps"),$i.smallCaps=new r("smallCaps"),$i.commentReference=new r("commentReference"),$i.lineBreak=new r("break",{breakType:"line"}),$i.pageBreak=new r("break",{breakType:"page"}),$i.columnBreak=new r("break",{breakType:"column"}),$i.equalTo=s,$i.startsWith=a;function t(c){return new r("paragraph",c)}function e(c){return new r("run",c)}function n(c){return new r("table",c)}function r(c,u){u=u||{},this._elementType=c,this._styleId=u.styleId,this._styleName=u.styleName,u.list&&(this._listIndex=u.list.levelIndex,this._listIsOrdered=u.list.isOrdered)}r.prototype.matches=function(c){return c.type===this._elementType&&(this._styleId===void 0||c.styleId===this._styleId)&&(this._styleName===void 0||c.styleName&&this._styleName.operator(this._styleName.operand,c.styleName))&&(this._listIndex===void 0||i(c,this._listIndex,this._listIsOrdered))&&(this._breakType===void 0||this._breakType===c.breakType)};function i(c,u,f){return c.numbering&&c.numbering.level==u&&c.numbering.isOrdered==f}function s(c){return{operator:o,operand:c}}function a(c){return{operator:l,operand:c}}function o(c,u){return c.toUpperCase()===u.toUpperCase()}function l(c,u){return u.toUpperCase().indexOf(c.toUpperCase())===0}return $i}var b4={},mB;function P7e(){if(mB)return b4;mB=1;var t=rQ(),e=t.RegexTokeniser;b4.tokenise=r;var n="'((?:\\\\.|[^'])*)";function r(i){var s="(?:[a-zA-Z\\-_]|\\\\.)",a=new e([{name:"identifier",regex:new RegExp("("+s+"(?:"+s+"|[0-9])*)")},{name:"dot",regex:/\./},{name:"colon",regex:/:/},{name:"gt",regex:/>/},{name:"whitespace",regex:/\s+/},{name:"arrow",regex:/=>/},{name:"equals",regex:/=/},{name:"startsWith",regex:/\^=/},{name:"open-paren",regex:/\(/},{name:"close-paren",regex:/\)/},{name:"open-square-bracket",regex:/\[/},{name:"close-square-bracket",regex:/\]/},{name:"string",regex:new RegExp(n+"'")},{name:"unterminated-string",regex:new RegExp(n)},{name:"integer",regex:/([0-9]+)/},{name:"choice",regex:/\|/},{name:"bang",regex:/(!)/}]);return a.tokenise(i)}return b4}var gB;function F7e(){if(gB)return f0;gB=1;var t=ii,e=rQ(),n=R7e(),r=dT(),i=P7e().tokenise,s=_c();f0.readHtmlPath=u,f0.readDocumentMatcher=l,f0.readStyle=a;function a(N){return C(D,N)}function o(){return e.rules.sequence(e.rules.sequence.capture(c()),e.rules.tokenOfType("whitespace"),e.rules.tokenOfType("arrow"),e.rules.sequence.capture(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("whitespace"),e.rules.sequence.capture(f())).head())),e.rules.tokenOfType("end")).map(function(N,k){return{from:N,to:k.valueOrElse(r.empty)}})}function l(N){return C(c(),N)}function c(){var N=e.rules.sequence,k=function(fe,Ae){return e.rules.then(e.rules.token("identifier",fe),function(){return Ae})},F=k("p",n.paragraph),P=k("r",n.run),I=e.rules.firstOf("p or r or table",F,P),U=e.rules.sequence(e.rules.tokenOfType("dot"),e.rules.sequence.cut(),e.rules.sequence.capture(h)).map(function(fe){return{styleId:fe}}),O=e.rules.firstOf("style name matcher",e.rules.then(e.rules.sequence(e.rules.tokenOfType("equals"),e.rules.sequence.cut(),e.rules.sequence.capture(v)).head(),function(fe){return{styleName:n.equalTo(fe)}}),e.rules.then(e.rules.sequence(e.rules.tokenOfType("startsWith"),e.rules.sequence.cut(),e.rules.sequence.capture(v)).head(),function(fe){return{styleName:n.startsWith(fe)}})),K=e.rules.sequence(e.rules.tokenOfType("open-square-bracket"),e.rules.sequence.cut(),e.rules.token("identifier","style-name"),e.rules.sequence.capture(O),e.rules.tokenOfType("close-square-bracket")).head(),X=e.rules.firstOf("list type",k("ordered-list",{isOrdered:!0}),k("unordered-list",{isOrdered:!1})),J=N(e.rules.tokenOfType("colon"),N.capture(X),N.cut(),e.rules.tokenOfType("open-paren"),N.capture(p),e.rules.tokenOfType("close-paren")).map(function(fe,Ae){return{list:{isOrdered:fe.isOrdered,levelIndex:Ae-1}}});function ne(fe){var Ae=e.rules.firstOf.apply(e.rules.firstOf,["matcher suffix"].concat(fe)),Re=e.rules.zeroOrMore(Ae);return e.rules.then(Re,function(me){var Le={};return me.forEach(function(V){t.extend(Le,V)}),Le})}var z=N(N.capture(I),N.capture(ne([U,K,J]))).map(function(fe,Ae){return fe(Ae)}),Q=N(e.rules.token("identifier","table"),N.capture(ne([U,K]))).map(function(fe){return n.table(fe)}),B=k("b",n.bold),j=k("i",n.italic),W=k("u",n.underline),G=k("strike",n.strikethrough),Y=k("all-caps",n.allCaps),ee=k("small-caps",n.smallCaps),ae=k("comment-reference",n.commentReference),de=N(e.rules.token("identifier","br"),N.cut(),e.rules.tokenOfType("open-square-bracket"),e.rules.token("identifier","type"),e.rules.tokenOfType("equals"),N.capture(v),e.rules.tokenOfType("close-square-bracket")).map(function(fe){switch(fe){case"line":return n.lineBreak;case"page":return n.pageBreak;case"column":return n.columnBreak}});return e.rules.firstOf("element type",z,Q,B,j,W,G,Y,ee,ae,de)}function u(N){return C(f(),N)}function f(){var N=e.rules.sequence.capture,k=e.rules.tokenOfType("whitespace"),F=e.rules.then(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("colon"),e.rules.token("identifier","fresh"))),function(O){return O.map(function(){return!0}).valueOrElse(!1)}),P=e.rules.then(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("colon"),e.rules.token("identifier","separator"),e.rules.tokenOfType("open-paren"),N(v),e.rules.tokenOfType("close-paren")).head()),function(O){return O.valueOrElse("")}),I=e.rules.oneOrMoreWithSeparator(h,e.rules.tokenOfType("choice")),U=e.rules.sequence(N(I),N(e.rules.zeroOrMore(w)),N(F),N(P)).map(function(O,K,X,J){var ne={},z={};return K.forEach(function(Q){Q.append&&ne[Q.name]?ne[Q.name]+=" "+Q.value:ne[Q.name]=Q.value}),X&&(z.fresh=!0),J&&(z.separator=J),r.element(O,ne,z)});return e.rules.firstOf("html path",e.rules.then(e.rules.tokenOfType("bang"),function(){return r.ignore}),e.rules.then(e.rules.zeroOrMoreWithSeparator(U,e.rules.sequence(k,e.rules.tokenOfType("gt"),k)),r.elements))}var h=e.rules.then(e.rules.tokenOfType("identifier"),y),p=e.rules.tokenOfType("integer"),v=e.rules.then(e.rules.tokenOfType("string"),y),g={n:`
`,r:"\r",t:"	"};function y(N){return N.replace(/\\(.)/g,function(k,F){return g[F]||F})}var b=e.rules.sequence(e.rules.tokenOfType("open-square-bracket"),e.rules.sequence.cut(),e.rules.sequence.capture(h),e.rules.tokenOfType("equals"),e.rules.sequence.capture(v),e.rules.tokenOfType("close-square-bracket")).map(function(N,k){return{name:N,value:k,append:!1}}),_=e.rules.sequence(e.rules.tokenOfType("dot"),e.rules.sequence.cut(),e.rules.sequence.capture(h)).map(function(N){return{name:"class",value:N,append:!0}}),w=e.rules.firstOf("attribute or class",b,_);function C(N,k){var F=i(k),P=e.Parser(),I=P.parseTokens(N,F);return I.isSuccess()?s.success(I.value()):new s.Result(null,[s.warning(S(k,I))])}function S(N,k){return"Did not understand this style mapping, so ignored it: "+N+`
`+k.errors().map(R).join(`
`)}function R(N){return"Error was at character number "+N.characterNumber()+": Expected "+N.expected+" but got "+N.actual}var D=o();return f0}var h0={},yB;function M7e(){if(yB)return h0;yB=1,h0.readOptions=r;var t=ii,e=h0._defaultStyleMap=["p.Heading1 => h1:fresh","p.Heading2 => h2:fresh","p.Heading3 => h3:fresh","p.Heading4 => h4:fresh","p.Heading5 => h5:fresh","p.Heading6 => h6:fresh","p[style-name='Heading 1'] => h1:fresh","p[style-name='Heading 2'] => h2:fresh","p[style-name='Heading 3'] => h3:fresh","p[style-name='Heading 4'] => h4:fresh","p[style-name='Heading 5'] => h5:fresh","p[style-name='Heading 6'] => h6:fresh","p[style-name='heading 1'] => h1:fresh","p[style-name='heading 2'] => h2:fresh","p[style-name='heading 3'] => h3:fresh","p[style-name='heading 4'] => h4:fresh","p[style-name='heading 5'] => h5:fresh","p[style-name='heading 6'] => h6:fresh","r[style-name='Strong'] => strong","p[style-name='footnote text'] => p:fresh","r[style-name='footnote reference'] =>","p[style-name='endnote text'] => p:fresh","r[style-name='endnote reference'] =>","p[style-name='annotation text'] => p:fresh","r[style-name='annotation reference'] =>","p[style-name='Footnote'] => p:fresh","r[style-name='Footnote anchor'] =>","p[style-name='Endnote'] => p:fresh","r[style-name='Endnote anchor'] =>","p:unordered-list(1) => ul > li:fresh","p:unordered-list(2) => ul|ol > li > ul > li:fresh","p:unordered-list(3) => ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:ordered-list(1) => ol > li:fresh","p:ordered-list(2) => ul|ol > li > ol > li:fresh","p:ordered-list(3) => ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","r[style-name='Hyperlink'] =>","p[style-name='Normal'] => p:fresh"],n=h0._standardOptions={transformDocument:s,includeDefaultStyleMap:!0,includeEmbeddedStyleMap:!0};function r(a){return a=a||{},t.extend({},n,a,{customStyleMap:i(a.styleMap),readStyleMap:function(){var o=this.customStyleMap;return this.includeEmbeddedStyleMap&&(o=o.concat(i(this.embeddedStyleMap))),this.includeDefaultStyleMap&&(o=o.concat(e)),o}})}function i(a){return a?t.isString(a)?a.split(`
`).map(function(o){return o.trim()}).filter(function(o){return o!==""&&o.charAt(0)!=="#"}):a:[]}function s(a){return a}return h0}var w4={},vB;function U7e(){if(vB)return w4;vB=1;var t=dd(),e=zY();w4.openZip=n;function n(r){return r.arrayBuffer?t.resolve(e.openArrayBuffer(r.arrayBuffer)):t.reject(new Error("Could not find file in options"))}return w4}var Ud={},xB;function O7e(){if(xB)return Ud;xB=1;var t=ii;Ud.paragraph=e,Ud.run=n,Ud._elements=i,Ud.getDescendantsOfType=s,Ud.getDescendants=a;function e(l){return r("paragraph",l)}function n(l){return r("run",l)}function r(l,c){return i(function(u){return u.type===l?c(u):u})}function i(l){return function c(u){if(u.children){var f=t.map(u.children,c);u=t.extend(u,{children:f})}return l(u)}}function s(l,c){return a(l).filter(function(u){return u.type===c})}function a(l){var c=[];return o(l,function(u){c.push(u)}),c}function o(l,c){l.children&&l.children.forEach(function(u){o(u,c),c(u)})}return Ud}var T4={},_B;function L7e(){if(_B)return T4;_B=1;var t=dT(),e=uT();T4.element=n;function n(r){return function(i){return e.elementWithTag(t.element(r),[i])}}return T4}var bB;function j7e(){if(bB)return Wa;bB=1;var t=ii,e=v7e(),n=x7e(),r=E7e().DocumentConverter,i=C7e().convertElementToRawText,s=F7e().readStyle,a=M7e().readOptions,o=U7e(),l=_c().Result;Wa.convertToHtml=c,Wa.convertToMarkdown=u,Wa.convert=f,Wa.extractRawText=g,Wa.images=QY(),Wa.transforms=O7e(),Wa.underline=L7e(),Wa.embedStyleMap=y,Wa.readEmbeddedStyleMap=h;function c(b,_){return f(b,_)}function u(b,_){var w=Object.create(_||{});return w.outputFormat="markdown",f(b,w)}function f(b,_){return _=a(_),o.openZip(b).tap(function(w){return n.readStyleMap(w).then(function(C){_.embeddedStyleMap=C})}).then(function(w){return e.read(w,b).then(function(C){return C.map(_.transformDocument)}).then(function(C){return p(C,_)})})}function h(b){return o.openZip(b).then(n.readStyleMap)}function p(b,_){var w=v(_.readStyleMap()),C=t.extend({},_,{styleMap:w.value}),S=new r(C);return b.flatMapThen(function(R){return w.flatMapThen(function(D){return S.convertToHtml(R)})})}function v(b){return l.combine((b||[]).map(s)).map(function(_){return _.filter(function(w){return!!w})})}function g(b){return o.openZip(b).then(e.read).then(function(_){return _.map(i)})}function y(b,_){return o.openZip(b).tap(function(w){return n.writeStyleMap(w,_)}).then(function(w){return w.toArrayBuffer()}).then(function(w){return{toArrayBuffer:function(){return w},toBuffer:function(){return Buffer.from(w)}}})}return Wa.styleMapping=function(){throw new Error(`Use a raw string instead of mammoth.styleMapping e.g. "p[style-name='Title'] => h1" instead of mammoth.styleMapping("p[style-name='Title'] => h1")`)},Wa}var B7e=j7e();const V7e={locale:"ar",messages:{ar:{assetManager:{title:" ",upload:" ",add:"","add-image":" ","drop-files":"      ",close:""},styleManager:{title:" ","no-properties":"   ",properties:{width:"",height:"",padding:" ",margin:" ","background-color":" ",color:" ","font-family":" ","font-size":" ",border:"","text-align":" ",top:"",right:"",bottom:"",left:""}},layerManager:{title:"",root:""},blockManager:{title:"","search-placeholder":"..."},traitManager:{title:" ",traits:{alt:" ",title:"",href:""}},selectorManager:{title:" (Classes)","label-state":"","selected-title":"","empty-state":"  ",states:{hover:" ",active:" ","nth-of-type(2n)":"/"}},panels:{buttons:{titles:{preview:"",fullscreen:" ","export-template":" ","sw-visibility":" ","open-sm":"","open-tm":"","open-layers":"","open-blocks":"","device-desktop":" ","device-tablet":" ","device-mobile":"",undo:"",redo:""}}},"grapesjs-preset-webpage":{blocks:{text:{name:""},image:{name:""},link:{name:""},video:{name:""},map:{name:""},column1:{name:" "},column2:{name:""},column3:{name:"3 "},quote:{name:""},section:{name:""},divider:{name:""}}}}}},wB={:"red",:"red",:"blue",:"blue",:"green",:"green",:"yellow",:"yellow",:"black",:"black",:"white",:"white",:"orange",:"purple",:"pink",:"gray",:"red",:"red",:"blue",:"blue",:"green",:"green",:"yellow",:"yellow",:"black",:"black",:"white",:"white",:"orange",:"purple",:"pink",:"gray"},W7e={bold:/(|| | | | | |  |  |    | | | | ||||| )/i,increaseFontSize:/(|  | | |  |  |  | |  |  | ||| | )/i,justifyCenter:/(|  | |  |  | | |   |  |   | |  |  | |||)/i,justifyRight:/(|  | |  | | |   |  |   | |  |  | ||)/i,justifyLeft:/(|  | |  | | |   |  |   | |  |  | ||)/i,underline:/(|  |  |  |  |  | |    |   | |  | |  ||| | | )/i,foreColor:/( | | | )?(|||||||||||||||)/i,backColor:/( |  |  )?(|||||||||||||||)/i,cut:/(| || |  )/i,copy:/(||| |  )/i,paste:/(|| | )/i,delete:/(||| )/i,replaceImage:/( | ||)/i},q7e=t=>t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,""),iQ=({initialContent:t,docToEdit:e,onClose:n})=>{const{user:r}=Ar(),{cafes:i,codes:s}=nn(),a=q.useMemo(()=>s.map(V=>V.key),[s]),[o,l]=q.useState("visual"),[c,u]=q.useState(t.body),[f,h]=q.useState(t.styles),[p,v]=q.useState((e==null?void 0:e.name)||t.name),[g,y]=q.useState((e==null?void 0:e.description)||""),[b,_]=q.useState((e==null?void 0:e.tags)||""),w=q.useRef(null),C=q.useRef(null),S=q.useRef(null),[R,D]=q.useState(!1),N=q.useRef(null),k=q.useRef(null),F=q.useRef(null),[P,I]=q.useState(!1),[U,O]=q.useState(""),[K,X]=q.useState(!1),[J,ne]=q.useState(!1),[z,Q]=q.useState(!1),[B,j]=q.useState(null),W=q.useRef(null),G=q.useRef(!1);q.useEffect(()=>{const V=xe=>{W.current&&!W.current.contains(xe.target)&&ne(!1)};return document.addEventListener("mousedown",V),()=>document.removeEventListener("mousedown",V)},[]),q.useEffect(()=>{if(o==="visual"){const V=w.current;if(V){const xe=V.contentDocument;if(xe){const Te=`<!DOCTYPE html><html lang="ar" dir="rtl"><head><meta charset="UTF-8"><style>${f}</style></head><body>${c}</body></html>`;xe.open(),xe.write(Te),xe.close(),xe.body.contentEditable="true"}}}else if(o==="grapesjs"&&!S.current&&C.current){const V=grapesjs.init({container:C.current,plugins:["gjs-preset-webpage"],pluginsOpts:{"gjs-preset-webpage":{forms:!1,navbar:!1}},storageManager:!1,canvas:{styles:["https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap"]},i18n:V7e});V.setComponents(c),V.setStyle(f),S.current=V}},[o,c,f]);const Y=q.useCallback(V=>{var Te,le;const xe=(Te=w.current)==null?void 0:Te.contentDocument;if(xe)for(const[re,oe]of Object.entries(W7e)){const he=V.match(oe);if(he){if(re==="replaceImage"){const we=xe.getSelection();if(we&&!we.isCollapsed&&we.rangeCount>0){const ce=we.getRangeAt(0).commonAncestorContainer;let ge=null;ce.nodeName==="IMG"?ge=ce:ce.nodeType===Node.ELEMENT_NODE&&(ge=ce.querySelector("img")),ge&&(F.current=ge,(le=k.current)==null||le.click())}return}if(re==="foreColor"||re==="backColor"){const we=he.find(ie=>ie&&wB[ie]);if(we){const ie=wB[we],ce=re==="foreColor"?"foreColor":"hiliteColor",ge=xe.getSelection();ce==="hiliteColor"&&(ge!=null&&ge.isCollapsed)?xe.body.style.backgroundColor=ie:xe.execCommand(ce,!1,ie)}}else xe.execCommand(re,!1,void 0);return}}},[]);q.useEffect(()=>{const V=window.SpeechRecognition||window.webkitSpeechRecognition;if(V)return N.current=new V,N.current.continuous=!0,N.current.interimResults=!1,N.current.lang="ar-SA",N.current.onstart=()=>{G.current=!0,D(!0)},N.current.onend=()=>{if(G.current){console.log("Speech recognition stopped unexpectedly. Restarting...");try{N.current.start()}catch(xe){console.error("Could not restart speech recognition:",xe),G.current=!1,D(!1)}}else D(!1)},N.current.onerror=xe=>{console.error("Speech error:",xe.error),G.current=!1,D(!1)},N.current.onresult=xe=>{let Te="";for(let le=xe.resultIndex;le<xe.results.length;++le)xe.results[le].isFinal&&(Te+=xe.results[le][0].transcript);Te.trim()&&Y(Te.trim())},()=>{G.current=!1,N.current&&N.current.abort()}},[Y]);const ee=()=>{var V;o==="visual"&&w.current?(u(((V=w.current.contentDocument)==null?void 0:V.body.innerHTML)||c),l("grapesjs")):o==="grapesjs"&&S.current&&(u(S.current.getHtml()),h(S.current.getCss()),S.current.destroy(),S.current=null,l("visual"))},ae=async()=>{var V;I(!0),O("");try{let xe=c,Te=f;o==="grapesjs"&&S.current?(xe=S.current.getHtml(),Te=S.current.getCss()):o==="visual"&&w.current&&(xe=((V=w.current.contentDocument)==null?void 0:V.body.innerHTML)||c);const le=H0(xe);await Dme({previewHtml:xe,templateHtml:xe,sharedStyles:Te,fileNameBase:e?e.id:q7e(p),docToEdit:e,prompt:p,description:g,tags:b,requiredFields:le,complexFields:(e==null?void 0:e.complexFields)||[]}),alert("   !"),n()}catch(xe){console.error("Publishing error:",xe),O(xe instanceof Error?xe.message:"     .")}finally{I(!1)}},de=V=>{var Te;const xe=(Te=V.target.files)==null?void 0:Te[0];if(xe&&F.current){const le=new FileReader;le.onload=re=>{var oe;F.current&&((oe=re.target)!=null&&oe.result)&&(F.current.src=re.target.result),F.current=null,V.target&&(V.target.value="")},le.readAsDataURL(xe)}},fe=()=>{const V=w.current;if(V&&V.contentDocument){const xe=window.open("","_blank");xe==null||xe.document.write(`<html><head><title>Print</title><style>${f}</style></head><body>${V.contentDocument.body.innerHTML}</body></html>`),xe==null||xe.document.close(),xe==null||xe.focus(),xe==null||xe.print()}},Ae=()=>{N.current&&(R?(G.current=!1,N.current.stop()):(G.current=!0,N.current.start()))},Re=async()=>{var V,xe;ne(!1),Q(!0),O("");try{const Te=((xe=(V=w.current)==null?void 0:V.contentDocument)==null?void 0:xe.body.innerHTML)||c,le=mge(Te,a);u("");for await(const re of le)u(oe=>oe+re)}catch(Te){O(Te instanceof Error?Te.message:"AI task failed.")}finally{Q(!1)}},me=async()=>{var V,xe;ne(!1),Q(!0),O("");try{const Te=((xe=(V=w.current)==null?void 0:V.contentDocument)==null?void 0:xe.body.innerHTML)||c,le=await gge(Te);j(JSON.stringify(le,null,2))}catch(Te){O(Te instanceof Error?Te.message:"AI task failed.")}finally{Q(!1)}},Le=()=>{if(!B)return;const V=new Blob([B],{type:"application/json"}),xe=URL.createObjectURL(V),Te=document.createElement("a");Te.href=xe,Te.download=`${p.replace(/\s+/g,"_")}.json`,document.body.appendChild(Te),Te.click(),document.body.removeChild(Te),URL.revokeObjectURL(xe)};return d.jsxs("div",{className:"fixed inset-0 bg-gray-800 z-[100] flex flex-col p-4",children:[d.jsx("input",{type:"file",ref:k,onChange:de,accept:"image/*",className:"hidden"}),d.jsxs("header",{className:"flex-shrink-0 bg-gray-900 text-white p-3 flex justify-between items-center rounded-t-lg",children:[d.jsx("h2",{className:"font-bold",children:o==="visual"?"  /":"  (GrapesJS)"}),d.jsxs("div",{className:"flex items-center gap-3",children:[o==="visual"&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:Ae,className:`p-2 rounded-full transition-colors ${R?"bg-red-500 text-white animate-pulse":"bg-gray-700 hover:bg-gray-600"}`,title:"/  ",children:R?d.jsx(yc,{}):d.jsx(nk,{})}),d.jsxs("div",{className:"relative",ref:W,children:[d.jsx("button",{onClick:()=>ne(V=>!V),className:"p-2 bg-purple-600 hover:bg-purple-700 rounded-full text-white",title:"  ",disabled:z,children:z?d.jsx(Ct,{className:"animate-spin"}):d.jsx(na,{})}),J&&d.jsx("div",{className:"absolute top-full right-0 mt-2 w-64 bg-white rounded-lg shadow-xl border z-10",children:d.jsxs("ul",{className:"py-1 text-gray-700 text-sm",children:[d.jsx("li",{children:d.jsx("button",{onClick:Re,className:"w-full text-right px-4 py-2 hover:bg-gray-100",children:"   (Placeholders)"})}),d.jsx("li",{children:d.jsx("button",{onClick:me,className:"w-full text-right px-4 py-2 hover:bg-gray-100",children:"   (JSON)"})})]})})]}),d.jsx("button",{onClick:()=>X(!0),className:"p-2 bg-gray-700 hover:bg-gray-600 rounded-full",title:" ",children:d.jsx(NH,{})})]}),d.jsx("button",{onClick:ee,className:"p-2 bg-gray-700 hover:bg-gray-600 rounded-full",title:o==="visual"?"   ":"   ",children:o==="visual"?d.jsx(vw,{}):d.jsx($A,{})}),d.jsxs("button",{onClick:fe,className:"bg-blue-600 hover:bg-blue-700 p-2 rounded-md",title:"",children:[" ",d.jsx(bw,{})," "]}),d.jsxs("button",{onClick:ae,disabled:P,className:"bg-green-600 hover:bg-green-700 p-2 rounded-md",title:" ",children:[" ",P?d.jsx(Ct,{className:"animate-spin"}):d.jsx(ww,{})," "]}),d.jsxs("button",{onClick:n,className:"bg-red-600 hover:bg-red-700 p-2 rounded-full",title:"  ",children:[" ",d.jsx(kf,{})," "]})]})]}),U&&d.jsx("p",{className:"text-red-400 bg-red-900 p-2 text-xs text-center",children:U}),d.jsx("div",{className:"flex-grow bg-gray-700 p-2 rounded-b-lg",children:o==="visual"?d.jsx("iframe",{ref:w,title:"Visual Editor",className:"w-full h-full border-0 bg-white shadow-lg"}):d.jsx("div",{ref:C,className:"h-full",id:"gjs-editor"})}),K&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-[101] flex justify-center items-center p-4",onClick:()=>X(!1),children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl text-gray-800",onClick:V=>V.stopPropagation(),children:[d.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[d.jsx("h2",{className:"text-2xl font-bold",children:" "}),d.jsx("button",{onClick:()=>X(!1),className:"text-gray-400 hover:text-gray-600",children:d.jsx(kf,{size:20})})]}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"docNameModal",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",id:"docNameModal",value:p,onChange:V=>v(V.target.value),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"docDescriptionModal",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("textarea",{id:"docDescriptionModal",rows:3,value:g,onChange:V=>y(V.target.value),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"docTagsModal",className:"block text-sm font-medium text-gray-700 mb-1",children:" ( )"}),d.jsx("input",{type:"text",id:"docTagsModal",value:b,onChange:V=>_(V.target.value),placeholder:":  , , ",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]})]}),d.jsx("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:d.jsx("button",{type:"button",onClick:()=>X(!1),className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:" "})})]})}),B&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-[102] flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl text-gray-800 flex flex-col h-[70vh]",children:[d.jsx("h3",{className:"p-4 border-b font-bold text-lg",children:" JSON "}),d.jsx("pre",{className:"flex-grow p-4 bg-gray-900 text-green-300 text-sm overflow-auto",dir:"ltr",children:B}),d.jsxs("div",{className:"p-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{onClick:()=>j(null),className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg",children:""}),d.jsx("button",{onClick:Le,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg",children:""})]})]})})]})},$7e=t=>{const e=t.match(/\d+/);return e?parseInt(e[0],10):null},z7e=(t,e)=>{let n=t.toLowerCase().trim();const r={actions:[],raw:t};for(const o of e.actions.replace){const l=new RegExp(`${o}\\s+(.+)`),c=n.match(l);if(c&&c[1])return r.actions.push({intent:"replace",newText:c[1].trim()}),r}for(const o of e.actions.paste)for(const l of["before","after"])for(const c of e.positions[l]){const u=new RegExp(`${o}\\s+${c}\\s+(.+)`),f=n.match(u);if(f&&f[1])return r.actions.push({intent:"paste",pastePosition:l,pasteTarget:f[1].trim()}),r}for(const o of e.actions.createList)if(n.includes(o)){let l="bullet";e.listTypes.numbered.some(c=>n.includes(c))&&(l="numbered");for(const c of e.actions.addListItem){const u=n.indexOf(c);if(u!==-1){const f=n.substring(u+c.length).trim(),h=new RegExp(`\\s+(?:${e.listSeparators.newLine.join("|")}|${e.conjunctions.join("|")})\\s+`,"g"),p=f.split(h).map(v=>v.replace(new RegExp(`^(${e.actions.addListItem.join("|")})\\s*`),"").trim()).filter(Boolean);if(p.length>0)return r.actions.push({intent:"createList",listType:l,listItems:p}),r}}return r.actions.push({intent:"createList",listType:l,listItems:[]}),r}const i=[{intent:"delete",keywords:e.actions.delete},{intent:"copy",keywords:e.actions.copy},{intent:"paste",keywords:e.actions.paste},{intent:"addListItem",keywords:e.actions.addListItem},{intent:"newLine",keywords:e.listSeparators.newLine}];for(const o of i)for(const l of o.keywords)if(n.includes(l)){let c=n.replace(l,"").trim();return o.intent==="addListItem"&&c?r.actions.push({intent:"addListItem",value:c}):r.actions.push({intent:o.intent}),r}for(const o of e.targets.text){const l=new RegExp(`${o}\\s+([^]+)`),c=n.match(l);if(c&&c[1]){r.targetText=c[1].trim(),n=n.replace(c[0],"").trim();break}}const s=new RegExp(`\\s+(?:${e.conjunctions.join("|")})\\s+`,"g"),a=n.split(s).filter(o=>o&&o.trim()!=="");if(a.length===1&&e.general.next.some(o=>a[0].includes(o)))return r.actions.push({intent:"color",value:"random"}),r;for(const o of a){let l=!1;for(const c in e.colors)if(e.colors[c].some(u=>o.includes(u))){r.actions.push({intent:"color",value:c}),l=!0;break}if(!l){if(e.actions.changeColor.some(c=>o.includes(c))){r.actions.push({intent:"color",value:"random"}),l=!0;continue}if(e.actions.changeSize.some(c=>o.includes(c))){const c=$7e(o);c!==null?r.actions.push({intent:"size",value:`${c}px`}):e.sizeKeywords.increase.some(u=>o.includes(u))?r.actions.push({intent:"size",value:"+2px"}):e.sizeKeywords.decrease.some(u=>o.includes(u))&&r.actions.push({intent:"size",value:"-2px"}),l=!0;continue}if(e.actions.align.some(c=>o.includes(c))){for(const c in e.alignments)if(e.alignments[c].some(u=>o.includes(u))){r.actions.push({intent:"align",value:c}),l=!0;break}}if(!l&&e.actions.makeBold.some(c=>o.includes(c))){r.actions.push({intent:"bold",value:"true"}),l=!0;continue}}}return r},H7e={locale:"ar",messages:{ar:{assetManager:{title:" ",upload:" ",add:"","add-image":" ","drop-files":"      ",close:""},styleManager:{title:" ","no-properties":"   ",properties:{width:"",height:"",padding:" ",margin:" ","background-color":" ",color:" ","font-family":" ","font-size":" ",border:"","text-align":" ",top:"",right:"",bottom:"",left:""}},layerManager:{title:"",root:""},blockManager:{title:"","search-placeholder":"..."},traitManager:{title:" ",traits:{alt:" ",title:"",href:""}},selectorManager:{title:" (Classes)","label-state":"","selected-title":"","empty-state":"  ",states:{hover:" ",active:" ","nth-of-type(2n)":"/"}},panels:{buttons:{titles:{preview:"",fullscreen:" ","export-template":" ","sw-visibility":" ","open-sm":"","open-tm":"","open-layers":"","open-blocks":"","device-desktop":" ","device-tablet":" ","device-mobile":"",undo:"",redo:""}}},"grapesjs-preset-webpage":{blocks:{text:{name:""},image:{name:""},link:{name:""},video:{name:""},map:{name:""},column1:{name:" "},column2:{name:""},column3:{name:"3 "},quote:{name:""},section:{name:""},divider:{name:""}}}}}},G7e=[{id:"cv",name:"  ",url:"/data/templates/0-cv.html"},{id:"cv-with-photo",name:"   (1)",url:"/data/templates/0-cv-with-photo-1.html"},{id:"cv-with-photo-2",name:"   (2)",url:"/data/templates/0-cv-with-photo-2.html"},{id:"cv-with-photo-3",name:"   (3)",url:"/data/templates/0-cv-with-photo-3.html"},{id:"cv-with-photo-4",name:"   (4)",url:"/data/templates/0-cv-with-photo-4.html"},{id:"cv-with-photo-5",name:"   (5)",url:"/data/templates/0-cv-with-photo-5.html"},{id:"gov-form",name:" ",url:"/data/templates/0-gov-form.html"},{id:"linear-request",name:" ",url:"/data/templates/0-linear-request.html"},{id:"university-registration",name:" ",url:"/data/templates/0-university-registration.html"}],K7e=({onClose:t,onSelect:e})=>d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",onClick:t,children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl h-[90vh] flex flex-col",onClick:n=>n.stopPropagation(),children:[d.jsx("div",{className:"p-4 border-b",children:d.jsx("h2",{className:"text-xl font-bold",children:"  "})}),d.jsx("div",{className:"p-4 flex-grow overflow-y-auto",children:d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:G7e.map(n=>d.jsxs("div",{className:"border rounded-lg overflow-hidden group cursor-pointer",onClick:()=>e(n.url),children:[d.jsx("div",{className:"h-48 bg-gray-100 flex items-center justify-center",children:d.jsx("iframe",{src:n.url,className:"w-full h-full transform scale-[0.3] origin-top-left pointer-events-none border-0",title:n.name})}),d.jsx("div",{className:"p-3 bg-white",children:d.jsx("p",{className:"font-semibold text-sm truncate group-hover:text-green-600",children:n.name})})]},n.id))})}),d.jsx("div",{className:"px-6 py-4 bg-gray-50 flex justify-end",children:d.jsx("button",{type:"button",onClick:t,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""})})]})}),X7e=({onClose:t,onCapture:e})=>{const n=q.useRef(null),r=q.useRef(null),i=q.useRef(null),[s,a]=q.useState(null),[o,l]=q.useState(null),c=async()=>{l(null),a(null);try{const p=await navigator.mediaDevices.getUserMedia({video:{width:480,height:480}});i.current=p,n.current&&(n.current.srcObject=p)}catch(p){console.error("Error accessing camera:",p),p instanceof DOMException&&(p.name==="NotAllowedError"||p.name==="PermissionDeniedError")?l("    .      ."):l("    .          .")}};q.useEffect(()=>(c(),()=>{i.current&&i.current.getTracks().forEach(p=>p.stop())}),[]);const u=()=>{if(n.current&&r.current){const p=n.current,v=r.current;v.width=p.videoWidth,v.height=p.videoHeight;const g=v.getContext("2d");g==null||g.drawImage(p,0,0,v.width,v.height);const y=v.toDataURL("image/jpeg");a(y),i.current&&(i.current.getTracks().forEach(b=>b.stop()),i.current=null)}},f=()=>{c()},h=()=>{s&&(e(s),t())};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex justify-center items-center",children:d.jsxs("div",{className:"bg-white rounded-lg p-4 max-w-lg w-full",children:[d.jsx("h3",{className:"text-xl font-bold mb-4 text-center",children:" "}),d.jsxs("div",{className:"relative aspect-square bg-gray-900 rounded-md overflow-hidden flex items-center justify-center",children:[o?d.jsxs("div",{className:"p-4 text-center text-white",children:[d.jsx("p",{className:"font-semibold text-red-400",children:"  "}),d.jsx("p",{className:"text-sm mt-2",children:o})]}):s?d.jsx("img",{src:s,alt:"Captured",className:"w-full h-full object-contain"}):d.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),d.jsx("canvas",{ref:r,className:"hidden"})]}),d.jsxs("div",{className:"mt-4 flex justify-center gap-4",children:[s?d.jsxs(d.Fragment,{children:[d.jsx("button",{type:"button",onClick:f,className:"bg-gray-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-600",children:" "}),d.jsx("button",{type:"button",onClick:h,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700",children:" "})]}):d.jsx("button",{type:"button",onClick:u,disabled:!!o,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:""}),d.jsx("button",{type:"button",onClick:t,className:"bg-red-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-600",children:""})]})]})})},J7e=({initialContent:t,onExit:e,onPreview:n,editorRef:r})=>{const{user:i}=Ar(),{cafes:s,documentCommands:a}=nn(),o=q.useRef(null),[l,c]=q.useState((t==null?void 0:t.name)||" "),[u,f]=q.useState(!1),[h,p]=q.useState(""),[v,g]=q.useState(!1),[y,b]=q.useState(!1),_=q.useRef(null),[w,C]=q.useState(!1),[S,R]=q.useState({top:0,left:0,visible:!1,component:null,type:null}),D=q.useRef(null),[N,k]=q.useState(""),F=q.useMemo(()=>s.find(j=>j.id===(i==null?void 0:i.cafeId)),[s,i]),P=(F==null?void 0:F.speechToTextLanguage)||"ar-SA",I=window.SpeechRecognition||window.webkitSpeechRecognition,U=q.useRef(null),O=q.useRef(!1),K=q.useCallback(j=>{if(!a||!r.current)return;const W=r.current,G=W.getRichTextEditor(),Y=z7e(j,a);let ee=W.getSelected();if(!ee&&Y.targetText){const ae=W.getComponents(),de=(fe,Ae)=>{var Re;for(const me of fe.models){if((Re=me.get("content"))!=null&&Re.includes(Ae))return me;const Le=de(me.components(),Ae);if(Le)return Le}return null};ee=de(ae,Y.targetText),ee&&W.select(ee)}ee||(ee=D.current);for(const ae of Y.actions)switch(ae.intent){case"color":{let de=ae.value;if(de==="random"){const fe=Object.keys(a.colors);de=fe[Math.floor(Math.random()*fe.length)]}ee&&ee.setStyle({...ee.getStyle(),color:de});break}case"size":{if(ee){const de=ee.getStyle(),fe=ae.value;if(fe.startsWith("+")||fe.startsWith("-")){const Ae=parseInt(de["font-size"]||"16px",10),Re=parseInt(fe,10);ee.setStyle({...de,"font-size":`${Ae+Re}px`})}else ee.setStyle({...de,"font-size":fe})}break}case"align":ee&&ee.setStyle({...ee.getStyle(),"text-align":ae.value});break;case"bold":if(ee){const de=ee.getStyle()["font-weight"]==="bold";ee.setStyle({...ee.getStyle(),"font-weight":de?"normal":"bold"})}break;case"replace":ae.newText&&G&&G.insertHTML(ae.newText);break;case"delete":ee?ee.remove():G&&G.exec("delete");break;case"copy":ee&&k(ee.toHTML());break;case"paste":if(N)if(ae.pasteTarget&&ae.pastePosition){const de=W.getWrapper().find("div, p, span, h1, h2, h3, h4, h5, h6");let fe=!1;de.forEach(Ae=>{var Re;if(!fe&&(Re=Ae.get("content"))!=null&&Re.includes(ae.pasteTarget)){const me=Ae.parent(),Le=Ae.index();me.append(N,{at:ae.pastePosition==="after"?Le+1:Le}),fe=!0}})}else G.insertHTML(N);break;case"createList":{const de=ae.listType==="numbered"?"ol":"ul";let fe=`<${de}>`;ae.listItems&&ae.listItems.length>0?fe+=ae.listItems.map(Ae=>`<li>${Ae}</li>`).join(""):fe+="<li> </li>",fe+=`</${de}>`,G.insertHTML(fe);break}case"addListItem":{const de=W.getSelected(),fe=de==null?void 0:de.closest("ul, ol");fe&&fe.append(`<li>${ae.value||" "}</li>`);break}case"newLine":{const de=W.getSelected(),fe=de==null?void 0:de.closest("ul, ol");fe&&fe.append("<li></li>");break}}ee&&(D.current=ee)},[a,r,N]);q.useEffect(()=>{if(!I)return;const j=new I;return U.current=j,j.continuous=!0,j.interimResults=!1,j.lang=P,j.onstart=()=>C(!0),j.onend=()=>{if(O.current){console.log("Document Studio: Speech recognition ended, attempting restart.");try{j.start()}catch(W){console.error("Document Studio: Could not restart recognition",W),O.current=!1,C(!1)}}else C(!1)},j.onresult=W=>{const G=W.results[W.results.length-1][0].transcript.trim();G&&K(G)},j.onerror=W=>{console.error("Speech recognition error:",W.error),O.current=!1,C(!1)},()=>{U.current&&(O.current=!1,U.current.abort())}},[I,P,K]);const X=q.useCallback(()=>{if(!I)return;const j=U.current;w?(O.current=!1,j==null||j.stop()):(O.current=!0,j==null||j.start())},[I,w]);q.useEffect(()=>{if(r.current||!o.current)return;const j=grapesjs.init({container:o.current,plugins:["gjs-preset-webpage"],pluginsOpts:{"gjs-preset-webpage":{forms:!1,navbar:!1}},storageManager:!1,assetManager:{custom:!0},canvas:{styles:["https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap"]},i18n:H7e});return j.setComponents(t.body),j.setStyle(t.styles),j.on("component:toggled",W=>{const G=j.Canvas.getElement(),Y=W.getEl();if(D.current=W,Y){const{top:ee,left:ae}=Y.getBoundingClientRect(),de=G.getBoundingClientRect(),fe=W.is("image"),Ae=W.get("type")==="text";R(fe||Ae?{top:ee+de.top-45,left:ae+de.left,visible:!0,component:W,type:fe?"image":"text"}:Re=>({...Re,visible:!1}))}else R(ee=>({...ee,visible:!1}))}),r.current=j,()=>{r.current&&(r.current.destroy(),r.current=null)}},[t,r]);const J=q.useCallback(()=>{if(!S.component)return;const j=window.prompt("   :");j&&S.component.set("src",j)},[S.component]),ne=q.useCallback(j=>{var G;const W=(G=j.target.files)==null?void 0:G[0];if(W&&S.component){const Y=new FileReader;Y.onload=ee=>{var ae;S.component.set("src",(ae=ee.target)==null?void 0:ae.result)},Y.readAsDataURL(W)}},[S.component]),z=q.useCallback(j=>{S.component&&S.component.set("src",j),g(!1)},[S.component]),Q=q.useCallback(async()=>{if(!S.component)return;const j=window.prompt("     :");if(j){b(!0);try{const W=await yge(j);if(W.base64Image){const G=`data:image/jpeg;base64,${W.base64Image}`;S.component.set("src",G)}}catch{alert("  .")}finally{b(!1)}}},[S.component]),B=async()=>{const j=i==null?void 0:i.cafeId,W=r.current;if(!j||!W){p("      .");return}f(!0),p("");try{const G=W.getHtml(),Y=W.getCss(),ee=l.toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]/g,""),ae=`<!DOCTYPE html><html lang="ar" dir="rtl"><head><meta charset="UTF-8"><title>${l}</title><style>${Y}</style></head><body>${G}</body></html>`,de=new File([ae],`0-${ee}.html`,{type:"text/html"}),fe=new File([ae],`${ee}.html`,{type:"text/html"}),[Ae,Re]=await Promise.all([gm(de),gm(fe)]),me={id:ee,groupId:ee,name:l,description:"     ",countryCode:i.countryCode,requiredFields:[],previewTemplateUrl:Ae,finalTemplateUrl:Re,cafeId:j};await fl.create(me),alert(`   "${me.name}" !`),e()}catch(G){console.error("Publishing error:",G),p(G instanceof Error?G.message:"     .")}finally{f(!1)}};return d.jsxs("div",{className:"flex flex-col h-full p-6",children:[d.jsx("input",{type:"file",ref:_,onChange:ne,accept:"image/*",className:"hidden"}),v&&d.jsx(X7e,{onClose:()=>g(!1),onCapture:z}),d.jsxs("div",{className:"flex-shrink-0 flex justify-between items-center mb-4",children:[d.jsx("button",{onClick:e,className:"text-sm bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:"   "}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("button",{onClick:n,className:"flex items-center justify-center gap-2 bg-gray-500 text-white font-bold py-3 px-6 rounded-lg hover:bg-gray-600",children:[d.jsx(IH,{}),d.jsx("span",{children:""})]}),d.jsxs("button",{onClick:B,disabled:u,className:"flex items-center justify-center gap-2 bg-green-700 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-800 disabled:bg-gray-400",children:[u?d.jsx(Ct,{className:"animate-spin"}):d.jsx(ww,{}),d.jsx("span",{children:u?" ...":"  "})]})]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"doc-name",className:"block text-sm font-medium text-gray-700 mb-1",children:"  ( )"}),d.jsx("input",{type:"text",id:"doc-name",value:l,onChange:j=>c(j.target.value),className:"w-full p-3 border rounded-lg"})]}),h&&d.jsx("p",{className:"text-red-500 text-sm mb-2 text-center",children:h}),S.visible&&d.jsxs("div",{className:"absolute z-40 bg-white shadow-lg rounded-lg flex items-center gap-2 p-2 border",style:{top:S.top,left:S.left},children:[S.type==="text"&&d.jsx("button",{onClick:X,disabled:!I,className:`p-2 rounded-md transition-colors ${w?"bg-red-100 text-red-700 animate-pulse":"hover:bg-gray-100"}`,title:"     ",children:w?d.jsx(yc,{}):d.jsx(nk,{})}),S.type==="image"&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:J,className:"p-2 hover:bg-gray-100 rounded-md",title:" ",children:d.jsx(MH,{})}),d.jsx("button",{onClick:()=>{var j;return(j=_.current)==null?void 0:j.click()},className:"p-2 hover:bg-gray-100 rounded-md",title:" ",children:d.jsx(Nl,{})}),d.jsx("button",{onClick:()=>g(!0),className:"p-2 hover:bg-gray-100 rounded-md",title:" ",children:d.jsx(zm,{})}),d.jsx("button",{onClick:Q,disabled:y,className:"p-2 hover:bg-gray-100 rounded-md",title:"  ",children:y?d.jsx(Ct,{className:"animate-spin"}):d.jsx(na,{})})]})]}),d.jsx("div",{ref:o,className:"flex-grow",id:"gjs"})]})},Y7e=()=>{const{user:t}=Ar(),{fullDocuments:e,loadingFullDocuments:n,documentCommands:r}=nn(),[i,s]=q.useState("dashboard"),[a,o]=q.useState(null),[l,c]=q.useState(!1),[u,f]=q.useState(!1),[h,p]=q.useState(""),[v,g]=q.useState(""),[y,b]=q.useState(""),_=q.useRef(null),w=q.useRef(null),[C,S]=q.useState(!1),R=q.useMemo(()=>t!=null&&t.cafeId?e.filter(K=>K.cafeId===t.cafeId):[],[e,t]),D=K=>{var J;const X=(J=K.target.files)==null?void 0:J[0];X&&N(X)},N=async K=>{f(!0),p("");try{let X=K.name.replace(/\.(html|pdf|docx)$/i,""),J="",ne="";if(K.type==="text/html"){const z=await K.text(),Q=z.match(/<style[^>]*>([\s\S]*?)<\/style>/i);ne=Q?Q[1]:"";const B=z.match(/<body[^>]*>([\s\S]*)<\/body>/i);J=B?B[1]:z}else if(K.type==="application/pdf"){const z=new FileReader,Q=await new Promise(j=>{z.onloadend=()=>j(z.result.split(",")[1]),z.readAsDataURL(K)});J=(await YH(Q)).html}else if(K.type.includes("wordprocessingml")){const z=new FileReader,Q=await new Promise(j=>{z.onloadend=()=>j(z.result),z.readAsArrayBuffer(K)});J=(await B7e.convertToHtml({arrayBuffer:Q})).value}else throw new Error("Unsupported file type.");o({name:X,body:J,styles:ne}),s("editor")}catch(X){p(X instanceof Error?X.message:"File processing failed.")}finally{f(!1)}},k=async K=>{var X;f(!0),p(""),c(!1);try{const J=await fetch(K);if(!J.ok)throw new Error("Could not fetch template");const ne=await J.text();let z=((X=K.split("/").pop())==null?void 0:X.replace("0-","").replace(".html",""))||"template";const Q=ne.match(/<style[^>]*>([\s\S]*?)<\/style>/i),B=Q?Q[1]:"",j=ne.match(/<body[^>]*>([\s\S]*)<\/body>/i),W=j?j[1]:ne;o({name:z,body:W,styles:B}),s("editor")}catch(J){p(J instanceof Error?J.message:"Template loading failed.")}finally{f(!1)}},F=async()=>{if(v.trim()){f(!0),p(""),b("");try{const K=await ac({model:"gemini-2.5-flash",contents:`  HTML  (   <!DOCTYPE>  <html>  <head>  <body>)    : "${v}".               <style>   <head>.     .`});b(K.text||"")}catch(K){p(K instanceof Error?K.message:"AI generation failed.")}finally{f(!1)}}},P=()=>{if(!y)return;const K=y.match(/<style[^>]*>([\s\S]*?)<\/style>/i),X=K?K[1]:"",J=y.match(/<body[^>]*>([\s\S]*)<\/body>/i),ne=J?J[1]:y;o({name:v,body:ne,styles:X}),S(!1),s("editor")},I=()=>{if(!y)return;const K=y.match(/<style[^>]*>([\s\S]*?)<\/style>/i),X=K?K[1]:"",J=y.match(/<body[^>]*>([\s\S]*)<\/body>/i),ne=J?J[1]:y;o({name:v,body:ne,styles:X}),S(!0),s("editor")},U=async K=>{window.confirm("        ")&&(await fl.delete(K),alert(" .      ."))},O=()=>{w.current&&(o({...a,body:w.current.getHtml(),styles:w.current.getCss()}),S(!0))};return i==="editor"?d.jsxs(d.Fragment,{children:[d.jsx(J7e,{initialContent:a,onExit:()=>s("dashboard"),onPreview:O,editorRef:w}),C&&a&&d.jsx(iQ,{initialContent:a,docToEdit:null,onClose:()=>S(!1)})]}):i==="ai_creator"?d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsxs("button",{onClick:()=>s("dashboard"),className:"text-sm bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors flex items-center gap-2",children:[d.jsx(QI,{}),d.jsx("span",{children:"  "})]}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"  "}),d.jsx("p",{className:"text-gray-600",children:"     ."})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"ai-prompt",className:"font-semibold",children:"   "}),d.jsx("textarea",{id:"ai-prompt",value:v,onChange:K=>g(K.target.value),placeholder:":          ...",className:"w-full p-3 border rounded-lg h-24"})]}),d.jsxs("button",{onClick:F,disabled:u,className:"w-full flex items-center justify-center gap-2 bg-blue-600 text-white font-bold py-3 px-5 rounded-lg hover:bg-blue-700 disabled:bg-gray-400",children:[u?d.jsx(Ct,{className:"animate-spin"}):d.jsx(na,{}),d.jsx("span",{children:u?" ...":"  "})]}),h&&d.jsx("p",{className:"text-red-500 text-sm my-2",children:h}),(y||u)&&d.jsxs("div",{className:"border rounded-lg mt-4",children:[d.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[d.jsx("h2",{className:"font-bold",children:""}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("button",{onClick:I,disabled:!y||u,className:"flex items-center gap-2 bg-gray-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-600 disabled:opacity-50",children:[d.jsx(IH,{}),d.jsx("span",{children:"  "})]}),d.jsx("button",{onClick:P,disabled:!y||u,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:opacity-50",children:"  "})]})]}),d.jsxs("div",{className:"bg-white p-2 h-[70vh] overflow-y-auto",children:[u&&!y&&d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx(Ct,{className:"animate-spin text-2xl text-blue-500"})}),d.jsx("iframe",{srcDoc:y,title:"AI Preview",className:"w-full h-full border-0"})]})]})]}):d.jsxs("div",{className:"p-6 space-y-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:" "}),d.jsx("p",{className:"text-gray-600",children:'     .        " ".'}),d.jsx("input",{type:"file",ref:_,onChange:D,accept:".html,.pdf,.docx,.doc",className:"hidden"}),l&&d.jsx(K7e,{onClose:()=>c(!1),onSelect:k}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("button",{onClick:()=>s("ai_creator"),className:"group text-right p-6 bg-white rounded-lg border-2 border-dashed hover:border-purple-500 hover:bg-purple-50 transition-all duration-300",children:[d.jsx("div",{className:"bg-purple-100 text-purple-600 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:d.jsx(na,{size:24})}),d.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"  "}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"       ."})]}),d.jsxs("button",{onClick:()=>{var K;return(K=_.current)==null?void 0:K.click()},className:"group text-right p-6 bg-white rounded-lg border-2 border-dashed hover:border-green-500 hover:bg-green-50 transition-all duration-300",children:[d.jsx("div",{className:"bg-green-100 text-green-600 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:d.jsx(Nl,{size:24})}),d.jsx("h2",{className:"text-lg font-bold text-gray-800",children:" "}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"  DOCX, PDF,  HTML   ."})]}),d.jsxs("button",{onClick:()=>c(!0),className:"group text-right p-6 bg-white rounded-lg border-2 border-dashed hover:border-blue-500 hover:bg-blue-50 transition-all duration-300",children:[d.jsx("div",{className:"bg-blue-100 text-blue-600 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:d.jsx(LH,{size:24})}),d.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"  "}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"      ."})]})]}),u&&d.jsx("div",{className:"text-center",children:d.jsx(Ct,{className:"animate-spin text-2xl mx-auto text-blue-600"})}),h&&d.jsx("p",{className:"text-red-500 text-sm text-center",children:h}),d.jsxs("div",{className:"bg-white p-4 rounded-lg border shadow-sm",children:[d.jsxs("h2",{className:"text-xl font-semibold text-gray-700 p-2",children:["  (",R.length,")"]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:n?d.jsx("tr",{children:d.jsx("td",{colSpan:3,className:"text-center p-6",children:d.jsx(Ct,{className:"animate-spin text-2xl mx-auto"})})}):R.length>0?R.map(K=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:K.name}),d.jsx("td",{className:"p-3 text-gray-600 text-sm",children:K.description}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse",children:[d.jsx("button",{disabled:!0,className:"text-gray-400 text-sm font-semibold cursor-not-allowed",children:""}),d.jsx("button",{onClick:()=>U(K.id),className:"text-red-600 hover:underline text-sm font-semibold",children:""})]})]},K.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:3,className:"text-center p-6 text-gray-500",children:"    .      ."})})})]})})]})]})},Q7e=[{id:"cv",name:"  ",url:"/data/templates/0-cv.html"},{id:"cv-with-photo",name:"   (1)",url:"/data/templates/0-cv-with-photo-1.html"},{id:"cv-with-photo-2",name:"   (2)",url:"/data/templates/0-cv-with-photo-2.html"},{id:"cv-with-photo-3",name:"   (3)",url:"/data/templates/0-cv-with-photo-3.html"},{id:"cv-with-photo-4",name:"   (4)",url:"/data/templates/0-cv-with-photo-4.html"},{id:"cv-with-photo-5",name:"   (5)",url:"/data/templates/0-cv-with-photo-5.html"},{id:"gov-form",name:" ",url:"/data/templates/0-gov-form.html"},{id:"linear-request",name:" ",url:"/data/templates/0-linear-request.html"},{id:"university-registration",name:" ",url:"/data/templates/0-university-registration.html"}],Z7e=({onClose:t,onSelect:e})=>d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",onClick:t,children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl h-[90vh] flex flex-col",onClick:n=>n.stopPropagation(),children:[d.jsx("div",{className:"p-4 border-b",children:d.jsx("h2",{className:"text-xl font-bold",children:"  "})}),d.jsx("div",{className:"p-4 flex-grow overflow-y-auto",children:d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:Q7e.map(n=>d.jsxs("div",{className:"border rounded-lg overflow-hidden group cursor-pointer",onClick:()=>e(n.url),children:[d.jsx("div",{className:"h-48 bg-gray-100 flex items-center justify-center",children:d.jsx("iframe",{src:n.url,className:"w-full h-full transform scale-[0.3] origin-top-left pointer-events-none border-0",title:n.name})}),d.jsx("div",{className:"p-3 bg-white",children:d.jsx("p",{className:"font-semibold text-sm truncate group-hover:text-green-600",children:n.name})})]},n.id))})}),d.jsx("div",{className:"px-6 py-4 bg-gray-50 flex justify-end",children:d.jsx("button",{type:"button",onClick:t,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""})})]})}),eMe=()=>{var D;const t=Dr(),e=wi(),n=(D=t.state)==null?void 0:D.doc,[r,i]=q.useState("dashboard"),[s,a]=q.useState(null),[o,l]=q.useState(!1),[c,u]=q.useState(!1),[f,h]=q.useState(""),[p,v]=q.useState(""),[g,y]=q.useState(""),b=q.useRef(null);q.useEffect(()=>{n&&((async()=>{u(!0);try{let k="",F="";if(n.previewTemplateUrl){const P=await fetch(n.previewTemplateUrl);if(P.ok){const I=await P.text(),U=I.match(/<style[^>]*>([\s\S]*?)<\/style>/i);F=U?U[1]:"";const O=I.match(/<body[^>]*>([\s\S]*)<\/body>/i);k=O?O[1]:I}else console.warn(`Could not fetch template file from ${n.previewTemplateUrl}. Starting with an empty editor.`)}a({initialContent:{name:n.name,body:k,styles:F},docToEdit:n})}catch(k){h(`Failed to load document: ${k.message}`),a({initialContent:{name:n.name,body:"<p>   .</p>",styles:""},docToEdit:n})}finally{u(!1)}})(),e(t.pathname,{replace:!0,state:{}}))},[n,t.pathname,e]);const _=N=>{var F;const k=(F=N.target.files)==null?void 0:F[0];k&&w(k)},w=async N=>{u(!0),h("");try{let k=N.name.replace(/\.(html|pdf|docx)$/i,""),F="",P="";if(N.type==="text/html"){const I=await N.text(),U=I.match(/<style[^>]*>([\s\S]*?)<\/style>/i);P=U?U[1]:"";const O=I.match(/<body[^>]*>([\s\S]*)<\/body>/i);F=O?O[1]:I}else if(N.type==="application/pdf"){const I=new FileReader,U=await new Promise(K=>{I.onloadend=()=>K(I.result.split(",")[1]),I.readAsDataURL(N)});F=(await YH(U)).html}else throw new Error("Unsupported file type.");a({initialContent:{name:k,body:F,styles:P},docToEdit:null})}catch(k){h(k instanceof Error?k.message:"File processing failed.")}finally{u(!1)}},C=async N=>{var k;u(!0),h(""),l(!1);try{const F=await fetch(N);if(!F.ok)throw new Error("Could not fetch template");const P=await F.text(),I=((k=N.split("/").pop())==null?void 0:k.replace("0-","").replace(".html",""))||"template",U=P.match(/<style[^>]*>([\s\S]*?)<\/style>/i),O=U?U[1]:"",K=P.match(/<body[^>]*>([\s\S]*)<\/body>/i),X=K?K[1]:P;a({initialContent:{name:I,body:X,styles:O},docToEdit:null})}catch(F){h(F instanceof Error?F.message:"Template loading failed.")}finally{u(!1)}},S=async()=>{if(p.trim()){u(!0),h(""),y("");try{const N=await ac({model:"gemini-2.5-flash",contents:`  HTML  (   <!DOCTYPE>  <html>  <head>  <body>)    : "${p}".               <style>   <head>.     .`});y(N.text||"")}catch(N){h(N instanceof Error?N.message:"AI generation failed.")}finally{u(!1)}}},R=()=>{if(!g)return;const N=g.match(/<style[^>]*>([\s\S]*?)<\/style>/i),k=N?N[1]:"",F=g.match(/<body[^>]*>([\s\S]*)<\/body>/i),P=F?F[1]:g;a({initialContent:{name:p,body:P,styles:k},docToEdit:null}),i("dashboard")};return s?d.jsx(iQ,{initialContent:s.initialContent,docToEdit:s.docToEdit,onClose:()=>{a(null),window.location.reload()}}):r==="ai_creator"?d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsxs("button",{onClick:()=>i("dashboard"),className:"text-sm bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors flex items-center gap-2",children:[d.jsx(QI,{}),d.jsx("span",{children:"  "})]}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"  "}),d.jsx("p",{className:"text-gray-600",children:"     ."})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"ai-prompt",className:"font-semibold",children:"   "}),d.jsx("textarea",{id:"ai-prompt",value:p,onChange:N=>v(N.target.value),placeholder:":          ...",className:"w-full p-3 border rounded-lg h-24"})]}),d.jsxs("button",{onClick:S,disabled:c,className:"w-full flex items-center justify-center gap-2 bg-blue-600 text-white font-bold py-3 px-5 rounded-lg hover:bg-blue-700 disabled:bg-gray-400",children:[c?d.jsx(Ct,{className:"animate-spin"}):d.jsx(na,{}),d.jsx("span",{children:c?" ...":"  "})]}),f&&d.jsx("p",{className:"text-red-500 text-sm my-2",children:f}),(g||c)&&d.jsxs("div",{className:"border rounded-lg mt-4",children:[d.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[d.jsx("h2",{className:"font-bold",children:""}),d.jsx("div",{className:"flex items-center gap-3",children:d.jsx("button",{onClick:R,disabled:!g||c,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:opacity-50",children:"  "})})]}),d.jsxs("div",{className:"bg-white p-2 h-[70vh] overflow-y-auto",children:[c&&!g&&d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx(Ct,{className:"animate-spin text-2xl text-blue-500"})}),d.jsx("iframe",{srcDoc:g,title:"AI Preview",className:"w-full h-full border-0"})]})]})]}):d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"  ()"}),d.jsx("input",{type:"file",ref:b,onChange:_,accept:".html,.pdf",className:"hidden"}),o&&d.jsx(Z7e,{onClose:()=>l(!1),onSelect:C}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("button",{onClick:()=>i("ai_creator"),className:"group text-right p-6 bg-white rounded-lg border-2 border-dashed hover:border-purple-500 hover:bg-purple-50 transition-all duration-300",children:[d.jsx("div",{className:"bg-purple-100 text-purple-600 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:d.jsx(na,{size:24})}),d.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"  "}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"       ."})]}),d.jsxs("button",{onClick:()=>{var N;return(N=b.current)==null?void 0:N.click()},className:"group text-right p-6 bg-white rounded-lg border-2 border-dashed hover:border-green-500 hover:bg-green-50 transition-all duration-300",children:[d.jsx("div",{className:"bg-green-100 text-green-600 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:d.jsx(Nl,{size:24})}),d.jsx("h2",{className:"text-lg font-bold text-gray-800",children:" "}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"  PDF  HTML   ."})]}),d.jsxs("button",{onClick:()=>l(!0),className:"group text-right p-6 bg-white rounded-lg border-2 border-dashed hover:border-blue-500 hover:bg-blue-50 transition-all duration-300",children:[d.jsx("div",{className:"bg-blue-100 text-blue-600 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:d.jsx(LH,{size:24})}),d.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"  "}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"      ."})]})]}),c&&d.jsx("div",{className:"text-center",children:d.jsx(Ct,{className:"animate-spin text-2xl mx-auto text-blue-600"})}),f&&d.jsx("p",{className:"text-red-500 text-sm text-center",children:f}),d.jsx("div",{className:"text-center mt-4",children:d.jsx("button",{onClick:()=>e("/admin/app/documents"),className:"text-sm bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:"    "})})]})},sQ=()=>{const{t}=la();return d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h1",{className:"text-6xl font-bold text-gray-800",children:"404"}),d.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mt-4",children:t("notFound.title")}),d.jsx("p",{className:"text-gray-500 mt-2 mb-6",children:t("notFound.message")}),d.jsx(en,{to:"/",className:"bg-green-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-green-700 transition-colors",children:t("notFound.button")})]})},as=(t,e,n=!0)=>{const r=n?`meta[property='${t}']`:`meta[name='${t}']`;let i=document.querySelector(r);i||(i=document.createElement("meta"),i.setAttribute(n?"property":"name",t),document.head.appendChild(i)),i.setAttribute("content",e)},tMe=()=>{const{siteSettings:t,loading:e}=nn(),{countryCode:n,language:r}=la(),i=Dr(),s=i.pathname.startsWith("/admin"),a=/^\/[a-z]{2}\/app/.test(i.pathname),o="G-2BKKWGCXWX";return q.useEffect(()=>{if(e||!o||document.getElementById("gtag-script")||s||a)return;const l=document.createElement("script");l.id="gtag-script",l.src=`https://www.googletagmanager.com/gtag/js?id=${o}`,l.async=!0,document.head.appendChild(l),window.dataLayer=window.dataLayer||[];function c(...u){window.dataLayer.push(arguments)}window.gtag=c,c("js",new Date),c("config",o)},[e,o,s,a]),q.useEffect(()=>{!e&&o&&typeof window.gtag=="function"&&!s&&!a&&window.gtag("event","page_view",{page_path:i.pathname+i.search,page_title:document.title})},[i,e,o,s,a]),q.useEffect(()=>{var g,y;if(e||!t)return;document.querySelectorAll('link[rel="alternate"][hreflang]').forEach(b=>b.remove());const l=((g=t.seo)==null?void 0:g[n])||((y=t.seo)==null?void 0:y.default)||{siteName:"Gitut",titleSeparator:"|",tagline:"",metaDescription:""},c="https://datas.gitut.com/data/image/gitut-og-main.png",u=i.pathname.match(/\/profile\/(\d+)/),f=i.pathname.match(/\/site\/([^/]+)/),h=i.pathname.match(/\/doc\/([^/]+)/),p=i.pathname.startsWith("/blog/")&&i.pathname.split("/").filter(Boolean).length>1;if(!u&&!f&&!h&&!p){const b=`${l.siteName} ${l.titleSeparator} ${l.tagline}`,_=l.metaDescription;let w="en_US";switch(r){case"ar":w="ar_AR";break;case"fr":w="fr_FR";break;case"de":w="de_DE";break;case"es":w="es_ES";break;case"tr":w="tr_TR";break;case"ja":w="ja_JP";break}document.title=b,as("description",_,!1),as("og:title",b),as("og:description",_),as("og:site_name",l.siteName),as("og:url",window.location.href),as("og:image",c),as("og:image:secure_url",c),as("og:image:width","1200"),as("og:image:height","630"),as("og:type","website"),as("og:locale",w),as("twitter:card","summary_large_image",!1),as("twitter:url",window.location.href,!1),as("twitter:title",b,!1),as("twitter:description",_,!1),as("twitter:image",c,!1)}let v=document.querySelector("link[rel*='icon']");v||(v=document.createElement("link"),v.rel="icon",document.head.appendChild(v)),v.href="https://datas.gitut.com/data/image/icon.png"},[i.pathname,t,n,e,s,a,r]),null},nMe=()=>{const{countryCode:t,siteId:e}=aa(),n=Dr(),r=wi(),[i]=jee(),{sites:s,siteSettings:a,loading:o}=nn(),l=q.useMemo(()=>{var b;const v=i.get("redirect"),g=i.get("name");if(v)return{name:g||" ",url:v,isInternal:!0};if((b=n.state)!=null&&b.targetUrl)return{name:n.state.siteName||" ",url:n.state.targetUrl,isInternal:!0};const y=s.find(_=>_.id===e);return y?{...y,isInternal:!1}:null},[s,e,n.state,i]),c=(a==null?void 0:a.ads.pdfInterstitialTimer)??5,[u,f]=q.useState(c),[h,p]=q.useState(!1);return q.useEffect(()=>{!o&&l&&f(c)},[o,l,c]),q.useEffect(()=>{if(!(o||!(l!=null&&l.url)))if(u>0){const v=setTimeout(()=>{f(g=>g-1)},1e3);return()=>clearTimeout(v)}else h||(p(!0),l.isInternal?r(l.url,{replace:!0}):window.location.href=l.url)},[u,o,l,h,r]),o?d.jsxs("div",{className:"flex flex-col items-center justify-center p-10 text-center",children:[d.jsx(Ct,{className:"animate-spin text-4xl text-green-600 mb-4"}),d.jsx("p",{className:"text-gray-600",children:"  ..."})]}):l?d.jsx("div",{className:"max-w-3xl mx-auto text-center",children:d.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg border space-y-4",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"  ..."}),d.jsxs("p",{className:"text-gray-600",children:['  "',l.name,'"   :']}),d.jsx("div",{className:"text-5xl font-bold text-green-600 font-mono tracking-widest my-4 p-4 bg-gray-100 rounded-lg",children:u}),d.jsxs("div",{className:"pt-6 border-t",children:[d.jsx("p",{className:"text-sm text-gray-500 mb-4",children:":"}),d.jsx(sc,{placement:"PDF_INTERSTITIAL"})]})]})}):d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"    "}),d.jsx("p",{className:"text-gray-600 mb-6",children:"         ."}),d.jsx(en,{to:"/",className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"   "})]})},rMe=t=>t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,"");if(gr.Quill){const t=gr.Quill.import("attributors/style/size");t.whitelist=["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px"],gr.Quill.register("attributors/style/size",t,!0)}const iMe=({isOpen:t,onClose:e,onSave:n,initialData:r,codes:i})=>{const[s,a]=q.useState(""),[o,l]=q.useState(""),[c,u]=q.useState(""),[f,h]=q.useState(""),[p,v]=q.useState(!1),g=q.useRef(null),y=q.useRef(null);q.useEffect(()=>{r?(a(r.name),l(r.previewTemplateHtml),u(r.finalTemplateHtml),h(r.textPlaceholderExample||"")):(a(""),l("<!--    -->"),u("<!--    -->"),h(""))},[r]);const b=(C,S)=>{var N;const R=(N=C.target.files)==null?void 0:N[0];if(!R)return;const D=new FileReader;D.onload=k=>{var P;const F=(P=k.target)==null?void 0:P.result;S==="preview"?l(F):u(F)},D.readAsText(R)},_=(C,S)=>{if(!S)return;const D=(C==="preview"?g:y).current;if(D){const N=D.selectionStart,k=D.selectionEnd,F=D.value,P=F.substring(0,N)+S+F.substring(k);C==="preview"?l(P):u(P),setTimeout(()=>{D&&(D.selectionStart=D.selectionEnd=N+S.length,D.focus())},0)}},w=async C=>{C.preventDefault(),v(!0);const S=D=>D.replace(/\s{2,}/g," ").replace(/\n/g,"").trim(),R={name:s,previewTemplateHtml:S(o),finalTemplateHtml:S(c),textPlaceholderExample:f};try{r?await ym.update(r.id,R):await ym.create(R),n(),e()}catch(D){console.error(D),alert("   .")}finally{v(!1)}};return t?d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl",children:d.jsxs("form",{onSubmit:w,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsxs("h2",{className:"text-2xl font-bold",children:[r?"":"","  "]})}),d.jsx("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:p&&!r?d.jsx("div",{className:"flex justify-center items-center h-64",children:d.jsx(Ct,{className:"animate-spin text-3xl text-gray-400"})}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"base-template-name",className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),d.jsx("input",{type:"text",id:"base-template-name",value:s,onChange:C=>a(C.target.value),required:!0,className:"w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"base-template-example",className:"block text-sm font-medium text-gray-700 mb-1",children:"   (  )"}),d.jsx("textarea",{id:"base-template-example",value:f,onChange:C=>h(C.target.value),className:"w-full h-24 p-2 border rounded-md",placeholder:"       [TEXT] .      ."})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("h3",{className:"font-semibold",children:" "}),d.jsx("textarea",{ref:g,value:o,onChange:C=>l(C.target.value),className:"w-full h-64 p-2 border rounded-md font-mono text-sm",dir:"ltr"}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("label",{className:"text-sm bg-gray-200 text-gray-800 font-semibold py-1 px-3 rounded-lg hover:bg-gray-300 cursor-pointer",children:[d.jsx(Nl,{className:"inline-block"}),"   HTML ",d.jsx("input",{type:"file",accept:".html",onChange:C=>b(C,"preview"),className:"hidden"})]}),d.jsxs("div",{className:"flex gap-2 items-center",children:[d.jsxs("select",{onChange:C=>{_("preview",C.target.value),C.target.value=""},className:"text-sm bg-gray-100 text-gray-800 font-semibold py-1 px-2 rounded-lg hover:bg-gray-200 cursor-pointer border border-gray-300",children:[d.jsx("option",{value:"",children:" ..."}),i.map(C=>d.jsxs("option",{value:C.key,children:[C.description," (",C.key,")"]},C.id))]}),d.jsx("button",{type:"button",onClick:()=>_("preview","[TITLE]"),className:"text-sm bg-yellow-100 text-yellow-800 font-semibold py-1 px-3 rounded-lg hover:bg-yellow-200",children:" [TITLE]"}),d.jsx("button",{type:"button",onClick:()=>_("preview","[TEXT]"),className:"text-sm bg-blue-100 text-blue-800 font-semibold py-1 px-3 rounded-lg hover:bg-blue-200",children:" [TEXT]"})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("h3",{className:"font-semibold",children:" "}),d.jsx("textarea",{ref:y,value:c,onChange:C=>u(C.target.value),className:"w-full h-64 p-2 border rounded-md font-mono text-sm",dir:"ltr"}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("label",{className:"text-sm bg-gray-200 text-gray-800 font-semibold py-1 px-3 rounded-lg hover:bg-gray-300 cursor-pointer",children:[d.jsx(Nl,{className:"inline-block"}),"   HTML ",d.jsx("input",{type:"file",accept:".html",onChange:C=>b(C,"final"),className:"hidden"})]}),d.jsxs("div",{className:"flex gap-2 items-center",children:[d.jsxs("select",{onChange:C=>{_("final",C.target.value),C.target.value=""},className:"text-sm bg-gray-100 text-gray-800 font-semibold py-1 px-2 rounded-lg hover:bg-gray-200 cursor-pointer border border-gray-300",children:[d.jsx("option",{value:"",children:" ..."}),i.map(C=>d.jsxs("option",{value:C.key,children:[C.description," (",C.key,")"]},C.id))]}),d.jsx("button",{type:"button",onClick:()=>_("final","[TITLE]"),className:"text-sm bg-yellow-100 text-yellow-800 font-semibold py-1 px-3 rounded-lg hover:bg-yellow-200",children:" [TITLE]"}),d.jsx("button",{type:"button",onClick:()=>_("final","[TEXT]"),className:"text-sm bg-blue-100 text-blue-800 font-semibold py-1 px-3 rounded-lg hover:bg-blue-200",children:" [TEXT]"})]})]})]})]})]})}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:e,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",disabled:p&&!r,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:p?" ...":""})]})]})})}):null},TB={toolbar:[[{header:[1,2,3,4,5,6,!1]}],[{font:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"},{align:[]}],[{color:[]},{background:[]}],["link","image","video"],["clean"]]},sMe=({isOpen:t,onClose:e,onSave:n,fullDocuments:r})=>{const{baseTemplates:i}=nn(),[s,a]=q.useState(""),[o,l]=q.useState(""),[c,u]=q.useState("dz"),[f,h]=q.useState(""),[p,v]=q.useState(""),[g,y]=q.useState(!1),[b,_]=q.useState(!1),[w,C]=q.useState(!1),S=async()=>{if(!o||!c){alert("      .");return}_(!0),h("");try{const N=i.find(P=>P.id===s);let k="";N!=null&&N.textPlaceholderExample?k=`       .             .           HTML  ( <p>  <ul>).

  : "${o}"
 : "${c}"
   : "${N.textPlaceholderExample}"

      .`:k=`         "${o}"    "${c}".            .      HTML  ( <p>  <ul>).`;const F=await ac({model:"gemini-2.5-flash",contents:k});h(F.text||"")}catch(N){console.error("AI description generation failed:",N),alert("  .")}finally{_(!1)}},R=async()=>{if(!o){alert("    .");return}const N=i.find(k=>k.id===s);C(!0),v("");try{let k="";N!=null&&N.textPlaceholderExample?k=`You are an assistant for official documents in Arabic. Your task is to adapt a generic text example to fit a specific document title. The output must be simple HTML.
    Document Title: "${o}"
    Country Code: "${c}"
    Generic Text Example to Adapt: "${N.textPlaceholderExample}"
    
    Rewrite the generic text example to be specific and appropriate for the given document title and country. For example, if the title is "Request to change address", the text should be a formal request for an address change. Return only the generated HTML content, without any explanations.`:k=`   ( HTML    <p>  <ul>)      "${o}"    "${c}".         [TEXT]   .`;const F=await ac({model:"gemini-2.5-flash",contents:k});v(F.text||"")}catch(k){console.error("AI text generation failed:",k),alert("  .")}finally{C(!1)}},D=async N=>{N.preventDefault();const k=i.find(I=>I.id===s);if(!k||!o.trim()||!p.trim()){alert("   .");return}y(!0);let F=rMe(o);if(r.find(I=>I.slug===F)){if(!window.confirm("     (    ).        ")){y(!1);return}const U=Date.now().toString().slice(-6);F=`${F}-${U}`}try{const I=ne=>ne.replace(/\s{2,}/g," ").replace(/\n/g,"").trim(),U=k.previewTemplateHtml.replace(/\[TEXT\]/g,p).replace(/\[TITLE\]/g,o),O=k.finalTemplateHtml.replace(/\[TEXT\]/g,p).replace(/\[TITLE\]/g,o),K=H0(O),X=F,J={name:o,groupId:X,slug:F,description:f,countryCode:c||void 0,requiredFields:K,previewTemplateHtml:I(U),finalTemplateHtml:I(O),tags:k.name};await fl.create({...J,id:X}),n(),e()}catch(I){console.error("Failed to create document from base template:",I),alert("  .")}finally{y(!1)}};return t?d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",children:d.jsxs("form",{onSubmit:D,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:"     "})}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),d.jsxs("select",{value:s,onChange:N=>a(N.target.value),required:!0,className:"w-full p-2 border rounded-md bg-white",children:[d.jsx("option",{value:"",disabled:!0,children:"--  --"}),i.map(N=>d.jsx("option",{value:N.id,children:N.name},N.id))]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),d.jsx("input",{type:"text",value:o,onChange:N=>l(N.target.value),required:!0,className:"w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  (: dz)"}),d.jsx("input",{type:"text",value:c,onChange:N=>u(N.target.value.toLowerCase()),className:"w-full p-2 border rounded-md"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx("div",{className:"flex-grow",children:d.jsx(gr,{theme:"snow",value:f,onChange:h,modules:TB})}),d.jsx("button",{type:"button",onClick:S,disabled:b,className:"p-2 bg-purple-100 text-purple-700 rounded-md hover:bg-purple-200",title:"   ",children:b?d.jsx(Ct,{className:"animate-spin"}):d.jsx(na,{})})]})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-1",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"    [TEXT] "}),d.jsxs("button",{type:"button",onClick:R,disabled:w,className:"flex items-center gap-1 text-xs bg-purple-100 text-purple-700 font-semibold py-1 px-2 rounded-md hover:bg-purple-200",children:[w?d.jsx(Ct,{className:"animate-spin"}):d.jsx(na,{}),d.jsx("span",{children:"  "})]})]}),d.jsx(gr,{theme:"snow",value:p,onChange:v,modules:TB})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:e,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",disabled:g,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:g?" ...":" "})]})]})})}):null},aMe=()=>{const{baseTemplates:t,loading:e,codes:n,fullDocuments:r}=nn(),[i,s]=q.useState(!1),[a,o]=q.useState(!1),[l,c]=q.useState(null),u=async()=>{},f=async p=>{s(!0),c({...p,name:" ..."});try{const v=await ym.get(p.id);c(v||p)}catch(v){console.error("Failed to fetch fresh template:",v),c(p),alert("Could not fetch the latest template data. Displaying cached version.")}},h=async p=>{window.confirm("       ")&&(await ym.delete(p),u())};return d.jsxs("div",{children:[i&&d.jsx(iMe,{isOpen:i,onClose:()=>{s(!1),c(null)},onSave:u,initialData:l,codes:n}),a&&d.jsx(sMe,{isOpen:a,onClose:()=>o(!1),onSave:u,fullDocuments:r}),d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"  "}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:()=>o(!0),className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700",children:[d.jsx(ic,{className:"inline-block"}),"  "]}),d.jsxs("button",{onClick:()=>{c({id:"",name:" ...",previewTemplateHtml:"",finalTemplateHtml:""}),s(!0)},className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:[d.jsx(ic,{className:"inline-block"}),"   "]})]})]}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:"  "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:e?d.jsx("tr",{children:d.jsx("td",{colSpan:2,className:"text-center p-6",children:d.jsx(Ct,{className:"animate-spin text-2xl mx-auto"})})}):t.map(p=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 font-semibold",children:p.name}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse",children:[d.jsxs("button",{onClick:()=>f(p),className:"text-blue-600 hover:underline text-sm font-semibold",children:[d.jsx(vw,{className:"inline-block"})," "]}),d.jsxs("button",{onClick:()=>h(p.id),className:"text-red-600 hover:underline text-sm font-semibold",children:[d.jsx(Hm,{className:"inline-block"})," "]})]})]},p.id))})]})})})]})},E4={intents:{sum:["","","","",""],subtract:["","","","",""],multiply:["",""," ",""],divide:["","","",""],average:[""," ","",""],count:[" "," ","","",""],max:[" "," "," ","",""],min:[" "," "," ","",""],copy:["","","","",""," "],paste:["","",""],cut:["","","","",""," "],insert:["","","","","",""],search:[""," ","",""," "],color:["",""," ","","",""],resize:["",""," ","",""," "],select:["","","","",""],delete:["","","",""," ","","","",""],clear:[""," ",""," "],merge:["","","",""],split:["","","","",""],transpose:["","","","",""],filter:[""," ","   ",""],conditionalColor:[" ","  "," "," "],replace:["",""," ","",""," "," "],concatenate:[" "," "," "," "],sort:["","","","",""," "," "],removeDuplicates:[" "," "," "," "],groupBy:[""," ",""," "],createChart:["","  ","  ","  "," "],formatNumber:[" "," "," ","  "," "," ","  "],calculatePercentage:["  "," ","  "],move:["","","","","","",""]},targets:{cell:["","","",""],row:["","","","",""],column:["","","",""],horizontalColumn:[" "," ","",""],verticalColumn:[" "," ","",""],range:[""," "," "," "],sheet:["","",""," "],workbook:["","","",""],selectedTable:[" "," "," "]},movements:{right:["",""],left:["",""]},numbers:{1:["","","","","1"],2:["","","","","2"],3:["","","","","3"],4:["","","","","4"],5:["","","","","5"],6:["","","","","6"],7:["","","","","7"],8:["","","","","8"],9:["","","","","9"],10:["","","","","10"],last:["","","",""],all:["","",""]},positions:{after:["","",""],before:["","",""],at:["","","",""],start:[""," ",""],end:[""," ",""]},colors:{red:["","",""],blue:["","",""],green:["","",""],yellow:["","",""],black:["","",""],white:["","",""],orange:["",""],purple:["",""],pink:["",""],gray:["",""],brown:["",""],cyan:["",""],gold:["",""],silver:["",""]},conditions:{contains:[" ",""," ","",""],equals:["","","",""," "],greaterThan:[" "," ",""],lessThan:[" "," ",""],startsWith:[" "," "],endsWith:[" "," "],between:[""," "],empty:["",""],notEmpty:[" "," "," "]},references:{lastResult:["","","output",""," "," "],lastSearch:["","",""," "," "],lastColumn:["","","  "," "],lastSelection:["",""," ",""," "],thisTarget:["","",""],previous:[""," "]},referenceWords:["","","","","",""],negationWords:["","","",""],rangeWords:["","",""]},oMe=()=>{const[t,e]=q.useState(null),[n,r]=q.useState(""),[i,s]=q.useState(!0),[a,o]=q.useState(!1),[l,c]=q.useState(""),[u,f]=q.useState("");q.useEffect(()=>{s(!0),VA().then(p=>{const v=p||E4;e(v),r(JSON.stringify(v,null,2)),p||f("   .       .")}).catch(()=>{c("    .      ."),e(E4),r(JSON.stringify(E4,null,2))}).finally(()=>s(!1))},[]);const h=async()=>{c(""),f("");try{const p=JSON.parse(n);o(!0),await Sme(p),e(p),f("   !"),setTimeout(()=>f(""),3e3)}catch(p){console.error(p),c("   JSON.        .")}finally{o(!1)}};return i?d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(Ct,{className:"animate-spin text-4xl text-green-600"})}):d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"    (JSON)"}),d.jsxs("button",{onClick:h,disabled:a,className:"bg-green-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-green-700 transition-colors disabled:bg-gray-400 flex items-center gap-2",children:[a?d.jsx(Ct,{className:"animate-spin"}):d.jsx(ww,{}),d.jsx("span",{children:a?" ...":" "})]})]}),d.jsxs("div",{className:"bg-white p-6 rounded-lg border shadow-sm",children:[d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:'        " ".             .'}),l&&d.jsx("div",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-center",children:l}),u&&d.jsx("div",{className:"bg-green-100 text-green-700 p-3 rounded-md mb-4 text-center",children:u}),d.jsx("textarea",{value:n,onChange:p=>r(p.target.value),dir:"ltr",className:"w-full h-[65vh] p-4 font-mono text-sm bg-gray-900 text-green-300 rounded-md border-gray-700 focus:ring-green-500 focus:border-green-500",placeholder:"Loading JSON data..."})]})]})},lMe={colors:{red:["","",""],blue:["","",""],green:["","",""],yellow:["","",""],black:["","",""],white:["","",""],orange:["",""],purple:["",""],pink:["",""],gray:["",""]},actions:{changeColor:[""," "," "],changeSize:[""," "," "],makeBold:["","","",""," "],align:["",""," "," "],replace:[" "," "],delete:["",""],copy:["",""],paste:["",""],createList:[" "," "," "],addListItem:["","",""]},sizeKeywords:{increase:["","",""],decrease:["","",""]},alignments:{center:["","","",""],right:["",""],left:["",""]},targets:{text:["","","",""],selection:["",""]},conjunctions:[""],general:{next:["","",""," "]},listTypes:{bullet:["",""],numbered:["","",""]},positions:{before:[""],after:[""]},listSeparators:{newLine:[" "," "," "]}},cMe=()=>{const[t,e]=q.useState(null),[n,r]=q.useState(""),[i,s]=q.useState(!0),[a,o]=q.useState(!1),[l,c]=q.useState(""),[u,f]=q.useState("");q.useEffect(()=>{s(!0),WA().then(p=>{const v=p||lMe;e(v),r(JSON.stringify(v,null,2))}).catch(()=>c("    .")).finally(()=>s(!1))},[]);const h=async()=>{c(""),f("");try{const p=JSON.parse(n);o(!0),await Ame(p),e(p),f("   !"),setTimeout(()=>f(""),3e3)}catch(p){console.error(p),c("   JSON.        .")}finally{o(!1)}};return i?d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(Ct,{className:"animate-spin text-4xl text-green-600"})}):d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"    (JSON)"}),d.jsxs("button",{onClick:h,disabled:a,className:"bg-green-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-green-700 transition-colors disabled:bg-gray-400 flex items-center gap-2",children:[a?d.jsx(Ct,{className:"animate-spin"}):d.jsx(ww,{}),d.jsx("span",{children:a?" ...":" "})]})]}),d.jsxs("div",{className:"bg-white p-6 rounded-lg border shadow-sm",children:[d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:'        " ".               .'}),l&&d.jsx("div",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-center",children:l}),u&&d.jsx("div",{className:"bg-green-100 text-green-700 p-3 rounded-md mb-4 text-center",children:u}),d.jsx("textarea",{value:n,onChange:p=>r(p.target.value),dir:"ltr",className:"w-full h-[65vh] p-4 font-mono text-sm bg-gray-900 text-green-300 rounded-md border-gray-700 focus:ring-green-500 focus:border-green-500",placeholder:"Loading JSON data..."})]})]})},uMe=()=>{var o;const{useAdminChatManager:t}=Qf(),{conversations:e,messages:n,currentConversationId:r,selectConversation:i,sendMessage:s}=t(),a=Array.from(e.entries()).sort(([,l],[,c])=>c.lastMessage.timestamp-l.lastMessage.timestamp);return d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"  "}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 items-start h-[75vh]",children:[d.jsxs("aside",{className:"lg:col-span-1 bg-gray-50 rounded-lg p-4 border max-h-full overflow-y-auto",children:[d.jsxs("h2",{className:"font-bold text-lg mb-3",children:[" (",e.size,")"]}),a.length>0?d.jsx("div",{className:"space-y-2",children:a.map(([l,c])=>d.jsxs("button",{onClick:()=>i(l),className:`w-full text-right p-3 rounded-lg border-2 transition-colors flex justify-between items-start ${r===l?"bg-green-100 border-green-500":"bg-white hover:bg-gray-100 border-transparent"}`,children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-gray-800",children:c.cafeName||"  "}),d.jsxs("p",{className:"text-sm text-gray-500 truncate",children:[c.lastMessage.senderId==="admin"?": ":"",c.lastMessage.text]})]}),c.unread&&d.jsx(qA,{className:"text-blue-500 text-xs mt-1 flex-shrink-0"})]},l))}):d.jsx("p",{className:"text-gray-500 text-center py-4",children:"   ."})]}),d.jsx("main",{className:"lg:col-span-2 bg-white rounded-lg border shadow-sm h-full flex flex-col",children:r?d.jsx(rk,{messages:n,onSendMessage:s,currentUserId:"admin",title:`  ${((o=e.get(r))==null?void 0:o.cafeName)||""}`,isOnline:!0}):d.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-8",children:[d.jsx(ek,{className:"text-5xl text-gray-300 mb-4"}),d.jsx("h3",{className:"text-xl font-medium text-gray-800",children:" "}),d.jsx("p",{className:"text-gray-500 mt-1",children:"           ."})]})})]})]})},dMe=()=>{var h,p;const{user:t}=Ar(),{useCafeChatManager:e}=Qf(),{adminConversation:n,visitorConversations:r,sendMessageToAdmin:i,sendMessageToVisitor:s,markAdminAsRead:a,markVisitorAsRead:o}=e(),[l,c]=q.useState({type:"admin",id:"admin"});q.useEffect(()=>{l.type==="admin"?a():o(l.id)},[l,a,o]);const u=q.useMemo(()=>Array.from(r.entries()).sort(([,v],[,g])=>{var y,b;return(((y=g.lastMessage)==null?void 0:y.timestamp)||0)-(((b=v.lastMessage)==null?void 0:b.timestamp)||0)}),[r]),f=q.useMemo(()=>l.type==="admin"?n:r.get(l.id),[l,n,r]);return d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:" "}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 items-start h-[75vh]",children:[d.jsxs("aside",{className:"lg:col-span-1 bg-gray-50 rounded-lg p-4 border max-h-full overflow-y-auto",children:[d.jsx("h2",{className:"font-bold text-lg mb-3",children:""}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("button",{onClick:()=>c({type:"admin",id:"admin"}),className:`w-full text-right p-3 rounded-lg border-2 transition-colors flex justify-between items-start ${l.id==="admin"?"bg-green-100 border-green-500":"bg-white hover:bg-gray-100 border-transparent"}`,children:[d.jsxs("div",{children:[d.jsxs("p",{className:"font-bold text-gray-800 flex items-center gap-2",children:[d.jsx(nge,{className:"text-gray-500"}),"  "]}),d.jsxs("p",{className:"text-sm text-gray-500 truncate",children:[((h=n.lastMessage)==null?void 0:h.senderId)===(t==null?void 0:t.id)?": ":"",((p=n.lastMessage)==null?void 0:p.text)||"  "]})]}),n.unread&&d.jsx(qA,{className:"text-blue-500 text-xs mt-1 flex-shrink-0"})]}),u.map(([v,g])=>{var y,b;return d.jsxs("button",{onClick:()=>c({type:"visitor",id:v}),className:`w-full text-right p-3 rounded-lg border-2 transition-colors flex justify-between items-start ${l.id===v?"bg-green-100 border-green-500":"bg-white hover:bg-gray-100 border-transparent"}`,children:[d.jsxs("div",{children:[d.jsxs("p",{className:"font-bold text-gray-800 flex items-center gap-2",children:[d.jsx(rge,{className:"text-gray-500"}),"  ",v.substring(8,12)]}),d.jsxs("p",{className:"text-sm text-gray-500 truncate",children:[((y=g.lastMessage)==null?void 0:y.senderId)===(t==null?void 0:t.id)?": ":"",(b=g.lastMessage)==null?void 0:b.text]})]}),g.unread&&d.jsx(qA,{className:"text-blue-500 text-xs mt-1 flex-shrink-0"})]},v)})]})]}),d.jsx("main",{className:"lg:col-span-2 bg-white rounded-lg border shadow-sm h-full flex flex-col",children:f&&t?d.jsx(rk,{messages:f.messages,onSendMessage:l.type==="admin"?i:v=>s(l.id,v),currentUserId:t.id,title:l.type==="admin"?"   ":`   ${l.id.substring(8,12)}`,isOnline:!0}):d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{children:"  "})})})]})]})},fMe=()=>{const{countryCode:t,docId:e}=aa(),{documents:n,fullDocuments:r,siteSettings:i,loading:s,loadingFullDocuments:a}=nn(),{t:o}=la(),[l,c]=q.useState("form"),[u,f]=q.useState({}),[h,p]=q.useState(null),[v,g]=q.useState((i==null?void 0:i.ads.pdfInterstitialTimer)??5),y=q.useMemo(()=>{const R=decodeURIComponent(e||""),D=r.find(N=>N.id===R||N.slug===R||N.name===R);return D||n.find(N=>N.id===R||N.slug===R||N.name===R)},[r,n,e]),b=q.useMemo(()=>y?y.requiredFields.filter(R=>R!=="DateToday").map(R=>ei[R]):[],[y]),_=async R=>{if(!y||!R)return;const D=[...r,...n];if(R==="word"){let N=y.finalTemplateHtml||"";if(!N&&y.finalTemplateUrl)try{const U=await fetch(y.finalTemplateUrl);U.ok&&(N=await U.text())}catch(U){console.error(U)}if(!N){alert("   .");return}const F=new Date().toLocaleDateString("ar-DZ",{day:"2-digit",month:"2-digit",year:"numeric"});N=N.replace(/\[DateToday\]/g,F),Object.keys(u).forEach(U=>{const O=new RegExp(`\\[${U}\\]`,"g");N=N.replace(O,u[U]||"")}),N=N.replace(/\[[^\]]+\]/g,"");const P=new Blob([`
                <html xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:w='urn:schemas-microsoft-com:office:word' xmlns='http://www.w3.org/TR/REC-html40'>
                <head><meta charset='utf-8'><title>${y.name}</title></head>
                <body>${N}</body>
                </html>
            `],{type:"application/msword"}),I=document.createElement("a");I.href=URL.createObjectURL(P),I.download=`${y.slug||"document"}.doc`,document.body.appendChild(I),I.click(),document.body.removeChild(I),URL.revokeObjectURL(I.href);return}R==="pdf"&&await Vy(D,y.id,u,{action:"download",targetLang:"ar",templateType:"final"})};q.useEffect(()=>{if(l==="ad")if(v>0){const R=setTimeout(()=>g(D=>D-1),1e3);return()=>clearTimeout(R)}else _(h)},[l,v,h]);const w=(R,D)=>{f(N=>({...N,[R]:D}))},C=R=>{R.preventDefault(),c("select_format")},S=R=>{p(R),g((i==null?void 0:i.ads.pdfInterstitialTimer)??5),c("ad")};return s||a?d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(Ct,{className:"animate-spin text-4xl text-green-600"})}):y?l==="select_format"?d.jsx("div",{className:"max-w-xl mx-auto text-center",children:d.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg border space-y-4",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" :   "}),d.jsx("p",{className:"text-gray-600",children:"      ."}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-4",children:[d.jsxs("button",{onClick:()=>S("pdf"),className:"flex-1 flex flex-col items-center justify-center gap-2 bg-red-100 text-red-800 font-bold p-6 rounded-lg hover:bg-red-200 border border-red-200 transition-colors",children:[d.jsx(_w,{size:40}),d.jsx("span",{children:"  PDF"})]}),d.jsxs("button",{onClick:()=>S("word"),className:"flex-1 flex flex-col items-center justify-center gap-2 bg-blue-100 text-blue-800 font-bold p-6 rounded-lg hover:bg-blue-200 border border-blue-200 transition-colors",children:[d.jsx(tk,{size:40}),d.jsx("span",{children:"  Word"})]})]})]})}):l==="ad"?d.jsx("div",{className:"max-w-3xl mx-auto text-center",children:d.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg border space-y-4",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"    ..."}),d.jsx("p",{className:"text-gray-600",children:"    :"}),d.jsx("div",{className:"text-5xl font-bold text-green-600 font-mono tracking-widest my-4 p-4 bg-gray-100 rounded-lg",children:v}),d.jsxs("div",{className:"pt-6 border-t",children:[d.jsx("p",{className:"text-sm text-gray-500 mb-4",children:":"}),d.jsx(sc,{placement:"PDF_INTERSTITIAL"})]})]})}):d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8 items-start",children:[d.jsx("aside",{className:"hidden lg:block lg:col-span-1 space-y-6",children:d.jsx(sc,{placement:"PUBLIC_FORM_RIGHT"})}),d.jsx("main",{className:"lg:col-span-3",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8",children:[d.jsxs("div",{className:"mb-6 border-b pb-4 text-center",children:[d.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:[" : ",y.name]}),d.jsx("p",{className:"text-gray-600",children:"      ."})]}),d.jsxs("form",{onSubmit:C,className:"space-y-4",children:[b.map(R=>{if(!R)return null;const D=R.id;return d.jsxs("div",{children:[d.jsx("label",{htmlFor:R.id,className:"block text-sm font-medium text-gray-700 mb-1",children:o(R.label)}),R.type==="file"?d.jsx(qv,{value:u[R.id]||"",onChange:N=>w(R.id,N)}):R.type==="select"&&R.options?d.jsxs("select",{id:R.id,name:R.id,value:u[D]||"",onChange:N=>w(N.target.name,N.target.value),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm",required:!0,children:[d.jsx("option",{value:"",children:o(R.placeholder)}),R.options.map(N=>d.jsx("option",{value:N.value,children:o(N.label)},N.value))]}):d.jsx("input",{type:R.type,id:R.id,name:R.id,value:u[D]||"",onChange:N=>w(N.target.name,N.target.value),placeholder:o(R.placeholder),className:"w-full p-2 border rounded-md",required:!0})]},R.id)}),d.jsx("div",{className:"pt-4",children:d.jsxs("button",{type:"submit",className:"w-full flex items-center justify-center gap-3 bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition-colors text-lg",children:[d.jsx(RH,{}),d.jsx("span",{children:" "})]})})]})]})}),d.jsx("aside",{className:"hidden lg:block lg:col-span-1 space-y-6",children:d.jsx(sc,{placement:"PUBLIC_FORM_LEFT"})})]}):d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"    "}),d.jsx(en,{to:`/${t}`,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700",children:"   "})]})},hMe=()=>{const{pathname:t}=Dr();return q.useEffect(()=>{window.scrollTo(0,0)},[t]),null},pMe=()=>{const{user:t,loading:e}=Ar(),n=q.useCallback(()=>{if(e)return;const r={source:"gitut-webapp",type:"auth_update",payload:t?{user:{email:t.email},credits:t.credits}:null};window.postMessage(r,"*")},[t,e]);return q.useEffect(()=>{const r=i=>{var s;i.source===window&&((s=i.data)==null?void 0:s.source)==="gitut-extension"&&i.data.type==="get_auth"&&n()};return window.addEventListener("message",r),()=>window.removeEventListener("message",r)},[n]),q.useEffect(()=>{n()},[n]),null},mMe=()=>{const{countryCode:t}=aa(),e=q.useMemo(()=>ks.en.map(n=>n.code),[]);return t&&/^[a-z]{2}$/.test(t)&&e.includes(t)?d.jsx(EN,{}):d.jsx(sQ,{})},gMe=()=>{const{user:t,loading:e}=Ar(),{error:n}=nn(),r=Dr(),i=r.pathname.match(/^\/([a-z]{2})(?:\/|$)/),s=i?i[1]:null;if(n)return d.jsx("main",{className:"flex-grow container mx-auto px-4 py-8 flex justify-center items-center",children:d.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-800 p-4 rounded-md shadow-md max-w-2xl",role:"alert",children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"py-1",children:d.jsx(xw,{className:"h-6 w-6 text-red-500 ml-4 rtl:mr-0 rtl:ml-4"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold",children:"   "}),d.jsx("p",{className:"text-sm",children:"   .       ."}),d.jsx("div",{className:"text-sm mt-2 bg-red-200 p-3 rounded",dangerouslySetInnerHTML:{__html:n}})]})]})})});if(e)return d.jsx("main",{className:"flex-grow container mx-auto px-4 py-8 flex justify-center items-center",children:d.jsx(Ct,{className:"animate-spin text-4xl text-green-600"})});const a=r.pathname.startsWith("/admin");if(t&&t.countryCode&&s&&t.countryCode!==s&&!a){const f=r.pathname.replace(`/${s}`,`/${t.countryCode}`);return d.jsx(gp,{to:f,replace:!0})}const o=/^\/[a-z]{2}\/app\/(document-studio|excel-studio)/.test(r.pathname),l=/^\/admin\/app\/document-studio/.test(r.pathname),u=o||l?"flex-grow px-4 py-8 w-full":"flex-grow container mx-auto px-4 py-8";return d.jsx("main",{className:u,children:d.jsxs(dee,{children:[d.jsx($t,{path:"/",element:d.jsx(E9,{})}),d.jsx($t,{path:"/admin/login",element:d.jsx(gye,{})}),d.jsxs($t,{path:"/admin/app",element:d.jsx(xye,{children:d.jsx(vye,{})}),children:[d.jsx($t,{index:!0,element:d.jsx(_ye,{})}),d.jsx($t,{path:"users",element:d.jsx(bye,{})}),d.jsx($t,{path:"billing",element:d.jsx(wye,{})}),d.jsx($t,{path:"settings",element:d.jsx(Tye,{})}),d.jsx($t,{path:"seo",element:d.jsx(Cye,{})}),d.jsx($t,{path:"pages",element:d.jsx(zve,{})}),d.jsx($t,{path:"ads",element:d.jsx(Gve,{})}),d.jsx($t,{path:"blog",element:d.jsx(qSe,{})}),d.jsx($t,{path:"data",element:d.jsx(YSe,{})}),d.jsx($t,{path:"sites",element:d.jsx(QSe,{})}),d.jsx($t,{path:"documents",element:d.jsx(tDe,{})}),d.jsx($t,{path:"document-studio",element:d.jsx(eMe,{})}),d.jsx($t,{path:"base-templates",element:d.jsx(aMe,{})}),d.jsx($t,{path:"static-docs",element:d.jsx(oDe,{})}),d.jsx($t,{path:"excel-commands",element:d.jsx(oMe,{})}),d.jsx($t,{path:"document-commands",element:d.jsx(cMe,{})}),d.jsx($t,{path:"chat",element:d.jsx(uMe,{})})]}),d.jsx($t,{path:"/login",element:d.jsx(gp,{to:"/dz/login",replace:!0})}),d.jsx($t,{path:"/signup",element:d.jsx(gp,{to:"/dz/signup",replace:!0})}),d.jsx($t,{path:"/app/*",element:d.jsx(gp,{to:"/",replace:!0})}),d.jsxs($t,{path:"/:countryCode",element:d.jsx(mMe,{}),children:[d.jsx($t,{index:!0,element:d.jsx(E9,{})}),d.jsx($t,{path:"profile/:numericId",element:d.jsx(hge,{})}),d.jsx($t,{path:"form",element:d.jsx(Tge,{})}),d.jsx($t,{path:"public-form/:docId",element:d.jsx(fMe,{})}),d.jsx($t,{path:"confirmation/:jobId",element:d.jsx(Ege,{})}),d.jsx($t,{path:"page/:slug",element:d.jsx(Hve,{})}),d.jsx($t,{path:"service/:type/:id",element:d.jsx(sDe,{})}),d.jsx($t,{path:"view/:docId",element:d.jsx(cDe,{})}),d.jsx($t,{path:"go-to-site/:siteId",element:d.jsx(nMe,{})}),d.jsx($t,{path:"find-cafe",element:d.jsx(fDe,{})}),d.jsx($t,{path:"login",element:d.jsx(Cge,{})}),d.jsx($t,{path:"signup",element:d.jsx(Dge,{})}),d.jsxs($t,{path:"app",element:d.jsx(Gge,{children:d.jsx(Ige,{children:d.jsx(Mge,{})})}),children:[d.jsx($t,{index:!0,element:d.jsx(Lge,{})}),d.jsx($t,{path:"pending-jobs",element:d.jsx(Wge,{})}),d.jsx($t,{path:"generate",element:d.jsx(Hge,{})}),d.jsx($t,{path:"excel-studio",element:d.jsx(bFe,{})}),d.jsx($t,{path:"document-studio",element:d.jsx(Y7e,{})}),d.jsx($t,{path:"settings",element:d.jsx(lye,{})}),d.jsx($t,{path:"multi-person-job",element:d.jsx(dye,{})}),d.jsx($t,{path:"billing",element:d.jsx(mye,{})}),d.jsx($t,{path:"fill-site/:siteId",element:d.jsx(ZSe,{})}),d.jsx($t,{path:"clients",element:d.jsx(nDe,{})}),d.jsx($t,{path:"view-pdf/:docId",element:d.jsx(lDe,{})}),d.jsx($t,{path:"chat",element:d.jsx(dMe,{})})]})]}),d.jsx($t,{path:"*",element:d.jsx(sQ,{})})]})})},yMe=()=>d.jsx(Ime,{children:d.jsx(age,{children:d.jsx(Mee,{children:d.jsx(oge,{children:d.jsxs(dge,{children:[d.jsx(tMe,{}),d.jsx(hMe,{}),d.jsx(pMe,{}),d.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-100 text-gray-900",children:[d.jsx(sge,{}),d.jsx(gMe,{}),d.jsx(lge,{})]})]})})})})}),aQ=document.getElementById("root");if(!aQ)throw new Error("Could not find root element to mount to");const vMe=xZ.createRoot(aQ);vMe.render(d.jsx(vl.StrictMode,{children:d.jsx(yMe,{})}));
