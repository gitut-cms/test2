(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Ds=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function d_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function xZ(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var BE={exports:{}},$g={},VE={exports:{}},wn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oP;function bZ(){if(oP)return wn;oP=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),f=Symbol.iterator;function h(B){return B===null||typeof B!="object"?null:(B=f&&B[f]||B["@@iterator"],typeof B=="function"?B:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,g={};function y(B,j,q){this.props=B,this.context=j,this.refs=g,this.updater=q||p}y.prototype.isReactComponent={},y.prototype.setState=function(B,j){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,j,"setState")},y.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function _(){}_.prototype=y.prototype;function x(B,j,q){this.props=B,this.context=j,this.refs=g,this.updater=q||p}var w=x.prototype=new _;w.constructor=x,v(w,y.prototype),w.isPureReactComponent=!0;var C=Array.isArray,S=Object.prototype.hasOwnProperty,R={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function N(B,j,q){var J,Y={},te=null,oe=null;if(j!=null)for(J in j.ref!==void 0&&(oe=j.ref),j.key!==void 0&&(te=""+j.key),j)S.call(j,J)&&!D.hasOwnProperty(J)&&(Y[J]=j[J]);var de=arguments.length-2;if(de===1)Y.children=q;else if(1<de){for(var fe=Array(de),Ce=0;Ce<de;Ce++)fe[Ce]=arguments[Ce+2];Y.children=fe}if(B&&B.defaultProps)for(J in de=B.defaultProps,de)Y[J]===void 0&&(Y[J]=de[J]);return{$$typeof:t,type:B,key:te,ref:oe,props:Y,_owner:R.current}}function I(B,j){return{$$typeof:t,type:B.type,key:j,ref:B.ref,props:B.props,_owner:B._owner}}function F(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function P(B){var j={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(q){return j[q]})}var k=/\/+/g;function U(B,j){return typeof B=="object"&&B!==null&&B.key!=null?P(""+B.key):j.toString(36)}function O(B,j,q,J,Y){var te=typeof B;(te==="undefined"||te==="boolean")&&(B=null);var oe=!1;if(B===null)oe=!0;else switch(te){case"string":case"number":oe=!0;break;case"object":switch(B.$$typeof){case t:case e:oe=!0}}if(oe)return oe=B,Y=Y(oe),B=J===""?"."+U(oe,0):J,C(Y)?(q="",B!=null&&(q=B.replace(k,"$&/")+"/"),O(Y,j,q,"",function(Ce){return Ce})):Y!=null&&(F(Y)&&(Y=I(Y,q+(!Y.key||oe&&oe.key===Y.key?"":(""+Y.key).replace(k,"$&/")+"/")+B)),j.push(Y)),1;if(oe=0,J=J===""?".":J+":",C(B))for(var de=0;de<B.length;de++){te=B[de];var fe=J+U(te,de);oe+=O(te,j,q,fe,Y)}else if(fe=h(B),typeof fe=="function")for(B=fe.call(B),de=0;!(te=B.next()).done;)te=te.value,fe=J+U(te,de++),oe+=O(te,j,q,fe,Y);else if(te==="object")throw j=String(B),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.");return oe}function H(B,j,q){if(B==null)return B;var J=[],Y=0;return O(B,J,"","",function(te){return j.call(q,te,Y++)}),J}function G(B){if(B._status===-1){var j=B._result;j=j(),j.then(function(q){(B._status===0||B._status===-1)&&(B._status=1,B._result=q)},function(q){(B._status===0||B._status===-1)&&(B._status=2,B._result=q)}),B._status===-1&&(B._status=0,B._result=j)}if(B._status===1)return B._result.default;throw B._result}var X={current:null},Z={transition:null},z={ReactCurrentDispatcher:X,ReactCurrentBatchConfig:Z,ReactCurrentOwner:R};function Q(){throw Error("act(...) is not supported in production builds of React.")}return wn.Children={map:H,forEach:function(B,j,q){H(B,function(){j.apply(this,arguments)},q)},count:function(B){var j=0;return H(B,function(){j++}),j},toArray:function(B){return H(B,function(j){return j})||[]},only:function(B){if(!F(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},wn.Component=y,wn.Fragment=n,wn.Profiler=i,wn.PureComponent=x,wn.StrictMode=r,wn.Suspense=l,wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,wn.act=Q,wn.cloneElement=function(B,j,q){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var J=v({},B.props),Y=B.key,te=B.ref,oe=B._owner;if(j!=null){if(j.ref!==void 0&&(te=j.ref,oe=R.current),j.key!==void 0&&(Y=""+j.key),B.type&&B.type.defaultProps)var de=B.type.defaultProps;for(fe in j)S.call(j,fe)&&!D.hasOwnProperty(fe)&&(J[fe]=j[fe]===void 0&&de!==void 0?de[fe]:j[fe])}var fe=arguments.length-2;if(fe===1)J.children=q;else if(1<fe){de=Array(fe);for(var Ce=0;Ce<fe;Ce++)de[Ce]=arguments[Ce+2];J.children=de}return{$$typeof:t,type:B.type,key:Y,ref:te,props:J,_owner:oe}},wn.createContext=function(B){return B={$$typeof:a,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:s,_context:B},B.Consumer=B},wn.createElement=N,wn.createFactory=function(B){var j=N.bind(null,B);return j.type=B,j},wn.createRef=function(){return{current:null}},wn.forwardRef=function(B){return{$$typeof:o,render:B}},wn.isValidElement=F,wn.lazy=function(B){return{$$typeof:u,_payload:{_status:-1,_result:B},_init:G}},wn.memo=function(B,j){return{$$typeof:c,type:B,compare:j===void 0?null:j}},wn.startTransition=function(B){var j=Z.transition;Z.transition={};try{B()}finally{Z.transition=j}},wn.unstable_act=Q,wn.useCallback=function(B,j){return X.current.useCallback(B,j)},wn.useContext=function(B){return X.current.useContext(B)},wn.useDebugValue=function(){},wn.useDeferredValue=function(B){return X.current.useDeferredValue(B)},wn.useEffect=function(B,j){return X.current.useEffect(B,j)},wn.useId=function(){return X.current.useId()},wn.useImperativeHandle=function(B,j,q){return X.current.useImperativeHandle(B,j,q)},wn.useInsertionEffect=function(B,j){return X.current.useInsertionEffect(B,j)},wn.useLayoutEffect=function(B,j){return X.current.useLayoutEffect(B,j)},wn.useMemo=function(B,j){return X.current.useMemo(B,j)},wn.useReducer=function(B,j,q){return X.current.useReducer(B,j,q)},wn.useRef=function(B){return X.current.useRef(B)},wn.useState=function(B){return X.current.useState(B)},wn.useSyncExternalStore=function(B,j,q){return X.current.useSyncExternalStore(B,j,q)},wn.useTransition=function(){return X.current.useTransition()},wn.version="18.3.1",wn}var lP;function f_(){return lP||(lP=1,VE.exports=bZ()),VE.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cP;function _Z(){if(cP)return $g;cP=1;var t=f_(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(o,l,c){var u,f={},h=null,p=null;c!==void 0&&(h=""+c),l.key!==void 0&&(h=""+l.key),l.ref!==void 0&&(p=l.ref);for(u in l)r.call(l,u)&&!s.hasOwnProperty(u)&&(f[u]=l[u]);if(o&&o.defaultProps)for(u in l=o.defaultProps,l)f[u]===void 0&&(f[u]=l[u]);return{$$typeof:e,type:o,key:h,ref:p,props:f,_owner:i.current}}return $g.Fragment=n,$g.jsx=a,$g.jsxs=a,$g}var uP;function wZ(){return uP||(uP=1,BE.exports=_Z()),BE.exports}var d=wZ(),V=f_();const Jo=d_(V);var vx={},WE={exports:{}},aa={},qE={exports:{}},$E={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dP;function TZ(){return dP||(dP=1,(function(t){function e(Z,z){var Q=Z.length;Z.push(z);e:for(;0<Q;){var B=Q-1>>>1,j=Z[B];if(0<i(j,z))Z[B]=z,Z[Q]=j,Q=B;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var z=Z[0],Q=Z.pop();if(Q!==z){Z[0]=Q;e:for(var B=0,j=Z.length,q=j>>>1;B<q;){var J=2*(B+1)-1,Y=Z[J],te=J+1,oe=Z[te];if(0>i(Y,Q))te<j&&0>i(oe,Y)?(Z[B]=oe,Z[te]=Q,B=te):(Z[B]=Y,Z[J]=Q,B=J);else if(te<j&&0>i(oe,Q))Z[B]=oe,Z[te]=Q,B=te;else break e}}return z}function i(Z,z){var Q=Z.sortIndex-z.sortIndex;return Q!==0?Q:Z.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,f=null,h=3,p=!1,v=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(Z){for(var z=n(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=Z)r(c),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(c)}}function C(Z){if(g=!1,w(Z),!v)if(n(l)!==null)v=!0,G(S);else{var z=n(c);z!==null&&X(C,z.startTime-Z)}}function S(Z,z){v=!1,g&&(g=!1,_(N),N=-1),p=!0;var Q=h;try{for(w(z),f=n(l);f!==null&&(!(f.expirationTime>z)||Z&&!P());){var B=f.callback;if(typeof B=="function"){f.callback=null,h=f.priorityLevel;var j=B(f.expirationTime<=z);z=t.unstable_now(),typeof j=="function"?f.callback=j:f===n(l)&&r(l),w(z)}else r(l);f=n(l)}if(f!==null)var q=!0;else{var J=n(c);J!==null&&X(C,J.startTime-z),q=!1}return q}finally{f=null,h=Q,p=!1}}var R=!1,D=null,N=-1,I=5,F=-1;function P(){return!(t.unstable_now()-F<I)}function k(){if(D!==null){var Z=t.unstable_now();F=Z;var z=!0;try{z=D(!0,Z)}finally{z?U():(R=!1,D=null)}}else R=!1}var U;if(typeof x=="function")U=function(){x(k)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,H=O.port2;O.port1.onmessage=k,U=function(){H.postMessage(null)}}else U=function(){y(k,0)};function G(Z){D=Z,R||(R=!0,U())}function X(Z,z){N=y(function(){Z(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,G(S))},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(Z){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var Q=h;h=z;try{return Z()}finally{h=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Z,z){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var Q=h;h=Z;try{return z()}finally{h=Q}},t.unstable_scheduleCallback=function(Z,z,Q){var B=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?B+Q:B):Q=B,Z){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=Q+j,Z={id:u++,callback:z,priorityLevel:Z,startTime:Q,expirationTime:j,sortIndex:-1},Q>B?(Z.sortIndex=Q,e(c,Z),n(l)===null&&Z===n(c)&&(g?(_(N),N=-1):g=!0,X(C,Q-B))):(Z.sortIndex=j,e(l,Z),v||p||(v=!0,G(S))),Z},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(Z){var z=h;return function(){var Q=h;h=z;try{return Z.apply(this,arguments)}finally{h=Q}}}})($E)),$E}var fP;function EZ(){return fP||(fP=1,qE.exports=TZ()),qE.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hP;function CZ(){if(hP)return aa;hP=1;var t=f_(),e=EZ();function n(m){for(var b="https://reactjs.org/docs/error-decoder.html?invariant="+m,A=1;A<arguments.length;A++)b+="&args[]="+encodeURIComponent(arguments[A]);return"Minified React error #"+m+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(m,b){a(m,b),a(m+"Capture",b)}function a(m,b){for(i[m]=b,m=0;m<b.length;m++)r.add(b[m])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u={},f={};function h(m){return l.call(f,m)?!0:l.call(u,m)?!1:c.test(m)?f[m]=!0:(u[m]=!0,!1)}function p(m,b,A,L){if(A!==null&&A.type===0)return!1;switch(typeof b){case"function":case"symbol":return!0;case"boolean":return L?!1:A!==null?!A.acceptsBooleans:(m=m.toLowerCase().slice(0,5),m!=="data-"&&m!=="aria-");default:return!1}}function v(m,b,A,L){if(b===null||typeof b>"u"||p(m,b,A,L))return!0;if(L)return!1;if(A!==null)switch(A.type){case 3:return!b;case 4:return b===!1;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}function g(m,b,A,L,K,ne,ye){this.acceptsBooleans=b===2||b===3||b===4,this.attributeName=L,this.attributeNamespace=K,this.mustUseProperty=A,this.propertyName=m,this.type=b,this.sanitizeURL=ne,this.removeEmptyString=ye}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(m){y[m]=new g(m,0,!1,m,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(m){var b=m[0];y[b]=new g(b,1,!1,m[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(m){y[m]=new g(m,2,!1,m.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(m){y[m]=new g(m,2,!1,m,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(m){y[m]=new g(m,3,!1,m.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(m){y[m]=new g(m,3,!0,m,null,!1,!1)}),["capture","download"].forEach(function(m){y[m]=new g(m,4,!1,m,null,!1,!1)}),["cols","rows","size","span"].forEach(function(m){y[m]=new g(m,6,!1,m,null,!1,!1)}),["rowSpan","start"].forEach(function(m){y[m]=new g(m,5,!1,m.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function x(m){return m[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(m){var b=m.replace(_,x);y[b]=new g(b,1,!1,m,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(m){var b=m.replace(_,x);y[b]=new g(b,1,!1,m,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(m){var b=m.replace(_,x);y[b]=new g(b,1,!1,m,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(m){y[m]=new g(m,1,!1,m.toLowerCase(),null,!1,!1)}),y.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(m){y[m]=new g(m,1,!1,m.toLowerCase(),null,!0,!0)});function w(m,b,A,L){var K=y.hasOwnProperty(b)?y[b]:null;(K!==null?K.type!==0:L||!(2<b.length)||b[0]!=="o"&&b[0]!=="O"||b[1]!=="n"&&b[1]!=="N")&&(v(b,A,K,L)&&(A=null),L||K===null?h(b)&&(A===null?m.removeAttribute(b):m.setAttribute(b,""+A)):K.mustUseProperty?m[K.propertyName]=A===null?K.type===3?!1:"":A:(b=K.attributeName,L=K.attributeNamespace,A===null?m.removeAttribute(b):(K=K.type,A=K===3||K===4&&A===!0?"":""+A,L?m.setAttributeNS(L,b,A):m.setAttribute(b,A))))}var C=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),R=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),P=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),X=Symbol.for("react.offscreen"),Z=Symbol.iterator;function z(m){return m===null||typeof m!="object"?null:(m=Z&&m[Z]||m["@@iterator"],typeof m=="function"?m:null)}var Q=Object.assign,B;function j(m){if(B===void 0)try{throw Error()}catch(A){var b=A.stack.trim().match(/\n( *(at )?)/);B=b&&b[1]||""}return`
`+B+m}var q=!1;function J(m,b){if(!m||q)return"";q=!0;var A=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(b)if(b=function(){throw Error()},Object.defineProperty(b.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(b,[])}catch(et){var L=et}Reflect.construct(m,[],b)}else{try{b.call()}catch(et){L=et}m.call(b.prototype)}else{try{throw Error()}catch(et){L=et}m()}}catch(et){if(et&&L&&typeof et.stack=="string"){for(var K=et.stack.split(`
`),ne=L.stack.split(`
`),ye=K.length-1,Fe=ne.length-1;1<=ye&&0<=Fe&&K[ye]!==ne[Fe];)Fe--;for(;1<=ye&&0<=Fe;ye--,Fe--)if(K[ye]!==ne[Fe]){if(ye!==1||Fe!==1)do if(ye--,Fe--,0>Fe||K[ye]!==ne[Fe]){var je=`
`+K[ye].replace(" at new "," at ");return m.displayName&&je.includes("<anonymous>")&&(je=je.replace("<anonymous>",m.displayName)),je}while(1<=ye&&0<=Fe);break}}}finally{q=!1,Error.prepareStackTrace=A}return(m=m?m.displayName||m.name:"")?j(m):""}function Y(m){switch(m.tag){case 5:return j(m.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return m=J(m.type,!1),m;case 11:return m=J(m.type.render,!1),m;case 1:return m=J(m.type,!0),m;default:return""}}function te(m){if(m==null)return null;if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m;switch(m){case D:return"Fragment";case R:return"Portal";case I:return"Profiler";case N:return"StrictMode";case U:return"Suspense";case O:return"SuspenseList"}if(typeof m=="object")switch(m.$$typeof){case P:return(m.displayName||"Context")+".Consumer";case F:return(m._context.displayName||"Context")+".Provider";case k:var b=m.render;return m=m.displayName,m||(m=b.displayName||b.name||"",m=m!==""?"ForwardRef("+m+")":"ForwardRef"),m;case H:return b=m.displayName||null,b!==null?b:te(m.type)||"Memo";case G:b=m._payload,m=m._init;try{return te(m(b))}catch{}}return null}function oe(m){var b=m.type;switch(m.tag){case 24:return"Cache";case 9:return(b.displayName||"Context")+".Consumer";case 10:return(b._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return m=b.render,m=m.displayName||m.name||"",b.displayName||(m!==""?"ForwardRef("+m+")":"ForwardRef");case 7:return"Fragment";case 5:return b;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return te(b);case 8:return b===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof b=="function")return b.displayName||b.name||null;if(typeof b=="string")return b}return null}function de(m){switch(typeof m){case"boolean":case"number":case"string":case"undefined":return m;case"object":return m;default:return""}}function fe(m){var b=m.type;return(m=m.nodeName)&&m.toLowerCase()==="input"&&(b==="checkbox"||b==="radio")}function Ce(m){var b=fe(m)?"checked":"value",A=Object.getOwnPropertyDescriptor(m.constructor.prototype,b),L=""+m[b];if(!m.hasOwnProperty(b)&&typeof A<"u"&&typeof A.get=="function"&&typeof A.set=="function"){var K=A.get,ne=A.set;return Object.defineProperty(m,b,{configurable:!0,get:function(){return K.call(this)},set:function(ye){L=""+ye,ne.call(this,ye)}}),Object.defineProperty(m,b,{enumerable:A.enumerable}),{getValue:function(){return L},setValue:function(ye){L=""+ye},stopTracking:function(){m._valueTracker=null,delete m[b]}}}}function Pe(m){m._valueTracker||(m._valueTracker=Ce(m))}function pe(m){if(!m)return!1;var b=m._valueTracker;if(!b)return!0;var A=b.getValue(),L="";return m&&(L=fe(m)?m.checked?"true":"false":m.value),m=L,m!==A?(b.setValue(m),!0):!1}function Me(m){if(m=m||(typeof document<"u"?document:void 0),typeof m>"u")return null;try{return m.activeElement||m.body}catch{return m.body}}function W(m,b){var A=b.checked;return Q({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:A??m._wrapperState.initialChecked})}function ge(m,b){var A=b.defaultValue==null?"":b.defaultValue,L=b.checked!=null?b.checked:b.defaultChecked;A=de(b.value!=null?b.value:A),m._wrapperState={initialChecked:L,initialValue:A,controlled:b.type==="checkbox"||b.type==="radio"?b.checked!=null:b.value!=null}}function _e(m,b){b=b.checked,b!=null&&w(m,"checked",b,!1)}function ce(m,b){_e(m,b);var A=de(b.value),L=b.type;if(A!=null)L==="number"?(A===0&&m.value===""||m.value!=A)&&(m.value=""+A):m.value!==""+A&&(m.value=""+A);else if(L==="submit"||L==="reset"){m.removeAttribute("value");return}b.hasOwnProperty("value")?le(m,b.type,A):b.hasOwnProperty("defaultValue")&&le(m,b.type,de(b.defaultValue)),b.checked==null&&b.defaultChecked!=null&&(m.defaultChecked=!!b.defaultChecked)}function re(m,b,A){if(b.hasOwnProperty("value")||b.hasOwnProperty("defaultValue")){var L=b.type;if(!(L!=="submit"&&L!=="reset"||b.value!==void 0&&b.value!==null))return;b=""+m._wrapperState.initialValue,A||b===m.value||(m.value=b),m.defaultValue=b}A=m.name,A!==""&&(m.name=""),m.defaultChecked=!!m._wrapperState.initialChecked,A!==""&&(m.name=A)}function le(m,b,A){(b!=="number"||Me(m.ownerDocument)!==m)&&(A==null?m.defaultValue=""+m._wrapperState.initialValue:m.defaultValue!==""+A&&(m.defaultValue=""+A))}var ke=Array.isArray;function Ne(m,b,A,L){if(m=m.options,b){b={};for(var K=0;K<A.length;K++)b["$"+A[K]]=!0;for(A=0;A<m.length;A++)K=b.hasOwnProperty("$"+m[A].value),m[A].selected!==K&&(m[A].selected=K),K&&L&&(m[A].defaultSelected=!0)}else{for(A=""+de(A),b=null,K=0;K<m.length;K++){if(m[K].value===A){m[K].selected=!0,L&&(m[K].defaultSelected=!0);return}b!==null||m[K].disabled||(b=m[K])}b!==null&&(b.selected=!0)}}function ie(m,b){if(b.dangerouslySetInnerHTML!=null)throw Error(n(91));return Q({},b,{value:void 0,defaultValue:void 0,children:""+m._wrapperState.initialValue})}function ue(m,b){var A=b.value;if(A==null){if(A=b.children,b=b.defaultValue,A!=null){if(b!=null)throw Error(n(92));if(ke(A)){if(1<A.length)throw Error(n(93));A=A[0]}b=A}b==null&&(b=""),A=b}m._wrapperState={initialValue:de(A)}}function ve(m,b){var A=de(b.value),L=de(b.defaultValue);A!=null&&(A=""+A,A!==m.value&&(m.value=A),b.defaultValue==null&&m.defaultValue!==A&&(m.defaultValue=A)),L!=null&&(m.defaultValue=""+L)}function be(m){var b=m.textContent;b===m._wrapperState.initialValue&&b!==""&&b!==null&&(m.value=b)}function Ie(m){switch(m){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Le(m,b){return m==null||m==="http://www.w3.org/1999/xhtml"?Ie(b):m==="http://www.w3.org/2000/svg"&&b==="foreignObject"?"http://www.w3.org/1999/xhtml":m}var Te,Ue=(function(m){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(b,A,L,K){MSApp.execUnsafeLocalFunction(function(){return m(b,A,L,K)})}:m})(function(m,b){if(m.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in m)m.innerHTML=b;else{for(Te=Te||document.createElement("div"),Te.innerHTML="<svg>"+b.valueOf().toString()+"</svg>",b=Te.firstChild;m.firstChild;)m.removeChild(m.firstChild);for(;b.firstChild;)m.appendChild(b.firstChild)}});function Oe(m,b){if(b){var A=m.firstChild;if(A&&A===m.lastChild&&A.nodeType===3){A.nodeValue=b;return}}m.textContent=b}var Je={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ot=["Webkit","ms","Moz","O"];Object.keys(Je).forEach(function(m){ot.forEach(function(b){b=b+m.charAt(0).toUpperCase()+m.substring(1),Je[b]=Je[m]})});function lt(m,b,A){return b==null||typeof b=="boolean"||b===""?"":A||typeof b!="number"||b===0||Je.hasOwnProperty(m)&&Je[m]?(""+b).trim():b+"px"}function Bt(m,b){m=m.style;for(var A in b)if(b.hasOwnProperty(A)){var L=A.indexOf("--")===0,K=lt(A,b[A],L);A==="float"&&(A="cssFloat"),L?m.setProperty(A,K):m[A]=K}}var fn=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ln(m,b){if(b){if(fn[m]&&(b.children!=null||b.dangerouslySetInnerHTML!=null))throw Error(n(137,m));if(b.dangerouslySetInnerHTML!=null){if(b.children!=null)throw Error(n(60));if(typeof b.dangerouslySetInnerHTML!="object"||!("__html"in b.dangerouslySetInnerHTML))throw Error(n(61))}if(b.style!=null&&typeof b.style!="object")throw Error(n(62))}}function Kn(m,b){if(m.indexOf("-")===-1)return typeof b.is=="string";switch(m){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rn=null;function Vn(m){return m=m.target||m.srcElement||window,m.correspondingUseElement&&(m=m.correspondingUseElement),m.nodeType===3?m.parentNode:m}var yn=null,It=null,We=null;function se(m){if(m=Ng(m)){if(typeof yn!="function")throw Error(n(280));var b=m.stateNode;b&&(b=Pv(b),yn(m.stateNode,m.type,b))}}function he(m){It?We?We.push(m):We=[m]:It=m}function Re(){if(It){var m=It,b=We;if(We=It=null,se(m),b)for(m=0;m<b.length;m++)se(b[m])}}function qe(m,b){return m(b)}function st(){}var wt=!1;function Ot(m,b,A){if(wt)return m(b,A);wt=!0;try{return qe(m,b,A)}finally{wt=!1,(It!==null||We!==null)&&(st(),Re())}}function Kt(m,b){var A=m.stateNode;if(A===null)return null;var L=Pv(A);if(L===null)return null;A=L[b];e:switch(b){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(L=!L.disabled)||(m=m.type,L=!(m==="button"||m==="input"||m==="select"||m==="textarea")),m=!L;break e;default:m=!1}if(m)return null;if(A&&typeof A!="function")throw Error(n(231,b,typeof A));return A}var vn=!1;if(o)try{var mn={};Object.defineProperty(mn,"passive",{get:function(){vn=!0}}),window.addEventListener("test",mn,mn),window.removeEventListener("test",mn,mn)}catch{vn=!1}function Mn(m,b,A,L,K,ne,ye,Fe,je){var et=Array.prototype.slice.call(arguments,3);try{b.apply(A,et)}catch(ht){this.onError(ht)}}var Sn=!1,er=null,me=!1,we=null,xe={onError:function(m){Sn=!0,er=m}};function Ee(m,b,A,L,K,ne,ye,Fe,je){Sn=!1,er=null,Mn.apply(xe,arguments)}function Ae(m,b,A,L,K,ne,ye,Fe,je){if(Ee.apply(this,arguments),Sn){if(Sn){var et=er;Sn=!1,er=null}else throw Error(n(198));me||(me=!0,we=et)}}function Se(m){var b=m,A=m;if(m.alternate)for(;b.return;)b=b.return;else{m=b;do b=m,(b.flags&4098)!==0&&(A=b.return),m=b.return;while(m)}return b.tag===3?A:null}function Ve(m){if(m.tag===13){var b=m.memoizedState;if(b===null&&(m=m.alternate,m!==null&&(b=m.memoizedState)),b!==null)return b.dehydrated}return null}function Ze(m){if(Se(m)!==m)throw Error(n(188))}function $e(m){var b=m.alternate;if(!b){if(b=Se(m),b===null)throw Error(n(188));return b!==m?null:m}for(var A=m,L=b;;){var K=A.return;if(K===null)break;var ne=K.alternate;if(ne===null){if(L=K.return,L!==null){A=L;continue}break}if(K.child===ne.child){for(ne=K.child;ne;){if(ne===A)return Ze(K),m;if(ne===L)return Ze(K),b;ne=ne.sibling}throw Error(n(188))}if(A.return!==L.return)A=K,L=ne;else{for(var ye=!1,Fe=K.child;Fe;){if(Fe===A){ye=!0,A=K,L=ne;break}if(Fe===L){ye=!0,L=K,A=ne;break}Fe=Fe.sibling}if(!ye){for(Fe=ne.child;Fe;){if(Fe===A){ye=!0,A=ne,L=K;break}if(Fe===L){ye=!0,L=ne,A=K;break}Fe=Fe.sibling}if(!ye)throw Error(n(189))}}if(A.alternate!==L)throw Error(n(190))}if(A.tag!==3)throw Error(n(188));return A.stateNode.current===A?m:b}function Xe(m){return m=$e(m),m!==null?Ke(m):null}function Ke(m){if(m.tag===5||m.tag===6)return m;for(m=m.child;m!==null;){var b=Ke(m);if(b!==null)return b;m=m.sibling}return null}var ut=e.unstable_scheduleCallback,xt=e.unstable_cancelCallback,kt=e.unstable_shouldYield,vt=e.unstable_requestPaint,pt=e.unstable_now,en=e.unstable_getCurrentPriorityLevel,Un=e.unstable_ImmediatePriority,An=e.unstable_UserBlockingPriority,Wn=e.unstable_NormalPriority,Ca=e.unstable_LowPriority,za=e.unstable_IdlePriority,Ye=null,nt=null;function Vt(m){if(nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(Ye,m,void 0,(m.current.flags&128)===128)}catch{}}var At=Math.clz32?Math.clz32:Gt,mt=Math.log,Ft=Math.LN2;function Gt(m){return m>>>=0,m===0?32:31-(mt(m)/Ft|0)|0}var kn=64,Jn=4194304;function xr(m){switch(m&-m){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return m&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return m}}function Qs(m,b){var A=m.pendingLanes;if(A===0)return 0;var L=0,K=m.suspendedLanes,ne=m.pingedLanes,ye=A&268435455;if(ye!==0){var Fe=ye&~K;Fe!==0?L=xr(Fe):(ne&=ye,ne!==0&&(L=xr(ne)))}else ye=A&~K,ye!==0?L=xr(ye):ne!==0&&(L=xr(ne));if(L===0)return 0;if(b!==0&&b!==L&&(b&K)===0&&(K=L&-L,ne=b&-b,K>=ne||K===16&&(ne&4194240)!==0))return b;if((L&4)!==0&&(L|=A&16),b=m.entangledLanes,b!==0)for(m=m.entanglements,b&=L;0<b;)A=31-At(b),K=1<<A,L|=m[A],b&=~K;return L}function On(m,b){switch(m){case 1:case 2:case 4:return b+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function si(m,b){for(var A=m.suspendedLanes,L=m.pingedLanes,K=m.expirationTimes,ne=m.pendingLanes;0<ne;){var ye=31-At(ne),Fe=1<<ye,je=K[ye];je===-1?((Fe&A)===0||(Fe&L)!==0)&&(K[ye]=On(Fe,b)):je<=b&&(m.expiredLanes|=Fe),ne&=~Fe}}function Zi(m){return m=m.pendingLanes&-1073741825,m!==0?m:m&1073741824?1073741824:0}function So(){var m=kn;return kn<<=1,(kn&4194240)===0&&(kn=64),m}function Ha(m){for(var b=[],A=0;31>A;A++)b.push(m);return b}function Kc(m,b,A){m.pendingLanes|=b,b!==536870912&&(m.suspendedLanes=0,m.pingedLanes=0),m=m.eventTimes,b=31-At(b),m[b]=A}function dr(m,b){var A=m.pendingLanes&~b;m.pendingLanes=b,m.suspendedLanes=0,m.pingedLanes=0,m.expiredLanes&=b,m.mutableReadLanes&=b,m.entangledLanes&=b,b=m.entanglements;var L=m.eventTimes;for(m=m.expirationTimes;0<A;){var K=31-At(A),ne=1<<K;b[K]=0,L[K]=-1,m[K]=-1,A&=~ne}}function Jc(m,b){var A=m.entangledLanes|=b;for(m=m.entanglements;A;){var L=31-At(A),K=1<<L;K&b|m[L]&b&&(m[L]|=b),A&=~K}}var In=0;function Xc(m){return m&=-m,1<m?4<m?(m&268435455)!==0?16:536870912:4:1}var fv,Ch,hv,pv,mv,pg=!1,al=[],es=null,Do=null,Ao=null,Yc=new Map,Ga=new Map,ol=[],yT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gv(m,b){switch(m){case"focusin":case"focusout":es=null;break;case"dragenter":case"dragleave":Do=null;break;case"mouseover":case"mouseout":Ao=null;break;case"pointerover":case"pointerout":Yc.delete(b.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ga.delete(b.pointerId)}}function Zs(m,b,A,L,K,ne){return m===null||m.nativeEvent!==ne?(m={blockedOn:b,domEventName:A,eventSystemFlags:L,nativeEvent:ne,targetContainers:[K]},b!==null&&(b=Ng(b),b!==null&&Ch(b)),m):(m.eventSystemFlags|=L,b=m.targetContainers,K!==null&&b.indexOf(K)===-1&&b.push(K),m)}function vT(m,b,A,L,K){switch(b){case"focusin":return es=Zs(es,m,b,A,L,K),!0;case"dragenter":return Do=Zs(Do,m,b,A,L,K),!0;case"mouseover":return Ao=Zs(Ao,m,b,A,L,K),!0;case"pointerover":var ne=K.pointerId;return Yc.set(ne,Zs(Yc.get(ne)||null,m,b,A,L,K)),!0;case"gotpointercapture":return ne=K.pointerId,Ga.set(ne,Zs(Ga.get(ne)||null,m,b,A,L,K)),!0}return!1}function yv(m){var b=kd(m.target);if(b!==null){var A=Se(b);if(A!==null){if(b=A.tag,b===13){if(b=Ve(A),b!==null){m.blockedOn=b,mv(m.priority,function(){hv(A)});return}}else if(b===3&&A.stateNode.current.memoizedState.isDehydrated){m.blockedOn=A.tag===3?A.stateNode.containerInfo:null;return}}}m.blockedOn=null}function Jl(m){if(m.blockedOn!==null)return!1;for(var b=m.targetContainers;0<b.length;){var A=Sh(m.domEventName,m.eventSystemFlags,b[0],m.nativeEvent);if(A===null){A=m.nativeEvent;var L=new A.constructor(A.type,A);Rn=L,A.target.dispatchEvent(L),Rn=null}else return b=Ng(A),b!==null&&Ch(b),m.blockedOn=A,!1;b.shift()}return!0}function Sd(m,b,A){Jl(m)&&A.delete(b)}function vv(){pg=!1,es!==null&&Jl(es)&&(es=null),Do!==null&&Jl(Do)&&(Do=null),Ao!==null&&Jl(Ao)&&(Ao=null),Yc.forEach(Sd),Ga.forEach(Sd)}function No(m,b){m.blockedOn===b&&(m.blockedOn=null,pg||(pg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,vv)))}function ko(m){function b(K){return No(K,m)}if(0<al.length){No(al[0],m);for(var A=1;A<al.length;A++){var L=al[A];L.blockedOn===m&&(L.blockedOn=null)}}for(es!==null&&No(es,m),Do!==null&&No(Do,m),Ao!==null&&No(Ao,m),Yc.forEach(b),Ga.forEach(b),A=0;A<ol.length;A++)L=ol[A],L.blockedOn===m&&(L.blockedOn=null);for(;0<ol.length&&(A=ol[0],A.blockedOn===null);)yv(A),A.blockedOn===null&&ol.shift()}var Xl=C.ReactCurrentBatchConfig,Qc=!0;function Nr(m,b,A,L){var K=In,ne=Xl.transition;Xl.transition=null;try{In=1,mg(m,b,A,L)}finally{In=K,Xl.transition=ne}}function xT(m,b,A,L){var K=In,ne=Xl.transition;Xl.transition=null;try{In=4,mg(m,b,A,L)}finally{In=K,Xl.transition=ne}}function mg(m,b,A,L){if(Qc){var K=Sh(m,b,A,L);if(K===null)kT(m,b,L,Dd,A),gv(m,L);else if(vT(K,m,b,A,L))L.stopPropagation();else if(gv(m,L),b&4&&-1<yT.indexOf(m)){for(;K!==null;){var ne=Ng(K);if(ne!==null&&fv(ne),ne=Sh(m,b,A,L),ne===null&&kT(m,b,L,Dd,A),ne===K)break;K=ne}K!==null&&L.stopPropagation()}else kT(m,b,L,null,A)}}var Dd=null;function Sh(m,b,A,L){if(Dd=null,m=Vn(L),m=kd(m),m!==null)if(b=Se(m),b===null)m=null;else if(A=b.tag,A===13){if(m=Ve(b),m!==null)return m;m=null}else if(A===3){if(b.stateNode.current.memoizedState.isDehydrated)return b.tag===3?b.stateNode.containerInfo:null;m=null}else b!==m&&(m=null);return Dd=m,null}function gg(m){switch(m){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(en()){case Un:return 1;case An:return 4;case Wn:case Ca:return 16;case za:return 536870912;default:return 16}default:return 16}}var Sa=null,Dh=null,ea=null;function yg(){if(ea)return ea;var m,b=Dh,A=b.length,L,K="value"in Sa?Sa.value:Sa.textContent,ne=K.length;for(m=0;m<A&&b[m]===K[m];m++);var ye=A-m;for(L=1;L<=ye&&b[A-L]===K[ne-L];L++);return ea=K.slice(m,1<L?1-L:void 0)}function Ah(m){var b=m.keyCode;return"charCode"in m?(m=m.charCode,m===0&&b===13&&(m=13)):m=b,m===10&&(m=13),32<=m||m===13?m:0}function ll(){return!0}function vg(){return!1}function ts(m){function b(A,L,K,ne,ye){this._reactName=A,this._targetInst=K,this.type=L,this.nativeEvent=ne,this.target=ye,this.currentTarget=null;for(var Fe in m)m.hasOwnProperty(Fe)&&(A=m[Fe],this[Fe]=A?A(ne):ne[Fe]);return this.isDefaultPrevented=(ne.defaultPrevented!=null?ne.defaultPrevented:ne.returnValue===!1)?ll:vg,this.isPropagationStopped=vg,this}return Q(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var A=this.nativeEvent;A&&(A.preventDefault?A.preventDefault():typeof A.returnValue!="unknown"&&(A.returnValue=!1),this.isDefaultPrevented=ll)},stopPropagation:function(){var A=this.nativeEvent;A&&(A.stopPropagation?A.stopPropagation():typeof A.cancelBubble!="unknown"&&(A.cancelBubble=!0),this.isPropagationStopped=ll)},persist:function(){},isPersistent:ll}),b}var Io={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(m){return m.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nh=ts(Io),cl=Q({},Io,{view:0,detail:0}),bT=ts(cl),kh,Yl,Zc,Ad=Q({},cl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ul,button:0,buttons:0,relatedTarget:function(m){return m.relatedTarget===void 0?m.fromElement===m.srcElement?m.toElement:m.fromElement:m.relatedTarget},movementX:function(m){return"movementX"in m?m.movementX:(m!==Zc&&(Zc&&m.type==="mousemove"?(kh=m.screenX-Zc.screenX,Yl=m.screenY-Zc.screenY):Yl=kh=0,Zc=m),kh)},movementY:function(m){return"movementY"in m?m.movementY:Yl}}),Ih=ts(Ad),xg=Q({},Ad,{dataTransfer:0}),xv=ts(xg),Rh=Q({},cl,{relatedTarget:0}),Ph=ts(Rh),bv=Q({},Io,{animationName:0,elapsedTime:0,pseudoElement:0}),Ql=ts(bv),_v=Q({},Io,{clipboardData:function(m){return"clipboardData"in m?m.clipboardData:window.clipboardData}}),wv=ts(_v),Tv=Q({},Io,{data:0}),bg=ts(Tv),Fh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ls={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ev={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cv(m){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(m):(m=Ev[m])?!!b[m]:!1}function ul(){return Cv}var M=Q({},cl,{key:function(m){if(m.key){var b=Fh[m.key]||m.key;if(b!=="Unidentified")return b}return m.type==="keypress"?(m=Ah(m),m===13?"Enter":String.fromCharCode(m)):m.type==="keydown"||m.type==="keyup"?Ls[m.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ul,charCode:function(m){return m.type==="keypress"?Ah(m):0},keyCode:function(m){return m.type==="keydown"||m.type==="keyup"?m.keyCode:0},which:function(m){return m.type==="keypress"?Ah(m):m.type==="keydown"||m.type==="keyup"?m.keyCode:0}}),ee=ts(M),ae=Q({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),De=ts(ae),He=Q({},cl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ul}),rt=ts(He),St=Q({},Io,{propertyName:0,elapsedTime:0,pseudoElement:0}),tr=ts(St),Ei=Q({},Ad,{deltaX:function(m){return"deltaX"in m?m.deltaX:"wheelDeltaX"in m?-m.wheelDeltaX:0},deltaY:function(m){return"deltaY"in m?m.deltaY:"wheelDeltaY"in m?-m.wheelDeltaY:"wheelDelta"in m?-m.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=ts(Ei),Oi=[9,13,27,32],gi=o&&"CompositionEvent"in window,Ka=null;o&&"documentMode"in document&&(Ka=document.documentMode);var Da=o&&"TextEvent"in window&&!Ka,Nd=o&&(!gi||Ka&&8<Ka&&11>=Ka),Mh=" ",t5=!1;function n5(m,b){switch(m){case"keyup":return Oi.indexOf(b.keyCode)!==-1;case"keydown":return b.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function r5(m){return m=m.detail,typeof m=="object"&&"data"in m?m.data:null}var Uh=!1;function gQ(m,b){switch(m){case"compositionend":return r5(b);case"keypress":return b.which!==32?null:(t5=!0,Mh);case"textInput":return m=b.data,m===Mh&&t5?null:m;default:return null}}function yQ(m,b){if(Uh)return m==="compositionend"||!gi&&n5(m,b)?(m=yg(),ea=Dh=Sa=null,Uh=!1,m):null;switch(m){case"paste":return null;case"keypress":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case"compositionend":return Nd&&b.locale!=="ko"?null:b.data;default:return null}}var vQ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function i5(m){var b=m&&m.nodeName&&m.nodeName.toLowerCase();return b==="input"?!!vQ[m.type]:b==="textarea"}function s5(m,b,A,L){he(L),b=kv(b,"onChange"),0<b.length&&(A=new Nh("onChange","change",null,A,L),m.push({event:A,listeners:b}))}var _g=null,wg=null;function xQ(m){T5(m,0)}function Sv(m){var b=Vh(m);if(pe(b))return m}function bQ(m,b){if(m==="change")return b}var a5=!1;if(o){var _T;if(o){var wT="oninput"in document;if(!wT){var o5=document.createElement("div");o5.setAttribute("oninput","return;"),wT=typeof o5.oninput=="function"}_T=wT}else _T=!1;a5=_T&&(!document.documentMode||9<document.documentMode)}function l5(){_g&&(_g.detachEvent("onpropertychange",c5),wg=_g=null)}function c5(m){if(m.propertyName==="value"&&Sv(wg)){var b=[];s5(b,wg,m,Vn(m)),Ot(xQ,b)}}function _Q(m,b,A){m==="focusin"?(l5(),_g=b,wg=A,_g.attachEvent("onpropertychange",c5)):m==="focusout"&&l5()}function wQ(m){if(m==="selectionchange"||m==="keyup"||m==="keydown")return Sv(wg)}function TQ(m,b){if(m==="click")return Sv(b)}function EQ(m,b){if(m==="input"||m==="change")return Sv(b)}function CQ(m,b){return m===b&&(m!==0||1/m===1/b)||m!==m&&b!==b}var Ro=typeof Object.is=="function"?Object.is:CQ;function Tg(m,b){if(Ro(m,b))return!0;if(typeof m!="object"||m===null||typeof b!="object"||b===null)return!1;var A=Object.keys(m),L=Object.keys(b);if(A.length!==L.length)return!1;for(L=0;L<A.length;L++){var K=A[L];if(!l.call(b,K)||!Ro(m[K],b[K]))return!1}return!0}function u5(m){for(;m&&m.firstChild;)m=m.firstChild;return m}function d5(m,b){var A=u5(m);m=0;for(var L;A;){if(A.nodeType===3){if(L=m+A.textContent.length,m<=b&&L>=b)return{node:A,offset:b-m};m=L}e:{for(;A;){if(A.nextSibling){A=A.nextSibling;break e}A=A.parentNode}A=void 0}A=u5(A)}}function f5(m,b){return m&&b?m===b?!0:m&&m.nodeType===3?!1:b&&b.nodeType===3?f5(m,b.parentNode):"contains"in m?m.contains(b):m.compareDocumentPosition?!!(m.compareDocumentPosition(b)&16):!1:!1}function h5(){for(var m=window,b=Me();b instanceof m.HTMLIFrameElement;){try{var A=typeof b.contentWindow.location.href=="string"}catch{A=!1}if(A)m=b.contentWindow;else break;b=Me(m.document)}return b}function TT(m){var b=m&&m.nodeName&&m.nodeName.toLowerCase();return b&&(b==="input"&&(m.type==="text"||m.type==="search"||m.type==="tel"||m.type==="url"||m.type==="password")||b==="textarea"||m.contentEditable==="true")}function SQ(m){var b=h5(),A=m.focusedElem,L=m.selectionRange;if(b!==A&&A&&A.ownerDocument&&f5(A.ownerDocument.documentElement,A)){if(L!==null&&TT(A)){if(b=L.start,m=L.end,m===void 0&&(m=b),"selectionStart"in A)A.selectionStart=b,A.selectionEnd=Math.min(m,A.value.length);else if(m=(b=A.ownerDocument||document)&&b.defaultView||window,m.getSelection){m=m.getSelection();var K=A.textContent.length,ne=Math.min(L.start,K);L=L.end===void 0?ne:Math.min(L.end,K),!m.extend&&ne>L&&(K=L,L=ne,ne=K),K=d5(A,ne);var ye=d5(A,L);K&&ye&&(m.rangeCount!==1||m.anchorNode!==K.node||m.anchorOffset!==K.offset||m.focusNode!==ye.node||m.focusOffset!==ye.offset)&&(b=b.createRange(),b.setStart(K.node,K.offset),m.removeAllRanges(),ne>L?(m.addRange(b),m.extend(ye.node,ye.offset)):(b.setEnd(ye.node,ye.offset),m.addRange(b)))}}for(b=[],m=A;m=m.parentNode;)m.nodeType===1&&b.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<b.length;A++)m=b[A],m.element.scrollLeft=m.left,m.element.scrollTop=m.top}}var DQ=o&&"documentMode"in document&&11>=document.documentMode,Oh=null,ET=null,Eg=null,CT=!1;function p5(m,b,A){var L=A.window===A?A.document:A.nodeType===9?A:A.ownerDocument;CT||Oh==null||Oh!==Me(L)||(L=Oh,"selectionStart"in L&&TT(L)?L={start:L.selectionStart,end:L.selectionEnd}:(L=(L.ownerDocument&&L.ownerDocument.defaultView||window).getSelection(),L={anchorNode:L.anchorNode,anchorOffset:L.anchorOffset,focusNode:L.focusNode,focusOffset:L.focusOffset}),Eg&&Tg(Eg,L)||(Eg=L,L=kv(ET,"onSelect"),0<L.length&&(b=new Nh("onSelect","select",null,b,A),m.push({event:b,listeners:L}),b.target=Oh)))}function Dv(m,b){var A={};return A[m.toLowerCase()]=b.toLowerCase(),A["Webkit"+m]="webkit"+b,A["Moz"+m]="moz"+b,A}var Lh={animationend:Dv("Animation","AnimationEnd"),animationiteration:Dv("Animation","AnimationIteration"),animationstart:Dv("Animation","AnimationStart"),transitionend:Dv("Transition","TransitionEnd")},ST={},m5={};o&&(m5=document.createElement("div").style,"AnimationEvent"in window||(delete Lh.animationend.animation,delete Lh.animationiteration.animation,delete Lh.animationstart.animation),"TransitionEvent"in window||delete Lh.transitionend.transition);function Av(m){if(ST[m])return ST[m];if(!Lh[m])return m;var b=Lh[m],A;for(A in b)if(b.hasOwnProperty(A)&&A in m5)return ST[m]=b[A];return m}var g5=Av("animationend"),y5=Av("animationiteration"),v5=Av("animationstart"),x5=Av("transitionend"),b5=new Map,_5="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function eu(m,b){b5.set(m,b),s(b,[m])}for(var DT=0;DT<_5.length;DT++){var AT=_5[DT],AQ=AT.toLowerCase(),NQ=AT[0].toUpperCase()+AT.slice(1);eu(AQ,"on"+NQ)}eu(g5,"onAnimationEnd"),eu(y5,"onAnimationIteration"),eu(v5,"onAnimationStart"),eu("dblclick","onDoubleClick"),eu("focusin","onFocus"),eu("focusout","onBlur"),eu(x5,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kQ=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cg));function w5(m,b,A){var L=m.type||"unknown-event";m.currentTarget=A,Ae(L,b,void 0,m),m.currentTarget=null}function T5(m,b){b=(b&4)!==0;for(var A=0;A<m.length;A++){var L=m[A],K=L.event;L=L.listeners;e:{var ne=void 0;if(b)for(var ye=L.length-1;0<=ye;ye--){var Fe=L[ye],je=Fe.instance,et=Fe.currentTarget;if(Fe=Fe.listener,je!==ne&&K.isPropagationStopped())break e;w5(K,Fe,et),ne=je}else for(ye=0;ye<L.length;ye++){if(Fe=L[ye],je=Fe.instance,et=Fe.currentTarget,Fe=Fe.listener,je!==ne&&K.isPropagationStopped())break e;w5(K,Fe,et),ne=je}}}if(me)throw m=we,me=!1,we=null,m}function br(m,b){var A=b[UT];A===void 0&&(A=b[UT]=new Set);var L=m+"__bubble";A.has(L)||(E5(b,m,2,!1),A.add(L))}function NT(m,b,A){var L=0;b&&(L|=4),E5(A,m,L,b)}var Nv="_reactListening"+Math.random().toString(36).slice(2);function Sg(m){if(!m[Nv]){m[Nv]=!0,r.forEach(function(A){A!=="selectionchange"&&(kQ.has(A)||NT(A,!1,m),NT(A,!0,m))});var b=m.nodeType===9?m:m.ownerDocument;b===null||b[Nv]||(b[Nv]=!0,NT("selectionchange",!1,b))}}function E5(m,b,A,L){switch(gg(b)){case 1:var K=Nr;break;case 4:K=xT;break;default:K=mg}A=K.bind(null,b,A,m),K=void 0,!vn||b!=="touchstart"&&b!=="touchmove"&&b!=="wheel"||(K=!0),L?K!==void 0?m.addEventListener(b,A,{capture:!0,passive:K}):m.addEventListener(b,A,!0):K!==void 0?m.addEventListener(b,A,{passive:K}):m.addEventListener(b,A,!1)}function kT(m,b,A,L,K){var ne=L;if((b&1)===0&&(b&2)===0&&L!==null)e:for(;;){if(L===null)return;var ye=L.tag;if(ye===3||ye===4){var Fe=L.stateNode.containerInfo;if(Fe===K||Fe.nodeType===8&&Fe.parentNode===K)break;if(ye===4)for(ye=L.return;ye!==null;){var je=ye.tag;if((je===3||je===4)&&(je=ye.stateNode.containerInfo,je===K||je.nodeType===8&&je.parentNode===K))return;ye=ye.return}for(;Fe!==null;){if(ye=kd(Fe),ye===null)return;if(je=ye.tag,je===5||je===6){L=ne=ye;continue e}Fe=Fe.parentNode}}L=L.return}Ot(function(){var et=ne,ht=Vn(A),yt=[];e:{var dt=b5.get(m);if(dt!==void 0){var Pt=Nh,Wt=m;switch(m){case"keypress":if(Ah(A)===0)break e;case"keydown":case"keyup":Pt=ee;break;case"focusin":Wt="focus",Pt=Ph;break;case"focusout":Wt="blur",Pt=Ph;break;case"beforeblur":case"afterblur":Pt=Ph;break;case"click":if(A.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pt=Ih;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pt=xv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pt=rt;break;case g5:case y5:case v5:Pt=Ql;break;case x5:Pt=tr;break;case"scroll":Pt=bT;break;case"wheel":Pt=Pn;break;case"copy":case"cut":case"paste":Pt=wv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pt=De}var $t=(b&4)!==0,ai=!$t&&m==="scroll",Ge=$t?dt!==null?dt+"Capture":null:dt;$t=[];for(var Be=et,Qe;Be!==null;){Qe=Be;var _t=Qe.stateNode;if(Qe.tag===5&&_t!==null&&(Qe=_t,Ge!==null&&(_t=Kt(Be,Ge),_t!=null&&$t.push(Dg(Be,_t,Qe)))),ai)break;Be=Be.return}0<$t.length&&(dt=new Pt(dt,Wt,null,A,ht),yt.push({event:dt,listeners:$t}))}}if((b&7)===0){e:{if(dt=m==="mouseover"||m==="pointerover",Pt=m==="mouseout"||m==="pointerout",dt&&A!==Rn&&(Wt=A.relatedTarget||A.fromElement)&&(kd(Wt)||Wt[Zl]))break e;if((Pt||dt)&&(dt=ht.window===ht?ht:(dt=ht.ownerDocument)?dt.defaultView||dt.parentWindow:window,Pt?(Wt=A.relatedTarget||A.toElement,Pt=et,Wt=Wt?kd(Wt):null,Wt!==null&&(ai=Se(Wt),Wt!==ai||Wt.tag!==5&&Wt.tag!==6)&&(Wt=null)):(Pt=null,Wt=et),Pt!==Wt)){if($t=Ih,_t="onMouseLeave",Ge="onMouseEnter",Be="mouse",(m==="pointerout"||m==="pointerover")&&($t=De,_t="onPointerLeave",Ge="onPointerEnter",Be="pointer"),ai=Pt==null?dt:Vh(Pt),Qe=Wt==null?dt:Vh(Wt),dt=new $t(_t,Be+"leave",Pt,A,ht),dt.target=ai,dt.relatedTarget=Qe,_t=null,kd(ht)===et&&($t=new $t(Ge,Be+"enter",Wt,A,ht),$t.target=Qe,$t.relatedTarget=ai,_t=$t),ai=_t,Pt&&Wt)t:{for($t=Pt,Ge=Wt,Be=0,Qe=$t;Qe;Qe=jh(Qe))Be++;for(Qe=0,_t=Ge;_t;_t=jh(_t))Qe++;for(;0<Be-Qe;)$t=jh($t),Be--;for(;0<Qe-Be;)Ge=jh(Ge),Qe--;for(;Be--;){if($t===Ge||Ge!==null&&$t===Ge.alternate)break t;$t=jh($t),Ge=jh(Ge)}$t=null}else $t=null;Pt!==null&&C5(yt,dt,Pt,$t,!1),Wt!==null&&ai!==null&&C5(yt,ai,Wt,$t,!0)}}e:{if(dt=et?Vh(et):window,Pt=dt.nodeName&&dt.nodeName.toLowerCase(),Pt==="select"||Pt==="input"&&dt.type==="file")var zt=bQ;else if(i5(dt))if(a5)zt=EQ;else{zt=wQ;var Yt=_Q}else(Pt=dt.nodeName)&&Pt.toLowerCase()==="input"&&(dt.type==="checkbox"||dt.type==="radio")&&(zt=TQ);if(zt&&(zt=zt(m,et))){s5(yt,zt,A,ht);break e}Yt&&Yt(m,dt,et),m==="focusout"&&(Yt=dt._wrapperState)&&Yt.controlled&&dt.type==="number"&&le(dt,"number",dt.value)}switch(Yt=et?Vh(et):window,m){case"focusin":(i5(Yt)||Yt.contentEditable==="true")&&(Oh=Yt,ET=et,Eg=null);break;case"focusout":Eg=ET=Oh=null;break;case"mousedown":CT=!0;break;case"contextmenu":case"mouseup":case"dragend":CT=!1,p5(yt,A,ht);break;case"selectionchange":if(DQ)break;case"keydown":case"keyup":p5(yt,A,ht)}var Qt;if(gi)e:{switch(m){case"compositionstart":var on="onCompositionStart";break e;case"compositionend":on="onCompositionEnd";break e;case"compositionupdate":on="onCompositionUpdate";break e}on=void 0}else Uh?n5(m,A)&&(on="onCompositionEnd"):m==="keydown"&&A.keyCode===229&&(on="onCompositionStart");on&&(Nd&&A.locale!=="ko"&&(Uh||on!=="onCompositionStart"?on==="onCompositionEnd"&&Uh&&(Qt=yg()):(Sa=ht,Dh="value"in Sa?Sa.value:Sa.textContent,Uh=!0)),Yt=kv(et,on),0<Yt.length&&(on=new bg(on,m,null,A,ht),yt.push({event:on,listeners:Yt}),Qt?on.data=Qt:(Qt=r5(A),Qt!==null&&(on.data=Qt)))),(Qt=Da?gQ(m,A):yQ(m,A))&&(et=kv(et,"onBeforeInput"),0<et.length&&(ht=new bg("onBeforeInput","beforeinput",null,A,ht),yt.push({event:ht,listeners:et}),ht.data=Qt))}T5(yt,b)})}function Dg(m,b,A){return{instance:m,listener:b,currentTarget:A}}function kv(m,b){for(var A=b+"Capture",L=[];m!==null;){var K=m,ne=K.stateNode;K.tag===5&&ne!==null&&(K=ne,ne=Kt(m,A),ne!=null&&L.unshift(Dg(m,ne,K)),ne=Kt(m,b),ne!=null&&L.push(Dg(m,ne,K))),m=m.return}return L}function jh(m){if(m===null)return null;do m=m.return;while(m&&m.tag!==5);return m||null}function C5(m,b,A,L,K){for(var ne=b._reactName,ye=[];A!==null&&A!==L;){var Fe=A,je=Fe.alternate,et=Fe.stateNode;if(je!==null&&je===L)break;Fe.tag===5&&et!==null&&(Fe=et,K?(je=Kt(A,ne),je!=null&&ye.unshift(Dg(A,je,Fe))):K||(je=Kt(A,ne),je!=null&&ye.push(Dg(A,je,Fe)))),A=A.return}ye.length!==0&&m.push({event:b,listeners:ye})}var IQ=/\r\n?/g,RQ=/\u0000|\uFFFD/g;function S5(m){return(typeof m=="string"?m:""+m).replace(IQ,`
`).replace(RQ,"")}function Iv(m,b,A){if(b=S5(b),S5(m)!==b&&A)throw Error(n(425))}function Rv(){}var IT=null,RT=null;function PT(m,b){return m==="textarea"||m==="noscript"||typeof b.children=="string"||typeof b.children=="number"||typeof b.dangerouslySetInnerHTML=="object"&&b.dangerouslySetInnerHTML!==null&&b.dangerouslySetInnerHTML.__html!=null}var FT=typeof setTimeout=="function"?setTimeout:void 0,PQ=typeof clearTimeout=="function"?clearTimeout:void 0,D5=typeof Promise=="function"?Promise:void 0,FQ=typeof queueMicrotask=="function"?queueMicrotask:typeof D5<"u"?function(m){return D5.resolve(null).then(m).catch(MQ)}:FT;function MQ(m){setTimeout(function(){throw m})}function MT(m,b){var A=b,L=0;do{var K=A.nextSibling;if(m.removeChild(A),K&&K.nodeType===8)if(A=K.data,A==="/$"){if(L===0){m.removeChild(K),ko(b);return}L--}else A!=="$"&&A!=="$?"&&A!=="$!"||L++;A=K}while(A);ko(b)}function tu(m){for(;m!=null;m=m.nextSibling){var b=m.nodeType;if(b===1||b===3)break;if(b===8){if(b=m.data,b==="$"||b==="$!"||b==="$?")break;if(b==="/$")return null}}return m}function A5(m){m=m.previousSibling;for(var b=0;m;){if(m.nodeType===8){var A=m.data;if(A==="$"||A==="$!"||A==="$?"){if(b===0)return m;b--}else A==="/$"&&b++}m=m.previousSibling}return null}var Bh=Math.random().toString(36).slice(2),dl="__reactFiber$"+Bh,Ag="__reactProps$"+Bh,Zl="__reactContainer$"+Bh,UT="__reactEvents$"+Bh,UQ="__reactListeners$"+Bh,OQ="__reactHandles$"+Bh;function kd(m){var b=m[dl];if(b)return b;for(var A=m.parentNode;A;){if(b=A[Zl]||A[dl]){if(A=b.alternate,b.child!==null||A!==null&&A.child!==null)for(m=A5(m);m!==null;){if(A=m[dl])return A;m=A5(m)}return b}m=A,A=m.parentNode}return null}function Ng(m){return m=m[dl]||m[Zl],!m||m.tag!==5&&m.tag!==6&&m.tag!==13&&m.tag!==3?null:m}function Vh(m){if(m.tag===5||m.tag===6)return m.stateNode;throw Error(n(33))}function Pv(m){return m[Ag]||null}var OT=[],Wh=-1;function nu(m){return{current:m}}function _r(m){0>Wh||(m.current=OT[Wh],OT[Wh]=null,Wh--)}function hr(m,b){Wh++,OT[Wh]=m.current,m.current=b}var ru={},fs=nu(ru),ta=nu(!1),Id=ru;function qh(m,b){var A=m.type.contextTypes;if(!A)return ru;var L=m.stateNode;if(L&&L.__reactInternalMemoizedUnmaskedChildContext===b)return L.__reactInternalMemoizedMaskedChildContext;var K={},ne;for(ne in A)K[ne]=b[ne];return L&&(m=m.stateNode,m.__reactInternalMemoizedUnmaskedChildContext=b,m.__reactInternalMemoizedMaskedChildContext=K),K}function na(m){return m=m.childContextTypes,m!=null}function Fv(){_r(ta),_r(fs)}function N5(m,b,A){if(fs.current!==ru)throw Error(n(168));hr(fs,b),hr(ta,A)}function k5(m,b,A){var L=m.stateNode;if(b=b.childContextTypes,typeof L.getChildContext!="function")return A;L=L.getChildContext();for(var K in L)if(!(K in b))throw Error(n(108,oe(m)||"Unknown",K));return Q({},A,L)}function Mv(m){return m=(m=m.stateNode)&&m.__reactInternalMemoizedMergedChildContext||ru,Id=fs.current,hr(fs,m),hr(ta,ta.current),!0}function I5(m,b,A){var L=m.stateNode;if(!L)throw Error(n(169));A?(m=k5(m,b,Id),L.__reactInternalMemoizedMergedChildContext=m,_r(ta),_r(fs),hr(fs,m)):_r(ta),hr(ta,A)}var ec=null,Uv=!1,LT=!1;function R5(m){ec===null?ec=[m]:ec.push(m)}function LQ(m){Uv=!0,R5(m)}function iu(){if(!LT&&ec!==null){LT=!0;var m=0,b=In;try{var A=ec;for(In=1;m<A.length;m++){var L=A[m];do L=L(!0);while(L!==null)}ec=null,Uv=!1}catch(K){throw ec!==null&&(ec=ec.slice(m+1)),ut(Un,iu),K}finally{In=b,LT=!1}}return null}var $h=[],zh=0,Ov=null,Lv=0,Ja=[],Xa=0,Rd=null,tc=1,nc="";function Pd(m,b){$h[zh++]=Lv,$h[zh++]=Ov,Ov=m,Lv=b}function P5(m,b,A){Ja[Xa++]=tc,Ja[Xa++]=nc,Ja[Xa++]=Rd,Rd=m;var L=tc;m=nc;var K=32-At(L)-1;L&=~(1<<K),A+=1;var ne=32-At(b)+K;if(30<ne){var ye=K-K%5;ne=(L&(1<<ye)-1).toString(32),L>>=ye,K-=ye,tc=1<<32-At(b)+K|A<<K|L,nc=ne+m}else tc=1<<ne|A<<K|L,nc=m}function jT(m){m.return!==null&&(Pd(m,1),P5(m,1,0))}function BT(m){for(;m===Ov;)Ov=$h[--zh],$h[zh]=null,Lv=$h[--zh],$h[zh]=null;for(;m===Rd;)Rd=Ja[--Xa],Ja[Xa]=null,nc=Ja[--Xa],Ja[Xa]=null,tc=Ja[--Xa],Ja[Xa]=null}var Aa=null,Na=null,kr=!1,Po=null;function F5(m,b){var A=eo(5,null,null,0);A.elementType="DELETED",A.stateNode=b,A.return=m,b=m.deletions,b===null?(m.deletions=[A],m.flags|=16):b.push(A)}function M5(m,b){switch(m.tag){case 5:var A=m.type;return b=b.nodeType!==1||A.toLowerCase()!==b.nodeName.toLowerCase()?null:b,b!==null?(m.stateNode=b,Aa=m,Na=tu(b.firstChild),!0):!1;case 6:return b=m.pendingProps===""||b.nodeType!==3?null:b,b!==null?(m.stateNode=b,Aa=m,Na=null,!0):!1;case 13:return b=b.nodeType!==8?null:b,b!==null?(A=Rd!==null?{id:tc,overflow:nc}:null,m.memoizedState={dehydrated:b,treeContext:A,retryLane:1073741824},A=eo(18,null,null,0),A.stateNode=b,A.return=m,m.child=A,Aa=m,Na=null,!0):!1;default:return!1}}function VT(m){return(m.mode&1)!==0&&(m.flags&128)===0}function WT(m){if(kr){var b=Na;if(b){var A=b;if(!M5(m,b)){if(VT(m))throw Error(n(418));b=tu(A.nextSibling);var L=Aa;b&&M5(m,b)?F5(L,A):(m.flags=m.flags&-4097|2,kr=!1,Aa=m)}}else{if(VT(m))throw Error(n(418));m.flags=m.flags&-4097|2,kr=!1,Aa=m}}}function U5(m){for(m=m.return;m!==null&&m.tag!==5&&m.tag!==3&&m.tag!==13;)m=m.return;Aa=m}function jv(m){if(m!==Aa)return!1;if(!kr)return U5(m),kr=!0,!1;var b;if((b=m.tag!==3)&&!(b=m.tag!==5)&&(b=m.type,b=b!=="head"&&b!=="body"&&!PT(m.type,m.memoizedProps)),b&&(b=Na)){if(VT(m))throw O5(),Error(n(418));for(;b;)F5(m,b),b=tu(b.nextSibling)}if(U5(m),m.tag===13){if(m=m.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(n(317));e:{for(m=m.nextSibling,b=0;m;){if(m.nodeType===8){var A=m.data;if(A==="/$"){if(b===0){Na=tu(m.nextSibling);break e}b--}else A!=="$"&&A!=="$!"&&A!=="$?"||b++}m=m.nextSibling}Na=null}}else Na=Aa?tu(m.stateNode.nextSibling):null;return!0}function O5(){for(var m=Na;m;)m=tu(m.nextSibling)}function Hh(){Na=Aa=null,kr=!1}function qT(m){Po===null?Po=[m]:Po.push(m)}var jQ=C.ReactCurrentBatchConfig;function kg(m,b,A){if(m=A.ref,m!==null&&typeof m!="function"&&typeof m!="object"){if(A._owner){if(A=A._owner,A){if(A.tag!==1)throw Error(n(309));var L=A.stateNode}if(!L)throw Error(n(147,m));var K=L,ne=""+m;return b!==null&&b.ref!==null&&typeof b.ref=="function"&&b.ref._stringRef===ne?b.ref:(b=function(ye){var Fe=K.refs;ye===null?delete Fe[ne]:Fe[ne]=ye},b._stringRef=ne,b)}if(typeof m!="string")throw Error(n(284));if(!A._owner)throw Error(n(290,m))}return m}function Bv(m,b){throw m=Object.prototype.toString.call(b),Error(n(31,m==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":m))}function L5(m){var b=m._init;return b(m._payload)}function j5(m){function b(Ge,Be){if(m){var Qe=Ge.deletions;Qe===null?(Ge.deletions=[Be],Ge.flags|=16):Qe.push(Be)}}function A(Ge,Be){if(!m)return null;for(;Be!==null;)b(Ge,Be),Be=Be.sibling;return null}function L(Ge,Be){for(Ge=new Map;Be!==null;)Be.key!==null?Ge.set(Be.key,Be):Ge.set(Be.index,Be),Be=Be.sibling;return Ge}function K(Ge,Be){return Ge=fu(Ge,Be),Ge.index=0,Ge.sibling=null,Ge}function ne(Ge,Be,Qe){return Ge.index=Qe,m?(Qe=Ge.alternate,Qe!==null?(Qe=Qe.index,Qe<Be?(Ge.flags|=2,Be):Qe):(Ge.flags|=2,Be)):(Ge.flags|=1048576,Be)}function ye(Ge){return m&&Ge.alternate===null&&(Ge.flags|=2),Ge}function Fe(Ge,Be,Qe,_t){return Be===null||Be.tag!==6?(Be=FE(Qe,Ge.mode,_t),Be.return=Ge,Be):(Be=K(Be,Qe),Be.return=Ge,Be)}function je(Ge,Be,Qe,_t){var zt=Qe.type;return zt===D?ht(Ge,Be,Qe.props.children,_t,Qe.key):Be!==null&&(Be.elementType===zt||typeof zt=="object"&&zt!==null&&zt.$$typeof===G&&L5(zt)===Be.type)?(_t=K(Be,Qe.props),_t.ref=kg(Ge,Be,Qe),_t.return=Ge,_t):(_t=ux(Qe.type,Qe.key,Qe.props,null,Ge.mode,_t),_t.ref=kg(Ge,Be,Qe),_t.return=Ge,_t)}function et(Ge,Be,Qe,_t){return Be===null||Be.tag!==4||Be.stateNode.containerInfo!==Qe.containerInfo||Be.stateNode.implementation!==Qe.implementation?(Be=ME(Qe,Ge.mode,_t),Be.return=Ge,Be):(Be=K(Be,Qe.children||[]),Be.return=Ge,Be)}function ht(Ge,Be,Qe,_t,zt){return Be===null||Be.tag!==7?(Be=Vd(Qe,Ge.mode,_t,zt),Be.return=Ge,Be):(Be=K(Be,Qe),Be.return=Ge,Be)}function yt(Ge,Be,Qe){if(typeof Be=="string"&&Be!==""||typeof Be=="number")return Be=FE(""+Be,Ge.mode,Qe),Be.return=Ge,Be;if(typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case S:return Qe=ux(Be.type,Be.key,Be.props,null,Ge.mode,Qe),Qe.ref=kg(Ge,null,Be),Qe.return=Ge,Qe;case R:return Be=ME(Be,Ge.mode,Qe),Be.return=Ge,Be;case G:var _t=Be._init;return yt(Ge,_t(Be._payload),Qe)}if(ke(Be)||z(Be))return Be=Vd(Be,Ge.mode,Qe,null),Be.return=Ge,Be;Bv(Ge,Be)}return null}function dt(Ge,Be,Qe,_t){var zt=Be!==null?Be.key:null;if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number")return zt!==null?null:Fe(Ge,Be,""+Qe,_t);if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case S:return Qe.key===zt?je(Ge,Be,Qe,_t):null;case R:return Qe.key===zt?et(Ge,Be,Qe,_t):null;case G:return zt=Qe._init,dt(Ge,Be,zt(Qe._payload),_t)}if(ke(Qe)||z(Qe))return zt!==null?null:ht(Ge,Be,Qe,_t,null);Bv(Ge,Qe)}return null}function Pt(Ge,Be,Qe,_t,zt){if(typeof _t=="string"&&_t!==""||typeof _t=="number")return Ge=Ge.get(Qe)||null,Fe(Be,Ge,""+_t,zt);if(typeof _t=="object"&&_t!==null){switch(_t.$$typeof){case S:return Ge=Ge.get(_t.key===null?Qe:_t.key)||null,je(Be,Ge,_t,zt);case R:return Ge=Ge.get(_t.key===null?Qe:_t.key)||null,et(Be,Ge,_t,zt);case G:var Yt=_t._init;return Pt(Ge,Be,Qe,Yt(_t._payload),zt)}if(ke(_t)||z(_t))return Ge=Ge.get(Qe)||null,ht(Be,Ge,_t,zt,null);Bv(Be,_t)}return null}function Wt(Ge,Be,Qe,_t){for(var zt=null,Yt=null,Qt=Be,on=Be=0,Bi=null;Qt!==null&&on<Qe.length;on++){Qt.index>on?(Bi=Qt,Qt=null):Bi=Qt.sibling;var qn=dt(Ge,Qt,Qe[on],_t);if(qn===null){Qt===null&&(Qt=Bi);break}m&&Qt&&qn.alternate===null&&b(Ge,Qt),Be=ne(qn,Be,on),Yt===null?zt=qn:Yt.sibling=qn,Yt=qn,Qt=Bi}if(on===Qe.length)return A(Ge,Qt),kr&&Pd(Ge,on),zt;if(Qt===null){for(;on<Qe.length;on++)Qt=yt(Ge,Qe[on],_t),Qt!==null&&(Be=ne(Qt,Be,on),Yt===null?zt=Qt:Yt.sibling=Qt,Yt=Qt);return kr&&Pd(Ge,on),zt}for(Qt=L(Ge,Qt);on<Qe.length;on++)Bi=Pt(Qt,Ge,on,Qe[on],_t),Bi!==null&&(m&&Bi.alternate!==null&&Qt.delete(Bi.key===null?on:Bi.key),Be=ne(Bi,Be,on),Yt===null?zt=Bi:Yt.sibling=Bi,Yt=Bi);return m&&Qt.forEach(function(hu){return b(Ge,hu)}),kr&&Pd(Ge,on),zt}function $t(Ge,Be,Qe,_t){var zt=z(Qe);if(typeof zt!="function")throw Error(n(150));if(Qe=zt.call(Qe),Qe==null)throw Error(n(151));for(var Yt=zt=null,Qt=Be,on=Be=0,Bi=null,qn=Qe.next();Qt!==null&&!qn.done;on++,qn=Qe.next()){Qt.index>on?(Bi=Qt,Qt=null):Bi=Qt.sibling;var hu=dt(Ge,Qt,qn.value,_t);if(hu===null){Qt===null&&(Qt=Bi);break}m&&Qt&&hu.alternate===null&&b(Ge,Qt),Be=ne(hu,Be,on),Yt===null?zt=hu:Yt.sibling=hu,Yt=hu,Qt=Bi}if(qn.done)return A(Ge,Qt),kr&&Pd(Ge,on),zt;if(Qt===null){for(;!qn.done;on++,qn=Qe.next())qn=yt(Ge,qn.value,_t),qn!==null&&(Be=ne(qn,Be,on),Yt===null?zt=qn:Yt.sibling=qn,Yt=qn);return kr&&Pd(Ge,on),zt}for(Qt=L(Ge,Qt);!qn.done;on++,qn=Qe.next())qn=Pt(Qt,Ge,on,qn.value,_t),qn!==null&&(m&&qn.alternate!==null&&Qt.delete(qn.key===null?on:qn.key),Be=ne(qn,Be,on),Yt===null?zt=qn:Yt.sibling=qn,Yt=qn);return m&&Qt.forEach(function(vZ){return b(Ge,vZ)}),kr&&Pd(Ge,on),zt}function ai(Ge,Be,Qe,_t){if(typeof Qe=="object"&&Qe!==null&&Qe.type===D&&Qe.key===null&&(Qe=Qe.props.children),typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case S:e:{for(var zt=Qe.key,Yt=Be;Yt!==null;){if(Yt.key===zt){if(zt=Qe.type,zt===D){if(Yt.tag===7){A(Ge,Yt.sibling),Be=K(Yt,Qe.props.children),Be.return=Ge,Ge=Be;break e}}else if(Yt.elementType===zt||typeof zt=="object"&&zt!==null&&zt.$$typeof===G&&L5(zt)===Yt.type){A(Ge,Yt.sibling),Be=K(Yt,Qe.props),Be.ref=kg(Ge,Yt,Qe),Be.return=Ge,Ge=Be;break e}A(Ge,Yt);break}else b(Ge,Yt);Yt=Yt.sibling}Qe.type===D?(Be=Vd(Qe.props.children,Ge.mode,_t,Qe.key),Be.return=Ge,Ge=Be):(_t=ux(Qe.type,Qe.key,Qe.props,null,Ge.mode,_t),_t.ref=kg(Ge,Be,Qe),_t.return=Ge,Ge=_t)}return ye(Ge);case R:e:{for(Yt=Qe.key;Be!==null;){if(Be.key===Yt)if(Be.tag===4&&Be.stateNode.containerInfo===Qe.containerInfo&&Be.stateNode.implementation===Qe.implementation){A(Ge,Be.sibling),Be=K(Be,Qe.children||[]),Be.return=Ge,Ge=Be;break e}else{A(Ge,Be);break}else b(Ge,Be);Be=Be.sibling}Be=ME(Qe,Ge.mode,_t),Be.return=Ge,Ge=Be}return ye(Ge);case G:return Yt=Qe._init,ai(Ge,Be,Yt(Qe._payload),_t)}if(ke(Qe))return Wt(Ge,Be,Qe,_t);if(z(Qe))return $t(Ge,Be,Qe,_t);Bv(Ge,Qe)}return typeof Qe=="string"&&Qe!==""||typeof Qe=="number"?(Qe=""+Qe,Be!==null&&Be.tag===6?(A(Ge,Be.sibling),Be=K(Be,Qe),Be.return=Ge,Ge=Be):(A(Ge,Be),Be=FE(Qe,Ge.mode,_t),Be.return=Ge,Ge=Be),ye(Ge)):A(Ge,Be)}return ai}var Gh=j5(!0),B5=j5(!1),Vv=nu(null),Wv=null,Kh=null,$T=null;function zT(){$T=Kh=Wv=null}function HT(m){var b=Vv.current;_r(Vv),m._currentValue=b}function GT(m,b,A){for(;m!==null;){var L=m.alternate;if((m.childLanes&b)!==b?(m.childLanes|=b,L!==null&&(L.childLanes|=b)):L!==null&&(L.childLanes&b)!==b&&(L.childLanes|=b),m===A)break;m=m.return}}function Jh(m,b){Wv=m,$T=Kh=null,m=m.dependencies,m!==null&&m.firstContext!==null&&((m.lanes&b)!==0&&(ra=!0),m.firstContext=null)}function Ya(m){var b=m._currentValue;if($T!==m)if(m={context:m,memoizedValue:b,next:null},Kh===null){if(Wv===null)throw Error(n(308));Kh=m,Wv.dependencies={lanes:0,firstContext:m}}else Kh=Kh.next=m;return b}var Fd=null;function KT(m){Fd===null?Fd=[m]:Fd.push(m)}function V5(m,b,A,L){var K=b.interleaved;return K===null?(A.next=A,KT(b)):(A.next=K.next,K.next=A),b.interleaved=A,rc(m,L)}function rc(m,b){m.lanes|=b;var A=m.alternate;for(A!==null&&(A.lanes|=b),A=m,m=m.return;m!==null;)m.childLanes|=b,A=m.alternate,A!==null&&(A.childLanes|=b),A=m,m=m.return;return A.tag===3?A.stateNode:null}var su=!1;function JT(m){m.updateQueue={baseState:m.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function W5(m,b){m=m.updateQueue,b.updateQueue===m&&(b.updateQueue={baseState:m.baseState,firstBaseUpdate:m.firstBaseUpdate,lastBaseUpdate:m.lastBaseUpdate,shared:m.shared,effects:m.effects})}function ic(m,b){return{eventTime:m,lane:b,tag:0,payload:null,callback:null,next:null}}function au(m,b,A){var L=m.updateQueue;if(L===null)return null;if(L=L.shared,(Ln&2)!==0){var K=L.pending;return K===null?b.next=b:(b.next=K.next,K.next=b),L.pending=b,rc(m,A)}return K=L.interleaved,K===null?(b.next=b,KT(L)):(b.next=K.next,K.next=b),L.interleaved=b,rc(m,A)}function qv(m,b,A){if(b=b.updateQueue,b!==null&&(b=b.shared,(A&4194240)!==0)){var L=b.lanes;L&=m.pendingLanes,A|=L,b.lanes=A,Jc(m,A)}}function q5(m,b){var A=m.updateQueue,L=m.alternate;if(L!==null&&(L=L.updateQueue,A===L)){var K=null,ne=null;if(A=A.firstBaseUpdate,A!==null){do{var ye={eventTime:A.eventTime,lane:A.lane,tag:A.tag,payload:A.payload,callback:A.callback,next:null};ne===null?K=ne=ye:ne=ne.next=ye,A=A.next}while(A!==null);ne===null?K=ne=b:ne=ne.next=b}else K=ne=b;A={baseState:L.baseState,firstBaseUpdate:K,lastBaseUpdate:ne,shared:L.shared,effects:L.effects},m.updateQueue=A;return}m=A.lastBaseUpdate,m===null?A.firstBaseUpdate=b:m.next=b,A.lastBaseUpdate=b}function $v(m,b,A,L){var K=m.updateQueue;su=!1;var ne=K.firstBaseUpdate,ye=K.lastBaseUpdate,Fe=K.shared.pending;if(Fe!==null){K.shared.pending=null;var je=Fe,et=je.next;je.next=null,ye===null?ne=et:ye.next=et,ye=je;var ht=m.alternate;ht!==null&&(ht=ht.updateQueue,Fe=ht.lastBaseUpdate,Fe!==ye&&(Fe===null?ht.firstBaseUpdate=et:Fe.next=et,ht.lastBaseUpdate=je))}if(ne!==null){var yt=K.baseState;ye=0,ht=et=je=null,Fe=ne;do{var dt=Fe.lane,Pt=Fe.eventTime;if((L&dt)===dt){ht!==null&&(ht=ht.next={eventTime:Pt,lane:0,tag:Fe.tag,payload:Fe.payload,callback:Fe.callback,next:null});e:{var Wt=m,$t=Fe;switch(dt=b,Pt=A,$t.tag){case 1:if(Wt=$t.payload,typeof Wt=="function"){yt=Wt.call(Pt,yt,dt);break e}yt=Wt;break e;case 3:Wt.flags=Wt.flags&-65537|128;case 0:if(Wt=$t.payload,dt=typeof Wt=="function"?Wt.call(Pt,yt,dt):Wt,dt==null)break e;yt=Q({},yt,dt);break e;case 2:su=!0}}Fe.callback!==null&&Fe.lane!==0&&(m.flags|=64,dt=K.effects,dt===null?K.effects=[Fe]:dt.push(Fe))}else Pt={eventTime:Pt,lane:dt,tag:Fe.tag,payload:Fe.payload,callback:Fe.callback,next:null},ht===null?(et=ht=Pt,je=yt):ht=ht.next=Pt,ye|=dt;if(Fe=Fe.next,Fe===null){if(Fe=K.shared.pending,Fe===null)break;dt=Fe,Fe=dt.next,dt.next=null,K.lastBaseUpdate=dt,K.shared.pending=null}}while(!0);if(ht===null&&(je=yt),K.baseState=je,K.firstBaseUpdate=et,K.lastBaseUpdate=ht,b=K.shared.interleaved,b!==null){K=b;do ye|=K.lane,K=K.next;while(K!==b)}else ne===null&&(K.shared.lanes=0);Od|=ye,m.lanes=ye,m.memoizedState=yt}}function $5(m,b,A){if(m=b.effects,b.effects=null,m!==null)for(b=0;b<m.length;b++){var L=m[b],K=L.callback;if(K!==null){if(L.callback=null,L=A,typeof K!="function")throw Error(n(191,K));K.call(L)}}}var Ig={},fl=nu(Ig),Rg=nu(Ig),Pg=nu(Ig);function Md(m){if(m===Ig)throw Error(n(174));return m}function XT(m,b){switch(hr(Pg,b),hr(Rg,m),hr(fl,Ig),m=b.nodeType,m){case 9:case 11:b=(b=b.documentElement)?b.namespaceURI:Le(null,"");break;default:m=m===8?b.parentNode:b,b=m.namespaceURI||null,m=m.tagName,b=Le(b,m)}_r(fl),hr(fl,b)}function Xh(){_r(fl),_r(Rg),_r(Pg)}function z5(m){Md(Pg.current);var b=Md(fl.current),A=Le(b,m.type);b!==A&&(hr(Rg,m),hr(fl,A))}function YT(m){Rg.current===m&&(_r(fl),_r(Rg))}var Br=nu(0);function zv(m){for(var b=m;b!==null;){if(b.tag===13){var A=b.memoizedState;if(A!==null&&(A=A.dehydrated,A===null||A.data==="$?"||A.data==="$!"))return b}else if(b.tag===19&&b.memoizedProps.revealOrder!==void 0){if((b.flags&128)!==0)return b}else if(b.child!==null){b.child.return=b,b=b.child;continue}if(b===m)break;for(;b.sibling===null;){if(b.return===null||b.return===m)return null;b=b.return}b.sibling.return=b.return,b=b.sibling}return null}var QT=[];function ZT(){for(var m=0;m<QT.length;m++)QT[m]._workInProgressVersionPrimary=null;QT.length=0}var Hv=C.ReactCurrentDispatcher,eE=C.ReactCurrentBatchConfig,Ud=0,Vr=null,Ci=null,Li=null,Gv=!1,Fg=!1,Mg=0,BQ=0;function hs(){throw Error(n(321))}function tE(m,b){if(b===null)return!1;for(var A=0;A<b.length&&A<m.length;A++)if(!Ro(m[A],b[A]))return!1;return!0}function nE(m,b,A,L,K,ne){if(Ud=ne,Vr=b,b.memoizedState=null,b.updateQueue=null,b.lanes=0,Hv.current=m===null||m.memoizedState===null?$Q:zQ,m=A(L,K),Fg){ne=0;do{if(Fg=!1,Mg=0,25<=ne)throw Error(n(301));ne+=1,Li=Ci=null,b.updateQueue=null,Hv.current=HQ,m=A(L,K)}while(Fg)}if(Hv.current=Xv,b=Ci!==null&&Ci.next!==null,Ud=0,Li=Ci=Vr=null,Gv=!1,b)throw Error(n(300));return m}function rE(){var m=Mg!==0;return Mg=0,m}function hl(){var m={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Li===null?Vr.memoizedState=Li=m:Li=Li.next=m,Li}function Qa(){if(Ci===null){var m=Vr.alternate;m=m!==null?m.memoizedState:null}else m=Ci.next;var b=Li===null?Vr.memoizedState:Li.next;if(b!==null)Li=b,Ci=m;else{if(m===null)throw Error(n(310));Ci=m,m={memoizedState:Ci.memoizedState,baseState:Ci.baseState,baseQueue:Ci.baseQueue,queue:Ci.queue,next:null},Li===null?Vr.memoizedState=Li=m:Li=Li.next=m}return Li}function Ug(m,b){return typeof b=="function"?b(m):b}function iE(m){var b=Qa(),A=b.queue;if(A===null)throw Error(n(311));A.lastRenderedReducer=m;var L=Ci,K=L.baseQueue,ne=A.pending;if(ne!==null){if(K!==null){var ye=K.next;K.next=ne.next,ne.next=ye}L.baseQueue=K=ne,A.pending=null}if(K!==null){ne=K.next,L=L.baseState;var Fe=ye=null,je=null,et=ne;do{var ht=et.lane;if((Ud&ht)===ht)je!==null&&(je=je.next={lane:0,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null}),L=et.hasEagerState?et.eagerState:m(L,et.action);else{var yt={lane:ht,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null};je===null?(Fe=je=yt,ye=L):je=je.next=yt,Vr.lanes|=ht,Od|=ht}et=et.next}while(et!==null&&et!==ne);je===null?ye=L:je.next=Fe,Ro(L,b.memoizedState)||(ra=!0),b.memoizedState=L,b.baseState=ye,b.baseQueue=je,A.lastRenderedState=L}if(m=A.interleaved,m!==null){K=m;do ne=K.lane,Vr.lanes|=ne,Od|=ne,K=K.next;while(K!==m)}else K===null&&(A.lanes=0);return[b.memoizedState,A.dispatch]}function sE(m){var b=Qa(),A=b.queue;if(A===null)throw Error(n(311));A.lastRenderedReducer=m;var L=A.dispatch,K=A.pending,ne=b.memoizedState;if(K!==null){A.pending=null;var ye=K=K.next;do ne=m(ne,ye.action),ye=ye.next;while(ye!==K);Ro(ne,b.memoizedState)||(ra=!0),b.memoizedState=ne,b.baseQueue===null&&(b.baseState=ne),A.lastRenderedState=ne}return[ne,L]}function H5(){}function G5(m,b){var A=Vr,L=Qa(),K=b(),ne=!Ro(L.memoizedState,K);if(ne&&(L.memoizedState=K,ra=!0),L=L.queue,aE(X5.bind(null,A,L,m),[m]),L.getSnapshot!==b||ne||Li!==null&&Li.memoizedState.tag&1){if(A.flags|=2048,Og(9,J5.bind(null,A,L,K,b),void 0,null),ji===null)throw Error(n(349));(Ud&30)!==0||K5(A,b,K)}return K}function K5(m,b,A){m.flags|=16384,m={getSnapshot:b,value:A},b=Vr.updateQueue,b===null?(b={lastEffect:null,stores:null},Vr.updateQueue=b,b.stores=[m]):(A=b.stores,A===null?b.stores=[m]:A.push(m))}function J5(m,b,A,L){b.value=A,b.getSnapshot=L,Y5(b)&&Q5(m)}function X5(m,b,A){return A(function(){Y5(b)&&Q5(m)})}function Y5(m){var b=m.getSnapshot;m=m.value;try{var A=b();return!Ro(m,A)}catch{return!0}}function Q5(m){var b=rc(m,1);b!==null&&Oo(b,m,1,-1)}function Z5(m){var b=hl();return typeof m=="function"&&(m=m()),b.memoizedState=b.baseState=m,m={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ug,lastRenderedState:m},b.queue=m,m=m.dispatch=qQ.bind(null,Vr,m),[b.memoizedState,m]}function Og(m,b,A,L){return m={tag:m,create:b,destroy:A,deps:L,next:null},b=Vr.updateQueue,b===null?(b={lastEffect:null,stores:null},Vr.updateQueue=b,b.lastEffect=m.next=m):(A=b.lastEffect,A===null?b.lastEffect=m.next=m:(L=A.next,A.next=m,m.next=L,b.lastEffect=m)),m}function eR(){return Qa().memoizedState}function Kv(m,b,A,L){var K=hl();Vr.flags|=m,K.memoizedState=Og(1|b,A,void 0,L===void 0?null:L)}function Jv(m,b,A,L){var K=Qa();L=L===void 0?null:L;var ne=void 0;if(Ci!==null){var ye=Ci.memoizedState;if(ne=ye.destroy,L!==null&&tE(L,ye.deps)){K.memoizedState=Og(b,A,ne,L);return}}Vr.flags|=m,K.memoizedState=Og(1|b,A,ne,L)}function tR(m,b){return Kv(8390656,8,m,b)}function aE(m,b){return Jv(2048,8,m,b)}function nR(m,b){return Jv(4,2,m,b)}function rR(m,b){return Jv(4,4,m,b)}function iR(m,b){if(typeof b=="function")return m=m(),b(m),function(){b(null)};if(b!=null)return m=m(),b.current=m,function(){b.current=null}}function sR(m,b,A){return A=A!=null?A.concat([m]):null,Jv(4,4,iR.bind(null,b,m),A)}function oE(){}function aR(m,b){var A=Qa();b=b===void 0?null:b;var L=A.memoizedState;return L!==null&&b!==null&&tE(b,L[1])?L[0]:(A.memoizedState=[m,b],m)}function oR(m,b){var A=Qa();b=b===void 0?null:b;var L=A.memoizedState;return L!==null&&b!==null&&tE(b,L[1])?L[0]:(m=m(),A.memoizedState=[m,b],m)}function lR(m,b,A){return(Ud&21)===0?(m.baseState&&(m.baseState=!1,ra=!0),m.memoizedState=A):(Ro(A,b)||(A=So(),Vr.lanes|=A,Od|=A,m.baseState=!0),b)}function VQ(m,b){var A=In;In=A!==0&&4>A?A:4,m(!0);var L=eE.transition;eE.transition={};try{m(!1),b()}finally{In=A,eE.transition=L}}function cR(){return Qa().memoizedState}function WQ(m,b,A){var L=uu(m);if(A={lane:L,action:A,hasEagerState:!1,eagerState:null,next:null},uR(m))dR(b,A);else if(A=V5(m,b,A,L),A!==null){var K=Bs();Oo(A,m,L,K),fR(A,b,L)}}function qQ(m,b,A){var L=uu(m),K={lane:L,action:A,hasEagerState:!1,eagerState:null,next:null};if(uR(m))dR(b,K);else{var ne=m.alternate;if(m.lanes===0&&(ne===null||ne.lanes===0)&&(ne=b.lastRenderedReducer,ne!==null))try{var ye=b.lastRenderedState,Fe=ne(ye,A);if(K.hasEagerState=!0,K.eagerState=Fe,Ro(Fe,ye)){var je=b.interleaved;je===null?(K.next=K,KT(b)):(K.next=je.next,je.next=K),b.interleaved=K;return}}catch{}finally{}A=V5(m,b,K,L),A!==null&&(K=Bs(),Oo(A,m,L,K),fR(A,b,L))}}function uR(m){var b=m.alternate;return m===Vr||b!==null&&b===Vr}function dR(m,b){Fg=Gv=!0;var A=m.pending;A===null?b.next=b:(b.next=A.next,A.next=b),m.pending=b}function fR(m,b,A){if((A&4194240)!==0){var L=b.lanes;L&=m.pendingLanes,A|=L,b.lanes=A,Jc(m,A)}}var Xv={readContext:Ya,useCallback:hs,useContext:hs,useEffect:hs,useImperativeHandle:hs,useInsertionEffect:hs,useLayoutEffect:hs,useMemo:hs,useReducer:hs,useRef:hs,useState:hs,useDebugValue:hs,useDeferredValue:hs,useTransition:hs,useMutableSource:hs,useSyncExternalStore:hs,useId:hs,unstable_isNewReconciler:!1},$Q={readContext:Ya,useCallback:function(m,b){return hl().memoizedState=[m,b===void 0?null:b],m},useContext:Ya,useEffect:tR,useImperativeHandle:function(m,b,A){return A=A!=null?A.concat([m]):null,Kv(4194308,4,iR.bind(null,b,m),A)},useLayoutEffect:function(m,b){return Kv(4194308,4,m,b)},useInsertionEffect:function(m,b){return Kv(4,2,m,b)},useMemo:function(m,b){var A=hl();return b=b===void 0?null:b,m=m(),A.memoizedState=[m,b],m},useReducer:function(m,b,A){var L=hl();return b=A!==void 0?A(b):b,L.memoizedState=L.baseState=b,m={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:m,lastRenderedState:b},L.queue=m,m=m.dispatch=WQ.bind(null,Vr,m),[L.memoizedState,m]},useRef:function(m){var b=hl();return m={current:m},b.memoizedState=m},useState:Z5,useDebugValue:oE,useDeferredValue:function(m){return hl().memoizedState=m},useTransition:function(){var m=Z5(!1),b=m[0];return m=VQ.bind(null,m[1]),hl().memoizedState=m,[b,m]},useMutableSource:function(){},useSyncExternalStore:function(m,b,A){var L=Vr,K=hl();if(kr){if(A===void 0)throw Error(n(407));A=A()}else{if(A=b(),ji===null)throw Error(n(349));(Ud&30)!==0||K5(L,b,A)}K.memoizedState=A;var ne={value:A,getSnapshot:b};return K.queue=ne,tR(X5.bind(null,L,ne,m),[m]),L.flags|=2048,Og(9,J5.bind(null,L,ne,A,b),void 0,null),A},useId:function(){var m=hl(),b=ji.identifierPrefix;if(kr){var A=nc,L=tc;A=(L&~(1<<32-At(L)-1)).toString(32)+A,b=":"+b+"R"+A,A=Mg++,0<A&&(b+="H"+A.toString(32)),b+=":"}else A=BQ++,b=":"+b+"r"+A.toString(32)+":";return m.memoizedState=b},unstable_isNewReconciler:!1},zQ={readContext:Ya,useCallback:aR,useContext:Ya,useEffect:aE,useImperativeHandle:sR,useInsertionEffect:nR,useLayoutEffect:rR,useMemo:oR,useReducer:iE,useRef:eR,useState:function(){return iE(Ug)},useDebugValue:oE,useDeferredValue:function(m){var b=Qa();return lR(b,Ci.memoizedState,m)},useTransition:function(){var m=iE(Ug)[0],b=Qa().memoizedState;return[m,b]},useMutableSource:H5,useSyncExternalStore:G5,useId:cR,unstable_isNewReconciler:!1},HQ={readContext:Ya,useCallback:aR,useContext:Ya,useEffect:aE,useImperativeHandle:sR,useInsertionEffect:nR,useLayoutEffect:rR,useMemo:oR,useReducer:sE,useRef:eR,useState:function(){return sE(Ug)},useDebugValue:oE,useDeferredValue:function(m){var b=Qa();return Ci===null?b.memoizedState=m:lR(b,Ci.memoizedState,m)},useTransition:function(){var m=sE(Ug)[0],b=Qa().memoizedState;return[m,b]},useMutableSource:H5,useSyncExternalStore:G5,useId:cR,unstable_isNewReconciler:!1};function Fo(m,b){if(m&&m.defaultProps){b=Q({},b),m=m.defaultProps;for(var A in m)b[A]===void 0&&(b[A]=m[A]);return b}return b}function lE(m,b,A,L){b=m.memoizedState,A=A(L,b),A=A==null?b:Q({},b,A),m.memoizedState=A,m.lanes===0&&(m.updateQueue.baseState=A)}var Yv={isMounted:function(m){return(m=m._reactInternals)?Se(m)===m:!1},enqueueSetState:function(m,b,A){m=m._reactInternals;var L=Bs(),K=uu(m),ne=ic(L,K);ne.payload=b,A!=null&&(ne.callback=A),b=au(m,ne,K),b!==null&&(Oo(b,m,K,L),qv(b,m,K))},enqueueReplaceState:function(m,b,A){m=m._reactInternals;var L=Bs(),K=uu(m),ne=ic(L,K);ne.tag=1,ne.payload=b,A!=null&&(ne.callback=A),b=au(m,ne,K),b!==null&&(Oo(b,m,K,L),qv(b,m,K))},enqueueForceUpdate:function(m,b){m=m._reactInternals;var A=Bs(),L=uu(m),K=ic(A,L);K.tag=2,b!=null&&(K.callback=b),b=au(m,K,L),b!==null&&(Oo(b,m,L,A),qv(b,m,L))}};function hR(m,b,A,L,K,ne,ye){return m=m.stateNode,typeof m.shouldComponentUpdate=="function"?m.shouldComponentUpdate(L,ne,ye):b.prototype&&b.prototype.isPureReactComponent?!Tg(A,L)||!Tg(K,ne):!0}function pR(m,b,A){var L=!1,K=ru,ne=b.contextType;return typeof ne=="object"&&ne!==null?ne=Ya(ne):(K=na(b)?Id:fs.current,L=b.contextTypes,ne=(L=L!=null)?qh(m,K):ru),b=new b(A,ne),m.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Yv,m.stateNode=b,b._reactInternals=m,L&&(m=m.stateNode,m.__reactInternalMemoizedUnmaskedChildContext=K,m.__reactInternalMemoizedMaskedChildContext=ne),b}function mR(m,b,A,L){m=b.state,typeof b.componentWillReceiveProps=="function"&&b.componentWillReceiveProps(A,L),typeof b.UNSAFE_componentWillReceiveProps=="function"&&b.UNSAFE_componentWillReceiveProps(A,L),b.state!==m&&Yv.enqueueReplaceState(b,b.state,null)}function cE(m,b,A,L){var K=m.stateNode;K.props=A,K.state=m.memoizedState,K.refs={},JT(m);var ne=b.contextType;typeof ne=="object"&&ne!==null?K.context=Ya(ne):(ne=na(b)?Id:fs.current,K.context=qh(m,ne)),K.state=m.memoizedState,ne=b.getDerivedStateFromProps,typeof ne=="function"&&(lE(m,b,ne,A),K.state=m.memoizedState),typeof b.getDerivedStateFromProps=="function"||typeof K.getSnapshotBeforeUpdate=="function"||typeof K.UNSAFE_componentWillMount!="function"&&typeof K.componentWillMount!="function"||(b=K.state,typeof K.componentWillMount=="function"&&K.componentWillMount(),typeof K.UNSAFE_componentWillMount=="function"&&K.UNSAFE_componentWillMount(),b!==K.state&&Yv.enqueueReplaceState(K,K.state,null),$v(m,A,K,L),K.state=m.memoizedState),typeof K.componentDidMount=="function"&&(m.flags|=4194308)}function Yh(m,b){try{var A="",L=b;do A+=Y(L),L=L.return;while(L);var K=A}catch(ne){K=`
Error generating stack: `+ne.message+`
`+ne.stack}return{value:m,source:b,stack:K,digest:null}}function uE(m,b,A){return{value:m,source:null,stack:A??null,digest:b??null}}function dE(m,b){try{console.error(b.value)}catch(A){setTimeout(function(){throw A})}}var GQ=typeof WeakMap=="function"?WeakMap:Map;function gR(m,b,A){A=ic(-1,A),A.tag=3,A.payload={element:null};var L=b.value;return A.callback=function(){ix||(ix=!0,SE=L),dE(m,b)},A}function yR(m,b,A){A=ic(-1,A),A.tag=3;var L=m.type.getDerivedStateFromError;if(typeof L=="function"){var K=b.value;A.payload=function(){return L(K)},A.callback=function(){dE(m,b)}}var ne=m.stateNode;return ne!==null&&typeof ne.componentDidCatch=="function"&&(A.callback=function(){dE(m,b),typeof L!="function"&&(lu===null?lu=new Set([this]):lu.add(this));var ye=b.stack;this.componentDidCatch(b.value,{componentStack:ye!==null?ye:""})}),A}function vR(m,b,A){var L=m.pingCache;if(L===null){L=m.pingCache=new GQ;var K=new Set;L.set(b,K)}else K=L.get(b),K===void 0&&(K=new Set,L.set(b,K));K.has(A)||(K.add(A),m=oZ.bind(null,m,b,A),b.then(m,m))}function xR(m){do{var b;if((b=m.tag===13)&&(b=m.memoizedState,b=b!==null?b.dehydrated!==null:!0),b)return m;m=m.return}while(m!==null);return null}function bR(m,b,A,L,K){return(m.mode&1)===0?(m===b?m.flags|=65536:(m.flags|=128,A.flags|=131072,A.flags&=-52805,A.tag===1&&(A.alternate===null?A.tag=17:(b=ic(-1,1),b.tag=2,au(A,b,1))),A.lanes|=1),m):(m.flags|=65536,m.lanes=K,m)}var KQ=C.ReactCurrentOwner,ra=!1;function js(m,b,A,L){b.child=m===null?B5(b,null,A,L):Gh(b,m.child,A,L)}function _R(m,b,A,L,K){A=A.render;var ne=b.ref;return Jh(b,K),L=nE(m,b,A,L,ne,K),A=rE(),m!==null&&!ra?(b.updateQueue=m.updateQueue,b.flags&=-2053,m.lanes&=~K,sc(m,b,K)):(kr&&A&&jT(b),b.flags|=1,js(m,b,L,K),b.child)}function wR(m,b,A,L,K){if(m===null){var ne=A.type;return typeof ne=="function"&&!PE(ne)&&ne.defaultProps===void 0&&A.compare===null&&A.defaultProps===void 0?(b.tag=15,b.type=ne,TR(m,b,ne,L,K)):(m=ux(A.type,null,L,b,b.mode,K),m.ref=b.ref,m.return=b,b.child=m)}if(ne=m.child,(m.lanes&K)===0){var ye=ne.memoizedProps;if(A=A.compare,A=A!==null?A:Tg,A(ye,L)&&m.ref===b.ref)return sc(m,b,K)}return b.flags|=1,m=fu(ne,L),m.ref=b.ref,m.return=b,b.child=m}function TR(m,b,A,L,K){if(m!==null){var ne=m.memoizedProps;if(Tg(ne,L)&&m.ref===b.ref)if(ra=!1,b.pendingProps=L=ne,(m.lanes&K)!==0)(m.flags&131072)!==0&&(ra=!0);else return b.lanes=m.lanes,sc(m,b,K)}return fE(m,b,A,L,K)}function ER(m,b,A){var L=b.pendingProps,K=L.children,ne=m!==null?m.memoizedState:null;if(L.mode==="hidden")if((b.mode&1)===0)b.memoizedState={baseLanes:0,cachePool:null,transitions:null},hr(Zh,ka),ka|=A;else{if((A&1073741824)===0)return m=ne!==null?ne.baseLanes|A:A,b.lanes=b.childLanes=1073741824,b.memoizedState={baseLanes:m,cachePool:null,transitions:null},b.updateQueue=null,hr(Zh,ka),ka|=m,null;b.memoizedState={baseLanes:0,cachePool:null,transitions:null},L=ne!==null?ne.baseLanes:A,hr(Zh,ka),ka|=L}else ne!==null?(L=ne.baseLanes|A,b.memoizedState=null):L=A,hr(Zh,ka),ka|=L;return js(m,b,K,A),b.child}function CR(m,b){var A=b.ref;(m===null&&A!==null||m!==null&&m.ref!==A)&&(b.flags|=512,b.flags|=2097152)}function fE(m,b,A,L,K){var ne=na(A)?Id:fs.current;return ne=qh(b,ne),Jh(b,K),A=nE(m,b,A,L,ne,K),L=rE(),m!==null&&!ra?(b.updateQueue=m.updateQueue,b.flags&=-2053,m.lanes&=~K,sc(m,b,K)):(kr&&L&&jT(b),b.flags|=1,js(m,b,A,K),b.child)}function SR(m,b,A,L,K){if(na(A)){var ne=!0;Mv(b)}else ne=!1;if(Jh(b,K),b.stateNode===null)Zv(m,b),pR(b,A,L),cE(b,A,L,K),L=!0;else if(m===null){var ye=b.stateNode,Fe=b.memoizedProps;ye.props=Fe;var je=ye.context,et=A.contextType;typeof et=="object"&&et!==null?et=Ya(et):(et=na(A)?Id:fs.current,et=qh(b,et));var ht=A.getDerivedStateFromProps,yt=typeof ht=="function"||typeof ye.getSnapshotBeforeUpdate=="function";yt||typeof ye.UNSAFE_componentWillReceiveProps!="function"&&typeof ye.componentWillReceiveProps!="function"||(Fe!==L||je!==et)&&mR(b,ye,L,et),su=!1;var dt=b.memoizedState;ye.state=dt,$v(b,L,ye,K),je=b.memoizedState,Fe!==L||dt!==je||ta.current||su?(typeof ht=="function"&&(lE(b,A,ht,L),je=b.memoizedState),(Fe=su||hR(b,A,Fe,L,dt,je,et))?(yt||typeof ye.UNSAFE_componentWillMount!="function"&&typeof ye.componentWillMount!="function"||(typeof ye.componentWillMount=="function"&&ye.componentWillMount(),typeof ye.UNSAFE_componentWillMount=="function"&&ye.UNSAFE_componentWillMount()),typeof ye.componentDidMount=="function"&&(b.flags|=4194308)):(typeof ye.componentDidMount=="function"&&(b.flags|=4194308),b.memoizedProps=L,b.memoizedState=je),ye.props=L,ye.state=je,ye.context=et,L=Fe):(typeof ye.componentDidMount=="function"&&(b.flags|=4194308),L=!1)}else{ye=b.stateNode,W5(m,b),Fe=b.memoizedProps,et=b.type===b.elementType?Fe:Fo(b.type,Fe),ye.props=et,yt=b.pendingProps,dt=ye.context,je=A.contextType,typeof je=="object"&&je!==null?je=Ya(je):(je=na(A)?Id:fs.current,je=qh(b,je));var Pt=A.getDerivedStateFromProps;(ht=typeof Pt=="function"||typeof ye.getSnapshotBeforeUpdate=="function")||typeof ye.UNSAFE_componentWillReceiveProps!="function"&&typeof ye.componentWillReceiveProps!="function"||(Fe!==yt||dt!==je)&&mR(b,ye,L,je),su=!1,dt=b.memoizedState,ye.state=dt,$v(b,L,ye,K);var Wt=b.memoizedState;Fe!==yt||dt!==Wt||ta.current||su?(typeof Pt=="function"&&(lE(b,A,Pt,L),Wt=b.memoizedState),(et=su||hR(b,A,et,L,dt,Wt,je)||!1)?(ht||typeof ye.UNSAFE_componentWillUpdate!="function"&&typeof ye.componentWillUpdate!="function"||(typeof ye.componentWillUpdate=="function"&&ye.componentWillUpdate(L,Wt,je),typeof ye.UNSAFE_componentWillUpdate=="function"&&ye.UNSAFE_componentWillUpdate(L,Wt,je)),typeof ye.componentDidUpdate=="function"&&(b.flags|=4),typeof ye.getSnapshotBeforeUpdate=="function"&&(b.flags|=1024)):(typeof ye.componentDidUpdate!="function"||Fe===m.memoizedProps&&dt===m.memoizedState||(b.flags|=4),typeof ye.getSnapshotBeforeUpdate!="function"||Fe===m.memoizedProps&&dt===m.memoizedState||(b.flags|=1024),b.memoizedProps=L,b.memoizedState=Wt),ye.props=L,ye.state=Wt,ye.context=je,L=et):(typeof ye.componentDidUpdate!="function"||Fe===m.memoizedProps&&dt===m.memoizedState||(b.flags|=4),typeof ye.getSnapshotBeforeUpdate!="function"||Fe===m.memoizedProps&&dt===m.memoizedState||(b.flags|=1024),L=!1)}return hE(m,b,A,L,ne,K)}function hE(m,b,A,L,K,ne){CR(m,b);var ye=(b.flags&128)!==0;if(!L&&!ye)return K&&I5(b,A,!1),sc(m,b,ne);L=b.stateNode,KQ.current=b;var Fe=ye&&typeof A.getDerivedStateFromError!="function"?null:L.render();return b.flags|=1,m!==null&&ye?(b.child=Gh(b,m.child,null,ne),b.child=Gh(b,null,Fe,ne)):js(m,b,Fe,ne),b.memoizedState=L.state,K&&I5(b,A,!0),b.child}function DR(m){var b=m.stateNode;b.pendingContext?N5(m,b.pendingContext,b.pendingContext!==b.context):b.context&&N5(m,b.context,!1),XT(m,b.containerInfo)}function AR(m,b,A,L,K){return Hh(),qT(K),b.flags|=256,js(m,b,A,L),b.child}var pE={dehydrated:null,treeContext:null,retryLane:0};function mE(m){return{baseLanes:m,cachePool:null,transitions:null}}function NR(m,b,A){var L=b.pendingProps,K=Br.current,ne=!1,ye=(b.flags&128)!==0,Fe;if((Fe=ye)||(Fe=m!==null&&m.memoizedState===null?!1:(K&2)!==0),Fe?(ne=!0,b.flags&=-129):(m===null||m.memoizedState!==null)&&(K|=1),hr(Br,K&1),m===null)return WT(b),m=b.memoizedState,m!==null&&(m=m.dehydrated,m!==null)?((b.mode&1)===0?b.lanes=1:m.data==="$!"?b.lanes=8:b.lanes=1073741824,null):(ye=L.children,m=L.fallback,ne?(L=b.mode,ne=b.child,ye={mode:"hidden",children:ye},(L&1)===0&&ne!==null?(ne.childLanes=0,ne.pendingProps=ye):ne=dx(ye,L,0,null),m=Vd(m,L,A,null),ne.return=b,m.return=b,ne.sibling=m,b.child=ne,b.child.memoizedState=mE(A),b.memoizedState=pE,m):gE(b,ye));if(K=m.memoizedState,K!==null&&(Fe=K.dehydrated,Fe!==null))return JQ(m,b,ye,L,Fe,K,A);if(ne){ne=L.fallback,ye=b.mode,K=m.child,Fe=K.sibling;var je={mode:"hidden",children:L.children};return(ye&1)===0&&b.child!==K?(L=b.child,L.childLanes=0,L.pendingProps=je,b.deletions=null):(L=fu(K,je),L.subtreeFlags=K.subtreeFlags&14680064),Fe!==null?ne=fu(Fe,ne):(ne=Vd(ne,ye,A,null),ne.flags|=2),ne.return=b,L.return=b,L.sibling=ne,b.child=L,L=ne,ne=b.child,ye=m.child.memoizedState,ye=ye===null?mE(A):{baseLanes:ye.baseLanes|A,cachePool:null,transitions:ye.transitions},ne.memoizedState=ye,ne.childLanes=m.childLanes&~A,b.memoizedState=pE,L}return ne=m.child,m=ne.sibling,L=fu(ne,{mode:"visible",children:L.children}),(b.mode&1)===0&&(L.lanes=A),L.return=b,L.sibling=null,m!==null&&(A=b.deletions,A===null?(b.deletions=[m],b.flags|=16):A.push(m)),b.child=L,b.memoizedState=null,L}function gE(m,b){return b=dx({mode:"visible",children:b},m.mode,0,null),b.return=m,m.child=b}function Qv(m,b,A,L){return L!==null&&qT(L),Gh(b,m.child,null,A),m=gE(b,b.pendingProps.children),m.flags|=2,b.memoizedState=null,m}function JQ(m,b,A,L,K,ne,ye){if(A)return b.flags&256?(b.flags&=-257,L=uE(Error(n(422))),Qv(m,b,ye,L)):b.memoizedState!==null?(b.child=m.child,b.flags|=128,null):(ne=L.fallback,K=b.mode,L=dx({mode:"visible",children:L.children},K,0,null),ne=Vd(ne,K,ye,null),ne.flags|=2,L.return=b,ne.return=b,L.sibling=ne,b.child=L,(b.mode&1)!==0&&Gh(b,m.child,null,ye),b.child.memoizedState=mE(ye),b.memoizedState=pE,ne);if((b.mode&1)===0)return Qv(m,b,ye,null);if(K.data==="$!"){if(L=K.nextSibling&&K.nextSibling.dataset,L)var Fe=L.dgst;return L=Fe,ne=Error(n(419)),L=uE(ne,L,void 0),Qv(m,b,ye,L)}if(Fe=(ye&m.childLanes)!==0,ra||Fe){if(L=ji,L!==null){switch(ye&-ye){case 4:K=2;break;case 16:K=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:K=32;break;case 536870912:K=268435456;break;default:K=0}K=(K&(L.suspendedLanes|ye))!==0?0:K,K!==0&&K!==ne.retryLane&&(ne.retryLane=K,rc(m,K),Oo(L,m,K,-1))}return RE(),L=uE(Error(n(421))),Qv(m,b,ye,L)}return K.data==="$?"?(b.flags|=128,b.child=m.child,b=lZ.bind(null,m),K._reactRetry=b,null):(m=ne.treeContext,Na=tu(K.nextSibling),Aa=b,kr=!0,Po=null,m!==null&&(Ja[Xa++]=tc,Ja[Xa++]=nc,Ja[Xa++]=Rd,tc=m.id,nc=m.overflow,Rd=b),b=gE(b,L.children),b.flags|=4096,b)}function kR(m,b,A){m.lanes|=b;var L=m.alternate;L!==null&&(L.lanes|=b),GT(m.return,b,A)}function yE(m,b,A,L,K){var ne=m.memoizedState;ne===null?m.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:L,tail:A,tailMode:K}:(ne.isBackwards=b,ne.rendering=null,ne.renderingStartTime=0,ne.last=L,ne.tail=A,ne.tailMode=K)}function IR(m,b,A){var L=b.pendingProps,K=L.revealOrder,ne=L.tail;if(js(m,b,L.children,A),L=Br.current,(L&2)!==0)L=L&1|2,b.flags|=128;else{if(m!==null&&(m.flags&128)!==0)e:for(m=b.child;m!==null;){if(m.tag===13)m.memoizedState!==null&&kR(m,A,b);else if(m.tag===19)kR(m,A,b);else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===b)break e;for(;m.sibling===null;){if(m.return===null||m.return===b)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}L&=1}if(hr(Br,L),(b.mode&1)===0)b.memoizedState=null;else switch(K){case"forwards":for(A=b.child,K=null;A!==null;)m=A.alternate,m!==null&&zv(m)===null&&(K=A),A=A.sibling;A=K,A===null?(K=b.child,b.child=null):(K=A.sibling,A.sibling=null),yE(b,!1,K,A,ne);break;case"backwards":for(A=null,K=b.child,b.child=null;K!==null;){if(m=K.alternate,m!==null&&zv(m)===null){b.child=K;break}m=K.sibling,K.sibling=A,A=K,K=m}yE(b,!0,A,null,ne);break;case"together":yE(b,!1,null,null,void 0);break;default:b.memoizedState=null}return b.child}function Zv(m,b){(b.mode&1)===0&&m!==null&&(m.alternate=null,b.alternate=null,b.flags|=2)}function sc(m,b,A){if(m!==null&&(b.dependencies=m.dependencies),Od|=b.lanes,(A&b.childLanes)===0)return null;if(m!==null&&b.child!==m.child)throw Error(n(153));if(b.child!==null){for(m=b.child,A=fu(m,m.pendingProps),b.child=A,A.return=b;m.sibling!==null;)m=m.sibling,A=A.sibling=fu(m,m.pendingProps),A.return=b;A.sibling=null}return b.child}function XQ(m,b,A){switch(b.tag){case 3:DR(b),Hh();break;case 5:z5(b);break;case 1:na(b.type)&&Mv(b);break;case 4:XT(b,b.stateNode.containerInfo);break;case 10:var L=b.type._context,K=b.memoizedProps.value;hr(Vv,L._currentValue),L._currentValue=K;break;case 13:if(L=b.memoizedState,L!==null)return L.dehydrated!==null?(hr(Br,Br.current&1),b.flags|=128,null):(A&b.child.childLanes)!==0?NR(m,b,A):(hr(Br,Br.current&1),m=sc(m,b,A),m!==null?m.sibling:null);hr(Br,Br.current&1);break;case 19:if(L=(A&b.childLanes)!==0,(m.flags&128)!==0){if(L)return IR(m,b,A);b.flags|=128}if(K=b.memoizedState,K!==null&&(K.rendering=null,K.tail=null,K.lastEffect=null),hr(Br,Br.current),L)break;return null;case 22:case 23:return b.lanes=0,ER(m,b,A)}return sc(m,b,A)}var RR,vE,PR,FR;RR=function(m,b){for(var A=b.child;A!==null;){if(A.tag===5||A.tag===6)m.appendChild(A.stateNode);else if(A.tag!==4&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===b)break;for(;A.sibling===null;){if(A.return===null||A.return===b)return;A=A.return}A.sibling.return=A.return,A=A.sibling}},vE=function(){},PR=function(m,b,A,L){var K=m.memoizedProps;if(K!==L){m=b.stateNode,Md(fl.current);var ne=null;switch(A){case"input":K=W(m,K),L=W(m,L),ne=[];break;case"select":K=Q({},K,{value:void 0}),L=Q({},L,{value:void 0}),ne=[];break;case"textarea":K=ie(m,K),L=ie(m,L),ne=[];break;default:typeof K.onClick!="function"&&typeof L.onClick=="function"&&(m.onclick=Rv)}ln(A,L);var ye;A=null;for(et in K)if(!L.hasOwnProperty(et)&&K.hasOwnProperty(et)&&K[et]!=null)if(et==="style"){var Fe=K[et];for(ye in Fe)Fe.hasOwnProperty(ye)&&(A||(A={}),A[ye]="")}else et!=="dangerouslySetInnerHTML"&&et!=="children"&&et!=="suppressContentEditableWarning"&&et!=="suppressHydrationWarning"&&et!=="autoFocus"&&(i.hasOwnProperty(et)?ne||(ne=[]):(ne=ne||[]).push(et,null));for(et in L){var je=L[et];if(Fe=K!=null?K[et]:void 0,L.hasOwnProperty(et)&&je!==Fe&&(je!=null||Fe!=null))if(et==="style")if(Fe){for(ye in Fe)!Fe.hasOwnProperty(ye)||je&&je.hasOwnProperty(ye)||(A||(A={}),A[ye]="");for(ye in je)je.hasOwnProperty(ye)&&Fe[ye]!==je[ye]&&(A||(A={}),A[ye]=je[ye])}else A||(ne||(ne=[]),ne.push(et,A)),A=je;else et==="dangerouslySetInnerHTML"?(je=je?je.__html:void 0,Fe=Fe?Fe.__html:void 0,je!=null&&Fe!==je&&(ne=ne||[]).push(et,je)):et==="children"?typeof je!="string"&&typeof je!="number"||(ne=ne||[]).push(et,""+je):et!=="suppressContentEditableWarning"&&et!=="suppressHydrationWarning"&&(i.hasOwnProperty(et)?(je!=null&&et==="onScroll"&&br("scroll",m),ne||Fe===je||(ne=[])):(ne=ne||[]).push(et,je))}A&&(ne=ne||[]).push("style",A);var et=ne;(b.updateQueue=et)&&(b.flags|=4)}},FR=function(m,b,A,L){A!==L&&(b.flags|=4)};function Lg(m,b){if(!kr)switch(m.tailMode){case"hidden":b=m.tail;for(var A=null;b!==null;)b.alternate!==null&&(A=b),b=b.sibling;A===null?m.tail=null:A.sibling=null;break;case"collapsed":A=m.tail;for(var L=null;A!==null;)A.alternate!==null&&(L=A),A=A.sibling;L===null?b||m.tail===null?m.tail=null:m.tail.sibling=null:L.sibling=null}}function ps(m){var b=m.alternate!==null&&m.alternate.child===m.child,A=0,L=0;if(b)for(var K=m.child;K!==null;)A|=K.lanes|K.childLanes,L|=K.subtreeFlags&14680064,L|=K.flags&14680064,K.return=m,K=K.sibling;else for(K=m.child;K!==null;)A|=K.lanes|K.childLanes,L|=K.subtreeFlags,L|=K.flags,K.return=m,K=K.sibling;return m.subtreeFlags|=L,m.childLanes=A,b}function YQ(m,b,A){var L=b.pendingProps;switch(BT(b),b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ps(b),null;case 1:return na(b.type)&&Fv(),ps(b),null;case 3:return L=b.stateNode,Xh(),_r(ta),_r(fs),ZT(),L.pendingContext&&(L.context=L.pendingContext,L.pendingContext=null),(m===null||m.child===null)&&(jv(b)?b.flags|=4:m===null||m.memoizedState.isDehydrated&&(b.flags&256)===0||(b.flags|=1024,Po!==null&&(NE(Po),Po=null))),vE(m,b),ps(b),null;case 5:YT(b);var K=Md(Pg.current);if(A=b.type,m!==null&&b.stateNode!=null)PR(m,b,A,L,K),m.ref!==b.ref&&(b.flags|=512,b.flags|=2097152);else{if(!L){if(b.stateNode===null)throw Error(n(166));return ps(b),null}if(m=Md(fl.current),jv(b)){L=b.stateNode,A=b.type;var ne=b.memoizedProps;switch(L[dl]=b,L[Ag]=ne,m=(b.mode&1)!==0,A){case"dialog":br("cancel",L),br("close",L);break;case"iframe":case"object":case"embed":br("load",L);break;case"video":case"audio":for(K=0;K<Cg.length;K++)br(Cg[K],L);break;case"source":br("error",L);break;case"img":case"image":case"link":br("error",L),br("load",L);break;case"details":br("toggle",L);break;case"input":ge(L,ne),br("invalid",L);break;case"select":L._wrapperState={wasMultiple:!!ne.multiple},br("invalid",L);break;case"textarea":ue(L,ne),br("invalid",L)}ln(A,ne),K=null;for(var ye in ne)if(ne.hasOwnProperty(ye)){var Fe=ne[ye];ye==="children"?typeof Fe=="string"?L.textContent!==Fe&&(ne.suppressHydrationWarning!==!0&&Iv(L.textContent,Fe,m),K=["children",Fe]):typeof Fe=="number"&&L.textContent!==""+Fe&&(ne.suppressHydrationWarning!==!0&&Iv(L.textContent,Fe,m),K=["children",""+Fe]):i.hasOwnProperty(ye)&&Fe!=null&&ye==="onScroll"&&br("scroll",L)}switch(A){case"input":Pe(L),re(L,ne,!0);break;case"textarea":Pe(L),be(L);break;case"select":case"option":break;default:typeof ne.onClick=="function"&&(L.onclick=Rv)}L=K,b.updateQueue=L,L!==null&&(b.flags|=4)}else{ye=K.nodeType===9?K:K.ownerDocument,m==="http://www.w3.org/1999/xhtml"&&(m=Ie(A)),m==="http://www.w3.org/1999/xhtml"?A==="script"?(m=ye.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild)):typeof L.is=="string"?m=ye.createElement(A,{is:L.is}):(m=ye.createElement(A),A==="select"&&(ye=m,L.multiple?ye.multiple=!0:L.size&&(ye.size=L.size))):m=ye.createElementNS(m,A),m[dl]=b,m[Ag]=L,RR(m,b,!1,!1),b.stateNode=m;e:{switch(ye=Kn(A,L),A){case"dialog":br("cancel",m),br("close",m),K=L;break;case"iframe":case"object":case"embed":br("load",m),K=L;break;case"video":case"audio":for(K=0;K<Cg.length;K++)br(Cg[K],m);K=L;break;case"source":br("error",m),K=L;break;case"img":case"image":case"link":br("error",m),br("load",m),K=L;break;case"details":br("toggle",m),K=L;break;case"input":ge(m,L),K=W(m,L),br("invalid",m);break;case"option":K=L;break;case"select":m._wrapperState={wasMultiple:!!L.multiple},K=Q({},L,{value:void 0}),br("invalid",m);break;case"textarea":ue(m,L),K=ie(m,L),br("invalid",m);break;default:K=L}ln(A,K),Fe=K;for(ne in Fe)if(Fe.hasOwnProperty(ne)){var je=Fe[ne];ne==="style"?Bt(m,je):ne==="dangerouslySetInnerHTML"?(je=je?je.__html:void 0,je!=null&&Ue(m,je)):ne==="children"?typeof je=="string"?(A!=="textarea"||je!=="")&&Oe(m,je):typeof je=="number"&&Oe(m,""+je):ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&ne!=="autoFocus"&&(i.hasOwnProperty(ne)?je!=null&&ne==="onScroll"&&br("scroll",m):je!=null&&w(m,ne,je,ye))}switch(A){case"input":Pe(m),re(m,L,!1);break;case"textarea":Pe(m),be(m);break;case"option":L.value!=null&&m.setAttribute("value",""+de(L.value));break;case"select":m.multiple=!!L.multiple,ne=L.value,ne!=null?Ne(m,!!L.multiple,ne,!1):L.defaultValue!=null&&Ne(m,!!L.multiple,L.defaultValue,!0);break;default:typeof K.onClick=="function"&&(m.onclick=Rv)}switch(A){case"button":case"input":case"select":case"textarea":L=!!L.autoFocus;break e;case"img":L=!0;break e;default:L=!1}}L&&(b.flags|=4)}b.ref!==null&&(b.flags|=512,b.flags|=2097152)}return ps(b),null;case 6:if(m&&b.stateNode!=null)FR(m,b,m.memoizedProps,L);else{if(typeof L!="string"&&b.stateNode===null)throw Error(n(166));if(A=Md(Pg.current),Md(fl.current),jv(b)){if(L=b.stateNode,A=b.memoizedProps,L[dl]=b,(ne=L.nodeValue!==A)&&(m=Aa,m!==null))switch(m.tag){case 3:Iv(L.nodeValue,A,(m.mode&1)!==0);break;case 5:m.memoizedProps.suppressHydrationWarning!==!0&&Iv(L.nodeValue,A,(m.mode&1)!==0)}ne&&(b.flags|=4)}else L=(A.nodeType===9?A:A.ownerDocument).createTextNode(L),L[dl]=b,b.stateNode=L}return ps(b),null;case 13:if(_r(Br),L=b.memoizedState,m===null||m.memoizedState!==null&&m.memoizedState.dehydrated!==null){if(kr&&Na!==null&&(b.mode&1)!==0&&(b.flags&128)===0)O5(),Hh(),b.flags|=98560,ne=!1;else if(ne=jv(b),L!==null&&L.dehydrated!==null){if(m===null){if(!ne)throw Error(n(318));if(ne=b.memoizedState,ne=ne!==null?ne.dehydrated:null,!ne)throw Error(n(317));ne[dl]=b}else Hh(),(b.flags&128)===0&&(b.memoizedState=null),b.flags|=4;ps(b),ne=!1}else Po!==null&&(NE(Po),Po=null),ne=!0;if(!ne)return b.flags&65536?b:null}return(b.flags&128)!==0?(b.lanes=A,b):(L=L!==null,L!==(m!==null&&m.memoizedState!==null)&&L&&(b.child.flags|=8192,(b.mode&1)!==0&&(m===null||(Br.current&1)!==0?Si===0&&(Si=3):RE())),b.updateQueue!==null&&(b.flags|=4),ps(b),null);case 4:return Xh(),vE(m,b),m===null&&Sg(b.stateNode.containerInfo),ps(b),null;case 10:return HT(b.type._context),ps(b),null;case 17:return na(b.type)&&Fv(),ps(b),null;case 19:if(_r(Br),ne=b.memoizedState,ne===null)return ps(b),null;if(L=(b.flags&128)!==0,ye=ne.rendering,ye===null)if(L)Lg(ne,!1);else{if(Si!==0||m!==null&&(m.flags&128)!==0)for(m=b.child;m!==null;){if(ye=zv(m),ye!==null){for(b.flags|=128,Lg(ne,!1),L=ye.updateQueue,L!==null&&(b.updateQueue=L,b.flags|=4),b.subtreeFlags=0,L=A,A=b.child;A!==null;)ne=A,m=L,ne.flags&=14680066,ye=ne.alternate,ye===null?(ne.childLanes=0,ne.lanes=m,ne.child=null,ne.subtreeFlags=0,ne.memoizedProps=null,ne.memoizedState=null,ne.updateQueue=null,ne.dependencies=null,ne.stateNode=null):(ne.childLanes=ye.childLanes,ne.lanes=ye.lanes,ne.child=ye.child,ne.subtreeFlags=0,ne.deletions=null,ne.memoizedProps=ye.memoizedProps,ne.memoizedState=ye.memoizedState,ne.updateQueue=ye.updateQueue,ne.type=ye.type,m=ye.dependencies,ne.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext}),A=A.sibling;return hr(Br,Br.current&1|2),b.child}m=m.sibling}ne.tail!==null&&pt()>ep&&(b.flags|=128,L=!0,Lg(ne,!1),b.lanes=4194304)}else{if(!L)if(m=zv(ye),m!==null){if(b.flags|=128,L=!0,A=m.updateQueue,A!==null&&(b.updateQueue=A,b.flags|=4),Lg(ne,!0),ne.tail===null&&ne.tailMode==="hidden"&&!ye.alternate&&!kr)return ps(b),null}else 2*pt()-ne.renderingStartTime>ep&&A!==1073741824&&(b.flags|=128,L=!0,Lg(ne,!1),b.lanes=4194304);ne.isBackwards?(ye.sibling=b.child,b.child=ye):(A=ne.last,A!==null?A.sibling=ye:b.child=ye,ne.last=ye)}return ne.tail!==null?(b=ne.tail,ne.rendering=b,ne.tail=b.sibling,ne.renderingStartTime=pt(),b.sibling=null,A=Br.current,hr(Br,L?A&1|2:A&1),b):(ps(b),null);case 22:case 23:return IE(),L=b.memoizedState!==null,m!==null&&m.memoizedState!==null!==L&&(b.flags|=8192),L&&(b.mode&1)!==0?(ka&1073741824)!==0&&(ps(b),b.subtreeFlags&6&&(b.flags|=8192)):ps(b),null;case 24:return null;case 25:return null}throw Error(n(156,b.tag))}function QQ(m,b){switch(BT(b),b.tag){case 1:return na(b.type)&&Fv(),m=b.flags,m&65536?(b.flags=m&-65537|128,b):null;case 3:return Xh(),_r(ta),_r(fs),ZT(),m=b.flags,(m&65536)!==0&&(m&128)===0?(b.flags=m&-65537|128,b):null;case 5:return YT(b),null;case 13:if(_r(Br),m=b.memoizedState,m!==null&&m.dehydrated!==null){if(b.alternate===null)throw Error(n(340));Hh()}return m=b.flags,m&65536?(b.flags=m&-65537|128,b):null;case 19:return _r(Br),null;case 4:return Xh(),null;case 10:return HT(b.type._context),null;case 22:case 23:return IE(),null;case 24:return null;default:return null}}var ex=!1,ms=!1,ZQ=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function Qh(m,b){var A=m.ref;if(A!==null)if(typeof A=="function")try{A(null)}catch(L){Kr(m,b,L)}else A.current=null}function xE(m,b,A){try{A()}catch(L){Kr(m,b,L)}}var MR=!1;function eZ(m,b){if(IT=Qc,m=h5(),TT(m)){if("selectionStart"in m)var A={start:m.selectionStart,end:m.selectionEnd};else e:{A=(A=m.ownerDocument)&&A.defaultView||window;var L=A.getSelection&&A.getSelection();if(L&&L.rangeCount!==0){A=L.anchorNode;var K=L.anchorOffset,ne=L.focusNode;L=L.focusOffset;try{A.nodeType,ne.nodeType}catch{A=null;break e}var ye=0,Fe=-1,je=-1,et=0,ht=0,yt=m,dt=null;t:for(;;){for(var Pt;yt!==A||K!==0&&yt.nodeType!==3||(Fe=ye+K),yt!==ne||L!==0&&yt.nodeType!==3||(je=ye+L),yt.nodeType===3&&(ye+=yt.nodeValue.length),(Pt=yt.firstChild)!==null;)dt=yt,yt=Pt;for(;;){if(yt===m)break t;if(dt===A&&++et===K&&(Fe=ye),dt===ne&&++ht===L&&(je=ye),(Pt=yt.nextSibling)!==null)break;yt=dt,dt=yt.parentNode}yt=Pt}A=Fe===-1||je===-1?null:{start:Fe,end:je}}else A=null}A=A||{start:0,end:0}}else A=null;for(RT={focusedElem:m,selectionRange:A},Qc=!1,Lt=b;Lt!==null;)if(b=Lt,m=b.child,(b.subtreeFlags&1028)!==0&&m!==null)m.return=b,Lt=m;else for(;Lt!==null;){b=Lt;try{var Wt=b.alternate;if((b.flags&1024)!==0)switch(b.tag){case 0:case 11:case 15:break;case 1:if(Wt!==null){var $t=Wt.memoizedProps,ai=Wt.memoizedState,Ge=b.stateNode,Be=Ge.getSnapshotBeforeUpdate(b.elementType===b.type?$t:Fo(b.type,$t),ai);Ge.__reactInternalSnapshotBeforeUpdate=Be}break;case 3:var Qe=b.stateNode.containerInfo;Qe.nodeType===1?Qe.textContent="":Qe.nodeType===9&&Qe.documentElement&&Qe.removeChild(Qe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(_t){Kr(b,b.return,_t)}if(m=b.sibling,m!==null){m.return=b.return,Lt=m;break}Lt=b.return}return Wt=MR,MR=!1,Wt}function jg(m,b,A){var L=b.updateQueue;if(L=L!==null?L.lastEffect:null,L!==null){var K=L=L.next;do{if((K.tag&m)===m){var ne=K.destroy;K.destroy=void 0,ne!==void 0&&xE(b,A,ne)}K=K.next}while(K!==L)}}function tx(m,b){if(b=b.updateQueue,b=b!==null?b.lastEffect:null,b!==null){var A=b=b.next;do{if((A.tag&m)===m){var L=A.create;A.destroy=L()}A=A.next}while(A!==b)}}function bE(m){var b=m.ref;if(b!==null){var A=m.stateNode;switch(m.tag){case 5:m=A;break;default:m=A}typeof b=="function"?b(m):b.current=m}}function UR(m){var b=m.alternate;b!==null&&(m.alternate=null,UR(b)),m.child=null,m.deletions=null,m.sibling=null,m.tag===5&&(b=m.stateNode,b!==null&&(delete b[dl],delete b[Ag],delete b[UT],delete b[UQ],delete b[OQ])),m.stateNode=null,m.return=null,m.dependencies=null,m.memoizedProps=null,m.memoizedState=null,m.pendingProps=null,m.stateNode=null,m.updateQueue=null}function OR(m){return m.tag===5||m.tag===3||m.tag===4}function LR(m){e:for(;;){for(;m.sibling===null;){if(m.return===null||OR(m.return))return null;m=m.return}for(m.sibling.return=m.return,m=m.sibling;m.tag!==5&&m.tag!==6&&m.tag!==18;){if(m.flags&2||m.child===null||m.tag===4)continue e;m.child.return=m,m=m.child}if(!(m.flags&2))return m.stateNode}}function _E(m,b,A){var L=m.tag;if(L===5||L===6)m=m.stateNode,b?A.nodeType===8?A.parentNode.insertBefore(m,b):A.insertBefore(m,b):(A.nodeType===8?(b=A.parentNode,b.insertBefore(m,A)):(b=A,b.appendChild(m)),A=A._reactRootContainer,A!=null||b.onclick!==null||(b.onclick=Rv));else if(L!==4&&(m=m.child,m!==null))for(_E(m,b,A),m=m.sibling;m!==null;)_E(m,b,A),m=m.sibling}function wE(m,b,A){var L=m.tag;if(L===5||L===6)m=m.stateNode,b?A.insertBefore(m,b):A.appendChild(m);else if(L!==4&&(m=m.child,m!==null))for(wE(m,b,A),m=m.sibling;m!==null;)wE(m,b,A),m=m.sibling}var ns=null,Mo=!1;function ou(m,b,A){for(A=A.child;A!==null;)jR(m,b,A),A=A.sibling}function jR(m,b,A){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(Ye,A)}catch{}switch(A.tag){case 5:ms||Qh(A,b);case 6:var L=ns,K=Mo;ns=null,ou(m,b,A),ns=L,Mo=K,ns!==null&&(Mo?(m=ns,A=A.stateNode,m.nodeType===8?m.parentNode.removeChild(A):m.removeChild(A)):ns.removeChild(A.stateNode));break;case 18:ns!==null&&(Mo?(m=ns,A=A.stateNode,m.nodeType===8?MT(m.parentNode,A):m.nodeType===1&&MT(m,A),ko(m)):MT(ns,A.stateNode));break;case 4:L=ns,K=Mo,ns=A.stateNode.containerInfo,Mo=!0,ou(m,b,A),ns=L,Mo=K;break;case 0:case 11:case 14:case 15:if(!ms&&(L=A.updateQueue,L!==null&&(L=L.lastEffect,L!==null))){K=L=L.next;do{var ne=K,ye=ne.destroy;ne=ne.tag,ye!==void 0&&((ne&2)!==0||(ne&4)!==0)&&xE(A,b,ye),K=K.next}while(K!==L)}ou(m,b,A);break;case 1:if(!ms&&(Qh(A,b),L=A.stateNode,typeof L.componentWillUnmount=="function"))try{L.props=A.memoizedProps,L.state=A.memoizedState,L.componentWillUnmount()}catch(Fe){Kr(A,b,Fe)}ou(m,b,A);break;case 21:ou(m,b,A);break;case 22:A.mode&1?(ms=(L=ms)||A.memoizedState!==null,ou(m,b,A),ms=L):ou(m,b,A);break;default:ou(m,b,A)}}function BR(m){var b=m.updateQueue;if(b!==null){m.updateQueue=null;var A=m.stateNode;A===null&&(A=m.stateNode=new ZQ),b.forEach(function(L){var K=cZ.bind(null,m,L);A.has(L)||(A.add(L),L.then(K,K))})}}function Uo(m,b){var A=b.deletions;if(A!==null)for(var L=0;L<A.length;L++){var K=A[L];try{var ne=m,ye=b,Fe=ye;e:for(;Fe!==null;){switch(Fe.tag){case 5:ns=Fe.stateNode,Mo=!1;break e;case 3:ns=Fe.stateNode.containerInfo,Mo=!0;break e;case 4:ns=Fe.stateNode.containerInfo,Mo=!0;break e}Fe=Fe.return}if(ns===null)throw Error(n(160));jR(ne,ye,K),ns=null,Mo=!1;var je=K.alternate;je!==null&&(je.return=null),K.return=null}catch(et){Kr(K,b,et)}}if(b.subtreeFlags&12854)for(b=b.child;b!==null;)VR(b,m),b=b.sibling}function VR(m,b){var A=m.alternate,L=m.flags;switch(m.tag){case 0:case 11:case 14:case 15:if(Uo(b,m),pl(m),L&4){try{jg(3,m,m.return),tx(3,m)}catch($t){Kr(m,m.return,$t)}try{jg(5,m,m.return)}catch($t){Kr(m,m.return,$t)}}break;case 1:Uo(b,m),pl(m),L&512&&A!==null&&Qh(A,A.return);break;case 5:if(Uo(b,m),pl(m),L&512&&A!==null&&Qh(A,A.return),m.flags&32){var K=m.stateNode;try{Oe(K,"")}catch($t){Kr(m,m.return,$t)}}if(L&4&&(K=m.stateNode,K!=null)){var ne=m.memoizedProps,ye=A!==null?A.memoizedProps:ne,Fe=m.type,je=m.updateQueue;if(m.updateQueue=null,je!==null)try{Fe==="input"&&ne.type==="radio"&&ne.name!=null&&_e(K,ne),Kn(Fe,ye);var et=Kn(Fe,ne);for(ye=0;ye<je.length;ye+=2){var ht=je[ye],yt=je[ye+1];ht==="style"?Bt(K,yt):ht==="dangerouslySetInnerHTML"?Ue(K,yt):ht==="children"?Oe(K,yt):w(K,ht,yt,et)}switch(Fe){case"input":ce(K,ne);break;case"textarea":ve(K,ne);break;case"select":var dt=K._wrapperState.wasMultiple;K._wrapperState.wasMultiple=!!ne.multiple;var Pt=ne.value;Pt!=null?Ne(K,!!ne.multiple,Pt,!1):dt!==!!ne.multiple&&(ne.defaultValue!=null?Ne(K,!!ne.multiple,ne.defaultValue,!0):Ne(K,!!ne.multiple,ne.multiple?[]:"",!1))}K[Ag]=ne}catch($t){Kr(m,m.return,$t)}}break;case 6:if(Uo(b,m),pl(m),L&4){if(m.stateNode===null)throw Error(n(162));K=m.stateNode,ne=m.memoizedProps;try{K.nodeValue=ne}catch($t){Kr(m,m.return,$t)}}break;case 3:if(Uo(b,m),pl(m),L&4&&A!==null&&A.memoizedState.isDehydrated)try{ko(b.containerInfo)}catch($t){Kr(m,m.return,$t)}break;case 4:Uo(b,m),pl(m);break;case 13:Uo(b,m),pl(m),K=m.child,K.flags&8192&&(ne=K.memoizedState!==null,K.stateNode.isHidden=ne,!ne||K.alternate!==null&&K.alternate.memoizedState!==null||(CE=pt())),L&4&&BR(m);break;case 22:if(ht=A!==null&&A.memoizedState!==null,m.mode&1?(ms=(et=ms)||ht,Uo(b,m),ms=et):Uo(b,m),pl(m),L&8192){if(et=m.memoizedState!==null,(m.stateNode.isHidden=et)&&!ht&&(m.mode&1)!==0)for(Lt=m,ht=m.child;ht!==null;){for(yt=Lt=ht;Lt!==null;){switch(dt=Lt,Pt=dt.child,dt.tag){case 0:case 11:case 14:case 15:jg(4,dt,dt.return);break;case 1:Qh(dt,dt.return);var Wt=dt.stateNode;if(typeof Wt.componentWillUnmount=="function"){L=dt,A=dt.return;try{b=L,Wt.props=b.memoizedProps,Wt.state=b.memoizedState,Wt.componentWillUnmount()}catch($t){Kr(L,A,$t)}}break;case 5:Qh(dt,dt.return);break;case 22:if(dt.memoizedState!==null){$R(yt);continue}}Pt!==null?(Pt.return=dt,Lt=Pt):$R(yt)}ht=ht.sibling}e:for(ht=null,yt=m;;){if(yt.tag===5){if(ht===null){ht=yt;try{K=yt.stateNode,et?(ne=K.style,typeof ne.setProperty=="function"?ne.setProperty("display","none","important"):ne.display="none"):(Fe=yt.stateNode,je=yt.memoizedProps.style,ye=je!=null&&je.hasOwnProperty("display")?je.display:null,Fe.style.display=lt("display",ye))}catch($t){Kr(m,m.return,$t)}}}else if(yt.tag===6){if(ht===null)try{yt.stateNode.nodeValue=et?"":yt.memoizedProps}catch($t){Kr(m,m.return,$t)}}else if((yt.tag!==22&&yt.tag!==23||yt.memoizedState===null||yt===m)&&yt.child!==null){yt.child.return=yt,yt=yt.child;continue}if(yt===m)break e;for(;yt.sibling===null;){if(yt.return===null||yt.return===m)break e;ht===yt&&(ht=null),yt=yt.return}ht===yt&&(ht=null),yt.sibling.return=yt.return,yt=yt.sibling}}break;case 19:Uo(b,m),pl(m),L&4&&BR(m);break;case 21:break;default:Uo(b,m),pl(m)}}function pl(m){var b=m.flags;if(b&2){try{e:{for(var A=m.return;A!==null;){if(OR(A)){var L=A;break e}A=A.return}throw Error(n(160))}switch(L.tag){case 5:var K=L.stateNode;L.flags&32&&(Oe(K,""),L.flags&=-33);var ne=LR(m);wE(m,ne,K);break;case 3:case 4:var ye=L.stateNode.containerInfo,Fe=LR(m);_E(m,Fe,ye);break;default:throw Error(n(161))}}catch(je){Kr(m,m.return,je)}m.flags&=-3}b&4096&&(m.flags&=-4097)}function tZ(m,b,A){Lt=m,WR(m)}function WR(m,b,A){for(var L=(m.mode&1)!==0;Lt!==null;){var K=Lt,ne=K.child;if(K.tag===22&&L){var ye=K.memoizedState!==null||ex;if(!ye){var Fe=K.alternate,je=Fe!==null&&Fe.memoizedState!==null||ms;Fe=ex;var et=ms;if(ex=ye,(ms=je)&&!et)for(Lt=K;Lt!==null;)ye=Lt,je=ye.child,ye.tag===22&&ye.memoizedState!==null?zR(K):je!==null?(je.return=ye,Lt=je):zR(K);for(;ne!==null;)Lt=ne,WR(ne),ne=ne.sibling;Lt=K,ex=Fe,ms=et}qR(m)}else(K.subtreeFlags&8772)!==0&&ne!==null?(ne.return=K,Lt=ne):qR(m)}}function qR(m){for(;Lt!==null;){var b=Lt;if((b.flags&8772)!==0){var A=b.alternate;try{if((b.flags&8772)!==0)switch(b.tag){case 0:case 11:case 15:ms||tx(5,b);break;case 1:var L=b.stateNode;if(b.flags&4&&!ms)if(A===null)L.componentDidMount();else{var K=b.elementType===b.type?A.memoizedProps:Fo(b.type,A.memoizedProps);L.componentDidUpdate(K,A.memoizedState,L.__reactInternalSnapshotBeforeUpdate)}var ne=b.updateQueue;ne!==null&&$5(b,ne,L);break;case 3:var ye=b.updateQueue;if(ye!==null){if(A=null,b.child!==null)switch(b.child.tag){case 5:A=b.child.stateNode;break;case 1:A=b.child.stateNode}$5(b,ye,A)}break;case 5:var Fe=b.stateNode;if(A===null&&b.flags&4){A=Fe;var je=b.memoizedProps;switch(b.type){case"button":case"input":case"select":case"textarea":je.autoFocus&&A.focus();break;case"img":je.src&&(A.src=je.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(b.memoizedState===null){var et=b.alternate;if(et!==null){var ht=et.memoizedState;if(ht!==null){var yt=ht.dehydrated;yt!==null&&ko(yt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}ms||b.flags&512&&bE(b)}catch(dt){Kr(b,b.return,dt)}}if(b===m){Lt=null;break}if(A=b.sibling,A!==null){A.return=b.return,Lt=A;break}Lt=b.return}}function $R(m){for(;Lt!==null;){var b=Lt;if(b===m){Lt=null;break}var A=b.sibling;if(A!==null){A.return=b.return,Lt=A;break}Lt=b.return}}function zR(m){for(;Lt!==null;){var b=Lt;try{switch(b.tag){case 0:case 11:case 15:var A=b.return;try{tx(4,b)}catch(je){Kr(b,A,je)}break;case 1:var L=b.stateNode;if(typeof L.componentDidMount=="function"){var K=b.return;try{L.componentDidMount()}catch(je){Kr(b,K,je)}}var ne=b.return;try{bE(b)}catch(je){Kr(b,ne,je)}break;case 5:var ye=b.return;try{bE(b)}catch(je){Kr(b,ye,je)}}}catch(je){Kr(b,b.return,je)}if(b===m){Lt=null;break}var Fe=b.sibling;if(Fe!==null){Fe.return=b.return,Lt=Fe;break}Lt=b.return}}var nZ=Math.ceil,nx=C.ReactCurrentDispatcher,TE=C.ReactCurrentOwner,Za=C.ReactCurrentBatchConfig,Ln=0,ji=null,yi=null,rs=0,ka=0,Zh=nu(0),Si=0,Bg=null,Od=0,rx=0,EE=0,Vg=null,ia=null,CE=0,ep=1/0,ac=null,ix=!1,SE=null,lu=null,sx=!1,cu=null,ax=0,Wg=0,DE=null,ox=-1,lx=0;function Bs(){return(Ln&6)!==0?pt():ox!==-1?ox:ox=pt()}function uu(m){return(m.mode&1)===0?1:(Ln&2)!==0&&rs!==0?rs&-rs:jQ.transition!==null?(lx===0&&(lx=So()),lx):(m=In,m!==0||(m=window.event,m=m===void 0?16:gg(m.type)),m)}function Oo(m,b,A,L){if(50<Wg)throw Wg=0,DE=null,Error(n(185));Kc(m,A,L),((Ln&2)===0||m!==ji)&&(m===ji&&((Ln&2)===0&&(rx|=A),Si===4&&du(m,rs)),sa(m,L),A===1&&Ln===0&&(b.mode&1)===0&&(ep=pt()+500,Uv&&iu()))}function sa(m,b){var A=m.callbackNode;si(m,b);var L=Qs(m,m===ji?rs:0);if(L===0)A!==null&&xt(A),m.callbackNode=null,m.callbackPriority=0;else if(b=L&-L,m.callbackPriority!==b){if(A!=null&&xt(A),b===1)m.tag===0?LQ(GR.bind(null,m)):R5(GR.bind(null,m)),FQ(function(){(Ln&6)===0&&iu()}),A=null;else{switch(Xc(L)){case 1:A=Un;break;case 4:A=An;break;case 16:A=Wn;break;case 536870912:A=za;break;default:A=Wn}A=tP(A,HR.bind(null,m))}m.callbackPriority=b,m.callbackNode=A}}function HR(m,b){if(ox=-1,lx=0,(Ln&6)!==0)throw Error(n(327));var A=m.callbackNode;if(tp()&&m.callbackNode!==A)return null;var L=Qs(m,m===ji?rs:0);if(L===0)return null;if((L&30)!==0||(L&m.expiredLanes)!==0||b)b=cx(m,L);else{b=L;var K=Ln;Ln|=2;var ne=JR();(ji!==m||rs!==b)&&(ac=null,ep=pt()+500,jd(m,b));do try{sZ();break}catch(Fe){KR(m,Fe)}while(!0);zT(),nx.current=ne,Ln=K,yi!==null?b=0:(ji=null,rs=0,b=Si)}if(b!==0){if(b===2&&(K=Zi(m),K!==0&&(L=K,b=AE(m,K))),b===1)throw A=Bg,jd(m,0),du(m,L),sa(m,pt()),A;if(b===6)du(m,L);else{if(K=m.current.alternate,(L&30)===0&&!rZ(K)&&(b=cx(m,L),b===2&&(ne=Zi(m),ne!==0&&(L=ne,b=AE(m,ne))),b===1))throw A=Bg,jd(m,0),du(m,L),sa(m,pt()),A;switch(m.finishedWork=K,m.finishedLanes=L,b){case 0:case 1:throw Error(n(345));case 2:Bd(m,ia,ac);break;case 3:if(du(m,L),(L&130023424)===L&&(b=CE+500-pt(),10<b)){if(Qs(m,0)!==0)break;if(K=m.suspendedLanes,(K&L)!==L){Bs(),m.pingedLanes|=m.suspendedLanes&K;break}m.timeoutHandle=FT(Bd.bind(null,m,ia,ac),b);break}Bd(m,ia,ac);break;case 4:if(du(m,L),(L&4194240)===L)break;for(b=m.eventTimes,K=-1;0<L;){var ye=31-At(L);ne=1<<ye,ye=b[ye],ye>K&&(K=ye),L&=~ne}if(L=K,L=pt()-L,L=(120>L?120:480>L?480:1080>L?1080:1920>L?1920:3e3>L?3e3:4320>L?4320:1960*nZ(L/1960))-L,10<L){m.timeoutHandle=FT(Bd.bind(null,m,ia,ac),L);break}Bd(m,ia,ac);break;case 5:Bd(m,ia,ac);break;default:throw Error(n(329))}}}return sa(m,pt()),m.callbackNode===A?HR.bind(null,m):null}function AE(m,b){var A=Vg;return m.current.memoizedState.isDehydrated&&(jd(m,b).flags|=256),m=cx(m,b),m!==2&&(b=ia,ia=A,b!==null&&NE(b)),m}function NE(m){ia===null?ia=m:ia.push.apply(ia,m)}function rZ(m){for(var b=m;;){if(b.flags&16384){var A=b.updateQueue;if(A!==null&&(A=A.stores,A!==null))for(var L=0;L<A.length;L++){var K=A[L],ne=K.getSnapshot;K=K.value;try{if(!Ro(ne(),K))return!1}catch{return!1}}}if(A=b.child,b.subtreeFlags&16384&&A!==null)A.return=b,b=A;else{if(b===m)break;for(;b.sibling===null;){if(b.return===null||b.return===m)return!0;b=b.return}b.sibling.return=b.return,b=b.sibling}}return!0}function du(m,b){for(b&=~EE,b&=~rx,m.suspendedLanes|=b,m.pingedLanes&=~b,m=m.expirationTimes;0<b;){var A=31-At(b),L=1<<A;m[A]=-1,b&=~L}}function GR(m){if((Ln&6)!==0)throw Error(n(327));tp();var b=Qs(m,0);if((b&1)===0)return sa(m,pt()),null;var A=cx(m,b);if(m.tag!==0&&A===2){var L=Zi(m);L!==0&&(b=L,A=AE(m,L))}if(A===1)throw A=Bg,jd(m,0),du(m,b),sa(m,pt()),A;if(A===6)throw Error(n(345));return m.finishedWork=m.current.alternate,m.finishedLanes=b,Bd(m,ia,ac),sa(m,pt()),null}function kE(m,b){var A=Ln;Ln|=1;try{return m(b)}finally{Ln=A,Ln===0&&(ep=pt()+500,Uv&&iu())}}function Ld(m){cu!==null&&cu.tag===0&&(Ln&6)===0&&tp();var b=Ln;Ln|=1;var A=Za.transition,L=In;try{if(Za.transition=null,In=1,m)return m()}finally{In=L,Za.transition=A,Ln=b,(Ln&6)===0&&iu()}}function IE(){ka=Zh.current,_r(Zh)}function jd(m,b){m.finishedWork=null,m.finishedLanes=0;var A=m.timeoutHandle;if(A!==-1&&(m.timeoutHandle=-1,PQ(A)),yi!==null)for(A=yi.return;A!==null;){var L=A;switch(BT(L),L.tag){case 1:L=L.type.childContextTypes,L!=null&&Fv();break;case 3:Xh(),_r(ta),_r(fs),ZT();break;case 5:YT(L);break;case 4:Xh();break;case 13:_r(Br);break;case 19:_r(Br);break;case 10:HT(L.type._context);break;case 22:case 23:IE()}A=A.return}if(ji=m,yi=m=fu(m.current,null),rs=ka=b,Si=0,Bg=null,EE=rx=Od=0,ia=Vg=null,Fd!==null){for(b=0;b<Fd.length;b++)if(A=Fd[b],L=A.interleaved,L!==null){A.interleaved=null;var K=L.next,ne=A.pending;if(ne!==null){var ye=ne.next;ne.next=K,L.next=ye}A.pending=L}Fd=null}return m}function KR(m,b){do{var A=yi;try{if(zT(),Hv.current=Xv,Gv){for(var L=Vr.memoizedState;L!==null;){var K=L.queue;K!==null&&(K.pending=null),L=L.next}Gv=!1}if(Ud=0,Li=Ci=Vr=null,Fg=!1,Mg=0,TE.current=null,A===null||A.return===null){Si=1,Bg=b,yi=null;break}e:{var ne=m,ye=A.return,Fe=A,je=b;if(b=rs,Fe.flags|=32768,je!==null&&typeof je=="object"&&typeof je.then=="function"){var et=je,ht=Fe,yt=ht.tag;if((ht.mode&1)===0&&(yt===0||yt===11||yt===15)){var dt=ht.alternate;dt?(ht.updateQueue=dt.updateQueue,ht.memoizedState=dt.memoizedState,ht.lanes=dt.lanes):(ht.updateQueue=null,ht.memoizedState=null)}var Pt=xR(ye);if(Pt!==null){Pt.flags&=-257,bR(Pt,ye,Fe,ne,b),Pt.mode&1&&vR(ne,et,b),b=Pt,je=et;var Wt=b.updateQueue;if(Wt===null){var $t=new Set;$t.add(je),b.updateQueue=$t}else Wt.add(je);break e}else{if((b&1)===0){vR(ne,et,b),RE();break e}je=Error(n(426))}}else if(kr&&Fe.mode&1){var ai=xR(ye);if(ai!==null){(ai.flags&65536)===0&&(ai.flags|=256),bR(ai,ye,Fe,ne,b),qT(Yh(je,Fe));break e}}ne=je=Yh(je,Fe),Si!==4&&(Si=2),Vg===null?Vg=[ne]:Vg.push(ne),ne=ye;do{switch(ne.tag){case 3:ne.flags|=65536,b&=-b,ne.lanes|=b;var Ge=gR(ne,je,b);q5(ne,Ge);break e;case 1:Fe=je;var Be=ne.type,Qe=ne.stateNode;if((ne.flags&128)===0&&(typeof Be.getDerivedStateFromError=="function"||Qe!==null&&typeof Qe.componentDidCatch=="function"&&(lu===null||!lu.has(Qe)))){ne.flags|=65536,b&=-b,ne.lanes|=b;var _t=yR(ne,Fe,b);q5(ne,_t);break e}}ne=ne.return}while(ne!==null)}YR(A)}catch(zt){b=zt,yi===A&&A!==null&&(yi=A=A.return);continue}break}while(!0)}function JR(){var m=nx.current;return nx.current=Xv,m===null?Xv:m}function RE(){(Si===0||Si===3||Si===2)&&(Si=4),ji===null||(Od&268435455)===0&&(rx&268435455)===0||du(ji,rs)}function cx(m,b){var A=Ln;Ln|=2;var L=JR();(ji!==m||rs!==b)&&(ac=null,jd(m,b));do try{iZ();break}catch(K){KR(m,K)}while(!0);if(zT(),Ln=A,nx.current=L,yi!==null)throw Error(n(261));return ji=null,rs=0,Si}function iZ(){for(;yi!==null;)XR(yi)}function sZ(){for(;yi!==null&&!kt();)XR(yi)}function XR(m){var b=eP(m.alternate,m,ka);m.memoizedProps=m.pendingProps,b===null?YR(m):yi=b,TE.current=null}function YR(m){var b=m;do{var A=b.alternate;if(m=b.return,(b.flags&32768)===0){if(A=YQ(A,b,ka),A!==null){yi=A;return}}else{if(A=QQ(A,b),A!==null){A.flags&=32767,yi=A;return}if(m!==null)m.flags|=32768,m.subtreeFlags=0,m.deletions=null;else{Si=6,yi=null;return}}if(b=b.sibling,b!==null){yi=b;return}yi=b=m}while(b!==null);Si===0&&(Si=5)}function Bd(m,b,A){var L=In,K=Za.transition;try{Za.transition=null,In=1,aZ(m,b,A,L)}finally{Za.transition=K,In=L}return null}function aZ(m,b,A,L){do tp();while(cu!==null);if((Ln&6)!==0)throw Error(n(327));A=m.finishedWork;var K=m.finishedLanes;if(A===null)return null;if(m.finishedWork=null,m.finishedLanes=0,A===m.current)throw Error(n(177));m.callbackNode=null,m.callbackPriority=0;var ne=A.lanes|A.childLanes;if(dr(m,ne),m===ji&&(yi=ji=null,rs=0),(A.subtreeFlags&2064)===0&&(A.flags&2064)===0||sx||(sx=!0,tP(Wn,function(){return tp(),null})),ne=(A.flags&15990)!==0,(A.subtreeFlags&15990)!==0||ne){ne=Za.transition,Za.transition=null;var ye=In;In=1;var Fe=Ln;Ln|=4,TE.current=null,eZ(m,A),VR(A,m),SQ(RT),Qc=!!IT,RT=IT=null,m.current=A,tZ(A),vt(),Ln=Fe,In=ye,Za.transition=ne}else m.current=A;if(sx&&(sx=!1,cu=m,ax=K),ne=m.pendingLanes,ne===0&&(lu=null),Vt(A.stateNode),sa(m,pt()),b!==null)for(L=m.onRecoverableError,A=0;A<b.length;A++)K=b[A],L(K.value,{componentStack:K.stack,digest:K.digest});if(ix)throw ix=!1,m=SE,SE=null,m;return(ax&1)!==0&&m.tag!==0&&tp(),ne=m.pendingLanes,(ne&1)!==0?m===DE?Wg++:(Wg=0,DE=m):Wg=0,iu(),null}function tp(){if(cu!==null){var m=Xc(ax),b=Za.transition,A=In;try{if(Za.transition=null,In=16>m?16:m,cu===null)var L=!1;else{if(m=cu,cu=null,ax=0,(Ln&6)!==0)throw Error(n(331));var K=Ln;for(Ln|=4,Lt=m.current;Lt!==null;){var ne=Lt,ye=ne.child;if((Lt.flags&16)!==0){var Fe=ne.deletions;if(Fe!==null){for(var je=0;je<Fe.length;je++){var et=Fe[je];for(Lt=et;Lt!==null;){var ht=Lt;switch(ht.tag){case 0:case 11:case 15:jg(8,ht,ne)}var yt=ht.child;if(yt!==null)yt.return=ht,Lt=yt;else for(;Lt!==null;){ht=Lt;var dt=ht.sibling,Pt=ht.return;if(UR(ht),ht===et){Lt=null;break}if(dt!==null){dt.return=Pt,Lt=dt;break}Lt=Pt}}}var Wt=ne.alternate;if(Wt!==null){var $t=Wt.child;if($t!==null){Wt.child=null;do{var ai=$t.sibling;$t.sibling=null,$t=ai}while($t!==null)}}Lt=ne}}if((ne.subtreeFlags&2064)!==0&&ye!==null)ye.return=ne,Lt=ye;else e:for(;Lt!==null;){if(ne=Lt,(ne.flags&2048)!==0)switch(ne.tag){case 0:case 11:case 15:jg(9,ne,ne.return)}var Ge=ne.sibling;if(Ge!==null){Ge.return=ne.return,Lt=Ge;break e}Lt=ne.return}}var Be=m.current;for(Lt=Be;Lt!==null;){ye=Lt;var Qe=ye.child;if((ye.subtreeFlags&2064)!==0&&Qe!==null)Qe.return=ye,Lt=Qe;else e:for(ye=Be;Lt!==null;){if(Fe=Lt,(Fe.flags&2048)!==0)try{switch(Fe.tag){case 0:case 11:case 15:tx(9,Fe)}}catch(zt){Kr(Fe,Fe.return,zt)}if(Fe===ye){Lt=null;break e}var _t=Fe.sibling;if(_t!==null){_t.return=Fe.return,Lt=_t;break e}Lt=Fe.return}}if(Ln=K,iu(),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(Ye,m)}catch{}L=!0}return L}finally{In=A,Za.transition=b}}return!1}function QR(m,b,A){b=Yh(A,b),b=gR(m,b,1),m=au(m,b,1),b=Bs(),m!==null&&(Kc(m,1,b),sa(m,b))}function Kr(m,b,A){if(m.tag===3)QR(m,m,A);else for(;b!==null;){if(b.tag===3){QR(b,m,A);break}else if(b.tag===1){var L=b.stateNode;if(typeof b.type.getDerivedStateFromError=="function"||typeof L.componentDidCatch=="function"&&(lu===null||!lu.has(L))){m=Yh(A,m),m=yR(b,m,1),b=au(b,m,1),m=Bs(),b!==null&&(Kc(b,1,m),sa(b,m));break}}b=b.return}}function oZ(m,b,A){var L=m.pingCache;L!==null&&L.delete(b),b=Bs(),m.pingedLanes|=m.suspendedLanes&A,ji===m&&(rs&A)===A&&(Si===4||Si===3&&(rs&130023424)===rs&&500>pt()-CE?jd(m,0):EE|=A),sa(m,b)}function ZR(m,b){b===0&&((m.mode&1)===0?b=1:(b=Jn,Jn<<=1,(Jn&130023424)===0&&(Jn=4194304)));var A=Bs();m=rc(m,b),m!==null&&(Kc(m,b,A),sa(m,A))}function lZ(m){var b=m.memoizedState,A=0;b!==null&&(A=b.retryLane),ZR(m,A)}function cZ(m,b){var A=0;switch(m.tag){case 13:var L=m.stateNode,K=m.memoizedState;K!==null&&(A=K.retryLane);break;case 19:L=m.stateNode;break;default:throw Error(n(314))}L!==null&&L.delete(b),ZR(m,A)}var eP;eP=function(m,b,A){if(m!==null)if(m.memoizedProps!==b.pendingProps||ta.current)ra=!0;else{if((m.lanes&A)===0&&(b.flags&128)===0)return ra=!1,XQ(m,b,A);ra=(m.flags&131072)!==0}else ra=!1,kr&&(b.flags&1048576)!==0&&P5(b,Lv,b.index);switch(b.lanes=0,b.tag){case 2:var L=b.type;Zv(m,b),m=b.pendingProps;var K=qh(b,fs.current);Jh(b,A),K=nE(null,b,L,m,K,A);var ne=rE();return b.flags|=1,typeof K=="object"&&K!==null&&typeof K.render=="function"&&K.$$typeof===void 0?(b.tag=1,b.memoizedState=null,b.updateQueue=null,na(L)?(ne=!0,Mv(b)):ne=!1,b.memoizedState=K.state!==null&&K.state!==void 0?K.state:null,JT(b),K.updater=Yv,b.stateNode=K,K._reactInternals=b,cE(b,L,m,A),b=hE(null,b,L,!0,ne,A)):(b.tag=0,kr&&ne&&jT(b),js(null,b,K,A),b=b.child),b;case 16:L=b.elementType;e:{switch(Zv(m,b),m=b.pendingProps,K=L._init,L=K(L._payload),b.type=L,K=b.tag=dZ(L),m=Fo(L,m),K){case 0:b=fE(null,b,L,m,A);break e;case 1:b=SR(null,b,L,m,A);break e;case 11:b=_R(null,b,L,m,A);break e;case 14:b=wR(null,b,L,Fo(L.type,m),A);break e}throw Error(n(306,L,""))}return b;case 0:return L=b.type,K=b.pendingProps,K=b.elementType===L?K:Fo(L,K),fE(m,b,L,K,A);case 1:return L=b.type,K=b.pendingProps,K=b.elementType===L?K:Fo(L,K),SR(m,b,L,K,A);case 3:e:{if(DR(b),m===null)throw Error(n(387));L=b.pendingProps,ne=b.memoizedState,K=ne.element,W5(m,b),$v(b,L,null,A);var ye=b.memoizedState;if(L=ye.element,ne.isDehydrated)if(ne={element:L,isDehydrated:!1,cache:ye.cache,pendingSuspenseBoundaries:ye.pendingSuspenseBoundaries,transitions:ye.transitions},b.updateQueue.baseState=ne,b.memoizedState=ne,b.flags&256){K=Yh(Error(n(423)),b),b=AR(m,b,L,A,K);break e}else if(L!==K){K=Yh(Error(n(424)),b),b=AR(m,b,L,A,K);break e}else for(Na=tu(b.stateNode.containerInfo.firstChild),Aa=b,kr=!0,Po=null,A=B5(b,null,L,A),b.child=A;A;)A.flags=A.flags&-3|4096,A=A.sibling;else{if(Hh(),L===K){b=sc(m,b,A);break e}js(m,b,L,A)}b=b.child}return b;case 5:return z5(b),m===null&&WT(b),L=b.type,K=b.pendingProps,ne=m!==null?m.memoizedProps:null,ye=K.children,PT(L,K)?ye=null:ne!==null&&PT(L,ne)&&(b.flags|=32),CR(m,b),js(m,b,ye,A),b.child;case 6:return m===null&&WT(b),null;case 13:return NR(m,b,A);case 4:return XT(b,b.stateNode.containerInfo),L=b.pendingProps,m===null?b.child=Gh(b,null,L,A):js(m,b,L,A),b.child;case 11:return L=b.type,K=b.pendingProps,K=b.elementType===L?K:Fo(L,K),_R(m,b,L,K,A);case 7:return js(m,b,b.pendingProps,A),b.child;case 8:return js(m,b,b.pendingProps.children,A),b.child;case 12:return js(m,b,b.pendingProps.children,A),b.child;case 10:e:{if(L=b.type._context,K=b.pendingProps,ne=b.memoizedProps,ye=K.value,hr(Vv,L._currentValue),L._currentValue=ye,ne!==null)if(Ro(ne.value,ye)){if(ne.children===K.children&&!ta.current){b=sc(m,b,A);break e}}else for(ne=b.child,ne!==null&&(ne.return=b);ne!==null;){var Fe=ne.dependencies;if(Fe!==null){ye=ne.child;for(var je=Fe.firstContext;je!==null;){if(je.context===L){if(ne.tag===1){je=ic(-1,A&-A),je.tag=2;var et=ne.updateQueue;if(et!==null){et=et.shared;var ht=et.pending;ht===null?je.next=je:(je.next=ht.next,ht.next=je),et.pending=je}}ne.lanes|=A,je=ne.alternate,je!==null&&(je.lanes|=A),GT(ne.return,A,b),Fe.lanes|=A;break}je=je.next}}else if(ne.tag===10)ye=ne.type===b.type?null:ne.child;else if(ne.tag===18){if(ye=ne.return,ye===null)throw Error(n(341));ye.lanes|=A,Fe=ye.alternate,Fe!==null&&(Fe.lanes|=A),GT(ye,A,b),ye=ne.sibling}else ye=ne.child;if(ye!==null)ye.return=ne;else for(ye=ne;ye!==null;){if(ye===b){ye=null;break}if(ne=ye.sibling,ne!==null){ne.return=ye.return,ye=ne;break}ye=ye.return}ne=ye}js(m,b,K.children,A),b=b.child}return b;case 9:return K=b.type,L=b.pendingProps.children,Jh(b,A),K=Ya(K),L=L(K),b.flags|=1,js(m,b,L,A),b.child;case 14:return L=b.type,K=Fo(L,b.pendingProps),K=Fo(L.type,K),wR(m,b,L,K,A);case 15:return TR(m,b,b.type,b.pendingProps,A);case 17:return L=b.type,K=b.pendingProps,K=b.elementType===L?K:Fo(L,K),Zv(m,b),b.tag=1,na(L)?(m=!0,Mv(b)):m=!1,Jh(b,A),pR(b,L,K),cE(b,L,K,A),hE(null,b,L,!0,m,A);case 19:return IR(m,b,A);case 22:return ER(m,b,A)}throw Error(n(156,b.tag))};function tP(m,b){return ut(m,b)}function uZ(m,b,A,L){this.tag=m,this.key=A,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=b,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=L,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function eo(m,b,A,L){return new uZ(m,b,A,L)}function PE(m){return m=m.prototype,!(!m||!m.isReactComponent)}function dZ(m){if(typeof m=="function")return PE(m)?1:0;if(m!=null){if(m=m.$$typeof,m===k)return 11;if(m===H)return 14}return 2}function fu(m,b){var A=m.alternate;return A===null?(A=eo(m.tag,b,m.key,m.mode),A.elementType=m.elementType,A.type=m.type,A.stateNode=m.stateNode,A.alternate=m,m.alternate=A):(A.pendingProps=b,A.type=m.type,A.flags=0,A.subtreeFlags=0,A.deletions=null),A.flags=m.flags&14680064,A.childLanes=m.childLanes,A.lanes=m.lanes,A.child=m.child,A.memoizedProps=m.memoizedProps,A.memoizedState=m.memoizedState,A.updateQueue=m.updateQueue,b=m.dependencies,A.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext},A.sibling=m.sibling,A.index=m.index,A.ref=m.ref,A}function ux(m,b,A,L,K,ne){var ye=2;if(L=m,typeof m=="function")PE(m)&&(ye=1);else if(typeof m=="string")ye=5;else e:switch(m){case D:return Vd(A.children,K,ne,b);case N:ye=8,K|=8;break;case I:return m=eo(12,A,b,K|2),m.elementType=I,m.lanes=ne,m;case U:return m=eo(13,A,b,K),m.elementType=U,m.lanes=ne,m;case O:return m=eo(19,A,b,K),m.elementType=O,m.lanes=ne,m;case X:return dx(A,K,ne,b);default:if(typeof m=="object"&&m!==null)switch(m.$$typeof){case F:ye=10;break e;case P:ye=9;break e;case k:ye=11;break e;case H:ye=14;break e;case G:ye=16,L=null;break e}throw Error(n(130,m==null?m:typeof m,""))}return b=eo(ye,A,b,K),b.elementType=m,b.type=L,b.lanes=ne,b}function Vd(m,b,A,L){return m=eo(7,m,L,b),m.lanes=A,m}function dx(m,b,A,L){return m=eo(22,m,L,b),m.elementType=X,m.lanes=A,m.stateNode={isHidden:!1},m}function FE(m,b,A){return m=eo(6,m,null,b),m.lanes=A,m}function ME(m,b,A){return b=eo(4,m.children!==null?m.children:[],m.key,b),b.lanes=A,b.stateNode={containerInfo:m.containerInfo,pendingChildren:null,implementation:m.implementation},b}function fZ(m,b,A,L,K){this.tag=b,this.containerInfo=m,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ha(0),this.expirationTimes=Ha(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ha(0),this.identifierPrefix=L,this.onRecoverableError=K,this.mutableSourceEagerHydrationData=null}function UE(m,b,A,L,K,ne,ye,Fe,je){return m=new fZ(m,b,A,Fe,je),b===1?(b=1,ne===!0&&(b|=8)):b=0,ne=eo(3,null,null,b),m.current=ne,ne.stateNode=m,ne.memoizedState={element:L,isDehydrated:A,cache:null,transitions:null,pendingSuspenseBoundaries:null},JT(ne),m}function hZ(m,b,A){var L=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:L==null?null:""+L,children:m,containerInfo:b,implementation:A}}function nP(m){if(!m)return ru;m=m._reactInternals;e:{if(Se(m)!==m||m.tag!==1)throw Error(n(170));var b=m;do{switch(b.tag){case 3:b=b.stateNode.context;break e;case 1:if(na(b.type)){b=b.stateNode.__reactInternalMemoizedMergedChildContext;break e}}b=b.return}while(b!==null);throw Error(n(171))}if(m.tag===1){var A=m.type;if(na(A))return k5(m,A,b)}return b}function rP(m,b,A,L,K,ne,ye,Fe,je){return m=UE(A,L,!0,m,K,ne,ye,Fe,je),m.context=nP(null),A=m.current,L=Bs(),K=uu(A),ne=ic(L,K),ne.callback=b??null,au(A,ne,K),m.current.lanes=K,Kc(m,K,L),sa(m,L),m}function fx(m,b,A,L){var K=b.current,ne=Bs(),ye=uu(K);return A=nP(A),b.context===null?b.context=A:b.pendingContext=A,b=ic(ne,ye),b.payload={element:m},L=L===void 0?null:L,L!==null&&(b.callback=L),m=au(K,b,ye),m!==null&&(Oo(m,K,ye,ne),qv(m,K,ye)),ye}function hx(m){if(m=m.current,!m.child)return null;switch(m.child.tag){case 5:return m.child.stateNode;default:return m.child.stateNode}}function iP(m,b){if(m=m.memoizedState,m!==null&&m.dehydrated!==null){var A=m.retryLane;m.retryLane=A!==0&&A<b?A:b}}function OE(m,b){iP(m,b),(m=m.alternate)&&iP(m,b)}function pZ(){return null}var sP=typeof reportError=="function"?reportError:function(m){console.error(m)};function LE(m){this._internalRoot=m}px.prototype.render=LE.prototype.render=function(m){var b=this._internalRoot;if(b===null)throw Error(n(409));fx(m,b,null,null)},px.prototype.unmount=LE.prototype.unmount=function(){var m=this._internalRoot;if(m!==null){this._internalRoot=null;var b=m.containerInfo;Ld(function(){fx(null,m,null,null)}),b[Zl]=null}};function px(m){this._internalRoot=m}px.prototype.unstable_scheduleHydration=function(m){if(m){var b=pv();m={blockedOn:null,target:m,priority:b};for(var A=0;A<ol.length&&b!==0&&b<ol[A].priority;A++);ol.splice(A,0,m),A===0&&yv(m)}};function jE(m){return!(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)}function mx(m){return!(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11&&(m.nodeType!==8||m.nodeValue!==" react-mount-point-unstable "))}function aP(){}function mZ(m,b,A,L,K){if(K){if(typeof L=="function"){var ne=L;L=function(){var et=hx(ye);ne.call(et)}}var ye=rP(b,L,m,0,null,!1,!1,"",aP);return m._reactRootContainer=ye,m[Zl]=ye.current,Sg(m.nodeType===8?m.parentNode:m),Ld(),ye}for(;K=m.lastChild;)m.removeChild(K);if(typeof L=="function"){var Fe=L;L=function(){var et=hx(je);Fe.call(et)}}var je=UE(m,0,!1,null,null,!1,!1,"",aP);return m._reactRootContainer=je,m[Zl]=je.current,Sg(m.nodeType===8?m.parentNode:m),Ld(function(){fx(b,je,A,L)}),je}function gx(m,b,A,L,K){var ne=A._reactRootContainer;if(ne){var ye=ne;if(typeof K=="function"){var Fe=K;K=function(){var je=hx(ye);Fe.call(je)}}fx(b,ye,m,K)}else ye=mZ(A,b,m,K,L);return hx(ye)}fv=function(m){switch(m.tag){case 3:var b=m.stateNode;if(b.current.memoizedState.isDehydrated){var A=xr(b.pendingLanes);A!==0&&(Jc(b,A|1),sa(b,pt()),(Ln&6)===0&&(ep=pt()+500,iu()))}break;case 13:Ld(function(){var L=rc(m,1);if(L!==null){var K=Bs();Oo(L,m,1,K)}}),OE(m,1)}},Ch=function(m){if(m.tag===13){var b=rc(m,134217728);if(b!==null){var A=Bs();Oo(b,m,134217728,A)}OE(m,134217728)}},hv=function(m){if(m.tag===13){var b=uu(m),A=rc(m,b);if(A!==null){var L=Bs();Oo(A,m,b,L)}OE(m,b)}},pv=function(){return In},mv=function(m,b){var A=In;try{return In=m,b()}finally{In=A}},yn=function(m,b,A){switch(b){case"input":if(ce(m,A),b=A.name,A.type==="radio"&&b!=null){for(A=m;A.parentNode;)A=A.parentNode;for(A=A.querySelectorAll("input[name="+JSON.stringify(""+b)+'][type="radio"]'),b=0;b<A.length;b++){var L=A[b];if(L!==m&&L.form===m.form){var K=Pv(L);if(!K)throw Error(n(90));pe(L),ce(L,K)}}}break;case"textarea":ve(m,A);break;case"select":b=A.value,b!=null&&Ne(m,!!A.multiple,b,!1)}},qe=kE,st=Ld;var gZ={usingClientEntryPoint:!1,Events:[Ng,Vh,Pv,he,Re,kE]},qg={findFiberByHostInstance:kd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yZ={bundleType:qg.bundleType,version:qg.version,rendererPackageName:qg.rendererPackageName,rendererConfig:qg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(m){return m=Xe(m),m===null?null:m.stateNode},findFiberByHostInstance:qg.findFiberByHostInstance||pZ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yx.isDisabled&&yx.supportsFiber)try{Ye=yx.inject(yZ),nt=yx}catch{}}return aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gZ,aa.createPortal=function(m,b){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jE(b))throw Error(n(200));return hZ(m,b,null,A)},aa.createRoot=function(m,b){if(!jE(m))throw Error(n(299));var A=!1,L="",K=sP;return b!=null&&(b.unstable_strictMode===!0&&(A=!0),b.identifierPrefix!==void 0&&(L=b.identifierPrefix),b.onRecoverableError!==void 0&&(K=b.onRecoverableError)),b=UE(m,1,!1,null,null,A,!1,L,K),m[Zl]=b.current,Sg(m.nodeType===8?m.parentNode:m),new LE(b)},aa.findDOMNode=function(m){if(m==null)return null;if(m.nodeType===1)return m;var b=m._reactInternals;if(b===void 0)throw typeof m.render=="function"?Error(n(188)):(m=Object.keys(m).join(","),Error(n(268,m)));return m=Xe(b),m=m===null?null:m.stateNode,m},aa.flushSync=function(m){return Ld(m)},aa.hydrate=function(m,b,A){if(!mx(b))throw Error(n(200));return gx(null,m,b,!0,A)},aa.hydrateRoot=function(m,b,A){if(!jE(m))throw Error(n(405));var L=A!=null&&A.hydratedSources||null,K=!1,ne="",ye=sP;if(A!=null&&(A.unstable_strictMode===!0&&(K=!0),A.identifierPrefix!==void 0&&(ne=A.identifierPrefix),A.onRecoverableError!==void 0&&(ye=A.onRecoverableError)),b=rP(b,null,m,1,A??null,K,!1,ne,ye),m[Zl]=b.current,Sg(m),L)for(m=0;m<L.length;m++)A=L[m],K=A._getVersion,K=K(A._source),b.mutableSourceEagerHydrationData==null?b.mutableSourceEagerHydrationData=[A,K]:b.mutableSourceEagerHydrationData.push(A,K);return new px(b)},aa.render=function(m,b,A){if(!mx(b))throw Error(n(200));return gx(null,m,b,!1,A)},aa.unmountComponentAtNode=function(m){if(!mx(m))throw Error(n(40));return m._reactRootContainer?(Ld(function(){gx(null,null,m,!1,function(){m._reactRootContainer=null,m[Zl]=null})}),!0):!1},aa.unstable_batchedUpdates=kE,aa.unstable_renderSubtreeIntoContainer=function(m,b,A,L){if(!mx(A))throw Error(n(200));if(m==null||m._reactInternals===void 0)throw Error(n(38));return gx(m,b,A,!1,L)},aa.version="18.3.1-next-f1338f8080-20240426",aa}var pP;function MB(){if(pP)return WE.exports;pP=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),WE.exports=CZ(),WE.exports}var mP;function SZ(){if(mP)return vx;mP=1;var t=MB();return vx.createRoot=t.createRoot,vx.hydrateRoot=t.hydrateRoot,vx}var DZ=SZ();const AZ=d_(DZ);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var gP="popstate";function NZ(t={}){function e(r,i){let{pathname:s,search:a,hash:o}=r.location;return ND("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:hy(i)}return IZ(e,n,null,t)}function Or(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function xo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kZ(){return Math.random().toString(36).substring(2,10)}function yP(t,e){return{usr:t.state,key:t.key,idx:e}}function ND(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Fm(e):e,state:n,key:e&&e.key||r||kZ()}}function hy({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Fm(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function IZ(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o="POP",l=null,c=u();c==null&&(c=0,a.replaceState({...a.state,idx:c},""));function u(){return(a.state||{idx:null}).idx}function f(){o="POP";let y=u(),_=y==null?null:y-c;c=y,l&&l({action:o,location:g.location,delta:_})}function h(y,_){o="PUSH";let x=ND(g.location,y,_);c=u()+1;let w=yP(x,c),C=g.createHref(x);try{a.pushState(w,"",C)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(C)}s&&l&&l({action:o,location:g.location,delta:1})}function p(y,_){o="REPLACE";let x=ND(g.location,y,_);c=u();let w=yP(x,c),C=g.createHref(x);a.replaceState(w,"",C),s&&l&&l({action:o,location:g.location,delta:0})}function v(y){return RZ(y)}let g={get action(){return o},get location(){return t(i,a)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(gP,f),l=y,()=>{i.removeEventListener(gP,f),l=null}},createHref(y){return e(i,y)},createURL:v,encodeLocation(y){let _=v(y);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:h,replace:p,go(y){return a.go(y)}};return g}function RZ(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Or(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:hy(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function UB(t,e,n="/"){return PZ(t,e,n,!1)}function PZ(t,e,n,r){let i=typeof e=="string"?Fm(e):e,s=Cc(i.pathname||"/",n);if(s==null)return null;let a=OB(t);FZ(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=zZ(s);o=qZ(a[l],c,r)}return o}function OB(t,e=[],n=[],r="",i=!1){let s=(a,o,l=i,c)=>{let u={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(r)&&l)return;Or(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length)}let f=mc([r,u.relativePath]),h=n.concat(u);a.children&&a.children.length>0&&(Or(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),OB(a.children,e,h,f,l)),!(a.path==null&&!a.index)&&e.push({path:f,score:VZ(f,a.index),routesMeta:h})};return t.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let c of LB(a.path))s(a,o,!0,c)}),e}function LB(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=LB(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function FZ(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:WZ(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var MZ=/^:[\w-]+$/,UZ=3,OZ=2,LZ=1,jZ=10,BZ=-2,vP=t=>t==="*";function VZ(t,e){let n=t.split("/"),r=n.length;return n.some(vP)&&(r+=BZ),e&&(r+=OZ),n.filter(i=>!vP(i)).reduce((i,s)=>i+(MZ.test(s)?UZ:s===""?LZ:jZ),r)}function WZ(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function qZ(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",f=Z2({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=Z2({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:mc([s,f.pathname]),pathnameBase:JZ(mc([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=mc([s,f.pathnameBase]))}return a}function Z2(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=$Z(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,{paramName:u,isOptional:f},h)=>{if(u==="*"){let v=o[h]||"";a=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const p=o[h];return f&&!p?c[u]=void 0:c[u]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function $Z(t,e=!1,n=!0){xo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function zZ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xo(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Cc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function HZ(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Fm(t):t;return{pathname:n?n.startsWith("/")?n:GZ(n,e):e,search:XZ(r),hash:YZ(i)}}function GZ(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function zE(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function KZ(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function T3(t){let e=KZ(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function E3(t,e,n,r=!1){let i;typeof t=="string"?i=Fm(t):(i={...t},Or(!i.pathname||!i.pathname.includes("?"),zE("?","pathname","search",i)),Or(!i.pathname||!i.pathname.includes("#"),zE("#","pathname","hash",i)),Or(!i.search||!i.search.includes("#"),zE("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}o=f>=0?e[f]:"/"}let l=HZ(i,o),c=a&&a!=="/"&&a.endsWith("/"),u=(s||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var mc=t=>t.join("/").replace(/\/\/+/g,"/"),JZ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),XZ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,YZ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function QZ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var jB=["POST","PUT","PATCH","DELETE"];new Set(jB);var ZZ=["GET",...jB];new Set(ZZ);var Mm=V.createContext(null);Mm.displayName="DataRouter";var h_=V.createContext(null);h_.displayName="DataRouterState";V.createContext(!1);var BB=V.createContext({isTransitioning:!1});BB.displayName="ViewTransition";var eee=V.createContext(new Map);eee.displayName="Fetchers";var tee=V.createContext(null);tee.displayName="Await";var rl=V.createContext(null);rl.displayName="Navigation";var v1=V.createContext(null);v1.displayName="Location";var wo=V.createContext({outlet:null,matches:[],isDataRoute:!1});wo.displayName="Route";var C3=V.createContext(null);C3.displayName="RouteError";function nee(t,{relative:e}={}){Or(Um(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=V.useContext(rl),{hash:i,pathname:s,search:a}=x1(t,{relative:e}),o=s;return n!=="/"&&(o=s==="/"?n:mc([n,s])),r.createHref({pathname:o,search:a,hash:i})}function Um(){return V.useContext(v1)!=null}function Lr(){return Or(Um(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(v1).location}var VB="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function WB(t){V.useContext(rl).static||V.useLayoutEffect(t)}function Fi(){let{isDataRoute:t}=V.useContext(wo);return t?yee():ree()}function ree(){Or(Um(),"useNavigate() may be used only in the context of a <Router> component.");let t=V.useContext(Mm),{basename:e,navigator:n}=V.useContext(rl),{matches:r}=V.useContext(wo),{pathname:i}=Lr(),s=JSON.stringify(T3(r)),a=V.useRef(!1);return WB(()=>{a.current=!0}),V.useCallback((l,c={})=>{if(xo(a.current,VB),!a.current)return;if(typeof l=="number"){n.go(l);return}let u=E3(l,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:mc([e,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[e,n,s,i,t])}var iee=V.createContext(null);function see(t){let e=V.useContext(wo).outlet;return e&&V.createElement(iee.Provider,{value:t},e)}function _a(){let{matches:t}=V.useContext(wo),e=t[t.length-1];return e?e.params:{}}function x1(t,{relative:e}={}){let{matches:n}=V.useContext(wo),{pathname:r}=Lr(),i=JSON.stringify(T3(n));return V.useMemo(()=>E3(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function aee(t,e){return qB(t,e)}function qB(t,e,n,r,i){var x;Or(Um(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=V.useContext(rl),{matches:a}=V.useContext(wo),o=a[a.length-1],l=o?o.params:{},c=o?o.pathname:"/",u=o?o.pathnameBase:"/",f=o&&o.route;{let w=f&&f.path||"";$B(c,!f||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let h=Lr(),p;if(e){let w=typeof e=="string"?Fm(e):e;Or(u==="/"||((x=w.pathname)==null?void 0:x.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${w.pathname}" was given in the \`location\` prop.`),p=w}else p=h;let v=p.pathname||"/",g=v;if(u!=="/"){let w=u.replace(/^\//,"").split("/");g="/"+v.replace(/^\//,"").split("/").slice(w.length).join("/")}let y=UB(t,{pathname:g});xo(f||y!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),xo(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=dee(y&&y.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:mc([u,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?u:mc([u,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),a,n,r,i);return e&&_?V.createElement(v1.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},_):_}function oee(){let t=gee(),e=QZ(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:s},"ErrorBoundary")," or"," ",V.createElement("code",{style:s},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:i},n):null,a)}var lee=V.createElement(oee,null),cee=class extends V.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?V.createElement(wo.Provider,{value:this.props.routeContext},V.createElement(C3.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function uee({routeContext:t,match:e,children:n}){let r=V.useContext(Mm);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(wo.Provider,{value:t},n)}function dee(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=n==null?void 0:n.errors;if(a!=null){let c=s.findIndex(u=>u.route.id&&(a==null?void 0:a[u.route.id])!==void 0);Or(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,c+1))}let o=!1,l=-1;if(n)for(let c=0;c<s.length;c++){let u=s[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=c),u.route.id){let{loaderData:f,errors:h}=n,p=u.route.loader&&!f.hasOwnProperty(u.route.id)&&(!h||h[u.route.id]===void 0);if(u.route.lazy||p){o=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((c,u,f)=>{let h,p=!1,v=null,g=null;n&&(h=a&&u.route.id?a[u.route.id]:void 0,v=u.route.errorElement||lee,o&&(l<0&&f===0?($B("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,g=null):l===f&&(p=!0,g=u.route.hydrateFallbackElement||null)));let y=e.concat(s.slice(0,f+1)),_=()=>{let x;return h?x=v:p?x=g:u.route.Component?x=V.createElement(u.route.Component,null):u.route.element?x=u.route.element:x=c,V.createElement(uee,{match:u,routeContext:{outlet:c,matches:y,isDataRoute:n!=null},children:x})};return n&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?V.createElement(cee,{location:n.location,revalidation:n.revalidation,component:v,error:h,children:_(),routeContext:{outlet:null,matches:y,isDataRoute:!0},unstable_onError:r}):_()},null)}function S3(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fee(t){let e=V.useContext(Mm);return Or(e,S3(t)),e}function hee(t){let e=V.useContext(h_);return Or(e,S3(t)),e}function pee(t){let e=V.useContext(wo);return Or(e,S3(t)),e}function D3(t){let e=pee(t),n=e.matches[e.matches.length-1];return Or(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function mee(){return D3("useRouteId")}function gee(){var r;let t=V.useContext(C3),e=hee("useRouteError"),n=D3("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function yee(){let{router:t}=fee("useNavigate"),e=D3("useNavigate"),n=V.useRef(!1);return WB(()=>{n.current=!0}),V.useCallback(async(i,s={})=>{xo(n.current,VB),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var xP={};function $B(t,e,n){!e&&!xP[t]&&(xP[t]=!0,xo(!1,n))}V.memo(vee);function vee({routes:t,future:e,state:n,unstable_onError:r}){return qB(t,void 0,n,r,e)}function kp({to:t,replace:e,state:n,relative:r}){Or(Um(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=V.useContext(rl);xo(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=V.useContext(wo),{pathname:a}=Lr(),o=Fi(),l=E3(t,T3(s),a,r==="path"),c=JSON.stringify(l);return V.useEffect(()=>{o(JSON.parse(c),{replace:e,state:n,relative:r})},[o,c,r,e,n]),null}function A3(t){return see(t.context)}function Xt(t){Or(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function xee({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Or(!Um(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),o=V.useMemo(()=>({basename:a,navigator:i,static:s,future:{}}),[a,i,s]);typeof n=="string"&&(n=Fm(n));let{pathname:l="/",search:c="",hash:u="",state:f=null,key:h="default"}=n,p=V.useMemo(()=>{let v=Cc(l,a);return v==null?null:{location:{pathname:v,search:c,hash:u,state:f,key:h},navigationType:r}},[a,l,c,u,f,h,r]);return xo(p!=null,`<Router basename="${a}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:V.createElement(rl.Provider,{value:o},V.createElement(v1.Provider,{children:e,value:p}))}function bee({children:t,location:e}){return aee(kD(t),e)}function kD(t,e=[]){let n=[];return V.Children.forEach(t,(r,i)=>{if(!V.isValidElement(r))return;let s=[...e,i];if(r.type===V.Fragment){n.push.apply(n,kD(r.props.children,s));return}Or(r.type===Xt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Or(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=kD(r.props.children,s)),n.push(a)}),n}var u2="get",d2="application/x-www-form-urlencoded";function p_(t){return t!=null&&typeof t.tagName=="string"}function _ee(t){return p_(t)&&t.tagName.toLowerCase()==="button"}function wee(t){return p_(t)&&t.tagName.toLowerCase()==="form"}function Tee(t){return p_(t)&&t.tagName.toLowerCase()==="input"}function Eee(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Cee(t,e){return t.button===0&&(!e||e==="_self")&&!Eee(t)}function ID(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function See(t,e){let n=ID(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(s=>{n.append(i,s)})}),n}var xx=null;function Dee(){if(xx===null)try{new FormData(document.createElement("form"),0),xx=!1}catch{xx=!0}return xx}var Aee=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function HE(t){return t!=null&&!Aee.has(t)?(xo(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${d2}"`),null):t}function Nee(t,e){let n,r,i,s,a;if(wee(t)){let o=t.getAttribute("action");r=o?Cc(o,e):null,n=t.getAttribute("method")||u2,i=HE(t.getAttribute("enctype"))||d2,s=new FormData(t)}else if(_ee(t)||Tee(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||o.getAttribute("action");if(r=l?Cc(l,e):null,n=t.getAttribute("formmethod")||o.getAttribute("method")||u2,i=HE(t.getAttribute("formenctype"))||HE(o.getAttribute("enctype"))||d2,s=new FormData(o,t),!Dee()){let{name:c,type:u,value:f}=t;if(u==="image"){let h=c?`${c}.`:"";s.append(`${h}x`,"0"),s.append(`${h}y`,"0")}else c&&s.append(c,f)}}else{if(p_(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=u2,r=null,i=d2,a=t}return s&&i==="text/plain"&&(a=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function N3(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function kee(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Cc(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Iee(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ree(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Pee(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await Iee(s,n);return a.links?a.links():[]}return[]}));return Oee(r.flat(1).filter(Ree).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function bP(t,e,n,r,i,s){let a=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,o=(l,c)=>{var u;return n[c].pathname!==l.pathname||((u=n[c].route.path)==null?void 0:u.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,c)=>a(l,c)||o(l,c)):s==="data"?e.filter((l,c)=>{var f;let u=r.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(a(l,c)||o(l,c))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function Fee(t,e,{includeHydrateFallback:n}={}){return Mee(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function Mee(t){return[...new Set(t)]}function Uee(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Oee(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(Uee(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function zB(){let t=V.useContext(Mm);return N3(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Lee(){let t=V.useContext(h_);return N3(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var k3=V.createContext(void 0);k3.displayName="FrameworkContext";function HB(){let t=V.useContext(k3);return N3(t,"You must render this element inside a <HydratedRouter> element"),t}function jee(t,e){let n=V.useContext(k3),[r,i]=V.useState(!1),[s,a]=V.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:f}=e,h=V.useRef(null);V.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let g=_=>{_.forEach(x=>{a(x.isIntersecting)})},y=new IntersectionObserver(g,{threshold:.5});return h.current&&y.observe(h.current),()=>{y.disconnect()}}},[t]),V.useEffect(()=>{if(r){let g=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(g)}}},[r]);let p=()=>{i(!0)},v=()=>{i(!1),a(!1)};return n?t!=="intent"?[s,h,{}]:[s,h,{onFocus:zg(o,p),onBlur:zg(l,v),onMouseEnter:zg(c,p),onMouseLeave:zg(u,v),onTouchStart:zg(f,p)}]:[!1,h,{}]}function zg(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Bee({page:t,...e}){let{router:n}=zB(),r=V.useMemo(()=>UB(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?V.createElement(Wee,{page:t,matches:r,...e}):null}function Vee(t){let{manifest:e,routeModules:n}=HB(),[r,i]=V.useState([]);return V.useEffect(()=>{let s=!1;return Pee(t,e,n).then(a=>{s||i(a)}),()=>{s=!0}},[t,e,n]),r}function Wee({page:t,matches:e,...n}){let r=Lr(),{manifest:i,routeModules:s}=HB(),{basename:a}=zB(),{loaderData:o,matches:l}=Lee(),c=V.useMemo(()=>bP(t,e,l,i,r,"data"),[t,e,l,i,r]),u=V.useMemo(()=>bP(t,e,l,i,r,"assets"),[t,e,l,i,r]),f=V.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let v=new Set,g=!1;if(e.forEach(_=>{var w;let x=i.routes[_.route.id];!x||!x.hasLoader||(!c.some(C=>C.route.id===_.route.id)&&_.route.id in o&&((w=s[_.route.id])!=null&&w.shouldRevalidate)||x.hasClientLoader?g=!0:v.add(_.route.id))}),v.size===0)return[];let y=kee(t,a,"data");return g&&v.size>0&&y.searchParams.set("_routes",e.filter(_=>v.has(_.route.id)).map(_=>_.route.id).join(",")),[y.pathname+y.search]},[a,o,r,i,c,e,t,s]),h=V.useMemo(()=>Fee(u,i),[u,i]),p=Vee(u);return V.createElement(V.Fragment,null,f.map(v=>V.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),h.map(v=>V.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),p.map(({key:v,link:g})=>V.createElement("link",{key:v,nonce:n.nonce,...g})))}function qee(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var GB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{GB&&(window.__reactRouterVersion="7.8.2")}catch{}function $ee({basename:t,children:e,window:n}){let r=V.useRef();r.current==null&&(r.current=NZ({window:n,v5Compat:!0}));let i=r.current,[s,a]=V.useState({action:i.action,location:i.location}),o=V.useCallback(l=>{V.startTransition(()=>a(l))},[a]);return V.useLayoutEffect(()=>i.listen(o),[i,o]),V.createElement(xee,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var KB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dn=V.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:u,viewTransition:f,...h},p){let{basename:v}=V.useContext(rl),g=typeof c=="string"&&KB.test(c),y,_=!1;if(typeof c=="string"&&g&&(y=c,GB))try{let I=new URL(window.location.href),F=c.startsWith("//")?new URL(I.protocol+c):new URL(c),P=Cc(F.pathname,v);F.origin===I.origin&&P!=null?c=P+F.search+F.hash:_=!0}catch{xo(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=nee(c,{relative:i}),[w,C,S]=jee(r,h),R=Gee(c,{replace:a,state:o,target:l,preventScrollReset:u,relative:i,viewTransition:f});function D(I){e&&e(I),I.defaultPrevented||R(I)}let N=V.createElement("a",{...h,...S,href:y||x,onClick:_||s?e:D,ref:qee(p,C),target:l,"data-discover":!g&&n==="render"?"true":void 0});return w&&!g?V.createElement(V.Fragment,null,N,V.createElement(Bee,{page:x})):N});dn.displayName="Link";var cr=V.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:a,viewTransition:o,children:l,...c},u){let f=x1(a,{relative:c.relative}),h=Lr(),p=V.useContext(h_),{navigator:v,basename:g}=V.useContext(rl),y=p!=null&&Zee(f)&&o===!0,_=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,x=h.pathname,w=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(x=x.toLowerCase(),w=w?w.toLowerCase():null,_=_.toLowerCase()),w&&g&&(w=Cc(w,g)||w);const C=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let S=x===_||!i&&x.startsWith(_)&&x.charAt(C)==="/",R=w!=null&&(w===_||!i&&w.startsWith(_)&&w.charAt(_.length)==="/"),D={isActive:S,isPending:R,isTransitioning:y},N=S?e:void 0,I;typeof r=="function"?I=r(D):I=[r,S?"active":null,R?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let F=typeof s=="function"?s(D):s;return V.createElement(dn,{...c,"aria-current":N,className:I,ref:u,style:F,to:a,viewTransition:o},typeof l=="function"?l(D):l)});cr.displayName="NavLink";var zee=V.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:a=u2,action:o,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:f,...h},p)=>{let v=Yee(),g=Qee(o,{relative:c}),y=a.toLowerCase()==="get"?"get":"post",_=typeof o=="string"&&KB.test(o),x=w=>{if(l&&l(w),w.defaultPrevented)return;w.preventDefault();let C=w.nativeEvent.submitter,S=(C==null?void 0:C.getAttribute("formmethod"))||a;v(C||w.currentTarget,{fetcherKey:e,method:S,navigate:n,replace:i,state:s,relative:c,preventScrollReset:u,viewTransition:f})};return V.createElement("form",{ref:p,method:y,action:g,onSubmit:r?l:x,...h,"data-discover":!_&&t==="render"?"true":void 0})});zee.displayName="Form";function Hee(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JB(t){let e=V.useContext(Mm);return Or(e,Hee(t)),e}function Gee(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:a}={}){let o=Fi(),l=Lr(),c=x1(t,{relative:s});return V.useCallback(u=>{if(Cee(u,e)){u.preventDefault();let f=n!==void 0?n:hy(l)===hy(c);o(t,{replace:f,state:r,preventScrollReset:i,relative:s,viewTransition:a})}},[l,o,c,n,r,e,t,i,s,a])}function Kee(t){xo(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=V.useRef(ID(t)),n=V.useRef(!1),r=Lr(),i=V.useMemo(()=>See(r.search,n.current?null:e.current),[r.search]),s=Fi(),a=V.useCallback((o,l)=>{const c=ID(typeof o=="function"?o(new URLSearchParams(i)):o);n.current=!0,s("?"+c,l)},[s,i]);return[i,a]}var Jee=0,Xee=()=>`__${String(++Jee)}__`;function Yee(){let{router:t}=JB("useSubmit"),{basename:e}=V.useContext(rl),n=mee();return V.useCallback(async(r,i={})=>{let{action:s,method:a,encType:o,formData:l,body:c}=Nee(r,e);if(i.navigate===!1){let u=i.fetcherKey||Xee();await t.fetch(u,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function Qee(t,{relative:e}={}){let{basename:n}=V.useContext(rl),r=V.useContext(wo);Or(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...x1(t||".",{relative:e})},a=Lr();if(t==null){s.search=a.search;let o=new URLSearchParams(s.search),l=o.getAll("index");if(l.some(u=>u==="")){o.delete("index"),l.filter(f=>f).forEach(f=>o.append("index",f));let u=o.toString();s.search=u?`?${u}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:mc([n,s.pathname])),hy(s)}function Zee(t,{relative:e}={}){let n=V.useContext(BB);Or(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=JB("useViewTransitionState"),i=x1(t,{relative:e});if(!n.isTransitioning)return!1;let s=Cc(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Cc(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Z2(i.pathname,a)!=null||Z2(i.pathname,s)!=null}const ete="modulepreload",tte=function(t){return"/"+t},_P={},nte=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let a=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=a(n.map(c=>{if(c=tte(c),c in _P)return;_P[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":ete,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((p,v)=>{h.addEventListener("load",p),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})},rte=()=>{};var wP={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XB={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bt=function(t,e){if(!t)throw Om(e)},Om=function(t){return new Error("Firebase Database ("+XB.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YB=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},ite=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],o=t[n++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},I3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,f=(s&3)<<4|o>>4;let h=(o&15)<<2|c>>6,p=c&63;l||(p=64,a||(h=64)),r.push(n[u],n[f],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(YB(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ite(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||o==null||c==null||f==null)throw new ste;const h=s<<2|o>>4;if(r.push(h),c!==64){const p=o<<4&240|c>>2;if(r.push(p),f!==64){const v=c<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ste extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QB=function(t){const e=YB(t);return I3.encodeByteArray(e,!0)},eb=function(t){return QB(t).replace(/\./g,"")},py=function(t){try{return I3.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ate(t){return my(void 0,t)}function my(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!ote(n)||(t[n]=my(t[n],e[n]));return t}function ote(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lte=()=>R3().__FIREBASE_DEFAULTS__,cte=()=>{if(typeof process>"u"||typeof wP>"u")return;const t=wP.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ute=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&py(t[1]);return e&&JSON.parse(e)},m_=()=>{try{return rte()||lte()||cte()||ute()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},dte=t=>{var e,n;return(n=(e=m_())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},fte=t=>{const e=dte(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},P3=()=>{var t;return(t=m_())==null?void 0:t.config},hte=t=>{var e;return(e=m_())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function g_(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[eb(JSON.stringify(n)),eb(JSON.stringify(a)),""].join(".")}const F0={};function pte(){const t={prod:[],emulator:[]};for(const e of Object.keys(F0))F0[e]?t.emulator.push(e):t.prod.push(e);return t}function mte(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let TP=!1;function y_(t,e){if(typeof window>"u"||typeof document>"u"||!zl(window.location.host)||F0[t]===e||F0[t]||TP)return;F0[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",s=pte().prod.length>0;function a(){const h=document.getElementById(r);h&&h.remove()}function o(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{TP=!0,a()},h}function u(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=mte(r),p=n("text"),v=document.getElementById(p)||document.createElement("span"),g=n("learnmore"),y=document.getElementById(g)||document.createElement("a"),_=n("preprendIcon"),x=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const w=h.element;o(w),u(y,g);const C=c();l(x,_),w.append(x,v,y,C),document.body.appendChild(w)}s?(v.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function M3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zr())}function v_(){var e;const t=(e=m_())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gte(){return typeof window<"u"||ZB()}function ZB(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function yte(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function x_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tV(){const t=zr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function vte(){return XB.NODE_ADMIN===!0}function nV(){return!v_()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rV(){return!v_()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function gy(){try{return typeof indexedDB=="object"}catch{return!1}}function xte(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bte="FirebaseError";class Ns extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=bte,Object.setPrototypeOf(this,Ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eh.prototype.create)}}class eh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?_te(s,r):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new Ns(i,o,r)}}function _te(t,e){return t.replace(wte,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const wte=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(t){return JSON.parse(t)}function Ai(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iV=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=yy(py(s[0])||""),n=yy(py(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},Tte=function(t){const e=iV(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Ete=function(t){const e=iV(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ba(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Af(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function tb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function nb(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Sc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(EP(s)&&EP(a)){if(!Sc(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function EP(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ip(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function w0(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cte{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)r[f]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)r[f]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let f=16;f<80;f++){const h=r[f-3]^r[f-8]^r[f-14]^r[f-16];r[f]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],a=this.chain_[2],o=this.chain_[3],l=this.chain_[4],c,u;for(let f=0;f<80;f++){f<40?f<20?(c=o^s&(a^o),u=1518500249):(c=s^a^o,u=1859775393):f<60?(c=s&a|o&(s|a),u=2400959708):(c=s^a^o,u=3395469782);const h=(i<<5|i>>>27)+c+l+u+r[f]&4294967295;l=o,o=a,a=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+o&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let a=this.inbuf_;for(;i<n;){if(a===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[a]=e.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}else for(;i<n;)if(s[a]=e[i],++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function sV(t,e){const n=new Ste(t,e);return n.subscribe.bind(n)}class Ste{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Dte(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=GE),i.error===void 0&&(i.error=GE),i.complete===void 0&&(i.complete=GE);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Dte(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function GE(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn=function(t,e,n,r){let i;if(r<e?i="at least "+e:r>n&&(i=n===0?"none":"no more than "+n),i){const s=t+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(s)}};function ma(t,e){return`${t} failed: ${e} argument `}function zi(t,e,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(ma(t,e)+"must be a valid function.")}function CP(t,e,n,r){if(n&&(typeof n!="object"||n===null))throw new Error(ma(t,e)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ate=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,bt(r<t.length,"Surrogate pair missing trail surrogate.");const a=t.charCodeAt(r)-56320;i=65536+(s<<10)+a}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},b_=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(t){return t&&t._delegate?t._delegate:t}class Js{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ua;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kte(e))try{this.getOrInitializeService({instanceIdentifier:Kd})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Kd){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Kd){return this.instances.has(e)}getOptions(e=Kd){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);r===o&&a.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Nte(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Kd){return this.component?this.component.multipleInstances?e:Kd:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Nte(t){return t===Kd?void 0:t}function kte(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new RD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3=[];var En;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(En||(En={}));const aV={debug:En.DEBUG,verbose:En.VERBOSE,info:En.INFO,warn:En.WARN,error:En.ERROR,silent:En.SILENT},Ite=En.INFO,Rte={[En.DEBUG]:"log",[En.VERBOSE]:"log",[En.INFO]:"info",[En.WARN]:"warn",[En.ERROR]:"error"},Pte=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Rte[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lm{constructor(e){this.name=e,this._logLevel=Ite,this._logHandler=Pte,this._userLogHandler=null,O3.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in En))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,En.DEBUG,...e),this._logHandler(this,En.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,En.VERBOSE,...e),this._logHandler(this,En.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,En.INFO,...e),this._logHandler(this,En.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,En.WARN,...e),this._logHandler(this,En.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,En.ERROR,...e),this._logHandler(this,En.ERROR,...e)}}function Fte(t){O3.forEach(e=>{e.setLogLevel(t)})}function Mte(t,e){for(const n of O3){let r=null;e&&e.level&&(r=aV[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...a)=>{const o=a.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");s>=(r??i.logLevel)&&t({level:En[s].toLowerCase(),message:o,args:a,type:i.name})}}}const Ute=(t,e)=>e.some(n=>t instanceof n);let SP,DP;function Ote(){return SP||(SP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Lte(){return DP||(DP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oV=new WeakMap,PD=new WeakMap,lV=new WeakMap,KE=new WeakMap,L3=new WeakMap;function jte(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(Ru(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&oV.set(n,t)}).catch(()=>{}),L3.set(e,t),e}function Bte(t){if(PD.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});PD.set(t,e)}let FD={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return PD.get(t);if(e==="objectStoreNames")return t.objectStoreNames||lV.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ru(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Vte(t){FD=t(FD)}function Wte(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(JE(this),e,...n);return lV.set(r,e.sort?e.sort():[e]),Ru(r)}:Lte().includes(t)?function(...e){return t.apply(JE(this),e),Ru(oV.get(this))}:function(...e){return Ru(t.apply(JE(this),e))}}function qte(t){return typeof t=="function"?Wte(t):(t instanceof IDBTransaction&&Bte(t),Ute(t,Ote())?new Proxy(t,FD):t)}function Ru(t){if(t instanceof IDBRequest)return jte(t);if(KE.has(t))return KE.get(t);const e=qte(t);return e!==t&&(KE.set(t,e),L3.set(e,t)),e}const JE=t=>L3.get(t);function $te(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=Ru(a);return r&&a.addEventListener("upgradeneeded",l=>{r(Ru(a.result),l.oldVersion,l.newVersion,Ru(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const zte=["get","getKey","getAll","getAllKeys","count"],Hte=["put","add","delete","clear"],XE=new Map;function AP(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(XE.get(e))return XE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Hte.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||zte.includes(n)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),i&&l.done]))[0]};return XE.set(e,s),s}Vte(t=>({...t,get:(e,n,r)=>AP(e,n)||t.get(e,n,r),has:(e,n)=>!!AP(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gte{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Kte(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Kte(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const rb="@firebase/app",MD="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc=new Lm("@firebase/app"),Jte="@firebase/app-compat",Xte="@firebase/analytics-compat",Yte="@firebase/analytics",Qte="@firebase/app-check-compat",Zte="@firebase/app-check",ene="@firebase/auth",tne="@firebase/auth-compat",nne="@firebase/database",rne="@firebase/data-connect",ine="@firebase/database-compat",sne="@firebase/functions",ane="@firebase/functions-compat",one="@firebase/installations",lne="@firebase/installations-compat",cne="@firebase/messaging",une="@firebase/messaging-compat",dne="@firebase/performance",fne="@firebase/performance-compat",hne="@firebase/remote-config",pne="@firebase/remote-config-compat",mne="@firebase/storage",gne="@firebase/storage-compat",yne="@firebase/firestore",vne="@firebase/ai",xne="@firebase/firestore-compat",bne="firebase",_ne="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu="[DEFAULT]",wne={[rb]:"fire-core",[Jte]:"fire-core-compat",[Yte]:"fire-analytics",[Xte]:"fire-analytics-compat",[Zte]:"fire-app-check",[Qte]:"fire-app-check-compat",[ene]:"fire-auth",[tne]:"fire-auth-compat",[nne]:"fire-rtdb",[rne]:"fire-data-connect",[ine]:"fire-rtdb-compat",[sne]:"fire-fn",[ane]:"fire-fn-compat",[one]:"fire-iid",[lne]:"fire-iid-compat",[cne]:"fire-fcm",[une]:"fire-fcm-compat",[dne]:"fire-perf",[fne]:"fire-perf-compat",[hne]:"fire-rc",[pne]:"fire-rc-compat",[mne]:"fire-gcs",[gne]:"fire-gcs-compat",[yne]:"fire-fst",[xne]:"fire-fst-compat",[vne]:"fire-vertex","fire-js":"fire-js",[bne]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu=new Map,Qp=new Map,Zp=new Map;function vy(t,e){try{t.container.addComponent(e)}catch(n){Dc.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function cV(t,e){t.container.addOrOverwriteComponent(e)}function Ll(t){const e=t.name;if(Zp.has(e))return Dc.debug(`There were multiple attempts to register component ${e}.`),!1;Zp.set(e,t);for(const n of qu.values())vy(n,t);for(const n of Qp.values())vy(n,t);return!0}function j3(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Tne(t,e,n=Wu){j3(t,e).clearInstance(n)}function B3(t){return t.options!==void 0}function uV(t){return B3(t)?!1:"authIdToken"in t||"appCheckToken"in t||"releaseOnDeref"in t||"automaticDataCollectionEnabled"in t}function mr(t){return t==null?!1:t.settings!==void 0}function Ene(){Zp.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cne={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ja=new eh("app","Firebase",Cne);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dV=class{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ja.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NP(t,e){const n=py(t.split(".")[1]);if(n===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(n).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(n).exp*1e3,s=new Date().getTime();i-s<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class Sne extends dV{constructor(e,n,r,i){const s=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!0,a={name:r,automaticDataCollectionEnabled:s};if(e.apiKey!==void 0)super(e,a,i);else{const o=e;super(o.options,a,i)}this._serverConfig={automaticDataCollectionEnabled:s,...n},this._serverConfig.authIdToken&&NP(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&NP(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,Hs(rb,MD,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){W3(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw ja.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl=_ne;function V3(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Wu,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw ja.create("bad-app-name",{appName:String(i)});if(n||(n=P3()),!n)throw ja.create("no-options");const s=qu.get(i);if(s){if(Sc(n,s.options)&&Sc(r,s.config))return s;throw ja.create("duplicate-app",{appName:i})}const a=new U3(i);for(const l of Zp.values())a.addComponent(l);const o=new dV(n,r,a);return qu.set(i,o),o}function Dne(t,e={}){if(gte()&&!ZB())throw ja.create("invalid-server-app-environment");let n,r=e||{};if(t&&(B3(t)?n=t.options:uV(t)?r=t:n=t),r.automaticDataCollectionEnabled===void 0&&(r.automaticDataCollectionEnabled=!0),n||(n=P3()),!n)throw ja.create("no-options");const i={...r,...n};i.releaseOnDeref!==void 0&&delete i.releaseOnDeref;const s=u=>[...u].reduce((f,h)=>Math.imul(31,f)+h.charCodeAt(0)|0,0);if(r.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw ja.create("finalization-registry-not-supported",{});const a=""+s(JSON.stringify(i)),o=Qp.get(a);if(o)return o.incRefCount(r.releaseOnDeref),o;const l=new U3(a);for(const u of Zp.values())l.addComponent(u);const c=new Sne(n,r,a,l);return Qp.set(a,c),c}function fV(t=Wu){const e=qu.get(t);if(!e&&t===Wu&&P3())return V3();if(!e)throw ja.create("no-app",{appName:t});return e}function Ane(){return Array.from(qu.values())}async function W3(t){let e=!1;const n=t.name;qu.has(n)?(e=!0,qu.delete(n)):Qp.has(n)&&t.decRefCount()<=0&&(Qp.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function Hs(t,e,n){let r=wne[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Dc.warn(a.join(" "));return}Ll(new Js(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function hV(t,e){if(t!==null&&typeof t!="function")throw ja.create("invalid-log-argument");Mte(t,e)}function pV(t){Fte(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nne="firebase-heartbeat-database",kne=1,xy="firebase-heartbeat-store";let YE=null;function mV(){return YE||(YE=$te(Nne,kne,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xy)}catch(n){console.warn(n)}}}}).catch(t=>{throw ja.create("idb-open",{originalErrorMessage:t.message})})),YE}async function Ine(t){try{const n=(await mV()).transaction(xy),r=await n.objectStore(xy).get(gV(t));return await n.done,r}catch(e){if(e instanceof Ns)Dc.warn(e.message);else{const n=ja.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Dc.warn(n.message)}}}async function kP(t,e){try{const r=(await mV()).transaction(xy,"readwrite");await r.objectStore(xy).put(e,gV(t)),await r.done}catch(n){if(n instanceof Ns)Dc.warn(n.message);else{const r=ja.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Dc.warn(r.message)}}}function gV(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rne=1024,Pne=30;class Fne{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Une(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=IP();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Pne){const a=One(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Dc.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=IP(),{heartbeatsToSend:r,unsentEntries:i}=Mne(this._heartbeatsCache.heartbeats),s=eb(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Dc.warn(n),""}}}function IP(){return new Date().toISOString().substring(0,10)}function Mne(t,e=Rne){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),RP(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),RP(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Une{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gy()?xte().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Ine(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return kP(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return kP(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function RP(t){return eb(JSON.stringify({version:2,heartbeats:t})).length}function One(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lne(t){Ll(new Js("platform-logger",e=>new Gte(e),"PRIVATE")),Ll(new Js("heartbeat",e=>new Fne(e),"PRIVATE")),Hs(rb,MD,t),Hs(rb,MD,"esm2020"),Hs("fire-js","")}Lne("");const jne=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Ns,SDK_VERSION:Hl,_DEFAULT_ENTRY_NAME:Wu,_addComponent:vy,_addOrOverwriteComponent:cV,_apps:qu,_clearComponents:Ene,_components:Zp,_getProvider:j3,_isFirebaseApp:B3,_isFirebaseServerApp:mr,_isFirebaseServerAppSettings:uV,_registerComponent:Ll,_removeServiceInstance:Tne,_serverApps:Qp,deleteApp:W3,getApp:fV,getApps:Ane,initializeApp:V3,initializeServerApp:Dne,onLog:hV,registerVersion:Hs,setLogLevel:pV},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bne{constructor(e,n){this._delegate=e,this.firebase=n,vy(e,new Js("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),W3(this._delegate)))}_getService(e,n=Wu){var i;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&((i=r.getComponent())==null?void 0:i.instantiationMode)==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:n})}_removeServiceInstance(e,n=Wu){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){vy(this._delegate,e)}_addOrOverwriteComponent(e){cV(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vne={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},PP=new eh("app-compat","Firebase",Vne);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wne(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:Hs,setLogLevel:pV,onLog:hV,apps:null,SDK_VERSION:Hl,INTERNAL:{registerComponent:o,removeApp:r,useAsService:l,modularAPIs:jne}};n.default=n,Object.defineProperty(n,"apps",{get:a});function r(c){delete e[c]}function i(c){if(c=c||Wu,!Ba(e,c))throw PP.create("no-app",{appName:c});return e[c]}i.App=t;function s(c,u={}){const f=V3(c,u);if(Ba(e,f.name))return e[f.name];const h=new t(f,n);return e[f.name]=h,h}function a(){return Object.keys(e).map(c=>e[c])}function o(c){const u=c.name,f=u.replace("-compat","");if(Ll(c)&&c.type==="PUBLIC"){const h=(p=i())=>{if(typeof p[f]!="function")throw PP.create("invalid-app-argument",{appName:u});return p[f]()};c.serviceProps!==void 0&&my(h,c.serviceProps),n[f]=h,t.prototype[f]=function(...p){return this._getService.bind(this,u).apply(this,c.multipleInstances?p:[])}}return c.type==="PUBLIC"?n[f]:null}function l(c,u){return u==="serverAuth"?null:u}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yV(){const t=Wne(Bne);t.INTERNAL={...t.INTERNAL,createFirebaseNamespace:yV,extendNamespace:e,createSubscribe:sV,ErrorFactory:eh,deepExtend:my};function e(n){my(t,n)}return t}const qne=yV();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP=new Lm("@firebase/app-compat"),$ne="@firebase/app-compat",zne="0.5.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hne(t){Hs($ne,zne,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const t=R3();if(t.firebase!==void 0){FP.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=t.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&FP.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const Pr=qne;Hne();var Gne="firebase",Kne="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pr.registerVersion(Gne,Kne,"app-compat");var MP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pu,vV;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,N){function I(){}I.prototype=N.prototype,D.D=N.prototype,D.prototype=new I,D.prototype.constructor=D,D.C=function(F,P,k){for(var U=Array(arguments.length-2),O=2;O<arguments.length;O++)U[O-2]=arguments[O];return N.prototype[P].apply(F,U)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,N,I){I||(I=0);var F=Array(16);if(typeof N=="string")for(var P=0;16>P;++P)F[P]=N.charCodeAt(I++)|N.charCodeAt(I++)<<8|N.charCodeAt(I++)<<16|N.charCodeAt(I++)<<24;else for(P=0;16>P;++P)F[P]=N[I++]|N[I++]<<8|N[I++]<<16|N[I++]<<24;N=D.g[0],I=D.g[1],P=D.g[2];var k=D.g[3],U=N+(k^I&(P^k))+F[0]+3614090360&4294967295;N=I+(U<<7&4294967295|U>>>25),U=k+(P^N&(I^P))+F[1]+3905402710&4294967295,k=N+(U<<12&4294967295|U>>>20),U=P+(I^k&(N^I))+F[2]+606105819&4294967295,P=k+(U<<17&4294967295|U>>>15),U=I+(N^P&(k^N))+F[3]+3250441966&4294967295,I=P+(U<<22&4294967295|U>>>10),U=N+(k^I&(P^k))+F[4]+4118548399&4294967295,N=I+(U<<7&4294967295|U>>>25),U=k+(P^N&(I^P))+F[5]+1200080426&4294967295,k=N+(U<<12&4294967295|U>>>20),U=P+(I^k&(N^I))+F[6]+2821735955&4294967295,P=k+(U<<17&4294967295|U>>>15),U=I+(N^P&(k^N))+F[7]+4249261313&4294967295,I=P+(U<<22&4294967295|U>>>10),U=N+(k^I&(P^k))+F[8]+1770035416&4294967295,N=I+(U<<7&4294967295|U>>>25),U=k+(P^N&(I^P))+F[9]+2336552879&4294967295,k=N+(U<<12&4294967295|U>>>20),U=P+(I^k&(N^I))+F[10]+4294925233&4294967295,P=k+(U<<17&4294967295|U>>>15),U=I+(N^P&(k^N))+F[11]+2304563134&4294967295,I=P+(U<<22&4294967295|U>>>10),U=N+(k^I&(P^k))+F[12]+1804603682&4294967295,N=I+(U<<7&4294967295|U>>>25),U=k+(P^N&(I^P))+F[13]+4254626195&4294967295,k=N+(U<<12&4294967295|U>>>20),U=P+(I^k&(N^I))+F[14]+2792965006&4294967295,P=k+(U<<17&4294967295|U>>>15),U=I+(N^P&(k^N))+F[15]+1236535329&4294967295,I=P+(U<<22&4294967295|U>>>10),U=N+(P^k&(I^P))+F[1]+4129170786&4294967295,N=I+(U<<5&4294967295|U>>>27),U=k+(I^P&(N^I))+F[6]+3225465664&4294967295,k=N+(U<<9&4294967295|U>>>23),U=P+(N^I&(k^N))+F[11]+643717713&4294967295,P=k+(U<<14&4294967295|U>>>18),U=I+(k^N&(P^k))+F[0]+3921069994&4294967295,I=P+(U<<20&4294967295|U>>>12),U=N+(P^k&(I^P))+F[5]+3593408605&4294967295,N=I+(U<<5&4294967295|U>>>27),U=k+(I^P&(N^I))+F[10]+38016083&4294967295,k=N+(U<<9&4294967295|U>>>23),U=P+(N^I&(k^N))+F[15]+3634488961&4294967295,P=k+(U<<14&4294967295|U>>>18),U=I+(k^N&(P^k))+F[4]+3889429448&4294967295,I=P+(U<<20&4294967295|U>>>12),U=N+(P^k&(I^P))+F[9]+568446438&4294967295,N=I+(U<<5&4294967295|U>>>27),U=k+(I^P&(N^I))+F[14]+3275163606&4294967295,k=N+(U<<9&4294967295|U>>>23),U=P+(N^I&(k^N))+F[3]+4107603335&4294967295,P=k+(U<<14&4294967295|U>>>18),U=I+(k^N&(P^k))+F[8]+1163531501&4294967295,I=P+(U<<20&4294967295|U>>>12),U=N+(P^k&(I^P))+F[13]+2850285829&4294967295,N=I+(U<<5&4294967295|U>>>27),U=k+(I^P&(N^I))+F[2]+4243563512&4294967295,k=N+(U<<9&4294967295|U>>>23),U=P+(N^I&(k^N))+F[7]+1735328473&4294967295,P=k+(U<<14&4294967295|U>>>18),U=I+(k^N&(P^k))+F[12]+2368359562&4294967295,I=P+(U<<20&4294967295|U>>>12),U=N+(I^P^k)+F[5]+4294588738&4294967295,N=I+(U<<4&4294967295|U>>>28),U=k+(N^I^P)+F[8]+2272392833&4294967295,k=N+(U<<11&4294967295|U>>>21),U=P+(k^N^I)+F[11]+1839030562&4294967295,P=k+(U<<16&4294967295|U>>>16),U=I+(P^k^N)+F[14]+4259657740&4294967295,I=P+(U<<23&4294967295|U>>>9),U=N+(I^P^k)+F[1]+2763975236&4294967295,N=I+(U<<4&4294967295|U>>>28),U=k+(N^I^P)+F[4]+1272893353&4294967295,k=N+(U<<11&4294967295|U>>>21),U=P+(k^N^I)+F[7]+4139469664&4294967295,P=k+(U<<16&4294967295|U>>>16),U=I+(P^k^N)+F[10]+3200236656&4294967295,I=P+(U<<23&4294967295|U>>>9),U=N+(I^P^k)+F[13]+681279174&4294967295,N=I+(U<<4&4294967295|U>>>28),U=k+(N^I^P)+F[0]+3936430074&4294967295,k=N+(U<<11&4294967295|U>>>21),U=P+(k^N^I)+F[3]+3572445317&4294967295,P=k+(U<<16&4294967295|U>>>16),U=I+(P^k^N)+F[6]+76029189&4294967295,I=P+(U<<23&4294967295|U>>>9),U=N+(I^P^k)+F[9]+3654602809&4294967295,N=I+(U<<4&4294967295|U>>>28),U=k+(N^I^P)+F[12]+3873151461&4294967295,k=N+(U<<11&4294967295|U>>>21),U=P+(k^N^I)+F[15]+530742520&4294967295,P=k+(U<<16&4294967295|U>>>16),U=I+(P^k^N)+F[2]+3299628645&4294967295,I=P+(U<<23&4294967295|U>>>9),U=N+(P^(I|~k))+F[0]+4096336452&4294967295,N=I+(U<<6&4294967295|U>>>26),U=k+(I^(N|~P))+F[7]+1126891415&4294967295,k=N+(U<<10&4294967295|U>>>22),U=P+(N^(k|~I))+F[14]+2878612391&4294967295,P=k+(U<<15&4294967295|U>>>17),U=I+(k^(P|~N))+F[5]+4237533241&4294967295,I=P+(U<<21&4294967295|U>>>11),U=N+(P^(I|~k))+F[12]+1700485571&4294967295,N=I+(U<<6&4294967295|U>>>26),U=k+(I^(N|~P))+F[3]+2399980690&4294967295,k=N+(U<<10&4294967295|U>>>22),U=P+(N^(k|~I))+F[10]+4293915773&4294967295,P=k+(U<<15&4294967295|U>>>17),U=I+(k^(P|~N))+F[1]+2240044497&4294967295,I=P+(U<<21&4294967295|U>>>11),U=N+(P^(I|~k))+F[8]+1873313359&4294967295,N=I+(U<<6&4294967295|U>>>26),U=k+(I^(N|~P))+F[15]+4264355552&4294967295,k=N+(U<<10&4294967295|U>>>22),U=P+(N^(k|~I))+F[6]+2734768916&4294967295,P=k+(U<<15&4294967295|U>>>17),U=I+(k^(P|~N))+F[13]+1309151649&4294967295,I=P+(U<<21&4294967295|U>>>11),U=N+(P^(I|~k))+F[4]+4149444226&4294967295,N=I+(U<<6&4294967295|U>>>26),U=k+(I^(N|~P))+F[11]+3174756917&4294967295,k=N+(U<<10&4294967295|U>>>22),U=P+(N^(k|~I))+F[2]+718787259&4294967295,P=k+(U<<15&4294967295|U>>>17),U=I+(k^(P|~N))+F[9]+3951481745&4294967295,D.g[0]=D.g[0]+N&4294967295,D.g[1]=D.g[1]+(P+(U<<21&4294967295|U>>>11))&4294967295,D.g[2]=D.g[2]+P&4294967295,D.g[3]=D.g[3]+k&4294967295}r.prototype.u=function(D,N){N===void 0&&(N=D.length);for(var I=N-this.blockSize,F=this.B,P=this.h,k=0;k<N;){if(P==0)for(;k<=I;)i(this,D,k),k+=this.blockSize;if(typeof D=="string"){for(;k<N;)if(F[P++]=D.charCodeAt(k++),P==this.blockSize){i(this,F),P=0;break}}else for(;k<N;)if(F[P++]=D[k++],P==this.blockSize){i(this,F),P=0;break}}this.h=P,this.o+=N},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var N=1;N<D.length-8;++N)D[N]=0;var I=8*this.o;for(N=D.length-8;N<D.length;++N)D[N]=I&255,I/=256;for(this.u(D),D=Array(16),N=I=0;4>N;++N)for(var F=0;32>F;F+=8)D[I++]=this.g[N]>>>F&255;return D};function s(D,N){var I=o;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=N(D)}function a(D,N){this.h=N;for(var I=[],F=!0,P=D.length-1;0<=P;P--){var k=D[P]|0;F&&k==N||(I[P]=k,F=!1)}this.g=I}var o={};function l(D){return-128<=D&&128>D?s(D,function(N){return new a([N|0],0>N?-1:0)}):new a([D|0],0>D?-1:0)}function c(D){if(isNaN(D)||!isFinite(D))return f;if(0>D)return y(c(-D));for(var N=[],I=1,F=0;D>=I;F++)N[F]=D/I|0,I*=4294967296;return new a(N,0)}function u(D,N){if(D.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(D.charAt(0)=="-")return y(u(D.substring(1),N));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(N,8)),F=f,P=0;P<D.length;P+=8){var k=Math.min(8,D.length-P),U=parseInt(D.substring(P,P+k),N);8>k?(k=c(Math.pow(N,k)),F=F.j(k).add(c(U))):(F=F.j(I),F=F.add(c(U)))}return F}var f=l(0),h=l(1),p=l(16777216);t=a.prototype,t.m=function(){if(g(this))return-y(this).m();for(var D=0,N=1,I=0;I<this.g.length;I++){var F=this.i(I);D+=(0<=F?F:4294967296+F)*N,N*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(v(this))return"0";if(g(this))return"-"+y(this).toString(D);for(var N=c(Math.pow(D,6)),I=this,F="";;){var P=C(I,N).g;I=_(I,P.j(N));var k=((0<I.g.length?I.g[0]:I.h)>>>0).toString(D);if(I=P,v(I))return k+F;for(;6>k.length;)k="0"+k;F=k+F}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function v(D){if(D.h!=0)return!1;for(var N=0;N<D.g.length;N++)if(D.g[N]!=0)return!1;return!0}function g(D){return D.h==-1}t.l=function(D){return D=_(this,D),g(D)?-1:v(D)?0:1};function y(D){for(var N=D.g.length,I=[],F=0;F<N;F++)I[F]=~D.g[F];return new a(I,~D.h).add(h)}t.abs=function(){return g(this)?y(this):this},t.add=function(D){for(var N=Math.max(this.g.length,D.g.length),I=[],F=0,P=0;P<=N;P++){var k=F+(this.i(P)&65535)+(D.i(P)&65535),U=(k>>>16)+(this.i(P)>>>16)+(D.i(P)>>>16);F=U>>>16,k&=65535,U&=65535,I[P]=U<<16|k}return new a(I,I[I.length-1]&-2147483648?-1:0)};function _(D,N){return D.add(y(N))}t.j=function(D){if(v(this)||v(D))return f;if(g(this))return g(D)?y(this).j(y(D)):y(y(this).j(D));if(g(D))return y(this.j(y(D)));if(0>this.l(p)&&0>D.l(p))return c(this.m()*D.m());for(var N=this.g.length+D.g.length,I=[],F=0;F<2*N;F++)I[F]=0;for(F=0;F<this.g.length;F++)for(var P=0;P<D.g.length;P++){var k=this.i(F)>>>16,U=this.i(F)&65535,O=D.i(P)>>>16,H=D.i(P)&65535;I[2*F+2*P]+=U*H,x(I,2*F+2*P),I[2*F+2*P+1]+=k*H,x(I,2*F+2*P+1),I[2*F+2*P+1]+=U*O,x(I,2*F+2*P+1),I[2*F+2*P+2]+=k*O,x(I,2*F+2*P+2)}for(F=0;F<N;F++)I[F]=I[2*F+1]<<16|I[2*F];for(F=N;F<2*N;F++)I[F]=0;return new a(I,0)};function x(D,N){for(;(D[N]&65535)!=D[N];)D[N+1]+=D[N]>>>16,D[N]&=65535,N++}function w(D,N){this.g=D,this.h=N}function C(D,N){if(v(N))throw Error("division by zero");if(v(D))return new w(f,f);if(g(D))return N=C(y(D),N),new w(y(N.g),y(N.h));if(g(N))return N=C(D,y(N)),new w(y(N.g),N.h);if(30<D.g.length){if(g(D)||g(N))throw Error("slowDivide_ only works with positive integers.");for(var I=h,F=N;0>=F.l(D);)I=S(I),F=S(F);var P=R(I,1),k=R(F,1);for(F=R(F,2),I=R(I,2);!v(F);){var U=k.add(F);0>=U.l(D)&&(P=P.add(I),k=U),F=R(F,1),I=R(I,1)}return N=_(D,P.j(N)),new w(P,N)}for(P=f;0<=D.l(N);){for(I=Math.max(1,Math.floor(D.m()/N.m())),F=Math.ceil(Math.log(I)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),k=c(I),U=k.j(N);g(U)||0<U.l(D);)I-=F,k=c(I),U=k.j(N);v(k)&&(k=h),P=P.add(k),D=_(D,U)}return new w(P,D)}t.A=function(D){return C(this,D).h},t.and=function(D){for(var N=Math.max(this.g.length,D.g.length),I=[],F=0;F<N;F++)I[F]=this.i(F)&D.i(F);return new a(I,this.h&D.h)},t.or=function(D){for(var N=Math.max(this.g.length,D.g.length),I=[],F=0;F<N;F++)I[F]=this.i(F)|D.i(F);return new a(I,this.h|D.h)},t.xor=function(D){for(var N=Math.max(this.g.length,D.g.length),I=[],F=0;F<N;F++)I[F]=this.i(F)^D.i(F);return new a(I,this.h^D.h)};function S(D){for(var N=D.g.length+1,I=[],F=0;F<N;F++)I[F]=D.i(F)<<1|D.i(F-1)>>>31;return new a(I,D.h)}function R(D,N){var I=N>>5;N%=32;for(var F=D.g.length-I,P=[],k=0;k<F;k++)P[k]=0<N?D.i(k+I)>>>N|D.i(k+I+1)<<32-N:D.i(k+I);return new a(P,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,vV=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=u,Pu=a}).apply(typeof MP<"u"?MP:typeof self<"u"?self:typeof window<"u"?window:{});var bx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xV,T0,bV,f2,UD,_V,wV,TV;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(M,ee,ae){return M==Array.prototype||M==Object.prototype||(M[ee]=ae.value),M};function n(M){M=[typeof globalThis=="object"&&globalThis,M,typeof window=="object"&&window,typeof self=="object"&&self,typeof bx=="object"&&bx];for(var ee=0;ee<M.length;++ee){var ae=M[ee];if(ae&&ae.Math==Math)return ae}throw Error("Cannot find global object")}var r=n(this);function i(M,ee){if(ee)e:{var ae=r;M=M.split(".");for(var De=0;De<M.length-1;De++){var He=M[De];if(!(He in ae))break e;ae=ae[He]}M=M[M.length-1],De=ae[M],ee=ee(De),ee!=De&&ee!=null&&e(ae,M,{configurable:!0,writable:!0,value:ee})}}function s(M,ee){M instanceof String&&(M+="");var ae=0,De=!1,He={next:function(){if(!De&&ae<M.length){var rt=ae++;return{value:ee(rt,M[rt]),done:!1}}return De=!0,{done:!0,value:void 0}}};return He[Symbol.iterator]=function(){return He},He}i("Array.prototype.values",function(M){return M||function(){return s(this,function(ee,ae){return ae})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(M){var ee=typeof M;return ee=ee!="object"?ee:M?Array.isArray(M)?"array":ee:"null",ee=="array"||ee=="object"&&typeof M.length=="number"}function c(M){var ee=typeof M;return ee=="object"&&M!=null||ee=="function"}function u(M,ee,ae){return M.call.apply(M.bind,arguments)}function f(M,ee,ae){if(!M)throw Error();if(2<arguments.length){var De=Array.prototype.slice.call(arguments,2);return function(){var He=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(He,De),M.apply(ee,He)}}return function(){return M.apply(ee,arguments)}}function h(M,ee,ae){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,h.apply(null,arguments)}function p(M,ee){var ae=Array.prototype.slice.call(arguments,1);return function(){var De=ae.slice();return De.push.apply(De,arguments),M.apply(this,De)}}function v(M,ee){function ae(){}ae.prototype=ee.prototype,M.aa=ee.prototype,M.prototype=new ae,M.prototype.constructor=M,M.Qb=function(De,He,rt){for(var St=Array(arguments.length-2),tr=2;tr<arguments.length;tr++)St[tr-2]=arguments[tr];return ee.prototype[He].apply(De,St)}}function g(M){const ee=M.length;if(0<ee){const ae=Array(ee);for(let De=0;De<ee;De++)ae[De]=M[De];return ae}return[]}function y(M,ee){for(let ae=1;ae<arguments.length;ae++){const De=arguments[ae];if(l(De)){const He=M.length||0,rt=De.length||0;M.length=He+rt;for(let St=0;St<rt;St++)M[He+St]=De[St]}else M.push(De)}}class _{constructor(ee,ae){this.i=ee,this.j=ae,this.h=0,this.g=null}get(){let ee;return 0<this.h?(this.h--,ee=this.g,this.g=ee.next,ee.next=null):ee=this.i(),ee}}function x(M){return/^[\s\xa0]*$/.test(M)}function w(){var M=o.navigator;return M&&(M=M.userAgent)?M:""}function C(M){return C[" "](M),M}C[" "]=function(){};var S=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function R(M,ee,ae){for(const De in M)ee.call(ae,M[De],De,M)}function D(M,ee){for(const ae in M)ee.call(void 0,M[ae],ae,M)}function N(M){const ee={};for(const ae in M)ee[ae]=M[ae];return ee}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(M,ee){let ae,De;for(let He=1;He<arguments.length;He++){De=arguments[He];for(ae in De)M[ae]=De[ae];for(let rt=0;rt<I.length;rt++)ae=I[rt],Object.prototype.hasOwnProperty.call(De,ae)&&(M[ae]=De[ae])}}function P(M){var ee=1;M=M.split(":");const ae=[];for(;0<ee&&M.length;)ae.push(M.shift()),ee--;return M.length&&ae.push(M.join(":")),ae}function k(M){o.setTimeout(()=>{throw M},0)}function U(){var M=z;let ee=null;return M.g&&(ee=M.g,M.g=M.g.next,M.g||(M.h=null),ee.next=null),ee}class O{constructor(){this.h=this.g=null}add(ee,ae){const De=H.get();De.set(ee,ae),this.h?this.h.next=De:this.g=De,this.h=De}}var H=new _(()=>new G,M=>M.reset());class G{constructor(){this.next=this.g=this.h=null}set(ee,ae){this.h=ee,this.g=ae,this.next=null}reset(){this.next=this.g=this.h=null}}let X,Z=!1,z=new O,Q=()=>{const M=o.Promise.resolve(void 0);X=()=>{M.then(B)}};var B=()=>{for(var M;M=U();){try{M.h.call(M.g)}catch(ae){k(ae)}var ee=H;ee.j(M),100>ee.h&&(ee.h++,M.next=ee.g,ee.g=M)}Z=!1};function j(){this.s=this.s,this.C=this.C}j.prototype.s=!1,j.prototype.ma=function(){this.s||(this.s=!0,this.N())},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(M,ee){this.type=M,this.g=this.target=ee,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var J=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var M=!1,ee=Object.defineProperty({},"passive",{get:function(){M=!0}});try{const ae=()=>{};o.addEventListener("test",ae,ee),o.removeEventListener("test",ae,ee)}catch{}return M})();function Y(M,ee){if(q.call(this,M?M.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,M){var ae=this.type=M.type,De=M.changedTouches&&M.changedTouches.length?M.changedTouches[0]:null;if(this.target=M.target||M.srcElement,this.g=ee,ee=M.relatedTarget){if(S){e:{try{C(ee.nodeName);var He=!0;break e}catch{}He=!1}He||(ee=null)}}else ae=="mouseover"?ee=M.fromElement:ae=="mouseout"&&(ee=M.toElement);this.relatedTarget=ee,De?(this.clientX=De.clientX!==void 0?De.clientX:De.pageX,this.clientY=De.clientY!==void 0?De.clientY:De.pageY,this.screenX=De.screenX||0,this.screenY=De.screenY||0):(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0),this.button=M.button,this.key=M.key||"",this.ctrlKey=M.ctrlKey,this.altKey=M.altKey,this.shiftKey=M.shiftKey,this.metaKey=M.metaKey,this.pointerId=M.pointerId||0,this.pointerType=typeof M.pointerType=="string"?M.pointerType:te[M.pointerType]||"",this.state=M.state,this.i=M,M.defaultPrevented&&Y.aa.h.call(this)}}v(Y,q);var te={2:"touch",3:"pen",4:"mouse"};Y.prototype.h=function(){Y.aa.h.call(this);var M=this.i;M.preventDefault?M.preventDefault():M.returnValue=!1};var oe="closure_listenable_"+(1e6*Math.random()|0),de=0;function fe(M,ee,ae,De,He){this.listener=M,this.proxy=null,this.src=ee,this.type=ae,this.capture=!!De,this.ha=He,this.key=++de,this.da=this.fa=!1}function Ce(M){M.da=!0,M.listener=null,M.proxy=null,M.src=null,M.ha=null}function Pe(M){this.src=M,this.g={},this.h=0}Pe.prototype.add=function(M,ee,ae,De,He){var rt=M.toString();M=this.g[rt],M||(M=this.g[rt]=[],this.h++);var St=Me(M,ee,De,He);return-1<St?(ee=M[St],ae||(ee.fa=!1)):(ee=new fe(ee,this.src,rt,!!De,He),ee.fa=ae,M.push(ee)),ee};function pe(M,ee){var ae=ee.type;if(ae in M.g){var De=M.g[ae],He=Array.prototype.indexOf.call(De,ee,void 0),rt;(rt=0<=He)&&Array.prototype.splice.call(De,He,1),rt&&(Ce(ee),M.g[ae].length==0&&(delete M.g[ae],M.h--))}}function Me(M,ee,ae,De){for(var He=0;He<M.length;++He){var rt=M[He];if(!rt.da&&rt.listener==ee&&rt.capture==!!ae&&rt.ha==De)return He}return-1}var W="closure_lm_"+(1e6*Math.random()|0),ge={};function _e(M,ee,ae,De,He){if(Array.isArray(ee)){for(var rt=0;rt<ee.length;rt++)_e(M,ee[rt],ae,De,He);return null}return ae=be(ae),M&&M[oe]?M.K(ee,ae,c(De)?!!De.capture:!1,He):ce(M,ee,ae,!1,De,He)}function ce(M,ee,ae,De,He,rt){if(!ee)throw Error("Invalid event type");var St=c(He)?!!He.capture:!!He,tr=ue(M);if(tr||(M[W]=tr=new Pe(M)),ae=tr.add(ee,ae,De,St,rt),ae.proxy)return ae;if(De=re(),ae.proxy=De,De.src=M,De.listener=ae,M.addEventListener)J||(He=St),He===void 0&&(He=!1),M.addEventListener(ee.toString(),De,He);else if(M.attachEvent)M.attachEvent(Ne(ee.toString()),De);else if(M.addListener&&M.removeListener)M.addListener(De);else throw Error("addEventListener and attachEvent are unavailable.");return ae}function re(){function M(ae){return ee.call(M.src,M.listener,ae)}const ee=ie;return M}function le(M,ee,ae,De,He){if(Array.isArray(ee))for(var rt=0;rt<ee.length;rt++)le(M,ee[rt],ae,De,He);else De=c(De)?!!De.capture:!!De,ae=be(ae),M&&M[oe]?(M=M.i,ee=String(ee).toString(),ee in M.g&&(rt=M.g[ee],ae=Me(rt,ae,De,He),-1<ae&&(Ce(rt[ae]),Array.prototype.splice.call(rt,ae,1),rt.length==0&&(delete M.g[ee],M.h--)))):M&&(M=ue(M))&&(ee=M.g[ee.toString()],M=-1,ee&&(M=Me(ee,ae,De,He)),(ae=-1<M?ee[M]:null)&&ke(ae))}function ke(M){if(typeof M!="number"&&M&&!M.da){var ee=M.src;if(ee&&ee[oe])pe(ee.i,M);else{var ae=M.type,De=M.proxy;ee.removeEventListener?ee.removeEventListener(ae,De,M.capture):ee.detachEvent?ee.detachEvent(Ne(ae),De):ee.addListener&&ee.removeListener&&ee.removeListener(De),(ae=ue(ee))?(pe(ae,M),ae.h==0&&(ae.src=null,ee[W]=null)):Ce(M)}}}function Ne(M){return M in ge?ge[M]:ge[M]="on"+M}function ie(M,ee){if(M.da)M=!0;else{ee=new Y(ee,this);var ae=M.listener,De=M.ha||M.src;M.fa&&ke(M),M=ae.call(De,ee)}return M}function ue(M){return M=M[W],M instanceof Pe?M:null}var ve="__closure_events_fn_"+(1e9*Math.random()>>>0);function be(M){return typeof M=="function"?M:(M[ve]||(M[ve]=function(ee){return M.handleEvent(ee)}),M[ve])}function Ie(){j.call(this),this.i=new Pe(this),this.M=this,this.F=null}v(Ie,j),Ie.prototype[oe]=!0,Ie.prototype.removeEventListener=function(M,ee,ae,De){le(this,M,ee,ae,De)};function Le(M,ee){var ae,De=M.F;if(De)for(ae=[];De;De=De.F)ae.push(De);if(M=M.M,De=ee.type||ee,typeof ee=="string")ee=new q(ee,M);else if(ee instanceof q)ee.target=ee.target||M;else{var He=ee;ee=new q(De,M),F(ee,He)}if(He=!0,ae)for(var rt=ae.length-1;0<=rt;rt--){var St=ee.g=ae[rt];He=Te(St,De,!0,ee)&&He}if(St=ee.g=M,He=Te(St,De,!0,ee)&&He,He=Te(St,De,!1,ee)&&He,ae)for(rt=0;rt<ae.length;rt++)St=ee.g=ae[rt],He=Te(St,De,!1,ee)&&He}Ie.prototype.N=function(){if(Ie.aa.N.call(this),this.i){var M=this.i,ee;for(ee in M.g){for(var ae=M.g[ee],De=0;De<ae.length;De++)Ce(ae[De]);delete M.g[ee],M.h--}}this.F=null},Ie.prototype.K=function(M,ee,ae,De){return this.i.add(String(M),ee,!1,ae,De)},Ie.prototype.L=function(M,ee,ae,De){return this.i.add(String(M),ee,!0,ae,De)};function Te(M,ee,ae,De){if(ee=M.i.g[String(ee)],!ee)return!0;ee=ee.concat();for(var He=!0,rt=0;rt<ee.length;++rt){var St=ee[rt];if(St&&!St.da&&St.capture==ae){var tr=St.listener,Ei=St.ha||St.src;St.fa&&pe(M.i,St),He=tr.call(Ei,De)!==!1&&He}}return He&&!De.defaultPrevented}function Ue(M,ee,ae){if(typeof M=="function")ae&&(M=h(M,ae));else if(M&&typeof M.handleEvent=="function")M=h(M.handleEvent,M);else throw Error("Invalid listener argument");return 2147483647<Number(ee)?-1:o.setTimeout(M,ee||0)}function Oe(M){M.g=Ue(()=>{M.g=null,M.i&&(M.i=!1,Oe(M))},M.l);const ee=M.h;M.h=null,M.m.apply(null,ee)}class Je extends j{constructor(ee,ae){super(),this.m=ee,this.l=ae,this.h=null,this.i=!1,this.g=null}j(ee){this.h=arguments,this.g?this.i=!0:Oe(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ot(M){j.call(this),this.h=M,this.g={}}v(ot,j);var lt=[];function Bt(M){R(M.g,function(ee,ae){this.g.hasOwnProperty(ae)&&ke(ee)},M),M.g={}}ot.prototype.N=function(){ot.aa.N.call(this),Bt(this)},ot.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fn=o.JSON.stringify,ln=o.JSON.parse,Kn=class{stringify(M){return o.JSON.stringify(M,void 0)}parse(M){return o.JSON.parse(M,void 0)}};function Rn(){}Rn.prototype.h=null;function Vn(M){return M.h||(M.h=M.i())}function yn(){}var It={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function We(){q.call(this,"d")}v(We,q);function se(){q.call(this,"c")}v(se,q);var he={},Re=null;function qe(){return Re=Re||new Ie}he.La="serverreachability";function st(M){q.call(this,he.La,M)}v(st,q);function wt(M){const ee=qe();Le(ee,new st(ee))}he.STAT_EVENT="statevent";function Ot(M,ee){q.call(this,he.STAT_EVENT,M),this.stat=ee}v(Ot,q);function Kt(M){const ee=qe();Le(ee,new Ot(ee,M))}he.Ma="timingevent";function vn(M,ee){q.call(this,he.Ma,M),this.size=ee}v(vn,q);function mn(M,ee){if(typeof M!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){M()},ee)}function Mn(){this.g=!0}Mn.prototype.xa=function(){this.g=!1};function Sn(M,ee,ae,De,He,rt){M.info(function(){if(M.g)if(rt)for(var St="",tr=rt.split("&"),Ei=0;Ei<tr.length;Ei++){var Pn=tr[Ei].split("=");if(1<Pn.length){var Oi=Pn[0];Pn=Pn[1];var gi=Oi.split("_");St=2<=gi.length&&gi[1]=="type"?St+(Oi+"="+Pn+"&"):St+(Oi+"=redacted&")}}else St=null;else St=rt;return"XMLHTTP REQ ("+De+") [attempt "+He+"]: "+ee+`
`+ae+`
`+St})}function er(M,ee,ae,De,He,rt,St){M.info(function(){return"XMLHTTP RESP ("+De+") [ attempt "+He+"]: "+ee+`
`+ae+`
`+rt+" "+St})}function me(M,ee,ae,De){M.info(function(){return"XMLHTTP TEXT ("+ee+"): "+xe(M,ae)+(De?" "+De:"")})}function we(M,ee){M.info(function(){return"TIMEOUT: "+ee})}Mn.prototype.info=function(){};function xe(M,ee){if(!M.g)return ee;if(!ee)return null;try{var ae=JSON.parse(ee);if(ae){for(M=0;M<ae.length;M++)if(Array.isArray(ae[M])){var De=ae[M];if(!(2>De.length)){var He=De[1];if(Array.isArray(He)&&!(1>He.length)){var rt=He[0];if(rt!="noop"&&rt!="stop"&&rt!="close")for(var St=1;St<He.length;St++)He[St]=""}}}}return fn(ae)}catch{return ee}}var Ee={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ae={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Se;function Ve(){}v(Ve,Rn),Ve.prototype.g=function(){return new XMLHttpRequest},Ve.prototype.i=function(){return{}},Se=new Ve;function Ze(M,ee,ae,De){this.j=M,this.i=ee,this.l=ae,this.R=De||1,this.U=new ot(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $e}function $e(){this.i=null,this.g="",this.h=!1}var Xe={},Ke={};function ut(M,ee,ae){M.L=1,M.v=Jc(Zi(ee)),M.m=ae,M.P=!0,xt(M,null)}function xt(M,ee){M.F=Date.now(),pt(M),M.A=Zi(M.v);var ae=M.A,De=M.R;Array.isArray(De)||(De=[String(De)]),Yc(ae.i,"t",De),M.C=0,ae=M.j.J,M.h=new $e,M.g=Tv(M.j,ae?ee:null,!M.m),0<M.O&&(M.M=new Je(h(M.Y,M,M.g),M.O)),ee=M.U,ae=M.g,De=M.ca;var He="readystatechange";Array.isArray(He)||(He&&(lt[0]=He.toString()),He=lt);for(var rt=0;rt<He.length;rt++){var St=_e(ae,He[rt],De||ee.handleEvent,!1,ee.h||ee);if(!St)break;ee.g[St.key]=St}ee=M.H?N(M.H):{},M.m?(M.u||(M.u="POST"),ee["Content-Type"]="application/x-www-form-urlencoded",M.g.ea(M.A,M.u,M.m,ee)):(M.u="GET",M.g.ea(M.A,M.u,null,ee)),wt(),Sn(M.i,M.u,M.A,M.l,M.R,M.m)}Ze.prototype.ca=function(M){M=M.target;const ee=this.M;ee&&ea(M)==3?ee.j():this.Y(M)},Ze.prototype.Y=function(M){try{if(M==this.g)e:{const gi=ea(this.g);var ee=this.g.Ba();const Ka=this.g.Z();if(!(3>gi)&&(gi!=3||this.g&&(this.h.h||this.g.oa()||yg(this.g)))){this.J||gi!=4||ee==7||(ee==8||0>=Ka?wt(3):wt(2)),Un(this);var ae=this.g.Z();this.X=ae;t:if(kt(this)){var De=yg(this.g);M="";var He=De.length,rt=ea(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Wn(this),An(this);var St="";break t}this.h.i=new o.TextDecoder}for(ee=0;ee<He;ee++)this.h.h=!0,M+=this.h.i.decode(De[ee],{stream:!(rt&&ee==He-1)});De.length=0,this.h.g+=M,this.C=0,St=this.h.g}else St=this.g.oa();if(this.o=ae==200,er(this.i,this.u,this.A,this.l,this.R,gi,ae),this.o){if(this.T&&!this.K){t:{if(this.g){var tr,Ei=this.g;if((tr=Ei.g?Ei.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(tr)){var Pn=tr;break t}}Pn=null}if(ae=Pn)me(this.i,this.l,ae,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ca(this,ae);else{this.o=!1,this.s=3,Kt(12),Wn(this),An(this);break e}}if(this.P){ae=!0;let Da;for(;!this.J&&this.C<St.length;)if(Da=vt(this,St),Da==Ke){gi==4&&(this.s=4,Kt(14),ae=!1),me(this.i,this.l,null,"[Incomplete Response]");break}else if(Da==Xe){this.s=4,Kt(15),me(this.i,this.l,St,"[Invalid Chunk]"),ae=!1;break}else me(this.i,this.l,Da,null),Ca(this,Da);if(kt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gi!=4||St.length!=0||this.h.h||(this.s=1,Kt(16),ae=!1),this.o=this.o&&ae,!ae)me(this.i,this.l,St,"[Invalid Chunked Response]"),Wn(this),An(this);else if(0<St.length&&!this.W){this.W=!0;var Oi=this.j;Oi.g==this&&Oi.ba&&!Oi.M&&(Oi.j.info("Great, no buffering proxy detected. Bytes received: "+St.length),xg(Oi),Oi.M=!0,Kt(11))}}else me(this.i,this.l,St,null),Ca(this,St);gi==4&&Wn(this),this.o&&!this.J&&(gi==4?Ph(this.j,this):(this.o=!1,pt(this)))}else Ah(this.g),ae==400&&0<St.indexOf("Unknown SID")?(this.s=3,Kt(12)):(this.s=0,Kt(13)),Wn(this),An(this)}}}catch{}finally{}};function kt(M){return M.g?M.u=="GET"&&M.L!=2&&M.j.Ca:!1}function vt(M,ee){var ae=M.C,De=ee.indexOf(`
`,ae);return De==-1?Ke:(ae=Number(ee.substring(ae,De)),isNaN(ae)?Xe:(De+=1,De+ae>ee.length?Ke:(ee=ee.slice(De,De+ae),M.C=De+ae,ee)))}Ze.prototype.cancel=function(){this.J=!0,Wn(this)};function pt(M){M.S=Date.now()+M.I,en(M,M.I)}function en(M,ee){if(M.B!=null)throw Error("WatchDog timer not null");M.B=mn(h(M.ba,M),ee)}function Un(M){M.B&&(o.clearTimeout(M.B),M.B=null)}Ze.prototype.ba=function(){this.B=null;const M=Date.now();0<=M-this.S?(we(this.i,this.A),this.L!=2&&(wt(),Kt(17)),Wn(this),this.s=2,An(this)):en(this,this.S-M)};function An(M){M.j.G==0||M.J||Ph(M.j,M)}function Wn(M){Un(M);var ee=M.M;ee&&typeof ee.ma=="function"&&ee.ma(),M.M=null,Bt(M.U),M.g&&(ee=M.g,M.g=null,ee.abort(),ee.ma())}function Ca(M,ee){try{var ae=M.j;if(ae.G!=0&&(ae.g==M||At(ae.h,M))){if(!M.K&&At(ae.h,M)&&ae.G==3){try{var De=ae.Da.g.parse(ee)}catch{De=null}if(Array.isArray(De)&&De.length==3){var He=De;if(He[0]==0){e:if(!ae.u){if(ae.g)if(ae.g.F+3e3<M.F)Rh(ae),Io(ae);else break e;Ih(ae),Kt(18)}}else ae.za=He[1],0<ae.za-ae.T&&37500>He[2]&&ae.F&&ae.v==0&&!ae.C&&(ae.C=mn(h(ae.Za,ae),6e3));if(1>=Vt(ae.h)&&ae.ca){try{ae.ca()}catch{}ae.ca=void 0}}else Ql(ae,11)}else if((M.K||ae.g==M)&&Rh(ae),!x(ee))for(He=ae.Da.g.parse(ee),ee=0;ee<He.length;ee++){let Pn=He[ee];if(ae.T=Pn[0],Pn=Pn[1],ae.G==2)if(Pn[0]=="c"){ae.K=Pn[1],ae.ia=Pn[2];const Oi=Pn[3];Oi!=null&&(ae.la=Oi,ae.j.info("VER="+ae.la));const gi=Pn[4];gi!=null&&(ae.Aa=gi,ae.j.info("SVER="+ae.Aa));const Ka=Pn[5];Ka!=null&&typeof Ka=="number"&&0<Ka&&(De=1.5*Ka,ae.L=De,ae.j.info("backChannelRequestTimeoutMs_="+De)),De=ae;const Da=M.g;if(Da){const Nd=Da.g?Da.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Nd){var rt=De.h;rt.g||Nd.indexOf("spdy")==-1&&Nd.indexOf("quic")==-1&&Nd.indexOf("h2")==-1||(rt.j=rt.l,rt.g=new Set,rt.h&&(mt(rt,rt.h),rt.h=null))}if(De.D){const Mh=Da.g?Da.g.getResponseHeader("X-HTTP-Session-Id"):null;Mh&&(De.ya=Mh,dr(De.I,De.D,Mh))}}ae.G=3,ae.l&&ae.l.ua(),ae.ba&&(ae.R=Date.now()-M.F,ae.j.info("Handshake RTT: "+ae.R+"ms")),De=ae;var St=M;if(De.qa=wv(De,De.J?De.ia:null,De.W),St.K){Ft(De.h,St);var tr=St,Ei=De.L;Ei&&(tr.I=Ei),tr.B&&(Un(tr),pt(tr)),De.g=St}else Ad(De);0<ae.i.length&&cl(ae)}else Pn[0]!="stop"&&Pn[0]!="close"||Ql(ae,7);else ae.G==3&&(Pn[0]=="stop"||Pn[0]=="close"?Pn[0]=="stop"?Ql(ae,7):ts(ae):Pn[0]!="noop"&&ae.l&&ae.l.ta(Pn),ae.v=0)}}wt(4)}catch{}}var za=class{constructor(M,ee){this.g=M,this.map=ee}};function Ye(M){this.l=M||10,o.PerformanceNavigationTiming?(M=o.performance.getEntriesByType("navigation"),M=0<M.length&&(M[0].nextHopProtocol=="hq"||M[0].nextHopProtocol=="h2")):M=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=M?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function nt(M){return M.h?!0:M.g?M.g.size>=M.j:!1}function Vt(M){return M.h?1:M.g?M.g.size:0}function At(M,ee){return M.h?M.h==ee:M.g?M.g.has(ee):!1}function mt(M,ee){M.g?M.g.add(ee):M.h=ee}function Ft(M,ee){M.h&&M.h==ee?M.h=null:M.g&&M.g.has(ee)&&M.g.delete(ee)}Ye.prototype.cancel=function(){if(this.i=Gt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const M of this.g.values())M.cancel();this.g.clear()}};function Gt(M){if(M.h!=null)return M.i.concat(M.h.D);if(M.g!=null&&M.g.size!==0){let ee=M.i;for(const ae of M.g.values())ee=ee.concat(ae.D);return ee}return g(M.i)}function kn(M){if(M.V&&typeof M.V=="function")return M.V();if(typeof Map<"u"&&M instanceof Map||typeof Set<"u"&&M instanceof Set)return Array.from(M.values());if(typeof M=="string")return M.split("");if(l(M)){for(var ee=[],ae=M.length,De=0;De<ae;De++)ee.push(M[De]);return ee}ee=[],ae=0;for(De in M)ee[ae++]=M[De];return ee}function Jn(M){if(M.na&&typeof M.na=="function")return M.na();if(!M.V||typeof M.V!="function"){if(typeof Map<"u"&&M instanceof Map)return Array.from(M.keys());if(!(typeof Set<"u"&&M instanceof Set)){if(l(M)||typeof M=="string"){var ee=[];M=M.length;for(var ae=0;ae<M;ae++)ee.push(ae);return ee}ee=[],ae=0;for(const De in M)ee[ae++]=De;return ee}}}function xr(M,ee){if(M.forEach&&typeof M.forEach=="function")M.forEach(ee,void 0);else if(l(M)||typeof M=="string")Array.prototype.forEach.call(M,ee,void 0);else for(var ae=Jn(M),De=kn(M),He=De.length,rt=0;rt<He;rt++)ee.call(void 0,De[rt],ae&&ae[rt],M)}var Qs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function On(M,ee){if(M){M=M.split("&");for(var ae=0;ae<M.length;ae++){var De=M[ae].indexOf("="),He=null;if(0<=De){var rt=M[ae].substring(0,De);He=M[ae].substring(De+1)}else rt=M[ae];ee(rt,He?decodeURIComponent(He.replace(/\+/g," ")):"")}}}function si(M){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,M instanceof si){this.h=M.h,So(this,M.j),this.o=M.o,this.g=M.g,Ha(this,M.s),this.l=M.l;var ee=M.i,ae=new al;ae.i=ee.i,ee.g&&(ae.g=new Map(ee.g),ae.h=ee.h),Kc(this,ae),this.m=M.m}else M&&(ee=String(M).match(Qs))?(this.h=!1,So(this,ee[1]||"",!0),this.o=In(ee[2]||""),this.g=In(ee[3]||"",!0),Ha(this,ee[4]),this.l=In(ee[5]||"",!0),Kc(this,ee[6]||"",!0),this.m=In(ee[7]||"")):(this.h=!1,this.i=new al(null,this.h))}si.prototype.toString=function(){var M=[],ee=this.j;ee&&M.push(Xc(ee,Ch,!0),":");var ae=this.g;return(ae||ee=="file")&&(M.push("//"),(ee=this.o)&&M.push(Xc(ee,Ch,!0),"@"),M.push(encodeURIComponent(String(ae)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),ae=this.s,ae!=null&&M.push(":",String(ae))),(ae=this.l)&&(this.g&&ae.charAt(0)!="/"&&M.push("/"),M.push(Xc(ae,ae.charAt(0)=="/"?pv:hv,!0))),(ae=this.i.toString())&&M.push("?",ae),(ae=this.m)&&M.push("#",Xc(ae,pg)),M.join("")};function Zi(M){return new si(M)}function So(M,ee,ae){M.j=ae?In(ee,!0):ee,M.j&&(M.j=M.j.replace(/:$/,""))}function Ha(M,ee){if(ee){if(ee=Number(ee),isNaN(ee)||0>ee)throw Error("Bad port number "+ee);M.s=ee}else M.s=null}function Kc(M,ee,ae){ee instanceof al?(M.i=ee,ol(M.i,M.h)):(ae||(ee=Xc(ee,mv)),M.i=new al(ee,M.h))}function dr(M,ee,ae){M.i.set(ee,ae)}function Jc(M){return dr(M,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),M}function In(M,ee){return M?ee?decodeURI(M.replace(/%25/g,"%2525")):decodeURIComponent(M):""}function Xc(M,ee,ae){return typeof M=="string"?(M=encodeURI(M).replace(ee,fv),ae&&(M=M.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M):null}function fv(M){return M=M.charCodeAt(0),"%"+(M>>4&15).toString(16)+(M&15).toString(16)}var Ch=/[#\/\?@]/g,hv=/[#\?:]/g,pv=/[#\?]/g,mv=/[#\?@]/g,pg=/#/g;function al(M,ee){this.h=this.g=null,this.i=M||null,this.j=!!ee}function es(M){M.g||(M.g=new Map,M.h=0,M.i&&On(M.i,function(ee,ae){M.add(decodeURIComponent(ee.replace(/\+/g," ")),ae)}))}t=al.prototype,t.add=function(M,ee){es(this),this.i=null,M=Ga(this,M);var ae=this.g.get(M);return ae||this.g.set(M,ae=[]),ae.push(ee),this.h+=1,this};function Do(M,ee){es(M),ee=Ga(M,ee),M.g.has(ee)&&(M.i=null,M.h-=M.g.get(ee).length,M.g.delete(ee))}function Ao(M,ee){return es(M),ee=Ga(M,ee),M.g.has(ee)}t.forEach=function(M,ee){es(this),this.g.forEach(function(ae,De){ae.forEach(function(He){M.call(ee,He,De,this)},this)},this)},t.na=function(){es(this);const M=Array.from(this.g.values()),ee=Array.from(this.g.keys()),ae=[];for(let De=0;De<ee.length;De++){const He=M[De];for(let rt=0;rt<He.length;rt++)ae.push(ee[De])}return ae},t.V=function(M){es(this);let ee=[];if(typeof M=="string")Ao(this,M)&&(ee=ee.concat(this.g.get(Ga(this,M))));else{M=Array.from(this.g.values());for(let ae=0;ae<M.length;ae++)ee=ee.concat(M[ae])}return ee},t.set=function(M,ee){return es(this),this.i=null,M=Ga(this,M),Ao(this,M)&&(this.h-=this.g.get(M).length),this.g.set(M,[ee]),this.h+=1,this},t.get=function(M,ee){return M?(M=this.V(M),0<M.length?String(M[0]):ee):ee};function Yc(M,ee,ae){Do(M,ee),0<ae.length&&(M.i=null,M.g.set(Ga(M,ee),g(ae)),M.h+=ae.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const M=[],ee=Array.from(this.g.keys());for(var ae=0;ae<ee.length;ae++){var De=ee[ae];const rt=encodeURIComponent(String(De)),St=this.V(De);for(De=0;De<St.length;De++){var He=rt;St[De]!==""&&(He+="="+encodeURIComponent(String(St[De]))),M.push(He)}}return this.i=M.join("&")};function Ga(M,ee){return ee=String(ee),M.j&&(ee=ee.toLowerCase()),ee}function ol(M,ee){ee&&!M.j&&(es(M),M.i=null,M.g.forEach(function(ae,De){var He=De.toLowerCase();De!=He&&(Do(this,De),Yc(this,He,ae))},M)),M.j=ee}function yT(M,ee){const ae=new Mn;if(o.Image){const De=new Image;De.onload=p(Zs,ae,"TestLoadImage: loaded",!0,ee,De),De.onerror=p(Zs,ae,"TestLoadImage: error",!1,ee,De),De.onabort=p(Zs,ae,"TestLoadImage: abort",!1,ee,De),De.ontimeout=p(Zs,ae,"TestLoadImage: timeout",!1,ee,De),o.setTimeout(function(){De.ontimeout&&De.ontimeout()},1e4),De.src=M}else ee(!1)}function gv(M,ee){const ae=new Mn,De=new AbortController,He=setTimeout(()=>{De.abort(),Zs(ae,"TestPingServer: timeout",!1,ee)},1e4);fetch(M,{signal:De.signal}).then(rt=>{clearTimeout(He),rt.ok?Zs(ae,"TestPingServer: ok",!0,ee):Zs(ae,"TestPingServer: server error",!1,ee)}).catch(()=>{clearTimeout(He),Zs(ae,"TestPingServer: error",!1,ee)})}function Zs(M,ee,ae,De,He){try{He&&(He.onload=null,He.onerror=null,He.onabort=null,He.ontimeout=null),De(ae)}catch{}}function vT(){this.g=new Kn}function yv(M,ee,ae){const De=ae||"";try{xr(M,function(He,rt){let St=He;c(He)&&(St=fn(He)),ee.push(De+rt+"="+encodeURIComponent(St))})}catch(He){throw ee.push(De+"type="+encodeURIComponent("_badmap")),He}}function Jl(M){this.l=M.Ub||null,this.j=M.eb||!1}v(Jl,Rn),Jl.prototype.g=function(){return new Sd(this.l,this.j)},Jl.prototype.i=(function(M){return function(){return M}})({});function Sd(M,ee){Ie.call(this),this.D=M,this.o=ee,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Sd,Ie),t=Sd.prototype,t.open=function(M,ee){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=M,this.A=ee,this.readyState=1,ko(this)},t.send=function(M){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const ee={headers:this.u,method:this.B,credentials:this.m,cache:void 0};M&&(ee.body=M),(this.D||o).fetch(new Request(this.A,ee)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,No(this)),this.readyState=0},t.Sa=function(M){if(this.g&&(this.l=M,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=M.headers,this.readyState=2,ko(this)),this.g&&(this.readyState=3,ko(this),this.g)))if(this.responseType==="arraybuffer")M.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in M){if(this.j=M.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vv(this)}else M.text().then(this.Ra.bind(this),this.ga.bind(this))};function vv(M){M.j.read().then(M.Pa.bind(M)).catch(M.ga.bind(M))}t.Pa=function(M){if(this.g){if(this.o&&M.value)this.response.push(M.value);else if(!this.o){var ee=M.value?M.value:new Uint8Array(0);(ee=this.v.decode(ee,{stream:!M.done}))&&(this.response=this.responseText+=ee)}M.done?No(this):ko(this),this.readyState==3&&vv(this)}},t.Ra=function(M){this.g&&(this.response=this.responseText=M,No(this))},t.Qa=function(M){this.g&&(this.response=M,No(this))},t.ga=function(){this.g&&No(this)};function No(M){M.readyState=4,M.l=null,M.j=null,M.v=null,ko(M)}t.setRequestHeader=function(M,ee){this.u.append(M,ee)},t.getResponseHeader=function(M){return this.h&&this.h.get(M.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const M=[],ee=this.h.entries();for(var ae=ee.next();!ae.done;)ae=ae.value,M.push(ae[0]+": "+ae[1]),ae=ee.next();return M.join(`\r
`)};function ko(M){M.onreadystatechange&&M.onreadystatechange.call(M)}Object.defineProperty(Sd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(M){this.m=M?"include":"same-origin"}});function Xl(M){let ee="";return R(M,function(ae,De){ee+=De,ee+=":",ee+=ae,ee+=`\r
`}),ee}function Qc(M,ee,ae){e:{for(De in ae){var De=!1;break e}De=!0}De||(ae=Xl(ae),typeof M=="string"?ae!=null&&encodeURIComponent(String(ae)):dr(M,ee,ae))}function Nr(M){Ie.call(this),this.headers=new Map,this.o=M||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(Nr,Ie);var xT=/^https?$/i,mg=["POST","PUT"];t=Nr.prototype,t.Ha=function(M){this.J=M},t.ea=function(M,ee,ae,De){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+M);ee=ee?ee.toUpperCase():"GET",this.D=M,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Se.g(),this.v=this.o?Vn(this.o):Vn(Se),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(ee,String(M),!0),this.B=!1}catch(rt){Dd(this,rt);return}if(M=ae||"",ae=new Map(this.headers),De)if(Object.getPrototypeOf(De)===Object.prototype)for(var He in De)ae.set(He,De[He]);else if(typeof De.keys=="function"&&typeof De.get=="function")for(const rt of De.keys())ae.set(rt,De.get(rt));else throw Error("Unknown input type for opt_headers: "+String(De));De=Array.from(ae.keys()).find(rt=>rt.toLowerCase()=="content-type"),He=o.FormData&&M instanceof o.FormData,!(0<=Array.prototype.indexOf.call(mg,ee,void 0))||De||He||ae.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[rt,St]of ae)this.g.setRequestHeader(rt,St);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Dh(this),this.u=!0,this.g.send(M),this.u=!1}catch(rt){Dd(this,rt)}};function Dd(M,ee){M.h=!1,M.g&&(M.j=!0,M.g.abort(),M.j=!1),M.l=ee,M.m=5,Sh(M),Sa(M)}function Sh(M){M.A||(M.A=!0,Le(M,"complete"),Le(M,"error"))}t.abort=function(M){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=M||7,Le(this,"complete"),Le(this,"abort"),Sa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Sa(this,!0)),Nr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?gg(this):this.bb())},t.bb=function(){gg(this)};function gg(M){if(M.h&&typeof a<"u"&&(!M.v[1]||ea(M)!=4||M.Z()!=2)){if(M.u&&ea(M)==4)Ue(M.Ea,0,M);else if(Le(M,"readystatechange"),ea(M)==4){M.h=!1;try{const St=M.Z();e:switch(St){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var ee=!0;break e;default:ee=!1}var ae;if(!(ae=ee)){var De;if(De=St===0){var He=String(M.D).match(Qs)[1]||null;!He&&o.self&&o.self.location&&(He=o.self.location.protocol.slice(0,-1)),De=!xT.test(He?He.toLowerCase():"")}ae=De}if(ae)Le(M,"complete"),Le(M,"success");else{M.m=6;try{var rt=2<ea(M)?M.g.statusText:""}catch{rt=""}M.l=rt+" ["+M.Z()+"]",Sh(M)}}finally{Sa(M)}}}}function Sa(M,ee){if(M.g){Dh(M);const ae=M.g,De=M.v[0]?()=>{}:null;M.g=null,M.v=null,ee||Le(M,"ready");try{ae.onreadystatechange=De}catch{}}}function Dh(M){M.I&&(o.clearTimeout(M.I),M.I=null)}t.isActive=function(){return!!this.g};function ea(M){return M.g?M.g.readyState:0}t.Z=function(){try{return 2<ea(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(M){if(this.g){var ee=this.g.responseText;return M&&ee.indexOf(M)==0&&(ee=ee.substring(M.length)),ln(ee)}};function yg(M){try{if(!M.g)return null;if("response"in M.g)return M.g.response;switch(M.H){case"":case"text":return M.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in M.g)return M.g.mozResponseArrayBuffer}return null}catch{return null}}function Ah(M){const ee={};M=(M.g&&2<=ea(M)&&M.g.getAllResponseHeaders()||"").split(`\r
`);for(let De=0;De<M.length;De++){if(x(M[De]))continue;var ae=P(M[De]);const He=ae[0];if(ae=ae[1],typeof ae!="string")continue;ae=ae.trim();const rt=ee[He]||[];ee[He]=rt,rt.push(ae)}D(ee,function(De){return De.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ll(M,ee,ae){return ae&&ae.internalChannelParams&&ae.internalChannelParams[M]||ee}function vg(M){this.Aa=0,this.i=[],this.j=new Mn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ll("failFast",!1,M),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ll("baseRetryDelayMs",5e3,M),this.cb=ll("retryDelaySeedMs",1e4,M),this.Wa=ll("forwardChannelMaxRetries",2,M),this.wa=ll("forwardChannelRequestTimeoutMs",2e4,M),this.pa=M&&M.xmlHttpFactory||void 0,this.Xa=M&&M.Tb||void 0,this.Ca=M&&M.useFetchStreams||!1,this.L=void 0,this.J=M&&M.supportsCrossDomainXhr||!1,this.K="",this.h=new Ye(M&&M.concurrentRequestLimit),this.Da=new vT,this.P=M&&M.fastHandshake||!1,this.O=M&&M.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=M&&M.Rb||!1,M&&M.xa&&this.j.xa(),M&&M.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&M&&M.detectBufferingProxy||!1,this.ja=void 0,M&&M.longPollingTimeout&&0<M.longPollingTimeout&&(this.ja=M.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=vg.prototype,t.la=8,t.G=1,t.connect=function(M,ee,ae,De){Kt(0),this.W=M,this.H=ee||{},ae&&De!==void 0&&(this.H.OSID=ae,this.H.OAID=De),this.F=this.X,this.I=wv(this,null,this.W),cl(this)};function ts(M){if(Nh(M),M.G==3){var ee=M.U++,ae=Zi(M.I);if(dr(ae,"SID",M.K),dr(ae,"RID",ee),dr(ae,"TYPE","terminate"),Yl(M,ae),ee=new Ze(M,M.j,ee),ee.L=2,ee.v=Jc(Zi(ae)),ae=!1,o.navigator&&o.navigator.sendBeacon)try{ae=o.navigator.sendBeacon(ee.v.toString(),"")}catch{}!ae&&o.Image&&(new Image().src=ee.v,ae=!0),ae||(ee.g=Tv(ee.j,null),ee.g.ea(ee.v)),ee.F=Date.now(),pt(ee)}_v(M)}function Io(M){M.g&&(xg(M),M.g.cancel(),M.g=null)}function Nh(M){Io(M),M.u&&(o.clearTimeout(M.u),M.u=null),Rh(M),M.h.cancel(),M.s&&(typeof M.s=="number"&&o.clearTimeout(M.s),M.s=null)}function cl(M){if(!nt(M.h)&&!M.s){M.s=!0;var ee=M.Ga;X||Q(),Z||(X(),Z=!0),z.add(ee,M),M.B=0}}function bT(M,ee){return Vt(M.h)>=M.h.j-(M.s?1:0)?!1:M.s?(M.i=ee.D.concat(M.i),!0):M.G==1||M.G==2||M.B>=(M.Va?0:M.Wa)?!1:(M.s=mn(h(M.Ga,M,ee),bv(M,M.B)),M.B++,!0)}t.Ga=function(M){if(this.s)if(this.s=null,this.G==1){if(!M){this.U=Math.floor(1e5*Math.random()),M=this.U++;const He=new Ze(this,this.j,M);let rt=this.o;if(this.S&&(rt?(rt=N(rt),F(rt,this.S)):rt=this.S),this.m!==null||this.O||(He.H=rt,rt=null),this.P)e:{for(var ee=0,ae=0;ae<this.i.length;ae++){t:{var De=this.i[ae];if("__data__"in De.map&&(De=De.map.__data__,typeof De=="string")){De=De.length;break t}De=void 0}if(De===void 0)break;if(ee+=De,4096<ee){ee=ae;break e}if(ee===4096||ae===this.i.length-1){ee=ae+1;break e}}ee=1e3}else ee=1e3;ee=Zc(this,He,ee),ae=Zi(this.I),dr(ae,"RID",M),dr(ae,"CVER",22),this.D&&dr(ae,"X-HTTP-Session-Id",this.D),Yl(this,ae),rt&&(this.O?ee="headers="+encodeURIComponent(String(Xl(rt)))+"&"+ee:this.m&&Qc(ae,this.m,rt)),mt(this.h,He),this.Ua&&dr(ae,"TYPE","init"),this.P?(dr(ae,"$req",ee),dr(ae,"SID","null"),He.T=!0,ut(He,ae,null)):ut(He,ae,ee),this.G=2}}else this.G==3&&(M?kh(this,M):this.i.length==0||nt(this.h)||kh(this))};function kh(M,ee){var ae;ee?ae=ee.l:ae=M.U++;const De=Zi(M.I);dr(De,"SID",M.K),dr(De,"RID",ae),dr(De,"AID",M.T),Yl(M,De),M.m&&M.o&&Qc(De,M.m,M.o),ae=new Ze(M,M.j,ae,M.B+1),M.m===null&&(ae.H=M.o),ee&&(M.i=ee.D.concat(M.i)),ee=Zc(M,ae,1e3),ae.I=Math.round(.5*M.wa)+Math.round(.5*M.wa*Math.random()),mt(M.h,ae),ut(ae,De,ee)}function Yl(M,ee){M.H&&R(M.H,function(ae,De){dr(ee,De,ae)}),M.l&&xr({},function(ae,De){dr(ee,De,ae)})}function Zc(M,ee,ae){ae=Math.min(M.i.length,ae);var De=M.l?h(M.l.Na,M.l,M):null;e:{var He=M.i;let rt=-1;for(;;){const St=["count="+ae];rt==-1?0<ae?(rt=He[0].g,St.push("ofs="+rt)):rt=0:St.push("ofs="+rt);let tr=!0;for(let Ei=0;Ei<ae;Ei++){let Pn=He[Ei].g;const Oi=He[Ei].map;if(Pn-=rt,0>Pn)rt=Math.max(0,He[Ei].g-100),tr=!1;else try{yv(Oi,St,"req"+Pn+"_")}catch{De&&De(Oi)}}if(tr){De=St.join("&");break e}}}return M=M.i.splice(0,ae),ee.D=M,De}function Ad(M){if(!M.g&&!M.u){M.Y=1;var ee=M.Fa;X||Q(),Z||(X(),Z=!0),z.add(ee,M),M.v=0}}function Ih(M){return M.g||M.u||3<=M.v?!1:(M.Y++,M.u=mn(h(M.Fa,M),bv(M,M.v)),M.v++,!0)}t.Fa=function(){if(this.u=null,xv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var M=2*this.R;this.j.info("BP detection timer enabled: "+M),this.A=mn(h(this.ab,this),M)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Kt(10),Io(this),xv(this))};function xg(M){M.A!=null&&(o.clearTimeout(M.A),M.A=null)}function xv(M){M.g=new Ze(M,M.j,"rpc",M.Y),M.m===null&&(M.g.H=M.o),M.g.O=0;var ee=Zi(M.qa);dr(ee,"RID","rpc"),dr(ee,"SID",M.K),dr(ee,"AID",M.T),dr(ee,"CI",M.F?"0":"1"),!M.F&&M.ja&&dr(ee,"TO",M.ja),dr(ee,"TYPE","xmlhttp"),Yl(M,ee),M.m&&M.o&&Qc(ee,M.m,M.o),M.L&&(M.g.I=M.L);var ae=M.g;M=M.ia,ae.L=1,ae.v=Jc(Zi(ee)),ae.m=null,ae.P=!0,xt(ae,M)}t.Za=function(){this.C!=null&&(this.C=null,Io(this),Ih(this),Kt(19))};function Rh(M){M.C!=null&&(o.clearTimeout(M.C),M.C=null)}function Ph(M,ee){var ae=null;if(M.g==ee){Rh(M),xg(M),M.g=null;var De=2}else if(At(M.h,ee))ae=ee.D,Ft(M.h,ee),De=1;else return;if(M.G!=0){if(ee.o)if(De==1){ae=ee.m?ee.m.length:0,ee=Date.now()-ee.F;var He=M.B;De=qe(),Le(De,new vn(De,ae)),cl(M)}else Ad(M);else if(He=ee.s,He==3||He==0&&0<ee.X||!(De==1&&bT(M,ee)||De==2&&Ih(M)))switch(ae&&0<ae.length&&(ee=M.h,ee.i=ee.i.concat(ae)),He){case 1:Ql(M,5);break;case 4:Ql(M,10);break;case 3:Ql(M,6);break;default:Ql(M,2)}}}function bv(M,ee){let ae=M.Ta+Math.floor(Math.random()*M.cb);return M.isActive()||(ae*=2),ae*ee}function Ql(M,ee){if(M.j.info("Error code "+ee),ee==2){var ae=h(M.fb,M),De=M.Xa;const He=!De;De=new si(De||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||So(De,"https"),Jc(De),He?yT(De.toString(),ae):gv(De.toString(),ae)}else Kt(2);M.G=0,M.l&&M.l.sa(ee),_v(M),Nh(M)}t.fb=function(M){M?(this.j.info("Successfully pinged google.com"),Kt(2)):(this.j.info("Failed to ping google.com"),Kt(1))};function _v(M){if(M.G=0,M.ka=[],M.l){const ee=Gt(M.h);(ee.length!=0||M.i.length!=0)&&(y(M.ka,ee),y(M.ka,M.i),M.h.i.length=0,g(M.i),M.i.length=0),M.l.ra()}}function wv(M,ee,ae){var De=ae instanceof si?Zi(ae):new si(ae);if(De.g!="")ee&&(De.g=ee+"."+De.g),Ha(De,De.s);else{var He=o.location;De=He.protocol,ee=ee?ee+"."+He.hostname:He.hostname,He=+He.port;var rt=new si(null);De&&So(rt,De),ee&&(rt.g=ee),He&&Ha(rt,He),ae&&(rt.l=ae),De=rt}return ae=M.D,ee=M.ya,ae&&ee&&dr(De,ae,ee),dr(De,"VER",M.la),Yl(M,De),De}function Tv(M,ee,ae){if(ee&&!M.J)throw Error("Can't create secondary domain capable XhrIo object.");return ee=M.Ca&&!M.pa?new Nr(new Jl({eb:ae})):new Nr(M.pa),ee.Ha(M.J),ee}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function bg(){}t=bg.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Fh(){}Fh.prototype.g=function(M,ee){return new Ls(M,ee)};function Ls(M,ee){Ie.call(this),this.g=new vg(ee),this.l=M,this.h=ee&&ee.messageUrlParams||null,M=ee&&ee.messageHeaders||null,ee&&ee.clientProtocolHeaderRequired&&(M?M["X-Client-Protocol"]="webchannel":M={"X-Client-Protocol":"webchannel"}),this.g.o=M,M=ee&&ee.initMessageHeaders||null,ee&&ee.messageContentType&&(M?M["X-WebChannel-Content-Type"]=ee.messageContentType:M={"X-WebChannel-Content-Type":ee.messageContentType}),ee&&ee.va&&(M?M["X-WebChannel-Client-Profile"]=ee.va:M={"X-WebChannel-Client-Profile":ee.va}),this.g.S=M,(M=ee&&ee.Sb)&&!x(M)&&(this.g.m=M),this.v=ee&&ee.supportsCrossDomainXhr||!1,this.u=ee&&ee.sendRawJson||!1,(ee=ee&&ee.httpSessionIdParam)&&!x(ee)&&(this.g.D=ee,M=this.h,M!==null&&ee in M&&(M=this.h,ee in M&&delete M[ee])),this.j=new ul(this)}v(Ls,Ie),Ls.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ls.prototype.close=function(){ts(this.g)},Ls.prototype.o=function(M){var ee=this.g;if(typeof M=="string"){var ae={};ae.__data__=M,M=ae}else this.u&&(ae={},ae.__data__=fn(M),M=ae);ee.i.push(new za(ee.Ya++,M)),ee.G==3&&cl(ee)},Ls.prototype.N=function(){this.g.l=null,delete this.j,ts(this.g),delete this.g,Ls.aa.N.call(this)};function Ev(M){We.call(this),M.__headers__&&(this.headers=M.__headers__,this.statusCode=M.__status__,delete M.__headers__,delete M.__status__);var ee=M.__sm__;if(ee){e:{for(const ae in ee){M=ae;break e}M=void 0}(this.i=M)&&(M=this.i,ee=ee!==null&&M in ee?ee[M]:void 0),this.data=ee}else this.data=M}v(Ev,We);function Cv(){se.call(this),this.status=1}v(Cv,se);function ul(M){this.g=M}v(ul,bg),ul.prototype.ua=function(){Le(this.g,"a")},ul.prototype.ta=function(M){Le(this.g,new Ev(M))},ul.prototype.sa=function(M){Le(this.g,new Cv)},ul.prototype.ra=function(){Le(this.g,"b")},Fh.prototype.createWebChannel=Fh.prototype.g,Ls.prototype.send=Ls.prototype.o,Ls.prototype.open=Ls.prototype.m,Ls.prototype.close=Ls.prototype.close,TV=function(){return new Fh},wV=function(){return qe()},_V=he,UD={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ee.NO_ERROR=0,Ee.TIMEOUT=8,Ee.HTTP_ERROR=6,f2=Ee,Ae.COMPLETE="complete",bV=Ae,yn.EventType=It,It.OPEN="a",It.CLOSE="b",It.ERROR="c",It.MESSAGE="d",Ie.prototype.listen=Ie.prototype.K,T0=yn,Nr.prototype.listenOnce=Nr.prototype.L,Nr.prototype.getLastError=Nr.prototype.Ka,Nr.prototype.getLastErrorCode=Nr.prototype.Ba,Nr.prototype.getStatus=Nr.prototype.Z,Nr.prototype.getResponseJson=Nr.prototype.Oa,Nr.prototype.getResponseText=Nr.prototype.oa,Nr.prototype.send=Nr.prototype.ea,Nr.prototype.setWithCredentials=Nr.prototype.Ha,xV=Nr}).apply(typeof bx<"u"?bx:typeof self<"u"?self:typeof window<"u"?window:{});const UP="@firebase/firestore",OP="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hi=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Hi.UNAUTHENTICATED=new Hi(null),Hi.GOOGLE_CREDENTIALS=new Hi("google-credentials-uid"),Hi.FIRST_PARTY=new Hi("first-party-uid"),Hi.MOCK_USER=new Hi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jm="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u=new Lm("@firebase/firestore");function bp(){return $u.logLevel}function Jne(t){$u.setLogLevel(t)}function ft(t,...e){if($u.logLevel<=En.DEBUG){const n=e.map(q3);$u.debug(`Firestore (${jm}): ${t}`,...n)}}function ci(t,...e){if($u.logLevel<=En.ERROR){const n=e.map(q3);$u.error(`Firestore (${jm}): ${t}`,...n)}}function jl(t,...e){if($u.logLevel<=En.WARN){const n=e.map(q3);$u.warn(`Firestore (${jm}): ${t}`,...n)}}function q3(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,EV(t,r,n)}function EV(t,e,n){let r=`FIRESTORE (${jm}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ci(r),new Error(r)}function qt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||EV(e,i,r)}function Xne(t,e){t||Rt(57014,e)}function Nt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends Ns{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Yne{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Hi.UNAUTHENTICATED)))}shutdown(){}}class Qne{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Zne{constructor(e){this.t=e,this.currentUser=Hi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){qt(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new us;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new us,e.enqueueRetryable((()=>i(this.currentUser)))};const a=()=>{const l=s;e.enqueueRetryable((async()=>{await l.promise,await i(this.currentUser)}))},o=l=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((l=>o(l))),setTimeout((()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new us)}}),0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qt(typeof r.accessToken=="string",31837,{l:r}),new CV(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qt(e===null||typeof e=="string",2055,{h:e}),new Hi(e)}}class ere{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Hi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class tre{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new ere(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Hi.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class LP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nre{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,mr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){qt(this.o===void 0,3512);const r=s=>{s.error!=null&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,ft("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new LP(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(qt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new LP(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rre(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=rre(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function cn(t,e){return t<e?-1:t>e?1:0}function OD(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return QE(i)===QE(s)?cn(i,s):QE(i)?1:-1}return cn(t.length,e.length)}const ire=55296,sre=57343;function QE(t){const e=t.charCodeAt(0);return e>=ire&&e<=sre}function em(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}function SV(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP="__name__";class _l{constructor(e,n,r){n===void 0?n=0:n>e.length&&Rt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Rt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return _l.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _l?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=_l.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return cn(e.length,n.length)}static compareSegments(e,n){const r=_l.isNumericId(e),i=_l.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?_l.extractNumericId(e).compare(_l.extractNumericId(n)):OD(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Pu.fromString(e.substring(4,e.length-2))}}class Dn extends _l{construct(e,n,r){return new Dn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new at(tt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Dn(n)}static emptyPath(){return new Dn([])}}const are=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fr extends _l{construct(e,n,r){return new Fr(e,n,r)}static isValidIdentifier(e){return are.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===jP}static keyField(){return new Fr([jP])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new at(tt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new at(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new at(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(r+=o,i++):(s(),i++)}if(s(),a)throw new at(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fr(n)}static emptyPath(){return new Fr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.path=e}static fromPath(e){return new Dt(Dn.fromString(e))}static fromName(e){return new Dt(Dn.fromString(e).popFirst(5))}static empty(){return new Dt(Dn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Dn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Dt(new Dn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z3(t,e,n){if(!n)throw new at(tt.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function DV(t,e,n,r){if(e===!0&&r===!0)throw new at(tt.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function BP(t){if(!Dt.isDocumentKey(t))throw new at(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function VP(t){if(Dt.isDocumentKey(t))throw new at(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function AV(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function __(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Rt(12329,{type:typeof t})}function Hn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new at(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=__(t);throw new at(tt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function NV(t,e){if(e<=0)throw new at(tt.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(t,e){const n={typeString:t};return e&&(n.value=e),n}function b1(t,e){if(!AV(t))throw new at(tt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new at(tt.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP=-62135596800,qP=1e6;class Yn{static now(){return Yn.fromMillis(Date.now())}static fromDate(e){return Yn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*qP);return new Yn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new at(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new at(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<WP)throw new at(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new at(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/qP}_compareTo(e){return this.seconds===e.seconds?cn(this.nanoseconds,e.nanoseconds):cn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Yn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(b1(e,Yn._jsonSchema))return new Yn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-WP;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Yn._jsonSchemaVersion="firestore/timestamp/1.0",Yn._jsonSchema={type:Ti("string",Yn._jsonSchemaVersion),seconds:Ti("number"),nanoseconds:Ti("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{static fromTimestamp(e){return new Ht(e)}static min(){return new Ht(new Yn(0,0))}static max(){return new Ht(new Yn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm=-1;class ib{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function LD(t){return t.fields.find((e=>e.kind===2))}function Jd(t){return t.fields.filter((e=>e.kind!==2))}ib.UNKNOWN_ID=-1;class h2{constructor(e,n){this.fieldPath=e,this.kind=n}}class by{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new by(0,Va.min())}}function kV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ht.fromTimestamp(r===1e9?new Yn(n+1,0):new Yn(n,r));return new Va(i,Dt.empty(),e)}function IV(t){return new Va(t.readTime,t.key,tm)}class Va{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Va(Ht.min(),Dt.empty(),tm)}static max(){return new Va(Ht.max(),Dt.empty(),tm)}}function H3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Dt.comparator(t.documentKey,e.documentKey),n!==0?n:cn(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ud(t){if(t.code!==tt.FAILED_PRECONDITION||t.message!==RV)throw t;ft("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Rt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ze(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ze?n:ze.resolve(n)}catch(n){return ze.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ze.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ze.reject(n)}static resolve(e){return new ze(((n,r)=>{n(e)}))}static reject(e){return new ze(((n,r)=>{r(e)}))}static waitFor(e){return new ze(((n,r)=>{let i=0,s=0,a=!1;e.forEach((o=>{++i,o.next((()=>{++s,a&&s===i&&n()}),(l=>r(l)))})),a=!0,s===i&&n()}))}static or(e){let n=ze.resolve(!1);for(const r of e)n=n.next((i=>i?ze.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new ze(((r,i)=>{const s=e.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next((u=>{a[c]=u,++o,o===s&&r(a)}),(u=>i(u)))}}))}static doWhile(e,n){return new ze(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia="SimpleDb";class w_{static open(e,n,r,i){try{return new w_(n,e.transaction(i,r))}catch(s){throw new M0(n,s)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new us,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new M0(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=G3(r.target.error);this.S.reject(new M0(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(ft(Ia,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new lre(n)}}class Fl{static delete(e){return ft(Ia,"Removing database:",e),Zd(R3().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!gy())return!1;if(Fl.F())return!0;const e=zr(),n=Fl.M(e),r=0<n&&n<10,i=FV(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,Fl.M(zr())===12.2&&ci("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(ft(Ia,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const a=s.target.result;n(a)},i.onblocked=()=>{r(new M0(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const a=s.target.error;a.name==="VersionError"?r(new at(tt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?r(new at(tt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):r(new M0(e,a))},i.onupgradeneeded=s=>{ft(Ia,'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const a=s.target.result;this.N.k(a,i.transaction,s.oldVersion,this.version).next((()=>{ft(Ia,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.L(e);const o=w_.open(this.db,e,s?"readonly":"readwrite",r),l=i(o).next((c=>(o.C(),c))).catch((c=>(o.abort(c),ze.reject(c)))).toPromise();return l.catch((()=>{})),await o.D,l}catch(o){const l=o,c=l.name!=="FirebaseError"&&a<3;if(ft(Ia,"Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function FV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class ore{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return Zd(this.U.delete())}}class M0 extends at{constructor(e,n){super(tt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function dd(t){return t.name==="IndexedDbTransactionError"}class lre{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(ft(Ia,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(ft(Ia,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Zd(r)}add(e){return ft(Ia,"ADD",this.store.name,e,e),Zd(this.store.add(e))}get(e){return Zd(this.store.get(e)).next((n=>(n===void 0&&(n=null),ft(Ia,"GET",this.store.name,e,n),n)))}delete(e){return ft(Ia,"DELETE",this.store.name,e),Zd(this.store.delete(e))}count(){return ft(Ia,"COUNT",this.store.name),Zd(this.store.count())}J(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new ze(((a,o)=>{s.onerror=l=>{o(l.target.error)},s.onsuccess=l=>{a(l.target.result)}}))}{const s=this.cursor(r),a=[];return this.H(s,((o,l)=>{a.push(l)})).next((()=>a))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new ze(((i,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{i(a.target.result)}}))}Z(e,n){ft(Ia,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const i=this.cursor(r);return this.H(i,((s,a,o)=>o.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.H(i,n)}te(e){const n=this.cursor({});return new ze(((r,i)=>{n.onerror=s=>{const a=G3(s.target.error);i(a)},n.onsuccess=s=>{const a=s.target.result;a?e(a.primaryKey,a.value).next((o=>{o?a.continue():r()})):r()}}))}H(e,n){const r=[];return new ze(((i,s)=>{e.onerror=a=>{s(a.target.error)},e.onsuccess=a=>{const o=a.target.result;if(!o)return void i();const l=new ore(o),c=n(o.primaryKey,o.value,l);if(c instanceof ze){const u=c.catch((f=>(l.done(),ze.reject(f))));r.push(u)}l.isDone?i():l.G===null?o.continue():o.continue(l.G)}})).next((()=>ze.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Zd(t){return new ze(((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=G3(r.target.error);n(i)}}))}let $P=!1;function G3(t){const e=Fl.M(zr());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new at("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return $P||($P=!0,setTimeout((()=>{throw r}),0)),r}}return t}const U0="IndexBackfiller";class cre{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){ft(U0,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();ft(U0,`Documents written: ${n}`)}catch(n){dd(n)?ft(U0,"Ignoring IndexedDB error during index backfill: ",n):await ud(n)}await this.re(6e4)}))}}class ure{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let i=n,s=!0;return ze.doWhile((()=>s===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((a=>{if(a!==null&&!r.has(a))return ft(U0,`Processing collection: ${a}`),this.oe(e,a,i).next((o=>{i-=o,r.add(a)}));s=!1})))).next((()=>n-i))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next((s=>{const a=s.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next((()=>this._e(i,s))).next((o=>(ft(U0,`Updating offset: ${o}`),this.localStore.indexManager.updateCollectionGroup(e,n,o)))).next((()=>a.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((i,s)=>{const a=IV(s);H3(a,r)>0&&(r=a)})),new Va(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}da.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fu=-1;function _1(t){return t==null}function _y(t){return t===0&&1/t==-1/0}function MV(t){return typeof t=="number"&&Number.isInteger(t)&&!_y(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb="";function ks(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=zP(e)),e=dre(t.get(n),e);return zP(e)}function dre(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case sb:n+="";break;default:n+=s}}return n}function zP(t){return t+sb+""}function Al(t){const e=t.length;if(qt(e>=2,64408,{path:t}),e===2)return qt(t.charAt(0)===sb&&t.charAt(1)==="",56145,{path:t}),Dn.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const a=t.indexOf(sb,s);switch((a<0||a>n)&&Rt(50515,{path:t}),t.charAt(a+1)){case"":const o=t.substring(s,a);let l;i.length===0?l=o:(i+=o,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,a),i+="\0";break;case"":i+=t.substring(s,a+1);break;default:Rt(61167,{path:t})}s=a+2}return new Dn(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd="remoteDocuments",w1="owner",np="owner",wy="mutationQueues",fre="userId",qo="mutations",HP="batchId",af="userMutationsIndex",GP=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(t,e){return[t,ks(e)]}function UV(t,e,n){return[t,ks(e),n]}const hre={},nm="documentMutations",ab="remoteDocumentsV14",pre=["prefixPath","collectionGroup","readTime","documentId"],m2="documentKeyIndex",mre=["prefixPath","collectionGroup","documentId"],OV="collectionGroupIndex",gre=["collectionGroup","readTime","prefixPath","documentId"],Ty="remoteDocumentGlobal",jD="remoteDocumentGlobalKey",rm="targets",LV="queryTargetsIndex",yre=["canonicalId","targetId"],im="targetDocuments",vre=["targetId","path"],K3="documentTargetsIndex",xre=["path","targetId"],ob="targetGlobalKey",yf="targetGlobal",Ey="collectionParents",bre=["collectionId","parent"],sm="clientMetadata",_re="clientId",T_="bundles",wre="bundleId",E_="namedQueries",Tre="name",J3="indexConfiguration",Ere="indexId",BD="collectionGroupIndex",Cre="collectionGroup",O0="indexState",Sre=["indexId","uid"],jV="sequenceNumberIndex",Dre=["uid","sequenceNumber"],L0="indexEntries",Are=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],BV="documentKeyIndex",Nre=["indexId","uid","orderedDocumentKey"],C_="documentOverlays",kre=["userId","collectionPath","documentId"],VD="collectionPathOverlayIndex",Ire=["userId","collectionPath","largestBatchId"],VV="collectionGroupOverlayIndex",Rre=["userId","collectionGroup","largestBatchId"],X3="globals",Pre="name",WV=[wy,qo,nm,Xd,rm,w1,yf,im,sm,Ty,Ey,T_,E_],Fre=[...WV,C_],qV=[wy,qo,nm,ab,rm,w1,yf,im,sm,Ty,Ey,T_,E_,C_],$V=qV,Y3=[...$V,J3,O0,L0],Mre=Y3,zV=[...Y3,X3],Ure=zV;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD extends PV{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function Mi(t,e){const n=Nt(t);return Fl.O(n.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KP(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function fd(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function HV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hr=class qD{constructor(e,n){this.comparator=e,this.root=n||Mu.EMPTY}insert(e,n){return new qD(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Mu.BLACK,null,null))}remove(e){return new qD(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mu.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _x(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _x(this.root,e,this.comparator,!1)}getReverseIterator(){return new _x(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _x(this.root,e,this.comparator,!0)}},_x=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Mu=class cc{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??cc.RED,this.left=i??cc.EMPTY,this.right=s??cc.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new cc(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return cc.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return cc.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cc.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cc.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Rt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Rt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Rt(27949);return e+(this.isRed()?0:1)}};Mu.EMPTY=null,Mu.RED=!0,Mu.BLACK=!1;Mu.EMPTY=new class{constructor(){this.size=0}get key(){throw Rt(57766)}get value(){throw Rt(16141)}get color(){throw Rt(16727)}get left(){throw Rt(29726)}get right(){throw Rt(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Mu(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.comparator=e,this.data=new Hr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new JP(this.data.getIterator())}getIteratorFrom(e){return new JP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof or)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new or(this.comparator);return n.data=e,n}}class JP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function rp(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this.fields=e,e.sort(Fr.comparator)}static empty(){return new fa([])}unionWith(e){let n=new or(Fr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new fa(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return em(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ore(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new GV("Invalid base64 string: "+s):s}})(e);return new Zr(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s})(e);return new Zr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return cn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zr.EMPTY_BYTE_STRING=new Zr("");const Lre=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ac(t){if(qt(!!t,39018),typeof t=="string"){let e=0;const n=Lre.exec(t);if(qt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Rr(t.seconds),nanos:Rr(t.nanos)}}function Rr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Nc(t){return typeof t=="string"?Zr.fromBase64String(t):Zr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV="server_timestamp",JV="__type__",XV="__previous_value__",YV="__local_write_time__";function S_(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[JV])==null?void 0:r.stringValue)===KV}function D_(t){const e=t.mapValue.fields[XV];return S_(e)?D_(e):e}function Cy(t){const e=Ac(t.mapValue.fields[YV].timestampValue);return new Yn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jre{constructor(e,n,r,i,s,a,o,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const $D="(default)";class zu{constructor(e,n){this.projectId=e,this.database=n||$D}static empty(){return new zu("","")}get isDefaultDatabase(){return this.database===$D}isEqual(e){return e instanceof zu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3="__type__",QV="__max__",Tu={mapValue:{fields:{__type__:{stringValue:QV}}}},Z3="__vector__",am="value",g2={nullValue:"NULL_VALUE"};function Hu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?S_(t)?4:ZV(t)?9007199254740991:A_(t)?10:11:Rt(28295,{value:t})}function Bl(t,e){if(t===e)return!0;const n=Hu(t);if(n!==Hu(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Cy(t).isEqual(Cy(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=Ac(i.timestampValue),o=Ac(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return Nc(i.bytesValue).isEqual(Nc(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return Rr(i.geoPointValue.latitude)===Rr(s.geoPointValue.latitude)&&Rr(i.geoPointValue.longitude)===Rr(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return Rr(i.integerValue)===Rr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=Rr(i.doubleValue),o=Rr(s.doubleValue);return a===o?_y(a)===_y(o):isNaN(a)&&isNaN(o)}return!1})(t,e);case 9:return em(t.arrayValue.values||[],e.arrayValue.values||[],Bl);case 10:case 11:return(function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(KP(a)!==KP(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!Bl(a[l],o[l])))return!1;return!0})(t,e);default:return Rt(52216,{left:t})}}function Sy(t,e){return(t.values||[]).find((n=>Bl(n,e)))!==void 0}function Gu(t,e){if(t===e)return 0;const n=Hu(t),r=Hu(e);if(n!==r)return cn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return cn(t.booleanValue,e.booleanValue);case 2:return(function(s,a){const o=Rr(s.integerValue||s.doubleValue),l=Rr(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1})(t,e);case 3:return XP(t.timestampValue,e.timestampValue);case 4:return XP(Cy(t),Cy(e));case 5:return OD(t.stringValue,e.stringValue);case 6:return(function(s,a){const o=Nc(s),l=Nc(a);return o.compareTo(l)})(t.bytesValue,e.bytesValue);case 7:return(function(s,a){const o=s.split("/"),l=a.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=cn(o[c],l[c]);if(u!==0)return u}return cn(o.length,l.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,a){const o=cn(Rr(s.latitude),Rr(a.latitude));return o!==0?o:cn(Rr(s.longitude),Rr(a.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return YP(t.arrayValue,e.arrayValue);case 10:return(function(s,a){var h,p,v,g;const o=s.fields||{},l=a.fields||{},c=(h=o[am])==null?void 0:h.arrayValue,u=(p=l[am])==null?void 0:p.arrayValue,f=cn(((v=c==null?void 0:c.values)==null?void 0:v.length)||0,((g=u==null?void 0:u.values)==null?void 0:g.length)||0);return f!==0?f:YP(c,u)})(t.mapValue,e.mapValue);case 11:return(function(s,a){if(s===Tu.mapValue&&a===Tu.mapValue)return 0;if(s===Tu.mapValue)return 1;if(a===Tu.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),c=a.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const h=OD(l[f],u[f]);if(h!==0)return h;const p=Gu(o[l[f]],c[u[f]]);if(p!==0)return p}return cn(l.length,u.length)})(t.mapValue,e.mapValue);default:throw Rt(23264,{he:n})}}function XP(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return cn(t,e);const n=Ac(t),r=Ac(e),i=cn(n.seconds,r.seconds);return i!==0?i:cn(n.nanos,r.nanos)}function YP(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Gu(n[i],r[i]);if(s)return s}return cn(n.length,r.length)}function om(t){return zD(t)}function zD(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Ac(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Nc(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Dt.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=zD(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${zD(n.fields[a])}`;return i+"}"})(t.mapValue):Rt(61005,{value:t})}function y2(t){switch(Hu(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=D_(t);return e?16+y2(e):16;case 5:return 2*t.stringValue.length;case 6:return Nc(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+y2(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return fd(r.fields,((s,a)=>{i+=s.length+y2(a)})),i})(t.mapValue);default:throw Rt(13486,{value:t})}}function Nf(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function HD(t){return!!t&&"integerValue"in t}function Dy(t){return!!t&&"arrayValue"in t}function QP(t){return!!t&&"nullValue"in t}function ZP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function v2(t){return!!t&&"mapValue"in t}function A_(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Q3])==null?void 0:r.stringValue)===Z3}function j0(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return fd(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=j0(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=j0(t.arrayValue.values[n]);return e}return{...t}}function ZV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===QV}const eW={mapValue:{fields:{[Q3]:{stringValue:Z3},[am]:{arrayValue:{}}}}};function Bre(t){return"nullValue"in t?g2:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Nf(zu.empty(),Dt.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?A_(t)?eW:{mapValue:{}}:Rt(35942,{value:t})}function Vre(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Nf(zu.empty(),Dt.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?eW:"mapValue"in t?A_(t)?{mapValue:{}}:Tu:Rt(61959,{value:t})}function e8(t,e){const n=Gu(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function t8(t,e){const n=Gu(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e){this.value=e}static empty(){return new ls({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!v2(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=j0(n)}setAll(e){let n=Fr.emptyPath(),r={},i=[];e.forEach(((a,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}a?r[o.lastSegment()]=j0(a):i.push(o.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());v2(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Bl(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];v2(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){fd(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new ls(j0(this.value))}}function tW(t){const e=[];return fd(t.fields,((n,r)=>{const i=new Fr([n]);if(v2(r)){const s=tW(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)})),new fa(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,n,r,i,s,a,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new Er(e,0,Ht.min(),Ht.min(),Ht.min(),ls.empty(),0)}static newFoundDocument(e,n,r,i){return new Er(e,1,n,Ht.min(),r,i,0)}static newNoDocument(e,n){return new Er(e,2,n,Ht.min(),Ht.min(),ls.empty(),0)}static newUnknownDocument(e,n){return new Er(e,3,n,Ht.min(),Ht.min(),ls.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ht.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ls.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ls.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ht.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Er&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Er(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,n){this.position=e,this.inclusive=n}}function n8(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=Dt.comparator(Dt.fromName(a.referenceValue),n.key):r=Gu(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function r8(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Bl(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e,n="asc"){this.field=e,this.dir=n}}function Wre(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nW{}class Nn extends nW{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new qre(e,n,r):n==="array-contains"?new Hre(e,r):n==="in"?new lW(e,r):n==="not-in"?new Gre(e,r):n==="array-contains-any"?new Kre(e,r):new Nn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new $re(e,r):new zre(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Gu(n,this.value)):n!==null&&Hu(this.value)===Hu(n)&&this.matchesComparison(Gu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Rt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class sr extends nW{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new sr(e,n)}matches(e){return lm(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function lm(t){return t.op==="and"}function GD(t){return t.op==="or"}function eN(t){return rW(t)&&lm(t)}function rW(t){for(const e of t.filters)if(e instanceof sr)return!1;return!0}function KD(t){if(t instanceof Nn)return t.field.canonicalString()+t.op.toString()+om(t.value);if(eN(t))return t.filters.map((e=>KD(e))).join(",");{const e=t.filters.map((n=>KD(n))).join(",");return`${t.op}(${e})`}}function iW(t,e){return t instanceof Nn?(function(r,i){return i instanceof Nn&&r.op===i.op&&r.field.isEqual(i.field)&&Bl(r.value,i.value)})(t,e):t instanceof sr?(function(r,i){return i instanceof sr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,a,o)=>s&&iW(a,i.filters[o])),!0):!1})(t,e):void Rt(19439)}function sW(t,e){const n=t.filters.concat(e);return sr.create(n,t.op)}function aW(t){return t instanceof Nn?(function(n){return`${n.field.canonicalString()} ${n.op} ${om(n.value)}`})(t):t instanceof sr?(function(n){return n.op.toString()+" {"+n.getFilters().map(aW).join(" ,")+"}"})(t):"Filter"}class qre extends Nn{constructor(e,n,r){super(e,n,r),this.key=Dt.fromName(r.referenceValue)}matches(e){const n=Dt.comparator(e.key,this.key);return this.matchesComparison(n)}}class $re extends Nn{constructor(e,n){super(e,"in",n),this.keys=oW("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class zre extends Nn{constructor(e,n){super(e,"not-in",n),this.keys=oW("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function oW(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>Dt.fromName(r.referenceValue)))}class Hre extends Nn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Dy(n)&&Sy(n.arrayValue,this.value)}}class lW extends Nn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Sy(this.value.arrayValue,n)}}class Gre extends Nn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Sy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Sy(this.value.arrayValue,n)}}class Kre extends Nn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Dy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Sy(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jre{constructor(e,n=null,r=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.Te=null}}function JD(t,e=null,n=[],r=[],i=null,s=null,a=null){return new Jre(t,e,n,r,i,s,a)}function kf(t){const e=Nt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>KD(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),_1(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>om(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>om(r))).join(",")),e.Te=n}return e.Te}function T1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Wre(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!iW(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!r8(t.startAt,e.startAt)&&r8(t.endAt,e.endAt)}function lb(t){return Dt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function cb(t,e){return t.filters.filter((n=>n instanceof Nn&&n.field.isEqual(e)))}function i8(t,e,n){let r=g2,i=!0;for(const s of cb(t,e)){let a=g2,o=!0;switch(s.op){case"<":case"<=":a=Bre(s.value);break;case"==":case"in":case">=":a=s.value;break;case">":a=s.value,o=!1;break;case"!=":case"not-in":a=g2}e8({value:r,inclusive:i},{value:a,inclusive:o})<0&&(r=a,i=o)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const a=n.position[s];e8({value:r,inclusive:i},{value:a,inclusive:n.inclusive})<0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}function s8(t,e,n){let r=Tu,i=!0;for(const s of cb(t,e)){let a=Tu,o=!0;switch(s.op){case">=":case">":a=Vre(s.value),o=!1;break;case"==":case"in":case"<=":a=s.value;break;case"<":a=s.value,o=!1;break;case"!=":case"not-in":a=Tu}t8({value:r,inclusive:i},{value:a,inclusive:o})>0&&(r=a,i=o)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const a=n.position[s];t8({value:r,inclusive:i},{value:a,inclusive:n.inclusive})>0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,n=null,r=[],i=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function cW(t,e,n,r,i,s,a,o){return new Uc(t,e,n,r,i,s,a,o)}function Bm(t){return new Uc(t)}function a8(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function tN(t){return t.collectionGroup!==null}function Mp(t){const e=Nt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new or(Fr.comparator);return a.filters.forEach((l=>{l.getFlattenedFilters().forEach((c=>{c.isInequality()&&(o=o.add(c.field))}))})),o})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Ay(s,r))})),n.has(Fr.keyField().canonicalString())||e.Ie.push(new Ay(Fr.keyField(),r))}return e.Ie}function Gs(t){const e=Nt(t);return e.Ee||(e.Ee=Xre(e,Mp(t))),e.Ee}function Xre(t,e){if(t.limitType==="F")return JD(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new Ay(i.field,s)}));const n=t.endAt?new Ku(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ku(t.startAt.position,t.startAt.inclusive):null;return JD(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function XD(t,e){const n=t.filters.concat([e]);return new Uc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ub(t,e,n){return new Uc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function E1(t,e){return T1(Gs(t),Gs(e))&&t.limitType===e.limitType}function uW(t){return`${kf(Gs(t))}|lt:${t.limitType}`}function _p(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>aW(i))).join(", ")}]`),_1(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>om(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>om(i))).join(",")),`Target(${r})`})(Gs(t))}; limitType=${t.limitType})`}function C1(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Dt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of Mp(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(a,o,l){const c=n8(a,o,l);return a.inclusive?c<=0:c<0})(r.startAt,Mp(r),i)||r.endAt&&!(function(a,o,l){const c=n8(a,o,l);return a.inclusive?c>=0:c>0})(r.endAt,Mp(r),i))})(t,e)}function dW(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function fW(t){return(e,n)=>{let r=!1;for(const i of Mp(t)){const s=Yre(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Yre(t,e,n){const r=t.field.isKeyField()?Dt.comparator(e.key,n.key):(function(s,a,o){const l=a.data.field(s),c=o.data.field(s);return l!==null&&c!==null?Gu(l,c):Rt(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Rt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){fd(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return HV(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qre=new Hr(Dt.comparator);function ha(){return Qre}const hW=new Hr(Dt.comparator);function E0(...t){let e=hW;for(const n of t)e=e.insert(n.key,n);return e}function pW(t){let e=hW;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Nl(){return B0()}function mW(){return B0()}function B0(){return new Oc((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Zre=new Hr(Dt.comparator),eie=new or(Dt.comparator);function hn(...t){let e=eie;for(const n of t)e=e.add(n);return e}const tie=new or(cn);function nN(){return tie}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_y(e)?"-0":e}}function gW(t){return{integerValue:""+t}}function yW(t,e){return MV(e)?gW(e):rN(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(){this._=void 0}}function nie(t,e,n){return t instanceof cm?(function(i,s){const a={fields:{[JV]:{stringValue:KV},[YV]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&S_(s)&&(s=D_(s)),s&&(a.fields[XV]=s),{mapValue:a}})(n,e):t instanceof If?xW(t,e):t instanceof Rf?bW(t,e):(function(i,s){const a=vW(i,s),o=o8(a)+o8(i.Ae);return HD(a)&&HD(i.Ae)?gW(o):rN(i.serializer,o)})(t,e)}function rie(t,e,n){return t instanceof If?xW(t,e):t instanceof Rf?bW(t,e):n}function vW(t,e){return t instanceof um?(function(r){return HD(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class cm extends N_{}class If extends N_{constructor(e){super(),this.elements=e}}function xW(t,e){const n=_W(e);for(const r of t.elements)n.some((i=>Bl(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Rf extends N_{constructor(e){super(),this.elements=e}}function bW(t,e){let n=_W(e);for(const r of t.elements)n=n.filter((i=>!Bl(i,r)));return{arrayValue:{values:n}}}class um extends N_{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function o8(t){return Rr(t.integerValue||t.doubleValue)}function _W(t){return Dy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,n){this.field=e,this.transform=n}}function iie(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof If&&i instanceof If||r instanceof Rf&&i instanceof Rf?em(r.elements,i.elements,Bl):r instanceof um&&i instanceof um?Bl(r.Ae,i.Ae):r instanceof cm&&i instanceof cm})(t.transform,e.transform)}class sie{constructor(e,n){this.version=e,this.transformResults=n}}class Mr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Mr}static exists(e){return new Mr(void 0,e)}static updateTime(e){return new Mr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function x2(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class k_{}function wW(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Wm(t.key,Mr.none()):new Vm(t.key,t.data,Mr.none());{const n=t.data,r=ls.empty();let i=new or(Fr.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new Lc(t.key,r,new fa(i.toArray()),Mr.none())}}function aie(t,e,n){t instanceof Vm?(function(i,s,a){const o=i.value.clone(),l=c8(i.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()})(t,e,n):t instanceof Lc?(function(i,s,a){if(!x2(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=c8(i.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(TW(i)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()})(t,e,n):(function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,n)}function V0(t,e,n,r){return t instanceof Vm?(function(s,a,o,l){if(!x2(s.precondition,a))return o;const c=s.value.clone(),u=u8(s.fieldTransforms,l,a);return c.setAll(u),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null})(t,e,n,r):t instanceof Lc?(function(s,a,o,l){if(!x2(s.precondition,a))return o;const c=u8(s.fieldTransforms,l,a),u=a.data;return u.setAll(TW(s)),u.setAll(c),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((f=>f.field)))})(t,e,n,r):(function(s,a,o){return x2(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o})(t,e,n)}function oie(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=vW(r.transform,i||null);s!=null&&(n===null&&(n=ls.empty()),n.set(r.field,s))}return n||null}function l8(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&em(r,i,((s,a)=>iie(s,a)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Vm extends k_{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Lc extends k_{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function TW(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function c8(t,e,n){const r=new Map;qt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);r.set(s.field,rie(a,o,n[i]))}return r}function u8(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,nie(s,a,e))}return r}class Wm extends k_{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iN extends k_{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&aie(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=V0(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=V0(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=mW();return this.mutations.forEach((i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=n.has(i.key)?null:o;const l=wW(a,o);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(Ht.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),hn())}isEqual(e){return this.batchId===e.batchId&&em(this.mutations,e.mutations,((n,r)=>l8(n,r)))&&em(this.baseMutations,e.baseMutations,((n,r)=>l8(n,r)))}}class aN{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){qt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return Zre})();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new aN(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lie{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xi,Fn;function EW(t){switch(t){case tt.OK:return Rt(64938);case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0;default:return Rt(15467,{code:t})}}function CW(t){if(t===void 0)return ci("GRPC error has no .code"),tt.UNKNOWN;switch(t){case xi.OK:return tt.OK;case xi.CANCELLED:return tt.CANCELLED;case xi.UNKNOWN:return tt.UNKNOWN;case xi.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case xi.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case xi.INTERNAL:return tt.INTERNAL;case xi.UNAVAILABLE:return tt.UNAVAILABLE;case xi.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case xi.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case xi.NOT_FOUND:return tt.NOT_FOUND;case xi.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case xi.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case xi.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case xi.ABORTED:return tt.ABORTED;case xi.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case xi.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case xi.DATA_LOSS:return tt.DATA_LOSS;default:return Rt(39323,{code:t})}}(Fn=xi||(xi={}))[Fn.OK=0]="OK",Fn[Fn.CANCELLED=1]="CANCELLED",Fn[Fn.UNKNOWN=2]="UNKNOWN",Fn[Fn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fn[Fn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fn[Fn.NOT_FOUND=5]="NOT_FOUND",Fn[Fn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fn[Fn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fn[Fn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fn[Fn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fn[Fn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fn[Fn.ABORTED=10]="ABORTED",Fn[Fn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fn[Fn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fn[Fn.INTERNAL=13]="INTERNAL",Fn[Fn.UNAVAILABLE=14]="UNAVAILABLE",Fn[Fn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SW(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cie=new Pu([4294967295,4294967295],0);function d8(t){const e=SW().encode(t),n=new vV;return n.update(e),new Uint8Array(n.digest())}function f8(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Pu([n,r],0),new Pu([i,s],0)]}class lN{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new C0(`Invalid padding: ${n}`);if(r<0)throw new C0(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new C0(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new C0(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Pu.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Pu.fromNumber(r)));return i.compare(cie)===1&&(i=new Pu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=d8(e),[r,i]=f8(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);if(!this.we(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new lN(s,i,n);return r.forEach((o=>a.insert(o))),a}insert(e){if(this.ge===0)return;const n=d8(e),[r,i]=f8(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class C0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,A1.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new D1(Ht.min(),i,new Hr(cn),ha(),hn())}}class A1{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new A1(r,n,hn(),hn(),hn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class DW{constructor(e,n){this.targetId=e,this.Ce=n}}class AW{constructor(e,n,r=Zr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class h8{constructor(){this.ve=0,this.Fe=p8(),this.Me=Zr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=hn(),n=hn(),r=hn();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Rt(38017,{changeType:s})}})),new A1(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=p8()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class uie{constructor(e){this.Ge=e,this.ze=new Map,this.je=ha(),this.Je=wx(),this.He=wx(),this.Ye=new Hr(cn)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Rt(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(lb(s))if(r===0){const a=new Dt(s.path);this.et(n,a,Er.newNoDocument(a,Ht.min()))}else qt(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const o=this.ut(e),l=o?this.ct(o,e,a):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,o;try{a=Nc(r).toUint8Array()}catch(l){if(l instanceof GV)return jl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new lN(a,i,s)}catch(l){return jl(l instanceof C0?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const a=this.Ge.ht(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,a)=>{const o=this.ot(a);if(o){if(s.current&&lb(o.target)){const l=new Dt(o.target.path);this.It(l).has(a)||this.Et(a,l)||this.et(a,l,Er.newNoDocument(l,e))}s.Be&&(n.set(a,s.ke()),s.qe())}}));let r=hn();this.He.forEach(((s,a)=>{let o=!0;a.forEachWhile((l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)})),o&&(r=r.add(s))})),this.je.forEach(((s,a)=>a.setReadTime(e)));const i=new D1(e,n,this.Ye,this.je,r);return this.je=ha(),this.Je=wx(),this.He=wx(),this.Ye=new Hr(cn),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new h8,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new or(cn),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new or(cn),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ft("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new h8),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function wx(){return new Hr(Dt.comparator)}function p8(){return new Hr(Dt.comparator)}const die={asc:"ASCENDING",desc:"DESCENDING"},fie={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hie={and:"AND",or:"OR"};class pie{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function YD(t,e){return t.useProto3Json||_1(e)?e:{value:e}}function dm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function NW(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function mie(t,e){return dm(t,e.toTimestamp())}function ui(t){return qt(!!t,49232),Ht.fromTimestamp((function(n){const r=Ac(n);return new Yn(r.seconds,r.nanos)})(t))}function cN(t,e){return QD(t,e).canonicalString()}function QD(t,e){const n=(function(i){return new Dn(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function kW(t){const e=Dn.fromString(t);return qt(BW(e),10190,{key:e.toString()}),e}function Ny(t,e){return cN(t.databaseId,e.path)}function Ml(t,e){const n=kW(e);if(n.get(1)!==t.databaseId.projectId)throw new at(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new at(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Dt(PW(n))}function IW(t,e){return cN(t.databaseId,e)}function RW(t){const e=kW(t);return e.length===4?Dn.emptyPath():PW(e)}function ZD(t){return new Dn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function PW(t){return qt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function m8(t,e,n){return{name:Ny(t,e),fields:n.value.mapValue.fields}}function FW(t,e,n){const r=Ml(t,e.name),i=ui(e.updateTime),s=e.createTime?ui(e.createTime):Ht.min(),a=new ls({mapValue:{fields:e.fields}}),o=Er.newFoundDocument(r,i,s,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function gie(t,e){return"found"in e?(function(r,i){qt(!!i.found,43571),i.found.name,i.found.updateTime;const s=Ml(r,i.found.name),a=ui(i.found.updateTime),o=i.found.createTime?ui(i.found.createTime):Ht.min(),l=new ls({mapValue:{fields:i.found.fields}});return Er.newFoundDocument(s,a,o,l)})(t,e):"missing"in e?(function(r,i){qt(!!i.missing,3894),qt(!!i.readTime,22933);const s=Ml(r,i.missing),a=ui(i.readTime);return Er.newNoDocument(s,a)})(t,e):Rt(7234,{result:e})}function yie(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Rt(39313,{state:c})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(c,u){return c.useProto3Json?(qt(u===void 0||typeof u=="string",58123),Zr.fromBase64String(u||"")):(qt(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),Zr.fromUint8Array(u||new Uint8Array))})(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&(function(c){const u=c.code===void 0?tt.UNKNOWN:CW(c.code);return new at(u,c.message||"")})(a);n=new AW(r,i,s,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ml(t,r.document.name),s=ui(r.document.updateTime),a=r.document.createTime?ui(r.document.createTime):Ht.min(),o=new ls({mapValue:{fields:r.document.fields}}),l=Er.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new b2(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ml(t,r.document),s=r.readTime?ui(r.readTime):Ht.min(),a=Er.newNoDocument(i,s),o=r.removedTargetIds||[];n=new b2([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ml(t,r.document),s=r.removedTargetIds||[];n=new b2([],s,i,null)}else{if(!("filter"in e))return Rt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new lie(i,s),o=r.targetId;n=new DW(o,a)}}return n}function ky(t,e){let n;if(e instanceof Vm)n={update:m8(t,e.key,e.value)};else if(e instanceof Wm)n={delete:Ny(t,e.key)};else if(e instanceof Lc)n={update:m8(t,e.key,e.data),updateMask:Tie(e.fieldMask)};else{if(!(e instanceof iN))return Rt(16599,{Vt:e.type});n={verify:Ny(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,a){const o=a.transform;if(o instanceof cm)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof If)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Rf)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof um)return{fieldPath:a.field.canonicalString(),increment:o.Ae};throw Rt(20930,{transform:a.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:mie(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Rt(27497)})(t,e.precondition)),n}function eA(t,e){const n=e.currentDocument?(function(s){return s.updateTime!==void 0?Mr.updateTime(ui(s.updateTime)):s.exists!==void 0?Mr.exists(s.exists):Mr.none()})(e.currentDocument):Mr.none(),r=e.updateTransforms?e.updateTransforms.map((i=>(function(a,o){let l=null;if("setToServerValue"in o)qt(o.setToServerValue==="REQUEST_TIME",16630,{proto:o}),l=new cm;else if("appendMissingElements"in o){const u=o.appendMissingElements.values||[];l=new If(u)}else if("removeAllFromArray"in o){const u=o.removeAllFromArray.values||[];l=new Rf(u)}else"increment"in o?l=new um(a,o.increment):Rt(16584,{proto:o});const c=Fr.fromServerFormat(o.fieldPath);return new S1(c,l)})(t,i))):[];if(e.update){e.update.name;const i=Ml(t,e.update.name),s=new ls({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=(function(l){const c=l.fieldPaths||[];return new fa(c.map((u=>Fr.fromServerFormat(u))))})(e.updateMask);return new Lc(i,s,a,n,r)}return new Vm(i,s,n,r)}if(e.delete){const i=Ml(t,e.delete);return new Wm(i,n)}if(e.verify){const i=Ml(t,e.verify);return new iN(i,n)}return Rt(1463,{proto:e})}function vie(t,e){return t&&t.length>0?(qt(e!==void 0,14353),t.map((n=>(function(i,s){let a=i.updateTime?ui(i.updateTime):ui(s);return a.isEqual(Ht.min())&&(a=ui(s)),new sie(a,i.transformResults||[])})(n,e)))):[]}function MW(t,e){return{documents:[IW(t,e.path)]}}function UW(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=IW(t,i);const s=(function(c){if(c.length!==0)return jW(sr.create(c,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const a=(function(c){if(c.length!==0)return c.map((u=>(function(h){return{field:wp(h.field),direction:bie(h.dir)}})(u)))})(e.orderBy);a&&(n.structuredQuery.orderBy=a);const o=YD(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=(function(c){return{before:c.inclusive,values:c.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(c){return{before:!c.inclusive,values:c.position}})(e.endAt)),{ft:n,parent:i}}function OW(t){let e=RW(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){qt(r===1,65062);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=(function(f){const h=LW(f);return h instanceof sr&&eN(h)?h.getFilters():[h]})(n.where));let a=[];n.orderBy&&(a=(function(f){return f.map((h=>(function(v){return new Ay(Tp(v.field),(function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(v.direction))})(h)))})(n.orderBy));let o=null;n.limit&&(o=(function(f){let h;return h=typeof f=="object"?f.value:f,_1(h)?null:h})(n.limit));let l=null;n.startAt&&(l=(function(f){const h=!!f.before,p=f.values||[];return new Ku(p,h)})(n.startAt));let c=null;return n.endAt&&(c=(function(f){const h=!f.before,p=f.values||[];return new Ku(p,h)})(n.endAt)),cW(e,i,a,s,o,"F",l,c)}function xie(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Rt(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function LW(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Tp(n.unaryFilter.field);return Nn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Tp(n.unaryFilter.field);return Nn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Tp(n.unaryFilter.field);return Nn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Tp(n.unaryFilter.field);return Nn.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Rt(61313);default:return Rt(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Nn.create(Tp(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Rt(58110);default:return Rt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return sr.create(n.compositeFilter.filters.map((r=>LW(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Rt(1026)}})(n.compositeFilter.op))})(t):Rt(30097,{filter:t})}function bie(t){return die[t]}function _ie(t){return fie[t]}function wie(t){return hie[t]}function wp(t){return{fieldPath:t.canonicalString()}}function Tp(t){return Fr.fromServerFormat(t.fieldPath)}function jW(t){return t instanceof Nn?(function(n){if(n.op==="=="){if(ZP(n.value))return{unaryFilter:{field:wp(n.field),op:"IS_NAN"}};if(QP(n.value))return{unaryFilter:{field:wp(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ZP(n.value))return{unaryFilter:{field:wp(n.field),op:"IS_NOT_NAN"}};if(QP(n.value))return{unaryFilter:{field:wp(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wp(n.field),op:_ie(n.op),value:n.value}}})(t):t instanceof sr?(function(n){const r=n.getFilters().map((i=>jW(i)));return r.length===1?r[0]:{compositeFilter:{op:wie(n.op),filters:r}}})(t):Rt(54877,{filter:t})}function Tie(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function BW(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,n,r,i,s=Ht.min(),a=Ht.min(),o=Zr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new uc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new uc(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new uc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new uc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VW{constructor(e){this.yt=e}}function Eie(t,e){let n;if(e.document)n=FW(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Dt.fromSegments(e.noDocument.path),i=Ff(e.noDocument.readTime);n=Er.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Rt(56709);{const r=Dt.fromSegments(e.unknownDocument.path),i=Ff(e.unknownDocument.version);n=Er.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime((function(i){const s=new Yn(i[0],i[1]);return Ht.fromTimestamp(s)})(e.readTime)),n}function g8(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:db(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(s,a){return{name:Ny(s,a.key),fields:a.data.value.mapValue.fields,updateTime:dm(s,a.version.toTimestamp()),createTime:dm(s,a.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Pf(e.version)};else{if(!e.isUnknownDocument())return Rt(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:Pf(e.version)}}return r}function db(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Pf(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ff(t){const e=new Yn(t.seconds,t.nanoseconds);return Ht.fromTimestamp(e)}function ef(t,e){const n=(e.baseMutations||[]).map((s=>eA(t.yt,s)));for(let s=0;s<e.mutations.length-1;++s){const a=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const o=e.mutations[s+1];a.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map((s=>eA(t.yt,s))),i=Yn.fromMillis(e.localWriteTimeMs);return new sN(e.batchId,i,n,r)}function S0(t){const e=Ff(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Ff(t.lastLimboFreeSnapshotVersion):Ht.min();let r;return r=(function(s){return s.documents!==void 0})(t.query)?(function(s){const a=s.documents.length;return qt(a===1,1966,{count:a}),Gs(Bm(RW(s.documents[0])))})(t.query):(function(s){return Gs(OW(s))})(t.query),new uc(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Zr.fromBase64String(t.resumeToken))}function WW(t,e){const n=Pf(e.snapshotVersion),r=Pf(e.lastLimboFreeSnapshotVersion);let i;i=lb(e.target)?MW(t.yt,e.target):UW(t.yt,e.target).ft;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:kf(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function uN(t){const e=OW({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ub(e,e.limit,"L"):e}function ZE(t,e){return new oN(e.largestBatchId,eA(t.yt,e.overlayMutation))}function y8(t,e){const n=e.path.lastSegment();return[t,ks(e.path.popLast()),n]}function v8(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Pf(r.readTime),documentKey:ks(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cie{getBundleMetadata(e,n){return x8(e).get(n).next((r=>{if(r)return(function(s){return{id:s.bundleId,createTime:Ff(s.createTime),version:s.version}})(r)}))}saveBundleMetadata(e,n){return x8(e).put((function(i){return{bundleId:i.id,createTime:Pf(ui(i.createTime)),version:i.version}})(n))}getNamedQuery(e,n){return b8(e).get(n).next((r=>{if(r)return(function(s){return{name:s.name,query:uN(s.bundledQuery),readTime:Ff(s.readTime)}})(r)}))}saveNamedQuery(e,n){return b8(e).put((function(i){return{name:i.name,readTime:Pf(ui(i.readTime)),bundledQuery:i.bundledQuery}})(n))}}function x8(t){return Mi(t,T_)}function b8(t){return Mi(t,E_)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new I_(e,r)}getOverlay(e,n){return Hg(e).get(y8(this.userId,n)).next((r=>r?ZE(this.serializer,r):null))}getOverlays(e,n){const r=Nl();return ze.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){const i=[];return r.forEach(((s,a)=>{const o=new oN(n,a);i.push(this.St(e,o))})),ze.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach((a=>i.add(ks(a.getCollectionPath()))));const s=[];return i.forEach((a=>{const o=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,r+1],!1,!0);s.push(Hg(e).Z(VD,o))})),ze.waitFor(s)}getOverlaysForCollection(e,n,r){const i=Nl(),s=ks(n),a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Hg(e).J(VD,a).next((o=>{for(const l of o){const c=ZE(this.serializer,l);i.set(c.getKey(),c)}return i}))}getOverlaysForCollectionGroup(e,n,r,i){const s=Nl();let a;const o=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Hg(e).ee({index:VV,range:o},((l,c,u)=>{const f=ZE(this.serializer,c);s.size()<i||f.largestBatchId===a?(s.set(f.getKey(),f),a=f.largestBatchId):u.done()})).next((()=>s))}St(e,n){return Hg(e).put((function(i,s,a){const[o,l,c]=y8(s,a.mutation.key);return{userId:s,collectionPath:l,documentId:c,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:ky(i.yt,a.mutation)}})(this.serializer,this.userId,n))}}function Hg(t){return Mi(t,C_)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sie{bt(e){return Mi(e,X3)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n==null?void 0:n.value;return r?Zr.fromUint8Array(r):Zr.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(Rr(e.integerValue));else if("doubleValue"in e){const r=Rr(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),_y(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=Ac(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(Nc(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?ZV(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):A_(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):Rt(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){var a,o;const r=e.fields||{};this.Ft(n,53);const i=am,s=((o=(a=r[i].arrayValue)==null?void 0:a.values)==null?void 0:o.length)||0;this.Ft(n,15),n.Mt(Rr(s)),this.Ot(i,n),this.Ct(r[i],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),Dt.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}tf.Kt=new tf;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip=255;function Die(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function _8(t){const e=64-(function(r){let i=0;for(let s=0;s<8;++s){const a=Die(255&r[s]);if(i+=a,a!==8)break}return i})(t);return Math.ceil(e/8)}class Aie{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=n.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=n.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Ht()}Xt(e){const n=this.en(e),r=_8(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}nn(e){const n=this.en(e),r=_8(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}rn(){this.sn(ip),this.sn(255)}_n(){this.an(ip),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(s){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,s,!1),new Uint8Array(a.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===ip?(this.sn(ip),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===ip?(this.an(ip),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Nie{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class kie{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Gg{constructor(){this.cn=new Aie,this.ln=new Nie(this.cn),this.hn=new kie(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n,r,i){this.Tn=e,this.In=n,this.En=r,this.dn=i}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new nf(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:_2(this.En),directionalValue:_2(this.dn),orderedDocumentKey:_2(n),documentKey:r.path.toArray()}}Vn(e,n,r){const i=this.Rn(e,n,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function pu(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=w8(t.En,e.En),n!==0?n:(n=w8(t.dn,e.dn),n!==0?n:Dt.comparator(t.In,e.In)))}function w8(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function _2(t){return rV()?(function(n){let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r})(t):t}function T8(t){return typeof t!="string"?t:(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(t)}class E8{constructor(e){this.mn=new or(((n,r)=>Fr.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(qt(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=LD(e);if(n!==void 0&&!this.wn(n))return!1;const r=Jd(e);let i=new Set,s=0,a=0;for(;s<r.length&&this.wn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.mn.size>0){const o=this.mn.getIterator().getNext();if(!i.has(o.field.canonicalString())){const l=r[s];if(!this.Sn(o,l)||!this.bn(this.fn[a++],l))return!1}++s}for(;s<r.length;++s){const o=r[s];if(a>=this.fn.length||!this.bn(this.fn[a++],o))return!1}return!0}Dn(){if(this.pn)return null;let e=new or(Fr.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new h2(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new h2(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new h2(r.field,r.dir==="asc"?0:1)));return new ib(ib.UNKNOWN_ID,this.collectionId,n,by.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qW(t){var n,r;if(qt(t instanceof Nn||t instanceof sr,20012),t instanceof Nn){if(t instanceof lW){const i=((r=(n=t.value.arrayValue)==null?void 0:n.values)==null?void 0:r.map((s=>Nn.create(t.field,"==",s))))||[];return sr.create(i,"or")}return t}const e=t.filters.map((i=>qW(i)));return sr.create(e,t.op)}function Iie(t){if(t.getFilters().length===0)return[];const e=rA(qW(t));return qt($W(e),7391),tA(e)||nA(e)?[e]:e.getFilters()}function tA(t){return t instanceof Nn}function nA(t){return t instanceof sr&&eN(t)}function $W(t){return tA(t)||nA(t)||(function(n){if(n instanceof sr&&GD(n)){for(const r of n.getFilters())if(!tA(r)&&!nA(r))return!1;return!0}return!1})(t)}function rA(t){if(qt(t instanceof Nn||t instanceof sr,34018),t instanceof Nn)return t;if(t.filters.length===1)return rA(t.filters[0]);const e=t.filters.map((r=>rA(r)));let n=sr.create(e,t.op);return n=fb(n),$W(n)?n:(qt(n instanceof sr,64498),qt(lm(n),40251),qt(n.filters.length>1,57927),n.filters.reduce(((r,i)=>dN(r,i))))}function dN(t,e){let n;return qt(t instanceof Nn||t instanceof sr,38388),qt(e instanceof Nn||e instanceof sr,25473),n=t instanceof Nn?e instanceof Nn?(function(i,s){return sr.create([i,s],"and")})(t,e):C8(t,e):e instanceof Nn?C8(e,t):(function(i,s){if(qt(i.filters.length>0&&s.filters.length>0,48005),lm(i)&&lm(s))return sW(i,s.getFilters());const a=GD(i)?i:s,o=GD(i)?s:i,l=a.filters.map((c=>dN(c,o)));return sr.create(l,"or")})(t,e),fb(n)}function C8(t,e){if(lm(e))return sW(e,t.getFilters());{const n=e.filters.map((r=>dN(t,r)));return sr.create(n,"or")}}function fb(t){if(qt(t instanceof Nn||t instanceof sr,11850),t instanceof Nn)return t;const e=t.getFilters();if(e.length===1)return fb(e[0]);if(rW(t))return t;const n=e.map((i=>fb(i))),r=[];return n.forEach((i=>{i instanceof Nn?r.push(i):i instanceof sr&&(i.op===t.op?r.push(...i.filters):r.push(i))})),r.length===1?r[0]:sr.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rie{constructor(){this.Cn=new fN}addToCollectionParentIndex(e,n){return this.Cn.add(n),ze.resolve()}getCollectionParents(e,n){return ze.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ze.resolve()}deleteFieldIndex(e,n){return ze.resolve()}deleteAllFieldIndexes(e){return ze.resolve()}createTargetIndexes(e,n){return ze.resolve()}getDocumentsMatchingTarget(e,n){return ze.resolve(null)}getIndexType(e,n){return ze.resolve(0)}getFieldIndexes(e,n){return ze.resolve([])}getNextCollectionGroupToUpdate(e){return ze.resolve(null)}getMinOffset(e,n){return ze.resolve(Va.min())}getMinOffsetFromCollectionGroup(e,n){return ze.resolve(Va.min())}updateCollectionGroup(e,n,r){return ze.resolve()}updateIndexEntries(e,n){return ze.resolve()}}class fN{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new or(Dn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new or(Dn.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S8="IndexedDbIndexManager",Tx=new Uint8Array(0);class Pie{constructor(e,n){this.databaseId=n,this.vn=new fN,this.Fn=new Oc((r=>kf(r)),((r,i)=>T1(r,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const s={collectionId:r,parent:ks(i)};return D8(e).put(s)}return ze.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[SV(n),""],!1,!0);return D8(e).J(i).next((s=>{for(const a of s){if(a.collectionId!==n)break;r.push(Al(a.parent))}return r}))}addFieldIndex(e,n){const r=Kg(e),i=(function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map((l=>[l.fieldPath.canonicalString(),l.kind]))}})(n);delete i.indexId;const s=r.add(i);if(n.indexState){const a=ap(e);return s.next((o=>{a.put(v8(o,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return s.next()}deleteFieldIndex(e,n){const r=Kg(e),i=ap(e),s=sp(e);return r.delete(n.indexId).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=Kg(e),r=sp(e),i=ap(e);return n.Z().next((()=>r.Z())).next((()=>i.Z()))}createTargetIndexes(e,n){return ze.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((i=>{if(i===0||i===1){const s=new E8(r).Dn();if(s!=null)return this.addFieldIndex(e,s)}}))))}getDocumentsMatchingTarget(e,n){const r=sp(e);let i=!0;const s=new Map;return ze.forEach(this.Mn(n),(a=>this.xn(e,a).next((o=>{i&&(i=!!o),s.set(a,o)})))).next((()=>{if(i){let a=hn();const o=[];return ze.forEach(s,((l,c)=>{ft(S8,`Using index ${(function(w){return`id=${w.indexId}|cg=${w.collectionGroup}|f=${w.fields.map((C=>`${C.fieldPath}:${C.kind}`)).join(",")}`})(l)} to execute ${kf(n)}`);const u=(function(w,C){const S=LD(C);if(S===void 0)return null;for(const R of cb(w,S.fieldPath))switch(R.op){case"array-contains-any":return R.value.arrayValue.values||[];case"array-contains":return[R.value]}return null})(c,l),f=(function(w,C){const S=new Map;for(const R of Jd(C))for(const D of cb(w,R.fieldPath))switch(D.op){case"==":case"in":S.set(R.fieldPath.canonicalString(),D.value);break;case"not-in":case"!=":return S.set(R.fieldPath.canonicalString(),D.value),Array.from(S.values())}return null})(c,l),h=(function(w,C){const S=[];let R=!0;for(const D of Jd(C)){const N=D.kind===0?i8(w,D.fieldPath,w.startAt):s8(w,D.fieldPath,w.startAt);S.push(N.value),R&&(R=N.inclusive)}return new Ku(S,R)})(c,l),p=(function(w,C){const S=[];let R=!0;for(const D of Jd(C)){const N=D.kind===0?s8(w,D.fieldPath,w.endAt):i8(w,D.fieldPath,w.endAt);S.push(N.value),R&&(R=N.inclusive)}return new Ku(S,R)})(c,l),v=this.On(l,c,h),g=this.On(l,c,p),y=this.Nn(l,c,f),_=this.Bn(l.indexId,u,v,h.inclusive,g,p.inclusive,y);return ze.forEach(_,(x=>r.Y(x,n.limit).next((w=>{w.forEach((C=>{const S=Dt.fromSegments(C.documentKey);a.has(S)||(a=a.add(S),o.push(S))}))}))))})).next((()=>o))}return ze.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=Iie(sr.create(e.filters,"and")).map((r=>JD(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,i,s,a,o){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),c=l/(n!=null?n.length:1),u=[];for(let f=0;f<l;++f){const h=n?this.Ln(n[f/c]):Tx,p=this.kn(e,h,r[f%c],i),v=this.qn(e,h,s[f%c],a),g=o.map((y=>this.kn(e,h,y,!0)));u.push(...this.createRange(p,v,g))}return u}kn(e,n,r,i){const s=new nf(e,Dt.empty(),n,r);return i?s:s.An()}qn(e,n,r,i){const s=new nf(e,Dt.empty(),n,r);return i?s.An():s}xn(e,n){const r=new E8(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next((s=>{let a=null;for(const o of s)r.yn(o)&&(!a||o.fields.length>a.fields.length)&&(a=o);return a}))}getIndexType(e,n){let r=2;const i=this.Mn(n);return ze.forEach(i,(s=>this.xn(e,s).next((a=>{a?r!==0&&a.fields.length<(function(l){let c=new or(Fr.comparator),u=!1;for(const f of l.filters)for(const h of f.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?u=!0:c=c.add(h.field));for(const f of l.orderBy)f.field.isKeyField()||(c=c.add(f.field));return c.size+(u?1:0)})(s)&&(r=1):r=0})))).next((()=>(function(a){return a.limit!==null})(n)&&i.length>1&&r===2?1:r))}Qn(e,n){const r=new Gg;for(const i of Jd(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const a=r.Pn(i.kind);tf.Kt.Dt(s,a)}return r.un()}Ln(e){const n=new Gg;return tf.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new Gg;return tf.Kt.Dt(Nf(this.databaseId,n),r.Pn((function(s){const a=Jd(s);return a.length===0?0:a[a.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let i=[];i.push(new Gg);let s=0;for(const a of Jd(e)){const o=r[s++];for(const l of i)if(this.Un(n,a.fieldPath)&&Dy(o))i=this.Kn(i,a,o);else{const c=l.Pn(a.kind);tf.Kt.Dt(o,c)}}return this.Wn(i)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const i=[...e],s=[];for(const a of r.arrayValue.values||[])for(const o of i){const l=new Gg;l.seed(o.un()),tf.Kt.Dt(a,l.Pn(n.kind)),s.push(l)}return s}Un(e,n){return!!e.filters.find((r=>r instanceof Nn&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=Kg(e),i=ap(e);return(n?r.J(BD,IDBKeyRange.bound(n,n)):r.J()).next((s=>{const a=[];return ze.forEach(s,(o=>i.get([o.indexId,this.uid]).next((l=>{a.push((function(u,f){const h=f?new by(f.sequenceNumber,new Va(Ff(f.readTime),new Dt(Al(f.documentKey)),f.largestBatchId)):by.empty(),p=u.fields.map((([v,g])=>new h2(Fr.fromServerFormat(v),g)));return new ib(u.indexId,u.collectionGroup,p,h)})(o,l))})))).next((()=>a))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:cn(r.collectionGroup,i.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const i=Kg(e),s=ap(e);return this.Gn(e).next((a=>i.J(BD,IDBKeyRange.bound(n,n)).next((o=>ze.forEach(o,(l=>s.put(v8(l.indexId,this.uid,a,r))))))))}updateIndexEntries(e,n){const r=new Map;return ze.forEach(n,((i,s)=>{const a=r.get(i.collectionGroup);return(a?ze.resolve(a):this.getFieldIndexes(e,i.collectionGroup)).next((o=>(r.set(i.collectionGroup,o),ze.forEach(o,(l=>this.zn(e,i,l).next((c=>{const u=this.jn(s,l);return c.isEqual(u)?ze.resolve():this.Jn(e,s,l,c,u)})))))))}))}Hn(e,n,r,i){return sp(e).put(i.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,i){return sp(e).delete(i.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const i=sp(e);let s=new or(pu);return i.ee({index:BV,range:IDBKeyRange.only([r.indexId,this.uid,_2(this.$n(r,n))])},((a,o)=>{s=s.add(new nf(r.indexId,n,T8(o.arrayValue),T8(o.directionalValue)))})).next((()=>s))}jn(e,n){let r=new or(pu);const i=this.Qn(n,e);if(i==null)return r;const s=LD(n);if(s!=null){const a=e.data.field(s.fieldPath);if(Dy(a))for(const o of a.arrayValue.values||[])r=r.add(new nf(n.indexId,e.key,this.Ln(o),i))}else r=r.add(new nf(n.indexId,e.key,Tx,i));return r}Jn(e,n,r,i,s){ft(S8,"Updating index entries for document '%s'",n.key);const a=[];return(function(l,c,u,f,h){const p=l.getIterator(),v=c.getIterator();let g=rp(p),y=rp(v);for(;g||y;){let _=!1,x=!1;if(g&&y){const w=u(g,y);w<0?x=!0:w>0&&(_=!0)}else g!=null?x=!0:_=!0;_?(f(y),y=rp(v)):x?(h(g),g=rp(p)):(g=rp(p),y=rp(v))}})(i,s,pu,(o=>{a.push(this.Hn(e,n,r,o))}),(o=>{a.push(this.Yn(e,n,r,o))})),ze.waitFor(a)}Gn(e){let n=1;return ap(e).ee({index:jV,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,i,s)=>{s.done(),n=i.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((a,o)=>pu(a,o))).filter(((a,o,l)=>!o||pu(a,l[o-1])!==0));const i=[];i.push(e);for(const a of r){const o=pu(a,e),l=pu(a,n);if(o===0)i[0]=e.An();else if(o>0&&l<0)i.push(a),i.push(a.An());else if(l>0)break}i.push(n);const s=[];for(let a=0;a<i.length;a+=2){if(this.Zn(i[a],i[a+1]))return[];const o=i[a].Vn(this.uid,Tx,Dt.empty()),l=i[a+1].Vn(this.uid,Tx,Dt.empty());s.push(IDBKeyRange.bound(o,l))}return s}Zn(e,n){return pu(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(A8)}getMinOffset(e,n){return ze.mapArray(this.Mn(n),(r=>this.xn(e,r).next((i=>i||Rt(44426))))).next(A8)}}function D8(t){return Mi(t,Ey)}function sp(t){return Mi(t,L0)}function Kg(t){return Mi(t,J3)}function ap(t){return Mi(t,O0)}function A8(t){qt(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;H3(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Va(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N8={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zW=41943040;class _s{static withCacheSize(e){return new _s(e,_s.DEFAULT_COLLECTION_PERCENTILE,_s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HW(t,e,n){const r=t.store(qo),i=t.store(nm),s=[],a=IDBKeyRange.only(n.batchId);let o=0;const l=r.ee({range:a},((u,f,h)=>(o++,h.delete())));s.push(l.next((()=>{qt(o===1,47070,{batchId:n.batchId})})));const c=[];for(const u of n.mutations){const f=UV(e,u.key.path,n.batchId);s.push(i.delete(f)),c.push(u.key)}return ze.waitFor(s).next((()=>c))}function hb(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Rt(14731);e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_s.DEFAULT_COLLECTION_PERCENTILE=10,_s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_s.DEFAULT=new _s(zW,_s.DEFAULT_COLLECTION_PERCENTILE,_s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_s.DISABLED=new _s(-1,0,0);class R_{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Xn={}}static wt(e,n,r,i){qt(e.uid!=="",64387);const s=e.isAuthenticated()?e.uid:"";return new R_(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return mu(e).ee({index:af,range:r},((i,s,a)=>{n=!1,a.done()})).next((()=>n))}addMutationBatch(e,n,r,i){const s=Ep(e),a=mu(e);return a.add({}).next((o=>{qt(typeof o=="number",49019);const l=new sN(o,n,r,i),c=(function(p,v,g){const y=g.baseMutations.map((x=>ky(p.yt,x))),_=g.mutations.map((x=>ky(p.yt,x)));return{userId:v,batchId:g.batchId,localWriteTimeMs:g.localWriteTime.toMillis(),baseMutations:y,mutations:_}})(this.serializer,this.userId,l),u=[];let f=new or(((h,p)=>cn(h.canonicalString(),p.canonicalString())));for(const h of i){const p=UV(this.userId,h.key.path,o);f=f.add(h.key.path.popLast()),u.push(a.put(c)),u.push(s.put(p,hre))}return f.forEach((h=>{u.push(this.indexManager.addToCollectionParentIndex(e,h))})),e.addOnCommittedListener((()=>{this.Xn[o]=l.keys()})),ze.waitFor(u).next((()=>l))}))}lookupMutationBatch(e,n){return mu(e).get(n).next((r=>r?(qt(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),ef(this.serializer,r)):null))}er(e,n){return this.Xn[n]?ze.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const i=r.keys();return this.Xn[n]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return mu(e).ee({index:af,range:i},((a,o,l)=>{o.userId===this.userId&&(qt(o.batchId>=r,47524,{tr:r}),s=ef(this.serializer,o)),l.done()})).next((()=>s))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Fu;return mu(e).ee({index:af,range:n,reverse:!0},((i,s,a)=>{r=s.batchId,a.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,Fu],[this.userId,Number.POSITIVE_INFINITY]);return mu(e).J(af,n).next((r=>r.map((i=>ef(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=p2(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Ep(e).ee({range:i},((a,o,l)=>{const[c,u,f]=a,h=Al(u);if(c===this.userId&&n.path.isEqual(h))return mu(e).get(f).next((p=>{if(!p)throw Rt(61480,{nr:a,batchId:f});qt(p.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:p.userId,batchId:f}),s.push(ef(this.serializer,p))}));l.done()})).next((()=>s))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new or(cn);const i=[];return n.forEach((s=>{const a=p2(this.userId,s.path),o=IDBKeyRange.lowerBound(a),l=Ep(e).ee({range:o},((c,u,f)=>{const[h,p,v]=c,g=Al(p);h===this.userId&&s.path.isEqual(g)?r=r.add(v):f.done()}));i.push(l)})),ze.waitFor(i).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=p2(this.userId,r),a=IDBKeyRange.lowerBound(s);let o=new or(cn);return Ep(e).ee({range:a},((l,c,u)=>{const[f,h,p]=l,v=Al(h);f===this.userId&&r.isPrefixOf(v)?v.length===i&&(o=o.add(p)):u.done()})).next((()=>this.rr(e,o)))}rr(e,n){const r=[],i=[];return n.forEach((s=>{i.push(mu(e).get(s).next((a=>{if(a===null)throw Rt(35274,{batchId:s});qt(a.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:a.userId,batchId:s}),r.push(ef(this.serializer,a))})))})),ze.waitFor(i).next((()=>r))}removeMutationBatch(e,n){return HW(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),ze.forEach(r,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return ze.resolve();const r=IDBKeyRange.lowerBound((function(a){return[a]})(this.userId)),i=[];return Ep(e).ee({range:r},((s,a,o)=>{if(s[0]===this.userId){const l=Al(s[1]);i.push(l)}else o.done()})).next((()=>{qt(i.length===0,56720,{sr:i.map((s=>s.canonicalString()))})}))}))}containsKey(e,n){return GW(e,this.userId,n)}_r(e){return KW(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:Fu,lastStreamToken:""}))}}function GW(t,e,n){const r=p2(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let a=!1;return Ep(t).ee({range:s,X:!0},((o,l,c)=>{const[u,f,h]=o;u===e&&f===i&&(a=!0),c.done()})).next((()=>a))}function mu(t){return Mi(t,qo)}function Ep(t){return Mi(t,nm)}function KW(t){return Mi(t,wy)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Mf(0)}static cr(){return new Mf(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fie{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new Mf(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>Ht.fromTimestamp(new Yn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.hr(e,i))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>op(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(qt(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let i=0;const s=[];return op(e).ee(((a,o)=>{const l=S0(o);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))})).next((()=>ze.waitFor(s))).next((()=>i))}forEachTarget(e,n){return op(e).ee(((r,i)=>{const s=S0(i);n(s)}))}lr(e){return k8(e).get(ob).next((n=>(qt(n!==null,2888),n)))}hr(e,n){return k8(e).put(ob,n)}Pr(e,n){return op(e).put(WW(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=kf(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return op(e).ee({range:i,index:LV},((a,o,l)=>{const c=S0(o);T1(n,c.target)&&(s=c,l.done())})).next((()=>s))}addMatchingKeys(e,n,r){const i=[],s=_u(e);return n.forEach((a=>{const o=ks(a.path);i.push(s.put({targetId:r,path:o})),i.push(this.referenceDelegate.addReference(e,r,a))})),ze.waitFor(i)}removeMatchingKeys(e,n,r){const i=_u(e);return ze.forEach(n,(s=>{const a=ks(s.path);return ze.waitFor([i.delete([r,a]),this.referenceDelegate.removeReference(e,r,s)])}))}removeMatchingKeysForTargetId(e,n){const r=_u(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=_u(e);let s=hn();return i.ee({range:r,X:!0},((a,o,l)=>{const c=Al(a[1]),u=new Dt(c);s=s.add(u)})).next((()=>s))}containsKey(e,n){const r=ks(n.path),i=IDBKeyRange.bound([r],[SV(r)],!1,!0);let s=0;return _u(e).ee({index:K3,X:!0,range:i},(([a,o],l,c)=>{a!==0&&(s++,c.done())})).next((()=>s>0))}At(e,n){return op(e).get(n).next((r=>r?S0(r):null))}}function op(t){return Mi(t,rm)}function k8(t){return Mi(t,yf)}function _u(t){return Mi(t,im)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I8="LruGarbageCollector",Mie=1048576;function R8([t,e],[n,r]){const i=cn(t,n);return i===0?cn(e,r):i}class Uie{constructor(e){this.Ir=e,this.buffer=new or(R8),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();R8(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class JW{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ft(I8,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){dd(n)?ft(I8,"Ignoring IndexedDB error during garbage collection: ",n):await ud(n)}await this.Vr(3e5)}))}}class Oie{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ze.resolve(da.ce);const r=new Uie(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ft("LruGarbageCollector","Garbage collection skipped; disabled"),ze.resolve(N8)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),N8):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,a,o,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((f=>(f>this.params.maximumSequenceNumbersToCollect?(ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,a=Date.now(),this.nthSequenceNumber(e,i)))).next((f=>(r=f,o=Date.now(),this.removeTargets(e,r,n)))).next((f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,r)))).next((f=>(c=Date.now(),bp()<=En.DEBUG&&ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-u}ms
	Determined least recently used ${i} in `+(o-a)+`ms
	Removed ${s} targets in `+(l-o)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),ze.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f}))))}}function XW(t,e){return new Oie(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lie{constructor(e,n){this.db=e,this.garbageCollector=XW(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,i)=>n(i)))}addReference(e,n,r){return Ex(e,r)}removeReference(e,n,r){return Ex(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Ex(e,n)}br(e,n){return(function(i,s){let a=!1;return KW(i).te((o=>GW(i,o,s).next((l=>(l&&(a=!0),ze.resolve(!l)))))).next((()=>a))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Sr(e,((a,o)=>{if(o<=n){const l=this.br(e,a).next((c=>{if(!c)return s++,r.getEntry(e,a).next((()=>(r.removeEntry(a,Ht.min()),_u(e).delete((function(f){return[0,ks(f.path)]})(a)))))}));i.push(l)}})).next((()=>ze.waitFor(i))).next((()=>r.apply(e))).next((()=>s))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Ex(e,n)}Sr(e,n){const r=_u(e);let i,s=da.ce;return r.ee({index:K3},(([a,o],{path:l,sequenceNumber:c})=>{a===0?(s!==da.ce&&n(new Dt(Al(i)),s),s=c,i=l):s=da.ce})).next((()=>{s!==da.ce&&n(new Dt(Al(i)),s)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ex(t,e){return _u(t).put((function(r,i){return{targetId:0,path:ks(r.path),sequenceNumber:i}})(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YW{constructor(){this.changes=new Oc((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Er.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ze.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jie{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Wd(e).put(r)}removeEntry(e,n,r){return Wd(e).delete((function(s,a){const o=s.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],db(a),o[o.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=Er.newInvalidDocument(n);return Wd(e).ee({index:m2,range:IDBKeyRange.only(Jg(n))},((i,s)=>{r=this.Cr(n,s)})).next((()=>r))}vr(e,n){let r={size:0,document:Er.newInvalidDocument(n)};return Wd(e).ee({index:m2,range:IDBKeyRange.only(Jg(n))},((i,s)=>{r={document:this.Cr(n,s),size:hb(s)}})).next((()=>r))}getEntries(e,n){let r=ha();return this.Fr(e,n,((i,s)=>{const a=this.Cr(i,s);r=r.insert(i,a)})).next((()=>r))}Mr(e,n){let r=ha(),i=new Hr(Dt.comparator);return this.Fr(e,n,((s,a)=>{const o=this.Cr(s,a);r=r.insert(s,o),i=i.insert(s,hb(a))})).next((()=>({documents:r,Or:i})))}Fr(e,n,r){if(n.isEmpty())return ze.resolve();let i=new or(M8);n.forEach((l=>i=i.add(l)));const s=IDBKeyRange.bound(Jg(i.first()),Jg(i.last())),a=i.getIterator();let o=a.getNext();return Wd(e).ee({index:m2,range:s},((l,c,u)=>{const f=Dt.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;o&&M8(o,f)<0;)r(o,null),o=a.getNext();o&&o.isEqual(f)&&(r(o,c),o=a.hasNext()?a.getNext():null),o?u.j(Jg(o)):u.done()})).next((()=>{for(;o;)r(o,null),o=a.hasNext()?a.getNext():null}))}getDocumentsMatchingQuery(e,n,r,i,s){const a=n.path,o=[a.popLast().toArray(),a.lastSegment(),db(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Wd(e).J(IDBKeyRange.bound(o,l,!0)).next((c=>{s==null||s.incrementDocumentReadCount(c.length);let u=ha();for(const f of c){const h=this.Cr(Dt.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);h.isFoundDocument()&&(C1(n,h)||i.has(h.key))&&(u=u.insert(h.key,h))}return u}))}getAllFromCollectionGroup(e,n,r,i){let s=ha();const a=F8(n,r),o=F8(n,Va.max());return Wd(e).ee({index:OV,range:IDBKeyRange.bound(a,o,!0)},((l,c,u)=>{const f=this.Cr(Dt.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(f.key,f),s.size===i&&u.done()})).next((()=>s))}newChangeBuffer(e){return new Bie(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return P8(e).get(jD).next((n=>(qt(!!n,20021),n)))}Dr(e,n){return P8(e).put(jD,n)}Cr(e,n){if(n){const r=Eie(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Ht.min())))return r}return Er.newInvalidDocument(e)}}function QW(t){return new jie(t)}class Bie extends YW{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new Oc((r=>r.toString()),((r,i)=>r.isEqual(i)))}applyChanges(e){const n=[];let r=0,i=new or(((s,a)=>cn(s.canonicalString(),a.canonicalString())));return this.changes.forEach(((s,a)=>{const o=this.Br.get(s);if(n.push(this.Nr.removeEntry(e,s,o.readTime)),a.isValidDocument()){const l=g8(this.Nr.serializer,a);i=i.add(s.path.popLast());const c=hb(l);r+=c-o.size,n.push(this.Nr.addEntry(e,s,l))}else if(r-=o.size,this.trackRemovals){const l=g8(this.Nr.serializer,a.convertToNoDocument(Ht.min()));n.push(this.Nr.addEntry(e,s,l))}})),i.forEach((s=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,s))})),n.push(this.Nr.updateMetadata(e,r)),ze.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:i})=>(i.forEach(((s,a)=>{this.Br.set(s,{size:a,readTime:r.get(s).readTime})})),r)))}}function P8(t){return Mi(t,Ty)}function Wd(t){return Mi(t,ab)}function Jg(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function F8(t,e){const n=e.documentKey.path.toArray();return[t,db(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function M8(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=cn(n[s],r[s]),i)return i;return i=cn(n.length,r.length),i||(i=cn(n[n.length-2],r[r.length-2]),i||cn(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vie{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZW{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&V0(r.mutation,i,fa.empty(),Yn.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,hn()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=hn()){const i=Nl();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let a=E0();return s.forEach(((o,l)=>{a=a.insert(o,l.overlayedDocument)})),a}))))}getOverlayedDocuments(e,n){const r=Nl();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,hn())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((a,o)=>{n.set(a,o)}))}))}computeViews(e,n,r,i){let s=ha();const a=B0(),o=(function(){return B0()})();return n.forEach(((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Lc)?s=s.insert(c.key,c):u!==void 0?(a.set(c.key,u.mutation.getFieldMask()),V0(u.mutation,c,u.mutation.getFieldMask(),Yn.now())):a.set(c.key,fa.empty())})),this.recalculateAndSaveOverlays(e,s).next((l=>(l.forEach(((c,u)=>a.set(c,u))),n.forEach(((c,u)=>o.set(c,new Vie(u,a.get(c)??null)))),o)))}recalculateAndSaveOverlays(e,n){const r=B0();let i=new Hr(((a,o)=>a-o)),s=hn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((a=>{for(const o of a)o.keys().forEach((l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||fa.empty();u=o.applyToLocalView(c,u),r.set(l,u);const f=(i.get(o.batchId)||hn()).add(l);i=i.insert(o.batchId,f)}))})).next((()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,f=mW();u.forEach((h=>{if(!s.has(h)){const p=wW(n.get(h),r.get(h));p!==null&&f.set(h,p),s=s.add(h)}})),a.push(this.documentOverlayCache.saveOverlays(e,c,f))}return ze.waitFor(a)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(a){return Dt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):tN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ze.resolve(Nl());let o=tm,l=s;return a.next((c=>ze.forEach(c,((u,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),s.get(u)?ze.resolve():this.remoteDocumentCache.getEntry(e,u).next((h=>{l=l.insert(u,h)}))))).next((()=>this.populateOverlays(e,c,s))).next((()=>this.computeViews(e,l,c,hn()))).next((u=>({batchId:o,changes:pW(u)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Dt(n)).next((r=>{let i=E0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=E0();return this.indexManager.getCollectionParents(e,s).next((o=>ze.forEach(o,(l=>{const c=(function(f,h){return new Uc(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)})(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next((u=>{u.forEach(((f,h)=>{a=a.insert(f,h)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((a=>{s.forEach(((l,c)=>{const u=c.getKey();a.get(u)===null&&(a=a.insert(u,Er.newInvalidDocument(u)))}));let o=E0();return a.forEach(((l,c)=>{const u=s.get(l);u!==void 0&&V0(u.mutation,c,fa.empty(),Yn.now()),C1(n,c)&&(o=o.insert(l,c))})),o}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wie{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ze.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:ui(i.createTime)}})(n)),ze.resolve()}getNamedQuery(e,n){return ze.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:uN(i.bundledQuery),readTime:ui(i.readTime)}})(n)),ze.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qie{constructor(){this.overlays=new Hr(Dt.comparator),this.qr=new Map}getOverlay(e,n){return ze.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Nl();return ze.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.St(e,n,s)})),ze.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),ze.resolve()}getOverlaysForCollection(e,n,r){const i=Nl(),s=n.length+1,a=new Dt(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ze.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Hr(((c,u)=>c-u));const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=Nl(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=Nl(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach(((c,u)=>o.set(c,u))),!(o.size()>=i)););return ze.resolve(o)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new oN(n,r));let s=this.qr.get(n);s===void 0&&(s=hn(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ie{constructor(){this.sessionToken=Zr.EMPTY_BYTE_STRING}getSessionToken(e){return ze.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ze.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(){this.Qr=new or(qi.$r),this.Ur=new or(qi.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new qi(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new qi(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Dt(new Dn([])),r=new qi(n,e),i=new qi(n,e+1),s=[];return this.Ur.forEachInRange([r,i],(a=>{this.Gr(a),s.push(a.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Dt(new Dn([])),r=new qi(n,e),i=new qi(n,e+1);let s=hn();return this.Ur.forEachInRange([r,i],(a=>{s=s.add(a.key)})),s}containsKey(e){const n=new qi(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class qi{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Dt.comparator(e.key,n.key)||cn(e.Yr,n.Yr)}static Kr(e,n){return cn(e.Yr,n.Yr)||Dt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zie{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new or(qi.$r)}checkEmpty(e){return ze.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new sN(s,n,r,i);this.mutationQueue.push(a);for(const o of i)this.Zr=this.Zr.add(new qi(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return ze.resolve(a)}lookupMutationBatch(e,n){return ze.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return ze.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ze.resolve(this.mutationQueue.length===0?Fu:this.tr-1)}getAllMutationBatches(e){return ze.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new qi(n,0),i=new qi(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(a=>{const o=this.Xr(a.Yr);s.push(o)})),ze.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new or(cn);return n.forEach((i=>{const s=new qi(i,0),a=new qi(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,a],(o=>{r=r.add(o.Yr)}))})),ze.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Dt.isDocumentKey(s)||(s=s.child(""));const a=new qi(new Dt(s),0);let o=new or(cn);return this.Zr.forEachWhile((l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(o=o.add(l.Yr)),!0)}),a),ze.resolve(this.ti(o))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){qt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ze.forEach(n.mutations,(i=>{const s=new qi(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new qi(n,0),i=this.Zr.firstAfterOrEqual(r);return ze.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ze.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hie{constructor(e){this.ri=e,this.docs=(function(){return new Hr(Dt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ze.resolve(r?r.document.mutableCopy():Er.newInvalidDocument(n))}getEntries(e,n){let r=ha();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Er.newInvalidDocument(i))})),ze.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ha();const a=n.path,o=new Dt(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||H3(IV(u),r)<=0||(i.has(u.key)||C1(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return ze.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Rt(9500)}ii(e,n){return ze.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new Gie(this)}getSize(e){return ze.resolve(this.size)}}class Gie extends YW{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),ze.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kie{constructor(e){this.persistence=e,this.si=new Oc((n=>kf(n)),T1),this.lastRemoteSnapshotVersion=Ht.min(),this.highestTargetId=0,this.oi=0,this._i=new hN,this.targetCount=0,this.ai=Mf.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),ze.resolve()}getLastRemoteSnapshotVersion(e){return ze.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ze.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ze.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ze.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Mf(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ze.resolve()}updateTargetData(e,n){return this.Pr(n),ze.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ze.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach(((a,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.si.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)})),ze.waitFor(s).next((()=>i))}getTargetCount(e){return ze.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ze.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ze.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((a=>{s.push(i.markPotentiallyOrphaned(e,a))})),ze.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ze.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ze.resolve(r)}containsKey(e,n){return ze.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e,n){this.ui={},this.overlays={},this.ci=new da(0),this.li=!1,this.li=!0,this.hi=new $ie,this.referenceDelegate=e(this),this.Pi=new Kie(this),this.indexManager=new Rie,this.remoteDocumentCache=(function(i){return new Hie(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new VW(n),this.Ii=new Wie(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new qie,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new zie(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ft("MemoryPersistence","Starting transaction:",e);const i=new Jie(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,n){return ze.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class Jie extends PV{constructor(e){super(),this.currentSequenceNumber=e}}class P_{constructor(e){this.persistence=e,this.Ri=new hN,this.Vi=null}static mi(e){return new P_(e)}get fi(){if(this.Vi)return this.Vi;throw Rt(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ze.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ze.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ze.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ze.forEach(this.fi,(r=>{const i=Dt.fromPath(r);return this.gi(e,i).next((s=>{s||n.removeEntry(i,Ht.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ze.or([()=>ze.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class pb{constructor(e,n){this.persistence=e,this.pi=new Oc((r=>ks(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=XW(this,n)}static mi(e,n){return new pb(e,n)}Ei(){}di(e){return ze.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ze.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?ze.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(a=>this.br(e,a,n).next((o=>{o||(r++,s.removeEntry(a,Ht.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ze.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ze.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ze.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ze.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=y2(e.data.value)),n}br(e,n,r){return ze.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return ze.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xie{constructor(e){this.serializer=e}k(e,n,r,i){const s=new w_("createOrUpgrade",n);r<1&&i>=1&&((function(l){l.createObjectStore(w1)})(e),(function(l){l.createObjectStore(wy,{keyPath:fre}),l.createObjectStore(qo,{keyPath:HP,autoIncrement:!0}).createIndex(af,GP,{unique:!0}),l.createObjectStore(nm)})(e),U8(e),(function(l){l.createObjectStore(Xd)})(e));let a=ze.resolve();return r<3&&i>=3&&(r!==0&&((function(l){l.deleteObjectStore(im),l.deleteObjectStore(rm),l.deleteObjectStore(yf)})(e),U8(e)),a=a.next((()=>(function(l){const c=l.store(yf),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ht.min().toTimestamp(),targetCount:0};return c.put(ob,u)})(s)))),r<4&&i>=4&&(r!==0&&(a=a.next((()=>(function(l,c){return c.store(qo).J().next((f=>{l.deleteObjectStore(qo),l.createObjectStore(qo,{keyPath:HP,autoIncrement:!0}).createIndex(af,GP,{unique:!0});const h=c.store(qo),p=f.map((v=>h.put(v)));return ze.waitFor(p)}))})(e,s)))),a=a.next((()=>{(function(l){l.createObjectStore(sm,{keyPath:_re})})(e)}))),r<5&&i>=5&&(a=a.next((()=>this.yi(s)))),r<6&&i>=6&&(a=a.next((()=>((function(l){l.createObjectStore(Ty)})(e),this.wi(s))))),r<7&&i>=7&&(a=a.next((()=>this.Si(s)))),r<8&&i>=8&&(a=a.next((()=>this.bi(e,s)))),r<9&&i>=9&&(a=a.next((()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&i>=10&&(a=a.next((()=>this.Di(s)))),r<11&&i>=11&&(a=a.next((()=>{(function(l){l.createObjectStore(T_,{keyPath:wre})})(e),(function(l){l.createObjectStore(E_,{keyPath:Tre})})(e)}))),r<12&&i>=12&&(a=a.next((()=>{(function(l){const c=l.createObjectStore(C_,{keyPath:kre});c.createIndex(VD,Ire,{unique:!1}),c.createIndex(VV,Rre,{unique:!1})})(e)}))),r<13&&i>=13&&(a=a.next((()=>(function(l){const c=l.createObjectStore(ab,{keyPath:pre});c.createIndex(m2,mre),c.createIndex(OV,gre)})(e))).next((()=>this.Ci(e,s))).next((()=>e.deleteObjectStore(Xd)))),r<14&&i>=14&&(a=a.next((()=>this.Fi(e,s)))),r<15&&i>=15&&(a=a.next((()=>(function(l){l.createObjectStore(J3,{keyPath:Ere,autoIncrement:!0}).createIndex(BD,Cre,{unique:!1}),l.createObjectStore(O0,{keyPath:Sre}).createIndex(jV,Dre,{unique:!1}),l.createObjectStore(L0,{keyPath:Are}).createIndex(BV,Nre,{unique:!1})})(e)))),r<16&&i>=16&&(a=a.next((()=>{n.objectStore(O0).clear()})).next((()=>{n.objectStore(L0).clear()}))),r<17&&i>=17&&(a=a.next((()=>{(function(l){l.createObjectStore(X3,{keyPath:Pre})})(e)}))),r<18&&i>=18&&rV()&&(a=a.next((()=>{n.objectStore(O0).clear()})).next((()=>{n.objectStore(L0).clear()}))),a}wi(e){let n=0;return e.store(Xd).ee(((r,i)=>{n+=hb(i)})).next((()=>{const r={byteSize:n};return e.store(Ty).put(jD,r)}))}yi(e){const n=e.store(wy),r=e.store(qo);return n.J().next((i=>ze.forEach(i,(s=>{const a=IDBKeyRange.bound([s.userId,Fu],[s.userId,s.lastAcknowledgedBatchId]);return r.J(af,a).next((o=>ze.forEach(o,(l=>{qt(l.userId===s.userId,18650,"Cannot process batch from unexpected user",{batchId:l.batchId});const c=ef(this.serializer,l);return HW(e,s.userId,c).next((()=>{}))}))))}))))}Si(e){const n=e.store(im),r=e.store(Xd);return e.store(yf).get(ob).next((i=>{const s=[];return r.ee(((a,o)=>{const l=new Dn(a),c=(function(f){return[0,ks(f)]})(l);s.push(n.get(c).next((u=>u?ze.resolve():(f=>n.put({targetId:0,path:ks(f),sequenceNumber:i.highestListenSequenceNumber}))(l))))})).next((()=>ze.waitFor(s)))}))}bi(e,n){e.createObjectStore(Ey,{keyPath:bre});const r=n.store(Ey),i=new fN,s=a=>{if(i.add(a)){const o=a.lastSegment(),l=a.popLast();return r.put({collectionId:o,parent:ks(l)})}};return n.store(Xd).ee({X:!0},((a,o)=>{const l=new Dn(a);return s(l.popLast())})).next((()=>n.store(nm).ee({X:!0},(([a,o,l],c)=>{const u=Al(o);return s(u.popLast())}))))}Di(e){const n=e.store(rm);return n.ee(((r,i)=>{const s=S0(i),a=WW(this.serializer,s);return n.put(a)}))}Ci(e,n){const r=n.store(Xd),i=[];return r.ee(((s,a)=>{const o=n.store(ab),l=(function(f){return f.document?new Dt(Dn.fromString(f.document.name).popFirst(5)):f.noDocument?Dt.fromSegments(f.noDocument.path):f.unknownDocument?Dt.fromSegments(f.unknownDocument.path):Rt(36783)})(a).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};i.push(o.put(c))})).next((()=>ze.waitFor(i)))}Fi(e,n){const r=n.store(qo),i=QW(this.serializer),s=new pN(P_.mi,this.serializer.yt);return r.J().next((a=>{const o=new Map;return a.forEach((l=>{let c=o.get(l.userId)??hn();ef(this.serializer,l).keys().forEach((u=>c=c.add(u))),o.set(l.userId,c)})),ze.forEach(o,((l,c)=>{const u=new Hi(c),f=I_.wt(this.serializer,u),h=s.getIndexManager(u),p=R_.wt(u,this.serializer,h,s.referenceDelegate);return new ZW(i,p,f,h).recalculateAndSaveOverlaysForDocumentKeys(new WD(n,da.ce),l).next()}))}))}}function U8(t){t.createObjectStore(im,{keyPath:vre}).createIndex(K3,xre,{unique:!0}),t.createObjectStore(rm,{keyPath:"targetId"}).createIndex(LV,yre,{unique:!0}),t.createObjectStore(yf)}const gu="IndexedDbPersistence",eC=18e5,tC=5e3,nC="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",eq="main";class mN{constructor(e,n,r,i,s,a,o,l,c,u,f=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=s,this.window=a,this.document=o,this.xi=c,this.Oi=u,this.Ni=f,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=h=>Promise.resolve(),!mN.v())throw new at(tt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Lie(this,i),this.$i=n+eq,this.serializer=new VW(l),this.Ui=new Fl(this.$i,this.Ni,new Xie(this.serializer)),this.hi=new Sie,this.Pi=new Fie(this.referenceDelegate,this.serializer),this.remoteDocumentCache=QW(this.serializer),this.Ii=new Cie,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,u===!1&&ci(gu,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new at(tt.FAILED_PRECONDITION,nC);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new da(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Cx(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(dd(e))return ft(gu,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ft(gu,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return Xg(e).get(np).next((n=>ze.resolve(this.es(n))))}ts(e){return Cx(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,eC)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=Mi(n,sm);return r.J().next((i=>{const s=this.ss(i,eC),a=i.filter((o=>s.indexOf(o)===-1));return ze.forEach(a,(o=>r.delete(o.clientId))).next((()=>a))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?ze.resolve(!0):Xg(e).get(np).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,tC)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new at(tt.FAILED_PRECONDITION,nC);return!1}}return!(!this.networkEnabled||!this.inForeground)||Cx(e).J().next((r=>this.ss(r,tC).find((i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,a=!this.inForeground&&i.inForeground,o=this.networkEnabled===i.networkEnabled;if(s||a&&o)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&ft(gu,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[w1,sm],(e=>{const n=new WD(e,da.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>Cx(e).J().next((n=>this.ss(n,eC).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return R_.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Pie(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return I_.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){ft(gu,"Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=(function(l){return l===18?Ure:l===17?zV:l===16?Mre:l===15?Y3:l===14?$V:l===13?qV:l===12?Fre:l===11?WV:void Rt(60245)})(this.Ni);let a;return this.Ui.runTransaction(e,i,s,(o=>(a=new WD(o,this.ci?this.ci.next():da.ce),n==="readwrite-primary"?this.Hi(a).next((l=>!!l||this.Yi(a))).next((l=>{if(!l)throw ci(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new at(tt.FAILED_PRECONDITION,RV);return r(a)})).next((l=>this.Xi(a).next((()=>l)))):this.Is(a).next((()=>r(a)))))).then((o=>(a.raiseOnCommittedEvent(),o)))}Is(e){return Xg(e).get(np).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,tC)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new at(tt.FAILED_PRECONDITION,nC)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Xg(e).put(np,n)}static v(){return Fl.v()}Zi(e){const n=Xg(e);return n.get(np).next((r=>this.es(r)?(ft(gu,"Releasing primary lease."),n.delete(np)):ze.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(ci(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Bi=()=>{this.cs();const n=/(?:Version|Mobile)\/1[456]/;nV()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){var n;try{const r=((n=this.Ki)==null?void 0:n.getItem(this._s(e)))!==null;return ft(gu,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return ci(gu,"Failed to get zombied client id.",r),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){ci("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Xg(t){return Mi(t,w1)}function Cx(t){return Mi(t,sm)}function gN(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=hn(),i=hn();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new yN(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yie{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tq{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return nV()?8:FV(zr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next((a=>{s.result=a})).next((()=>{if(!s.result)return this.ws(e,n,i,r).next((a=>{s.result=a}))})).next((()=>{if(s.result)return;const a=new Yie;return this.Ss(e,n,a).next((o=>{if(s.result=o,this.Vs)return this.bs(e,n,a,o.size)}))})).next((()=>s.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(bp()<=En.DEBUG&&ft("QueryEngine","SDK will not create cache indexes for query:",_p(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ze.resolve()):(bp()<=En.DEBUG&&ft("QueryEngine","Query:",_p(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(bp()<=En.DEBUG&&ft("QueryEngine","The SDK decides to create cache indexes for query:",_p(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gs(n))):ze.resolve())}ys(e,n){if(a8(n))return ze.resolve(null);let r=Gs(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=ub(n,null,"F"),r=Gs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const a=hn(...s);return this.ps.getDocuments(e,a).next((o=>this.indexManager.getMinOffset(e,r).next((l=>{const c=this.Ds(n,o);return this.Cs(n,c,a,l.readTime)?this.ys(e,ub(n,null,"F")):this.vs(e,c,n,l)}))))})))))}ws(e,n,r,i){return a8(n)||i.isEqual(Ht.min())?ze.resolve(null):this.ps.getDocuments(e,r).next((s=>{const a=this.Ds(n,s);return this.Cs(n,a,r,i)?ze.resolve(null):(bp()<=En.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),_p(n)),this.vs(e,a,n,kV(i,tm)).next((o=>o)))}))}Ds(e,n){let r=new or(fW(e));return n.forEach(((i,s)=>{C1(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return bp()<=En.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",_p(n)),this.ps.getDocumentsMatchingQuery(e,n,Va.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((a=>{s=s.insert(a.key,a)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN="LocalStore",Qie=3e8;class Zie{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Hr(cn),this.xs=new Oc((s=>kf(s)),T1),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ZW(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function nq(t,e,n,r){return new Zie(t,e,n,r)}async function rq(t,e){const n=Nt(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const a=[],o=[];let l=hn();for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next((c=>({Ls:c,removedBatchIds:a,addedBatchIds:o})))}))}))}function ese(t,e){const n=Nt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(o,l,c,u){const f=c.batch,h=f.keys();let p=ze.resolve();return h.forEach((v=>{p=p.next((()=>u.getEntry(l,v))).next((g=>{const y=c.docVersions.get(v);qt(y!==null,48541),g.version.compareTo(y)<0&&(f.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),u.addEntry(g)))}))})),p.next((()=>o.mutationQueue.removeMutationBatch(l,f)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(o){let l=hn();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function iq(t){const e=Nt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function tse(t,e){const n=Nt(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const o=[];e.targetChanges.forEach(((u,f)=>{const h=i.get(f);if(!h)return;o.push(n.Pi.removeMatchingKeys(s,u.removedDocuments,f).next((()=>n.Pi.addMatchingKeys(s,u.addedDocuments,f))));let p=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(Zr.EMPTY_BYTE_STRING,Ht.min()).withLastLimboFreeSnapshotVersion(Ht.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(f,p),(function(g,y,_){return g.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=Qie?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0})(h,p,u)&&o.push(n.Pi.updateTargetData(s,p))}));let l=ha(),c=hn();if(e.documentUpdates.forEach((u=>{e.resolvedLimboDocuments.has(u)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))})),o.push(sq(s,a,e.documentUpdates).next((u=>{l=u.ks,c=u.qs}))),!r.isEqual(Ht.min())){const u=n.Pi.getLastRemoteSnapshotVersion(s).next((f=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));o.push(u)}return ze.waitFor(o).next((()=>a.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,l,c))).next((()=>l))})).then((s=>(n.Ms=i,s)))}function sq(t,e,n){let r=hn(),i=hn();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let a=ha();return n.forEach(((o,l)=>{const c=s.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(Ht.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):ft(vN,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)})),{ks:a,qs:i}}))}function nse(t,e){const n=Nt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Fu),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function fm(t,e){const n=Nt(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((s=>s?(i=s,ze.resolve(i)):n.Pi.allocateTargetId(r).next((a=>(i=new uc(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function hm(t,e,n){const r=Nt(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(a=>r.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!dd(a))throw a;ft(vN,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function mb(t,e,n){const r=Nt(t);let i=Ht.min(),s=hn();return r.persistence.runTransaction("Execute query","readwrite",(a=>(function(l,c,u){const f=Nt(l),h=f.xs.get(u);return h!==void 0?ze.resolve(f.Ms.get(h)):f.Pi.getTargetData(c,u)})(r,a,Gs(e)).next((o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,o.targetId).next((l=>{s=l}))})).next((()=>r.Fs.getDocumentsMatchingQuery(a,e,n?i:Ht.min(),n?s:hn()))).next((o=>(lq(r,dW(e),o),{documents:o,Qs:s})))))}function aq(t,e){const n=Nt(t),r=Nt(n.Pi),i=n.Ms.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(s=>r.At(s,e).next((a=>a?a.target:null))))}function oq(t,e){const n=Nt(t),r=n.Os.get(e)||Ht.min();return n.persistence.runTransaction("Get new document changes","readonly",(i=>n.Ns.getAllFromCollectionGroup(i,e,kV(r,tm),Number.MAX_SAFE_INTEGER))).then((i=>(lq(n,e,i),i)))}function lq(t,e,n){let r=t.Os.get(e)||Ht.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}async function rse(t,e,n,r){const i=Nt(t);let s=hn(),a=ha();for(const c of n){const u=e.$s(c.metadata.name);c.document&&(s=s.add(u));const f=e.Us(c);f.setReadTime(e.Ks(c.metadata.readTime)),a=a.insert(u,f)}const o=i.Ns.newChangeBuffer({trackRemovals:!0}),l=await fm(i,(function(u){return Gs(Bm(Dn.fromString(`__bundle__/docs/${u}`)))})(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(c=>sq(c,o,a).next((u=>(o.apply(c),u))).next((u=>i.Pi.removeMatchingKeysForTargetId(c,l.targetId).next((()=>i.Pi.addMatchingKeys(c,s,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,u.ks,u.qs))).next((()=>u.ks))))))}async function ise(t,e,n=hn()){const r=await fm(t,Gs(uN(e.bundledQuery))),i=Nt(t);return i.persistence.runTransaction("Save named query","readwrite",(s=>{const a=ui(e.readTime);if(r.snapshotVersion.compareTo(a)>=0)return i.Ii.saveNamedQuery(s,e);const o=r.withResumeToken(Zr.EMPTY_BYTE_STRING,a);return i.Ms=i.Ms.insert(o.targetId,o),i.Pi.updateTargetData(s,o).next((()=>i.Pi.removeMatchingKeysForTargetId(s,r.targetId))).next((()=>i.Pi.addMatchingKeys(s,n,r.targetId))).next((()=>i.Ii.saveNamedQuery(s,e)))}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cq="firestore_clients";function O8(t,e){return`${cq}_${t}_${e}`}const uq="firestore_mutations";function L8(t,e,n){let r=`${uq}_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const dq="firestore_targets";function rC(t,e){return`${dq}_${t}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl="SharedClientState";class gb{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ws(e,n,r){const i=JSON.parse(r);let s,a=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return a&&i.error&&(a=typeof i.error.message=="string"&&typeof i.error.code=="string",a&&(s=new at(i.error.code,i.error.message))),a?new gb(e,n,i.state,s):(ci(wl,`Failed to parse mutation state for ID '${n}': ${r}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class W0{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ws(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new at(r.error.code,r.error.message))),s?new W0(e,r.state,i):(ci(wl,`Failed to parse target state for ID '${e}': ${n}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class yb{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ws(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=nN();for(let a=0;i&&a<r.activeTargetIds.length;++a)i=MV(r.activeTargetIds[a]),s=s.add(r.activeTargetIds[a]);return i?new yb(e,s):(ci(wl,`Failed to parse client data for instance '${e}': ${n}`),null)}}class xN{constructor(e,n){this.clientId=e,this.onlineState=n}static Ws(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new xN(n.clientId,n.onlineState):(ci(wl,`Failed to parse online state: ${e}`),null)}}class iA{constructor(){this.activeTargetIds=nN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iC{constructor(e,n,r,i,s){this.window=e,this.Mi=n,this.persistenceKey=r,this.Js=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new Hr(cn),this.started=!1,this.Xs=[];const a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.eo=O8(this.persistenceKey,this.Js),this.no=(function(l){return`firestore_sequence_number_${l}`})(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new iA),this.ro=new RegExp(`^${cq}_${a}_([^_]*)$`),this.io=new RegExp(`^${uq}_${a}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${dq}_${a}_(\\d+)$`),this.oo=(function(l){return`firestore_online_state_${l}`})(this.persistenceKey),this._o=(function(l){return`firestore_bundle_loaded_v2_${l}`})(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const r of e){if(r===this.Js)continue;const i=this.getItem(O8(this.persistenceKey,r));if(i){const s=yb.Ws(r,i);s&&(this.Zs=this.Zs.insert(s.clientId,s))}}this.ao();const n=this.storage.getItem(this.oo);if(n){const r=this.uo(n);r&&this.co(r)}for(const r of this.Xs)this.Ys(r);this.Xs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let n=!1;return this.Zs.forEach(((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)})),n}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,n,r){this.ho(e,n,r),this.Po(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(rC(this.persistenceKey,e));if(i){const s=W0.Ws(e,i);s&&(r=s.state)}}return n&&this.To.zs(e),this.ao(),r}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(rC(this.persistenceKey,e))}updateQueryState(e,n,r){this.Io(e,n,r)}handleUserChange(e,n,r){n.forEach((i=>{this.Po(i)})),this.currentUser=e,r.forEach((i=>{this.addPendingMutation(i)}))}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return ft(wl,"READ",e,n),n}setItem(e,n){ft(wl,"SET",e,n),this.storage.setItem(e,n)}removeItem(e){ft(wl,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const n=e;if(n.storageArea===this.storage){if(ft(wl,"EVENT",n.key,n.newValue),n.key===this.eo)return void ci("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable((async()=>{if(this.started){if(n.key!==null){if(this.ro.test(n.key)){if(n.newValue==null){const r=this.Ro(n.key);return this.Vo(r,null)}{const r=this.mo(n.key,n.newValue);if(r)return this.Vo(r.clientId,r)}}else if(this.io.test(n.key)){if(n.newValue!==null){const r=this.fo(n.key,n.newValue);if(r)return this.po(r)}}else if(this.so.test(n.key)){if(n.newValue!==null){const r=this.yo(n.key,n.newValue);if(r)return this.wo(r)}}else if(n.key===this.oo){if(n.newValue!==null){const r=this.uo(n.newValue);if(r)return this.co(r)}}else if(n.key===this.no){const r=(function(s){let a=da.ce;if(s!=null)try{const o=JSON.parse(s);qt(typeof o=="number",30636,{So:s}),a=o}catch(o){ci(wl,"Failed to read sequence number from WebStorage",o)}return a})(n.newValue);r!==da.ce&&this.sequenceNumberHandler(r)}else if(n.key===this._o){const r=this.bo(n.newValue);await Promise.all(r.map((i=>this.syncEngine.Do(i))))}}}else this.Xs.push(n)}))}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,n,r){const i=new gb(this.currentUser,e,n,r),s=L8(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Gs())}Po(e){const n=L8(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Eo(e){const n={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(n))}Io(e,n,r){const i=rC(this.persistenceKey,e),s=new W0(e,n,r);this.setItem(i,s.Gs())}Ao(e){const n=JSON.stringify(Array.from(e));this.setItem(this._o,n)}Ro(e){const n=this.ro.exec(e);return n?n[1]:null}mo(e,n){const r=this.Ro(e);return yb.Ws(r,n)}fo(e,n){const r=this.io.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return gb.Ws(new Hi(s),i,n)}yo(e,n){const r=this.so.exec(e),i=Number(r[1]);return W0.Ws(i,n)}uo(e){return xN.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);ft(wl,`Ignoring mutation for non-active user ${e.user.uid}`)}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,n){const r=n?this.Zs.insert(e,n):this.Zs.remove(e),i=this.lo(this.Zs),s=this.lo(r),a=[],o=[];return s.forEach((l=>{i.has(l)||a.push(l)})),i.forEach((l=>{s.has(l)||o.push(l)})),this.syncEngine.Fo(a,o).then((()=>{this.Zs=r}))}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let n=nN();return e.forEach(((r,i)=>{n=n.unionWith(i.activeTargetIds)})),n}}class fq{constructor(){this.Mo=new iA,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new iA,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sse{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j8="ConnectivityMonitor";class B8{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ft(j8,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ft(j8,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sx=null;function sA(){return Sx===null?Sx=(function(){return 268435456+Math.round(2147483648*Math.random())})():Sx++,"0x"+Sx.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC="RestConnection",ase={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ose{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===$D?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const a=sA(),o=this.zo(e,n.toUriEncodedString());ft(sC,`Sending RPC '${e}' ${a}:`,o,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,s);const{host:c}=new URL(o),u=zl(c);return this.Jo(e,o,l,r,u).then((f=>(ft(sC,`Received RPC '${e}' ${a}: `,f),f)),(f=>{throw jl(sC,`RPC '${e}' ${a} failed with error: `,f,"url: ",o,"request:",r),f}))}Ho(e,n,r,i,s,a){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+jm})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,n){const r=ase[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lse{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs="WebChannelConnection";class cse extends ose{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const a=sA();return new Promise(((o,l)=>{const c=new xV;c.setWithCredentials(!0),c.listenOnce(bV.COMPLETE,(()=>{try{switch(c.getLastErrorCode()){case f2.NO_ERROR:const f=c.getResponseJson();ft(gs,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(f)),o(f);break;case f2.TIMEOUT:ft(gs,`RPC '${e}' ${a} timed out`),l(new at(tt.DEADLINE_EXCEEDED,"Request time out"));break;case f2.HTTP_ERROR:const h=c.getStatus();if(ft(gs,`RPC '${e}' ${a} failed with status:`,h,"response text:",c.getResponseText()),h>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const v=p==null?void 0:p.error;if(v&&v.status&&v.message){const g=(function(_){const x=_.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(x)>=0?x:tt.UNKNOWN})(v.status);l(new at(g,v.message))}else l(new at(tt.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new at(tt.UNAVAILABLE,"Connection failed."));break;default:Rt(9055,{l_:e,streamId:a,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{ft(gs,`RPC '${e}' ${a} completed.`)}}));const u=JSON.stringify(i);ft(gs,`RPC '${e}' ${a} sending request:`,i),c.send(n,"POST",u,r,15)}))}T_(e,n,r){const i=sA(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=TV(),o=wV(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");ft(gs,`Creating RPC '${e}' stream ${i}: ${u}`,l);const f=a.createWebChannel(u,l);this.I_(f);let h=!1,p=!1;const v=new lse({Yo:y=>{p?ft(gs,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(ft(gs,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),ft(gs,`RPC '${e}' stream ${i} sending:`,y),f.send(y))},Zo:()=>f.close()}),g=(y,_,x)=>{y.listen(_,(w=>{try{x(w)}catch(C){setTimeout((()=>{throw C}),0)}}))};return g(f,T0.EventType.OPEN,(()=>{p||(ft(gs,`RPC '${e}' stream ${i} transport opened.`),v.o_())})),g(f,T0.EventType.CLOSE,(()=>{p||(p=!0,ft(gs,`RPC '${e}' stream ${i} transport closed`),v.a_(),this.E_(f))})),g(f,T0.EventType.ERROR,(y=>{p||(p=!0,jl(gs,`RPC '${e}' stream ${i} transport errored. Name:`,y.name,"Message:",y.message),v.a_(new at(tt.UNAVAILABLE,"The operation could not be completed")))})),g(f,T0.EventType.MESSAGE,(y=>{var _;if(!p){const x=y.data[0];qt(!!x,16349);const w=x,C=(w==null?void 0:w.error)||((_=w[0])==null?void 0:_.error);if(C){ft(gs,`RPC '${e}' stream ${i} received error:`,C);const S=C.status;let R=(function(I){const F=xi[I];if(F!==void 0)return CW(F)})(S),D=C.message;R===void 0&&(R=tt.INTERNAL,D="Unknown error status: "+S+" with message "+C.message),p=!0,v.a_(new at(R,D)),f.close()}else ft(gs,`RPC '${e}' stream ${i} received:`,x),v.u_(x)}})),g(o,_V.STAT_EVENT,(y=>{y.stat===UD.PROXY?ft(gs,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===UD.NOPROXY&&ft(gs,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{v.__()}),0),v}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hq(){return typeof window<"u"?window:null}function w2(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(t){return new pie(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&ft("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V8="PersistentStream";class pq{constructor(e,n,r,i,s,a,o,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new bN(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===tt.RESOURCE_EXHAUSTED?(ci(n.toString()),ci("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new at(tt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ft(V8,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ft(V8,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class use extends pq{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=yie(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Ht.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Ht.min():a.readTime?ui(a.readTime):Ht.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=ZD(this.serializer),n.addTarget=(function(s,a){let o;const l=a.target;if(o=lb(l)?{documents:MW(s,l)}:{query:UW(s,l).ft},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=NW(s,a.resumeToken);const c=YD(s,a.expectedCount);c!==null&&(o.expectedCount=c)}else if(a.snapshotVersion.compareTo(Ht.min())>0){o.readTime=dm(s,a.snapshotVersion.toTimestamp());const c=YD(s,a.expectedCount);c!==null&&(o.expectedCount=c)}return o})(this.serializer,e);const r=xie(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=ZD(this.serializer),n.removeTarget=e,this.q_(n)}}class dse extends pq{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return qt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){qt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=vie(e.writeResults,e.commitTime),r=ui(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=ZD(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>ky(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fse{}class hse extends fse{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new at(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,a])=>this.connection.Go(e,QD(n,r),i,s,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new at(tt.UNKNOWN,s.toString())}))}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Ho(e,QD(n,r),i,a,o,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new at(tt.UNKNOWN,a.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class pse{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ci(n),this.aa=!1):ft("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf="RemoteStore";class mse{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((a=>{r.enqueueAndForget((async()=>{hd(this)&&(ft(Uf,"Restarting streams for network reachability change."),await(async function(l){const c=Nt(l);c.Ea.add(4),await qm(c),c.Ra.set("Unknown"),c.Ea.delete(4),await k1(c)})(this))}))})),this.Ra=new pse(r,i)}}async function k1(t){if(hd(t))for(const e of t.da)await e(!0)}async function qm(t){for(const e of t.da)await e(!1)}function F_(t,e){const n=Nt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),TN(n)?wN(n):zm(n).O_()&&_N(n,e))}function pm(t,e){const n=Nt(t),r=zm(n);n.Ia.delete(e),r.O_()&&mq(n,e),n.Ia.size===0&&(r.O_()?r.L_():hd(n)&&n.Ra.set("Unknown"))}function _N(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ht.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}zm(t).Y_(e)}function mq(t,e){t.Va.Ue(e),zm(t).Z_(e)}function wN(t){t.Va=new uie({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),zm(t).start(),t.Ra.ua()}function TN(t){return hd(t)&&!zm(t).x_()&&t.Ia.size>0}function hd(t){return Nt(t).Ea.size===0}function gq(t){t.Va=void 0}async function gse(t){t.Ra.set("Online")}async function yse(t){t.Ia.forEach(((e,n)=>{_N(t,e)}))}async function vse(t,e){gq(t),TN(t)?(t.Ra.ha(e),wN(t)):t.Ra.set("Unknown")}async function xse(t,e,n){if(t.Ra.set("Online"),e instanceof AW&&e.state===2&&e.cause)try{await(async function(i,s){const a=s.cause;for(const o of s.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.Ia.delete(o),i.Va.removeTarget(o))})(t,e)}catch(r){ft(Uf,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await vb(t,r)}else if(e instanceof b2?t.Va.Ze(e):e instanceof DW?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ht.min()))try{const r=await iq(t.localStore);n.compareTo(r)>=0&&await(function(s,a){const o=s.Va.Tt(a);return o.targetChanges.forEach(((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.Ia.get(c);u&&s.Ia.set(c,u.withResumeToken(l.resumeToken,a))}})),o.targetMismatches.forEach(((l,c)=>{const u=s.Ia.get(l);if(!u)return;s.Ia.set(l,u.withResumeToken(Zr.EMPTY_BYTE_STRING,u.snapshotVersion)),mq(s,l);const f=new uc(u.target,l,c,u.sequenceNumber);_N(s,f)})),s.remoteSyncer.applyRemoteEvent(o)})(t,n)}catch(r){ft(Uf,"Failed to raise snapshot:",r),await vb(t,r)}}async function vb(t,e,n){if(!dd(e))throw e;t.Ea.add(1),await qm(t),t.Ra.set("Offline"),n||(n=()=>iq(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ft(Uf,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await k1(t)}))}function yq(t,e){return e().catch((n=>vb(t,n,e)))}async function $m(t){const e=Nt(t),n=Ju(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Fu;for(;bse(e);)try{const i=await nse(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,_se(e,i)}catch(i){await vb(e,i)}vq(e)&&xq(e)}function bse(t){return hd(t)&&t.Ta.length<10}function _se(t,e){t.Ta.push(e);const n=Ju(t);n.O_()&&n.X_&&n.ea(e.mutations)}function vq(t){return hd(t)&&!Ju(t).x_()&&t.Ta.length>0}function xq(t){Ju(t).start()}async function wse(t){Ju(t).ra()}async function Tse(t){const e=Ju(t);for(const n of t.Ta)e.ea(n.mutations)}async function Ese(t,e,n){const r=t.Ta.shift(),i=aN.from(r,e,n);await yq(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await $m(t)}async function Cse(t,e){e&&Ju(t).X_&&await(async function(r,i){if((function(a){return EW(a)&&a!==tt.ABORTED})(i.code)){const s=r.Ta.shift();Ju(r).B_(),await yq(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await $m(r)}})(t,e),vq(t)&&xq(t)}async function W8(t,e){const n=Nt(t);n.asyncQueue.verifyOperationInProgress(),ft(Uf,"RemoteStore received new credentials");const r=hd(n);n.Ea.add(3),await qm(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await k1(n)}async function aA(t,e){const n=Nt(t);e?(n.Ea.delete(2),await k1(n)):e||(n.Ea.add(2),await qm(n),n.Ra.set("Unknown"))}function zm(t){return t.ma||(t.ma=(function(n,r,i){const s=Nt(n);return s.sa(),new use(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:gse.bind(null,t),t_:yse.bind(null,t),r_:vse.bind(null,t),H_:xse.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),TN(t)?wN(t):t.Ra.set("Unknown")):(await t.ma.stop(),gq(t))}))),t.ma}function Ju(t){return t.fa||(t.fa=(function(n,r,i){const s=Nt(n);return s.sa(),new dse(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:wse.bind(null,t),r_:Cse.bind(null,t),ta:Tse.bind(null,t),na:Ese.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await $m(t)):(await t.fa.stop(),t.Ta.length>0&&(ft(Uf,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new us,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,o=new EN(e,n,a,i,s);return o.start(r),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(tt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hm(t,e){if(ci("AsyncQueue",`${e}: ${t}`),dd(t))return new at(tt.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{static emptySet(e){return new Up(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Dt.comparator(n.key,r.key):(n,r)=>Dt.comparator(n.key,r.key),this.keyedMap=E0(),this.sortedSet=new Hr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Up)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Up;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q8{constructor(){this.ga=new Hr(Dt.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Rt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class mm{constructor(e,n,r,i,s,a,o,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach((o=>{a.push({type:0,doc:o})})),new mm(e,n,Up.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&E1(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sse{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Dse{constructor(){this.queries=$8(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Nt(n),s=i.queries;i.queries=$8(),s.forEach(((a,o)=>{for(const l of o.Sa)l.onError(r)}))})(this,new at(tt.ABORTED,"Firestore shutting down"))}}function $8(){return new Oc((t=>uW(t)),E1)}async function CN(t,e){const n=Nt(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new Sse,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const o=Hm(a,`Initialization of query '${_p(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&DN(n)}async function SN(t,e){const n=Nt(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.Sa.indexOf(e);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Ase(t,e){const n=Nt(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const o of a.Sa)o.Fa(i)&&(r=!0);a.wa=i}}r&&DN(n)}function Nse(t,e,n){const r=Nt(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function DN(t){t.Ca.forEach((e=>{e.next()}))}var oA,z8;(z8=oA||(oA={})).Ma="default",z8.Cache="cache";class AN{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new mm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=mm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==oA.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kse{constructor(e,n){this.Qa=e,this.byteLength=n}$a(){return"metadata"in this.Qa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H8{constructor(e){this.serializer=e}$s(e){return Ml(this.serializer,e)}Us(e){return e.metadata.exists?FW(this.serializer,e.document,!1):Er.newNoDocument(this.$s(e.metadata.name),this.Ks(e.metadata.readTime))}Ks(e){return ui(e)}}class Ise{constructor(e,n){this.Ua=e,this.serializer=n,this.Ka=[],this.Wa=[],this.collectionGroups=new Set,this.progress=bq(e)}get queries(){return this.Ka}get documents(){return this.Wa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Qa.namedQuery)this.Ka.push(e.Qa.namedQuery);else if(e.Qa.documentMetadata){this.Wa.push({metadata:e.Qa.documentMetadata}),e.Qa.documentMetadata.exists||++n;const r=Dn.fromString(e.Qa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Qa.document&&(this.Wa[this.Wa.length-1].document=e.Qa.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,{...this.progress}):null}za(e){const n=new Map,r=new H8(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.$s(i.metadata.name);for(const a of i.metadata.queries){const o=(n.get(a)||hn()).add(s);n.set(a,o)}}return n}async ja(e){const n=await rse(e,new H8(this.serializer),this.Wa,this.Ua.id),r=this.za(this.documents);for(const i of this.Ka)await ise(e,i,r.get(i.name));return this.progress.taskState="Success",{progress:this.progress,Ja:this.collectionGroups,Ha:n}}}function bq(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _q{constructor(e){this.key=e}}class wq{constructor(e){this.key=e}}class Tq{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=hn(),this.mutatedKeys=hn(),this.eu=fW(e),this.tu=new Up(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new q8,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((u,f)=>{const h=i.get(u),p=C1(this.query,f)?f:null,v=!!h&&this.mutatedKeys.has(h.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let y=!1;h&&p?h.data.isEqual(p.data)?v!==g&&(r.track({type:3,doc:p}),y=!0):this.su(h,p)||(r.track({type:2,doc:p}),y=!0,(l&&this.eu(p,l)>0||c&&this.eu(p,c)<0)&&(o=!0)):!h&&p?(r.track({type:0,doc:p}),y=!0):h&&!p&&(r.track({type:1,doc:h}),y=!0,(l||c)&&(o=!0)),y&&(p?(a=a.add(p),s=g?s.add(u):s.delete(u)):(a=a.delete(u),s=s.delete(u)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const u=this.query.limitType==="F"?a.last():a.first();a=a.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{tu:a,iu:r,Cs:o,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort(((u,f)=>(function(p,v){const g=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rt(20277,{Rt:y})}};return g(p)-g(v)})(u.type,f.type)||this.eu(u.doc,f.doc))),this.ou(r),i=i??!1;const o=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,c=l!==this.Za;return this.Za=l,a.length!==0||c?{snapshot:new mm(this.query,e.tu,s,a,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new q8,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=hn(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new wq(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new _q(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=hn();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return mm.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const pd="SyncEngine";class Rse{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Pse{constructor(e){this.key=e,this.hu=!1}}class Fse{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Oc((o=>uW(o)),E1),this.Iu=new Map,this.Eu=new Set,this.du=new Hr(Dt.comparator),this.Au=new Map,this.Ru=new hN,this.Vu={},this.mu=new Map,this.fu=Mf.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Mse(t,e,n=!0){const r=M_(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await Eq(r,e,n,!0),i}async function Use(t,e){const n=M_(t);await Eq(n,e,!0,!1)}async function Eq(t,e,n,r){const i=await fm(t.localStore,Gs(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await NN(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&F_(t.remoteStore,i),o}async function NN(t,e,n,r,i){t.pu=(f,h,p)=>(async function(g,y,_,x){let w=y.view.ru(_);w.Cs&&(w=await mb(g.localStore,y.query,!1).then((({documents:D})=>y.view.ru(D,w))));const C=x&&x.targetChanges.get(y.targetId),S=x&&x.targetMismatches.get(y.targetId)!=null,R=y.view.applyChanges(w,g.isPrimaryClient,C,S);return lA(g,y.targetId,R.au),R.snapshot})(t,f,h,p);const s=await mb(t.localStore,e,!0),a=new Tq(e,s.Qs),o=a.ru(s.documents),l=A1.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=a.applyChanges(o,t.isPrimaryClient,l);lA(t,n,c.au);const u=new Rse(e,n,a);return t.Tu.set(e,u),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function Ose(t,e,n){const r=Nt(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((a=>!E1(a,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await hm(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&pm(r.remoteStore,i.targetId),gm(r,i.targetId)})).catch(ud)):(gm(r,i.targetId),await hm(r.localStore,i.targetId,!0))}async function Lse(t,e){const n=Nt(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),pm(n.remoteStore,r.targetId))}async function jse(t,e,n){const r=PN(t);try{const i=await(function(a,o){const l=Nt(a),c=Yn.now(),u=o.reduce(((p,v)=>p.add(v.key)),hn());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",(p=>{let v=ha(),g=hn();return l.Ns.getEntries(p,u).next((y=>{v=y,v.forEach(((_,x)=>{x.isValidDocument()||(g=g.add(_))}))})).next((()=>l.localDocuments.getOverlayedDocuments(p,v))).next((y=>{f=y;const _=[];for(const x of o){const w=oie(x,f.get(x.key).overlayedDocument);w!=null&&_.push(new Lc(x.key,w,tW(w.value.mapValue),Mr.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,_,o)})).next((y=>{h=y;const _=y.applyToLocalDocumentSet(f,g);return l.documentOverlayCache.saveOverlays(p,y.batchId,_)}))})).then((()=>({batchId:h.batchId,changes:pW(f)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(a,o,l){let c=a.Vu[a.currentUser.toKey()];c||(c=new Hr(cn)),c=c.insert(o,l),a.Vu[a.currentUser.toKey()]=c})(r,i.batchId,n),await jc(r,i.changes),await $m(r.remoteStore)}catch(i){const s=Hm(i,"Failed to persist write");n.reject(s)}}async function Cq(t,e){const n=Nt(t);try{const r=await tse(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const a=n.Au.get(s);a&&(qt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?qt(a.hu,14607):i.removedDocuments.size>0&&(qt(a.hu,42227),a.hu=!1))})),await jc(n,r,e)}catch(r){await ud(r)}}function G8(t,e,n){const r=Nt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,a)=>{const o=a.view.va(e);o.snapshot&&i.push(o.snapshot)})),(function(a,o){const l=Nt(a);l.onlineState=o;let c=!1;l.queries.forEach(((u,f)=>{for(const h of f.Sa)h.va(o)&&(c=!0)})),c&&DN(l)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Bse(t,e,n){const r=Nt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let a=new Hr(Dt.comparator);a=a.insert(s,Er.newNoDocument(s,Ht.min()));const o=hn().add(s),l=new D1(Ht.min(),new Map,new Hr(cn),a,o);await Cq(r,l),r.du=r.du.remove(s),r.Au.delete(e),RN(r)}else await hm(r.localStore,e,!1).then((()=>gm(r,e,n))).catch(ud)}async function Vse(t,e){const n=Nt(t),r=e.batch.batchId;try{const i=await ese(n.localStore,e);IN(n,r,null),kN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await jc(n,i)}catch(i){await ud(i)}}async function Wse(t,e,n){const r=Nt(t);try{const i=await(function(a,o){const l=Nt(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",(c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next((f=>(qt(f!==null,37113),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f)))).next((()=>l.mutationQueue.performConsistencyCheck(c))).next((()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o))).next((()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u))).next((()=>l.localDocuments.getDocuments(c,u)))}))})(r.localStore,e);IN(r,e,n),kN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await jc(r,i)}catch(i){await ud(i)}}async function qse(t,e){const n=Nt(t);hd(n.remoteStore)||ft(pd,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await(function(a){const o=Nt(a);return o.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(l=>o.mutationQueue.getHighestUnacknowledgedBatchId(l)))})(n.localStore);if(r===Fu)return void e.resolve();const i=n.mu.get(r)||[];i.push(e),n.mu.set(r,i)}catch(r){const i=Hm(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function kN(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function IN(t,e,n){const r=Nt(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function gm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||Sq(t,r)}))}function Sq(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(pm(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),RN(t))}function lA(t,e,n){for(const r of n)r instanceof _q?(t.Ru.addReference(r.key,e),$se(t,r)):r instanceof wq?(ft(pd,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||Sq(t,r.key)):Rt(19791,{wu:r})}function $se(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ft(pd,"New document in limbo: "+n),t.Eu.add(r),RN(t))}function RN(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Dt(Dn.fromString(e)),r=t.fu.next();t.Au.set(r,new Pse(n)),t.du=t.du.insert(n,r),F_(t.remoteStore,new uc(Gs(Bm(n.path)),r,"TargetPurposeLimboResolution",da.ce))}}async function jc(t,e,n){const r=Nt(t),i=[],s=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach(((o,l)=>{a.push(r.pu(l,e,n).then((c=>{var u;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=yN.As(l.targetId,c);s.push(f)}})))})),await Promise.all(a),r.Pu.H_(i),await(async function(l,c){const u=Nt(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",(f=>ze.forEach(c,(h=>ze.forEach(h.Es,(p=>u.persistence.referenceDelegate.addReference(f,h.targetId,p))).next((()=>ze.forEach(h.ds,(p=>u.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))))))}catch(f){if(!dd(f))throw f;ft(vN,"Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const p=u.Ms.get(h),v=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(v);u.Ms=u.Ms.insert(h,g)}}})(r.localStore,s))}async function zse(t,e){const n=Nt(t);if(!n.currentUser.isEqual(e)){ft(pd,"User change. New user:",e.toKey());const r=await rq(n.localStore,e);n.currentUser=e,(function(s,a){s.mu.forEach((o=>{o.forEach((l=>{l.reject(new at(tt.CANCELLED,a))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await jc(n,r.Ls)}}function Hse(t,e){const n=Nt(t),r=n.Au.get(e);if(r&&r.hu)return hn().add(r.key);{let i=hn();const s=n.Iu.get(e);if(!s)return i;for(const a of s){const o=n.Tu.get(a);i=i.unionWith(o.view.nu)}return i}}async function Gse(t,e){const n=Nt(t),r=await mb(n.localStore,e.query,!0),i=e.view.cu(r);return n.isPrimaryClient&&lA(n,e.targetId,i.au),i}async function Kse(t,e){const n=Nt(t);return oq(n.localStore,e).then((r=>jc(n,r)))}async function Jse(t,e,n,r){const i=Nt(t),s=await(function(o,l){const c=Nt(o),u=Nt(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",(f=>u.er(f,l).next((h=>h?c.localDocuments.getDocuments(f,h):ze.resolve(null)))))})(i.localStore,e);s!==null?(n==="pending"?await $m(i.remoteStore):n==="acknowledged"||n==="rejected"?(IN(i,e,r||null),kN(i,e),(function(o,l){Nt(Nt(o).mutationQueue).ir(l)})(i.localStore,e)):Rt(6720,"Unknown batchState",{Su:n}),await jc(i,s)):ft(pd,"Cannot apply mutation batch with id: "+e)}async function Xse(t,e){const n=Nt(t);if(M_(n),PN(n),e===!0&&n.gu!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await K8(n,r.toArray());n.gu=!0,await aA(n.remoteStore,!0);for(const s of i)F_(n.remoteStore,s)}else if(e===!1&&n.gu!==!1){const r=[];let i=Promise.resolve();n.Iu.forEach(((s,a)=>{n.sharedClientState.isLocalQueryTarget(a)?r.push(a):i=i.then((()=>(gm(n,a),hm(n.localStore,a,!0)))),pm(n.remoteStore,a)})),await i,await K8(n,r),(function(a){const o=Nt(a);o.Au.forEach(((l,c)=>{pm(o.remoteStore,c)})),o.Ru.Jr(),o.Au=new Map,o.du=new Hr(Dt.comparator)})(n),n.gu=!1,await aA(n.remoteStore,!1)}}async function K8(t,e,n){const r=Nt(t),i=[],s=[];for(const a of e){let o;const l=r.Iu.get(a);if(l&&l.length!==0){o=await fm(r.localStore,Gs(l[0]));for(const c of l){const u=r.Tu.get(c),f=await Gse(r,u);f.snapshot&&s.push(f.snapshot)}}else{const c=await aq(r.localStore,a);o=await fm(r.localStore,c),await NN(r,Dq(c),a,!1,o.resumeToken)}i.push(o)}return r.Pu.H_(s),i}function Dq(t){return cW(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Yse(t){return(function(n){return Nt(Nt(n).persistence).Ts()})(Nt(t).localStore)}async function Qse(t,e,n,r){const i=Nt(t);if(i.gu)return void ft(pd,"Ignoring unexpected query state notification.");const s=i.Iu.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const a=await oq(i.localStore,dW(s[0])),o=D1.createSynthesizedRemoteEventForCurrentChange(e,n==="current",Zr.EMPTY_BYTE_STRING);await jc(i,a,o);break}case"rejected":await hm(i.localStore,e,!0),gm(i,e,r);break;default:Rt(64155,n)}}async function Zse(t,e,n){const r=M_(t);if(r.gu){for(const i of e){if(r.Iu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){ft(pd,"Adding an already active target "+i);continue}const s=await aq(r.localStore,i),a=await fm(r.localStore,s);await NN(r,Dq(s),a.targetId,!1,a.resumeToken),F_(r.remoteStore,a)}for(const i of n)r.Iu.has(i)&&await hm(r.localStore,i,!1).then((()=>{pm(r.remoteStore,i),gm(r,i)})).catch(ud)}}function M_(t){const e=Nt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Cq.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Hse.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Bse.bind(null,e),e.Pu.H_=Ase.bind(null,e.eventManager),e.Pu.yu=Nse.bind(null,e.eventManager),e}function PN(t){const e=Nt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Vse.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Wse.bind(null,e),e}function eae(t,e,n){const r=Nt(t);(async function(s,a,o){try{const l=await a.getMetadata();if(await(function(p,v){const g=Nt(p),y=ui(v.createTime);return g.persistence.runTransaction("hasNewerBundle","readonly",(_=>g.Ii.getBundleMetadata(_,v.id))).then((_=>!!_&&_.createTime.compareTo(y)>=0))})(s.localStore,l))return await a.close(),o._completeWith((function(p){return{taskState:"Success",documentsLoaded:p.totalDocuments,bytesLoaded:p.totalBytes,totalDocuments:p.totalDocuments,totalBytes:p.totalBytes}})(l)),Promise.resolve(new Set);o._updateProgress(bq(l));const c=new Ise(l,a.serializer);let u=await a.bu();for(;u;){const h=await c.Ga(u);h&&o._updateProgress(h),u=await a.bu()}const f=await c.ja(s.localStore);return await jc(s,f.Ha,void 0),await(function(p,v){const g=Nt(p);return g.persistence.runTransaction("Save bundle","readwrite",(y=>g.Ii.saveBundleMetadata(y,v)))})(s.localStore,l),o._completeWith(f.progress),Promise.resolve(f.Ja)}catch(l){return jl(pd,`Loading bundle failed with ${l}`),o._failWith(l),Promise.resolve(new Set)}})(r,e,n).then((i=>{r.sharedClientState.notifyBundleLoaded(i)}))}class Iy{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=N1(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return nq(this.persistence,new tq,e.initialUser,this.serializer)}Cu(e){return new pN(P_.mi,this.serializer)}Du(e){return new fq}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Iy.provider={build:()=>new Iy};class tae extends Iy{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){qt(this.persistence.referenceDelegate instanceof pb,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new JW(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?_s.withCacheSize(this.cacheSizeBytes):_s.DEFAULT;return new pN((r=>pb.mi(r,n)),this.serializer)}}class Aq extends Iy{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await PN(this.xu.syncEngine),await $m(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return nq(this.persistence,new tq,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new JW(r,e.asyncQueue,n)}Mu(e,n){const r=new ure(n,this.persistence);return new cre(e.asyncQueue,r)}Cu(e){const n=gN(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?_s.withCacheSize(this.cacheSizeBytes):_s.DEFAULT;return new mN(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,hq(),w2(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new fq}}class nae extends Aq{constructor(e,n){super(e,n,!1),this.xu=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.xu.syncEngine;this.sharedClientState instanceof iC&&(this.sharedClientState.syncEngine={Co:Jse.bind(null,n),vo:Qse.bind(null,n),Fo:Zse.bind(null,n),Ts:Yse.bind(null,n),Do:Kse.bind(null,n)},await this.sharedClientState.start()),await this.persistence.Ji((async r=>{await Xse(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(e){const n=hq();if(!iC.v(n))throw new at(tt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=gN(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new iC(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class Ry{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>G8(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=zse.bind(null,this.syncEngine),await aA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Dse})()}createDatastore(e){const n=N1(e.databaseInfo.databaseId),r=(function(s){return new cse(s)})(e.databaseInfo);return(function(s,a,o,l){return new hse(s,a,o,l)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,a,o){return new mse(r,i,s,a,o)})(this.localStore,this.datastore,e.asyncQueue,(n=>G8(this.syncEngine,n,0)),(function(){return B8.v()?new B8:new sse})())}createSyncEngine(e,n){return(function(i,s,a,o,l,c,u){const f=new Fse(i,s,a,o,l,c);return u&&(f.gu=!0),f})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const s=Nt(i);ft(Uf,"RemoteStore shutting down."),s.Ea.add(5),await qm(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Ry.provider={build:()=>new Ry};function J8(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ci("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rae{constructor(e,n){this.Bu=e,this.serializer=n,this.metadata=new us,this.buffer=new Uint8Array,this.Lu=(function(){return new TextDecoder("utf-8")})(),this.ku().then((r=>{r&&r.$a()?this.metadata.resolve(r.Qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Qa)}`))}),(r=>this.metadata.reject(r)))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async bu(){return await this.getMetadata(),this.ku()}async ku(){const e=await this.qu();if(e===null)return null;const n=this.Lu.decode(e),r=Number(n);isNaN(r)&&this.Qu(`length string (${n}) is not valid number`);const i=await this.$u(r);return new kse(JSON.parse(i),e.length+r)}Uu(){return this.buffer.findIndex((e=>e===123))}async qu(){for(;this.Uu()<0&&!await this.Ku(););if(this.buffer.length===0)return null;const e=this.Uu();e<0&&this.Qu("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async $u(e){for(;this.buffer.length<e;)await this.Ku()&&this.Qu("Reached the end of bundle when more is expected.");const n=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Qu(e){throw this.Bu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ku(){const e=await this.Bu.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iae{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new at(tt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(i,s){const a=Nt(i),o={documents:s.map((f=>Ny(a.serializer,f)))},l=await a.Ho("BatchGetDocuments",a.serializer.databaseId,Dn.emptyPath(),o,s.length),c=new Map;l.forEach((f=>{const h=gie(a.serializer,f);c.set(h.key.toString(),h)}));const u=[];return s.forEach((f=>{const h=c.get(f.toString());qt(!!h,55234,{key:f}),u.push(h)})),u})(this.datastore,e);return n.forEach((r=>this.recordVersion(r))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Wm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,r)=>{const i=Dt.fromPath(r);this.mutations.push(new iN(i,this.precondition(i)))})),await(async function(r,i){const s=Nt(r),a={writes:i.map((o=>ky(s.serializer,o)))};await s.Go("Commit",s.serializer.databaseId,Dn.emptyPath(),a)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Rt(50498,{Gu:e.constructor.name});n=Ht.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new at(tt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Ht.min())?Mr.exists(!1):Mr.updateTime(n):Mr.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Ht.min()))throw new at(tt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Mr.updateTime(n)}return Mr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sae{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.zu=r.maxAttempts,this.M_=new bN(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new iae(this.datastore),n=this.Hu(e);n&&n.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((i=>{this.Yu(i)}))))})).catch((r=>{this.Yu(r)}))}))}Hu(e){try{const n=this.updateFunction(e);return!_1(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if((e==null?void 0:e.name)==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!EW(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu="FirestoreClient";class aae{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Hi.UNAUTHENTICATED,this.clientId=$3.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async a=>{ft(Xu,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,(a=>(ft(Xu,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new us;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Hm(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function aC(t,e){t.asyncQueue.verifyOperationInProgress(),ft(Xu,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await rq(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function X8(t,e){t.asyncQueue.verifyOperationInProgress();const n=await FN(t);ft(Xu,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>W8(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>W8(e.remoteStore,i))),t._onlineComponents=e}async function FN(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ft(Xu,"Using user provided OfflineComponentProvider");try{await aC(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===tt.FAILED_PRECONDITION||i.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;jl("Error using user provided cache. Falling back to memory cache: "+n),await aC(t,new Iy)}}else ft(Xu,"Using default OfflineComponentProvider"),await aC(t,new tae(void 0));return t._offlineComponents}async function O_(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ft(Xu,"Using user provided OnlineComponentProvider"),await X8(t,t._uninitializedComponentsProvider._online)):(ft(Xu,"Using default OnlineComponentProvider"),await X8(t,new Ry))),t._onlineComponents}function Nq(t){return FN(t).then((e=>e.persistence))}function MN(t){return FN(t).then((e=>e.localStore))}function kq(t){return O_(t).then((e=>e.remoteStore))}function UN(t){return O_(t).then((e=>e.syncEngine))}function oae(t){return O_(t).then((e=>e.datastore))}async function ym(t){const e=await O_(t),n=e.eventManager;return n.onListen=Mse.bind(null,e.syncEngine),n.onUnlisten=Ose.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Use.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Lse.bind(null,e.syncEngine),n}function lae(t){return t.asyncQueue.enqueue((async()=>{const e=await Nq(t),n=await kq(t);return e.setNetworkEnabled(!0),(function(i){const s=Nt(i);return s.Ea.delete(0),k1(s)})(n)}))}function cae(t){return t.asyncQueue.enqueue((async()=>{const e=await Nq(t),n=await kq(t);return e.setNetworkEnabled(!1),(async function(i){const s=Nt(i);s.Ea.add(0),await qm(s),s.Ra.set("Offline")})(n)}))}function uae(t,e){const n=new us;return t.asyncQueue.enqueueAndForget((async()=>(async function(i,s,a){try{const o=await(function(c,u){const f=Nt(c);return f.persistence.runTransaction("read document","readonly",(h=>f.localDocuments.getDocument(h,u)))})(i,s);o.isFoundDocument()?a.resolve(o):o.isNoDocument()?a.resolve(null):a.reject(new at(tt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(o){const l=Hm(o,`Failed to get document '${s} from cache`);a.reject(l)}})(await MN(t),e,n))),n.promise}function Iq(t,e,n={}){const r=new us;return t.asyncQueue.enqueueAndForget((async()=>(function(s,a,o,l,c){const u=new U_({next:h=>{u.Nu(),a.enqueueAndForget((()=>SN(s,f)));const p=h.docs.has(o);!p&&h.fromCache?c.reject(new at(tt.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?c.reject(new at(tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new AN(Bm(o.path),u,{includeMetadataChanges:!0,qa:!0});return CN(s,f)})(await ym(t),t.asyncQueue,e,n,r))),r.promise}function dae(t,e){const n=new us;return t.asyncQueue.enqueueAndForget((async()=>(async function(i,s,a){try{const o=await mb(i,s,!0),l=new Tq(s,o.Qs),c=l.ru(o.documents),u=l.applyChanges(c,!1);a.resolve(u.snapshot)}catch(o){const l=Hm(o,`Failed to execute query '${s} against cache`);a.reject(l)}})(await MN(t),e,n))),n.promise}function Rq(t,e,n={}){const r=new us;return t.asyncQueue.enqueueAndForget((async()=>(function(s,a,o,l,c){const u=new U_({next:h=>{u.Nu(),a.enqueueAndForget((()=>SN(s,f))),h.fromCache&&l.source==="server"?c.reject(new at(tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new AN(o,u,{includeMetadataChanges:!0,qa:!0});return CN(s,f)})(await ym(t),t.asyncQueue,e,n,r))),r.promise}function fae(t,e){const n=new U_(e);return t.asyncQueue.enqueueAndForget((async()=>(function(i,s){Nt(i).Ca.add(s),s.next()})(await ym(t),n))),()=>{n.Nu(),t.asyncQueue.enqueueAndForget((async()=>(function(i,s){Nt(i).Ca.delete(s)})(await ym(t),n)))}}function hae(t,e,n,r){const i=(function(a,o){let l;return l=typeof a=="string"?SW().encode(a):a,(function(u,f){return new rae(u,f)})((function(u,f){if(u instanceof Uint8Array)return J8(u,f);if(u instanceof ArrayBuffer)return J8(new Uint8Array(u),f);if(u instanceof ReadableStream)return u.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")})(l),o)})(n,N1(e));t.asyncQueue.enqueueAndForget((async()=>{eae(await UN(t),i,r)}))}function pae(t,e){return t.asyncQueue.enqueue((async()=>(function(r,i){const s=Nt(r);return s.persistence.runTransaction("Get named query","readonly",(a=>s.Ii.getNamedQuery(a,i)))})(await MN(t),e)))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pq(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y8=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fq="firestore.googleapis.com",Q8=!0;class Z8{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new at(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Fq,this.ssl=Q8}else this.host=e.host,this.ssl=e.ssl??Q8;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zW;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Mie)throw new at(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Pq(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new at(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new at(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new at(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class I1{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Z8({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new at(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Z8(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Yne;switch(r.type){case"firstParty":return new tre(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new at(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Y8.get(n);r&&(ft("ComponentProvider","Removing Datastore"),Y8.delete(n),r.terminate())})(this),Promise.resolve()}}function mae(t,e,n,r={}){var c;t=Hn(t,I1);const i=zl(e),s=t._getSettings(),a={...s,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${n}`;i&&(g_(`https://${o}`),y_("Firestore",!0)),s.host!==Fq&&s.host!==o&&jl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:o,ssl:i,emulatorOptions:r};if(!Sc(l,a)&&(t._setSettings(l),r.mockUserToken)){let u,f;if(typeof r.mockUserToken=="string")u=r.mockUserToken,f=Hi.MOCK_USER;else{u=F3(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new at(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Hi(h)}t._authCredentials=new Qne(new CV(u,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xs=class Mq{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Mq(this.firestore,e,this._query)}},yr=class D0{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Uu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new D0(this.firestore,e,this._key)}toJSON(){return{type:D0._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(b1(n,D0._jsonSchema))return new D0(e,r||null,new Dt(Dn.fromString(n.referencePath)))}};yr._jsonSchemaVersion="firestore/documentReference/1.0",yr._jsonSchema={type:Ti("string",yr._jsonSchemaVersion),referencePath:Ti("string")};let Uu=class Uq extends Xs{constructor(e,n,r){super(e,n,Bm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yr(this.firestore,null,new Dt(e))}withConverter(e){return new Uq(this.firestore,e,this._path)}};function Oq(t,e,...n){if(t=Mt(t),z3("collection","path",e),t instanceof I1){const r=Dn.fromString(e,...n);return VP(r),new Uu(t,null,r)}{if(!(t instanceof yr||t instanceof Uu))throw new at(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Dn.fromString(e,...n));return VP(r),new Uu(t.firestore,null,r)}}function gae(t,e){if(t=Hn(t,I1),z3("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new at(tt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Xs(t,null,(function(r){return new Uc(Dn.emptyPath(),r)})(e))}function xb(t,e,...n){if(t=Mt(t),arguments.length===1&&(e=$3.newId()),z3("doc","path",e),t instanceof I1){const r=Dn.fromString(e,...n);return BP(r),new yr(t,null,new Dt(r))}{if(!(t instanceof yr||t instanceof Uu))throw new at(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Dn.fromString(e,...n));return BP(r),new yr(t.firestore,t instanceof Uu?t.converter:null,new Dt(r))}}function Lq(t,e){return t=Mt(t),e=Mt(e),(t instanceof yr||t instanceof Uu)&&(e instanceof yr||e instanceof Uu)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function jq(t,e){return t=Mt(t),e=Mt(e),t instanceof Xs&&e instanceof Xs&&t.firestore===e.firestore&&E1(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eF="AsyncQueue";class tF{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new bN(this,"async_queue_retry"),this._c=()=>{const r=w2();r&&ft(eF,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=w2();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=w2();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new us;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!dd(e))throw e;ft(eF,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ci("INTERNAL UNHANDLED ERROR: ",nF(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=EN.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&Rt(47125,{Pc:nF(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function nF(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(t,["next","error","complete"])}class yae{constructor(){this._progressObserver={},this._taskCompletionResolver=new us,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vae=-1;let hi=class extends I1{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new tF,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tF(e),this._firestoreClient=void 0,await e}}};function Ms(t){if(t._terminated)throw new at(tt.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Bq(t),t._firestoreClient}function Bq(t){var r,i,s;const e=t._freezeSettings(),n=(function(o,l,c,u){return new jre(o,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,Pq(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new aae(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}})(t._componentsProvider))}function xae(t,e){jl("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return Vq(t,Ry.provider,{build:r=>new Aq(r,n.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function bae(t){jl("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=t._freezeSettings();Vq(t,Ry.provider,{build:n=>new nae(n,e.cacheSizeBytes)})}function Vq(t,e,n){if((t=Hn(t,hi))._firestoreClient||t._terminated)throw new at(tt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new at(tt.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},Bq(t)}function _ae(t){if(t._initialized&&!t._terminated)throw new at(tt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new us;return t._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await(async function(r){if(!Fl.v())return Promise.resolve();const i=r+eq;await Fl.delete(i)})(gN(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}})),e.promise}function wae(t){return(function(n){const r=new us;return n.asyncQueue.enqueueAndForget((async()=>qse(await UN(n),r))),r.promise})(Ms(t=Hn(t,hi)))}function Tae(t){return lae(Ms(t=Hn(t,hi)))}function Eae(t){return cae(Ms(t=Hn(t,hi)))}function Cae(t,e){const n=Ms(t=Hn(t,hi)),r=new yae;return hae(n,t._databaseId,e,r),r}function Sae(t,e){return pae(Ms(t=Hn(t,hi)),e).then((n=>n?new Xs(t,null,n.query):null))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cs(Zr.fromBase64String(e))}catch(n){throw new at(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Cs(Zr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Cs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(b1(e,Cs._jsonSchema))return Cs.fromBase64String(e.bytes)}}Cs._jsonSchemaVersion="firestore/bytes/1.0",Cs._jsonSchema={type:Ti("string",Cs._jsonSchemaVersion),bytes:Ti("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yu=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new at(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nh=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new at(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new at(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return cn(this._lat,e._lat)||cn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xo._jsonSchemaVersion}}static fromJSON(e){if(b1(e,Xo._jsonSchema))return new Xo(e.latitude,e.longitude)}}Xo._jsonSchemaVersion="firestore/geoPoint/1.0",Xo._jsonSchema={type:Ti("string",Xo._jsonSchemaVersion),latitude:Ti("number"),longitude:Ti("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ul._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(b1(e,Ul._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ul(e.vectorValues);throw new at(tt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ul._jsonSchemaVersion="firestore/vectorValue/1.0",Ul._jsonSchema={type:Ti("string",Ul._jsonSchemaVersion),vectorValues:Ti("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dae=/^__.*__$/;class Aae{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Lc(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vm(e,this.data,n,this.fieldTransforms)}}class Wq{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Lc(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function qq(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rt(40011,{Ac:t})}}class L_{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new L_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return bb(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(qq(this.Ac)&&Dae.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Nae{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||N1(e)}Cc(e,n,r,i=!1){return new L_({Ac:e,methodName:n,Dc:r,path:Fr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rh(t){const e=t._freezeSettings(),n=N1(t._databaseId);return new Nae(t._databaseId,!!e.ignoreUndefinedProperties,n)}function j_(t,e,n,r,i,s={}){const a=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);qN("Data must be an object, but it was:",a,r);const o=Hq(r,a);let l,c;if(s.merge)l=new fa(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const u=[];for(const f of s.mergeFields){const h=uA(e,f,n);if(!a.contains(h))throw new at(tt.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Kq(u,h)||u.push(h)}l=new fa(u),c=a.fieldTransforms.filter((f=>l.covers(f.field)))}else l=null,c=a.fieldTransforms;return new Aae(new ls(o),l,c)}class R1 extends nh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof R1}}function $q(t,e,n){return new L_({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class ON extends nh{_toFieldTransform(e){return new S1(e.path,new cm)}isEqual(e){return e instanceof ON}}class LN extends nh{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=$q(this,e,!0),r=this.vc.map((s=>ih(s,n))),i=new If(r);return new S1(e.path,i)}isEqual(e){return e instanceof LN&&Sc(this.vc,e.vc)}}class jN extends nh{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=$q(this,e,!0),r=this.vc.map((s=>ih(s,n))),i=new Rf(r);return new S1(e.path,i)}isEqual(e){return e instanceof jN&&Sc(this.vc,e.vc)}}class BN extends nh{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new um(e.serializer,yW(e.serializer,this.Fc));return new S1(e.path,n)}isEqual(e){return e instanceof BN&&this.Fc===e.Fc}}function VN(t,e,n,r){const i=t.Cc(1,e,n);qN("Data must be an object, but it was:",i,r);const s=[],a=ls.empty();fd(r,((l,c)=>{const u=$N(e,l,n);c=Mt(c);const f=i.yc(u);if(c instanceof R1)s.push(u);else{const h=ih(c,f);h!=null&&(s.push(u),a.set(u,h))}}));const o=new fa(s);return new Wq(a,o,i.fieldTransforms)}function WN(t,e,n,r,i,s){const a=t.Cc(1,e,n),o=[uA(e,r,n)],l=[i];if(s.length%2!=0)throw new at(tt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)o.push(uA(e,s[h])),l.push(s[h+1]);const c=[],u=ls.empty();for(let h=o.length-1;h>=0;--h)if(!Kq(c,o[h])){const p=o[h];let v=l[h];v=Mt(v);const g=a.yc(p);if(v instanceof R1)c.push(p);else{const y=ih(v,g);y!=null&&(c.push(p),u.set(p,y))}}const f=new fa(c);return new Wq(u,f,a.fieldTransforms)}function zq(t,e,n,r=!1){return ih(n,t.Cc(r?4:3,e))}function ih(t,e){if(Gq(t=Mt(t)))return qN("Unsupported field value:",e,t),Hq(t,e);if(t instanceof nh)return(function(r,i){if(!qq(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let a=0;for(const o of r){let l=ih(o,i.wc(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=Mt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return yW(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Yn.fromDate(r);return{timestampValue:dm(i.serializer,s)}}if(r instanceof Yn){const s=new Yn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:dm(i.serializer,s)}}if(r instanceof Xo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Cs)return{bytesValue:NW(i.serializer,r._byteString)};if(r instanceof yr){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:cN(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ul)return(function(a,o){return{mapValue:{fields:{[Q3]:{stringValue:Z3},[am]:{arrayValue:{values:a.toArray().map((c=>{if(typeof c!="number")throw o.Sc("VectorValues must only contain numeric values.");return rN(o.serializer,c)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${__(r)}`)})(t,e)}function Hq(t,e){const n={};return HV(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fd(t,((r,i)=>{const s=ih(i,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function Gq(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Yn||t instanceof Xo||t instanceof Cs||t instanceof yr||t instanceof nh||t instanceof Ul)}function qN(t,e,n){if(!Gq(n)||!AV(n)){const r=__(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function uA(t,e,n){if((e=Mt(e))instanceof Yu)return e._internalPath;if(typeof e=="string")return $N(t,e);throw bb("Field path arguments must be of type string or ",t,!1,void 0,n)}const kae=new RegExp("[~\\*/\\[\\]]");function $N(t,e,n){if(e.search(kae)>=0)throw bb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Yu(...e.split("."))._internalPath}catch{throw bb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function bb(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new at(tt.INVALID_ARGUMENT,o+t+l)}function Kq(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new yr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Iae(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(B_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Iae extends Py{data(){return super.data()}}function B_(t,e){return typeof e=="string"?$N(t,e):e instanceof Yu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jq(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new at(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zN{}let P1=class extends zN{};function yu(t,e,...n){let r=[];e instanceof zN&&r.push(e),r=r.concat(n),(function(s){const a=s.filter((l=>l instanceof HN)).length,o=s.filter((l=>l instanceof V_)).length;if(a>1||a>0&&o>0)throw new at(tt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class V_ extends P1{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new V_(e,n,r)}_apply(e){const n=this._parse(e);return t$(e._query,n),new Xs(e.firestore,e.converter,XD(e._query,n))}_parse(e){const n=rh(e.firestore);return(function(s,a,o,l,c,u,f){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new at(tt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){iF(f,u);const v=[];for(const g of f)v.push(rF(l,s,g));h={arrayValue:{values:v}}}else h=rF(l,s,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||iF(f,u),h=zq(o,a,f,u==="in"||u==="not-in");return Nn.create(c,u,h)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Rae(t,e,n){const r=e,i=B_("where",t);return V_._create(i,r,n)}class HN extends zN{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new HN(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:sr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,s){let a=i;const o=s.getFlattenedFilters();for(const l of o)t$(a,l),a=XD(a,l)})(e._query,n),new Xs(e.firestore,e.converter,XD(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class GN extends P1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new GN(e,n)}_apply(e){const n=(function(i,s,a){if(i.startAt!==null)throw new at(tt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new at(tt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ay(s,a)})(e._query,this._field,this._direction);return new Xs(e.firestore,e.converter,(function(i,s){const a=i.explicitOrderBy.concat([s]);return new Uc(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function Pae(t,e="asc"){const n=e,r=B_("orderBy",t);return GN._create(r,n)}class W_ extends P1{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new W_(e,n,r)}_apply(e){return new Xs(e.firestore,e.converter,ub(e._query,this._limit,this._limitType))}}function Fae(t){return NV("limit",t),W_._create("limit",t,"F")}function Mae(t){return NV("limitToLast",t),W_._create("limitToLast",t,"L")}let Xq=class Yq extends P1{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Yq(e,n,r)}_apply(e){const n=e$(e,this.type,this._docOrFields,this._inclusive);return new Xs(e.firestore,e.converter,(function(i,s){return new Uc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)})(e._query,n))}};function Uae(...t){return Xq._create("startAt",t,!0)}function Oae(...t){return Xq._create("startAfter",t,!1)}let Qq=class Zq extends P1{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Zq(e,n,r)}_apply(e){const n=e$(e,this.type,this._docOrFields,this._inclusive);return new Xs(e.firestore,e.converter,(function(i,s){return new Uc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)})(e._query,n))}};function Lae(...t){return Qq._create("endBefore",t,!1)}function jae(...t){return Qq._create("endAt",t,!0)}function e$(t,e,n,r){if(n[0]=Mt(n[0]),n[0]instanceof Py)return(function(s,a,o,l,c){if(!l)throw new at(tt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const u=[];for(const f of Mp(s))if(f.field.isKeyField())u.push(Nf(a,l.key));else{const h=l.data.field(f.field);if(S_(h))throw new at(tt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const p=f.field.canonicalString();throw new at(tt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${p}' (used as the orderBy) does not exist.`)}u.push(h)}return new Ku(u,c)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=rh(t.firestore);return(function(a,o,l,c,u,f){const h=a.explicitOrderBy;if(u.length>h.length)throw new at(tt.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const p=[];for(let v=0;v<u.length;v++){const g=u[v];if(h[v].field.isKeyField()){if(typeof g!="string")throw new at(tt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof g}`);if(!tN(a)&&g.indexOf("/")!==-1)throw new at(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${g}' contains a slash.`);const y=a.path.child(Dn.fromString(g));if(!Dt.isDocumentKey(y))throw new at(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${y}' is not because it contains an odd number of segments.`);const _=new Dt(y);p.push(Nf(o,_))}else{const y=zq(l,c,g);p.push(y)}}return new Ku(p,f)})(t._query,t.firestore._databaseId,i,e,n,r)}}function rF(t,e,n){if(typeof(n=Mt(n))=="string"){if(n==="")throw new at(tt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tN(e)&&n.indexOf("/")!==-1)throw new at(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Dn.fromString(n));if(!Dt.isDocumentKey(r))throw new at(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Nf(t,new Dt(r))}if(n instanceof yr)return Nf(t,n._key);throw new at(tt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${__(n)}.`)}function iF(t,e){if(!Array.isArray(t)||t.length===0)throw new at(tt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function t$(t,e){const n=(function(i,s){for(const a of i)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new at(tt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new at(tt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class KN{convertValue(e,n="none"){switch(Hu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Nc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Rt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return fd(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[am].arrayValue)==null?void 0:i.values)==null?void 0:s.map((a=>Rr(a.doubleValue)));return new Ul(n)}convertGeoPoint(e){return new Xo(Rr(e.latitude),Rr(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=D_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Cy(e));default:return null}}convertTimestamp(e){const n=Ac(e);return new Yn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Dn.fromString(e);qt(BW(r),9688,{name:e});const i=new zu(r.get(1),r.get(3)),s=new Dt(r.popFirst(5));return i.isEqual(n)||ci(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Bae extends KN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yr(this.firestore,null,n)}}class of{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let mo=class n$ extends Py{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new q0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(B_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at(tt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=n$._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};mo._jsonSchemaVersion="firestore/documentSnapshot/1.0",mo._jsonSchema={type:Ti("string",mo._jsonSchemaVersion),bundleSource:Ti("string","DocumentSnapshot"),bundleName:Ti("string"),bundle:Ti("string")};let q0=class extends mo{data(e={}){return super.data(e)}},Yo=class r${constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new of(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new q0(this._firestore,this._userDataWriter,r.key,r,new of(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new at(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map((o=>{const l=new q0(i._firestore,i._userDataWriter,o.doc.key,o.doc,new of(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((o=>s||o.type!==3)).map((o=>{const l=new q0(i._firestore,i._userDataWriter,o.doc.key,o.doc,new of(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return o.type!==0&&(c=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),u=a.indexOf(o.doc.key)),{type:Vae(o.type),doc:l,oldIndex:c,newIndex:u}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at(tt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=r$._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=$3.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function Vae(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rt(61501,{type:t})}}function i$(t,e){return t instanceof mo&&e instanceof mo?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Yo&&e instanceof Yo&&t._firestore===e._firestore&&jq(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wae(t){t=Hn(t,yr);const e=Hn(t.firestore,hi);return Iq(Ms(e),t._key).then((n=>JN(e,t,n)))}Yo._jsonSchemaVersion="firestore/querySnapshot/1.0",Yo._jsonSchema={type:Ti("string",Yo._jsonSchemaVersion),bundleSource:Ti("string","QuerySnapshot"),bundleName:Ti("string"),bundle:Ti("string")};class sh extends KN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yr(this.firestore,null,n)}}function qae(t){t=Hn(t,yr);const e=Hn(t.firestore,hi),n=Ms(e),r=new sh(e);return uae(n,t._key).then((i=>new mo(e,r,t._key,i,new of(i!==null&&i.hasLocalMutations,!0),t.converter)))}function $ae(t){t=Hn(t,yr);const e=Hn(t.firestore,hi);return Iq(Ms(e),t._key,{source:"server"}).then((n=>JN(e,t,n)))}function zae(t){t=Hn(t,Xs);const e=Hn(t.firestore,hi),n=Ms(e),r=new sh(e);return Jq(t._query),Rq(n,t._query).then((i=>new Yo(e,r,t,i)))}function Hae(t){t=Hn(t,Xs);const e=Hn(t.firestore,hi),n=Ms(e),r=new sh(e);return dae(n,t._query).then((i=>new Yo(e,r,t,i)))}function Gae(t){t=Hn(t,Xs);const e=Hn(t.firestore,hi),n=Ms(e),r=new sh(e);return Rq(n,t._query,{source:"server"}).then((i=>new Yo(e,r,t,i)))}function sF(t,e,n){t=Hn(t,yr);const r=Hn(t.firestore,hi),i=q_(t.converter,e,n);return F1(r,[j_(rh(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Mr.none())])}function aF(t,e,n,...r){t=Hn(t,yr);const i=Hn(t.firestore,hi),s=rh(i);let a;return a=typeof(e=Mt(e))=="string"||e instanceof Yu?WN(s,"updateDoc",t._key,e,n,r):VN(s,"updateDoc",t._key,e),F1(i,[a.toMutation(t._key,Mr.exists(!0))])}function Kae(t){return F1(Hn(t.firestore,hi),[new Wm(t._key,Mr.none())])}function Jae(t,e){const n=Hn(t.firestore,hi),r=xb(t),i=q_(t.converter,e);return F1(n,[j_(rh(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Mr.exists(!1))]).then((()=>r))}function s$(t,...e){var l,c,u;t=Mt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||cA(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(cA(e[r])){const f=e[r];e[r]=(l=f.next)==null?void 0:l.bind(f),e[r+1]=(c=f.error)==null?void 0:c.bind(f),e[r+2]=(u=f.complete)==null?void 0:u.bind(f)}let s,a,o;if(t instanceof yr)a=Hn(t.firestore,hi),o=Bm(t._key.path),s={next:f=>{e[r]&&e[r](JN(a,t,f))},error:e[r+1],complete:e[r+2]};else{const f=Hn(t,Xs);a=Hn(f.firestore,hi),o=f._query;const h=new sh(a);s={next:p=>{e[r]&&e[r](new Yo(a,h,f,p))},error:e[r+1],complete:e[r+2]},Jq(t._query)}return(function(h,p,v,g){const y=new U_(g),_=new AN(p,y,v);return h.asyncQueue.enqueueAndForget((async()=>CN(await ym(h),_))),()=>{y.Nu(),h.asyncQueue.enqueueAndForget((async()=>SN(await ym(h),_)))}})(Ms(a),o,i,s)}function Xae(t,e){return fae(Ms(t=Hn(t,hi)),cA(e)?e:{next:e})}function F1(t,e){return(function(r,i){const s=new us;return r.asyncQueue.enqueueAndForget((async()=>jse(await UN(r),i,s))),s.promise})(Ms(t),e)}function JN(t,e,n){const r=n.docs.get(e._key),i=new sh(t);return new mo(t,i,e._key,r,new of(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yae={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qae=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=rh(e)}set(e,n,r){this._verifyNotCommitted();const i=Eu(e,this._firestore),s=q_(i.converter,n,r),a=j_(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,Mr.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=Eu(e,this._firestore);let a;return a=typeof(n=Mt(n))=="string"||n instanceof Yu?WN(this._dataReader,"WriteBatch.update",s._key,n,r,i):VN(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(a.toMutation(s._key,Mr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Eu(e,this._firestore);return this._mutations=this._mutations.concat(new Wm(n._key,Mr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new at(tt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Eu(t,e){if((t=Mt(t)).firestore!==e)throw new at(tt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zae{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=rh(e)}get(e){const n=Eu(e,this._firestore),r=new Bae(this._firestore);return this._transaction.lookup([n._key]).then((i=>{if(!i||i.length!==1)return Rt(24041);const s=i[0];if(s.isFoundDocument())return new Py(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new Py(this._firestore,r,n._key,null,n.converter);throw Rt(18433,{doc:s})}))}set(e,n,r){const i=Eu(e,this._firestore),s=q_(i.converter,n,r),a=j_(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,a),this}update(e,n,r,...i){const s=Eu(e,this._firestore);let a;return a=typeof(n=Mt(n))=="string"||n instanceof Yu?WN(this._dataReader,"Transaction.update",s._key,n,r,i):VN(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,a),this}delete(e){const n=Eu(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eoe=class extends Zae{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Eu(e,this._firestore),r=new sh(this._firestore);return super.get(e).then((i=>new mo(this._firestore,r,n._key,i._document,new of(!1,!1),n.converter)))}};function toe(t,e,n){t=Hn(t,hi);const r={...Yae,...n};return(function(s){if(s.maxAttempts<1)throw new at(tt.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(s,a,o){const l=new us;return s.asyncQueue.enqueueAndForget((async()=>{const c=await oae(s);new sae(s.asyncQueue,c,o,a,l).ju()})),l.promise})(Ms(t),(i=>e(new eoe(t,i))),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function noe(){return new R1("deleteField")}function roe(){return new ON("serverTimestamp")}function ioe(...t){return new LN("arrayUnion",t)}function soe(...t){return new jN("arrayRemove",t)}function aoe(t){return new BN("increment",t)}(function(e,n=!0){(function(i){jm=i})(Hl),Ll(new Js("firestore",((r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),o=new hi(new Zne(r.getProvider("auth-internal")),new nre(a,r.getProvider("app-check-internal")),(function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new at(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zu(c.options.projectId,u)})(a,i),a);return s={useFetchStreams:n,...s},o._setSettings(s),o}),"PUBLIC").setMultipleInstances(!0)),Hs(UP,OP,e),Hs(UP,OP,"esm2020")})();const ooe="@firebase/firestore-compat",loe="0.4.1";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new at("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oF(){if(typeof Uint8Array>"u")throw new at("unimplemented","Uint8Arrays are not available in this environment.")}function lF(){if(!Ore())throw new at("unimplemented","Blobs are unavailable in Firestore in this environment.")}let a$=class dA{constructor(e){this._delegate=e}static fromBase64String(e){return lF(),new dA(Cs.fromBase64String(e))}static fromUint8Array(e){return oF(),new dA(Cs.fromUint8Array(e))}toBase64(){return lF(),this._delegate.toBase64()}toUint8Array(){return oF(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(t){return coe(t,["next","error","complete"])}function coe(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uoe{enableIndexedDbPersistence(e,n){return xae(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return bae(e._delegate)}clearIndexedDbPersistence(e){return _ae(e._delegate)}}class o${constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof zu||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&jl("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e={...n,...e},delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){mae(this._delegate,e,n,r)}enableNetwork(){return Tae(this._delegate)}disableNetwork(){return Eae(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,DV("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return wae(this._delegate)}onSnapshotsInSync(e){return Xae(this._delegate,e)}get app(){if(!this._appCompat)throw new at("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new vm(this,Oq(this._delegate,e))}catch(n){throw Ws(n,"collection()","Firestore.collection()")}}doc(e){try{return new fo(this,xb(this._delegate,e))}catch(n){throw Ws(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Uy(this,gae(this._delegate,e))}catch(n){throw Ws(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return toe(this._delegate,n=>e(new l$(this,n)))}batch(){return Ms(this._delegate),new c$(new Qae(this._delegate,e=>F1(this._delegate,e)))}loadBundle(e){return Cae(this._delegate,e)}namedQuery(e){return Sae(this._delegate,e).then(n=>n?new Uy(this,n):null)}}class $_ extends KN{constructor(e){super(),this.firestore=e}convertBytes(e){return new a$(new Cs(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return fo.forKey(n,this.firestore,null)}}function doe(t){Jne(t)}class l${constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new $_(e)}get(e){const n=lf(e);return this._delegate.get(n).then(r=>new Fy(this._firestore,new mo(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=lf(e);return r?(XN("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=lf(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=lf(e);return this._delegate.delete(n),this}}class c${constructor(e){this._delegate=e}set(e,n,r){const i=lf(e);return r?(XN("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=lf(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=lf(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Of{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new q0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new My(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=Of.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new Of(e,new $_(e),n),i.set(n,s)),s}}Of.INSTANCES=new WeakMap;class fo{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new $_(e)}static forPath(e,n,r){if(e.length%2!==0)throw new at("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new fo(n,new yr(n._delegate,r,new Dt(e)))}static forKey(e,n,r){return new fo(n,new yr(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new vm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new vm(this.firestore,Oq(this._delegate,e))}catch(n){throw Ws(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Mt(e),e instanceof yr?Lq(this._delegate,e):!1}set(e,n){n=XN("DocumentReference.set",n);try{return n?sF(this._delegate,e,n):sF(this._delegate,e)}catch(r){throw Ws(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?aF(this._delegate,e):aF(this._delegate,e,n,...r)}catch(i){throw Ws(i,"updateDoc()","DocumentReference.update()")}}delete(){return Kae(this._delegate)}onSnapshot(...e){const n=u$(e),r=d$(e,i=>new Fy(this.firestore,new mo(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return s$(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=qae(this._delegate):(e==null?void 0:e.source)==="server"?n=$ae(this._delegate):n=Wae(this._delegate),n.then(r=>new Fy(this.firestore,new mo(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new fo(this.firestore,e?this._delegate.withConverter(Of.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Ws(t,e,n){return t.message=t.message.replace(e,n),t}function u$(t){for(const e of t)if(typeof e=="object"&&!fA(e))return e;return{}}function d$(t,e){var r,i;let n;return fA(t[0])?n=t[0]:fA(t[1])?n=t[1]:typeof t[0]=="function"?n={next:t[0],error:t[1],complete:t[2]}:n={next:t[1],error:t[2],complete:t[3]},{next:s=>{n.next&&n.next(e(s))},error:(r=n.error)==null?void 0:r.bind(n),complete:(i=n.complete)==null?void 0:i.bind(n)}}class Fy{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new fo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return i$(this._delegate,e._delegate)}}class My extends Fy{data(e){const n=this._delegate.data(e);return this._delegate._converter||Xne(n!==void 0,"Document in a QueryDocumentSnapshot should exist"),n}}let Uy=class yl{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new $_(e)}where(e,n,r){try{return new yl(this.firestore,yu(this._delegate,Rae(e,n,r)))}catch(i){throw Ws(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new yl(this.firestore,yu(this._delegate,Pae(e,n)))}catch(r){throw Ws(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new yl(this.firestore,yu(this._delegate,Fae(e)))}catch(n){throw Ws(n,"limit()","Query.limit()")}}limitToLast(e){try{return new yl(this.firestore,yu(this._delegate,Mae(e)))}catch(n){throw Ws(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new yl(this.firestore,yu(this._delegate,Uae(...e)))}catch(n){throw Ws(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new yl(this.firestore,yu(this._delegate,Oae(...e)))}catch(n){throw Ws(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new yl(this.firestore,yu(this._delegate,Lae(...e)))}catch(n){throw Ws(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new yl(this.firestore,yu(this._delegate,jae(...e)))}catch(n){throw Ws(n,"endAt()","Query.endAt()")}}isEqual(e){return jq(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=Hae(this._delegate):(e==null?void 0:e.source)==="server"?n=Gae(this._delegate):n=zae(this._delegate),n.then(r=>new hA(this.firestore,new Yo(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=u$(e),r=d$(e,i=>new hA(this.firestore,new Yo(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return s$(this._delegate,n,r)}withConverter(e){return new yl(this.firestore,e?this._delegate.withConverter(Of.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};class foe{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new My(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class hA{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Uy(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new My(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new foe(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new My(this._firestore,r))})}isEqual(e){return i$(this._delegate,e._delegate)}}class vm extends Uy{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new fo(this.firestore,e):null}doc(e){try{return e===void 0?new fo(this.firestore,xb(this._delegate)):new fo(this.firestore,xb(this._delegate,e))}catch(n){throw Ws(n,"doc()","CollectionReference.doc()")}}add(e){return Jae(this._delegate,e).then(n=>new fo(this.firestore,n))}isEqual(e){return Lq(this._delegate,e._delegate)}withConverter(e){return new vm(this.firestore,e?this._delegate.withConverter(Of.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function lf(t){return Hn(t,yr)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(...e){this._delegate=new Yu(...e)}static documentId(){return new YN(Fr.keyField().canonicalString())}isEqual(e){return e=Mt(e),e instanceof Yu?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{static serverTimestamp(){const e=roe();return e._methodName="FieldValue.serverTimestamp",new rf(e)}static delete(){const e=noe();return e._methodName="FieldValue.delete",new rf(e)}static arrayUnion(...e){const n=ioe(...e);return n._methodName="FieldValue.arrayUnion",new rf(n)}static arrayRemove(...e){const n=soe(...e);return n._methodName="FieldValue.arrayRemove",new rf(n)}static increment(e){const n=aoe(e);return n._methodName="FieldValue.increment",new rf(n)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hoe={Firestore:o$,GeoPoint:Xo,Timestamp:Yn,Blob:a$,Transaction:l$,WriteBatch:c$,DocumentReference:fo,DocumentSnapshot:Fy,Query:Uy,QueryDocumentSnapshot:My,QuerySnapshot:hA,CollectionReference:vm,FieldPath:YN,FieldValue:rf,setLogLevel:doe,CACHE_SIZE_UNLIMITED:vae};function poe(t,e){t.INTERNAL.registerComponent(new Js("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps({...hoe}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function moe(t){poe(t,(e,n)=>new o$(e,n,new uoe)),t.registerVersion(ooe,loe)}moe(Pr);const Yg={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},lp={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function goe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function f$(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yoe=goe,voe=f$,h$=new eh("auth","Firebase",f$());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b=new Lm("@firebase/auth");function xoe(t,...e){_b.logLevel<=En.WARN&&_b.warn(`Auth (${Hl}): ${t}`,...e)}function T2(t,...e){_b.logLevel<=En.ERROR&&_b.error(`Auth (${Hl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(t,...e){throw ZN(t,...e)}function Ii(t,...e){return ZN(t,...e)}function QN(t,e,n){const r={...voe(),[e]:n};return new eh("auth","Firebase",r).create(e,{appName:t.name})}function Yi(t){return QN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gm(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ds(t,"argument-error"),QN(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ZN(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return h$.create(t,...e)}function gt(t,e,...n){if(!t)throw ZN(e,...n)}function kl(t){const e="INTERNAL ASSERTION FAILED: "+t;throw T2(e),new Error(e)}function tl(t,e){t||kl(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function ek(){return cF()==="http:"||cF()==="https:"}function cF(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function boe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ek()||eV()||"connection"in navigator)?navigator.onLine:!0}function _oe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e,n){this.shortDelay=e,this.longDelay=n,tl(n>e,"Short delay should be less than long delay!"),this.isMobile=M3()||x_()}get(){return boe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(t,e){tl(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p${static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;kl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;kl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;kl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const woe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Toe=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Eoe=new M1(3e4,6e4);function ni(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ri(t,e,n,r,i={}){return m$(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const o=th({key:t.config.apiKey,...a}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...s};return yte()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&zl(t.emulatorConfig.host)&&(c.credentials="include"),p$.fetch()(await g$(t,t.config.apiHost,n,o),c)})}async function m$(t,e,n){t._canInitEmulator=!1;const r={...woe,...e};try{const i=new Soe(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw A0(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw A0(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw A0(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw A0(t,"user-disabled",a);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw QN(t,u,c);ds(t,u)}}catch(i){if(i instanceof Ns)throw i;ds(t,"network-request-failed",{message:String(i)})}}async function Bc(t,e,n,r,i={}){const s=await ri(t,e,n,r,i);return"mfaPendingCredential"in s&&ds(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function g$(t,e,n,r){const i=`${e}${n}?${r}`,s=t,a=s.config.emulator?tk(t.config,i):`${t.config.apiScheme}://${i}`;return Toe.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function Coe(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Soe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ii(this.auth,"network-request-failed")),Eoe.get())})}}function A0(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ii(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uF(t){return t!==void 0&&t.getResponse!==void 0}function dF(t){return t!==void 0&&t.enterprise!==void 0}class y${constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Coe(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Doe(t){return(await ri(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function v$(t,e){return ri(t,"GET","/v2/recaptchaConfig",ni(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aoe(t,e){return ri(t,"POST","/v1/accounts:delete",e)}async function Noe(t,e){return ri(t,"POST","/v1/accounts:update",e)}async function wb(t,e){return ri(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function koe(t,e=!1){const n=Mt(t),r=await n.getIdToken(e),i=z_(r);gt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:$0(oC(i.auth_time)),issuedAtTime:$0(oC(i.iat)),expirationTime:$0(oC(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function oC(t){return Number(t)*1e3}function z_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return T2("JWT malformed, contained fewer than 3 sections"),null;try{const i=py(n);return i?JSON.parse(i):(T2("Failed to decode base64 JWT payload"),null)}catch(i){return T2("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function fF(t){const e=z_(t);return gt(e,"internal-error"),gt(typeof e.exp<"u","internal-error"),gt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ns&&Ioe(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Ioe({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Roe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$0(this.lastLoginAt),this.creationTime=$0(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ly(t){var f;const e=t.auth,n=await t.getIdToken(),r=await kc(t,wb(e,{idToken:n}));gt(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(f=i.providerUserInfo)!=null&&f.length?x$(i.providerUserInfo):[],a=Foe(t.providerData,s),o=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),c=o?l:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new pA(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,u)}async function Poe(t){const e=Mt(t);await Ly(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Foe(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function x$(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Moe(t,e){const n=await m$(t,{},async()=>{const r=th({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=await g$(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:r};return t.emulatorConfig&&zl(t.emulatorConfig.host)&&(l.credentials="include"),p$.fetch()(a,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Uoe(t,e){return ri(t,"POST","/v2/accounts:revokeToken",ni(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){gt(e.idToken,"internal-error"),gt(typeof e.idToken<"u","internal-error"),gt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fF(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){gt(e.length!==0,"internal-error");const n=fF(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(gt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Moe(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new Op;return r&&(gt(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(gt(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(gt(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Op,this.toJSON())}_performRefresh(){return kl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(t,e){gt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class zo{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new Roe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new pA(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await kc(this,this.stsTokenManager.getToken(this.auth,e));return gt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return koe(this,e)}reload(){return Poe(this)}_assign(e){this!==e&&(gt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new zo({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){gt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ly(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mr(this.auth.app))return Promise.reject(Yi(this.auth));const e=await this.getIdToken();return await kc(this,Aoe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,a=n.photoURL??void 0,o=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:p,providerData:v,stsTokenManager:g}=n;gt(f&&g,e,"internal-error");const y=Op.fromJSON(this.name,g);gt(typeof f=="string",e,"internal-error"),vu(r,e.name),vu(i,e.name),gt(typeof h=="boolean",e,"internal-error"),gt(typeof p=="boolean",e,"internal-error"),vu(s,e.name),vu(a,e.name),vu(o,e.name),vu(l,e.name),vu(c,e.name),vu(u,e.name);const _=new zo({uid:f,auth:e,email:i,emailVerified:h,displayName:r,isAnonymous:p,photoURL:a,phoneNumber:s,tenantId:o,stsTokenManager:y,createdAt:c,lastLoginAt:u});return v&&Array.isArray(v)&&(_.providerData=v.map(x=>({...x}))),l&&(_._redirectEventId=l),_}static async _fromIdTokenResponse(e,n,r=!1){const i=new Op;i.updateFromServerResponse(n);const s=new zo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ly(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];gt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?x$(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new Op;o.updateFromIdToken(r);const l=new zo({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new pA(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hF=new Map;function Oa(t){tl(t instanceof Function,"Expected a class definition");let e=hF.get(t);return e?(tl(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,hF.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b${constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}b$.type="NONE";const xm=b$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vf(t,e,n){return`firebase:${t}:${e}:${n}`}class Lp{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=vf(this.userKey,i.apiKey,s),this.fullPersistenceKey=vf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await wb(this.auth,{idToken:e}).catch(()=>{});return n?zo._fromGetAccountInfoResponse(this.auth,n,e):null}return zo._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Lp(Oa(xm),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Oa(xm);const a=vf(r,e.config.apiKey,e.name);let o=null;for(const c of n)try{const u=await c._get(a);if(u){let f;if(typeof u=="string"){const h=await wb(e,{idToken:u}).catch(()=>{});if(!h)break;f=await zo._fromGetAccountInfoResponse(e,h,u)}else f=zo._fromJSON(e,u);c!==s&&(o=f),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Lp(s,e,r):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(a)}catch{}})),new Lp(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pF(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(E$(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_$(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(C$(e))return"Blackberry";if(S$(e))return"Webos";if(w$(e))return"Safari";if((e.includes("chrome/")||T$(e))&&!e.includes("edge/"))return"Chrome";if(U1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function _$(t=zr()){return/firefox\//i.test(t)}function w$(t=zr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function T$(t=zr()){return/crios\//i.test(t)}function E$(t=zr()){return/iemobile/i.test(t)}function U1(t=zr()){return/android/i.test(t)}function C$(t=zr()){return/blackberry/i.test(t)}function S$(t=zr()){return/webos/i.test(t)}function O1(t=zr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Ooe(t=zr()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function Loe(t=zr()){var e;return O1(t)&&!!((e=window.navigator)!=null&&e.standalone)}function joe(){return tV()&&document.documentMode===10}function D$(t=zr()){return O1(t)||U1(t)||S$(t)||C$(t)||/windows phone/i.test(t)||E$(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A$(t,e=[]){let n;switch(t){case"Browser":n=pF(zr());break;case"Worker":n=`${pF(zr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Hl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Boe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Voe(t,e={}){return ri(t,"GET","/v2/passwordPolicy",ni(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Woe=6;class qoe{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Woe,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $oe{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mF(this),this.idTokenSubscription=new mF(this),this.beforeStateQueue=new Boe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=h$,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Oa(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Lp.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await wb(this,{idToken:e}),r=await zo._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(mr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(s=this.redirectUser)==null?void 0:s._redirectEventId,o=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return gt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ly(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_oe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(mr(this.app))return Promise.reject(Yi(this));const n=e?Mt(e):null;return n&&gt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&gt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return mr(this.app)?Promise.reject(Yi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return mr(this.app)?Promise.reject(Yi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Oa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Voe(this),n=new qoe(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new eh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Uoe(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Oa(e)||this._popupRedirectResolver;gt(n,this,"argument-error"),this.redirectPersistenceManager=await Lp.create(this,[Oa(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(gt(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return gt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=A$(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(mr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&xoe(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Gr(t){return Mt(t)}class mF{constructor(e){this.auth=e,this.observer=null,this.addObserver=sV(n=>this.observer=n)}get next(){return gt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let L1={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zoe(t){L1=t}function nk(t){return L1.loadJS(t)}function Hoe(){return L1.recaptchaV2Script}function Goe(){return L1.recaptchaEnterpriseScript}function Koe(){return L1.gapiScript}function N$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Joe=500,Xoe=6e4,Dx=1e12;class Yoe{constructor(e){this.auth=e,this.counter=Dx,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new ele(e,this.auth.name,n||{})),this.counter++,r}reset(e){var r;const n=e||Dx;(r=this._widgets.get(n))==null||r.delete(),this._widgets.delete(n)}getResponse(e){var r;const n=e||Dx;return((r=this._widgets.get(n))==null?void 0:r.getResponse())||""}async execute(e){var r;const n=e||Dx;return(r=this._widgets.get(n))==null||r.execute(),""}}class Qoe{constructor(){this.enterprise=new Zoe}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Zoe{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class ele{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;gt(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=tle(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},Xoe)},Joe))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function tle(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}const nle="recaptcha-enterprise",z0="NO_RECAPTCHA";class k${constructor(e){this.type=nle,this.auth=Gr(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{v$(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new y$(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,a(c.siteKey)}}).catch(l=>{o(l)})})}function i(s,a,o){const l=window.grecaptcha;dF(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{a(c)}).catch(()=>{a(z0)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Qoe().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{r(this.auth).then(o=>{if(!n&&dF(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Goe();l.length!==0&&(l+=o),nk(l).then(()=>{i(o,s,a)}).catch(c=>{a(c)})}}).catch(o=>{a(o)})})}}async function Qg(t,e,n,r=!1,i=!1){const s=new k$(t);let a;if(i)a=z0;else try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const o={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,c=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Ou(t,e,n,r,i){var s,a;if(i==="EMAIL_PASSWORD_PROVIDER")if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Qg(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Qg(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)});else if(i==="PHONE_PROVIDER")if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("PHONE_PROVIDER")){const o=await Qg(t,e,n);return r(t,o).catch(async l=>{var c;if(((c=t._getRecaptchaConfig())==null?void 0:c.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const u=await Qg(t,e,n,!1,!0);return r(t,u)}return Promise.reject(l)})}else{const o=await Qg(t,e,n,!1,!0);return r(t,o)}else return Promise.reject(i+" provider is not supported.")}async function rle(t){const e=Gr(t),n=await v$(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new y$(n);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new k$(e).verify()}function ile(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Oa);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function sle(t,e,n){const r=Gr(t);gt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=I$(e),{host:a,port:o}=ale(e),l=o===null?"":`:${o}`,c={url:`${s}//${a}${l}/`},u=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){gt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),gt(Sc(c,r.config.emulator)&&Sc(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,zl(a)?(g_(`${s}//${a}${l}`),y_("Auth",!0)):i||ole()}function I$(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ale(t){const e=I$(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:gF(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:gF(a)}}}function gF(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function ole(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return kl("not implemented")}_getIdTokenResponse(e){return kl("not implemented")}_linkToIdToken(e,n){return kl("not implemented")}_getReauthenticationResolver(e){return kl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R$(t,e){return ri(t,"POST","/v1/accounts:resetPassword",ni(t,e))}async function lle(t,e){return ri(t,"POST","/v1/accounts:update",e)}async function cle(t,e){return ri(t,"POST","/v1/accounts:signUp",e)}async function ule(t,e){return ri(t,"POST","/v1/accounts:update",ni(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dle(t,e){return Bc(t,"POST","/v1/accounts:signInWithPassword",ni(t,e))}async function H_(t,e){return ri(t,"POST","/v1/accounts:sendOobCode",ni(t,e))}async function fle(t,e){return H_(t,e)}async function hle(t,e){return H_(t,e)}async function ple(t,e){return H_(t,e)}async function mle(t,e){return H_(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gle(t,e){return Bc(t,"POST","/v1/accounts:signInWithEmailLink",ni(t,e))}async function yle(t,e){return Bc(t,"POST","/v1/accounts:signInWithEmailLink",ni(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy extends Km{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new jy(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new jy(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ou(e,n,"signInWithPassword",dle,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return gle(e,{email:this._email,oobCode:this._password});default:ds(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ou(e,r,"signUpPassword",cle,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return yle(e,{idToken:n,email:this._email,oobCode:this._password});default:ds(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gc(t,e){return Bc(t,"POST","/v1/accounts:signInWithIdp",ni(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vle="http://localhost";class Vl extends Km{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Vl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ds("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const a=new Vl(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return gc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,gc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,gc(e,n)}buildRequest(){const e={requestUri:vle,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=th(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yF(t,e){return ri(t,"POST","/v1/accounts:sendVerificationCode",ni(t,e))}async function xle(t,e){return Bc(t,"POST","/v1/accounts:signInWithPhoneNumber",ni(t,e))}async function ble(t,e){const n=await Bc(t,"POST","/v1/accounts:signInWithPhoneNumber",ni(t,e));if(n.temporaryProof)throw A0(t,"account-exists-with-different-credential",n);return n}const _le={USER_NOT_FOUND:"user-not-found"};async function wle(t,e){const n={...e,operation:"REAUTH"};return Bc(t,"POST","/v1/accounts:signInWithPhoneNumber",ni(t,n),_le)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf extends Km{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new xf({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new xf({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return xle(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return ble(e,{idToken:n,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return wle(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!n&&!i&&!s?null:new xf({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tle(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Ele(t){const e=Ip(w0(t)).link,n=e?Ip(w0(e)).deep_link_id:null,r=Ip(w0(t)).deep_link_id;return(r?Ip(w0(r)).link:null)||r||n||e||t}class G_{constructor(e){const n=Ip(w0(e)),r=n.apiKey??null,i=n.oobCode??null,s=Tle(n.mode??null);gt(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Ele(e);try{return new G_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(){this.providerId=md.PROVIDER_ID}static credential(e,n){return jy._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=G_.parseLink(n);return gt(r,"argument-error"),jy._fromEmailAndCode(e,r.code,r.tenantId)}}md.PROVIDER_ID="password";md.EMAIL_PASSWORD_SIGN_IN_METHOD="password";md.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm extends Vc{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class jp extends Jm{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return gt("providerId"in n&&"signInMethod"in n,"argument-error"),Vl._fromParams(n)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return gt(e.idToken||e.accessToken,"argument-error"),Vl._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return jp.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return jp.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:a,providerId:o}=e;if(!r&&!i&&!n&&!s||!o)return null;try{return new jp(o)._credential({idToken:n,accessToken:r,nonce:a,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl extends Jm{constructor(){super("facebook.com")}static credential(e){return Vl._fromParams({providerId:Tl.PROVIDER_ID,signInMethod:Tl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Tl.credentialFromTaggedObject(e)}static credentialFromError(e){return Tl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Tl.credential(e.oauthAccessToken)}catch{return null}}}Tl.FACEBOOK_SIGN_IN_METHOD="facebook.com";Tl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El extends Jm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Vl._fromParams({providerId:El.PROVIDER_ID,signInMethod:El.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return El.credentialFromTaggedObject(e)}static credentialFromError(e){return El.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return El.credential(n,r)}catch{return null}}}El.GOOGLE_SIGN_IN_METHOD="google.com";El.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl extends Jm{constructor(){super("github.com")}static credential(e){return Vl._fromParams({providerId:Cl.PROVIDER_ID,signInMethod:Cl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cl.credentialFromTaggedObject(e)}static credentialFromError(e){return Cl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cl.credential(e.oauthAccessToken)}catch{return null}}}Cl.GITHUB_SIGN_IN_METHOD="github.com";Cl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cle="http://localhost";class bm extends Km{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return gc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,gc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,gc(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=n;return!r||!i||!s||r!==i?null:new bm(r,s)}static _create(e,n){return new bm(e,n)}buildRequest(){return{requestUri:Cle,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sle="saml.";class Tb extends Vc{constructor(e){gt(e.startsWith(Sle),"argument-error"),super(e)}static credentialFromResult(e){return Tb.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Tb.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=bm.fromJSON(e);return gt(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return bm._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl extends Jm{constructor(){super("twitter.com")}static credential(e,n){return Vl._fromParams({providerId:Sl.PROVIDER_ID,signInMethod:Sl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Sl.credentialFromTaggedObject(e)}static credentialFromError(e){return Sl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Sl.credential(n,r)}catch{return null}}}Sl.TWITTER_SIGN_IN_METHOD="twitter.com";Sl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P$(t,e){return Bc(t,"POST","/v1/accounts:signUp",ni(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await zo._fromIdTokenResponse(e,r,i),a=vF(r);return new bo({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=vF(r);return new bo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function vF(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dle(t){var i;if(mr(t.app))return Promise.reject(Yi(t));const e=Gr(t);if(await e._initializationPromise,(i=e.currentUser)!=null&&i.isAnonymous)return new bo({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await P$(e,{returnSecureToken:!0}),r=await bo._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb extends Ns{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Eb.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Eb(e,n,r,i)}}function F$(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Eb._fromErrorAndOperation(t,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M$(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ale(t,e){const n=Mt(t);await K_(!0,n,e);const{providerUserInfo:r}=await Noe(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=M$(r||[]);return n.providerData=n.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function rk(t,e,n=!1){const r=await kc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return bo._forOperation(t,"link",r)}async function K_(t,e,n){await Ly(e);const r=M$(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";gt(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U$(t,e,n=!1){const{auth:r}=t;if(mr(r.app))return Promise.reject(Yi(r));const i="reauthenticate";try{const s=await kc(t,F$(r,i,e,t),n);gt(s.idToken,r,"internal-error");const a=z_(s.idToken);gt(a,r,"internal-error");const{sub:o}=a;return gt(t.uid===o,r,"user-mismatch"),bo._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ds(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O$(t,e,n=!1){if(mr(t.app))return Promise.reject(Yi(t));const r="signIn",i=await F$(t,r,e),s=await bo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function J_(t,e){return O$(Gr(t),e)}async function L$(t,e){const n=Mt(t);return await K_(!1,n,e.providerId),rk(n,e)}async function j$(t,e){return U$(Mt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nle(t,e){return Bc(t,"POST","/v1/accounts:signInWithCustomToken",ni(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kle(t,e){if(mr(t.app))return Promise.reject(Yi(t));const n=Gr(t),r=await Nle(n,{token:e,returnSecureToken:!0}),i=await bo._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?ik._fromServerResponse(e,n):"totpInfo"in n?sk._fromServerResponse(e,n):ds(e,"internal-error")}}class ik extends j1{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new ik(n)}}class sk extends j1{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new sk(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(t,e,n){var r;gt(((r=n.url)==null?void 0:r.length)>0,t,"invalid-continue-uri"),gt(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),gt(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(gt(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(gt(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ak(t){const e=Gr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Ile(t,e,n){const r=Gr(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&X_(r,i,n),await Ou(r,i,"getOobCode",hle,"EMAIL_PASSWORD_PROVIDER")}async function Rle(t,e,n){await R$(Mt(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ak(t),r})}async function Ple(t,e){await ule(Mt(t),{oobCode:e})}async function B$(t,e){const n=Mt(t),r=await R$(n,{oobCode:e}),i=r.requestType;switch(gt(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":gt(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":gt(r.mfaInfo,n,"internal-error");default:gt(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=j1._fromServerResponse(Gr(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function Fle(t,e){const{data:n}=await B$(Mt(t),e);return n.email}async function Mle(t,e,n){if(mr(t.app))return Promise.reject(Yi(t));const r=Gr(t),a=await Ou(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",P$,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&ak(t),l}),o=await bo._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(o.user),o}function Ule(t,e,n){return mr(t.app)?Promise.reject(Yi(t)):J_(Mt(t),md.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ak(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ole(t,e,n){const r=Gr(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(a,o){gt(o.handleCodeInApp,r,"argument-error"),o&&X_(r,a,o)}s(i,n),await Ou(r,i,"getOobCode",ple,"EMAIL_PASSWORD_PROVIDER")}function Lle(t,e){const n=G_.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function jle(t,e,n){if(mr(t.app))return Promise.reject(Yi(t));const r=Mt(t),i=md.credentialWithLink(e,n||Oy());return gt(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),J_(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ble(t,e){return ri(t,"POST","/v1/accounts:createAuthUri",ni(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vle(t,e){const n=ek()?Oy():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await Ble(Mt(t),r);return i||[]}async function Wle(t,e){const n=Mt(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&X_(n.auth,i,e);const{email:s}=await fle(n.auth,i);s!==t.email&&await t.reload()}async function qle(t,e,n){const r=Mt(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&X_(r.auth,s,n);const{email:a}=await mle(r.auth,s);a!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $le(t,e){return ri(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zle(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Mt(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await kc(r,$le(r.auth,s));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const o=r.providerData.find(({providerId:l})=>l==="password");o&&(o.displayName=r.displayName,o.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function Hle(t,e){const n=Mt(t);return mr(n.auth.app)?Promise.reject(Yi(n.auth)):V$(n,e,null)}function Gle(t,e){return V$(Mt(t),null,e)}async function V$(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const a=await kc(t,lle(r,s));await t._updateTokensIfNecessary(a,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kle(t){var i,s;if(!t)return null;const{providerId:e}=t,n=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},r=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!e&&(t!=null&&t.idToken)){const a=(s=(i=z_(t.idToken))==null?void 0:i.firebase)==null?void 0:s.sign_in_provider;if(a){const o=a!=="anonymous"&&a!=="custom"?a:null;return new Bp(r,o)}}if(!e)return null;switch(e){case"facebook.com":return new Jle(r,n);case"github.com":return new Xle(r,n);case"google.com":return new Yle(r,n);case"twitter.com":return new Qle(r,n,t.screenName||null);case"custom":case"anonymous":return new Bp(r,null);default:return new Bp(r,e,n)}}class Bp{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class W$ extends Bp{constructor(e,n,r,i){super(e,n,r),this.username=i}}class Jle extends Bp{constructor(e,n){super(e,"facebook.com",n)}}class Xle extends W${constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class Yle extends Bp{constructor(e,n){super(e,"google.com",n)}}class Qle extends W${constructor(e,n,r){super(e,"twitter.com",n,r)}}function Zle(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:Kle(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new cf("enroll",e,n)}static _fromMfaPendingCredential(e){return new cf("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if((n=e.multiFactorSession)!=null&&n.pendingCredential)return cf._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if((r=e.multiFactorSession)!=null&&r.idToken)return cf._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=Gr(e),i=n.customData._serverResponse,s=(i.mfaInfo||[]).map(o=>j1._fromServerResponse(r,o));gt(i.mfaPendingCredential,r,"internal-error");const a=cf._fromMfaPendingCredential(i.mfaPendingCredential);return new ok(a,s,async o=>{const l=await o._process(r,a);delete i.mfaInfo,delete i.mfaPendingCredential;const c={...i,idToken:l.idToken,refreshToken:l.refreshToken};switch(n.operationType){case"signIn":const u=await bo._fromIdTokenResponse(r,n.operationType,c);return await r._updateCurrentUser(u.user),u;case"reauthenticate":return gt(n.user,r,"internal-error"),bo._forOperation(n.user,n.operationType,c);default:ds(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function ece(t,e){var i;const n=Mt(t),r=e;return gt(e.customData.operationType,n,"argument-error"),gt((i=r.customData._serverResponse)==null?void 0:i.mfaPendingCredential,n,"argument-error"),ok._fromError(n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xF(t,e){return ri(t,"POST","/v2/accounts/mfaEnrollment:start",ni(t,e))}function tce(t,e){return ri(t,"POST","/v2/accounts/mfaEnrollment:finalize",ni(t,e))}function nce(t,e){return ri(t,"POST","/v2/accounts/mfaEnrollment:withdraw",ni(t,e))}class lk{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>j1._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new lk(e)}async getSession(){return cf._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,i=await this.getSession(),s=await kc(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await kc(this.user,nce(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const lC=new WeakMap;function rce(t){const e=Mt(t);return lC.has(e)||lC.set(e,lk._fromUser(e)),lC.get(e)}const Cb="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q${constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Cb,"1"),this.storage.removeItem(Cb),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ice=1e3,sce=10;class $$ extends q${constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=D$(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);joe()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,sce):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},ice)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}$$.type="LOCAL";const ck=$$;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z$ extends q${constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}z$.type="SESSION";const Lf=z$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ace(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Y_(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(a).map(async c=>c(n.origin,s)),l=await ace(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Y_.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oce{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const c=B1("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(h.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(){return window}function lce(t){wi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(){return typeof wi().WorkerGlobalScope<"u"&&typeof wi().importScripts=="function"}async function cce(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uce(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function dce(){return uk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H$="firebaseLocalStorageDb",fce=1,Sb="firebaseLocalStorage",G$="fbase_key";class V1{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Q_(t,e){return t.transaction([Sb],e?"readwrite":"readonly").objectStore(Sb)}function hce(){const t=indexedDB.deleteDatabase(H$);return new V1(t).toPromise()}function mA(){const t=indexedDB.open(H$,fce);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Sb,{keyPath:G$})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Sb)?e(r):(r.close(),await hce(),e(await mA()))})})}async function bF(t,e,n){const r=Q_(t,!0).put({[G$]:e,value:n});return new V1(r).toPromise()}async function pce(t,e){const n=Q_(t,!1).get(e),r=await new V1(n).toPromise();return r===void 0?null:r.value}function _F(t,e){const n=Q_(t,!0).delete(e);return new V1(n).toPromise()}const mce=800,gce=3;class K${constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mA(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>gce)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Y_._getInstance(dce()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await cce(),!this.activeServiceWorker)return;this.sender=new oce(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||uce()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mA();return await bF(e,Cb,"1"),await _F(e,Cb),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>bF(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>pce(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>_F(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Q_(i,!1).getAll();return new V1(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),mce)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}K$.type="LOCAL";const By=K$;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wF(t,e){return ri(t,"POST","/v2/accounts/mfaSignIn:start",ni(t,e))}function yce(t,e){return ri(t,"POST","/v2/accounts/mfaSignIn:finalize",ni(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=N$("rcb"),vce=new M1(3e4,6e4);class xce{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!((e=wi().grecaptcha)!=null&&e.render)}load(e,n=""){return gt(bce(n),e,"argument-error"),this.shouldResolveImmediately(n)&&uF(wi().grecaptcha)?Promise.resolve(wi().grecaptcha):new Promise((r,i)=>{const s=wi().setTimeout(()=>{i(Ii(e,"network-request-failed"))},vce.get());wi()[cC]=()=>{wi().clearTimeout(s),delete wi()[cC];const o=wi().grecaptcha;if(!o||!uF(o)){i(Ii(e,"internal-error"));return}const l=o.render;o.render=(c,u)=>{const f=l(c,u);return this.counter++,f},this.hostLanguage=n,r(o)};const a=`${Hoe()}?${th({onload:cC,render:"explicit",hl:n})}`;nk(a).catch(()=>{clearTimeout(s),i(Ii(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!((n=wi().grecaptcha)!=null&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function bce(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class _ce{async load(e){return new Yoe(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0="recaptcha",wce={theme:"light",type:"image"};let Tce=class{constructor(e,n,r={...wce}){this.parameters=r,this.type=H0,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Gr(e),this.isInvisible=this.parameters.size==="invisible",gt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;gt(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new _ce:new xce,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const s=a=>{a&&(this.tokenChangeListeners.delete(s),i(a))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){gt(!this.parameters.sitekey,this.auth,"argument-error"),gt(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),gt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=wi()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){gt(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){gt(ek()&&!uk(),this.auth,"internal-error"),await Ece(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await Doe(this.auth);gt(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return gt(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function Ece(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=xf._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function Cce(t,e,n){if(mr(t.app))return Promise.reject(Yi(t));const r=Gr(t),i=await Z_(r,e,Mt(n));return new dk(i,s=>J_(r,s))}async function Sce(t,e,n){const r=Mt(t);await K_(!1,r,"phone");const i=await Z_(r.auth,e,Mt(n));return new dk(i,s=>L$(r,s))}async function Dce(t,e,n){const r=Mt(t);if(mr(r.auth.app))return Promise.reject(Yi(r.auth));const i=await Z_(r.auth,e,Mt(n));return new dk(i,s=>j$(r,s))}async function Z_(t,e,n){var r;if(!t._getRecaptchaConfig())try{await rle(t)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const s=i.session;if("phoneNumber"in i){gt(s.type==="enroll",t,"internal-error");const a={idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Ou(t,a,"mfaSmsEnrollment",async(u,f)=>{if(f.phoneEnrollmentInfo.captchaResponse===z0){gt((n==null?void 0:n.type)===H0,u,"argument-error");const h=await uC(u,f,n);return xF(u,h)}return xF(u,f)},"PHONE_PROVIDER").catch(u=>Promise.reject(u))).phoneSessionInfo.sessionInfo}else{gt(s.type==="signin",t,"internal-error");const a=((r=i.multiFactorHint)==null?void 0:r.uid)||i.multiFactorUid;gt(a,t,"missing-multi-factor-info");const o={mfaPendingCredential:s.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Ou(t,o,"mfaSmsSignIn",async(f,h)=>{if(h.phoneSignInInfo.captchaResponse===z0){gt((n==null?void 0:n.type)===H0,f,"argument-error");const p=await uC(f,h,n);return wF(f,p)}return wF(f,h)},"PHONE_PROVIDER").catch(f=>Promise.reject(f))).phoneResponseInfo.sessionInfo}}else{const s={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Ou(t,s,"sendVerificationCode",async(c,u)=>{if(u.captchaResponse===z0){gt((n==null?void 0:n.type)===H0,c,"argument-error");const f=await uC(c,u,n);return yF(c,f)}return yF(c,u)},"PHONE_PROVIDER").catch(c=>Promise.reject(c))).sessionInfo}}finally{n==null||n._reset()}}async function Ace(t,e){const n=Mt(t);if(mr(n.auth.app))return Promise.reject(Yi(n.auth));await rk(n,e)}async function uC(t,e,n){gt(n.type===H0,t,"argument-error");const r=await n.verify();gt(typeof r=="string",t,"argument-error");const i={...e};if("phoneEnrollmentInfo"in i){const s=i.phoneEnrollmentInfo.phoneNumber,a=i.phoneEnrollmentInfo.captchaResponse,o=i.phoneEnrollmentInfo.clientType,l=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:s,recaptchaToken:r,captchaResponse:a,clientType:o,recaptchaVersion:l}}),i}else if("phoneSignInInfo"in i){const s=i.phoneSignInInfo.captchaResponse,a=i.phoneSignInInfo.clientType,o=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:s,clientType:a,recaptchaVersion:o}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jf=class E2{constructor(e){this.providerId=E2.PROVIDER_ID,this.auth=Gr(e)}verifyPhoneNumber(e,n){return Z_(this.auth,e,Mt(n))}static credential(e,n){return xf._fromVerification(e,n)}static credentialFromResult(e){const n=e;return E2.credentialFromTaggedObject(n)}static credentialFromError(e){return E2.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?xf._fromTokenResponse(n,r):null}};jf.PROVIDER_ID="phone";jf.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(t,e){return e?Oa(e):(gt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk extends Km{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return gc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return gc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return gc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Nce(t){return O$(t.auth,new fk(t),t.bypassAuthState)}function kce(t){const{auth:e,user:n}=t;return gt(n,e,"internal-error"),U$(n,new fk(t),t.bypassAuthState)}async function Ice(t){const{auth:e,user:n}=t;return gt(n,e,"internal-error"),rk(n,new fk(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J${constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Nce;case"linkViaPopup":case"linkViaRedirect":return Ice;case"reauthViaPopup":case"reauthViaRedirect":return kce;default:ds(this.auth,"internal-error")}}resolve(e){tl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){tl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rce=new M1(2e3,1e4);async function Pce(t,e,n){if(mr(t.app))return Promise.reject(Ii(t,"operation-not-supported-in-this-environment"));const r=Gr(t);Gm(t,e,Vc);const i=ah(r,n);return new dc(r,"signInViaPopup",e,i).executeNotNull()}async function Fce(t,e,n){const r=Mt(t);if(mr(r.auth.app))return Promise.reject(Ii(r.auth,"operation-not-supported-in-this-environment"));Gm(r.auth,e,Vc);const i=ah(r.auth,n);return new dc(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function Mce(t,e,n){const r=Mt(t);Gm(r.auth,e,Vc);const i=ah(r.auth,n);return new dc(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class dc extends J${constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,dc.currentPopupAction&&dc.currentPopupAction.cancel(),dc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return gt(e,this.auth,"internal-error"),e}async onExecution(){tl(this.filter.length===1,"Popup operations only handle one event");const e=B1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,dc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Rce.get())};e()}}dc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uce="pendingRedirect",G0=new Map;class Oce extends J${constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=G0.get(this.auth._key());if(!e){try{const r=await Lce(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}G0.set(this.auth._key(),e)}return this.bypassAuthState||G0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Lce(t,e){const n=Y$(e),r=X$(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function hk(t,e){return X$(t)._set(Y$(e),"true")}function jce(){G0.clear()}function pk(t,e){G0.set(t._key(),e)}function X$(t){return Oa(t._redirectPersistence)}function Y$(t){return vf(Uce,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bce(t,e,n){return Vce(t,e,n)}async function Vce(t,e,n){if(mr(t.app))return Promise.reject(Yi(t));const r=Gr(t);Gm(t,e,Vc),await r._initializationPromise;const i=ah(r,n);return await hk(i,r),i._openRedirect(r,e,"signInViaRedirect")}function Wce(t,e,n){return qce(t,e,n)}async function qce(t,e,n){const r=Mt(t);if(Gm(r.auth,e,Vc),mr(r.auth.app))return Promise.reject(Yi(r.auth));await r.auth._initializationPromise;const i=ah(r.auth,n);await hk(i,r.auth);const s=await Q$(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function $ce(t,e,n){return zce(t,e,n)}async function zce(t,e,n){const r=Mt(t);Gm(r.auth,e,Vc),await r.auth._initializationPromise;const i=ah(r.auth,n);await K_(!1,r,e.providerId),await hk(i,r.auth);const s=await Q$(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function Hce(t,e){return await Gr(t)._initializationPromise,ew(t,e,!1)}async function ew(t,e,n=!1){if(mr(t.app))return Promise.reject(Yi(t));const r=Gr(t),i=ah(r,e),a=await new Oce(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}async function Q$(t){const e=B1(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gce=600*1e3;class Z${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Kce(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!ez(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ii(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Gce&&this.cachedEventUids.clear(),this.cachedEventUids.has(TF(e))}saveEventToCache(e){this.cachedEventUids.add(TF(e)),this.lastProcessedEventTime=Date.now()}}function TF(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ez({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Kce(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ez(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tz(t,e={}){return ri(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jce=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Xce=/^https?/;async function Yce(t){if(t.config.emulator)return;const{authorizedDomains:e}=await tz(t);for(const n of e)try{if(Qce(n))return}catch{}ds(t,"unauthorized-domain")}function Qce(t){const e=Oy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!Xce.test(n))return!1;if(Jce.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zce=new M1(3e4,6e4);function EF(){const t=wi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function eue(t){return new Promise((e,n)=>{var i,s,a;function r(){EF(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{EF(),n(Ii(t,"network-request-failed"))},timeout:Zce.get()})}if((s=(i=wi().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((a=wi().gapi)!=null&&a.load)r();else{const o=N$("iframefcb");return wi()[o]=()=>{gapi.load?r():n(Ii(t,"network-request-failed"))},nk(`${Koe()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw C2=null,e})}let C2=null;function tue(t){return C2=C2||eue(t),C2}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nue=new M1(5e3,15e3),rue="__/auth/iframe",iue="emulator/auth/iframe",sue={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aue=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oue(t){const e=t.config;gt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?tk(e,iue):`https://${t.config.authDomain}/${rue}`,r={apiKey:e.apiKey,appName:t.name,v:Hl},i=aue.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${th(r).slice(1)}`}async function lue(t){const e=await tue(t),n=wi().gapi;return gt(n,t,"internal-error"),e.open({where:document.body,url:oue(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sue,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=Ii(t,"network-request-failed"),o=wi().setTimeout(()=>{s(a)},nue.get());function l(){wi().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cue={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uue=500,due=600,fue="_blank",hue="http://localhost";class CF{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pue(t,e,n,r=uue,i=due){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l={...cue,width:r.toString(),height:i.toString(),top:s,left:a},c=zr().toLowerCase();n&&(o=T$(c)?fue:n),_$(c)&&(e=e||hue,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,v])=>`${h}${p}=${v},`,"");if(Loe(c)&&o!=="_self")return mue(e||"",o),new CF(null);const f=window.open(e||"",o,u);gt(f,t,"popup-blocked");try{f.focus()}catch{}return new CF(f)}function mue(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gue="__/auth/handler",yue="emulator/auth/handler",vue=encodeURIComponent("fac");async function gA(t,e,n,r,i,s){gt(t.config.authDomain,t,"auth-domain-config-required"),gt(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Hl,eventId:i};if(e instanceof Vc){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",tb(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries(s||{}))a[u]=f}if(e instanceof Jm){const u=e.getScopes().filter(f=>f!=="");u.length>0&&(a.scopes=u.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const u of Object.keys(o))o[u]===void 0&&delete o[u];const l=await t._getAppCheckToken(),c=l?`#${vue}=${encodeURIComponent(l)}`:"";return`${xue(t)}?${th(o).slice(1)}${c}`}function xue({config:t}){return t.emulator?tk(t,yue):`https://${t.authDomain}/${gue}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC="webStorageSupport";class bue{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Lf,this._completeRedirectFn=ew,this._overrideRedirectResult=pk}async _openPopup(e,n,r,i){var a;tl((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await gA(e,n,r,Oy(),i);return pue(e,s,B1())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await gA(e,n,r,Oy(),i);return lce(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(tl(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await lue(e),r=new Z$(e);return n.register("authEvent",i=>(gt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(dC,{type:dC},i=>{var a;const s=(a=i==null?void 0:i[0])==null?void 0:a[dC];s!==void 0&&n(!!s),ds(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Yce(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return D$()||w$()||O1()}}const _ue=bue;class wue{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return kl("unexpected MultiFactorSessionType")}}}class mk extends wue{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new mk(e)}_finalizeEnroll(e,n,r){return tce(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return yce(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class nz{constructor(){}static assertion(e){return mk._fromCredential(e)}}nz.FACTOR_ID="phone";var SF="@firebase/auth",DF="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tue{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){gt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eue(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Cue(t){Ll(new Js("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;gt(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:A$(t)},c=new $oe(r,i,s,l);return ile(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ll(new Js("auth-internal",e=>{const n=Gr(e.getProvider("auth").getImmediate());return(r=>new Tue(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hs(SF,DF,Eue(t)),Hs(SF,DF,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sue=300;hte("authIdTokenMaxAge");function Due(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}zoe({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ii("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Due().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Cue("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bf(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aue=2e3;async function Nue(t,e,n){const{BuildInfo:r}=Bf();tl(e.sessionId,"AuthEvent did not contain a session ID");const i=await Fue(e.sessionId),s={};return O1()?s.ibi=r.packageName:U1()?s.apn=r.packageName:ds(t,"operation-not-supported-in-this-environment"),r.displayName&&(s.appDisplayName=r.displayName),s.sessionId=i,gA(t,n,e.type,void 0,e.eventId??void 0,s)}async function kue(t){const{BuildInfo:e}=Bf(),n={};O1()?n.iosBundleId=e.packageName:U1()?n.androidPackageName=e.packageName:ds(t,"operation-not-supported-in-this-environment"),await tz(t,n)}function Iue(t){const{cordova:e}=Bf();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,Ooe()?"_blank":"_system","location=yes"),n(i)})})}async function Rue(t,e,n){const{cordova:r}=Bf();let i=()=>{};try{await new Promise((s,a)=>{let o=null;function l(){var h;s();const f=(h=r.plugins.browsertab)==null?void 0:h.close;typeof f=="function"&&f(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function c(){o||(o=window.setTimeout(()=>{a(Ii(t,"redirect-cancelled-by-user"))},Aue))}function u(){(document==null?void 0:document.visibilityState)==="visible"&&c()}e.addPassiveListener(l),document.addEventListener("resume",c,!1),U1()&&document.addEventListener("visibilitychange",u,!1),i=()=>{e.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),o&&window.clearTimeout(o)}})}finally{i()}}function Pue(t){var n,r,i,s,a,o,l,c,u,f;const e=Bf();gt(typeof((n=e==null?void 0:e.universalLinks)==null?void 0:n.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),gt(typeof((r=e==null?void 0:e.BuildInfo)==null?void 0:r.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),gt(typeof((a=(s=(i=e==null?void 0:e.cordova)==null?void 0:i.plugins)==null?void 0:s.browsertab)==null?void 0:a.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),gt(typeof((c=(l=(o=e==null?void 0:e.cordova)==null?void 0:o.plugins)==null?void 0:l.browsertab)==null?void 0:c.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),gt(typeof((f=(u=e==null?void 0:e.cordova)==null?void 0:u.InAppBrowser)==null?void 0:f.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function Fue(t){const e=Mue(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function Mue(t){if(tl(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uue=20;class Oue extends Z${constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function Lue(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:Vue(),postBody:null,tenantId:t.tenantId,error:Ii(t,"no-auth-event")}}function jue(t,e){return yA()._set(vA(t),e)}async function AF(t){const e=await yA()._get(vA(t));return e&&await yA()._remove(vA(t)),e}function Bue(t,e){var r,i;const n=que(e);if(n.includes("/__/auth/callback")){const s=S2(n),a=s.firebaseError?Wue(decodeURIComponent(s.firebaseError)):null,o=(i=(r=a==null?void 0:a.code)==null?void 0:r.split("auth/"))==null?void 0:i[1],l=o?Ii(o):null;return l?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:n,postBody:null}}return null}function Vue(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<Uue;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function yA(){return Oa(ck)}function vA(t){return vf("authEvent",t.config.apiKey,t.name)}function Wue(t){try{return JSON.parse(t)}catch{return null}}function que(t){const e=S2(t),n=e.link?decodeURIComponent(e.link):void 0,r=S2(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return S2(i).link||i||r||n||t}function S2(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return Ip(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ue=500;class zue{constructor(){this._redirectPersistence=Lf,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ew,this._overrideRedirectResult=pk}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new Oue(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){ds(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){Pue(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),jce(),await this._originValidation(e);const a=Lue(e,r,i);await jue(e,a);const o=await Nue(e,a,n),l=await Iue(o);return Rue(e,s,l)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=kue(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=Bf(),a=setTimeout(async()=>{await AF(e),n.onEvent(NF())},$ue),o=async u=>{clearTimeout(a);const f=await AF(e);let h=null;f&&(u!=null&&u.url)&&(h=Bue(f,u.url)),n.onEvent(h||NF())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,o);const l=i,c=`${s.packageName.toLowerCase()}://`;Bf().handleOpenURL=async u=>{if(u.toLowerCase().startsWith(c)&&o({url:u}),typeof l=="function")try{l(u)}catch(f){console.error(f)}}}}const Hue=zue;function NF(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ii("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gue(t,e){Gr(t)._logFramework(e)}var Kue="@firebase/auth-compat",Jue="0.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xue=1e3;function K0(){var t;return((t=self==null?void 0:self.location)==null?void 0:t.protocol)||null}function Yue(){return K0()==="http:"||K0()==="https:"}function rz(t=zr()){return!!((K0()==="file:"||K0()==="ionic:"||K0()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Que(){return x_()||v_()}function Zue(){return tV()&&(document==null?void 0:document.documentMode)===11}function ede(t=zr()){return/Edge\/\d+/.test(t)}function tde(t=zr()){return Zue()||ede(t)}function iz(){try{const t=self.localStorage,e=B1();if(t)return t.setItem(e,"1"),t.removeItem(e),tde()?gy():!0}catch{return gk()&&gy()}return!1}function gk(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function fC(){return(Yue()||eV()||rz())&&!Que()&&iz()&&!gk()}function sz(){return rz()&&typeof document<"u"}async function nde(){return sz()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},Xue);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function rde(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra={LOCAL:"local",NONE:"none",SESSION:"session"},Zg=gt,az="persistence";function ide(t,e){if(Zg(Object.values(Ra).includes(e),t,"invalid-persistence-type"),x_()){Zg(e!==Ra.SESSION,t,"unsupported-persistence-type");return}if(v_()){Zg(e===Ra.NONE,t,"unsupported-persistence-type");return}if(gk()){Zg(e===Ra.NONE||e===Ra.LOCAL&&gy(),t,"unsupported-persistence-type");return}Zg(e===Ra.NONE||iz(),t,"unsupported-persistence-type")}async function xA(t){await t._initializationPromise;const e=oz(),n=vf(az,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistenceType())}function sde(t,e){const n=oz();if(!n)return[];const r=vf(az,t,e);switch(n.getItem(r)){case Ra.NONE:return[xm];case Ra.LOCAL:return[By,Lf];case Ra.SESSION:return[Lf];default:return[]}}function oz(){var t;try{return((t=rde())==null?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ade=gt;class Cu{constructor(){this.browserResolver=Oa(_ue),this.cordovaResolver=Oa(Hue),this.underlyingResolver=null,this._redirectPersistence=Lf,this._completeRedirectFn=ew,this._overrideRedirectResult=pk}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return sz()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ade(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await nde();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lz(t){return t.unwrap()}function ode(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lde(t){return cz(t)}function cde(t,e){var r;const n=(r=e.customData)==null?void 0:r._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new ude(t,ece(t,e))}else if(n){const i=cz(e),s=e;i&&(s.credential=i,s.tenantId=n.tenantId||void 0,s.email=n.email||void 0,s.phoneNumber=n.phoneNumber||void 0)}}function cz(t){const{_tokenResponse:e}=t instanceof Ns?t.customData:t;if(!e)return null;if(!(t instanceof Ns)&&"temporaryProof"in e&&"phoneNumber"in e)return jf.credentialFromResult(t);const n=e.providerId;if(!n||n===Yg.PASSWORD)return null;let r;switch(n){case Yg.GOOGLE:r=El;break;case Yg.FACEBOOK:r=Tl;break;case Yg.GITHUB:r=Cl;break;case Yg.TWITTER:r=Sl;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:a,pendingToken:o,nonce:l}=e;return!s&&!a&&!i&&!o?null:o?n.startsWith("saml.")?bm._create(n,o):Vl._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:i,accessToken:s}):new jp(n).credential({idToken:i,accessToken:s,rawNonce:l})}return t instanceof Ns?r.credentialFromError(t):r.credentialFromResult(t)}function la(t,e){return e.catch(n=>{throw n instanceof Ns&&cde(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:lde(n),additionalUserInfo:Zle(n),user:fc.getOrCreate(i)}})}async function bA(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>la(t,n.confirm(r))}}class ude{constructor(e,n){this.resolver=n,this.auth=ode(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return la(lz(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e){this._delegate=e,this.multiFactor=rce(e)}static getOrCreate(e){return fc.USER_MAP.has(e)||fc.USER_MAP.set(e,new fc(e)),fc.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return la(this.auth,L$(this._delegate,e))}async linkWithPhoneNumber(e,n){return bA(this.auth,Sce(this._delegate,e,n))}async linkWithPopup(e){return la(this.auth,Mce(this._delegate,e,Cu))}async linkWithRedirect(e){return await xA(Gr(this.auth)),$ce(this._delegate,e,Cu)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return la(this.auth,j$(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return bA(this.auth,Dce(this._delegate,e,n))}reauthenticateWithPopup(e){return la(this.auth,Fce(this._delegate,e,Cu))}async reauthenticateWithRedirect(e){return await xA(Gr(this.auth)),Wce(this._delegate,e,Cu)}sendEmailVerification(e){return Wle(this._delegate,e)}async unlink(e){return await Ale(this._delegate,e),this}updateEmail(e){return Hle(this._delegate,e)}updatePassword(e){return Gle(this._delegate,e)}updatePhoneNumber(e){return Ace(this._delegate,e)}updateProfile(e){return zle(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return qle(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}fc.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0=gt;class _A{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;e0(r,"invalid-api-key",{appName:e.name}),e0(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?Cu:void 0;this._delegate=n.initialize({options:{persistence:dde(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(yoe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?fc.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){sle(this._delegate,e,n)}applyActionCode(e){return Ple(this._delegate,e)}checkActionCode(e){return B$(this._delegate,e)}confirmPasswordReset(e,n){return Rle(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return la(this._delegate,Mle(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return Vle(this._delegate,e)}isSignInWithEmailLink(e){return Lle(this._delegate,e)}async getRedirectResult(){e0(fC(),this._delegate,"operation-not-supported-in-this-environment");const e=await Hce(this._delegate,Cu);return e?la(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){Gue(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:s,complete:a}=kF(e,n,r);return this._delegate.onAuthStateChanged(i,s,a)}onIdTokenChanged(e,n,r){const{next:i,error:s,complete:a}=kF(e,n,r);return this._delegate.onIdTokenChanged(i,s,a)}sendSignInLinkToEmail(e,n){return Ole(this._delegate,e,n)}sendPasswordResetEmail(e,n){return Ile(this._delegate,e,n||void 0)}async setPersistence(e){ide(this._delegate,e);let n;switch(e){case Ra.SESSION:n=Lf;break;case Ra.LOCAL:n=await Oa(By)._isAvailable()?By:ck;break;case Ra.NONE:n=xm;break;default:return ds("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return la(this._delegate,Dle(this._delegate))}signInWithCredential(e){return la(this._delegate,J_(this._delegate,e))}signInWithCustomToken(e){return la(this._delegate,kle(this._delegate,e))}signInWithEmailAndPassword(e,n){return la(this._delegate,Ule(this._delegate,e,n))}signInWithEmailLink(e,n){return la(this._delegate,jle(this._delegate,e,n))}signInWithPhoneNumber(e,n){return bA(this._delegate,Cce(this._delegate,e,n))}async signInWithPopup(e){return e0(fC(),this._delegate,"operation-not-supported-in-this-environment"),la(this._delegate,Pce(this._delegate,e,Cu))}async signInWithRedirect(e){return e0(fC(),this._delegate,"operation-not-supported-in-this-environment"),await xA(this._delegate),Bce(this._delegate,e,Cu)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return Fle(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}_A.Persistence=Ra;function kF(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:a=>i(a&&fc.getOrCreate(a)),error:e,complete:n}}function dde(t,e){const n=sde(t,e);if(typeof self<"u"&&!n.includes(By)&&n.push(By),typeof window<"u")for(const r of[ck,Lf])n.includes(r)||n.push(r);return n.includes(xm)||n.push(xm),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{static credential(e,n){return jf.credential(e,n)}constructor(){this.providerId="phone",this._delegate=new jf(lz(Pr.auth()))}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}yk.PHONE_SIGN_IN_METHOD=jf.PHONE_SIGN_IN_METHOD;yk.PROVIDER_ID=jf.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fde=gt;class hde{constructor(e,n,r=Pr.app()){var i;fde((i=r.options)==null?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new Tce(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pde="auth-compat";function mde(t){t.INTERNAL.registerComponent(new Js(pde,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new _A(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:lp.EMAIL_SIGNIN,PASSWORD_RESET:lp.PASSWORD_RESET,RECOVER_EMAIL:lp.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:lp.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:lp.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:lp.VERIFY_EMAIL}},EmailAuthProvider:md,FacebookAuthProvider:Tl,GithubAuthProvider:Cl,GoogleAuthProvider:El,OAuthProvider:jp,SAMLAuthProvider:Tb,PhoneAuthProvider:yk,PhoneMultiFactorGenerator:nz,RecaptchaVerifier:hde,TwitterAuthProvider:Sl,Auth:_A,AuthCredential:Km,Error:Ns}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(Kue,Jue)}mde(Pr);var IF={};const RF="@firebase/database",PF="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uz="";function dz(t){uz=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gde{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ai(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:yy(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yde{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Ba(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fz=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new gde(e)}}catch{}return new yde},uf=fz("localStorage"),wA=fz("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp=new Lm("@firebase/database"),hz=(function(){let t=1;return function(){return t++}})(),pz=function(t){const e=Ate(t),n=new Cte;n.update(e);const r=n.digest();return I3.encodeByteArray(r)},W1=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=W1.apply(null,r):typeof r=="object"?e+=Ai(r):e+=r,e+=" "}return e};let bf=null,FF=!0;const mz=function(t,e){bt(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Vp.logLevel=En.VERBOSE,bf=Vp.log.bind(Vp),e&&wA.set("logging_enabled",!0)):typeof t=="function"?bf=t:(bf=null,wA.remove("logging_enabled"))},Ki=function(...t){if(FF===!0&&(FF=!1,bf===null&&wA.get("logging_enabled")===!0&&mz(!0)),bf){const e=W1.apply(null,t);bf(e)}},q1=function(t){return function(...e){Ki(t,...e)}},TA=function(...t){const e="FIREBASE INTERNAL ERROR: "+W1(...t);Vp.error(e)},Wl=function(...t){const e=`FIREBASE FATAL ERROR: ${W1(...t)}`;throw Vp.error(e),new Error(e)},Is=function(...t){const e="FIREBASE WARNING: "+W1(...t);Vp.warn(e)},vde=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Is("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},tw=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},xde=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Qu="[MIN_NAME]",Ic="[MAX_NAME]",oh=function(t,e){if(t===e)return 0;if(t===Qu||e===Ic)return-1;if(e===Qu||t===Ic)return 1;{const n=MF(t),r=MF(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},bde=function(t,e){return t===e?0:t<e?-1:1},t0=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ai(e))},vk=function(t){if(typeof t!="object"||t===null)return Ai(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Ai(e[r]),n+=":",n+=vk(t[e[r]]);return n+="}",n},gz=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Qi(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const yz=function(t){bt(!tw(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,a,o,l;t===0?(s=0,a=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(o=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=o+r,a=Math.round(t*Math.pow(2,n-o)-Math.pow(2,n))):(s=0,a=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(a%2?1:0),a=Math.floor(a/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const u=c.join("");let f="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),f=f+h}return f.toLowerCase()},_de=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},wde=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Tde(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const Ede=new RegExp("^-?(0*)\\d{1,10}$"),Cde=-2147483648,Sde=2147483647,MF=function(t){if(Ede.test(t)){const e=Number(t);if(e>=Cde&&e<=Sde)return e}return null},Xm=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Is("Exception was thrown by user callback.",n),e},Math.floor(0))}},Dde=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},J0=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ade{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,mr(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Is(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nde{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ki("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Is(e)}}class Wp{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Wp.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk="5",vz="v",xz="s",bz="r",_z="f",wz=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Tz="ls",Ez="p",EA="ac",Cz="websocket",Sz="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dz{constructor(e,n,r,i,s=!1,a="",o=!1,l=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=o,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=uf.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&uf.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function kde(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Az(t,e,n){bt(typeof e=="string","typeof type must == string"),bt(typeof n=="object","typeof params must == object");let r;if(e===Cz)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Sz)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);kde(t)&&(n.ns=t.namespace);const i=[];return Qi(n,(s,a)=>{i.push(s+"="+a)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ide{constructor(){this.counters_={}}incrementCounter(e,n=1){Ba(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return ate(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC={},pC={};function bk(t){const e=t.toString();return hC[e]||(hC[e]=new Ide),hC[e]}function Rde(t,e){const n=t.toString();return pC[n]||(pC[n]=e()),pC[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pde{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Xm(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UF="start",Fde="close",Mde="pLPCommand",Ude="pRTLPCB",Nz="id",kz="pw",Iz="ser",Ode="cb",Lde="seg",jde="ts",Bde="d",Vde="dframe",Rz=1870,Pz=30,Wde=Rz-Pz,qde=25e3,$de=3e4;class Su{constructor(e,n,r,i,s,a,o){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=a,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=q1(e),this.stats_=bk(n),this.urlFn=l=>(this.appCheckToken&&(l[EA]=this.appCheckToken),Az(n,Sz,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Pde(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor($de)),xde(()=>{if(this.isClosed_)return;this.scriptTagHolder=new _k((...s)=>{const[a,o,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===UF)this.id=o,this.password=l;else if(a===Fde)o?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(o,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...s)=>{const[a,o]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(a,o)},()=>{this.onClosed_()},this.urlFn);const r={};r[UF]="t",r[Iz]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Ode]=this.scriptTagHolder.uniqueCallbackIdentifier),r[vz]=xk,this.transportSessionId&&(r[xz]=this.transportSessionId),this.lastSessionId&&(r[Tz]=this.lastSessionId),this.applicationId&&(r[Ez]=this.applicationId),this.appCheckToken&&(r[EA]=this.appCheckToken),typeof location<"u"&&location.hostname&&wz.test(location.hostname)&&(r[bz]=_z);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Su.forceAllow_=!0}static forceDisallow(){Su.forceDisallow_=!0}static isAvailable(){return Su.forceAllow_?!0:!Su.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!_de()&&!wde()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ai(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=QB(n),i=gz(r,Wde);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Vde]="t",r[Nz]=e,r[kz]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ai(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class _k{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=hz(),window[Mde+this.uniqueCallbackIdentifier]=e,window[Ude+this.uniqueCallbackIdentifier]=n,this.myIFrame=_k.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(o){Ki("frame writing exception"),o.stack&&Ki(o.stack),Ki(o)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ki("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Nz]=this.myID,e[kz]=this.myPW,e[Iz]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Pz+r.length<=Rz;){const a=this.pendingSegs.shift();r=r+"&"+Lde+i+"="+a.seg+"&"+jde+i+"="+a.ts+"&"+Bde+i+"="+a.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(qde)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ki("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zde=16384,Hde=45e3;let Db=null;typeof MozWebSocket<"u"?Db=MozWebSocket:typeof WebSocket<"u"&&(Db=WebSocket);class uo{constructor(e,n,r,i,s,a,o){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=q1(this.connId),this.stats_=bk(n),this.connURL=uo.connectionURL_(n,a,o,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const a={};return a[vz]=xk,typeof location<"u"&&location.hostname&&wz.test(location.hostname)&&(a[bz]=_z),n&&(a[xz]=n),r&&(a[Tz]=r),i&&(a[EA]=i),s&&(a[Ez]=s),Az(e,Cz,a)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,uf.set("previous_websocket_failure",!0);try{let r;vte(),this.mySock=new Db(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){uo.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Db!==null&&!uo.forceDisallow_}static previouslyFailed(){return uf.isInMemoryStorage||uf.get("previous_websocket_failure")===!0}markConnectionHealthy(){uf.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=yy(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(bt(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Ai(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=gz(n,zde);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Hde))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}uo.responsesRequiredToBeHealthy=2;uo.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{static get ALL_TRANSPORTS(){return[Su,uo]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=uo&&uo.isAvailable();let r=n&&!uo.previouslyFailed();if(e.webSocketOnly&&(n||Is("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[uo];else{const i=this.transports_=[];for(const s of _m.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);_m.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}_m.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gde=6e4,Kde=5e3,Jde=10*1024,Xde=100*1024,mC="t",OF="d",Yde="s",LF="r",Qde="e",jF="o",BF="a",VF="n",WF="p",Zde="h";class efe{constructor(e,n,r,i,s,a,o,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=a,this.onReady_=o,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=q1("c:"+this.id+":"),this.transportManager_=new _m(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=J0(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Xde?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Jde?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(mC in e){const n=e[mC];n===BF?this.upgradeIfSecondaryHealthy_():n===LF?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===jF&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=t0("t",e),r=t0("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:WF,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:BF,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:VF,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=t0("t",e),r=t0("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=t0(mC,e);if(OF in e){const r=e[OF];if(n===Zde){const i={...r};this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===VF){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Yde?this.onConnectionShutdown_(r):n===LF?this.onReset_(r):n===Qde?TA("Server Error: "+r):n===jF?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):TA("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),xk!==r&&Is("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),J0(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Gde))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):J0(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Kde))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:WF,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(uf.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fz{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mz{constructor(e){this.allowedEvents_=e,this.listeners_={},bt(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){bt(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab extends Mz{static getInstance(){return new Ab}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!M3()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return bt(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qF=32,$F=768;class Zn{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function zn(){return new Zn("")}function xn(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Zu(t){return t.pieces_.length-t.pieceNum_}function fr(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Zn(t.pieces_,e)}function wk(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function tfe(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Vy(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Uz(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Zn(e,0)}function Ur(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Zn)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Zn(n,0)}function bn(t){return t.pieceNum_>=t.pieces_.length}function zs(t,e){const n=xn(t),r=xn(e);if(n===null)return e;if(n===r)return zs(fr(t),fr(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function nfe(t,e){const n=Vy(t,0),r=Vy(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=oh(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function Tk(t,e){if(Zu(t)!==Zu(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function ho(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Zu(t)>Zu(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class rfe{constructor(e,n){this.errorPrefix_=n,this.parts_=Vy(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=b_(this.parts_[r]);Oz(this)}}function ife(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=b_(e),Oz(t)}function sfe(t){const e=t.parts_.pop();t.byteLength_-=b_(e),t.parts_.length>0&&(t.byteLength_-=1)}function Oz(t){if(t.byteLength_>$F)throw new Error(t.errorPrefix_+"has a key path longer than "+$F+" bytes ("+t.byteLength_+").");if(t.parts_.length>qF)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+qF+") or object contains a cycle "+Yd(t))}function Yd(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek extends Mz{static getInstance(){return new Ek}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return bt(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0=1e3,afe=300*1e3,zF=30*1e3,ofe=1.3,lfe=3e4,cfe="server_kill",HF=3;class yc extends Fz{constructor(e,n,r,i,s,a,o,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=o,this.authOverride_=l,this.id=yc.nextPersistentConnectionId_++,this.log_=q1("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=n0,this.maxReconnectDelay_=afe,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ek.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Ab.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Ai(s)),bt(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new ua,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const o=a.d;a.s==="ok"?n.resolve(o):n.reject(o)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),bt(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),bt(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const o={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(a).set(s,o),this.connected_&&this.sendListen_(o)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},a="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(a,s,o=>{const l=o.d,c=o.s;yc.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",o),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Ba(e,"w")){const r=Af(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Is(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Ete(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=zF)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=Tte(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,a=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),bt(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},a="n";i&&(s.q=r,s.t=i),this.sendRequest(a,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,a=>{i&&setTimeout(()=>{i(a.s,a.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const a={p:n,d:r};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:e,request:a,onComplete:i}),this.outstandingPutCount_++;const o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ai(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):TA("Unrecognized action received from server: "+Ai(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){bt(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=n0,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=n0,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>lfe&&(this.reconnectDelay_=n0),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*ofe)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+yc.nextConnectionId_++,s=this.lastSessionId;let a=!1,o=null;const l=function(){o?o.close():(a=!0,r())},c=function(f){bt(o,"sendRequest call when we're not connected not allowed."),o.sendRequest(f)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,h]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);a?Ki("getToken() completed but was canceled"):(Ki("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,o=new efe(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{Is(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(cfe)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&Is(f),l())}}}interrupt(e){Ki("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ki("Resuming connection for reason: "+e),delete this.interruptReasons_[e],tb(this.interruptReasons_)&&(this.reconnectDelay_=n0,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>vk(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new Zn(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Ki("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=HF&&(this.reconnectDelay_=zF,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Ki("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=HF&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+uz.replace(/\./g,"-")]=1,M3()?e["framework.cordova"]=1:x_()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ab.getInstance().currentlyOnline();return tb(this.interruptReasons_)&&e}}yc.nextPersistentConnectionId_=0;yc.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Cn(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Cn(Qu,e),i=new Cn(Qu,n);return this.compare(r,i)!==0}minPost(){return Cn.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ax;class Lz extends nw{static get __EMPTY_NODE(){return Ax}static set __EMPTY_NODE(e){Ax=e}compare(e,n){return oh(e.name,n.name)}isDefinedOn(e){throw Om("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Cn.MIN}maxPost(){return new Cn(Ic,Ax)}makePost(e,n){return bt(typeof e=="string","KeyIndex indexValue must always be a string."),new Cn(e,Ax)}toString(){return".key"}}const Ol=new Lz;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(e=e,a=n?r(e.key,n):1,i&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Gi{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Gi.RED,this.left=i??pa.EMPTY_NODE,this.right=s??pa.EMPTY_NODE}copy(e,n,r,i,s){return new Gi(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return pa.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return pa.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Gi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Gi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Gi.RED=!0;Gi.BLACK=!1;class ufe{copy(e,n,r,i,s){return this}insert(e,n,r){return new Gi(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class pa{constructor(e,n=pa.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new pa(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Gi.BLACK,null,null))}remove(e){return new pa(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Gi.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Nx(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Nx(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Nx(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Nx(this.root_,null,this.comparator_,!0,e)}}pa.EMPTY_NODE=new ufe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dfe(t,e){return oh(t.name,e.name)}function Ck(t,e){return oh(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let CA;function ffe(t){CA=t}const jz=function(t){return typeof t=="number"?"number:"+yz(t):"string:"+t},Bz=function(t){if(t.isLeafNode()){const e=t.val();bt(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ba(e,".sv"),"Priority must be a string or number.")}else bt(t===CA||t.isEmpty(),"priority of unexpected type.");bt(t===CA||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let GF;class Wi{static set __childrenNodeConstructor(e){GF=e}static get __childrenNodeConstructor(){return GF}constructor(e,n=Wi.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,bt(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Bz(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Wi(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Wi.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return bn(e)?this:xn(e)===".priority"?this.priorityNode_:Wi.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Wi.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=xn(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(bt(r!==".priority"||Zu(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Wi.__childrenNodeConstructor.EMPTY_NODE.updateChild(fr(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+jz(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=yz(this.value_):e+=this.value_,this.lazyHash_=pz(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Wi.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Wi.__childrenNodeConstructor?-1:(bt(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Wi.VALUE_TYPE_ORDER.indexOf(n),s=Wi.VALUE_TYPE_ORDER.indexOf(r);return bt(i>=0,"Unknown leaf type: "+n),bt(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Wi.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vz,Wz;function hfe(t){Vz=t}function pfe(t){Wz=t}class mfe extends nw{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?oh(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Cn.MIN}maxPost(){return new Cn(Ic,new Wi("[PRIORITY-POST]",Wz))}makePost(e,n){const r=Vz(e);return new Cn(n,new Wi("[PRIORITY-POST]",r))}toString(){return".priority"}}const gr=new mfe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gfe=Math.log(2);class yfe{constructor(e){const n=s=>parseInt(Math.log(s)/gfe,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Nb=function(t,e,n,r){t.sort(e);const i=function(l,c){const u=c-l;let f,h;if(u===0)return null;if(u===1)return f=t[l],h=n?n(f):f,new Gi(h,f.node,Gi.BLACK,null,null);{const p=parseInt(u/2,10)+l,v=i(l,p),g=i(p+1,c);return f=t[p],h=n?n(f):f,new Gi(h,f.node,Gi.BLACK,v,g)}},s=function(l){let c=null,u=null,f=t.length;const h=function(v,g){const y=f-v,_=f;f-=v;const x=i(y+1,_),w=t[y],C=n?n(w):w;p(new Gi(C,w.node,g,null,x))},p=function(v){c?(c.left=v,c=v):(u=v,c=v)};for(let v=0;v<l.count;++v){const g=l.nextBitIsOne(),y=Math.pow(2,l.count-(v+1));g?h(y,Gi.BLACK):(h(y,Gi.BLACK),h(y,Gi.RED))}return u},a=new yfe(t.length),o=s(a);return new pa(r||e,o)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gC;const cp={};class hc{static get Default(){return bt(cp&&gr,"ChildrenNode.ts has not been loaded"),gC=gC||new hc({".priority":cp},{".priority":gr}),gC}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Af(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof pa?n:null}hasIndex(e){return Ba(this.indexSet_,e.toString())}addIndex(e,n){bt(e!==Ol,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Cn.Wrap);let a=s.getNext();for(;a;)i=i||e.isDefinedOn(a.node),r.push(a),a=s.getNext();let o;i?o=Nb(r,e.getCompare()):o=cp;const l=e.toString(),c={...this.indexSet_};c[l]=e;const u={...this.indexes_};return u[l]=o,new hc(u,c)}addToIndexes(e,n){const r=nb(this.indexes_,(i,s)=>{const a=Af(this.indexSet_,s);if(bt(a,"Missing index implementation for "+s),i===cp)if(a.isDefinedOn(e.node)){const o=[],l=n.getIterator(Cn.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&o.push(c),c=l.getNext();return o.push(e),Nb(o,a.getCompare())}else return cp;else{const o=n.get(e.name);let l=i;return o&&(l=l.remove(new Cn(e.name,o))),l.insert(e,e.node)}});return new hc(r,this.indexSet_)}removeFromIndexes(e,n){const r=nb(this.indexes_,i=>{if(i===cp)return i;{const s=n.get(e.name);return s?i.remove(new Cn(e.name,s)):i}});return new hc(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let r0;class nn{static get EMPTY_NODE(){return r0||(r0=new nn(new pa(Ck),null,hc.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Bz(this.priorityNode_),this.children_.isEmpty()&&bt(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||r0}updatePriority(e){return this.children_.isEmpty()?this:new nn(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?r0:n}}getChild(e){const n=xn(e);return n===null?this:this.getImmediateChild(n).getChild(fr(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(bt(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Cn(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const a=i.isEmpty()?r0:this.priorityNode_;return new nn(i,a,s)}}updateChild(e,n){const r=xn(e);if(r===null)return n;{bt(xn(e)!==".priority"||Zu(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(fr(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(gr,(a,o)=>{n[a]=o.val(e),r++,s&&nn.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):s=!1}),!e&&s&&i<2*r){const a=[];for(const o in n)a[o]=n[o];return a}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+jz(this.getPriority().val())+":"),this.forEachChild(gr,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":pz(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Cn(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Cn(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Cn(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Cn.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Cn.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===$1?-1:0}withIndex(e){if(e===Ol||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new nn(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Ol||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(gr),i=n.getIterator(gr);let s=r.getNext(),a=i.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=i.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(e){return e===Ol?null:this.indexMap_.get(e.toString())}}nn.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class vfe extends nn{constructor(){super(new pa(Ck),nn.EMPTY_NODE,hc.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return nn.EMPTY_NODE}isEmpty(){return!1}}const $1=new vfe;Object.defineProperties(Cn,{MIN:{value:new Cn(Qu,nn.EMPTY_NODE)},MAX:{value:new Cn(Ic,$1)}});Lz.__EMPTY_NODE=nn.EMPTY_NODE;Wi.__childrenNodeConstructor=nn;ffe($1);pfe($1);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xfe=!0;function Wr(t,e=null){if(t===null)return nn.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),bt(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Wi(n,Wr(e))}if(!(t instanceof Array)&&xfe){const n=[];let r=!1;if(Qi(t,(a,o)=>{if(a.substring(0,1)!=="."){const l=Wr(o);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Cn(a,l)))}}),n.length===0)return nn.EMPTY_NODE;const s=Nb(n,dfe,a=>a.name,Ck);if(r){const a=Nb(n,gr.getCompare());return new nn(s,Wr(e),new hc({".priority":a},{".priority":gr}))}else return new nn(s,Wr(e),hc.Default)}else{let n=nn.EMPTY_NODE;return Qi(t,(r,i)=>{if(Ba(t,r)&&r.substring(0,1)!=="."){const s=Wr(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Wr(e))}}hfe(Wr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk extends nw{constructor(e){super(),this.indexPath_=e,bt(!bn(e)&&xn(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?oh(e.name,n.name):s}makePost(e,n){const r=Wr(e),i=nn.EMPTY_NODE.updateChild(this.indexPath_,r);return new Cn(n,i)}maxPost(){const e=nn.EMPTY_NODE.updateChild(this.indexPath_,$1);return new Cn(Ic,e)}toString(){return Vy(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bfe extends nw{compare(e,n){const r=e.node.compareTo(n.node);return r===0?oh(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Cn.MIN}maxPost(){return Cn.MAX}makePost(e,n){const r=Wr(e);return new Cn(n,r)}toString(){return".value"}}const Dk=new bfe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qz(t){return{type:"value",snapshotNode:t}}function wm(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Wy(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function qy(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function _fe(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e){this.index_=e}updateChild(e,n,r,i,s,a){bt(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const o=e.getImmediateChild(n);return o.getChild(i).equals(r.getChild(i))&&o.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?e.hasChild(n)?a.trackChildChange(Wy(n,o)):bt(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(wm(n,r)):a.trackChildChange(qy(n,r,o))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(gr,(i,s)=>{n.hasChild(i)||r.trackChildChange(Wy(i,s))}),n.isLeafNode()||n.forEachChild(gr,(i,s)=>{if(e.hasChild(i)){const a=e.getImmediateChild(i);a.equals(s)||r.trackChildChange(qy(i,s,a))}else r.trackChildChange(wm(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?nn.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e){this.indexedFilter_=new Ak(e.getIndex()),this.index_=e.getIndex(),this.startPost_=$y.getStartPost_(e),this.endPost_=$y.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,a){return this.matches(new Cn(n,r))||(r=nn.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,a)}updateFullNode(e,n,r){n.isLeafNode()&&(n=nn.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(nn.EMPTY_NODE);const s=this;return n.forEachChild(gr,(a,o)=>{s.matches(new Cn(a,o))||(i=i.updateImmediateChild(a,nn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wfe{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new $y(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,a){return this.rangedFilter_.matches(new Cn(n,r))||(r=nn.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,a):this.fullLimitUpdateChild_(e,n,r,s,a)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=nn.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=nn.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;s.hasNext()&&a<this.limit_;){const o=s.getNext();if(this.withinDirectionalStart(o))if(this.withinDirectionalEnd(o))i=i.updateImmediateChild(o.name,o.node),a++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(nn.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let a=0;for(;s.hasNext();){const o=s.getNext();a<this.limit_&&this.withinDirectionalStart(o)&&this.withinDirectionalEnd(o)?a++:i=i.updateImmediateChild(o.name,nn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let a;if(this.reverse_){const f=this.index_.getCompare();a=(h,p)=>f(p,h)}else a=this.index_.getCompare();const o=e;bt(o.numChildren()===this.limit_,"");const l=new Cn(n,r),c=this.reverse_?o.getFirstChild(this.index_):o.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(o.hasChild(n)){const f=o.getImmediateChild(n);let h=i.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||o.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const p=h==null?1:a(h,l);if(u&&!r.isEmpty()&&p>=0)return s!=null&&s.trackChildChange(qy(n,r,f)),o.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Wy(n,f));const g=o.updateImmediateChild(n,nn.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(s!=null&&s.trackChildChange(wm(h.name,h.node)),g.updateImmediateChild(h.name,h.node)):g}}else return r.isEmpty()?e:u&&a(c,l)>=0?(s!=null&&(s.trackChildChange(Wy(c.name,c.node)),s.trackChildChange(wm(n,r))),o.updateImmediateChild(n,r).updateImmediateChild(c.name,nn.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=gr}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return bt(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return bt(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Qu}hasEnd(){return this.endSet_}getIndexEndValue(){return bt(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return bt(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ic}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return bt(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===gr}copy(){const e=new rw;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Tfe(t){return t.loadsAllData()?new Ak(t.getIndex()):t.hasLimit()?new wfe(t):new $y(t)}function Efe(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function Cfe(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function SA(t,e,n){const r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Sfe(t,e,n){let r;return t.index_===Ol||n?r=SA(t,e,n):r=SA(t,e,Ic),r.startAfterSet_=!0,r}function DA(t,e,n){const r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Dfe(t,e,n){let r;return t.index_===Ol||n?r=DA(t,e,n):r=DA(t,e,Qu),r.endBeforeSet_=!0,r}function iw(t,e){const n=t.copy();return n.index_=e,n}function KF(t){const e={};if(t.isDefault())return e;let n;if(t.index_===gr?n="$priority":t.index_===Dk?n="$value":t.index_===Ol?n="$key":(bt(t.index_ instanceof Sk,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ai(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Ai(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Ai(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Ai(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Ai(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function JF(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==gr&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb extends Fz{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(bt(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=q1("p:rest:"),this.listens_={}}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const a=kb.getListenId_(e,r),o={};this.listens_[a]=o;const l=KF(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let f=u;if(c===404&&(f=null,c=null),c===null&&this.onDataUpdate_(s,f,!1,r),Af(this.listens_,a)===o){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",i(h,null)}})}unlisten(e,n){const r=kb.getListenId_(e,n);delete this.listens_[r]}get(e){const n=KF(e._queryParams),r=e._path.toString(),i=new ua;return this.restRequest_(r+".json",n,(s,a)=>{let o=a;s===404&&(o=null,s=null),s===null?(this.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+th(n);this.log_("Sending REST request for "+a);const o=new XMLHttpRequest;o.onreadystatechange=()=>{if(r&&o.readyState===4){this.log_("REST Response for "+a+" received. status:",o.status,"response:",o.responseText);let l=null;if(o.status>=200&&o.status<300){try{l=yy(o.responseText)}catch{Is("Failed to parse JSON response for "+a+": "+o.responseText)}r(null,l)}else o.status!==401&&o.status!==404&&Is("Got unsuccessful REST response for "+a+" Status: "+o.status),r(o.status);r=null}},o.open("GET",a,!0),o.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Afe{constructor(){this.rootNode_=nn.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(){return{value:null,children:new Map}}function Ym(t,e,n){if(bn(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=xn(e);t.children.has(r)||t.children.set(r,Ib());const i=t.children.get(r);e=fr(e),Ym(i,e,n)}}function AA(t,e){if(bn(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;{const n=t.value;return t.value=null,n.forEachChild(gr,(r,i)=>{Ym(t,new Zn(r),i)}),AA(t,e)}}else if(t.children.size>0){const n=xn(e);return e=fr(e),t.children.has(n)&&AA(t.children.get(n),e)&&t.children.delete(n),t.children.size===0}else return!0}function NA(t,e,n){t.value!==null?n(e,t.value):Nfe(t,(r,i)=>{const s=new Zn(e.toString()+"/"+r);NA(i,s,n)})}function Nfe(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kfe{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&Qi(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XF=10*1e3,Ife=30*1e3,Rfe=300*1e3;class Pfe{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new kfe(e);const r=XF+(Ife-XF)*Math.random();J0(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Qi(e,(i,s)=>{s>0&&Ba(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),J0(this.reportStats_.bind(this),Math.floor(Math.random()*2*Rfe))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ho;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ho||(Ho={}));function Nk(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function kk(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Ik(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Ho.ACK_USER_WRITE,this.source=Nk()}operationForChild(e){if(bn(this.path)){if(this.affectedTree.value!=null)return bt(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Zn(e));return new Rb(zn(),n,this.revert)}}else return bt(xn(this.path)===e,"operationForChild called for unrelated child."),new Rb(fr(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e,n){this.source=e,this.path=n,this.type=Ho.LISTEN_COMPLETE}operationForChild(e){return bn(this.path)?new zy(this.source,zn()):new zy(this.source,fr(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Ho.OVERWRITE}operationForChild(e){return bn(this.path)?new Vf(this.source,zn(),this.snap.getImmediateChild(e)):new Vf(this.source,fr(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Ho.MERGE}operationForChild(e){if(bn(this.path)){const n=this.children.subtree(new Zn(e));return n.isEmpty()?null:n.value?new Vf(this.source,zn(),n.value):new Tm(this.source,zn(),n)}else return bt(xn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Tm(this.source,fr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(bn(e))return this.isFullyInitialized()&&!this.filtered_;const n=xn(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ffe{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Mfe(t,e,n,r){const i=[],s=[];return e.forEach(a=>{a.type==="child_changed"&&t.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(_fe(a.childName,a.snapshotNode))}),i0(t,i,"child_removed",e,r,n),i0(t,i,"child_added",e,r,n),i0(t,i,"child_moved",s,r,n),i0(t,i,"child_changed",e,r,n),i0(t,i,"value",e,r,n),i}function i0(t,e,n,r,i,s){const a=r.filter(o=>o.type===n);a.sort((o,l)=>Ofe(t,o,l)),a.forEach(o=>{const l=Ufe(t,o,s);i.forEach(c=>{c.respondsTo(o.type)&&e.push(c.createEvent(l,t.query_))})})}function Ufe(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Ofe(t,e,n){if(e.childName==null||n.childName==null)throw Om("Should only compare child_ events.");const r=new Cn(e.childName,e.snapshotNode),i=new Cn(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(t,e){return{eventCache:t,serverCache:e}}function X0(t,e,n,r){return sw(new ed(e,n,r),t.serverCache)}function $z(t,e,n,r){return sw(t.eventCache,new ed(e,n,r))}function Pb(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Wf(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yC;const Lfe=()=>(yC||(yC=new pa(bde)),yC);class pr{static fromObject(e){let n=new pr(null);return Qi(e,(r,i)=>{n=n.set(new Zn(r),i)}),n}constructor(e,n=Lfe()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:zn(),value:this.value};if(bn(e))return null;{const r=xn(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(fr(e),n);return s!=null?{path:Ur(new Zn(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(bn(e))return this;{const n=xn(e),r=this.children.get(n);return r!==null?r.subtree(fr(e)):new pr(null)}}set(e,n){if(bn(e))return new pr(n,this.children);{const r=xn(e),s=(this.children.get(r)||new pr(null)).set(fr(e),n),a=this.children.insert(r,s);return new pr(this.value,a)}}remove(e){if(bn(e))return this.children.isEmpty()?new pr(null):new pr(null,this.children);{const n=xn(e),r=this.children.get(n);if(r){const i=r.remove(fr(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new pr(null):new pr(this.value,s)}else return this}}get(e){if(bn(e))return this.value;{const n=xn(e),r=this.children.get(n);return r?r.get(fr(e)):null}}setTree(e,n){if(bn(e))return n;{const r=xn(e),s=(this.children.get(r)||new pr(null)).setTree(fr(e),n);let a;return s.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,s),new pr(this.value,a)}}fold(e){return this.fold_(zn(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Ur(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,zn(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(bn(e))return null;{const s=xn(e),a=this.children.get(s);return a?a.findOnPath_(fr(e),Ur(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,zn(),n)}foreachOnPath_(e,n,r){if(bn(e))return this;{this.value&&r(n,this.value);const i=xn(e),s=this.children.get(i);return s?s.foreachOnPath_(fr(e),Ur(n,i),r):new pr(null)}}foreach(e){this.foreach_(zn(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Ur(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this.writeTree_=e}static empty(){return new Qo(new pr(null))}}function Y0(t,e,n){if(bn(e))return new Qo(new pr(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const a=zs(i,e);return s=s.updateChild(a,n),new Qo(t.writeTree_.set(i,s))}else{const i=new pr(n),s=t.writeTree_.setTree(e,i);return new Qo(s)}}}function kA(t,e,n){let r=t;return Qi(n,(i,s)=>{r=Y0(r,Ur(e,i),s)}),r}function YF(t,e){if(bn(e))return Qo.empty();{const n=t.writeTree_.setTree(e,new pr(null));return new Qo(n)}}function IA(t,e){return lh(t,e)!=null}function lh(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(zs(n.path,e)):null}function QF(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(gr,(r,i)=>{e.push(new Cn(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Cn(r,i.value))}),e}function Lu(t,e){if(bn(e))return t;{const n=lh(t,e);return n!=null?new Qo(new pr(n)):new Qo(t.writeTree_.subtree(e))}}function RA(t){return t.writeTree_.isEmpty()}function Em(t,e){return zz(zn(),t.writeTree_,e)}function zz(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(bt(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=zz(Ur(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Ur(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(t,e){return Jz(e,t)}function jfe(t,e,n,r,i){bt(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Y0(t.visibleWrites,e,n)),t.lastWriteId=r}function Bfe(t,e,n,r){bt(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=kA(t.visibleWrites,e,n),t.lastWriteId=r}function Vfe(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function Wfe(t,e){const n=t.allWrites.findIndex(o=>o.writeId===e);bt(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,a=t.allWrites.length-1;for(;i&&a>=0;){const o=t.allWrites[a];o.visible&&(a>=n&&qfe(o,r.path)?i=!1:ho(r.path,o.path)&&(s=!0)),a--}if(i){if(s)return $fe(t),!0;if(r.snap)t.visibleWrites=YF(t.visibleWrites,r.path);else{const o=r.children;Qi(o,l=>{t.visibleWrites=YF(t.visibleWrites,Ur(r.path,l))})}return!0}else return!1}function qfe(t,e){if(t.snap)return ho(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&ho(Ur(t.path,n),e))return!0;return!1}function $fe(t){t.visibleWrites=Hz(t.allWrites,zfe,zn()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function zfe(t){return t.visible}function Hz(t,e,n){let r=Qo.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const a=s.path;let o;if(s.snap)ho(n,a)?(o=zs(n,a),r=Y0(r,o,s.snap)):ho(a,n)&&(o=zs(a,n),r=Y0(r,zn(),s.snap.getChild(o)));else if(s.children){if(ho(n,a))o=zs(n,a),r=kA(r,o,s.children);else if(ho(a,n))if(o=zs(a,n),bn(o))r=kA(r,zn(),s.children);else{const l=Af(s.children,xn(o));if(l){const c=l.getChild(fr(o));r=Y0(r,zn(),c)}}}else throw Om("WriteRecord should have .snap or .children")}}return r}function Gz(t,e,n,r,i){if(!r&&!i){const s=lh(t.visibleWrites,e);if(s!=null)return s;{const a=Lu(t.visibleWrites,e);if(RA(a))return n;if(n==null&&!IA(a,zn()))return null;{const o=n||nn.EMPTY_NODE;return Em(a,o)}}}else{const s=Lu(t.visibleWrites,e);if(!i&&RA(s))return n;if(!i&&n==null&&!IA(s,zn()))return null;{const a=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(ho(c.path,e)||ho(e,c.path))},o=Hz(t.allWrites,a,e),l=n||nn.EMPTY_NODE;return Em(o,l)}}}function Hfe(t,e,n){let r=nn.EMPTY_NODE;const i=lh(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(gr,(s,a)=>{r=r.updateImmediateChild(s,a)}),r;if(n){const s=Lu(t.visibleWrites,e);return n.forEachChild(gr,(a,o)=>{const l=Em(Lu(s,new Zn(a)),o);r=r.updateImmediateChild(a,l)}),QF(s).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}else{const s=Lu(t.visibleWrites,e);return QF(s).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}}function Gfe(t,e,n,r,i){bt(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Ur(e,n);if(IA(t.visibleWrites,s))return null;{const a=Lu(t.visibleWrites,s);return RA(a)?i.getChild(n):Em(a,i.getChild(n))}}function Kfe(t,e,n,r){const i=Ur(e,n),s=lh(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const a=Lu(t.visibleWrites,i);return Em(a,r.getNode().getImmediateChild(n))}else return null}function Jfe(t,e){return lh(t.visibleWrites,e)}function Xfe(t,e,n,r,i,s,a){let o;const l=Lu(t.visibleWrites,e),c=lh(l,zn());if(c!=null)o=c;else if(n!=null)o=Em(l,n);else return[];if(o=o.withIndex(a),!o.isEmpty()&&!o.isLeafNode()){const u=[],f=a.getCompare(),h=s?o.getReverseIteratorFrom(r,a):o.getIteratorFrom(r,a);let p=h.getNext();for(;p&&u.length<i;)f(p,r)!==0&&u.push(p),p=h.getNext();return u}else return[]}function Yfe(){return{visibleWrites:Qo.empty(),allWrites:[],lastWriteId:-1}}function Fb(t,e,n,r){return Gz(t.writeTree,t.treePath,e,n,r)}function Rk(t,e){return Hfe(t.writeTree,t.treePath,e)}function ZF(t,e,n,r){return Gfe(t.writeTree,t.treePath,e,n,r)}function Mb(t,e){return Jfe(t.writeTree,Ur(t.treePath,e))}function Qfe(t,e,n,r,i,s){return Xfe(t.writeTree,t.treePath,e,n,r,i,s)}function Pk(t,e,n){return Kfe(t.writeTree,t.treePath,e,n)}function Kz(t,e){return Jz(Ur(t.treePath,e),t.writeTree)}function Jz(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zfe{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;bt(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),bt(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,qy(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Wy(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,wm(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,qy(r,e.snapshotNode,i.oldSnap));else throw Om("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ehe{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const Xz=new ehe;class Fk{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new ed(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Pk(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Wf(this.viewCache_),s=Qfe(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function the(t){return{filter:t}}function nhe(t,e){bt(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),bt(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function rhe(t,e,n,r,i){const s=new Zfe;let a,o;if(n.type===Ho.OVERWRITE){const c=n;c.source.fromUser?a=PA(t,e,c.path,c.snap,r,i,s):(bt(c.source.fromServer,"Unknown source."),o=c.source.tagged||e.serverCache.isFiltered()&&!bn(c.path),a=Ub(t,e,c.path,c.snap,r,i,o,s))}else if(n.type===Ho.MERGE){const c=n;c.source.fromUser?a=she(t,e,c.path,c.children,r,i,s):(bt(c.source.fromServer,"Unknown source."),o=c.source.tagged||e.serverCache.isFiltered(),a=FA(t,e,c.path,c.children,r,i,o,s))}else if(n.type===Ho.ACK_USER_WRITE){const c=n;c.revert?a=lhe(t,e,c.path,r,i,s):a=ahe(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===Ho.LISTEN_COMPLETE)a=ohe(t,e,n.path,r,s);else throw Om("Unknown operation type: "+n.type);const l=s.getChanges();return ihe(e,a,l),{viewCache:a,changes:l}}function ihe(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Pb(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(qz(Pb(e)))}}function Yz(t,e,n,r,i,s){const a=e.eventCache;if(Mb(r,n)!=null)return e;{let o,l;if(bn(n))if(bt(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Wf(e),u=c instanceof nn?c:nn.EMPTY_NODE,f=Rk(r,u);o=t.filter.updateFullNode(e.eventCache.getNode(),f,s)}else{const c=Fb(r,Wf(e));o=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=xn(n);if(c===".priority"){bt(Zu(n)===1,"Can't have a priority with additional path components");const u=a.getNode();l=e.serverCache.getNode();const f=ZF(r,n,u,l);f!=null?o=t.filter.updatePriority(u,f):o=a.getNode()}else{const u=fr(n);let f;if(a.isCompleteForChild(c)){l=e.serverCache.getNode();const h=ZF(r,n,a.getNode(),l);h!=null?f=a.getNode().getImmediateChild(c).updateChild(u,h):f=a.getNode().getImmediateChild(c)}else f=Pk(r,c,e.serverCache);f!=null?o=t.filter.updateChild(a.getNode(),c,f,u,i,s):o=a.getNode()}}return X0(e,o,a.isFullyInitialized()||bn(n),t.filter.filtersNodes())}}function Ub(t,e,n,r,i,s,a,o){const l=e.serverCache;let c;const u=a?t.filter:t.filter.getIndexedFilter();if(bn(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),p,null)}else{const p=xn(n);if(!l.isCompleteForPath(n)&&Zu(n)>1)return e;const v=fr(n),y=l.getNode().getImmediateChild(p).updateChild(v,r);p===".priority"?c=u.updatePriority(l.getNode(),y):c=u.updateChild(l.getNode(),p,y,v,Xz,null)}const f=$z(e,c,l.isFullyInitialized()||bn(n),u.filtersNodes()),h=new Fk(i,f,s);return Yz(t,f,n,i,h,o)}function PA(t,e,n,r,i,s,a){const o=e.eventCache;let l,c;const u=new Fk(i,e,s);if(bn(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,a),l=X0(e,c,!0,t.filter.filtersNodes());else{const f=xn(n);if(f===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=X0(e,c,o.isFullyInitialized(),o.isFiltered());else{const h=fr(n),p=o.getNode().getImmediateChild(f);let v;if(bn(h))v=r;else{const g=u.getCompleteChild(f);g!=null?wk(h)===".priority"&&g.getChild(Uz(h)).isEmpty()?v=g:v=g.updateChild(h,r):v=nn.EMPTY_NODE}if(p.equals(v))l=e;else{const g=t.filter.updateChild(o.getNode(),f,v,h,u,a);l=X0(e,g,o.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function e9(t,e){return t.eventCache.isCompleteForChild(e)}function she(t,e,n,r,i,s,a){let o=e;return r.foreach((l,c)=>{const u=Ur(n,l);e9(e,xn(u))&&(o=PA(t,o,u,c,i,s,a))}),r.foreach((l,c)=>{const u=Ur(n,l);e9(e,xn(u))||(o=PA(t,o,u,c,i,s,a))}),o}function t9(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function FA(t,e,n,r,i,s,a,o){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;bn(n)?c=r:c=new pr(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((f,h)=>{if(u.hasChild(f)){const p=e.serverCache.getNode().getImmediateChild(f),v=t9(t,p,h);l=Ub(t,l,new Zn(f),v,i,s,a,o)}}),c.children.inorderTraversal((f,h)=>{const p=!e.serverCache.isCompleteForChild(f)&&h.value===null;if(!u.hasChild(f)&&!p){const v=e.serverCache.getNode().getImmediateChild(f),g=t9(t,v,h);l=Ub(t,l,new Zn(f),g,i,s,a,o)}}),l}function ahe(t,e,n,r,i,s,a){if(Mb(i,n)!=null)return e;const o=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(bn(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Ub(t,e,n,l.getNode().getChild(n),i,s,o,a);if(bn(n)){let c=new pr(null);return l.getNode().forEachChild(Ol,(u,f)=>{c=c.set(new Zn(u),f)}),FA(t,e,n,c,i,s,o,a)}else return e}else{let c=new pr(null);return r.foreach((u,f)=>{const h=Ur(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),FA(t,e,n,c,i,s,o,a)}}function ohe(t,e,n,r,i){const s=e.serverCache,a=$z(e,s.getNode(),s.isFullyInitialized()||bn(n),s.isFiltered());return Yz(t,a,n,r,Xz,i)}function lhe(t,e,n,r,i,s){let a;if(Mb(r,n)!=null)return e;{const o=new Fk(r,e,i),l=e.eventCache.getNode();let c;if(bn(n)||xn(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Fb(r,Wf(e));else{const f=e.serverCache.getNode();bt(f instanceof nn,"serverChildren would be complete if leaf node"),u=Rk(r,f)}u=u,c=t.filter.updateFullNode(l,u,s)}else{const u=xn(n);let f=Pk(r,u,e.serverCache);f==null&&e.serverCache.isCompleteForChild(u)&&(f=l.getImmediateChild(u)),f!=null?c=t.filter.updateChild(l,u,f,fr(n),o,s):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,nn.EMPTY_NODE,fr(n),o,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=Fb(r,Wf(e)),a.isLeafNode()&&(c=t.filter.updateFullNode(c,a,s)))}return a=e.serverCache.isFullyInitialized()||Mb(r,zn())!=null,X0(e,c,a,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class che{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Ak(r.getIndex()),s=Tfe(r);this.processor_=the(s);const a=n.serverCache,o=n.eventCache,l=i.updateFullNode(nn.EMPTY_NODE,a.getNode(),null),c=s.updateFullNode(nn.EMPTY_NODE,o.getNode(),null),u=new ed(l,a.isFullyInitialized(),i.filtersNodes()),f=new ed(c,o.isFullyInitialized(),s.filtersNodes());this.viewCache_=sw(f,u),this.eventGenerator_=new Ffe(this.query_)}get query(){return this.query_}}function uhe(t){return t.viewCache_.serverCache.getNode()}function dhe(t){return Pb(t.viewCache_)}function fhe(t,e){const n=Wf(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!bn(e)&&!n.getImmediateChild(xn(e)).isEmpty())?n.getChild(e):null}function n9(t){return t.eventRegistrations_.length===0}function hhe(t,e){t.eventRegistrations_.push(e)}function r9(t,e,n){const r=[];if(n){bt(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const a=s.createCancelEvent(n,i);a&&r.push(a)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const a=t.eventRegistrations_[s];if(!a.matches(e))i.push(a);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function i9(t,e,n,r){e.type===Ho.MERGE&&e.source.queryId!==null&&(bt(Wf(t.viewCache_),"We should always have a full cache before handling merges"),bt(Pb(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=rhe(t.processor_,i,e,n,r);return nhe(t.processor_,s.viewCache),bt(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,Qz(t,s.changes,s.viewCache.eventCache.getNode(),null)}function phe(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(gr,(s,a)=>{r.push(wm(s,a))}),n.isFullyInitialized()&&r.push(qz(n.getNode())),Qz(t,r,n.getNode(),e)}function Qz(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return Mfe(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ob;class Zz{constructor(){this.views=new Map}}function mhe(t){bt(!Ob,"__referenceConstructor has already been defined"),Ob=t}function ghe(){return bt(Ob,"Reference.ts has not been loaded"),Ob}function yhe(t){return t.views.size===0}function Mk(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return bt(s!=null,"SyncTree gave us an op for an invalid query."),i9(s,e,n,r)}else{let s=[];for(const a of t.views.values())s=s.concat(i9(a,e,n,r));return s}}function eH(t,e,n,r,i){const s=e._queryIdentifier,a=t.views.get(s);if(!a){let o=Fb(n,i?r:null),l=!1;o?l=!0:r instanceof nn?(o=Rk(n,r),l=!1):(o=nn.EMPTY_NODE,l=!1);const c=sw(new ed(o,l,!1),new ed(r,i,!1));return new che(e,c)}return a}function vhe(t,e,n,r,i,s){const a=eH(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,a),hhe(a,n),phe(a,n)}function xhe(t,e,n,r){const i=e._queryIdentifier,s=[];let a=[];const o=td(t);if(i==="default")for(const[l,c]of t.views.entries())a=a.concat(r9(c,n,r)),n9(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=t.views.get(i);l&&(a=a.concat(r9(l,n,r)),n9(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return o&&!td(t)&&s.push(new(ghe())(e._repo,e._path)),{removed:s,events:a}}function tH(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function ju(t,e){let n=null;for(const r of t.views.values())n=n||fhe(r,e);return n}function nH(t,e){if(e._queryParams.loadsAllData())return ow(t);{const r=e._queryIdentifier;return t.views.get(r)}}function rH(t,e){return nH(t,e)!=null}function td(t){return ow(t)!=null}function ow(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lb;function bhe(t){bt(!Lb,"__referenceConstructor has already been defined"),Lb=t}function _he(){return bt(Lb,"Reference.ts has not been loaded"),Lb}let whe=1;class s9{constructor(e){this.listenProvider_=e,this.syncPointTree_=new pr(null),this.pendingWriteTree_=Yfe(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Uk(t,e,n,r,i){return jfe(t.pendingWriteTree_,e,n,r,i),i?Qm(t,new Vf(Nk(),e,n)):[]}function The(t,e,n,r){Bfe(t.pendingWriteTree_,e,n,r);const i=pr.fromObject(n);return Qm(t,new Tm(Nk(),e,i))}function Du(t,e,n=!1){const r=Vfe(t.pendingWriteTree_,e);if(Wfe(t.pendingWriteTree_,e)){let s=new pr(null);return r.snap!=null?s=s.set(zn(),!0):Qi(r.children,a=>{s=s.set(new Zn(a),!0)}),Qm(t,new Rb(r.path,s,n))}else return[]}function z1(t,e,n){return Qm(t,new Vf(kk(),e,n))}function Ehe(t,e,n){const r=pr.fromObject(n);return Qm(t,new Tm(kk(),e,r))}function Che(t,e){return Qm(t,new zy(kk(),e))}function She(t,e,n){const r=Ok(t,n);if(r){const i=Lk(r),s=i.path,a=i.queryId,o=zs(s,e),l=new zy(Ik(a),o);return jk(t,s,l)}else return[]}function jb(t,e,n,r,i=!1){const s=e._path,a=t.syncPointTree_.get(s);let o=[];if(a&&(e._queryIdentifier==="default"||rH(a,e))){const l=xhe(a,e,n,r);yhe(a)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const c=l.removed;if(o=l.events,!i){const u=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,f=t.syncPointTree_.findOnPath(s,(h,p)=>td(p));if(u&&!f){const h=t.syncPointTree_.subtree(s);if(!h.isEmpty()){const p=Nhe(h);for(let v=0;v<p.length;++v){const g=p[v],y=g.query,_=oH(t,g);t.listenProvider_.startListening(Q0(y),Hy(t,y),_.hashFn,_.onComplete)}}}!f&&c.length>0&&!r&&(u?t.listenProvider_.stopListening(Q0(e),null):c.forEach(h=>{const p=t.queryToTagMap.get(cw(h));t.listenProvider_.stopListening(Q0(h),p)}))}khe(t,c)}return o}function iH(t,e,n,r){const i=Ok(t,r);if(i!=null){const s=Lk(i),a=s.path,o=s.queryId,l=zs(a,e),c=new Vf(Ik(o),l,n);return jk(t,a,c)}else return[]}function Dhe(t,e,n,r){const i=Ok(t,r);if(i){const s=Lk(i),a=s.path,o=s.queryId,l=zs(a,e),c=pr.fromObject(n),u=new Tm(Ik(o),l,c);return jk(t,a,u)}else return[]}function MA(t,e,n,r=!1){const i=e._path;let s=null,a=!1;t.syncPointTree_.foreachOnPath(i,(h,p)=>{const v=zs(h,i);s=s||ju(p,v),a=a||td(p)});let o=t.syncPointTree_.get(i);o?(a=a||td(o),s=s||ju(o,zn())):(o=new Zz,t.syncPointTree_=t.syncPointTree_.set(i,o));let l;s!=null?l=!0:(l=!1,s=nn.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((p,v)=>{const g=ju(v,zn());g&&(s=s.updateImmediateChild(p,g))}));const c=rH(o,e);if(!c&&!e._queryParams.loadsAllData()){const h=cw(e);bt(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const p=Ihe();t.queryToTagMap.set(h,p),t.tagToQueryMap.set(p,h)}const u=aw(t.pendingWriteTree_,i);let f=vhe(o,e,n,u,s,l);if(!c&&!a&&!r){const h=nH(o,e);f=f.concat(Rhe(t,e,h))}return f}function lw(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(a,o)=>{const l=zs(a,e),c=ju(o,l);if(c)return c});return Gz(i,e,s,n,!0)}function Ahe(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{const f=zs(c,n);r=r||ju(u,f)});let i=t.syncPointTree_.get(n);i?r=r||ju(i,zn()):(i=new Zz,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,a=s?new ed(r,!0,!1):null,o=aw(t.pendingWriteTree_,e._path),l=eH(i,e,o,s?a.getNode():nn.EMPTY_NODE,s);return dhe(l)}function Qm(t,e){return sH(e,t.syncPointTree_,null,aw(t.pendingWriteTree_,zn()))}function sH(t,e,n,r){if(bn(t.path))return aH(t,e,n,r);{const i=e.get(zn());n==null&&i!=null&&(n=ju(i,zn()));let s=[];const a=xn(t.path),o=t.operationForChild(a),l=e.children.get(a);if(l&&o){const c=n?n.getImmediateChild(a):null,u=Kz(r,a);s=s.concat(sH(o,l,c,u))}return i&&(s=s.concat(Mk(i,t,r,n))),s}}function aH(t,e,n,r){const i=e.get(zn());n==null&&i!=null&&(n=ju(i,zn()));let s=[];return e.children.inorderTraversal((a,o)=>{const l=n?n.getImmediateChild(a):null,c=Kz(r,a),u=t.operationForChild(a);u&&(s=s.concat(aH(u,o,l,c)))}),i&&(s=s.concat(Mk(i,t,r,n))),s}function oH(t,e){const n=e.query,r=Hy(t,n);return{hashFn:()=>(uhe(e)||nn.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?She(t,n._path,r):Che(t,n._path);{const s=Tde(i,n);return jb(t,n,null,s)}}}}function Hy(t,e){const n=cw(e);return t.queryToTagMap.get(n)}function cw(t){return t._path.toString()+"$"+t._queryIdentifier}function Ok(t,e){return t.tagToQueryMap.get(e)}function Lk(t){const e=t.indexOf("$");return bt(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Zn(t.substr(0,e))}}function jk(t,e,n){const r=t.syncPointTree_.get(e);bt(r,"Missing sync point for query tag that we're tracking");const i=aw(t.pendingWriteTree_,e);return Mk(r,n,i,null)}function Nhe(t){return t.fold((e,n,r)=>{if(n&&td(n))return[ow(n)];{let i=[];return n&&(i=tH(n)),Qi(r,(s,a)=>{i=i.concat(a)}),i}})}function Q0(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(_he())(t._repo,t._path):t}function khe(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=cw(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function Ihe(){return whe++}function Rhe(t,e,n){const r=e._path,i=Hy(t,e),s=oH(t,n),a=t.listenProvider_.startListening(Q0(e),i,s.hashFn,s.onComplete),o=t.syncPointTree_.subtree(r);if(i)bt(!td(o.value),"If we're adding a query, it shouldn't be shadowed");else{const l=o.fold((c,u,f)=>{if(!bn(c)&&u&&td(u))return[ow(u).query];{let h=[];return u&&(h=h.concat(tH(u).map(p=>p.query))),Qi(f,(p,v)=>{h=h.concat(v)}),h}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(Q0(u),Hy(t,u))}}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Bk(n)}node(){return this.node_}}class Vk{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Ur(this.path_,e);return new Vk(this.syncTree_,n)}node(){return lw(this.syncTree_,this.path_)}}const Phe=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},a9=function(t,e,n){if(!t||typeof t!="object")return t;if(bt(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Fhe(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Mhe(t[".sv"],e);bt(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Fhe=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:bt(!1,"Unexpected server value: "+t)}},Mhe=function(t,e,n){t.hasOwnProperty("increment")||bt(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&bt(!1,"Unexpected increment value: "+r);const i=e.node();if(bt(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const a=i.getValue();return typeof a!="number"?r:a+r},lH=function(t,e,n,r){return qk(e,new Vk(n,t),r)},Wk=function(t,e,n){return qk(t,new Bk(e),n)};function qk(t,e,n){const r=t.getPriority().val(),i=a9(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const a=t,o=a9(a.getValue(),e,n);return o!==a.getValue()||i!==a.getPriority().val()?new Wi(o,Wr(i)):t}else{const a=t;return s=a,i!==a.getPriority().val()&&(s=s.updatePriority(new Wi(i))),a.forEachChild(gr,(o,l)=>{const c=qk(l,e.getImmediateChild(o),n);c!==l&&(s=s.updateImmediateChild(o,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function uw(t,e){let n=e instanceof Zn?e:new Zn(e),r=t,i=xn(n);for(;i!==null;){const s=Af(r.node.children,i)||{children:{},childCount:0};r=new $k(i,r,s),n=fr(n),i=xn(n)}return r}function ch(t){return t.node.value}function zk(t,e){t.node.value=e,UA(t)}function cH(t){return t.node.childCount>0}function Uhe(t){return ch(t)===void 0&&!cH(t)}function dw(t,e){Qi(t.node.children,(n,r)=>{e(new $k(n,t,r))})}function uH(t,e,n,r){n&&e(t),dw(t,i=>{uH(i,e,!0)})}function Ohe(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function H1(t){return new Zn(t.parent===null?t.name:H1(t.parent)+"/"+t.name)}function UA(t){t.parent!==null&&Lhe(t.parent,t.name,t)}function Lhe(t,e,n){const r=Uhe(n),i=Ba(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,UA(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,UA(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jhe=/[\[\].#$\/\u0000-\u001F\u007F]/,Bhe=/[\[\].#$\u0000-\u001F\u007F]/,vC=10*1024*1024,fw=function(t){return typeof t=="string"&&t.length!==0&&!jhe.test(t)},dH=function(t){return typeof t=="string"&&t.length!==0&&!Bhe.test(t)},Vhe=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),dH(t)},Gy=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!tw(t)||t&&typeof t=="object"&&Ba(t,".sv")},ql=function(t,e,n,r){r&&e===void 0||G1(ma(t,"value"),e,n)},G1=function(t,e,n){const r=n instanceof Zn?new rfe(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Yd(r));if(typeof e=="function")throw new Error(t+"contains a function "+Yd(r)+" with contents = "+e.toString());if(tw(e))throw new Error(t+"contains "+e.toString()+" "+Yd(r));if(typeof e=="string"&&e.length>vC/3&&b_(e)>vC)throw new Error(t+"contains a string greater than "+vC+" utf8 bytes "+Yd(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Qi(e,(a,o)=>{if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!fw(a)))throw new Error(t+" contains an invalid key ("+a+") "+Yd(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);ife(r,a),G1(t,o,r),sfe(r)}),i&&s)throw new Error(t+' contains ".value" child '+Yd(r)+" in addition to actual children.")}},Whe=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=Vy(r);for(let a=0;a<s.length;a++)if(!(s[a]===".priority"&&a===s.length-1)){if(!fw(s[a]))throw new Error(t+"contains an invalid key ("+s[a]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(nfe);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&ho(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},fH=function(t,e,n,r){const i=ma(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];Qi(e,(a,o)=>{const l=new Zn(a);if(G1(i,o,Ur(n,l)),wk(l)===".priority"&&!Gy(o))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),Whe(i,s)},Hk=function(t,e,n){if(tw(e))throw new Error(ma(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Gy(e))throw new Error(ma(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")},K1=function(t,e,n,r){if(n!==void 0&&!fw(n))throw new Error(ma(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Ky=function(t,e,n,r){if(!dH(n))throw new Error(ma(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},qhe=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Ky(t,e,n)},po=function(t,e){if(xn(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},hH=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!fw(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Vhe(n))throw new Error(ma(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $he{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function hw(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!Tk(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function pH(t,e,n){hw(t,n),mH(t,r=>Tk(r,e))}function Wa(t,e,n){hw(t,n),mH(t,r=>ho(r,e)||ho(e,r))}function mH(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(zhe(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function zhe(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();bf&&Ki("event: "+n.toString()),Xm(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gH="repo_interrupt",Hhe=25;class Ghe{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new $he,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ib(),this.transactionQueueTree_=new $k,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Khe(t,e,n){if(t.stats_=bk(t.repoInfo_),t.forceRestClient_||Dde())t.server_=new kb(t.repoInfo_,(r,i,s,a)=>{o9(t,r,i,s,a)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>l9(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ai(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new yc(t.repoInfo_,e,(r,i,s,a)=>{o9(t,r,i,s,a)},r=>{l9(t,r)},r=>{Jhe(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Rde(t.repoInfo_,()=>new Pfe(t.stats_,t.server_)),t.infoData_=new Afe,t.infoSyncTree_=new s9({startListening:(r,i,s,a)=>{let o=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(o=z1(t.infoSyncTree_,r._path,l),setTimeout(()=>{a("ok")},0)),o},stopListening:()=>{}}),Gk(t,"connected",!1),t.serverSyncTree_=new s9({startListening:(r,i,s,a)=>(t.server_.listen(r,s,i,(o,l)=>{const c=a(o,l);Wa(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function yH(t){const n=t.infoData_.getNode(new Zn(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function J1(t){return Phe({timestamp:yH(t)})}function o9(t,e,n,r,i){t.dataUpdateCount++;const s=new Zn(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let a=[];if(i)if(r){const l=nb(n,c=>Wr(c));a=Dhe(t.serverSyncTree_,s,l,i)}else{const l=Wr(n);a=iH(t.serverSyncTree_,s,l,i)}else if(r){const l=nb(n,c=>Wr(c));a=Ehe(t.serverSyncTree_,s,l)}else{const l=Wr(n);a=z1(t.serverSyncTree_,s,l)}let o=s;a.length>0&&(o=Cm(t,s)),Wa(t.eventQueue_,o,a)}function l9(t,e){Gk(t,"connected",e),e===!1&&Qhe(t)}function Jhe(t,e){Qi(e,(n,r)=>{Gk(t,n,r)})}function Gk(t,e,n){const r=new Zn("/.info/"+e),i=Wr(n);t.infoData_.updateSnapshot(r,i);const s=z1(t.infoSyncTree_,r,i);Wa(t.eventQueue_,r,s)}function pw(t){return t.nextWriteId_++}function Xhe(t,e,n){const r=Ahe(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=Wr(i).withIndex(e._queryParams.getIndex());MA(t.serverSyncTree_,e,n,!0);let a;if(e._queryParams.loadsAllData())a=z1(t.serverSyncTree_,e._path,s);else{const o=Hy(t.serverSyncTree_,e);a=iH(t.serverSyncTree_,e._path,s,o)}return Wa(t.eventQueue_,e._path,a),jb(t.serverSyncTree_,e,n,null,!0),s},i=>(Zm(t,"get for query "+Ai(e)+" failed: "+i),Promise.reject(new Error(i))))}function Kk(t,e,n,r,i){Zm(t,"set",{path:e.toString(),value:n,priority:r});const s=J1(t),a=Wr(n,r),o=lw(t.serverSyncTree_,e),l=Wk(a,o,s),c=pw(t),u=Uk(t.serverSyncTree_,e,l,c,!0);hw(t.eventQueue_,u),t.server_.put(e.toString(),a.val(!0),(h,p)=>{const v=h==="ok";v||Is("set at "+e+" failed: "+h);const g=Du(t.serverSyncTree_,c,!v);Wa(t.eventQueue_,e,g),nd(t,i,h,p)});const f=Xk(t,e);Cm(t,f),Wa(t.eventQueue_,f,[])}function Yhe(t,e,n,r){Zm(t,"update",{path:e.toString(),value:n});let i=!0;const s=J1(t),a={};if(Qi(n,(o,l)=>{i=!1,a[o]=lH(Ur(e,o),Wr(l),t.serverSyncTree_,s)}),i)Ki("update() called with empty data.  Don't do anything."),nd(t,r,"ok",void 0);else{const o=pw(t),l=The(t.serverSyncTree_,e,a,o);hw(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,u)=>{const f=c==="ok";f||Is("update at "+e+" failed: "+c);const h=Du(t.serverSyncTree_,o,!f),p=h.length>0?Cm(t,e):e;Wa(t.eventQueue_,p,h),nd(t,r,c,u)}),Qi(n,c=>{const u=Xk(t,Ur(e,c));Cm(t,u)}),Wa(t.eventQueue_,e,[])}}function Qhe(t){Zm(t,"onDisconnectEvents");const e=J1(t),n=Ib();NA(t.onDisconnect_,zn(),(i,s)=>{const a=lH(i,s,t.serverSyncTree_,e);Ym(n,i,a)});let r=[];NA(n,zn(),(i,s)=>{r=r.concat(z1(t.serverSyncTree_,i,s));const a=Xk(t,i);Cm(t,a)}),t.onDisconnect_=Ib(),Wa(t.eventQueue_,zn(),r)}function Zhe(t,e,n){t.server_.onDisconnectCancel(e.toString(),(r,i)=>{r==="ok"&&AA(t.onDisconnect_,e),nd(t,n,r,i)})}function c9(t,e,n,r){const i=Wr(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(s,a)=>{s==="ok"&&Ym(t.onDisconnect_,e,i),nd(t,r,s,a)})}function epe(t,e,n,r,i){const s=Wr(n,r);t.server_.onDisconnectPut(e.toString(),s.val(!0),(a,o)=>{a==="ok"&&Ym(t.onDisconnect_,e,s),nd(t,i,a,o)})}function tpe(t,e,n,r){if(tb(n)){Ki("onDisconnect().update() called with empty data.  Don't do anything."),nd(t,r,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,(i,s)=>{i==="ok"&&Qi(n,(a,o)=>{const l=Wr(o);Ym(t.onDisconnect_,Ur(e,a),l)}),nd(t,r,i,s)})}function npe(t,e,n){let r;xn(e._path)===".info"?r=MA(t.infoSyncTree_,e,n):r=MA(t.serverSyncTree_,e,n),pH(t.eventQueue_,e._path,r)}function OA(t,e,n){let r;xn(e._path)===".info"?r=jb(t.infoSyncTree_,e,n):r=jb(t.serverSyncTree_,e,n),pH(t.eventQueue_,e._path,r)}function vH(t){t.persistentConnection_&&t.persistentConnection_.interrupt(gH)}function rpe(t){t.persistentConnection_&&t.persistentConnection_.resume(gH)}function Zm(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ki(n,...e)}function nd(t,e,n,r){e&&Xm(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const a=new Error(s);a.code=i,e(a)}})}function ipe(t,e,n,r,i,s){Zm(t,"transaction on "+e);const a={path:e,update:n,onComplete:r,status:null,order:hz(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},o=Jk(t,e,void 0);a.currentInputSnapshot=o;const l=a.update(o.val());if(l===void 0)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{G1("transaction failed: Data returned ",l,a.path),a.status=0;const c=uw(t.transactionQueueTree_,e),u=ch(c)||[];u.push(a),zk(c,u);let f;typeof l=="object"&&l!==null&&Ba(l,".priority")?(f=Af(l,".priority"),bt(Gy(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(lw(t.serverSyncTree_,e)||nn.EMPTY_NODE).getPriority().val();const h=J1(t),p=Wr(l,f),v=Wk(p,o,h);a.currentOutputSnapshotRaw=p,a.currentOutputSnapshotResolved=v,a.currentWriteId=pw(t);const g=Uk(t.serverSyncTree_,e,v,a.currentWriteId,a.applyLocally);Wa(t.eventQueue_,e,g),mw(t,t.transactionQueueTree_)}}function Jk(t,e,n){return lw(t.serverSyncTree_,e,n)||nn.EMPTY_NODE}function mw(t,e=t.transactionQueueTree_){if(e||gw(t,e),ch(e)){const n=bH(t,e);bt(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&spe(t,H1(e),n)}else cH(e)&&dw(e,n=>{mw(t,n)})}function spe(t,e,n){const r=n.map(c=>c.currentWriteId),i=Jk(t,e,r);let s=i;const a=i.hash();for(let c=0;c<n.length;c++){const u=n[c];bt(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const f=zs(e,u.path);s=s.updateChild(f,u.currentOutputSnapshotRaw)}const o=s.val(!0),l=e;t.server_.put(l.toString(),o,c=>{Zm(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const f=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(Du(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&f.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();gw(t,uw(t.transactionQueueTree_,e)),mw(t,t.transactionQueueTree_),Wa(t.eventQueue_,e,u);for(let h=0;h<f.length;h++)Xm(f[h])}else{if(c==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{Is("transaction at "+l.toString()+" failed: "+c);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=c}Cm(t,e)}},a)}function Cm(t,e){const n=xH(t,e),r=H1(n),i=bH(t,n);return ape(t,i,r),r}function ape(t,e,n){if(e.length===0)return;const r=[];let i=[];const a=e.filter(o=>o.status===0).map(o=>o.currentWriteId);for(let o=0;o<e.length;o++){const l=e[o],c=zs(n,l.path);let u=!1,f;if(bt(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,f=l.abortReason,i=i.concat(Du(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Hhe)u=!0,f="maxretry",i=i.concat(Du(t.serverSyncTree_,l.currentWriteId,!0));else{const h=Jk(t,l.path,a);l.currentInputSnapshot=h;const p=e[o].update(h.val());if(p!==void 0){G1("transaction failed: Data returned ",p,l.path);let v=Wr(p);typeof p=="object"&&p!=null&&Ba(p,".priority")||(v=v.updatePriority(h.getPriority()));const y=l.currentWriteId,_=J1(t),x=Wk(v,h,_);l.currentOutputSnapshotRaw=v,l.currentOutputSnapshotResolved=x,l.currentWriteId=pw(t),a.splice(a.indexOf(y),1),i=i.concat(Uk(t.serverSyncTree_,l.path,x,l.currentWriteId,l.applyLocally)),i=i.concat(Du(t.serverSyncTree_,y,!0))}else u=!0,f="nodata",i=i.concat(Du(t.serverSyncTree_,l.currentWriteId,!0))}Wa(t.eventQueue_,n,i),i=[],u&&(e[o].status=2,(function(h){setTimeout(h,Math.floor(0))})(e[o].unwatcher),e[o].onComplete&&(f==="nodata"?r.push(()=>e[o].onComplete(null,!1,e[o].currentInputSnapshot)):r.push(()=>e[o].onComplete(new Error(f),!1,null))))}gw(t,t.transactionQueueTree_);for(let o=0;o<r.length;o++)Xm(r[o]);mw(t,t.transactionQueueTree_)}function xH(t,e){let n,r=t.transactionQueueTree_;for(n=xn(e);n!==null&&ch(r)===void 0;)r=uw(r,n),e=fr(e),n=xn(e);return r}function bH(t,e){const n=[];return _H(t,e,n),n.sort((r,i)=>r.order-i.order),n}function _H(t,e,n){const r=ch(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);dw(e,i=>{_H(t,i,n)})}function gw(t,e){const n=ch(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,zk(e,n.length>0?n:void 0)}dw(e,r=>{gw(t,r)})}function Xk(t,e){const n=H1(xH(t,e)),r=uw(t.transactionQueueTree_,e);return Ohe(r,i=>{xC(t,i)}),xC(t,r),uH(r,i=>{xC(t,i)}),n}function xC(t,e){const n=ch(e);if(n){const r=[];let i=[],s=-1;for(let a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(bt(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):(bt(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(Du(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));s===-1?zk(e,void 0):n.length=s+1,Wa(t.eventQueue_,H1(e),i);for(let a=0;a<r.length;a++)Xm(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ope(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function lpe(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Is(`Invalid query segment '${n}' in query '${t}'`)}return e}const LA=function(t,e){const n=cpe(t),r=n.namespace;n.domain==="firebase.com"&&Wl(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Wl("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||vde();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Dz(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Zn(n.pathString)}},cpe=function(t){let e="",n="",r="",i="",s="",a=!0,o="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(o=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(u,f)),u<f&&(i=ope(t.substring(u,f)));const h=lpe(t.substring(Math.min(t.length,f)));c=e.indexOf(":"),c>=0?(a=o==="https"||o==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:a,scheme:o,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u9="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",upe=(function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=u9.charAt(n%64),n=Math.floor(n/64);bt(n===0,"Cannot push at time == 0");let a=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)a+=u9.charAt(e[i]);return bt(a.length===20,"nextPushId: Length should be 20."),a}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wH{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ai(this.snapshot.exportVal())}}class TH{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return bt(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dpe=class{constructor(e,n){this._repo=e,this._path=n}cancel(){const e=new ua;return Zhe(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){po("OnDisconnect.remove",this._path);const e=new ua;return c9(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){po("OnDisconnect.set",this._path),ql("OnDisconnect.set",e,this._path,!1);const n=new ua;return c9(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){po("OnDisconnect.setWithPriority",this._path),ql("OnDisconnect.setWithPriority",e,this._path,!1),Hk("OnDisconnect.setWithPriority",n);const r=new ua;return epe(this._repo,this._path,e,n,r.wrapCallback(()=>{})),r.promise}update(e){po("OnDisconnect.update",this._path),fH("OnDisconnect.update",e,this._path);const n=new ua;return tpe(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return bn(this._path)?null:wk(this._path)}get ref(){return new To(this._repo,this._path)}get _queryIdentifier(){const e=JF(this._queryParams),n=vk(e);return n==="{}"?"default":n}get _queryObject(){return JF(this._queryParams)}isEqual(e){if(e=Mt(e),!(e instanceof wa))return!1;const n=this._repo===e._repo,r=Tk(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+tfe(this._path)}}function yw(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function gd(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Ol){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Qu)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==Ic)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===gr){if(e!=null&&!Gy(e)||n!=null&&!Gy(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(bt(t.getIndex()instanceof Sk||t.getIndex()===Dk,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function vw(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class To extends wa{constructor(e,n){super(e,n,new rw,!1)}get parent(){const e=Uz(this._path);return e===null?null:new To(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}let xw=class jA{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Zn(e),r=qf(this.ref,e);return new jA(this._node.getChild(n),r,gr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new jA(i,qf(this.ref,r),gr)))}hasChild(e){const n=new Zn(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function EH(t,e){return t=Mt(t),t._checkNotDeleted("ref"),e!==void 0?qf(t._root,e):t._root}function d9(t,e){t=Mt(t),t._checkNotDeleted("refFromURL");const n=LA(e,t._repo.repoInfo_.nodeAdmin);hH("refFromURL",n);const r=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&r.host!==t._repo.repoInfo_.host&&Wl("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),EH(t,n.path.toString())}function qf(t,e){return t=Mt(t),xn(t._path)===null?qhe("child","path",e):Ky("child","path",e),new To(t._repo,Ur(t._path,e))}function fpe(t,e){t=Mt(t),po("push",t._path),ql("push",e,t._path,!0);const n=yH(t._repo),r=upe(n),i=qf(t,r),s=qf(t,r);let a;return e!=null?a=Qk(s,e).then(()=>s):a=Promise.resolve(s),i.then=a.then.bind(a),i.catch=a.then.bind(a,void 0),i}function hpe(t){return po("remove",t._path),Qk(t,null)}function Qk(t,e){t=Mt(t),po("set",t._path),ql("set",e,t._path,!1);const n=new ua;return Kk(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function ppe(t,e){t=Mt(t),po("setPriority",t._path),Hk("setPriority",e);const n=new ua;return Kk(t._repo,Ur(t._path,".priority"),e,null,n.wrapCallback(()=>{})),n.promise}function mpe(t,e,n){if(po("setWithPriority",t._path),ql("setWithPriority",e,t._path,!1),Hk("setWithPriority",n),t.key===".length"||t.key===".keys")throw"setWithPriority failed: "+t.key+" is a read-only object.";const r=new ua;return Kk(t._repo,t._path,e,n,r.wrapCallback(()=>{})),r.promise}function gpe(t,e){fH("update",e,t._path);const n=new ua;return Yhe(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function ype(t){t=Mt(t);const e=new Yk(()=>{}),n=new X1(e);return Xhe(t._repo,t,n).then(r=>new xw(r,new To(t._repo,t._path),t._queryParams.getIndex()))}class X1{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new wH("value",this,new xw(e.snapshotNode,new To(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new TH(this,e,n):null}matches(e){return e instanceof X1?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class bw{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new TH(this,e,n):null}createEvent(e,n){bt(e.childName!=null,"Child events should have a childName.");const r=qf(new To(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new wH(e.type,this,new xw(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof bw?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function Y1(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const l=n,c=(u,f)=>{OA(t._repo,t,o),l(u,f)};c.userCallback=n.userCallback,c.context=n.context,n=c}const a=new Yk(n,s||void 0),o=e==="value"?new X1(a):new bw(e,a);return npe(t._repo,t,o),()=>OA(t._repo,t,o)}function BA(t,e,n,r){return Y1(t,"value",e,n,r)}function f9(t,e,n,r){return Y1(t,"child_added",e,n,r)}function h9(t,e,n,r){return Y1(t,"child_changed",e,n,r)}function p9(t,e,n,r){return Y1(t,"child_moved",e,n,r)}function m9(t,e,n,r){return Y1(t,"child_removed",e,n,r)}function g9(t,e,n){let r=null;const i=n?new Yk(n):null;e==="value"?r=new X1(i):e&&(r=new bw(e,i)),OA(t._repo,t,r)}class il{}class CH extends il{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){ql("endAt",this._value,e._path,!0);const n=DA(e._queryParams,this._value,this._key);if(vw(n),gd(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new wa(e._repo,e._path,n,e._orderByCalled)}}function vpe(t,e){return K1("endAt","key",e),new CH(t,e)}class xpe extends il{constructor(e,n){super(),this._value=e,this._key=n,this.type="endBefore"}_apply(e){ql("endBefore",this._value,e._path,!1);const n=Dfe(e._queryParams,this._value,this._key);if(vw(n),gd(n),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new wa(e._repo,e._path,n,e._orderByCalled)}}function bpe(t,e){return K1("endBefore","key",e),new xpe(t,e)}class SH extends il{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){ql("startAt",this._value,e._path,!0);const n=SA(e._queryParams,this._value,this._key);if(vw(n),gd(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new wa(e._repo,e._path,n,e._orderByCalled)}}function _pe(t=null,e){return K1("startAt","key",e),new SH(t,e)}class wpe extends il{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAfter"}_apply(e){ql("startAfter",this._value,e._path,!1);const n=Sfe(e._queryParams,this._value,this._key);if(vw(n),gd(n),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new wa(e._repo,e._path,n,e._orderByCalled)}}function Tpe(t,e){return K1("startAfter","key",e),new wpe(t,e)}class Epe extends il{constructor(e){super(),this._limit=e,this.type="limitToFirst"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new wa(e._repo,e._path,Efe(e._queryParams,this._limit),e._orderByCalled)}}function Cpe(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Epe(t)}class Spe extends il{constructor(e){super(),this._limit=e,this.type="limitToLast"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new wa(e._repo,e._path,Cfe(e._queryParams,this._limit),e._orderByCalled)}}function Dpe(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Spe(t)}class Ape extends il{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){yw(e,"orderByChild");const n=new Zn(this._path);if(bn(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new Sk(n),i=iw(e._queryParams,r);return gd(i),new wa(e._repo,e._path,i,!0)}}function Npe(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Ky("orderByChild","path",t),new Ape(t)}class kpe extends il{constructor(){super(...arguments),this.type="orderByKey"}_apply(e){yw(e,"orderByKey");const n=iw(e._queryParams,Ol);return gd(n),new wa(e._repo,e._path,n,!0)}}function Ipe(){return new kpe}class Rpe extends il{constructor(){super(...arguments),this.type="orderByPriority"}_apply(e){yw(e,"orderByPriority");const n=iw(e._queryParams,gr);return gd(n),new wa(e._repo,e._path,n,!0)}}function Ppe(){return new Rpe}class Fpe extends il{constructor(){super(...arguments),this.type="orderByValue"}_apply(e){yw(e,"orderByValue");const n=iw(e._queryParams,Dk);return gd(n),new wa(e._repo,e._path,n,!0)}}function Mpe(){return new Fpe}class Upe extends il{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if(ql("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new CH(this._value,this._key)._apply(new SH(this._value,this._key)._apply(e))}}function Ope(t,e){return K1("equalTo","key",e),new Upe(t,e)}function Lo(t,...e){let n=Mt(t);for(const r of e)n=r._apply(n);return n}mhe(To);bhe(To);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lpe="FIREBASE_DATABASE_EMULATOR_HOST",VA={};let jpe=!1;function Bpe(t,e,n,r){const i=e.lastIndexOf(":"),s=e.substring(0,i),a=zl(s);t.repoInfo_=new Dz(e,a,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function DH(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Wl("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ki("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let a=LA(s,i),o=a.repoInfo,l,c;typeof process<"u"&&IF&&(c=IF[Lpe]),c?(l=!0,s=`http://${c}?ns=${o.namespace}`,a=LA(s,i),o=a.repoInfo):l=!a.repoInfo.secure;const u=i&&l?new Wp(Wp.OWNER):new Nde(t.name,t.options,e);hH("Invalid Firebase Database URL",a),bn(a.path)||Wl("Database URL must point to the root of a Firebase Database (not including a child path).");const f=Wpe(o,t,u,new Ade(t,n));return new qpe(f,t)}function Vpe(t,e){const n=VA[e];(!n||n[t.key]!==t)&&Wl(`Database ${e}(${t.repoInfo_}) has already been deleted.`),vH(t),delete n[t.key]}function Wpe(t,e,n,r){let i=VA[e.name];i||(i={},VA[e.name]=i);let s=i[t.toURLString()];return s&&Wl("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Ghe(t,jpe,n,r),i[t.toURLString()]=s,s}let qpe=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Khe(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new To(this._repo,zn())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Vpe(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Wl("Cannot call "+e+" on a deleted database.")}};function AH(){_m.IS_TRANSPORT_INITIALIZED&&Is("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function $pe(){AH(),Su.forceDisallow()}function zpe(){AH(),uo.forceDisallow(),Su.forceAllow()}function Hpe(t,e,n,r={}){t=Mt(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,s=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&Sc(r,s.repoInfo_.emulatorOptions))return;Wl("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let a;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&Wl('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new Wp(Wp.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:F3(r.mockUserToken,t.app.options.projectId);a=new Wp(o)}zl(e)&&(g_(e),y_("Database",!0)),Bpe(s,i,r,a)}function Gpe(t){t=Mt(t),t._checkNotDeleted("goOffline"),vH(t._repo)}function Kpe(t){t=Mt(t),t._checkNotDeleted("goOnline"),rpe(t._repo)}function Jpe(t,e){mz(t,e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xpe(t){dz(Hl),Ll(new Js("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return DH(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Hs(RF,PF,t),Hs(RF,PF,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ype={".sv":"timestamp"};function Qpe(){return Ype}function Zpe(t){return{".sv":{increment:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eme=class{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function tme(t,e,n){if(t=Mt(t),po("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";const r=(n==null?void 0:n.applyLocally)??!0,i=new ua,s=(o,l,c)=>{let u=null;o?i.reject(o):(u=new xw(c,new To(t._repo,t._path),gr),i.resolve(new eme(l,u)))},a=BA(t,()=>{});return ipe(t._repo,t._path,e,s,a,r),i.promise}yc.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};yc.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Xpe();const nme="@firebase/database-compat",rme="2.1.0";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ime=new Lm("@firebase/database-compat"),NH=function(t){const e="FIREBASE WARNING: "+t;ime.warn(e)};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sme=function(t,e,n,r){if(n!==void 0&&typeof n!="boolean")throw new Error(ma(t,e)+"must be a boolean.")},ame=function(t,e,n){if(e!==void 0)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(ma(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ome{constructor(e){this._delegate=e}cancel(e){rn("OnDisconnect.cancel",0,1,arguments.length),zi("OnDisconnect.cancel","onComplete",e,!0);const n=this._delegate.cancel();return e&&n.then(()=>e(null),r=>e(r)),n}remove(e){rn("OnDisconnect.remove",0,1,arguments.length),zi("OnDisconnect.remove","onComplete",e,!0);const n=this._delegate.remove();return e&&n.then(()=>e(null),r=>e(r)),n}set(e,n){rn("OnDisconnect.set",1,2,arguments.length),zi("OnDisconnect.set","onComplete",n,!0);const r=this._delegate.set(e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){rn("OnDisconnect.setWithPriority",2,3,arguments.length),zi("OnDisconnect.setWithPriority","onComplete",r,!0);const i=this._delegate.setWithPriority(e,n);return r&&i.then(()=>r(null),s=>r(s)),i}update(e,n){if(rn("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,NH("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}zi("OnDisconnect.update","onComplete",n,!0);const r=this._delegate.update(e);return n&&r.then(()=>n(null),i=>n(i)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lme{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return rn("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,n){this._database=e,this._delegate=n}val(){return rn("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return rn("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return rn("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return rn("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return rn("DataSnapshot.child",0,1,arguments.length),e=String(e),Ky("DataSnapshot.child","path",e),new Bu(this._database,this._delegate.child(e))}hasChild(e){return rn("DataSnapshot.hasChild",1,1,arguments.length),Ky("DataSnapshot.hasChild","path",e),this._delegate.hasChild(e)}getPriority(){return rn("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return rn("DataSnapshot.forEach",1,1,arguments.length),zi("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(n=>e(new Bu(this._database,n)))}hasChildren(){return rn("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return rn("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return rn("DataSnapshot.ref",0,0,arguments.length),new df(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class as{constructor(e,n){this.database=e,this._delegate=n}on(e,n,r,i){var l;rn("Query.on",2,4,arguments.length),zi("Query.on","callback",n,!1);const s=as.getCancelAndContextArgs_("Query.on",r,i),a=(c,u)=>{n.call(s.context,new Bu(this.database,c),u)};a.userCallback=n,a.context=s.context;const o=(l=s.cancel)==null?void 0:l.bind(s.context);switch(e){case"value":return BA(this._delegate,a,o),n;case"child_added":return f9(this._delegate,a,o),n;case"child_removed":return m9(this._delegate,a,o),n;case"child_changed":return h9(this._delegate,a,o),n;case"child_moved":return p9(this._delegate,a,o),n;default:throw new Error(ma("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,n,r){if(rn("Query.off",0,3,arguments.length),ame("Query.off",e),zi("Query.off","callback",n,!0),CP("Query.off","context",r),n){const i=()=>{};i.userCallback=n,i.context=r,g9(this._delegate,e,i)}else g9(this._delegate,e)}get(){return ype(this._delegate).then(e=>new Bu(this.database,e))}once(e,n,r,i){rn("Query.once",1,4,arguments.length),zi("Query.once","callback",n,!0);const s=as.getCancelAndContextArgs_("Query.once",r,i),a=new ua,o=(c,u)=>{const f=new Bu(this.database,c);n&&n.call(s.context,f,u),a.resolve(f)};o.userCallback=n,o.context=s.context;const l=c=>{s.cancel&&s.cancel.call(s.context,c),a.reject(c)};switch(e){case"value":BA(this._delegate,o,l,{onlyOnce:!0});break;case"child_added":f9(this._delegate,o,l,{onlyOnce:!0});break;case"child_removed":m9(this._delegate,o,l,{onlyOnce:!0});break;case"child_changed":h9(this._delegate,o,l,{onlyOnce:!0});break;case"child_moved":p9(this._delegate,o,l,{onlyOnce:!0});break;default:throw new Error(ma("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return a.promise}limitToFirst(e){return rn("Query.limitToFirst",1,1,arguments.length),new as(this.database,Lo(this._delegate,Cpe(e)))}limitToLast(e){return rn("Query.limitToLast",1,1,arguments.length),new as(this.database,Lo(this._delegate,Dpe(e)))}orderByChild(e){return rn("Query.orderByChild",1,1,arguments.length),new as(this.database,Lo(this._delegate,Npe(e)))}orderByKey(){return rn("Query.orderByKey",0,0,arguments.length),new as(this.database,Lo(this._delegate,Ipe()))}orderByPriority(){return rn("Query.orderByPriority",0,0,arguments.length),new as(this.database,Lo(this._delegate,Ppe()))}orderByValue(){return rn("Query.orderByValue",0,0,arguments.length),new as(this.database,Lo(this._delegate,Mpe()))}startAt(e=null,n){return rn("Query.startAt",0,2,arguments.length),new as(this.database,Lo(this._delegate,_pe(e,n)))}startAfter(e=null,n){return rn("Query.startAfter",0,2,arguments.length),new as(this.database,Lo(this._delegate,Tpe(e,n)))}endAt(e=null,n){return rn("Query.endAt",0,2,arguments.length),new as(this.database,Lo(this._delegate,vpe(e,n)))}endBefore(e=null,n){return rn("Query.endBefore",0,2,arguments.length),new as(this.database,Lo(this._delegate,bpe(e,n)))}equalTo(e,n){return rn("Query.equalTo",1,2,arguments.length),new as(this.database,Lo(this._delegate,Ope(e,n)))}toString(){return rn("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return rn("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(rn("Query.isEqual",1,1,arguments.length),!(e instanceof as)){const n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,n,r){const i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,zi(e,"cancel",i.cancel,!0),i.context=r,CP(e,"context",i.context);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(ma(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return i}get ref(){return new df(this.database,new To(this._delegate._repo,this._delegate._path))}}let df=class Cp extends as{constructor(e,n){super(e,new wa(n._repo,n._path,new rw,!1)),this.database=e,this._delegate=n}getKey(){return rn("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return rn("Reference.child",1,1,arguments.length),typeof e=="number"&&(e=String(e)),new Cp(this.database,qf(this._delegate,e))}getParent(){rn("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new Cp(this.database,e):null}getRoot(){return rn("Reference.root",0,0,arguments.length),new Cp(this.database,this._delegate.root)}set(e,n){rn("Reference.set",1,2,arguments.length),zi("Reference.set","onComplete",n,!0);const r=Qk(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}update(e,n){if(rn("Reference.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,NH("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}po("Reference.update",this._delegate._path),zi("Reference.update","onComplete",n,!0);const r=gpe(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){rn("Reference.setWithPriority",2,3,arguments.length),zi("Reference.setWithPriority","onComplete",r,!0);const i=mpe(this._delegate,e,n);return r&&i.then(()=>r(null),s=>r(s)),i}remove(e){rn("Reference.remove",0,1,arguments.length),zi("Reference.remove","onComplete",e,!0);const n=hpe(this._delegate);return e&&n.then(()=>e(null),r=>e(r)),n}transaction(e,n,r){rn("Reference.transaction",1,3,arguments.length),zi("Reference.transaction","transactionUpdate",e,!1),zi("Reference.transaction","onComplete",n,!0),sme("Reference.transaction","applyLocally",r);const i=tme(this._delegate,e,{applyLocally:r}).then(s=>new lme(s.committed,new Bu(this.database,s.snapshot)));return n&&i.then(s=>n(null,s.committed,s.snapshot),s=>n(s,!1,null)),i}setPriority(e,n){rn("Reference.setPriority",1,2,arguments.length),zi("Reference.setPriority","onComplete",n,!0);const r=ppe(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}push(e,n){rn("Reference.push",0,2,arguments.length),zi("Reference.push","onComplete",n,!0);const r=fpe(this._delegate,e),i=r.then(a=>new Cp(this.database,a));n&&i.then(()=>n(null),a=>n(a));const s=new Cp(this.database,r);return s.then=i.then.bind(i),s.catch=i.catch.bind(i,void 0),s}onDisconnect(){return po("Reference.onDisconnect",this._delegate._path),new ome(new dpe(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e,n){this._delegate=e,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:$pe,forceLongPolling:zpe}}useEmulator(e,n,r={}){Hpe(this._delegate,e,n,r)}ref(e){if(rn("database.ref",0,1,arguments.length),e instanceof df){const n=d9(this._delegate,e.toString());return new df(this,n)}else{const n=EH(this._delegate,e);return new df(this,n)}}refFromURL(e){rn("database.refFromURL",1,1,arguments.length);const r=d9(this._delegate,e);return new df(this,r)}goOffline(){return rn("database.goOffline",0,0,arguments.length),Gpe(this._delegate)}goOnline(){return rn("database.goOnline",0,0,arguments.length),Kpe(this._delegate)}}Jy.ServerValue={TIMESTAMP:Qpe(),increment:t=>Zpe(t)};function cme({app:t,url:e,version:n,customAuthImpl:r,customAppCheckImpl:i,namespace:s,nodeAdmin:a=!1}){dz(n);const o=new U3("database-standalone"),l=new RD("auth-internal",o);l.setComponent(new Js("auth-internal",()=>r,"PRIVATE"));let c;return i&&(c=new RD("app-check-internal",o),c.setComponent(new Js("app-check-internal",()=>i,"PRIVATE"))),{instance:new Jy(DH(t,l,c,e,a),t),namespace:s}}var ume=Object.freeze({__proto__:null,initStandalone:cme});/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dme=Jy.ServerValue;function fme(t){t.INTERNAL.registerComponent(new Js("database-compat",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new Jy(i,r)},"PUBLIC").setServiceProps({Reference:df,Query:as,Database:Jy,DataSnapshot:Bu,enableLogging:Jpe,INTERNAL:ume,ServerValue:dme}).setMultipleInstances(!0)),t.registerVersion(nme,rme)}fme(Pr);const hme={apiKey:"AIzaSyDocJGqJzx5N4AmpyPzObYQ8azLy790K9s",authDomain:"gitut-docx.firebaseapp.com",databaseURL:"https://gitut-docx-default-rtdb.europe-west1.firebasedatabase.app/",projectId:"gitut-docx",storageBucket:"gitut-docx.firebasestorage.app",messagingSenderId:"110741096033",appId:"1:110741096033:web:ae402f349829c4209e4c20"};Pr.apps.length||Pr.initializeApp(hme);const Jr=Pr.auth(),Sm=Pr.firestore();Pr.database();const di={profilePicture:{id:"profilePicture",label:"formFields.profilePicture",type:"file",placeholder:"formFields.placeholders.profilePicture"},fullName:{id:"fullName",label:"formFields.fullName",type:"text",placeholder:"formFields.placeholders.fullName"},firstName:{id:"firstName",label:"formFields.firstName",type:"text",placeholder:"formFields.placeholders.firstName"},lastName:{id:"lastName",label:"formFields.lastName",type:"text",placeholder:"formFields.placeholders.lastName"},firstNameFr:{id:"firstNameFr",label:"formFields.firstNameFr",type:"text",placeholder:"formFields.placeholders.firstNameFr"},lastNameFr:{id:"lastNameFr",label:"formFields.lastNameFr",type:"text",placeholder:"formFields.placeholders.lastNameFr"},birthdaydate:{id:"birthdaydate",label:"formFields.birthdaydate",type:"date",placeholder:""},birthdayplace:{id:"birthdayplace",label:"formFields.birthdayplace",type:"text",placeholder:"formFields.placeholders.birthdayplace"},address:{id:"address",label:"formFields.address",type:"text",placeholder:"formFields.placeholders.address"},phone:{id:"phone",label:"formFields.phone",type:"tel",placeholder:"formFields.placeholders.phone"},email:{id:"email",label:"formFields.email",type:"email",placeholder:"formFields.placeholders.email"},jobTitle:{id:"jobTitle",label:"formFields.jobTitle",type:"text",placeholder:"formFields.placeholders.jobTitle"},nationalId:{id:"nationalId",label:"formFields.nationalId",type:"text",placeholder:"formFields.placeholders.nationalId"},birthCertificateNumber:{id:"birthCertificateNumber",label:"formFields.birthCertificateNumber",type:"text",placeholder:"formFields.placeholders.birthCertificateNumber"},socialSecurityNumber:{id:"socialSecurityNumber",label:"formFields.socialSecurityNumber",type:"text",placeholder:"formFields.placeholders.socialSecurityNumber"},nationality:{id:"nationality",label:"formFields.nationality",type:"text",placeholder:"formFields.placeholders.nationality"},maritalStatus:{id:"maritalStatus",label:"formFields.maritalStatus",type:"select",placeholder:"formFields.placeholders.maritalStatus",options:[{value:"married",label:"formFields.maritalStatusOptions.married"},{value:"single",label:"formFields.maritalStatusOptions.single"},{value:"divorced",label:"formFields.maritalStatusOptions.divorced"}]},motherFirstName:{id:"motherFirstName",label:"formFields.motherFirstName",type:"text",placeholder:"formFields.placeholders.motherFirstName"},motherLastName:{id:"motherLastName",label:"formFields.motherLastName",type:"text",placeholder:"formFields.placeholders.motherLastName"},motherDob:{id:"motherDob",label:"formFields.motherDob",type:"date",placeholder:""},motherPob:{id:"motherPob",label:"formFields.motherPob",type:"text",placeholder:"formFields.placeholders.motherPob"},fatherFirstName:{id:"fatherFirstName",label:"formFields.fatherFirstName",type:"text",placeholder:"formFields.placeholders.fatherFirstName"},fatherLastName:{id:"fatherLastName",label:"formFields.fatherLastName",type:"text",placeholder:"formFields.placeholders.fatherLastName"},fatherDob:{id:"fatherDob",label:"formFields.fatherDob",type:"date",placeholder:""},fatherPob:{id:"fatherPob",label:"formFields.fatherPob",type:"text",placeholder:"formFields.placeholders.fatherPob"},residenceWilaya:{id:"residenceWilaya",label:"formFields.residenceWilaya",type:"text",placeholder:"formFields.placeholders.residenceWilaya"},residenceDaira:{id:"residenceDaira",label:"formFields.residenceDaira",type:"text",placeholder:"formFields.placeholders.residenceDaira"},residenceCommune:{id:"residenceCommune",label:"formFields.residenceCommune",type:"text",placeholder:"formFields.placeholders.residenceCommune"},residenceStreet:{id:"residenceStreet",label:"formFields.residenceStreet",type:"text",placeholder:"formFields.placeholders.residenceStreet"},birthWilaya:{id:"birthWilaya",label:"formFields.birthWilaya",type:"text",placeholder:"formFields.placeholders.birthWilaya"},birthDaira:{id:"birthDaira",label:"formFields.birthDaira",type:"text",placeholder:"formFields.placeholders.birthDaira"},birthCommune:{id:"birthCommune",label:"formFields.birthCommune",type:"text",placeholder:"formFields.placeholders.birthCommune"},bloodType:{id:"bloodType",label:"formFields.bloodType",type:"text",placeholder:"formFields.placeholders.bloodType"},DateToday:{id:"DateToday",label:"formFields.dateToday",type:"text",placeholder:""},gender:{id:"gender",label:"formFields.gender",type:"select",placeholder:"formFields.placeholders.gender",options:[{value:"male",label:"formFields.genderOptions.male"},{value:"female",label:"formFields.genderOptions.female"}]},height:{id:"height",label:"formFields.height",type:"number",placeholder:"formFields.placeholders.height"},eyeColor:{id:"eyeColor",label:"formFields.eyeColor",type:"text",placeholder:"formFields.placeholders.eyeColor"},distinguishingMarks:{id:"distinguishingMarks",label:"formFields.distinguishingMarks",type:"text",placeholder:"formFields.placeholders.distinguishingMarks"},employerName:{id:"employerName",label:"formFields.employerName",type:"text",placeholder:"formFields.placeholders.employerName"},employerAddress:{id:"employerAddress",label:"formFields.employerAddress",type:"text",placeholder:"formFields.placeholders.employerAddress"},educationLevel:{id:"educationLevel",label:"formFields.educationLevel",type:"select",placeholder:"formFields.placeholders.educationLevel",options:[{value:"primary",label:"formFields.educationLevelOptions.primary"},{value:"middle",label:"formFields.educationLevelOptions.middle"},{value:"high",label:"formFields.educationLevelOptions.high"},{value:"university",label:"formFields.educationLevelOptions.university"},{value:"postgraduate",label:"formFields.educationLevelOptions.postgraduate"}]},universityName:{id:"universityName",label:"formFields.universityName",type:"text",placeholder:"formFields.placeholders.universityName"},graduationDate:{id:"graduationDate",label:"formFields.graduationDate",type:"date",placeholder:""},fieldOfStudy:{id:"fieldOfStudy",label:"formFields.fieldOfStudy",type:"text",placeholder:"formFields.placeholders.fieldOfStudy"},higherInstituteName:{id:"higherInstituteName",label:"formFields.higherInstituteName",type:"text",placeholder:"formFields.placeholders.higherInstituteName"},vocationalTrainingCenterName:{id:"vocationalTrainingCenterName",label:"formFields.vocationalTrainingCenterName",type:"text",placeholder:"formFields.placeholders.vocationalTrainingCenterName"},schoolName:{id:"schoolName",label:"formFields.schoolName",type:"text",placeholder:"formFields.placeholders.schoolName"},highSchoolName:{id:"highSchoolName",label:"formFields.highSchoolName",type:"text",placeholder:"formFields.placeholders.highSchoolName"},middleSchoolName:{id:"middleSchoolName",label:"formFields.middleSchoolName",type:"text",placeholder:"formFields.placeholders.middleSchoolName"},universityCity:{id:"universityCity",label:"formFields.universityCity",type:"text",placeholder:"formFields.placeholders.universityCity"},passportNumber:{id:"passportNumber",label:"formFields.passportNumber",type:"text",placeholder:"formFields.placeholders.passportNumber"},passportIssueDate:{id:"passportIssueDate",label:"formFields.passportIssueDate",type:"date",placeholder:""},passportExpiryDate:{id:"passportExpiryDate",label:"formFields.passportExpiryDate",type:"date",placeholder:""},passportIssuePlace:{id:"passportIssuePlace",label:"formFields.passportIssuePlace",type:"text",placeholder:"formFields.placeholders.passportIssuePlace"},drivingLicenseNumber:{id:"drivingLicenseNumber",label:"formFields.drivingLicenseNumber",type:"text",placeholder:"formFields.placeholders.drivingLicenseNumber"},drivingLicenseCategory:{id:"drivingLicenseCategory",label:"formFields.drivingLicenseCategory",type:"text",placeholder:"formFields.placeholders.drivingLicenseCategory"},drivingLicenseIssueDate:{id:"drivingLicenseIssueDate",label:"formFields.drivingLicenseIssueDate",type:"date",placeholder:""},numberOfChildren:{id:"numberOfChildren",label:"formFields.numberOfChildren",type:"number",placeholder:"formFields.placeholders.numberOfChildren"},numberOfSons:{id:"numberOfSons",label:"formFields.numberOfSons",type:"number",placeholder:"formFields.placeholders.numberOfSons"},numberOfDaughters:{id:"numberOfDaughters",label:"formFields.numberOfDaughters",type:"number",placeholder:"formFields.placeholders.numberOfDaughters"},numberOfSiblings:{id:"numberOfSiblings",label:"formFields.numberOfSiblings",type:"number",placeholder:"formFields.placeholders.numberOfSiblings"},numberOfBrothers:{id:"numberOfBrothers",label:"formFields.numberOfBrothers",type:"number",placeholder:"formFields.placeholders.numberOfBrothers"},numberOfSisters:{id:"numberOfSisters",label:"formFields.numberOfSisters",type:"number",placeholder:"formFields.placeholders.numberOfSisters"},spouseFullName:{id:"spouseFullName",label:"formFields.spouseFullName",type:"text",placeholder:"formFields.placeholders.spouseFullName"},spouseDob:{id:"spouseDob",label:"formFields.spouseDob",type:"date",placeholder:""},spouseJob:{id:"spouseJob",label:"formFields.spouseJob",type:"text",placeholder:"formFields.placeholders.spouseJob"},militaryStatus:{id:"militaryStatus",label:"formFields.militaryStatus",type:"text",placeholder:"formFields.placeholders.militaryStatus"},ToTheGovernorOftheStateOf:{id:"ToTheGovernorOftheStateOf",label:"formFields.ToTheGovernorOftheStateOf",type:"text",placeholder:"formFields.placeholders.ToTheGovernorOftheStateOf"},submissionDaira:{id:"submissionDaira",label:"formFields.submissionDaira",type:"text",placeholder:"formFields.placeholders.submissionDaira"},ToTheMayorOf:{id:"ToTheMayorOf",label:"formFields.ToTheMayorOf",type:"text",placeholder:"formFields.placeholders.ToTheMayorOf"},employerWilaya:{id:"employerWilaya",label:"formFields.employerWilaya",type:"text",placeholder:"formFields.placeholders.employerWilaya"},employerDaira:{id:"employerDaira",label:"formFields.employerDaira",type:"text",placeholder:"formFields.placeholders.employerDaira"},employerCommune:{id:"employerCommune",label:"formFields.employerCommune",type:"text",placeholder:"formFields.placeholders.employerCommune"},criminalRecordNumber:{id:"criminalRecordNumber",label:"formFields.criminalRecordNumber",type:"text",placeholder:"formFields.placeholders.criminalRecordNumber"},criminalRecordIssueDate:{id:"criminalRecordIssueDate",label:"formFields.criminalRecordIssueDate",type:"date",placeholder:""},criminalRecordIssuePlace:{id:"criminalRecordIssuePlace",label:"formFields.criminalRecordIssuePlace",type:"text",placeholder:"formFields.placeholders.criminalRecordIssuePlace"},commercialRegistryNumber:{id:"commercialRegistryNumber",label:"formFields.commercialRegistryNumber",type:"text",placeholder:"formFields.placeholders.commercialRegistryNumber"},taxIdNumber:{id:"taxIdNumber",label:"formFields.taxIdNumber",type:"text",placeholder:"formFields.placeholders.taxIdNumber"},casnosNumber:{id:"casnosNumber",label:"formFields.casnosNumber",type:"text",placeholder:"formFields.placeholders.casnosNumber"},vehicleRegistrationCardNumber:{id:"vehicleRegistrationCardNumber",label:"formFields.vehicleRegistrationCardNumber",type:"text",placeholder:"formFields.placeholders.vehicleRegistrationCardNumber"},vehicleType:{id:"vehicleType",label:"formFields.vehicleType",type:"text",placeholder:"formFields.placeholders.vehicleType"},vehicleBrand:{id:"vehicleBrand",label:"formFields.vehicleBrand",type:"text",placeholder:"formFields.placeholders.vehicleBrand"},vehicleModel:{id:"vehicleModel",label:"formFields.vehicleModel",type:"text",placeholder:"formFields.placeholders.vehicleModel"},vehicleFirstRegistrationDate:{id:"vehicleFirstRegistrationDate",label:"formFields.vehicleFirstRegistrationDate",type:"date",placeholder:""},bankName:{id:"bankName",label:"formFields.bankName",type:"text",placeholder:"formFields.placeholders.bankName"},bankAccountNumber:{id:"bankAccountNumber",label:"formFields.bankAccountNumber",type:"text",placeholder:"formFields.placeholders.bankAccountNumber"},bankAgencyName:{id:"bankAgencyName",label:"formFields.bankAgencyName",type:"text",placeholder:"formFields.placeholders.bankAgencyName"},bankAgencyCode:{id:"bankAgencyCode",label:"formFields.bankAgencyCode",type:"text",placeholder:"formFields.placeholders.bankAgencyCode"},bankNameTo:{id:"bankNameTo",label:"formFields.bankNameTo",type:"text",placeholder:"formFields.placeholders.bankNameTo"},bankWilayaTo:{id:"bankWilayaTo",label:"formFields.bankWilayaTo",type:"text",placeholder:"formFields.placeholders.bankWilayaTo"},bankCountryTo:{id:"bankCountryTo",label:"formFields.bankCountryTo",type:"text",placeholder:"formFields.placeholders.bankCountryTo"},bankStreetTo:{id:"bankStreetTo",label:"formFields.bankStreetTo",type:"text",placeholder:"formFields.placeholders.bankStreetTo"},bankNameFrom:{id:"bankNameFrom",label:"formFields.bankNameFrom",type:"text",placeholder:"formFields.placeholders.bankNameFrom"},bankWilayaFrom:{id:"bankWilayaFrom",label:"formFields.bankWilayaFrom",type:"text",placeholder:"formFields.placeholders.bankWilayaFrom"},bankCountryFrom:{id:"bankCountryFrom",label:"formFields.bankCountryFrom",type:"text",placeholder:"formFields.placeholders.bankCountryFrom"},bankStreetFrom:{id:"bankStreetFrom",label:"formFields.bankStreetFrom",type:"text",placeholder:"formFields.placeholders.bankStreetFrom"},amountReceived:{id:"amountReceived",label:"formFields.amountReceived",type:"number",placeholder:"formFields.placeholders.amountReceived"},amountSent:{id:"amountSent",label:"formFields.amountSent",type:"number",placeholder:"formFields.placeholders.amountSent"},employmentContractType:{id:"employmentContractType",label:"formFields.employmentContractType",type:"text",placeholder:"formFields.placeholders.employmentContractType"},employmentStartDate:{id:"employmentStartDate",label:"formFields.employmentStartDate",type:"date",placeholder:""},employeeIdNumber:{id:"employeeIdNumber",label:"formFields.employeeIdNumber",type:"text",placeholder:"formFields.placeholders.employeeIdNumber"},professionalGrade:{id:"professionalGrade",label:"formFields.professionalGrade",type:"text",placeholder:"formFields.placeholders.professionalGrade"},nationalIdIssueDate:{id:"nationalIdIssueDate",label:"formFields.nationalIdIssueDate",type:"date",placeholder:""},nationalIdExpiryDate:{id:"nationalIdExpiryDate",label:"formFields.nationalIdExpiryDate",type:"date",placeholder:""},drivingLicenseExpiryDate:{id:"drivingLicenseExpiryDate",label:"formFields.drivingLicenseExpiryDate",type:"date",placeholder:""},familyBookNumber:{id:"familyBookNumber",label:"formFields.familyBookNumber",type:"text",placeholder:"formFields.placeholders.familyBookNumber"},marriageDate:{id:"marriageDate",label:"formFields.marriageDate",type:"date",placeholder:""},marriagePlace:{id:"marriagePlace",label:"formFields.marriagePlace",type:"text",placeholder:"formFields.placeholders.marriagePlace"},rentalContractNumber:{id:"rentalContractNumber",label:"formFields.rentalContractNumber",type:"text",placeholder:"formFields.placeholders.rentalContractNumber"},landlordName:{id:"landlordName",label:"formFields.landlordName",type:"text",placeholder:"formFields.placeholders.landlordName"},propertyAddress:{id:"propertyAddress",label:"formFields.propertyAddress",type:"text",placeholder:"formFields.placeholders.propertyAddress"},attendingPhysicianName:{id:"attendingPhysicianName",label:"formFields.attendingPhysicianName",type:"text",placeholder:"formFields.placeholders.attendingPhysicianName"},disabilityType:{id:"disabilityType",label:"formFields.disabilityType",type:"text",placeholder:"formFields.placeholders.disabilityType"},disabilityPercentage:{id:"disabilityPercentage",label:"formFields.disabilityPercentage",type:"number",placeholder:"formFields.placeholders.disabilityPercentage"},deceasedParentFullName:{id:"deceasedParentFullName",label:"formFields.deceasedParentFullName",type:"text",placeholder:"formFields.placeholders.deceasedParentFullName"},deceasedParentDod:{id:"deceasedParentDod",label:"formFields.deceasedParentDod",type:"date",placeholder:""},deceasedParentPod:{id:"deceasedParentPod",label:"formFields.deceasedParentPod",type:"text",placeholder:"formFields.placeholders.deceasedParentPod"},deathCertificateNumber:{id:"deathCertificateNumber",label:"formFields.deathCertificateNumber",type:"text",placeholder:"formFields.placeholders.deathCertificateNumber"},survivingParentFullName:{id:"survivingParentFullName",label:"formFields.survivingParentFullName",type:"text",placeholder:"formFields.placeholders.survivingParentFullName"},survivingParentJobTitle:{id:"survivingParentJobTitle",label:"formFields.survivingParentJobTitle",type:"text",placeholder:"formFields.placeholders.survivingParentJobTitle"},hospitalName:{id:"hospitalName",label:"formFields.hospitalName",type:"text",placeholder:"formFields.placeholders.hospitalName"},motherFullName:{id:"motherFullName",label:"formFields.motherFullName",type:"text",placeholder:"formFields.placeholders.motherFullName"},fatherFullName:{id:"fatherFullName",label:"formFields.fatherFullName",type:"text",placeholder:"formFields.placeholders.fatherFullName"},spousePob:{id:"spousePob",label:"formFields.spousePob",type:"text",placeholder:"formFields.placeholders.spousePob"},sonName:{id:"sonName",label:"formFields.sonName",type:"text",placeholder:"formFields.placeholders.sonName"},sonDob:{id:"sonDob",label:"formFields.sonDob",type:"date",placeholder:""},sonPob:{id:"sonPob",label:"formFields.sonPob",type:"text",placeholder:"formFields.placeholders.sonPob"},daughterName:{id:"daughterName",label:"formFields.daughterName",type:"text",placeholder:"formFields.placeholders.daughterName"},daughterDob:{id:"daughterDob",label:"formFields.daughterDob",type:"date",placeholder:""},daughterPob:{id:"daughterPob",label:"formFields.daughterPob",type:"text",placeholder:"formFields.placeholders.daughterPob"},paternalGrandfatherName:{id:"paternalGrandfatherName",label:"formFields.paternalGrandfatherName",type:"text",placeholder:"formFields.placeholders.paternalGrandfatherName"},paternalGrandfatherDob:{id:"paternalGrandfatherDob",label:"formFields.paternalGrandfatherDob",type:"date",placeholder:""},paternalGrandfatherPob:{id:"paternalGrandfatherPob",label:"formFields.paternalGrandfatherPob",type:"text",placeholder:"formFields.placeholders.paternalGrandfatherPob"},paternalGrandmotherName:{id:"paternalGrandmotherName",label:"formFields.paternalGrandmotherName",type:"text",placeholder:"formFields.placeholders.paternalGrandmotherName"},paternalGrandmotherDob:{id:"paternalGrandmotherDob",label:"formFields.paternalGrandmotherDob",type:"date",placeholder:""},paternalGrandmotherPob:{id:"paternalGrandmotherPob",label:"formFields.paternalGrandmotherPob",type:"text",placeholder:"formFields.placeholders.paternalGrandmotherPob"},maternalGrandfatherName:{id:"maternalGrandfatherName",label:"formFields.maternalGrandfatherName",type:"text",placeholder:"formFields.placeholders.maternalGrandfatherName"},maternalGrandfatherDob:{id:"maternalGrandfatherDob",label:"formFields.maternalGrandfatherDob",type:"date",placeholder:""},maternalGrandfatherPob:{id:"maternalGrandfatherPob",label:"formFields.maternalGrandfatherPob",type:"text",placeholder:"formFields.placeholders.maternalGrandfatherPob"},maternalGrandmotherName:{id:"maternalGrandmotherName",label:"formFields.maternalGrandmotherName",type:"text",placeholder:"formFields.placeholders.maternalGrandmotherName"},maternalGrandmotherDob:{id:"maternalGrandmotherDob",label:"formFields.maternalGrandmotherDob",type:"date",placeholder:""},maternalGrandmotherPob:{id:"maternalGrandmotherPob",label:"formFields.maternalGrandmotherPob",type:"text",placeholder:"formFields.placeholders.maternalGrandmotherPob"},currentTime:{id:"currentTime",label:"formFields.currentTime",type:"text",placeholder:""},currentYear:{id:"currentYear",label:"formFields.currentYear",type:"text",placeholder:""},documentName:{id:"documentName",label:"formFields.documentName",type:"text",placeholder:""},age:{id:"age",label:"formFields.age",type:"text",placeholder:""},fullDateLongAr:{id:"fullDateLongAr",label:"formFields.fullDateLongAr",type:"text",placeholder:""},hijriDate:{id:"hijriDate",label:"formFields.hijriDate",type:"text",placeholder:""},motherAge:{id:"motherAge",label:"formFields.motherAge",type:"text",placeholder:""},fatherAge:{id:"fatherAge",label:"formFields.fatherAge",type:"text",placeholder:""},spouseAge:{id:"spouseAge",label:"formFields.spouseAge",type:"text",placeholder:""},sonAge:{id:"sonAge",label:"formFields.sonAge",type:"text",placeholder:""},daughterAge:{id:"daughterAge",label:"formFields.daughterAge",type:"text",placeholder:""},paternalGrandfatherAge:{id:"paternalGrandfatherAge",label:"formFields.paternalGrandfatherAge",type:"text",placeholder:""},paternalGrandmotherAge:{id:"paternalGrandmotherAge",label:"formFields.paternalGrandmotherAge",type:"text",placeholder:""},maternalGrandfatherAge:{id:"maternalGrandfatherAge",label:"formFields.maternalGrandfatherAge",type:"text",placeholder:""},maternalGrandmotherAge:{id:"maternalGrandmotherAge",label:"formFields.maternalGrandmotherAge",type:"text",placeholder:""}},D2={profilePicture:" ",fullName:"  ",firstName:"",lastName:"",firstNameFr:" ",lastNameFr:" ",birthdaydate:" ",birthdayplace:" ",address:"",residenceWilaya:" ",residenceCommune:" ",residenceDaira:" ",residenceStreet:" ",birthWilaya:" ",birthCommune:" ",birthDaira:" ",phone:" ",email:" ",jobTitle:"",nationalId:"   ",birthCertificateNumber:"  ",socialSecurityNumber:"  ",nationality:"",maritalStatus:" ",motherFirstName:" ",motherLastName:" ",motherDob:"  ",motherPob:"  ",fatherFirstName:" ",fatherLastName:" ",fatherDob:"  ",fatherPob:"  ",bloodType:" ",gender:"",height:" ()",eyeColor:" ",distinguishingMarks:" ",employerName:"    ",employerAddress:"  ",educationLevel:" ",universityName:" /",graduationDate:" ",fieldOfStudy:" ",higherInstituteName:"  ",vocationalTrainingCenterName:"   ",schoolName:" ",highSchoolName:" ",middleSchoolName:" ",universityCity:"    ",passportNumber:"  ",passportIssueDate:"   ",passportExpiryDate:"   ",passportIssuePlace:"   ",drivingLicenseNumber:"  ",drivingLicenseCategory:"  ",drivingLicenseIssueDate:"   ",numberOfChildren:"  ()",numberOfSons:"  ()",numberOfDaughters:"  ()",numberOfSiblings:"  ()",numberOfBrothers:"  ()",numberOfSisters:"  ()",spouseFullName:" /",spouseDob:"  /",spouseJob:" /",militaryStatus:"   ",ToTheGovernorOftheStateOf:"    ",submissionDaira:"    ",ToTheMayorOf:"    ",employerWilaya:"    ",employerDaira:"    ",employerCommune:"    ",criminalRecordNumber:"   ",criminalRecordIssueDate:"    ",criminalRecordIssuePlace:"    ",commercialRegistryNumber:"  ",taxIdNumber:"  ",casnosNumber:"   CASNOS",vehicleRegistrationCardNumber:"  ",vehicleType:" ",vehicleBrand:" ",vehicleModel:" ",vehicleFirstRegistrationDate:"   ",bankName:" ",bankAccountNumber:"   (RIB)",bankAgencyName:"  ",bankAgencyCode:"  ",bankNameTo:"   ",bankWilayaTo:"   ",bankCountryTo:"   ",bankStreetTo:"   ",bankNameFrom:"   ",bankWilayaFrom:"   ",bankCountryFrom:"   ",bankStreetFrom:"   ",amountReceived:" ",amountSent:" ",employmentContractType:"  ",employmentStartDate:"  ",employeeIdNumber:" ",professionalGrade:"   ",nationalIdIssueDate:"   ",nationalIdExpiryDate:"    ",drivingLicenseExpiryDate:"    ",familyBookNumber:"  ",marriageDate:"  ",marriagePlace:"  ",rentalContractNumber:"  ",landlordName:"  ",propertyAddress:" ",attendingPhysicianName:"  ",disabilityType:" ",disabilityPercentage:"  (%)",deceasedParentFullName:"   ",deceasedParentDod:"  ",deceasedParentPod:"  ",deathCertificateNumber:"  ",survivingParentFullName:"      ",survivingParentJobTitle:"     ",hospitalName:" ",currentTime:" ",currentYear:" ",documentName:" ",age:"",fullDateLongAr:"  ()",hijriDate:" ",motherFullName:"  ",motherAge:" ",fatherFullName:"  ",fatherAge:" ",spousePob:"  /",spouseAge:" /",sonName:" ",sonDob:"  ",sonPob:"  ",sonAge:" ",daughterName:" ",daughterDob:"  ",daughterPob:"  ",daughterAge:" ",paternalGrandfatherName:"  ( )",paternalGrandfatherDob:"   ( )",paternalGrandfatherPob:"   ( )",paternalGrandfatherAge:"  ( )",paternalGrandmotherName:"  ( )",paternalGrandmotherDob:"   ( )",paternalGrandmotherPob:"   ( )",paternalGrandmotherAge:"  ( )",maternalGrandfatherName:"  ( )",maternalGrandfatherDob:"   ( )",maternalGrandfatherPob:"   ( )",maternalGrandfatherAge:"  ( )",maternalGrandmotherName:"  ( )",maternalGrandmotherDob:"   ( )",maternalGrandmotherPob:"   ( )",maternalGrandmotherAge:"  ( )"},pme="GitutOfflineDB",mme=9,eg=()=>new Promise((t,e)=>{const n=indexedDB.open(pme,mme);n.onerror=()=>e("Error opening IndexedDB."),n.onsuccess=()=>t(n.result),n.onupgradeneeded=r=>{const i=r.target.result;["offlineMetadata","documents","fullDocuments","staticDocuments","sites","baseTemplates","siteSettings","userProfile","pendingCreditDeductions","codes","cafes","pages","blogPosts","ads","clients","voice_prompts","tagTitleLists","jobs"].forEach(a=>{if(!i.objectStoreNames.contains(a)){let o={keyPath:"id"};a==="tagTitleLists"&&(o={keyPath:"tag"}),i.createObjectStore(a,o)}})}}),ga=async(t,e)=>{const n=await eg();return new Promise(r=>{const a=n.transaction(t,"readonly").objectStore(t).get(e);a.onsuccess=()=>r(a.result),a.onerror=()=>r(null)})},Di=async t=>{const e=await eg();return new Promise(n=>{const s=e.transaction(t,"readonly").objectStore(t).getAll();s.onsuccess=()=>n(s.result||[]),s.onerror=()=>n([])})},Cr=async(t,e)=>{const n=await eg();return new Promise((r,i)=>{const o=n.transaction(t,"readwrite").objectStore(t).put(e);o.onsuccess=()=>r(),o.onerror=()=>i(o.error)})},Vi=async(t,e)=>{if(!e||e.length===0)return;const n=await eg();return new Promise((r,i)=>{const s=n.transaction(t,"readwrite"),a=s.objectStore(t);s.oncomplete=()=>r(),s.onerror=()=>i(s.error),a.clear(),e.forEach(o=>{o&&o.id!==void 0?a.put(o):console.warn(`Item in store '${t}' is missing an 'id' and was skipped.`,o)})})},$f=async(t,e)=>{const n=await eg();return new Promise((r,i)=>{const o=n.transaction(t,"readwrite").objectStore(t).delete(e);o.onsuccess=()=>r(),o.onerror=()=>i(o.error)})},gme=async t=>{await Cr("pendingCreditDeductions",t)},yme=async()=>Di("pendingCreditDeductions"),vme=async()=>{const t=await eg();return new Promise((e,n)=>{const s=t.transaction("pendingCreditDeductions","readwrite").objectStore("pendingCreditDeductions").clear();s.onsuccess=()=>e(),s.onerror=()=>n(s.error)})};function kx(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var bC={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var y9;function kH(){return y9||(y9=1,(function(t,e){(function(n){t.exports=n()})(function(){return(function n(r,i,s){function a(c,u){if(!i[c]){if(!r[c]){var f=typeof kx=="function"&&kx;if(!u&&f)return f(c,!0);if(o)return o(c,!0);var h=new Error("Cannot find module '"+c+"'");throw h.code="MODULE_NOT_FOUND",h}var p=i[c]={exports:{}};r[c][0].call(p.exports,function(v){var g=r[c][1][v];return a(g||v)},p,p.exports,n,r,i,s)}return i[c].exports}for(var o=typeof kx=="function"&&kx,l=0;l<s.length;l++)a(s[l]);return a})({1:[function(n,r,i){var s=n("./utils"),a=n("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var c,u,f,h,p,v,g,y=[],_=0,x=l.length,w=x,C=s.getTypeOf(l)!=="string";_<l.length;)w=x-_,f=C?(c=l[_++],u=_<x?l[_++]:0,_<x?l[_++]:0):(c=l.charCodeAt(_++),u=_<x?l.charCodeAt(_++):0,_<x?l.charCodeAt(_++):0),h=c>>2,p=(3&c)<<4|u>>4,v=1<w?(15&u)<<2|f>>6:64,g=2<w?63&f:64,y.push(o.charAt(h)+o.charAt(p)+o.charAt(v)+o.charAt(g));return y.join("")},i.decode=function(l){var c,u,f,h,p,v,g=0,y=0,_="data:";if(l.substr(0,_.length)===_)throw new Error("Invalid base64 input, it looks like a data url.");var x,w=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===o.charAt(64)&&w--,l.charAt(l.length-2)===o.charAt(64)&&w--,w%1!=0)throw new Error("Invalid base64 input, bad content length.");for(x=a.uint8array?new Uint8Array(0|w):new Array(0|w);g<l.length;)c=o.indexOf(l.charAt(g++))<<2|(h=o.indexOf(l.charAt(g++)))>>4,u=(15&h)<<4|(p=o.indexOf(l.charAt(g++)))>>2,f=(3&p)<<6|(v=o.indexOf(l.charAt(g++))),x[y++]=c,p!==64&&(x[y++]=u),v!==64&&(x[y++]=f);return x}},{"./support":30,"./utils":32}],2:[function(n,r,i){var s=n("./external"),a=n("./stream/DataWorker"),o=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function c(u,f,h,p,v){this.compressedSize=u,this.uncompressedSize=f,this.crc32=h,this.compression=p,this.compressedContent=v}c.prototype={getContentWorker:function(){var u=new a(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),f=this;return u.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),u},getCompressedWorker:function(){return new a(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(u,f,h){return u.pipe(new o).pipe(new l("uncompressedSize")).pipe(f.compressWorker(h)).pipe(new l("compressedSize")).withStreamInfo("compression",f)},r.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var s=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var s=n("./utils"),a=(function(){for(var o,l=[],c=0;c<256;c++){o=c;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;l[c]=o}return l})();r.exports=function(o,l){return o!==void 0&&o.length?s.getTypeOf(o)!=="string"?(function(c,u,f,h){var p=a,v=h+f;c^=-1;for(var g=h;g<v;g++)c=c>>>8^p[255&(c^u[g])];return-1^c})(0|l,o,o.length,0):(function(c,u,f,h){var p=a,v=h+f;c^=-1;for(var g=h;g<v;g++)c=c>>>8^p[255&(c^u.charCodeAt(g))];return-1^c})(0|l,o,o.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var s=null;s=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:s}},{lie:37}],7:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=n("pako"),o=n("./utils"),l=n("./stream/GenericWorker"),c=s?"uint8array":"array";function u(f,h){l.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=h,this.meta={}}i.magic="\b\0",o.inherits(u,l),u.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(c,f.data),!1)},u.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(h){f.push({data:h,meta:f.meta})}},i.compressWorker=function(f){return new u("Deflate",f)},i.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function s(p,v){var g,y="";for(g=0;g<v;g++)y+=String.fromCharCode(255&p),p>>>=8;return y}function a(p,v,g,y,_,x){var w,C,S=p.file,R=p.compression,D=x!==c.utf8encode,N=o.transformTo("string",x(S.name)),I=o.transformTo("string",c.utf8encode(S.name)),F=S.comment,P=o.transformTo("string",x(F)),k=o.transformTo("string",c.utf8encode(F)),U=I.length!==S.name.length,O=k.length!==F.length,H="",G="",X="",Z=S.dir,z=S.date,Q={crc32:0,compressedSize:0,uncompressedSize:0};v&&!g||(Q.crc32=p.crc32,Q.compressedSize=p.compressedSize,Q.uncompressedSize=p.uncompressedSize);var B=0;v&&(B|=8),D||!U&&!O||(B|=2048);var j=0,q=0;Z&&(j|=16),_==="UNIX"?(q=798,j|=(function(Y,te){var oe=Y;return Y||(oe=te?16893:33204),(65535&oe)<<16})(S.unixPermissions,Z)):(q=20,j|=(function(Y){return 63&(Y||0)})(S.dosPermissions)),w=z.getUTCHours(),w<<=6,w|=z.getUTCMinutes(),w<<=5,w|=z.getUTCSeconds()/2,C=z.getUTCFullYear()-1980,C<<=4,C|=z.getUTCMonth()+1,C<<=5,C|=z.getUTCDate(),U&&(G=s(1,1)+s(u(N),4)+I,H+="up"+s(G.length,2)+G),O&&(X=s(1,1)+s(u(P),4)+k,H+="uc"+s(X.length,2)+X);var J="";return J+=`
\0`,J+=s(B,2),J+=R.magic,J+=s(w,2),J+=s(C,2),J+=s(Q.crc32,4),J+=s(Q.compressedSize,4),J+=s(Q.uncompressedSize,4),J+=s(N.length,2),J+=s(H.length,2),{fileRecord:f.LOCAL_FILE_HEADER+J+N+H,dirRecord:f.CENTRAL_FILE_HEADER+s(q,2)+J+s(P.length,2)+"\0\0\0\0"+s(j,4)+s(y,4)+N+H+P}}var o=n("../utils"),l=n("../stream/GenericWorker"),c=n("../utf8"),u=n("../crc32"),f=n("../signature");function h(p,v,g,y){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=v,this.zipPlatform=g,this.encodeFileName=y,this.streamFiles=p,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(h,l),h.prototype.push=function(p){var v=p.meta.percent||0,g=this.entriesCount,y=this._sources.length;this.accumulate?this.contentBuffer.push(p):(this.bytesWritten+=p.data.length,l.prototype.push.call(this,{data:p.data,meta:{currentFile:this.currentFile,percent:g?(v+100*(g-y-1))/g:100}}))},h.prototype.openedSource=function(p){this.currentSourceOffset=this.bytesWritten,this.currentFile=p.file.name;var v=this.streamFiles&&!p.file.dir;if(v){var g=a(p,v,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:g.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(p){this.accumulate=!1;var v=this.streamFiles&&!p.file.dir,g=a(p,v,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(g.dirRecord),v)this.push({data:(function(y){return f.DATA_DESCRIPTOR+s(y.crc32,4)+s(y.compressedSize,4)+s(y.uncompressedSize,4)})(p),meta:{percent:100}});else for(this.push({data:g.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var p=this.bytesWritten,v=0;v<this.dirRecords.length;v++)this.push({data:this.dirRecords[v],meta:{percent:100}});var g=this.bytesWritten-p,y=(function(_,x,w,C,S){var R=o.transformTo("string",S(C));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(_,2)+s(_,2)+s(x,4)+s(w,4)+s(R.length,2)+R})(this.dirRecords.length,g,p,this.zipComment,this.encodeFileName);this.push({data:y,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(p){this._sources.push(p);var v=this;return p.on("data",function(g){v.processChunk(g)}),p.on("end",function(){v.closedSource(v.previous.streamInfo),v._sources.length?v.prepareNextSource():v.end()}),p.on("error",function(g){v.error(g)}),this},h.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(p){var v=this._sources;if(!l.prototype.error.call(this,p))return!1;for(var g=0;g<v.length;g++)try{v[g].error(p)}catch{}return!0},h.prototype.lock=function(){l.prototype.lock.call(this);for(var p=this._sources,v=0;v<p.length;v++)p[v].lock()},r.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var s=n("../compressions"),a=n("./ZipFileWorker");i.generateWorker=function(o,l,c){var u=new a(l.streamFiles,c,l.platform,l.encodeFileName),f=0;try{o.forEach(function(h,p){f++;var v=(function(x,w){var C=x||w,S=s[C];if(!S)throw new Error(C+" is not a valid compression method !");return S})(p.options.compression,l.compression),g=p.options.compressionOptions||l.compressionOptions||{},y=p.dir,_=p.date;p._compressWorker(v,g).withStreamInfo("file",{name:h,dir:y,date:_,comment:p.comment||"",unixPermissions:p.unixPermissions,dosPermissions:p.dosPermissions}).pipe(u)}),u.entriesCount=f}catch(h){u.error(h)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new s;for(var o in this)typeof this[o]!="function"&&(a[o]=this[o]);return a}}(s.prototype=n("./object")).loadAsync=n("./load"),s.support=n("./support"),s.defaults=n("./defaults"),s.version="3.10.1",s.loadAsync=function(a,o){return new s().loadAsync(a,o)},s.external=n("./external"),r.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var s=n("./utils"),a=n("./external"),o=n("./utf8"),l=n("./zipEntries"),c=n("./stream/Crc32Probe"),u=n("./nodejsUtils");function f(h){return new a.Promise(function(p,v){var g=h.decompressed.getContentWorker().pipe(new c);g.on("error",function(y){v(y)}).on("end",function(){g.streamInfo.crc32!==h.decompressed.crc32?v(new Error("Corrupted zip : CRC32 mismatch")):p()}).resume()})}r.exports=function(h,p){var v=this;return p=s.extend(p||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),u.isNode&&u.isStream(h)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",h,!0,p.optimizedBinaryString,p.base64).then(function(g){var y=new l(p);return y.load(g),y}).then(function(g){var y=[a.Promise.resolve(g)],_=g.files;if(p.checkCRC32)for(var x=0;x<_.length;x++)y.push(f(_[x]));return a.Promise.all(y)}).then(function(g){for(var y=g.shift(),_=y.files,x=0;x<_.length;x++){var w=_[x],C=w.fileNameStr,S=s.resolve(w.fileNameStr);v.file(S,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:p.createFolders}),w.dir||(v.file(S).unsafeOriginalName=C)}return y.zipComment.length&&(v.comment=y.zipComment),v})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var s=n("../utils"),a=n("../stream/GenericWorker");function o(l,c){a.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}s.inherits(o,a),o.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(u){c.push({data:u,meta:{percent:0}})}).on("error",function(u){c.isPaused?this.generatedError=u:c.error(u)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},o.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var s=n("readable-stream").Readable;function a(o,l,c){s.call(this,l),this._helper=o;var u=this;o.on("data",function(f,h){u.push(f)||u._helper.pause(),c&&c(h)}).on("error",function(f){u.emit("error",f)}).on("end",function(){u.push(null)})}n("../utils").inherits(a,s),a.prototype._read=function(){this._helper.resume()},r.exports=a},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,a);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,a)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var a=new Buffer(s);return a.fill(0),a},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(n,r,i){function s(S,R,D){var N,I=o.getTypeOf(R),F=o.extend(D||{},u);F.date=F.date||new Date,F.compression!==null&&(F.compression=F.compression.toUpperCase()),typeof F.unixPermissions=="string"&&(F.unixPermissions=parseInt(F.unixPermissions,8)),F.unixPermissions&&16384&F.unixPermissions&&(F.dir=!0),F.dosPermissions&&16&F.dosPermissions&&(F.dir=!0),F.dir&&(S=_(S)),F.createFolders&&(N=y(S))&&x.call(this,N,!0);var P=I==="string"&&F.binary===!1&&F.base64===!1;D&&D.binary!==void 0||(F.binary=!P),(R instanceof f&&R.uncompressedSize===0||F.dir||!R||R.length===0)&&(F.base64=!1,F.binary=!0,R="",F.compression="STORE",I="string");var k=null;k=R instanceof f||R instanceof l?R:v.isNode&&v.isStream(R)?new g(S,R):o.prepareContent(S,R,F.binary,F.optimizedBinaryString,F.base64);var U=new h(S,k,F);this.files[S]=U}var a=n("./utf8"),o=n("./utils"),l=n("./stream/GenericWorker"),c=n("./stream/StreamHelper"),u=n("./defaults"),f=n("./compressedObject"),h=n("./zipObject"),p=n("./generate"),v=n("./nodejsUtils"),g=n("./nodejs/NodejsStreamInputAdapter"),y=function(S){S.slice(-1)==="/"&&(S=S.substring(0,S.length-1));var R=S.lastIndexOf("/");return 0<R?S.substring(0,R):""},_=function(S){return S.slice(-1)!=="/"&&(S+="/"),S},x=function(S,R){return R=R!==void 0?R:u.createFolders,S=_(S),this.files[S]||s.call(this,S,null,{dir:!0,createFolders:R}),this.files[S]};function w(S){return Object.prototype.toString.call(S)==="[object RegExp]"}var C={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(S){var R,D,N;for(R in this.files)N=this.files[R],(D=R.slice(this.root.length,R.length))&&R.slice(0,this.root.length)===this.root&&S(D,N)},filter:function(S){var R=[];return this.forEach(function(D,N){S(D,N)&&R.push(N)}),R},file:function(S,R,D){if(arguments.length!==1)return S=this.root+S,s.call(this,S,R,D),this;if(w(S)){var N=S;return this.filter(function(F,P){return!P.dir&&N.test(F)})}var I=this.files[this.root+S];return I&&!I.dir?I:null},folder:function(S){if(!S)return this;if(w(S))return this.filter(function(I,F){return F.dir&&S.test(I)});var R=this.root+S,D=x.call(this,R),N=this.clone();return N.root=D.name,N},remove:function(S){S=this.root+S;var R=this.files[S];if(R||(S.slice(-1)!=="/"&&(S+="/"),R=this.files[S]),R&&!R.dir)delete this.files[S];else for(var D=this.filter(function(I,F){return F.name.slice(0,S.length)===S}),N=0;N<D.length;N++)delete this.files[D[N].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(S){var R,D={};try{if((D=o.extend(S||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=D.type.toLowerCase(),D.compression=D.compression.toUpperCase(),D.type==="binarystring"&&(D.type="string"),!D.type)throw new Error("No output type specified.");o.checkSupport(D.type),D.platform!=="darwin"&&D.platform!=="freebsd"&&D.platform!=="linux"&&D.platform!=="sunos"||(D.platform="UNIX"),D.platform==="win32"&&(D.platform="DOS");var N=D.comment||this.comment||"";R=p.generateWorker(this,D,N)}catch(I){(R=new l("error")).error(I)}return new c(R,D.type||"string",D.mimeType)},generateAsync:function(S,R){return this.generateInternalStream(S).accumulate(R)},generateNodeStream:function(S,R){return(S=S||{}).type||(S.type="nodebuffer"),this.generateInternalStream(S).toNodejsStream(R)}};r.exports=C},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var s=n("./DataReader");function a(o){s.call(this,o);for(var l=0;l<this.data.length;l++)o[l]=255&o[l]}n("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data[this.zero+o]},a.prototype.lastIndexOfSignature=function(o){for(var l=o.charCodeAt(0),c=o.charCodeAt(1),u=o.charCodeAt(2),f=o.charCodeAt(3),h=this.length-4;0<=h;--h)if(this.data[h]===l&&this.data[h+1]===c&&this.data[h+2]===u&&this.data[h+3]===f)return h-this.zero;return-1},a.prototype.readAndCheckSignature=function(o){var l=o.charCodeAt(0),c=o.charCodeAt(1),u=o.charCodeAt(2),f=o.charCodeAt(3),h=this.readData(4);return l===h[0]&&c===h[1]&&u===h[2]&&f===h[3]},a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var s=n("../utils");function a(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var l,c=0;for(this.checkOffset(o),l=this.index+o-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=o,c},readString:function(o){return s.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},r.exports=a},{"../utils":32}],19:[function(n,r,i){var s=n("./Uint8ArrayReader");function a(o){s.call(this,o)}n("../utils").inherits(a,s),a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var s=n("./DataReader");function a(o){s.call(this,o)}n("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},a.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},a.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var s=n("./ArrayReader");function a(o){s.call(this,o)}n("../utils").inherits(a,s),a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var s=n("../utils"),a=n("../support"),o=n("./ArrayReader"),l=n("./StringReader"),c=n("./NodeBufferReader"),u=n("./Uint8ArrayReader");r.exports=function(f){var h=s.getTypeOf(f);return s.checkSupport(h),h!=="string"||a.uint8array?h==="nodebuffer"?new c(f):a.uint8array?new u(s.transformTo("uint8array",f)):new o(s.transformTo("array",f)):new l(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var s=n("./GenericWorker"),a=n("../utils");function o(l){s.call(this,"ConvertWorker to "+l),this.destType=l}a.inherits(o,s),o.prototype.processChunk=function(l){this.push({data:a.transformTo(this.destType,l.data),meta:l.meta})},r.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var s=n("./GenericWorker"),a=n("../crc32");function o(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(o,s),o.prototype.processChunk=function(l){this.streamInfo.crc32=a(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var s=n("../utils"),a=n("./GenericWorker");function o(l){a.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(o,a),o.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}a.prototype.processChunk.call(this,l)},r.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var s=n("../utils"),a=n("./GenericWorker");function o(l){a.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(u){c.dataIsReady=!0,c.data=u,c.max=u&&u.length||0,c.type=s.getTypeOf(u),c.isPaused||c._tickAndRepeat()},function(u){c.error(u)})}s.inherits(o,a),o.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function s(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,o){return this._listeners[a].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,o){if(this._listeners[a])for(var l=0;l<this._listeners[a].length;l++)this._listeners[a][l].call(this,o)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var o=this;return a.on("data",function(l){o.processChunk(l)}),a.on("end",function(){o.end()}),a.on("error",function(l){o.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,o){return this.extraStreamInfo[a]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},r.exports=s},{}],29:[function(n,r,i){var s=n("../utils"),a=n("./ConvertWorker"),o=n("./GenericWorker"),l=n("../base64"),c=n("../support"),u=n("../external"),f=null;if(c.nodestream)try{f=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function h(v,g){return new u.Promise(function(y,_){var x=[],w=v._internalType,C=v._outputType,S=v._mimeType;v.on("data",function(R,D){x.push(R),g&&g(D)}).on("error",function(R){x=[],_(R)}).on("end",function(){try{var R=(function(D,N,I){switch(D){case"blob":return s.newBlob(s.transformTo("arraybuffer",N),I);case"base64":return l.encode(N);default:return s.transformTo(D,N)}})(C,(function(D,N){var I,F=0,P=null,k=0;for(I=0;I<N.length;I++)k+=N[I].length;switch(D){case"string":return N.join("");case"array":return Array.prototype.concat.apply([],N);case"uint8array":for(P=new Uint8Array(k),I=0;I<N.length;I++)P.set(N[I],F),F+=N[I].length;return P;case"nodebuffer":return Buffer.concat(N);default:throw new Error("concat : unsupported type '"+D+"'")}})(w,x),S);y(R)}catch(D){_(D)}x=[]}).resume()})}function p(v,g,y){var _=g;switch(g){case"blob":case"arraybuffer":_="uint8array";break;case"base64":_="string"}try{this._internalType=_,this._outputType=g,this._mimeType=y,s.checkSupport(_),this._worker=v.pipe(new a(_)),v.lock()}catch(x){this._worker=new o("error"),this._worker.error(x)}}p.prototype={accumulate:function(v){return h(this,v)},on:function(v,g){var y=this;return v==="data"?this._worker.on(v,function(_){g.call(y,_.data,_.meta)}):this._worker.on(v,function(){s.delay(g,arguments,y)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(v){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},v)}},r.exports=p},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(s),i.blob=a.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var s=n("./utils"),a=n("./support"),o=n("./nodejsUtils"),l=n("./stream/GenericWorker"),c=new Array(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;c[254]=c[254]=1;function f(){l.call(this,"utf-8 decode"),this.leftOver=null}function h(){l.call(this,"utf-8 encode")}i.utf8encode=function(p){return a.nodebuffer?o.newBufferFrom(p,"utf-8"):(function(v){var g,y,_,x,w,C=v.length,S=0;for(x=0;x<C;x++)(64512&(y=v.charCodeAt(x)))==55296&&x+1<C&&(64512&(_=v.charCodeAt(x+1)))==56320&&(y=65536+(y-55296<<10)+(_-56320),x++),S+=y<128?1:y<2048?2:y<65536?3:4;for(g=a.uint8array?new Uint8Array(S):new Array(S),x=w=0;w<S;x++)(64512&(y=v.charCodeAt(x)))==55296&&x+1<C&&(64512&(_=v.charCodeAt(x+1)))==56320&&(y=65536+(y-55296<<10)+(_-56320),x++),y<128?g[w++]=y:(y<2048?g[w++]=192|y>>>6:(y<65536?g[w++]=224|y>>>12:(g[w++]=240|y>>>18,g[w++]=128|y>>>12&63),g[w++]=128|y>>>6&63),g[w++]=128|63&y);return g})(p)},i.utf8decode=function(p){return a.nodebuffer?s.transformTo("nodebuffer",p).toString("utf-8"):(function(v){var g,y,_,x,w=v.length,C=new Array(2*w);for(g=y=0;g<w;)if((_=v[g++])<128)C[y++]=_;else if(4<(x=c[_]))C[y++]=65533,g+=x-1;else{for(_&=x===2?31:x===3?15:7;1<x&&g<w;)_=_<<6|63&v[g++],x--;1<x?C[y++]=65533:_<65536?C[y++]=_:(_-=65536,C[y++]=55296|_>>10&1023,C[y++]=56320|1023&_)}return C.length!==y&&(C.subarray?C=C.subarray(0,y):C.length=y),s.applyFromCharCode(C)})(p=s.transformTo(a.uint8array?"uint8array":"array",p))},s.inherits(f,l),f.prototype.processChunk=function(p){var v=s.transformTo(a.uint8array?"uint8array":"array",p.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var g=v;(v=new Uint8Array(g.length+this.leftOver.length)).set(this.leftOver,0),v.set(g,this.leftOver.length)}else v=this.leftOver.concat(v);this.leftOver=null}var y=(function(x,w){var C;for((w=w||x.length)>x.length&&(w=x.length),C=w-1;0<=C&&(192&x[C])==128;)C--;return C<0||C===0?w:C+c[x[C]]>w?C:w})(v),_=v;y!==v.length&&(a.uint8array?(_=v.subarray(0,y),this.leftOver=v.subarray(y,v.length)):(_=v.slice(0,y),this.leftOver=v.slice(y,v.length))),this.push({data:i.utf8decode(_),meta:p.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=f,s.inherits(h,l),h.prototype.processChunk=function(p){this.push({data:i.utf8encode(p.data),meta:p.meta})},i.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var s=n("./support"),a=n("./base64"),o=n("./nodejsUtils"),l=n("./external");function c(g){return g}function u(g,y){for(var _=0;_<g.length;++_)y[_]=255&g.charCodeAt(_);return y}n("setimmediate"),i.newBlob=function(g,y){i.checkSupport("blob");try{return new Blob([g],{type:y})}catch{try{var _=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return _.append(g),_.getBlob(y)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(g,y,_){var x=[],w=0,C=g.length;if(C<=_)return String.fromCharCode.apply(null,g);for(;w<C;)y==="array"||y==="nodebuffer"?x.push(String.fromCharCode.apply(null,g.slice(w,Math.min(w+_,C)))):x.push(String.fromCharCode.apply(null,g.subarray(w,Math.min(w+_,C)))),w+=_;return x.join("")},stringifyByChar:function(g){for(var y="",_=0;_<g.length;_++)y+=String.fromCharCode(g[_]);return y},applyCanBeUsed:{uint8array:(function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}})()}};function h(g){var y=65536,_=i.getTypeOf(g),x=!0;if(_==="uint8array"?x=f.applyCanBeUsed.uint8array:_==="nodebuffer"&&(x=f.applyCanBeUsed.nodebuffer),x)for(;1<y;)try{return f.stringifyByChunk(g,_,y)}catch{y=Math.floor(y/2)}return f.stringifyByChar(g)}function p(g,y){for(var _=0;_<g.length;_++)y[_]=g[_];return y}i.applyFromCharCode=h;var v={};v.string={string:c,array:function(g){return u(g,new Array(g.length))},arraybuffer:function(g){return v.string.uint8array(g).buffer},uint8array:function(g){return u(g,new Uint8Array(g.length))},nodebuffer:function(g){return u(g,o.allocBuffer(g.length))}},v.array={string:h,array:c,arraybuffer:function(g){return new Uint8Array(g).buffer},uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return o.newBufferFrom(g)}},v.arraybuffer={string:function(g){return h(new Uint8Array(g))},array:function(g){return p(new Uint8Array(g),new Array(g.byteLength))},arraybuffer:c,uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return o.newBufferFrom(new Uint8Array(g))}},v.uint8array={string:h,array:function(g){return p(g,new Array(g.length))},arraybuffer:function(g){return g.buffer},uint8array:c,nodebuffer:function(g){return o.newBufferFrom(g)}},v.nodebuffer={string:h,array:function(g){return p(g,new Array(g.length))},arraybuffer:function(g){return v.nodebuffer.uint8array(g).buffer},uint8array:function(g){return p(g,new Uint8Array(g.length))},nodebuffer:c},i.transformTo=function(g,y){if(y=y||"",!g)return y;i.checkSupport(g);var _=i.getTypeOf(y);return v[_][g](y)},i.resolve=function(g){for(var y=g.split("/"),_=[],x=0;x<y.length;x++){var w=y[x];w==="."||w===""&&x!==0&&x!==y.length-1||(w===".."?_.pop():_.push(w))}return _.join("/")},i.getTypeOf=function(g){return typeof g=="string"?"string":Object.prototype.toString.call(g)==="[object Array]"?"array":s.nodebuffer&&o.isBuffer(g)?"nodebuffer":s.uint8array&&g instanceof Uint8Array?"uint8array":s.arraybuffer&&g instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(g){if(!s[g.toLowerCase()])throw new Error(g+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(g){var y,_,x="";for(_=0;_<(g||"").length;_++)x+="\\x"+((y=g.charCodeAt(_))<16?"0":"")+y.toString(16).toUpperCase();return x},i.delay=function(g,y,_){setImmediate(function(){g.apply(_||null,y||[])})},i.inherits=function(g,y){function _(){}_.prototype=y.prototype,g.prototype=new _},i.extend=function(){var g,y,_={};for(g=0;g<arguments.length;g++)for(y in arguments[g])Object.prototype.hasOwnProperty.call(arguments[g],y)&&_[y]===void 0&&(_[y]=arguments[g][y]);return _},i.prepareContent=function(g,y,_,x,w){return l.Promise.resolve(y).then(function(C){return s.blob&&(C instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(C))!==-1)&&typeof FileReader<"u"?new l.Promise(function(S,R){var D=new FileReader;D.onload=function(N){S(N.target.result)},D.onerror=function(N){R(N.target.error)},D.readAsArrayBuffer(C)}):C}).then(function(C){var S=i.getTypeOf(C);return S?(S==="arraybuffer"?C=i.transformTo("uint8array",C):S==="string"&&(w?C=a.decode(C):_&&x!==!0&&(C=(function(R){return u(R,s.uint8array?new Uint8Array(R.length):new Array(R.length))})(C))),C):l.Promise.reject(new Error("Can't read the data of '"+g+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var s=n("./reader/readerFor"),a=n("./utils"),o=n("./signature"),l=n("./zipEntry"),c=n("./support");function u(f){this.files=[],this.loadOptions=f}u.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var h=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(h)+", expected "+a.pretty(f)+")")}},isSignature:function(f,h){var p=this.reader.index;this.reader.setIndex(f);var v=this.reader.readString(4)===h;return this.reader.setIndex(p),v},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),h=c.uint8array?"uint8array":"array",p=a.transformTo(h,f);this.zipComment=this.loadOptions.decodeFileName(p)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,h,p,v=this.zip64EndOfCentralSize-44;0<v;)f=this.reader.readInt(2),h=this.reader.readInt(4),p=this.reader.readData(h),this.zip64ExtensibleData[f]={id:f,length:h,value:p}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,h;for(f=0;f<this.files.length;f++)h=this.files[f],this.reader.setIndex(h.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),h.readLocalPart(this.reader),h.handleUTF8(),h.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(f=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var h=f;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var p=this.centralDirOffset+this.centralDirSize;this.zip64&&(p+=20,p+=12+this.zip64EndOfCentralSize);var v=h-p;if(0<v)this.isSignature(h,o.CENTRAL_FILE_HEADER)||(this.reader.zero=v);else if(v<0)throw new Error("Corrupted zip: missing "+Math.abs(v)+" bytes.")},prepareReader:function(f){this.reader=s(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var s=n("./reader/readerFor"),a=n("./utils"),o=n("./compressedObject"),l=n("./crc32"),c=n("./utf8"),u=n("./compressions"),f=n("./support");function h(p,v){this.options=p,this.loadOptions=v}h.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(p){var v,g;if(p.skip(22),this.fileNameLength=p.readInt(2),g=p.readInt(2),this.fileName=p.readData(this.fileNameLength),p.skip(g),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((v=(function(y){for(var _ in u)if(Object.prototype.hasOwnProperty.call(u,_)&&u[_].magic===y)return u[_];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,v,p.readData(this.compressedSize))},readCentralPart:function(p){this.versionMadeBy=p.readInt(2),p.skip(2),this.bitFlag=p.readInt(2),this.compressionMethod=p.readString(2),this.date=p.readDate(),this.crc32=p.readInt(4),this.compressedSize=p.readInt(4),this.uncompressedSize=p.readInt(4);var v=p.readInt(2);if(this.extraFieldsLength=p.readInt(2),this.fileCommentLength=p.readInt(2),this.diskNumberStart=p.readInt(2),this.internalFileAttributes=p.readInt(2),this.externalFileAttributes=p.readInt(4),this.localHeaderOffset=p.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");p.skip(v),this.readExtraFields(p),this.parseZIP64ExtraField(p),this.fileComment=p.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var p=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),p==0&&(this.dosPermissions=63&this.externalFileAttributes),p==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var p=s(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=p.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=p.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=p.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=p.readInt(4))}},readExtraFields:function(p){var v,g,y,_=p.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});p.index+4<_;)v=p.readInt(2),g=p.readInt(2),y=p.readData(g),this.extraFields[v]={id:v,length:g,value:y};p.setIndex(_)},handleUTF8:function(){var p=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var v=this.findExtraFieldUnicodePath();if(v!==null)this.fileNameStr=v;else{var g=a.transformTo(p,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(g)}var y=this.findExtraFieldUnicodeComment();if(y!==null)this.fileCommentStr=y;else{var _=a.transformTo(p,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(_)}}},findExtraFieldUnicodePath:function(){var p=this.extraFields[28789];if(p){var v=s(p.value);return v.readInt(1)!==1||l(this.fileName)!==v.readInt(4)?null:c.utf8decode(v.readData(p.length-5))}return null},findExtraFieldUnicodeComment:function(){var p=this.extraFields[25461];if(p){var v=s(p.value);return v.readInt(1)!==1||l(this.fileComment)!==v.readInt(4)?null:c.utf8decode(v.readData(p.length-5))}return null}},r.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function s(v,g,y){this.name=v,this.dir=y.dir,this.date=y.date,this.comment=y.comment,this.unixPermissions=y.unixPermissions,this.dosPermissions=y.dosPermissions,this._data=g,this._dataBinary=y.binary,this.options={compression:y.compression,compressionOptions:y.compressionOptions}}var a=n("./stream/StreamHelper"),o=n("./stream/DataWorker"),l=n("./utf8"),c=n("./compressedObject"),u=n("./stream/GenericWorker");s.prototype={internalStream:function(v){var g=null,y="string";try{if(!v)throw new Error("No output type specified.");var _=(y=v.toLowerCase())==="string"||y==="text";y!=="binarystring"&&y!=="text"||(y="string"),g=this._decompressWorker();var x=!this._dataBinary;x&&!_&&(g=g.pipe(new l.Utf8EncodeWorker)),!x&&_&&(g=g.pipe(new l.Utf8DecodeWorker))}catch(w){(g=new u("error")).error(w)}return new a(g,y,"")},async:function(v,g){return this.internalStream(v).accumulate(g)},nodeStream:function(v,g){return this.internalStream(v||"nodebuffer").toNodejsStream(g)},_compressWorker:function(v,g){if(this._data instanceof c&&this._data.compression.magic===v.magic)return this._data.getCompressedWorker();var y=this._decompressWorker();return this._dataBinary||(y=y.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(y,v,g)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof u?this._data:new o(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},p=0;p<f.length;p++)s.prototype[f[p]]=h;r.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(s){var a,o,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var c=0,u=new l(v),f=s.document.createTextNode("");u.observe(f,{characterData:!0}),a=function(){f.data=c=++c%2}}else if(s.setImmediate||s.MessageChannel===void 0)a="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var g=s.document.createElement("script");g.onreadystatechange=function(){v(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},s.document.documentElement.appendChild(g)}:function(){setTimeout(v,0)};else{var h=new s.MessageChannel;h.port1.onmessage=v,a=function(){h.port2.postMessage(0)}}var p=[];function v(){var g,y;o=!0;for(var _=p.length;_;){for(y=p,p=[],g=-1;++g<_;)y[g]();_=p.length}o=!1}r.exports=function(g){p.push(g)!==1||o||a()}}).call(this,typeof Ds<"u"?Ds:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var s=n("immediate");function a(){}var o={},l=["REJECTED"],c=["FULFILLED"],u=["PENDING"];function f(_){if(typeof _!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,_!==a&&g(this,_)}function h(_,x,w){this.promise=_,typeof x=="function"&&(this.onFulfilled=x,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}function p(_,x,w){s(function(){var C;try{C=x(w)}catch(S){return o.reject(_,S)}C===_?o.reject(_,new TypeError("Cannot resolve promise with itself")):o.resolve(_,C)})}function v(_){var x=_&&_.then;if(_&&(typeof _=="object"||typeof _=="function")&&typeof x=="function")return function(){x.apply(_,arguments)}}function g(_,x){var w=!1;function C(D){w||(w=!0,o.reject(_,D))}function S(D){w||(w=!0,o.resolve(_,D))}var R=y(function(){x(S,C)});R.status==="error"&&C(R.value)}function y(_,x){var w={};try{w.value=_(x),w.status="success"}catch(C){w.status="error",w.value=C}return w}(r.exports=f).prototype.finally=function(_){if(typeof _!="function")return this;var x=this.constructor;return this.then(function(w){return x.resolve(_()).then(function(){return w})},function(w){return x.resolve(_()).then(function(){throw w})})},f.prototype.catch=function(_){return this.then(null,_)},f.prototype.then=function(_,x){if(typeof _!="function"&&this.state===c||typeof x!="function"&&this.state===l)return this;var w=new this.constructor(a);return this.state!==u?p(w,this.state===c?_:x,this.outcome):this.queue.push(new h(w,_,x)),w},h.prototype.callFulfilled=function(_){o.resolve(this.promise,_)},h.prototype.otherCallFulfilled=function(_){p(this.promise,this.onFulfilled,_)},h.prototype.callRejected=function(_){o.reject(this.promise,_)},h.prototype.otherCallRejected=function(_){p(this.promise,this.onRejected,_)},o.resolve=function(_,x){var w=y(v,x);if(w.status==="error")return o.reject(_,w.value);var C=w.value;if(C)g(_,C);else{_.state=c,_.outcome=x;for(var S=-1,R=_.queue.length;++S<R;)_.queue[S].callFulfilled(x)}return _},o.reject=function(_,x){_.state=l,_.outcome=x;for(var w=-1,C=_.queue.length;++w<C;)_.queue[w].callRejected(x);return _},f.resolve=function(_){return _ instanceof this?_:o.resolve(new this(a),_)},f.reject=function(_){var x=new this(a);return o.reject(x,_)},f.all=function(_){var x=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=_.length,C=!1;if(!w)return this.resolve([]);for(var S=new Array(w),R=0,D=-1,N=new this(a);++D<w;)I(_[D],D);return N;function I(F,P){x.resolve(F).then(function(k){S[P]=k,++R!==w||C||(C=!0,o.resolve(N,S))},function(k){C||(C=!0,o.reject(N,k))})}},f.race=function(_){var x=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=_.length,C=!1;if(!w)return this.resolve([]);for(var S=-1,R=new this(a);++S<w;)D=_[S],x.resolve(D).then(function(N){C||(C=!0,o.resolve(R,N))},function(N){C||(C=!0,o.reject(R,N))});var D;return R}},{immediate:36}],38:[function(n,r,i){var s={};(0,n("./lib/utils/common").assign)(s,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var s=n("./zlib/deflate"),a=n("./utils/common"),o=n("./utils/strings"),l=n("./zlib/messages"),c=n("./zlib/zstream"),u=Object.prototype.toString,f=0,h=-1,p=0,v=8;function g(_){if(!(this instanceof g))return new g(_);this.options=a.assign({level:h,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},_||{});var x=this.options;x.raw&&0<x.windowBits?x.windowBits=-x.windowBits:x.gzip&&0<x.windowBits&&x.windowBits<16&&(x.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var w=s.deflateInit2(this.strm,x.level,x.method,x.windowBits,x.memLevel,x.strategy);if(w!==f)throw new Error(l[w]);if(x.header&&s.deflateSetHeader(this.strm,x.header),x.dictionary){var C;if(C=typeof x.dictionary=="string"?o.string2buf(x.dictionary):u.call(x.dictionary)==="[object ArrayBuffer]"?new Uint8Array(x.dictionary):x.dictionary,(w=s.deflateSetDictionary(this.strm,C))!==f)throw new Error(l[w]);this._dict_set=!0}}function y(_,x){var w=new g(x);if(w.push(_,!0),w.err)throw w.msg||l[w.err];return w.result}g.prototype.push=function(_,x){var w,C,S=this.strm,R=this.options.chunkSize;if(this.ended)return!1;C=x===~~x?x:x===!0?4:0,typeof _=="string"?S.input=o.string2buf(_):u.call(_)==="[object ArrayBuffer]"?S.input=new Uint8Array(_):S.input=_,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new a.Buf8(R),S.next_out=0,S.avail_out=R),(w=s.deflate(S,C))!==1&&w!==f)return this.onEnd(w),!(this.ended=!0);S.avail_out!==0&&(S.avail_in!==0||C!==4&&C!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(a.shrinkBuf(S.output,S.next_out))):this.onData(a.shrinkBuf(S.output,S.next_out)))}while((0<S.avail_in||S.avail_out===0)&&w!==1);return C===4?(w=s.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===f):C!==2||(this.onEnd(f),!(S.avail_out=0))},g.prototype.onData=function(_){this.chunks.push(_)},g.prototype.onEnd=function(_){_===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg},i.Deflate=g,i.deflate=y,i.deflateRaw=function(_,x){return(x=x||{}).raw=!0,y(_,x)},i.gzip=function(_,x){return(x=x||{}).gzip=!0,y(_,x)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var s=n("./zlib/inflate"),a=n("./utils/common"),o=n("./utils/strings"),l=n("./zlib/constants"),c=n("./zlib/messages"),u=n("./zlib/zstream"),f=n("./zlib/gzheader"),h=Object.prototype.toString;function p(g){if(!(this instanceof p))return new p(g);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},g||{});var y=this.options;y.raw&&0<=y.windowBits&&y.windowBits<16&&(y.windowBits=-y.windowBits,y.windowBits===0&&(y.windowBits=-15)),!(0<=y.windowBits&&y.windowBits<16)||g&&g.windowBits||(y.windowBits+=32),15<y.windowBits&&y.windowBits<48&&(15&y.windowBits)==0&&(y.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var _=s.inflateInit2(this.strm,y.windowBits);if(_!==l.Z_OK)throw new Error(c[_]);this.header=new f,s.inflateGetHeader(this.strm,this.header)}function v(g,y){var _=new p(y);if(_.push(g,!0),_.err)throw _.msg||c[_.err];return _.result}p.prototype.push=function(g,y){var _,x,w,C,S,R,D=this.strm,N=this.options.chunkSize,I=this.options.dictionary,F=!1;if(this.ended)return!1;x=y===~~y?y:y===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof g=="string"?D.input=o.binstring2buf(g):h.call(g)==="[object ArrayBuffer]"?D.input=new Uint8Array(g):D.input=g,D.next_in=0,D.avail_in=D.input.length;do{if(D.avail_out===0&&(D.output=new a.Buf8(N),D.next_out=0,D.avail_out=N),(_=s.inflate(D,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&I&&(R=typeof I=="string"?o.string2buf(I):h.call(I)==="[object ArrayBuffer]"?new Uint8Array(I):I,_=s.inflateSetDictionary(this.strm,R)),_===l.Z_BUF_ERROR&&F===!0&&(_=l.Z_OK,F=!1),_!==l.Z_STREAM_END&&_!==l.Z_OK)return this.onEnd(_),!(this.ended=!0);D.next_out&&(D.avail_out!==0&&_!==l.Z_STREAM_END&&(D.avail_in!==0||x!==l.Z_FINISH&&x!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(w=o.utf8border(D.output,D.next_out),C=D.next_out-w,S=o.buf2string(D.output,w),D.next_out=C,D.avail_out=N-C,C&&a.arraySet(D.output,D.output,w,C,0),this.onData(S)):this.onData(a.shrinkBuf(D.output,D.next_out)))),D.avail_in===0&&D.avail_out===0&&(F=!0)}while((0<D.avail_in||D.avail_out===0)&&_!==l.Z_STREAM_END);return _===l.Z_STREAM_END&&(x=l.Z_FINISH),x===l.Z_FINISH?(_=s.inflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===l.Z_OK):x!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(D.avail_out=0))},p.prototype.onData=function(g){this.chunks.push(g)},p.prototype.onEnd=function(g){g===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},i.Inflate=p,i.inflate=v,i.inflateRaw=function(g,y){return(y=y||{}).raw=!0,v(g,y)},i.ungzip=v},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var u=c.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var f in u)u.hasOwnProperty(f)&&(l[f]=u[f])}}return l},i.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var a={arraySet:function(l,c,u,f,h){if(c.subarray&&l.subarray)l.set(c.subarray(u,u+f),h);else for(var p=0;p<f;p++)l[h+p]=c[u+p]},flattenChunks:function(l){var c,u,f,h,p,v;for(c=f=0,u=l.length;c<u;c++)f+=l[c].length;for(v=new Uint8Array(f),c=h=0,u=l.length;c<u;c++)p=l[c],v.set(p,h),h+=p.length;return v}},o={arraySet:function(l,c,u,f,h){for(var p=0;p<f;p++)l[h+p]=c[u+p]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,a)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(s)},{}],42:[function(n,r,i){var s=n("./common"),a=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var l=new s.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function u(f,h){if(h<65537&&(f.subarray&&o||!f.subarray&&a))return String.fromCharCode.apply(null,s.shrinkBuf(f,h));for(var p="",v=0;v<h;v++)p+=String.fromCharCode(f[v]);return p}l[254]=l[254]=1,i.string2buf=function(f){var h,p,v,g,y,_=f.length,x=0;for(g=0;g<_;g++)(64512&(p=f.charCodeAt(g)))==55296&&g+1<_&&(64512&(v=f.charCodeAt(g+1)))==56320&&(p=65536+(p-55296<<10)+(v-56320),g++),x+=p<128?1:p<2048?2:p<65536?3:4;for(h=new s.Buf8(x),g=y=0;y<x;g++)(64512&(p=f.charCodeAt(g)))==55296&&g+1<_&&(64512&(v=f.charCodeAt(g+1)))==56320&&(p=65536+(p-55296<<10)+(v-56320),g++),p<128?h[y++]=p:(p<2048?h[y++]=192|p>>>6:(p<65536?h[y++]=224|p>>>12:(h[y++]=240|p>>>18,h[y++]=128|p>>>12&63),h[y++]=128|p>>>6&63),h[y++]=128|63&p);return h},i.buf2binstring=function(f){return u(f,f.length)},i.binstring2buf=function(f){for(var h=new s.Buf8(f.length),p=0,v=h.length;p<v;p++)h[p]=f.charCodeAt(p);return h},i.buf2string=function(f,h){var p,v,g,y,_=h||f.length,x=new Array(2*_);for(p=v=0;p<_;)if((g=f[p++])<128)x[v++]=g;else if(4<(y=l[g]))x[v++]=65533,p+=y-1;else{for(g&=y===2?31:y===3?15:7;1<y&&p<_;)g=g<<6|63&f[p++],y--;1<y?x[v++]=65533:g<65536?x[v++]=g:(g-=65536,x[v++]=55296|g>>10&1023,x[v++]=56320|1023&g)}return u(x,v)},i.utf8border=function(f,h){var p;for((h=h||f.length)>f.length&&(h=f.length),p=h-1;0<=p&&(192&f[p])==128;)p--;return p<0||p===0?h:p+l[f[p]]>h?p:h}},{"./common":41}],43:[function(n,r,i){r.exports=function(s,a,o,l){for(var c=65535&s|0,u=s>>>16&65535|0,f=0;o!==0;){for(o-=f=2e3<o?2e3:o;u=u+(c=c+a[l++]|0)|0,--f;);c%=65521,u%=65521}return c|u<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var s=(function(){for(var a,o=[],l=0;l<256;l++){a=l;for(var c=0;c<8;c++)a=1&a?3988292384^a>>>1:a>>>1;o[l]=a}return o})();r.exports=function(a,o,l,c){var u=s,f=c+l;a^=-1;for(var h=c;h<f;h++)a=a>>>8^u[255&(a^o[h])];return-1^a}},{}],46:[function(n,r,i){var s,a=n("../utils/common"),o=n("./trees"),l=n("./adler32"),c=n("./crc32"),u=n("./messages"),f=0,h=4,p=0,v=-2,g=-1,y=4,_=2,x=8,w=9,C=286,S=30,R=19,D=2*C+1,N=15,I=3,F=258,P=F+I+1,k=42,U=113,O=1,H=2,G=3,X=4;function Z(W,ge){return W.msg=u[ge],ge}function z(W){return(W<<1)-(4<W?9:0)}function Q(W){for(var ge=W.length;0<=--ge;)W[ge]=0}function B(W){var ge=W.state,_e=ge.pending;_e>W.avail_out&&(_e=W.avail_out),_e!==0&&(a.arraySet(W.output,ge.pending_buf,ge.pending_out,_e,W.next_out),W.next_out+=_e,ge.pending_out+=_e,W.total_out+=_e,W.avail_out-=_e,ge.pending-=_e,ge.pending===0&&(ge.pending_out=0))}function j(W,ge){o._tr_flush_block(W,0<=W.block_start?W.block_start:-1,W.strstart-W.block_start,ge),W.block_start=W.strstart,B(W.strm)}function q(W,ge){W.pending_buf[W.pending++]=ge}function J(W,ge){W.pending_buf[W.pending++]=ge>>>8&255,W.pending_buf[W.pending++]=255&ge}function Y(W,ge){var _e,ce,re=W.max_chain_length,le=W.strstart,ke=W.prev_length,Ne=W.nice_match,ie=W.strstart>W.w_size-P?W.strstart-(W.w_size-P):0,ue=W.window,ve=W.w_mask,be=W.prev,Ie=W.strstart+F,Le=ue[le+ke-1],Te=ue[le+ke];W.prev_length>=W.good_match&&(re>>=2),Ne>W.lookahead&&(Ne=W.lookahead);do if(ue[(_e=ge)+ke]===Te&&ue[_e+ke-1]===Le&&ue[_e]===ue[le]&&ue[++_e]===ue[le+1]){le+=2,_e++;do;while(ue[++le]===ue[++_e]&&ue[++le]===ue[++_e]&&ue[++le]===ue[++_e]&&ue[++le]===ue[++_e]&&ue[++le]===ue[++_e]&&ue[++le]===ue[++_e]&&ue[++le]===ue[++_e]&&ue[++le]===ue[++_e]&&le<Ie);if(ce=F-(Ie-le),le=Ie-F,ke<ce){if(W.match_start=ge,Ne<=(ke=ce))break;Le=ue[le+ke-1],Te=ue[le+ke]}}while((ge=be[ge&ve])>ie&&--re!=0);return ke<=W.lookahead?ke:W.lookahead}function te(W){var ge,_e,ce,re,le,ke,Ne,ie,ue,ve,be=W.w_size;do{if(re=W.window_size-W.lookahead-W.strstart,W.strstart>=be+(be-P)){for(a.arraySet(W.window,W.window,be,be,0),W.match_start-=be,W.strstart-=be,W.block_start-=be,ge=_e=W.hash_size;ce=W.head[--ge],W.head[ge]=be<=ce?ce-be:0,--_e;);for(ge=_e=be;ce=W.prev[--ge],W.prev[ge]=be<=ce?ce-be:0,--_e;);re+=be}if(W.strm.avail_in===0)break;if(ke=W.strm,Ne=W.window,ie=W.strstart+W.lookahead,ue=re,ve=void 0,ve=ke.avail_in,ue<ve&&(ve=ue),_e=ve===0?0:(ke.avail_in-=ve,a.arraySet(Ne,ke.input,ke.next_in,ve,ie),ke.state.wrap===1?ke.adler=l(ke.adler,Ne,ve,ie):ke.state.wrap===2&&(ke.adler=c(ke.adler,Ne,ve,ie)),ke.next_in+=ve,ke.total_in+=ve,ve),W.lookahead+=_e,W.lookahead+W.insert>=I)for(le=W.strstart-W.insert,W.ins_h=W.window[le],W.ins_h=(W.ins_h<<W.hash_shift^W.window[le+1])&W.hash_mask;W.insert&&(W.ins_h=(W.ins_h<<W.hash_shift^W.window[le+I-1])&W.hash_mask,W.prev[le&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=le,le++,W.insert--,!(W.lookahead+W.insert<I)););}while(W.lookahead<P&&W.strm.avail_in!==0)}function oe(W,ge){for(var _e,ce;;){if(W.lookahead<P){if(te(W),W.lookahead<P&&ge===f)return O;if(W.lookahead===0)break}if(_e=0,W.lookahead>=I&&(W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+I-1])&W.hash_mask,_e=W.prev[W.strstart&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=W.strstart),_e!==0&&W.strstart-_e<=W.w_size-P&&(W.match_length=Y(W,_e)),W.match_length>=I)if(ce=o._tr_tally(W,W.strstart-W.match_start,W.match_length-I),W.lookahead-=W.match_length,W.match_length<=W.max_lazy_match&&W.lookahead>=I){for(W.match_length--;W.strstart++,W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+I-1])&W.hash_mask,_e=W.prev[W.strstart&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=W.strstart,--W.match_length!=0;);W.strstart++}else W.strstart+=W.match_length,W.match_length=0,W.ins_h=W.window[W.strstart],W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+1])&W.hash_mask;else ce=o._tr_tally(W,0,W.window[W.strstart]),W.lookahead--,W.strstart++;if(ce&&(j(W,!1),W.strm.avail_out===0))return O}return W.insert=W.strstart<I-1?W.strstart:I-1,ge===h?(j(W,!0),W.strm.avail_out===0?G:X):W.last_lit&&(j(W,!1),W.strm.avail_out===0)?O:H}function de(W,ge){for(var _e,ce,re;;){if(W.lookahead<P){if(te(W),W.lookahead<P&&ge===f)return O;if(W.lookahead===0)break}if(_e=0,W.lookahead>=I&&(W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+I-1])&W.hash_mask,_e=W.prev[W.strstart&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=W.strstart),W.prev_length=W.match_length,W.prev_match=W.match_start,W.match_length=I-1,_e!==0&&W.prev_length<W.max_lazy_match&&W.strstart-_e<=W.w_size-P&&(W.match_length=Y(W,_e),W.match_length<=5&&(W.strategy===1||W.match_length===I&&4096<W.strstart-W.match_start)&&(W.match_length=I-1)),W.prev_length>=I&&W.match_length<=W.prev_length){for(re=W.strstart+W.lookahead-I,ce=o._tr_tally(W,W.strstart-1-W.prev_match,W.prev_length-I),W.lookahead-=W.prev_length-1,W.prev_length-=2;++W.strstart<=re&&(W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+I-1])&W.hash_mask,_e=W.prev[W.strstart&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=W.strstart),--W.prev_length!=0;);if(W.match_available=0,W.match_length=I-1,W.strstart++,ce&&(j(W,!1),W.strm.avail_out===0))return O}else if(W.match_available){if((ce=o._tr_tally(W,0,W.window[W.strstart-1]))&&j(W,!1),W.strstart++,W.lookahead--,W.strm.avail_out===0)return O}else W.match_available=1,W.strstart++,W.lookahead--}return W.match_available&&(ce=o._tr_tally(W,0,W.window[W.strstart-1]),W.match_available=0),W.insert=W.strstart<I-1?W.strstart:I-1,ge===h?(j(W,!0),W.strm.avail_out===0?G:X):W.last_lit&&(j(W,!1),W.strm.avail_out===0)?O:H}function fe(W,ge,_e,ce,re){this.good_length=W,this.max_lazy=ge,this.nice_length=_e,this.max_chain=ce,this.func=re}function Ce(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=x,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*D),this.dyn_dtree=new a.Buf16(2*(2*S+1)),this.bl_tree=new a.Buf16(2*(2*R+1)),Q(this.dyn_ltree),Q(this.dyn_dtree),Q(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(N+1),this.heap=new a.Buf16(2*C+1),Q(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*C+1),Q(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Pe(W){var ge;return W&&W.state?(W.total_in=W.total_out=0,W.data_type=_,(ge=W.state).pending=0,ge.pending_out=0,ge.wrap<0&&(ge.wrap=-ge.wrap),ge.status=ge.wrap?k:U,W.adler=ge.wrap===2?0:1,ge.last_flush=f,o._tr_init(ge),p):Z(W,v)}function pe(W){var ge=Pe(W);return ge===p&&(function(_e){_e.window_size=2*_e.w_size,Q(_e.head),_e.max_lazy_match=s[_e.level].max_lazy,_e.good_match=s[_e.level].good_length,_e.nice_match=s[_e.level].nice_length,_e.max_chain_length=s[_e.level].max_chain,_e.strstart=0,_e.block_start=0,_e.lookahead=0,_e.insert=0,_e.match_length=_e.prev_length=I-1,_e.match_available=0,_e.ins_h=0})(W.state),ge}function Me(W,ge,_e,ce,re,le){if(!W)return v;var ke=1;if(ge===g&&(ge=6),ce<0?(ke=0,ce=-ce):15<ce&&(ke=2,ce-=16),re<1||w<re||_e!==x||ce<8||15<ce||ge<0||9<ge||le<0||y<le)return Z(W,v);ce===8&&(ce=9);var Ne=new Ce;return(W.state=Ne).strm=W,Ne.wrap=ke,Ne.gzhead=null,Ne.w_bits=ce,Ne.w_size=1<<Ne.w_bits,Ne.w_mask=Ne.w_size-1,Ne.hash_bits=re+7,Ne.hash_size=1<<Ne.hash_bits,Ne.hash_mask=Ne.hash_size-1,Ne.hash_shift=~~((Ne.hash_bits+I-1)/I),Ne.window=new a.Buf8(2*Ne.w_size),Ne.head=new a.Buf16(Ne.hash_size),Ne.prev=new a.Buf16(Ne.w_size),Ne.lit_bufsize=1<<re+6,Ne.pending_buf_size=4*Ne.lit_bufsize,Ne.pending_buf=new a.Buf8(Ne.pending_buf_size),Ne.d_buf=1*Ne.lit_bufsize,Ne.l_buf=3*Ne.lit_bufsize,Ne.level=ge,Ne.strategy=le,Ne.method=_e,pe(W)}s=[new fe(0,0,0,0,function(W,ge){var _e=65535;for(_e>W.pending_buf_size-5&&(_e=W.pending_buf_size-5);;){if(W.lookahead<=1){if(te(W),W.lookahead===0&&ge===f)return O;if(W.lookahead===0)break}W.strstart+=W.lookahead,W.lookahead=0;var ce=W.block_start+_e;if((W.strstart===0||W.strstart>=ce)&&(W.lookahead=W.strstart-ce,W.strstart=ce,j(W,!1),W.strm.avail_out===0)||W.strstart-W.block_start>=W.w_size-P&&(j(W,!1),W.strm.avail_out===0))return O}return W.insert=0,ge===h?(j(W,!0),W.strm.avail_out===0?G:X):(W.strstart>W.block_start&&(j(W,!1),W.strm.avail_out),O)}),new fe(4,4,8,4,oe),new fe(4,5,16,8,oe),new fe(4,6,32,32,oe),new fe(4,4,16,16,de),new fe(8,16,32,32,de),new fe(8,16,128,128,de),new fe(8,32,128,256,de),new fe(32,128,258,1024,de),new fe(32,258,258,4096,de)],i.deflateInit=function(W,ge){return Me(W,ge,x,15,8,0)},i.deflateInit2=Me,i.deflateReset=pe,i.deflateResetKeep=Pe,i.deflateSetHeader=function(W,ge){return W&&W.state?W.state.wrap!==2?v:(W.state.gzhead=ge,p):v},i.deflate=function(W,ge){var _e,ce,re,le;if(!W||!W.state||5<ge||ge<0)return W?Z(W,v):v;if(ce=W.state,!W.output||!W.input&&W.avail_in!==0||ce.status===666&&ge!==h)return Z(W,W.avail_out===0?-5:v);if(ce.strm=W,_e=ce.last_flush,ce.last_flush=ge,ce.status===k)if(ce.wrap===2)W.adler=0,q(ce,31),q(ce,139),q(ce,8),ce.gzhead?(q(ce,(ce.gzhead.text?1:0)+(ce.gzhead.hcrc?2:0)+(ce.gzhead.extra?4:0)+(ce.gzhead.name?8:0)+(ce.gzhead.comment?16:0)),q(ce,255&ce.gzhead.time),q(ce,ce.gzhead.time>>8&255),q(ce,ce.gzhead.time>>16&255),q(ce,ce.gzhead.time>>24&255),q(ce,ce.level===9?2:2<=ce.strategy||ce.level<2?4:0),q(ce,255&ce.gzhead.os),ce.gzhead.extra&&ce.gzhead.extra.length&&(q(ce,255&ce.gzhead.extra.length),q(ce,ce.gzhead.extra.length>>8&255)),ce.gzhead.hcrc&&(W.adler=c(W.adler,ce.pending_buf,ce.pending,0)),ce.gzindex=0,ce.status=69):(q(ce,0),q(ce,0),q(ce,0),q(ce,0),q(ce,0),q(ce,ce.level===9?2:2<=ce.strategy||ce.level<2?4:0),q(ce,3),ce.status=U);else{var ke=x+(ce.w_bits-8<<4)<<8;ke|=(2<=ce.strategy||ce.level<2?0:ce.level<6?1:ce.level===6?2:3)<<6,ce.strstart!==0&&(ke|=32),ke+=31-ke%31,ce.status=U,J(ce,ke),ce.strstart!==0&&(J(ce,W.adler>>>16),J(ce,65535&W.adler)),W.adler=1}if(ce.status===69)if(ce.gzhead.extra){for(re=ce.pending;ce.gzindex<(65535&ce.gzhead.extra.length)&&(ce.pending!==ce.pending_buf_size||(ce.gzhead.hcrc&&ce.pending>re&&(W.adler=c(W.adler,ce.pending_buf,ce.pending-re,re)),B(W),re=ce.pending,ce.pending!==ce.pending_buf_size));)q(ce,255&ce.gzhead.extra[ce.gzindex]),ce.gzindex++;ce.gzhead.hcrc&&ce.pending>re&&(W.adler=c(W.adler,ce.pending_buf,ce.pending-re,re)),ce.gzindex===ce.gzhead.extra.length&&(ce.gzindex=0,ce.status=73)}else ce.status=73;if(ce.status===73)if(ce.gzhead.name){re=ce.pending;do{if(ce.pending===ce.pending_buf_size&&(ce.gzhead.hcrc&&ce.pending>re&&(W.adler=c(W.adler,ce.pending_buf,ce.pending-re,re)),B(W),re=ce.pending,ce.pending===ce.pending_buf_size)){le=1;break}le=ce.gzindex<ce.gzhead.name.length?255&ce.gzhead.name.charCodeAt(ce.gzindex++):0,q(ce,le)}while(le!==0);ce.gzhead.hcrc&&ce.pending>re&&(W.adler=c(W.adler,ce.pending_buf,ce.pending-re,re)),le===0&&(ce.gzindex=0,ce.status=91)}else ce.status=91;if(ce.status===91)if(ce.gzhead.comment){re=ce.pending;do{if(ce.pending===ce.pending_buf_size&&(ce.gzhead.hcrc&&ce.pending>re&&(W.adler=c(W.adler,ce.pending_buf,ce.pending-re,re)),B(W),re=ce.pending,ce.pending===ce.pending_buf_size)){le=1;break}le=ce.gzindex<ce.gzhead.comment.length?255&ce.gzhead.comment.charCodeAt(ce.gzindex++):0,q(ce,le)}while(le!==0);ce.gzhead.hcrc&&ce.pending>re&&(W.adler=c(W.adler,ce.pending_buf,ce.pending-re,re)),le===0&&(ce.status=103)}else ce.status=103;if(ce.status===103&&(ce.gzhead.hcrc?(ce.pending+2>ce.pending_buf_size&&B(W),ce.pending+2<=ce.pending_buf_size&&(q(ce,255&W.adler),q(ce,W.adler>>8&255),W.adler=0,ce.status=U)):ce.status=U),ce.pending!==0){if(B(W),W.avail_out===0)return ce.last_flush=-1,p}else if(W.avail_in===0&&z(ge)<=z(_e)&&ge!==h)return Z(W,-5);if(ce.status===666&&W.avail_in!==0)return Z(W,-5);if(W.avail_in!==0||ce.lookahead!==0||ge!==f&&ce.status!==666){var Ne=ce.strategy===2?(function(ie,ue){for(var ve;;){if(ie.lookahead===0&&(te(ie),ie.lookahead===0)){if(ue===f)return O;break}if(ie.match_length=0,ve=o._tr_tally(ie,0,ie.window[ie.strstart]),ie.lookahead--,ie.strstart++,ve&&(j(ie,!1),ie.strm.avail_out===0))return O}return ie.insert=0,ue===h?(j(ie,!0),ie.strm.avail_out===0?G:X):ie.last_lit&&(j(ie,!1),ie.strm.avail_out===0)?O:H})(ce,ge):ce.strategy===3?(function(ie,ue){for(var ve,be,Ie,Le,Te=ie.window;;){if(ie.lookahead<=F){if(te(ie),ie.lookahead<=F&&ue===f)return O;if(ie.lookahead===0)break}if(ie.match_length=0,ie.lookahead>=I&&0<ie.strstart&&(be=Te[Ie=ie.strstart-1])===Te[++Ie]&&be===Te[++Ie]&&be===Te[++Ie]){Le=ie.strstart+F;do;while(be===Te[++Ie]&&be===Te[++Ie]&&be===Te[++Ie]&&be===Te[++Ie]&&be===Te[++Ie]&&be===Te[++Ie]&&be===Te[++Ie]&&be===Te[++Ie]&&Ie<Le);ie.match_length=F-(Le-Ie),ie.match_length>ie.lookahead&&(ie.match_length=ie.lookahead)}if(ie.match_length>=I?(ve=o._tr_tally(ie,1,ie.match_length-I),ie.lookahead-=ie.match_length,ie.strstart+=ie.match_length,ie.match_length=0):(ve=o._tr_tally(ie,0,ie.window[ie.strstart]),ie.lookahead--,ie.strstart++),ve&&(j(ie,!1),ie.strm.avail_out===0))return O}return ie.insert=0,ue===h?(j(ie,!0),ie.strm.avail_out===0?G:X):ie.last_lit&&(j(ie,!1),ie.strm.avail_out===0)?O:H})(ce,ge):s[ce.level].func(ce,ge);if(Ne!==G&&Ne!==X||(ce.status=666),Ne===O||Ne===G)return W.avail_out===0&&(ce.last_flush=-1),p;if(Ne===H&&(ge===1?o._tr_align(ce):ge!==5&&(o._tr_stored_block(ce,0,0,!1),ge===3&&(Q(ce.head),ce.lookahead===0&&(ce.strstart=0,ce.block_start=0,ce.insert=0))),B(W),W.avail_out===0))return ce.last_flush=-1,p}return ge!==h?p:ce.wrap<=0?1:(ce.wrap===2?(q(ce,255&W.adler),q(ce,W.adler>>8&255),q(ce,W.adler>>16&255),q(ce,W.adler>>24&255),q(ce,255&W.total_in),q(ce,W.total_in>>8&255),q(ce,W.total_in>>16&255),q(ce,W.total_in>>24&255)):(J(ce,W.adler>>>16),J(ce,65535&W.adler)),B(W),0<ce.wrap&&(ce.wrap=-ce.wrap),ce.pending!==0?p:1)},i.deflateEnd=function(W){var ge;return W&&W.state?(ge=W.state.status)!==k&&ge!==69&&ge!==73&&ge!==91&&ge!==103&&ge!==U&&ge!==666?Z(W,v):(W.state=null,ge===U?Z(W,-3):p):v},i.deflateSetDictionary=function(W,ge){var _e,ce,re,le,ke,Ne,ie,ue,ve=ge.length;if(!W||!W.state||(le=(_e=W.state).wrap)===2||le===1&&_e.status!==k||_e.lookahead)return v;for(le===1&&(W.adler=l(W.adler,ge,ve,0)),_e.wrap=0,ve>=_e.w_size&&(le===0&&(Q(_e.head),_e.strstart=0,_e.block_start=0,_e.insert=0),ue=new a.Buf8(_e.w_size),a.arraySet(ue,ge,ve-_e.w_size,_e.w_size,0),ge=ue,ve=_e.w_size),ke=W.avail_in,Ne=W.next_in,ie=W.input,W.avail_in=ve,W.next_in=0,W.input=ge,te(_e);_e.lookahead>=I;){for(ce=_e.strstart,re=_e.lookahead-(I-1);_e.ins_h=(_e.ins_h<<_e.hash_shift^_e.window[ce+I-1])&_e.hash_mask,_e.prev[ce&_e.w_mask]=_e.head[_e.ins_h],_e.head[_e.ins_h]=ce,ce++,--re;);_e.strstart=ce,_e.lookahead=I-1,te(_e)}return _e.strstart+=_e.lookahead,_e.block_start=_e.strstart,_e.insert=_e.lookahead,_e.lookahead=0,_e.match_length=_e.prev_length=I-1,_e.match_available=0,W.next_in=Ne,W.input=ie,W.avail_in=ke,_e.wrap=le,p},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(s,a){var o,l,c,u,f,h,p,v,g,y,_,x,w,C,S,R,D,N,I,F,P,k,U,O,H;o=s.state,l=s.next_in,O=s.input,c=l+(s.avail_in-5),u=s.next_out,H=s.output,f=u-(a-s.avail_out),h=u+(s.avail_out-257),p=o.dmax,v=o.wsize,g=o.whave,y=o.wnext,_=o.window,x=o.hold,w=o.bits,C=o.lencode,S=o.distcode,R=(1<<o.lenbits)-1,D=(1<<o.distbits)-1;e:do{w<15&&(x+=O[l++]<<w,w+=8,x+=O[l++]<<w,w+=8),N=C[x&R];t:for(;;){if(x>>>=I=N>>>24,w-=I,(I=N>>>16&255)===0)H[u++]=65535&N;else{if(!(16&I)){if((64&I)==0){N=C[(65535&N)+(x&(1<<I)-1)];continue t}if(32&I){o.mode=12;break e}s.msg="invalid literal/length code",o.mode=30;break e}F=65535&N,(I&=15)&&(w<I&&(x+=O[l++]<<w,w+=8),F+=x&(1<<I)-1,x>>>=I,w-=I),w<15&&(x+=O[l++]<<w,w+=8,x+=O[l++]<<w,w+=8),N=S[x&D];n:for(;;){if(x>>>=I=N>>>24,w-=I,!(16&(I=N>>>16&255))){if((64&I)==0){N=S[(65535&N)+(x&(1<<I)-1)];continue n}s.msg="invalid distance code",o.mode=30;break e}if(P=65535&N,w<(I&=15)&&(x+=O[l++]<<w,(w+=8)<I&&(x+=O[l++]<<w,w+=8)),p<(P+=x&(1<<I)-1)){s.msg="invalid distance too far back",o.mode=30;break e}if(x>>>=I,w-=I,(I=u-f)<P){if(g<(I=P-I)&&o.sane){s.msg="invalid distance too far back",o.mode=30;break e}if(U=_,(k=0)===y){if(k+=v-I,I<F){for(F-=I;H[u++]=_[k++],--I;);k=u-P,U=H}}else if(y<I){if(k+=v+y-I,(I-=y)<F){for(F-=I;H[u++]=_[k++],--I;);if(k=0,y<F){for(F-=I=y;H[u++]=_[k++],--I;);k=u-P,U=H}}}else if(k+=y-I,I<F){for(F-=I;H[u++]=_[k++],--I;);k=u-P,U=H}for(;2<F;)H[u++]=U[k++],H[u++]=U[k++],H[u++]=U[k++],F-=3;F&&(H[u++]=U[k++],1<F&&(H[u++]=U[k++]))}else{for(k=u-P;H[u++]=H[k++],H[u++]=H[k++],H[u++]=H[k++],2<(F-=3););F&&(H[u++]=H[k++],1<F&&(H[u++]=H[k++]))}break}}break}}while(l<c&&u<h);l-=F=w>>3,x&=(1<<(w-=F<<3))-1,s.next_in=l,s.next_out=u,s.avail_in=l<c?c-l+5:5-(l-c),s.avail_out=u<h?h-u+257:257-(u-h),o.hold=x,o.bits=w}},{}],49:[function(n,r,i){var s=n("../utils/common"),a=n("./adler32"),o=n("./crc32"),l=n("./inffast"),c=n("./inftrees"),u=1,f=2,h=0,p=-2,v=1,g=852,y=592;function _(k){return(k>>>24&255)+(k>>>8&65280)+((65280&k)<<8)+((255&k)<<24)}function x(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(k){var U;return k&&k.state?(U=k.state,k.total_in=k.total_out=U.total=0,k.msg="",U.wrap&&(k.adler=1&U.wrap),U.mode=v,U.last=0,U.havedict=0,U.dmax=32768,U.head=null,U.hold=0,U.bits=0,U.lencode=U.lendyn=new s.Buf32(g),U.distcode=U.distdyn=new s.Buf32(y),U.sane=1,U.back=-1,h):p}function C(k){var U;return k&&k.state?((U=k.state).wsize=0,U.whave=0,U.wnext=0,w(k)):p}function S(k,U){var O,H;return k&&k.state?(H=k.state,U<0?(O=0,U=-U):(O=1+(U>>4),U<48&&(U&=15)),U&&(U<8||15<U)?p:(H.window!==null&&H.wbits!==U&&(H.window=null),H.wrap=O,H.wbits=U,C(k))):p}function R(k,U){var O,H;return k?(H=new x,(k.state=H).window=null,(O=S(k,U))!==h&&(k.state=null),O):p}var D,N,I=!0;function F(k){if(I){var U;for(D=new s.Buf32(512),N=new s.Buf32(32),U=0;U<144;)k.lens[U++]=8;for(;U<256;)k.lens[U++]=9;for(;U<280;)k.lens[U++]=7;for(;U<288;)k.lens[U++]=8;for(c(u,k.lens,0,288,D,0,k.work,{bits:9}),U=0;U<32;)k.lens[U++]=5;c(f,k.lens,0,32,N,0,k.work,{bits:5}),I=!1}k.lencode=D,k.lenbits=9,k.distcode=N,k.distbits=5}function P(k,U,O,H){var G,X=k.state;return X.window===null&&(X.wsize=1<<X.wbits,X.wnext=0,X.whave=0,X.window=new s.Buf8(X.wsize)),H>=X.wsize?(s.arraySet(X.window,U,O-X.wsize,X.wsize,0),X.wnext=0,X.whave=X.wsize):(H<(G=X.wsize-X.wnext)&&(G=H),s.arraySet(X.window,U,O-H,G,X.wnext),(H-=G)?(s.arraySet(X.window,U,O-H,H,0),X.wnext=H,X.whave=X.wsize):(X.wnext+=G,X.wnext===X.wsize&&(X.wnext=0),X.whave<X.wsize&&(X.whave+=G))),0}i.inflateReset=C,i.inflateReset2=S,i.inflateResetKeep=w,i.inflateInit=function(k){return R(k,15)},i.inflateInit2=R,i.inflate=function(k,U){var O,H,G,X,Z,z,Q,B,j,q,J,Y,te,oe,de,fe,Ce,Pe,pe,Me,W,ge,_e,ce,re=0,le=new s.Buf8(4),ke=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!k||!k.state||!k.output||!k.input&&k.avail_in!==0)return p;(O=k.state).mode===12&&(O.mode=13),Z=k.next_out,G=k.output,Q=k.avail_out,X=k.next_in,H=k.input,z=k.avail_in,B=O.hold,j=O.bits,q=z,J=Q,ge=h;e:for(;;)switch(O.mode){case v:if(O.wrap===0){O.mode=13;break}for(;j<16;){if(z===0)break e;z--,B+=H[X++]<<j,j+=8}if(2&O.wrap&&B===35615){le[O.check=0]=255&B,le[1]=B>>>8&255,O.check=o(O.check,le,2,0),j=B=0,O.mode=2;break}if(O.flags=0,O.head&&(O.head.done=!1),!(1&O.wrap)||(((255&B)<<8)+(B>>8))%31){k.msg="incorrect header check",O.mode=30;break}if((15&B)!=8){k.msg="unknown compression method",O.mode=30;break}if(j-=4,W=8+(15&(B>>>=4)),O.wbits===0)O.wbits=W;else if(W>O.wbits){k.msg="invalid window size",O.mode=30;break}O.dmax=1<<W,k.adler=O.check=1,O.mode=512&B?10:12,j=B=0;break;case 2:for(;j<16;){if(z===0)break e;z--,B+=H[X++]<<j,j+=8}if(O.flags=B,(255&O.flags)!=8){k.msg="unknown compression method",O.mode=30;break}if(57344&O.flags){k.msg="unknown header flags set",O.mode=30;break}O.head&&(O.head.text=B>>8&1),512&O.flags&&(le[0]=255&B,le[1]=B>>>8&255,O.check=o(O.check,le,2,0)),j=B=0,O.mode=3;case 3:for(;j<32;){if(z===0)break e;z--,B+=H[X++]<<j,j+=8}O.head&&(O.head.time=B),512&O.flags&&(le[0]=255&B,le[1]=B>>>8&255,le[2]=B>>>16&255,le[3]=B>>>24&255,O.check=o(O.check,le,4,0)),j=B=0,O.mode=4;case 4:for(;j<16;){if(z===0)break e;z--,B+=H[X++]<<j,j+=8}O.head&&(O.head.xflags=255&B,O.head.os=B>>8),512&O.flags&&(le[0]=255&B,le[1]=B>>>8&255,O.check=o(O.check,le,2,0)),j=B=0,O.mode=5;case 5:if(1024&O.flags){for(;j<16;){if(z===0)break e;z--,B+=H[X++]<<j,j+=8}O.length=B,O.head&&(O.head.extra_len=B),512&O.flags&&(le[0]=255&B,le[1]=B>>>8&255,O.check=o(O.check,le,2,0)),j=B=0}else O.head&&(O.head.extra=null);O.mode=6;case 6:if(1024&O.flags&&(z<(Y=O.length)&&(Y=z),Y&&(O.head&&(W=O.head.extra_len-O.length,O.head.extra||(O.head.extra=new Array(O.head.extra_len)),s.arraySet(O.head.extra,H,X,Y,W)),512&O.flags&&(O.check=o(O.check,H,Y,X)),z-=Y,X+=Y,O.length-=Y),O.length))break e;O.length=0,O.mode=7;case 7:if(2048&O.flags){if(z===0)break e;for(Y=0;W=H[X+Y++],O.head&&W&&O.length<65536&&(O.head.name+=String.fromCharCode(W)),W&&Y<z;);if(512&O.flags&&(O.check=o(O.check,H,Y,X)),z-=Y,X+=Y,W)break e}else O.head&&(O.head.name=null);O.length=0,O.mode=8;case 8:if(4096&O.flags){if(z===0)break e;for(Y=0;W=H[X+Y++],O.head&&W&&O.length<65536&&(O.head.comment+=String.fromCharCode(W)),W&&Y<z;);if(512&O.flags&&(O.check=o(O.check,H,Y,X)),z-=Y,X+=Y,W)break e}else O.head&&(O.head.comment=null);O.mode=9;case 9:if(512&O.flags){for(;j<16;){if(z===0)break e;z--,B+=H[X++]<<j,j+=8}if(B!==(65535&O.check)){k.msg="header crc mismatch",O.mode=30;break}j=B=0}O.head&&(O.head.hcrc=O.flags>>9&1,O.head.done=!0),k.adler=O.check=0,O.mode=12;break;case 10:for(;j<32;){if(z===0)break e;z--,B+=H[X++]<<j,j+=8}k.adler=O.check=_(B),j=B=0,O.mode=11;case 11:if(O.havedict===0)return k.next_out=Z,k.avail_out=Q,k.next_in=X,k.avail_in=z,O.hold=B,O.bits=j,2;k.adler=O.check=1,O.mode=12;case 12:if(U===5||U===6)break e;case 13:if(O.last){B>>>=7&j,j-=7&j,O.mode=27;break}for(;j<3;){if(z===0)break e;z--,B+=H[X++]<<j,j+=8}switch(O.last=1&B,j-=1,3&(B>>>=1)){case 0:O.mode=14;break;case 1:if(F(O),O.mode=20,U!==6)break;B>>>=2,j-=2;break e;case 2:O.mode=17;break;case 3:k.msg="invalid block type",O.mode=30}B>>>=2,j-=2;break;case 14:for(B>>>=7&j,j-=7&j;j<32;){if(z===0)break e;z--,B+=H[X++]<<j,j+=8}if((65535&B)!=(B>>>16^65535)){k.msg="invalid stored block lengths",O.mode=30;break}if(O.length=65535&B,j=B=0,O.mode=15,U===6)break e;case 15:O.mode=16;case 16:if(Y=O.length){if(z<Y&&(Y=z),Q<Y&&(Y=Q),Y===0)break e;s.arraySet(G,H,X,Y,Z),z-=Y,X+=Y,Q-=Y,Z+=Y,O.length-=Y;break}O.mode=12;break;case 17:for(;j<14;){if(z===0)break e;z--,B+=H[X++]<<j,j+=8}if(O.nlen=257+(31&B),B>>>=5,j-=5,O.ndist=1+(31&B),B>>>=5,j-=5,O.ncode=4+(15&B),B>>>=4,j-=4,286<O.nlen||30<O.ndist){k.msg="too many length or distance symbols",O.mode=30;break}O.have=0,O.mode=18;case 18:for(;O.have<O.ncode;){for(;j<3;){if(z===0)break e;z--,B+=H[X++]<<j,j+=8}O.lens[ke[O.have++]]=7&B,B>>>=3,j-=3}for(;O.have<19;)O.lens[ke[O.have++]]=0;if(O.lencode=O.lendyn,O.lenbits=7,_e={bits:O.lenbits},ge=c(0,O.lens,0,19,O.lencode,0,O.work,_e),O.lenbits=_e.bits,ge){k.msg="invalid code lengths set",O.mode=30;break}O.have=0,O.mode=19;case 19:for(;O.have<O.nlen+O.ndist;){for(;fe=(re=O.lencode[B&(1<<O.lenbits)-1])>>>16&255,Ce=65535&re,!((de=re>>>24)<=j);){if(z===0)break e;z--,B+=H[X++]<<j,j+=8}if(Ce<16)B>>>=de,j-=de,O.lens[O.have++]=Ce;else{if(Ce===16){for(ce=de+2;j<ce;){if(z===0)break e;z--,B+=H[X++]<<j,j+=8}if(B>>>=de,j-=de,O.have===0){k.msg="invalid bit length repeat",O.mode=30;break}W=O.lens[O.have-1],Y=3+(3&B),B>>>=2,j-=2}else if(Ce===17){for(ce=de+3;j<ce;){if(z===0)break e;z--,B+=H[X++]<<j,j+=8}j-=de,W=0,Y=3+(7&(B>>>=de)),B>>>=3,j-=3}else{for(ce=de+7;j<ce;){if(z===0)break e;z--,B+=H[X++]<<j,j+=8}j-=de,W=0,Y=11+(127&(B>>>=de)),B>>>=7,j-=7}if(O.have+Y>O.nlen+O.ndist){k.msg="invalid bit length repeat",O.mode=30;break}for(;Y--;)O.lens[O.have++]=W}}if(O.mode===30)break;if(O.lens[256]===0){k.msg="invalid code -- missing end-of-block",O.mode=30;break}if(O.lenbits=9,_e={bits:O.lenbits},ge=c(u,O.lens,0,O.nlen,O.lencode,0,O.work,_e),O.lenbits=_e.bits,ge){k.msg="invalid literal/lengths set",O.mode=30;break}if(O.distbits=6,O.distcode=O.distdyn,_e={bits:O.distbits},ge=c(f,O.lens,O.nlen,O.ndist,O.distcode,0,O.work,_e),O.distbits=_e.bits,ge){k.msg="invalid distances set",O.mode=30;break}if(O.mode=20,U===6)break e;case 20:O.mode=21;case 21:if(6<=z&&258<=Q){k.next_out=Z,k.avail_out=Q,k.next_in=X,k.avail_in=z,O.hold=B,O.bits=j,l(k,J),Z=k.next_out,G=k.output,Q=k.avail_out,X=k.next_in,H=k.input,z=k.avail_in,B=O.hold,j=O.bits,O.mode===12&&(O.back=-1);break}for(O.back=0;fe=(re=O.lencode[B&(1<<O.lenbits)-1])>>>16&255,Ce=65535&re,!((de=re>>>24)<=j);){if(z===0)break e;z--,B+=H[X++]<<j,j+=8}if(fe&&(240&fe)==0){for(Pe=de,pe=fe,Me=Ce;fe=(re=O.lencode[Me+((B&(1<<Pe+pe)-1)>>Pe)])>>>16&255,Ce=65535&re,!(Pe+(de=re>>>24)<=j);){if(z===0)break e;z--,B+=H[X++]<<j,j+=8}B>>>=Pe,j-=Pe,O.back+=Pe}if(B>>>=de,j-=de,O.back+=de,O.length=Ce,fe===0){O.mode=26;break}if(32&fe){O.back=-1,O.mode=12;break}if(64&fe){k.msg="invalid literal/length code",O.mode=30;break}O.extra=15&fe,O.mode=22;case 22:if(O.extra){for(ce=O.extra;j<ce;){if(z===0)break e;z--,B+=H[X++]<<j,j+=8}O.length+=B&(1<<O.extra)-1,B>>>=O.extra,j-=O.extra,O.back+=O.extra}O.was=O.length,O.mode=23;case 23:for(;fe=(re=O.distcode[B&(1<<O.distbits)-1])>>>16&255,Ce=65535&re,!((de=re>>>24)<=j);){if(z===0)break e;z--,B+=H[X++]<<j,j+=8}if((240&fe)==0){for(Pe=de,pe=fe,Me=Ce;fe=(re=O.distcode[Me+((B&(1<<Pe+pe)-1)>>Pe)])>>>16&255,Ce=65535&re,!(Pe+(de=re>>>24)<=j);){if(z===0)break e;z--,B+=H[X++]<<j,j+=8}B>>>=Pe,j-=Pe,O.back+=Pe}if(B>>>=de,j-=de,O.back+=de,64&fe){k.msg="invalid distance code",O.mode=30;break}O.offset=Ce,O.extra=15&fe,O.mode=24;case 24:if(O.extra){for(ce=O.extra;j<ce;){if(z===0)break e;z--,B+=H[X++]<<j,j+=8}O.offset+=B&(1<<O.extra)-1,B>>>=O.extra,j-=O.extra,O.back+=O.extra}if(O.offset>O.dmax){k.msg="invalid distance too far back",O.mode=30;break}O.mode=25;case 25:if(Q===0)break e;if(Y=J-Q,O.offset>Y){if((Y=O.offset-Y)>O.whave&&O.sane){k.msg="invalid distance too far back",O.mode=30;break}te=Y>O.wnext?(Y-=O.wnext,O.wsize-Y):O.wnext-Y,Y>O.length&&(Y=O.length),oe=O.window}else oe=G,te=Z-O.offset,Y=O.length;for(Q<Y&&(Y=Q),Q-=Y,O.length-=Y;G[Z++]=oe[te++],--Y;);O.length===0&&(O.mode=21);break;case 26:if(Q===0)break e;G[Z++]=O.length,Q--,O.mode=21;break;case 27:if(O.wrap){for(;j<32;){if(z===0)break e;z--,B|=H[X++]<<j,j+=8}if(J-=Q,k.total_out+=J,O.total+=J,J&&(k.adler=O.check=O.flags?o(O.check,G,J,Z-J):a(O.check,G,J,Z-J)),J=Q,(O.flags?B:_(B))!==O.check){k.msg="incorrect data check",O.mode=30;break}j=B=0}O.mode=28;case 28:if(O.wrap&&O.flags){for(;j<32;){if(z===0)break e;z--,B+=H[X++]<<j,j+=8}if(B!==(4294967295&O.total)){k.msg="incorrect length check",O.mode=30;break}j=B=0}O.mode=29;case 29:ge=1;break e;case 30:ge=-3;break e;case 31:return-4;case 32:default:return p}return k.next_out=Z,k.avail_out=Q,k.next_in=X,k.avail_in=z,O.hold=B,O.bits=j,(O.wsize||J!==k.avail_out&&O.mode<30&&(O.mode<27||U!==4))&&P(k,k.output,k.next_out,J-k.avail_out)?(O.mode=31,-4):(q-=k.avail_in,J-=k.avail_out,k.total_in+=q,k.total_out+=J,O.total+=J,O.wrap&&J&&(k.adler=O.check=O.flags?o(O.check,G,J,k.next_out-J):a(O.check,G,J,k.next_out-J)),k.data_type=O.bits+(O.last?64:0)+(O.mode===12?128:0)+(O.mode===20||O.mode===15?256:0),(q==0&&J===0||U===4)&&ge===h&&(ge=-5),ge)},i.inflateEnd=function(k){if(!k||!k.state)return p;var U=k.state;return U.window&&(U.window=null),k.state=null,h},i.inflateGetHeader=function(k,U){var O;return k&&k.state?(2&(O=k.state).wrap)==0?p:((O.head=U).done=!1,h):p},i.inflateSetDictionary=function(k,U){var O,H=U.length;return k&&k.state?(O=k.state).wrap!==0&&O.mode!==11?p:O.mode===11&&a(1,U,H,0)!==O.check?-3:P(k,U,H,H)?(O.mode=31,-4):(O.havedict=1,h):p},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var s=n("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(u,f,h,p,v,g,y,_){var x,w,C,S,R,D,N,I,F,P=_.bits,k=0,U=0,O=0,H=0,G=0,X=0,Z=0,z=0,Q=0,B=0,j=null,q=0,J=new s.Buf16(16),Y=new s.Buf16(16),te=null,oe=0;for(k=0;k<=15;k++)J[k]=0;for(U=0;U<p;U++)J[f[h+U]]++;for(G=P,H=15;1<=H&&J[H]===0;H--);if(H<G&&(G=H),H===0)return v[g++]=20971520,v[g++]=20971520,_.bits=1,0;for(O=1;O<H&&J[O]===0;O++);for(G<O&&(G=O),k=z=1;k<=15;k++)if(z<<=1,(z-=J[k])<0)return-1;if(0<z&&(u===0||H!==1))return-1;for(Y[1]=0,k=1;k<15;k++)Y[k+1]=Y[k]+J[k];for(U=0;U<p;U++)f[h+U]!==0&&(y[Y[f[h+U]]++]=U);if(D=u===0?(j=te=y,19):u===1?(j=a,q-=257,te=o,oe-=257,256):(j=l,te=c,-1),k=O,R=g,Z=U=B=0,C=-1,S=(Q=1<<(X=G))-1,u===1&&852<Q||u===2&&592<Q)return 1;for(;;){for(N=k-Z,F=y[U]<D?(I=0,y[U]):y[U]>D?(I=te[oe+y[U]],j[q+y[U]]):(I=96,0),x=1<<k-Z,O=w=1<<X;v[R+(B>>Z)+(w-=x)]=N<<24|I<<16|F|0,w!==0;);for(x=1<<k-1;B&x;)x>>=1;if(x!==0?(B&=x-1,B+=x):B=0,U++,--J[k]==0){if(k===H)break;k=f[h+y[U]]}if(G<k&&(B&S)!==C){for(Z===0&&(Z=G),R+=O,z=1<<(X=k-Z);X+Z<H&&!((z-=J[X+Z])<=0);)X++,z<<=1;if(Q+=1<<X,u===1&&852<Q||u===2&&592<Q)return 1;v[C=B&S]=G<<24|X<<16|R-g|0}}return B!==0&&(v[R+B]=k-Z<<24|64<<16|0),_.bits=G,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var s=n("../utils/common"),a=0,o=1;function l(re){for(var le=re.length;0<=--le;)re[le]=0}var c=0,u=29,f=256,h=f+1+u,p=30,v=19,g=2*h+1,y=15,_=16,x=7,w=256,C=16,S=17,R=18,D=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],N=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],P=new Array(2*(h+2));l(P);var k=new Array(2*p);l(k);var U=new Array(512);l(U);var O=new Array(256);l(O);var H=new Array(u);l(H);var G,X,Z,z=new Array(p);function Q(re,le,ke,Ne,ie){this.static_tree=re,this.extra_bits=le,this.extra_base=ke,this.elems=Ne,this.max_length=ie,this.has_stree=re&&re.length}function B(re,le){this.dyn_tree=re,this.max_code=0,this.stat_desc=le}function j(re){return re<256?U[re]:U[256+(re>>>7)]}function q(re,le){re.pending_buf[re.pending++]=255&le,re.pending_buf[re.pending++]=le>>>8&255}function J(re,le,ke){re.bi_valid>_-ke?(re.bi_buf|=le<<re.bi_valid&65535,q(re,re.bi_buf),re.bi_buf=le>>_-re.bi_valid,re.bi_valid+=ke-_):(re.bi_buf|=le<<re.bi_valid&65535,re.bi_valid+=ke)}function Y(re,le,ke){J(re,ke[2*le],ke[2*le+1])}function te(re,le){for(var ke=0;ke|=1&re,re>>>=1,ke<<=1,0<--le;);return ke>>>1}function oe(re,le,ke){var Ne,ie,ue=new Array(y+1),ve=0;for(Ne=1;Ne<=y;Ne++)ue[Ne]=ve=ve+ke[Ne-1]<<1;for(ie=0;ie<=le;ie++){var be=re[2*ie+1];be!==0&&(re[2*ie]=te(ue[be]++,be))}}function de(re){var le;for(le=0;le<h;le++)re.dyn_ltree[2*le]=0;for(le=0;le<p;le++)re.dyn_dtree[2*le]=0;for(le=0;le<v;le++)re.bl_tree[2*le]=0;re.dyn_ltree[2*w]=1,re.opt_len=re.static_len=0,re.last_lit=re.matches=0}function fe(re){8<re.bi_valid?q(re,re.bi_buf):0<re.bi_valid&&(re.pending_buf[re.pending++]=re.bi_buf),re.bi_buf=0,re.bi_valid=0}function Ce(re,le,ke,Ne){var ie=2*le,ue=2*ke;return re[ie]<re[ue]||re[ie]===re[ue]&&Ne[le]<=Ne[ke]}function Pe(re,le,ke){for(var Ne=re.heap[ke],ie=ke<<1;ie<=re.heap_len&&(ie<re.heap_len&&Ce(le,re.heap[ie+1],re.heap[ie],re.depth)&&ie++,!Ce(le,Ne,re.heap[ie],re.depth));)re.heap[ke]=re.heap[ie],ke=ie,ie<<=1;re.heap[ke]=Ne}function pe(re,le,ke){var Ne,ie,ue,ve,be=0;if(re.last_lit!==0)for(;Ne=re.pending_buf[re.d_buf+2*be]<<8|re.pending_buf[re.d_buf+2*be+1],ie=re.pending_buf[re.l_buf+be],be++,Ne===0?Y(re,ie,le):(Y(re,(ue=O[ie])+f+1,le),(ve=D[ue])!==0&&J(re,ie-=H[ue],ve),Y(re,ue=j(--Ne),ke),(ve=N[ue])!==0&&J(re,Ne-=z[ue],ve)),be<re.last_lit;);Y(re,w,le)}function Me(re,le){var ke,Ne,ie,ue=le.dyn_tree,ve=le.stat_desc.static_tree,be=le.stat_desc.has_stree,Ie=le.stat_desc.elems,Le=-1;for(re.heap_len=0,re.heap_max=g,ke=0;ke<Ie;ke++)ue[2*ke]!==0?(re.heap[++re.heap_len]=Le=ke,re.depth[ke]=0):ue[2*ke+1]=0;for(;re.heap_len<2;)ue[2*(ie=re.heap[++re.heap_len]=Le<2?++Le:0)]=1,re.depth[ie]=0,re.opt_len--,be&&(re.static_len-=ve[2*ie+1]);for(le.max_code=Le,ke=re.heap_len>>1;1<=ke;ke--)Pe(re,ue,ke);for(ie=Ie;ke=re.heap[1],re.heap[1]=re.heap[re.heap_len--],Pe(re,ue,1),Ne=re.heap[1],re.heap[--re.heap_max]=ke,re.heap[--re.heap_max]=Ne,ue[2*ie]=ue[2*ke]+ue[2*Ne],re.depth[ie]=(re.depth[ke]>=re.depth[Ne]?re.depth[ke]:re.depth[Ne])+1,ue[2*ke+1]=ue[2*Ne+1]=ie,re.heap[1]=ie++,Pe(re,ue,1),2<=re.heap_len;);re.heap[--re.heap_max]=re.heap[1],(function(Te,Ue){var Oe,Je,ot,lt,Bt,fn,ln=Ue.dyn_tree,Kn=Ue.max_code,Rn=Ue.stat_desc.static_tree,Vn=Ue.stat_desc.has_stree,yn=Ue.stat_desc.extra_bits,It=Ue.stat_desc.extra_base,We=Ue.stat_desc.max_length,se=0;for(lt=0;lt<=y;lt++)Te.bl_count[lt]=0;for(ln[2*Te.heap[Te.heap_max]+1]=0,Oe=Te.heap_max+1;Oe<g;Oe++)We<(lt=ln[2*ln[2*(Je=Te.heap[Oe])+1]+1]+1)&&(lt=We,se++),ln[2*Je+1]=lt,Kn<Je||(Te.bl_count[lt]++,Bt=0,It<=Je&&(Bt=yn[Je-It]),fn=ln[2*Je],Te.opt_len+=fn*(lt+Bt),Vn&&(Te.static_len+=fn*(Rn[2*Je+1]+Bt)));if(se!==0){do{for(lt=We-1;Te.bl_count[lt]===0;)lt--;Te.bl_count[lt]--,Te.bl_count[lt+1]+=2,Te.bl_count[We]--,se-=2}while(0<se);for(lt=We;lt!==0;lt--)for(Je=Te.bl_count[lt];Je!==0;)Kn<(ot=Te.heap[--Oe])||(ln[2*ot+1]!==lt&&(Te.opt_len+=(lt-ln[2*ot+1])*ln[2*ot],ln[2*ot+1]=lt),Je--)}})(re,le),oe(ue,Le,re.bl_count)}function W(re,le,ke){var Ne,ie,ue=-1,ve=le[1],be=0,Ie=7,Le=4;for(ve===0&&(Ie=138,Le=3),le[2*(ke+1)+1]=65535,Ne=0;Ne<=ke;Ne++)ie=ve,ve=le[2*(Ne+1)+1],++be<Ie&&ie===ve||(be<Le?re.bl_tree[2*ie]+=be:ie!==0?(ie!==ue&&re.bl_tree[2*ie]++,re.bl_tree[2*C]++):be<=10?re.bl_tree[2*S]++:re.bl_tree[2*R]++,ue=ie,Le=(be=0)===ve?(Ie=138,3):ie===ve?(Ie=6,3):(Ie=7,4))}function ge(re,le,ke){var Ne,ie,ue=-1,ve=le[1],be=0,Ie=7,Le=4;for(ve===0&&(Ie=138,Le=3),Ne=0;Ne<=ke;Ne++)if(ie=ve,ve=le[2*(Ne+1)+1],!(++be<Ie&&ie===ve)){if(be<Le)for(;Y(re,ie,re.bl_tree),--be!=0;);else ie!==0?(ie!==ue&&(Y(re,ie,re.bl_tree),be--),Y(re,C,re.bl_tree),J(re,be-3,2)):be<=10?(Y(re,S,re.bl_tree),J(re,be-3,3)):(Y(re,R,re.bl_tree),J(re,be-11,7));ue=ie,Le=(be=0)===ve?(Ie=138,3):ie===ve?(Ie=6,3):(Ie=7,4)}}l(z);var _e=!1;function ce(re,le,ke,Ne){J(re,(c<<1)+(Ne?1:0),3),(function(ie,ue,ve,be){fe(ie),q(ie,ve),q(ie,~ve),s.arraySet(ie.pending_buf,ie.window,ue,ve,ie.pending),ie.pending+=ve})(re,le,ke)}i._tr_init=function(re){_e||((function(){var le,ke,Ne,ie,ue,ve=new Array(y+1);for(ie=Ne=0;ie<u-1;ie++)for(H[ie]=Ne,le=0;le<1<<D[ie];le++)O[Ne++]=ie;for(O[Ne-1]=ie,ie=ue=0;ie<16;ie++)for(z[ie]=ue,le=0;le<1<<N[ie];le++)U[ue++]=ie;for(ue>>=7;ie<p;ie++)for(z[ie]=ue<<7,le=0;le<1<<N[ie]-7;le++)U[256+ue++]=ie;for(ke=0;ke<=y;ke++)ve[ke]=0;for(le=0;le<=143;)P[2*le+1]=8,le++,ve[8]++;for(;le<=255;)P[2*le+1]=9,le++,ve[9]++;for(;le<=279;)P[2*le+1]=7,le++,ve[7]++;for(;le<=287;)P[2*le+1]=8,le++,ve[8]++;for(oe(P,h+1,ve),le=0;le<p;le++)k[2*le+1]=5,k[2*le]=te(le,5);G=new Q(P,D,f+1,h,y),X=new Q(k,N,0,p,y),Z=new Q(new Array(0),I,0,v,x)})(),_e=!0),re.l_desc=new B(re.dyn_ltree,G),re.d_desc=new B(re.dyn_dtree,X),re.bl_desc=new B(re.bl_tree,Z),re.bi_buf=0,re.bi_valid=0,de(re)},i._tr_stored_block=ce,i._tr_flush_block=function(re,le,ke,Ne){var ie,ue,ve=0;0<re.level?(re.strm.data_type===2&&(re.strm.data_type=(function(be){var Ie,Le=4093624447;for(Ie=0;Ie<=31;Ie++,Le>>>=1)if(1&Le&&be.dyn_ltree[2*Ie]!==0)return a;if(be.dyn_ltree[18]!==0||be.dyn_ltree[20]!==0||be.dyn_ltree[26]!==0)return o;for(Ie=32;Ie<f;Ie++)if(be.dyn_ltree[2*Ie]!==0)return o;return a})(re)),Me(re,re.l_desc),Me(re,re.d_desc),ve=(function(be){var Ie;for(W(be,be.dyn_ltree,be.l_desc.max_code),W(be,be.dyn_dtree,be.d_desc.max_code),Me(be,be.bl_desc),Ie=v-1;3<=Ie&&be.bl_tree[2*F[Ie]+1]===0;Ie--);return be.opt_len+=3*(Ie+1)+5+5+4,Ie})(re),ie=re.opt_len+3+7>>>3,(ue=re.static_len+3+7>>>3)<=ie&&(ie=ue)):ie=ue=ke+5,ke+4<=ie&&le!==-1?ce(re,le,ke,Ne):re.strategy===4||ue===ie?(J(re,2+(Ne?1:0),3),pe(re,P,k)):(J(re,4+(Ne?1:0),3),(function(be,Ie,Le,Te){var Ue;for(J(be,Ie-257,5),J(be,Le-1,5),J(be,Te-4,4),Ue=0;Ue<Te;Ue++)J(be,be.bl_tree[2*F[Ue]+1],3);ge(be,be.dyn_ltree,Ie-1),ge(be,be.dyn_dtree,Le-1)})(re,re.l_desc.max_code+1,re.d_desc.max_code+1,ve+1),pe(re,re.dyn_ltree,re.dyn_dtree)),de(re),Ne&&fe(re)},i._tr_tally=function(re,le,ke){return re.pending_buf[re.d_buf+2*re.last_lit]=le>>>8&255,re.pending_buf[re.d_buf+2*re.last_lit+1]=255&le,re.pending_buf[re.l_buf+re.last_lit]=255&ke,re.last_lit++,le===0?re.dyn_ltree[2*ke]++:(re.matches++,le--,re.dyn_ltree[2*(O[ke]+f+1)]++,re.dyn_dtree[2*j(le)]++),re.last_lit===re.lit_bufsize-1},i._tr_align=function(re){J(re,2,3),Y(re,w,P),(function(le){le.bi_valid===16?(q(le,le.bi_buf),le.bi_buf=0,le.bi_valid=0):8<=le.bi_valid&&(le.pending_buf[le.pending++]=255&le.bi_buf,le.bi_buf>>=8,le.bi_valid-=8)})(re)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(s){(function(a,o){if(!a.setImmediate){var l,c,u,f,h=1,p={},v=!1,g=a.document,y=Object.getPrototypeOf&&Object.getPrototypeOf(a);y=y&&y.setTimeout?y:a,l={}.toString.call(a.process)==="[object process]"?function(C){process.nextTick(function(){x(C)})}:(function(){if(a.postMessage&&!a.importScripts){var C=!0,S=a.onmessage;return a.onmessage=function(){C=!1},a.postMessage("","*"),a.onmessage=S,C}})()?(f="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",w,!1):a.attachEvent("onmessage",w),function(C){a.postMessage(f+C,"*")}):a.MessageChannel?((u=new MessageChannel).port1.onmessage=function(C){x(C.data)},function(C){u.port2.postMessage(C)}):g&&"onreadystatechange"in g.createElement("script")?(c=g.documentElement,function(C){var S=g.createElement("script");S.onreadystatechange=function(){x(C),S.onreadystatechange=null,c.removeChild(S),S=null},c.appendChild(S)}):function(C){setTimeout(x,0,C)},y.setImmediate=function(C){typeof C!="function"&&(C=new Function(""+C));for(var S=new Array(arguments.length-1),R=0;R<S.length;R++)S[R]=arguments[R+1];var D={callback:C,args:S};return p[h]=D,l(h),h++},y.clearImmediate=_}function _(C){delete p[C]}function x(C){if(v)setTimeout(x,0,C);else{var S=p[C];if(S){v=!0;try{(function(R){var D=R.callback,N=R.args;switch(N.length){case 0:D();break;case 1:D(N[0]);break;case 2:D(N[0],N[1]);break;case 3:D(N[0],N[1],N[2]);break;default:D.apply(o,N)}})(S)}finally{_(C),v=!1}}}}function w(C){C.source===a&&typeof C.data=="string"&&C.data.indexOf(f)===0&&x(+C.data.slice(f.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof Ds<"u"?Ds:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(bC)),bC.exports}var xme=kH();const Sp=d_(xme),Wc=t=>{switch(t){case"us":case"ca":case"gb":return"en";case"fr":return"fr";case"de":return"de";case"es":return"es";case"tr":return"tr";case"jp":return"ja";default:return"ar"}},Au=[{code:"ar",name:""},{code:"en",name:"English"},{code:"fr",name:"Franais"},{code:"es",name:"Espaol"},{code:"de",name:"Deutsch"},{code:"it",name:"Italiano"},{code:"pt",name:"Portugus"},{code:"ru",name:""},{code:"ja",name:""},{code:"tr",name:"Trke"}],Ir={ar:[{code:"dz",name:"",flag:"",phoneCode:"+213"},{code:"sa",name:"",flag:"",phoneCode:"+966"},{code:"ae",name:"",flag:"",phoneCode:"+971"},{code:"eg",name:"",flag:"",phoneCode:"+20"},{code:"ma",name:"",flag:"",phoneCode:"+212"},{code:"tn",name:"",flag:"",phoneCode:"+216"},{code:"iq",name:"",flag:"",phoneCode:"+964"},{code:"jo",name:"",flag:"",phoneCode:"+962"},{code:"kw",name:"",flag:"",phoneCode:"+965"},{code:"lb",name:"",flag:"",phoneCode:"+961"},{code:"ly",name:"",flag:"",phoneCode:"+218"},{code:"om",name:"",flag:"",phoneCode:"+968"},{code:"qa",name:"",flag:"",phoneCode:"+974"},{code:"sd",name:"",flag:"",phoneCode:"+249"},{code:"sy",name:"",flag:"",phoneCode:"+963"},{code:"ye",name:"",flag:"",phoneCode:"+967"},{code:"bh",name:"",flag:"",phoneCode:"+973"},{code:"km",name:" ",flag:"",phoneCode:"+269"},{code:"dj",name:"",flag:"",phoneCode:"+253"},{code:"mr",name:"",flag:"",phoneCode:"+222"},{code:"ps",name:"",flag:"",phoneCode:"+970"},{code:"so",name:"",flag:"",phoneCode:"+252"},{code:"us",name:" ",flag:"",phoneCode:"+1"},{code:"fr",name:"",flag:"",phoneCode:"+33"},{code:"gb",name:" ",flag:"",phoneCode:"+44"},{code:"ca",name:"",flag:"",phoneCode:"+1"},{code:"de",name:"",flag:"",phoneCode:"+49"},{code:"es",name:"",flag:"",phoneCode:"+34"},{code:"tr",name:"",flag:"",phoneCode:"+90"},{code:"jp",name:"",flag:"",phoneCode:"+81"}],en:[{code:"dz",name:"Algeria",flag:"",phoneCode:"+213"},{code:"sa",name:"Saudi Arabia",flag:"",phoneCode:"+966"},{code:"ae",name:"United Arab Emirates",flag:"",phoneCode:"+971"},{code:"eg",name:"Egypt",flag:"",phoneCode:"+20"},{code:"ma",name:"Morocco",flag:"",phoneCode:"+212"},{code:"tn",name:"Tunisia",flag:"",phoneCode:"+216"},{code:"iq",name:"Iraq",flag:"",phoneCode:"+964"},{code:"jo",name:"Jordan",flag:"",phoneCode:"+962"},{code:"kw",name:"Kuwait",flag:"",phoneCode:"+965"},{code:"lb",name:"Lebanon",flag:"",phoneCode:"+961"},{code:"ly",name:"Libya",flag:"",phoneCode:"+218"},{code:"om",name:"Oman",flag:"",phoneCode:"+968"},{code:"qa",name:"Qatar",flag:"",phoneCode:"+974"},{code:"sd",name:"Sudan",flag:"",phoneCode:"+249"},{code:"sy",name:"Syria",flag:"",phoneCode:"+963"},{code:"ye",name:"Yemen",flag:"",phoneCode:"+967"},{code:"bh",name:"Bahrain",flag:"",phoneCode:"+973"},{code:"km",name:"Comoros",flag:"",phoneCode:"+269"},{code:"dj",name:"Djibouti",flag:"",phoneCode:"+253"},{code:"mr",name:"Mauritania",flag:"",phoneCode:"+222"},{code:"ps",name:"Palestine",flag:"",phoneCode:"+970"},{code:"so",name:"Somalia",flag:"",phoneCode:"+252"},{code:"us",name:"United States",flag:"",phoneCode:"+1"},{code:"fr",name:"France",flag:"",phoneCode:"+33"},{code:"gb",name:"United Kingdom",flag:"",phoneCode:"+44"},{code:"ca",name:"Canada",flag:"",phoneCode:"+1"},{code:"de",name:"Germany",flag:"",phoneCode:"+49"},{code:"es",name:"Spain",flag:"",phoneCode:"+34"},{code:"tr",name:"Turkey",flag:"",phoneCode:"+90"},{code:"jp",name:"Japan",flag:"",phoneCode:"+81"}],fr:[{code:"dz",name:"Algrie",flag:"",phoneCode:"+213"},{code:"sa",name:"Arabie Saoudite",flag:"",phoneCode:"+966"},{code:"ae",name:"mirats Arabes Unis",flag:"",phoneCode:"+971"},{code:"eg",name:"gypte",flag:"",phoneCode:"+20"},{code:"ma",name:"Maroc",flag:"",phoneCode:"+212"},{code:"tn",name:"Tunisie",flag:"",phoneCode:"+216"},{code:"iq",name:"Irak",flag:"",phoneCode:"+964"},{code:"jo",name:"Jordanie",flag:"",phoneCode:"+962"},{code:"kw",name:"Kowet",flag:"",phoneCode:"+965"},{code:"lb",name:"Liban",flag:"",phoneCode:"+961"},{code:"ly",name:"Libye",flag:"",phoneCode:"+218"},{code:"om",name:"Oman",flag:"",phoneCode:"+968"},{code:"qa",name:"Qatar",flag:"",phoneCode:"+974"},{code:"sd",name:"Soudan",flag:"",phoneCode:"+249"},{code:"sy",name:"Syrie",flag:"",phoneCode:"+963"},{code:"ye",name:"Ymen",flag:"",phoneCode:"+967"},{code:"bh",name:"Bahren",flag:"",phoneCode:"+973"},{code:"km",name:"Comores",flag:"",phoneCode:"+269"},{code:"dj",name:"Djibouti",flag:"",phoneCode:"+253"},{code:"mr",name:"Mauritanie",flag:"",phoneCode:"+222"},{code:"ps",name:"Palestine",flag:"",phoneCode:"+970"},{code:"so",name:"Somalie",flag:"",phoneCode:"+252"},{code:"us",name:"tats-Unis",flag:"",phoneCode:"+1"},{code:"fr",name:"France",flag:"",phoneCode:"+33"},{code:"gb",name:"Royaume-Uni",flag:"",phoneCode:"+44"},{code:"ca",name:"Canada",flag:"",phoneCode:"+1"},{code:"de",name:"Allemagne",flag:"",phoneCode:"+49"},{code:"es",name:"Espagne",flag:"",phoneCode:"+34"},{code:"tr",name:"Turquie",flag:"",phoneCode:"+90"},{code:"jp",name:"Japon",flag:"",phoneCode:"+81"}],de:[{code:"dz",name:"Algerien",flag:"",phoneCode:"+213"},{code:"us",name:"Vereinigte Staaten",flag:"",phoneCode:"+1"},{code:"de",name:"Deutschland",flag:"",phoneCode:"+49"}],es:[{code:"dz",name:"Argelia",flag:"",phoneCode:"+213"},{code:"us",name:"Estados Unidos",flag:"",phoneCode:"+1"},{code:"es",name:"Espaa",flag:"",phoneCode:"+34"}],tr:[{code:"dz",name:"Cezayir",flag:"",phoneCode:"+213"},{code:"tr",name:"Trkiye",flag:"",phoneCode:"+90"}],ja:[{code:"dz",name:"",flag:"",phoneCode:"+213"},{code:"jp",name:"",flag:"",phoneCode:"+81"}]},up={header:{search:"Search",login:"Cafe Owner Login",dashboard:"Dashboard",logout:"Logout",allCountries:"All Countries",allCountriesSearch:"All Countries (Global Search)",selectCafeCountry:"Select Cafe Country"},footer:{blog:"Blog",services:"Services List",rightsReserved:"All rights reserved."},blog:{title:"Gitut Blog",subtitle:"Follow our latest news, updates, and helpful tips for cafe owners and document service seekers."},share:{title:"Share:",copied:"Copied!",copyDetails:"Copy details"},blogPostCard:{readMore:"Read more"},relatedServices:{title:"Related Services"},relatedPosts:{title:"Related Posts"},relatedPages:{title:"Other Pages"},app:{error:{title:"Application Error",message:"Could not load essential data. There might be a problem connecting to the server."}},cafeCard:{owner:"Owner:",address:"Address:",checkingStatus:"Checking status...",online:"Online",offline:"Offline",chooseThisCafe:"Choose this Cafe",viewDetails:"View Details & Services",startChat:"Start Chat",distanceUnit:"km"},profilePage:{backToSearch:"Back to Search",managedBy:"Managed by:",checkingStatus:"Checking status...",online:"Online",offline:"Offline",address:"Address:",description:"Description:",viewOnMap:"View on Map",step1Title:"1. Select Required Documents",step1Subtitle:"Select the documents you need. You can search for a document and add it to the list, or choose directly from the list below.",searchPlaceholder:"Search for a document to add...",searchLabel:"Search for a document to add to your list",noMatch:"No documents match your search.",step2Title:"2. Send Your Request",continueToForm:"Continue to Fill Form ({count})",similarCafes:"Similar Cafes",cafeNotFoundTitle:"Cafe Not Found",cafeNotFoundMessage:"Sorry, we couldn't find the page you're looking for.",startChat:"Start Chat",chatWith:"Chat with {name}"},confirmationPage:{title:"Your Request Has Been Sent Successfully!",subtitle:"Your information has been sent to the cafe. Please go there and provide the following code to receive your documents.",orderCodeLabel:"Your order code is:",note:"Note: Keep this code, you will need it to confirm your order with the cafe owner.",backToHome:"Back to Homepage"},formPage:{title:"Fill Out the Form",submittingTo:"You are submitting a request to",online:"Online",offline:"Offline",scanId:"Scan ID",scanIdTitle:"Scan ID card with camera",micPermissionErrorTitle:"Microphone Access Denied",micPermissionErrorMessage:"Please enable microphone access in your browser settings to use the voice input feature. You can still complete the form manually.",stepCounter:"Step {current} of {total}",navigationHint:'You can say "Next" or "Previous" to navigate between fields.',answerPlaceholder:"Answer here... e.g., {placeholder}",toggleMic:"Toggle Microphone",optionsHint:"Available options (say the number to select):",previous:"Previous",next:"Next",review:"Review",formCompleteTitle:"Form Complete!",formCompleteMessage:"Please review the data carefully before final submission.",profilePicture:"Profile Picture",backToEdit:"Back to Edit",submitFinal:"Submit Final Request",submitting:"Submitting...",errorTitle:"Request Error",errorMessage:"No documents or services were selected. Please go back and select documents first.",backToSearch:"Back to Search Page"},blogPost:{publishedOn:"Published on:",by:"By:",relatedArticles:"Other articles you might like",backToList:"Back to all articles",relatedPostsSidebar:"Related Posts",notFoundTitle:"404 - Post Not Found",notFoundMessage:"Sorry, we couldn't find the post you're looking for.",backToBlog:"Back to Blog"},searchForm:{searchByName:"Search by name...",search:"Search"},servicesListPage:{title:"Services List",fillableDocs:"Fillable Documents",staticDocs:"Printable Documents (PDF)",siteServices:"Website Services"},serviceDetailPage:{serviceNotFound:"Service Not Found",backToList:"Back to Services List",preview:"Document Preview",previousDesign:"Previous Design",nextDesign:"Next Design",loadingPreview:"Loading preview...",noPreview:"No preview is available for this document.",openInNewWindow:"Open in new window or download",instructions:"Instructions for This Design",voiceExample:"How to Record (Example):",requiredInfo:"Required information (spoken):",findCafeTitle:"Find a cafe that provides this service",searchNearest:"Search for cafes nearest to me",locating:"Locating...",resultsTitle:"Results ({count})",allCafesTitle:"Internet cafes providing this service ({count})",noResults:"No cafes match your search for all required services."},login:{title:"Cafe Owner Login",emailLabel:"Email",passwordLabel:"Password",forgotPassword:"Forgot password?",loginButton:"Login",loggingInButton:"Logging in...",noAccount:"Don't have an account?",createAccount:"Create a new account",error:{fillAllFields:"Please fill in all fields.",verifyEmail:"Please check your email to activate your account.",wrongCredentials:"The email or password is incorrect.",enterEmail:"Please enter your email address."},reset:{title:"Reset Password",emailLabel:"Registered Email",sendButton:"Send Reset Link",sendingButton:"Sending...",successMessage:"A password reset link has been sent. Please check your inbox.",errorMessage:"Failed to send email. Please try again.",backToLogin:"Back to Login"}},signup:{title:"Create a New Account",accountInfo:"Account Information",email:"Email",password:"Password",passwordPlaceholder:"At least 6 characters",confirmPassword:"Confirm Password",cafeInfo:"Cafe Information",cafeName:"Cafe's Business Name",cafeNamePlaceholder:"e.g., The Cozy Corner",ownerName:"Owner's Full Name",ownerNamePlaceholder:"e.g., John Doe",country:"Country",wilaya:"State/Province",daira:"District",commune:"City/Municipality",state:"State / Province",city:"City",street:"Street Address",loading:"Loading...",selectWilaya:"Select State",selectDaira:"Select District",selectCommune:"Select City",statePlaceholder:"e.g., California, Riyadh",cityPlaceholder:"e.g., Paris, Jeddah",streetPlaceholder:"e.g., 123 Liberty St",createButton:"Create Account & Cafe",creatingButton:"Creating...",haveAccount:"Already have an account?",loginHere:"Login here",errors:{allowedDomains:"Please use a Gmail or Microsoft email (Outlook, Hotmail, Live).",fillAllFields:"Please fill in all fields.",passwordsMismatch:"Passwords do not match.",passwordLength:"Password must be at least 6 characters.",signupFailed:"This email is already in use or a registration error occurred. Please try again."},success:{title:"Account Created Successfully!",message:"We have sent a verification link to your email",instruction:"Please click the link to activate your account before logging in.",loginButton:"Go to Login Page"}},formFields:{profilePicture:"Profile Picture",fullName:"Full Name",firstName:"First Name",lastName:"Last Name",firstNameFr:"First Name (French)",lastNameFr:"Last Name (French)",birthdaydate:"Date of Birth",birthdayplace:"Place of Birth",address:"Full Address",phone:"Phone Number",email:"Email",jobTitle:"Job Title",nationalId:"National ID Number",birthCertificateNumber:"Birth Certificate Number",socialSecurityNumber:"Social Security Number",nationality:"Nationality",maritalStatus:"Marital Status",motherFirstName:"Mother's First Name",motherLastName:"Mother's Last Name",motherDob:"Mother's Date of Birth",motherPob:"Mother's Place of Birth",fatherFirstName:"Father's First Name",fatherLastName:"Father's Last Name",fatherDob:"Father's Date of Birth",fatherPob:"Father's Place of Birth",residenceWilaya:"State of Residence",residenceDaira:"District of Residence",residenceCommune:"City of Residence",residenceStreet:"Street of Residence",birthWilaya:"State of Birth",birthDaira:"District of Birth",birthCommune:"City of Birth",bloodType:"Blood Type",dateToday:"Today's Date",gender:"Gender",height:"Height (cm)",eyeColor:"Eye Color",distinguishingMarks:"Distinguishing Marks",employerName:"Name of the employing institution",employerAddress:"Employer Address",educationLevel:"Education Level",universityName:"University Name",graduationDate:"Graduation Date",fieldOfStudy:"Field of Study",higherInstituteName:"Higher Institute Name",vocationalTrainingCenterName:"Vocational Training Center Name",schoolName:"School Name",highSchoolName:"High School Name",middleSchoolName:"Middle School Name",universityCity:"University City",passportNumber:"Passport Number",passportIssueDate:"Passport Issue Date",passportExpiryDate:"Passport Expiry Date",passportIssuePlace:"Passport Place of Issue",drivingLicenseNumber:"Driver's License Number",drivingLicenseCategory:"Driver's License Category",drivingLicenseIssueDate:"Driver's License Issue Date",numberOfChildren:"Number of Children",spouseFullName:"Spouse's Full Name",spouseDob:"Spouse's Date of Birth",spouseJob:"Spouse's Job",militaryStatus:"Military Service Status",submissionWilaya:"Submission Province",submissionDaira:"Submission District",submissionCommune:"Submission Municipality",employerWilaya:"Employer's Province",employerDaira:"Employer's District",employerCommune:"Employer's Municipality",criminalRecordNumber:"Criminal Record Number",criminalRecordIssueDate:"Criminal Record Issue Date",criminalRecordIssuePlace:"Criminal Record Issue Place",commercialRegistryNumber:"Commercial Registry Number",taxIdNumber:"Tax ID Number (NIF)",casnosNumber:"CASNOS Number",vehicleRegistrationCardNumber:"Vehicle Registration Card Number",vehicleType:"Vehicle Type",vehicleBrand:"Vehicle Brand",vehicleModel:"Vehicle Model",vehicleFirstRegistrationDate:"Vehicle First Registration Date",bankName:"Bank Name",bankAccountNumber:"Bank Account Number (RIB)",bankAgencyName:"Bank Agency Name",bankAgencyCode:"Bank Agency Code",employmentContractType:"Employment Contract Type",employmentStartDate:"Employment Start Date",employeeIdNumber:"Employee ID Number",professionalGrade:"Professional Grade/Rank",nationalIdIssueDate:"National ID Issue Date",nationalIdExpiryDate:"National ID Expiry Date",drivingLicenseExpiryDate:"Driving License Expiry Date",familyBookNumber:"Family Book Number",marriageDate:"Marriage Date",marriagePlace:"Place of Marriage",rentalContractNumber:"Rental Contract Number",landlordName:"Landlord Full Name",propertyAddress:"Property Address",attendingPhysicianName:"Attending Physician Name",currentTime:"Current Time",currentYear:"Current Year",documentName:"Document Name",age:"Age",fullDateLongAr:"Full Date (Arabic)",hijriDate:"Hijri Date",placeholders:{profilePicture:"Choose a profile picture",fullName:"e.g., John Doe",firstName:"e.g., John",lastName:"e.g., Doe",firstNameFr:"e.g., John",lastNameFr:"e.g., Doe",birthdayplace:"e.g., New York",address:"e.g., 123 Liberty St, New York",phone:"e.g., 555-123-4567",email:"e.g., user@example.com",jobTitle:"e.g., Engineer, Student",nationalId:"e.g., 123456789012345678",birthCertificateNumber:"e.g., 1990/00123",socialSecurityNumber:"e.g., 123456789012",nationality:"e.g., American",maritalStatus:"Select status",motherFirstName:"Person's mother's first name",motherLastName:"Person's mother's last name",motherPob:"Mother's place of birth",fatherFirstName:"Person's father's first name",fatherLastName:"Person's father's last name",fatherPob:"Father's place of birth",residenceWilaya:"e.g., California",residenceDaira:"e.g., Los Angeles County",residenceCommune:"e.g., Los Angeles",residenceStreet:"e.g., Rodeo Drive",birthWilaya:"e.g., Texas",birthDaira:"e.g., Harris County",birthCommune:"e.g., Houston",bloodType:"e.g., O+",gender:"Select gender",height:"e.g., 175",eyeColor:"e.g., Brown",distinguishingMarks:"e.g., Scar on left cheek",employerName:"e.g., Acme Corporation",employerAddress:"e.g., 123 Main St, Anytown",educationLevel:"Select level",universityName:"e.g., University of Technology",fieldOfStudy:"e.g., Computer Science",higherInstituteName:"e.g., Higher Institute of Technology",vocationalTrainingCenterName:"e.g., Vocational Training Center of Hussein Dey",schoolName:"e.g., Biskri Brothers School",highSchoolName:"e.g., Colonel Lotfi High School",middleSchoolName:"e.g., Ibn Khaldoun Middle School",universityCity:"e.g., Oran",passportNumber:"e.g., 12345ABC",passportIssuePlace:"e.g., Anytown",drivingLicenseNumber:"e.g., 123456789",drivingLicenseCategory:"e.g., B",numberOfChildren:"e.g., 2",spouseFullName:"e.g., Jane Doe",spouseJob:"e.g., Doctor",militaryStatus:"e.g., Completed, Exempt, Deferred",submissionWilaya:"e.g., Algiers",submissionDaira:"e.g., Sidi M'Hamed",submissionCommune:"e.g., Alger Centre",employerWilaya:"e.g., Oran",employerDaira:"e.g., Oran",employerCommune:"e.g., Oran",criminalRecordNumber:"e.g., 123/2024",criminalRecordIssuePlace:"e.g., Court of Sidi M'Hamed",commercialRegistryNumber:"e.g., 16/00-1234567 A 24",taxIdNumber:"e.g., 123456789012345",casnosNumber:"e.g., 123456789012",vehicleRegistrationCardNumber:"e.g., 12345 123 16",vehicleType:"e.g., Tourism",vehicleBrand:"e.g., Renault",vehicleModel:"e.g., Clio 4",bankName:"e.g., Bank of America",bankAccountNumber:"e.g., 0030012345678901234567",bankAgencyName:"e.g., Main Street Branch",bankAgencyCode:"e.g., 00123",employmentContractType:"e.g., Permanent contract",employeeIdNumber:"e.g., 987654",professionalGrade:"e.g., Grade 12, State Engineer",familyBookNumber:"e.g., 12345/2020",marriagePlace:"e.g., Central Municipality",rentalContractNumber:"e.g., 2024/A-45",landlordName:"e.g., John Smith",propertyAddress:"e.g., 50 Victory St, Oran",attendingPhysicianName:"e.g., Dr. Khaled Ben Salem"},maritalStatusOptions:{single:"Single",married:"Married",divorced:"Divorced"},genderOptions:{male:"Male",female:"Female"},educationLevelOptions:{primary:"Primary School",middle:"Middle School",high:"High School",university:"University",postgraduate:"Postgraduate"}}},Bb={ar:{header:{search:"",login:"  ",dashboard:" ",logout:" ",allCountries:" ",allCountriesSearch:"  ( )",selectCafeCountry:"  "},footer:{blog:"",services:" ",rightsReserved:"  ."},blog:{title:" Gitut",subtitle:"           ."},share:{title:":",copied:" !",copyDetails:" "},blogPostCard:{readMore:" "},relatedServices:{title:"  "},relatedPosts:{title:"  "},relatedPages:{title:" "},app:{error:{title:"   ",message:"   .       ."}},cafeCard:{owner:":",address:":",checkingStatus:" ...",online:" ",offline:" ",chooseThisCafe:"  ",viewDetails:"  ",startChat:" ",distanceUnit:""},profilePage:{backToSearch:"  ",managedBy:":",checkingStatus:" ...",online:" ",offline:" ",address:":",description:":",viewOnMap:"  ",step1Title:"1.   ",step1Subtitle:"   .            .",searchPlaceholder:"   ...",searchLabel:"     ",noMatch:"    .",step2Title:"2.  ",continueToForm:"   ({count})",similarCafes:" ",cafeNotFoundTitle:"    ",cafeNotFoundMessage:"         .",startChat:" ",chatWith:"  {name}"},confirmationPage:{title:"   !",subtitle:"     .         .",orderCodeLabel:"    :",note:":         .",backToHome:"   "},formPage:{title:" ",submittingTo:"   ",online:"",offline:" ",scanId:" ",scanIdTitle:"   ",micPermissionErrorTitle:"    ",micPermissionErrorMessage:"           .    .",stepCounter:" {current}  {total}",navigationHint:'  ""  ""   .',answerPlaceholder:" ... : {placeholder}",toggleMic:"/ ",optionsHint:"  (  ):",previous:"",next:"",review:"",formCompleteTitle:" !",formCompleteMessage:"      .",profilePicture:" ",backToEdit:" ",submitFinal:"  ",submitting:" ...",errorTitle:"  ",errorMessage:"      .     .",backToSearch:"   "},blogPost:{publishedOn:" :",by:":",relatedArticles:"   ",backToList:"   ",relatedPostsSidebar:"  ",notFoundTitle:"404 -   ",notFoundMessage:"         .",backToBlog:"  "},searchForm:{searchByName:" ...",search:""},servicesListPage:{title:" ",fillableDocs:"  ",staticDocs:"   (PDF)",siteServices:"  "},serviceDetailPage:{serviceNotFound:"    ",backToList:"   ",preview:" ",previousDesign:" ",nextDesign:" ",loadingPreview:"  ...",noPreview:"     .",openInNewWindow:"     ",instructions:"   ",voiceExample:"   ():",requiredInfo:"  :",findCafeTitle:"     ",searchNearest:"    ",locating:"...  ",resultsTitle:" ({count})",allCafesTitle:"      ({count})",noResults:"         ."},login:{title:"   ",emailLabel:" ",passwordLabel:" ",forgotPassword:"  ",loginButton:" ",loggingInButton:" ...",noAccount:"  ",createAccount:"  ",error:{fillAllFields:"   .",verifyEmail:"      .",wrongCredentials:"      .",enterEmail:"    ."},reset:{title:"   ",emailLabel:"  ",sendButton:"  ",sendingButton:" ...",successMessage:"      .     .",errorMessage:"   .    .",backToLogin:"   "}},signup:{title:"  ",accountInfo:" ",email:" ",password:" ",passwordPlaceholder:"6   ",confirmPassword:"  ",cafeInfo:" ",cafeName:"  ",cafeNamePlaceholder:":  ",ownerName:"  ",ownerNamePlaceholder:":  ",country:"",wilaya:"",daira:"",commune:"",state:" / ",city:"",street:" ",loading:" ...",selectWilaya:" ",selectDaira:" ",selectCommune:" ",statePlaceholder:":  ",cityPlaceholder:":  ",streetPlaceholder:": 123  ",createButton:"  ",creatingButton:" ...",haveAccount:"  ",loginHere:"   ",errors:{allowedDomains:"     Gmail  Microsoft (Outlook, Hotmail, Live).",fillAllFields:"   .",passwordsMismatch:"   .",passwordLength:"      6   .",signupFailed:"         .    ."},success:{title:"   !",message:"      ",instruction:"        .",loginButton:"    "}},findPage:{hero:{title1:"   ",subtitle1:"            .",title2:"   ",subtitle2:"         ."},step1:{title:" 1:    ",placeholder:"   (:  )...",voiceSearchTitle:"  "},selectedDocs:{title:" ",viewFile:" ",removeTitle:"",nextStepButton:" :     {count} ()",nextStepButtonDisabledTitle:"      ",emptyState:"      ."},alert:{selectFillable:"      ( )    ."}},notFound:{title:"404 -   ",message:"      .",button:"   "},formFields:{profilePicture:" ",fullName:"  ",firstName:"",lastName:"",firstNameFr:" ",lastNameFr:" ",birthdaydate:" ",birthdayplace:" ",address:" ",phone:" ",email:" ",jobTitle:"",nationalId:"   ",birthCertificateNumber:"  ",socialSecurityNumber:"  ",nationality:"",maritalStatus:" ",motherFirstName:" ",motherLastName:" ",motherDob:"  ",motherPob:"  ",fatherFirstName:" ",fatherLastName:" ",fatherDob:"  ",fatherPob:"  ",residenceWilaya:" ",residenceDaira:" ",residenceCommune:" ",residenceStreet:" ",birthWilaya:" ",birthDaira:" ",birthCommune:" ",bloodType:" ",dateToday:" ",gender:"",height:" ()",eyeColor:" ",distinguishingMarks:" ",employerName:"    ",employerAddress:"  ",educationLevel:" ",universityName:" ",graduationDate:" ",fieldOfStudy:" ",higherInstituteName:"  ",vocationalTrainingCenterName:"   ",schoolName:" ",highSchoolName:" ",middleSchoolName:" ",universityCity:"    ",passportNumber:"  ",passportIssueDate:"   ",passportExpiryDate:"    ",passportIssuePlace:"   ",drivingLicenseNumber:"  ",drivingLicenseCategory:"  ",drivingLicenseIssueDate:"   ",numberOfChildren:" ",spouseFullName:"  /",spouseDob:"  /",spouseJob:" /",militaryStatus:"   ",submissionWilaya:"    ",submissionDaira:"    ",submissionCommune:"    ",employerWilaya:"    ",employerDaira:"    ",employerCommune:"    ",criminalRecordNumber:"   ",criminalRecordIssueDate:"    ",criminalRecordIssuePlace:"    ",commercialRegistryNumber:"  ",taxIdNumber:"  ",casnosNumber:"   CASNOS",vehicleRegistrationCardNumber:"  ",vehicleType:" ",vehicleBrand:" ",vehicleModel:" ",vehicleFirstRegistrationDate:"   ",bankName:" ",bankAccountNumber:"   (RIB)",bankAgencyName:"  ",bankAgencyCode:"  ",employmentContractType:"  ",employmentStartDate:"  ",employeeIdNumber:" ",professionalGrade:"   ",nationalIdIssueDate:"   ",nationalIdExpiryDate:"    ",drivingLicenseExpiryDate:"    ",familyBookNumber:"  ",marriageDate:"  ",marriagePlace:"  ",rentalContractNumber:"  ",landlordName:"  ",propertyAddress:" ",attendingPhysicianName:"  ",currentTime:" ",currentYear:" ",documentName:" ",age:"",fullDateLongAr:"  ()",hijriDate:" ",placeholders:{profilePicture:"  ",fullName:":  ",firstName:": ",lastName:": ",firstNameFr:"Ex: Mohamed",lastNameFr:"Ex: Ali",birthdayplace:":  ",address:": 123   ",phone:": 0550123456",email:": user@example.com",jobTitle:":  ",nationalId:": 123456789012345678",birthCertificateNumber:": 1990/00123",socialSecurityNumber:": 123456789012",nationality:": ",maritalStatus:" ",motherFirstName:"  ",motherLastName:"  ",motherPob:"  ",fatherFirstName:"  ",fatherLastName:"  ",fatherPob:"  ",residenceWilaya:": ",residenceDaira:":  ",residenceCommune:":  ",residenceStreet:":   ",birthWilaya:": ",birthDaira:": ",birthCommune:": ",bloodType:": O+",gender:" ",height:": 175",eyeColor:": ",distinguishingMarks:":    ",employerName:":  ",employerAddress:":  ",educationLevel:" ",universityName:":   ",fieldOfStudy:":  ",higherInstituteName:":   ",vocationalTrainingCenterName:":     ",schoolName:":   ",highSchoolName:":   ",middleSchoolName:":   ",universityCity:": ",passportNumber:": 12345ABC",passportIssuePlace:":  ",drivingLicenseNumber:": 123456789",drivingLicenseCategory:": ",numberOfChildren:": 2",spouseFullName:":    ",spouseJob:": ",militaryStatus:":   ",submissionWilaya:": ",submissionDaira:":  ",submissionCommune:":  ",employerWilaya:": ",employerDaira:": ",employerCommune:": ",criminalRecordNumber:": 123/2024",criminalRecordIssuePlace:":   ",commercialRegistryNumber:": 16/00-1234567 A 24",taxIdNumber:": 123456789012345",casnosNumber:": 123456789012",vehicleRegistrationCardNumber:": 12345 123 16",vehicleType:": ",vehicleBrand:": Renault",vehicleModel:": Clio 4",bankName:":    ",bankAccountNumber:"0030012345678901234567",bankAgencyName:":    ",bankAgencyCode:": 00123",employmentContractType:":     ",employeeIdNumber:": 987654",professionalGrade:":  12  ",familyBookNumber:": 12345/2020",marriagePlace:":   ",rentalContractNumber:": 2024/A-45",landlordName:":  ",propertyAddress:":    50 ",attendingPhysicianName:": .   "},maritalStatusOptions:{single:"",married:"",divorced:""},genderOptions:{male:"",female:""},educationLevelOptions:{primary:"",middle:"",high:"",university:"",postgraduate:" "}}},en:up,fr:{...up},de:{header:{search:"Suchen",login:"Inhaber-Login",dashboard:"Dashboard",logout:"Abmelden",allCountries:"Alle Lnder",allCountriesSearch:"Alle Lnder (Globale Suche)",selectCafeCountry:"Caf-Land whlen"},footer:{blog:"Blog",services:"Dienstleistungsliste",rightsReserved:"Alle Rechte vorbehalten."},blog:{title:"Gitut Blog",subtitle:"Verfolgen Sie unsere neuesten Nachrichten, Updates und hilfreichen Tipps fr Caf-Besitzer und Dokumentenservice-Suchende."},share:{title:"Teilen:",copied:"Kopiert!",copyDetails:"Details kopieren"},blogPostCard:{readMore:"Mehr lesen"},relatedServices:{title:"hnliche Dienstleistungen"},relatedPosts:{title:"hnliche Artikel"},relatedPages:{title:"Andere Seiten"},app:{error:{title:"Anwendungsfehler",message:"Wichtige Daten konnten nicht geladen werden. Mglicherweise besteht ein Verbindungsproblem zum Server."}},cafeCard:{owner:"Inhaber:",address:"Adresse:",checkingStatus:"Status wird geprft...",online:"Online",offline:"Offline",chooseThisCafe:"Dieses Caf whlen",viewDetails:"Details & Dienste anzeigen",startChat:"Chat starten",distanceUnit:"km"},profilePage:{backToSearch:"Zurck zur Suche",managedBy:"Verwaltet von:",checkingStatus:"Status wird geprft...",online:"Online",offline:"Offline",address:"Adresse:",description:"Beschreibung:",viewOnMap:"Auf Karte anzeigen",step1Title:"1. Erforderliche Dokumente auswhlen",step1Subtitle:"Whlen Sie die bentigten Dokumente aus. Sie knnen nach einem Dokument suchen und es zur Liste hinzufgen oder direkt aus der Liste unten auswhlen.",searchPlaceholder:"Dokument suchen...",searchLabel:"Suchen Sie ein Dokument zum Hinzufgen",noMatch:"Keine Dokumente gefunden.",step2Title:"2. Anfrage senden",continueToForm:"Weiter zum Ausfllen ({count})",similarCafes:"hnliche Cafs",cafeNotFoundTitle:"Caf nicht gefunden",cafeNotFoundMessage:"Entschuldigung, wir konnten die gesuchte Seite nicht finden.",startChat:"Chat starten",chatWith:"Chat mit {name}"},confirmationPage:{title:"Ihre Anfrage wurde erfolgreich gesendet!",subtitle:"Ihre Informationen wurden an das Caf gesendet. Bitte gehen Sie dorthin und geben Sie den folgenden Code an, um Ihre Dokumente zu erhalten.",orderCodeLabel:"Ihr Bestellcode lautet:",note:"Hinweis: Bewahren Sie diesen Code auf, Sie bentigen ihn zur Besttigung beim Caf-Besitzer.",backToHome:"Zurck zur Startseite"},formPage:{title:"Formular ausfllen",submittingTo:"Sie senden eine Anfrage an",online:"Online",offline:"Offline",scanId:"Ausweis scannen",scanIdTitle:"Ausweis mit Kamera scannen",micPermissionErrorTitle:"Mikrofonzugriff verweigert",micPermissionErrorMessage:"Bitte aktivieren Sie den Mikrofonzugriff in Ihren Browsereinstellungen, um die Spracheingabe zu nutzen. Sie knnen das Formular weiterhin manuell ausfllen.",stepCounter:"Schritt {current} von {total}",navigationHint:'Sie knnen "Weiter" oder "Zurck" sagen, um zwischen den Feldern zu navigieren.',answerPlaceholder:"Hier antworten... z.B.: {placeholder}",toggleMic:"Mikrofon Ein/Aus",optionsHint:"Verfgbare Optionen (Nummer sagen):",previous:"Zurck",next:"Weiter",review:"berprfen",formCompleteTitle:"Formular vollstndig!",formCompleteMessage:"Bitte berprfen Sie die Daten vor dem endgltigen Absenden sorgfltig.",profilePicture:"Profilbild",backToEdit:"Zurck zum Bearbeiten",submitFinal:"Anfrage absenden",submitting:"Wird gesendet...",errorTitle:"Anfragefehler",errorMessage:"Es wurden keine Dokumente oder Dienste ausgewhlt. Bitte gehen Sie zurck und whlen Sie zuerst Dokumente aus.",backToSearch:"Zurck zur Suche"},blogPost:{publishedOn:"Verffentlicht am:",by:"Von:",relatedArticles:"Andere interessante Artikel",backToList:"Zurck zu allen Artikeln",relatedPostsSidebar:"hnliche Beitrge",notFoundTitle:"404 - Beitrag nicht gefunden",notFoundMessage:"Entschuldigung, wir konnten den gesuchten Beitrag nicht finden.",backToBlog:"Zurck zum Blog"},searchForm:{searchByName:"Nach Name suchen...",search:"Suchen"},servicesListPage:{title:"Dienstleistungsliste",fillableDocs:"Ausfllbare Dokumente",staticDocs:"Druckbare Dokumente (PDF)",siteServices:"Webseiten-Dienste"},serviceDetailPage:{serviceNotFound:"Dienstleistung nicht gefunden",backToList:"Zurck zur Liste",preview:"Dokumentvorschau",previousDesign:"Vorheriges Design",nextDesign:"Nchstes Design",loadingPreview:"Vorschau wird geladen...",noPreview:"Keine Vorschau verfgbar.",openInNewWindow:"In neuem Fenster ffnen oder herunterladen",instructions:"Anweisungen fr dieses Design",voiceExample:"Aufnahmebeispiel:",requiredInfo:"Erforderliche Informationen (gesprochen):",findCafeTitle:"Caf fr diesen Dienst finden",searchNearest:"Suche nach Cafs in der Nhe",locating:"Standort wird ermittelt...",resultsTitle:"Ergebnisse ({count})",allCafesTitle:"Internetcafs, die diesen Dienst anbieten ({count})",noResults:"Keine Cafs gefunden, die alle Anforderungen erfllen."},login:{title:"Login fr Caf-Besitzer",emailLabel:"E-Mail",passwordLabel:"Passwort",forgotPassword:"Passwort vergessen?",loginButton:"Anmelden",loggingInButton:"Anmeldung...",noAccount:"Kein Konto?",createAccount:"Neues Konto erstellen",error:{fillAllFields:"Bitte fllen Sie alle Felder aus.",verifyEmail:"Bitte berprfen Sie Ihre E-Mails, um Ihr Konto zu aktivieren.",wrongCredentials:"E-Mail oder Passwort ist falsch.",enterEmail:"Bitte geben Sie Ihre E-Mail-Adresse ein."},reset:{title:"Passwort zurcksetzen",emailLabel:"Registrierte E-Mail",sendButton:"Link senden",sendingButton:"Wird gesendet...",successMessage:"Ein Link zum Zurcksetzen wurde gesendet. Bitte prfen Sie Ihren Posteingang.",errorMessage:"Fehler beim Senden der E-Mail. Bitte versuchen Sie es erneut.",backToLogin:"Zurck zum Login"}},signup:{title:"Neues Konto erstellen",accountInfo:"Kontoinformationen",email:"E-Mail",password:"Passwort",passwordPlaceholder:"Mindestens 6 Zeichen",confirmPassword:"Passwort besttigen",cafeInfo:"Caf-Informationen",cafeName:"Geschftsname des Cafs",cafeNamePlaceholder:"z.B. Internet Caf Berlin",ownerName:"Vollstndiger Name des Inhabers",ownerNamePlaceholder:"z.B. Max Mustermann",country:"Land",wilaya:"Bundesland/Provinz",daira:"Bezirk",commune:"Gemeinde/Stadt",state:"Bundesland",city:"Stadt",street:"Strae",loading:"Laden...",selectWilaya:"Bundesland whlen",selectDaira:"Bezirk whlen",selectCommune:"Stadt whlen",statePlaceholder:"z.B. Bayern, Berlin",cityPlaceholder:"z.B. Mnchen, Hamburg",streetPlaceholder:"z.B. Hauptstrae 1",createButton:"Konto & Caf erstellen",creatingButton:"Wird erstellt...",haveAccount:"Bereits ein Konto?",loginHere:"Hier anmelden",errors:{allowedDomains:"Bitte verwenden Sie eine Gmail oder Microsoft E-Mail (Outlook, Hotmail, Live).",fillAllFields:"Bitte fllen Sie alle Felder aus.",passwordsMismatch:"Passwrter stimmen nicht berein.",passwordLength:"Passwort muss mindestens 6 Zeichen lang sein.",signupFailed:"Diese E-Mail wird bereits verwendet oder es trat ein Registrierungsfehler auf."},success:{title:"Konto erfolgreich erstellt!",message:"Wir haben einen Besttigungslink an Ihre E-Mail gesendet",instruction:"Bitte klicken Sie auf den Link, um Ihr Konto zu aktivieren.",loginButton:"Zur Login-Seite"}},formFields:{fullName:"Vollstndiger Name",firstName:"Vorname",lastName:"Nachname",birthdaydate:"Geburtsdatum",phone:"Telefonnummer",email:"E-Mail",address:"Adresse",...up.formFields}},es:{header:{search:"Buscar",login:"Acceso Propietario",dashboard:"Panel",logout:"Cerrar sesin",allCountries:"Todos los pases",allCountriesSearch:"Todos los pases (Bsqueda global)",selectCafeCountry:"Seleccionar pas del caf"},footer:{blog:"Blog",services:"Lista de servicios",rightsReserved:"Todos los derechos reservados."},blog:{title:"Blog de Gitut",subtitle:"Siga nuestras ltimas noticias, actualizaciones y consejos tiles para propietarios de cibercafs y buscadores de servicios de documentos."},share:{title:"Compartir:",copied:"Copiado!",copyDetails:"Copiar detalles"},blogPostCard:{readMore:"Leer ms"},relatedServices:{title:"Servicios relacionados"},relatedPosts:{title:"Artculos relacionados"},relatedPages:{title:"Otras pginas"},app:{error:{title:"Error de aplicacin",message:"No se pudieron cargar los datos esenciales. Puede haber un problema de conexin con el servidor."}},cafeCard:{owner:"Propietario:",address:"Direccin:",checkingStatus:"Comprobando estado...",online:"En lnea",offline:"Desconectado",chooseThisCafe:"Elegir este caf",viewDetails:"Ver detalles y servicios",startChat:"Iniciar chat",distanceUnit:"km"},profilePage:{backToSearch:"Volver a la bsqueda",managedBy:"Gestionado por:",checkingStatus:"Comprobando...",online:"En lnea",offline:"Desconectado",address:"Direccin:",description:"Descripcin:",viewOnMap:"Ver en el mapa",step1Title:"1. Seleccione los documentos requeridos",step1Subtitle:"Seleccione los documentos que necesita. Puede buscar un documento y aadirlo a la lista, o elegir directamente de la lista a continuacin.",searchPlaceholder:"Buscar documento para aadir...",searchLabel:"Busque un documento para aadir a su lista",noMatch:"No se encontraron documentos.",step2Title:"2. Enve su solicitud",continueToForm:"Continuar para rellenar formulario ({count})",similarCafes:"Cafs similares",cafeNotFoundTitle:"Caf no encontrado",cafeNotFoundMessage:"Lo sentimos, no pudimos encontrar la pgina que busca.",startChat:"Iniciar chat",chatWith:"Chat con {name}"},confirmationPage:{title:"Su solicitud ha sido enviada con xito!",subtitle:"Su informacin ha sido enviada al caf. Por favor vaya all y proporcione el siguiente cdigo para recibir sus documentos.",orderCodeLabel:"Su cdigo de pedido es:",note:"Nota: Guarde este cdigo, lo necesitar para confirmar su pedido con el propietario del caf.",backToHome:"Volver al inicio"},formPage:{title:"Rellenar el formulario",submittingTo:"Est enviando una solicitud a",online:"En lnea",offline:"Desconectado",scanId:"Escanear ID",scanIdTitle:"Escanear tarjeta de identificacin con cmara",micPermissionErrorTitle:"Acceso al micrfono denegado",micPermissionErrorMessage:"Por favor habilite el acceso al micrfono en la configuracin de su navegador para usar la entrada de voz. An puede completar el formulario manualmente.",stepCounter:"Paso {current} de {total}",navigationHint:'Puede decir "Siguiente" o "Anterior" para navegar entre campos.',answerPlaceholder:"Responda aqu... ej: {placeholder}",toggleMic:"Activar/Desactivar micrfono",optionsHint:"Opciones disponibles (diga el nmero para seleccionar):",previous:"Anterior",next:"Siguiente",review:"Revisar",formCompleteTitle:"Formulario completo!",formCompleteMessage:"Por favor revise los datos cuidadosamente antes del envo final.",profilePicture:"Foto de perfil",backToEdit:"Volver a editar",submitFinal:"Enviar solicitud final",submitting:"Enviando...",errorTitle:"Error de solicitud",errorMessage:"No se seleccionaron documentos o servicios. Por favor regrese y seleccione documentos primero.",backToSearch:"Volver a la bsqueda"},blogPost:{publishedOn:"Publicado el:",by:"Por:",relatedArticles:"Otros artculos que te pueden interesar",backToList:"Volver a todos los artculos",relatedPostsSidebar:"Artculos relacionados",notFoundTitle:"404 - Artculo no encontrado",notFoundMessage:"Lo sentimos, no pudimos encontrar el artculo que busca.",backToBlog:"Volver al blog"},searchForm:{searchByName:"Buscar por nombre...",search:"Buscar"},servicesListPage:{title:"Lista de servicios",fillableDocs:"Documentos rellenables",staticDocs:"Documentos imprimibles (PDF)",siteServices:"Servicios web"},serviceDetailPage:{serviceNotFound:"Servicio no encontrado",backToList:"Volver a la lista",preview:"Vista previa del documento",previousDesign:"Diseo anterior",nextDesign:"Siguiente diseo",loadingPreview:"Cargando vista previa...",noPreview:"No hay vista previa disponible para este documento.",openInNewWindow:"Abrir en nueva ventana o descargar",instructions:"Instrucciones para este diseo",voiceExample:"Cmo grabar (Ejemplo):",requiredInfo:"Informacin requerida (hablada):",findCafeTitle:"Encontrar un caf que ofrezca este servicio",searchNearest:"Buscar cafs ms cercanos",locating:"Localizando...",resultsTitle:"Resultados ({count})",allCafesTitle:"Cibercafs que ofrecen este servicio ({count})",noResults:"No se encontraron cafs que coincidan con su bsqueda."},login:{title:"Acceso Propietario de Caf",emailLabel:"Correo electrnico",passwordLabel:"Contrasea",forgotPassword:"Olvid su contrasea?",loginButton:"Iniciar sesin",loggingInButton:"Iniciando sesin...",noAccount:"No tiene una cuenta?",createAccount:"Crear una cuenta nueva",error:{fillAllFields:"Por favor complete todos los campos.",verifyEmail:"Por favor revise su correo para activar su cuenta.",wrongCredentials:"El correo o la contrasea son incorrectos.",enterEmail:"Por favor ingrese su direccin de correo."},reset:{title:"Restablecer contrasea",emailLabel:"Correo registrado",sendButton:"Enviar enlace",sendingButton:"Enviando...",successMessage:"Se ha enviado un enlace de restablecimiento. Por favor revise su bandeja de entrada.",errorMessage:"Error al enviar el correo. Por favor intente de nuevo.",backToLogin:"Volver al inicio de sesin"}},signup:{title:"Crear nueva cuenta",accountInfo:"Informacin de la cuenta",email:"Correo electrnico",password:"Contrasea",passwordPlaceholder:"Al menos 6 caracteres",confirmPassword:"Confirmar contrasea",cafeInfo:"Informacin del caf",cafeName:"Nombre comercial del caf",cafeNamePlaceholder:"Ej: Caf Central",ownerName:"Nombre completo del propietario",ownerNamePlaceholder:"Ej: Juan Prez",country:"Pas",wilaya:"Estado/Provincia",daira:"Distrito",commune:"Municipio/Ciudad",state:"Estado",city:"Ciudad",street:"Direccin",loading:"Cargando...",selectWilaya:"Seleccionar estado",selectDaira:"Seleccionar distrito",selectCommune:"Seleccionar municipio",statePlaceholder:"Ej: Madrid, Buenos Aires",cityPlaceholder:"Ej: Barcelona, Rosario",streetPlaceholder:"Ej: Av. Principal 123",createButton:"Crear cuenta y caf",creatingButton:"Creando...",haveAccount:"Ya tiene una cuenta?",loginHere:"Inicie sesin aqu",errors:{allowedDomains:"Por favor use un correo de Gmail o Microsoft (Outlook, Hotmail, Live).",fillAllFields:"Por favor complete todos los campos.",passwordsMismatch:"Las contraseas no coinciden.",passwordLength:"La contrasea debe tener al menos 6 caracteres.",signupFailed:"Este correo ya est en uso o ocurri un error de registro."},success:{title:"Cuenta creada con xito!",message:"Hemos enviado un enlace de verificacin a su correo",instruction:"Por favor haga clic en el enlace para activar su cuenta antes de iniciar sesin.",loginButton:"Ir a la pgina de inicio de sesin"}},formFields:{fullName:"Nombre completo",firstName:"Nombre",lastName:"Apellidos",birthdaydate:"Fecha de nacimiento",phone:"Telfono",email:"Correo electrnico",address:"Direccin",...up.formFields}},tr:{header:{search:"Ara",login:"Kafe Sahibi Girii",dashboard:"Panel",logout:"k Yap",allCountries:"Tm lkeler",allCountriesSearch:"Tm lkeler (Genel Arama)",selectCafeCountry:"Kafe lkesini Se"},footer:{blog:"Blog",services:"Hizmet Listesi",rightsReserved:"Tm haklar sakldr."},blog:{title:"Gitut Blog",subtitle:"Kafe sahipleri ve belge hizmeti arayanlar iin en son haberleri ve ipularn takip edin."},share:{title:"Payla:",copied:"Kopyaland!",copyDetails:"Detaylar Kopyala"},blogPostCard:{readMore:"Devamn Oku"},relatedServices:{title:"lgili Hizmetler"},relatedPosts:{title:"lgili Makaleler"},relatedPages:{title:"Dier Sayfalar"},app:{error:{title:"Uygulama Hatas",message:"Temel veriler yklenemedi. Sunucu ile balantda bir sorun olabilir."}},cafeCard:{owner:"Sahibi:",address:"Adres:",checkingStatus:"Durum kontrol ediliyor...",online:"evrimii",offline:"evrimd",chooseThisCafe:"Bu Kafeyi Se",viewDetails:"Detaylar Gr",startChat:"Sohbet Balat",distanceUnit:"km"},profilePage:{backToSearch:"Aramaya Dn",managedBy:"Yneten:",checkingStatus:"Durum kontrol ediliyor...",online:"evrimii",offline:"evrimd",address:"Adres:",description:"Aklama:",viewOnMap:"Haritada Gster",step1Title:"1. Gerekli Belgeleri Sein",step1Subtitle:"htiyacnz olan belgeleri sein. Bir belgeyi arayarak listeye ekleyebilir veya dorudan aadaki listeden seebilirsiniz.",searchPlaceholder:"Eklemek iin belge ara...",searchLabel:"Listenize eklemek iin bir belge arayn",noMatch:"Aramanzla eleen belge bulunamad.",step2Title:"2. steinizi Gnderin",continueToForm:"Formu Doldurmaya Devam Et ({count})",similarCafes:"Benzer Kafeler",cafeNotFoundTitle:"Kafe Bulunamad",cafeNotFoundMessage:"zgnz, aradnz sayfay bulamadk.",startChat:"Sohbet Balat",chatWith:"{name} ile Sohbet"},confirmationPage:{title:"steiniz Baaryla Gnderildi!",subtitle:"Bilgileriniz kafeye gnderildi. Ltfen oraya gidin ve belgelerinizi almak iin aadaki kodu verin.",orderCodeLabel:"Sipari kodunuz:",note:"Not: Bu kodu saklayn, sipariinizi kafe sahibine onaylatmak iin ihtiyacnz olacak.",backToHome:"Ana Sayfaya Dn"},formPage:{title:"Formu Doldur",submittingTo:"uraya istek gnderiyorsunuz:",online:"evrimii",offline:"evrimd",scanId:"Kimlik Tara",scanIdTitle:"Kamerayla kimlik kartn tara",micPermissionErrorTitle:"Mikrofon Eriimi Reddedildi",micPermissionErrorMessage:"Sesli giri zelliini kullanmak iin ltfen tarayc ayarlarnzdan mikrofon eriimine izin verin.",stepCounter:"Adm {current} / {total}",navigationHint:'Alanlar arasnda gezinmek iin "leri" veya "Geri" diyebilirsiniz.',answerPlaceholder:"Buraya cevaplayn... rn: {placeholder}",toggleMic:"Mikrofonu A/Kapat",optionsHint:"Mevcut seenekler (semek iin numaray syleyin):",previous:"Geri",next:"leri",review:"ncele",formCompleteTitle:"Form Tamamland!",formCompleteMessage:"Ltfen son gnderimden nce verileri dikkatlice kontrol edin.",profilePicture:"Profil Fotoraf",backToEdit:"Dzenlemeye Dn",submitFinal:"stei Gnder",submitting:"Gnderiliyor...",errorTitle:"stek Hatas",errorMessage:"Hibir belge veya hizmet seilmedi. Ltfen geri dnp nce belgeleri sein.",backToSearch:"Arama Sayfasna Dn"},blogPost:{publishedOn:"Yaynlanma tarihi:",by:"Yazar:",relatedArticles:"lginizi ekebilecek dier makaleler",backToList:"Tm makalelere dn",relatedPostsSidebar:"lgili Makaleler",notFoundTitle:"404 - Makale Bulunamad",notFoundMessage:"zgnz, aradnz makaleyi bulamadk.",backToBlog:"Bloga Dn"},searchForm:{searchByName:"simle ara...",search:"Ara"},servicesListPage:{title:"Hizmet Listesi",fillableDocs:"Doldurulabilir Belgeler",staticDocs:"Yazdrlabilir Belgeler (PDF)",siteServices:"Web Sitesi Hizmetleri"},serviceDetailPage:{serviceNotFound:"Hizmet Bulunamad",backToList:"Hizmet Listesine Dn",preview:"Belge nizlemesi",previousDesign:"nceki Tasarm",nextDesign:"Sonraki Tasarm",loadingPreview:"nizleme ykleniyor...",noPreview:"Bu belge iin nizleme mevcut deil.",openInNewWindow:"Yeni pencerede a veya indir",instructions:"Bu Tasarm in Talimatlar",voiceExample:"Nasl Kaydedilir (rnek):",requiredInfo:"Gerekli Bilgiler (Sesli):",findCafeTitle:"Bu hizmeti sunan bir kafe bulun",searchNearest:"En yakn kafeleri ara",locating:"Konum belirleniyor...",resultsTitle:"Sonular ({count})",allCafesTitle:"Bu hizmeti salayan internet kafeler ({count})",noResults:"Gerekli tm hizmetler iin aramanzla eleen kafe bulunamad."},login:{title:"Kafe Sahibi Girii",emailLabel:"E-posta",passwordLabel:"ifre",forgotPassword:"ifrenizi mi unuttunuz?",loginButton:"Giri Yap",loggingInButton:"Giri yaplyor...",noAccount:"Hesabnz yok mu?",createAccount:"Yeni hesap olutur",error:{fillAllFields:"Ltfen tm alanlar doldurun.",verifyEmail:"Hesabnz etkinletirmek iin ltfen e-postanz kontrol edin.",wrongCredentials:"E-posta veya ifre yanl.",enterEmail:"Ltfen e-posta adresinizi girin."},reset:{title:"ifreyi Sfrla",emailLabel:"Kaytl E-posta",sendButton:"Sfrlama Balants Gnder",sendingButton:"Gnderiliyor...",successMessage:"ifre sfrlama balants gnderildi. Ltfen gelen kutunuzu kontrol edin.",errorMessage:"E-posta gnderilemedi. Ltfen tekrar deneyin.",backToLogin:"Girie Dn"}},signup:{title:"Yeni Hesap Olutur",accountInfo:"Hesap Bilgileri",email:"E-posta",password:"ifre",passwordPlaceholder:"En az 6 karakter",confirmPassword:"ifreyi Onayla",cafeInfo:"Kafe Bilgileri",cafeName:"Kafe Ticari Ad",cafeNamePlaceholder:"rn: Ke Kafe",ownerName:"Sahibinin Ad Soyad",ownerNamePlaceholder:"rn: Ahmet Ylmaz",country:"lke",wilaya:"l / Eyalet",daira:"le",commune:"Belediye / Semt",state:"Eyalet",city:"ehir",street:"Sokak Adresi",loading:"Ykleniyor...",selectWilaya:"l Sein",selectDaira:"le Sein",selectCommune:"Belediye Sein",statePlaceholder:"rn: stanbul, Ankara",cityPlaceholder:"rn: Kadky, ankaya",streetPlaceholder:"rn: Cumhuriyet Cad. No:123",createButton:"Hesap ve Kafe Olutur",creatingButton:"Oluturuluyor...",haveAccount:"Zaten hesabnz var m?",loginHere:"Buradan giri yapn",errors:{allowedDomains:"Ltfen Gmail veya Microsoft (Outlook, Hotmail, Live) e-postas kullann.",fillAllFields:"Ltfen tm alanlar doldurun.",passwordsMismatch:"ifreler elemiyor.",passwordLength:"ifre en az 6 karakter olmaldr.",signupFailed:"Bu e-posta zaten kullanlyor veya bir kayt hatas olutu."},success:{title:"Hesap Baaryla Oluturuldu!",message:"E-postanza bir dorulama balants gnderdik",instruction:"Giri yapmadan nce ltfen hesabnz etkinletirmek iin balantya tklayn.",loginButton:"Giri Sayfasna Git"}},formFields:{fullName:"Ad Soyad",firstName:"Ad",lastName:"Soyad",birthdaydate:"Doum Tarihi",phone:"Telefon Numaras",email:"E-posta",address:"Adres",...up.formFields}},ja:{header:{search:"",login:"",dashboard:"",logout:"",allCountries:"",allCountriesSearch:"",selectCafeCountry:""},footer:{blog:"",services:"",rightsReserved:""},blog:{title:"Gitut ",subtitle:""},share:{title:":",copied:"",copyDetails:""},blogPostCard:{readMore:""},relatedServices:{title:""},relatedPosts:{title:""},relatedPages:{title:""},app:{error:{title:"",message:""}},cafeCard:{owner:":",address:":",checkingStatus:"...",online:"",offline:"",chooseThisCafe:"",viewDetails:"",startChat:"",distanceUnit:"km"},profilePage:{backToSearch:"",managedBy:":",checkingStatus:"...",online:"",offline:"",address:":",description:":",viewOnMap:"",step1Title:"1. ",step1Subtitle:"",searchPlaceholder:"...",searchLabel:"",noMatch:"",step2Title:"2. ",continueToForm:" ({count})",similarCafes:"",cafeNotFoundTitle:"",cafeNotFoundMessage:"",startChat:"",chatWith:"{name} "},confirmationPage:{title:"",subtitle:"",orderCodeLabel:":",note:": ",backToHome:""},formPage:{title:"",submittingTo:":",online:"",offline:"",scanId:"ID",scanIdTitle:"",micPermissionErrorTitle:"",micPermissionErrorMessage:"",stepCounter:" {current} / {total}",navigationHint:"",answerPlaceholder:"... : {placeholder}",toggleMic:"/",optionsHint:" ():",previous:"",next:"",review:"",formCompleteTitle:"",formCompleteMessage:"",profilePicture:"",backToEdit:"",submitFinal:"",submitting:"...",errorTitle:"",errorMessage:"",backToSearch:""},blogPost:{publishedOn:":",by:":",relatedArticles:"",backToList:"",relatedPostsSidebar:"",notFoundTitle:"404 - ",notFoundMessage:"",backToBlog:""},searchForm:{searchByName:"...",search:""},servicesListPage:{title:"",fillableDocs:"",staticDocs:" (PDF)",siteServices:""},serviceDetailPage:{serviceNotFound:"",backToList:"",preview:"",previousDesign:"",nextDesign:"",loadingPreview:"...",noPreview:"",openInNewWindow:"",instructions:"",voiceExample:" ():",requiredInfo:" ():",findCafeTitle:"",searchNearest:"",locating:"...",resultsTitle:" ({count})",allCafesTitle:" ({count})",noResults:""},login:{title:"",emailLabel:"",passwordLabel:"",forgotPassword:"",loginButton:"",loggingInButton:"...",noAccount:"",createAccount:"",error:{fillAllFields:"",verifyEmail:"",wrongCredentials:"",enterEmail:""},reset:{title:"",emailLabel:"",sendButton:"",sendingButton:"...",successMessage:"",errorMessage:"",backToLogin:""}},signup:{title:"",accountInfo:"",email:"",password:"",passwordPlaceholder:"6",confirmPassword:"",cafeInfo:"",cafeName:"",cafeNamePlaceholder:": ",ownerName:"",ownerNamePlaceholder:":  ",country:"",wilaya:"/",daira:"/",commune:"",state:"",city:"",street:"",loading:"...",selectWilaya:"",selectDaira:"/",selectCommune:"",statePlaceholder:": , ",cityPlaceholder:": , ",streetPlaceholder:": 1-2-3 ",createButton:"",creatingButton:"...",haveAccount:"",loginHere:"",errors:{allowedDomains:"GmailMicrosoft (Outlook, Hotmail, Live) ",fillAllFields:"",passwordsMismatch:"",passwordLength:"6",signupFailed:""},success:{title:"",message:"",instruction:"",loginButton:""}},formFields:{fullName:"",firstName:"",lastName:"",birthdaydate:"",phone:"",email:"",address:"",...up.formFields}}},v9=(t,e)=>e.split(".").reduce((n,r)=>n&&n[r],t),Eo=t=>e=>{const n=Bb[t],r=Bb.en;return v9(n,e)||v9(r,e)||e},Il="https://datas.gitut.com";async function ff(t,e){const n=await fetch(t);if(!n.ok)throw new Error(`Failed to fetch ${e} from ${t}. Status: ${n.status} ${n.statusText}`);const r=await n.text();try{return JSON.parse(r)}catch{const s=r.length>100?r.substring(0,100)+"...":r;throw new Error(`Failed to parse JSON for ${e} from ${t}. Content started with: "${s}"`)}}const bme=async()=>{const t=`${Il}/data/json/all-services-public.json`;return ff(t,"all-services-public.json").catch(()=>[])},li={faviconUrl:"",payment:{ccp:"",baridiMob:"",paypalEmail:"",paypalEnabled:!1,exchangeRate:1},pricing:{dynamicDocument:{dzd:50,usd:.5},siteFormFill:{dzd:20,usd:.2},staticDocumentDownload:{dzd:10,usd:.1}},seo:{default:{siteName:"Gitut",tagline:"Your Document Assistant",titleSeparator:"|",metaDescription:"Find internet cafes to get your documents done.",mainPageTitle:"Get Your Documents Done with Ease",mainPageSubtitle:"Find a nearby internet cafe, send your request remotely, and pick up your ready documents.",googleAnalyticsId:"G-2BKKWGCXWX",googleSearchConsoleId:""}},social:{default:{facebook:"",twitter:"",instagram:"",facebookPageId:"",facebookGroupId:"",facebookPageAccessToken:""}},ads:{pdfInterstitialTimer:5,items:[]},ai:{apiKey:"",useAdminKey:!0}},_me=t=>t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,""),wme="https://gitut.com/api/",Tme="@@??YOUYOU@@??YOUYOU1936";function Eme(){return new Promise((t,e)=>{if(Jr.currentUser)return t(Jr.currentUser);const n=Jr.onAuthStateChanged(r=>{n(),r?t(r):e(new Error("User not authenticated for API call."))})})}async function Zt(t,e){try{const r=await(await Eme()).getIdToken(),i=await fetch(wme,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`,"x-api-proxy-key":Tme},body:JSON.stringify({action:t,payload:e})});if(t==="getDoc"&&i.status===404)return console.warn(`API call for getDoc on ${e.collection}/${e.id} returned 404. Returning null.`),null;if(!i.ok){let a;try{a=await i.json()}catch{a=null}throw new Error((a==null?void 0:a.error)||`Request failed with status ${i.status}`)}const s=await i.text();return s?JSON.parse(s):null}catch(n){throw console.error(`API Service Error (${t}):`,n),n}}const ca=async t=>Zt("uploadFilesToGitHub",t),Dm=async t=>{const n=await(i=>new Promise((s,a)=>{const o=new FileReader;o.readAsDataURL(i),o.onload=()=>s(o.result.split(",")[1]),o.onerror=l=>a(l)}))(t);return(await Zt("uploadFile",{fileData:n,fileName:t.name,fileType:t.type})).url},x9=async t=>{var y;const e=`${Il}/data/json/${t}-cafes-public.json`,n=`${Il}/data/json/${t}-all-services-public.json`,r=`${Il}/data/json/site-settings-public.json`,i=`${Il}/data/json/${t}-pages-public.json`,[s,a,o,l]=await Promise.all([ff(n,`${t}-all-services-public.json`),ff(e,`${t}-cafes-public.json`),ff(r,"site-settings-public.json"),ff(i,`${t}-pages-public.json`)]);let c=[];const u=s.filter(_=>_.serviceType==="doc"),f=s.filter(_=>_.serviceType==="static-doc"),h=s.filter(_=>_.serviceType==="site"),p=((y=o.ads)==null?void 0:y.items)||[],v={...li,...o,payment:{...li.payment,...o.payment||{}},pricing:{...li.pricing,...o.pricing||{}},social:{...li.social,...o.social||{}},ads:{...li.ads,...o.ads||{}},ai:{...li.ai,...o.ai||{}}},g=c.map(_=>({..._,createdAt:_.createdAt?Pr.firestore.Timestamp.fromDate(new Date(_.createdAt)):Pr.firestore.Timestamp.now(),publishedAt:_.publishedAt?Pr.firestore.Timestamp.fromDate(new Date(_.publishedAt)):void 0}));return{documents:u,staticDocuments:f,cafes:a,siteSettings:v,pages:l,blogPosts:g,sites:h,ads:p,services:s}},b9=async t=>{const e=`${Il}/data/json/${t}-locations.json`;return ff(e,`${t}-locations.json`)},WA=async()=>Zt("getCollection",{collection:"cafes"}),qA=async()=>Zt("getCollection",{collection:"users"}),Zk=async t=>Zt("getDoc",{collection:"cafes",id:t}),Cme=async t=>(await Zt("getCollection",{collection:"cafes",where:[{field:"numericId",op:"==",value:t}],limit:1}))[0]||null,Ix=async t=>Zt("getDoc",{collection:"users",id:t}),_9=async()=>Zt("getMonthlyRevenue",{}),Sme=async(t,e)=>Zt("createUserAndCafe",{uid:t.uid,email:t.email,emailVerified:t.emailVerified,cafeData:e}),Dme=async(t,e)=>{await Zt("updateDoc",{collection:"cafes",id:t,data:e})},eI=async(t,e)=>Zt("deductCredits",{userId:t.id,amount:e}),Ame=async(t,e)=>Zt("syncOfflineDeductions",{userId:t,deductions:e}),Nme=async(t,e)=>{const n=Sm.collection("jobs"),r=e?n.doc(e):n.doc(),i={...t,createdAt:Date.now(),status:"Pending"};return await r.set(i),{...i,id:r.id}},kme=async(t,e)=>{await Sm.collection("jobs").doc(t).update(e)},Ime=async t=>Zt("getCollection",{collection:"payment_requests",where:[{field:"userId",op:"==",value:t}],orderBy:"date"}),$A=async()=>Zt("getCollection",{collection:"payment_requests",orderBy:"date"}),Rme=async t=>Zt("getCollection",{collection:"invoices",where:[{field:"userId",op:"==",value:t}],orderBy:"date"}),Pme=async()=>Zt("getCollection",{collection:"invoices",orderBy:"date"}),w9=async(t,e,n,r,i)=>Zt("addPaymentRequest",{userId:t,amount:e,currency:n,method:r,proofOfPaymentUrl:i}),Fme=async t=>Zt("approvePaymentRequest",{requestId:t.id}),T9=async()=>Zt("getDataVersion",{}),Mme=async()=>Zt("incrementDataVersion",{}),Vb=async()=>Zt("getDoc",{collection:"settings",id:"site"}),Ume=async t=>Zt("updateDoc",{collection:"settings",id:"site",data:t}),zA=async()=>{const t=await Zt("getDoc",{collection:"excel_commands",id:"main"});if(t&&typeof t.config=="string")try{return JSON.parse(t.config)}catch(e){return console.error("Failed to parse excel_commands config",e),null}return(t==null?void 0:t.config)||null},Ome=async t=>Zt("updateDoc",{collection:"excel_commands",id:"main",data:{config:JSON.stringify(t,null,2)}}),uh=t=>({getAll:()=>Zt("getCollection",{collection:t}),get:e=>Zt("getDoc",{collection:t,id:e}),create:async e=>await Zt("createDoc",{collection:t,data:e}),update:async(e,n)=>{await Zt("updateDoc",{collection:t,id:e,data:n})},delete:async e=>{await Zt("deleteDoc",{collection:t,id:e})}}),hf={getAll:()=>Zt("getCollection",{collection:"pages"}),create:async t=>{const e=await Zt("createDoc",{collection:"pages",data:t});return await Cr("pages",e),e},update:async(t,e)=>{await Zt("updateDoc",{collection:"pages",id:t,data:e});const n=await ga("pages",t);n&&await Cr("pages",{...n,...e,id:t})},delete:async t=>{await Zt("deleteDoc",{collection:"pages",id:t}),await $f("pages",t)},toggleStatus:async(t,e)=>{const n={enabled:!e};await Zt("updateDoc",{collection:"pages",id:t,data:n});const r=await ga("pages",t);r&&await Cr("pages",{...r,...n,id:t})}},Rp={...uh("ads"),toggleStatus:async(t,e)=>{const n={enabled:!e};await Zt("updateDoc",{collection:"ads",id:t,data:n});const r=await ga("ads",t);r&&await Cr("ads",{...r,...n,id:t})}},bl={...uh("blog"),create:async t=>{const e=await Zt("createDoc",{collection:"blog",data:t});return await Cr("blogPosts",e),e},update:async(t,e)=>{await Zt("updateDoc",{collection:"blog",id:t,data:e});const n=await ga("blogPosts",t);n&&await Cr("blogPosts",{...n,...e,id:t})},delete:async t=>{await Zt("deleteDoc",{collection:"blog",id:t}),await $f("blogPosts",t)},toggleStatus:async(t,e)=>{const n={enabled:!e};await Zt("updateDoc",{collection:"blog",id:t,data:n});const r=await ga("blogPosts",t);r&&await Cr("blogPosts",{...r,...n,id:t})}},Z0=uh("codes"),pf=uh("sites"),_f=uh("staticDocuments"),E9={getAll:()=>Zt("getCollection",{collection:"voice_prompts"}),create:async t=>{const e=await Dm(t),n=await Zt("createDoc",{collection:"voice_prompts",data:{name:t.name,url:e,createdAt:new Date().toISOString()}});return await Cr("voice_prompts",n),n},delete:async(t,e)=>{await Zt("deleteFile",{fileUrl:e}),await Zt("deleteDoc",{collection:"voice_prompts",id:t}),await $f("voice_prompts",t)}},Dp={getAll:async()=>{const t=await Zt("getClients",{});return await Vi("clients",t),t},create:async t=>{const e=await Zt("createClient",{clientData:t});return await Cr("clients",e),e},update:async(t,e)=>{await Zt("updateClient",{id:t,updates:e});const n=await ga("clients",t);n&&await Cr("clients",{...n,...e,id:t})},delete:async t=>{await Zt("deleteClient",{id:t}),await $f("clients",t)}},Dl={...uh("documents"),create:async t=>{const{id:e,...n}=t,r=await Zt("createDocWithId",{collection:"documents",id:e,data:n});return await Cr("documents",r),await Cr("fullDocuments",r),r}},mf=()=>Zt("getCollection",{collection:"documents"}),Am=uh("baseTemplates"),C9=t=>t?t.replace(/\s{2,}/g," ").replace(/\n/g,"").trim():"",Lme=async t=>{const e=`<!DOCTYPE html><html lang="ar" dir="rtl"><head><meta charset="UTF-8"><title>${t.prompt}</title><style>${t.sharedStyles}</style></head><body>${t.previewHtml}</body></html>`,n=`<!DOCTYPE html><html lang="ar" dir="rtl"><head><meta charset="UTF-8"><title>${t.prompt}</title><style>${t.sharedStyles}</style></head><body>${t.templateHtml}</body></html>`,r={name:t.prompt,description:t.description,tags:t.tags,requiredFields:t.requiredFields,complexFields:t.complexFields,slug:_me(t.prompt),previewTemplateHtml:C9(e),finalTemplateHtml:C9(n),previewTemplateUrl:"",finalTemplateUrl:""};if(t.docToEdit)await Dl.update(t.docToEdit.id,r);else{const i=t.fileNameBase,s={...r,id:i,groupId:i};await Dl.create(s)}},HA=async()=>{const t=await Zt("getDoc",{collection:"document_commands",id:"main"});if(t&&typeof t.config=="string")try{return JSON.parse(t.config)}catch(e){return console.error("Failed to parse document_commands config",e),null}return(t==null?void 0:t.config)||null},jme=async t=>Zt("updateDoc",{collection:"document_commands",id:"main",data:{config:JSON.stringify(t,null,2)}}),ey=t=>{const e=/\[([a-zA-Z0-9_]+)\]/g,n=[...t.matchAll(e)],r=new Set(n.map(a=>a[1])),i=new Set(Object.keys(di)),s=Array.from(r).filter(a=>i.has(a));return[...new Set(s)]},vc=async(t,e,n=!1)=>{var r;switch(t){case"cafes":return i=await WA(),i.filter(h=>h.isProfilePublished&&(!e||e==="global"||h.countryCode===e)).map(({id:h,numericId:p,name:v,owner:g,countryCode:y,address:_,description:x,imageUrl:w,coverImageUrl:C,googleMapsUrl:S,phone:R,socials:D,services:N})=>({id:h,numericId:p,name:v,owner:g,countryCode:y,address:_,description:x,imageUrl:w,coverImageUrl:C,googleMapsUrl:S,phone:R,socials:D,services:N}));case"global-services":{const h=Ir.en.map(_=>_.code);let p=[];const v=h.map(_=>ff(`${Il}/data/json/${_}-all-services-public.json`,`${_}-services`).catch(()=>(console.warn(`Could not fetch services for country: ${_}, skipping.`),[])));return(await Promise.all(v)).forEach(_=>{Array.isArray(_)&&(p=p.concat(_))}),Array.from(new Map(p.map(_=>[_.id,_])).values())}case"services":{let[h,p,v]=await Promise.all([mf(),_f.getAll(),pf.getAll()]);const g=[];return{mainData:[...h.map(x=>({...x,serviceType:"doc"})),...p.map(x=>({...x,serviceType:"static-doc"})),...v.map(x=>({...x,serviceType:"site"}))].filter(x=>!x.countryCode||e==="global"||x.countryCode===e).map(x=>{if(x.serviceType==="doc"){const{id:w,name:C,description:S,countryCode:R,slug:D,tags:N,previewTemplateHtml:I,finalTemplateHtml:F,requiredFields:P}=x,k={id:w,name:C,description:S,previewTemplateHtml:I,finalTemplateHtml:F,requiredFields:P||[]};let U=`data/json/documents/${D||w}.json`;R&&R!=="global"&&(U=`data/json/documents/${R}/${D||w}.json`),g.push({path:U,data:k});const{previewTemplateHtml:O,finalTemplateHtml:H,requiredFields:G,complexFields:X,spokenFields:Z,visitorExamplePrompt:z,cafeExamplePrompt:Q,previewTemplateUrl:B,finalTemplateUrl:j,cafeId:q,fieldCustomizations:J,questions:Y,...te}=x;return te}else if(x.serviceType==="static-doc"){const{id:w,name:C,description:S,countryCode:R,fileUrl:D,slug:N,tags:I,serviceType:F}=x;return{id:w,name:C,description:S,countryCode:R,fileUrl:D,slug:N,tags:I,serviceType:F}}else if(x.serviceType==="site"){const{id:w,name:C,url:S,type:R,description:D,countryCode:N,tags:I,slug:F,serviceType:P,templateFields:k,jsonTemplate:U}=x;return{id:w,name:C,url:S,type:R,description:D,countryCode:N,tags:I,slug:F,serviceType:P}}return x}),extraFiles:g}}case"blog":{let h=await bl.getAll();const p=w=>{if(!w)return;if(w instanceof Pr.firestore.Timestamp)return w.toDate().toISOString();if(typeof w=="object"&&w!==null&&typeof w.seconds=="number")return new Date(w.seconds*1e3).toISOString();const C=new Date(w);return isNaN(C.getTime())?String(w):C.toISOString()},v=h.filter(w=>w.enabled).map(w=>({...w,createdAt:p(w.createdAt),publishedAt:p(w.publishedAt)})),g=new Set;v.forEach(w=>{(w.tags?w.tags.split(",").map(S=>S.trim().toLowerCase()).filter(Boolean):[]).forEach(S=>g.add(S))});const y=new Map;Array.from(g).forEach((w,C)=>{y.set(w,C+1)});const x={"tags-map-public.json":[Object.fromEntries(y)]};for(const w of v){const C=w.tags?w.tags.split(",").map(R=>R.trim().toLowerCase()).filter(Boolean):[];if(C.length===0)continue;const S=Object.keys(w.content||{});for(const R of S){const{countryCode:D,...N}=w,I={...N,content:w.content[R]};for(const F of C){const P=y.get(F);if(P===void 0)continue;const k=`${R}-${P}-blog-posts-public.json`;x[k]||(x[k]=[]),x[k].push(I)}}}return x}case"pages":let i=await hf.getAll();return i.filter(h=>h.enabled);case"settings":if(i=await Vb(),!i)return{};const a=(await Rp.getAll()).filter(h=>h.enabled),l=(await hf.getAll()).filter(h=>h.enabled).map(h=>({title:h.title,slug:h.slug,lang:h.lang||"ar"})),{payment:c,ai:u,...f}=i;return{...f,ads:{pdfInterstitialTimer:((r=f.ads)==null?void 0:r.pdfInterstitialTimer)||5,items:a},footerPages:l};case"documents":return i=await mf(),i;case"documents-json":{const h=await mf();let p=h;return e&&e!=="global"?p=h.filter(g=>g.countryCode===e):e==="global"&&(p=h.filter(g=>!g.countryCode||g.countryCode==="global")),p.map(g=>{const y=`${g.slug||g.id}.json`;let _=`data/json/documents/${y}`;return g.countryCode&&g.countryCode!=="global"&&(_=`data/json/documents/${g.countryCode}/${y}`),{path:_,content:JSON.stringify(g,null,2)}})}case"templates-paginated":{let h=await mf();const p=y=>{const{description:_,...x}=y;return x},v=20,g=Math.ceil(h.length/v);if(n){const y=[];for(let _=0;_<g;_++){const x=h.slice(_*v,(_+1)*v);y.push({fileName:`templates-part-${_+1}.json`,data:x.map(p)})}return y}for(let y=0;y<g;y++){const x=h.slice(y*v,(y+1)*v).map(p),w=new Blob([JSON.stringify(x)],{type:"application/json"}),C=URL.createObjectURL(w),S=document.createElement("a");S.href=C,S.download=`templates-part-${y+1}-of-${g}.json`,document.body.appendChild(S),S.click(),document.body.removeChild(S),URL.revokeObjectURL(C),await new Promise(R=>setTimeout(R,300))}return{downloadInitiated:!0,chunks:g}}}};async function Bme(t){const{saveAs:e}=await nte(async()=>{const{saveAs:u}=await import("https://esm.sh/file-saver@2.0.5");return{saveAs:u}},[]),n=new Sp,r=n.folder("json"),i=n.folder("pdf");if(!r||!i)throw new Error("Failed to create folders in zip file.");const s=[{dataType:"cafes",countryCode:t,fileName:`${t}-cafes-public.json`},{dataType:"services",countryCode:t,fileName:`${t}-all-services-public.json`},{dataType:"blog",countryCode:"global",fileName:"blog-posts-public.json"},{dataType:"pages",countryCode:t,fileName:`${t}-pages-public.json`},{dataType:"settings",countryCode:"global",fileName:"site-settings-public.json"},{dataType:"ads",countryCode:"global",fileName:"ads-public.json"}];for(const u of s){const f=await vc(u.dataType,u.countryCode);r.file(u.fileName,JSON.stringify(f))}const a=await vc("templates-paginated","global",!0);if(Array.isArray(a))for(const u of a)r.file(u.fileName,JSON.stringify(u.data));const l=(await _f.getAll()).filter(u=>!u.countryCode||u.countryCode===t);for(const u of l){const f=u.fileUrl.split("/").pop();if(f)try{const h=await fetch(`${Il}/data/pdf/${f}`);if(h.ok){const p=await h.blob();i.file(f,p)}else console.warn(`Could not fetch static PDF: ${Il}/data/pdf/${f}. Status: ${h.status}`)}catch(h){console.error(`Error fetching static PDF: ${Il}/data/pdf/${f}`,h)}}const c=await n.generateAsync({type:"blob"});e(c,`${t}-public-data.zip`)}const IH=V.createContext(void 0),Vme=({children:t})=>{const[e,n]=V.useState(null),[r,i]=V.useState(!0),s=V.useCallback(async p=>{const v=await yme();if(v.length!==0)try{console.log(`Syncing ${v.length} offline transactions...`),await Ame(p,v),await vme(),console.log("Sync successful.");const g=await Ix(p);if(g&&Jr.currentUser){const y={...g,emailVerified:Jr.currentUser.emailVerified};n(y),await Cr("userProfile",{...y,id:"currentUser"})}}catch(g){console.error("Failed to sync pending transactions. They will be retried later.",g)}},[]),a=V.useCallback(async()=>{const p=Jr.currentUser;if(p)try{const v=await Ix(p.uid);if(v){const g={...v,emailVerified:p.emailVerified};n(g),await Cr("userProfile",{...g,id:"currentUser"})}}catch(v){console.error("Failed to refetch user profile:",v)}},[]);V.useEffect(()=>{const p=()=>{e!=null&&e.id&&s(e.id)};return window.addEventListener("online",p),()=>window.removeEventListener("online",p)},[e,s]),V.useEffect(()=>{i(!0);const p=Jr.onAuthStateChanged(async v=>{if(v&&v.email==="mgkrol99@gmail.com"){e&&n(null),i(!1);return}if(v)try{const y=await Ix(v.uid);if(y){const _={...y,emailVerified:v.emailVerified},x=Sm.collection("users").doc(v.uid);!(await x.get()).exists&&y.cafeId&&v.email&&(console.log("Firestore user document for security rules not found. Creating it now..."),await x.set({cafeId:y.cafeId,email:v.email})),n(_),await Cr("userProfile",{..._,id:"currentUser"}),navigator.onLine&&await s(v.uid)}else console.error(`Inconsistent state: User ${v.uid} exists in Auth but not in D1 DB. Forcing logout.`),await Jr.signOut()}catch(y){console.error("Failed to fetch user profile due to API error. Checking local cache for offline support.",y);const _=await ga("userProfile","currentUser");_&&_.id===v.uid?(console.warn("Using stale user profile from local DB due to API failure or offline mode."),n(_)):(console.error(`No valid profile found for ${v.uid} online or locally. Forcing logout.`),await Jr.signOut())}finally{i(!1)}else n(null),await $f("userProfile","currentUser"),i(!1)});return()=>p()},[s]);const o=async p=>{if(e){const v={...e,credits:{...e.credits,amount:p}};n(v),await Cr("userProfile",{...v,id:"currentUser"})}},l=async(p,v)=>{try{const y=(await Jr.signInWithEmailAndPassword(p,v)).user;if(!y)throw new Error("No Firebase user returned after sign-in.");const _=await Ix(y.uid);if(!_)throw await Jr.signOut(),new Error("User profile not found in database.");const x={..._,emailVerified:y.emailVerified};return n(x),await Cr("userProfile",{...x,id:"currentUser"}),x}catch(g){throw console.error("Firebase login error:",g),g}},c=async(p,v,g)=>{try{const y=await Jr.createUserWithEmailAndPassword(p,v);if(y.user){await y.user.sendEmailVerification();const _=await Sme(y.user,g);return _&&_.cafeId?await Sm.collection("users").doc(y.user.uid).set({cafeId:_.cafeId,email:y.user.email}):console.error("Critical Error: User profile was created in D1 but cafeId was not returned. Firestore document for security rules could not be created."),await Jr.signOut(),!0}return!1}catch(y){throw console.error("Signup error:",y),y}},u=async()=>{await Jr.signOut(),n(null),await $f("userProfile","currentUser")},f=async p=>{await Jr.sendPasswordResetEmail(p)},h=async()=>{if(Jr.currentUser)await Jr.currentUser.sendEmailVerification();else throw new Error("No user is currently signed in.")};return d.jsx(IH.Provider,{value:{user:e,loading:r,login:l,signup:c,logout:u,sendPasswordReset:f,resendVerificationEmail:h,updateUserCredits:o,refetchUser:a},children:t})},jr=()=>{const t=V.useContext(IH);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},S9=(t,e)=>e.split(".").reduce((n,r)=>n&&n[r],t),Ui=()=>{const t=Lr(),e=V.useMemo(()=>{const s=t.pathname.match(/^\/([a-z]{2})(?:\/|$)/);return s?s[1]:null},[t.pathname]),n=V.useMemo(()=>Wc(e||"dz"),[e]),r=n==="ar"?"rtl":"ltr";return V.useEffect(()=>{document.documentElement.lang=n,document.documentElement.dir=r},[n,r]),{language:n,t:(s,a)=>{const o=Bb[n],l=Bb.en;let c=S9(o,s)||S9(l,s)||s;return a&&Object.keys(a).forEach(u=>{c=c.replace(new RegExp(`\\{${u}\\}`,"g"),String(a[u]))}),c},dir:r,countryCode:e}};var RH={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},D9=Jo.createContext&&Jo.createContext(RH),Wme=["attr","size","title"];function qme(t,e){if(t==null)return{};var n=$me(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $me(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Wb(){return Wb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wb.apply(this,arguments)}function A9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A9(Object(n),!0).forEach(function(r){zme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zme(t,e,n){return e=Hme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hme(t){var e=Gme(t,"string");return typeof e=="symbol"?e:e+""}function Gme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PH(t){return t&&t.map((e,n)=>Jo.createElement(e.tag,qb({key:n},e.attr),PH(e.child)))}function Ut(t){return e=>Jo.createElement(Kme,Wb({attr:qb({},t.attr)},e),PH(t.child))}function Kme(t){var e=n=>{var{attr:r,size:i,title:s}=t,a=qme(t,Wme),o=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Jo.createElement("svg",Wb({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:l,style:qb(qb({color:t.color||n.color},n.style),t.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),s&&Jo.createElement("title",null,s),t.children)};return D9!==void 0?Jo.createElement(D9.Consumer,null,n=>e(n)):e(RH)}function tI(t){return Ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(t)}function FH(t){return Ut({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function Jme(t){return Ut({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(t)}function Xme(t){return Ut({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M111.4 295.9c-3.5 19.2-17.4 108.7-21.5 134-.3 1.8-1 2.5-3 2.5H12.3c-7.6 0-13.1-6.6-12.1-13.9L58.8 46.6c1.5-9.6 10.1-16.9 20-16.9 152.3 0 165.1-3.7 204 11.4 60.1 23.3 65.6 79.5 44 140.3-21.5 62.6-72.5 89.5-140.1 90.3-43.4.7-69.5-7-75.3 24.2zM357.1 152c-1.8-1.3-2.5-1.8-3 1.3-2 11.4-5.1 22.5-8.8 33.6-39.9 113.8-150.5 103.9-204.5 103.9-6.1 0-10.1 3.3-10.9 9.4-22.6 140.4-27.1 169.7-27.1 169.7-1 7.1 3.5 12.9 10.6 12.9h63.5c8.6 0 15.7-6.3 17.4-14.9.7-5.4-1.1 6.1 14.4-91.3 4.6-22 14.3-19.7 29.3-19.7 71 0 126.4-28.8 142.9-112.3 6.5-34.8 4.6-71.4-23.8-92.6z"},child:[]}]})(t)}function Yme(t){return Ut({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M496 256c0 137-111 248-248 248-25.6 0-50.2-3.9-73.4-11.1 10.1-16.5 25.2-43.5 30.8-65 3-11.6 15.4-59 15.4-59 8.1 15.4 31.7 28.5 56.8 28.5 74.8 0 128.7-68.8 128.7-154.3 0-81.9-66.9-143.2-152.9-143.2-107 0-163.9 71.8-163.9 150.1 0 36.4 19.4 81.7 50.3 96.1 4.7 2.2 7.2 1.2 8.3-3.3.8-3.4 5-20.3 6.9-28.1.6-2.5.3-4.7-1.7-7.1-10.1-12.5-18.3-35.3-18.3-56.6 0-54.7 41.4-107.6 112-107.6 60.9 0 103.6 41.5 103.6 100.9 0 67.1-33.9 113.6-78 113.6-24.3 0-42.6-20.1-36.7-44.8 7-29.5 20.5-61.3 20.5-82.6 0-19-10.2-34.9-31.4-34.9-24.9 0-44.9 25.7-44.9 60.2 0 22 7.4 36.8 7.4 36.8s-24.5 103.8-29 123.2c-5 21.4-3 51.6-.9 71.2C65.4 450.9 0 361.1 0 256 0 119 111 8 248 8s248 111 248 248z"},child:[]}]})(t)}function Qme(t){return Ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M201.5 305.5c-13.8 0-24.9-11.1-24.9-24.6 0-13.8 11.1-24.9 24.9-24.9 13.6 0 24.6 11.1 24.6 24.9 0 13.6-11.1 24.6-24.6 24.6zM504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zm-132.3-41.2c-9.4 0-17.7 3.9-23.8 10-22.4-15.5-52.6-25.5-86.1-26.6l17.4-78.3 55.4 12.5c0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.3 24.9-24.9s-11.1-24.9-24.9-24.9c-9.7 0-18 5.8-22.1 13.8l-61.2-13.6c-3-.8-6.1 1.4-6.9 4.4l-19.1 86.4c-33.2 1.4-63.1 11.3-85.5 26.8-6.1-6.4-14.7-10.2-24.1-10.2-34.9 0-46.3 46.9-14.4 62.8-1.1 5-1.7 10.2-1.7 15.5 0 52.6 59.2 95.2 132 95.2 73.1 0 132.3-42.6 132.3-95.2 0-5.3-.6-10.8-1.9-15.8 31.3-16 19.8-62.5-14.9-62.5zM302.8 331c-18.2 18.2-76.1 17.9-93.6 0-2.2-2.2-6.1-2.2-8.3 0-2.5 2.5-2.5 6.4 0 8.6 22.8 22.8 87.3 22.8 110.2 0 2.5-2.2 2.5-6.1 0-8.6-2.2-2.2-6.1-2.2-8.3 0zm7.7-75c-13.6 0-24.6 11.1-24.6 24.9 0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.1 24.9-24.6 0-13.8-11-24.9-24.9-24.9z"},child:[]}]})(t)}function MH(t){return Ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function nI(t){return Ut({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(t)}function UH(t){return Ut({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M576 240c0-23.63-12.95-44.04-32-55.12V32.01C544 23.26 537.02 0 512 0c-7.12 0-14.19 2.38-19.98 7.02l-85.03 68.03C364.28 109.19 310.66 128 256 128H64c-35.35 0-64 28.65-64 64v96c0 35.35 28.65 64 64 64h33.7c-1.39 10.48-2.18 21.14-2.18 32 0 39.77 9.26 77.35 25.56 110.94 5.19 10.69 16.52 17.06 28.4 17.06h74.28c26.05 0 41.69-29.84 25.9-50.56-16.4-21.52-26.15-48.36-26.15-77.44 0-11.11 1.62-21.79 4.41-32H256c54.66 0 108.28 18.81 150.98 52.95l85.03 68.03a32.023 32.023 0 0 0 19.98 7.02c24.92 0 32-22.78 32-32V295.13C563.05 284.04 576 263.63 576 240zm-96 141.42l-33.05-26.44C392.95 311.78 325.12 288 256 288v-96c69.12 0 136.95-23.78 190.95-66.98L480 98.58v282.84z"},child:[]}]})(t)}function tg(t){return Ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(t)}function OH(t){return Ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function N9(t){return Ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function Qd(t){return Ut({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(t)}function _w(t){return Ut({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(t)}function ww(t){return Ut({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(t)}function GA(t){return Ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"},child:[]}]})(t)}function Zme(t){return Ut({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z"},child:[]}]})(t)}function dp(t){return Ut({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z"},child:[]}]})(t)}function ege(t){return Ut({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"},child:[]}]})(t)}function LH(t){return Ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}function rI(t){return Ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32zM128 272c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(t)}function iI(t){return Ut({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(t)}function tge(t){return Ut({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"},child:[]}]})(t)}function $o(t){return Ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function Tw(t){return Ut({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function nge(t){return Ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.941 273.941c18.745-18.745 18.745-49.137 0-67.882l-160-160c-18.745-18.745-49.136-18.746-67.883 0l-256 256c-18.745 18.745-18.745 49.137 0 67.882l96 96A48.004 48.004 0 0 0 144 480h356c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12H355.883l142.058-142.059zm-302.627-62.627l137.373 137.373L265.373 416H150.628l-80-80 124.686-124.686z"},child:[]}]})(t)}function Ew(t){return Ut({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function rge(t){return Ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},child:[]}]})(t)}function jH(t){return Ut({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function KA(t){return Ut({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function ige(t){return Ut({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M384 121.941V128H256V0h6.059c6.365 0 12.47 2.529 16.971 7.029l97.941 97.941A24.005 24.005 0 0 1 384 121.941zM248 160c-13.2 0-24-10.8-24-24V0H24C10.745 0 0 10.745 0 24v464c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V160H248zM123.206 400.505a5.4 5.4 0 0 1-7.633.246l-64.866-60.812a5.4 5.4 0 0 1 0-7.879l64.866-60.812a5.4 5.4 0 0 1 7.633.246l19.579 20.885a5.4 5.4 0 0 1-.372 7.747L101.65 336l40.763 35.874a5.4 5.4 0 0 1 .372 7.747l-19.579 20.884zm51.295 50.479l-27.453-7.97a5.402 5.402 0 0 1-3.681-6.692l61.44-211.626a5.402 5.402 0 0 1 6.692-3.681l27.452 7.97a5.4 5.4 0 0 1 3.68 6.692l-61.44 211.626a5.397 5.397 0 0 1-6.69 3.681zm160.792-111.045l-64.866 60.812a5.4 5.4 0 0 1-7.633-.246l-19.58-20.885a5.4 5.4 0 0 1 .372-7.747L284.35 336l-40.763-35.874a5.4 5.4 0 0 1-.372-7.747l19.58-20.885a5.4 5.4 0 0 1 7.633-.246l64.866 60.812a5.4 5.4 0 0 1-.001 7.879z"},child:[]}]})(t)}function BH(t){return Ut({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm60.1 106.5L224 336l60.1 93.5c5.1 8-.6 18.5-10.1 18.5h-34.9c-4.4 0-8.5-2.4-10.6-6.3C208.9 405.5 192 373 192 373c-6.4 14.8-10 20-36.6 68.8-2.1 3.9-6.1 6.3-10.5 6.3H110c-9.5 0-15.2-10.5-10.1-18.5l60.3-93.5-60.3-93.5c-5.2-8 .6-18.5 10.1-18.5h34.8c4.4 0 8.5 2.4 10.6 6.3 26.1 48.8 20 33.6 36.6 68.5 0 0 6.1-11.7 36.6-68.5 2.1-3.9 6.2-6.3 10.6-6.3H274c9.5-.1 15.2 10.4 10.1 18.4zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function Cw(t){return Ut({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"},child:[]}]})(t)}function VH(t){return Ut({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M218.17 424.14c-2.95-5.92-8.09-6.52-10.17-6.52s-7.22.59-10.02 6.19l-7.67 15.34c-6.37 12.78-25.03 11.37-29.48-2.09L144 386.59l-10.61 31.88c-5.89 17.66-22.38 29.53-41 29.53H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h12.39c4.83 0 9.11-3.08 10.64-7.66l18.19-54.64c3.3-9.81 12.44-16.41 22.78-16.41s19.48 6.59 22.77 16.41l13.88 41.64c19.75-16.19 54.06-9.7 66 14.16 1.89 3.78 5.49 5.95 9.36 6.26v-82.12l128-127.09V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24v-40l-128-.11c-16.12-.31-30.58-9.28-37.83-23.75zM384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1zm-96 225.06V416h68.99l161.68-162.78-67.88-67.88L288 346.96zm280.54-179.63l-31.87-31.87c-9.94-9.94-26.07-9.94-36.01 0l-27.25 27.25 67.88 67.88 27.25-27.25c9.95-9.94 9.95-26.07 0-36.01z"},child:[]}]})(t)}function sge(t){return Ut({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm65.18 216.01H224v80c0 8.84-7.16 16-16 16h-32c-8.84 0-16-7.16-16-16v-80H94.82c-14.28 0-21.41-17.29-11.27-27.36l96.42-95.7c6.65-6.61 17.39-6.61 24.04 0l96.42 95.7c10.15 10.07 3.03 27.36-11.25 27.36zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(t)}function sI(t){return Ut({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm57.1 120H305c7.7 0 13.4 7.1 11.7 14.7l-38 168c-1.2 5.5-6.1 9.3-11.7 9.3h-38c-5.5 0-10.3-3.8-11.6-9.1-25.8-103.5-20.8-81.2-25.6-110.5h-.5c-1.1 14.3-2.4 17.4-25.6 110.5-1.3 5.3-6.1 9.1-11.6 9.1H117c-5.6 0-10.5-3.9-11.7-9.4l-37.8-168c-1.7-7.5 4-14.6 11.7-14.6h24.5c5.7 0 10.7 4 11.8 9.7 15.6 78 20.1 109.5 21 122.2 1.6-10.2 7.3-32.7 29.4-122.7 1.3-5.4 6.1-9.1 11.7-9.1h29.1c5.6 0 10.4 3.8 11.7 9.2 24 100.4 28.8 124 29.6 129.4-.2-11.2-2.6-17.8 21.6-129.2 1-5.6 5.9-9.5 11.5-9.5zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function age(t){return Ut({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z"},child:[]}]})(t)}function Xy(t){return Ut({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(t)}function oge(t){return Ut({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM144 32h96c8.8 0 16 7.2 16 16s-7.2 16-16 16h-96c-8.8 0-16-7.2-16-16s7.2-16 16-16zm48 128c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zm112 236.8c0 10.6-10 19.2-22.4 19.2H102.4C90 416 80 407.4 80 396.8v-19.2c0-31.8 30.1-57.6 67.2-57.6h5c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h5c37.1 0 67.2 25.8 67.2 57.6v19.2z"},child:[]}]})(t)}function WH(t){return Ut({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 32H48C21.5 32 0 53.5 0 80v16h576V80c0-26.5-21.5-48-48-48zM0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V128H0v304zm352-232c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zM176 192c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zM67.1 396.2C75.5 370.5 99.6 352 128 352h8.2c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h8.2c28.4 0 52.5 18.5 60.9 44.2 3.2 9.9-5.2 19.8-15.6 19.8H82.7c-10.4 0-18.8-10-15.6-19.8z"},child:[]}]})(t)}function lge(t){return Ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(t)}function qH(t){return Ut({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h480c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM128 180v-40c0-6.627-5.373-12-12-12H76c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm-336 96v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm-336 96v-40c0-6.627-5.373-12-12-12H76c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm288 0v-40c0-6.627-5.373-12-12-12H172c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h232c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12z"},child:[]}]})(t)}function $H(t){return Ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"},child:[]}]})(t)}function cge(t){return Ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M48 48a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm448 16H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(t)}function zH(t){return Ut({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(t)}function ya(t){return Ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M224 96l16-32 32-16-32-16-16-32-16 32-32 16 32 16 16 32zM80 160l26.66-53.33L160 80l-53.34-26.67L80 0 53.34 53.33 0 80l53.34 26.67L80 160zm352 128l-26.66 53.33L352 368l53.34 26.67L432 448l26.66-53.33L512 368l-53.34-26.67L432 288zm70.62-193.77L417.77 9.38C411.53 3.12 403.34 0 395.15 0c-8.19 0-16.38 3.12-22.63 9.38L9.38 372.52c-12.5 12.5-12.5 32.76 0 45.25l84.85 84.85c6.25 6.25 14.44 9.37 22.62 9.37 8.19 0 16.38-3.12 22.63-9.37l363.14-363.15c12.5-12.48 12.5-32.75 0-45.24zM359.45 203.46l-50.91-50.91 86.6-86.6 50.91 50.91-86.6 86.6z"},child:[]}]})(t)}function uge(t){return Ut({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function aI(t){return Ut({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M633.82 458.1l-157.8-121.96C488.61 312.13 496 285.01 496 256v-48c0-8.84-7.16-16-16-16h-16c-8.84 0-16 7.16-16 16v48c0 17.92-3.96 34.8-10.72 50.2l-26.55-20.52c3.1-9.4 5.28-19.22 5.28-29.67V96c0-53.02-42.98-96-96-96s-96 42.98-96 96v45.36L45.47 3.37C38.49-2.05 28.43-.8 23.01 6.18L3.37 31.45C-2.05 38.42-.8 48.47 6.18 53.9l588.36 454.73c6.98 5.43 17.03 4.17 22.46-2.81l19.64-25.27c5.41-6.97 4.16-17.02-2.82-22.45zM400 464h-56v-33.77c11.66-1.6 22.85-4.54 33.67-8.31l-50.11-38.73c-6.71.4-13.41.87-20.35.2-55.85-5.45-98.74-48.63-111.18-101.85L144 241.31v6.85c0 89.64 63.97 169.55 152 181.69V464h-56c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16z"},child:[]}]})(t)}function Rc(t){return Ut({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M176 352c53.02 0 96-42.98 96-96V96c0-53.02-42.98-96-96-96S80 42.98 80 96v160c0 53.02 42.98 96 96 96zm160-160h-16c-8.84 0-16 7.16-16 16v48c0 74.8-64.49 134.82-140.79 127.38C96.71 376.89 48 317.11 48 250.3V208c0-8.84-7.16-16-16-16H16c-8.84 0-16 7.16-16 16v40.16c0 89.64 63.97 169.55 152 181.69V464H96c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16h-56v-33.77C285.71 418.47 352 344.9 352 256v-48c0-8.84-7.16-16-16-16z"},child:[]}]})(t)}function ty(t){return Ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(t)}function dge(t){return Ut({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"},child:[]}]})(t)}function fge(t){return Ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}function HH(t){return Ut({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(t)}function xc(t){return Ut({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function Sw(t){return Ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 192V77.25c0-8.49-3.37-16.62-9.37-22.63L393.37 9.37c-6-6-14.14-9.37-22.63-9.37H96C78.33 0 64 14.33 64 32v160c-35.35 0-64 28.65-64 64v112c0 8.84 7.16 16 16 16h48v96c0 17.67 14.33 32 32 32h320c17.67 0 32-14.33 32-32v-96h48c8.84 0 16-7.16 16-16V256c0-35.35-28.65-64-64-64zm-64 256H128v-96h256v96zm0-224H128V64h192v48c0 8.84 7.16 16 16 16h48v96zm48 72c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"},child:[]}]})(t)}function Dw(t){return Ut({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(t)}function JA(t){return Ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function Tt(t){return Ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(t)}function hge(t){return Ut({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function pge(t){return Ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"},child:[]}]})(t)}function GH(t){return Ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 32h192c13.255 0 24 10.745 24 24v160c0 13.255-10.745 24-24 24H296c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24zm-80 0H24C10.745 32 0 42.745 0 56v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24zM0 296v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zm296 184h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H296c-13.255 0-24 10.745-24 24v160c0 13.255 10.745 24 24 24z"},child:[]}]})(t)}function rd(t){return Ut({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function dh(t){return Ut({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function mge(t){return Ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M212.333 224.333H12c-6.627 0-12-5.373-12-12V12C0 5.373 5.373 0 12 0h48c6.627 0 12 5.373 12 12v78.112C117.773 39.279 184.26 7.47 258.175 8.007c136.906.994 246.448 111.623 246.157 248.532C504.041 393.258 393.12 504 256.333 504c-64.089 0-122.496-24.313-166.51-64.215-5.099-4.622-5.334-12.554-.467-17.42l33.967-33.967c4.474-4.474 11.662-4.717 16.401-.525C170.76 415.336 211.58 432 256.333 432c97.268 0 176-78.716 176-176 0-97.267-78.716-176-176-176-58.496 0-110.28 28.476-142.274 72.333h98.274c6.627 0 12 5.373 12 12v48c0 6.627-5.373 12-12 12z"},child:[]}]})(t)}function $l(t){return Ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function gge(t){return Ut({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.3 271.1l-115.2-45c-4.1-1.6-12.6-3.7-22.2 0l-115.2 45c-10.7 4.2-17.7 14-17.7 24.9 0 111.6 68.7 188.8 132.9 213.9 9.6 3.7 18 1.6 22.2 0C558.4 489.9 640 420.5 640 296c0-10.9-7-20.7-17.7-24.9zM496 462.4V273.3l95.5 37.3c-5.6 87.1-60.9 135.4-95.5 151.8zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm96 40c0-2.5.8-4.8 1.1-7.2-2.5-.1-4.9-.8-7.5-.8h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c6.8 0 13.3-1.5 19.2-4-54-42.9-99.2-116.7-99.2-212z"},child:[]}]})(t)}function yge(t){return Ut({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function vge(t){return Ut({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}const xge=()=>{const{user:t,logout:e}=jr(),n=Fi(),{t:r,countryCode:i,language:s}=Ui(),[a,o]=V.useState("G"),[l,c]=V.useState(!1),[u,f]=V.useState(!1),[h,p]=V.useState(!1),v=V.useRef(null),g=i?`/${i}/`:"/",y=V.useMemo(()=>Ir[s]||Ir.en,[s]),_=V.useMemo(()=>{const D=new Set;return Object.values(Ir).forEach(N=>N.forEach(I=>D.add(I.code))),Array.from(D)},[]),x=V.useMemo(()=>_.map(D=>y.find(N=>N.code===D)||Ir.en.find(N=>N.code===D)||{name:D.toUpperCase(),code:D,phoneCode:"",flag:""}).sort((D,N)=>D.name.localeCompare(N.name,s)),[_,y,s]),w=V.useMemo(()=>i?x.find(D=>D.code===i):null,[i,x]);V.useEffect(()=>{let D,N;const I=setInterval(()=>{c(!0),N=setTimeout(()=>{o(F=>F==="G"?"@":"G")},250),D=setTimeout(()=>{c(!1)},500)},2500);return()=>{clearInterval(I),clearTimeout(D),clearTimeout(N)}},[]),V.useEffect(()=>{const D=N=>{v.current&&!v.current.contains(N.target)&&f(!1)};return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[]);const C=()=>{e(),n("/")},S=D=>{f(!1),n(D==="global"?"/":`/${D}/`)},R=D=>{i||(D.preventDefault(),p(!0))};return d.jsxs(d.Fragment,{children:[d.jsx("header",{className:"bg-white shadow-md sticky top-0 z-50",children:d.jsxs("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs(dn,{to:"/",className:"flex items-center gap-3 logo-link","aria-label":"Gitut Home",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-green-600",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M14 2H6C4.9 2 4 2.9 4 4V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V8L14 2ZM18 20H6V4H13V9H18V20Z"})}),d.jsxs("span",{className:"text-2xl font-bold text-gray-900",dir:"ltr",children:[d.jsx("span",{className:`char-flipper ${l?"swapping":""}`,children:a}),"itut"]})]}),d.jsxs("div",{className:"relative",ref:v,children:[d.jsxs("button",{onClick:()=>f(!u),className:"flex items-center gap-2 px-3 py-2 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:[w?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"text-xl",children:w.flag}),d.jsx("span",{className:"font-semibold text-gray-800",children:w.name})]}):d.jsxs(d.Fragment,{children:[d.jsx(Xy,{className:"text-gray-600"}),d.jsx("span",{className:"font-semibold text-gray-800",children:r("header.allCountries")})]}),d.jsx(Qd,{className:"text-gray-500 text-xs"})]}),u&&d.jsx("div",{className:"absolute top-full right-0 mt-2 w-56 bg-white rounded-lg shadow-xl border z-10",children:d.jsxs("ul",{className:"py-1 max-h-72 overflow-y-auto",children:[d.jsx("li",{children:d.jsxs("button",{onClick:()=>S("global"),className:"w-full text-right flex items-center gap-3 px-4 py-2 hover:bg-gray-100",children:[d.jsx(Xy,{className:"text-gray-600"}),d.jsx("span",{children:r("header.allCountriesSearch")})]})}),x.map(D=>d.jsx("li",{children:d.jsxs("button",{onClick:()=>S(D.code),className:"w-full text-right flex items-center gap-3 px-4 py-2 hover:bg-gray-100",children:[d.jsx("span",{className:"text-xl",children:D.flag}),d.jsx("span",{children:D.name})]})},D.code))]})})]})]}),d.jsx("nav",{className:"flex items-center gap-6",children:t?d.jsxs(d.Fragment,{children:[d.jsx(dn,{to:`/${i||"dz"}/app/`,className:"text-gray-700 hover:text-green-600 font-semibold",children:r("header.dashboard")}),d.jsx("button",{onClick:C,className:"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors font-semibold",children:r("header.logout")})]}):d.jsxs(d.Fragment,{children:[d.jsx(dn,{to:g,className:"text-gray-700 hover:text-green-600 font-semibold",children:r("header.search")}),d.jsx(dn,{to:`/${i||"dz"}/login/`,onClick:R,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors font-semibold",children:r("header.login")})]})})]})}),h&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[100] flex justify-center items-center",onClick:()=>p(!1),children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-sm",onClick:D=>D.stopPropagation(),children:[d.jsx("h3",{className:"text-xl font-bold mb-4 text-center",children:r("header.selectCafeCountry")}),d.jsx("ul",{className:"space-y-2 max-h-72 overflow-y-auto",children:x.map(D=>d.jsx("li",{children:d.jsxs(dn,{to:`/${D.code}/login/`,onClick:()=>p(!1),className:"w-full text-right flex items-center gap-3 px-4 py-3 bg-gray-50 rounded-lg hover:bg-gray-100",children:[d.jsx("span",{className:"text-2xl",children:D.flag}),d.jsx("span",{className:"font-semibold",children:D.name})]})},D.code))})]})})]})},KH=V.createContext(void 0),bge=({children:t})=>{const[e,n]=V.useState(null),r=(s,a)=>{const o="mgkrol99@gmail.com";return s===o&&a==="@Youyou1936@"?(n({id:"admin-user",email:o,role:"admin"}),!0):!1},i=()=>{n(null)};return d.jsx(KH.Provider,{value:{admin:e,login:r,logout:i},children:t})},Q1=()=>{const t=V.useContext(KH);if(t===void 0)throw new Error("useAdminAuth must be used within an AdminAuthProvider");return t},JH=V.createContext(void 0),_ge=({children:t})=>{const{user:e,loading:n}=jr(),{admin:r}=Q1(),i=Lr(),s=i.pathname.startsWith("/admin"),a=i.pathname.includes("/app"),[o,l]=V.useState([]),[c,u]=V.useState([]),[f,h]=V.useState([]),[p,v]=V.useState([]),[g,y]=V.useState([]),[_,x]=V.useState(null),[w,C]=V.useState([]),[S,R]=V.useState([]),[D,N]=V.useState([]),[I,F]=V.useState([]),[P,k]=V.useState([]),[U,O]=V.useState([]),[H,G]=V.useState([]),[X,Z]=V.useState([]),[z,Q]=V.useState([]),[B,j]=V.useState([]),[q,J]=V.useState(null),[Y,te]=V.useState(null),[oe,de]=V.useState(!0),[fe,Ce]=V.useState(!0),[Pe,pe]=V.useState(!1),[Me,W]=V.useState(null),ge=be=>be?be.map(Ie=>{if(!Ie)return Ie;const Le=Te=>{if(!Te)return;if(Te instanceof Pr.firestore.Timestamp)return Te;if(typeof Te=="object"&&Te!==null&&typeof Te.seconds=="number"&&typeof Te.nanoseconds=="number")return new Pr.firestore.Timestamp(Te.seconds,Te.nanoseconds);const Ue=new Date(Te);if(!isNaN(Ue.getTime()))return Pr.firestore.Timestamp.fromDate(Ue)};return{...Ie,createdAt:Le(Ie.createdAt)||Pr.firestore.Timestamp.now(),publishedAt:Le(Ie.publishedAt)}}):[],_e=async()=>{console.log("Attempting to load admin dashboard data from IndexedDB...");try{const[be,Ie,Le,Te,Ue,Oe,Je,ot,lt,Bt,fn,ln]=await Promise.all([Di("cafes"),Di("fullDocuments"),Di("staticDocuments"),Di("sites"),Di("baseTemplates"),ga("siteSettings","main"),Di("codes"),Di("pages"),Di("blogPosts"),Di("ads"),Di("voice_prompts"),ga("offlineMetadata","syncStatus")]);if(Ie.length>0||be.length>0)return u(Ie),l(Ie),h(Le),F(Te),v(be),j(Ue),x(Oe),Z(Je),C(ot),R(ge(lt)),N(Bt),Q(fn),console.log("Successfully loaded admin dashboard data from IndexedDB."),(ln==null?void 0:ln.version)||0}catch(be){console.error("Could not load admin dashboard data from IndexedDB:",be)}return 0},ce=V.useCallback(async be=>{const[Ie,Le,Te,Ue,Oe,Je,ot,lt,Bt,fn,ln,Kn,Rn]=await Promise.all([WA(),mf(),_f.getAll(),Vb(),hf.getAll(),bl.getAll(),Rp.getAll(),pf.getAll(),Z0.getAll(),E9.getAll(),Am.getAll(),zA(),HA()]),Vn=await fetch("https://datas.gitut.com/data/json/site-seo.json"),yn=Vn.ok?await Vn.json():{},It=ge(Je);l(Le),u(Le),h(Te),v(Ie),Z(Bt),Q(fn),j(ln),J(Kn),te(Rn);const We={...li,...Ue||{},seo:{...(Ue==null?void 0:Ue.seo)||{},...yn},payment:{...li.payment,...(Ue==null?void 0:Ue.payment)||{}},pricing:{...li.pricing,...(Ue==null?void 0:Ue.pricing)||{}},social:{...li.social,...(Ue==null?void 0:Ue.social)||{}},ads:{...li.ads,...(Ue==null?void 0:Ue.ads)||{}},ai:{...li.ai,...(Ue==null?void 0:Ue.ai)||{}}};x(We),C(Oe),R(It),N(ot),F(lt);const se=[...Le.map(he=>({...he,serviceType:"doc"})),...Te.map(he=>({...he,serviceType:"static-doc"})),...lt.map(he=>({...he,serviceType:"site"}))];y(se),await Promise.all([Vi("cafes",Ie),Vi("fullDocuments",Le),Vi("staticDocuments",Te),Vi("sites",lt),Vi("baseTemplates",ln),Vi("codes",Bt),Vi("pages",Oe),Vi("blogPosts",It),Vi("ads",ot),Vi("voice_prompts",fn),Cr("siteSettings",{...We,id:"main"}),Cr("offlineMetadata",{id:"syncStatus",version:be})])},[]),re=V.useCallback(async()=>{if(!r)throw new Error("Admin not authenticated for refetch.");de(!0);try{const{version:be}=await T9();await ce(be)}finally{de(!1)}},[r,ce]),le=V.useCallback(async()=>{try{console.log("Refetching all cafes...");const be=await WA();v(be),await Vi("cafes",be),console.log("Cafes refetched and cache updated.")}catch(be){console.error("Failed to refetch cafes:",be)}},[]);V.useEffect(()=>{const be=async()=>{console.log("Attempting to load user dashboard data from IndexedDB...");try{const[Le,Te,Ue,Oe,Je,ot,lt]=await Promise.all([Di("cafes"),Di("fullDocuments"),Di("staticDocuments"),Di("sites"),Di("baseTemplates"),ga("siteSettings","main"),Di("codes")]);if(Te.length>0)return v(Le),u(Te),h(Ue),F(Oe),j(Je),x(ot),Z(lt),l(Te),console.log("Successfully loaded user dashboard data from IndexedDB."),!0}catch(Le){console.error("Could not load user dashboard data from IndexedDB:",Le)}return!1};(async()=>{if(!n){if(s&&!r){de(!1),Ce(!1);return}if(de(!0),W(null),s&&r){const Le=await _e();de(!1);try{const{version:Te}=await T9();Te>Le?(console.log(`New data version available. Local: ${Le}, Remote: ${Te}. Syncing...`),await ce(Te),console.log("Admin data synced from network and cache updated.")):console.log("Local admin data is up to date.")}catch(Te){const Ue=Te instanceof Error?Te.message:String(Te);console.error("Could not check for remote data updates. Running on cached data.",Te),Le===0&&(Ue.includes("no such table: data_versions")?W("<strong>    .</strong><br/>  'data_versions'  .<br/>   'Troubleshooting'   <code>readme.md</code>    ."):W(Ue))}}else if(!s){a&&e&&await be()&&de(!1);try{const Le=i.pathname.match(/^\/([a-z]{2})(?:\/|$)/),Te=Le?Le[1]:null,Ue=e?Z0.getAll():Promise.resolve([]),Oe=e?E9.getAll():Promise.resolve([]),Je=e?zA():Promise.resolve(null),ot=e?HA():Promise.resolve(null),lt=e?Vb():Promise.resolve(null),Bt=e!=null&&e.cafeId?Zk(e.cafeId):Promise.resolve(null);if(Te){const Vn=x9(Te),yn=b9(Te),[It,We,se,he,Re,qe,st,wt]=await Promise.all([Vn,yn,Ue,Oe,Je,ot,lt,Bt]);let Ot=Array.isArray(It.cafes)?It.cafes:[];if(wt){const vn=Ot.findIndex(mn=>mn.id===wt.id);vn>-1?Ot[vn]=wt:Ot.push(wt)}l(Array.isArray(It.documents)?It.documents:[]),h(Array.isArray(It.staticDocuments)?It.staticDocuments:[]),v(Ot);const Kt=st?{...It.siteSettings,...st,ads:It.siteSettings.ads}:It.siteSettings;x(Kt),C(Array.isArray(It.pages)?It.pages:[]),R(Array.isArray(It.blogPosts)?It.blogPosts:[]),N(Array.isArray(It.ads)?It.ads:[]),F(Array.isArray(It.sites)?It.sites:[]),y(Array.isArray(It.services)?It.services:[]),k(Array.isArray(We==null?void 0:We.wilayas)?We.wilayas:[]),O(Array.isArray(We==null?void 0:We.dairas)?We.dairas:[]),G(Array.isArray(We==null?void 0:We.communes)?We.communes:[]),Ce(!1)}else{Ce(!0);const[Vn,yn,It]=await Promise.all([bme(),x9("dz"),b9("dz")]),We=Array.isArray(Vn)?Vn:[];y(We),v([]);const se=We.filter(qe=>qe.serviceType==="doc"),he=We.filter(qe=>qe.serviceType==="static-doc"),Re=We.filter(qe=>qe.serviceType==="site");l(se),h(he),F(Re),x(yn.siteSettings),C(Array.isArray(yn.pages)?yn.pages:[]),R(Array.isArray(yn.blogPosts)?yn.blogPosts:[]),N(Array.isArray(yn.ads)?yn.ads:[]),k(Array.isArray(It==null?void 0:It.wilayas)?It.wilayas:[]),O(Array.isArray(It==null?void 0:It.dairas)?It.dairas:[]),G(Array.isArray(It==null?void 0:It.communes)?It.communes:[]),Ce(!1)}const[fn,ln,Kn,Rn]=await Promise.all([Ue,Oe,Je,ot]);Z(Array.isArray(fn)?fn:[]),e&&Array.isArray(fn)&&await Vi("codes",fn),Q(Array.isArray(ln)?ln:[]),J(Kn),te(Rn)}catch(Le){console.error("Failed to load application data:",Le),W(Le instanceof Error?Le.message:"An unknown error occurred.")}finally{de(!1)}}}})()},[i.pathname,s,a,e,r,n,ce]);const ke=V.useCallback(async()=>{if(c.length===0){pe(!0);try{const be=await Di("fullDocuments");if(be.length>0)u(be);else{const Ie=await mf(),Le=Array.isArray(Ie)?Ie:[];u(Le),await Vi("fullDocuments",Le)}}catch(be){console.error("Failed to load full documents:",be)}finally{pe(!1)}}},[c.length]),Ne=V.useCallback(be=>{const Ie=ge([be])[0];R(Le=>[Ie,...Le].sort((Te,Ue)=>{const Oe=(Te.publishedAt||Te.createdAt).toDate();return(Ue.publishedAt||Ue.createdAt).toDate().getTime()-Oe.getTime()}))},[]),ie=V.useCallback((be,Ie)=>{R(Le=>Le.map(Te=>Te.id===be?ge([{...Te,...Ie}])[0]:Te))},[]),ue=V.useCallback(be=>{R(Ie=>Ie.filter(Le=>Le.id!==be))},[]),ve={documents:o,fullDocuments:c,staticDocuments:f,cafes:p,services:g,siteSettings:_,pages:w,blogPosts:S,ads:D,sites:I,wilayas:P,dairas:U,communes:H,codes:X,voicePrompts:z,baseTemplates:B,excelCommands:q,documentCommands:Y,loading:oe,locationsLoading:fe,loadingFullDocuments:Pe,error:Me,loadFullDocuments:ke,refetchAdminData:re,refetchCafes:le,addBlogPost:Ne,updateBlogPost:ie,deleteBlogPost:ue};return d.jsx(JH.Provider,{value:ve,children:t})},un=()=>{const t=V.useContext(JH);if(t===void 0)throw new Error("useData must be used within a DataProvider");return t},_C=({type:t,url:e})=>{const n={className:"w-6 h-6 text-gray-500 hover:text-green-600 transition-colors"};switch(t){case"facebook":return d.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer","aria-label":"Facebook",children:d.jsx(tI,{...n})});case"twitter":return d.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer","aria-label":"Twitter",children:d.jsx(MH,{...n})});case"instagram":return d.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",children:d.jsx(FH,{...n})});default:return null}},wge=()=>{const{siteSettings:t,blogPosts:e,loading:n}=un(),{t:r,language:i}=Ui(),a=Lr().pathname.match(/^\/([a-z]{2})(?:\/|$)/),o=a?a[1]:"dz",l=V.useMemo(()=>e.some(g=>g.enabled&&g.content&&g.content[i]),[e,i]),c=V.useMemo(()=>{const g=i==="ar"?"/blog/":`/blog/${i}/`,y=Au.find(x=>x.code===i),_=i==="ar"?r("footer.blog"):`Blog (${(y==null?void 0:y.name)||i.toUpperCase()})`;return{path:g,linkText:_}},[i,r]);if(n||!t)return d.jsx("footer",{className:"bg-white border-t mt-auto",children:d.jsx("div",{className:"container mx-auto px-4 py-8 text-center",children:"..."})});const u=t.social&&t.social[o]||t.social&&t.social.default||{facebook:"",twitter:"",instagram:""},f=t.seo&&t.seo[o]||t.seo&&t.seo.default||{siteName:"Gitut"},h=u.facebook||u.twitter||u.instagram,v=(t.footerPages||[]).filter(g=>g.lang===i||!g.lang&&i==="ar");return d.jsx("footer",{className:"bg-white border-t mt-auto",children:d.jsx("div",{className:"container mx-auto px-4 py-8",children:d.jsxs("div",{className:"flex flex-col items-center gap-4",children:[(v.length>0||l)&&d.jsxs("nav",{className:"flex flex-wrap justify-center gap-x-6 gap-y-2 text-gray-600",children:[l&&d.jsx("a",{href:`https://gitut.com${c.path}`,className:"hover:text-green-600 hover:underline",children:c.linkText}),d.jsx("a",{href:`https://gitut.com/${o}/services/`,className:"hover:text-green-600 hover:underline",children:r("footer.services")}),v.map(g=>d.jsx("a",{href:`https://gitut.com/${o}/page/${g.slug}/`,className:"hover:text-green-600 hover:underline",children:g.title},g.slug))]}),h&&d.jsxs("div",{className:"flex justify-center gap-6",children:[u.facebook&&d.jsx(_C,{type:"facebook",url:u.facebook}),u.twitter&&d.jsx(_C,{type:"twitter",url:u.twitter}),u.instagram&&d.jsx(_C,{type:"instagram",url:u.instagram})]}),d.jsxs("p",{className:"text-center text-gray-500 text-sm",children:[" ",new Date().getFullYear()," ",f.siteName,". ",r("footer.rightsReserved")]})]})})})},k9=t=>t?t.replace(/[]/g,"").replace(//g,""):"",I9=()=>{const{services:t,siteSettings:e,loading:n}=un(),r=Fi(),{countryCode:i}=_a(),{t:s,language:a}=Ui(),o=i||"dz",l=V.useMemo(()=>{const O=(e==null?void 0:e.seo[o])||(e==null?void 0:e.seo.default);return[{title:(O==null?void 0:O.mainPageTitle)||s("findPage.hero.title1"),subtitle:(O==null?void 0:O.mainPageSubtitle)||s("findPage.hero.subtitle1")},{title:s("findPage.hero.title2"),subtitle:s("findPage.hero.subtitle2")}]},[e,s,o]),[c,u]=V.useState(0),f=V.useMemo(()=>i?t.filter(O=>!O.countryCode||O.countryCode===i):t,[t,i]);V.useEffect(()=>{if(n)return;const O=setInterval(()=>{u(H=>(H+1)%l.length)},7e3);return()=>clearInterval(O)},[l.length,n]);const[h,p]=V.useState(""),[v,g]=V.useState([]),[y,_]=V.useState(!1),[x,w]=V.useState([]),[C,S]=V.useState(!1),R=V.useRef(null),D=window.SpeechRecognition||window.webkitSpeechRecognition,N=!!D;V.useEffect(()=>{if(h.trim()){const O=k9(h.toLowerCase()),H=f.filter(G=>k9(G.name.toLowerCase()).includes(O));g(H)}else g([])},[h,f]),V.useEffect(()=>{if(!N)return;const O=new D;O.continuous=!1,O.interimResults=!1;let H="ar-SA";switch(a){case"en":H="en-US";break;case"fr":H="fr-FR";break;case"de":H="de-DE";break;case"es":H="es-ES";break;case"tr":H="tr-TR";break;case"ja":H="ja-JP";break}return O.lang=H,O.onresult=G=>p(G.results[0][0].transcript),O.onerror=G=>{console.error("Speech recognition error",G.error),alert(`Speech recognition error: ${G.error}`)},O.onend=()=>S(!1),R.current=O,()=>{var G;return(G=R.current)==null?void 0:G.abort()}},[N,a]);const I=()=>{var O,H;if(!N){alert("Your browser does not support voice search.");return}C?(O=R.current)==null||O.stop():((H=R.current)==null||H.start(),S(!0))},F=O=>{p(""),x.find(H=>H.id===O.id&&H.serviceType===O.serviceType)||w(H=>[...H,O])},P=(O,H)=>{w(G=>G.filter(X=>!(X.id===O&&X.serviceType===H)))},k=O=>{O.preventDefault();const H=x.filter(X=>X.serviceType==="doc"||X.serviceType==="site");if(H.length===0){alert(s("findPage.alert.selectFillable"));return}const G=H.map(X=>X.id);r(`/${i||"dz"}/find-cafe`,{state:{documentIds:G}})},U=x.filter(O=>O.serviceType==="doc"||O.serviceType==="site").length;return d.jsxs("div",{className:"space-y-8",children:[d.jsx("section",{className:"text-center p-8 md:p-10 bg-white rounded-xl shadow-lg overflow-hidden flex flex-col justify-center min-h-[12rem]",children:n?d.jsx("p",{children:"Loading..."}):d.jsxs("div",{className:"fade-in-text",children:[d.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:l[c].title}),d.jsx("p",{className:"text-base md:text-lg text-gray-700 max-w-3xl mx-auto",children:l[c].subtitle})]},c)}),d.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 space-y-4",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:s("findPage.step1.title")}),d.jsx("form",{onSubmit:O=>O.preventDefault(),children:d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",placeholder:s("findPage.step1.placeholder"),value:h,onChange:O=>p(O.target.value),onFocus:()=>_(!0),onBlur:()=>setTimeout(()=>_(!1),200),className:"p-4 pl-14 bg-white border border-gray-300 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-500 text-lg"}),N&&d.jsx("button",{type:"button",onClick:I,title:s("findPage.step1.voiceSearchTitle"),className:`absolute left-3 top-1/2 -translate-y-1/2 p-3 rounded-full transition-colors duration-300 ${C?"bg-red-500 text-white animate-pulse":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:d.jsx(Rc,{className:"h-5 w-5"})}),y&&v.length>0&&d.jsx("ul",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-20 max-h-60 overflow-y-auto",children:v.map(O=>d.jsxs("li",{className:"px-4 py-3 cursor-pointer hover:bg-green-50 flex justify-between items-center",onMouseDown:()=>F(O),children:[d.jsx("span",{children:O.name}),x.find(H=>H.id===O.id&&H.serviceType===O.serviceType)&&d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-600",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},`${O.serviceType}-${O.id}`))})]})})]}),d.jsx("section",{children:x.length>0?d.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 space-y-4",children:[d.jsxs("h3",{className:"text-xl font-semibold",children:[s("findPage.selectedDocs.title")," (",x.length,"):"]}),d.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto pr-2",children:x.map(O=>{const H="description"in O?O.description:"url"in O?O.url:"",G=O.serviceType==="static-doc"?d.jsx(Cw,{className:"h-6 w-6 text-blue-500 flex-shrink-0 mt-1"}):O.serviceType==="site"?d.jsx(Xy,{className:"h-6 w-6 text-indigo-500 flex-shrink-0 mt-1"}):d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-600 flex-shrink-0 mt-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})});return d.jsxs("article",{className:"bg-gray-50 rounded-lg p-3 border flex justify-between items-center gap-3",children:[d.jsxs("div",{className:"flex items-start gap-3 flex-grow",children:[G,d.jsxs("div",{className:"flex-grow",children:[d.jsx("h4",{className:"text-md font-bold text-gray-900",children:O.name}),d.jsx("div",{className:"text-sm text-gray-600 prose prose-sm max-w-none line-clamp-2",dangerouslySetInnerHTML:{__html:H}})]})]}),d.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[O.serviceType==="static-doc"&&d.jsx("a",{href:`/${i||"dz"}/view/${O.id}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm font-semibold whitespace-nowrap",children:s("findPage.selectedDocs.viewFile")}),d.jsx("button",{onClick:()=>P(O.id,O.serviceType),title:s("findPage.selectedDocs.removeTitle"),className:"text-red-500 hover:text-red-700 p-1 rounded-full hover:bg-red-100",children:d.jsx(rd,{})})]})]},`${O.serviceType}-${O.id}`)})}),d.jsx("form",{onSubmit:k,className:"text-center pt-4",children:d.jsxs("button",{type:"submit",className:"flex items-center justify-center gap-2 bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700 transition-colors mx-auto disabled:bg-gray-400 disabled:cursor-not-allowed",disabled:U===0,title:U===0?s("findPage.selectedDocs.nextStepButtonDisabledTitle"):"",children:[d.jsx("span",{children:s("findPage.selectedDocs.nextStepButton",{count:U})}),d.jsx(nI,{})]})})]}):d.jsx("div",{className:"text-center py-10 bg-white rounded-lg shadow",children:d.jsx("p",{className:"text-gray-600 text-lg",children:s("findPage.selectedDocs.emptyState")})})})]})},bc=({placement:t})=>{const{ads:e}=un(),n=V.useMemo(()=>e.find(r=>r.placement===t&&r.enabled),[t,e]);return n?t==="DASHBOARD_TOP"?d.jsx("a",{href:n.link,target:"_blank",rel:"noopener noreferrer",className:"block rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-shadow duration-300",children:d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:n.imageUrl,alt:n.title,className:"w-full h-auto object-cover"}),d.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex flex-col justify-end p-6",children:[d.jsx("h3",{className:"text-2xl font-bold text-white",children:n.title}),d.jsx("p",{className:"text-white text-opacity-90 mt-1",children:n.content})]})]})}):t==="PROFILE_SIDEBAR"?d.jsx("a",{href:n.link,target:"_blank",rel:"noopener noreferrer",className:"block rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow duration-300 group",children:d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:n.imageUrl,alt:n.title,className:"w-full h-auto object-cover"}),d.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent p-4 flex flex-col justify-end",children:[d.jsx("h3",{className:"text-lg font-bold text-white group-hover:underline",children:n.title}),d.jsx("p",{className:"text-sm text-white/90",children:n.content})]})]})}):t==="PDF_INTERSTITIAL"?d.jsx("a",{href:n.link,target:"_blank",rel:"noopener noreferrer",className:"block rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-shadow duration-300 my-4",children:d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:n.imageUrl,alt:n.title,className:"w-full h-64 object-cover"}),d.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex flex-col justify-center items-center p-6 text-center",children:[d.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:n.title}),d.jsx("p",{className:"text-white text-lg",children:n.content}),d.jsx("span",{className:"mt-4 px-4 py-2 bg-green-600 text-white text-sm font-bold rounded hover:bg-green-700 transition-colors",children:" "})]})]})}):null:null},Tge="https://pub-f25b4129424647319985a15a082e6685.r2.dev",Ni=t=>t?t.startsWith("http://")||t.startsWith("https://")||t.startsWith("data:")?t:`${Tge}/${t.startsWith("/")?t.substring(1):t}`:"";async function XH(t,e,n){const i=await(await fetch(t)).blob();return new File([i],e,{type:n||i.type})}const XA=new URL("/api/gun",window.location.origin);XA.protocol=XA.protocol==="https:"?"wss:":"ws:";const YH=XA.toString();console.log(`[Gun.js] Attempting to connect to peer: ${YH}`);const Ege=[YH];let QH=null;typeof window<"u"&&window.Gun&&(QH=window.Gun({peers:Ege}));const lr=QH,ZH=V.createContext(void 0),Rx=()=>`${Date.now()}-${Math.random().toString(36).substring(2,9)}`,Cge=({children:t})=>{const{user:e}=jr(),{cafes:n}=un(),[r,i]=V.useState(null);V.useEffect(()=>{let u=localStorage.getItem("gitut_visitor_id");u||(u=`visitor_${crypto.randomUUID()}`,localStorage.setItem("gitut_visitor_id",u)),i(u)},[]),V.useEffect(()=>{if(!(e!=null&&e.cafeId)||!lr)return;const u=e.cafeId,f=lr.get("presence").get(u);f.put({lastSeen:Date.now()});const h=setInterval(()=>{f.put({lastSeen:Date.now()})},1e4),p=()=>f.put({lastSeen:null});return window.addEventListener("beforeunload",p),()=>{clearInterval(h),f.put({lastSeen:null}),window.removeEventListener("beforeunload",p)}},[e]),V.useEffect(()=>{if(!(e!=null&&e.cafeId)||!lr)return;const u=e.cafeId,f=lr.get("jobs").get(u);return f.map().on(async(h,p)=>{if(h&&typeof h=="object"){console.log(`Received P2P job: ${p}`);try{if(!await ga("jobs",p)){const g={...h,id:p,documentIds:typeof h.documentIds=="string"?JSON.parse(h.documentIds):h.documentIds,visitorData:typeof h.visitorData=="string"?JSON.parse(h.visitorData):h.visitorData};await Cr("jobs",g),console.log(`Job ${p} persisted to IndexedDB.`)}f.get(p).put(null)}catch(v){console.error(`Failed to persist P2P job ${p} to IndexedDB:`,v)}}}),()=>f.off()},[e]);const c={visitorId:r,usePresence:u=>{const[f,h]=V.useState(null),p=V.useRef(null);return V.useEffect(()=>{if(!u||!lr){h(!1);return}const v=lr.get("presence").get(u),g=()=>{const x=p.current,w=x?Date.now()-x<15e3:!1;h(w)},y=v.on(x=>{p.current=x&&typeof x.lastSeen=="number"?x.lastSeen:null,g()}),_=setInterval(g,5e3);return g(),()=>{y.off(),clearInterval(_)}},[u]),{isOnline:f}},useVisitorChat:u=>{const[f,h]=V.useState([]),p=V.useMemo(()=>!lr||!u?null:lr.get("chats").get(u),[u]);V.useEffect(()=>{if(!p)return;const g=new Map;return p.map().on((y,_)=>{if(y){g.set(_,{...y,id:_});const x=Array.from(g.values()).sort((w,C)=>w.timestamp-C.timestamp);h(x)}}),()=>p.off()},[p]);const v=V.useCallback(g=>{if(!p||!r)return;const y={text:g,senderId:r,senderName:"Visitor",timestamp:Date.now()},_=Rx();p.get(_).put(y)},[p,r]);return{messages:f,sendMessage:v}},useCafeChatManager:()=>{const[u,f]=V.useState({unread:!1,messages:[]}),[h,p]=V.useState(new Map),v=e==null?void 0:e.cafeId;V.useEffect(()=>{if(!v||!lr)return;const C=lr.get("chats").get(`admin_${v}`),S=new Map;return C.map().on((R,D)=>{if(R){S.set(D,{...R,id:D});const N=Array.from(S.values()).sort((P,k)=>P.timestamp-k.timestamp),I=N[N.length-1],F=I&&I.senderId!==v&&I.timestamp>(Number(localStorage.getItem(`lastRead_admin_${v}`))||0);f({messages:N,lastMessage:I,unread:F})}}),()=>C.off()},[v]),V.useEffect(()=>{if(!v||!lr)return;const C=lr.get("chats").get(v),S=new Map;return C.map().on((R,D)=>{if(R){const N=new Map;lr.get(R["#"]).map().on((I,F)=>{if(I){N.set(F,{...I,id:F});const P=Array.from(N.values()).sort((O,H)=>O.timestamp-H.timestamp),k=P[P.length-1],U=k&&k.senderId!==v&&k.timestamp>(Number(localStorage.getItem(`lastRead_${v}_${D}`))||0);S.set(D,{messages:P,lastMessage:k,unread:U}),p(new Map(S))}})}}),()=>C.off()},[v]);const g=V.useCallback(C=>{var D;if(!v||!lr)return;const S=lr.get("chats").get(`admin_${v}`),R={text:C,senderId:v,senderName:((D=n.find(N=>N.id===v))==null?void 0:D.name)||"Cafe",timestamp:Date.now()};S.get(Rx()).put(R)},[v,n]),y=V.useCallback((C,S)=>{var N;if(!v||!lr)return;const R=lr.get("chats").get(v).get(C),D={text:S,senderId:v,senderName:((N=n.find(I=>I.id===v))==null?void 0:N.name)||"Cafe",timestamp:Date.now()};R.get(Rx()).put(D)},[v,n]),_=V.useCallback(()=>{v&&(localStorage.setItem(`lastRead_admin_${v}`,String(Date.now())),f(C=>({...C,unread:!1})))},[v]),x=V.useCallback(C=>{v&&(localStorage.setItem(`lastRead_${v}_${C}`,String(Date.now())),p(S=>{const R=new Map(S),D=R.get(C);return D&&R.set(C,{...D,unread:!1}),R}))},[v]),w=(u.unread?1:0)+Array.from(h.values()).filter(C=>C.unread).length;return{adminConversation:u,visitorConversations:h,sendMessageToAdmin:g,sendMessageToVisitor:y,markAdminAsRead:_,markVisitorAsRead:x,totalUnreadCount:w}},useAdminChatManager:()=>{const[u,f]=V.useState(new Map),[h,p]=V.useState(null),[v,g]=V.useState([]);V.useEffect(()=>{if(!lr)return;const w=lr.get("chats"),C=new Map;return w.map().on((S,R)=>{if(R.startsWith("admin_")){const D=R.replace("admin_","");lr.get(S["#"]).map().on((N,I)=>{var F;if(N){const P=((F=n.find(U=>U.id===D))==null?void 0:F.name)||`Cafe ${D.substring(0,4)}`,k=C.get(D);if(!k||N.timestamp>k.lastMessage.timestamp){const U=N.senderId!=="admin"&&N.timestamp>(Number(localStorage.getItem(`lastRead_admin_${D}`))||0);C.set(D,{lastMessage:{...N,id:I},unread:U,cafeName:P}),f(new Map(C))}}})}}),()=>w.off()},[n]),V.useEffect(()=>{if(!h||!lr){g([]);return}const w=lr.get("chats").get(`admin_${h}`),C=new Map;return w.map().on((S,R)=>{S&&(C.set(R,{...S,id:R}),g(Array.from(C.values()).sort((D,N)=>D.timestamp-N.timestamp)))}),()=>w.off()},[h]);const y=V.useCallback(w=>{localStorage.setItem(`lastRead_admin_${w}`,String(Date.now())),p(w),f(C=>{const S=new Map(C),R=S.get(w);return R&&S.set(w,{...R,unread:!1}),S})},[]),_=V.useCallback(w=>{if(!h||!lr)return;const C=lr.get("chats").get(`admin_${h}`),S={text:w,senderId:"admin",senderName:"Admin",timestamp:Date.now()};C.get(Rx()).put(S)},[h]),x=Array.from(u.values()).filter(w=>w.unread).length;return{conversations:u,messages:v,currentConversationId:h,selectConversation:y,sendMessage:_,unreadConversationsCount:x}}};return d.jsx(ZH.Provider,{value:c,children:t})},fh=()=>{const t=V.useContext(ZH);if(t===void 0)throw new Error("useRealtime must be used within an RealtimeProvider");return t},oI=({title:t,messages:e,onSendMessage:n,currentUserId:r,isOnline:i,isLoading:s,onClose:a})=>{const[o,l]=V.useState(""),c=V.useRef(null),u=()=>{var h;(h=c.current)==null||h.scrollIntoView({behavior:"smooth"})};V.useEffect(()=>{u()},[e]);const f=h=>{h.preventDefault(),o.trim()&&(n(o.trim()),l(""))};return d.jsxs("div",{className:"flex flex-col h-full bg-white",children:[d.jsxs("header",{className:"flex-shrink-0 flex items-center justify-between p-3 border-b bg-gray-50 rounded-t-lg",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-gray-800",children:t}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:`w-2 h-2 rounded-full ${i===null?"bg-gray-300":i?"bg-green-500":"bg-gray-400"}`}),d.jsx("span",{className:"text-xs text-gray-500",children:i===null?" ...":i?" ":" "})]})]}),a&&d.jsx("button",{onClick:a,className:"text-gray-500 hover:text-gray-800 text-2xl",children:""})]}),d.jsxs("main",{className:"flex-grow p-4 overflow-y-auto bg-gray-100",children:[s?d.jsx("div",{className:"flex justify-center items-center h-full",children:d.jsx(Tt,{className:"animate-spin text-2xl text-gray-400"})}):e.length===0?d.jsx("div",{className:"flex justify-center items-center h-full",children:d.jsx("p",{className:"text-gray-500",children:"   ."})}):d.jsx("div",{className:"space-y-4",children:e.map(h=>{const p=h.senderId===r;return d.jsx("div",{className:`flex items-end gap-2 ${p?"justify-end":"justify-start"}`,children:d.jsxs("div",{className:`max-w-xs md:max-w-md p-3 rounded-2xl ${p?"bg-green-600 text-white rounded-br-none":"bg-white text-gray-800 rounded-bl-none border"}`,children:[!p&&d.jsx("p",{className:"text-xs font-bold text-blue-600 mb-1",children:h.senderName}),d.jsx("p",{className:"text-sm break-words",children:h.text}),d.jsx("p",{className:`text-xs mt-1 text-right ${p?"text-green-100":"text-gray-400"}`,children:new Date(h.timestamp).toLocaleTimeString("ar-DZ",{hour:"2-digit",minute:"2-digit"})})]})},h.id)})}),d.jsx("div",{ref:c})]}),d.jsx("footer",{className:"flex-shrink-0 p-3 border-t bg-white rounded-b-lg",children:d.jsxs("form",{onSubmit:f,className:"flex items-center gap-2",children:[d.jsx("input",{type:"text",value:o,onChange:h=>l(h.target.value),placeholder:"  ...",className:"flex-grow p-2 border rounded-full focus:outline-none focus:ring-2 focus:ring-green-500",disabled:i===!1}),d.jsx("button",{type:"submit",className:"bg-green-600 text-white p-3 rounded-full hover:bg-green-700 disabled:bg-gray-400",disabled:i===!1||!o.trim(),children:d.jsx(ty,{})})]})})]})},eG=({url:t,title:e,description:n})=>{const{t:r}=Ui(),[i,s]=V.useState(!1),[a,o]=V.useState(!1),l=V.useMemo(()=>{let g=t;const y=g.indexOf("?"),_=g.indexOf("#");let x=g,w="";if(y!==-1||_!==-1){const C=Math.min(y===-1?1/0:y,_===-1?1/0:_);x=g.substring(0,C),w=g.substring(C)}return x.endsWith(".html")&&(x=x.slice(0,-5)),x+w},[t]),c=encodeURIComponent(l),u=encodeURIComponent(e),f=[{name:"LinkedIn",url:`https://www.linkedin.com/shareArticle?mini=true&url=${c}&title=${u}`,icon:d.jsx(Jme,{}),color:"bg-blue-700 hover:bg-blue-800"},{name:"Pinterest",url:`https://pinterest.com/pin/create/button/?url=${c}&description=${u}`,icon:d.jsx(Yme,{}),color:"bg-red-600 hover:bg-red-700"},{name:"Reddit",url:`https://www.reddit.com/submit?url=${c}&title=${u}`,icon:d.jsx(Qme,{}),color:"bg-orange-500 hover:bg-orange-600"},{name:"Facebook",url:`https://www.facebook.com/sharer/sharer.php?u=${c}&quote=${u}`,icon:d.jsx(tI,{}),color:"bg-blue-600 hover:bg-blue-700"}],h=()=>{navigator.clipboard.writeText(l).then(()=>{s(!0),setTimeout(()=>s(!1),2e3)})},p=g=>{navigator.clipboard.writeText(g).then(()=>{o(!0),setTimeout(()=>o(!1),2e3)})},v=()=>{const g=(n||"").replace(/<[^>]*>/g,""),y=g.substring(0,155)+(g.length>155?"...":""),_=`${e}

${y}

${l}`,x=`
      <p style="font-weight: bold; font-family: sans-serif; font-size: 16px;">${e}</p>
      <div style="font-family: sans-serif; font-size: 14px;"><p>${y}</p></div>
      <a href="${l}">${l}</a>
    `;try{if(typeof ClipboardItem>"u"){p(_);return}const w=new Blob([x],{type:"text/html"}),C=new Blob([_],{type:"text/plain"}),S=new ClipboardItem({"text/html":w,"text/plain":C});navigator.clipboard.write([S]).then(()=>{o(!0),setTimeout(()=>o(!1),2e3)}).catch(R=>{console.error("Async clipboard write failed, falling back to plain text: ",R),p(_)})}catch(w){console.error("Failed to use Clipboard API, falling back to writeText: ",w),p(_)}};return d.jsxs("div",{className:"fixed bottom-6 left-6 z-40 flex flex-col items-center gap-3",children:[f.map(g=>d.jsx("a",{href:g.url,target:"_blank",rel:"noopener noreferrer","aria-label":`Share on ${g.name}`,className:`w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-transform hover:scale-110 ${g.color}`,children:Jo.cloneElement(g.icon,{size:24})},g.name)),d.jsx("button",{onClick:h,"aria-label":"Copy link",className:"w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-all hover:scale-110 bg-gray-600 hover:bg-gray-700",children:i?d.jsx(N9,{size:22}):d.jsx($H,{size:22})}),d.jsx("button",{onClick:v,"aria-label":r("share.copyDetails"),title:r("share.copyDetails"),className:"w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-all hover:scale-110 bg-gray-600 hover:bg-gray-700",children:a?d.jsx(N9,{size:22}):d.jsx(Zme,{size:22})})]})},ys=(t,e,n=!0)=>{const r=n?`meta[property='${t}']`:`meta[name='${t}']`;let i=document.querySelector(r);i||(i=document.createElement("meta"),i.setAttribute(n?"property":"name",t),document.head.appendChild(i)),i.setAttribute("content",e)},Px=t=>t?t.replace(/[]/g,"").replace(//g,""):"",Sge=t=>{const e=new Map;t.forEach(r=>{e.has(r.groupId)||e.set(r.groupId,[]),e.get(r.groupId).push(r)});const n=[];for(const r of e.values())r.sort((i,s)=>i.id.localeCompare(s.id)),n.push(r[0]);return n},Dge=()=>{var B,j,q;const{countryCode:t,numericId:e}=_a(),n=Lr(),{documents:r,cafes:i,siteSettings:s,loading:a}=un(),{user:o}=jr(),{language:l}=Ui(),[c,u]=V.useState(void 0),[f,h]=V.useState(!0),[p,v]=V.useState(()=>{var J;return!!((J=n.state)!=null&&J.openChat)}),{usePresence:g,useVisitorChat:y,visitorId:_}=fh(),{isOnline:x}=g(c==null?void 0:c.id),{messages:w,sendMessage:C}=y(c==null?void 0:c.id),[S,R]=V.useState([]),[D,N]=V.useState(""),[I,F]=V.useState(!1);V.useEffect(()=>{var J,Y;if(c&&s){const te=((J=s.seo)==null?void 0:J[t||"dz"])||((Y=s.seo)==null?void 0:Y.default)||{siteName:"Gitut",titleSeparator:"|",metaDescription:""},oe=c.address.commune&&c.address.wilaya?` ${c.address.wilaya}  ${c.address.commune}`:"",de=`${c.name} ${oe} ${te.titleSeparator} ${te.siteName}`,fe=c.description?c.description.substring(0,155)+(c.description.length>155?"...":""):te.metaDescription,Ce=Ni(c.coverImageUrl)||"https://datas.gitut.com/data/image/gitut-og-main.png";let Pe="en_US";switch(l){case"ar":Pe="ar_AR";break;case"fr":Pe="fr_FR";break;case"de":Pe="de_DE";break;case"es":Pe="es_ES";break;case"tr":Pe="tr_TR";break;case"ja":Pe="ja_JP";break}document.title=de,ys("description",fe,!1),ys("og:title",de),ys("og:description",fe),ys("og:image",Ce),ys("og:image:secure_url",Ce),ys("og:image:width","1200"),ys("og:image:height","630"),ys("og:url",window.location.href),ys("og:type","profile"),ys("og:site_name",te.siteName),ys("og:locale",Pe),ys("twitter:card","summary_large_image",!1),ys("twitter:url",window.location.href,!1),ys("twitter:title",de,!1),ys("twitter:description",fe,!1),ys("twitter:image",Ce,!1)}},[c,s,t,l]),V.useEffect(()=>{(async()=>{if(!e){h(!1);return}if(a)return;h(!0);const Y=parseInt(e,10),te=i.find(oe=>oe.numericId===Y);if(te)u(te),h(!1);else try{const oe=await Cme(Y);u(oe||void 0)}catch(oe){console.error("Failed to fetch cafe by numericId:",oe),u(void 0)}finally{h(!1)}})()},[e,i,a]);const P=V.useMemo(()=>{if(!c)return[];const J=[],Y=new Set([c.id]),te=i.filter(de=>de.id!==c.id&&de.isProfilePublished);return te.filter(de=>de.address.commune===c.address.commune&&de.address.wilaya===c.address.wilaya).forEach(de=>{J.length<5&&!Y.has(de.id)&&(J.push(de),Y.add(de.id))}),J.length<5&&c.address.daira&&te.filter(fe=>fe.address.daira===c.address.daira&&fe.address.wilaya===c.address.wilaya).forEach(fe=>{J.length<5&&!Y.has(fe.id)&&(J.push(fe),Y.add(fe.id))}),J.length<5&&te.filter(fe=>fe.address.wilaya===c.address.wilaya).forEach(fe=>{J.length<5&&!Y.has(fe.id)&&(J.push(fe),Y.add(fe.id))}),J},[c,i]),k=V.useMemo(()=>Sge(r),[r]),U=V.useMemo(()=>c?k.filter(J=>c.services.includes(J.groupId)):[],[c,k]),O=V.useMemo(()=>{if(!D)return U;const J=Px(D.toLowerCase());return U.filter(Y=>Px(Y.name.toLowerCase()).includes(J))},[U,D]),H=V.useMemo(()=>{if(!D||!I)return[];const J=Px(D.toLowerCase());return U.filter(Y=>Px(Y.name.toLowerCase()).includes(J))},[U,D,I]),G=J=>{R(Y=>Y.includes(J)?Y.filter(te=>te!==J):[...Y,J])},X=J=>{G(J),N("")},Z=V.useMemo(()=>{if(!(c!=null&&c.address))return"";const{address:J}=c;return c.countryCode==="dz"?`${J.street||""}, ${J.commune||""}, ${J.daira||""}, ${J.wilaya||""}`.replace(/^,|,$/g,"").trim():`${J.street||""}, ${J.city||""}, ${J.state||""}`.replace(/^,|,$/g,"").trim()},[c]);if(f)return d.jsx("div",{className:"text-center py-20 flex justify-center items-center",children:d.jsx(Tt,{className:"animate-spin text-4xl text-green-600"})});if(!c)return d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"    "}),d.jsx("p",{className:"text-gray-600 mb-6",children:"         ."}),d.jsx(dn,{to:`/${t}`,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"   "})]});const z="https://images.unsplash.com/photo-1554118811-1e0d58224f24?auto=format&fit=crop&w=800&q=80",Q="https://images.unsplash.com/photo-1517245386807-bb43f82c33c4?auto=format&fit=crop&w=1200&q=80";return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl mx-auto overflow-hidden",children:[d.jsx("img",{src:Ni(c.coverImageUrl)||Q,alt:`${c.name} cover`,className:"w-full h-48 object-cover",onError:J=>{J.currentTarget.src=Q}}),d.jsxs("div",{className:"p-6 md:p-8 grid md:grid-cols-4 gap-8",children:[d.jsxs("main",{className:"md:col-span-3 space-y-8",children:[d.jsx(dn,{to:`/${t}`,className:"text-green-600 hover:underline mb-6 inline-block",children:"   "}),d.jsxs("div",{className:"grid md:grid-cols-3 gap-8 items-start",children:[d.jsx("div",{className:"md:col-span-1",children:d.jsx("img",{src:Ni(c.imageUrl)||z,alt:c.name,className:"w-full h-auto rounded-lg shadow-md aspect-square object-cover",onError:J=>{J.currentTarget.src=z}})}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:c.name}),d.jsxs("p",{className:"text-gray-500 text-lg mb-4",children:[": ",c.owner]}),d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx("span",{className:`w-3 h-3 rounded-full transition-colors duration-500 ${x===null?"bg-gray-300 animate-pulse":x?"bg-green-500":"bg-gray-400"}`}),d.jsx("span",{className:"text-sm text-gray-600",children:x===null?" ...":x?" ":" "})]}),d.jsxs("div",{className:"space-y-3 text-gray-700",children:[d.jsxs("p",{children:[d.jsx("strong",{className:"font-semibold",children:":"})," ",Z]}),d.jsxs("p",{children:[d.jsx("strong",{className:"font-semibold",children:":"})," ",c.description]}),c.phone&&d.jsxs("p",{className:"flex items-center gap-2",children:[d.jsx(fge,{className:"text-gray-500"})," ",d.jsx("strong",{children:c.phone})]})]}),d.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[c.googleMapsUrl&&d.jsxs("a",{href:c.googleMapsUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 bg-white border border-gray-300 text-gray-700 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[d.jsx(uge,{})," ",d.jsx("span",{children:"  "})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[((B=c.socials)==null?void 0:B.facebook)&&d.jsx("a",{href:c.socials.facebook,target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-blue-600",children:d.jsx(tI,{size:24})}),((j=c.socials)==null?void 0:j.instagram)&&d.jsx("a",{href:c.socials.instagram,target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-pink-600",children:d.jsx(FH,{size:24})}),((q=c.socials)==null?void 0:q.twitter)&&d.jsx("a",{href:c.socials.twitter,target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-sky-500",children:d.jsx(MH,{size:24})})]})]})]})]}),d.jsxs("div",{className:"border-t pt-8",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"1.   "}),d.jsx("p",{className:"text-gray-600 mb-6",children:"   .            ."}),d.jsxs("div",{className:"relative mb-4",children:[d.jsx("input",{type:"text",placeholder:"   ...",value:D,onChange:J=>N(J.target.value),onFocus:()=>F(!0),onBlur:()=>setTimeout(()=>F(!1),150),className:"w-full p-3 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500","aria-label":"     ",autoComplete:"off"}),H.length>0&&d.jsx("ul",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-10 max-h-60 overflow-y-auto",children:H.map(J=>d.jsxs("li",{className:`px-4 py-2 cursor-pointer flex justify-between items-center ${S.includes(J.id)?"bg-green-100 font-semibold text-green-800":"hover:bg-green-50"}`,onMouseDown:Y=>{Y.preventDefault(),X(J.id)},children:[d.jsx("span",{children:J.name}),S.includes(J.id)&&d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-600",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},J.id))})]}),d.jsx("div",{className:"space-y-3 mb-6",role:"group","aria-labelledby":"documents-heading",children:O.length>0?O.map(J=>d.jsxs("button",{type:"button",onClick:()=>G(J.id),className:`w-full text-right p-4 border rounded-lg transition-all duration-200 ${S.includes(J.id)?"bg-green-100 border-green-500 ring-2 ring-green-400":"bg-gray-50 hover:bg-gray-100"}`,"aria-pressed":S.includes(J.id),children:[d.jsx("h3",{className:"font-bold text-lg text-gray-800",children:J.name}),d.jsx("div",{className:"text-gray-600 prose prose-sm max-w-none line-clamp-2",dangerouslySetInnerHTML:{__html:J.description}})]},J.id)):d.jsx("div",{className:"text-center py-6 bg-gray-50 rounded-lg",children:d.jsx("p",{className:"text-gray-600",children:"    ."})})}),d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"2.  "}),d.jsxs(dn,{to:S.length>0?`/${t}/form`:"#",state:{cafeId:c.id,selectedDocIds:S},className:`w-full md:w-auto inline-block text-center bg-green-600 text-white font-bold py-3 px-8 rounded-lg transition-colors focus:outline-none focus:ring-4 focus:ring-green-300 ${S.length===0?"opacity-50 cursor-not-allowed":"hover:bg-green-700"}`,"aria-disabled":S.length===0,onClick:J=>S.length===0&&J.preventDefault(),children:["   (",S.length,")"]})]})]}),d.jsxs("aside",{className:"md:col-span-1 space-y-6 pt-12",children:[d.jsx(bc,{placement:"PROFILE_SIDEBAR"}),P.length>0&&d.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border",children:[d.jsx("h3",{className:"font-bold text-lg mb-3 text-gray-800",children:" "}),d.jsx("div",{className:"space-y-3",children:P.map(J=>d.jsxs(dn,{to:`/${J.countryCode}/profile/${J.numericId}`,className:"block p-3 bg-white rounded-md border hover:border-green-400 hover:bg-green-50 transition-all",children:[d.jsx("p",{className:"font-semibold text-gray-900",children:J.name}),d.jsx("p",{className:"text-sm text-gray-500",children:J.address.commune})]},J.id))})]})]})]})]}),d.jsx(eG,{url:window.location.href,title:c.name,description:c.description}),c&&!p&&d.jsx("button",{onClick:()=>v(!0),className:"fixed bottom-8 right-8 bg-blue-600 text-white p-4 rounded-full shadow-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-transform hover:scale-110 z-40","aria-label":" ",title:" ",children:d.jsx(rI,{size:24})}),p&&c&&_&&d.jsx("div",{className:"fixed bottom-8 right-8 w-full max-w-sm h-[70vh] max-h-[500px] z-50 shadow-2xl rounded-lg fade-in-text",children:d.jsx(oI,{title:`  ${c.name}`,messages:w,onSendMessage:C,currentUserId:_,isOnline:x,onClose:()=>v(!1)})})]})},Age=({onClose:t,onCapture:e})=>{const n=V.useRef(null),r=V.useRef(null),i=V.useRef(null),[s,a]=V.useState(null),[o,l]=V.useState(null),c=async()=>{l(null),a(null);try{const p=await navigator.mediaDevices.getUserMedia({video:{width:480,height:480}});i.current=p,n.current&&(n.current.srcObject=p)}catch(p){console.error("Error accessing camera:",p),p instanceof DOMException&&(p.name==="NotAllowedError"||p.name==="PermissionDeniedError")?l("    .      ."):l("    .          .")}};V.useEffect(()=>(c(),()=>{i.current&&i.current.getTracks().forEach(p=>p.stop())}),[]);const u=()=>{if(n.current&&r.current){const p=n.current,v=r.current;v.width=p.videoWidth,v.height=p.videoHeight;const g=v.getContext("2d");g==null||g.drawImage(p,0,0,v.width,v.height);const y=v.toDataURL("image/jpeg");a(y),i.current&&(i.current.getTracks().forEach(_=>_.stop()),i.current=null)}},f=()=>{c()},h=()=>{s&&(e(s),t())};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex justify-center items-center",children:d.jsxs("div",{className:"bg-white rounded-lg p-4 max-w-lg w-full",children:[d.jsx("h3",{className:"text-xl font-bold mb-4 text-center",children:" "}),d.jsxs("div",{className:"relative aspect-square bg-gray-900 rounded-md overflow-hidden flex items-center justify-center",children:[o?d.jsxs("div",{className:"p-4 text-center text-white",children:[d.jsx("p",{className:"font-semibold text-red-400",children:"  "}),d.jsx("p",{className:"text-sm mt-2",children:o})]}):s?d.jsx("img",{src:s,alt:"Captured",className:"w-full h-full object-contain"}):d.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),d.jsx("canvas",{ref:r,className:"hidden"})]}),d.jsxs("div",{className:"mt-4 flex justify-center gap-4",children:[s?d.jsxs(d.Fragment,{children:[d.jsx("button",{type:"button",onClick:f,className:"bg-gray-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-600",children:" "}),d.jsx("button",{type:"button",onClick:h,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700",children:" "})]}):d.jsx("button",{type:"button",onClick:u,disabled:!!o,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:""}),d.jsx("button",{type:"button",onClick:t,className:"bg-red-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-600",children:""})]})]})})},Z1=({value:t,onChange:e})=>{const n=V.useRef(null),[r,i]=V.useState(!1),s=o=>{var c;const l=(c=o.target.files)==null?void 0:c[0];if(l){const u=new FileReader;u.onloadend=()=>{e(u.result)},u.readAsDataURL(l)}},a=()=>{e("")};return d.jsxs("div",{className:"w-full",children:[d.jsx("div",{className:"w-48 h-48 rounded-lg border-2 border-dashed border-gray-300 flex justify-center items-center bg-gray-50 overflow-hidden relative group",children:t?d.jsxs(d.Fragment,{children:[d.jsx("img",{src:t,alt:"Preview",className:"w-full h-full object-cover"}),d.jsx("button",{type:"button",onClick:a,className:"absolute top-1 right-1 bg-red-600 text-white p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity","aria-label":"Remove image",children:d.jsx(dh,{})})]}):d.jsx("span",{className:"text-gray-400 text-sm",children:" "})}),d.jsxs("div",{className:"mt-2 flex gap-2",children:[d.jsxs("button",{type:"button",onClick:()=>{var o;return(o=n.current)==null?void 0:o.click()},className:"flex-1 flex items-center justify-center gap-2 bg-white border border-gray-300 text-gray-700 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[d.jsx($l,{}),d.jsx("span",{children:" "})]}),d.jsx("input",{type:"file",ref:n,onChange:s,accept:"image/*",className:"hidden"}),d.jsxs("button",{type:"button",onClick:()=>i(!0),className:"flex-1 flex items-center justify-center gap-2 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:[d.jsx(tg,{}),d.jsx("span",{children:" "})]})]}),r&&d.jsx(Age,{onClose:()=>i(!1),onCapture:e})]})},tG="https://gitut.com/api/",nG="@@??YOUYOU@@??YOUYOU1936",rG="Could not initialize Firebase Admin SDK";function iG(){return new Promise((t,e)=>{if(Jr.currentUser)return t(Jr.currentUser);const n=Jr.onAuthStateChanged(r=>{n(),r?t(r):e(new Error("User not authenticated."))})})}async function yd(t,e){var n;try{const i=await(await iG()).getIdToken(),s=await fetch(tG,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`,"x-api-proxy-key":nG},body:JSON.stringify({action:t,payload:e})});if((n=s.headers.get("Content-Type"))!=null&&n.includes("application/json")){const o=await s.json();if(!s.ok)throw new Error(o.error||`Request failed with status ${s.status}`);return o}const a=await s.text();if(!s.ok)throw new Error(a||`Request failed with status ${s.status}`);return{text:a}}catch(r){throw console.error(`Gemini Service Error (${t}):`,r),r instanceof Error&&r.message.includes(rG)?new Error("    .      ."):r}}async function*sG(t){const e="generateContentStream",n={modelRequest:t},i=await(await iG()).getIdToken(),s=await fetch(tG,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`,"x-api-proxy-key":nG},body:JSON.stringify({action:e,payload:n})});if(!s.ok||!s.body){const c=(await s.json().catch(()=>({error:`Request failed with status ${s.status}`}))).error||`Request failed with status ${s.status}`;throw c.includes(rG)?new Error("    .      ."):new Error(c)}const a=s.body.getReader(),o=new TextDecoder;for(;;){const{done:l,value:c}=await a.read();if(l)break;yield o.decode(c,{stream:!0})}}async function*Nge(t,e){const n=`Analyze the following HTML content. Your task is to identify specific pieces of personal information (like names, dates, addresses, job titles) and replace them with the most relevant placeholder from the provided list. Return ONLY the modified HTML body content, without any markdown formatting, explanations, or the <body> tags themselves.

    Available placeholders: ${e.join(", ")}
    
    Original HTML Body:
    \`\`\`html
    ${t}
    \`\`\`
    `,r=sG({model:"gemini-2.5-flash",contents:n});for await(const i of r)yield i}const kge=async t=>yd("extractJsonFromHtml",{html:t}),_c=async t=>yd("generateContent",{modelRequest:t}),Ige=async t=>yd("generateImages",{prompt:t}),lI=async(t,e,n,r)=>{const i=await yd("extractDataFromImage",{base64ImageData:t,mimeType:e,schema:n,prompt:r});if(i&&i.text)try{return JSON.parse(i.text)}catch(s){throw console.error("Could not parse JSON from image extraction:",s),new Error("The AI model returned an invalid format.")}return i},Rge=async(t,e,n,r)=>{const i=await yd("extractStructuredData",{transcript:t,formFields:e,schema:n,prompt:r});if(i&&i.text)try{return JSON.parse(i.text)}catch(s){throw console.error("Could not parse JSON from structured data extraction:",s),new Error("The AI model returned an invalid format.")}return i},Pge=async(t,e,n)=>yd("extractJobData",{data:t,schema:e,requiredFieldLabels:n}),Fge=async(t,e,n)=>yd("processSpreadsheet",{prompt:t,selectedData:e,selectionContext:n}),aG=async t=>yd("convertPdfToHtml",{pdfBase64:t}),Mge=({onClose:t,onScanSuccess:e})=>{const n=V.useRef(null),r=V.useRef(null),i=V.useRef(null),[s,a]=V.useState("initializing"),[o,l]=V.useState("  ..."),[c,u]=V.useState(null),f=V.useCallback(async()=>{try{const p=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});i.current=p,n.current&&(n.current.srcObject=p,a("ready"),l(" .        ."))}catch(p){console.error("Error accessing camera:",p),u("    .    ."),a("error")}},[]);V.useEffect(()=>(f(),()=>{var p;(p=i.current)==null||p.getTracks().forEach(v=>v.stop())}),[f]);const h=async()=>{var p;if(!(s!=="ready"||!n.current||!r.current)){a("scanning"),l("    ..."),u(null);try{const v=n.current,g=r.current;g.width=v.videoWidth,g.height=v.videoHeight;const y=g.getContext("2d");y==null||y.drawImage(v,0,0,g.width,g.height);const _=g.toDataURL("image/jpeg",.9),[x,w]=_.split(","),C=((p=x.match(/:(.*?);/))==null?void 0:p[1])||"image/jpeg",D=await lI(w,C,{type:"OBJECT",properties:{lastName:{type:"STRING",description:"The person's last name () in Arabic."},firstName:{type:"STRING",description:"The person's first name () in Arabic."},lastNameFr:{type:"STRING",description:"The person's last name in French, if available."},firstNameFr:{type:"STRING",description:"The person's first name in French, if available."},birthdaydate:{type:"STRING",description:"The person's date of birth ( ) in YYYY-MM-DD format."},birthdayplace:{type:"STRING",description:"The person's place of birth () in Arabic."},nationalId:{type:"STRING",description:"The 18-digit National Identification Number (  )."},bloodType:{type:"STRING",description:"The person's blood type (RH), e.g., 'B+'."}}},"From the provided image of an Algerian National ID card (  ), extract the person's information. The card contains both Arabic and French text. Extract both language versions for the names. Format the date of birth as YYYY-MM-DD. If the image is blurry, has glare, or is unreadable, return an empty object.");if(D&&(D.firstName||D.lastName)){const I={fullName:`${D.firstName||""} ${D.lastName||""}`.trim(),firstName:D.firstName||"",lastName:D.lastName||"",firstNameFr:D.firstNameFr||"",lastNameFr:D.lastNameFr||"",birthdaydate:D.birthdaydate||"",birthdayplace:D.birthdayplace||"",nationalId:D.nationalId||"",bloodType:D.bloodType||""};e(I)}else l("     .     ."),a("ready")}catch(v){console.error("Scanning error with Gemini:",v);const g=v instanceof Error?v.message:"An unknown error occurred.";u(`   : ${g}`),a("ready")}}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full relative",children:[d.jsx("button",{onClick:t,className:"absolute top-2 right-2 text-gray-500 hover:text-gray-800 z-10",children:d.jsx(rd,{size:20})}),d.jsx("h3",{className:"text-xl font-bold mb-4 text-center",children:"   "}),d.jsxs("div",{className:"relative aspect-video bg-gray-900 rounded-md overflow-hidden flex items-center justify-center",children:[d.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),d.jsx("canvas",{ref:r,className:"hidden"}),d.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:d.jsx("div",{className:"w-[85%] h-[80%] border-4 border-dashed border-white border-opacity-50 rounded-lg"})})]}),d.jsx("div",{className:"mt-4 text-center",children:c?d.jsx("p",{className:"text-red-500 font-semibold",children:c}):d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"text-gray-600 mb-2 h-10 flex items-center justify-center",children:s==="scanning"?d.jsxs("span",{className:"flex items-center gap-2",children:[d.jsx(Tt,{className:"animate-spin"})," ",o]}):o}),d.jsxs("button",{onClick:h,disabled:s!=="ready",className:"mt-2 w-full flex items-center justify-center gap-3 bg-blue-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-700 disabled:bg-gray-400",children:[d.jsx(tg,{}),d.jsx("span",{children:s==="ready"?" ":" ..."})]})]})})]})})},Fx={1:1,:1,:1,:1,:1,:1,2:2,:2,:2,:2,:2,:2,:2,:2,3:3,:3,:3,:3,:3,:3,:3,:3,:3,:3,:3,4:4,:4,:4,:4,:4,:4,:4,:4,:4,:4,:4,5:5,:5,:5,:5,:5,:5,6:6,:6,:6,:6},Uge=t=>{const e=t.trim().toLowerCase(),n=e.match(/(?:||)\s+([^\s]+)/);if(n&&n[1]){const i=n[1];if(Fx[i])return Fx[i]}const r=e.split(/\s+/);for(const i of r)if(Fx[i])return Fx[i];return null},Oge=()=>{var pe;const t=Lr(),e=Fi(),{countryCode:n}=_a(),{documents:r,sites:i,cafes:s,loading:a,codes:o}=un(),{cafeId:l,selectedDocIds:c}=t.state||{cafeId:null,selectedDocIds:[]},{usePresence:u}=fh(),{isOnline:f}=u(l),{t:h,language:p}=Ui(),[v,g]=V.useState(),[y,_]=V.useState({}),[x,w]=V.useState(0),[C,S]=V.useState(""),[R,D]=V.useState(!1),[N,I]=V.useState(!1),[F,P]=V.useState("filling"),[k,U]=V.useState(!1),[O,H]=V.useState(!1),G=V.useRef(null),X=V.useRef(!1);V.useEffect(()=>{l&&s.length>0&&g(s.find(Me=>Me.id===l))},[l,s]);const Z=Me=>{_(W=>({...W,...Me})),H(!1)},z=V.useMemo(()=>r.filter(Me=>c.includes(Me.id)),[r,c]),Q=V.useMemo(()=>i.filter(Me=>Me.type==="template"&&c.includes(Me.id)),[i,c]),B=V.useMemo(()=>!c||c.length===0?!1:z.length>0||Q.length>0,[c,z,Q]),j=V.useMemo(()=>{const Me=[],W=new Set;return z.forEach(ge=>{var ce;((((ce=ge.spokenFields)==null?void 0:ce.length)>0?ge.spokenFields:ge.requiredFields)||[]).forEach(re=>{var le,ke,Ne;if(re!=="profilePicture"&&re!=="DateToday"&&!W.has(re)){const ie=Object.prototype.hasOwnProperty.call(D2,re),ue=((le=ge.questions)==null?void 0:le[re])||((Ne=(ke=ge.fieldCustomizations)==null?void 0:ke[re])==null?void 0:Ne.customQuestion)||(ie?D2[re]:re);Me.push({id:re,label:ue||re}),W.add(re)}})}),Q.forEach(ge=>{var ce;(((ce=ge.jsonTemplate)==null?void 0:ce.fields)||[]).forEach(re=>{if(re!=null&&re.fieldId){const le=re.fieldId;W.has(le)||(Me.push({id:le,label:re.label}),W.add(le))}})}),Me},[z,Q]),q=V.useMemo(()=>{const Me=new Set;return z.forEach(W=>(W.requiredFields||[]).forEach(ge=>Me.add(ge))),Me.has("profilePicture")},[z]),J=x===j.length-1,Y=V.useMemo(()=>{var Ne,ie,ue;const Me=(Ne=j[x])==null?void 0:Ne.id;if(!Me)return null;const ge=Object.prototype.hasOwnProperty.call(di,Me)?di[Me]:null;let _e=null;for(const ve of z)if((ie=ve.fieldCustomizations)!=null&&ie[Me]){_e=ve.fieldCustomizations[Me];break}const ce=((ue=j[x])==null?void 0:ue.label)||Me,re=(_e==null?void 0:_e.type)||(ge==null?void 0:ge.type)||"text",le=ge?h(ge.placeholder||""):Me;let ke;return _e!=null&&_e.options?ke=_e.options.map(ve=>({value:ve,label:ve})):ge!=null&&ge.options&&(ke=ge.options.map(ve=>({value:ve.value,label:h(ve.label)}))),{id:Me,question:ce,type:re,placeholder:le,options:ke,customization:_e}},[x,j,z,h]),te=V.useCallback(()=>{J?P("finished"):w(Me=>Me+1)},[J]),oe=V.useCallback(()=>{x>0&&w(Me=>Me+1)},[x]),de=V.useRef({handleNext:te,handlePrevious:oe,setFormData:_,currentField:Y});V.useEffect(()=>{de.current={handleNext:te,handlePrevious:oe,setFormData:_,currentField:Y}},[te,oe,Y]),V.useEffect(()=>{X.current=N},[N]),V.useEffect(()=>{const Me=window.SpeechRecognition||window.webkitSpeechRecognition;if(!Me)return;const W=new Me;W.continuous=!0,W.interimResults=!1;let ge="ar-SA";switch(p){case"en":ge="en-US";break;case"fr":ge="fr-FR";break;case"de":ge="de-DE";break;case"es":ge="es-ES";break;case"tr":ge="tr-TR";break;case"ja":ge="ja-JP";break}W.lang=ge,W.onstart=()=>{I(!0),U(!1)},W.onend=()=>{if(X.current){console.log("Speech recognition service disconnected, attempting to restart.");try{W.start()}catch(_e){console.error("Could not restart recognition:",_e),X.current=!1,I(!1)}}else I(!1)},W.onresult=_e=>{let ce="";for(let be=_e.resultIndex;be<_e.results.length;++be)_e.results[be].isFinal&&(ce+=_e.results[be][0].transcript.trim());if(!ce)return;const{handleNext:re,handlePrevious:le,setFormData:ke,currentField:Ne}=de.current,ie=Uge(ce);if(Ne!=null&&Ne.options&&ie!==null){const be=ie-1;if(be>=0&&be<Ne.options.length){const Ie=Ne.options[be];ke(Le=>({...Le,[Ne.id]:Ie.value})),re();return}}const ue=["",""," "," ","next","suivant"],ve=["","",""," "," "," ","previous","prcdent"];ue.some(be=>ce.toLowerCase().includes(be))?re():ve.some(be=>ce.toLowerCase().includes(be))?le():Ne&&ke(be=>({...be,[Ne.id]:(be[Ne.id]||"")+ce+" "}))},W.onerror=_e=>{console.error("Speech recognition error:",_e.error),(_e.error==="not-allowed"||_e.error==="permission-denied")&&U(!0),X.current=!1,I(!1)},G.current=W,X.current=!0;try{G.current.start()}catch(_e){console.error("Could not start recognition on mount:",_e),X.current=!1,I(!1)}return()=>{G.current&&(X.current=!1,G.current.onend=null,G.current.stop())}},[p]),V.useEffect(()=>{var Me;if(G.current){const W=G.current,ge=X.current;ge&&(X.current=!1,W.stop());let _e=((Me=Y==null?void 0:Y.customization)==null?void 0:Me.speechLang)||(v==null?void 0:v.speechToTextLanguage)||"ar-SA";W.lang=_e,console.log(`Switched speech recognition language to: ${_e} for field ${Y==null?void 0:Y.id}`),ge&&setTimeout(()=>{X.current=!0;try{W.start()}catch(ce){console.error("Could not restart recognition after lang change:",ce),X.current=!1,I(!1)}},250)}},[x,j,v,Y]);const fe=()=>{var Me,W;N?(X.current=!1,(Me=G.current)==null||Me.stop()):(X.current=!0,(W=G.current)==null||W.start())},Ce=Me=>{const{name:W,value:ge}=Me.target;_(_e=>({..._e,[W]:ge}))},Pe=async()=>{if(q&&!C){alert("     .");return}D(!0);const Me={...y,profilePicture:C};try{if(f===!0&&lr){console.log("Cafe is online. Sending job via P2P (GUN.js).");const W=`job-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,ge={cafeId:l,documentIds:JSON.stringify(c),visitorData:JSON.stringify(Me),createdAt:Date.now(),status:"Pending"};lr.get("jobs").get(l).get(W).put(ge),e(`/${n}/confirmation/${W}`)}else{console.log(`Cafe is offline (isOnline: ${f}). Sending job via Firebase.`);const ge=await Nme({cafeId:l,documentIds:c,visitorData:Me});e(`/${n}/confirmation/${ge.id}`)}}catch(W){console.error("Error submitting job:",W),alert("    .    .")}finally{D(!1)}};return a?d.jsx("div",{className:"text-center py-20",children:d.jsx(Tt,{className:"animate-spin text-4xl text-green-600"})}):!l||!B?d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"  "}),d.jsx("p",{className:"text-gray-600 mb-6",children:"      .     ."}),d.jsx(dn,{to:`/${n}`,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"   "})]}):d.jsxs("div",{className:"max-w-3xl mx-auto",children:[O&&d.jsx(Mge,{onClose:()=>H(!1),onScanSuccess:Z}),d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8",children:[d.jsxs("div",{className:"mb-6 border-b pb-6 flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:" "}),d.jsxs("p",{className:"text-gray-600",children:["    ",d.jsx("strong",{className:"font-semibold",children:v==null?void 0:v.name}),".",d.jsx("span",{className:`inline-block mr-2 px-2 py-0.5 text-xs font-semibold rounded-full ${f===!0?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:f===null?"...":f===!0?"":" "})]})]}),d.jsxs("button",{type:"button",onClick:()=>H(!0),className:"flex items-center gap-2 bg-blue-600 text-white font-bold px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",title:"   ",children:[d.jsx(tg,{}),d.jsx("span",{children:" "})]})]}),k&&d.jsxs("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-6",role:"alert",children:[d.jsxs("p",{className:"font-bold flex items-center gap-2",children:[d.jsx(Ew,{}),"     "]}),d.jsx("p",{children:"           .    ."})]}),F==="filling"&&Y&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsxs("p",{className:"text-sm font-semibold text-gray-500",children:[" ",x+1,"  ",j.length]}),d.jsx("h2",{className:"text-2xl font-bold text-gray-800 mt-1",children:Y.question}),d.jsx("p",{className:"text-sm text-gray-500 mt-2",children:'  ""  ""   .'})]}),d.jsxs("div",{className:"relative",children:[Y.type==="select"&&Y.options?d.jsxs("select",{name:Y.id,value:y[Y.id]||"",onChange:Ce,className:"w-full h-28 p-4 text-lg border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition",children:[d.jsxs("option",{value:"",children:["-- ",Y.placeholder," --"]}),(pe=Y.options)==null?void 0:pe.map(Me=>d.jsx("option",{value:Me.value,children:Me.label},Me.value))]},Y.id):d.jsx("textarea",{name:Y.id,value:y[Y.id]||"",onChange:Ce,placeholder:` ... : ${Y.placeholder}`,className:"w-full h-28 p-4 text-lg border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition"},Y.id),d.jsx("button",{type:"button",onClick:fe,title:"/ ",disabled:k,className:`absolute bottom-3 left-3 p-3 rounded-full transition-colors ${N?"bg-red-500 text-white animate-pulse":"bg-green-600 text-white hover:bg-green-700"} disabled:bg-gray-400`,children:N?d.jsx(hge,{}):d.jsx(Rc,{})})]}),Y.options&&d.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg border",children:[d.jsx("h3",{className:"font-semibold text-gray-700 mb-2",children:"  (  ):"}),d.jsx("ol",{className:"list-decimal list-inside space-y-1 text-gray-800",children:Y.options.map((Me,W)=>d.jsxs("li",{children:[d.jsxs("strong",{className:"font-mono",children:[W+1,"."]})," ",Me.label]},Me.value))})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("button",{onClick:oe,disabled:x===0,className:"flex items-center gap-2 bg-gray-200 text-gray-800 font-bold px-6 py-3 rounded-lg hover:bg-gray-300 disabled:opacity-50",children:[d.jsx(ww,{})," ",d.jsx("span",{children:""})]}),d.jsxs("button",{onClick:te,className:"flex items-center gap-2 bg-green-600 text-white font-bold px-6 py-3 rounded-lg hover:bg-green-700",children:[d.jsx("span",{children:J?"":""})," ",d.jsx(_w,{})]})]})]}),F==="finished"&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center justify-center gap-3",children:[d.jsx(OH,{className:"text-green-500"}),"  !"]}),d.jsx("p",{className:"text-gray-600 mt-2",children:"      ."})]}),d.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border space-y-3",children:Object.entries(y).map(([Me,W])=>{if(!W)return null;const _e=(Object.prototype.hasOwnProperty.call(di,Me)?D2[Me]:Me)||Me;return d.jsxs("div",{children:[d.jsxs("p",{className:"text-sm font-semibold text-gray-500",children:[_e,":"]}),d.jsx("p",{className:"text-md text-gray-800 font-medium whitespace-pre-wrap",children:W})]},Me)})}),q&&d.jsxs("div",{className:"pt-4 mt-4 border-t",children:[d.jsx("h3",{className:"font-bold text-lg text-center mb-2",children:" "}),d.jsx("div",{className:"flex justify-center",children:d.jsx(Z1,{value:C,onChange:S})})]}),d.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[d.jsx("button",{onClick:()=>{w(0),P("filling")},className:"bg-gray-200 text-gray-800 font-bold px-6 py-3 rounded-lg hover:bg-gray-300",children:"  "}),d.jsxs("button",{onClick:Pe,disabled:R||q&&!C,className:"flex items-center gap-2 bg-blue-600 text-white font-bold px-6 py-3 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[R?d.jsx(Tt,{className:"animate-spin"}):d.jsx(ty,{}),d.jsx("span",{children:R?" ...":"  "})]})]})]})]})]})},Lge=()=>{const{countryCode:t,jobId:e}=_a(),{t:n}=Ui();return d.jsx("div",{className:"max-w-2xl mx-auto text-center py-10",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[d.jsx("svg",{className:"w-20 h-20 text-green-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:n("confirmationPage.title")}),d.jsx("p",{className:"text-gray-600 mb-6 text-lg",children:n("confirmationPage.subtitle")}),d.jsxs("div",{className:"bg-green-50 border-2 border-dashed border-green-200 rounded-lg p-4 my-6",children:[d.jsx("p",{className:"text-gray-600 mb-1",children:n("confirmationPage.orderCodeLabel")}),d.jsx("p",{className:"text-3xl font-bold text-green-800 tracking-widest","aria-live":"polite",children:e})]}),d.jsx("p",{className:"text-sm text-gray-500 mb-8",children:n("confirmationPage.note")}),d.jsx(dn,{to:`/${t}`,className:"bg-green-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-green-700 transition-colors",children:n("confirmationPage.backToHome")})]})})},jge=()=>{const{t,countryCode:e}=Ui(),[n,r]=V.useState(""),[i,s]=V.useState(""),[a,o]=V.useState(""),[l,c]=V.useState(!1),u=Fi(),{login:f,logout:h,sendPasswordReset:p}=jr(),[v,g]=V.useState(!1),[y,_]=V.useState(""),[x,w]=V.useState(""),[C,S]=V.useState(""),R=async N=>{if(N.preventDefault(),o(""),!n||!i){o(t("login.error.fillAllFields"));return}c(!0);try{const I=await f(n,i);I.emailVerified?u(`/${I.countryCode}/app`):(o(t("login.error.verifyEmail")),await h(),c(!1))}catch{o(t("login.error.wrongCredentials")),c(!1)}},D=async N=>{if(N.preventDefault(),w(""),S(""),!y){S(t("login.error.enterEmail"));return}c(!0);try{await p(y),w(t("login.reset.successMessage"))}catch(I){S(I.message||t("login.reset.errorMessage"))}c(!1)};return d.jsx("div",{className:"max-w-md mx-auto mt-10",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl p-8",children:v?d.jsxs(d.Fragment,{children:[d.jsx("h1",{className:"text-3xl font-bold text-center text-gray-900 mb-6",children:t("login.reset.title")}),x&&d.jsx("p",{className:"bg-green-100 text-green-700 p-3 rounded-md mb-4 text-center",children:x}),C&&d.jsx("p",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-center",children:C}),d.jsxs("form",{onSubmit:D,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"reset-email",className:"block text-sm font-medium text-gray-700 mb-1",children:t("login.reset.emailLabel")}),d.jsx("input",{type:"email",id:"reset-email",value:y,onChange:N=>_(N.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm",placeholder:"user@example.com"})]}),d.jsx("button",{type:"submit",disabled:l,className:"w-full bg-green-600 text-white p-3 rounded-lg font-bold hover:bg-green-700 disabled:bg-gray-400",children:t(l?"login.reset.sendingButton":"login.reset.sendButton")})]}),d.jsx("p",{className:"text-center text-gray-600 mt-6",children:d.jsxs("button",{onClick:()=>g(!1),className:"text-green-600 hover:underline font-semibold",children:[" ",t("login.reset.backToLogin")]})})]}):d.jsxs(d.Fragment,{children:[d.jsx("h1",{className:"text-3xl font-bold text-center text-gray-900 mb-6",children:t("login.title")}),a&&d.jsx("p",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-center",children:a}),d.jsxs("form",{onSubmit:R,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:t("login.emailLabel")}),d.jsx("input",{type:"email",id:"email",value:n,onChange:N=>r(N.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"user@example.com"})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:t("login.passwordLabel")}),d.jsx("button",{type:"button",onClick:()=>g(!0),className:"text-sm text-green-600 hover:underline font-semibold",children:t("login.forgotPassword")})]}),d.jsx("input",{type:"password",id:"password",value:i,onChange:N=>s(N.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"********"})]}),d.jsx("button",{type:"submit",disabled:l,className:"w-full bg-green-600 text-white p-3 rounded-lg font-bold hover:bg-green-700 transition-colors disabled:bg-gray-400",children:t(l?"login.loggingInButton":"login.loginButton")})]}),d.jsxs("p",{className:"text-center text-gray-600 mt-6",children:[t("login.noAccount")," ",d.jsx(dn,{to:`/${e}/signup`,className:"text-green-600 hover:underline font-semibold",children:t("login.createAccount")})]})]})})})},Bge=["gmail.com","outlook.com","hotmail.com","live.com"],Vge=()=>{const{wilayas:t,dairas:e,communes:n,locationsLoading:r}=un(),{t:i,countryCode:s,language:a}=Ui(),o=Fi(),l=Lr(),c=Ir[a],u=l.state||{},[f,h]=V.useState(u.email||""),[p,v]=V.useState(u.password||""),[g,y]=V.useState(u.confirmPassword||""),[_,x]=V.useState(u.cafeName||""),[w,C]=V.useState(u.ownerName||""),[S,R]=V.useState(u.street||""),[D,N]=V.useState(()=>c.find(W=>W.code===s)||c[0]),[I,F]=V.useState(u.selectedWilaya||""),[P,k]=V.useState(u.selectedDaira||""),[U,O]=V.useState(u.selectedCommune||""),[H,G]=V.useState(u.genericState||""),[X,Z]=V.useState(u.genericCity||""),[z,Q]=V.useState([]),[B,j]=V.useState([]),[q,J]=V.useState(""),[Y,te]=V.useState(!1),[oe,de]=V.useState(!1),{signup:fe}=jr();V.useEffect(()=>{if(!l.state){const W=c.find(ge=>ge.code===s)||c[0];N(W)}},[s,c,l.state]);const Ce=W=>{const ge=W.target.value,_e={email:f,password:p,confirmPassword:g,cafeName:_,ownerName:w,street:S,selectedWilaya:I,selectedDaira:P,selectedCommune:U,genericState:H,genericCity:X};o(`/${ge}/signup`,{replace:!0,state:_e})},Pe=W=>{const ge=W.target.value;F(ge),k(""),O(""),ge?(Q(e.filter(_e=>_e.wilaya_code===ge)),j([])):(Q([]),j([]))},pe=W=>{const ge=W.target.value;k(ge),O(""),j(ge&&I?n.filter(_e=>_e.daira_name===ge&&_e.wilaya_code===I):[])},Me=async W=>{var ue;W.preventDefault(),J("");const ge=f.split("@")[1];if(!Bge.includes(ge)){J(i("signup.errors.allowedDomains"));return}const _e=t.length>0;if(!f||!p||!g||!_||!w||!S||!(_e&&I&&P&&U)&&!(!_e&&H&&X)){J(i("signup.errors.fillAllFields"));return}if(p!==g){J(i("signup.errors.passwordsMismatch"));return}if(p.length<6){J(i("signup.errors.passwordLength"));return}te(!0);let le;_e?le={wilaya:((ue=t.find(be=>be.code===I))==null?void 0:ue.name)||"",wilaya_code:I,daira:P,commune:U,street:S}:le={state:H,city:X,street:S};const Ne=D.code==="dz"?{amount:200,currency:"DZD"}:{amount:1,currency:"USD"},ie={name:_,owner:w,countryCode:D.code,countryPhoneCode:D.phoneCode,address:le,initialCredits:Ne};try{await fe(f,p,ie)?de(!0):J(i("signup.errors.signupFailed"))}catch(ve){ve.code==="auth/email-already-in-use"?J("    .        ."):J(i("signup.errors.signupFailed"))}finally{te(!1)}};return oe?d.jsx("div",{className:"max-w-lg mx-auto mt-10",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 text-center",children:[d.jsx("svg",{className:"w-16 h-16 text-green-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),d.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:i("signup.success.title")}),d.jsxs("p",{className:"text-gray-600 mb-6",children:[i("signup.success.message")," ",d.jsx("strong",{className:"font-semibold",children:f}),".",i("signup.success.instruction")]}),d.jsx(dn,{to:`/${s}/login`,className:"w-full bg-green-600 text-white p-3 rounded-lg font-bold hover:bg-green-700 transition-colors inline-block",children:i("signup.success.loginButton")})]})}):d.jsx("div",{className:"max-w-lg mx-auto mt-10",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-center text-gray-900 mb-6",children:i("signup.title")}),q&&d.jsx("p",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-center",children:q}),d.jsxs("form",{onSubmit:Me,className:"space-y-6",children:[d.jsxs("fieldset",{className:"space-y-4 border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-gray-700",children:i("signup.accountInfo")}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email-signup",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.email")}),d.jsx("input",{type:"email",id:"email-signup",value:f,onChange:W=>h(W.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"user@gmail.com / user@outlook.com"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"password-signup",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.password")}),d.jsx("input",{type:"password",id:"password-signup",value:p,onChange:W=>v(W.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:i("signup.passwordPlaceholder")})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.confirmPassword")}),d.jsx("input",{type:"password",id:"confirm-password",value:g,onChange:W=>y(W.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"********"})]})]}),d.jsxs("fieldset",{className:"space-y-4 border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-gray-700",children:i("signup.cafeInfo")}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"cafeName",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.cafeName")}),d.jsx("input",{type:"text",id:"cafeName",value:_,onChange:W=>x(W.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:i("signup.cafeNamePlaceholder")})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"ownerName",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.ownerName")}),d.jsx("input",{type:"text",id:"ownerName",value:w,onChange:W=>C(W.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:i("signup.ownerNamePlaceholder")})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.country")}),d.jsx("select",{id:"country",value:D.code,onChange:Ce,required:!0,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-white focus:outline-none focus:ring-green-500 focus:border-green-500",children:c.map(W=>d.jsx("option",{value:W.code,children:W.name},W.code))})]}),t.length>0?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"wilaya",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.wilaya")}),d.jsxs("select",{id:"wilaya",value:I,onChange:Pe,required:!0,disabled:r,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-white focus:outline-none focus:ring-green-500 focus:border-green-500",children:[d.jsx("option",{value:"",children:i(r?"signup.loading":"signup.selectWilaya")}),t.map(W=>d.jsx("option",{value:W.code,children:W.name},W.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"daira",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.daira")}),d.jsxs("select",{id:"daira",value:P,onChange:pe,required:!0,disabled:!I,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-white focus:outline-none focus:ring-green-500 focus:border-green-500",children:[d.jsx("option",{value:"",children:i("signup.selectDaira")}),z.map(W=>d.jsx("option",{value:W.name,children:W.name},W.id))]})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"commune",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.commune")}),d.jsxs("select",{id:"commune",value:U,onChange:W=>O(W.target.value),required:!0,disabled:!P,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-white focus:outline-none focus:ring-green-500 focus:border-green-500",children:[d.jsx("option",{value:"",children:i("signup.selectCommune")}),B.map(W=>d.jsx("option",{value:W.name,children:W.name},W.id))]})]})]}):d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"genericState",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.state")}),d.jsx("input",{type:"text",id:"genericState",value:H,onChange:W=>G(W.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:i("signup.statePlaceholder")})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"genericCity",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.city")}),d.jsx("input",{type:"text",id:"genericCity",value:X,onChange:W=>Z(W.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:i("signup.cityPlaceholder")})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"street",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.street")}),d.jsx("input",{type:"text",id:"street",value:S,onChange:W=>R(W.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:i("signup.streetPlaceholder")})]})]}),d.jsx("button",{type:"submit",disabled:Y||r,className:"w-full bg-green-600 text-white p-3 rounded-lg font-bold hover:bg-green-700 transition-colors disabled:bg-gray-400",children:i(Y?"signup.creatingButton":"signup.createButton")})]}),d.jsxs("p",{className:"text-center text-gray-600 mt-6",children:[i("signup.haveAccount")," ",d.jsx(dn,{to:`/${s}/login`,className:"text-green-600 hover:underline font-semibold",children:i("signup.loginHere")})]})]})})},R9=()=>{const{user:t}=jr(),{cafes:e}=un(),{useCafeChatManager:n}=fh(),{totalUnreadCount:r}=n(),i=e.find(l=>l.id===(t==null?void 0:t.cafeId)),s="flex items-center gap-3 px-4 py-3 rounded-lg transition-colors",a="bg-green-600 text-white",o="text-gray-600 hover:bg-green-100 hover:text-green-800";return d.jsxs("aside",{className:"w-64 bg-white shadow-md flex flex-col p-4 rounded-lg",children:[d.jsxs("div",{className:"text-center border-b pb-4 mb-4",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-800",children:(i==null?void 0:i.name)||" "}),d.jsx("p",{className:"text-sm text-gray-500",children:t==null?void 0:t.email})]}),d.jsxs("nav",{className:"flex flex-col gap-2",children:[d.jsxs(cr,{to:"",end:!0,className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),d.jsx("span",{children:" "})]}),d.jsxs(cr,{to:"pending-jobs",className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),d.jsx("span",{children:" "})]}),d.jsx(cr,{to:"chat",className:({isActive:l})=>`${s} ${l?a:o}`,children:d.jsxs("div",{className:"flex justify-between items-center w-full",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(iI,{className:"h-5 w-5"}),d.jsx("span",{children:""})]}),r>0&&d.jsx("span",{className:"bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:r})]})}),d.jsxs(cr,{to:"generate",className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),d.jsx("span",{children:" "})]}),d.jsxs(cr,{to:"excel-studio",className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsx(BH,{className:"h-5 w-5"}),d.jsx("span",{children:" "})]}),d.jsxs(cr,{to:"document-studio",className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsx(sI,{className:"h-5 w-5"}),d.jsx("span",{children:" "})]}),d.jsxs(cr,{to:"multi-person-job",className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),d.jsx("span",{children:"  "})]}),d.jsxs(cr,{to:"clients",className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),d.jsx("span",{children:" "})]}),d.jsxs(cr,{to:"settings",className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0 3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826 3.31 2.37-2.37.996.608 2.296.096 2.572-1.065z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),d.jsx("span",{children:""})]}),d.jsxs(cr,{to:"billing",className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),d.jsx("span",{children:" "})]})]})]})},Wge=()=>{const{user:t,resendVerificationEmail:e}=jr(),[n,r]=V.useState(!1),[i,s]=V.useState(""),[a,o]=V.useState(!1),l=async()=>{o(!0),s("");try{await e(),r(!0),setTimeout(()=>r(!1),5e3)}catch(c){s(c.message||"Failed to send email.")}o(!1)};return!t||t.emailVerified?null:d.jsxs("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 rounded-md shadow-md",role:"alert",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(Ew,{className:"h-6 w-6 mr-3"}),d.jsxs("div",{className:"flex-grow",children:[d.jsx("p",{className:"font-bold",children:"    "}),d.jsxs("p",{className:"text-sm",children:["     .        ",d.jsx("strong",{className:"font-mono",children:t.email}),"."]})]}),n?d.jsxs("div",{className:"flex items-center text-green-600 ml-auto flex-shrink-0",children:[d.jsx(OH,{className:"mr-2"}),d.jsx("span",{className:"font-semibold",children:" !"})]}):d.jsx("button",{onClick:l,disabled:a,className:"ml-auto flex-shrink-0 bg-yellow-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-yellow-600 transition-colors disabled:opacity-50",children:a?" ...":"   "})]}),i&&d.jsx("p",{className:"text-red-600 text-sm mt-2",children:i})]})},P9="1.0",qge="document-templates-v1",oG=V.createContext(void 0),$ge=({children:t})=>{const[e,n]=V.useState(!0),[r,i]=V.useState(!1),[s,a]=V.useState(""),[o,l]=V.useState(null);V.useEffect(()=>{(async()=>{try{const f=await ga("offlineMetadata","syncStatus");f&&f.version===P9?n(!0):n(!1)}catch(f){console.error("Could not check offline status, assuming not ready.",f),n(!1)}})()},[]);const c=V.useCallback(async()=>{i(!0),l(null),a(" ...");try{a("   ...");const[u,f,h,p,v]=await Promise.all([mf(),_f.getAll(),pf.getAll(),Am.getAll(),Vb()]);a("     ..."),await Promise.all([Vi("fullDocuments",u),Vi("staticDocuments",f),Vi("sites",h),Vi("baseTemplates",p),Cr("siteSettings",{...v,id:"main"})]),a("   ...");const g=u.map(_=>_.finalTemplateUrl).filter(_=>!!_);await(await caches.open(qge)).addAll(g),a("  ..."),await Cr("offlineMetadata",{id:"syncStatus",version:P9,lastUpdated:new Date().toISOString()}),n(!0)}catch(u){console.error("Offline sync failed:",u);let f="     .";u instanceof Error&&(u.message.includes("404")?f="    ( 404).      .        .":u.message.toLowerCase().includes("failed to fetch")?f="  .     .":f=u.message),l(f)}finally{i(!1),a("")}},[]);return d.jsx(oG.Provider,{value:{isOfflineReady:e,isSyncing:r,syncProgress:s,syncError:o,startSync:c},children:t})},zge=()=>{const t=V.useContext(oG);if(t===void 0)throw new Error("useOfflineSync must be used within an OfflineSyncProvider");return t},Hge=()=>{const{isOfflineReady:t,isSyncing:e,syncProgress:n,syncError:r,startSync:i}=zge(),[s,a]=V.useState(sessionStorage.getItem("offlineSyncDismissed")==="true"),o=()=>{sessionStorage.setItem("offlineSyncDismissed","true"),a(!0)};return t||s?null:d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-[100] flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg text-center p-8 space-y-4 relative",children:[d.jsx("button",{onClick:o,className:"absolute top-3 right-3 text-gray-400 hover:text-gray-600 p-2","aria-label":"",children:d.jsx(rd,{size:20})}),d.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"   "}),d.jsx("p",{className:"text-gray-600",children:"            .      ."}),e?d.jsxs("div",{className:"space-y-3 pt-4",children:[d.jsx(Tt,{className:"animate-spin text-4xl text-green-600 mx-auto"}),d.jsx("p",{className:"font-semibold text-green-700",children:n||" ..."})]}):d.jsxs("div",{className:"pt-4",children:[r&&d.jsxs("div",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4 flex items-center text-right gap-2",children:[d.jsx(Ew,{className:"flex-shrink-0"}),d.jsxs("span",{children:[": ",r]})]}),d.jsxs("button",{onClick:i,className:"w-full flex items-center justify-center gap-3 bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition-colors",children:[d.jsx($o,{}),d.jsx("span",{children:r?"  ":"    "})]})]})]})})},Gge=()=>{const[t,e]=V.useState(!0),n=()=>{sessionStorage.setItem("extensionNotificationDismissed","true"),e(!1)};return t?d.jsxs("div",{className:"bg-blue-100 border-l-4 border-blue-500 text-blue-800 p-4 rounded-md shadow-md relative mb-6 animate-fadeIn",role:"alert",children:[d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"py-1",children:d.jsx($o,{className:"h-6 w-6 text-blue-500 ml-4 rtl:ml-0 rtl:mr-4"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold",children:"    "}),d.jsxs("p",{className:"text-sm",children:["          .",d.jsx("a",{href:"https://files.gitut.com/data/add-on/gitut.zip",target:"_blank",rel:"noopener noreferrer",className:"font-semibold underline mr-2 rtl:mr-0 rtl:ml-2 hover:text-blue-600",children:"  "}),"."]})]})]}),d.jsx("button",{onClick:n,className:"absolute top-0 bottom-0 left-0 px-4 py-3 rtl:left-auto rtl:right-0","aria-label":"",children:d.jsx(rd,{className:"h-5 w-5 text-blue-500 hover:text-blue-700"})})]}):null},Kge=()=>d.jsx("div",{className:"flex items-center justify-center h-full min-h-[50vh]",children:d.jsxs("div",{className:"max-w-2xl text-center p-8",children:[d.jsx(UH,{className:"text-5xl text-yellow-500 mx-auto mb-4"}),d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"   !"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"   Gitut.                 ."}),d.jsxs(dn,{to:"settings",className:"inline-flex items-center justify-center gap-2 bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700 transition-colors text-lg",children:[d.jsx(LH,{}),d.jsx("span",{children:"     "})]})]})}),Jge=()=>{const{loadFullDocuments:t,cafes:e,loading:n}=un(),{user:r,refetchUser:i}=jr(),s=Lr(),a=s.pathname.includes("document-studio")||s.pathname.includes("excel-studio"),o=s.pathname.endsWith("/settings"),[l,c]=V.useState(!1),u=Jo.useMemo(()=>e.find(h=>h.id===(r==null?void 0:r.cafeId)),[e,r]);V.useEffect(()=>{t()},[t]),V.useEffect(()=>{i()},[i]),V.useEffect(()=>{let h=!1;const p=g=>{var y,_;g.source===window&&((y=g.data)==null?void 0:y.source)==="gitut-extension"&&((_=g.data)==null?void 0:_.type)==="pong"&&(h=!0,c(!1),window.removeEventListener("message",p))};window.addEventListener("message",p),window.postMessage({source:"gitut-webapp",type:"ping"},"*");const v=setTimeout(()=>{h||sessionStorage.getItem("extensionNotificationDismissed")||c(!0)},1500);return()=>{clearTimeout(v),window.removeEventListener("message",p)}},[]);const f=u&&!u.isProfilePublished&&!o;return n?d.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-start",children:[d.jsx(R9,{}),d.jsx("main",{className:"flex-1 w-full flex items-center justify-center p-10 h-[60vh]",children:d.jsx(Tt,{className:"animate-spin text-4xl text-green-600"})})]}):d.jsxs(d.Fragment,{children:[d.jsx(Hge,{}),d.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-start",children:[d.jsx(R9,{}),d.jsxs("main",{className:"flex-1 w-full space-y-6",children:[l&&d.jsx(Gge,{}),d.jsx(Wge,{}),d.jsx("div",{className:`bg-white rounded-lg shadow-lg ${a?"p-0 h-[85vh] overflow-hidden":"p-6 min-h-[60vh]"}`,children:f?d.jsx(Kge,{}):d.jsx(A3,{})})]})]})]})},wC=t=>t?t.replace(/[]/g,"").replace(//g,"").toLowerCase():"",Xge=()=>{const{documents:t,staticDocuments:e,sites:n}=un(),[r,i]=V.useState("");Fi();const[s,a]=V.useState(!1),o=V.useRef(null),l=window.SpeechRecognition||window.webkitSpeechRecognition,c=!!l,[u,f]=V.useState(!1),h=V.useMemo(()=>[...t.map(g=>({item:g,type:"doc"})),...e.map(g=>({item:g,type:"staticDoc"})),...n.filter(g=>g.type==="template").map(g=>({item:g,type:"site"}))],[t,e,n]),p=V.useMemo(()=>{if(!r.trim())return[];const g=wC(r);return h.filter(({item:y})=>wC(y.name).includes(g)||"description"in y&&y.description&&wC(y.description).includes(g))},[r,h]);V.useEffect(()=>{if(!c)return;const g=new l;return g.continuous=!1,g.interimResults=!1,g.lang="ar-SA",g.onresult=y=>{const _=y.results[0][0].transcript;i(_)},g.onerror=y=>{console.error("Speech recognition error",y.error)},g.onend=()=>{a(!1)},o.current=g,()=>{o.current&&o.current.abort()}},[c]);const v=()=>{var g,y;if(!c){alert("     .");return}s?(g=o.current)==null||g.stop():((y=o.current)==null||y.start(),a(!0))};return d.jsxs("div",{className:"relative w-full max-w-2xl mx-auto mb-6",children:[d.jsxs("form",{onSubmit:g=>g.preventDefault(),className:"relative",children:[d.jsx(JA,{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"    ...",value:r,onChange:g=>i(g.target.value),onFocus:()=>f(!0),onBlur:()=>setTimeout(()=>f(!1),200),className:"w-full p-3 pl-12 pr-12 bg-white border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-green-500"}),c&&d.jsx("button",{type:"button",onClick:v,title:" ",className:`absolute left-3 top-1/2 -translate-y-1/2 p-2 rounded-full transition-colors ${s?"bg-red-500 text-white animate-pulse":"text-gray-600 hover:bg-gray-100"}`,children:d.jsx(Rc,{})})]}),u&&p.length>0&&d.jsx("ul",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-gray-300 rounded-lg shadow-lg z-30 max-h-80 overflow-y-auto",children:p.map(({item:g,type:y})=>{let _="",x={},w=KA;const C="description"in g?g.description:g.url||"";return y==="doc"?(_="/app/generate",x={selectedDocId:g.id},w=KA):y==="site"?(_=`/app/fill-site/${g.id}`,w=Xy):y==="staticDoc"&&(_=`/app/view-pdf/${g.id}`,w=Cw),d.jsx("li",{children:d.jsxs(dn,{to:_,state:x,className:"flex items-center gap-3 px-4 py-3 hover:bg-green-50",children:[d.jsx(w,{className:"h-5 w-5 text-gray-500 flex-shrink-0"}),d.jsxs("div",{className:"flex-grow overflow-hidden",children:[d.jsx("p",{className:"font-semibold text-gray-800 truncate",children:g.name}),d.jsx("p",{className:"text-sm text-gray-500 truncate",children:C})]})]})},`${y}-${g.id}`)})})]})},Yge=({isOpen:t,onClose:e,cafeName:n,numericId:r})=>{if(!t)return null;const i=()=>{window.print()};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-sm relative",children:[d.jsx("div",{className:"p-6",children:d.jsxs("div",{id:"printable-id",className:"text-center p-4",children:[d.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:n}),r?d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"mb-4 text-gray-600",children:"    :"}),d.jsx("p",{className:"text-6xl font-bold text-green-600 tracking-widest bg-gray-100 p-4 rounded-lg",children:r}),d.jsx("p",{className:"mt-4 text-gray-500 text-sm",children:"       ."})]}):d.jsx("p",{className:"text-lg text-gray-500 my-8",children:"     ."})]})}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-between items-center",children:[d.jsxs("button",{onClick:i,disabled:!r,className:"flex items-center gap-2 bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed",children:[d.jsx(Sw,{}),d.jsx("span",{children:""})]}),d.jsx("button",{onClick:e,className:"bg-red-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-600",children:""})]})]})})},Qge=()=>{const{user:t}=jr(),{documents:e,sites:n,cafes:r,siteSettings:i,loading:s}=un(),[a,o]=V.useState([]),[l,c]=V.useState(null),[u,f]=V.useState(!0),[h,p]=V.useState(!1),v=V.useMemo(()=>t!=null&&t.cafeId?e.filter(x=>!x.cafeId||x.cafeId===t.cafeId):[],[e,t]);if(V.useEffect(()=>{(async()=>{if(!(t!=null&&t.cafeId)||s){!s&&!(t!=null&&t.cafeId)&&f(!1);return}f(!0);let w=r.find(C=>C.id===t.cafeId)||null;if(!w)try{w=await Zk(t.cafeId)}catch(C){console.error("Failed to fetch cafe details directly:",C)}c(w);try{const S=(await Sm.collection("jobs").where("cafeId","==",t.cafeId).orderBy("createdAt","desc").get()).docs.map(R=>({id:R.id,...R.data()}));o(S)}catch(C){console.error("Failed to fetch dashboard data from Firestore:",C)}finally{f(!1)}})()},[t,r,s]),s||u)return d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(Tt,{className:"animate-spin text-4xl text-green-600"})});if(!l)return d.jsxs("div",{className:"flex flex-col items-center justify-center p-10 text-center",children:[d.jsx("h2",{className:"text-xl font-bold text-red-600 mb-2",children:" "}),d.jsx("p",{className:"text-gray-700",children:"        ."}),d.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"       ."})]});const g=a.filter(x=>x.status==="Pending").length,y=(t==null?void 0:t.credits.currency)==="DZD"?t.credits.amount<50:t.credits.amount<5,_=y?{bg:"bg-red-100",text:"text-red-800",valueText:"text-red-900 font-mono",linkText:"text-red-700"}:{bg:"bg-green-100",text:"text-green-800",valueText:"text-green-900 font-mono",linkText:"text-green-700"};return d.jsxs("div",{className:"space-y-8",children:[t&&l&&d.jsx(Yge,{isOpen:h,onClose:()=>p(!1),cafeName:l.name,numericId:l.numericId}),d.jsx(Xge,{}),d.jsx(bc,{placement:"DASHBOARD_TOP"}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:" "}),d.jsx("p",{className:"text-gray-500",children:"       ."})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[d.jsxs("div",{className:"bg-gray-200 p-6 rounded-lg shadow-sm",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:" "}),d.jsx("p",{className:"text-4xl font-bold text-gray-900",children:g}),d.jsx(dn,{to:"pending-jobs",className:"text-gray-700 hover:underline mt-4 inline-block font-semibold",children:"   "})]}),d.jsxs("div",{className:"bg-gray-200 p-6 rounded-lg shadow-sm",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:" "}),d.jsx("p",{className:"text-4xl font-bold text-gray-900",children:v.length}),d.jsx(dn,{to:"generate",className:"text-gray-700 hover:underline mt-4 inline-block font-semibold",children:"  "})]}),d.jsxs("div",{className:`${_.bg} p-6 rounded-lg shadow-sm`,children:[d.jsx("h2",{className:`text-lg font-semibold ${_.text} mb-2`,children:" "}),d.jsxs("p",{className:`text-3xl font-bold ${_.valueText}`,children:[t==null?void 0:t.credits.amount.toLocaleString("en-US",{minimumFractionDigits:t.credits.currency==="USD"?2:0}),d.jsxs("span",{className:"text-xl",children:[" ",(t==null?void 0:t.credits.currency)==="DZD"?"":"$"]})]}),d.jsxs(dn,{to:"billing",className:`${_.linkText} hover:underline mt-4 inline-block font-semibold`,children:[y?"  ":" "," "]})]}),d.jsxs("div",{className:"bg-gray-700 text-white p-6 rounded-lg shadow-sm flex flex-col justify-center items-center",children:[d.jsx("h2",{className:"text-lg font-semibold mb-2",children:"   "}),d.jsx("p",{className:"text-sm text-center text-gray-300 mb-3",children:"       ."}),d.jsxs("button",{onClick:()=>p(!0),className:"w-full bg-white text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors flex items-center justify-center gap-2",children:[d.jsx(oge,{}),d.jsx("span",{children:"  "})]})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:" "}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:v.map(x=>d.jsxs(dn,{to:"generate",state:{selectedDocId:x.id},className:"block text-right p-4 border rounded-lg transition-all duration-200 bg-white hover:bg-green-50 hover:shadow-md hover:border-green-400",children:[d.jsx("h3",{className:"font-bold text-lg text-gray-800",children:x.name}),d.jsx("p",{className:"text-gray-600 text-sm mt-1 line-clamp-2",dangerouslySetInnerHTML:{__html:x.description}})]},x.id))})]}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:" "}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(x=>{const w="block text-right p-4 border rounded-lg transition-all duration-200 bg-white hover:bg-green-50 hover:shadow-md hover:border-green-400",C=d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-lg text-gray-800",children:x.name}),d.jsx("p",{className:"text-gray-500 text-sm mt-1",children:x.type==="static"?"  ":`  : ${x.url}`})]})]});return x.type==="template"?d.jsx(dn,{to:`fill-site/${x.id}`,className:w,children:C},x.id):d.jsx("a",{href:x.url,target:"_blank",rel:"noopener noreferrer",className:w,children:C},x.id)})})]})]})]})},Zge='<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="2"><circle cx="50" cy="50" r="50" fill="#ccc"/><g><path d="M50 62.5c-10.3 0-18.75 8.45-18.75 18.75V87.5h37.5v-6.25c0-10.3-8.45-18.75-18.75-18.75z" fill="#fff"/><path d="M50 25c-6.9 0-12.5 5.6-12.5 12.5S43.1 50 50 50s12.5-5.6 12.5-12.5S56.9 25 50 25z" fill="#fff"/></g></svg>',e0e=`data:image/svg+xml;base64,${btoa(Zge)}`,t0e=async(t,e)=>{try{const n=`Translate the following HTML content to ${e}. Keep the HTML structure and tags intact, only translate the text nodes. HTML: ${t}`,r=sG({model:"gem-2.5-flash",contents:n});let i="";for await(const s of r)i+=s;return i}catch(n){throw console.error("Translation via service failed:",n),new Error("Failed to translate document content.")}},Yy=async(t,e,n,r)=>{try{let i;for(let c=t.length-1;c>=0;c--){const u=t[c];if(u.id===e||u.slug===e||u.name===e){i=u;break}}let s="";if(r.templateType==="final"){if(i!=null&&i.finalTemplateHtml)s=i.finalTemplateHtml;else if(i!=null&&i.finalTemplateUrl){const c=await fetch(Ni(i.finalTemplateUrl));if(!c.ok)throw new Error(`Could not fetch final template from ${Ni(i.finalTemplateUrl)}`);s=await c.text()}}else if(i!=null&&i.previewTemplateHtml)s=i.previewTemplateHtml;else if(i!=null&&i.previewTemplateUrl){const c=await fetch(Ni(i.previewTemplateUrl));if(!c.ok)throw new Error(`Could not fetch preview template from ${Ni(i.previewTemplateUrl)}`);s=await c.text()}s||(console.error(`Template type '${r.templateType}' for document '${(i==null?void 0:i.name)||e}' not found. This is likely because the template data is not available to public users.`),s=`
                <!DOCTYPE html>
                <html lang="ar" dir="rtl">
                <head>
                    <title>   </title>
                    <style>
                        body { font-family: 'Cairo', sans-serif; padding: 2rem; text-align: center; color: #333; }
                        .container { max-width: 600px; margin: auto; padding: 2rem; border: 1px solid #eee; border-radius: 8px; background-color: #f9f9f9; }
                        h1 { color: #d9534f; }
                    </style>
                </head>
                <body>
                    <div class="container">
                        <h1>   </h1>
                        <p>         "${(i==null?void 0:i.name)||e}".</p>
                        <p>            .        .</p>
                    </div>
                </body></html>
            `),r.targetLang!=="ar"&&!s.includes("<h1>   </h1>")&&(s=await t0e(s,r.targetLang));const o=new Date().toLocaleDateString("ar-DZ",{day:"2-digit",month:"2-digit",year:"numeric"});if(s=s.replace(/\[DateToday\]/g,o),s.includes("[profilePicture]")){const u=`<img src="${n.profilePicture?Ni(n.profilePicture):e0e}" alt="Profile Picture" style="width: 120px; height: 120px; border-radius: 50%; object-fit: cover; border: 3px solid #eee;">`;s=s.replace(/\[profilePicture\]/g,u)}if(Object.keys(n).forEach(c=>{if(c!=="profilePicture"){const u=new RegExp(`\\[${c}\\]`,"g");s=s.replace(u,n[c]||"")}}),Object.keys(di).forEach(c=>{const u=c;if(!n.hasOwnProperty(u)){const f=new RegExp(`\\[${u}\\]`,"g");s=s.replace(f,"")}}),s=s.replace(/\[[^\]]+\]/g,""),r.action==="download"){const c=document.createElement("div");c.style.width="794px",c.style.padding="20px",c.style.position="absolute",c.style.left="-9999px",c.innerHTML=s,document.body.appendChild(c),await html2canvas(c,{scale:2}).then(u=>{const f=u.toDataURL("image/png"),{jsPDF:h}=jspdf,p=new h({orientation:"portrait",unit:"pt",format:"a4"}),v=p.internal.pageSize.getWidth(),g=p.internal.pageSize.getHeight(),y=u.width,_=u.height,x=y/_,w=v/g;let C,S;x>w?(C=v,S=v/x):(S=g,C=g*x),p.addImage(f,"PNG",0,0,C,S);const R=`${(i==null?void 0:i.slug)||e}.pdf`;p.save(R)}),document.body.removeChild(c);return}const l=window.open("","_blank");l?(l.document.write(s),l.document.close(),l.onload=function(){l.focus(),r.action==="print"&&l.print()}):alert("     .")}catch(i){throw console.error("Error generating document:",i),alert(`    : ${i.message}.`),i}},n0e=()=>{const{user:t}=jr(),{fullDocuments:e,loadingFullDocuments:n}=un(),[r,i]=V.useState([]),[s,a]=V.useState(!0),[o,l]=V.useState(null),[c,u]=V.useState(!1),[f,h]=V.useState(!1),[p,v]=V.useState("");V.useEffect(()=>{if(!(t!=null&&t.cafeId)){a(!1);return}let x=!0;const w=new Map,C=()=>{if(x){const I=Array.from(w.values()).sort((F,P)=>P.createdAt-F.createdAt);i(I)}};(async()=>{a(!0);try{(await Di("jobs")).filter(P=>P.cafeId===t.cafeId).forEach(P=>w.set(P.id,P)),C()}catch(I){console.error("Failed to load jobs from IndexedDB",I)}finally{x&&a(!1)}})();const D=Sm.collection("jobs").where("cafeId","==",t.cafeId).orderBy("createdAt","desc").onSnapshot(I=>{I.docs.forEach(F=>{const P={id:F.id,...F.data()};w.set(P.id,P)}),C()},I=>{console.error("Firestore listener error:",I)});let N;if(lr){const I=lr.get("jobs").get(t.cafeId),F=(P,k)=>{if(P&&typeof P=="object"&&!w.has(k)){console.log(`Optimistically adding P2P job from Gun: ${k}`);const U={...P,id:k,documentIds:typeof P.documentIds=="string"?JSON.parse(P.documentIds):P.documentIds,visitorData:typeof P.visitorData=="string"?JSON.parse(P.visitorData):P.visitorData};w.set(U.id,U),C()}};I.map().on(F),N=()=>I.off()}return()=>{x=!1,D(),N&&N()}},[t]);const g=async(x,w)=>{if(!(!x.audioRecordingUrl&&!x.transcribedText)){h(!0),v("");try{const C=new Set;x.documentIds.forEach(k=>{const U=e.find(O=>O.id===k);U==null||U.requiredFields.forEach(O=>C.add(O))});const S=Array.from(C).map(k=>{var U;return(U=di[k])==null?void 0:U.label}).filter(Boolean),R={};C.forEach(k=>{R[k]={type:"STRING",description:di[k].label}});const D={type:"OBJECT",properties:R};let N;if(x.transcribedText)N={transcribedText:x.transcribedText};else if(x.audioRecordingUrl){const U=await(await fetch(Ni(x.audioRecordingUrl))).blob(),O=new FileReader;N={audioBase64:await new Promise(G=>{O.onloadend=()=>G(O.result.split(",")[1]),O.readAsDataURL(U)})}}else throw new Error("No data (audio or text) available to process.");const I=await Pge(N,D,S),F={...x.visitorData,...I},P={...x,visitorData:F};if(await Cr("jobs",P),i(k=>k.map(U=>U.id===x.id?P:U)),l(P),w==="open"||w==="print"){u(!0);for(const k of P.documentIds)await Yy(e,k,P.visitorData,{action:w,targetLang:"ar",templateType:"final"});await y(x.id,P),u(!1)}}catch(C){console.error("Data processing failed:",C),C instanceof Error?v(C.message):v("   .")}finally{h(!1)}}},y=async(x,w)=>{const C=w||r.find(S=>S.id===x);if(C){u(!0);try{if(!w){alert(`  .    ${C.documentIds.length} () .`);for(const D of C.documentIds)await Yy(e,D,C.visitorData,{action:"print",targetLang:"ar",templateType:"final"})}const{id:S,...R}=C;await kme(S,{...R,status:"Completed"}),await $f("jobs",x),i(D=>D.map(N=>N.id===x?{...N,status:"Completed"}:N)),l(D=>D&&D.id===x?{...D,status:"Completed"}:D)}catch(S){console.error("Failed to complete job:",S),alert("   .")}finally{u(!1)}}},_=x=>{switch(x){case"Pending":return d.jsx("span",{className:"px-3 py-1 text-xs font-semibold text-yellow-800 bg-yellow-200 rounded-full",children:""});case"Completed":return d.jsx("span",{className:"px-3 py-1 text-xs font-semibold text-green-800 bg-green-200 rounded-full",children:""});case"Cancelled":return d.jsx("span",{className:"px-3 py-1 text-xs font-semibold text-red-800 bg-red-200 rounded-full",children:""})}};return n||s?d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(Tt,{className:"animate-spin text-4xl text-green-600"})}):d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:" "}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 items-start",children:[d.jsxs("div",{className:"lg:col-span-1 bg-gray-50 rounded-lg p-4 border max-h-[70vh] overflow-y-auto",children:[d.jsxs("h2",{className:"font-bold text-lg mb-3",children:["  (",r.length,")"]}),r.length>0?d.jsx("div",{className:"space-y-3",children:r.map(x=>d.jsxs("button",{onClick:()=>l(x),className:`w-full text-right p-3 rounded-lg border-2 transition-colors ${(o==null?void 0:o.id)===x.id?"bg-green-100 border-green-500":"bg-white hover:bg-gray-100 border-transparent"}`,children:[d.jsxs("div",{className:"flex justify-between items-center mb-1",children:[d.jsxs("p",{className:"font-bold text-gray-800 flex items-center gap-2",children:[x.audioRecordingUrl&&d.jsx(HH,{className:"text-blue-500"}),d.jsx("span",{children:x.visitorData.fullName||""})]}),_(x.status)]}),d.jsx("p",{className:"text-sm text-gray-500",children:new Date(x.createdAt).toLocaleString("ar-DZ")})]},x.id))}):d.jsx("p",{className:"text-gray-500 text-center py-4",children:"   ."})]}),d.jsx("div",{className:"lg:col-span-2 bg-white rounded-lg p-6 border shadow-sm",children:o?d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-start mb-4 pb-4 border-b",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[" : ",o.id]}),d.jsxs("p",{className:"text-gray-500",children:[": ",d.jsx("span",{className:"font-semibold text-gray-700",children:o.visitorData.fullName})]})]}),_(o.status)]}),(o.audioRecordingUrl||o.transcribedText)&&!o.visitorData.birthdaydate&&d.jsxs("div",{className:"bg-blue-50 border border-blue-200 p-4 rounded-lg mb-4 space-y-3",children:[d.jsx("h3",{className:"font-bold text-lg text-blue-800",children:"  "}),o.audioRecordingUrl&&d.jsx("audio",{controls:!0,src:Ni(o.audioRecordingUrl),className:"w-full"}),o.transcribedText&&d.jsxs("div",{className:"bg-white p-3 rounded-md border border-blue-100",children:[d.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"    :"}),d.jsx("p",{className:"text-gray-600 whitespace-pre-wrap",children:o.transcribedText})]}),f&&d.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[d.jsx(Tt,{className:"animate-spin"}),d.jsx("span",{children:"    ..."})]}),p&&d.jsx("p",{className:"text-sm text-red-600",children:p}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2 pt-2",children:[d.jsxs("button",{onClick:()=>g(o,"edit"),disabled:f,className:"flex items-center justify-center gap-2 p-2 bg-yellow-500 text-white font-semibold rounded-md hover:bg-yellow-600 disabled:bg-gray-400",children:[d.jsx(Tw,{})," ",d.jsx("span",{children:" "})]}),d.jsxs("button",{onClick:()=>g(o,"open"),disabled:f,className:"flex items-center justify-center gap-2 p-2 bg-blue-500 text-white font-semibold rounded-md hover:bg-blue-600 disabled:bg-gray-400",children:[d.jsx(age,{})," ",d.jsx("span",{children:" "})]}),d.jsxs("button",{onClick:()=>g(o,"print"),disabled:f,className:"flex items-center justify-center gap-2 p-2 bg-green-500 text-white font-semibold rounded-md hover:bg-green-600 disabled:bg-gray-400",children:[d.jsx(Sw,{})," ",d.jsx("span",{children:" "})]})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-lg mb-2",children:" :"}),d.jsx("ul",{className:"list-disc list-inside space-y-1 text-gray-700",children:o.documentIds.map(x=>{const w=e.find(C=>C.id===x);return d.jsx("li",{children:(w==null?void 0:w.name)||"  "},x)})})]}),o.visitorData.birthdaydate&&d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-lg mb-2",children:" :"}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-2 text-sm bg-gray-50 p-4 rounded-md",children:Object.entries(o.visitorData).map(([x,w])=>{const C=di[x];return(C==null?void 0:C.type)==="file"?d.jsxs("div",{className:"sm:col-span-2",children:[d.jsxs("strong",{className:"text-gray-500",children:[C.label,": "]}),d.jsx("img",{src:Ni(w),alt:" ",className:"mt-1 h-24 w-24 rounded-md object-cover border"})]},x):d.jsxs("div",{children:[d.jsxs("strong",{className:"text-gray-500",children:[(C==null?void 0:C.label)||x,": "]}),d.jsx("span",{className:"text-gray-800",children:String(w)})]},x)})})]}),o.status==="Pending"&&o.visitorData.birthdaydate&&d.jsx("button",{onClick:()=>y(o.id),disabled:c,className:"w-full mt-6 bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition-colors disabled:bg-green-400 disabled:cursor-not-allowed",children:c?"  ...":"    "})]})]}):d.jsxs("div",{className:"text-center py-20",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})}),d.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"   "}),d.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"       ."})]})})]})]})},r0e=({onClose:t,onCapture:e})=>{const n=V.useRef(null),r=V.useRef(null),i=V.useRef(null),[s,a]=V.useState(null);V.useEffect(()=>((async()=>{a(null);try{const c=await navigator.mediaDevices.getUserMedia({video:{width:480,height:480,facingMode:"environment"}});i.current=c,n.current&&(n.current.srcObject=c)}catch(c){console.error("Error accessing camera:",c),c instanceof DOMException&&(c.name==="NotAllowedError"||c.name==="PermissionDeniedError")?a("    .      ."):a("    .          .")}})(),()=>{i.current&&i.current.getTracks().forEach(c=>c.stop())}),[]);const o=()=>{if(n.current&&r.current){const l=n.current,c=r.current;c.width=l.videoWidth,c.height=l.videoHeight;const u=c.getContext("2d");u==null||u.drawImage(l,0,0,c.width,c.height);const f=c.toDataURL("image/jpeg");e(f),t()}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg p-4 max-w-lg w-full",children:[d.jsx("h3",{className:"text-xl font-bold mb-4 text-center",children:"   "}),d.jsxs("div",{className:"relative aspect-video bg-gray-900 rounded-md overflow-hidden flex items-center justify-center",children:[s?d.jsxs("div",{className:"p-4 text-center text-white",children:[d.jsx("p",{className:"font-semibold text-red-400",children:"  "}),d.jsx("p",{className:"text-sm mt-2",children:s})]}):d.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),d.jsx("canvas",{ref:r,className:"hidden"})]}),d.jsxs("div",{className:"mt-4 flex justify-center gap-4",children:[d.jsx("button",{type:"button",onClick:o,disabled:!!s,className:"bg-green-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:""}),d.jsx("button",{type:"button",onClick:t,className:"bg-red-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-600",children:""})]})]})})},i0e=({onDataExtracted:t})=>{const[e,n]=V.useState(!1),[r,i]=V.useState(!1),[s,a]=V.useState(null),o=V.useRef(null),[l,c]=V.useState(!1),u=p=>{var g;const v=(g=p.target.files)==null?void 0:g[0];if(v){const y=new FileReader;y.onloadend=()=>{const x=y.result.split(",")[1];h(x,v.type)},y.readAsDataURL(v)}},f=p=>{var _;const v=p.split(","),g=((_=v[0].match(/:(.*?);/))==null?void 0:_[1])||"image/jpeg",y=v[1];h(y,g)},h=async(p,v)=>{i(!0),a(null);try{const _=await lI(p,v,{type:"OBJECT",properties:{lastName:{type:"STRING",description:"Last name"},firstName:{type:"STRING",description:"First name"},dateOfBirth:{type:"STRING",description:"Date of birth in YYYY-MM-DD format"},placeOfBirth:{type:"STRING",description:"Place of birth"},nationalId:{type:"STRING",description:"18-digit national ID number"},birthCertificateNumber:{type:"STRING",description:"Birth certificate number"},socialSecurityNumber:{type:"STRING",description:"Social security number"},nationality:{type:"STRING",description:"Nationality"},maritalStatus:{type:"STRING",description:"Marital status (e.g., single, married)"}}},"From the provided image of an official Algerian document (such as a National ID card '  ', a birth certificate ' ', or a Chifa social security card ' '), extract the following fields if present: lastName, firstName, dateOfBirth (YYYY-MM-DD), placeOfBirth, nationalId (18 digits), birthCertificateNumber, socialSecurityNumber (from the Chifa card or other documents), nationality, maritalStatus. Omit any fields not found in the image.");if(Object.keys(_).length===0)throw new Error("The model did not return any data. The document might be unclear or not supported.");const x=`${_.firstName||""} ${_.lastName||""}`.trim();t({fullName:x||void 0,dob:_.dateOfBirth,pob:_.placeOfBirth,nationalId:_.nationalId,birthCertificateNumber:_.birthCertificateNumber,socialSecurityNumber:_.socialSecurityNumber,nationality:_.nationality,maritalStatus:_.maritalStatus})}catch(g){console.error("Error processing ID card:",g);const y=g instanceof Error?g.message:"An unknown error occurred.";a(`    . ${y}`)}finally{i(!1),o.current&&(o.current.value="")}};return d.jsxs("div",{className:"space-y-3 p-3 bg-gray-100 rounded-md border my-4",children:[l&&d.jsx(r0e,{onClose:()=>c(!1),onCapture:f}),d.jsxs("label",{htmlFor:"id-scanner-toggle",className:"flex items-center gap-2 cursor-pointer text-gray-700",children:[d.jsx("input",{type:"checkbox",id:"id-scanner-toggle",checked:e,onChange:p=>n(p.target.checked),className:"h-4 w-4 rounded border-gray-300 text-green-600 focus:ring-green-500"}),d.jsx(WH,{className:"text-gray-600"}),d.jsx("span",{children:"    "})]}),e&&d.jsxs("div",{className:"pl-6 space-y-2",children:[d.jsx("input",{type:"file",ref:o,onChange:u,accept:"image/*",className:"hidden"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{type:"button",onClick:()=>{var p;return(p=o.current)==null?void 0:p.click()},disabled:r,className:"flex-1 flex items-center justify-center gap-2 bg-white border border-gray-300 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-50 transition-colors disabled:bg-gray-200 disabled:cursor-wait",children:r?d.jsxs(d.Fragment,{children:[d.jsx(Tt,{className:"animate-spin"}),d.jsx("span",{children:" ..."})]}):d.jsxs(d.Fragment,{children:[d.jsx($l,{}),d.jsx("span",{children:"  "})]})}),d.jsx("button",{type:"button",onClick:()=>c(!0),disabled:r,className:"flex-1 flex items-center justify-center gap-2 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-200 disabled:cursor-wait",children:r?d.jsxs(d.Fragment,{children:[d.jsx(Tt,{className:"animate-spin"}),d.jsx("span",{children:" ..."})]}):d.jsxs(d.Fragment,{children:[d.jsx(tg,{}),d.jsx("span",{children:" "})]})})]}),s&&d.jsx("p",{className:"text-red-600 text-sm mt-2",children:s})]})]})},s0e=t=>{const e=new Map;t.forEach(r=>{e.has(r.groupId)||e.set(r.groupId,[]),e.get(r.groupId).push(r)});const n=[];for(const r of e.values())r.sort((i,s)=>i.id.localeCompare(s.id)),n.push(r[0]);return n},a0e=()=>{const{siteSettings:t,fullDocuments:e,loadingFullDocuments:n,loading:r}=un(),i=Lr(),s=Fi(),{user:a,updateUserCredits:o}=jr(),{t:l}=Ui(),[c,u]=V.useState(null),[f,h]=V.useState({}),[p,v]=V.useState(!1),[g,y]=V.useState(!0),[_,x]=V.useState(""),[w,C]=V.useState([]),[S,R]=V.useState(0),[D,N]=V.useState(!1),[I,F]=V.useState(!1),[P,k]=V.useState("idle"),[U,O]=V.useState(null);V.useRef(null),V.useRef("");const[H,G]=V.useState("");V.useRef(null),V.useRef([]);const[X,Z]=V.useState(""),[z,Q]=V.useState(1),B=V.useMemo(()=>{const Pe=e.filter(pe=>!pe.cafeId||pe.cafeId===(a==null?void 0:a.cafeId));return s0e(Pe)},[e,a]);V.useEffect(()=>{var pe;const Pe=(pe=i.state)==null?void 0:pe.selectedDocId;if(Pe&&!c&&e.length>0){const Me=e.find(W=>W.id===Pe);Me&&(q(Me),s(i.pathname,{replace:!0,state:{}}))}},[i.state,e,c,s]);const j=V.useMemo(()=>c?c.requiredFields.filter(Pe=>Pe!=="DateToday"):[],[c]);V.useMemo(()=>j.some(Pe=>Pe==="profilePicture"),[j]);const q=Pe=>{const pe=e.filter(W=>W.groupId===Pe.groupId).sort((W,ge)=>W.id.localeCompare(ge.id)),Me=pe.findIndex(W=>W.id===Pe.id);C(pe),R(Me>=0?Me:0),h({}),x(""),N(!1),F(!1)};V.useEffect(()=>{(async()=>{if(w.length>0){const pe=w[S];if(u(pe),x(""),pe.previewTemplateHtml)x(pe.previewTemplateHtml);else if(pe.previewTemplateUrl)try{const Me=await fetch(pe.previewTemplateUrl);Me.ok?x(await Me.text()):x('<p class="text-center p-8 text-gray-500">   .</p>')}catch{x('<p class="text-center p-8 text-red-500">  .</p>')}else x('<p class="text-center p-8 text-gray-500">   .</p>')}})()},[w,S]);const J=()=>R(Pe=>(Pe+1)%w.length),Y=()=>R(Pe=>(Pe-1+w.length)%w.length),te=async Pe=>{if(!Pe){oe("profilePicture","");return}v(!0);try{const pe=await XH(Pe,"profile.jpg"),Me=await Dm(pe);oe("profilePicture",Me)}catch{Z("  .")}finally{v(!1)}},oe=(Pe,pe)=>{h(Me=>({...Me,[Pe]:pe}))},de=async Pe=>{if(!c||!a||!t)return;const pe=a.credits.currency==="USD"?t.pricing.dynamicDocument.usd:t.pricing.dynamicDocument.dzd,Me=a.credits.currency==="USD"?"$":"";if(a.credits.amount<pe){alert(`  .    ${pe} ${Me}   ${a.credits.amount} ${Me}.`),s(`/${a.countryCode}/app/billing`);return}v(!0);const W=a.credits.amount;try{await Yy(e,c.id,f,{action:Pe,targetLang:"ar",templateType:"final"})}catch(_e){console.error("Document generation failed:",_e),v(!1),alert("  .     .");return}const ge=W-pe;o(ge);try{await gme({id:Date.now(),amount:pe,currency:a.credits.currency}),alert(`    ${pe} ${Me}  .  : ${ge.toFixed(2)} ${Me}.`)}catch(_e){if(console.error("Failed to queue credit deduction:",_e),navigator.onLine)try{await eI(a,pe)}catch{alert(":       .   .")}else alert(":       .   .")}u(null),h({}),C([]),v(!1)};if(n||r)return d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(Tt,{className:"animate-spin text-4xl text-green-600"})});const fe=(a==null?void 0:a.credits.currency)==="USD"?t==null?void 0:t.pricing.dynamicDocument.usd:t==null?void 0:t.pricing.dynamicDocument.dzd,Ce=(a==null?void 0:a.credits.currency)==="USD"?"$":"";return c?d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 items-start",children:[d.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:[": ",c.name]}),d.jsxs("p",{className:"text-gray-600",children:[": ",d.jsxs("span",{className:"font-bold font-mono",children:[fe," ",Ce]})]})]}),d.jsx("button",{onClick:()=>{u(null),x(""),C([])},className:"text-sm bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:"   "})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4 border relative",children:[d.jsx("h3",{className:"font-semibold text-lg text-gray-800 mb-2",children:" "}),w.length>1&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:Y,className:"absolute right-3 top-1/2 -translate-y-1/2 z-10 bg-black bg-opacity-40 text-white p-2 rounded-full",children:d.jsx(ww,{})}),d.jsx("button",{onClick:J,className:"absolute left-3 top-1/2 -translate-y-1/2 z-10 bg-black bg-opacity-40 text-white p-2 rounded-full",children:d.jsx(_w,{})}),d.jsxs("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 z-10 bg-black bg-opacity-50 text-white text-sm px-3 py-1 rounded-full",children:[S+1," / ",w.length]})]}),d.jsx("iframe",{srcDoc:_,title:"Document Preview",className:"w-full h-[70vh] border rounded-md bg-white"})]})]}),d.jsx("div",{className:"lg:col-span-1 space-y-4 lg:sticky lg:top-8",children:d.jsxs("div",{className:"bg-white p-6 rounded-lg border shadow-sm",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:" "}),d.jsx(i0e,{onDataExtracted:Pe=>h(pe=>({...pe,...Pe}))}),d.jsx("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:j.map(Pe=>{var le,ke,Ne;const Me=Object.prototype.hasOwnProperty.call(di,Pe)?di[Pe]:null,W=(le=c==null?void 0:c.fieldCustomizations)==null?void 0:le[Pe],ge=((ke=c==null?void 0:c.questions)==null?void 0:ke[Pe])||(W==null?void 0:W.customQuestion)||(Me?l(Me.label):Pe),_e=(W==null?void 0:W.type)||(Me==null?void 0:Me.type)||"text",ce=Me?l(Me.placeholder):"",re=(W==null?void 0:W.options)||(Me==null?void 0:Me.options);if(_e==="select"&&re)return d.jsxs("div",{children:[d.jsx("label",{htmlFor:Pe,className:"block text-sm font-medium text-gray-700 mb-1",children:ge}),d.jsxs("select",{id:Pe,name:Pe,value:f[Pe]||"",onChange:ie=>oe(ie.target.name,ie.target.value),className:"w-full p-2 border rounded-md bg-white",required:!0,children:[d.jsx("option",{value:"",children:"--  --"}),W!=null&&W.options?W.options.map(ie=>d.jsx("option",{value:ie,children:ie},ie)):(Ne=Me==null?void 0:Me.options)==null?void 0:Ne.map(ie=>d.jsx("option",{value:ie.value,children:l(ie.label)},ie.value))]})]},Pe);if(_e==="multiselect"&&re){const ie=f[Pe]?f[Pe].split(","):[],ue=(ve,be)=>{const Ie=be?[...ie,ve]:ie.filter(Le=>Le!==ve);oe(Pe,Ie.filter(Boolean).join(","))};return d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:ge}),d.jsx("div",{className:"p-3 border rounded-md space-y-2 bg-gray-50",children:re.map(ve=>d.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[d.jsx("input",{type:"checkbox",value:ve,checked:ie.includes(ve),onChange:be=>ue(ve,be.target.checked),className:"h-4 w-4 text-green-600 border-gray-300 rounded focus:ring-green-500"}),d.jsx("span",{className:"text-gray-800",children:ve})]},ve))})]},Pe)}return d.jsxs("div",{children:[d.jsx("label",{htmlFor:Pe,className:"block text-sm font-medium text-gray-700 mb-1",children:ge}),_e==="file"?d.jsx(Z1,{value:f[Pe]||"",onChange:ie=>te(ie)}):d.jsx("input",{type:_e,id:Pe,name:Pe,value:f[Pe]||"",onChange:ie=>oe(ie.target.name,ie.target.value),placeholder:ce,className:"w-full p-2 border rounded-md",required:!0})]},Pe)})}),d.jsxs("div",{className:"mt-6 pt-4 border-t space-y-2",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{id:"saveClient",type:"checkbox",checked:g,onChange:Pe=>y(Pe.target.checked),className:"h-4 w-4 text-green-600 border-gray-300 rounded focus:ring-green-500"}),d.jsx("label",{htmlFor:"saveClient",className:"mr-2 block text-sm text-gray-900",children:"    "})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>de("open"),disabled:p,className:"flex-1 bg-blue-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-700 disabled:bg-blue-400",children:p?d.jsx(Tt,{className:"animate-spin mx-auto"}):""}),d.jsx("button",{onClick:()=>de("print"),disabled:p,className:"flex-1 bg-green-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-green-700 disabled:bg-green-400",children:p?d.jsx(Tt,{className:"animate-spin mx-auto"}):""})]})]})]})})]}):d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"  "}),d.jsx("p",{className:"text-gray-600 mb-6",children:" 1:       ."}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:B.map(Pe=>d.jsxs("button",{onClick:()=>q(Pe),className:"text-right p-6 border rounded-lg transition-all duration-200 bg-white hover:bg-green-50 hover:shadow-md hover:border-green-400 focus:outline-none focus:ring-2 focus:ring-green-500",children:[d.jsx("h3",{className:"font-bold text-xl text-gray-800",children:Pe.name}),d.jsx("p",{className:"text-gray-600 mt-1 line-clamp-2",dangerouslySetInnerHTML:{__html:Pe.description}})]},Pe.id))})]})},o0e=({children:t})=>{const{user:e,loading:n}=jr(),{countryCode:r}=_a();return n?d.jsx("div",{className:"flex justify-center items-center h-screen",children:d.jsx(Tt,{className:"animate-spin text-4xl text-green-600"})}):!e||!e.emailVerified?d.jsx(kp,{to:`/${r||"dz"}/login`,replace:!0}):t};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lG="firebasestorage.googleapis.com",cG="storageBucket",l0e=120*1e3,c0e=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii extends Ns{constructor(e,n,r=0){super(TC(e),`Firebase Storage: ${n} (${TC(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ii.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return TC(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ei;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ei||(ei={}));function TC(t){return"storage/"+t}function cI(){const t="An unknown error occurred, please check the error payload for server response.";return new ii(ei.UNKNOWN,t)}function u0e(t){return new ii(ei.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function d0e(t){return new ii(ei.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function f0e(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ii(ei.UNAUTHENTICATED,t)}function h0e(){return new ii(ei.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function p0e(t){return new ii(ei.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function m0e(){return new ii(ei.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function g0e(){return new ii(ei.CANCELED,"User canceled the upload/download.")}function y0e(t){return new ii(ei.INVALID_URL,"Invalid URL '"+t+"'.")}function v0e(t){return new ii(ei.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function x0e(){return new ii(ei.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+cG+"' property when initializing the app?")}function b0e(){return new ii(ei.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function _0e(){return new ii(ei.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function w0e(t){return new ii(ei.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function YA(t){return new ii(ei.INVALID_ARGUMENT,t)}function uG(){return new ii(ei.APP_DELETED,"The Firebase app was deleted.")}function T0e(t){return new ii(ei.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ny(t,e){return new ii(ei.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function s0(t){throw new ii(ei.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=La.makeFromUrl(e,n)}catch{return new La(e,"")}if(r.path==="")return r;throw v0e(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const a="(/(.*))?$",o=new RegExp("^gs://"+i+a,"i"),l={bucket:1,path:3};function c(C){C.path_=decodeURIComponent(C.path)}const u="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${u}/b/${i}/o${h}`,"i"),v={bucket:1,path:3},g=n===lG?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",_=new RegExp(`^https?://${g}/${i}/${y}`,"i"),w=[{regex:o,indices:l,postModify:s},{regex:p,indices:v,postModify:c},{regex:_,indices:{bucket:1,path:2},postModify:c}];for(let C=0;C<w.length;C++){const S=w[C],R=S.regex.exec(e);if(R){const D=R[S.indices.bucket];let N=R[S.indices.path];N||(N=""),r=new La(D,N),S.postModify(r);break}}if(r==null)throw y0e(e);return r}}class E0e{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0e(t,e,n){let r=1,i=null,s=null,a=!1,o=0;function l(){return o===2}let c=!1;function u(...y){c||(c=!0,e.apply(null,y))}function f(y){i=setTimeout(()=>{i=null,t(p,l())},y)}function h(){s&&clearTimeout(s)}function p(y,..._){if(c){h();return}if(y){h(),u.call(null,y,..._);return}if(l()||a){h(),u.call(null,y,..._);return}r<64&&(r*=2);let w;o===1?(o=2,w=0):w=(r+Math.random())*1e3,f(w)}let v=!1;function g(y){v||(v=!0,h(),!c&&(i!==null?(y||(o=2),clearTimeout(i),f(0)):y||(o=1)))}return f(0),s=setTimeout(()=>{a=!0,g(!0)},n),g}function S0e(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0e(t){return t!==void 0}function A0e(t){return typeof t=="object"&&!Array.isArray(t)}function uI(t){return typeof t=="string"||t instanceof String}function F9(t){return dI()&&t instanceof Blob}function dI(){return typeof Blob<"u"}function M9(t,e,n,r){if(r<e)throw YA(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw YA(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function dG(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var wf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(wf||(wf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0e(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0e{constructor(e,n,r,i,s,a,o,l,c,u,f,h=!0,p=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=o,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=f,this.retry=h,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,g)=>{this.resolve_=v,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Mx(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=o=>{const l=o.loaded,c=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const o=s.getErrorCode()===wf.NO_ERROR,l=s.getStatus();if(!o||N0e(l,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===wf.ABORT;r(!1,new Mx(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Mx(c,s))})},n=(r,i)=>{const s=this.resolve_,a=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());D0e(l)?s(l):s()}catch(l){a(l)}else if(o!==null){const l=cI();l.serverResponse=o.getErrorText(),this.errorCallback_?a(this.errorCallback_(o,l)):a(l)}else if(i.canceled){const l=this.appDelete_?uG():g0e();a(l)}else{const l=m0e();a(l)}};this.canceled_?n(!1,new Mx(!1,null,!0)):this.backoffId_=C0e(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&S0e(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Mx{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function I0e(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function R0e(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function P0e(t,e){e&&(t["X-Firebase-GMPID"]=e)}function F0e(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function M0e(t,e,n,r,i,s,a=!0,o=!1){const l=dG(t.urlParams),c=t.url+l,u=Object.assign({},t.headers);return P0e(u,e),I0e(u,n),R0e(u,s),F0e(u,r),new k0e(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0e(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function O0e(...t){const e=U0e();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(dI())return new Blob(t);throw new ii(ei.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function L0e(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0e(t){if(typeof atob>"u")throw w0e("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class EC{constructor(e,n){this.data=e,this.contentType=n||null}}function B0e(t,e){switch(t){case Rl.RAW:return new EC(fG(e));case Rl.BASE64:case Rl.BASE64URL:return new EC(hG(t,e));case Rl.DATA_URL:return new EC(W0e(e),q0e(e))}throw cI()}function fG(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,a=t.charCodeAt(++n);r=65536|(s&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function V0e(t){let e;try{e=decodeURIComponent(t)}catch{throw ny(Rl.DATA_URL,"Malformed data URL.")}return fG(e)}function hG(t,e){switch(t){case Rl.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw ny(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Rl.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw ny(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=j0e(e)}catch(i){throw i.message.includes("polyfill")?i:ny(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class pG{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ny(Rl.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=$0e(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function W0e(t){const e=new pG(t);return e.base64?hG(Rl.BASE64,e.rest):V0e(e.rest)}function q0e(t){return new pG(t).contentType}function $0e(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,n){let r=0,i="";F9(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(F9(this.data_)){const r=this.data_,i=L0e(r,e,n);return i===null?null:new wu(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new wu(r,!0)}}static getBlob(...e){if(dI()){const n=e.map(r=>r instanceof wu?r.data_:r);return new wu(O0e.apply(null,n))}else{const n=e.map(a=>uI(a)?B0e(Rl.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(a=>{for(let o=0;o<a.length;o++)i[s++]=a[o]}),new wu(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mG(t){let e;try{e=JSON.parse(t)}catch{return null}return A0e(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0e(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function H0e(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function gG(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0e(t,e){return e}class Vs{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||G0e}}let Ux=null;function K0e(t){return!uI(t)||t.length<2?t:gG(t)}function yG(){if(Ux)return Ux;const t=[];t.push(new Vs("bucket")),t.push(new Vs("generation")),t.push(new Vs("metageneration")),t.push(new Vs("name","fullPath",!0));function e(s,a){return K0e(a)}const n=new Vs("name");n.xform=e,t.push(n);function r(s,a){return a!==void 0?Number(a):a}const i=new Vs("size");return i.xform=r,t.push(i),t.push(new Vs("timeCreated")),t.push(new Vs("updated")),t.push(new Vs("md5Hash",null,!0)),t.push(new Vs("cacheControl",null,!0)),t.push(new Vs("contentDisposition",null,!0)),t.push(new Vs("contentEncoding",null,!0)),t.push(new Vs("contentLanguage",null,!0)),t.push(new Vs("contentType",null,!0)),t.push(new Vs("metadata","customMetadata",!0)),Ux=t,Ux}function J0e(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new La(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function X0e(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const a=n[s];r[a.local]=a.xform(r,e[a.server])}return J0e(r,t),r}function vG(t,e,n){const r=mG(e);return r===null?null:X0e(t,r,n)}function Y0e(t,e,n,r){const i=mG(e);if(i===null||!uI(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const a=encodeURIComponent;return s.split(",").map(c=>{const u=t.bucket,f=t.fullPath,h="/b/"+a(u)+"/o/"+a(f),p=fI(h,n,r),v=dG({alt:"media",token:c});return p+v})[0]}function Q0e(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class xG{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bG(t){if(!t)throw cI()}function Z0e(t,e){function n(r,i){const s=vG(t,i,e);return bG(s!==null),s}return n}function eye(t,e){function n(r,i){const s=vG(t,i,e);return bG(s!==null),Y0e(s,i,t.host,t._protocol)}return n}function _G(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=h0e():i=f0e():n.getStatus()===402?i=d0e(t.bucket):n.getStatus()===403?i=p0e(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function tye(t){const e=_G(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=u0e(t.path)),s.serverResponse=i.serverResponse,s}return n}function nye(t,e,n){const r=e.fullServerUrl(),i=fI(r,t.host,t._protocol),s="GET",a=t.maxOperationRetryTime,o=new xG(i,s,eye(t,n),a);return o.errorHandler=tye(e),o}function rye(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function iye(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=rye(null,e)),r}function sye(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function o(){let w="";for(let C=0;C<2;C++)w=w+Math.random().toString().slice(2);return w}const l=o();a["Content-Type"]="multipart/related; boundary="+l;const c=iye(e,r,i),u=Q0e(c,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=wu.getBlob(f,r,h);if(p===null)throw b0e();const v={name:c.fullPath},g=fI(s,t.host,t._protocol),y="POST",_=t.maxUploadRetryTime,x=new xG(g,y,Z0e(t,n),_);return x.urlParams=v,x.headers=a,x.body=p.uploadData(),x.errorHandler=_G(e),x}class aye{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=wf.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=wf.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=wf.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,s){if(this.sent_)throw s0("cannot .send() more than once");if(zl(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const a in s)s.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,s[a].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw s0("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw s0("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw s0("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw s0("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class oye extends aye{initXhr(){this.xhr_.responseType="text"}}function wG(){return new oye}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e,n){this._service=e,n instanceof La?this._location=n:this._location=La.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new zf(e,n)}get root(){const e=new La(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return gG(this._location.path)}get storage(){return this._service}get parent(){const e=z0e(this._location.path);if(e===null)return null;const n=new La(this._location.bucket,e);return new zf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw T0e(e)}}function lye(t,e,n){t._throwIfRoot("uploadBytes");const r=sye(t.storage,t._location,yG(),new wu(e,!0),n);return t.storage.makeRequestWithTokens(r,wG).then(i=>({metadata:i,ref:t}))}function cye(t){t._throwIfRoot("getDownloadURL");const e=nye(t.storage,t._location,yG());return t.storage.makeRequestWithTokens(e,wG).then(n=>{if(n===null)throw _0e();return n})}function uye(t,e){const n=H0e(t._location.path,e),r=new La(t._location.bucket,n);return new zf(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dye(t){return/^[A-Za-z]+:\/\//.test(t)}function fye(t,e){return new zf(t,e)}function TG(t,e){if(t instanceof hI){const n=t;if(n._bucket==null)throw x0e();const r=new zf(n,n._bucket);return e!=null?TG(r,e):r}else return e!==void 0?uye(t,e):t}function hye(t,e){if(e&&dye(e)){if(t instanceof hI)return fye(t,e);throw YA("To use ref(service, url), the first argument must be a Storage instance.")}else return TG(t,e)}function U9(t,e){const n=e==null?void 0:e[cG];return n==null?null:La.makeFromBucketSpec(n,t)}function pye(t,e,n,r={}){t.host=`${e}:${n}`;const i=zl(e);i&&(g_(`https://${t.host}/b`),y_("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:F3(s,t.app.options.projectId))}class hI{constructor(e,n,r,i,s,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=a,this._bucket=null,this._host=lG,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=l0e,this._maxUploadRetryTime=c0e,this._requests=new Set,i!=null?this._bucket=La.makeFromBucketSpec(i,this._host):this._bucket=U9(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=La.makeFromBucketSpec(this._url,e):this._bucket=U9(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){M9("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){M9("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(mr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new zf(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new E0e(uG());{const a=M0e(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const O9="@firebase/storage",L9="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EG="storage";function mye(t,e,n){return t=Mt(t),lye(t,e,n)}function gye(t){return t=Mt(t),cye(t)}function yye(t,e){return t=Mt(t),hye(t,e)}function vye(t=fV(),e){t=Mt(t);const r=j3(t,EG).getImmediate({identifier:e}),i=fte("storage");return i&&xye(r,...i),r}function xye(t,e,n,r={}){pye(t,e,n,r)}function bye(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new hI(n,r,i,e,Hl)}function _ye(){Ll(new Js(EG,bye,"PUBLIC").setMultipleInstances(!0)),Hs(O9,L9,""),Hs(O9,L9,"esm2020")}_ye();const wye=()=>{var I;const{user:t}=jr(),{cafes:e,siteSettings:n,loading:r,refetchCafes:i}=un(),[s,a]=V.useState(void 0),[o,l]=V.useState(!0),[c,u]=V.useState({name:"",owner:"",street:"",city:"",state:"",description:"",googleMapsUrl:"",latitude:void 0,longitude:void 0,geminiApiKey:"",phone:"",imageUrl:"",coverImageUrl:"",facebook:"",instagram:"",twitter:"",formFillMode:"ai",speechToTextLanguage:"ar-SA",isProfilePublished:!1}),[f,h]=V.useState(""),[p,v]=V.useState(!1),[g,y]=V.useState(!1),[_,x]=V.useState(!1),[w,C]=V.useState("");V.useEffect(()=>{(async()=>{var k,U,O;if(r)return;if(!(t!=null&&t.cafeId)){l(!1);return}l(!0);let P=e.find(H=>H.id===t.cafeId);if(!P){console.warn("Cafe not found in public list, fetching directly...");try{P=await Zk(t.cafeId)||void 0}catch(H){console.error("Failed to fetch cafe details directly:",H),P=void 0}}a(P),P&&u({name:P.name,owner:P.owner,street:P.address.street,city:P.address.city||"",state:P.address.state||"",description:P.description,googleMapsUrl:P.googleMapsUrl||"",latitude:P.address.latitude,longitude:P.address.longitude,geminiApiKey:P.geminiApiKey||"",phone:P.phone||"",imageUrl:P.imageUrl||"",coverImageUrl:P.coverImageUrl||"",facebook:((k=P.socials)==null?void 0:k.facebook)||"",instagram:((U=P.socials)==null?void 0:U.instagram)||"",twitter:((O=P.socials)==null?void 0:O.twitter)||"",formFillMode:P.formFillMode||"ai",speechToTextLanguage:P.speechToTextLanguage||"ar-SA",isProfilePublished:P.isProfilePublished||!1}),l(!1)})()},[t,e,r]);const S=async F=>{if(!F){u(P=>({...P,imageUrl:""}));return}if(!s){C("       .");return}x(!0),C("");try{const P=vye(),k=yye(P,`cafe-profiles/${s.id}/${Date.now()}.jpg`),U=await XH(F,"profile.jpg","image/jpeg"),O=await mye(k,U),H=await gye(O.ref);u(G=>({...G,imageUrl:H}))}catch(P){console.error("Error uploading profile image to Firebase Storage:",P),C("  .    .")}finally{x(!1)}},R=F=>{const{name:P,value:k,type:U}=F.target;if(U==="checkbox"){const{checked:O}=F.target;u(H=>({...H,[P]:O}))}else u(O=>({...O,[P]:k}))},D=()=>{if(!navigator.geolocation){alert("     .");return}v(!0),navigator.geolocation.getCurrentPosition(F=>{const{latitude:P,longitude:k}=F.coords;u(U=>({...U,latitude:P,longitude:k,googleMapsUrl:`https://www.google.com/maps?q=${P},${k}`})),v(!1)},F=>{console.error("Geolocation error:",F.message||F),alert(`    : ${F.message}`),v(!1)})},N=async F=>{if(F.preventDefault(),!!s){y(!0),h("");try{const P={name:c.name,owner:c.owner,description:c.description,googleMapsUrl:c.googleMapsUrl,geminiApiKey:c.geminiApiKey,phone:c.phone,imageUrl:c.imageUrl,coverImageUrl:c.coverImageUrl,formFillMode:c.formFillMode,speechToTextLanguage:c.speechToTextLanguage,isProfilePublished:c.isProfilePublished,address:{...s.address,street:c.street,city:c.city,state:c.state,latitude:c.latitude,longitude:c.longitude},socials:{facebook:c.facebook,instagram:c.instagram,twitter:c.twitter}};await Dme(s.id,P),h("   !"),await i()}catch(P){console.error("Error saving settings:",P),alert("    .")}finally{setTimeout(()=>h(""),5e3),y(!1)}}};return o?d.jsxs("div",{className:"flex flex-col items-center justify-center p-10 text-center",children:[d.jsx(Tt,{className:"animate-spin text-4xl text-green-600 mb-4"}),d.jsx("p",{className:"text-gray-600",children:"   ..."})]}):s?d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:" "}),s&&!s.isProfilePublished&&d.jsxs("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-800 p-4 rounded-md mb-6 flex items-start gap-3",role:"alert",children:[d.jsx(UH,{className:"h-6 w-6 flex-shrink-0 mt-1"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold",children:"   !"}),d.jsx("p",{className:"text-sm",children:'   "  "    " "       .'})]})]}),f&&d.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-md relative mb-6",role:"alert",children:d.jsx("span",{className:"block sm:inline",children:f})}),d.jsxs("form",{onSubmit:N,className:"space-y-8 bg-white p-8 rounded-lg border",children:[d.jsxs("fieldset",{className:"border p-4 rounded-md bg-green-50 border-green-300",children:[d.jsx("legend",{className:"px-2 font-semibold text-lg text-green-800",children:"  "}),d.jsxs("div",{className:"mt-2 space-y-2",children:[d.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-2",children:[d.jsx("input",{type:"checkbox",name:"isProfilePublished",checked:c.isProfilePublished,onChange:R,className:"h-5 w-5 rounded border-gray-300 text-green-600 focus:ring-green-500"}),d.jsx("span",{className:"font-medium text-gray-800",children:c.isProfilePublished?"    ":"   "})]}),d.jsx("p",{className:"text-xs text-gray-600 px-2",children:"              .        ."})]})]}),d.jsxs("div",{className:"border-b pb-6",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:"   "}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),d.jsx("input",{type:"text",name:"name",id:"name",value:c.name,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"owner",className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),d.jsx("input",{type:"text",name:"owner",id:"owner",value:c.owner,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"tel",name:"phone",id:"phone",value:c.phone,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),d.jsx("div",{className:"mt-1 flex justify-start p-4 border-2 border-gray-300 border-dashed rounded-md",children:d.jsx(Z1,{value:Ni(c.imageUrl),onChange:S})}),_&&d.jsxs("p",{className:"text-sm text-blue-600 mt-2 flex items-center gap-2",children:[d.jsx(Tt,{className:"animate-spin"}),"   ..."]}),w&&d.jsx("p",{className:"text-sm text-red-600 mt-2",children:w})]})]})]}),d.jsxs("div",{className:"border-b pb-6",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:" "}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4",children:[d.jsxs("div",{className:"md:col-span-2 space-y-4",children:[s.countryCode!=="dz"&&d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700 mb-1",children:" / "}),d.jsx("input",{type:"text",name:"state",id:"state",value:c.state,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-1",children:""}),d.jsx("input",{type:"text",name:"city",id:"city",value:c.city,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"street",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",name:"street",id:"street",value:c.street,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"}),s.countryCode==="dz"&&d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[": ",s.address.commune,", ",s.address.daira,", ",s.address.wilaya,".",d.jsx("br",{}),"      ."]})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"googleMapsUrl",className:"block text-sm font-medium text-gray-700 mb-1",children:"    "}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[d.jsx("input",{type:"url",name:"googleMapsUrl",id:"googleMapsUrl",value:c.googleMapsUrl,onChange:R,placeholder:"https://maps.app.goo.gl/...",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"}),d.jsx("button",{type:"button",onClick:D,disabled:p,className:"flex-shrink-0 bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors disabled:opacity-50 disabled:cursor-wait",children:p?"... ":"  "})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"    Google Maps       ."})]})]})]}),d.jsxs("div",{className:"border-b pb-6",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:"  "}),d.jsxs("div",{className:"mt-4 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"coverImageUrl",className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),d.jsx("input",{type:"url",name:"coverImageUrl",id:"coverImageUrl",value:c.coverImageUrl,onChange:R,placeholder:"https://example.com/cover.jpg",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:" ( )"}),d.jsx("textarea",{name:"description",id:"description",rows:4,value:c.description,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"           ."})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"facebook",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"url",name:"facebook",id:"facebook",value:c.facebook,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"instagram",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"url",name:"instagram",id:"instagram",value:c.instagram,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"twitter",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"url",name:"twitter",id:"twitter",value:c.twitter,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]})]})]})]}),d.jsxs("fieldset",{className:"border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-lg text-gray-700",children:" "}),d.jsxs("div",{className:"mt-2 space-y-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"    "}),d.jsxs("div",{className:"flex gap-x-6 gap-y-2 flex-wrap",children:[d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[d.jsx("input",{type:"radio",name:"formFillMode",value:"ai",checked:c.formFillMode==="ai",onChange:F=>u(P=>({...P,formFillMode:F.target.value})),className:"h-4 w-4"}),d.jsx("span",{children:"   ()"})]}),d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[d.jsx("input",{type:"radio",name:"formFillMode",value:"json",checked:c.formFillMode==="json",onChange:F=>u(P=>({...P,formFillMode:F.target.value})),className:"h-4 w-4"}),d.jsx("span",{children:"   JSON ( )"})]})]}),d.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[d.jsx("strong",{children:"  :"}),"    . ",d.jsx("br",{}),d.jsx("strong",{children:"  JSON:"}),"         (          )."]})]}),d.jsxs("div",{className:"mt-4 pt-4 border-t",children:[d.jsx("label",{htmlFor:"speechToTextLanguage",className:"block text-sm font-medium text-gray-700",children:"    "}),d.jsxs("select",{id:"speechToTextLanguage",name:"speechToTextLanguage",value:c.speechToTextLanguage,onChange:F=>u(P=>({...P,speechToTextLanguage:F.target.value})),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm rounded-md bg-white",children:[d.jsx("option",{value:"ar-SA",children:""}),d.jsx("option",{value:"en-US",children:"English"}),d.jsx("option",{value:"fr-FR",children:"Franais"}),d.jsx("option",{value:"de-DE",children:"Deutsch"}),d.jsx("option",{value:"es-ES",children:"Espaol"}),d.jsx("option",{value:"tr-TR",children:"Trke"}),d.jsx("option",{value:"ja-JP",children:""})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"            ."})]})]}),d.jsxs("div",{className:"border-b pb-6",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:" Gemini API"}),d.jsx("div",{className:"mt-4",children:(I=n==null?void 0:n.ai)!=null&&I.useAdminKey?d.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-md text-blue-800",children:[d.jsx("p",{className:"font-semibold",children:"  Gemini API:"}),d.jsx("p",{className:"text-sm",children:"             .       API  ."})]}):d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"geminiApiKey",className:"block text-sm font-medium text-gray-700 mb-1",children:" Gemini API  "}),d.jsx("input",{type:"password",name:"geminiApiKey",id:"geminiApiKey",value:c.geminiApiKey,onChange:R,placeholder:"  Gemini API   ",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),c.geminiApiKey?d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"         .       ."}):d.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-md text-yellow-800 text-sm",children:[d.jsx("strong",{children:":"}),"       API       ."]})]})})]}),d.jsxs("div",{className:"flex justify-between items-center pt-6 border-t mt-8",children:[d.jsx(dn,{to:`/${s.countryCode}/profile/${s.numericId}`,target:"_blank",rel:"noopener noreferrer",className:"bg-gray-100 text-gray-800 font-bold py-2 px-6 rounded-lg hover:bg-gray-200 transition-colors",children:"  "}),d.jsx("button",{type:"submit",disabled:g,className:"bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700 transition-colors disabled:bg-green-400 disabled:cursor-wait",children:g?" ...":" "})]})]})]}):d.jsxs("div",{className:"flex flex-col items-center justify-center p-10 text-center",children:[d.jsx("h2",{className:"text-xl font-bold text-red-600 mb-2",children:" "}),d.jsx("p",{className:"text-gray-700",children:"        ."}),d.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"      .        ."})]})},Tye=({onClose:t,onCapture:e})=>{const n=V.useRef(null),r=V.useRef(null),[i,s]=V.useState(null);V.useEffect(()=>((async()=>{s(null);try{const l=await navigator.mediaDevices.getUserMedia({video:{width:1280,height:720,facingMode:"environment"}});r.current=l,n.current&&(n.current.srcObject=l)}catch(l){console.error("Error accessing camera:",l),l instanceof DOMException&&(l.name==="NotAllowedError"||l.name==="PermissionDeniedError")?s("    .      ."):s("    .          .")}})(),()=>{r.current&&r.current.getTracks().forEach(l=>l.stop())}),[]);const a=()=>{if(n.current){const o=document.createElement("canvas");o.width=n.current.videoWidth,o.height=n.current.videoHeight;const l=o.getContext("2d");l==null||l.drawImage(n.current,0,0,o.width,o.height),o.toBlob(c=>{if(c){const u=new File([c],`capture-${Date.now()}.jpg`,{type:"image/jpeg"});e(u)}},"image/jpeg",.95)}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg p-4 max-w-2xl w-full",children:[d.jsx("h3",{className:"text-xl font-bold mb-4 text-center",children:"   "}),d.jsx("div",{className:"relative aspect-video bg-gray-900 rounded-md overflow-hidden flex items-center justify-center",children:i?d.jsxs("div",{className:"p-4 text-center text-white",children:[d.jsx("p",{className:"font-semibold text-red-400",children:"  "}),d.jsx("p",{className:"text-sm mt-2",children:i})]}):d.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"})}),d.jsxs("div",{className:"mt-4 flex justify-center gap-4",children:[d.jsx("button",{type:"button",onClick:a,disabled:!!i,className:"bg-green-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:" "}),d.jsx("button",{type:"button",onClick:t,className:"bg-red-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-600",children:""})]})]})})},Eye=({onPeopleAdded:t})=>{const[e,n]=V.useState(!1),[r,i]=V.useState(!1),[s,a]=V.useState(null),[o,l]=V.useState([]),c=V.useRef(null),[u,f]=V.useState(!1),h=y=>{const _=y.target.files;_&&l(x=>[...x,...Array.from(_)])},p=y=>{l(_=>[..._,y])},v=y=>{l(_=>_.filter((x,w)=>w!==y))},g=async()=>{if(o.length===0){alert("     .");return}i(!0),a(null);try{const y=async w=>{try{const C=new FileReader,S=await new Promise(N=>{C.onloadend=()=>N(C.result.split(",")[1]),C.readAsDataURL(w)}),R="From the provided image of an official Algerian document (such as a National ID card '  ', a birth certificate ' ', or a Chifa social security card ' '), extract the following fields if present: lastName, firstName, dateOfBirth (YYYY-MM-DD), placeOfBirth, nationalId (18 digits), birthCertificateNumber, socialSecurityNumber (from the Chifa card or other documents), nationality, maritalStatus. Omit any fields not found in the image.",D={type:"OBJECT",properties:{lastName:{type:"STRING"},firstName:{type:"STRING"},dateOfBirth:{type:"STRING"},placeOfBirth:{type:"STRING"},nationalId:{type:"STRING"},birthCertificateNumber:{type:"STRING"},socialSecurityNumber:{type:"STRING"},nationality:{type:"STRING"},maritalStatus:{type:"STRING"}}};return await lI(S,w.type,D,R)}catch(C){return console.error(`Error processing file ${w.name}:`,C),null}},x=(await Promise.all(o.map(y))).filter(w=>w&&(w.firstName||w.lastName)).map(w=>{const C=`${w.firstName||""} ${w.lastName||""}`.trim();return{name:C,formData:{fullName:C,dob:w.dateOfBirth||"",pob:w.placeOfBirth||"",nationalId:w.nationalId||"",birthCertificateNumber:w.birthCertificateNumber||"",socialSecurityNumber:w.socialSecurityNumber||"",nationality:w.nationality||"",maritalStatus:w.maritalStatus||""}}});if(x.length===0)throw new Error("         .      .");t(x),l([])}catch(y){console.error("Error processing ID cards:",y);const _=y instanceof Error?y.message:"An unknown error occurred.";a(` : ${_}`)}finally{i(!1)}};return d.jsxs("div",{className:"space-y-3 p-3 bg-blue-50 rounded-lg border border-blue-200 my-4",children:[u&&d.jsx(Tye,{onClose:()=>f(!1),onCapture:p}),d.jsxs("label",{htmlFor:"id-scanner-toggle",className:"flex items-center gap-2 cursor-pointer text-gray-700",children:[d.jsx("input",{type:"checkbox",id:"id-scanner-toggle",checked:e,onChange:y=>n(y.target.checked),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),d.jsx(WH,{className:"text-gray-600"}),d.jsx("span",{className:"font-semibold",children:"     "})]}),e&&d.jsxs("div",{className:"pl-6 space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[d.jsx("input",{type:"file",ref:c,onChange:h,accept:"image/*",className:"hidden",multiple:!0}),d.jsxs("button",{type:"button",onClick:()=>{var y;return(y=c.current)==null?void 0:y.click()},disabled:r,className:"flex items-center justify-center gap-2 bg-white border border-gray-300 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:[d.jsx($l,{}),d.jsx("span",{children:"  "})]}),d.jsxs("button",{type:"button",onClick:()=>f(!0),disabled:r,className:"flex items-center justify-center gap-2 bg-white border border-gray-300 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:[d.jsx(tg,{}),d.jsx("span",{children:"  "})]})]}),o.length>0&&d.jsxs("div",{children:[d.jsxs("p",{className:"text-sm font-semibold mb-2",children:["  (",o.length,"):"]}),d.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 gap-2",children:o.map((y,_)=>d.jsxs("div",{className:"relative group aspect-square",children:[d.jsx("img",{src:URL.createObjectURL(y),alt:`ID Card ${_+1}`,className:"w-full h-full object-cover rounded-md"}),d.jsx("button",{type:"button",onClick:()=>v(_),className:"absolute top-1 right-1 bg-red-600 text-white p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity text-xs","aria-label":"Remove image",children:d.jsx(dh,{})})]},_))}),d.jsx("button",{type:"button",onClick:g,disabled:r,className:"w-full mt-4 flex items-center justify-center gap-2 bg-blue-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-blue-400 disabled:cursor-wait",children:r?d.jsxs(d.Fragment,{children:[d.jsx(Tt,{className:"animate-spin"}),d.jsxs("span",{children:[" ... (",o.length," )"]})]}):d.jsxs(d.Fragment,{children:[d.jsx(vge,{}),d.jsx("span",{children:"    "})]})})]}),s&&d.jsx("p",{className:"text-red-600 text-sm mt-2",children:s})]})]})},j9=window.SpeechRecognition||window.webkitSpeechRecognition,B9=({value:t,onChange:e,placeholder:n,suggestions:r,onSuggestionClick:i})=>{const[s,a]=V.useState(!1),o=V.useRef(null),l=window.SpeechRecognition||window.webkitSpeechRecognition;V.useEffect(()=>{if(l)return o.current=new l,o.current.continuous=!1,o.current.interimResults=!1,o.current.lang="ar-SA",o.current.onresult=f=>{e(f.results[0][0].transcript)},o.current.onend=()=>a(!1),()=>{var f;return(f=o.current)==null?void 0:f.abort()}},[e,l]);const c=()=>{l&&!s&&(o.current.start(),a(!0))},u=f=>{var h,p;f.stopPropagation(),s?(h=o.current)==null||h.stop():(p=o.current)==null||p.start(),a(v=>!v)};return d.jsxs("div",{className:"relative w-full",children:[d.jsx("input",{type:"text",value:t,onChange:f=>e(f.target.value),onFocus:c,placeholder:n,className:"w-full p-3 pr-10 border rounded-md focus:ring-green-500 bg-gray-700 text-white placeholder-gray-400 border-gray-600 focus:border-green-500"}),l&&d.jsx("button",{type:"button",onClick:u,className:`absolute top-1/2 right-2 -translate-y-1/2 p-2 rounded-full ${s?"text-red-500 animate-pulse":"text-gray-400"}`,children:d.jsx(Rc,{})}),r&&r.length>0&&d.jsx("ul",{className:"absolute z-10 w-full mt-1 bg-white border rounded-md shadow-lg max-h-60 overflow-y-auto",children:r.map(f=>d.jsx("li",{onMouseDown:()=>i==null?void 0:i(f),className:"px-4 py-2 cursor-pointer hover:bg-green-50",children:f.name},f.id))})]})},Cye=()=>{const{fullDocuments:t,loadingFullDocuments:e,sites:n}=un(),[r,i]=V.useState([]),[s,a]=V.useState(!1),[o,l]=V.useState(""),[c,u]=V.useState(""),[f,h]=V.useState([]),[p,v]=V.useState(0),[g,y]=V.useState(!1),[_,x]=V.useState(!1),w=V.useRef(null),C=V.useRef(""),[S,R]=V.useState(!1),[D,N]=V.useState(!1),[I,F]=V.useState(""),P=V.useMemo(()=>[...t,...n],[t,n]),k=V.useMemo(()=>{if(!c)return[];const B=c.toLowerCase();return P.filter(j=>j.name.toLowerCase().includes(B))},[c,P]),U=B=>{f.find(j=>j.id===B.id)||h(j=>[...j,B]),u("")},O=B=>{h(j=>j.filter(q=>q.id!==B))},H=()=>{if(!o.trim()||f.length===0){alert("        .");return}const B={id:Date.now(),name:o,documentIds:f.map(j=>j.id),formData:{fullName:o},complexFormData:{},saveClient:!0,isFromClientList:!1};i(j=>[...j,B]),l(""),h([]),u(""),a(!1)},G=r[p];V.useMemo(()=>{if(!G)return[];const B=new Set,j=[];return t.filter(q=>G.documentIds.includes(q.id)).forEach(q=>{q.requiredFields&&q.requiredFields.forEach(J=>{var Y,te,oe;if(J!=="fullName"&&!B.has(J)){B.add(J);const fe=Object.prototype.hasOwnProperty.call(di,J)?di[J]:null,Ce=((Y=q.questions)==null?void 0:Y[J])||((oe=(te=q.fieldCustomizations)==null?void 0:te[J])==null?void 0:oe.customQuestion)||(fe==null?void 0:fe.label)||J;j.push({id:J,label:Ce})}})}),j},[G,t]);const X=V.useCallback(B=>{i(j=>j.map((q,J)=>J===p?{...q,transcribedText:B}:q))},[p]);V.useEffect(()=>{if(!j9)return;w.current=new j9;const B=w.current;return B.continuous=!0,B.interimResults=!0,B.lang="ar-SA",B.onresult=j=>{let q="",J="";for(let te=j.resultIndex;te<j.results.length;++te){const oe=j.results[te][0].transcript;j.results[te].isFinal?q+=oe+" ":J+=oe}const Y=(C.current?C.current+" ":"")+q+J;X(Y.trim())},B.onend=()=>x(!1),()=>{var j;return(j=w.current)==null?void 0:j.abort()}},[X]);const Z=()=>{if(I.trim()===""){alert("   .");return}const B={id:Date.now(),name:I,documentIds:[],formData:{},complexFormData:{},saveClient:!0,isFromClientList:!1};i(j=>[...j,B]),F("")},z=B=>i(j=>j.filter(q=>q.id!==B)),Q=(B,j)=>{i(r.map(q=>{if(q.id===B){const J=q.documentIds.includes(j)?q.documentIds.filter(Y=>Y!==j):[...q.documentIds,j];return{...q,documentIds:J}}return q}))};return e?d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(Tt,{className:"animate-spin text-4xl text-green-600"})}):g?d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("button",{onClick:()=>y(!1),className:"text-sm bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300",children:"   "}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("button",{onClick:()=>v(B=>(B-1+r.length)%r.length),disabled:r.length<=1,className:"p-3 bg-gray-200 rounded-full hover:bg-gray-300 disabled:opacity-50","aria-label":"Previous Person",children:d.jsx(ww,{})}),d.jsxs("span",{className:"font-semibold text-lg text-center",style:{minWidth:"200px"},children:[" ",p+1,"/",r.length,": ",G==null?void 0:G.name]}),d.jsx("button",{onClick:()=>v(B=>(B+1)%r.length),disabled:r.length<=1,className:"p-3 bg-gray-200 rounded-full hover:bg-gray-300 disabled:opacity-50","aria-label":"Next Person",children:d.jsx(_w,{})})]}),d.jsx("div",{})]}),d.jsxs("div",{className:"p-4 bg-gray-50 border rounded-lg",children:[d.jsxs("h3",{className:"text-lg font-bold mb-2",children:[" ",G==null?void 0:G.name]}),d.jsx("div",{className:"text-center text-gray-500 py-8",children:"(     )"})]})]}):d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"  "}),d.jsx("p",{className:"text-gray-600 mb-6",children:" 1:       ."}),d.jsx("div",{className:"space-y-4",children:r.map((B,j)=>d.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200 flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsxs("p",{className:"font-bold text-lg text-green-800",children:[j+1,". ",B.name]}),d.jsxs("p",{className:"text-sm text-green-700",children:[": ",B.documentIds.map(q=>{var J;return(J=P.find(Y=>Y.id===q))==null?void 0:J.name}).join(", ")||"    "]})]}),d.jsx("button",{onClick:()=>i(q=>q.filter(J=>J.id!==B.id)),className:"text-red-500 hover:text-red-700",children:d.jsx(dh,{})})]},B.id))}),s?d.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg border border-gray-700 mt-4 space-y-3 animate-fadeIn",children:[d.jsx("h3",{className:"font-bold text-white",children:"  "}),d.jsx(B9,{value:o,onChange:l,placeholder:"  ..."}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsx(B9,{value:c,onChange:u,placeholder:"    ...",suggestions:k,onSuggestionClick:U}),d.jsx("button",{onClick:()=>U(k[0]),disabled:!c||k.length===0,className:"bg-gray-600 text-white px-4 rounded-md hover:bg-gray-500 disabled:opacity-50",children:""})]}),d.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:f.map(B=>d.jsxs("div",{className:"flex items-center gap-1 bg-gray-200 rounded-full px-3 py-1 text-sm",children:[d.jsx("span",{children:B.name}),d.jsx("button",{onClick:()=>O(B.id),className:"text-red-500",children:d.jsx(rd,{size:12})})]},B.id))})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:H,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:" "}),d.jsx("button",{onClick:()=>a(!1),className:"bg-gray-200 text-gray-800 py-2 px-4 rounded-lg hover:bg-gray-300",children:""})]})]}):d.jsxs("button",{onClick:()=>a(!0),className:"mt-4 flex items-center gap-2 bg-blue-600 text-white font-bold py-3 px-5 rounded-lg hover:bg-blue-700",children:[d.jsx(xc,{}),d.jsx("span",{children:" "})]}),d.jsx("div",{className:"mt-8 pt-4 border-t",children:d.jsxs("button",{onClick:()=>{y(!0),v(0)},disabled:r.length===0,className:"w-full bg-green-600 text-white font-bold text-lg py-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:["    ",r.length," "]})}),d.jsxs("details",{className:"mt-8",children:[d.jsx("summary",{className:"cursor-pointer text-gray-600 hover:text-black",children:"  ( )"}),d.jsxs("div",{className:"mt-4 p-4 border rounded-lg bg-gray-50",children:[d.jsx(Eye,{onPeopleAdded:()=>{}}),d.jsxs("div",{className:"bg-white p-6 rounded-lg border my-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-3",children:"  ()"}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[d.jsx("input",{type:"text",value:I,onChange:B=>F(B.target.value),placeholder:"  ",className:"flex-grow p-3 border rounded-md"}),d.jsx("button",{onClick:Z,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:" "})]})]}),d.jsx("div",{className:"space-y-6",children:r.map(B=>d.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h2",{className:"text-xl font-bold",children:B.name}),d.jsx("button",{onClick:()=>z(B.id),className:"text-red-500 hover:text-red-700 font-bold px-3 py-1 rounded-md hover:bg-red-100",children:" "})]}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:t.map(j=>d.jsx("button",{onClick:()=>Q(B.id,j.id),className:`p-3 text-sm border rounded-md text-right transition-colors ${B.documentIds.includes(j.id)?"bg-green-100 border-green-500 ring-2 ring-green-400":"bg-white hover:bg-gray-100"}`,children:j.name},j.id))})]},B.id))})]})]})]})},V9=[{amount:2e3,label:"2,000 "},{amount:5e3,label:"5,000 "},{amount:1e4,label:"10,000 "}],Sye=2e3,Dye=[{amount:10,label:"$10.00"},{amount:50,label:"$50.00"},{amount:100,label:"$100.00"}],Aye=10,Nye=()=>{const{user:t}=jr(),{siteSettings:e}=un(),[n,r]=V.useState([]),[i,s]=V.useState(null),[a,o]=V.useState(!0),[l,c]=V.useState(V9[0].amount),[u,f]=V.useState(""),[h,p]=V.useState(""),[v,g]=V.useState(null),[y,_]=V.useState(0),[x,w]=V.useState(null),[C,S]=V.useState(!1),R=(t==null?void 0:t.countryCode)==="dz",D=R?"DZD":"USD",N=R?"":"$",I=R?V9:Dye,F=R?Sye:Aye,P=V.useMemo(()=>l||parseInt(u)||0,[l,u]);V.useEffect(()=>{(async()=>{if(t){o(!0);try{const[z,Q]=await Promise.all([Rme(t.id),Ime(t.id)]);r(z),s(Q.find(B=>B.status==="Pending")||null)}catch(z){console.error("Failed to fetch billing data:",z),g({type:"error",message:"    ."})}finally{o(!1)}}})()},[t,y]);const k=Z=>{Z.target.files&&Z.target.files[0]&&w(Z.target.files[0])},U=async()=>{if(!t||!P||P<F){g({type:"error",message:`    ${F} ${N}.`});return}if(!x){g({type:"error",message:"      ."});return}S(!0),g(null);let Z;try{g({type:"success",message:"   ..."}),Z=await Dm(x);const z=await w9(t.id,P,D,"CCP",Z);g({type:z.success?"success":"error",message:z.message}),z.success&&(c(null),f(""),w(null),_(Q=>Q+1))}catch(z){console.error("Error creating payment request:",z),g({type:"error",message:"    .    ."})}finally{S(!1)}setTimeout(()=>g(null),5e3)},O=async()=>{if(!t||!(e!=null&&e.payment.paypalEmail)||!P||P<F){g({type:"error",message:`The minimum amount is ${F} ${N}.`});return}const Z=await w9(t.id,P,D,"PayPal");if(!Z.success){g({type:"error",message:Z.message});return}const Q=`https://www.paypal.com/cgi-bin/webscr?${new URLSearchParams({business:e.payment.paypalEmail,item_name:`Gitut Credits for ${t.email}`,amount:P.toFixed(2),currency_code:"USD",no_shipping:"1",return:window.location.href,cancel_return:window.location.href,cmd:"_xclick"}).toString()}`;window.open(Q,"_blank"),_(B=>B+1)},H=Z=>{c(Z),f(""),p("")},G=Z=>{const z=Z.target.value;f(z),c(null),z&&parseInt(z)<F?p(`    ${F} ${N}.`):p("")},X=Z=>{switch(Z){case"Paid":return d.jsx("span",{className:"px-2 py-1 text-xs font-medium text-green-800 bg-green-100 rounded-full",children:""});case"Pending":return d.jsx("span",{className:"px-2 py-1 text-xs font-medium text-yellow-800 bg-yellow-100 rounded-full",children:"  "})}};return a?d.jsx("div",{children:"   ..."}):t?d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:" "}),v&&d.jsx("div",{className:`p-4 mb-4 rounded-md ${v.type==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:v.message}),d.jsxs("div",{className:"bg-white p-6 rounded-lg border shadow-sm mb-8",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:" "}),d.jsxs("div",{className:"text-5xl font-bold text-green-600 font-mono",children:[t.credits.amount.toLocaleString("en-US",{minimumFractionDigits:D==="USD"?2:0}),d.jsxs("span",{className:"text-3xl",children:[" ",N]})]}),d.jsx("p",{className:"text-gray-500 mt-2",children:"        ."})]}),i?d.jsxs("div",{className:"bg-yellow-50 p-6 rounded-lg border border-yellow-300 mb-8",children:[d.jsx("h2",{className:"text-xl font-semibold text-yellow-800",children:"     "}),d.jsxs("p",{className:"text-yellow-700 mt-2",children:["      ",d.jsxs("strong",{className:"font-mono",children:[i.amount.toLocaleString()," ",i.currency==="USD"?"$":""]}),"  ",(typeof i.date=="string"?new Date(i.date):i.date.toDate()).toLocaleDateString("ar-DZ"),".         ."]})]}):d.jsxs("div",{className:"bg-white p-6 rounded-lg border shadow-sm mb-8",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:" "}),d.jsx("p",{className:"text-gray-600 mb-4",children:" 1:        ."}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:I.map(Z=>d.jsx("button",{onClick:()=>H(Z.amount),className:`p-4 border-2 rounded-lg text-center transition-all ${l===Z.amount?"border-green-500 bg-green-50 ring-2 ring-green-300":"border-gray-300 bg-white hover:border-green-400"}`,children:d.jsx("p",{className:"text-2xl font-bold font-mono",children:Z.label})},Z.amount))}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{htmlFor:"customAmount",className:"block text-sm font-medium text-gray-700 mb-2",children:"   "}),d.jsx("input",{type:"number",id:"customAmount",value:u,onChange:G,placeholder:`  (  ${F} ${N})`,min:F,className:`block w-full px-3 py-2 bg-white border rounded-md shadow-sm focus:outline-none focus:ring-green-500 ${h?"border-red-500":"border-gray-300"}`}),h&&d.jsx("p",{className:"text-red-600 text-sm mt-1",children:h})]}),P>=F&&d.jsx("div",{className:"bg-gray-100 p-6 rounded-lg border-2 border-dashed border-gray-300",children:R?d.jsxs(d.Fragment,{children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:" 2:  "}),d.jsxs("p",{className:"text-gray-700 mb-4",children:["     ",d.jsxs("strong",{className:"font-mono",children:[P.toLocaleString("ar-DZ")," "]}),"   ."]}),d.jsxs("div",{className:"bg-white p-4 rounded-md flex flex-col gap-2 text-right",children:[d.jsxs("p",{className:"font-bold text-lg",children:[" : ",e==null?void 0:e.payment.baridiMob]}),d.jsxs("p",{className:"font-bold text-lg",children:["CCP / BaridiMob: ",e==null?void 0:e.payment.ccp]})]}),d.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:" 3:   "}),d.jsx("p",{className:"text-gray-700 mb-4",children:"     .              ."}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("label",{className:"flex-grow bg-white border border-gray-300 text-gray-700 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer text-center",children:[d.jsx("span",{children:x?` : ${x.name}`:" "}),d.jsx("input",{type:"file",accept:"image/*",onChange:k,className:"hidden"})]}),x&&d.jsx("img",{src:URL.createObjectURL(x),alt:"Preview",className:"h-12 w-12 rounded-md object-cover border"})]})]}),d.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:" 4:  "}),d.jsx("p",{className:"text-gray-700 mb-4",children:"        .          ."}),d.jsxs("button",{onClick:U,disabled:C,className:"w-full bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-wait flex items-center justify-center gap-2",children:[C?d.jsx(Tt,{className:"animate-spin"}):null,C?"  ...":"     "]})]})]}):d.jsxs(d.Fragment,{children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Step 2: Pay with PayPal"}),d.jsxs("p",{className:"text-gray-700 mb-4",children:["Click the button below to pay ",d.jsxs("strong",{className:"font-mono",children:["$",P.toFixed(2)," USD"]})," securely with PayPal."]}),d.jsxs("button",{onClick:O,className:"w-full flex items-center justify-center gap-3 bg-[#00457C] text-white font-bold py-3 px-6 rounded-lg hover:bg-[#003057]",children:[d.jsx(Xme,{size:24}),d.jsx("span",{children:"Pay with PayPal"})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-4 text-center",children:"After payment, your request will be sent for review. Credits will be added to your account upon confirmation."})]})})]}),d.jsxs("div",{className:"bg-white p-6 rounded-lg border shadow-sm",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"  "}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:n.length>0?n.map(Z=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800",children:Z.id}),d.jsx("td",{className:"p-3 text-gray-600",children:(typeof Z.date=="string"?new Date(Z.date):Z.date.toDate()).toLocaleDateString("ar-DZ")}),d.jsxs("td",{className:"p-3 text-gray-800 font-mono",children:[Z.amount.toLocaleString()," ",Z.currency==="USD"?"$":""]}),d.jsx("td",{className:"p-3",children:X(Z.status)})]},Z.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:4,className:"text-center p-6 text-gray-500",children:"    ."})})})]})})]})]}):d.jsx("div",{children:"    ."})},kye=()=>{const[t,e]=V.useState(""),[n,r]=V.useState(""),[i,s]=V.useState(""),a=Fi(),{login:o}=Q1(),l=async c=>{if(c.preventDefault(),s(""),!t||!n){s("   .");return}if(o(t,n))try{await Jr.signInWithEmailAndPassword(t,n),a("/admin/app")}catch(f){console.error("Firebase admin login failed:",f),s("      Firebase.         Firebase Authentication.")}else s("   .")};return d.jsx("div",{className:"max-w-md mx-auto mt-10",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-center text-gray-900 mb-2",children:"  "}),d.jsx("p",{className:"text-center text-gray-500 mb-6",children:"     ."}),i&&d.jsx("p",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-center",children:i}),d.jsxs("form",{onSubmit:l,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"email",id:"email",value:t,onChange:c=>e(c.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"admin@gitut.com"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"password",id:"password",value:n,onChange:c=>r(c.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"********"})]}),d.jsx("button",{type:"submit",className:"w-full bg-green-600 text-white p-3 rounded-lg font-bold hover:bg-green-700 transition-colors",children:""})]})]})})},Iye=()=>{const{admin:t,logout:e}=Q1(),{useAdminChatManager:n}=fh(),{unreadConversationsCount:r}=n(),i=Fi(),s=()=>{e(),Jr.signOut(),i("/admin/login")},a="flex items-center gap-3 px-4 py-3 rounded-lg transition-colors",o="bg-green-600 text-white",l="text-gray-600 hover:bg-green-100 hover:text-green-800";return d.jsxs("aside",{className:"w-64 bg-white shadow-md flex flex-col p-4 rounded-lg",children:[d.jsxs("div",{className:"text-center border-b pb-4 mb-4",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"  "}),d.jsx("p",{className:"text-sm text-gray-500",children:(t==null?void 0:t.email)||"admin@gitut.com"})]}),d.jsxs("nav",{className:"flex flex-col gap-2 flex-grow",children:[d.jsxs(cr,{to:"/admin/app",end:!0,className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),d.jsx("span",{children:" "})]}),d.jsxs(cr,{to:"users",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M15 21v-2a6 6 0 00-12 0v2"})}),d.jsx("span",{children:" "})]}),d.jsx(cr,{to:"chat",className:({isActive:c})=>`${a} ${c?o:l}`,children:d.jsxs("div",{className:"flex justify-between items-center w-full",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(iI,{className:"h-5 w-5"}),d.jsx("span",{children:" "})]}),r>0&&d.jsx("span",{className:"bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:r})]})}),d.jsxs(cr,{to:"billing",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),d.jsx("span",{children:" "})]}),d.jsxs(cr,{to:"documents",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),d.jsx("span",{children:" "})]}),d.jsxs(cr,{to:"document-studio",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),d.jsx("span",{children:" "})]}),d.jsxs(cr,{to:"excel-commands",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx(qH,{className:"h-5 w-5"}),d.jsx("span",{children:" "})]}),d.jsxs(cr,{to:"document-commands",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx(rI,{className:"h-5 w-5"}),d.jsx("span",{children:" "})]}),d.jsxs(cr,{to:"base-templates",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx(ige,{className:"h-5 w-5"}),d.jsx("span",{children:" "})]}),d.jsxs(cr,{to:"static-docs",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),d.jsx("span",{children:" "})]}),d.jsxs(cr,{to:"sites",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),d.jsx("span",{children:" "})]}),d.jsxs(cr,{to:"data",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"})}),d.jsx("span",{children:" "})]}),d.jsx("div",{className:"border-t my-2"}),d.jsxs(cr,{to:"pages",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})}),d.jsx("span",{children:" "})]}),d.jsxs(cr,{to:"blog",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})}),d.jsx("span",{children:" "})]}),d.jsxs(cr,{to:"ads",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),d.jsx("span",{children:" "})]}),d.jsxs(cr,{to:"seo",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),d.jsx("span",{children:"  (SEO)"})]}),d.jsxs(cr,{to:"settings",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0 3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826 3.31 2.37-2.37.996.608 2.296.096 2.572-1.065z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),d.jsx("span",{children:" "})]})]}),d.jsx("div",{className:"mt-auto pt-4 border-t",children:d.jsxs("button",{onClick:s,className:`${a} ${l} w-full`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),d.jsx("span",{children:" "})]})})]})},Rye=()=>{const{loadFullDocuments:t,loading:e}=un(),{admin:n}=Q1(),{user:r,loading:i}=jr(),a=Lr().pathname.includes("document-studio");return V.useEffect(()=>{n&&r&&t()},[t,n,r]),e||i?d.jsx("div",{className:"flex justify-center items-center h-screen",children:d.jsx(Tt,{className:"animate-spin text-4xl text-green-600"})}):d.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-start",children:[d.jsx(Iye,{}),d.jsx("main",{className:"flex-1 w-full",children:d.jsx("div",{className:`bg-white rounded-lg shadow-lg ${a?"p-0 h-[85vh] overflow-hidden":"p-6 min-h-[60vh]"}`,children:d.jsx(A3,{})})})]})},Pye=({children:t})=>{const{admin:e}=Q1();return e?t:d.jsx(kp,{to:"/admin/login",replace:!0})},Fye=()=>{const[t,e]=V.useState(0),[n,r]=V.useState(0),[i,s]=V.useState({DZD:0,USD:0}),[a,o]=V.useState(!0),[l,c]=V.useState(!1),[u,f]=V.useState(""),{refetchAdminData:h}=un();V.useEffect(()=>{(async()=>{o(!0);try{const[g,y,_]=await Promise.all([$A(),qA(),_9()]),x=g.filter(w=>w.status==="Pending").length;r(x),e(y.length),s(_)}catch(g){console.error("Failed to fetch dashboard data:",g)}finally{o(!1)}})()},[]);const p=async()=>{c(!0),f("     ...");try{await h();const[v,g,y]=await Promise.all([$A(),qA(),_9()]);r(v.filter(_=>_.status==="Pending").length),e(g.length),s(y),f("  !")}catch(v){console.error("Manual refresh failed:",v),f(" .     .")}finally{c(!1),setTimeout(()=>f(""),5e3)}};return d.jsxs("div",{children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"   "}),d.jsxs("button",{onClick:p,disabled:l,className:"flex items-center gap-2 bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-wait",children:[d.jsx(pge,{className:l?"animate-spin":""}),d.jsx("span",{children:l?" ...":" "})]})]}),u&&d.jsx("div",{className:`p-3 mb-4 rounded-md text-center ${u.includes("")?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:u}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"bg-gray-100 p-6 rounded-lg shadow",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:"  "}),a?d.jsx("p",{className:"text-4xl font-bold text-gray-900",children:"..."}):d.jsx("p",{className:"text-4xl font-bold text-gray-900",children:t}),d.jsx(dn,{to:"/admin/app/users",className:"text-green-600 hover:underline mt-4 inline-block",children:"  "})]}),d.jsxs("div",{className:"bg-yellow-100 p-6 rounded-lg shadow",children:[d.jsx("h2",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"  "}),a?d.jsx("p",{className:"text-4xl font-bold text-yellow-900",children:"..."}):d.jsx("p",{className:"text-4xl font-bold text-yellow-900",children:n}),d.jsx(dn,{to:"/admin/app/billing",className:"text-yellow-700 hover:underline mt-4 inline-block",children:"  "})]}),d.jsxs("div",{className:"bg-green-100 p-6 rounded-lg shadow",children:[d.jsx("h2",{className:"text-lg font-semibold text-green-800 mb-2",children:" ( )"}),a?d.jsx("p",{className:"text-4xl font-bold text-green-900 font-mono",children:"..."}):d.jsxs(d.Fragment,{children:[d.jsxs("p",{className:"text-4xl font-bold text-green-900 font-mono",children:[i.DZD.toLocaleString("ar-DZ")," ",d.jsx("span",{className:"text-2xl",children:""})]}),i.USD>0&&d.jsxs("p",{className:"text-xl font-bold text-green-800 font-mono mt-1",children:["+ ",i.USD.toLocaleString("en-US",{style:"currency",currency:"USD"})]})]}),d.jsx("p",{className:"text-green-700 mt-4",children:i.DZD===0&&i.USD===0?"     .":"    ."})]})]})]})},Mye=()=>{const[t,e]=V.useState([]),{cafes:n,loading:r}=un(),[i,s]=V.useState(!0);V.useEffect(()=>{s(!0),qA().then(e).finally(()=>s(!1))},[]);const a=(l,c)=>{let u="";c==="Suspended"&&(u=prompt("    :")||"   ."),e(f=>f.map(h=>h.id===l?{...h,status:c,suspensionReason:c==="Suspended"?u:void 0}:h))},o=l=>{switch(l){case"Active":return d.jsx("span",{className:"px-3 py-1 text-xs font-semibold text-green-800 bg-green-200 rounded-full",children:""});case"Suspended":return d.jsx("span",{className:"px-3 py-1 text-xs font-semibold text-red-800 bg-red-200 rounded-full",children:""})}};return r||i?d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(Tt,{className:"animate-spin text-4xl text-green-600"})}):d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:" "}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:t.map(l=>{const c=n.find(u=>u.id===l.cafeId);return d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:(c==null?void 0:c.name)||" "}),d.jsx("td",{className:"p-3 text-gray-600",children:l.email}),d.jsx("td",{className:"p-3",title:l.suspensionReason,children:o(l.status)}),d.jsx("td",{className:"p-3",children:l.status==="Active"?d.jsx("button",{onClick:()=>a(l.id,"Suspended"),className:"text-red-600 hover:underline text-sm font-semibold",children:""}):d.jsx("button",{onClick:()=>a(l.id,"Active"),className:"text-green-600 hover:underline text-sm font-semibold",children:" "})})]},l.id)})})]})})})]})},Uye=()=>{const[t,e]=V.useState([]),[n,r]=V.useState([]),[i,s]=V.useState(!0),[a,o]=V.useState(0);V.useEffect(()=>{(async()=>{s(!0);try{const[h,p]=await Promise.all([$A(),Pme()]);e(h),r(p)}catch(h){console.error("Failed to fetch admin billing data:",h),alert("    .")}finally{s(!1)}})()},[a]);const l=async f=>{if(window.confirm(`           ${f.amount} ${f.currency}  "${f.userCafeName}"`))try{const p=await Fme(f);if(p.success)alert("      !"),o(v=>v+1);else throw new Error(p.message)}catch(p){console.error("Failed to approve payment:",p),alert(`  : ${p.message}`)}},c=f=>{switch(f){case"Pending":return d.jsx("span",{className:"px-3 py-1 text-xs font-semibold text-yellow-800 bg-yellow-200 rounded-full",children:""});case"Approved":return d.jsx("span",{className:"px-3 py-1 text-xs font-semibold text-green-800 bg-green-200 rounded-full",children:" "})}},u=f=>{switch(f){case"Paid":return d.jsx("span",{className:"px-2 py-1 text-xs font-medium text-green-800 bg-green-100 rounded-full",children:""});case"Pending":return d.jsx("span",{className:"px-2 py-1 text-xs font-medium text-yellow-800 bg-yellow-100 rounded-full",children:"  "})}};return i?d.jsx("div",{children:"  ..."}):d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"    "}),d.jsxs("div",{className:"bg-white p-4 rounded-lg border shadow-sm mb-8",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"   "}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:":  PayPal        PayPal    ."}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:t.length>0?t.map(f=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:f.userCafeName}),d.jsx("td",{className:"p-3 text-gray-600",children:(typeof f.date=="string"?new Date(f.date):f.date.toDate()).toLocaleDateString("ar-DZ")}),d.jsxs("td",{className:"p-3 text-gray-800 font-mono",children:[f.amount.toLocaleString()," ",f.currency==="USD"?"$":""]}),d.jsx("td",{className:"p-3 text-gray-600",children:f.method}),d.jsx("td",{className:"p-3",children:f.proofOfPaymentUrl?d.jsx("a",{href:Ni(f.proofOfPaymentUrl),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm font-semibold",children:" "}):d.jsx("span",{className:"text-gray-400 text-xs",children:" "})}),d.jsx("td",{className:"p-3",children:c(f.status)}),d.jsx("td",{className:"p-3",children:f.status==="Pending"&&d.jsx("button",{onClick:()=>l(f),className:"bg-green-600 text-white font-semibold py-1 px-3 rounded-md hover:bg-green-700",children:""})})]},f.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:7,className:"text-center p-6 text-gray-500",children:"     ."})})})]})})]}),d.jsxs("div",{className:"bg-white p-4 rounded-lg border shadow-sm",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"  "}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:n.length>0?n.map(f=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:f.userCafeName||" "}),d.jsx("td",{className:"p-3 text-gray-600",children:(typeof f.date=="string"?new Date(f.date):f.date.toDate()).toLocaleDateString("ar-DZ")}),d.jsxs("td",{className:"p-3 text-gray-800 font-mono",children:[f.amount.toLocaleString()," ",f.currency==="USD"?"$":""]}),d.jsx("td",{className:"p-3",children:u(f.status)})]},f.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:4,className:"text-center p-6 text-gray-500",children:"    ."})})})]})})]})]})},Oye=()=>{const{siteSettings:t}=un(),[e,n]=V.useState(t||li),[r,i]=V.useState(""),[s,a]=V.useState({current:"",new:"",confirm:""}),[o,l]=V.useState(!1);V.useEffect(()=>{if(t){const f={...li,...t,payment:{...li.payment,...t.payment||{}},pricing:{...li.pricing,...t.pricing||{}},seo:{...li.seo,...t.seo||{}},social:{...li.social,...t.social||{}},ads:{...li.ads,...t.ads||{}},ai:{...li.ai,...t.ai||{}}};n(f)}},[t]);const c=f=>{const{name:h,value:p,type:v,checked:g}=f.target,y=h.split("."),_=v==="checkbox"?g:v==="number"?parseFloat(p)||0:p;n(x=>{if(!x)return li;const w=JSON.parse(JSON.stringify(x));if(y.length===3){const[C,S,R]=y;w[C]||(w[C]={}),w[C][S]||(w[C][S]={}),w[C][S][R]=_}else if(y.length===2){const[C,S]=y;w[C]||(w[C]={}),w[C][S]=_}return w})},u=async f=>{if(f.preventDefault(),!!e){l(!0),i("");try{const h={payment:e.payment,pricing:e.pricing,ads:e.ads,ai:e.ai};await Ume(h),i("    !")}catch(h){console.error("Error saving settings:",h),alert("    .     .")}finally{l(!1),setTimeout(()=>i(""),5e3)}}};return e?d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:" "}),r&&d.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-md relative mb-6",role:"alert",children:d.jsx("span",{className:"block sm:inline",children:r})}),d.jsxs("form",{onSubmit:u,className:"space-y-8 bg-white p-8 rounded-lg border",children:[d.jsxs("fieldset",{className:"border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-lg text-gray-700",children:" "}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-4",children:[d.jsxs("div",{className:"space-y-2 p-3 bg-gray-50 rounded-md",children:[d.jsx("h3",{className:"font-medium text-gray-600",children:"  "}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-500",children:" "}),d.jsx("input",{type:"number",name:"pricing.dynamicDocument.dzd",value:e.pricing.dynamicDocument.dzd,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-500",children:" "}),d.jsx("input",{type:"number",name:"pricing.dynamicDocument.usd",value:e.pricing.dynamicDocument.usd,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]})]}),d.jsxs("div",{className:"space-y-2 p-3 bg-gray-50 rounded-md",children:[d.jsx("h3",{className:"font-medium text-gray-600",children:"  "}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-500",children:" "}),d.jsx("input",{type:"number",name:"pricing.siteFormFill.dzd",value:e.pricing.siteFormFill.dzd,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-500",children:" "}),d.jsx("input",{type:"number",name:"pricing.siteFormFill.usd",value:e.pricing.siteFormFill.usd,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]})]}),d.jsxs("div",{className:"space-y-2 p-3 bg-gray-50 rounded-md",children:[d.jsx("h3",{className:"font-medium text-gray-600",children:"  "}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-500",children:" "}),d.jsx("input",{type:"number",name:"pricing.staticDocumentDownload.dzd",value:e.pricing.staticDocumentDownload.dzd,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-500",children:" "}),d.jsx("input",{type:"number",name:"pricing.staticDocumentDownload.usd",value:e.pricing.staticDocumentDownload.usd,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]})]})]})]}),d.jsxs("fieldset",{className:"border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-lg text-gray-700",children:" "}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:" CCP"}),d.jsx("input",{type:"text",name:"payment.ccp",value:e.payment.ccp,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"BaridiMob ( )"}),d.jsx("input",{type:"text",name:"payment.baridiMob",value:e.payment.baridiMob,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:" PayPal"}),d.jsx("input",{type:"email",name:"payment.paypalEmail",value:e.payment.paypalEmail,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"  (1 USD = ? DZD)"}),d.jsx("input",{type:"number",name:"payment.exchangeRate",value:e.payment.exchangeRate,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]}),d.jsx("div",{className:"md:col-span-2",children:d.jsxs("label",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",name:"payment.paypalEnabled",checked:e.payment.paypalEnabled,onChange:c,className:"h-4 w-4"}),d.jsx("span",{children:"   PayPal ( )"})]})})]})]}),d.jsxs("fieldset",{className:"border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-lg text-gray-700",children:"   (Gemini)"}),d.jsxs("div",{className:"space-y-4 mt-2",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:" API   (Master Key)"}),d.jsx("input",{type:"password",name:"ai.apiKey",value:e.ai.apiKey||"",onChange:c,placeholder:"  Gemini API   ",className:"mt-1 block w-full p-2 border rounded-md"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'      .         "secret"   Cloudflare Worker       .'})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",name:"ai.useAdminKey",checked:e.ai.useAdminKey||!1,onChange:c,className:"h-4 w-4"}),d.jsx("span",{children:"    "})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"                  API     .         ."})]})]})]}),d.jsx("div",{className:"flex justify-end pt-6 border-t mt-8",children:d.jsx("button",{type:"submit",disabled:o,className:"bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700 transition-colors disabled:bg-gray-400",children:o?" ...":" "})})]})]}):d.jsx("div",{children:"  ..."})},Vu="https://gitut.com",Yr=t=>t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):"",W9=t=>t?t.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r"):"",CC=t=>t?`
          <a href="${t.link}" target="_blank" rel="noopener noreferrer" class="block rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow duration-300 group my-6 no-underline">
                <div class="relative">
                  <img src="${t.imageUrl}" alt="${t.title}" class="w-full h-auto object-cover" />
                  <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent p-4 flex flex-col justify-end">
                    <h3 class="text-lg font-bold text-white group-hover:underline">${t.title}</h3>
                    <p class="text-sm text-white/90">${t.content}</p>
                  </div>
                </div>
            </a>
    `:"",a0={linkedin:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg>',pinterest:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0c-6.627 0-12 5.372-12 12 0 5.084 3.163 9.426 7.627 11.174-.105-.949-.2-2.405.042-3.441.218-.937 1.407-5.965 1.407-5.965s-.359-.719-.359-1.782c0-1.668.967-2.914 2.171-2.914 1.023 0 1.518.769 1.518 1.69 0 1.029-.655 2.568-.994 3.995-.283 1.194.599 2.169 1.777 2.169 2.133 0 3.772-2.249 3.772-5.495 0-2.873-2.064-4.882-5.012-4.882-3.414 0-5.418 2.561-5.418 5.207 0 1.031.397 2.138.893 2.738.098.119.117.223.084.345l-.333 1.36c-.053.22-.174.267-.402.161-1.499-.698-2.436-2.889-2.436-4.649 0-3.785 2.75-7.262 7.929-7.262 4.163 0 7.398 2.967 7.398 6.931 0 4.136-2.607 7.464-6.227 7.464-1.216 0-2.359-.631-2.75-1.378l-.748 2.853c-.271 1.043-1.002 2.35-1.492 3.146 1.124.343 2.318.535 3.554.535 6.627 0 12-5.373 12-12 0-6.628-5.373-12-12-12z"/></svg>',reddit:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M24 11.779c0-1.459-1.192-2.645-2.657-2.645-.717 0-1.365.286-1.84.746-1.81-1.191-4.259-1.982-6.971-2.146l1.463-4.64-4.98-1.655-1.463 4.64c-2.83.208-5.353 1.073-7.163 2.294-.475-.46-.b23-.746-1.84-.746-1.465 0-2.657 1.186-2.657 2.645 0 .972.533 1.811 1.317 2.271-.052.282-.084.569-.084.867 0 3.911 4.808 7.083 10.741 7.083s10.741-3.172 10.741-7.083c0-.298-.032-.585-.084-.867.784-.46 1.317-1.3 1.317-2.271zm-15.424 1.221c-.759.759-1.992.759-2.751 0-.759-.759-.759-1.991 0-2.751.759-.759 1.992-.759 2.751 0 .759.759.759 1.992 0 2.751zm9.113 0c-.759.759-1.992.759-2.751 0-.759-.759-.759-1.991 0-2.751.759-.759 1.992-.759 2.751 0 .759.759.759 1.992 0 2.751zm-4.129 4.06c-1.749 0-3.303-.732-4.437-1.916.347.086.703.131 1.066.131 3.237 0 5.862-2.625 5.862-5.862 0-.354-.031-.699-.091-1.035 1.568.12 2.949.7 4.095 1.654-1.321 2.04-3.733 3.447-6.5 4.028z"/></svg>',facebook:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"/></svg>',clipboard:'<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1h-12c-1.1 0-2 .9-2 2v14h2v-14h12v-2zm3 4h-11c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2v-14c0-1.1-.9-2-2-2zm0 16h-11v-14h11v14z"/></svg>'},Lye=(t,e,n)=>{const r=Eo("ar"),i=encodeURIComponent(t),s=encodeURIComponent(e),a=(n||"").replace(/<[^>]*>/g,"").substring(0,155);return`
        <div class="mt-auto pt-3 border-t flex items-center gap-3">
            <span class="text-xs text-gray-500 font-semibold">${r("share.title")}</span>
            <a href="https://www.linkedin.com/shareArticle?mini=true&url=${i}&title=${s}" target="_blank" rel="noopener noreferrer" class="transition-transform hover:scale-125 text-blue-700">${a0.linkedin}</a>
            <a href="https://pinterest.com/pin/create/button/?url=${i}&description=${s}" target="_blank" rel="noopener noreferrer" class="transition-transform hover:scale-125 text-red-600">${a0.pinterest}</a>
            <a href="https://www.reddit.com/submit?url=${i}&title=${s}" target="_blank" rel="noopener noreferrer" class="transition-transform hover:scale-125 text-orange-500">${a0.reddit}</a>
            <a href="https://www.facebook.com/sharer/sharer.php?u=${i}&quote=${s}" target="_blank" rel="noopener noreferrer" class="transition-transform hover:scale-125 text-blue-600">${a0.facebook}</a>
            <button class="copy-details-btn transition-transform hover:scale-125 text-gray-500 hover:text-gray-700" title="${r("share.copyDetails")}" data-title="${Yr(e)}" data-snippet="${Yr(a)}" data-url="${Yr(t)}">${a0.clipboard}</button>
        </div>
    `},jye=(t,e,n)=>{const r=encodeURIComponent(t),i=encodeURIComponent(e),s=W9(e),a=W9(n.replace(/<[^>]*>/g,"").substring(0,155)),o={linkedin:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg>',pinterest:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0c-6.627 0-12 5.372-12 12 0 5.084 3.163 9.426 7.627 11.174-.105-.949-.2-2.405.042-3.441.218-.937 1.407-5.965 1.407-5.965s-.359-.719-.359-1.782c0-1.668.967-2.914 2.171-2.914 1.023 0 1.518.769 1.518 1.69 0 1.029-.655 2.568-.994 3.995-.283 1.194.599 2.169 1.777 2.169 2.133 0 3.772-2.249 3.772-5.495 0-2.873-2.064-4.882-5.012-4.882-3.414 0-5.418 2.561-5.418 5.207 0 1.031.397 2.138.893 2.738.098.119.117.223.084.345l-.333 1.36c-.053.22-.174.267-.402.161-1.499-.698-2.436-2.889-2.436-4.649 0-3.785 2.75-7.262 7.929-7.262 4.163 0 7.398 2.967 7.398 6.931 0 4.136-2.607 7.464-6.227 7.464-1.216 0-2.359-.631-2.75-1.378l-.748 2.853c-.271 1.043-1.002 2.35-1.492 3.146 1.124.343 2.318.535 3.554.535 6.627 0 12-5.373 12-12 0-6.628-5.373-12-12-12z"/></svg>',facebook:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"/></svg>',clipboard:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1h-12c-1.1 0-2 .9-2 2v14h2v-14h12v-2zm3 4h-11c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2v-14c0-1.1-.9-2-2-2zm0 16h-11v-14h11v14z"/></svg>'};return`
        <div class="fixed bottom-6 left-6 z-40 flex flex-col items-center gap-3">
            <a href="https://www.linkedin.com/shareArticle?mini=true&url=${r}&title=${i}" target="_blank" rel="noopener noreferrer" class="w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-transform hover:scale-110 bg-blue-700">${o.linkedin}</a>
            <a href="https://pinterest.com/pin/create/button/?url=${r}&description=${i}" target="_blank" rel="noopener noreferrer" class="w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-transform hover:scale-110 bg-red-600">${o.pinterest}</a>
            <a href="https://www.reddit.com/submit?url=${r}&title=${i}" target="_blank" rel="noopener noreferrer" class="w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-transform hover:scale-110 bg-orange-500">${o.reddit}</a>
            <a href="https://www.facebook.com/sharer/sharer.php?u=${r}&quote=${i}" target="_blank" rel="noopener noreferrer" class="w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-transform hover:scale-110 bg-blue-600">${o.facebook}</a>
            <button class="copy-details-btn w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-all hover:scale-110 bg-gray-600" data-title="${Yr(s)}" data-snippet="${Yr(a)}" data-url="${Yr(t)}">${o.clipboard}</button>
        </div>
    `},Bye=`
<script>
document.addEventListener('DOMContentLoaded', function() {
    const copyButtons = document.querySelectorAll('.copy-details-btn');
    
    if (copyButtons.length > 0) {
        const handleCopyFallback = (text, btn) => {
            navigator.clipboard.writeText(text).then(() => {
                const originalContent = btn.innerHTML;
                btn.innerHTML = '<span class="text-xs"> !</span>';
                setTimeout(() => {
                    btn.innerHTML = \`<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1h-12c-1.1 0-2 .9-2 2v14h2v-14h12v-2zm3 4h-11c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2v-14c0-1.1-.9-2-2-2zm0 16h-11v-14h11v14z"/></svg>\`;
                }, 2000);
            });
        };

        copyButtons.forEach(btn => {
            btn.addEventListener('click', function(e) {
                e.preventDefault();
                e.stopPropagation();
                const button = this;
                const title = button.dataset.title || '';
                const snippet = button.dataset.snippet || '';
                const url = button.dataset.url || '';
                
                const textPlain = \`\${title}\\n\\n\${snippet}\\n\\n\${url}\`;
                const textHtml = \`
                    <p style="font-weight: bold; font-family: sans-serif; font-size: 16px;">\${title}</p>
                    <div style="font-family: sans-serif; font-size: 14px;"><p>\${snippet}</p></div>
                    <a href="\${url}">\${url}</a>
                \`;

                try {
                    if (typeof ClipboardItem === 'undefined') {
                        handleCopyFallback(textPlain, button);
                        return;
                    }
                    const blobHtml = new Blob([textHtml], { type: 'text/html' });
                    const blobPlain = new Blob([textPlain], { type: 'text/plain' });
                    
                    navigator.clipboard.write([
                        new ClipboardItem({
                            'text/html': blobHtml,
                            'text/plain': blobPlain,
                        })
                    ]).then(() => {
                        const originalContent = button.innerHTML;
                        button.innerHTML = '<span class="text-xs"> !</span>';
                        setTimeout(() => {
                            button.innerHTML = \`<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1h-12c-1.1 0-2 .9-2 2v14h2v-14h12v-2zm3 4h-11c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2v-14c0-1.1-.9-2-2-2zm0 16h-11v-14h11v14z"/></svg>\`;
                        }, 2000);
                    }, (err) => {
                        console.error('Async clipboard write failed, falling back to plain text: ', err);
                        handleCopyFallback(textPlain, button);
                    });
                } catch (error) {
                    console.error('Failed to use Clipboard API, falling back to writeText: ', error);
                    handleCopyFallback(textPlain, button);
                }
            });
        });
    }
});
<\/script>
`,Vye=(t,e)=>{const n=t==="global"?"dz":t,r=`${Vu}/${t==="global"?"":n+"/"}`,i=`${Vu}/${n}/login/`;return`
        <header class="bg-white shadow-md sticky top-0 z-50">
            <script async src="https://cse.google.com/cse.js?cx=8318067ab6f0244ff"><\/script>
            <div class="container mx-auto px-4 py-4 flex justify-between items-center">
                <a href="${r}" class="flex items-center gap-3"><svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-green-600" viewBox="0 0 24 24" fill="currentColor"><path d="M14 2H6C4.9 2 4 2.9 4 4V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V8L14 2ZM18 20H6V4H13V9H18V20Z"/></svg><span class="text-2xl font-bold text-gray-900" dir="ltr">Gitut</span></a>
                <nav class="flex items-center gap-6">
                    <div class="gcse-search"></div>
                    <a href="${r}" class="text-gray-700 hover:text-green-600 font-semibold">${e("header.search")}</a>
                    <a href="${i}" class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700">${e("header.login")}</a>
                </nav>
            </div>
        </header>
    `},Wye=(t,e,n,r,i,s)=>{var p,v;const a=t==="global"?"dz":t,o=((p=s==null?void 0:s.seo)==null?void 0:p[a])||((v=s==null?void 0:s.seo)==null?void 0:v.default),c=r.filter(g=>g.enabled&&(g.lang===e||!g.lang&&e==="ar")).map(g=>`<a href="${Vu}/${a}/page/${g.slug}/" class="hover:text-green-600 hover:underline">${Yr(g.title)}</a>`).join(""),u=i.some(g=>g.enabled&&g.content&&g.content[e]),f=`${Vu}/blog/`;return`
        <footer class="bg-white border-t mt-auto">
          <div class="container mx-auto px-4 py-8 flex flex-col items-center gap-4">
            <nav class="flex flex-wrap justify-center gap-x-6 gap-y-2 text-gray-600">${u?`<a href="${f}" class="hover:text-green-600 hover:underline">${n("footer.blog")}</a>`:""}<a href="${Vu}/${a}/services/" class="hover:text-green-600 hover:underline">${n("footer.services")}</a>${c}</nav>
            <p class="text-center text-gray-500 text-sm">&copy; ${new Date().getFullYear()} ${Yr((o==null?void 0:o.siteName)||"Gitut")}. ${n("footer.rightsReserved")}</p>
          </div>
        </footer>
    `},pI=({title:t,description:e,mainContent:n,countryCode:r,lang:i,siteSettings:s,pages:a,allBlogPosts:o,socialShare:l,imageUrl:c,scripts:u=""})=>{var C,S;const f=i==="ar"?"rtl":"ltr",h=Eo(i),p=Vye(r,h),v=Wye(r,i,h,a,o,s),g=`
        <div class="flex flex-col min-h-screen">
            ${p}
            ${n}
            ${v}
        </div>
    `,y=((C=s==null?void 0:s.seo)==null?void 0:C[r])||((S=s==null?void 0:s.seo)==null?void 0:S.default),_=c||"https://file.gitut.com/data/image/icon.png",x=`<script async src="https://www.googletagmanager.com/gtag/js?id=G-2BKKWGCXWX"><\/script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('config','G-2BKKWGCXWX');<\/script>`,w=l?jye(l.url,l.title,l.description):"";return`<!DOCTYPE html>
        <html lang="${i}" dir="${f}">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <link rel="icon" type="image/png" href="https://file.gitut.com/data/image/icon.png">
            <title>${Yr(t)}</title>
            <meta name="description" content="${Yr(e)}">
            
            <!-- Open Graph / Facebook -->
            <meta property="og:type" content="website">
            <meta property="og:url" content="${(l==null?void 0:l.url)||""}">
            <meta property="og:title" content="${Yr(t)}">
            <meta property="og:description" content="${Yr(e)}">
            <meta property="og:image" content="${_}">
            <meta property="og:image:secure_url" content="${_}">
            <meta property="og:image:width" content="640">
            <meta property="og:image:height" content="640">
            <meta property="og:site_name" content="${Yr((y==null?void 0:y.siteName)||"Gitut")}">

            <!-- Twitter -->
            <meta name="twitter:card" content="summary_large_image">
            <meta name="twitter:url" content="${(l==null?void 0:l.url)||""}">
            <meta name="twitter:title" content="${Yr(t)}">
            <meta name="twitter:description" content="${Yr(e)}">
            <meta name="twitter:image" content="${_}">

            <link rel="preconnect" href="https://cdn.tailwindcss.com" crossorigin>
            <link rel="preconnect" href="https://fonts.googleapis.com">
            <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
            <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
            <script src="https://cdn.tailwindcss.com/3.4.1?plugins=typography"><\/script>
            <style>body { font-family: 'Cairo', sans-serif; } .prose a { color: #16a34a; } .prose a:hover { color: #15803d; } .compact-prose p { margin-top: 0; margin-bottom: 0.25em; }</style>
            ${x}
        </head>
        <body class="bg-gray-100 text-gray-900">
            <div id="root">${g}</div>
            ${w}
            ${Bye}
            ${u}
            <script src="/index.js" type="module"><\/script>
        </body>
        </html>`},qye=(t,e,n,r,i,s)=>{var p,v;const a=Wc(e),o=Eo(a),l=t.filter(g=>g.serviceType==="doc"&&g.slug),c=t.filter(g=>g.serviceType==="static-doc"&&g.slug),u=t.filter(g=>g.serviceType==="site"&&g.slug);let f='<main class="flex-grow container mx-auto px-4 py-8"><div class="max-w-4xl mx-auto">';f+=`<h1 class="text-4xl font-bold text-gray-800 mb-8 text-center">${Yr(o("servicesListPage.title"))}</h1>`,f+='<div class="space-y-10">';const h=(g,y,_,x)=>{if(_.length===0)return"";let w=`<section class="bg-white rounded-lg shadow-lg p-6 mb-8">
            <h2 class="text-2xl font-bold text-gray-700 mb-4 border-b pb-2 flex items-center gap-3">${y}<span>${g}</span></h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">`;return _.forEach(C=>{const S=`${Vu}/${e}/${x}/${C.slug}/`,R="description"in C&&C.description?C.description:"";w+=`<div class="p-4 border rounded-lg bg-white flex flex-col shadow-sm transition-shadow hover:shadow-lg">
                <div class="flex-grow">
                    <a href="${S}" class="no-underline">
                        <h3 class="font-semibold text-lg text-gray-800 hover:text-green-600">${Yr(C.name)}</h3>
                        <div class="text-sm text-gray-600 mt-1 prose prose-sm max-w-none line-clamp-2">${R}</div>
                    </a>
                </div>
                ${Lye(S,C.name,R)}
            </div>`}),w+="</div></section>",w};return f+=h(o("servicesListPage.fillableDocs"),'<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-green-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>',l,"doc"),f+=h(o("servicesListPage.staticDocs"),'<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-blue-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>',c,"static-doc"),f+=h(o("servicesListPage.siteServices"),'<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-indigo-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path></svg>',u,"site"),f+="</div></div></main>",pI({title:`${o("servicesListPage.title")} | ${((v=(p=n==null?void 0:n.seo)==null?void 0:p[e])==null?void 0:v.siteName)||"Gitut"}`,description:`        Gitut  ${e}.`,mainContent:f,countryCode:e,lang:a,siteSettings:n,pages:r,allBlogPosts:i})},$ye=(t,e,n,r,i)=>{var f,h;const s=Wc(e),a=Eo(s),o=r.filter(p=>p.enabled&&p.id!==t.id&&(p.lang===s||!p.lang&&s==="ar"));let l="";o.length>0&&(l=`<aside class="md:col-span-1 space-y-6">
            <div class="bg-white p-4 rounded-lg shadow-lg border sticky top-24">
                <h3 class="font-bold text-lg mb-3 text-gray-800 border-b pb-2">${Yr(a("relatedPages.title"))}</h3>
                <div class="space-y-3">
                    ${o.map(p=>`<a href="${Vu}/${e}/page/${p.slug}/" class="block p-3 bg-gray-50 rounded-md border hover:border-green-400 hover:bg-green-50 transition-all"><p class="font-semibold text-gray-900">${Yr(p.title)}</p></a>`).join("")}
                </div>
            </div>
        </aside>`);const c=`<main class="flex-grow container mx-auto px-4 py-8">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
            <article class="md:col-span-3 bg-white rounded-lg shadow-xl p-6 md:p-10">
                <header class="mb-8 border-b pb-6"><h1 class="text-4xl md:text-5xl font-bold text-gray-900 leading-tight">${Yr(t.title)}</h1></header>
                <div class="prose prose-lg max-w-none text-gray-800 leading-relaxed">${t.content}</div>
            </article>
            ${l}
        </div>
    </main>`,u=`https://gitut.com/${e}/page/${t.slug}/`;return pI({title:`${t.title} | ${((h=(f=n==null?void 0:n.seo)==null?void 0:f[e])==null?void 0:h.siteName)||"Gitut"}`,description:t.content.replace(/<[^>]*>/g,"").substring(0,160),mainContent:c,countryCode:e,lang:s,siteSettings:n,pages:r,allBlogPosts:i,socialShare:{url:u,title:t.title,description:t.content}})},zye=(t,e,n,r,i,s)=>{var v,g;const a=t.countryCode||"dz",o=Wc(a),l=Eo(o),c=e.filter(y=>y.id!==t.id&&y.tags===t.tags).slice(0,5);let u="";c.length>0&&(u=`<aside class="md:col-span-1 space-y-6">
            <div class="bg-white p-4 rounded-lg shadow-lg border sticky top-24">
                <h3 class="font-bold text-lg mb-3 text-gray-800">${l("relatedServices.title")}</h3>
                <div class="space-y-3">
                    ${c.map(y=>{const _=y.serviceType==="site"?"site":"doc";return`<a href="${`${Vu}/${a}/${_}/${y.slug}/`}" class="w-full text-right block p-3 bg-gray-50 rounded-md border hover:border-green-400 hover:bg-green-50 transition-all">
                        <p class="font-semibold text-gray-900">${Yr(y.name)}</p>
                        <div class="mt-1 prose prose-sm max-w-none line-clamp-2 compact-prose">${"description"in y&&y.description?y.description:""}</div>
                    </a>`}).join("")}
                </div>
            </div>
            <div class="sticky top-24">${CC(s.find(y=>y.placement==="SITE_DETAIL_SIDEBAR"))}</div>
        </aside>`);const f=`<main class="flex-grow container mx-auto px-4 py-8">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
            <div class="md:col-span-3 bg-white rounded-lg shadow-xl p-6 md:p-8 flex flex-col">
                <div class="flex-grow">
                    <header class="mb-6 border-b pb-4"><h1 class="text-4xl font-bold text-gray-900">${Yr(t.name)}</h1></header>
                    <div class="prose prose-lg max-w-none text-gray-800">${"description"in t&&t.description?t.description:""}</div>
                    <div class="my-6">${CC(s.find(y=>y.placement==="SERVICE_DETAIL_MAIN_TOP"))}</div>
                </div>
                <div class="mt-8 pt-6 border-t">
                     <div class="mb-6">${CC(s.find(y=>y.placement==="SERVICE_DETAIL_MAIN_BOTTOM"))}</div>
                    <div class="flex flex-col sm:flex-row gap-4">
                        <a href="/view/${t.id}/" class="bg-red-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-red-700"></a>
                        <a href="/go-to-site/internal-form/?redirect=%2Fpublic-form%2F${t.id}%2F&name=${encodeURIComponent(` : ${t.name}`)}" class="bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700">/</a>
                    </div>
                </div>
            </div>
            ${u}
        </div>
    </main>`,h=t.serviceType==="site"?"site":"doc",p=`https://gitut.com/${a}/${h}/${t.slug}/`;return pI({title:`${t.name} | ${((g=(v=n==null?void 0:n.seo)==null?void 0:v[a])==null?void 0:g.siteName)||"Gitut"}`,description:"description"in t&&t.description?t.description.replace(/<[^>]*>/g,"").substring(0,160):"",mainContent:f,countryCode:a,lang:o,siteSettings:n,pages:r,allBlogPosts:i,socialShare:{url:p,title:t.name,description:"description"in t&&t.description?t.description:""}})},Hye=()=>{const[t,e]=V.useState(null),[n,r]=V.useState(null),[i,s]=V.useState(!1),[a,o]=V.useState(""),[l,c]=V.useState(""),[u,f]=V.useState(!1),{codes:h,refetchAdminData:p,siteSettings:v,services:g,blogPosts:y,cafes:_,pages:x,ads:w}=un(),[C,S]=V.useState(!1),[R,D]=V.useState(""),[N,I]=V.useState(!1),[F,P]=V.useState(""),[k,U]=V.useState(!1),[O,H]=V.useState(""),[G,X]=V.useState(!1),[Z,z]=V.useState(""),[Q,B]=V.useState(!1),[j,q]=V.useState(!1),[J,Y]=V.useState(""),[te,oe]=V.useState(!1),[de,fe]=V.useState(!1),[Ce,Pe]=V.useState(!1),[pe,Me]=V.useState(""),[W,ge]=V.useState(!1),[_e,ce]=V.useState(""),[re,le]=V.useState(!1),[ke,Ne]=V.useState(!1),[ie,ue]=V.useState(""),[ve,be]=V.useState(!1),[Ie,Le]=V.useState(!1),[Te,Ue]=V.useState(!1),[Oe,Je]=V.useState(!1),[ot,lt]=V.useState(!1),[Bt,fn]=V.useState(!1),ln=V.useRef(null),Kn=V.useRef(null),Rn=V.useRef(null),Vn=V.useRef(null),yn=V.useRef(null),It=V.useRef(null);V.useEffect(()=>{const we=xe=>{ln.current&&!ln.current.contains(xe.target)&&be(!1),Kn.current&&!Kn.current.contains(xe.target)&&Le(!1),Rn.current&&!Rn.current.contains(xe.target)&&Ue(!1),Vn.current&&!Vn.current.contains(xe.target)&&Je(!1),yn.current&&!yn.current.contains(xe.target)&&lt(!1),It.current&&!It.current.contains(xe.target)&&fn(!1)};return document.addEventListener("mousedown",we),()=>document.removeEventListener("mousedown",we)},[]);const[We,se]=V.useState({isOpen:!1,mode:"create",code:null}),[he,Re]=V.useState({key:"",description:"",questionText:""}),[qe,st]=V.useState(!1),[wt,Ot]=V.useState("");useMemo(()=>{const we=Object.entries(fieldLabels).map(([Se,Ve])=>({id:`const-${Se}`,key:`[${Se}]`,description:Ve,isReadOnly:!0})),xe=h.map(Se=>({...Se,isReadOnly:!1})),Ee=new Set(we.map(Se=>Se.key)),Ae=xe.filter(Se=>!Ee.has(Se.key));return[...we,...Ae].sort((Se,Ve)=>Se.key.localeCompare(Ve.key))},[h]);const Kt=async(we,xe,Ee)=>{e(Ee),o(""),c("");try{c(`(1/2) Generating data for ${Ee}...`);const Ae=await vc(we,xe);if(we==="blog"){if(typeof Ae!="object"||Ae===null)throw new Error("Blog data generation returned an invalid format.");const Se=Object.entries(Ae).map(([Ve,Ze])=>({path:`dist/data/json/${Ve}`,content:JSON.stringify(Ze)}));if(Se.length===0){c("     ."),e(null),setTimeout(()=>c(""),5e3);return}c(`(2/2) Publishing ${Se.length} files to GitHub...`),await ca({files:Se,commitMessage:"feat: Update public blog data"}),c(`  ${Se.length}     GitHub!`)}else{const Se=JSON.stringify(Ae),Ve=`dist/data/json/${Ee}`;c(`(2/2) Publishing ${Ee} to GitHub...`),await ca({files:[{path:Ve,content:Se}],commitMessage:`feat: Update ${Ee}`}),c(`  ${Ee}   GitHub!`)}}catch(Ae){console.error(Ae);const Se=Ae instanceof Error?Ae.message:String(Ae);o(`   ${Ee}. ${Se}`)}finally{e(null),setTimeout(()=>{c(""),o("")},5e3)}},vn=async(we,xe,Ee)=>{r(Ee),o("");try{const Ae=await vc(we,xe);if(we==="blog"){const Se=new JSZip;Object.entries(Ae).forEach(([Ze,$e])=>Se.file(Ze,JSON.stringify($e)));const Ve=await Se.generateAsync({type:"blob"});saveAs(Ve,"gitut-blog-data.zip")}else{const Se=new Blob([JSON.stringify(Ae)],{type:"application/json"});saveAs(Se,Ee)}}catch(Ae){console.error(Ae);const Se=Ae instanceof Error?Ae.message:String(Ae);o(`   ${Ee}. ${Se}`)}finally{r(null)}},mn=async we=>{I(!0),P("   ...");try{const xe=[];let Ee=g.filter(Se=>Se.slug);we==="global"?Ee=Ee.filter(Se=>!Se.countryCode):we&&(Ee=Ee.filter(Se=>Se.countryCode===we));const Ae=Ee.reduce((Se,Ve)=>{const Ze=Ve.countryCode||"global";return Se[Ze]||(Se[Ze]=[]),Se[Ze].push(Ve),Se},{});for(const Se in Ae){const Ve=Se==="global",Ze=Ae[Se],$e=qye(Ze,Se,v,x,y,w),Xe=Ve?"dist/services/index.html":`dist/${Se}/services/index.html`;xe.push({path:Xe,content:compressHtml($e)});for(const Ke of Ze){const ut=zye(Ke,g,v,x,y,w),xt=Ke.serviceType==="site"?"site":"doc",kt=Ve?`dist/${xt}/${Ke.slug}/index.html`:`dist/${Se}/${xt}/${Ke.slug}/index.html`;xe.push({path:kt,content:compressHtml(ut)})}}xe.length===0?P("    ."):(P(` ${xe.length}   GitHub...`),await ca({files:xe,commitMessage:"feat: Regenerate static service pages"}),P(`  ${xe.length}   !`))}catch(xe){console.error(xe);const Ee=xe instanceof Error?xe.message:String(xe);P(`: ${Ee}`)}finally{I(!1),setTimeout(()=>P(""),8e3)}},Mn=async we=>{X(!0),z(we?`    : ${we}`:"   ...");try{z("    !")}catch{}finally{X(!1),setTimeout(()=>z(""),8e3)}},Sn=async we=>{q(!0),Y(we?`     ${we}...`:"     ...");try{const xe=[],Ee={ar:["dz","sa","eg","ma","ae","tn","iq","jo","kw","lb","om","qa","sy","ye","bh","km","dj","mr","ps","so","sd","ly"],fr:["fr"],en:["us","ca","gb"],es:["es"],de:["de"],tr:["tr"],ja:["jp"]};for(const Ae of x)if(Ae.enabled&&Ae.slug){let Se=Ee[Ae.lang||"ar"]||["dz"];we==="global"||we&&(Se.includes(we)?Se=[we]:Se=[]);for(const Ve of Se){const Ze=$ye(Ae,Ve,v,x,y),$e=`dist/${Ve}/page/${Ae.slug}/index.html`;xe.push({path:$e,content:compressHtml(Ze)})}}xe.length===0?Y("       ."):(Y(` ${xe.length}   GitHub...`),await ca({files:xe,commitMessage:"feat: Regenerate static site pages"}),Y(`  ${xe.length}  !`))}catch(xe){console.error(xe);const Ee=xe instanceof Error?xe.message:String(xe);Y(`: ${Ee}`)}finally{q(!1),setTimeout(()=>Y(""),8e3)}},er=async()=>{},me=async we=>{le(!0),ue(we?`   JSON  : ${we}`:"   JSON ...");try{const xe=await vc("documents-json",we||"global");!xe||!Array.isArray(xe)||xe.length===0?ue("     ."):(ue(` ${xe.length}  JSON   GitHub...`),await ca({files:xe,commitMessage:`feat: Update individual document JSON files${we?` for ${we}`:""}`,repoConfig:{owner:"gitut-cms",repo:"files"}}),ue(`  ${xe.length}  !`))}catch(xe){console.error("Document JSON publishing failed:",xe);const Ee=xe instanceof Error?xe.message:String(xe);ue(`: ${Ee}`)}finally{le(!1),setTimeout(()=>ue(""),8e3)}};return d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"   "}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("section",{className:"bg-white p-6 rounded-lg shadow-md border",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:"  "}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"      JSON     .        ."}),d.jsx("div",{className:"space-y-3",children:PUBLIC_FILES.map(we=>d.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-3 rounded-md",children:[d.jsx("span",{className:"font-semibold text-gray-700",children:we.label}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>vn(we.dataType,we.countryCode,we.fileName),disabled:!!t||n===we.fileName,title:" ",className:"bg-gray-600 text-white font-semibold py-1 px-3 rounded-md hover:bg-gray-700 disabled:bg-gray-400 text-sm flex items-center gap-2",children:n===we.fileName?d.jsx(Tt,{className:"animate-spin"}):d.jsx(FaDownload,{})}),we.dataType==="documents-json"?d.jsxs("div",{className:"relative",ref:It,children:[d.jsxs("div",{className:"flex",children:[d.jsxs("button",{onClick:()=>me("global"),disabled:re||ke,className:"bg-blue-600 text-white font-semibold py-1 px-3 rounded-r-md hover:bg-blue-700 disabled:bg-gray-400 text-sm flex items-center gap-2",children:[re?d.jsx(Tt,{className:"animate-spin"}):d.jsx(FaCloudUploadAlt,{}),d.jsx("span",{children:"Global"})]}),d.jsx("button",{onClick:()=>fn(!Bt),disabled:re||ke,className:"bg-blue-700 text-white font-bold px-2 rounded-l-md hover:bg-blue-800 disabled:bg-gray-500 border-r border-blue-500",children:d.jsx(FaChevronDown,{})})]}),Bt&&d.jsxs("div",{className:"absolute left-0 mt-1 w-48 bg-white rounded-md shadow-lg border z-10 max-h-60 overflow-y-auto",children:[d.jsx("button",{onClick:()=>me("global"),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 font-bold border-b",children:"Global ()"}),Ir.en.map(xe=>d.jsxs("button",{onClick:()=>me(xe.code),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-2",children:[d.jsx("span",{children:xe.flag})," ",xe.name]},xe.code))]})]}):d.jsxs("button",{onClick:()=>Kt(we.dataType,we.countryCode,we.fileName),disabled:!!t||!!n,className:"bg-blue-600 text-white font-semibold py-1 px-3 rounded-md hover:bg-blue-700 disabled:bg-gray-400 text-sm flex items-center gap-2",children:[t===we.fileName?d.jsx(Tt,{className:"animate-spin"}):d.jsx(FaCloudUploadAlt,{}),d.jsx("span",{children:""})]})]})]},we.fileName))}),l&&d.jsx("p",{className:"text-green-600 text-sm mt-3",children:l}),a&&d.jsx("p",{className:"text-red-600 text-sm mt-3",children:a})]}),d.jsxs("section",{className:"bg-white p-6 rounded-lg shadow-md border md:col-span-2",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:"  "}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex gap-2 p-3 bg-gray-50 rounded-md items-center",children:[d.jsx("span",{className:"font-semibold text-gray-700 flex-1",children:" "}),d.jsx("button",{onClick:handleDownloadHomepages,disabled:de||Ce,title:" ZIP",className:"bg-gray-600 text-white font-bold p-3 rounded-lg hover:bg-gray-700 disabled:bg-gray-400",children:d.jsx(FaDownload,{})}),d.jsx("button",{onClick:er,disabled:de||Ce,className:"bg-green-600 text-white font-bold p-3 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:de?d.jsx(Tt,{className:"animate-spin"}):""})]}),d.jsxs("div",{className:"flex gap-2 p-3 bg-gray-50 rounded-md items-center",children:[d.jsx("span",{className:"font-semibold text-gray-700 flex-1",children:" "}),d.jsx("button",{onClick:()=>handleDownloadServicePages(),disabled:N||k,title:" ZIP",className:"bg-gray-600 text-white font-bold p-3 rounded-lg hover:bg-gray-700 disabled:bg-gray-400",children:d.jsx(FaDownload,{})}),d.jsxs("div",{className:"relative",ref:Vn,children:[d.jsxs("div",{className:"flex",children:[d.jsxs("button",{onClick:()=>mn("global"),disabled:N||k,className:"bg-green-600 text-white font-bold p-3 rounded-r-lg hover:bg-green-700 disabled:bg-gray-400 flex items-center gap-2",children:[N?d.jsx(Tt,{className:"animate-spin"}):d.jsx(FaCloudUploadAlt,{}),d.jsx("span",{children:"Global"})]}),d.jsx("button",{onClick:()=>Je(!Oe),disabled:N||k,className:"bg-green-700 text-white font-bold p-3 rounded-l-lg hover:bg-green-800 disabled:bg-gray-500 border-r border-green-500",children:d.jsx(FaChevronDown,{})})]}),Oe&&d.jsxs("div",{className:"absolute left-0 mt-1 w-48 bg-white rounded-md shadow-lg border z-10 max-h-60 overflow-y-auto",children:[d.jsx("button",{onClick:()=>mn("global"),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 font-bold border-b",children:"Global ()"}),Ir.en.map(we=>d.jsxs("button",{onClick:()=>mn(we.code),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-2",children:[d.jsx("span",{children:we.flag})," ",we.name]},we.code))]})]})]}),d.jsxs("div",{className:"flex gap-2 p-3 bg-gray-50 rounded-md items-center",children:[d.jsx("span",{className:"font-semibold text-gray-700 flex-1",children:""}),d.jsx("button",{onClick:handleDownloadBlogPages,disabled:G||Q,title:" ZIP",className:"bg-gray-600 text-white font-bold p-3 rounded-lg hover:bg-gray-700 disabled:bg-gray-400",children:d.jsx(FaDownload,{})}),d.jsxs("div",{className:"relative",ref:Rn,children:[d.jsxs("div",{className:"flex",children:[d.jsx("button",{onClick:()=>Mn(),disabled:G||Q,className:"bg-green-600 text-white font-bold p-3 rounded-r-lg hover:bg-green-700 disabled:bg-gray-400",children:G?d.jsx(Tt,{className:"animate-spin"}):" "}),d.jsx("button",{onClick:()=>Ue(!Te),disabled:G||Q,className:"bg-green-700 text-white font-bold p-3 rounded-l-lg hover:bg-green-800 disabled:bg-gray-500 border-r border-green-500",children:d.jsx(FaChevronDown,{})})]}),Te&&d.jsx("div",{className:"absolute left-0 mt-1 w-48 bg-white rounded-md shadow-lg border z-10",children:Au.map(we=>d.jsx("button",{onClick:()=>Mn(we.code),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:we.name},we.code))})]})]}),d.jsxs("div",{className:"flex gap-2 p-3 bg-gray-50 rounded-md items-center",children:[d.jsx("span",{className:"font-semibold text-gray-700 flex-1",children:" "}),d.jsx("button",{onClick:handleDownloadStaticPages,disabled:j||te,title:" ZIP",className:"bg-gray-600 text-white font-bold p-3 rounded-lg hover:bg-gray-700 disabled:bg-gray-400",children:d.jsx(FaDownload,{})}),d.jsxs("div",{className:"relative",ref:yn,children:[d.jsxs("div",{className:"flex",children:[d.jsxs("button",{onClick:()=>Sn("global"),disabled:j||te,className:"bg-green-600 text-white font-bold p-3 rounded-r-lg hover:bg-green-700 disabled:bg-gray-400 flex items-center gap-2",children:[j?d.jsx(Tt,{className:"animate-spin"}):d.jsx(FaCloudUploadAlt,{}),d.jsx("span",{children:"Global"})]}),d.jsx("button",{onClick:()=>lt(!ot),disabled:j||te,className:"bg-green-700 text-white font-bold p-3 rounded-l-lg hover:bg-green-800 disabled:bg-gray-500 border-r border-green-500",children:d.jsx(FaChevronDown,{})})]}),ot&&d.jsxs("div",{className:"absolute left-0 mt-1 w-48 bg-white rounded-md shadow-lg border z-10 max-h-60 overflow-y-auto",children:[d.jsx("button",{onClick:()=>Sn("global"),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 font-bold border-b",children:"Global ()"}),Ir.en.map(we=>d.jsxs("button",{onClick:()=>Sn(we.code),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-2",children:[d.jsx("span",{children:we.flag})," ",we.name]},we.code))]})]})]})]}),d.jsx("p",{className:"text-xs text-center mt-2 text-gray-500",children:"     HTML    GitHub    ZIP."}),F&&d.jsx("p",{className:"text-blue-600 text-sm mt-2 text-center",children:F}),pe&&d.jsx("p",{className:"text-blue-600 text-sm mt-2 text-center",children:pe}),Z&&d.jsx("p",{className:"text-blue-600 text-sm mt-2 text-center",children:Z}),J&&d.jsx("p",{className:"text-blue-600 text-sm mt-2 text-center",children:J}),ie&&d.jsx("p",{className:"text-blue-600 text-sm mt-2 text-center",children:ie})]})]})]})};var SC,q9;function Gye(){if(q9)return SC;q9=1;function t(){this.__data__=[],this.size=0}return SC=t,SC}var DC,$9;function CG(){if($9)return DC;$9=1;function t(e,n){return e===n||e!==e&&n!==n}return DC=t,DC}var AC,z9;function Aw(){if(z9)return AC;z9=1;var t=CG();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return AC=e,AC}var NC,H9;function Kye(){if(H9)return NC;H9=1;var t=Aw(),e=Array.prototype,n=e.splice;function r(i){var s=this.__data__,a=t(s,i);if(a<0)return!1;var o=s.length-1;return a==o?s.pop():n.call(s,a,1),--this.size,!0}return NC=r,NC}var kC,G9;function Jye(){if(G9)return kC;G9=1;var t=Aw();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return kC=e,kC}var IC,K9;function Xye(){if(K9)return IC;K9=1;var t=Aw();function e(n){return t(this.__data__,n)>-1}return IC=e,IC}var RC,J9;function Yye(){if(J9)return RC;J9=1;var t=Aw();function e(n,r){var i=this.__data__,s=t(i,n);return s<0?(++this.size,i.push([n,r])):i[s][1]=r,this}return RC=e,RC}var PC,X9;function Nw(){if(X9)return PC;X9=1;var t=Gye(),e=Kye(),n=Jye(),r=Xye(),i=Yye();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var c=a[o];this.set(c[0],c[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,PC=s,PC}var FC,Y9;function Qye(){if(Y9)return FC;Y9=1;var t=Nw();function e(){this.__data__=new t,this.size=0}return FC=e,FC}var MC,Q9;function Zye(){if(Q9)return MC;Q9=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return MC=t,MC}var UC,Z9;function e1e(){if(Z9)return UC;Z9=1;function t(e){return this.__data__.get(e)}return UC=t,UC}var OC,e7;function t1e(){if(e7)return OC;e7=1;function t(e){return this.__data__.has(e)}return OC=t,OC}var LC,t7;function SG(){if(t7)return LC;t7=1;var t=typeof Ds=="object"&&Ds&&Ds.Object===Object&&Ds;return LC=t,LC}var jC,n7;function qc(){if(n7)return jC;n7=1;var t=SG(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return jC=n,jC}var BC,r7;function mI(){if(r7)return BC;r7=1;var t=qc(),e=t.Symbol;return BC=e,BC}var VC,i7;function n1e(){if(i7)return VC;i7=1;var t=mI(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function s(a){var o=n.call(a,i),l=a[i];try{a[i]=void 0;var c=!0}catch{}var u=r.call(a);return c&&(o?a[i]=l:delete a[i]),u}return VC=s,VC}var WC,s7;function r1e(){if(s7)return WC;s7=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return WC=n,WC}var qC,a7;function kw(){if(a7)return qC;a7=1;var t=mI(),e=n1e(),n=r1e(),r="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function a(o){return o==null?o===void 0?i:r:s&&s in Object(o)?e(o):n(o)}return qC=a,qC}var $C,o7;function DG(){if(o7)return $C;o7=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return $C=t,$C}var zC,l7;function AG(){if(l7)return zC;l7=1;var t=kw(),e=DG(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function a(o){if(!e(o))return!1;var l=t(o);return l==r||l==i||l==n||l==s}return zC=a,zC}var HC,c7;function i1e(){if(c7)return HC;c7=1;var t=qc(),e=t["__core-js_shared__"];return HC=e,HC}var GC,u7;function s1e(){if(u7)return GC;u7=1;var t=i1e(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return GC=n,GC}var KC,d7;function NG(){if(d7)return KC;d7=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return KC=n,KC}var JC,f7;function a1e(){if(f7)return JC;f7=1;var t=AG(),e=s1e(),n=DG(),r=NG(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,a=Function.prototype,o=Object.prototype,l=a.toString,c=o.hasOwnProperty,u=RegExp("^"+l.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(h){if(!n(h)||e(h))return!1;var p=t(h)?u:s;return p.test(r(h))}return JC=f,JC}var XC,h7;function o1e(){if(h7)return XC;h7=1;function t(e,n){return e==null?void 0:e[n]}return XC=t,XC}var YC,p7;function ng(){if(p7)return YC;p7=1;var t=a1e(),e=o1e();function n(r,i){var s=e(r,i);return t(s)?s:void 0}return YC=n,YC}var QC,m7;function gI(){if(m7)return QC;m7=1;var t=ng(),e=qc(),n=t(e,"Map");return QC=n,QC}var ZC,g7;function Iw(){if(g7)return ZC;g7=1;var t=ng(),e=t(Object,"create");return ZC=e,ZC}var eS,y7;function l1e(){if(y7)return eS;y7=1;var t=Iw();function e(){this.__data__=t?t(null):{},this.size=0}return eS=e,eS}var tS,v7;function c1e(){if(v7)return tS;v7=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return tS=t,tS}var nS,x7;function u1e(){if(x7)return nS;x7=1;var t=Iw(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(s){var a=this.__data__;if(t){var o=a[s];return o===e?void 0:o}return r.call(a,s)?a[s]:void 0}return nS=i,nS}var rS,b7;function d1e(){if(b7)return rS;b7=1;var t=Iw(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var s=this.__data__;return t?s[i]!==void 0:n.call(s,i)}return rS=r,rS}var iS,_7;function f1e(){if(_7)return iS;_7=1;var t=Iw(),e="__lodash_hash_undefined__";function n(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=t&&i===void 0?e:i,this}return iS=n,iS}var sS,w7;function h1e(){if(w7)return sS;w7=1;var t=l1e(),e=c1e(),n=u1e(),r=d1e(),i=f1e();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var c=a[o];this.set(c[0],c[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,sS=s,sS}var aS,T7;function p1e(){if(T7)return aS;T7=1;var t=h1e(),e=Nw(),n=gI();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return aS=r,aS}var oS,E7;function m1e(){if(E7)return oS;E7=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return oS=t,oS}var lS,C7;function Rw(){if(C7)return lS;C7=1;var t=m1e();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return lS=e,lS}var cS,S7;function g1e(){if(S7)return cS;S7=1;var t=Rw();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return cS=e,cS}var uS,D7;function y1e(){if(D7)return uS;D7=1;var t=Rw();function e(n){return t(this,n).get(n)}return uS=e,uS}var dS,A7;function v1e(){if(A7)return dS;A7=1;var t=Rw();function e(n){return t(this,n).has(n)}return dS=e,dS}var fS,N7;function x1e(){if(N7)return fS;N7=1;var t=Rw();function e(n,r){var i=t(this,n),s=i.size;return i.set(n,r),this.size+=i.size==s?0:1,this}return fS=e,fS}var hS,k7;function kG(){if(k7)return hS;k7=1;var t=p1e(),e=g1e(),n=y1e(),r=v1e(),i=x1e();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var c=a[o];this.set(c[0],c[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,hS=s,hS}var pS,I7;function b1e(){if(I7)return pS;I7=1;var t=Nw(),e=gI(),n=kG(),r=200;function i(s,a){var o=this.__data__;if(o instanceof t){var l=o.__data__;if(!e||l.length<r-1)return l.push([s,a]),this.size=++o.size,this;o=this.__data__=new n(l)}return o.set(s,a),this.size=o.size,this}return pS=i,pS}var mS,R7;function _1e(){if(R7)return mS;R7=1;var t=Nw(),e=Qye(),n=Zye(),r=e1e(),i=t1e(),s=b1e();function a(o){var l=this.__data__=new t(o);this.size=l.size}return a.prototype.clear=e,a.prototype.delete=n,a.prototype.get=r,a.prototype.has=i,a.prototype.set=s,mS=a,mS}var gS,P7;function w1e(){if(P7)return gS;P7=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return gS=e,gS}var yS,F7;function T1e(){if(F7)return yS;F7=1;function t(e){return this.__data__.has(e)}return yS=t,yS}var vS,M7;function E1e(){if(M7)return vS;M7=1;var t=kG(),e=w1e(),n=T1e();function r(i){var s=-1,a=i==null?0:i.length;for(this.__data__=new t;++s<a;)this.add(i[s])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,vS=r,vS}var xS,U7;function C1e(){if(U7)return xS;U7=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return xS=t,xS}var bS,O7;function S1e(){if(O7)return bS;O7=1;function t(e,n){return e.has(n)}return bS=t,bS}var _S,L7;function IG(){if(L7)return _S;L7=1;var t=E1e(),e=C1e(),n=S1e(),r=1,i=2;function s(a,o,l,c,u,f){var h=l&r,p=a.length,v=o.length;if(p!=v&&!(h&&v>p))return!1;var g=f.get(a),y=f.get(o);if(g&&y)return g==o&&y==a;var _=-1,x=!0,w=l&i?new t:void 0;for(f.set(a,o),f.set(o,a);++_<p;){var C=a[_],S=o[_];if(c)var R=h?c(S,C,_,o,a,f):c(C,S,_,a,o,f);if(R!==void 0){if(R)continue;x=!1;break}if(w){if(!e(o,function(D,N){if(!n(w,N)&&(C===D||u(C,D,l,c,f)))return w.push(N)})){x=!1;break}}else if(!(C===S||u(C,S,l,c,f))){x=!1;break}}return f.delete(a),f.delete(o),x}return _S=s,_S}var wS,j7;function D1e(){if(j7)return wS;j7=1;var t=qc(),e=t.Uint8Array;return wS=e,wS}var TS,B7;function A1e(){if(B7)return TS;B7=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,s){r[++n]=[s,i]}),r}return TS=t,TS}var ES,V7;function N1e(){if(V7)return ES;V7=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return ES=t,ES}var CS,W7;function k1e(){if(W7)return CS;W7=1;var t=mI(),e=D1e(),n=CG(),r=IG(),i=A1e(),s=N1e(),a=1,o=2,l="[object Boolean]",c="[object Date]",u="[object Error]",f="[object Map]",h="[object Number]",p="[object RegExp]",v="[object Set]",g="[object String]",y="[object Symbol]",_="[object ArrayBuffer]",x="[object DataView]",w=t?t.prototype:void 0,C=w?w.valueOf:void 0;function S(R,D,N,I,F,P,k){switch(N){case x:if(R.byteLength!=D.byteLength||R.byteOffset!=D.byteOffset)return!1;R=R.buffer,D=D.buffer;case _:return!(R.byteLength!=D.byteLength||!P(new e(R),new e(D)));case l:case c:case h:return n(+R,+D);case u:return R.name==D.name&&R.message==D.message;case p:case g:return R==D+"";case f:var U=i;case v:var O=I&a;if(U||(U=s),R.size!=D.size&&!O)return!1;var H=k.get(R);if(H)return H==D;I|=o,k.set(R,D);var G=r(U(R),U(D),I,F,P,k);return k.delete(R),G;case y:if(C)return C.call(R)==C.call(D)}return!1}return CS=S,CS}var SS,q7;function I1e(){if(q7)return SS;q7=1;function t(e,n){for(var r=-1,i=n.length,s=e.length;++r<i;)e[s+r]=n[r];return e}return SS=t,SS}var DS,$7;function yI(){if($7)return DS;$7=1;var t=Array.isArray;return DS=t,DS}var AS,z7;function R1e(){if(z7)return AS;z7=1;var t=I1e(),e=yI();function n(r,i,s){var a=i(r);return e(r)?a:t(a,s(r))}return AS=n,AS}var NS,H7;function P1e(){if(H7)return NS;H7=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=0,a=[];++r<i;){var o=e[r];n(o,r,e)&&(a[s++]=o)}return a}return NS=t,NS}var kS,G7;function F1e(){if(G7)return kS;G7=1;function t(){return[]}return kS=t,kS}var IS,K7;function M1e(){if(K7)return IS;K7=1;var t=P1e(),e=F1e(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(a){return a==null?[]:(a=Object(a),t(i(a),function(o){return r.call(a,o)}))}:e;return IS=s,IS}var RS,J7;function U1e(){if(J7)return RS;J7=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return RS=t,RS}var PS,X7;function Pw(){if(X7)return PS;X7=1;function t(e){return e!=null&&typeof e=="object"}return PS=t,PS}var FS,Y7;function O1e(){if(Y7)return FS;Y7=1;var t=kw(),e=Pw(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return FS=r,FS}var MS,Q7;function L1e(){if(Q7)return MS;Q7=1;var t=O1e(),e=Pw(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,s=t((function(){return arguments})())?t:function(a){return e(a)&&r.call(a,"callee")&&!i.call(a,"callee")};return MS=s,MS}var N0={exports:{}},US,Z7;function j1e(){if(Z7)return US;Z7=1;function t(){return!1}return US=t,US}N0.exports;var eM;function RG(){return eM||(eM=1,(function(t,e){var n=qc(),r=j1e(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===i,o=a?n.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||r;t.exports=c})(N0,N0.exports)),N0.exports}var OS,tM;function B1e(){if(tM)return OS;tM=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var s=typeof r;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return OS=n,OS}var LS,nM;function PG(){if(nM)return LS;nM=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return LS=e,LS}var jS,rM;function V1e(){if(rM)return jS;rM=1;var t=kw(),e=PG(),n=Pw(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",a="[object Date]",o="[object Error]",l="[object Function]",c="[object Map]",u="[object Number]",f="[object Object]",h="[object RegExp]",p="[object Set]",v="[object String]",g="[object WeakMap]",y="[object ArrayBuffer]",_="[object DataView]",x="[object Float32Array]",w="[object Float64Array]",C="[object Int8Array]",S="[object Int16Array]",R="[object Int32Array]",D="[object Uint8Array]",N="[object Uint8ClampedArray]",I="[object Uint16Array]",F="[object Uint32Array]",P={};P[x]=P[w]=P[C]=P[S]=P[R]=P[D]=P[N]=P[I]=P[F]=!0,P[r]=P[i]=P[y]=P[s]=P[_]=P[a]=P[o]=P[l]=P[c]=P[u]=P[f]=P[h]=P[p]=P[v]=P[g]=!1;function k(U){return n(U)&&e(U.length)&&!!P[t(U)]}return jS=k,jS}var BS,iM;function W1e(){if(iM)return BS;iM=1;function t(e){return function(n){return e(n)}}return BS=t,BS}var k0={exports:{}};k0.exports;var sM;function q1e(){return sM||(sM=1,(function(t,e){var n=SG(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,a=s&&n.process,o=(function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}})();t.exports=o})(k0,k0.exports)),k0.exports}var VS,aM;function FG(){if(aM)return VS;aM=1;var t=V1e(),e=W1e(),n=q1e(),r=n&&n.isTypedArray,i=r?e(r):t;return VS=i,VS}var WS,oM;function $1e(){if(oM)return WS;oM=1;var t=U1e(),e=L1e(),n=yI(),r=RG(),i=B1e(),s=FG(),a=Object.prototype,o=a.hasOwnProperty;function l(c,u){var f=n(c),h=!f&&e(c),p=!f&&!h&&r(c),v=!f&&!h&&!p&&s(c),g=f||h||p||v,y=g?t(c.length,String):[],_=y.length;for(var x in c)(u||o.call(c,x))&&!(g&&(x=="length"||p&&(x=="offset"||x=="parent")||v&&(x=="buffer"||x=="byteLength"||x=="byteOffset")||i(x,_)))&&y.push(x);return y}return WS=l,WS}var qS,lM;function z1e(){if(lM)return qS;lM=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return qS=e,qS}var $S,cM;function H1e(){if(cM)return $S;cM=1;function t(e,n){return function(r){return e(n(r))}}return $S=t,$S}var zS,uM;function G1e(){if(uM)return zS;uM=1;var t=H1e(),e=t(Object.keys,Object);return zS=e,zS}var HS,dM;function K1e(){if(dM)return HS;dM=1;var t=z1e(),e=G1e(),n=Object.prototype,r=n.hasOwnProperty;function i(s){if(!t(s))return e(s);var a=[];for(var o in Object(s))r.call(s,o)&&o!="constructor"&&a.push(o);return a}return HS=i,HS}var GS,fM;function J1e(){if(fM)return GS;fM=1;var t=AG(),e=PG();function n(r){return r!=null&&e(r.length)&&!t(r)}return GS=n,GS}var KS,hM;function X1e(){if(hM)return KS;hM=1;var t=$1e(),e=K1e(),n=J1e();function r(i){return n(i)?t(i):e(i)}return KS=r,KS}var JS,pM;function Y1e(){if(pM)return JS;pM=1;var t=R1e(),e=M1e(),n=X1e();function r(i){return t(i,n,e)}return JS=r,JS}var XS,mM;function Q1e(){if(mM)return XS;mM=1;var t=Y1e(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(s,a,o,l,c,u){var f=o&e,h=t(s),p=h.length,v=t(a),g=v.length;if(p!=g&&!f)return!1;for(var y=p;y--;){var _=h[y];if(!(f?_ in a:r.call(a,_)))return!1}var x=u.get(s),w=u.get(a);if(x&&w)return x==a&&w==s;var C=!0;u.set(s,a),u.set(a,s);for(var S=f;++y<p;){_=h[y];var R=s[_],D=a[_];if(l)var N=f?l(D,R,_,a,s,u):l(R,D,_,s,a,u);if(!(N===void 0?R===D||c(R,D,o,l,u):N)){C=!1;break}S||(S=_=="constructor")}if(C&&!S){var I=s.constructor,F=a.constructor;I!=F&&"constructor"in s&&"constructor"in a&&!(typeof I=="function"&&I instanceof I&&typeof F=="function"&&F instanceof F)&&(C=!1)}return u.delete(s),u.delete(a),C}return XS=i,XS}var YS,gM;function Z1e(){if(gM)return YS;gM=1;var t=ng(),e=qc(),n=t(e,"DataView");return YS=n,YS}var QS,yM;function eve(){if(yM)return QS;yM=1;var t=ng(),e=qc(),n=t(e,"Promise");return QS=n,QS}var ZS,vM;function tve(){if(vM)return ZS;vM=1;var t=ng(),e=qc(),n=t(e,"Set");return ZS=n,ZS}var e4,xM;function nve(){if(xM)return e4;xM=1;var t=ng(),e=qc(),n=t(e,"WeakMap");return e4=n,e4}var t4,bM;function rve(){if(bM)return t4;bM=1;var t=Z1e(),e=gI(),n=eve(),r=tve(),i=nve(),s=kw(),a=NG(),o="[object Map]",l="[object Object]",c="[object Promise]",u="[object Set]",f="[object WeakMap]",h="[object DataView]",p=a(t),v=a(e),g=a(n),y=a(r),_=a(i),x=s;return(t&&x(new t(new ArrayBuffer(1)))!=h||e&&x(new e)!=o||n&&x(n.resolve())!=c||r&&x(new r)!=u||i&&x(new i)!=f)&&(x=function(w){var C=s(w),S=C==l?w.constructor:void 0,R=S?a(S):"";if(R)switch(R){case p:return h;case v:return o;case g:return c;case y:return u;case _:return f}return C}),t4=x,t4}var n4,_M;function ive(){if(_M)return n4;_M=1;var t=_1e(),e=IG(),n=k1e(),r=Q1e(),i=rve(),s=yI(),a=RG(),o=FG(),l=1,c="[object Arguments]",u="[object Array]",f="[object Object]",h=Object.prototype,p=h.hasOwnProperty;function v(g,y,_,x,w,C){var S=s(g),R=s(y),D=S?u:i(g),N=R?u:i(y);D=D==c?f:D,N=N==c?f:N;var I=D==f,F=N==f,P=D==N;if(P&&a(g)){if(!a(y))return!1;S=!0,I=!1}if(P&&!I)return C||(C=new t),S||o(g)?e(g,y,_,x,w,C):n(g,y,D,_,x,w,C);if(!(_&l)){var k=I&&p.call(g,"__wrapped__"),U=F&&p.call(y,"__wrapped__");if(k||U){var O=k?g.value():g,H=U?y.value():y;return C||(C=new t),w(O,H,_,x,C)}}return P?(C||(C=new t),r(g,y,_,x,w,C)):!1}return n4=v,n4}var r4,wM;function sve(){if(wM)return r4;wM=1;var t=ive(),e=Pw();function n(r,i,s,a,o){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,s,a,n,o)}return r4=n,r4}var i4,TM;function ave(){if(TM)return i4;TM=1;var t=sve();function e(n,r){return t(n,r)}return i4=e,i4}var A2={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */var ove=A2.exports,EM;function lve(){return EM||(EM=1,(function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:ove,function(){return(function(n){var r={};function i(s){if(r[s])return r[s].exports;var a=r[s]={i:s,l:!1,exports:{}};return n[s].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=n,i.c=r,i.d=function(s,a,o){i.o(s,a)||Object.defineProperty(s,a,{configurable:!1,enumerable:!0,get:o})},i.n=function(s){var a=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(a,"a",a),a},i.o=function(s,a){return Object.prototype.hasOwnProperty.call(s,a)},i.p="",i(i.s=109)})([(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(17),a=i(18),o=i(19),l=i(45),c=i(46),u=i(47),f=i(48),h=i(49),p=i(12),v=i(32),g=i(33),y=i(31),_=i(1),x={Scope:_.Scope,create:_.create,find:_.find,query:_.query,register:_.register,Container:s.default,Format:a.default,Leaf:o.default,Embed:f.default,Scroll:l.default,Block:u.default,Inline:c.default,Text:h.default,Attributor:{Attribute:p.default,Class:v.default,Style:g.default,Store:y.default}};r.default=x}),(function(n,r,i){var s=this&&this.__extends||(function(){var y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,x){_.__proto__=x}||function(_,x){for(var w in x)x.hasOwnProperty(w)&&(_[w]=x[w])};return function(_,x){y(_,x);function w(){this.constructor=_}_.prototype=x===null?Object.create(x):(w.prototype=x.prototype,new w)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=(function(y){s(_,y);function _(x){var w=this;return x="[Parchment] "+x,w=y.call(this,x)||this,w.message=x,w.name=w.constructor.name,w}return _})(Error);r.ParchmentError=a;var o={},l={},c={},u={};r.DATA_KEY="__blot";var f;(function(y){y[y.TYPE=3]="TYPE",y[y.LEVEL=12]="LEVEL",y[y.ATTRIBUTE=13]="ATTRIBUTE",y[y.BLOT=14]="BLOT",y[y.INLINE=7]="INLINE",y[y.BLOCK=11]="BLOCK",y[y.BLOCK_BLOT=10]="BLOCK_BLOT",y[y.INLINE_BLOT=6]="INLINE_BLOT",y[y.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",y[y.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",y[y.ANY=15]="ANY"})(f=r.Scope||(r.Scope={}));function h(y,_){var x=v(y);if(x==null)throw new a("Unable to create "+y+" blot");var w=x,C=y instanceof Node||y.nodeType===Node.TEXT_NODE?y:w.create(_);return new w(C,_)}r.create=h;function p(y,_){return _===void 0&&(_=!1),y==null?null:y[r.DATA_KEY]!=null?y[r.DATA_KEY].blot:_?p(y.parentNode,_):null}r.find=p;function v(y,_){_===void 0&&(_=f.ANY);var x;if(typeof y=="string")x=u[y]||o[y];else if(y instanceof Text||y.nodeType===Node.TEXT_NODE)x=u.text;else if(typeof y=="number")y&f.LEVEL&f.BLOCK?x=u.block:y&f.LEVEL&f.INLINE&&(x=u.inline);else if(y instanceof HTMLElement){var w=(y.getAttribute("class")||"").split(/\s+/);for(var C in w)if(x=l[w[C]],x)break;x=x||c[y.tagName]}return x==null?null:_&f.LEVEL&x.scope&&_&f.TYPE&x.scope?x:null}r.query=v;function g(){for(var y=[],_=0;_<arguments.length;_++)y[_]=arguments[_];if(y.length>1)return y.map(function(C){return g(C)});var x=y[0];if(typeof x.blotName!="string"&&typeof x.attrName!="string")throw new a("Invalid definition");if(x.blotName==="abstract")throw new a("Cannot register abstract class");if(u[x.blotName||x.attrName]=x,typeof x.keyName=="string")o[x.keyName]=x;else if(x.className!=null&&(l[x.className]=x),x.tagName!=null){Array.isArray(x.tagName)?x.tagName=x.tagName.map(function(C){return C.toUpperCase()}):x.tagName=x.tagName.toUpperCase();var w=Array.isArray(x.tagName)?x.tagName:[x.tagName];w.forEach(function(C){(c[C]==null||x.className==null)&&(c[C]=x)})}return x}r.register=g}),(function(n,r,i){var s=i(51),a=i(11),o=i(3),l=i(20),c="\0",u=function(f){Array.isArray(f)?this.ops=f:f!=null&&Array.isArray(f.ops)?this.ops=f.ops:this.ops=[]};u.prototype.insert=function(f,h){var p={};return f.length===0?this:(p.insert=f,h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(p.attributes=h),this.push(p))},u.prototype.delete=function(f){return f<=0?this:this.push({delete:f})},u.prototype.retain=function(f,h){if(f<=0)return this;var p={retain:f};return h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(p.attributes=h),this.push(p)},u.prototype.push=function(f){var h=this.ops.length,p=this.ops[h-1];if(f=o(!0,{},f),typeof p=="object"){if(typeof f.delete=="number"&&typeof p.delete=="number")return this.ops[h-1]={delete:p.delete+f.delete},this;if(typeof p.delete=="number"&&f.insert!=null&&(h-=1,p=this.ops[h-1],typeof p!="object"))return this.ops.unshift(f),this;if(a(f.attributes,p.attributes)){if(typeof f.insert=="string"&&typeof p.insert=="string")return this.ops[h-1]={insert:p.insert+f.insert},typeof f.attributes=="object"&&(this.ops[h-1].attributes=f.attributes),this;if(typeof f.retain=="number"&&typeof p.retain=="number")return this.ops[h-1]={retain:p.retain+f.retain},typeof f.attributes=="object"&&(this.ops[h-1].attributes=f.attributes),this}}return h===this.ops.length?this.ops.push(f):this.ops.splice(h,0,f),this},u.prototype.chop=function(){var f=this.ops[this.ops.length-1];return f&&f.retain&&!f.attributes&&this.ops.pop(),this},u.prototype.filter=function(f){return this.ops.filter(f)},u.prototype.forEach=function(f){this.ops.forEach(f)},u.prototype.map=function(f){return this.ops.map(f)},u.prototype.partition=function(f){var h=[],p=[];return this.forEach(function(v){var g=f(v)?h:p;g.push(v)}),[h,p]},u.prototype.reduce=function(f,h){return this.ops.reduce(f,h)},u.prototype.changeLength=function(){return this.reduce(function(f,h){return h.insert?f+l.length(h):h.delete?f-h.delete:f},0)},u.prototype.length=function(){return this.reduce(function(f,h){return f+l.length(h)},0)},u.prototype.slice=function(f,h){f=f||0,typeof h!="number"&&(h=1/0);for(var p=[],v=l.iterator(this.ops),g=0;g<h&&v.hasNext();){var y;g<f?y=v.next(f-g):(y=v.next(h-g),p.push(y)),g+=l.length(y)}return new u(p)},u.prototype.compose=function(f){var h=l.iterator(this.ops),p=l.iterator(f.ops),v=[],g=p.peek();if(g!=null&&typeof g.retain=="number"&&g.attributes==null){for(var y=g.retain;h.peekType()==="insert"&&h.peekLength()<=y;)y-=h.peekLength(),v.push(h.next());g.retain-y>0&&p.next(g.retain-y)}for(var _=new u(v);h.hasNext()||p.hasNext();)if(p.peekType()==="insert")_.push(p.next());else if(h.peekType()==="delete")_.push(h.next());else{var x=Math.min(h.peekLength(),p.peekLength()),w=h.next(x),C=p.next(x);if(typeof C.retain=="number"){var S={};typeof w.retain=="number"?S.retain=x:S.insert=w.insert;var R=l.attributes.compose(w.attributes,C.attributes,typeof w.retain=="number");if(R&&(S.attributes=R),_.push(S),!p.hasNext()&&a(_.ops[_.ops.length-1],S)){var D=new u(h.rest());return _.concat(D).chop()}}else typeof C.delete=="number"&&typeof w.retain=="number"&&_.push(C)}return _.chop()},u.prototype.concat=function(f){var h=new u(this.ops.slice());return f.ops.length>0&&(h.push(f.ops[0]),h.ops=h.ops.concat(f.ops.slice(1))),h},u.prototype.diff=function(f,h){if(this.ops===f.ops)return new u;var p=[this,f].map(function(x){return x.map(function(w){if(w.insert!=null)return typeof w.insert=="string"?w.insert:c;var C=x===f?"on":"with";throw new Error("diff() called "+C+" non-document")}).join("")}),v=new u,g=s(p[0],p[1],h),y=l.iterator(this.ops),_=l.iterator(f.ops);return g.forEach(function(x){for(var w=x[1].length;w>0;){var C=0;switch(x[0]){case s.INSERT:C=Math.min(_.peekLength(),w),v.push(_.next(C));break;case s.DELETE:C=Math.min(w,y.peekLength()),y.next(C),v.delete(C);break;case s.EQUAL:C=Math.min(y.peekLength(),_.peekLength(),w);var S=y.next(C),R=_.next(C);a(S.insert,R.insert)?v.retain(C,l.attributes.diff(S.attributes,R.attributes)):v.push(R).delete(C);break}w-=C}}),v.chop()},u.prototype.eachLine=function(f,h){h=h||`
`;for(var p=l.iterator(this.ops),v=new u,g=0;p.hasNext();){if(p.peekType()!=="insert")return;var y=p.peek(),_=l.length(y)-p.peekLength(),x=typeof y.insert=="string"?y.insert.indexOf(h,_)-_:-1;if(x<0)v.push(p.next());else if(x>0)v.push(p.next(x));else{if(f(v,p.next(1).attributes||{},g)===!1)return;g+=1,v=new u}}v.length()>0&&f(v,{},g)},u.prototype.transform=function(f,h){if(h=!!h,typeof f=="number")return this.transformPosition(f,h);for(var p=l.iterator(this.ops),v=l.iterator(f.ops),g=new u;p.hasNext()||v.hasNext();)if(p.peekType()==="insert"&&(h||v.peekType()!=="insert"))g.retain(l.length(p.next()));else if(v.peekType()==="insert")g.push(v.next());else{var y=Math.min(p.peekLength(),v.peekLength()),_=p.next(y),x=v.next(y);if(_.delete)continue;x.delete?g.push(x):g.retain(y,l.attributes.transform(_.attributes,x.attributes,h))}return g.chop()},u.prototype.transformPosition=function(f,h){h=!!h;for(var p=l.iterator(this.ops),v=0;p.hasNext()&&v<=f;){var g=p.peekLength(),y=p.peekType();if(p.next(),y==="delete"){f-=Math.min(g,f-v);continue}else y==="insert"&&(v<f||!h)&&(f+=g);v+=g}return f},n.exports=u}),(function(n,r){var i=Object.prototype.hasOwnProperty,s=Object.prototype.toString,a=Object.defineProperty,o=Object.getOwnPropertyDescriptor,l=function(p){return typeof Array.isArray=="function"?Array.isArray(p):s.call(p)==="[object Array]"},c=function(p){if(!p||s.call(p)!=="[object Object]")return!1;var v=i.call(p,"constructor"),g=p.constructor&&p.constructor.prototype&&i.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!v&&!g)return!1;var y;for(y in p);return typeof y>"u"||i.call(p,y)},u=function(p,v){a&&v.name==="__proto__"?a(p,v.name,{enumerable:!0,configurable:!0,value:v.newValue,writable:!0}):p[v.name]=v.newValue},f=function(p,v){if(v==="__proto__")if(i.call(p,v)){if(o)return o(p,v).value}else return;return p[v]};n.exports=function h(){var p,v,g,y,_,x,w=arguments[0],C=1,S=arguments.length,R=!1;for(typeof w=="boolean"&&(R=w,w=arguments[1]||{},C=2),(w==null||typeof w!="object"&&typeof w!="function")&&(w={});C<S;++C)if(p=arguments[C],p!=null)for(v in p)g=f(w,v),y=f(p,v),w!==y&&(R&&y&&(c(y)||(_=l(y)))?(_?(_=!1,x=g&&l(g)?g:[]):x=g&&c(g)?g:{},u(w,{name:v,newValue:h(R,x,y)})):typeof y<"u"&&u(w,{name:v,newValue:y}));return w}}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var s=(function(){function P(k,U){for(var O=0;O<U.length;O++){var H=U[O];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(k,H.key,H)}}return function(k,U,O){return U&&P(k.prototype,U),O&&P(k,O),k}})(),a=function P(k,U,O){k===null&&(k=Function.prototype);var H=Object.getOwnPropertyDescriptor(k,U);if(H===void 0){var G=Object.getPrototypeOf(k);return G===null?void 0:P(G,U,O)}else{if("value"in H)return H.value;var X=H.get;return X===void 0?void 0:X.call(O)}},o=i(3),l=w(o),c=i(2),u=w(c),f=i(0),h=w(f),p=i(16),v=w(p),g=i(6),y=w(g),_=i(7),x=w(_);function w(P){return P&&P.__esModule?P:{default:P}}function C(P,k){if(!(P instanceof k))throw new TypeError("Cannot call a class as a function")}function S(P,k){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:P}function R(P,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);P.prototype=Object.create(k&&k.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(P,k):P.__proto__=k)}var D=1,N=(function(P){R(k,P);function k(){return C(this,k),S(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return s(k,[{key:"attach",value:function(){a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"attach",this).call(this),this.attributes=new h.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new u.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(O,H){var G=h.default.query(O,h.default.Scope.BLOCK_ATTRIBUTE);G!=null&&this.attributes.attribute(G,H)}},{key:"formatAt",value:function(O,H,G,X){this.format(G,X)}},{key:"insertAt",value:function(O,H,G){if(typeof H=="string"&&H.endsWith(`
`)){var X=h.default.create(I.blotName);this.parent.insertBefore(X,O===0?this:this.next),X.insertAt(0,H.slice(0,-1))}else a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertAt",this).call(this,O,H,G)}}]),k})(h.default.Embed);N.scope=h.default.Scope.BLOCK_BLOT;var I=(function(P){R(k,P);function k(U){C(this,k);var O=S(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,U));return O.cache={},O}return s(k,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(h.default.Leaf).reduce(function(O,H){return H.length()===0?O:O.insert(H.value(),F(H))},new u.default).insert(`
`,F(this))),this.cache.delta}},{key:"deleteAt",value:function(O,H){a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"deleteAt",this).call(this,O,H),this.cache={}}},{key:"formatAt",value:function(O,H,G,X){H<=0||(h.default.query(G,h.default.Scope.BLOCK)?O+H===this.length()&&this.format(G,X):a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"formatAt",this).call(this,O,Math.min(H,this.length()-O-1),G,X),this.cache={})}},{key:"insertAt",value:function(O,H,G){if(G!=null)return a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertAt",this).call(this,O,H,G);if(H.length!==0){var X=H.split(`
`),Z=X.shift();Z.length>0&&(O<this.length()-1||this.children.tail==null?a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertAt",this).call(this,Math.min(O,this.length()-1),Z):this.children.tail.insertAt(this.children.tail.length(),Z),this.cache={});var z=this;X.reduce(function(Q,B){return z=z.split(Q,!0),z.insertAt(0,B),B.length},O+Z.length)}}},{key:"insertBefore",value:function(O,H){var G=this.children.head;a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertBefore",this).call(this,O,H),G instanceof v.default&&G.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"length",this).call(this)+D),this.cache.length}},{key:"moveChildren",value:function(O,H){a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"moveChildren",this).call(this,O,H),this.cache={}}},{key:"optimize",value:function(O){a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,O),this.cache={}}},{key:"path",value:function(O){return a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"path",this).call(this,O,!0)}},{key:"removeChild",value:function(O){a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"removeChild",this).call(this,O),this.cache={}}},{key:"split",value:function(O){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(H&&(O===0||O>=this.length()-D)){var G=this.clone();return O===0?(this.parent.insertBefore(G,this),this):(this.parent.insertBefore(G,this.next),G)}else{var X=a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"split",this).call(this,O,H);return this.cache={},X}}}]),k})(h.default.Block);I.blotName="block",I.tagName="P",I.defaultChild="break",I.allowedChildren=[y.default,h.default.Embed,x.default];function F(P){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return P==null||(typeof P.formats=="function"&&(k=(0,l.default)(k,P.formats())),P.parent==null||P.parent.blotName=="scroll"||P.parent.statics.scope!==P.statics.scope)?k:F(P.parent,k)}r.bubbleFormats=F,r.BlockEmbed=N,r.default=I}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},a=(function(){function z(Q,B){var j=[],q=!0,J=!1,Y=void 0;try{for(var te=Q[Symbol.iterator](),oe;!(q=(oe=te.next()).done)&&(j.push(oe.value),!(B&&j.length===B));q=!0);}catch(de){J=!0,Y=de}finally{try{!q&&te.return&&te.return()}finally{if(J)throw Y}}return j}return function(Q,B){if(Array.isArray(Q))return Q;if(Symbol.iterator in Object(Q))return z(Q,B);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=(function(){function z(Q,B){for(var j=0;j<B.length;j++){var q=B[j];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(Q,q.key,q)}}return function(Q,B,j){return B&&z(Q.prototype,B),j&&z(Q,j),Q}})();i(50);var l=i(2),c=F(l),u=i(14),f=F(u),h=i(8),p=F(h),v=i(9),g=F(v),y=i(0),_=F(y),x=i(15),w=F(x),C=i(3),S=F(C),R=i(10),D=F(R),N=i(34),I=F(N);function F(z){return z&&z.__esModule?z:{default:z}}function P(z,Q,B){return Q in z?Object.defineProperty(z,Q,{value:B,enumerable:!0,configurable:!0,writable:!0}):z[Q]=B,z}function k(z,Q){if(!(z instanceof Q))throw new TypeError("Cannot call a class as a function")}var U=(0,D.default)("quill"),O=(function(){o(z,null,[{key:"debug",value:function(B){B===!0&&(B="log"),D.default.level(B)}},{key:"find",value:function(B){return B.__quill||_.default.find(B)}},{key:"import",value:function(B){return this.imports[B]==null&&U.error("Cannot import "+B+". Are you sure it was registered?"),this.imports[B]}},{key:"register",value:function(B,j){var q=this,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof B!="string"){var Y=B.attrName||B.blotName;typeof Y=="string"?this.register("formats/"+Y,B,j):Object.keys(B).forEach(function(te){q.register(te,B[te],j)})}else this.imports[B]!=null&&!J&&U.warn("Overwriting "+B+" with",j),this.imports[B]=j,(B.startsWith("blots/")||B.startsWith("formats/"))&&j.blotName!=="abstract"?_.default.register(j):B.startsWith("modules")&&typeof j.register=="function"&&j.register()}}]);function z(Q){var B=this,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(k(this,z),this.options=H(Q,j),this.container=this.options.container,this.container==null)return U.error("Invalid Quill container",Q);this.options.debug&&z.debug(this.options.debug);var q=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new p.default,this.scroll=_.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new f.default(this.scroll),this.selection=new w.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(p.default.events.EDITOR_CHANGE,function(Y){Y===p.default.events.TEXT_CHANGE&&B.root.classList.toggle("ql-blank",B.editor.isBlank())}),this.emitter.on(p.default.events.SCROLL_UPDATE,function(Y,te){var oe=B.selection.lastRange,de=oe&&oe.length===0?oe.index:void 0;G.call(B,function(){return B.editor.update(null,te,de)},Y)});var J=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+q+"<p><br></p></div>");this.setContents(J),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return o(z,[{key:"addContainer",value:function(B){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof B=="string"){var q=B;B=document.createElement("div"),B.classList.add(q)}return this.container.insertBefore(B,j),B}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(B,j,q){var J=this,Y=X(B,j,q),te=a(Y,4);return B=te[0],j=te[1],q=te[3],G.call(this,function(){return J.editor.deleteText(B,j)},q,B,-1*j)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(B),this.container.classList.toggle("ql-disabled",!B)}},{key:"focus",value:function(){var B=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=B,this.scrollIntoView()}},{key:"format",value:function(B,j){var q=this,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;return G.call(this,function(){var Y=q.getSelection(!0),te=new c.default;if(Y==null)return te;if(_.default.query(B,_.default.Scope.BLOCK))te=q.editor.formatLine(Y.index,Y.length,P({},B,j));else{if(Y.length===0)return q.selection.format(B,j),te;te=q.editor.formatText(Y.index,Y.length,P({},B,j))}return q.setSelection(Y,p.default.sources.SILENT),te},J)}},{key:"formatLine",value:function(B,j,q,J,Y){var te=this,oe=void 0,de=X(B,j,q,J,Y),fe=a(de,4);return B=fe[0],j=fe[1],oe=fe[2],Y=fe[3],G.call(this,function(){return te.editor.formatLine(B,j,oe)},Y,B,0)}},{key:"formatText",value:function(B,j,q,J,Y){var te=this,oe=void 0,de=X(B,j,q,J,Y),fe=a(de,4);return B=fe[0],j=fe[1],oe=fe[2],Y=fe[3],G.call(this,function(){return te.editor.formatText(B,j,oe)},Y,B,0)}},{key:"getBounds",value:function(B){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,q=void 0;typeof B=="number"?q=this.selection.getBounds(B,j):q=this.selection.getBounds(B.index,B.length);var J=this.container.getBoundingClientRect();return{bottom:q.bottom-J.top,height:q.height,left:q.left-J.left,right:q.right-J.left,top:q.top-J.top,width:q.width}}},{key:"getContents",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-B,q=X(B,j),J=a(q,2);return B=J[0],j=J[1],this.editor.getContents(B,j)}},{key:"getFormat",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof B=="number"?this.editor.getFormat(B,j):this.editor.getFormat(B.index,B.length)}},{key:"getIndex",value:function(B){return B.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(B){return this.scroll.leaf(B)}},{key:"getLine",value:function(B){return this.scroll.line(B)}},{key:"getLines",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof B!="number"?this.scroll.lines(B.index,B.length):this.scroll.lines(B,j)}},{key:"getModule",value:function(B){return this.theme.modules[B]}},{key:"getSelection",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return B&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-B,q=X(B,j),J=a(q,2);return B=J[0],j=J[1],this.editor.getText(B,j)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(B,j,q){var J=this,Y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:z.sources.API;return G.call(this,function(){return J.editor.insertEmbed(B,j,q)},Y,B)}},{key:"insertText",value:function(B,j,q,J,Y){var te=this,oe=void 0,de=X(B,0,q,J,Y),fe=a(de,4);return B=fe[0],oe=fe[2],Y=fe[3],G.call(this,function(){return te.editor.insertText(B,j,oe)},Y,B,j.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(B,j,q){this.clipboard.dangerouslyPasteHTML(B,j,q)}},{key:"removeFormat",value:function(B,j,q){var J=this,Y=X(B,j,q),te=a(Y,4);return B=te[0],j=te[1],q=te[3],G.call(this,function(){return J.editor.removeFormat(B,j)},q,B)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(B){var j=this,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return G.call(this,function(){B=new c.default(B);var J=j.getLength(),Y=j.editor.deleteText(0,J),te=j.editor.applyDelta(B),oe=te.ops[te.ops.length-1];oe!=null&&typeof oe.insert=="string"&&oe.insert[oe.insert.length-1]===`
`&&(j.editor.deleteText(j.getLength()-1,1),te.delete(1));var de=Y.compose(te);return de},q)}},{key:"setSelection",value:function(B,j,q){if(B==null)this.selection.setRange(null,j||z.sources.API);else{var J=X(B,j,q),Y=a(J,4);B=Y[0],j=Y[1],q=Y[3],this.selection.setRange(new x.Range(B,j),q),q!==p.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(B){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API,q=new c.default().insert(B);return this.setContents(q,j)}},{key:"update",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,j=this.scroll.update(B);return this.selection.update(B),j}},{key:"updateContents",value:function(B){var j=this,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return G.call(this,function(){return B=new c.default(B),j.editor.applyDelta(B,q)},q,!0)}}]),z})();O.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},O.events=p.default.events,O.sources=p.default.sources,O.version="1.3.7",O.imports={delta:c.default,parchment:_.default,"core/module":g.default,"core/theme":I.default};function H(z,Q){if(Q=(0,S.default)(!0,{container:z,modules:{clipboard:!0,keyboard:!0,history:!0}},Q),!Q.theme||Q.theme===O.DEFAULTS.theme)Q.theme=I.default;else if(Q.theme=O.import("themes/"+Q.theme),Q.theme==null)throw new Error("Invalid theme "+Q.theme+". Did you register it?");var B=(0,S.default)(!0,{},Q.theme.DEFAULTS);[B,Q].forEach(function(J){J.modules=J.modules||{},Object.keys(J.modules).forEach(function(Y){J.modules[Y]===!0&&(J.modules[Y]={})})});var j=Object.keys(B.modules).concat(Object.keys(Q.modules)),q=j.reduce(function(J,Y){var te=O.import("modules/"+Y);return te==null?U.error("Cannot load "+Y+" module. Are you sure you registered it?"):J[Y]=te.DEFAULTS||{},J},{});return Q.modules!=null&&Q.modules.toolbar&&Q.modules.toolbar.constructor!==Object&&(Q.modules.toolbar={container:Q.modules.toolbar}),Q=(0,S.default)(!0,{},O.DEFAULTS,{modules:q},B,Q),["bounds","container","scrollingContainer"].forEach(function(J){typeof Q[J]=="string"&&(Q[J]=document.querySelector(Q[J]))}),Q.modules=Object.keys(Q.modules).reduce(function(J,Y){return Q.modules[Y]&&(J[Y]=Q.modules[Y]),J},{}),Q}function G(z,Q,B,j){if(this.options.strict&&!this.isEnabled()&&Q===p.default.sources.USER)return new c.default;var q=B==null?null:this.getSelection(),J=this.editor.delta,Y=z();if(q!=null&&(B===!0&&(B=q.index),j==null?q=Z(q,Y,Q):j!==0&&(q=Z(q,B,j,Q)),this.setSelection(q,p.default.sources.SILENT)),Y.length()>0){var te,oe=[p.default.events.TEXT_CHANGE,Y,J,Q];if((te=this.emitter).emit.apply(te,[p.default.events.EDITOR_CHANGE].concat(oe)),Q!==p.default.sources.SILENT){var de;(de=this.emitter).emit.apply(de,oe)}}return Y}function X(z,Q,B,j,q){var J={};return typeof z.index=="number"&&typeof z.length=="number"?typeof Q!="number"?(q=j,j=B,B=Q,Q=z.length,z=z.index):(Q=z.length,z=z.index):typeof Q!="number"&&(q=j,j=B,B=Q,Q=0),(typeof B>"u"?"undefined":s(B))==="object"?(J=B,q=j):typeof B=="string"&&(j!=null?J[B]=j:q=B),q=q||p.default.sources.API,[z,Q,J,q]}function Z(z,Q,B,j){if(z==null)return null;var q=void 0,J=void 0;if(Q instanceof c.default){var Y=[z.index,z.index+z.length].map(function(fe){return Q.transformPosition(fe,j!==p.default.sources.USER)}),te=a(Y,2);q=te[0],J=te[1]}else{var oe=[z.index,z.index+z.length].map(function(fe){return fe<Q||fe===Q&&j===p.default.sources.USER?fe:B>=0?fe+B:Math.max(Q,fe+B)}),de=a(oe,2);q=de[0],J=de[1]}return new x.Range(q,J-q)}r.expandConfig=H,r.overload=X,r.default=O}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function y(_,x){for(var w=0;w<x.length;w++){var C=x[w];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(_,C.key,C)}}return function(_,x,w){return x&&y(_.prototype,x),w&&y(_,w),_}})(),a=function y(_,x,w){_===null&&(_=Function.prototype);var C=Object.getOwnPropertyDescriptor(_,x);if(C===void 0){var S=Object.getPrototypeOf(_);return S===null?void 0:y(S,x,w)}else{if("value"in C)return C.value;var R=C.get;return R===void 0?void 0:R.call(w)}},o=i(7),l=f(o),c=i(0),u=f(c);function f(y){return y&&y.__esModule?y:{default:y}}function h(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")}function p(y,_){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:y}function v(y,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);y.prototype=Object.create(_&&_.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(y,_):y.__proto__=_)}var g=(function(y){v(_,y);function _(){return h(this,_),p(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return s(_,[{key:"formatAt",value:function(w,C,S,R){if(_.compare(this.statics.blotName,S)<0&&u.default.query(S,u.default.Scope.BLOT)){var D=this.isolate(w,C);R&&D.wrap(S,R)}else a(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"formatAt",this).call(this,w,C,S,R)}},{key:"optimize",value:function(w){if(a(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"optimize",this).call(this,w),this.parent instanceof _&&_.compare(this.statics.blotName,this.parent.statics.blotName)>0){var C=this.parent.isolate(this.offset(),this.length());this.moveChildren(C),C.wrap(this)}}}],[{key:"compare",value:function(w,C){var S=_.order.indexOf(w),R=_.order.indexOf(C);return S>=0||R>=0?S-R:w===C?0:w<C?-1:1}}]),_})(u.default.Inline);g.allowedChildren=[g,u.default.Embed,l.default],g.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=g}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),a=o(s);function o(h){return h&&h.__esModule?h:{default:h}}function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function c(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function u(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=(function(h){u(p,h);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(a.default.Text);r.default=f}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function x(w,C){for(var S=0;S<C.length;S++){var R=C[S];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(w,R.key,R)}}return function(w,C,S){return C&&x(w.prototype,C),S&&x(w,S),w}})(),a=function x(w,C,S){w===null&&(w=Function.prototype);var R=Object.getOwnPropertyDescriptor(w,C);if(R===void 0){var D=Object.getPrototypeOf(w);return D===null?void 0:x(D,C,S)}else{if("value"in R)return R.value;var N=R.get;return N===void 0?void 0:N.call(S)}},o=i(54),l=f(o),c=i(10),u=f(c);function f(x){return x&&x.__esModule?x:{default:x}}function h(x,w){if(!(x instanceof w))throw new TypeError("Cannot call a class as a function")}function p(x,w){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:x}function v(x,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);x.prototype=Object.create(w&&w.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(x,w):x.__proto__=w)}var g=(0,u.default)("quill:events"),y=["selectionchange","mousedown","mouseup","click"];y.forEach(function(x){document.addEventListener(x,function(){for(var w=arguments.length,C=Array(w),S=0;S<w;S++)C[S]=arguments[S];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(R){if(R.__quill&&R.__quill.emitter){var D;(D=R.__quill.emitter).handleDOM.apply(D,C)}})})});var _=(function(x){v(w,x);function w(){h(this,w);var C=p(this,(w.__proto__||Object.getPrototypeOf(w)).call(this));return C.listeners={},C.on("error",g.error),C}return s(w,[{key:"emit",value:function(){g.log.apply(g,arguments),a(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(S){for(var R=arguments.length,D=Array(R>1?R-1:0),N=1;N<R;N++)D[N-1]=arguments[N];(this.listeners[S.type]||[]).forEach(function(I){var F=I.node,P=I.handler;(S.target===F||F.contains(S.target))&&P.apply(void 0,[S].concat(D))})}},{key:"listenDOM",value:function(S,R,D){this.listeners[S]||(this.listeners[S]=[]),this.listeners[S].push({node:R,handler:D})}}]),w})(l.default);_.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},_.sources={API:"api",SILENT:"silent",USER:"user"},r.default=_}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});function s(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")}var a=function o(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s(this,o),this.quill=l,this.options=c};a.DEFAULTS={},r.default=a}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=["error","warn","log","info"],a="warn";function o(c){if(s.indexOf(c)<=s.indexOf(a)){for(var u,f=arguments.length,h=Array(f>1?f-1:0),p=1;p<f;p++)h[p-1]=arguments[p];(u=console)[c].apply(u,h)}}function l(c){return s.reduce(function(u,f){return u[f]=o.bind(console,f,c),u},{})}o.level=l.level=function(c){a=c},r.default=l}),(function(n,r,i){var s=Array.prototype.slice,a=i(52),o=i(53),l=n.exports=function(h,p,v){return v||(v={}),h===p?!0:h instanceof Date&&p instanceof Date?h.getTime()===p.getTime():!h||!p||typeof h!="object"&&typeof p!="object"?v.strict?h===p:h==p:f(h,p,v)};function c(h){return h==null}function u(h){return!(!h||typeof h!="object"||typeof h.length!="number"||typeof h.copy!="function"||typeof h.slice!="function"||h.length>0&&typeof h[0]!="number")}function f(h,p,v){var g,y;if(c(h)||c(p)||h.prototype!==p.prototype)return!1;if(o(h))return o(p)?(h=s.call(h),p=s.call(p),l(h,p,v)):!1;if(u(h)){if(!u(p)||h.length!==p.length)return!1;for(g=0;g<h.length;g++)if(h[g]!==p[g])return!1;return!0}try{var _=a(h),x=a(p)}catch{return!1}if(_.length!=x.length)return!1;for(_.sort(),x.sort(),g=_.length-1;g>=0;g--)if(_[g]!=x[g])return!1;for(g=_.length-1;g>=0;g--)if(y=_[g],!l(h[y],p[y],v))return!1;return typeof h==typeof p}}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(1),a=(function(){function o(l,c,u){u===void 0&&(u={}),this.attrName=l,this.keyName=c;var f=s.Scope.TYPE&s.Scope.ATTRIBUTE;u.scope!=null?this.scope=u.scope&s.Scope.LEVEL|f:this.scope=s.Scope.ATTRIBUTE,u.whitelist!=null&&(this.whitelist=u.whitelist)}return o.keys=function(l){return[].map.call(l.attributes,function(c){return c.name})},o.prototype.add=function(l,c){return this.canAdd(l,c)?(l.setAttribute(this.keyName,c),!0):!1},o.prototype.canAdd=function(l,c){var u=s.query(l,s.Scope.BLOT&(this.scope|s.Scope.TYPE));return u==null?!1:this.whitelist==null?!0:typeof c=="string"?this.whitelist.indexOf(c.replace(/["']/g,""))>-1:this.whitelist.indexOf(c)>-1},o.prototype.remove=function(l){l.removeAttribute(this.keyName)},o.prototype.value=function(l){var c=l.getAttribute(this.keyName);return this.canAdd(l,c)&&c?c:""},o})();r.default=a}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var s=(function(){function N(I,F){var P=[],k=!0,U=!1,O=void 0;try{for(var H=I[Symbol.iterator](),G;!(k=(G=H.next()).done)&&(P.push(G.value),!(F&&P.length===F));k=!0);}catch(X){U=!0,O=X}finally{try{!k&&H.return&&H.return()}finally{if(U)throw O}}return P}return function(I,F){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return N(I,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=(function(){function N(I,F){for(var P=0;P<F.length;P++){var k=F[P];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(I,k.key,k)}}return function(I,F,P){return F&&N(I.prototype,F),P&&N(I,P),I}})(),o=function N(I,F,P){I===null&&(I=Function.prototype);var k=Object.getOwnPropertyDescriptor(I,F);if(k===void 0){var U=Object.getPrototypeOf(I);return U===null?void 0:N(U,F,P)}else{if("value"in k)return k.value;var O=k.get;return O===void 0?void 0:O.call(P)}},l=i(2),c=x(l),u=i(0),f=x(u),h=i(4),p=x(h),v=i(6),g=x(v),y=i(7),_=x(y);function x(N){return N&&N.__esModule?N:{default:N}}function w(N,I){if(!(N instanceof I))throw new TypeError("Cannot call a class as a function")}function C(N,I){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:N}function S(N,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);N.prototype=Object.create(I&&I.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(N,I):N.__proto__=I)}var R=(function(N){S(I,N);function I(){return w(this,I),C(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return I})(g.default);R.blotName="code",R.tagName="CODE";var D=(function(N){S(I,N);function I(){return w(this,I),C(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return a(I,[{key:"delta",value:function(){var P=this,k=this.domNode.textContent;return k.endsWith(`
`)&&(k=k.slice(0,-1)),k.split(`
`).reduce(function(U,O){return U.insert(O).insert(`
`,P.formats())},new c.default)}},{key:"format",value:function(P,k){if(!(P===this.statics.blotName&&k)){var U=this.descendant(_.default,this.length()-1),O=s(U,1),H=O[0];H!=null&&H.deleteAt(H.length()-1,1),o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"format",this).call(this,P,k)}}},{key:"formatAt",value:function(P,k,U,O){if(k!==0&&!(f.default.query(U,f.default.Scope.BLOCK)==null||U===this.statics.blotName&&O===this.statics.formats(this.domNode))){var H=this.newlineIndex(P);if(!(H<0||H>=P+k)){var G=this.newlineIndex(P,!0)+1,X=H-G+1,Z=this.isolate(G,X),z=Z.next;Z.format(U,O),z instanceof I&&z.formatAt(0,P-G+k-X,U,O)}}}},{key:"insertAt",value:function(P,k,U){if(U==null){var O=this.descendant(_.default,P),H=s(O,2),G=H[0],X=H[1];G.insertAt(X,k)}}},{key:"length",value:function(){var P=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?P:P+1}},{key:"newlineIndex",value:function(P){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(k)return this.domNode.textContent.slice(0,P).lastIndexOf(`
`);var U=this.domNode.textContent.slice(P).indexOf(`
`);return U>-1?P+U:-1}},{key:"optimize",value:function(P){this.domNode.textContent.endsWith(`
`)||this.appendChild(f.default.create("text",`
`)),o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"optimize",this).call(this,P);var k=this.next;k!=null&&k.prev===this&&k.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===k.statics.formats(k.domNode)&&(k.optimize(P),k.moveChildren(this),k.remove())}},{key:"replace",value:function(P){o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"replace",this).call(this,P),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(k){var U=f.default.find(k);U==null?k.parentNode.removeChild(k):U instanceof f.default.Embed?U.remove():U.unwrap()})}}],[{key:"create",value:function(P){var k=o(I.__proto__||Object.getPrototypeOf(I),"create",this).call(this,P);return k.setAttribute("spellcheck",!1),k}},{key:"formats",value:function(){return!0}}]),I})(p.default);D.blotName="code-block",D.tagName="PRE",D.TAB="  ",r.Code=R,r.default=D}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},a=(function(){function z(Q,B){var j=[],q=!0,J=!1,Y=void 0;try{for(var te=Q[Symbol.iterator](),oe;!(q=(oe=te.next()).done)&&(j.push(oe.value),!(B&&j.length===B));q=!0);}catch(de){J=!0,Y=de}finally{try{!q&&te.return&&te.return()}finally{if(J)throw Y}}return j}return function(Q,B){if(Array.isArray(Q))return Q;if(Symbol.iterator in Object(Q))return z(Q,B);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=(function(){function z(Q,B){for(var j=0;j<B.length;j++){var q=B[j];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(Q,q.key,q)}}return function(Q,B,j){return B&&z(Q.prototype,B),j&&z(Q,j),Q}})(),l=i(2),c=k(l),u=i(20),f=k(u),h=i(0),p=k(h),v=i(13),g=k(v),y=i(24),_=k(y),x=i(4),w=k(x),C=i(16),S=k(C),R=i(21),D=k(R),N=i(11),I=k(N),F=i(3),P=k(F);function k(z){return z&&z.__esModule?z:{default:z}}function U(z,Q,B){return Q in z?Object.defineProperty(z,Q,{value:B,enumerable:!0,configurable:!0,writable:!0}):z[Q]=B,z}function O(z,Q){if(!(z instanceof Q))throw new TypeError("Cannot call a class as a function")}var H=/^[ -~]*$/,G=(function(){function z(Q){O(this,z),this.scroll=Q,this.delta=this.getDelta()}return o(z,[{key:"applyDelta",value:function(B){var j=this,q=!1;this.scroll.update();var J=this.scroll.length();return this.scroll.batchStart(),B=Z(B),B.reduce(function(Y,te){var oe=te.retain||te.delete||te.insert.length||1,de=te.attributes||{};if(te.insert!=null){if(typeof te.insert=="string"){var fe=te.insert;fe.endsWith(`
`)&&q&&(q=!1,fe=fe.slice(0,-1)),Y>=J&&!fe.endsWith(`
`)&&(q=!0),j.scroll.insertAt(Y,fe);var Ce=j.scroll.line(Y),Pe=a(Ce,2),pe=Pe[0],Me=Pe[1],W=(0,P.default)({},(0,x.bubbleFormats)(pe));if(pe instanceof w.default){var ge=pe.descendant(p.default.Leaf,Me),_e=a(ge,1),ce=_e[0];W=(0,P.default)(W,(0,x.bubbleFormats)(ce))}de=f.default.attributes.diff(W,de)||{}}else if(s(te.insert)==="object"){var re=Object.keys(te.insert)[0];if(re==null)return Y;j.scroll.insertAt(Y,re,te.insert[re])}J+=oe}return Object.keys(de).forEach(function(le){j.scroll.formatAt(Y,oe,le,de[le])}),Y+oe},0),B.reduce(function(Y,te){return typeof te.delete=="number"?(j.scroll.deleteAt(Y,te.delete),Y):Y+(te.retain||te.insert.length||1)},0),this.scroll.batchEnd(),this.update(B)}},{key:"deleteText",value:function(B,j){return this.scroll.deleteAt(B,j),this.update(new c.default().retain(B).delete(j))}},{key:"formatLine",value:function(B,j){var q=this,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(J).forEach(function(Y){if(!(q.scroll.whitelist!=null&&!q.scroll.whitelist[Y])){var te=q.scroll.lines(B,Math.max(j,1)),oe=j;te.forEach(function(de){var fe=de.length();if(!(de instanceof g.default))de.format(Y,J[Y]);else{var Ce=B-de.offset(q.scroll),Pe=de.newlineIndex(Ce+oe)-Ce+1;de.formatAt(Ce,Pe,Y,J[Y])}oe-=fe})}}),this.scroll.optimize(),this.update(new c.default().retain(B).retain(j,(0,D.default)(J)))}},{key:"formatText",value:function(B,j){var q=this,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(J).forEach(function(Y){q.scroll.formatAt(B,j,Y,J[Y])}),this.update(new c.default().retain(B).retain(j,(0,D.default)(J)))}},{key:"getContents",value:function(B,j){return this.delta.slice(B,B+j)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(B,j){return B.concat(j.delta())},new c.default)}},{key:"getFormat",value:function(B){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,q=[],J=[];j===0?this.scroll.path(B).forEach(function(te){var oe=a(te,1),de=oe[0];de instanceof w.default?q.push(de):de instanceof p.default.Leaf&&J.push(de)}):(q=this.scroll.lines(B,j),J=this.scroll.descendants(p.default.Leaf,B,j));var Y=[q,J].map(function(te){if(te.length===0)return{};for(var oe=(0,x.bubbleFormats)(te.shift());Object.keys(oe).length>0;){var de=te.shift();if(de==null)return oe;oe=X((0,x.bubbleFormats)(de),oe)}return oe});return P.default.apply(P.default,Y)}},{key:"getText",value:function(B,j){return this.getContents(B,j).filter(function(q){return typeof q.insert=="string"}).map(function(q){return q.insert}).join("")}},{key:"insertEmbed",value:function(B,j,q){return this.scroll.insertAt(B,j,q),this.update(new c.default().retain(B).insert(U({},j,q)))}},{key:"insertText",value:function(B,j){var q=this,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return j=j.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(B,j),Object.keys(J).forEach(function(Y){q.scroll.formatAt(B,j.length,Y,J[Y])}),this.update(new c.default().retain(B).insert(j,(0,D.default)(J)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var B=this.scroll.children.head;return B.statics.blotName!==w.default.blotName||B.children.length>1?!1:B.children.head instanceof S.default}},{key:"removeFormat",value:function(B,j){var q=this.getText(B,j),J=this.scroll.line(B+j),Y=a(J,2),te=Y[0],oe=Y[1],de=0,fe=new c.default;te!=null&&(te instanceof g.default?de=te.newlineIndex(oe)-oe+1:de=te.length()-oe,fe=te.delta().slice(oe,oe+de-1).insert(`
`));var Ce=this.getContents(B,j+de),Pe=Ce.diff(new c.default().insert(q).concat(fe)),pe=new c.default().retain(B).concat(Pe);return this.applyDelta(pe)}},{key:"update",value:function(B){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,J=this.delta;if(j.length===1&&j[0].type==="characterData"&&j[0].target.data.match(H)&&p.default.find(j[0].target)){var Y=p.default.find(j[0].target),te=(0,x.bubbleFormats)(Y),oe=Y.offset(this.scroll),de=j[0].oldValue.replace(_.default.CONTENTS,""),fe=new c.default().insert(de),Ce=new c.default().insert(Y.value()),Pe=new c.default().retain(oe).concat(fe.diff(Ce,q));B=Pe.reduce(function(pe,Me){return Me.insert?pe.insert(Me.insert,te):pe.push(Me)},new c.default),this.delta=J.compose(B)}else this.delta=this.getDelta(),(!B||!(0,I.default)(J.compose(B),this.delta))&&(B=J.diff(this.delta,q));return B}}]),z})();function X(z,Q){return Object.keys(Q).reduce(function(B,j){return z[j]==null||(Q[j]===z[j]?B[j]=Q[j]:Array.isArray(Q[j])?Q[j].indexOf(z[j])<0&&(B[j]=Q[j].concat([z[j]])):B[j]=[Q[j],z[j]]),B},{})}function Z(z){return z.reduce(function(Q,B){if(B.insert===1){var j=(0,D.default)(B.attributes);return delete j.image,Q.insert({image:B.attributes.image},j)}if(B.attributes!=null&&(B.attributes.list===!0||B.attributes.bullet===!0)&&(B=(0,D.default)(B),B.attributes.list?B.attributes.list="ordered":(B.attributes.list="bullet",delete B.attributes.bullet)),typeof B.insert=="string"){var q=B.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return Q.insert(q,B.attributes)}return Q.push(B)},new c.default)}r.default=G}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var s=(function(){function N(I,F){var P=[],k=!0,U=!1,O=void 0;try{for(var H=I[Symbol.iterator](),G;!(k=(G=H.next()).done)&&(P.push(G.value),!(F&&P.length===F));k=!0);}catch(X){U=!0,O=X}finally{try{!k&&H.return&&H.return()}finally{if(U)throw O}}return P}return function(I,F){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return N(I,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=(function(){function N(I,F){for(var P=0;P<F.length;P++){var k=F[P];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(I,k.key,k)}}return function(I,F,P){return F&&N(I.prototype,F),P&&N(I,P),I}})(),o=i(0),l=_(o),c=i(21),u=_(c),f=i(11),h=_(f),p=i(8),v=_(p),g=i(10),y=_(g);function _(N){return N&&N.__esModule?N:{default:N}}function x(N){if(Array.isArray(N)){for(var I=0,F=Array(N.length);I<N.length;I++)F[I]=N[I];return F}else return Array.from(N)}function w(N,I){if(!(N instanceof I))throw new TypeError("Cannot call a class as a function")}var C=(0,y.default)("quill:selection"),S=function N(I){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;w(this,N),this.index=I,this.length=F},R=(function(){function N(I,F){var P=this;w(this,N),this.emitter=F,this.scroll=I,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new S(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){P.mouseDown||setTimeout(P.update.bind(P,v.default.sources.USER),1)}),this.emitter.on(v.default.events.EDITOR_CHANGE,function(k,U){k===v.default.events.TEXT_CHANGE&&U.length()>0&&P.update(v.default.sources.SILENT)}),this.emitter.on(v.default.events.SCROLL_BEFORE_UPDATE,function(){if(P.hasFocus()){var k=P.getNativeRange();k!=null&&k.start.node!==P.cursor.textNode&&P.emitter.once(v.default.events.SCROLL_UPDATE,function(){try{P.setNativeRange(k.start.node,k.start.offset,k.end.node,k.end.offset)}catch{}})}}),this.emitter.on(v.default.events.SCROLL_OPTIMIZE,function(k,U){if(U.range){var O=U.range,H=O.startNode,G=O.startOffset,X=O.endNode,Z=O.endOffset;P.setNativeRange(H,G,X,Z)}}),this.update(v.default.sources.SILENT)}return a(N,[{key:"handleComposition",value:function(){var F=this;this.root.addEventListener("compositionstart",function(){F.composing=!0}),this.root.addEventListener("compositionend",function(){if(F.composing=!1,F.cursor.parent){var P=F.cursor.restore();if(!P)return;setTimeout(function(){F.setNativeRange(P.startNode,P.startOffset,P.endNode,P.endOffset)},1)}})}},{key:"handleDragging",value:function(){var F=this;this.emitter.listenDOM("mousedown",document.body,function(){F.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){F.mouseDown=!1,F.update(v.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(F,P){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[F])){this.scroll.update();var k=this.getNativeRange();if(!(k==null||!k.native.collapsed||l.default.query(F,l.default.Scope.BLOCK))){if(k.start.node!==this.cursor.textNode){var U=l.default.find(k.start.node,!1);if(U==null)return;if(U instanceof l.default.Leaf){var O=U.split(k.start.offset);U.parent.insertBefore(this.cursor,O)}else U.insertBefore(this.cursor,k.start.node);this.cursor.attach()}this.cursor.format(F,P),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(F){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,k=this.scroll.length();F=Math.min(F,k-1),P=Math.min(F+P,k-1)-F;var U=void 0,O=this.scroll.leaf(F),H=s(O,2),G=H[0],X=H[1];if(G==null)return null;var Z=G.position(X,!0),z=s(Z,2);U=z[0],X=z[1];var Q=document.createRange();if(P>0){Q.setStart(U,X);var B=this.scroll.leaf(F+P),j=s(B,2);if(G=j[0],X=j[1],G==null)return null;var q=G.position(X,!0),J=s(q,2);return U=J[0],X=J[1],Q.setEnd(U,X),Q.getBoundingClientRect()}else{var Y="left",te=void 0;return U instanceof Text?(X<U.data.length?(Q.setStart(U,X),Q.setEnd(U,X+1)):(Q.setStart(U,X-1),Q.setEnd(U,X),Y="right"),te=Q.getBoundingClientRect()):(te=G.domNode.getBoundingClientRect(),X>0&&(Y="right")),{bottom:te.top+te.height,height:te.height,left:te[Y],right:te[Y],top:te.top,width:0}}}},{key:"getNativeRange",value:function(){var F=document.getSelection();if(F==null||F.rangeCount<=0)return null;var P=F.getRangeAt(0);if(P==null)return null;var k=this.normalizeNative(P);return C.info("getNativeRange",k),k}},{key:"getRange",value:function(){var F=this.getNativeRange();if(F==null)return[null,null];var P=this.normalizedToRange(F);return[P,F]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(F){var P=this,k=[[F.start.node,F.start.offset]];F.native.collapsed||k.push([F.end.node,F.end.offset]);var U=k.map(function(G){var X=s(G,2),Z=X[0],z=X[1],Q=l.default.find(Z,!0),B=Q.offset(P.scroll);return z===0?B:Q instanceof l.default.Container?B+Q.length():B+Q.index(Z,z)}),O=Math.min(Math.max.apply(Math,x(U)),this.scroll.length()-1),H=Math.min.apply(Math,[O].concat(x(U)));return new S(H,O-H)}},{key:"normalizeNative",value:function(F){if(!D(this.root,F.startContainer)||!F.collapsed&&!D(this.root,F.endContainer))return null;var P={start:{node:F.startContainer,offset:F.startOffset},end:{node:F.endContainer,offset:F.endOffset},native:F};return[P.start,P.end].forEach(function(k){for(var U=k.node,O=k.offset;!(U instanceof Text)&&U.childNodes.length>0;)if(U.childNodes.length>O)U=U.childNodes[O],O=0;else if(U.childNodes.length===O)U=U.lastChild,O=U instanceof Text?U.data.length:U.childNodes.length+1;else break;k.node=U,k.offset=O}),P}},{key:"rangeToNative",value:function(F){var P=this,k=F.collapsed?[F.index]:[F.index,F.index+F.length],U=[],O=this.scroll.length();return k.forEach(function(H,G){H=Math.min(O-1,H);var X=void 0,Z=P.scroll.leaf(H),z=s(Z,2),Q=z[0],B=z[1],j=Q.position(B,G!==0),q=s(j,2);X=q[0],B=q[1],U.push(X,B)}),U.length<2&&(U=U.concat(U)),U}},{key:"scrollIntoView",value:function(F){var P=this.lastRange;if(P!=null){var k=this.getBounds(P.index,P.length);if(k!=null){var U=this.scroll.length()-1,O=this.scroll.line(Math.min(P.index,U)),H=s(O,1),G=H[0],X=G;if(P.length>0){var Z=this.scroll.line(Math.min(P.index+P.length,U)),z=s(Z,1);X=z[0]}if(!(G==null||X==null)){var Q=F.getBoundingClientRect();k.top<Q.top?F.scrollTop-=Q.top-k.top:k.bottom>Q.bottom&&(F.scrollTop+=k.bottom-Q.bottom)}}}}},{key:"setNativeRange",value:function(F,P){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:F,U=arguments.length>3&&arguments[3]!==void 0?arguments[3]:P,O=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(C.info("setNativeRange",F,P,k,U),!(F!=null&&(this.root.parentNode==null||F.parentNode==null||k.parentNode==null))){var H=document.getSelection();if(H!=null)if(F!=null){this.hasFocus()||this.root.focus();var G=(this.getNativeRange()||{}).native;if(G==null||O||F!==G.startContainer||P!==G.startOffset||k!==G.endContainer||U!==G.endOffset){F.tagName=="BR"&&(P=[].indexOf.call(F.parentNode.childNodes,F),F=F.parentNode),k.tagName=="BR"&&(U=[].indexOf.call(k.parentNode.childNodes,k),k=k.parentNode);var X=document.createRange();X.setStart(F,P),X.setEnd(k,U),H.removeAllRanges(),H.addRange(X)}}else H.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(F){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;if(typeof P=="string"&&(k=P,P=!1),C.info("setRange",F),F!=null){var U=this.rangeToNative(F);this.setNativeRange.apply(this,x(U).concat([P]))}else this.setNativeRange(null);this.update(k)}},{key:"update",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v.default.sources.USER,P=this.lastRange,k=this.getRange(),U=s(k,2),O=U[0],H=U[1];if(this.lastRange=O,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,h.default)(P,this.lastRange)){var G;!this.composing&&H!=null&&H.native.collapsed&&H.start.node!==this.cursor.textNode&&this.cursor.restore();var X=[v.default.events.SELECTION_CHANGE,(0,u.default)(this.lastRange),(0,u.default)(P),F];if((G=this.emitter).emit.apply(G,[v.default.events.EDITOR_CHANGE].concat(X)),F!==v.default.sources.SILENT){var Z;(Z=this.emitter).emit.apply(Z,X)}}}}]),N})();function D(N,I){try{I.parentNode}catch{return!1}return I instanceof Text&&(I=I.parentNode),N.contains(I)}r.Range=S,r.default=R}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function v(g,y){for(var _=0;_<y.length;_++){var x=y[_];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,y,_){return y&&v(g.prototype,y),_&&v(g,_),g}})(),a=function v(g,y,_){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,y);if(x===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:v(w,y,_)}else{if("value"in x)return x.value;var C=x.get;return C===void 0?void 0:C.call(_)}},o=i(0),l=c(o);function c(v){return v&&v.__esModule?v:{default:v}}function u(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function f(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function h(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=(function(v){h(g,v);function g(){return u(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,[{key:"insertInto",value:function(_,x){_.children.length===0?a(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"insertInto",this).call(this,_,x):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),g})(l.default.Embed);p.blotName="break",p.tagName="BR",r.default=p}),(function(n,r,i){var s=this&&this.__extends||(function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var v in p)p.hasOwnProperty(v)&&(h[v]=p[v])};return function(h,p){f(h,p);function v(){this.constructor=h}h.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(44),o=i(30),l=i(1),c=(function(f){s(h,f);function h(p){var v=f.call(this,p)||this;return v.build(),v}return h.prototype.appendChild=function(p){this.insertBefore(p)},h.prototype.attach=function(){f.prototype.attach.call(this),this.children.forEach(function(p){p.attach()})},h.prototype.build=function(){var p=this;this.children=new a.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(v){try{var g=u(v);p.insertBefore(g,p.children.head||void 0)}catch(y){if(y instanceof l.ParchmentError)return;throw y}})},h.prototype.deleteAt=function(p,v){if(p===0&&v===this.length())return this.remove();this.children.forEachAt(p,v,function(g,y,_){g.deleteAt(y,_)})},h.prototype.descendant=function(p,v){var g=this.children.find(v),y=g[0],_=g[1];return p.blotName==null&&p(y)||p.blotName!=null&&y instanceof p?[y,_]:y instanceof h?y.descendant(p,_):[null,-1]},h.prototype.descendants=function(p,v,g){v===void 0&&(v=0),g===void 0&&(g=Number.MAX_VALUE);var y=[],_=g;return this.children.forEachAt(v,g,function(x,w,C){(p.blotName==null&&p(x)||p.blotName!=null&&x instanceof p)&&y.push(x),x instanceof h&&(y=y.concat(x.descendants(p,w,_))),_-=C}),y},h.prototype.detach=function(){this.children.forEach(function(p){p.detach()}),f.prototype.detach.call(this)},h.prototype.formatAt=function(p,v,g,y){this.children.forEachAt(p,v,function(_,x,w){_.formatAt(x,w,g,y)})},h.prototype.insertAt=function(p,v,g){var y=this.children.find(p),_=y[0],x=y[1];if(_)_.insertAt(x,v,g);else{var w=g==null?l.create("text",v):l.create(v,g);this.appendChild(w)}},h.prototype.insertBefore=function(p,v){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(g){return p instanceof g}))throw new l.ParchmentError("Cannot insert "+p.statics.blotName+" into "+this.statics.blotName);p.insertInto(this,v)},h.prototype.length=function(){return this.children.reduce(function(p,v){return p+v.length()},0)},h.prototype.moveChildren=function(p,v){this.children.forEach(function(g){p.insertBefore(g,v)})},h.prototype.optimize=function(p){if(f.prototype.optimize.call(this,p),this.children.length===0)if(this.statics.defaultChild!=null){var v=l.create(this.statics.defaultChild);this.appendChild(v),v.optimize(p)}else this.remove()},h.prototype.path=function(p,v){v===void 0&&(v=!1);var g=this.children.find(p,v),y=g[0],_=g[1],x=[[this,p]];return y instanceof h?x.concat(y.path(_,v)):(y!=null&&x.push([y,_]),x)},h.prototype.removeChild=function(p){this.children.remove(p)},h.prototype.replace=function(p){p instanceof h&&p.moveChildren(this),f.prototype.replace.call(this,p)},h.prototype.split=function(p,v){if(v===void 0&&(v=!1),!v){if(p===0)return this;if(p===this.length())return this.next}var g=this.clone();return this.parent.insertBefore(g,this.next),this.children.forEachAt(p,this.length(),function(y,_,x){y=y.split(_,v),g.appendChild(y)}),g},h.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},h.prototype.update=function(p,v){var g=this,y=[],_=[];p.forEach(function(x){x.target===g.domNode&&x.type==="childList"&&(y.push.apply(y,x.addedNodes),_.push.apply(_,x.removedNodes))}),_.forEach(function(x){if(!(x.parentNode!=null&&x.tagName!=="IFRAME"&&document.body.compareDocumentPosition(x)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var w=l.find(x);w!=null&&(w.domNode.parentNode==null||w.domNode.parentNode===g.domNode)&&w.detach()}}),y.filter(function(x){return x.parentNode==g.domNode}).sort(function(x,w){return x===w?0:x.compareDocumentPosition(w)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(x){var w=null;x.nextSibling!=null&&(w=l.find(x.nextSibling));var C=u(x);(C.next!=w||C.next==null)&&(C.parent!=null&&C.parent.removeChild(g),g.insertBefore(C,w||void 0))})},h})(o.default);function u(f){var h=l.find(f);if(h==null)try{h=l.create(f)}catch{h=l.create(l.Scope.INLINE),[].slice.call(f.childNodes).forEach(function(v){h.domNode.appendChild(v)}),f.parentNode&&f.parentNode.replaceChild(h.domNode,f),h.attach()}return h}r.default=c}),(function(n,r,i){var s=this&&this.__extends||(function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var v in p)p.hasOwnProperty(v)&&(h[v]=p[v])};return function(h,p){f(h,p);function v(){this.constructor=h}h.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(12),o=i(31),l=i(17),c=i(1),u=(function(f){s(h,f);function h(p){var v=f.call(this,p)||this;return v.attributes=new o.default(v.domNode),v}return h.formats=function(p){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return p.tagName.toLowerCase()},h.prototype.format=function(p,v){var g=c.query(p);g instanceof a.default?this.attributes.attribute(g,v):v&&g!=null&&(p!==this.statics.blotName||this.formats()[p]!==v)&&this.replaceWith(p,v)},h.prototype.formats=function(){var p=this.attributes.values(),v=this.statics.formats(this.domNode);return v!=null&&(p[this.statics.blotName]=v),p},h.prototype.replaceWith=function(p,v){var g=f.prototype.replaceWith.call(this,p,v);return this.attributes.copy(g),g},h.prototype.update=function(p,v){var g=this;f.prototype.update.call(this,p,v),p.some(function(y){return y.target===g.domNode&&y.type==="attributes"})&&this.attributes.build()},h.prototype.wrap=function(p,v){var g=f.prototype.wrap.call(this,p,v);return g instanceof h&&g.statics.scope===this.statics.scope&&this.attributes.move(g),g},h})(l.default);r.default=u}),(function(n,r,i){var s=this&&this.__extends||(function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){c(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(30),o=i(1),l=(function(c){s(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.value=function(f){return!0},u.prototype.index=function(f,h){return this.domNode===f||this.domNode.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(h,1):-1},u.prototype.position=function(f,h){var p=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return f>0&&(p+=1),[this.parent.domNode,p]},u.prototype.value=function(){var f;return f={},f[this.statics.blotName]=this.statics.value(this.domNode)||!0,f},u.scope=o.Scope.INLINE_BLOT,u})(a.default);r.default=l}),(function(n,r,i){var s=i(11),a=i(3),o={attributes:{compose:function(c,u,f){typeof c!="object"&&(c={}),typeof u!="object"&&(u={});var h=a(!0,{},u);f||(h=Object.keys(h).reduce(function(v,g){return h[g]!=null&&(v[g]=h[g]),v},{}));for(var p in c)c[p]!==void 0&&u[p]===void 0&&(h[p]=c[p]);return Object.keys(h).length>0?h:void 0},diff:function(c,u){typeof c!="object"&&(c={}),typeof u!="object"&&(u={});var f=Object.keys(c).concat(Object.keys(u)).reduce(function(h,p){return s(c[p],u[p])||(h[p]=u[p]===void 0?null:u[p]),h},{});return Object.keys(f).length>0?f:void 0},transform:function(c,u,f){if(typeof c!="object")return u;if(typeof u=="object"){if(!f)return u;var h=Object.keys(u).reduce(function(p,v){return c[v]===void 0&&(p[v]=u[v]),p},{});return Object.keys(h).length>0?h:void 0}}},iterator:function(c){return new l(c)},length:function(c){return typeof c.delete=="number"?c.delete:typeof c.retain=="number"?c.retain:typeof c.insert=="string"?c.insert.length:1}};function l(c){this.ops=c,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(c){c||(c=1/0);var u=this.ops[this.index];if(u){var f=this.offset,h=o.length(u);if(c>=h-f?(c=h-f,this.index+=1,this.offset=0):this.offset+=c,typeof u.delete=="number")return{delete:c};var p={};return u.attributes&&(p.attributes=u.attributes),typeof u.retain=="number"?p.retain=c:typeof u.insert=="string"?p.insert=u.insert.substr(f,c):p.insert=u.insert,p}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?o.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var c=this.offset,u=this.index,f=this.next(),h=this.ops.slice(this.index);return this.offset=c,this.index=u,[f].concat(h)}else return[]},n.exports=o}),(function(n,r){var i=(function(){function s(g,y){return y!=null&&g instanceof y}var a;try{a=Map}catch{a=function(){}}var o;try{o=Set}catch{o=function(){}}var l;try{l=Promise}catch{l=function(){}}function c(g,y,_,x,w){typeof y=="object"&&(_=y.depth,x=y.prototype,w=y.includeNonEnumerable,y=y.circular);var C=[],S=[],R=typeof Buffer<"u";typeof y>"u"&&(y=!0),typeof _>"u"&&(_=1/0);function D(N,I){if(N===null)return null;if(I===0)return N;var F,P;if(typeof N!="object")return N;if(s(N,a))F=new a;else if(s(N,o))F=new o;else if(s(N,l))F=new l(function(Q,B){N.then(function(j){Q(D(j,I-1))},function(j){B(D(j,I-1))})});else if(c.__isArray(N))F=[];else if(c.__isRegExp(N))F=new RegExp(N.source,v(N)),N.lastIndex&&(F.lastIndex=N.lastIndex);else if(c.__isDate(N))F=new Date(N.getTime());else{if(R&&Buffer.isBuffer(N))return Buffer.allocUnsafe?F=Buffer.allocUnsafe(N.length):F=new Buffer(N.length),N.copy(F),F;s(N,Error)?F=Object.create(N):typeof x>"u"?(P=Object.getPrototypeOf(N),F=Object.create(P)):(F=Object.create(x),P=x)}if(y){var k=C.indexOf(N);if(k!=-1)return S[k];C.push(N),S.push(F)}s(N,a)&&N.forEach(function(Q,B){var j=D(B,I-1),q=D(Q,I-1);F.set(j,q)}),s(N,o)&&N.forEach(function(Q){var B=D(Q,I-1);F.add(B)});for(var U in N){var O;P&&(O=Object.getOwnPropertyDescriptor(P,U)),!(O&&O.set==null)&&(F[U]=D(N[U],I-1))}if(Object.getOwnPropertySymbols)for(var H=Object.getOwnPropertySymbols(N),U=0;U<H.length;U++){var G=H[U],X=Object.getOwnPropertyDescriptor(N,G);X&&!X.enumerable&&!w||(F[G]=D(N[G],I-1),X.enumerable||Object.defineProperty(F,G,{enumerable:!1}))}if(w)for(var Z=Object.getOwnPropertyNames(N),U=0;U<Z.length;U++){var z=Z[U],X=Object.getOwnPropertyDescriptor(N,z);X&&X.enumerable||(F[z]=D(N[z],I-1),Object.defineProperty(F,z,{enumerable:!1}))}return F}return D(g,_)}c.clonePrototype=function(y){if(y===null)return null;var _=function(){};return _.prototype=y,new _};function u(g){return Object.prototype.toString.call(g)}c.__objToStr=u;function f(g){return typeof g=="object"&&u(g)==="[object Date]"}c.__isDate=f;function h(g){return typeof g=="object"&&u(g)==="[object Array]"}c.__isArray=h;function p(g){return typeof g=="object"&&u(g)==="[object RegExp]"}c.__isRegExp=p;function v(g){var y="";return g.global&&(y+="g"),g.ignoreCase&&(y+="i"),g.multiline&&(y+="m"),y}return c.__getRegExpFlags=v,c})();typeof n=="object"&&n.exports&&(n.exports=i)}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function F(P,k){var U=[],O=!0,H=!1,G=void 0;try{for(var X=P[Symbol.iterator](),Z;!(O=(Z=X.next()).done)&&(U.push(Z.value),!(k&&U.length===k));O=!0);}catch(z){H=!0,G=z}finally{try{!O&&X.return&&X.return()}finally{if(H)throw G}}return U}return function(P,k){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return F(P,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=(function(){function F(P,k){for(var U=0;U<k.length;U++){var O=k[U];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(P,O.key,O)}}return function(P,k,U){return k&&F(P.prototype,k),U&&F(P,U),P}})(),o=function F(P,k,U){P===null&&(P=Function.prototype);var O=Object.getOwnPropertyDescriptor(P,k);if(O===void 0){var H=Object.getPrototypeOf(P);return H===null?void 0:F(H,k,U)}else{if("value"in O)return O.value;var G=O.get;return G===void 0?void 0:G.call(U)}},l=i(0),c=C(l),u=i(8),f=C(u),h=i(4),p=C(h),v=i(16),g=C(v),y=i(13),_=C(y),x=i(25),w=C(x);function C(F){return F&&F.__esModule?F:{default:F}}function S(F,P){if(!(F instanceof P))throw new TypeError("Cannot call a class as a function")}function R(F,P){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:F}function D(F,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);F.prototype=Object.create(P&&P.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(F,P):F.__proto__=P)}function N(F){return F instanceof p.default||F instanceof h.BlockEmbed}var I=(function(F){D(P,F);function P(k,U){S(this,P);var O=R(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,k));return O.emitter=U.emitter,Array.isArray(U.whitelist)&&(O.whitelist=U.whitelist.reduce(function(H,G){return H[G]=!0,H},{})),O.domNode.addEventListener("DOMNodeInserted",function(){}),O.optimize(),O.enable(),O}return a(P,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(U,O){var H=this.line(U),G=s(H,2),X=G[0],Z=G[1],z=this.line(U+O),Q=s(z,1),B=Q[0];if(o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"deleteAt",this).call(this,U,O),B!=null&&X!==B&&Z>0){if(X instanceof h.BlockEmbed||B instanceof h.BlockEmbed){this.optimize();return}if(X instanceof _.default){var j=X.newlineIndex(X.length(),!0);if(j>-1&&(X=X.split(j+1),X===B)){this.optimize();return}}else if(B instanceof _.default){var q=B.newlineIndex(0);q>-1&&B.split(q+1)}var J=B.children.head instanceof g.default?null:B.children.head;X.moveChildren(B,J),X.remove()}this.optimize()}},{key:"enable",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",U)}},{key:"formatAt",value:function(U,O,H,G){this.whitelist!=null&&!this.whitelist[H]||(o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"formatAt",this).call(this,U,O,H,G),this.optimize())}},{key:"insertAt",value:function(U,O,H){if(!(H!=null&&this.whitelist!=null&&!this.whitelist[O])){if(U>=this.length())if(H==null||c.default.query(O,c.default.Scope.BLOCK)==null){var G=c.default.create(this.statics.defaultChild);this.appendChild(G),H==null&&O.endsWith(`
`)&&(O=O.slice(0,-1)),G.insertAt(0,O,H)}else{var X=c.default.create(O,H);this.appendChild(X)}else o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,U,O,H);this.optimize()}}},{key:"insertBefore",value:function(U,O){if(U.statics.scope===c.default.Scope.INLINE_BLOT){var H=c.default.create(this.statics.defaultChild);H.appendChild(U),U=H}o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertBefore",this).call(this,U,O)}},{key:"leaf",value:function(U){return this.path(U).pop()||[null,-1]}},{key:"line",value:function(U){return U===this.length()?this.line(U-1):this.descendant(N,U)}},{key:"lines",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,H=function G(X,Z,z){var Q=[],B=z;return X.children.forEachAt(Z,z,function(j,q,J){N(j)?Q.push(j):j instanceof c.default.Container&&(Q=Q.concat(G(j,q,B))),B-=J}),Q};return H(this,U,O)}},{key:"optimize",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"optimize",this).call(this,U,O),U.length>0&&this.emitter.emit(f.default.events.SCROLL_OPTIMIZE,U,O))}},{key:"path",value:function(U){return o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"path",this).call(this,U).slice(1)}},{key:"update",value:function(U){if(this.batch!==!0){var O=f.default.sources.USER;typeof U=="string"&&(O=U),Array.isArray(U)||(U=this.observer.takeRecords()),U.length>0&&this.emitter.emit(f.default.events.SCROLL_BEFORE_UPDATE,O,U),o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"update",this).call(this,U.concat([])),U.length>0&&this.emitter.emit(f.default.events.SCROLL_UPDATE,O,U)}}}]),P})(c.default.Scroll);I.blotName="scroll",I.className="ql-editor",I.tagName="DIV",I.defaultChild="block",I.allowedChildren=[p.default,h.BlockEmbed,w.default],r.default=I}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},a=(function(){function te(oe,de){var fe=[],Ce=!0,Pe=!1,pe=void 0;try{for(var Me=oe[Symbol.iterator](),W;!(Ce=(W=Me.next()).done)&&(fe.push(W.value),!(de&&fe.length===de));Ce=!0);}catch(ge){Pe=!0,pe=ge}finally{try{!Ce&&Me.return&&Me.return()}finally{if(Pe)throw pe}}return fe}return function(oe,de){if(Array.isArray(oe))return oe;if(Symbol.iterator in Object(oe))return te(oe,de);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=(function(){function te(oe,de){for(var fe=0;fe<de.length;fe++){var Ce=de[fe];Ce.enumerable=Ce.enumerable||!1,Ce.configurable=!0,"value"in Ce&&(Ce.writable=!0),Object.defineProperty(oe,Ce.key,Ce)}}return function(oe,de,fe){return de&&te(oe.prototype,de),fe&&te(oe,fe),oe}})(),l=i(21),c=F(l),u=i(11),f=F(u),h=i(3),p=F(h),v=i(2),g=F(v),y=i(20),_=F(y),x=i(0),w=F(x),C=i(5),S=F(C),R=i(10),D=F(R),N=i(9),I=F(N);function F(te){return te&&te.__esModule?te:{default:te}}function P(te,oe,de){return oe in te?Object.defineProperty(te,oe,{value:de,enumerable:!0,configurable:!0,writable:!0}):te[oe]=de,te}function k(te,oe){if(!(te instanceof oe))throw new TypeError("Cannot call a class as a function")}function U(te,oe){if(!te)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return oe&&(typeof oe=="object"||typeof oe=="function")?oe:te}function O(te,oe){if(typeof oe!="function"&&oe!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof oe);te.prototype=Object.create(oe&&oe.prototype,{constructor:{value:te,enumerable:!1,writable:!0,configurable:!0}}),oe&&(Object.setPrototypeOf?Object.setPrototypeOf(te,oe):te.__proto__=oe)}var H=(0,D.default)("quill:keyboard"),G=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",X=(function(te){O(oe,te),o(oe,null,[{key:"match",value:function(fe,Ce){return Ce=Y(Ce),["altKey","ctrlKey","metaKey","shiftKey"].some(function(Pe){return!!Ce[Pe]!==fe[Pe]&&Ce[Pe]!==null})?!1:Ce.key===(fe.which||fe.keyCode)}}]);function oe(de,fe){k(this,oe);var Ce=U(this,(oe.__proto__||Object.getPrototypeOf(oe)).call(this,de,fe));return Ce.bindings={},Object.keys(Ce.options.bindings).forEach(function(Pe){Pe==="list autofill"&&de.scroll.whitelist!=null&&!de.scroll.whitelist.list||Ce.options.bindings[Pe]&&Ce.addBinding(Ce.options.bindings[Pe])}),Ce.addBinding({key:oe.keys.ENTER,shiftKey:null},j),Ce.addBinding({key:oe.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(Ce.addBinding({key:oe.keys.BACKSPACE},{collapsed:!0},z),Ce.addBinding({key:oe.keys.DELETE},{collapsed:!0},Q)):(Ce.addBinding({key:oe.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},z),Ce.addBinding({key:oe.keys.DELETE},{collapsed:!0,suffix:/^.?$/},Q)),Ce.addBinding({key:oe.keys.BACKSPACE},{collapsed:!1},B),Ce.addBinding({key:oe.keys.DELETE},{collapsed:!1},B),Ce.addBinding({key:oe.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},z),Ce.listen(),Ce}return o(oe,[{key:"addBinding",value:function(fe){var Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},pe=Y(fe);if(pe==null||pe.key==null)return H.warn("Attempted to add invalid keyboard binding",pe);typeof Ce=="function"&&(Ce={handler:Ce}),typeof Pe=="function"&&(Pe={handler:Pe}),pe=(0,p.default)(pe,Ce,Pe),this.bindings[pe.key]=this.bindings[pe.key]||[],this.bindings[pe.key].push(pe)}},{key:"listen",value:function(){var fe=this;this.quill.root.addEventListener("keydown",function(Ce){if(!Ce.defaultPrevented){var Pe=Ce.which||Ce.keyCode,pe=(fe.bindings[Pe]||[]).filter(function(Oe){return oe.match(Ce,Oe)});if(pe.length!==0){var Me=fe.quill.getSelection();if(!(Me==null||!fe.quill.hasFocus())){var W=fe.quill.getLine(Me.index),ge=a(W,2),_e=ge[0],ce=ge[1],re=fe.quill.getLeaf(Me.index),le=a(re,2),ke=le[0],Ne=le[1],ie=Me.length===0?[ke,Ne]:fe.quill.getLeaf(Me.index+Me.length),ue=a(ie,2),ve=ue[0],be=ue[1],Ie=ke instanceof w.default.Text?ke.value().slice(0,Ne):"",Le=ve instanceof w.default.Text?ve.value().slice(be):"",Te={collapsed:Me.length===0,empty:Me.length===0&&_e.length()<=1,format:fe.quill.getFormat(Me),offset:ce,prefix:Ie,suffix:Le},Ue=pe.some(function(Oe){if(Oe.collapsed!=null&&Oe.collapsed!==Te.collapsed||Oe.empty!=null&&Oe.empty!==Te.empty||Oe.offset!=null&&Oe.offset!==Te.offset)return!1;if(Array.isArray(Oe.format)){if(Oe.format.every(function(Je){return Te.format[Je]==null}))return!1}else if(s(Oe.format)==="object"&&!Object.keys(Oe.format).every(function(Je){return Oe.format[Je]===!0?Te.format[Je]!=null:Oe.format[Je]===!1?Te.format[Je]==null:(0,f.default)(Oe.format[Je],Te.format[Je])}))return!1;return Oe.prefix!=null&&!Oe.prefix.test(Te.prefix)||Oe.suffix!=null&&!Oe.suffix.test(Te.suffix)?!1:Oe.handler.call(fe,Me,Te)!==!0});Ue&&Ce.preventDefault()}}}})}}]),oe})(I.default);X.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},X.DEFAULTS={bindings:{bold:J("bold"),italic:J("italic"),underline:J("underline"),indent:{key:X.keys.TAB,format:["blockquote","indent","list"],handler:function(oe,de){if(de.collapsed&&de.offset!==0)return!0;this.quill.format("indent","+1",S.default.sources.USER)}},outdent:{key:X.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(oe,de){if(de.collapsed&&de.offset!==0)return!0;this.quill.format("indent","-1",S.default.sources.USER)}},"outdent backspace":{key:X.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(oe,de){de.format.indent!=null?this.quill.format("indent","-1",S.default.sources.USER):de.format.list!=null&&this.quill.format("list",!1,S.default.sources.USER)}},"indent code-block":q(!0),"outdent code-block":q(!1),"remove tab":{key:X.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(oe){this.quill.deleteText(oe.index-1,1,S.default.sources.USER)}},tab:{key:X.keys.TAB,handler:function(oe){this.quill.history.cutoff();var de=new g.default().retain(oe.index).delete(oe.length).insert("	");this.quill.updateContents(de,S.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(oe.index+1,S.default.sources.SILENT)}},"list empty enter":{key:X.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(oe,de){this.quill.format("list",!1,S.default.sources.USER),de.format.indent&&this.quill.format("indent",!1,S.default.sources.USER)}},"checklist enter":{key:X.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(oe){var de=this.quill.getLine(oe.index),fe=a(de,2),Ce=fe[0],Pe=fe[1],pe=(0,p.default)({},Ce.formats(),{list:"checked"}),Me=new g.default().retain(oe.index).insert(`
`,pe).retain(Ce.length()-Pe-1).retain(1,{list:"unchecked"});this.quill.updateContents(Me,S.default.sources.USER),this.quill.setSelection(oe.index+1,S.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:X.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(oe,de){var fe=this.quill.getLine(oe.index),Ce=a(fe,2),Pe=Ce[0],pe=Ce[1],Me=new g.default().retain(oe.index).insert(`
`,de.format).retain(Pe.length()-pe-1).retain(1,{header:null});this.quill.updateContents(Me,S.default.sources.USER),this.quill.setSelection(oe.index+1,S.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(oe,de){var fe=de.prefix.length,Ce=this.quill.getLine(oe.index),Pe=a(Ce,2),pe=Pe[0],Me=Pe[1];if(Me>fe)return!0;var W=void 0;switch(de.prefix.trim()){case"[]":case"[ ]":W="unchecked";break;case"[x]":W="checked";break;case"-":case"*":W="bullet";break;default:W="ordered"}this.quill.insertText(oe.index," ",S.default.sources.USER),this.quill.history.cutoff();var ge=new g.default().retain(oe.index-Me).delete(fe+1).retain(pe.length()-2-Me).retain(1,{list:W});this.quill.updateContents(ge,S.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(oe.index-fe,S.default.sources.SILENT)}},"code exit":{key:X.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(oe){var de=this.quill.getLine(oe.index),fe=a(de,2),Ce=fe[0],Pe=fe[1],pe=new g.default().retain(oe.index+Ce.length()-Pe-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(pe,S.default.sources.USER)}},"embed left":Z(X.keys.LEFT,!1),"embed left shift":Z(X.keys.LEFT,!0),"embed right":Z(X.keys.RIGHT,!1),"embed right shift":Z(X.keys.RIGHT,!0)}};function Z(te,oe){var de,fe=te===X.keys.LEFT?"prefix":"suffix";return de={key:te,shiftKey:oe,altKey:null},P(de,fe,/^$/),P(de,"handler",function(Pe){var pe=Pe.index;te===X.keys.RIGHT&&(pe+=Pe.length+1);var Me=this.quill.getLeaf(pe),W=a(Me,1),ge=W[0];return ge instanceof w.default.Embed?(te===X.keys.LEFT?oe?this.quill.setSelection(Pe.index-1,Pe.length+1,S.default.sources.USER):this.quill.setSelection(Pe.index-1,S.default.sources.USER):oe?this.quill.setSelection(Pe.index,Pe.length+1,S.default.sources.USER):this.quill.setSelection(Pe.index+Pe.length+1,S.default.sources.USER),!1):!0}),de}function z(te,oe){if(!(te.index===0||this.quill.getLength()<=1)){var de=this.quill.getLine(te.index),fe=a(de,1),Ce=fe[0],Pe={};if(oe.offset===0){var pe=this.quill.getLine(te.index-1),Me=a(pe,1),W=Me[0];if(W!=null&&W.length()>1){var ge=Ce.formats(),_e=this.quill.getFormat(te.index-1,1);Pe=_.default.attributes.diff(ge,_e)||{}}}var ce=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(oe.prefix)?2:1;this.quill.deleteText(te.index-ce,ce,S.default.sources.USER),Object.keys(Pe).length>0&&this.quill.formatLine(te.index-ce,ce,Pe,S.default.sources.USER),this.quill.focus()}}function Q(te,oe){var de=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(oe.suffix)?2:1;if(!(te.index>=this.quill.getLength()-de)){var fe={},Ce=0,Pe=this.quill.getLine(te.index),pe=a(Pe,1),Me=pe[0];if(oe.offset>=Me.length()-1){var W=this.quill.getLine(te.index+1),ge=a(W,1),_e=ge[0];if(_e){var ce=Me.formats(),re=this.quill.getFormat(te.index,1);fe=_.default.attributes.diff(ce,re)||{},Ce=_e.length()}}this.quill.deleteText(te.index,de,S.default.sources.USER),Object.keys(fe).length>0&&this.quill.formatLine(te.index+Ce-1,de,fe,S.default.sources.USER)}}function B(te){var oe=this.quill.getLines(te),de={};if(oe.length>1){var fe=oe[0].formats(),Ce=oe[oe.length-1].formats();de=_.default.attributes.diff(Ce,fe)||{}}this.quill.deleteText(te,S.default.sources.USER),Object.keys(de).length>0&&this.quill.formatLine(te.index,1,de,S.default.sources.USER),this.quill.setSelection(te.index,S.default.sources.SILENT),this.quill.focus()}function j(te,oe){var de=this;te.length>0&&this.quill.scroll.deleteAt(te.index,te.length);var fe=Object.keys(oe.format).reduce(function(Ce,Pe){return w.default.query(Pe,w.default.Scope.BLOCK)&&!Array.isArray(oe.format[Pe])&&(Ce[Pe]=oe.format[Pe]),Ce},{});this.quill.insertText(te.index,`
`,fe,S.default.sources.USER),this.quill.setSelection(te.index+1,S.default.sources.SILENT),this.quill.focus(),Object.keys(oe.format).forEach(function(Ce){fe[Ce]==null&&(Array.isArray(oe.format[Ce])||Ce!=="link"&&de.quill.format(Ce,oe.format[Ce],S.default.sources.USER))})}function q(te){return{key:X.keys.TAB,shiftKey:!te,format:{"code-block":!0},handler:function(de){var fe=w.default.query("code-block"),Ce=de.index,Pe=de.length,pe=this.quill.scroll.descendant(fe,Ce),Me=a(pe,2),W=Me[0],ge=Me[1];if(W!=null){var _e=this.quill.getIndex(W),ce=W.newlineIndex(ge,!0)+1,re=W.newlineIndex(_e+ge+Pe),le=W.domNode.textContent.slice(ce,re).split(`
`);ge=0,le.forEach(function(ke,Ne){te?(W.insertAt(ce+ge,fe.TAB),ge+=fe.TAB.length,Ne===0?Ce+=fe.TAB.length:Pe+=fe.TAB.length):ke.startsWith(fe.TAB)&&(W.deleteAt(ce+ge,fe.TAB.length),ge-=fe.TAB.length,Ne===0?Ce-=fe.TAB.length:Pe-=fe.TAB.length),ge+=ke.length+1}),this.quill.update(S.default.sources.USER),this.quill.setSelection(Ce,Pe,S.default.sources.SILENT)}}}}function J(te){return{key:te[0].toUpperCase(),shortKey:!0,handler:function(de,fe){this.quill.format(te,!fe.format[te],S.default.sources.USER)}}}function Y(te){if(typeof te=="string"||typeof te=="number")return Y({key:te});if((typeof te>"u"?"undefined":s(te))==="object"&&(te=(0,c.default)(te,!1)),typeof te.key=="string")if(X.keys[te.key.toUpperCase()]!=null)te.key=X.keys[te.key.toUpperCase()];else if(te.key.length===1)te.key=te.key.toUpperCase().charCodeAt(0);else return null;return te.shortKey&&(te[G]=te.shortKey,delete te.shortKey),te}r.default=X,r.SHORTKEY=G}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function _(x,w){var C=[],S=!0,R=!1,D=void 0;try{for(var N=x[Symbol.iterator](),I;!(S=(I=N.next()).done)&&(C.push(I.value),!(w&&C.length===w));S=!0);}catch(F){R=!0,D=F}finally{try{!S&&N.return&&N.return()}finally{if(R)throw D}}return C}return function(x,w){if(Array.isArray(x))return x;if(Symbol.iterator in Object(x))return _(x,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=function _(x,w,C){x===null&&(x=Function.prototype);var S=Object.getOwnPropertyDescriptor(x,w);if(S===void 0){var R=Object.getPrototypeOf(x);return R===null?void 0:_(R,w,C)}else{if("value"in S)return S.value;var D=S.get;return D===void 0?void 0:D.call(C)}},o=(function(){function _(x,w){for(var C=0;C<w.length;C++){var S=w[C];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(x,S.key,S)}}return function(x,w,C){return w&&_(x.prototype,w),C&&_(x,C),x}})(),l=i(0),c=h(l),u=i(7),f=h(u);function h(_){return _&&_.__esModule?_:{default:_}}function p(_,x){if(!(_ instanceof x))throw new TypeError("Cannot call a class as a function")}function v(_,x){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:_}function g(_,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);_.prototype=Object.create(x&&x.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(_,x):_.__proto__=x)}var y=(function(_){g(x,_),o(x,null,[{key:"value",value:function(){}}]);function x(w,C){p(this,x);var S=v(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,w));return S.selection=C,S.textNode=document.createTextNode(x.CONTENTS),S.domNode.appendChild(S.textNode),S._length=0,S}return o(x,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(C,S){if(this._length!==0)return a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"format",this).call(this,C,S);for(var R=this,D=0;R!=null&&R.statics.scope!==c.default.Scope.BLOCK_BLOT;)D+=R.offset(R.parent),R=R.parent;R!=null&&(this._length=x.CONTENTS.length,R.optimize(),R.formatAt(D,x.CONTENTS.length,C,S),this._length=0)}},{key:"index",value:function(C,S){return C===this.textNode?0:a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"index",this).call(this,C,S)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var C=this.textNode,S=this.selection.getNativeRange(),R=void 0,D=void 0,N=void 0;if(S!=null&&S.start.node===C&&S.end.node===C){var I=[C,S.start.offset,S.end.offset];R=I[0],D=I[1],N=I[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==x.CONTENTS){var F=this.textNode.data.split(x.CONTENTS).join("");this.next instanceof f.default?(R=this.next.domNode,this.next.insertAt(0,F),this.textNode.data=x.CONTENTS):(this.textNode.data=F,this.parent.insertBefore(c.default.create(this.textNode),this),this.textNode=document.createTextNode(x.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),D!=null){var P=[D,N].map(function(U){return Math.max(0,Math.min(R.data.length,U-1))}),k=s(P,2);return D=k[0],N=k[1],{startNode:R,startOffset:D,endNode:R,endOffset:N}}}}},{key:"update",value:function(C,S){var R=this;if(C.some(function(N){return N.type==="characterData"&&N.target===R.textNode})){var D=this.restore();D&&(S.range=D)}}},{key:"value",value:function(){return""}}]),x})(c.default.Embed);y.blotName="cursor",y.className="ql-cursor",y.tagName="span",y.CONTENTS="\uFEFF",r.default=y}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),a=c(s),o=i(4),l=c(o);function c(v){return v&&v.__esModule?v:{default:v}}function u(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function f(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function h(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=(function(v){h(g,v);function g(){return u(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g})(a.default.Container);p.allowedChildren=[l.default,o.BlockEmbed,p],r.default=p}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var s=(function(){function y(_,x){for(var w=0;w<x.length;w++){var C=x[w];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(_,C.key,C)}}return function(_,x,w){return x&&y(_.prototype,x),w&&y(_,w),_}})(),a=function y(_,x,w){_===null&&(_=Function.prototype);var C=Object.getOwnPropertyDescriptor(_,x);if(C===void 0){var S=Object.getPrototypeOf(_);return S===null?void 0:y(S,x,w)}else{if("value"in C)return C.value;var R=C.get;return R===void 0?void 0:R.call(w)}},o=i(0),l=c(o);function c(y){return y&&y.__esModule?y:{default:y}}function u(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")}function f(y,_){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:y}function h(y,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);y.prototype=Object.create(_&&_.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(y,_):y.__proto__=_)}var p=(function(y){h(_,y);function _(){return u(this,_),f(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return s(_,[{key:"value",value:function(w){var C=a(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"value",this).call(this,w);return C.startsWith("rgb(")?(C=C.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+C.split(",").map(function(S){return("00"+parseInt(S).toString(16)).slice(-2)}).join("")):C}}]),_})(l.default.Attributor.Style),v=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),g=new p("color","color",{scope:l.default.Scope.INLINE});r.ColorAttributor=p,r.ColorClass=v,r.ColorStyle=g}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var s=(function(){function g(y,_){for(var x=0;x<_.length;x++){var w=_[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}return function(y,_,x){return _&&g(y.prototype,_),x&&g(y,x),y}})(),a=function g(y,_,x){y===null&&(y=Function.prototype);var w=Object.getOwnPropertyDescriptor(y,_);if(w===void 0){var C=Object.getPrototypeOf(y);return C===null?void 0:g(C,_,x)}else{if("value"in w)return w.value;var S=w.get;return S===void 0?void 0:S.call(x)}},o=i(6),l=c(o);function c(g){return g&&g.__esModule?g:{default:g}}function u(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function f(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function h(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var p=(function(g){h(y,g);function y(){return u(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,[{key:"format",value:function(x,w){if(x!==this.statics.blotName||!w)return a(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,x,w);w=this.constructor.sanitize(w),this.domNode.setAttribute("href",w)}}],[{key:"create",value:function(x){var w=a(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,x);return x=this.sanitize(x),w.setAttribute("href",x),w.setAttribute("rel","noopener noreferrer"),w.setAttribute("target","_blank"),w}},{key:"formats",value:function(x){return x.getAttribute("href")}},{key:"sanitize",value:function(x){return v(x,this.PROTOCOL_WHITELIST)?x:this.SANITIZED_URL}}]),y})(l.default);p.blotName="link",p.tagName="A",p.SANITIZED_URL="about:blank",p.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function v(g,y){var _=document.createElement("a");_.href=g;var x=_.href.slice(0,_.href.indexOf(":"));return y.indexOf(x)>-1}r.default=p,r.sanitize=v}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},a=(function(){function y(_,x){for(var w=0;w<x.length;w++){var C=x[w];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(_,C.key,C)}}return function(_,x,w){return x&&y(_.prototype,x),w&&y(_,w),_}})(),o=i(23),l=f(o),c=i(107),u=f(c);function f(y){return y&&y.__esModule?y:{default:y}}function h(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")}var p=0;function v(y,_){y.setAttribute(_,y.getAttribute(_)!=="true")}var g=(function(){function y(_){var x=this;h(this,y),this.select=_,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){x.togglePicker()}),this.label.addEventListener("keydown",function(w){switch(w.keyCode){case l.default.keys.ENTER:x.togglePicker();break;case l.default.keys.ESCAPE:x.escape(),w.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return a(y,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),v(this.label,"aria-expanded"),v(this.options,"aria-hidden")}},{key:"buildItem",value:function(x){var w=this,C=document.createElement("span");return C.tabIndex="0",C.setAttribute("role","button"),C.classList.add("ql-picker-item"),x.hasAttribute("value")&&C.setAttribute("data-value",x.getAttribute("value")),x.textContent&&C.setAttribute("data-label",x.textContent),C.addEventListener("click",function(){w.selectItem(C,!0)}),C.addEventListener("keydown",function(S){switch(S.keyCode){case l.default.keys.ENTER:w.selectItem(C,!0),S.preventDefault();break;case l.default.keys.ESCAPE:w.escape(),S.preventDefault();break}}),C}},{key:"buildLabel",value:function(){var x=document.createElement("span");return x.classList.add("ql-picker-label"),x.innerHTML=u.default,x.tabIndex="0",x.setAttribute("role","button"),x.setAttribute("aria-expanded","false"),this.container.appendChild(x),x}},{key:"buildOptions",value:function(){var x=this,w=document.createElement("span");w.classList.add("ql-picker-options"),w.setAttribute("aria-hidden","true"),w.tabIndex="-1",w.id="ql-picker-options-"+p,p+=1,this.label.setAttribute("aria-controls",w.id),this.options=w,[].slice.call(this.select.options).forEach(function(C){var S=x.buildItem(C);w.appendChild(S),C.selected===!0&&x.selectItem(S)}),this.container.appendChild(w)}},{key:"buildPicker",value:function(){var x=this;[].slice.call(this.select.attributes).forEach(function(w){x.container.setAttribute(w.name,w.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var x=this;this.close(),setTimeout(function(){return x.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(x){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,C=this.container.querySelector(".ql-selected");if(x!==C&&(C!=null&&C.classList.remove("ql-selected"),x!=null&&(x.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(x.parentNode.children,x),x.hasAttribute("data-value")?this.label.setAttribute("data-value",x.getAttribute("data-value")):this.label.removeAttribute("data-value"),x.hasAttribute("data-label")?this.label.setAttribute("data-label",x.getAttribute("data-label")):this.label.removeAttribute("data-label"),w))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":s(Event))==="object"){var S=document.createEvent("Event");S.initEvent("change",!0,!0),this.select.dispatchEvent(S)}this.close()}}},{key:"update",value:function(){var x=void 0;if(this.select.selectedIndex>-1){var w=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];x=this.select.options[this.select.selectedIndex],this.selectItem(w)}else this.selectItem(null);var C=x!=null&&x!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",C)}}]),y})();r.default=g}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),a=H(s),o=i(5),l=H(o),c=i(4),u=H(c),f=i(16),h=H(f),p=i(25),v=H(p),g=i(24),y=H(g),_=i(35),x=H(_),w=i(6),C=H(w),S=i(22),R=H(S),D=i(7),N=H(D),I=i(55),F=H(I),P=i(42),k=H(P),U=i(23),O=H(U);function H(G){return G&&G.__esModule?G:{default:G}}l.default.register({"blots/block":u.default,"blots/block/embed":c.BlockEmbed,"blots/break":h.default,"blots/container":v.default,"blots/cursor":y.default,"blots/embed":x.default,"blots/inline":C.default,"blots/scroll":R.default,"blots/text":N.default,"modules/clipboard":F.default,"modules/history":k.default,"modules/keyboard":O.default}),a.default.register(u.default,h.default,y.default,C.default,R.default,N.default),r.default=l.default}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(1),a=(function(){function o(l){this.domNode=l,this.domNode[s.DATA_KEY]={blot:this}}return Object.defineProperty(o.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),o.create=function(l){if(this.tagName==null)throw new s.ParchmentError("Blot definition missing tagName");var c;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?c=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?c=document.createElement(l):c=document.createElement(this.tagName[0])):c=document.createElement(this.tagName),this.className&&c.classList.add(this.className),c},o.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},o.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return s.create(l)},o.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[s.DATA_KEY]},o.prototype.deleteAt=function(l,c){var u=this.isolate(l,c);u.remove()},o.prototype.formatAt=function(l,c,u,f){var h=this.isolate(l,c);if(s.query(u,s.Scope.BLOT)!=null&&f)h.wrap(u,f);else if(s.query(u,s.Scope.ATTRIBUTE)!=null){var p=s.create(this.statics.scope);h.wrap(p),p.format(u,f)}},o.prototype.insertAt=function(l,c,u){var f=u==null?s.create("text",c):s.create(c,u),h=this.split(l);this.parent.insertBefore(f,h)},o.prototype.insertInto=function(l,c){c===void 0&&(c=null),this.parent!=null&&this.parent.children.remove(this);var u=null;l.children.insertBefore(this,c),c!=null&&(u=c.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=u)&&l.domNode.insertBefore(this.domNode,u),this.parent=l,this.attach()},o.prototype.isolate=function(l,c){var u=this.split(l);return u.split(c),u},o.prototype.length=function(){return 1},o.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},o.prototype.optimize=function(l){this.domNode[s.DATA_KEY]!=null&&delete this.domNode[s.DATA_KEY].mutations},o.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},o.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},o.prototype.replaceWith=function(l,c){var u=typeof l=="string"?s.create(l,c):l;return u.replace(this),u},o.prototype.split=function(l,c){return l===0?this:this.next},o.prototype.update=function(l,c){},o.prototype.wrap=function(l,c){var u=typeof l=="string"?s.create(l,c):l;return this.parent!=null&&this.parent.insertBefore(u,this.next),u.appendChild(this),u},o.blotName="abstract",o})();r.default=a}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),a=i(32),o=i(33),l=i(1),c=(function(){function u(f){this.attributes={},this.domNode=f,this.build()}return u.prototype.attribute=function(f,h){h?f.add(this.domNode,h)&&(f.value(this.domNode)!=null?this.attributes[f.attrName]=f:delete this.attributes[f.attrName]):(f.remove(this.domNode),delete this.attributes[f.attrName])},u.prototype.build=function(){var f=this;this.attributes={};var h=s.default.keys(this.domNode),p=a.default.keys(this.domNode),v=o.default.keys(this.domNode);h.concat(p).concat(v).forEach(function(g){var y=l.query(g,l.Scope.ATTRIBUTE);y instanceof s.default&&(f.attributes[y.attrName]=y)})},u.prototype.copy=function(f){var h=this;Object.keys(this.attributes).forEach(function(p){var v=h.attributes[p].value(h.domNode);f.format(p,v)})},u.prototype.move=function(f){var h=this;this.copy(f),Object.keys(this.attributes).forEach(function(p){h.attributes[p].remove(h.domNode)}),this.attributes={}},u.prototype.values=function(){var f=this;return Object.keys(this.attributes).reduce(function(h,p){return h[p]=f.attributes[p].value(f.domNode),h},{})},u})();r.default=c}),(function(n,r,i){var s=this&&this.__extends||(function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){c(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(12);function o(c,u){var f=c.getAttribute("class")||"";return f.split(/\s+/).filter(function(h){return h.indexOf(u+"-")===0})}var l=(function(c){s(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.keys=function(f){return(f.getAttribute("class")||"").split(/\s+/).map(function(h){return h.split("-").slice(0,-1).join("-")})},u.prototype.add=function(f,h){return this.canAdd(f,h)?(this.remove(f),f.classList.add(this.keyName+"-"+h),!0):!1},u.prototype.remove=function(f){var h=o(f,this.keyName);h.forEach(function(p){f.classList.remove(p)}),f.classList.length===0&&f.removeAttribute("class")},u.prototype.value=function(f){var h=o(f,this.keyName)[0]||"",p=h.slice(this.keyName.length+1);return this.canAdd(f,p)?p:""},u})(a.default);r.default=l}),(function(n,r,i){var s=this&&this.__extends||(function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){c(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(12);function o(c){var u=c.split("-"),f=u.slice(1).map(function(h){return h[0].toUpperCase()+h.slice(1)}).join("");return u[0]+f}var l=(function(c){s(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.keys=function(f){return(f.getAttribute("style")||"").split(";").map(function(h){var p=h.split(":");return p[0].trim()})},u.prototype.add=function(f,h){return this.canAdd(f,h)?(f.style[o(this.keyName)]=h,!0):!1},u.prototype.remove=function(f){f.style[o(this.keyName)]="",f.getAttribute("style")||f.removeAttribute("style")},u.prototype.value=function(f){var h=f.style[o(this.keyName)];return this.canAdd(f,h)?h:""},u})(a.default);r.default=l}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function l(c,u){for(var f=0;f<u.length;f++){var h=u[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(c,h.key,h)}}return function(c,u,f){return u&&l(c.prototype,u),f&&l(c,f),c}})();function a(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var o=(function(){function l(c,u){a(this,l),this.quill=c,this.options=u,this.modules={}}return s(l,[{key:"init",value:function(){var u=this;Object.keys(this.options.modules).forEach(function(f){u.modules[f]==null&&u.addModule(f)})}},{key:"addModule",value:function(u){var f=this.quill.constructor.import("modules/"+u);return this.modules[u]=new f(this.quill,this.options.modules[u]||{}),this.modules[u]}}]),l})();o.DEFAULTS={modules:{}},o.themes={default:o},r.default=o}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function _(x,w){for(var C=0;C<w.length;C++){var S=w[C];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(x,S.key,S)}}return function(x,w,C){return w&&_(x.prototype,w),C&&_(x,C),x}})(),a=function _(x,w,C){x===null&&(x=Function.prototype);var S=Object.getOwnPropertyDescriptor(x,w);if(S===void 0){var R=Object.getPrototypeOf(x);return R===null?void 0:_(R,w,C)}else{if("value"in S)return S.value;var D=S.get;return D===void 0?void 0:D.call(C)}},o=i(0),l=f(o),c=i(7),u=f(c);function f(_){return _&&_.__esModule?_:{default:_}}function h(_,x){if(!(_ instanceof x))throw new TypeError("Cannot call a class as a function")}function p(_,x){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:_}function v(_,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);_.prototype=Object.create(x&&x.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(_,x):_.__proto__=x)}var g="\uFEFF",y=(function(_){v(x,_);function x(w){h(this,x);var C=p(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,w));return C.contentNode=document.createElement("span"),C.contentNode.setAttribute("contenteditable",!1),[].slice.call(C.domNode.childNodes).forEach(function(S){C.contentNode.appendChild(S)}),C.leftGuard=document.createTextNode(g),C.rightGuard=document.createTextNode(g),C.domNode.appendChild(C.leftGuard),C.domNode.appendChild(C.contentNode),C.domNode.appendChild(C.rightGuard),C}return s(x,[{key:"index",value:function(C,S){return C===this.leftGuard?0:C===this.rightGuard?1:a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"index",this).call(this,C,S)}},{key:"restore",value:function(C){var S=void 0,R=void 0,D=C.data.split(g).join("");if(C===this.leftGuard)if(this.prev instanceof u.default){var N=this.prev.length();this.prev.insertAt(N,D),S={startNode:this.prev.domNode,startOffset:N+D.length}}else R=document.createTextNode(D),this.parent.insertBefore(l.default.create(R),this),S={startNode:R,startOffset:D.length};else C===this.rightGuard&&(this.next instanceof u.default?(this.next.insertAt(0,D),S={startNode:this.next.domNode,startOffset:D.length}):(R=document.createTextNode(D),this.parent.insertBefore(l.default.create(R),this.next),S={startNode:R,startOffset:D.length}));return C.data=g,S}},{key:"update",value:function(C,S){var R=this;C.forEach(function(D){if(D.type==="characterData"&&(D.target===R.leftGuard||D.target===R.rightGuard)){var N=R.restore(D.target);N&&(S.range=N)}})}}]),x})(l.default.Embed);r.default=y}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var s=i(0),a=o(s);function o(h){return h&&h.__esModule?h:{default:h}}var l={scope:a.default.Scope.BLOCK,whitelist:["right","center","justify"]},c=new a.default.Attributor.Attribute("align","align",l),u=new a.default.Attributor.Class("align","ql-align",l),f=new a.default.Attributor.Style("align","text-align",l);r.AlignAttribute=c,r.AlignClass=u,r.AlignStyle=f}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var s=i(0),a=l(s),o=i(26);function l(f){return f&&f.__esModule?f:{default:f}}var c=new a.default.Attributor.Class("background","ql-bg",{scope:a.default.Scope.INLINE}),u=new o.ColorAttributor("background","background-color",{scope:a.default.Scope.INLINE});r.BackgroundClass=c,r.BackgroundStyle=u}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var s=i(0),a=o(s);function o(h){return h&&h.__esModule?h:{default:h}}var l={scope:a.default.Scope.BLOCK,whitelist:["rtl"]},c=new a.default.Attributor.Attribute("direction","dir",l),u=new a.default.Attributor.Class("direction","ql-direction",l),f=new a.default.Attributor.Style("direction","direction",l);r.DirectionAttribute=c,r.DirectionClass=u,r.DirectionStyle=f}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var s=(function(){function _(x,w){for(var C=0;C<w.length;C++){var S=w[C];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(x,S.key,S)}}return function(x,w,C){return w&&_(x.prototype,w),C&&_(x,C),x}})(),a=function _(x,w,C){x===null&&(x=Function.prototype);var S=Object.getOwnPropertyDescriptor(x,w);if(S===void 0){var R=Object.getPrototypeOf(x);return R===null?void 0:_(R,w,C)}else{if("value"in S)return S.value;var D=S.get;return D===void 0?void 0:D.call(C)}},o=i(0),l=c(o);function c(_){return _&&_.__esModule?_:{default:_}}function u(_,x){if(!(_ instanceof x))throw new TypeError("Cannot call a class as a function")}function f(_,x){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:_}function h(_,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);_.prototype=Object.create(x&&x.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(_,x):_.__proto__=x)}var p={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},v=new l.default.Attributor.Class("font","ql-font",p),g=(function(_){h(x,_);function x(){return u(this,x),f(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return s(x,[{key:"value",value:function(C){return a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"value",this).call(this,C).replace(/["']/g,"")}}]),x})(l.default.Attributor.Style),y=new g("font","font-family",p);r.FontStyle=y,r.FontClass=v}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var s=i(0),a=o(s);function o(u){return u&&u.__esModule?u:{default:u}}var l=new a.default.Attributor.Class("size","ql-size",{scope:a.default.Scope.INLINE,whitelist:["small","large","huge"]}),c=new a.default.Attributor.Style("size","font-size",{scope:a.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=l,r.SizeStyle=c}),(function(n,r,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var s=(function(){function w(C,S){for(var R=0;R<S.length;R++){var D=S[R];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(C,D.key,D)}}return function(C,S,R){return S&&w(C.prototype,S),R&&w(C,R),C}})(),a=i(0),o=h(a),l=i(5),c=h(l),u=i(9),f=h(u);function h(w){return w&&w.__esModule?w:{default:w}}function p(w,C){if(!(w instanceof C))throw new TypeError("Cannot call a class as a function")}function v(w,C){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:w}function g(w,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);w.prototype=Object.create(C&&C.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(w,C):w.__proto__=C)}var y=(function(w){g(C,w);function C(S,R){p(this,C);var D=v(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,S,R));return D.lastRecorded=0,D.ignoreChange=!1,D.clear(),D.quill.on(c.default.events.EDITOR_CHANGE,function(N,I,F,P){N!==c.default.events.TEXT_CHANGE||D.ignoreChange||(!D.options.userOnly||P===c.default.sources.USER?D.record(I,F):D.transform(I))}),D.quill.keyboard.addBinding({key:"Z",shortKey:!0},D.undo.bind(D)),D.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},D.redo.bind(D)),/Win/i.test(navigator.platform)&&D.quill.keyboard.addBinding({key:"Y",shortKey:!0},D.redo.bind(D)),D}return s(C,[{key:"change",value:function(R,D){if(this.stack[R].length!==0){var N=this.stack[R].pop();this.stack[D].push(N),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(N[R],c.default.sources.USER),this.ignoreChange=!1;var I=x(N[R]);this.quill.setSelection(I)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(R,D){if(R.ops.length!==0){this.stack.redo=[];var N=this.quill.getContents().diff(D),I=Date.now();if(this.lastRecorded+this.options.delay>I&&this.stack.undo.length>0){var F=this.stack.undo.pop();N=N.compose(F.undo),R=F.redo.compose(R)}else this.lastRecorded=I;this.stack.undo.push({redo:R,undo:N}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(R){this.stack.undo.forEach(function(D){D.undo=R.transform(D.undo,!0),D.redo=R.transform(D.redo,!0)}),this.stack.redo.forEach(function(D){D.undo=R.transform(D.undo,!0),D.redo=R.transform(D.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),C})(f.default);y.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function _(w){var C=w.ops[w.ops.length-1];return C==null?!1:C.insert!=null?typeof C.insert=="string"&&C.insert.endsWith(`
`):C.attributes!=null?Object.keys(C.attributes).some(function(S){return o.default.query(S,o.default.Scope.BLOCK)!=null}):!1}function x(w){var C=w.reduce(function(R,D){return R+=D.delete||0,R},0),S=w.length()-C;return _(w)&&(S-=1),S}r.default=y,r.getLastChangeIndex=x}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var s=(function(){function j(q,J){for(var Y=0;Y<J.length;Y++){var te=J[Y];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(q,te.key,te)}}return function(q,J,Y){return J&&j(q.prototype,J),Y&&j(q,Y),q}})(),a=function j(q,J,Y){q===null&&(q=Function.prototype);var te=Object.getOwnPropertyDescriptor(q,J);if(te===void 0){var oe=Object.getPrototypeOf(q);return oe===null?void 0:j(oe,J,Y)}else{if("value"in te)return te.value;var de=te.get;return de===void 0?void 0:de.call(Y)}},o=i(3),l=I(o),c=i(2),u=I(c),f=i(8),h=I(f),p=i(23),v=I(p),g=i(34),y=I(g),_=i(59),x=I(_),w=i(60),C=I(w),S=i(28),R=I(S),D=i(61),N=I(D);function I(j){return j&&j.__esModule?j:{default:j}}function F(j,q){if(!(j instanceof q))throw new TypeError("Cannot call a class as a function")}function P(j,q){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q&&(typeof q=="object"||typeof q=="function")?q:j}function k(j,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof q);j.prototype=Object.create(q&&q.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(j,q):j.__proto__=q)}var U=[!1,"center","right","justify"],O=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],H=[!1,"serif","monospace"],G=["1","2","3",!1],X=["small",!1,"large","huge"],Z=(function(j){k(q,j);function q(J,Y){F(this,q);var te=P(this,(q.__proto__||Object.getPrototypeOf(q)).call(this,J,Y)),oe=function de(fe){if(!document.body.contains(J.root))return document.body.removeEventListener("click",de);te.tooltip!=null&&!te.tooltip.root.contains(fe.target)&&document.activeElement!==te.tooltip.textbox&&!te.quill.hasFocus()&&te.tooltip.hide(),te.pickers!=null&&te.pickers.forEach(function(Ce){Ce.container.contains(fe.target)||Ce.close()})};return J.emitter.listenDOM("click",document.body,oe),te}return s(q,[{key:"addModule",value:function(Y){var te=a(q.prototype.__proto__||Object.getPrototypeOf(q.prototype),"addModule",this).call(this,Y);return Y==="toolbar"&&this.extendToolbar(te),te}},{key:"buildButtons",value:function(Y,te){Y.forEach(function(oe){var de=oe.getAttribute("class")||"";de.split(/\s+/).forEach(function(fe){if(fe.startsWith("ql-")&&(fe=fe.slice(3),te[fe]!=null))if(fe==="direction")oe.innerHTML=te[fe][""]+te[fe].rtl;else if(typeof te[fe]=="string")oe.innerHTML=te[fe];else{var Ce=oe.value||"";Ce!=null&&te[fe][Ce]&&(oe.innerHTML=te[fe][Ce])}})})}},{key:"buildPickers",value:function(Y,te){var oe=this;this.pickers=Y.map(function(fe){if(fe.classList.contains("ql-align"))return fe.querySelector("option")==null&&B(fe,U),new C.default(fe,te.align);if(fe.classList.contains("ql-background")||fe.classList.contains("ql-color")){var Ce=fe.classList.contains("ql-background")?"background":"color";return fe.querySelector("option")==null&&B(fe,O,Ce==="background"?"#ffffff":"#000000"),new x.default(fe,te[Ce])}else return fe.querySelector("option")==null&&(fe.classList.contains("ql-font")?B(fe,H):fe.classList.contains("ql-header")?B(fe,G):fe.classList.contains("ql-size")&&B(fe,X)),new R.default(fe)});var de=function(){oe.pickers.forEach(function(Ce){Ce.update()})};this.quill.on(h.default.events.EDITOR_CHANGE,de)}}]),q})(y.default);Z.DEFAULTS=(0,l.default)(!0,{},y.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var q=this,J=this.container.querySelector("input.ql-image[type=file]");J==null&&(J=document.createElement("input"),J.setAttribute("type","file"),J.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),J.classList.add("ql-image"),J.addEventListener("change",function(){if(J.files!=null&&J.files[0]!=null){var Y=new FileReader;Y.onload=function(te){var oe=q.quill.getSelection(!0);q.quill.updateContents(new u.default().retain(oe.index).delete(oe.length).insert({image:te.target.result}),h.default.sources.USER),q.quill.setSelection(oe.index+1,h.default.sources.SILENT),J.value=""},Y.readAsDataURL(J.files[0])}}),this.container.appendChild(J)),J.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var z=(function(j){k(q,j);function q(J,Y){F(this,q);var te=P(this,(q.__proto__||Object.getPrototypeOf(q)).call(this,J,Y));return te.textbox=te.root.querySelector('input[type="text"]'),te.listen(),te}return s(q,[{key:"listen",value:function(){var Y=this;this.textbox.addEventListener("keydown",function(te){v.default.match(te,"enter")?(Y.save(),te.preventDefault()):v.default.match(te,"escape")&&(Y.cancel(),te.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),te!=null?this.textbox.value=te:Y!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+Y)||""),this.root.setAttribute("data-mode",Y)}},{key:"restoreFocus",value:function(){var Y=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=Y}},{key:"save",value:function(){var Y=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var te=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",Y,h.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",Y,h.default.sources.USER)),this.quill.root.scrollTop=te;break}case"video":Y=Q(Y);case"formula":{if(!Y)break;var oe=this.quill.getSelection(!0);if(oe!=null){var de=oe.index+oe.length;this.quill.insertEmbed(de,this.root.getAttribute("data-mode"),Y,h.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(de+1," ",h.default.sources.USER),this.quill.setSelection(de+2,h.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),q})(N.default);function Q(j){var q=j.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||j.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return q?(q[1]||"https")+"://www.youtube.com/embed/"+q[2]+"?showinfo=0":(q=j.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(q[1]||"https")+"://player.vimeo.com/video/"+q[2]+"/":j}function B(j,q){var J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;q.forEach(function(Y){var te=document.createElement("option");Y===J?te.setAttribute("selected","selected"):te.setAttribute("value",Y),j.appendChild(te)})}r.BaseTooltip=z,r.default=Z}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function a(){this.head=this.tail=null,this.length=0}return a.prototype.append=function(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];this.insertBefore(o[0],null),o.length>1&&this.append.apply(this,o.slice(1))},a.prototype.contains=function(o){for(var l,c=this.iterator();l=c();)if(l===o)return!0;return!1},a.prototype.insertBefore=function(o,l){o&&(o.next=l,l!=null?(o.prev=l.prev,l.prev!=null&&(l.prev.next=o),l.prev=o,l===this.head&&(this.head=o)):this.tail!=null?(this.tail.next=o,o.prev=this.tail,this.tail=o):(o.prev=null,this.head=this.tail=o),this.length+=1)},a.prototype.offset=function(o){for(var l=0,c=this.head;c!=null;){if(c===o)return l;l+=c.length(),c=c.next}return-1},a.prototype.remove=function(o){this.contains(o)&&(o.prev!=null&&(o.prev.next=o.next),o.next!=null&&(o.next.prev=o.prev),o===this.head&&(this.head=o.next),o===this.tail&&(this.tail=o.prev),this.length-=1)},a.prototype.iterator=function(o){return o===void 0&&(o=this.head),function(){var l=o;return o!=null&&(o=o.next),l}},a.prototype.find=function(o,l){l===void 0&&(l=!1);for(var c,u=this.iterator();c=u();){var f=c.length();if(o<f||l&&o===f&&(c.next==null||c.next.length()!==0))return[c,o];o-=f}return[null,0]},a.prototype.forEach=function(o){for(var l,c=this.iterator();l=c();)o(l)},a.prototype.forEachAt=function(o,l,c){if(!(l<=0))for(var u=this.find(o),f=u[0],h=u[1],p,v=o-h,g=this.iterator(f);(p=g())&&v<o+l;){var y=p.length();o>v?c(p,o-v,Math.min(l,v+y-o)):c(p,0,Math.min(y,o+l-v)),v+=y}},a.prototype.map=function(o){return this.reduce(function(l,c){return l.push(o(c)),l},[])},a.prototype.reduce=function(o,l){for(var c,u=this.iterator();c=u();)l=o(l,c);return l},a})();r.default=s}),(function(n,r,i){var s=this&&this.__extends||(function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var v in p)p.hasOwnProperty(v)&&(h[v]=p[v])};return function(h,p){f(h,p);function v(){this.constructor=h}h.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(17),o=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},c=100,u=(function(f){s(h,f);function h(p){var v=f.call(this,p)||this;return v.scroll=v,v.observer=new MutationObserver(function(g){v.update(g)}),v.observer.observe(v.domNode,l),v.attach(),v}return h.prototype.detach=function(){f.prototype.detach.call(this),this.observer.disconnect()},h.prototype.deleteAt=function(p,v){this.update(),p===0&&v===this.length()?this.children.forEach(function(g){g.remove()}):f.prototype.deleteAt.call(this,p,v)},h.prototype.formatAt=function(p,v,g,y){this.update(),f.prototype.formatAt.call(this,p,v,g,y)},h.prototype.insertAt=function(p,v,g){this.update(),f.prototype.insertAt.call(this,p,v,g)},h.prototype.optimize=function(p,v){var g=this;p===void 0&&(p=[]),v===void 0&&(v={}),f.prototype.optimize.call(this,v);for(var y=[].slice.call(this.observer.takeRecords());y.length>0;)p.push(y.pop());for(var _=function(S,R){R===void 0&&(R=!0),!(S==null||S===g)&&S.domNode.parentNode!=null&&(S.domNode[o.DATA_KEY].mutations==null&&(S.domNode[o.DATA_KEY].mutations=[]),R&&_(S.parent))},x=function(S){S.domNode[o.DATA_KEY]==null||S.domNode[o.DATA_KEY].mutations==null||(S instanceof a.default&&S.children.forEach(x),S.optimize(v))},w=p,C=0;w.length>0;C+=1){if(C>=c)throw new Error("[Parchment] Maximum optimize iterations reached");for(w.forEach(function(S){var R=o.find(S.target,!0);R!=null&&(R.domNode===S.target&&(S.type==="childList"?(_(o.find(S.previousSibling,!1)),[].forEach.call(S.addedNodes,function(D){var N=o.find(D,!1);_(N,!1),N instanceof a.default&&N.children.forEach(function(I){_(I,!1)})})):S.type==="attributes"&&_(R.prev)),_(R))}),this.children.forEach(x),w=[].slice.call(this.observer.takeRecords()),y=w.slice();y.length>0;)p.push(y.pop())}},h.prototype.update=function(p,v){var g=this;v===void 0&&(v={}),p=p||this.observer.takeRecords(),p.map(function(y){var _=o.find(y.target,!0);return _==null?null:_.domNode[o.DATA_KEY].mutations==null?(_.domNode[o.DATA_KEY].mutations=[y],_):(_.domNode[o.DATA_KEY].mutations.push(y),null)}).forEach(function(y){y==null||y===g||y.domNode[o.DATA_KEY]==null||y.update(y.domNode[o.DATA_KEY].mutations||[],v)}),this.domNode[o.DATA_KEY].mutations!=null&&f.prototype.update.call(this,this.domNode[o.DATA_KEY].mutations,v),this.optimize(p,v)},h.blotName="scroll",h.defaultChild="block",h.scope=o.Scope.BLOCK_BLOT,h.tagName="DIV",h})(a.default);r.default=u}),(function(n,r,i){var s=this&&this.__extends||(function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var p in h)h.hasOwnProperty(p)&&(f[p]=h[p])};return function(f,h){u(f,h);function p(){this.constructor=f}f.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(18),o=i(1);function l(u,f){if(Object.keys(u).length!==Object.keys(f).length)return!1;for(var h in u)if(u[h]!==f[h])return!1;return!0}var c=(function(u){s(f,u);function f(){return u!==null&&u.apply(this,arguments)||this}return f.formats=function(h){if(h.tagName!==f.tagName)return u.formats.call(this,h)},f.prototype.format=function(h,p){var v=this;h===this.statics.blotName&&!p?(this.children.forEach(function(g){g instanceof a.default||(g=g.wrap(f.blotName,!0)),v.attributes.copy(g)}),this.unwrap()):u.prototype.format.call(this,h,p)},f.prototype.formatAt=function(h,p,v,g){if(this.formats()[v]!=null||o.query(v,o.Scope.ATTRIBUTE)){var y=this.isolate(h,p);y.format(v,g)}else u.prototype.formatAt.call(this,h,p,v,g)},f.prototype.optimize=function(h){u.prototype.optimize.call(this,h);var p=this.formats();if(Object.keys(p).length===0)return this.unwrap();var v=this.next;v instanceof f&&v.prev===this&&l(p,v.formats())&&(v.moveChildren(this),v.remove())},f.blotName="inline",f.scope=o.Scope.INLINE_BLOT,f.tagName="SPAN",f})(a.default);r.default=c}),(function(n,r,i){var s=this&&this.__extends||(function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){c(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(18),o=i(1),l=(function(c){s(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.formats=function(f){var h=o.query(u.blotName).tagName;if(f.tagName!==h)return c.formats.call(this,f)},u.prototype.format=function(f,h){o.query(f,o.Scope.BLOCK)!=null&&(f===this.statics.blotName&&!h?this.replaceWith(u.blotName):c.prototype.format.call(this,f,h))},u.prototype.formatAt=function(f,h,p,v){o.query(p,o.Scope.BLOCK)!=null?this.format(p,v):c.prototype.formatAt.call(this,f,h,p,v)},u.prototype.insertAt=function(f,h,p){if(p==null||o.query(h,o.Scope.INLINE)!=null)c.prototype.insertAt.call(this,f,h,p);else{var v=this.split(f),g=o.create(h,p);v.parent.insertBefore(g,v)}},u.prototype.update=function(f,h){navigator.userAgent.match(/Trident/)?this.build():c.prototype.update.call(this,f,h)},u.blotName="block",u.scope=o.Scope.BLOCK_BLOT,u.tagName="P",u})(a.default);r.default=l}),(function(n,r,i){var s=this&&this.__extends||(function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,u){c.__proto__=u}||function(c,u){for(var f in u)u.hasOwnProperty(f)&&(c[f]=u[f])};return function(c,u){l(c,u);function f(){this.constructor=c}c.prototype=u===null?Object.create(u):(f.prototype=u.prototype,new f)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(19),o=(function(l){s(c,l);function c(){return l!==null&&l.apply(this,arguments)||this}return c.formats=function(u){},c.prototype.format=function(u,f){l.prototype.formatAt.call(this,0,this.length(),u,f)},c.prototype.formatAt=function(u,f,h,p){u===0&&f===this.length()?this.format(h,p):l.prototype.formatAt.call(this,u,f,h,p)},c.prototype.formats=function(){return this.statics.formats(this.domNode)},c})(a.default);r.default=o}),(function(n,r,i){var s=this&&this.__extends||(function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){c(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(19),o=i(1),l=(function(c){s(u,c);function u(f){var h=c.call(this,f)||this;return h.text=h.statics.value(h.domNode),h}return u.create=function(f){return document.createTextNode(f)},u.value=function(f){var h=f.data;return h.normalize&&(h=h.normalize()),h},u.prototype.deleteAt=function(f,h){this.domNode.data=this.text=this.text.slice(0,f)+this.text.slice(f+h)},u.prototype.index=function(f,h){return this.domNode===f?h:-1},u.prototype.insertAt=function(f,h,p){p==null?(this.text=this.text.slice(0,f)+h+this.text.slice(f),this.domNode.data=this.text):c.prototype.insertAt.call(this,f,h,p)},u.prototype.length=function(){return this.text.length},u.prototype.optimize=function(f){c.prototype.optimize.call(this,f),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof u&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},u.prototype.position=function(f,h){return[this.domNode,f]},u.prototype.split=function(f,h){if(h===void 0&&(h=!1),!h){if(f===0)return this;if(f===this.length())return this.next}var p=o.create(this.domNode.splitText(f));return this.parent.insertBefore(p,this.next),this.text=this.statics.value(this.domNode),p},u.prototype.update=function(f,h){var p=this;f.some(function(v){return v.type==="characterData"&&v.target===p.domNode})&&(this.text=this.statics.value(this.domNode))},u.prototype.value=function(){return this.text},u.blotName="text",u.scope=o.Scope.INLINE_BLOT,u})(a.default);r.default=l}),(function(n,r,i){var s=document.createElement("div");if(s.classList.toggle("test-class",!1),s.classList.contains("test-class")){var a=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(o,l){return arguments.length>1&&!this.contains(o)==!l?l:a.call(this,o)}}String.prototype.startsWith||(String.prototype.startsWith=function(o,l){return l=l||0,this.substr(l,o.length)===o}),String.prototype.endsWith||(String.prototype.endsWith=function(o,l){var c=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>c.length)&&(l=c.length),l-=o.length;var u=c.indexOf(o,l);return u!==-1&&u===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var c=Object(this),u=c.length>>>0,f=arguments[1],h,p=0;p<u;p++)if(h=c[p],l.call(f,h,p,c))return h}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})}),(function(n,r){var i=-1,s=1,a=0;function o(C,S,R){if(C==S)return C?[[a,C]]:[];(R<0||C.length<R)&&(R=null);var D=f(C,S),N=C.substring(0,D);C=C.substring(D),S=S.substring(D),D=h(C,S);var I=C.substring(C.length-D);C=C.substring(0,C.length-D),S=S.substring(0,S.length-D);var F=l(C,S);return N&&F.unshift([a,N]),I&&F.push([a,I]),v(F),R!=null&&(F=_(F,R)),F=x(F),F}function l(C,S){var R;if(!C)return[[s,S]];if(!S)return[[i,C]];var D=C.length>S.length?C:S,N=C.length>S.length?S:C,I=D.indexOf(N);if(I!=-1)return R=[[s,D.substring(0,I)],[a,N],[s,D.substring(I+N.length)]],C.length>S.length&&(R[0][0]=R[2][0]=i),R;if(N.length==1)return[[i,C],[s,S]];var F=p(C,S);if(F){var P=F[0],k=F[1],U=F[2],O=F[3],H=F[4],G=o(P,U),X=o(k,O);return G.concat([[a,H]],X)}return c(C,S)}function c(C,S){for(var R=C.length,D=S.length,N=Math.ceil((R+D)/2),I=N,F=2*N,P=new Array(F),k=new Array(F),U=0;U<F;U++)P[U]=-1,k[U]=-1;P[I+1]=0,k[I+1]=0;for(var O=R-D,H=O%2!=0,G=0,X=0,Z=0,z=0,Q=0;Q<N;Q++){for(var B=-Q+G;B<=Q-X;B+=2){var j=I+B,q;B==-Q||B!=Q&&P[j-1]<P[j+1]?q=P[j+1]:q=P[j-1]+1;for(var J=q-B;q<R&&J<D&&C.charAt(q)==S.charAt(J);)q++,J++;if(P[j]=q,q>R)X+=2;else if(J>D)G+=2;else if(H){var Y=I+O-B;if(Y>=0&&Y<F&&k[Y]!=-1){var te=R-k[Y];if(q>=te)return u(C,S,q,J)}}}for(var oe=-Q+Z;oe<=Q-z;oe+=2){var Y=I+oe,te;oe==-Q||oe!=Q&&k[Y-1]<k[Y+1]?te=k[Y+1]:te=k[Y-1]+1;for(var de=te-oe;te<R&&de<D&&C.charAt(R-te-1)==S.charAt(D-de-1);)te++,de++;if(k[Y]=te,te>R)z+=2;else if(de>D)Z+=2;else if(!H){var j=I+O-oe;if(j>=0&&j<F&&P[j]!=-1){var q=P[j],J=I+q-j;if(te=R-te,q>=te)return u(C,S,q,J)}}}}return[[i,C],[s,S]]}function u(C,S,R,D){var N=C.substring(0,R),I=S.substring(0,D),F=C.substring(R),P=S.substring(D),k=o(N,I),U=o(F,P);return k.concat(U)}function f(C,S){if(!C||!S||C.charAt(0)!=S.charAt(0))return 0;for(var R=0,D=Math.min(C.length,S.length),N=D,I=0;R<N;)C.substring(I,N)==S.substring(I,N)?(R=N,I=R):D=N,N=Math.floor((D-R)/2+R);return N}function h(C,S){if(!C||!S||C.charAt(C.length-1)!=S.charAt(S.length-1))return 0;for(var R=0,D=Math.min(C.length,S.length),N=D,I=0;R<N;)C.substring(C.length-N,C.length-I)==S.substring(S.length-N,S.length-I)?(R=N,I=R):D=N,N=Math.floor((D-R)/2+R);return N}function p(C,S){var R=C.length>S.length?C:S,D=C.length>S.length?S:C;if(R.length<4||D.length*2<R.length)return null;function N(X,Z,z){for(var Q=X.substring(z,z+Math.floor(X.length/4)),B=-1,j="",q,J,Y,te;(B=Z.indexOf(Q,B+1))!=-1;){var oe=f(X.substring(z),Z.substring(B)),de=h(X.substring(0,z),Z.substring(0,B));j.length<de+oe&&(j=Z.substring(B-de,B)+Z.substring(B,B+oe),q=X.substring(0,z-de),J=X.substring(z+oe),Y=Z.substring(0,B-de),te=Z.substring(B+oe))}return j.length*2>=X.length?[q,J,Y,te,j]:null}var I=N(R,D,Math.ceil(R.length/4)),F=N(R,D,Math.ceil(R.length/2)),P;if(!I&&!F)return null;F?I?P=I[4].length>F[4].length?I:F:P=F:P=I;var k,U,O,H;C.length>S.length?(k=P[0],U=P[1],O=P[2],H=P[3]):(O=P[0],H=P[1],k=P[2],U=P[3]);var G=P[4];return[k,U,O,H,G]}function v(C){C.push([a,""]);for(var S=0,R=0,D=0,N="",I="",F;S<C.length;)switch(C[S][0]){case s:D++,I+=C[S][1],S++;break;case i:R++,N+=C[S][1],S++;break;case a:R+D>1?(R!==0&&D!==0&&(F=f(I,N),F!==0&&(S-R-D>0&&C[S-R-D-1][0]==a?C[S-R-D-1][1]+=I.substring(0,F):(C.splice(0,0,[a,I.substring(0,F)]),S++),I=I.substring(F),N=N.substring(F)),F=h(I,N),F!==0&&(C[S][1]=I.substring(I.length-F)+C[S][1],I=I.substring(0,I.length-F),N=N.substring(0,N.length-F))),R===0?C.splice(S-D,R+D,[s,I]):D===0?C.splice(S-R,R+D,[i,N]):C.splice(S-R-D,R+D,[i,N],[s,I]),S=S-R-D+(R?1:0)+(D?1:0)+1):S!==0&&C[S-1][0]==a?(C[S-1][1]+=C[S][1],C.splice(S,1)):S++,D=0,R=0,N="",I="";break}C[C.length-1][1]===""&&C.pop();var P=!1;for(S=1;S<C.length-1;)C[S-1][0]==a&&C[S+1][0]==a&&(C[S][1].substring(C[S][1].length-C[S-1][1].length)==C[S-1][1]?(C[S][1]=C[S-1][1]+C[S][1].substring(0,C[S][1].length-C[S-1][1].length),C[S+1][1]=C[S-1][1]+C[S+1][1],C.splice(S-1,1),P=!0):C[S][1].substring(0,C[S+1][1].length)==C[S+1][1]&&(C[S-1][1]+=C[S+1][1],C[S][1]=C[S][1].substring(C[S+1][1].length)+C[S+1][1],C.splice(S+1,1),P=!0)),S++;P&&v(C)}var g=o;g.INSERT=s,g.DELETE=i,g.EQUAL=a,n.exports=g;function y(C,S){if(S===0)return[a,C];for(var R=0,D=0;D<C.length;D++){var N=C[D];if(N[0]===i||N[0]===a){var I=R+N[1].length;if(S===I)return[D+1,C];if(S<I){C=C.slice();var F=S-R,P=[N[0],N[1].slice(0,F)],k=[N[0],N[1].slice(F)];return C.splice(D,1,P,k),[D+1,C]}else R=I}}throw new Error("cursor_pos is out of bounds!")}function _(C,S){var R=y(C,S),D=R[1],N=R[0],I=D[N],F=D[N+1];if(I==null)return C;if(I[0]!==a)return C;if(F!=null&&I[1]+F[1]===F[1]+I[1])return D.splice(N,2,F,I),w(D,N,2);if(F!=null&&F[1].indexOf(I[1])===0){D.splice(N,2,[F[0],I[1]],[0,I[1]]);var P=F[1].slice(I[1].length);return P.length>0&&D.splice(N+2,0,[F[0],P]),w(D,N,3)}else return C}function x(C){for(var S=!1,R=function(F){return F.charCodeAt(0)>=56320&&F.charCodeAt(0)<=57343},D=function(F){return F.charCodeAt(F.length-1)>=55296&&F.charCodeAt(F.length-1)<=56319},N=2;N<C.length;N+=1)C[N-2][0]===a&&D(C[N-2][1])&&C[N-1][0]===i&&R(C[N-1][1])&&C[N][0]===s&&R(C[N][1])&&(S=!0,C[N-1][1]=C[N-2][1].slice(-1)+C[N-1][1],C[N][1]=C[N-2][1].slice(-1)+C[N][1],C[N-2][1]=C[N-2][1].slice(0,-1));if(!S)return C;for(var I=[],N=0;N<C.length;N+=1)C[N][1].length>0&&I.push(C[N]);return I}function w(C,S,R){for(var D=S+R-1;D>=0&&D>=S-1;D--)if(D+1<C.length){var N=C[D],I=C[D+1];N[0]===I[1]&&C.splice(D,2,[N[0],N[1]+I[1]])}return C}}),(function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(s){var a=[];for(var o in s)a.push(o);return a}}),(function(n,r){var i=(function(){return Object.prototype.toString.call(arguments)})()=="[object Arguments]";r=n.exports=i?s:a,r.supported=s;function s(o){return Object.prototype.toString.call(o)=="[object Arguments]"}r.unsupported=a;function a(o){return o&&typeof o=="object"&&typeof o.length=="number"&&Object.prototype.hasOwnProperty.call(o,"callee")&&!Object.prototype.propertyIsEnumerable.call(o,"callee")||!1}}),(function(n,r){var i=Object.prototype.hasOwnProperty,s="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(s=!1));function o(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function l(){this._events=new a,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],f,h;if(this._eventsCount===0)return u;for(h in f=this._events)i.call(f,h)&&u.push(s?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},l.prototype.listeners=function(u,f){var h=s?s+u:u,p=this._events[h];if(f)return!!p;if(!p)return[];if(p.fn)return[p.fn];for(var v=0,g=p.length,y=new Array(g);v<g;v++)y[v]=p[v].fn;return y},l.prototype.emit=function(u,f,h,p,v,g){var y=s?s+u:u;if(!this._events[y])return!1;var _=this._events[y],x=arguments.length,w,C;if(_.fn){switch(_.once&&this.removeListener(u,_.fn,void 0,!0),x){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,f),!0;case 3:return _.fn.call(_.context,f,h),!0;case 4:return _.fn.call(_.context,f,h,p),!0;case 5:return _.fn.call(_.context,f,h,p,v),!0;case 6:return _.fn.call(_.context,f,h,p,v,g),!0}for(C=1,w=new Array(x-1);C<x;C++)w[C-1]=arguments[C];_.fn.apply(_.context,w)}else{var S=_.length,R;for(C=0;C<S;C++)switch(_[C].once&&this.removeListener(u,_[C].fn,void 0,!0),x){case 1:_[C].fn.call(_[C].context);break;case 2:_[C].fn.call(_[C].context,f);break;case 3:_[C].fn.call(_[C].context,f,h);break;case 4:_[C].fn.call(_[C].context,f,h,p);break;default:if(!w)for(R=1,w=new Array(x-1);R<x;R++)w[R-1]=arguments[R];_[C].fn.apply(_[C].context,w)}}return!0},l.prototype.on=function(u,f,h){var p=new o(f,h||this),v=s?s+u:u;return this._events[v]?this._events[v].fn?this._events[v]=[this._events[v],p]:this._events[v].push(p):(this._events[v]=p,this._eventsCount++),this},l.prototype.once=function(u,f,h){var p=new o(f,h||this,!0),v=s?s+u:u;return this._events[v]?this._events[v].fn?this._events[v]=[this._events[v],p]:this._events[v].push(p):(this._events[v]=p,this._eventsCount++),this},l.prototype.removeListener=function(u,f,h,p){var v=s?s+u:u;if(!this._events[v])return this;if(!f)return--this._eventsCount===0?this._events=new a:delete this._events[v],this;var g=this._events[v];if(g.fn)g.fn===f&&(!p||g.once)&&(!h||g.context===h)&&(--this._eventsCount===0?this._events=new a:delete this._events[v]);else{for(var y=0,_=[],x=g.length;y<x;y++)(g[y].fn!==f||p&&!g[y].once||h&&g[y].context!==h)&&_.push(g[y]);_.length?this._events[v]=_.length===1?_[0]:_:--this._eventsCount===0?this._events=new a:delete this._events[v]}return this},l.prototype.removeAllListeners=function(u){var f;return u?(f=s?s+u:u,this._events[f]&&(--this._eventsCount===0?this._events=new a:delete this._events[f])):(this._events=new a,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=s,l.EventEmitter=l,typeof n<"u"&&(n.exports=l)}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(re){return typeof re}:function(re){return re&&typeof Symbol=="function"&&re.constructor===Symbol&&re!==Symbol.prototype?"symbol":typeof re},a=(function(){function re(le,ke){var Ne=[],ie=!0,ue=!1,ve=void 0;try{for(var be=le[Symbol.iterator](),Ie;!(ie=(Ie=be.next()).done)&&(Ne.push(Ie.value),!(ke&&Ne.length===ke));ie=!0);}catch(Le){ue=!0,ve=Le}finally{try{!ie&&be.return&&be.return()}finally{if(ue)throw ve}}return Ne}return function(le,ke){if(Array.isArray(le))return le;if(Symbol.iterator in Object(le))return re(le,ke);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=(function(){function re(le,ke){for(var Ne=0;Ne<ke.length;Ne++){var ie=ke[Ne];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(le,ie.key,ie)}}return function(le,ke,Ne){return ke&&re(le.prototype,ke),Ne&&re(le,Ne),le}})(),l=i(3),c=k(l),u=i(2),f=k(u),h=i(0),p=k(h),v=i(5),g=k(v),y=i(10),_=k(y),x=i(9),w=k(x),C=i(36),S=i(37),R=i(13),D=k(R),N=i(26),I=i(38),F=i(39),P=i(40);function k(re){return re&&re.__esModule?re:{default:re}}function U(re,le,ke){return le in re?Object.defineProperty(re,le,{value:ke,enumerable:!0,configurable:!0,writable:!0}):re[le]=ke,re}function O(re,le){if(!(re instanceof le))throw new TypeError("Cannot call a class as a function")}function H(re,le){if(!re)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return le&&(typeof le=="object"||typeof le=="function")?le:re}function G(re,le){if(typeof le!="function"&&le!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof le);re.prototype=Object.create(le&&le.prototype,{constructor:{value:re,enumerable:!1,writable:!0,configurable:!0}}),le&&(Object.setPrototypeOf?Object.setPrototypeOf(re,le):re.__proto__=le)}var X=(0,_.default)("quill:clipboard"),Z="__ql-matcher",z=[[Node.TEXT_NODE,ce],[Node.TEXT_NODE,W],["br",Pe],[Node.ELEMENT_NODE,W],[Node.ELEMENT_NODE,Ce],[Node.ELEMENT_NODE,ge],[Node.ELEMENT_NODE,fe],[Node.ELEMENT_NODE,_e],["li",Me],["b",de.bind(de,"bold")],["i",de.bind(de,"italic")],["style",pe]],Q=[C.AlignAttribute,I.DirectionAttribute].reduce(function(re,le){return re[le.keyName]=le,re},{}),B=[C.AlignStyle,S.BackgroundStyle,N.ColorStyle,I.DirectionStyle,F.FontStyle,P.SizeStyle].reduce(function(re,le){return re[le.keyName]=le,re},{}),j=(function(re){G(le,re);function le(ke,Ne){O(this,le);var ie=H(this,(le.__proto__||Object.getPrototypeOf(le)).call(this,ke,Ne));return ie.quill.root.addEventListener("paste",ie.onPaste.bind(ie)),ie.container=ie.quill.addContainer("ql-clipboard"),ie.container.setAttribute("contenteditable",!0),ie.container.setAttribute("tabindex",-1),ie.matchers=[],z.concat(ie.options.matchers).forEach(function(ue){var ve=a(ue,2),be=ve[0],Ie=ve[1];!Ne.matchVisual&&Ie===ge||ie.addMatcher(be,Ie)}),ie}return o(le,[{key:"addMatcher",value:function(Ne,ie){this.matchers.push([Ne,ie])}},{key:"convert",value:function(Ne){if(typeof Ne=="string")return this.container.innerHTML=Ne.replace(/\>\r?\n +\</g,"><"),this.convert();var ie=this.quill.getFormat(this.quill.selection.savedRange.index);if(ie[D.default.blotName]){var ue=this.container.innerText;return this.container.innerHTML="",new f.default().insert(ue,U({},D.default.blotName,ie[D.default.blotName]))}var ve=this.prepareMatching(),be=a(ve,2),Ie=be[0],Le=be[1],Te=oe(this.container,Ie,Le);return Y(Te,`
`)&&Te.ops[Te.ops.length-1].attributes==null&&(Te=Te.compose(new f.default().retain(Te.length()-1).delete(1))),X.log("convert",this.container.innerHTML,Te),this.container.innerHTML="",Te}},{key:"dangerouslyPasteHTML",value:function(Ne,ie){var ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.default.sources.API;if(typeof Ne=="string")this.quill.setContents(this.convert(Ne),ie),this.quill.setSelection(0,g.default.sources.SILENT);else{var ve=this.convert(ie);this.quill.updateContents(new f.default().retain(Ne).concat(ve),ue),this.quill.setSelection(Ne+ve.length(),g.default.sources.SILENT)}}},{key:"onPaste",value:function(Ne){var ie=this;if(!(Ne.defaultPrevented||!this.quill.isEnabled())){var ue=this.quill.getSelection(),ve=new f.default().retain(ue.index),be=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(g.default.sources.SILENT),setTimeout(function(){ve=ve.concat(ie.convert()).delete(ue.length),ie.quill.updateContents(ve,g.default.sources.USER),ie.quill.setSelection(ve.length()-ue.length,g.default.sources.SILENT),ie.quill.scrollingContainer.scrollTop=be,ie.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var Ne=this,ie=[],ue=[];return this.matchers.forEach(function(ve){var be=a(ve,2),Ie=be[0],Le=be[1];switch(Ie){case Node.TEXT_NODE:ue.push(Le);break;case Node.ELEMENT_NODE:ie.push(Le);break;default:[].forEach.call(Ne.container.querySelectorAll(Ie),function(Te){Te[Z]=Te[Z]||[],Te[Z].push(Le)});break}}),[ie,ue]}}]),le})(w.default);j.DEFAULTS={matchers:[],matchVisual:!0};function q(re,le,ke){return(typeof le>"u"?"undefined":s(le))==="object"?Object.keys(le).reduce(function(Ne,ie){return q(Ne,ie,le[ie])},re):re.reduce(function(Ne,ie){return ie.attributes&&ie.attributes[le]?Ne.push(ie):Ne.insert(ie.insert,(0,c.default)({},U({},le,ke),ie.attributes))},new f.default)}function J(re){if(re.nodeType!==Node.ELEMENT_NODE)return{};var le="__ql-computed-style";return re[le]||(re[le]=window.getComputedStyle(re))}function Y(re,le){for(var ke="",Ne=re.ops.length-1;Ne>=0&&ke.length<le.length;--Ne){var ie=re.ops[Ne];if(typeof ie.insert!="string")break;ke=ie.insert+ke}return ke.slice(-1*le.length)===le}function te(re){if(re.childNodes.length===0)return!1;var le=J(re);return["block","list-item"].indexOf(le.display)>-1}function oe(re,le,ke){return re.nodeType===re.TEXT_NODE?ke.reduce(function(Ne,ie){return ie(re,Ne)},new f.default):re.nodeType===re.ELEMENT_NODE?[].reduce.call(re.childNodes||[],function(Ne,ie){var ue=oe(ie,le,ke);return ie.nodeType===re.ELEMENT_NODE&&(ue=le.reduce(function(ve,be){return be(ie,ve)},ue),ue=(ie[Z]||[]).reduce(function(ve,be){return be(ie,ve)},ue)),Ne.concat(ue)},new f.default):new f.default}function de(re,le,ke){return q(ke,re,!0)}function fe(re,le){var ke=p.default.Attributor.Attribute.keys(re),Ne=p.default.Attributor.Class.keys(re),ie=p.default.Attributor.Style.keys(re),ue={};return ke.concat(Ne).concat(ie).forEach(function(ve){var be=p.default.query(ve,p.default.Scope.ATTRIBUTE);be!=null&&(ue[be.attrName]=be.value(re),ue[be.attrName])||(be=Q[ve],be!=null&&(be.attrName===ve||be.keyName===ve)&&(ue[be.attrName]=be.value(re)||void 0),be=B[ve],be!=null&&(be.attrName===ve||be.keyName===ve)&&(be=B[ve],ue[be.attrName]=be.value(re)||void 0))}),Object.keys(ue).length>0&&(le=q(le,ue)),le}function Ce(re,le){var ke=p.default.query(re);if(ke==null)return le;if(ke.prototype instanceof p.default.Embed){var Ne={},ie=ke.value(re);ie!=null&&(Ne[ke.blotName]=ie,le=new f.default().insert(Ne,ke.formats(re)))}else typeof ke.formats=="function"&&(le=q(le,ke.blotName,ke.formats(re)));return le}function Pe(re,le){return Y(le,`
`)||le.insert(`
`),le}function pe(){return new f.default}function Me(re,le){var ke=p.default.query(re);if(ke==null||ke.blotName!=="list-item"||!Y(le,`
`))return le;for(var Ne=-1,ie=re.parentNode;!ie.classList.contains("ql-clipboard");)(p.default.query(ie)||{}).blotName==="list"&&(Ne+=1),ie=ie.parentNode;return Ne<=0?le:le.compose(new f.default().retain(le.length()-1).retain(1,{indent:Ne}))}function W(re,le){return Y(le,`
`)||(te(re)||le.length()>0&&re.nextSibling&&te(re.nextSibling))&&le.insert(`
`),le}function ge(re,le){if(te(re)&&re.nextElementSibling!=null&&!Y(le,`

`)){var ke=re.offsetHeight+parseFloat(J(re).marginTop)+parseFloat(J(re).marginBottom);re.nextElementSibling.offsetTop>re.offsetTop+ke*1.5&&le.insert(`
`)}return le}function _e(re,le){var ke={},Ne=re.style||{};return Ne.fontStyle&&J(re).fontStyle==="italic"&&(ke.italic=!0),Ne.fontWeight&&(J(re).fontWeight.startsWith("bold")||parseInt(J(re).fontWeight)>=700)&&(ke.bold=!0),Object.keys(ke).length>0&&(le=q(le,ke)),parseFloat(Ne.textIndent||0)>0&&(le=new f.default().insert("	").concat(le)),le}function ce(re,le){var ke=re.data;if(re.parentNode.tagName==="O:P")return le.insert(ke.trim());if(ke.trim().length===0&&re.parentNode.classList.contains("ql-clipboard"))return le;if(!J(re.parentNode).whiteSpace.startsWith("pre")){var Ne=function(ue,ve){return ve=ve.replace(/[^\u00a0]/g,""),ve.length<1&&ue?" ":ve};ke=ke.replace(/\r\n/g," ").replace(/\n/g," "),ke=ke.replace(/\s\s+/g,Ne.bind(Ne,!0)),(re.previousSibling==null&&te(re.parentNode)||re.previousSibling!=null&&te(re.previousSibling))&&(ke=ke.replace(/^\s+/,Ne.bind(Ne,!1))),(re.nextSibling==null&&te(re.parentNode)||re.nextSibling!=null&&te(re.nextSibling))&&(ke=ke.replace(/\s+$/,Ne.bind(Ne,!1)))}return le.insert(ke)}r.default=j,r.matchAttributor=fe,r.matchBlot=Ce,r.matchNewline=W,r.matchSpacing=ge,r.matchText=ce}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function v(g,y){for(var _=0;_<y.length;_++){var x=y[_];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,y,_){return y&&v(g.prototype,y),_&&v(g,_),g}})(),a=function v(g,y,_){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,y);if(x===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:v(w,y,_)}else{if("value"in x)return x.value;var C=x.get;return C===void 0?void 0:C.call(_)}},o=i(6),l=c(o);function c(v){return v&&v.__esModule?v:{default:v}}function u(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function f(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function h(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=(function(v){h(g,v);function g(){return u(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,[{key:"optimize",value:function(_){a(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"optimize",this).call(this,_),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return a(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),g})(l.default);p.blotName="bold",p.tagName=["STRONG","B"],r.default=p}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var s=(function(){function P(k,U){var O=[],H=!0,G=!1,X=void 0;try{for(var Z=k[Symbol.iterator](),z;!(H=(z=Z.next()).done)&&(O.push(z.value),!(U&&O.length===U));H=!0);}catch(Q){G=!0,X=Q}finally{try{!H&&Z.return&&Z.return()}finally{if(G)throw X}}return O}return function(k,U){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return P(k,U);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=(function(){function P(k,U){for(var O=0;O<U.length;O++){var H=U[O];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(k,H.key,H)}}return function(k,U,O){return U&&P(k.prototype,U),O&&P(k,O),k}})(),o=i(2),l=_(o),c=i(0),u=_(c),f=i(5),h=_(f),p=i(10),v=_(p),g=i(9),y=_(g);function _(P){return P&&P.__esModule?P:{default:P}}function x(P,k,U){return k in P?Object.defineProperty(P,k,{value:U,enumerable:!0,configurable:!0,writable:!0}):P[k]=U,P}function w(P,k){if(!(P instanceof k))throw new TypeError("Cannot call a class as a function")}function C(P,k){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:P}function S(P,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);P.prototype=Object.create(k&&k.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(P,k):P.__proto__=k)}var R=(0,v.default)("quill:toolbar"),D=(function(P){S(k,P);function k(U,O){w(this,k);var H=C(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,U,O));if(Array.isArray(H.options.container)){var G=document.createElement("div");I(G,H.options.container),U.container.parentNode.insertBefore(G,U.container),H.container=G}else typeof H.options.container=="string"?H.container=document.querySelector(H.options.container):H.container=H.options.container;if(!(H.container instanceof HTMLElement)){var X;return X=R.error("Container required for toolbar",H.options),C(H,X)}return H.container.classList.add("ql-toolbar"),H.controls=[],H.handlers={},Object.keys(H.options.handlers).forEach(function(Z){H.addHandler(Z,H.options.handlers[Z])}),[].forEach.call(H.container.querySelectorAll("button, select"),function(Z){H.attach(Z)}),H.quill.on(h.default.events.EDITOR_CHANGE,function(Z,z){Z===h.default.events.SELECTION_CHANGE&&H.update(z)}),H.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){var Z=H.quill.selection.getRange(),z=s(Z,1),Q=z[0];H.update(Q)}),H}return a(k,[{key:"addHandler",value:function(O,H){this.handlers[O]=H}},{key:"attach",value:function(O){var H=this,G=[].find.call(O.classList,function(Z){return Z.indexOf("ql-")===0});if(G){if(G=G.slice(3),O.tagName==="BUTTON"&&O.setAttribute("type","button"),this.handlers[G]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[G]==null){R.warn("ignoring attaching to disabled format",G,O);return}if(u.default.query(G)==null){R.warn("ignoring attaching to nonexistent format",G,O);return}}var X=O.tagName==="SELECT"?"change":"click";O.addEventListener(X,function(Z){var z=void 0;if(O.tagName==="SELECT"){if(O.selectedIndex<0)return;var Q=O.options[O.selectedIndex];Q.hasAttribute("selected")?z=!1:z=Q.value||!1}else O.classList.contains("ql-active")?z=!1:z=O.value||!O.hasAttribute("value"),Z.preventDefault();H.quill.focus();var B=H.quill.selection.getRange(),j=s(B,1),q=j[0];if(H.handlers[G]!=null)H.handlers[G].call(H,z);else if(u.default.query(G).prototype instanceof u.default.Embed){if(z=prompt("Enter "+G),!z)return;H.quill.updateContents(new l.default().retain(q.index).delete(q.length).insert(x({},G,z)),h.default.sources.USER)}else H.quill.format(G,z,h.default.sources.USER);H.update(q)}),this.controls.push([G,O])}}},{key:"update",value:function(O){var H=O==null?{}:this.quill.getFormat(O);this.controls.forEach(function(G){var X=s(G,2),Z=X[0],z=X[1];if(z.tagName==="SELECT"){var Q=void 0;if(O==null)Q=null;else if(H[Z]==null)Q=z.querySelector("option[selected]");else if(!Array.isArray(H[Z])){var B=H[Z];typeof B=="string"&&(B=B.replace(/\"/g,'\\"')),Q=z.querySelector('option[value="'+B+'"]')}Q==null?(z.value="",z.selectedIndex=-1):Q.selected=!0}else if(O==null)z.classList.remove("ql-active");else if(z.hasAttribute("value")){var j=H[Z]===z.getAttribute("value")||H[Z]!=null&&H[Z].toString()===z.getAttribute("value")||H[Z]==null&&!z.getAttribute("value");z.classList.toggle("ql-active",j)}else z.classList.toggle("ql-active",H[Z]!=null)})}}]),k})(y.default);D.DEFAULTS={};function N(P,k,U){var O=document.createElement("button");O.setAttribute("type","button"),O.classList.add("ql-"+k),U!=null&&(O.value=U),P.appendChild(O)}function I(P,k){Array.isArray(k[0])||(k=[k]),k.forEach(function(U){var O=document.createElement("span");O.classList.add("ql-formats"),U.forEach(function(H){if(typeof H=="string")N(O,H);else{var G=Object.keys(H)[0],X=H[G];Array.isArray(X)?F(O,G,X):N(O,G,X)}}),P.appendChild(O)})}function F(P,k,U){var O=document.createElement("select");O.classList.add("ql-"+k),U.forEach(function(H){var G=document.createElement("option");H!==!1?G.setAttribute("value",H):G.setAttribute("selected","selected"),O.appendChild(G)}),P.appendChild(O)}D.DEFAULTS={container:null,handlers:{clean:function(){var k=this,U=this.quill.getSelection();if(U!=null)if(U.length==0){var O=this.quill.getFormat();Object.keys(O).forEach(function(H){u.default.query(H,u.default.Scope.INLINE)!=null&&k.quill.format(H,!1)})}else this.quill.removeFormat(U,h.default.sources.USER)},direction:function(k){var U=this.quill.getFormat().align;k==="rtl"&&U==null?this.quill.format("align","right",h.default.sources.USER):!k&&U==="right"&&this.quill.format("align",!1,h.default.sources.USER),this.quill.format("direction",k,h.default.sources.USER)},indent:function(k){var U=this.quill.getSelection(),O=this.quill.getFormat(U),H=parseInt(O.indent||0);if(k==="+1"||k==="-1"){var G=k==="+1"?1:-1;O.direction==="rtl"&&(G*=-1),this.quill.format("indent",H+G,h.default.sources.USER)}},link:function(k){k===!0&&(k=prompt("Enter link URL:")),this.quill.format("link",k,h.default.sources.USER)},list:function(k){var U=this.quill.getSelection(),O=this.quill.getFormat(U);k==="check"?O.list==="checked"||O.list==="unchecked"?this.quill.format("list",!1,h.default.sources.USER):this.quill.format("list","unchecked",h.default.sources.USER):this.quill.format("list",k,h.default.sources.USER)}}},r.default=D,r.addControls=I}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function v(g,y){for(var _=0;_<y.length;_++){var x=y[_];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,y,_){return y&&v(g.prototype,y),_&&v(g,_),g}})(),a=function v(g,y,_){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,y);if(x===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:v(w,y,_)}else{if("value"in x)return x.value;var C=x.get;return C===void 0?void 0:C.call(_)}},o=i(28),l=c(o);function c(v){return v&&v.__esModule?v:{default:v}}function u(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function f(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function h(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=(function(v){h(g,v);function g(y,_){u(this,g);var x=f(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,y));return x.label.innerHTML=_,x.container.classList.add("ql-color-picker"),[].slice.call(x.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(w){w.classList.add("ql-primary")}),x}return s(g,[{key:"buildItem",value:function(_){var x=a(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"buildItem",this).call(this,_);return x.style.backgroundColor=_.getAttribute("value")||"",x}},{key:"selectItem",value:function(_,x){a(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"selectItem",this).call(this,_,x);var w=this.label.querySelector(".ql-color-label"),C=_&&_.getAttribute("data-value")||"";w&&(w.tagName==="line"?w.style.stroke=C:w.style.fill=C)}}]),g})(l.default);r.default=p}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function v(g,y){for(var _=0;_<y.length;_++){var x=y[_];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,y,_){return y&&v(g.prototype,y),_&&v(g,_),g}})(),a=function v(g,y,_){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,y);if(x===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:v(w,y,_)}else{if("value"in x)return x.value;var C=x.get;return C===void 0?void 0:C.call(_)}},o=i(28),l=c(o);function c(v){return v&&v.__esModule?v:{default:v}}function u(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function f(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function h(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=(function(v){h(g,v);function g(y,_){u(this,g);var x=f(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,y));return x.container.classList.add("ql-icon-picker"),[].forEach.call(x.container.querySelectorAll(".ql-picker-item"),function(w){w.innerHTML=_[w.getAttribute("data-value")||""]}),x.defaultItem=x.container.querySelector(".ql-selected"),x.selectItem(x.defaultItem),x}return s(g,[{key:"selectItem",value:function(_,x){a(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"selectItem",this).call(this,_,x),_=_||this.defaultItem,this.label.innerHTML=_.innerHTML}}]),g})(l.default);r.default=p}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function l(c,u){for(var f=0;f<u.length;f++){var h=u[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(c,h.key,h)}}return function(c,u,f){return u&&l(c.prototype,u),f&&l(c,f),c}})();function a(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var o=(function(){function l(c,u){var f=this;a(this,l),this.quill=c,this.boundsContainer=u||document.body,this.root=c.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){f.root.style.marginTop=-1*f.quill.root.scrollTop+"px"}),this.hide()}return s(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(u){var f=u.left+u.width/2-this.root.offsetWidth/2,h=u.bottom+this.quill.root.scrollTop;this.root.style.left=f+"px",this.root.style.top=h+"px",this.root.classList.remove("ql-flip");var p=this.boundsContainer.getBoundingClientRect(),v=this.root.getBoundingClientRect(),g=0;if(v.right>p.right&&(g=p.right-v.right,this.root.style.left=f+g+"px"),v.left<p.left&&(g=p.left-v.left,this.root.style.left=f+g+"px"),v.bottom>p.bottom){var y=v.bottom-v.top,_=u.bottom-u.top+y;this.root.style.top=h-_+"px",this.root.classList.add("ql-flip")}return g}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l})();r.default=o}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function F(P,k){var U=[],O=!0,H=!1,G=void 0;try{for(var X=P[Symbol.iterator](),Z;!(O=(Z=X.next()).done)&&(U.push(Z.value),!(k&&U.length===k));O=!0);}catch(z){H=!0,G=z}finally{try{!O&&X.return&&X.return()}finally{if(H)throw G}}return U}return function(P,k){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return F(P,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=function F(P,k,U){P===null&&(P=Function.prototype);var O=Object.getOwnPropertyDescriptor(P,k);if(O===void 0){var H=Object.getPrototypeOf(P);return H===null?void 0:F(H,k,U)}else{if("value"in O)return O.value;var G=O.get;return G===void 0?void 0:G.call(U)}},o=(function(){function F(P,k){for(var U=0;U<k.length;U++){var O=k[U];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(P,O.key,O)}}return function(P,k,U){return k&&F(P.prototype,k),U&&F(P,U),P}})(),l=i(3),c=w(l),u=i(8),f=w(u),h=i(43),p=w(h),v=i(27),g=w(v),y=i(15),_=i(41),x=w(_);function w(F){return F&&F.__esModule?F:{default:F}}function C(F,P){if(!(F instanceof P))throw new TypeError("Cannot call a class as a function")}function S(F,P){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:F}function R(F,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);F.prototype=Object.create(P&&P.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(F,P):F.__proto__=P)}var D=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],N=(function(F){R(P,F);function P(k,U){C(this,P),U.modules.toolbar!=null&&U.modules.toolbar.container==null&&(U.modules.toolbar.container=D);var O=S(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,k,U));return O.quill.container.classList.add("ql-snow"),O}return o(P,[{key:"extendToolbar",value:function(U){U.container.classList.add("ql-snow"),this.buildButtons([].slice.call(U.container.querySelectorAll("button")),x.default),this.buildPickers([].slice.call(U.container.querySelectorAll("select")),x.default),this.tooltip=new I(this.quill,this.options.bounds),U.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(O,H){U.handlers.link.call(U,!H.format.link)})}}]),P})(p.default);N.DEFAULTS=(0,c.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(P){if(P){var k=this.quill.getSelection();if(k==null||k.length==0)return;var U=this.quill.getText(k);/^\S+@\S+\.\S+$/.test(U)&&U.indexOf("mailto:")!==0&&(U="mailto:"+U);var O=this.quill.theme.tooltip;O.edit("link",U)}else this.quill.format("link",!1)}}}}});var I=(function(F){R(P,F);function P(k,U){C(this,P);var O=S(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,k,U));return O.preview=O.root.querySelector("a.ql-preview"),O}return o(P,[{key:"listen",value:function(){var U=this;a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(O){U.root.classList.contains("ql-editing")?U.save():U.edit("link",U.preview.textContent),O.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(O){if(U.linkRange!=null){var H=U.linkRange;U.restoreFocus(),U.quill.formatText(H,"link",!1,f.default.sources.USER),delete U.linkRange}O.preventDefault(),U.hide()}),this.quill.on(f.default.events.SELECTION_CHANGE,function(O,H,G){if(O!=null){if(O.length===0&&G===f.default.sources.USER){var X=U.quill.scroll.descendant(g.default,O.index),Z=s(X,2),z=Z[0],Q=Z[1];if(z!=null){U.linkRange=new y.Range(O.index-Q,z.length());var B=g.default.formats(z.domNode);U.preview.textContent=B,U.preview.setAttribute("href",B),U.show(),U.position(U.quill.getBounds(U.linkRange));return}}else delete U.linkRange;U.hide()}})}},{key:"show",value:function(){a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),P})(h.BaseTooltip);I.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=N}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(29),a=ie(s),o=i(36),l=i(38),c=i(64),u=i(65),f=ie(u),h=i(66),p=ie(h),v=i(67),g=ie(v),y=i(37),_=i(26),x=i(39),w=i(40),C=i(56),S=ie(C),R=i(68),D=ie(R),N=i(27),I=ie(N),F=i(69),P=ie(F),k=i(70),U=ie(k),O=i(71),H=ie(O),G=i(72),X=ie(G),Z=i(73),z=ie(Z),Q=i(13),B=ie(Q),j=i(74),q=ie(j),J=i(75),Y=ie(J),te=i(57),oe=ie(te),de=i(41),fe=ie(de),Ce=i(28),Pe=ie(Ce),pe=i(59),Me=ie(pe),W=i(60),ge=ie(W),_e=i(61),ce=ie(_e),re=i(108),le=ie(re),ke=i(62),Ne=ie(ke);function ie(ue){return ue&&ue.__esModule?ue:{default:ue}}a.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":o.AlignClass,"attributors/class/background":y.BackgroundClass,"attributors/class/color":_.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":x.FontClass,"attributors/class/size":w.SizeClass,"attributors/style/align":o.AlignStyle,"attributors/style/background":y.BackgroundStyle,"attributors/style/color":_.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":x.FontStyle,"attributors/style/size":w.SizeStyle},!0),a.default.register({"formats/align":o.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":c.IndentClass,"formats/background":y.BackgroundStyle,"formats/color":_.ColorStyle,"formats/font":x.FontClass,"formats/size":w.SizeClass,"formats/blockquote":f.default,"formats/code-block":B.default,"formats/header":p.default,"formats/list":g.default,"formats/bold":S.default,"formats/code":Q.Code,"formats/italic":D.default,"formats/link":I.default,"formats/script":P.default,"formats/strike":U.default,"formats/underline":H.default,"formats/image":X.default,"formats/video":z.default,"formats/list/item":v.ListItem,"modules/formula":q.default,"modules/syntax":Y.default,"modules/toolbar":oe.default,"themes/bubble":le.default,"themes/snow":Ne.default,"ui/icons":fe.default,"ui/picker":Pe.default,"ui/icon-picker":ge.default,"ui/color-picker":Me.default,"ui/tooltip":ce.default},!0),r.default=a.default}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var s=(function(){function g(y,_){for(var x=0;x<_.length;x++){var w=_[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}return function(y,_,x){return _&&g(y.prototype,_),x&&g(y,x),y}})(),a=function g(y,_,x){y===null&&(y=Function.prototype);var w=Object.getOwnPropertyDescriptor(y,_);if(w===void 0){var C=Object.getPrototypeOf(y);return C===null?void 0:g(C,_,x)}else{if("value"in w)return w.value;var S=w.get;return S===void 0?void 0:S.call(x)}},o=i(0),l=c(o);function c(g){return g&&g.__esModule?g:{default:g}}function u(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function f(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function h(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var p=(function(g){h(y,g);function y(){return u(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,[{key:"add",value:function(x,w){if(w==="+1"||w==="-1"){var C=this.value(x)||0;w=w==="+1"?C+1:C-1}return w===0?(this.remove(x),!0):a(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"add",this).call(this,x,w)}},{key:"canAdd",value:function(x,w){return a(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"canAdd",this).call(this,x,w)||a(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"canAdd",this).call(this,x,parseInt(w))}},{key:"value",value:function(x){return parseInt(a(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"value",this).call(this,x))||void 0}}]),y})(l.default.Attributor.Class),v=new p("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=v}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(4),a=o(s);function o(h){return h&&h.__esModule?h:{default:h}}function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function c(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function u(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=(function(h){u(p,h);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(a.default);f.blotName="blockquote",f.tagName="blockquote",r.default=f}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function p(v,g){for(var y=0;y<g.length;y++){var _=g[y];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(v,_.key,_)}}return function(v,g,y){return g&&p(v.prototype,g),y&&p(v,y),v}})(),a=i(4),o=l(a);function l(p){return p&&p.__esModule?p:{default:p}}function c(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function u(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function f(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var h=(function(p){f(v,p);function v(){return c(this,v),u(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return s(v,null,[{key:"formats",value:function(y){return this.tagName.indexOf(y.tagName)+1}}]),v})(o.default);h.blotName="header",h.tagName=["H1","H2","H3","H4","H5","H6"],r.default=h}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var s=(function(){function C(S,R){for(var D=0;D<R.length;D++){var N=R[D];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(S,N.key,N)}}return function(S,R,D){return R&&C(S.prototype,R),D&&C(S,D),S}})(),a=function C(S,R,D){S===null&&(S=Function.prototype);var N=Object.getOwnPropertyDescriptor(S,R);if(N===void 0){var I=Object.getPrototypeOf(S);return I===null?void 0:C(I,R,D)}else{if("value"in N)return N.value;var F=N.get;return F===void 0?void 0:F.call(D)}},o=i(0),l=p(o),c=i(4),u=p(c),f=i(25),h=p(f);function p(C){return C&&C.__esModule?C:{default:C}}function v(C,S,R){return S in C?Object.defineProperty(C,S,{value:R,enumerable:!0,configurable:!0,writable:!0}):C[S]=R,C}function g(C,S){if(!(C instanceof S))throw new TypeError("Cannot call a class as a function")}function y(C,S){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:C}function _(C,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);C.prototype=Object.create(S&&S.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(C,S):C.__proto__=S)}var x=(function(C){_(S,C);function S(){return g(this,S),y(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return s(S,[{key:"format",value:function(D,N){D===w.blotName&&!N?this.replaceWith(l.default.create(this.statics.scope)):a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"format",this).call(this,D,N)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(D,N){return this.parent.isolate(this.offset(this.parent),this.length()),D===this.parent.statics.blotName?(this.parent.replaceWith(D,N),this):(this.parent.unwrap(),a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replaceWith",this).call(this,D,N))}}],[{key:"formats",value:function(D){return D.tagName===this.tagName?void 0:a(S.__proto__||Object.getPrototypeOf(S),"formats",this).call(this,D)}}]),S})(u.default);x.blotName="list-item",x.tagName="LI";var w=(function(C){_(S,C),s(S,null,[{key:"create",value:function(D){var N=D==="ordered"?"OL":"UL",I=a(S.__proto__||Object.getPrototypeOf(S),"create",this).call(this,N);return(D==="checked"||D==="unchecked")&&I.setAttribute("data-checked",D==="checked"),I}},{key:"formats",value:function(D){if(D.tagName==="OL")return"ordered";if(D.tagName==="UL")return D.hasAttribute("data-checked")?D.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function S(R){g(this,S);var D=y(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,R)),N=function(F){if(F.target.parentNode===R){var P=D.statics.formats(R),k=l.default.find(F.target);P==="checked"?k.format("list","unchecked"):P==="unchecked"&&k.format("list","checked")}};return R.addEventListener("touchstart",N),R.addEventListener("mousedown",N),D}return s(S,[{key:"format",value:function(D,N){this.children.length>0&&this.children.tail.format(D,N)}},{key:"formats",value:function(){return v({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(D,N){if(D instanceof x)a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertBefore",this).call(this,D,N);else{var I=N==null?this.length():N.offset(this),F=this.split(I);F.parent.insertBefore(D,F)}}},{key:"optimize",value:function(D){a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"optimize",this).call(this,D);var N=this.next;N!=null&&N.prev===this&&N.statics.blotName===this.statics.blotName&&N.domNode.tagName===this.domNode.tagName&&N.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(N.moveChildren(this),N.remove())}},{key:"replace",value:function(D){if(D.statics.blotName!==this.statics.blotName){var N=l.default.create(this.statics.defaultChild);D.moveChildren(N),this.appendChild(N)}a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replace",this).call(this,D)}}]),S})(h.default);w.blotName="list",w.scope=l.default.Scope.BLOCK_BLOT,w.tagName=["OL","UL"],w.defaultChild="list-item",w.allowedChildren=[x],r.ListItem=x,r.default=w}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(56),a=o(s);function o(h){return h&&h.__esModule?h:{default:h}}function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function c(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function u(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=(function(h){u(p,h);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(a.default);f.blotName="italic",f.tagName=["EM","I"],r.default=f}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function v(g,y){for(var _=0;_<y.length;_++){var x=y[_];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,y,_){return y&&v(g.prototype,y),_&&v(g,_),g}})(),a=function v(g,y,_){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,y);if(x===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:v(w,y,_)}else{if("value"in x)return x.value;var C=x.get;return C===void 0?void 0:C.call(_)}},o=i(6),l=c(o);function c(v){return v&&v.__esModule?v:{default:v}}function u(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function f(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function h(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=(function(v){h(g,v);function g(){return u(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,null,[{key:"create",value:function(_){return _==="super"?document.createElement("sup"):_==="sub"?document.createElement("sub"):a(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,_)}},{key:"formats",value:function(_){if(_.tagName==="SUB")return"sub";if(_.tagName==="SUP")return"super"}}]),g})(l.default);p.blotName="script",p.tagName=["SUB","SUP"],r.default=p}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(6),a=o(s);function o(h){return h&&h.__esModule?h:{default:h}}function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function c(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function u(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=(function(h){u(p,h);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(a.default);f.blotName="strike",f.tagName="S",r.default=f}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(6),a=o(s);function o(h){return h&&h.__esModule?h:{default:h}}function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function c(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function u(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=(function(h){u(p,h);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(a.default);f.blotName="underline",f.tagName="U",r.default=f}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function y(_,x){for(var w=0;w<x.length;w++){var C=x[w];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(_,C.key,C)}}return function(_,x,w){return x&&y(_.prototype,x),w&&y(_,w),_}})(),a=function y(_,x,w){_===null&&(_=Function.prototype);var C=Object.getOwnPropertyDescriptor(_,x);if(C===void 0){var S=Object.getPrototypeOf(_);return S===null?void 0:y(S,x,w)}else{if("value"in C)return C.value;var R=C.get;return R===void 0?void 0:R.call(w)}},o=i(0),l=u(o),c=i(27);function u(y){return y&&y.__esModule?y:{default:y}}function f(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")}function h(y,_){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:y}function p(y,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);y.prototype=Object.create(_&&_.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(y,_):y.__proto__=_)}var v=["alt","height","width"],g=(function(y){p(_,y);function _(){return f(this,_),h(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return s(_,[{key:"format",value:function(w,C){v.indexOf(w)>-1?C?this.domNode.setAttribute(w,C):this.domNode.removeAttribute(w):a(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"format",this).call(this,w,C)}}],[{key:"create",value:function(w){var C=a(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,w);return typeof w=="string"&&C.setAttribute("src",this.sanitize(w)),C}},{key:"formats",value:function(w){return v.reduce(function(C,S){return w.hasAttribute(S)&&(C[S]=w.getAttribute(S)),C},{})}},{key:"match",value:function(w){return/\.(jpe?g|gif|png)$/.test(w)||/^data:image\/.+;base64/.test(w)}},{key:"sanitize",value:function(w){return(0,c.sanitize)(w,["http","https","data"])?w:"//:0"}},{key:"value",value:function(w){return w.getAttribute("src")}}]),_})(l.default.Embed);g.blotName="image",g.tagName="IMG",r.default=g}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function y(_,x){for(var w=0;w<x.length;w++){var C=x[w];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(_,C.key,C)}}return function(_,x,w){return x&&y(_.prototype,x),w&&y(_,w),_}})(),a=function y(_,x,w){_===null&&(_=Function.prototype);var C=Object.getOwnPropertyDescriptor(_,x);if(C===void 0){var S=Object.getPrototypeOf(_);return S===null?void 0:y(S,x,w)}else{if("value"in C)return C.value;var R=C.get;return R===void 0?void 0:R.call(w)}},o=i(4),l=i(27),c=u(l);function u(y){return y&&y.__esModule?y:{default:y}}function f(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")}function h(y,_){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:y}function p(y,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);y.prototype=Object.create(_&&_.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(y,_):y.__proto__=_)}var v=["height","width"],g=(function(y){p(_,y);function _(){return f(this,_),h(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return s(_,[{key:"format",value:function(w,C){v.indexOf(w)>-1?C?this.domNode.setAttribute(w,C):this.domNode.removeAttribute(w):a(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"format",this).call(this,w,C)}}],[{key:"create",value:function(w){var C=a(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,w);return C.setAttribute("frameborder","0"),C.setAttribute("allowfullscreen",!0),C.setAttribute("src",this.sanitize(w)),C}},{key:"formats",value:function(w){return v.reduce(function(C,S){return w.hasAttribute(S)&&(C[S]=w.getAttribute(S)),C},{})}},{key:"sanitize",value:function(w){return c.default.sanitize(w)}},{key:"value",value:function(w){return w.getAttribute("src")}}]),_})(o.BlockEmbed);g.blotName="video",g.className="ql-video",g.tagName="IFRAME",r.default=g}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var s=(function(){function w(C,S){for(var R=0;R<S.length;R++){var D=S[R];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(C,D.key,D)}}return function(C,S,R){return S&&w(C.prototype,S),R&&w(C,R),C}})(),a=function w(C,S,R){C===null&&(C=Function.prototype);var D=Object.getOwnPropertyDescriptor(C,S);if(D===void 0){var N=Object.getPrototypeOf(C);return N===null?void 0:w(N,S,R)}else{if("value"in D)return D.value;var I=D.get;return I===void 0?void 0:I.call(R)}},o=i(35),l=p(o),c=i(5),u=p(c),f=i(9),h=p(f);function p(w){return w&&w.__esModule?w:{default:w}}function v(w,C){if(!(w instanceof C))throw new TypeError("Cannot call a class as a function")}function g(w,C){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:w}function y(w,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);w.prototype=Object.create(C&&C.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(w,C):w.__proto__=C)}var _=(function(w){y(C,w);function C(){return v(this,C),g(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return s(C,null,[{key:"create",value:function(R){var D=a(C.__proto__||Object.getPrototypeOf(C),"create",this).call(this,R);return typeof R=="string"&&(window.katex.render(R,D,{throwOnError:!1,errorColor:"#f00"}),D.setAttribute("data-value",R)),D}},{key:"value",value:function(R){return R.getAttribute("data-value")}}]),C})(l.default);_.blotName="formula",_.className="ql-formula",_.tagName="SPAN";var x=(function(w){y(C,w),s(C,null,[{key:"register",value:function(){u.default.register(_,!0)}}]);function C(){v(this,C);var S=g(this,(C.__proto__||Object.getPrototypeOf(C)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return S}return C})(h.default);r.FormulaBlot=_,r.default=x}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var s=(function(){function R(D,N){for(var I=0;I<N.length;I++){var F=N[I];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(D,F.key,F)}}return function(D,N,I){return N&&R(D.prototype,N),I&&R(D,I),D}})(),a=function R(D,N,I){D===null&&(D=Function.prototype);var F=Object.getOwnPropertyDescriptor(D,N);if(F===void 0){var P=Object.getPrototypeOf(D);return P===null?void 0:R(P,N,I)}else{if("value"in F)return F.value;var k=F.get;return k===void 0?void 0:k.call(I)}},o=i(0),l=g(o),c=i(5),u=g(c),f=i(9),h=g(f),p=i(13),v=g(p);function g(R){return R&&R.__esModule?R:{default:R}}function y(R,D){if(!(R instanceof D))throw new TypeError("Cannot call a class as a function")}function _(R,D){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:R}function x(R,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);R.prototype=Object.create(D&&D.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(R,D):R.__proto__=D)}var w=(function(R){x(D,R);function D(){return y(this,D),_(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return s(D,[{key:"replaceWith",value:function(I){this.domNode.textContent=this.domNode.textContent,this.attach(),a(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"replaceWith",this).call(this,I)}},{key:"highlight",value:function(I){var F=this.domNode.textContent;this.cachedText!==F&&((F.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=I(F),this.domNode.normalize(),this.attach()),this.cachedText=F)}}]),D})(v.default);w.className="ql-syntax";var C=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),S=(function(R){x(D,R),s(D,null,[{key:"register",value:function(){u.default.register(C,!0),u.default.register(w,!0)}}]);function D(N,I){y(this,D);var F=_(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,N,I));if(typeof F.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var P=null;return F.quill.on(u.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(P),P=setTimeout(function(){F.highlight(),P=null},F.options.interval)}),F.highlight(),F}return s(D,[{key:"highlight",value:function(){var I=this;if(!this.quill.selection.composing){this.quill.update(u.default.sources.USER);var F=this.quill.getSelection();this.quill.scroll.descendants(w).forEach(function(P){P.highlight(I.options.highlight)}),this.quill.update(u.default.sources.SILENT),F!=null&&this.quill.setSelection(F,u.default.sources.SILENT)}}}]),D})(h.default);S.DEFAULTS={highlight:(function(){return window.hljs==null?null:function(R){var D=window.hljs.highlightAuto(R);return D.value}})(),interval:1e3},r.CodeBlock=w,r.CodeToken=C,r.default=S}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'}),(function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'}),(function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'}),(function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'}),(function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var s=function D(N,I,F){N===null&&(N=Function.prototype);var P=Object.getOwnPropertyDescriptor(N,I);if(P===void 0){var k=Object.getPrototypeOf(N);return k===null?void 0:D(k,I,F)}else{if("value"in P)return P.value;var U=P.get;return U===void 0?void 0:U.call(F)}},a=(function(){function D(N,I){for(var F=0;F<I.length;F++){var P=I[F];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(N,P.key,P)}}return function(N,I,F){return I&&D(N.prototype,I),F&&D(N,F),N}})(),o=i(3),l=y(o),c=i(8),u=y(c),f=i(43),h=y(f),p=i(15),v=i(41),g=y(v);function y(D){return D&&D.__esModule?D:{default:D}}function _(D,N){if(!(D instanceof N))throw new TypeError("Cannot call a class as a function")}function x(D,N){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:D}function w(D,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);D.prototype=Object.create(N&&N.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(D,N):D.__proto__=N)}var C=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],S=(function(D){w(N,D);function N(I,F){_(this,N),F.modules.toolbar!=null&&F.modules.toolbar.container==null&&(F.modules.toolbar.container=C);var P=x(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,I,F));return P.quill.container.classList.add("ql-bubble"),P}return a(N,[{key:"extendToolbar",value:function(F){this.tooltip=new R(this.quill,this.options.bounds),this.tooltip.root.appendChild(F.container),this.buildButtons([].slice.call(F.container.querySelectorAll("button")),g.default),this.buildPickers([].slice.call(F.container.querySelectorAll("select")),g.default)}}]),N})(h.default);S.DEFAULTS=(0,l.default)(!0,{},h.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(N){N?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var R=(function(D){w(N,D);function N(I,F){_(this,N);var P=x(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,I,F));return P.quill.on(u.default.events.EDITOR_CHANGE,function(k,U,O,H){if(k===u.default.events.SELECTION_CHANGE)if(U!=null&&U.length>0&&H===u.default.sources.USER){P.show(),P.root.style.left="0px",P.root.style.width="",P.root.style.width=P.root.offsetWidth+"px";var G=P.quill.getLines(U.index,U.length);if(G.length===1)P.position(P.quill.getBounds(U));else{var X=G[G.length-1],Z=P.quill.getIndex(X),z=Math.min(X.length()-1,U.index+U.length-Z),Q=P.quill.getBounds(new p.Range(Z,z));P.position(Q)}}else document.activeElement!==P.textbox&&P.quill.hasFocus()&&P.hide()}),P}return a(N,[{key:"listen",value:function(){var F=this;s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){F.root.classList.remove("ql-editing")}),this.quill.on(u.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!F.root.classList.contains("ql-hidden")){var P=F.quill.getSelection();P!=null&&F.position(F.quill.getBounds(P))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(F){var P=s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"position",this).call(this,F),k=this.root.querySelector(".ql-tooltip-arrow");if(k.style.marginLeft="",P===0)return P;k.style.marginLeft=-1*P-k.offsetWidth/2+"px"}}]),N})(f.BaseTooltip);R.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=R,r.default=S}),(function(n,r,i){n.exports=i(63)})]).default})})(A2)),A2.exports}var jo,CM;function cve(){if(CM)return jo;CM=1;var t=jo&&jo.__extends||(function(){var u=function(f,h){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var g in v)v.hasOwnProperty(g)&&(p[g]=v[g])},u(f,h)};return function(f,h){u(f,h);function p(){this.constructor=f}f.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}})(),e=jo&&jo.__assign||function(){return e=Object.assign||function(u){for(var f,h=1,p=arguments.length;h<p;h++){f=arguments[h];for(var v in f)Object.prototype.hasOwnProperty.call(f,v)&&(u[v]=f[v])}return u},e.apply(this,arguments)},n=jo&&jo.__spreadArrays||function(){for(var u=0,f=0,h=arguments.length;f<h;f++)u+=arguments[f].length;for(var p=Array(u),v=0,f=0;f<h;f++)for(var g=arguments[f],y=0,_=g.length;y<_;y++,v++)p[v]=g[y];return p},r=jo&&jo.__importDefault||function(u){return u&&u.__esModule?u:{default:u}},i=r(f_()),s=r(MB()),a=r(ave()),o=r(lve()),l=(function(u){t(f,u);function f(h){var p=u.call(this,h)||this;p.dirtyProps=["modules","formats","bounds","theme","children"],p.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],p.state={generation:0},p.selection=null,p.onEditorChange=function(g,y,_,x){var w,C,S,R;g==="text-change"?(C=(w=p).onEditorChangeText)===null||C===void 0||C.call(w,p.editor.root.innerHTML,y,x,p.unprivilegedEditor):g==="selection-change"&&((R=(S=p).onEditorChangeSelection)===null||R===void 0||R.call(S,y,x,p.unprivilegedEditor))};var v=p.isControlled()?h.value:h.defaultValue;return p.value=v??"",p}return f.prototype.validateProps=function(h){var p;if(i.default.Children.count(h.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(i.default.Children.count(h.children)){var v=i.default.Children.only(h.children);if(((p=v)===null||p===void 0?void 0:p.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&h.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},f.prototype.shouldComponentUpdate=function(h,p){var v=this,g;if(this.validateProps(h),!this.editor||this.state.generation!==p.generation)return!0;if("value"in h){var y=this.getEditorContents(),_=(g=h.value,g??"");this.isEqualValue(_,y)||this.setEditorContents(this.editor,_)}return h.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,h.readOnly),n(this.cleanProps,this.dirtyProps).some(function(x){return!a.default(h[x],v.props[x])})},f.prototype.shouldComponentRegenerate=function(h){var p=this;return this.dirtyProps.some(function(v){return!a.default(h[v],p.props[v])})},f.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},f.prototype.componentWillUnmount=function(){this.destroyEditor()},f.prototype.componentDidUpdate=function(h,p){var v=this;if(this.editor&&this.shouldComponentRegenerate(h)){var g=this.editor.getContents(),y=this.editor.getSelection();this.regenerationSnapshot={delta:g,selection:y},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==p.generation){var _=this.regenerationSnapshot,g=_.delta,x=_.selection;delete this.regenerationSnapshot,this.instantiateEditor();var w=this.editor;w.setContents(g),c(function(){return v.setEditorSelection(w,x)})}},f.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},f.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},f.prototype.isControlled=function(){return"value"in this.props},f.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},f.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},f.prototype.createEditor=function(h,p){var v=new o.default(h,p);return p.tabIndex!=null&&this.setEditorTabIndex(v,p.tabIndex),this.hookEditor(v),v},f.prototype.hookEditor=function(h){this.unprivilegedEditor=this.makeUnprivilegedEditor(h),h.on("editor-change",this.onEditorChange)},f.prototype.unhookEditor=function(h){h.off("editor-change",this.onEditorChange)},f.prototype.getEditorContents=function(){return this.value},f.prototype.getEditorSelection=function(){return this.selection},f.prototype.isDelta=function(h){return h&&h.ops},f.prototype.isEqualValue=function(h,p){return this.isDelta(h)&&this.isDelta(p)?a.default(h.ops,p.ops):a.default(h,p)},f.prototype.setEditorContents=function(h,p){var v=this;this.value=p;var g=this.getEditorSelection();typeof p=="string"?h.setContents(h.clipboard.convert(p)):h.setContents(p),c(function(){return v.setEditorSelection(h,g)})},f.prototype.setEditorSelection=function(h,p){if(this.selection=p,p){var v=h.getLength();p.index=Math.max(0,Math.min(p.index,v-1)),p.length=Math.max(0,Math.min(p.length,v-1-p.index)),h.setSelection(p)}},f.prototype.setEditorTabIndex=function(h,p){var v,g;!((g=(v=h)===null||v===void 0?void 0:v.scroll)===null||g===void 0)&&g.domNode&&(h.scroll.domNode.tabIndex=p)},f.prototype.setEditorReadOnly=function(h,p){p?h.disable():h.enable()},f.prototype.makeUnprivilegedEditor=function(h){var p=h;return{getHTML:function(){return p.root.innerHTML},getLength:p.getLength.bind(p),getText:p.getText.bind(p),getContents:p.getContents.bind(p),getSelection:p.getSelection.bind(p),getBounds:p.getBounds.bind(p)}},f.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var h=s.default.findDOMNode(this.editingArea);if(!h)throw new Error("Cannot find element for editing area");if(h.nodeType===3)throw new Error("Editing area cannot be a text node");return h},f.prototype.renderEditingArea=function(){var h=this,p=this.props,v=p.children,g=p.preserveWhitespace,y=this.state.generation,_={key:y,ref:function(x){h.editingArea=x}};return i.default.Children.count(v)?i.default.cloneElement(i.default.Children.only(v),_):g?i.default.createElement("pre",e({},_)):i.default.createElement("div",e({},_))},f.prototype.render=function(){var h;return i.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(h=this.props.className,h??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},f.prototype.onEditorChangeText=function(h,p,v,g){var y,_;if(this.editor){var x=this.isDelta(this.value)?g.getContents():g.getHTML();x!==this.getEditorContents()&&(this.lastDeltaChangeSet=p,this.value=x,(_=(y=this.props).onChange)===null||_===void 0||_.call(y,h,p,v,g))}},f.prototype.onEditorChangeSelection=function(h,p,v){var g,y,_,x,w,C;if(this.editor){var S=this.getEditorSelection(),R=!S&&h,D=S&&!h;a.default(h,S)||(this.selection=h,(y=(g=this.props).onChangeSelection)===null||y===void 0||y.call(g,h,p,v),R?(x=(_=this.props).onFocus)===null||x===void 0||x.call(_,h,p,v):D&&((C=(w=this.props).onBlur)===null||C===void 0||C.call(w,S,p,v)))}},f.prototype.focus=function(){this.editor&&this.editor.focus()},f.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},f.displayName="React Quill",f.Quill=o.default,f.defaultProps={theme:"snow",modules:{},readOnly:!1},f})(i.default.Component);function c(u){Promise.resolve().then(u)}return jo=l,jo}var uve=cve();const Sr=d_(uve);if(Sr.Quill){const t=Sr.Quill.import("attributors/style/size");t.whitelist=["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px"],Sr.Quill.register("attributors/style/size",t,!0)}const dve=t=>t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,""),fve=()=>{const{pages:t,refetchAdminData:e}=un(),[n,r]=V.useState({isOpen:!1,mode:"create",page:null}),[i,s]=V.useState({title:"",content:"",lang:"ar"}),[a,o]=V.useState(!1),l=()=>{s({title:"",content:"",lang:"ar"}),r({isOpen:!0,mode:"create",page:null})},c=g=>{s({title:g.title,content:g.content,lang:g.lang||"ar"}),r({isOpen:!0,mode:"edit",page:g})},u=()=>{r({isOpen:!1,mode:"create",page:null})},f=async()=>{if(!i.title.trim()){alert("    .");return}o(!0);try{const g=`      : "${i.title}".   HTML   (h2, h3)  (p)  (ul/li)     .`;s(_=>({..._,content:""}));const y=await _c({model:"gemini-2.5-flash",contents:g});s(_=>({..._,content:y.text||""}))}catch(g){console.error("AI content generation failed:",g),alert("  .        .")}finally{o(!1)}},h=async g=>{g.preventDefault();const y=dve(i.title);n.mode==="create"?await hf.create({...i,slug:y,enabled:!1}):n.page&&await hf.update(n.page.id,{...i,slug:y}),await e(),u()},p=async g=>{const y=t.find(_=>_.id===g);y&&(await hf.toggleStatus(g,y.enabled),await e())},v=async g=>{window.confirm("              .")&&(await hf.delete(g),await e())};return d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:" "}),d.jsx("button",{onClick:l,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"+   "})]}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:t.map(g=>{var y;return d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:g.title}),d.jsx("td",{className:"p-3 text-gray-600 text-sm",children:((y=Au.find(_=>_.code===g.lang))==null?void 0:y.name)||g.lang||" ()"}),d.jsx("td",{className:"p-3",children:d.jsx("button",{onClick:()=>p(g.id),className:`px-3 py-1 text-xs font-semibold rounded-full ${g.enabled?"text-green-800 bg-green-200":"text-red-800 bg-red-200"}`,children:g.enabled?"":""})}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse",children:[d.jsx(dn,{to:`/dz/page/${g.slug}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>c(g),className:"text-green-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>v(g.id),className:"text-red-600 hover:underline text-sm font-semibold",children:""})]})]},g.id)})})]})})}),n.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl",children:d.jsxs("form",{onSubmit:h,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:n.mode==="create"?"  ":" "})}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsxs("div",{className:"flex gap-2 items-center",children:[d.jsx("input",{type:"text",id:"title",value:i.title,onChange:g=>s(y=>({...y,title:g.target.value})),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"}),d.jsxs("button",{type:"button",onClick:f,disabled:a,className:"flex items-center gap-2 px-3 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 disabled:bg-purple-300",title:"   ",children:[a?d.jsx(Tt,{className:"animate-spin"}):d.jsx(ya,{}),d.jsx("span",{children:""})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"lang",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("select",{id:"lang",value:i.lang||"ar",onChange:g=>s(y=>({...y,lang:g.target.value})),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",children:Au.map(g=>d.jsx("option",{value:g.code,children:g.name},g.code))})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 mb-1",children:""}),d.jsx(Sr,{theme:"snow",value:i.content,onChange:g=>s(y=>({...y,content:g})),modules:{toolbar:[[{size:["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px",!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"},{align:[]}],["link","image","video"],["clean"]]}})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:u,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:""})]})]})})})]})},vs=(t,e,n=!0)=>{const r=n?`meta[property='${t}']`:`meta[name='${t}']`;let i=document.querySelector(r);i||(i=document.createElement("meta"),i.setAttribute(n?"property":"name",t),document.head.appendChild(i)),i.setAttribute("content",e)},hve=()=>{const{countryCode:t}=_a(),{siteSettings:e}=un(),{language:n,t:r}=Ui(),i=window.staticPageData||null,[s,a]=V.useState([]);return V.useEffect(()=>{(async()=>{if(!(!t||!i))try{const l=await fetch(`https://datas.gitut.com/data/json/${t}-pages-public.json`);if(!l.ok)return;const u=(await l.json()).filter(f=>f.enabled&&f.id!==i.id&&(f.lang===n||!f.lang&&n==="ar"));a(u)}catch(l){console.error("Error fetching related pages list:",l)}})()},[t,n,i]),V.useEffect(()=>{var o,l;if(i&&e){const c=((o=e.seo)==null?void 0:o[t||"dz"])||((l=e.seo)==null?void 0:l.default);if(c){const u=`${i.title} ${c.titleSeparator} ${c.siteName}`,f=i.content.replace(/<[^>]*>/g,"").substring(0,160)+(i.content.length>160?"...":""),h="https://datas.gitut.com/data/image/gitut-og-main.png",p=n==="ar"?"ar_AR":n==="fr"?"fr_FR":"en_US";document.title=u,vs("description",f,!1),vs("og:title",u),vs("og:description",f),vs("og:image",h),vs("og:image:secure_url",h),vs("og:image:width","1200"),vs("og:image:height","630"),vs("og:url",window.location.href),vs("og:type","article"),vs("og:site_name",c.siteName),vs("og:locale",p),vs("twitter:card","summary_large_image",!1),vs("twitter:url",window.location.href,!1),vs("twitter:title",u,!1),vs("twitter:description",f,!1),vs("twitter:image",h,!1)}}},[i,e,t,n]),i?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[d.jsxs("article",{className:"md:col-span-3 bg-white rounded-lg shadow-xl p-6 md:p-10",children:[d.jsx("header",{className:"mb-8 border-b pb-6",children:d.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 leading-tight",children:i.title})}),d.jsx("div",{className:"prose prose-lg max-w-none text-gray-800 leading-relaxed",dangerouslySetInnerHTML:{__html:i.content}})]}),s.length>0&&d.jsx("aside",{className:"md:col-span-1 space-y-6",children:d.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg border sticky top-24",children:[d.jsx("h3",{className:"font-bold text-lg mb-3 text-gray-800 border-b pb-2",children:r("relatedPages.title")}),d.jsx("div",{className:"space-y-3",children:s.map(o=>d.jsx(dn,{to:`/${t}/page/${o.slug}/`,className:"block p-3 bg-gray-50 rounded-md border hover:border-green-400 hover:bg-green-50 transition-all",children:d.jsx("p",{className:"font-semibold text-gray-900",children:o.title})},o.id))})]})})]}),d.jsx(eG,{url:window.location.href,title:i.title,description:i.content})]}):d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-3xl font-bold mb-4",children:"404 -   "}),d.jsx("p",{className:"text-gray-600 mb-6",children:"         ."}),d.jsx(dn,{to:`/${t||"dz"}`,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"   "})]})},SM={DASHBOARD_TOP:"   ",PROFILE_SIDEBAR:"   ",PDF_INTERSTITIAL:"   ",PUBLIC_FORM_LEFT:"   ",PUBLIC_FORM_RIGHT:"   ",SERVICE_DETAIL_MAIN_TOP:"  ( )",SERVICE_DETAIL_MAIN_BOTTOM:"   ( )",SITE_DETAIL_SIDEBAR:"   ( )",BLOG_POST_BODY_TOP:" (  )",BLOG_POST_BODY_BOTTOM:" (  )",BLOG_POST_SIDEBAR:" ( )"},pve=()=>{const{ads:t}=un(),[e,n]=V.useState(t),[r,i]=V.useState({isOpen:!1,mode:"create",ad:null}),[s,a]=V.useState({title:"",content:"",imageUrl:"",link:"",placement:"DASHBOARD_TOP",enabled:!0}),[o,l]=V.useState(!1);V.useEffect(()=>{n(t)},[t]);const c=async()=>{l(!0);try{const y=await vc("settings","global"),_=JSON.stringify(y);await ca({files:[{path:"data/json/site-settings-public.json",content:_}],commitMessage:"feat: Auto-update ads in settings",repoConfig:{owner:"gitut-cms",repo:"files"}}),console.log("Ads successfully published to GitHub.")}catch(y){console.error("Failed to auto-publish ads to GitHub:",y),alert("            GitHub.")}finally{l(!1)}},u=()=>{a({title:"",content:"",imageUrl:"",link:"",placement:"DASHBOARD_TOP",enabled:!0}),i({isOpen:!0,mode:"create",ad:null})},f=y=>{a({...y}),i({isOpen:!0,mode:"edit",ad:y})},h=()=>{i({isOpen:!1,mode:"create",ad:null})},p=async y=>{y.preventDefault();try{r.mode==="create"?await Rp.create(s):r.ad&&await Rp.update(r.ad.id,s),h(),await c(),alert("   !")}catch(_){console.error("Failed to save ad:",_),alert("  .")}},v=async y=>{try{const _=e.find(x=>x.id===y);_&&(await Rp.toggleStatus(y,_.enabled),n(x=>x.map(w=>w.id===y?{...w,enabled:!w.enabled}:w)),await c())}catch(_){console.error("Failed to toggle status:",_),alert("  .")}},g=async y=>{if(window.confirm("        "))try{await Rp.delete(y),n(_=>_.filter(x=>x.id!==y)),await c()}catch(_){console.error("Failed to delete ad:",_),alert("  .")}};return d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:" "}),o&&d.jsxs("span",{className:"flex items-center gap-2 text-sm text-blue-600 bg-blue-50 px-3 py-1 rounded-full",children:[d.jsx(Tt,{className:"animate-spin"}),"  ..."]})]}),d.jsx("button",{onClick:u,disabled:o,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 transition-colors disabled:bg-gray-400",children:"+   "})]}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:e.map(y=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:y.title}),d.jsx("td",{className:"p-3 text-gray-600",children:SM[y.placement]}),d.jsx("td",{className:"p-3",children:d.jsx("button",{onClick:()=>v(y.id),disabled:o,className:`px-3 py-1 text-xs font-semibold rounded-full disabled:opacity-50 ${y.enabled?"text-green-800 bg-green-200":"text-red-800 bg-red-200"}`,children:y.enabled?"":""})}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse",children:[d.jsx("button",{onClick:()=>f(y),disabled:o,className:"text-green-600 hover:underline text-sm font-semibold disabled:opacity-50",children:""}),d.jsx("button",{onClick:()=>g(y.id),disabled:o,className:"text-red-600 hover:underline text-sm font-semibold disabled:opacity-50",children:""})]})]},y.id))})]})})}),r.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",children:d.jsxs("form",{onSubmit:p,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:r.mode==="create"?"  ":" "})}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",id:"title",value:s.title,onChange:y=>a(_=>({..._,title:y.target.value})),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 mb-1",children:""}),d.jsx("textarea",{id:"content",rows:3,value:s.content,onChange:y=>a(_=>({..._,content:y.target.value})),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"imageUrl",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"url",id:"imageUrl",value:s.imageUrl,onChange:y=>a(_=>({..._,imageUrl:y.target.value})),required:!0,placeholder:"https://picsum.photos/...",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"link",className:"block text-sm font-medium text-gray-700 mb-1",children:" ( )"}),d.jsx("input",{type:"url",id:"link",value:s.link,onChange:y=>a(_=>({..._,link:y.target.value})),required:!0,placeholder:"https://example.com",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"placement",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("select",{id:"placement",value:s.placement,onChange:y=>a(_=>({..._,placement:y.target.value})),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",children:Object.entries(SM).map(([y,_])=>d.jsx("option",{value:y,children:_},y))})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:h,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:" "})]})]})})})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let mve,gve;function yve(){return{geminiUrl:mve,vertexUrl:gve}}function vve(t,e,n,r){var i,s;if(!(t!=null&&t.baseUrl)){const a=yve();return e?(i=a.vertexUrl)!==null&&i!==void 0?i:n:(s=a.geminiUrl)!==null&&s!==void 0?s:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hh{}function jt(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const s=e[i];return s!=null?String(s):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function E(t,e,n){for(let s=0;s<e.length-1;s++){const a=e[s];if(a.endsWith("[]")){const o=a.slice(0,-2);if(!(o in t))if(Array.isArray(n))t[o]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(t[o])){const l=t[o];if(Array.isArray(n))for(let c=0;c<l.length;c++){const u=l[c];E(u,e.slice(s+1),n[c])}else for(const c of l)E(c,e.slice(s+1),n)}return}else if(a.endsWith("[0]")){const o=a.slice(0,-3);o in t||(t[o]=[{}]);const l=t[o];E(l[0],e.slice(s+1),n);return}(!t[a]||typeof t[a]!="object")&&(t[a]={}),t=t[a]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function T(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const r=e[n];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in t){const s=t[i];return Array.isArray(s)?s.map(a=>T(a,e.slice(n+1))):void 0}else return}else t=t[r]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vI(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xve(t){const e={},n=T(t,["operationName"]);n!=null&&E(e,["_url","operationName"],n);const r=T(t,["config"]);return r!=null&&E(e,["config"],r),e}function bve(t){const e={},n=T(t,["operationName"]);n!=null&&E(e,["operationName"],n);const r=T(t,["resourceName"]);r!=null&&E(e,["_url","resourceName"],r);const i=T(t,["config"]);return i!=null&&E(e,["config"],i),e}function _ve(t){const e={},n=T(t,["operationName"]);n!=null&&E(e,["_url","operationName"],n);const r=T(t,["config"]);return r!=null&&E(e,["config"],r),e}function wve(t){const e={},n=T(t,["video","uri"]);n!=null&&E(e,["uri"],n);const r=T(t,["video","encodedVideo"]);r!=null&&E(e,["videoBytes"],vI(r));const i=T(t,["encoding"]);return i!=null&&E(e,["mimeType"],i),e}function Tve(t){const e={},n=T(t,["_self"]);return n!=null&&E(e,["video"],wve(n)),e}function Eve(t){const e={},n=T(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>Tve(a))),E(e,["generatedVideos"],s)}const r=T(t,["raiMediaFilteredCount"]);r!=null&&E(e,["raiMediaFilteredCount"],r);const i=T(t,["raiMediaFilteredReasons"]);return i!=null&&E(e,["raiMediaFilteredReasons"],i),e}function Cve(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["metadata"]);r!=null&&E(e,["metadata"],r);const i=T(t,["done"]);i!=null&&E(e,["done"],i);const s=T(t,["error"]);s!=null&&E(e,["error"],s);const a=T(t,["response","generateVideoResponse"]);return a!=null&&E(e,["response"],Eve(a)),e}function Sve(t){const e={},n=T(t,["gcsUri"]);n!=null&&E(e,["uri"],n);const r=T(t,["bytesBase64Encoded"]);r!=null&&E(e,["videoBytes"],vI(r));const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function Dve(t){const e={},n=T(t,["_self"]);return n!=null&&E(e,["video"],Sve(n)),e}function Ave(t){const e={},n=T(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>Dve(a))),E(e,["generatedVideos"],s)}const r=T(t,["raiMediaFilteredCount"]);r!=null&&E(e,["raiMediaFilteredCount"],r);const i=T(t,["raiMediaFilteredReasons"]);return i!=null&&E(e,["raiMediaFilteredReasons"],i),e}function Nve(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["metadata"]);r!=null&&E(e,["metadata"],r);const i=T(t,["done"]);i!=null&&E(e,["done"],i);const s=T(t,["error"]);s!=null&&E(e,["error"],s);const a=T(t,["response"]);return a!=null&&E(e,["response"],Ave(a)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var DM;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(DM||(DM={}));var AM;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(AM||(AM={}));var Nu;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Nu||(Nu={}));var NM;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(NM||(NM={}));var kM;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(kM||(kM={}));var IM;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(IM||(IM={}));var RM;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(RM||(RM={}));var PM;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(PM||(PM={}));var FM;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(FM||(FM={}));var MM;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(MM||(MM={}));var UM;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(UM||(UM={}));var OM;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(OM||(OM={}));var LM;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(LM||(LM={}));var jM;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(jM||(jM={}));var BM;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(BM||(BM={}));var $b;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})($b||($b={}));var VM;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(VM||(VM={}));var QA;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(QA||(QA={}));var WM;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(WM||(WM={}));var qM;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(qM||(qM={}));var $M;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})($M||($M={}));var zM;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(zM||(zM={}));var HM;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(HM||(HM={}));var GM;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(GM||(GM={}));var KM;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(KM||(KM={}));var JM;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(JM||(JM={}));var XM;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(XM||(XM={}));var YM;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(YM||(YM={}));var QM;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(QM||(QM={}));var ZM;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(ZM||(ZM={}));var eU;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(eU||(eU={}));var tU;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(tU||(tU={}));var nU;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(nU||(nU={}));var rU;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(rU||(rU={}));var iU;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(iU||(iU={}));var sU;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(sU||(sU={}));var aU;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(aU||(aU={}));var oU;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(oU||(oU={}));var lU;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(lU||(lU={}));var cU;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(cU||(cU={}));var uU;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(uU||(uU={}));var dU;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(dU||(dU={}));var fU;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(fU||(fU={}));var hU;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(hU||(hU={}));var pU;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(pU||(pU={}));var Pp;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Pp||(Pp={}));class ZA{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class o0{get text(){var e,n,r,i,s,a,o,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",u=!1;const f=[];for(const h of(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[p,v]of Object.entries(h))p!=="text"&&p!=="thought"&&(v!==null||v!==void 0)&&f.push(p);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;u=!0,c+=h.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?c:void 0}get data(){var e,n,r,i,s,a,o,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const u=[];for(const f of(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[h,p]of Object.entries(f))h!=="inlineData"&&(p!==null||p!==void 0)&&u.push(h);f.inlineData&&typeof f.inlineData.data=="string"&&(c+=atob(f.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,n,r,i,s,a,o,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(u=>u.functionCall).map(u=>u.functionCall).filter(u=>u!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var e,n,r,i,s,a,o,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const u=(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((u==null?void 0:u.length)!==0)return(c=u==null?void 0:u[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,n,r,i,s,a,o,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const u=(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((u==null?void 0:u.length)!==0)return(c=u==null?void 0:u[0])===null||c===void 0?void 0:c.output}}class mU{}class gU{}class kve{}class Ive{}class Rve{}class Pve{}class yU{}class vU{}class xU{}class Fve{}class zb{_fromAPIResponse({apiResponse:e,isVertexAI:n}){const r=new zb;let i;const s=e;return n?i=Nve(s):i=Cve(s),Object.assign(r,i),r}}class bU{}class _U{}class wU{}class Mve{}class Uve{}class Ove{}class TU{}class Lve{get text(){var e,n,r;let i="",s=!1;const a=[];for(const o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,c]of Object.entries(o))l!=="text"&&l!=="thought"&&c!==null&&a.push(l);if(typeof o.text=="string"){if(typeof o.thought=="boolean"&&o.thought)continue;s=!0,i+=o.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?i:void 0}get data(){var e,n,r;let i="";const s=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[o,l]of Object.entries(a))o!=="inlineData"&&l!==null&&s.push(o);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class jve{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gn(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function MG(t,e){const n=Gn(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function UG(t){return Array.isArray(t)?t.map(e=>Hb(e)):[Hb(t)]}function Hb(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function OG(t){const e=Hb(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function LG(t){const e=Hb(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function EU(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function jG(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>EU(e)):[EU(t)]}function e3(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function CU(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function SU(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function As(t){if(t==null)throw new Error("ContentUnion is required");return e3(t)?t:{role:"user",parts:jG(t)}}function xI(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=As(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=As(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>As(n)):[As(e)]}function go(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(CU(t)||SU(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[As(t)]}const e=[],n=[],r=e3(t[0]);for(const i of t){const s=e3(i);if(s!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(i);else{if(CU(i)||SU(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:jG(n)}),e}function Bve(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Nu).includes(n[0].toUpperCase())?n[0].toUpperCase():Nu.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Nu).includes(r.toUpperCase())?r.toUpperCase():Nu.TYPE_UNSPECIFIED})}}function qp(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=t.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,t=s[1]):s[1].type==="null"&&(e.nullable=!0,t=s[0])),t.type instanceof Array&&Bve(t.type,e);for(const[a,o]of Object.entries(t))if(o!=null)if(a=="type"){if(o==="null")throw new Error("type: null can not be the only possible type for the field.");if(o instanceof Array)continue;e.type=Object.values(Nu).includes(o.toUpperCase())?o.toUpperCase():Nu.TYPE_UNSPECIFIED}else if(n.includes(a))e[a]=qp(o);else if(r.includes(a)){const l=[];for(const c of o){if(c.type=="null"){e.nullable=!0;continue}l.push(qp(c))}e[a]=l}else if(i.includes(a)){const l={};for(const[c,u]of Object.entries(o))l[c]=qp(u);e[a]=l}else{if(a==="additionalProperties")continue;e[a]=o}return e}function bI(t){return qp(t)}function _I(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function wI(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function rg(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=qp(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=qp(e.response));return t}function ig(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function Vve(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function $c(t,e){if(typeof e!="string")throw new Error("name must be a string");return Vve(t,e,"cachedContents")}function BG(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function ph(t){return vI(t)}function Wve(t){return t!=null&&typeof t=="object"&&"name"in t}function qve(t){return t!=null&&typeof t=="object"&&"video"in t}function $ve(t){return t!=null&&typeof t=="object"&&"uri"in t}function VG(t){var e;let n;if(Wve(t)&&(n=t.name),!($ve(t)&&(n=t.uri,n===void 0))&&!(qve(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function WG(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function qG(t){for(const e of["models","tunedModels","publisherModels"])if(zve(t,e))return t[e];return[]}function zve(t,e){return t!==null&&typeof t=="object"&&e in t}function Hve(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function Gve(t,e={}){const n=[],r=new Set;for(const i of t){const s=i.name;if(r.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);r.add(s);const a=Hve(i,e);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function $G(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Kve(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function zG(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let s=!1;for(const a of i){if(typeof a!="object"||a===null)continue;const l=a.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function sg(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function HG(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jve(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function Xve(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["data"]);n!=null&&E(e,["data"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function Yve(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function Qve(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function Zve(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],Jve(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],Xve(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],Yve(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],Qve(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function GG(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Zve(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function exe(t){const e={},n=T(t,["anyOf"]);n!=null&&E(e,["anyOf"],n);const r=T(t,["default"]);r!=null&&E(e,["default"],r);const i=T(t,["description"]);i!=null&&E(e,["description"],i);const s=T(t,["enum"]);s!=null&&E(e,["enum"],s);const a=T(t,["example"]);a!=null&&E(e,["example"],a);const o=T(t,["format"]);o!=null&&E(e,["format"],o);const l=T(t,["items"]);l!=null&&E(e,["items"],l);const c=T(t,["maxItems"]);c!=null&&E(e,["maxItems"],c);const u=T(t,["maxLength"]);u!=null&&E(e,["maxLength"],u);const f=T(t,["maxProperties"]);f!=null&&E(e,["maxProperties"],f);const h=T(t,["maximum"]);h!=null&&E(e,["maximum"],h);const p=T(t,["minItems"]);p!=null&&E(e,["minItems"],p);const v=T(t,["minLength"]);v!=null&&E(e,["minLength"],v);const g=T(t,["minProperties"]);g!=null&&E(e,["minProperties"],g);const y=T(t,["minimum"]);y!=null&&E(e,["minimum"],y);const _=T(t,["nullable"]);_!=null&&E(e,["nullable"],_);const x=T(t,["pattern"]);x!=null&&E(e,["pattern"],x);const w=T(t,["properties"]);w!=null&&E(e,["properties"],w);const C=T(t,["propertyOrdering"]);C!=null&&E(e,["propertyOrdering"],C);const S=T(t,["required"]);S!=null&&E(e,["required"],S);const R=T(t,["title"]);R!=null&&E(e,["title"],R);const D=T(t,["type"]);return D!=null&&E(e,["type"],D),e}function txe(t){const e={};if(T(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=T(t,["category"]);n!=null&&E(e,["category"],n);const r=T(t,["threshold"]);return r!=null&&E(e,["threshold"],r),e}function nxe(t){const e={},n=T(t,["behavior"]);n!=null&&E(e,["behavior"],n);const r=T(t,["description"]);r!=null&&E(e,["description"],r);const i=T(t,["name"]);i!=null&&E(e,["name"],i);const s=T(t,["parameters"]);s!=null&&E(e,["parameters"],s);const a=T(t,["parametersJsonSchema"]);a!=null&&E(e,["parametersJsonSchema"],a);const o=T(t,["response"]);o!=null&&E(e,["response"],o);const l=T(t,["responseJsonSchema"]);return l!=null&&E(e,["responseJsonSchema"],l),e}function rxe(t){const e={},n=T(t,["startTime"]);n!=null&&E(e,["startTime"],n);const r=T(t,["endTime"]);return r!=null&&E(e,["endTime"],r),e}function ixe(t){const e={},n=T(t,["timeRangeFilter"]);if(n!=null&&E(e,["timeRangeFilter"],rxe(n)),T(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function sxe(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["dynamicThreshold"]);return r!=null&&E(e,["dynamicThreshold"],r),e}function axe(t){const e={},n=T(t,["dynamicRetrievalConfig"]);return n!=null&&E(e,["dynamicRetrievalConfig"],sxe(n)),e}function oxe(){return{}}function lxe(t){const e={},n=T(t,["environment"]);return n!=null&&E(e,["environment"],n),e}function cxe(t){const e={},n=T(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>nxe(c))),E(e,["functionDeclarations"],l)}if(T(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=T(t,["googleSearch"]);r!=null&&E(e,["googleSearch"],ixe(r));const i=T(t,["googleSearchRetrieval"]);if(i!=null&&E(e,["googleSearchRetrieval"],axe(i)),T(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(T(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");T(t,["urlContext"])!=null&&E(e,["urlContext"],oxe());const a=T(t,["computerUse"]);a!=null&&E(e,["computerUse"],lxe(a));const o=T(t,["codeExecution"]);return o!=null&&E(e,["codeExecution"],o),e}function uxe(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["allowedFunctionNames"]);return r!=null&&E(e,["allowedFunctionNames"],r),e}function dxe(t){const e={},n=T(t,["latitude"]);n!=null&&E(e,["latitude"],n);const r=T(t,["longitude"]);return r!=null&&E(e,["longitude"],r),e}function fxe(t){const e={},n=T(t,["latLng"]);n!=null&&E(e,["latLng"],dxe(n));const r=T(t,["languageCode"]);return r!=null&&E(e,["languageCode"],r),e}function hxe(t){const e={},n=T(t,["functionCallingConfig"]);n!=null&&E(e,["functionCallingConfig"],uxe(n));const r=T(t,["retrievalConfig"]);return r!=null&&E(e,["retrievalConfig"],fxe(r)),e}function pxe(t){const e={},n=T(t,["voiceName"]);return n!=null&&E(e,["voiceName"],n),e}function KG(t){const e={},n=T(t,["prebuiltVoiceConfig"]);return n!=null&&E(e,["prebuiltVoiceConfig"],pxe(n)),e}function mxe(t){const e={},n=T(t,["speaker"]);n!=null&&E(e,["speaker"],n);const r=T(t,["voiceConfig"]);return r!=null&&E(e,["voiceConfig"],KG(r)),e}function gxe(t){const e={},n=T(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>mxe(i))),E(e,["speakerVoiceConfigs"],r)}return e}function yxe(t){const e={},n=T(t,["voiceConfig"]);n!=null&&E(e,["voiceConfig"],KG(n));const r=T(t,["multiSpeakerVoiceConfig"]);r!=null&&E(e,["multiSpeakerVoiceConfig"],gxe(r));const i=T(t,["languageCode"]);return i!=null&&E(e,["languageCode"],i),e}function vxe(t){const e={},n=T(t,["includeThoughts"]);n!=null&&E(e,["includeThoughts"],n);const r=T(t,["thinkingBudget"]);return r!=null&&E(e,["thinkingBudget"],r),e}function xxe(t,e,n){const r={},i=T(e,["systemInstruction"]);n!==void 0&&i!=null&&E(n,["systemInstruction"],GG(As(i)));const s=T(e,["temperature"]);s!=null&&E(r,["temperature"],s);const a=T(e,["topP"]);a!=null&&E(r,["topP"],a);const o=T(e,["topK"]);o!=null&&E(r,["topK"],o);const l=T(e,["candidateCount"]);l!=null&&E(r,["candidateCount"],l);const c=T(e,["maxOutputTokens"]);c!=null&&E(r,["maxOutputTokens"],c);const u=T(e,["stopSequences"]);u!=null&&E(r,["stopSequences"],u);const f=T(e,["responseLogprobs"]);f!=null&&E(r,["responseLogprobs"],f);const h=T(e,["logprobs"]);h!=null&&E(r,["logprobs"],h);const p=T(e,["presencePenalty"]);p!=null&&E(r,["presencePenalty"],p);const v=T(e,["frequencyPenalty"]);v!=null&&E(r,["frequencyPenalty"],v);const g=T(e,["seed"]);g!=null&&E(r,["seed"],g);const y=T(e,["responseMimeType"]);y!=null&&E(r,["responseMimeType"],y);const _=T(e,["responseSchema"]);_!=null&&E(r,["responseSchema"],exe(bI(_)));const x=T(e,["responseJsonSchema"]);if(x!=null&&E(r,["responseJsonSchema"],x),T(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(T(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const w=T(e,["safetySettings"]);if(n!==void 0&&w!=null){let P=w;Array.isArray(P)&&(P=P.map(k=>txe(k))),E(n,["safetySettings"],P)}const C=T(e,["tools"]);if(n!==void 0&&C!=null){let P=ig(C);Array.isArray(P)&&(P=P.map(k=>cxe(rg(k)))),E(n,["tools"],P)}const S=T(e,["toolConfig"]);if(n!==void 0&&S!=null&&E(n,["toolConfig"],hxe(S)),T(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const R=T(e,["cachedContent"]);n!==void 0&&R!=null&&E(n,["cachedContent"],$c(t,R));const D=T(e,["responseModalities"]);D!=null&&E(r,["responseModalities"],D);const N=T(e,["mediaResolution"]);N!=null&&E(r,["mediaResolution"],N);const I=T(e,["speechConfig"]);if(I!=null&&E(r,["speechConfig"],yxe(_I(I))),T(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const F=T(e,["thinkingConfig"]);return F!=null&&E(r,["thinkingConfig"],vxe(F)),r}function bxe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["request","model"],Gn(t,r));const i=T(e,["contents"]);if(i!=null){let a=go(i);Array.isArray(a)&&(a=a.map(o=>GG(o))),E(n,["request","contents"],a)}const s=T(e,["config"]);return s!=null&&E(n,["request","generationConfig"],xxe(t,s,n)),n}function _xe(t,e){const n={};if(T(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(T(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(T(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=T(e,["fileName"]);r!=null&&E(n,["fileName"],r);const i=T(e,["inlinedRequests"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>bxe(t,a))),E(n,["requests","requests"],s)}return n}function wxe(t,e){const n={},r=T(t,["displayName"]);if(e!==void 0&&r!=null&&E(e,["batch","displayName"],r),T(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function s4(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Gn(t,r));const i=T(e,["src"]);i!=null&&E(n,["batch","inputConfig"],_xe(t,$G(t,i)));const s=T(e,["config"]);return s!=null&&E(n,["config"],wxe(s,n)),n}function Txe(t,e){const n={},r=T(t,["taskType"]);e!==void 0&&r!=null&&E(e,["requests[]","taskType"],r);const i=T(t,["title"]);e!==void 0&&i!=null&&E(e,["requests[]","title"],i);const s=T(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&E(e,["requests[]","outputDimensionality"],s),T(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(T(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Exe(t,e){const n={},r=T(e,["contents"]);r!=null&&E(n,["requests[]","request","content"],xI(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],Txe(i,n)),n}function Cxe(t,e){const n={},r=T(e,["fileName"]);r!=null&&E(n,["file_name"],r);const i=T(e,["inlinedRequests"]);return i!=null&&E(n,["requests"],Exe(t,i)),n}function Sxe(t,e){const n={},r=T(t,["displayName"]);return e!==void 0&&r!=null&&E(e,["batch","displayName"],r),n}function a4(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Gn(t,r));const i=T(e,["src"]);i!=null&&E(n,["batch","inputConfig"],Cxe(t,i));const s=T(e,["config"]);return s!=null&&E(n,["config"],Sxe(s,n)),n}function Dxe(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],sg(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function Axe(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],sg(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function Nxe(t,e){const n={},r=T(t,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=T(t,["pageToken"]);if(e!==void 0&&i!=null&&E(e,["_query","pageToken"],i),T(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function kxe(t){const e={},n=T(t,["config"]);return n!=null&&E(e,["config"],Nxe(n,e)),e}function Ixe(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],sg(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function Rxe(t){const e={},n=T(t,["format"]);n!=null&&E(e,["instancesFormat"],n);const r=T(t,["gcsUri"]);r!=null&&E(e,["gcsSource","uris"],r);const i=T(t,["bigqueryUri"]);if(i!=null&&E(e,["bigquerySource","inputUri"],i),T(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(T(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Pxe(t){const e={},n=T(t,["format"]);n!=null&&E(e,["predictionsFormat"],n);const r=T(t,["gcsUri"]);r!=null&&E(e,["gcsDestination","outputUriPrefix"],r);const i=T(t,["bigqueryUri"]);if(i!=null&&E(e,["bigqueryDestination","outputUri"],i),T(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(T(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(T(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Fxe(t,e){const n={},r=T(t,["displayName"]);e!==void 0&&r!=null&&E(e,["displayName"],r);const i=T(t,["dest"]);return e!==void 0&&i!=null&&E(e,["outputConfig"],Pxe(Kve(i))),n}function Mxe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["model"],Gn(t,r));const i=T(e,["src"]);i!=null&&E(n,["inputConfig"],Rxe($G(t,i)));const s=T(e,["config"]);return s!=null&&E(n,["config"],Fxe(s,n)),n}function Uxe(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],sg(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function Oxe(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],sg(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function Lxe(t,e){const n={},r=T(t,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=T(t,["pageToken"]);e!==void 0&&i!=null&&E(e,["_query","pageToken"],i);const s=T(t,["filter"]);return e!==void 0&&s!=null&&E(e,["_query","filter"],s),n}function jxe(t){const e={},n=T(t,["config"]);return n!=null&&E(e,["config"],Lxe(n,e)),e}function Bxe(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],sg(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function Vxe(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function Wxe(t){const e={},n=T(t,["data"]);n!=null&&E(e,["data"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function qxe(t){const e={},n=T(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function $xe(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function zxe(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],Vxe(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],Wxe(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],qxe(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],$xe(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function Hxe(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>zxe(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function Gxe(t){const e={},n=T(t,["citationSources"]);return n!=null&&E(e,["citations"],n),e}function Kxe(t){const e={},n=T(t,["retrievedUrl"]);n!=null&&E(e,["retrievedUrl"],n);const r=T(t,["urlRetrievalStatus"]);return r!=null&&E(e,["urlRetrievalStatus"],r),e}function Jxe(t){const e={},n=T(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Kxe(i))),E(e,["urlMetadata"],r)}return e}function Xxe(t){const e={},n=T(t,["content"]);n!=null&&E(e,["content"],Hxe(n));const r=T(t,["citationMetadata"]);r!=null&&E(e,["citationMetadata"],Gxe(r));const i=T(t,["tokenCount"]);i!=null&&E(e,["tokenCount"],i);const s=T(t,["finishReason"]);s!=null&&E(e,["finishReason"],s);const a=T(t,["urlContextMetadata"]);a!=null&&E(e,["urlContextMetadata"],Jxe(a));const o=T(t,["avgLogprobs"]);o!=null&&E(e,["avgLogprobs"],o);const l=T(t,["groundingMetadata"]);l!=null&&E(e,["groundingMetadata"],l);const c=T(t,["index"]);c!=null&&E(e,["index"],c);const u=T(t,["logprobsResult"]);u!=null&&E(e,["logprobsResult"],u);const f=T(t,["safetyRatings"]);return f!=null&&E(e,["safetyRatings"],f),e}function Yxe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>Xxe(c))),E(e,["candidates"],l)}const i=T(t,["modelVersion"]);i!=null&&E(e,["modelVersion"],i);const s=T(t,["promptFeedback"]);s!=null&&E(e,["promptFeedback"],s);const a=T(t,["responseId"]);a!=null&&E(e,["responseId"],a);const o=T(t,["usageMetadata"]);return o!=null&&E(e,["usageMetadata"],o),e}function TI(t){const e={},n=T(t,["details"]);n!=null&&E(e,["details"],n);const r=T(t,["code"]);r!=null&&E(e,["code"],r);const i=T(t,["message"]);return i!=null&&E(e,["message"],i),e}function Qxe(t){const e={},n=T(t,["response"]);n!=null&&E(e,["response"],Yxe(n));const r=T(t,["error"]);return r!=null&&E(e,["error"],TI(r)),e}function Zxe(t){const e={},n=T(t,["values"]);return n!=null&&E(e,["values"],n),e}function e2e(t){const e={},n=T(t,["embedding"]);n!=null&&E(e,["embedding"],Zxe(n));const r=T(t,["tokenCount"]);return r!=null&&E(e,["tokenCount"],r),e}function t2e(t){const e={},n=T(t,["response"]);n!=null&&E(e,["response"],e2e(n));const r=T(t,["error"]);return r!=null&&E(e,["error"],TI(r)),e}function n2e(t){const e={},n=T(t,["responsesFile"]);n!=null&&E(e,["fileName"],n);const r=T(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>Qxe(a))),E(e,["inlinedResponses"],s)}const i=T(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>t2e(a))),E(e,["inlinedEmbedContentResponses"],s)}return e}function Ap(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["metadata","displayName"]);r!=null&&E(e,["displayName"],r);const i=T(t,["metadata","state"]);i!=null&&E(e,["state"],HG(i));const s=T(t,["metadata","createTime"]);s!=null&&E(e,["createTime"],s);const a=T(t,["metadata","endTime"]);a!=null&&E(e,["endTime"],a);const o=T(t,["metadata","updateTime"]);o!=null&&E(e,["updateTime"],o);const l=T(t,["metadata","model"]);l!=null&&E(e,["model"],l);const c=T(t,["metadata","output"]);return c!=null&&E(e,["dest"],n2e(zG(c))),e}function r2e(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=T(t,["operations"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>Ap(a))),E(e,["batchJobs"],s)}return e}function i2e(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["name"]);r!=null&&E(e,["name"],r);const i=T(t,["done"]);i!=null&&E(e,["done"],i);const s=T(t,["error"]);return s!=null&&E(e,["error"],TI(s)),e}function JG(t){const e={},n=T(t,["details"]);n!=null&&E(e,["details"],n);const r=T(t,["code"]);r!=null&&E(e,["code"],r);const i=T(t,["message"]);return i!=null&&E(e,["message"],i),e}function s2e(t){const e={},n=T(t,["instancesFormat"]);n!=null&&E(e,["format"],n);const r=T(t,["gcsSource","uris"]);r!=null&&E(e,["gcsUri"],r);const i=T(t,["bigquerySource","inputUri"]);return i!=null&&E(e,["bigqueryUri"],i),e}function a2e(t){const e={},n=T(t,["predictionsFormat"]);n!=null&&E(e,["format"],n);const r=T(t,["gcsDestination","outputUriPrefix"]);r!=null&&E(e,["gcsUri"],r);const i=T(t,["bigqueryDestination","outputUri"]);return i!=null&&E(e,["bigqueryUri"],i),e}function t3(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["displayName"]);r!=null&&E(e,["displayName"],r);const i=T(t,["state"]);i!=null&&E(e,["state"],HG(i));const s=T(t,["error"]);s!=null&&E(e,["error"],JG(s));const a=T(t,["createTime"]);a!=null&&E(e,["createTime"],a);const o=T(t,["startTime"]);o!=null&&E(e,["startTime"],o);const l=T(t,["endTime"]);l!=null&&E(e,["endTime"],l);const c=T(t,["updateTime"]);c!=null&&E(e,["updateTime"],c);const u=T(t,["model"]);u!=null&&E(e,["model"],u);const f=T(t,["inputConfig"]);f!=null&&E(e,["src"],s2e(f));const h=T(t,["outputConfig"]);return h!=null&&E(e,["dest"],a2e(zG(h))),e}function o2e(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=T(t,["batchPredictionJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>t3(a))),E(e,["batchJobs"],s)}return e}function l2e(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["name"]);r!=null&&E(e,["name"],r);const i=T(t,["done"]);i!=null&&E(e,["done"],i);const s=T(t,["error"]);return s!=null&&E(e,["error"],JG(s)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Hf;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Hf||(Hf={}));class ev{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,s;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(s=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class c2e extends hh{constructor(e){super(),this.apiClient=e,this.create=async n=>{var r,i;if(this.apiClient.isVertexAI())return n.config=this.formatDestination(n.src,n.config),this.createInternal(n);const s=n.src;if(!(Array.isArray(n.src)||s.inlinedRequests!==void 0))return this.createInternal(n);const o=this.createInlinedGenerateContentRequest(n),l=o.path,c=o.body,u=s4(this.apiClient,n)._query||{};return this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()).then(h=>Ap(h))},this.createEmbeddings=async n=>{var r,i;if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");if(!(n.src.inlinedRequests!==void 0))return this.createEmbeddingsInternal(n);const o=this.createInlinedEmbedContentRequest(n),l=o.path,c=o.body,u=a4(this.apiClient,n)._query||{};return this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()).then(h=>Ap(h))},this.list=async(n={})=>new ev(Hf.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=s4(this.apiClient,e),r=n._url,i=jt("{model}:batchGenerateContent",r),o=n.batch.inputConfig.requests,l=o.requests,c=[];for(const u of l){const f=Object.assign({},u);if(f.systemInstruction){const h=f.systemInstruction;delete f.systemInstruction;const p=f.request;p.systemInstruction=h,f.request=p}c.push(f)}return o.requests=c,delete n.config,delete n._url,delete n._query,{path:i,body:n}}createInlinedEmbedContentRequest(e){const n=a4(this.apiClient,e),r=n._url,i=jt("{model}:asyncBatchEmbedContent",r),o=n.batch.inputConfig.requests,l=o.requests,c=[];delete o.config;for(const u of l){const f=Object.assign({},u),h=f.request;for(const p in f)p!=="request"&&(h[p]=f[p],delete f[p]);c.push(f)}return o.requests=c,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const s=this.getGcsUri(e),a=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?r.dest=`${s.slice(0,-6)}/dest`:r.dest=`${s}_dest_${i}`;else if(a)r.dest=`${a}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=Mxe(this.apiClient,e);return o=jt("batchPredictionJobs",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>t3(u))}else{const c=s4(this.apiClient,e);return o=jt("{model}:batchGenerateContent",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>Ap(u))}}async createEmbeddingsInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=a4(this.apiClient,e);return s=jt("{model}:asyncBatchEmbedContent",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>Ap(l))}}async get(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=Uxe(this.apiClient,e);return o=jt("batchPredictionJobs/{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>t3(u))}else{const c=Dxe(this.apiClient,e);return o=jt("batches/{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>Ap(u))}}async cancel(e){var n,r,i,s;let a="",o={};if(this.apiClient.isVertexAI()){const l=Oxe(this.apiClient,e);a=jt("batchPredictionJobs/{name}:cancel",l._url),o=l._query,delete l.config,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=Axe(this.apiClient,e);a=jt("batches/{name}:cancel",l._url),o=l._query,delete l.config,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=jxe(e);return o=jt("batchPredictionJobs",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=o2e(u),h=new TU;return Object.assign(h,f),h})}else{const c=kxe(e);return o=jt("batches",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=r2e(u),h=new TU;return Object.assign(h,f),h})}}async delete(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=Bxe(this.apiClient,e);return o=jt("batchPredictionJobs/{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>l2e(u))}else{const c=Ixe(this.apiClient,e);return o=jt("batches/{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>i2e(u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function u2e(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function d2e(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["data"]);n!=null&&E(e,["data"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function f2e(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function h2e(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function p2e(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],u2e(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],d2e(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],f2e(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],h2e(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function DU(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>p2e(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function m2e(t){const e={},n=T(t,["behavior"]);n!=null&&E(e,["behavior"],n);const r=T(t,["description"]);r!=null&&E(e,["description"],r);const i=T(t,["name"]);i!=null&&E(e,["name"],i);const s=T(t,["parameters"]);s!=null&&E(e,["parameters"],s);const a=T(t,["parametersJsonSchema"]);a!=null&&E(e,["parametersJsonSchema"],a);const o=T(t,["response"]);o!=null&&E(e,["response"],o);const l=T(t,["responseJsonSchema"]);return l!=null&&E(e,["responseJsonSchema"],l),e}function g2e(t){const e={},n=T(t,["startTime"]);n!=null&&E(e,["startTime"],n);const r=T(t,["endTime"]);return r!=null&&E(e,["endTime"],r),e}function y2e(t){const e={},n=T(t,["timeRangeFilter"]);if(n!=null&&E(e,["timeRangeFilter"],g2e(n)),T(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function v2e(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["dynamicThreshold"]);return r!=null&&E(e,["dynamicThreshold"],r),e}function x2e(t){const e={},n=T(t,["dynamicRetrievalConfig"]);return n!=null&&E(e,["dynamicRetrievalConfig"],v2e(n)),e}function b2e(){return{}}function _2e(t){const e={},n=T(t,["environment"]);return n!=null&&E(e,["environment"],n),e}function w2e(t){const e={},n=T(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>m2e(c))),E(e,["functionDeclarations"],l)}if(T(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=T(t,["googleSearch"]);r!=null&&E(e,["googleSearch"],y2e(r));const i=T(t,["googleSearchRetrieval"]);if(i!=null&&E(e,["googleSearchRetrieval"],x2e(i)),T(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(T(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");T(t,["urlContext"])!=null&&E(e,["urlContext"],b2e());const a=T(t,["computerUse"]);a!=null&&E(e,["computerUse"],_2e(a));const o=T(t,["codeExecution"]);return o!=null&&E(e,["codeExecution"],o),e}function T2e(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["allowedFunctionNames"]);return r!=null&&E(e,["allowedFunctionNames"],r),e}function E2e(t){const e={},n=T(t,["latitude"]);n!=null&&E(e,["latitude"],n);const r=T(t,["longitude"]);return r!=null&&E(e,["longitude"],r),e}function C2e(t){const e={},n=T(t,["latLng"]);n!=null&&E(e,["latLng"],E2e(n));const r=T(t,["languageCode"]);return r!=null&&E(e,["languageCode"],r),e}function S2e(t){const e={},n=T(t,["functionCallingConfig"]);n!=null&&E(e,["functionCallingConfig"],T2e(n));const r=T(t,["retrievalConfig"]);return r!=null&&E(e,["retrievalConfig"],C2e(r)),e}function D2e(t,e){const n={},r=T(t,["ttl"]);e!==void 0&&r!=null&&E(e,["ttl"],r);const i=T(t,["expireTime"]);e!==void 0&&i!=null&&E(e,["expireTime"],i);const s=T(t,["displayName"]);e!==void 0&&s!=null&&E(e,["displayName"],s);const a=T(t,["contents"]);if(e!==void 0&&a!=null){let u=go(a);Array.isArray(u)&&(u=u.map(f=>DU(f))),E(e,["contents"],u)}const o=T(t,["systemInstruction"]);e!==void 0&&o!=null&&E(e,["systemInstruction"],DU(As(o)));const l=T(t,["tools"]);if(e!==void 0&&l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>w2e(f))),E(e,["tools"],u)}const c=T(t,["toolConfig"]);if(e!==void 0&&c!=null&&E(e,["toolConfig"],S2e(c)),T(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function A2e(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["model"],MG(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],D2e(i,n)),n}function N2e(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],$c(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function k2e(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],$c(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function I2e(t,e){const n={},r=T(t,["ttl"]);e!==void 0&&r!=null&&E(e,["ttl"],r);const i=T(t,["expireTime"]);return e!==void 0&&i!=null&&E(e,["expireTime"],i),n}function R2e(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],$c(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],I2e(i,n)),n}function P2e(t,e){const n={},r=T(t,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=T(t,["pageToken"]);return e!==void 0&&i!=null&&E(e,["_query","pageToken"],i),n}function F2e(t){const e={},n=T(t,["config"]);return n!=null&&E(e,["config"],P2e(n,e)),e}function M2e(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function U2e(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["data"]);r!=null&&E(e,["data"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function O2e(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["fileUri"]);r!=null&&E(e,["fileUri"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function L2e(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function j2e(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],M2e(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],U2e(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],O2e(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],L2e(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function AU(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>j2e(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function B2e(t){const e={};if(T(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=T(t,["description"]);n!=null&&E(e,["description"],n);const r=T(t,["name"]);r!=null&&E(e,["name"],r);const i=T(t,["parameters"]);i!=null&&E(e,["parameters"],i);const s=T(t,["parametersJsonSchema"]);s!=null&&E(e,["parametersJsonSchema"],s);const a=T(t,["response"]);a!=null&&E(e,["response"],a);const o=T(t,["responseJsonSchema"]);return o!=null&&E(e,["responseJsonSchema"],o),e}function V2e(t){const e={},n=T(t,["startTime"]);n!=null&&E(e,["startTime"],n);const r=T(t,["endTime"]);return r!=null&&E(e,["endTime"],r),e}function W2e(t){const e={},n=T(t,["timeRangeFilter"]);n!=null&&E(e,["timeRangeFilter"],V2e(n));const r=T(t,["excludeDomains"]);return r!=null&&E(e,["excludeDomains"],r),e}function q2e(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["dynamicThreshold"]);return r!=null&&E(e,["dynamicThreshold"],r),e}function $2e(t){const e={},n=T(t,["dynamicRetrievalConfig"]);return n!=null&&E(e,["dynamicRetrievalConfig"],q2e(n)),e}function z2e(t){const e={},n=T(t,["excludeDomains"]);return n!=null&&E(e,["excludeDomains"],n),e}function H2e(t){const e={},n=T(t,["apiKeyString"]);return n!=null&&E(e,["apiKeyString"],n),e}function G2e(t){const e={},n=T(t,["apiKeyConfig"]);n!=null&&E(e,["apiKeyConfig"],H2e(n));const r=T(t,["authType"]);r!=null&&E(e,["authType"],r);const i=T(t,["googleServiceAccountConfig"]);i!=null&&E(e,["googleServiceAccountConfig"],i);const s=T(t,["httpBasicAuthConfig"]);s!=null&&E(e,["httpBasicAuthConfig"],s);const a=T(t,["oauthConfig"]);a!=null&&E(e,["oauthConfig"],a);const o=T(t,["oidcConfig"]);return o!=null&&E(e,["oidcConfig"],o),e}function K2e(t){const e={},n=T(t,["authConfig"]);return n!=null&&E(e,["authConfig"],G2e(n)),e}function J2e(){return{}}function X2e(t){const e={},n=T(t,["environment"]);return n!=null&&E(e,["environment"],n),e}function Y2e(t){const e={},n=T(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>B2e(h))),E(e,["functionDeclarations"],f)}const r=T(t,["retrieval"]);r!=null&&E(e,["retrieval"],r);const i=T(t,["googleSearch"]);i!=null&&E(e,["googleSearch"],W2e(i));const s=T(t,["googleSearchRetrieval"]);s!=null&&E(e,["googleSearchRetrieval"],$2e(s));const a=T(t,["enterpriseWebSearch"]);a!=null&&E(e,["enterpriseWebSearch"],z2e(a));const o=T(t,["googleMaps"]);o!=null&&E(e,["googleMaps"],K2e(o)),T(t,["urlContext"])!=null&&E(e,["urlContext"],J2e());const c=T(t,["computerUse"]);c!=null&&E(e,["computerUse"],X2e(c));const u=T(t,["codeExecution"]);return u!=null&&E(e,["codeExecution"],u),e}function Q2e(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["allowedFunctionNames"]);return r!=null&&E(e,["allowedFunctionNames"],r),e}function Z2e(t){const e={},n=T(t,["latitude"]);n!=null&&E(e,["latitude"],n);const r=T(t,["longitude"]);return r!=null&&E(e,["longitude"],r),e}function ebe(t){const e={},n=T(t,["latLng"]);n!=null&&E(e,["latLng"],Z2e(n));const r=T(t,["languageCode"]);return r!=null&&E(e,["languageCode"],r),e}function tbe(t){const e={},n=T(t,["functionCallingConfig"]);n!=null&&E(e,["functionCallingConfig"],Q2e(n));const r=T(t,["retrievalConfig"]);return r!=null&&E(e,["retrievalConfig"],ebe(r)),e}function nbe(t,e){const n={},r=T(t,["ttl"]);e!==void 0&&r!=null&&E(e,["ttl"],r);const i=T(t,["expireTime"]);e!==void 0&&i!=null&&E(e,["expireTime"],i);const s=T(t,["displayName"]);e!==void 0&&s!=null&&E(e,["displayName"],s);const a=T(t,["contents"]);if(e!==void 0&&a!=null){let f=go(a);Array.isArray(f)&&(f=f.map(h=>AU(h))),E(e,["contents"],f)}const o=T(t,["systemInstruction"]);e!==void 0&&o!=null&&E(e,["systemInstruction"],AU(As(o)));const l=T(t,["tools"]);if(e!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>Y2e(h))),E(e,["tools"],f)}const c=T(t,["toolConfig"]);e!==void 0&&c!=null&&E(e,["toolConfig"],tbe(c));const u=T(t,["kmsKeyName"]);return e!==void 0&&u!=null&&E(e,["encryption_spec","kmsKeyName"],u),n}function rbe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["model"],MG(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],nbe(i,n)),n}function ibe(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],$c(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function sbe(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],$c(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function abe(t,e){const n={},r=T(t,["ttl"]);e!==void 0&&r!=null&&E(e,["ttl"],r);const i=T(t,["expireTime"]);return e!==void 0&&i!=null&&E(e,["expireTime"],i),n}function obe(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],$c(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],abe(i,n)),n}function lbe(t,e){const n={},r=T(t,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=T(t,["pageToken"]);return e!==void 0&&i!=null&&E(e,["_query","pageToken"],i),n}function cbe(t){const e={},n=T(t,["config"]);return n!=null&&E(e,["config"],lbe(n,e)),e}function N2(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["displayName"]);r!=null&&E(e,["displayName"],r);const i=T(t,["model"]);i!=null&&E(e,["model"],i);const s=T(t,["createTime"]);s!=null&&E(e,["createTime"],s);const a=T(t,["updateTime"]);a!=null&&E(e,["updateTime"],a);const o=T(t,["expireTime"]);o!=null&&E(e,["expireTime"],o);const l=T(t,["usageMetadata"]);return l!=null&&E(e,["usageMetadata"],l),e}function ube(t){const e={},n=T(t,["sdkHttpResponse"]);return n!=null&&E(e,["sdkHttpResponse"],n),e}function dbe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=T(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>N2(a))),E(e,["cachedContents"],s)}return e}function k2(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["displayName"]);r!=null&&E(e,["displayName"],r);const i=T(t,["model"]);i!=null&&E(e,["model"],i);const s=T(t,["createTime"]);s!=null&&E(e,["createTime"],s);const a=T(t,["updateTime"]);a!=null&&E(e,["updateTime"],a);const o=T(t,["expireTime"]);o!=null&&E(e,["expireTime"],o);const l=T(t,["usageMetadata"]);return l!=null&&E(e,["usageMetadata"],l),e}function fbe(t){const e={},n=T(t,["sdkHttpResponse"]);return n!=null&&E(e,["sdkHttpResponse"],n),e}function hbe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=T(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>k2(a))),E(e,["cachedContents"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pbe extends hh{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ev(Hf.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=rbe(this.apiClient,e);return o=jt("cachedContents",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>k2(u))}else{const c=A2e(this.apiClient,e);return o=jt("cachedContents",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>N2(u))}}async get(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=ibe(this.apiClient,e);return o=jt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>k2(u))}else{const c=N2e(this.apiClient,e);return o=jt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>N2(u))}}async delete(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=sbe(this.apiClient,e);return o=jt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=fbe(u),h=new _U;return Object.assign(h,f),h})}else{const c=k2e(this.apiClient,e);return o=jt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=ube(u),h=new _U;return Object.assign(h,f),h})}}async update(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=obe(this.apiClient,e);return o=jt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>k2(u))}else{const c=R2e(this.apiClient,e);return o=jt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>N2(u))}}async listInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=cbe(e);return o=jt("cachedContents",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=hbe(u),h=new wU;return Object.assign(h,f),h})}else{const c=F2e(e);return o=jt("cachedContents",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=dbe(u),h=new wU;return Object.assign(h,f),h})}}}function NU(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function wr(t){return this instanceof wr?(this.v=t,this):new wr(t)}function $p(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(p){return function(v){return Promise.resolve(v).then(p,f)}}function o(p,v){r[p]&&(i[p]=function(g){return new Promise(function(y,_){s.push([p,g,y,_])>1||l(p,g)})},v&&(i[p]=v(i[p])))}function l(p,v){try{c(r[p](v))}catch(g){h(s[0][3],g)}}function c(p){p.value instanceof wr?Promise.resolve(p.value.v).then(u,f):h(s[0][2],p)}function u(p){l("next",p)}function f(p){l("throw",p)}function h(p,v){p(v),s.shift(),s.length&&l(s[0][0],s[0][1])}}function ry(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof NU=="function"?NU(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(a){return new Promise(function(o,l){a=t[s](a),i(o,l,a.done,a.value)})}}function i(s,a,o,l){Promise.resolve(l).then(function(c){s({value:c,done:o})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mbe(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:XG(n)}function XG(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function gbe(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function kU(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let s=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),s&&!XG(t[r])&&(s=!1),r++;s?e.push(...i):e.pop()}return e}class ybe{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new vbe(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class vbe{constructor(e,n,r,i={},s=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=s,this.sendPromise=Promise.resolve(),gbe(s)}async sendMessage(e){var n;await this.sendPromise;const r=As(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var s,a,o;const l=await i,c=(a=(s=l.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content,u=l.automaticFunctionCallingHistory,f=this.getHistory(!0).length;let h=[];u!=null&&(h=(o=u.slice(f))!==null&&o!==void 0?o:[]);const p=c?[c]:[];this.recordHistory(r,p,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=As(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const s=await i;return this.processStreamResponse(s,r)}getHistory(e=!1){const n=e?kU(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return $p(this,arguments,function*(){var a,o,l,c;const u=[];try{for(var f=!0,h=ry(e),p;p=yield wr(h.next()),a=p.done,!a;f=!0){c=p.value,f=!1;const v=c;if(mbe(v)){const g=(i=(r=v.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;g!==void 0&&u.push(g)}yield yield wr(v)}}catch(v){o={error:v}}finally{try{!f&&!a&&(l=h.return)&&(yield wr(l.call(h)))}finally{if(o)throw o.error}}this.recordHistory(n,u)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(s=>s.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...kU(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fw extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Fw.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xbe(t,e){const n={},r=T(t,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=T(t,["pageToken"]);return e!==void 0&&i!=null&&E(e,["_query","pageToken"],i),n}function bbe(t){const e={},n=T(t,["config"]);return n!=null&&E(e,["config"],xbe(n,e)),e}function _be(t){const e={},n=T(t,["details"]);n!=null&&E(e,["details"],n);const r=T(t,["message"]);r!=null&&E(e,["message"],r);const i=T(t,["code"]);return i!=null&&E(e,["code"],i),e}function wbe(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["displayName"]);r!=null&&E(e,["displayName"],r);const i=T(t,["mimeType"]);i!=null&&E(e,["mimeType"],i);const s=T(t,["sizeBytes"]);s!=null&&E(e,["sizeBytes"],s);const a=T(t,["createTime"]);a!=null&&E(e,["createTime"],a);const o=T(t,["expirationTime"]);o!=null&&E(e,["expirationTime"],o);const l=T(t,["updateTime"]);l!=null&&E(e,["updateTime"],l);const c=T(t,["sha256Hash"]);c!=null&&E(e,["sha256Hash"],c);const u=T(t,["uri"]);u!=null&&E(e,["uri"],u);const f=T(t,["downloadUri"]);f!=null&&E(e,["downloadUri"],f);const h=T(t,["state"]);h!=null&&E(e,["state"],h);const p=T(t,["source"]);p!=null&&E(e,["source"],p);const v=T(t,["videoMetadata"]);v!=null&&E(e,["videoMetadata"],v);const g=T(t,["error"]);return g!=null&&E(e,["error"],_be(g)),e}function Tbe(t){const e={},n=T(t,["file"]);n!=null&&E(e,["file"],wbe(n));const r=T(t,["config"]);return r!=null&&E(e,["config"],r),e}function Ebe(t){const e={},n=T(t,["name"]);n!=null&&E(e,["_url","file"],VG(n));const r=T(t,["config"]);return r!=null&&E(e,["config"],r),e}function Cbe(t){const e={},n=T(t,["name"]);n!=null&&E(e,["_url","file"],VG(n));const r=T(t,["config"]);return r!=null&&E(e,["config"],r),e}function Sbe(t){const e={},n=T(t,["details"]);n!=null&&E(e,["details"],n);const r=T(t,["message"]);r!=null&&E(e,["message"],r);const i=T(t,["code"]);return i!=null&&E(e,["code"],i),e}function n3(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["displayName"]);r!=null&&E(e,["displayName"],r);const i=T(t,["mimeType"]);i!=null&&E(e,["mimeType"],i);const s=T(t,["sizeBytes"]);s!=null&&E(e,["sizeBytes"],s);const a=T(t,["createTime"]);a!=null&&E(e,["createTime"],a);const o=T(t,["expirationTime"]);o!=null&&E(e,["expirationTime"],o);const l=T(t,["updateTime"]);l!=null&&E(e,["updateTime"],l);const c=T(t,["sha256Hash"]);c!=null&&E(e,["sha256Hash"],c);const u=T(t,["uri"]);u!=null&&E(e,["uri"],u);const f=T(t,["downloadUri"]);f!=null&&E(e,["downloadUri"],f);const h=T(t,["state"]);h!=null&&E(e,["state"],h);const p=T(t,["source"]);p!=null&&E(e,["source"],p);const v=T(t,["videoMetadata"]);v!=null&&E(e,["videoMetadata"],v);const g=T(t,["error"]);return g!=null&&E(e,["error"],Sbe(g)),e}function Dbe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=T(t,["files"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>n3(a))),E(e,["files"],s)}return e}function Abe(t){const e={},n=T(t,["sdkHttpResponse"]);return n!=null&&E(e,["sdkHttpResponse"],n),e}function Nbe(t){const e={},n=T(t,["sdkHttpResponse"]);return n!=null&&E(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kbe extends hh{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ev(Hf.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n3(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=bbe(e);return s=jt("files",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{const c=Dbe(l),u=new Mve;return Object.assign(u,c),u})}}async createInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Tbe(e);return s=jt("upload/v1beta/files",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=Abe(l),u=new Uve;return Object.assign(u,c),u})}}async get(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Ebe(e);return s=jt("files/{file}",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>n3(l))}}async delete(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Cbe(e);return s=jt("files/{file}",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{const c=Nbe(l),u=new Ove;return Object.assign(u,c),u})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ibe(t){const e={},n=T(t,["voiceName"]);return n!=null&&E(e,["voiceName"],n),e}function YG(t){const e={},n=T(t,["prebuiltVoiceConfig"]);return n!=null&&E(e,["prebuiltVoiceConfig"],Ibe(n)),e}function Rbe(t){const e={},n=T(t,["speaker"]);n!=null&&E(e,["speaker"],n);const r=T(t,["voiceConfig"]);return r!=null&&E(e,["voiceConfig"],YG(r)),e}function Pbe(t){const e={},n=T(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Rbe(i))),E(e,["speakerVoiceConfigs"],r)}return e}function Fbe(t){const e={},n=T(t,["voiceConfig"]);n!=null&&E(e,["voiceConfig"],YG(n));const r=T(t,["multiSpeakerVoiceConfig"]);r!=null&&E(e,["multiSpeakerVoiceConfig"],Pbe(r));const i=T(t,["languageCode"]);return i!=null&&E(e,["languageCode"],i),e}function Mbe(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function Ube(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["data"]);n!=null&&E(e,["data"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function Obe(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function Lbe(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function jbe(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],Mbe(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],Ube(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],Obe(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],Lbe(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function Bbe(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>jbe(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function Vbe(t){const e={},n=T(t,["behavior"]);n!=null&&E(e,["behavior"],n);const r=T(t,["description"]);r!=null&&E(e,["description"],r);const i=T(t,["name"]);i!=null&&E(e,["name"],i);const s=T(t,["parameters"]);s!=null&&E(e,["parameters"],s);const a=T(t,["parametersJsonSchema"]);a!=null&&E(e,["parametersJsonSchema"],a);const o=T(t,["response"]);o!=null&&E(e,["response"],o);const l=T(t,["responseJsonSchema"]);return l!=null&&E(e,["responseJsonSchema"],l),e}function Wbe(t){const e={},n=T(t,["startTime"]);n!=null&&E(e,["startTime"],n);const r=T(t,["endTime"]);return r!=null&&E(e,["endTime"],r),e}function qbe(t){const e={},n=T(t,["timeRangeFilter"]);if(n!=null&&E(e,["timeRangeFilter"],Wbe(n)),T(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function $be(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["dynamicThreshold"]);return r!=null&&E(e,["dynamicThreshold"],r),e}function zbe(t){const e={},n=T(t,["dynamicRetrievalConfig"]);return n!=null&&E(e,["dynamicRetrievalConfig"],$be(n)),e}function Hbe(){return{}}function Gbe(t){const e={},n=T(t,["environment"]);return n!=null&&E(e,["environment"],n),e}function Kbe(t){const e={},n=T(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>Vbe(c))),E(e,["functionDeclarations"],l)}if(T(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=T(t,["googleSearch"]);r!=null&&E(e,["googleSearch"],qbe(r));const i=T(t,["googleSearchRetrieval"]);if(i!=null&&E(e,["googleSearchRetrieval"],zbe(i)),T(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(T(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");T(t,["urlContext"])!=null&&E(e,["urlContext"],Hbe());const a=T(t,["computerUse"]);a!=null&&E(e,["computerUse"],Gbe(a));const o=T(t,["codeExecution"]);return o!=null&&E(e,["codeExecution"],o),e}function Jbe(t){const e={},n=T(t,["handle"]);if(n!=null&&E(e,["handle"],n),T(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function IU(){return{}}function Xbe(t){const e={},n=T(t,["disabled"]);n!=null&&E(e,["disabled"],n);const r=T(t,["startOfSpeechSensitivity"]);r!=null&&E(e,["startOfSpeechSensitivity"],r);const i=T(t,["endOfSpeechSensitivity"]);i!=null&&E(e,["endOfSpeechSensitivity"],i);const s=T(t,["prefixPaddingMs"]);s!=null&&E(e,["prefixPaddingMs"],s);const a=T(t,["silenceDurationMs"]);return a!=null&&E(e,["silenceDurationMs"],a),e}function Ybe(t){const e={},n=T(t,["automaticActivityDetection"]);n!=null&&E(e,["automaticActivityDetection"],Xbe(n));const r=T(t,["activityHandling"]);r!=null&&E(e,["activityHandling"],r);const i=T(t,["turnCoverage"]);return i!=null&&E(e,["turnCoverage"],i),e}function Qbe(t){const e={},n=T(t,["targetTokens"]);return n!=null&&E(e,["targetTokens"],n),e}function Zbe(t){const e={},n=T(t,["triggerTokens"]);n!=null&&E(e,["triggerTokens"],n);const r=T(t,["slidingWindow"]);return r!=null&&E(e,["slidingWindow"],Qbe(r)),e}function e_e(t){const e={},n=T(t,["proactiveAudio"]);return n!=null&&E(e,["proactiveAudio"],n),e}function t_e(t,e){const n={},r=T(t,["generationConfig"]);e!==void 0&&r!=null&&E(e,["setup","generationConfig"],r);const i=T(t,["responseModalities"]);e!==void 0&&i!=null&&E(e,["setup","generationConfig","responseModalities"],i);const s=T(t,["temperature"]);e!==void 0&&s!=null&&E(e,["setup","generationConfig","temperature"],s);const a=T(t,["topP"]);e!==void 0&&a!=null&&E(e,["setup","generationConfig","topP"],a);const o=T(t,["topK"]);e!==void 0&&o!=null&&E(e,["setup","generationConfig","topK"],o);const l=T(t,["maxOutputTokens"]);e!==void 0&&l!=null&&E(e,["setup","generationConfig","maxOutputTokens"],l);const c=T(t,["mediaResolution"]);e!==void 0&&c!=null&&E(e,["setup","generationConfig","mediaResolution"],c);const u=T(t,["seed"]);e!==void 0&&u!=null&&E(e,["setup","generationConfig","seed"],u);const f=T(t,["speechConfig"]);e!==void 0&&f!=null&&E(e,["setup","generationConfig","speechConfig"],Fbe(wI(f)));const h=T(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&E(e,["setup","generationConfig","enableAffectiveDialog"],h);const p=T(t,["systemInstruction"]);e!==void 0&&p!=null&&E(e,["setup","systemInstruction"],Bbe(As(p)));const v=T(t,["tools"]);if(e!==void 0&&v!=null){let S=ig(v);Array.isArray(S)&&(S=S.map(R=>Kbe(rg(R)))),E(e,["setup","tools"],S)}const g=T(t,["sessionResumption"]);e!==void 0&&g!=null&&E(e,["setup","sessionResumption"],Jbe(g));const y=T(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&E(e,["setup","inputAudioTranscription"],IU());const _=T(t,["outputAudioTranscription"]);e!==void 0&&_!=null&&E(e,["setup","outputAudioTranscription"],IU());const x=T(t,["realtimeInputConfig"]);e!==void 0&&x!=null&&E(e,["setup","realtimeInputConfig"],Ybe(x));const w=T(t,["contextWindowCompression"]);e!==void 0&&w!=null&&E(e,["setup","contextWindowCompression"],Zbe(w));const C=T(t,["proactivity"]);return e!==void 0&&C!=null&&E(e,["setup","proactivity"],e_e(C)),n}function n_e(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["setup","model"],Gn(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],t_e(i,n)),n}function r_e(){return{}}function i_e(){return{}}function s_e(t){const e={},n=T(t,["media"]);n!=null&&E(e,["mediaChunks"],UG(n));const r=T(t,["audio"]);r!=null&&E(e,["audio"],LG(r));const i=T(t,["audioStreamEnd"]);i!=null&&E(e,["audioStreamEnd"],i);const s=T(t,["video"]);s!=null&&E(e,["video"],OG(s));const a=T(t,["text"]);return a!=null&&E(e,["text"],a),T(t,["activityStart"])!=null&&E(e,["activityStart"],r_e()),T(t,["activityEnd"])!=null&&E(e,["activityEnd"],i_e()),e}function QG(t){const e={},n=T(t,["text"]);n!=null&&E(e,["text"],n);const r=T(t,["weight"]);return r!=null&&E(e,["weight"],r),e}function a_e(t){const e={},n=T(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>QG(i))),E(e,["weightedPrompts"],r)}return e}function ZG(t){const e={},n=T(t,["temperature"]);n!=null&&E(e,["temperature"],n);const r=T(t,["topK"]);r!=null&&E(e,["topK"],r);const i=T(t,["seed"]);i!=null&&E(e,["seed"],i);const s=T(t,["guidance"]);s!=null&&E(e,["guidance"],s);const a=T(t,["bpm"]);a!=null&&E(e,["bpm"],a);const o=T(t,["density"]);o!=null&&E(e,["density"],o);const l=T(t,["brightness"]);l!=null&&E(e,["brightness"],l);const c=T(t,["scale"]);c!=null&&E(e,["scale"],c);const u=T(t,["muteBass"]);u!=null&&E(e,["muteBass"],u);const f=T(t,["muteDrums"]);f!=null&&E(e,["muteDrums"],f);const h=T(t,["onlyBassAndDrums"]);h!=null&&E(e,["onlyBassAndDrums"],h);const p=T(t,["musicGenerationMode"]);return p!=null&&E(e,["musicGenerationMode"],p),e}function o_e(t){const e={},n=T(t,["musicGenerationConfig"]);return n!=null&&E(e,["musicGenerationConfig"],ZG(n)),e}function eK(t){const e={},n=T(t,["model"]);return n!=null&&E(e,["model"],n),e}function tK(t){const e={},n=T(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>QG(i))),E(e,["weightedPrompts"],r)}return e}function r3(t){const e={},n=T(t,["setup"]);n!=null&&E(e,["setup"],eK(n));const r=T(t,["clientContent"]);r!=null&&E(e,["clientContent"],tK(r));const i=T(t,["musicGenerationConfig"]);i!=null&&E(e,["musicGenerationConfig"],ZG(i));const s=T(t,["playbackControl"]);return s!=null&&E(e,["playbackControl"],s),e}function l_e(t){const e={},n=T(t,["voiceName"]);return n!=null&&E(e,["voiceName"],n),e}function c_e(t){const e={},n=T(t,["prebuiltVoiceConfig"]);return n!=null&&E(e,["prebuiltVoiceConfig"],l_e(n)),e}function u_e(t){const e={},n=T(t,["voiceConfig"]);if(n!=null&&E(e,["voiceConfig"],c_e(n)),T(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=T(t,["languageCode"]);return r!=null&&E(e,["languageCode"],r),e}function d_e(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function f_e(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["data"]);r!=null&&E(e,["data"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function h_e(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["fileUri"]);r!=null&&E(e,["fileUri"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function p_e(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function m_e(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],d_e(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],f_e(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],h_e(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],p_e(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function g_e(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>m_e(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function y_e(t){const e={};if(T(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=T(t,["description"]);n!=null&&E(e,["description"],n);const r=T(t,["name"]);r!=null&&E(e,["name"],r);const i=T(t,["parameters"]);i!=null&&E(e,["parameters"],i);const s=T(t,["parametersJsonSchema"]);s!=null&&E(e,["parametersJsonSchema"],s);const a=T(t,["response"]);a!=null&&E(e,["response"],a);const o=T(t,["responseJsonSchema"]);return o!=null&&E(e,["responseJsonSchema"],o),e}function v_e(t){const e={},n=T(t,["startTime"]);n!=null&&E(e,["startTime"],n);const r=T(t,["endTime"]);return r!=null&&E(e,["endTime"],r),e}function x_e(t){const e={},n=T(t,["timeRangeFilter"]);n!=null&&E(e,["timeRangeFilter"],v_e(n));const r=T(t,["excludeDomains"]);return r!=null&&E(e,["excludeDomains"],r),e}function b_e(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["dynamicThreshold"]);return r!=null&&E(e,["dynamicThreshold"],r),e}function __e(t){const e={},n=T(t,["dynamicRetrievalConfig"]);return n!=null&&E(e,["dynamicRetrievalConfig"],b_e(n)),e}function w_e(t){const e={},n=T(t,["excludeDomains"]);return n!=null&&E(e,["excludeDomains"],n),e}function T_e(t){const e={},n=T(t,["apiKeyString"]);return n!=null&&E(e,["apiKeyString"],n),e}function E_e(t){const e={},n=T(t,["apiKeyConfig"]);n!=null&&E(e,["apiKeyConfig"],T_e(n));const r=T(t,["authType"]);r!=null&&E(e,["authType"],r);const i=T(t,["googleServiceAccountConfig"]);i!=null&&E(e,["googleServiceAccountConfig"],i);const s=T(t,["httpBasicAuthConfig"]);s!=null&&E(e,["httpBasicAuthConfig"],s);const a=T(t,["oauthConfig"]);a!=null&&E(e,["oauthConfig"],a);const o=T(t,["oidcConfig"]);return o!=null&&E(e,["oidcConfig"],o),e}function C_e(t){const e={},n=T(t,["authConfig"]);return n!=null&&E(e,["authConfig"],E_e(n)),e}function S_e(){return{}}function D_e(t){const e={},n=T(t,["environment"]);return n!=null&&E(e,["environment"],n),e}function A_e(t){const e={},n=T(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>y_e(h))),E(e,["functionDeclarations"],f)}const r=T(t,["retrieval"]);r!=null&&E(e,["retrieval"],r);const i=T(t,["googleSearch"]);i!=null&&E(e,["googleSearch"],x_e(i));const s=T(t,["googleSearchRetrieval"]);s!=null&&E(e,["googleSearchRetrieval"],__e(s));const a=T(t,["enterpriseWebSearch"]);a!=null&&E(e,["enterpriseWebSearch"],w_e(a));const o=T(t,["googleMaps"]);o!=null&&E(e,["googleMaps"],C_e(o)),T(t,["urlContext"])!=null&&E(e,["urlContext"],S_e());const c=T(t,["computerUse"]);c!=null&&E(e,["computerUse"],D_e(c));const u=T(t,["codeExecution"]);return u!=null&&E(e,["codeExecution"],u),e}function N_e(t){const e={},n=T(t,["handle"]);n!=null&&E(e,["handle"],n);const r=T(t,["transparent"]);return r!=null&&E(e,["transparent"],r),e}function RU(){return{}}function k_e(t){const e={},n=T(t,["disabled"]);n!=null&&E(e,["disabled"],n);const r=T(t,["startOfSpeechSensitivity"]);r!=null&&E(e,["startOfSpeechSensitivity"],r);const i=T(t,["endOfSpeechSensitivity"]);i!=null&&E(e,["endOfSpeechSensitivity"],i);const s=T(t,["prefixPaddingMs"]);s!=null&&E(e,["prefixPaddingMs"],s);const a=T(t,["silenceDurationMs"]);return a!=null&&E(e,["silenceDurationMs"],a),e}function I_e(t){const e={},n=T(t,["automaticActivityDetection"]);n!=null&&E(e,["automaticActivityDetection"],k_e(n));const r=T(t,["activityHandling"]);r!=null&&E(e,["activityHandling"],r);const i=T(t,["turnCoverage"]);return i!=null&&E(e,["turnCoverage"],i),e}function R_e(t){const e={},n=T(t,["targetTokens"]);return n!=null&&E(e,["targetTokens"],n),e}function P_e(t){const e={},n=T(t,["triggerTokens"]);n!=null&&E(e,["triggerTokens"],n);const r=T(t,["slidingWindow"]);return r!=null&&E(e,["slidingWindow"],R_e(r)),e}function F_e(t){const e={},n=T(t,["proactiveAudio"]);return n!=null&&E(e,["proactiveAudio"],n),e}function M_e(t,e){const n={},r=T(t,["generationConfig"]);e!==void 0&&r!=null&&E(e,["setup","generationConfig"],r);const i=T(t,["responseModalities"]);e!==void 0&&i!=null&&E(e,["setup","generationConfig","responseModalities"],i);const s=T(t,["temperature"]);e!==void 0&&s!=null&&E(e,["setup","generationConfig","temperature"],s);const a=T(t,["topP"]);e!==void 0&&a!=null&&E(e,["setup","generationConfig","topP"],a);const o=T(t,["topK"]);e!==void 0&&o!=null&&E(e,["setup","generationConfig","topK"],o);const l=T(t,["maxOutputTokens"]);e!==void 0&&l!=null&&E(e,["setup","generationConfig","maxOutputTokens"],l);const c=T(t,["mediaResolution"]);e!==void 0&&c!=null&&E(e,["setup","generationConfig","mediaResolution"],c);const u=T(t,["seed"]);e!==void 0&&u!=null&&E(e,["setup","generationConfig","seed"],u);const f=T(t,["speechConfig"]);e!==void 0&&f!=null&&E(e,["setup","generationConfig","speechConfig"],u_e(wI(f)));const h=T(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&E(e,["setup","generationConfig","enableAffectiveDialog"],h);const p=T(t,["systemInstruction"]);e!==void 0&&p!=null&&E(e,["setup","systemInstruction"],g_e(As(p)));const v=T(t,["tools"]);if(e!==void 0&&v!=null){let S=ig(v);Array.isArray(S)&&(S=S.map(R=>A_e(rg(R)))),E(e,["setup","tools"],S)}const g=T(t,["sessionResumption"]);e!==void 0&&g!=null&&E(e,["setup","sessionResumption"],N_e(g));const y=T(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&E(e,["setup","inputAudioTranscription"],RU());const _=T(t,["outputAudioTranscription"]);e!==void 0&&_!=null&&E(e,["setup","outputAudioTranscription"],RU());const x=T(t,["realtimeInputConfig"]);e!==void 0&&x!=null&&E(e,["setup","realtimeInputConfig"],I_e(x));const w=T(t,["contextWindowCompression"]);e!==void 0&&w!=null&&E(e,["setup","contextWindowCompression"],P_e(w));const C=T(t,["proactivity"]);return e!==void 0&&C!=null&&E(e,["setup","proactivity"],F_e(C)),n}function U_e(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["setup","model"],Gn(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],M_e(i,n)),n}function O_e(){return{}}function L_e(){return{}}function j_e(t){const e={},n=T(t,["media"]);n!=null&&E(e,["mediaChunks"],UG(n));const r=T(t,["audio"]);r!=null&&E(e,["audio"],LG(r));const i=T(t,["audioStreamEnd"]);i!=null&&E(e,["audioStreamEnd"],i);const s=T(t,["video"]);s!=null&&E(e,["video"],OG(s));const a=T(t,["text"]);return a!=null&&E(e,["text"],a),T(t,["activityStart"])!=null&&E(e,["activityStart"],O_e()),T(t,["activityEnd"])!=null&&E(e,["activityEnd"],L_e()),e}function B_e(){return{}}function V_e(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function W_e(t){const e={},n=T(t,["data"]);n!=null&&E(e,["data"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function q_e(t){const e={},n=T(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function nK(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function $_e(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],V_e(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],W_e(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],q_e(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],nK(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function z_e(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>$_e(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function PU(t){const e={},n=T(t,["text"]);n!=null&&E(e,["text"],n);const r=T(t,["finished"]);return r!=null&&E(e,["finished"],r),e}function H_e(t){const e={},n=T(t,["retrievedUrl"]);n!=null&&E(e,["retrievedUrl"],n);const r=T(t,["urlRetrievalStatus"]);return r!=null&&E(e,["urlRetrievalStatus"],r),e}function G_e(t){const e={},n=T(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>H_e(i))),E(e,["urlMetadata"],r)}return e}function K_e(t){const e={},n=T(t,["modelTurn"]);n!=null&&E(e,["modelTurn"],z_e(n));const r=T(t,["turnComplete"]);r!=null&&E(e,["turnComplete"],r);const i=T(t,["interrupted"]);i!=null&&E(e,["interrupted"],i);const s=T(t,["groundingMetadata"]);s!=null&&E(e,["groundingMetadata"],s);const a=T(t,["generationComplete"]);a!=null&&E(e,["generationComplete"],a);const o=T(t,["inputTranscription"]);o!=null&&E(e,["inputTranscription"],PU(o));const l=T(t,["outputTranscription"]);l!=null&&E(e,["outputTranscription"],PU(l));const c=T(t,["urlContextMetadata"]);return c!=null&&E(e,["urlContextMetadata"],G_e(c)),e}function J_e(t){const e={},n=T(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>nK(i))),E(e,["functionCalls"],r)}return e}function X_e(t){const e={},n=T(t,["ids"]);return n!=null&&E(e,["ids"],n),e}function Ox(t){const e={},n=T(t,["modality"]);n!=null&&E(e,["modality"],n);const r=T(t,["tokenCount"]);return r!=null&&E(e,["tokenCount"],r),e}function Y_e(t){const e={},n=T(t,["promptTokenCount"]);n!=null&&E(e,["promptTokenCount"],n);const r=T(t,["cachedContentTokenCount"]);r!=null&&E(e,["cachedContentTokenCount"],r);const i=T(t,["responseTokenCount"]);i!=null&&E(e,["responseTokenCount"],i);const s=T(t,["toolUsePromptTokenCount"]);s!=null&&E(e,["toolUsePromptTokenCount"],s);const a=T(t,["thoughtsTokenCount"]);a!=null&&E(e,["thoughtsTokenCount"],a);const o=T(t,["totalTokenCount"]);o!=null&&E(e,["totalTokenCount"],o);const l=T(t,["promptTokensDetails"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(p=>Ox(p))),E(e,["promptTokensDetails"],h)}const c=T(t,["cacheTokensDetails"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>Ox(p))),E(e,["cacheTokensDetails"],h)}const u=T(t,["responseTokensDetails"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(p=>Ox(p))),E(e,["responseTokensDetails"],h)}const f=T(t,["toolUsePromptTokensDetails"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(p=>Ox(p))),E(e,["toolUsePromptTokensDetails"],h)}return e}function Q_e(t){const e={},n=T(t,["timeLeft"]);return n!=null&&E(e,["timeLeft"],n),e}function Z_e(t){const e={},n=T(t,["newHandle"]);n!=null&&E(e,["newHandle"],n);const r=T(t,["resumable"]);r!=null&&E(e,["resumable"],r);const i=T(t,["lastConsumedClientMessageIndex"]);return i!=null&&E(e,["lastConsumedClientMessageIndex"],i),e}function ewe(t){const e={};T(t,["setupComplete"])!=null&&E(e,["setupComplete"],B_e());const r=T(t,["serverContent"]);r!=null&&E(e,["serverContent"],K_e(r));const i=T(t,["toolCall"]);i!=null&&E(e,["toolCall"],J_e(i));const s=T(t,["toolCallCancellation"]);s!=null&&E(e,["toolCallCancellation"],X_e(s));const a=T(t,["usageMetadata"]);a!=null&&E(e,["usageMetadata"],Y_e(a));const o=T(t,["goAway"]);o!=null&&E(e,["goAway"],Q_e(o));const l=T(t,["sessionResumptionUpdate"]);return l!=null&&E(e,["sessionResumptionUpdate"],Z_e(l)),e}function twe(){return{}}function nwe(t){const e={},n=T(t,["text"]);n!=null&&E(e,["text"],n);const r=T(t,["weight"]);return r!=null&&E(e,["weight"],r),e}function rwe(t){const e={},n=T(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>nwe(i))),E(e,["weightedPrompts"],r)}return e}function iwe(t){const e={},n=T(t,["temperature"]);n!=null&&E(e,["temperature"],n);const r=T(t,["topK"]);r!=null&&E(e,["topK"],r);const i=T(t,["seed"]);i!=null&&E(e,["seed"],i);const s=T(t,["guidance"]);s!=null&&E(e,["guidance"],s);const a=T(t,["bpm"]);a!=null&&E(e,["bpm"],a);const o=T(t,["density"]);o!=null&&E(e,["density"],o);const l=T(t,["brightness"]);l!=null&&E(e,["brightness"],l);const c=T(t,["scale"]);c!=null&&E(e,["scale"],c);const u=T(t,["muteBass"]);u!=null&&E(e,["muteBass"],u);const f=T(t,["muteDrums"]);f!=null&&E(e,["muteDrums"],f);const h=T(t,["onlyBassAndDrums"]);h!=null&&E(e,["onlyBassAndDrums"],h);const p=T(t,["musicGenerationMode"]);return p!=null&&E(e,["musicGenerationMode"],p),e}function swe(t){const e={},n=T(t,["clientContent"]);n!=null&&E(e,["clientContent"],rwe(n));const r=T(t,["musicGenerationConfig"]);return r!=null&&E(e,["musicGenerationConfig"],iwe(r)),e}function awe(t){const e={},n=T(t,["data"]);n!=null&&E(e,["data"],n);const r=T(t,["mimeType"]);r!=null&&E(e,["mimeType"],r);const i=T(t,["sourceMetadata"]);return i!=null&&E(e,["sourceMetadata"],swe(i)),e}function owe(t){const e={},n=T(t,["audioChunks"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>awe(i))),E(e,["audioChunks"],r)}return e}function lwe(t){const e={},n=T(t,["text"]);n!=null&&E(e,["text"],n);const r=T(t,["filteredReason"]);return r!=null&&E(e,["filteredReason"],r),e}function cwe(t){const e={};T(t,["setupComplete"])!=null&&E(e,["setupComplete"],twe());const r=T(t,["serverContent"]);r!=null&&E(e,["serverContent"],owe(r));const i=T(t,["filteredPrompt"]);return i!=null&&E(e,["filteredPrompt"],lwe(i)),e}function uwe(t){const e={},n=T(t,["sessionId"]);return n!=null&&E(e,["sessionId"],n),e}function dwe(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function fwe(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["data"]);r!=null&&E(e,["data"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function hwe(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["fileUri"]);r!=null&&E(e,["fileUri"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function rK(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function pwe(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],dwe(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],fwe(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],hwe(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],rK(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function mwe(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>pwe(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function FU(t){const e={},n=T(t,["text"]);n!=null&&E(e,["text"],n);const r=T(t,["finished"]);return r!=null&&E(e,["finished"],r),e}function gwe(t){const e={},n=T(t,["modelTurn"]);n!=null&&E(e,["modelTurn"],mwe(n));const r=T(t,["turnComplete"]);r!=null&&E(e,["turnComplete"],r);const i=T(t,["interrupted"]);i!=null&&E(e,["interrupted"],i);const s=T(t,["groundingMetadata"]);s!=null&&E(e,["groundingMetadata"],s);const a=T(t,["generationComplete"]);a!=null&&E(e,["generationComplete"],a);const o=T(t,["inputTranscription"]);o!=null&&E(e,["inputTranscription"],FU(o));const l=T(t,["outputTranscription"]);return l!=null&&E(e,["outputTranscription"],FU(l)),e}function ywe(t){const e={},n=T(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>rK(i))),E(e,["functionCalls"],r)}return e}function vwe(t){const e={},n=T(t,["ids"]);return n!=null&&E(e,["ids"],n),e}function Lx(t){const e={},n=T(t,["modality"]);n!=null&&E(e,["modality"],n);const r=T(t,["tokenCount"]);return r!=null&&E(e,["tokenCount"],r),e}function xwe(t){const e={},n=T(t,["promptTokenCount"]);n!=null&&E(e,["promptTokenCount"],n);const r=T(t,["cachedContentTokenCount"]);r!=null&&E(e,["cachedContentTokenCount"],r);const i=T(t,["candidatesTokenCount"]);i!=null&&E(e,["responseTokenCount"],i);const s=T(t,["toolUsePromptTokenCount"]);s!=null&&E(e,["toolUsePromptTokenCount"],s);const a=T(t,["thoughtsTokenCount"]);a!=null&&E(e,["thoughtsTokenCount"],a);const o=T(t,["totalTokenCount"]);o!=null&&E(e,["totalTokenCount"],o);const l=T(t,["promptTokensDetails"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(v=>Lx(v))),E(e,["promptTokensDetails"],p)}const c=T(t,["cacheTokensDetails"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(v=>Lx(v))),E(e,["cacheTokensDetails"],p)}const u=T(t,["candidatesTokensDetails"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(v=>Lx(v))),E(e,["responseTokensDetails"],p)}const f=T(t,["toolUsePromptTokensDetails"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(v=>Lx(v))),E(e,["toolUsePromptTokensDetails"],p)}const h=T(t,["trafficType"]);return h!=null&&E(e,["trafficType"],h),e}function bwe(t){const e={},n=T(t,["timeLeft"]);return n!=null&&E(e,["timeLeft"],n),e}function _we(t){const e={},n=T(t,["newHandle"]);n!=null&&E(e,["newHandle"],n);const r=T(t,["resumable"]);r!=null&&E(e,["resumable"],r);const i=T(t,["lastConsumedClientMessageIndex"]);return i!=null&&E(e,["lastConsumedClientMessageIndex"],i),e}function wwe(t){const e={},n=T(t,["setupComplete"]);n!=null&&E(e,["setupComplete"],uwe(n));const r=T(t,["serverContent"]);r!=null&&E(e,["serverContent"],gwe(r));const i=T(t,["toolCall"]);i!=null&&E(e,["toolCall"],ywe(i));const s=T(t,["toolCallCancellation"]);s!=null&&E(e,["toolCallCancellation"],vwe(s));const a=T(t,["usageMetadata"]);a!=null&&E(e,["usageMetadata"],xwe(a));const o=T(t,["goAway"]);o!=null&&E(e,["goAway"],bwe(o));const l=T(t,["sessionResumptionUpdate"]);return l!=null&&E(e,["sessionResumptionUpdate"],_we(l)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Twe(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function Ewe(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["data"]);n!=null&&E(e,["data"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function Cwe(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function Swe(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function Dwe(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],Twe(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],Ewe(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],Cwe(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],Swe(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function Mw(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Dwe(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function Awe(t){const e={},n=T(t,["anyOf"]);n!=null&&E(e,["anyOf"],n);const r=T(t,["default"]);r!=null&&E(e,["default"],r);const i=T(t,["description"]);i!=null&&E(e,["description"],i);const s=T(t,["enum"]);s!=null&&E(e,["enum"],s);const a=T(t,["example"]);a!=null&&E(e,["example"],a);const o=T(t,["format"]);o!=null&&E(e,["format"],o);const l=T(t,["items"]);l!=null&&E(e,["items"],l);const c=T(t,["maxItems"]);c!=null&&E(e,["maxItems"],c);const u=T(t,["maxLength"]);u!=null&&E(e,["maxLength"],u);const f=T(t,["maxProperties"]);f!=null&&E(e,["maxProperties"],f);const h=T(t,["maximum"]);h!=null&&E(e,["maximum"],h);const p=T(t,["minItems"]);p!=null&&E(e,["minItems"],p);const v=T(t,["minLength"]);v!=null&&E(e,["minLength"],v);const g=T(t,["minProperties"]);g!=null&&E(e,["minProperties"],g);const y=T(t,["minimum"]);y!=null&&E(e,["minimum"],y);const _=T(t,["nullable"]);_!=null&&E(e,["nullable"],_);const x=T(t,["pattern"]);x!=null&&E(e,["pattern"],x);const w=T(t,["properties"]);w!=null&&E(e,["properties"],w);const C=T(t,["propertyOrdering"]);C!=null&&E(e,["propertyOrdering"],C);const S=T(t,["required"]);S!=null&&E(e,["required"],S);const R=T(t,["title"]);R!=null&&E(e,["title"],R);const D=T(t,["type"]);return D!=null&&E(e,["type"],D),e}function Nwe(t){const e={};if(T(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=T(t,["category"]);n!=null&&E(e,["category"],n);const r=T(t,["threshold"]);return r!=null&&E(e,["threshold"],r),e}function kwe(t){const e={},n=T(t,["behavior"]);n!=null&&E(e,["behavior"],n);const r=T(t,["description"]);r!=null&&E(e,["description"],r);const i=T(t,["name"]);i!=null&&E(e,["name"],i);const s=T(t,["parameters"]);s!=null&&E(e,["parameters"],s);const a=T(t,["parametersJsonSchema"]);a!=null&&E(e,["parametersJsonSchema"],a);const o=T(t,["response"]);o!=null&&E(e,["response"],o);const l=T(t,["responseJsonSchema"]);return l!=null&&E(e,["responseJsonSchema"],l),e}function Iwe(t){const e={},n=T(t,["startTime"]);n!=null&&E(e,["startTime"],n);const r=T(t,["endTime"]);return r!=null&&E(e,["endTime"],r),e}function Rwe(t){const e={},n=T(t,["timeRangeFilter"]);if(n!=null&&E(e,["timeRangeFilter"],Iwe(n)),T(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function Pwe(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["dynamicThreshold"]);return r!=null&&E(e,["dynamicThreshold"],r),e}function Fwe(t){const e={},n=T(t,["dynamicRetrievalConfig"]);return n!=null&&E(e,["dynamicRetrievalConfig"],Pwe(n)),e}function Mwe(){return{}}function Uwe(t){const e={},n=T(t,["environment"]);return n!=null&&E(e,["environment"],n),e}function Owe(t){const e={},n=T(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>kwe(c))),E(e,["functionDeclarations"],l)}if(T(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=T(t,["googleSearch"]);r!=null&&E(e,["googleSearch"],Rwe(r));const i=T(t,["googleSearchRetrieval"]);if(i!=null&&E(e,["googleSearchRetrieval"],Fwe(i)),T(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(T(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");T(t,["urlContext"])!=null&&E(e,["urlContext"],Mwe());const a=T(t,["computerUse"]);a!=null&&E(e,["computerUse"],Uwe(a));const o=T(t,["codeExecution"]);return o!=null&&E(e,["codeExecution"],o),e}function Lwe(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["allowedFunctionNames"]);return r!=null&&E(e,["allowedFunctionNames"],r),e}function jwe(t){const e={},n=T(t,["latitude"]);n!=null&&E(e,["latitude"],n);const r=T(t,["longitude"]);return r!=null&&E(e,["longitude"],r),e}function Bwe(t){const e={},n=T(t,["latLng"]);n!=null&&E(e,["latLng"],jwe(n));const r=T(t,["languageCode"]);return r!=null&&E(e,["languageCode"],r),e}function Vwe(t){const e={},n=T(t,["functionCallingConfig"]);n!=null&&E(e,["functionCallingConfig"],Lwe(n));const r=T(t,["retrievalConfig"]);return r!=null&&E(e,["retrievalConfig"],Bwe(r)),e}function Wwe(t){const e={},n=T(t,["voiceName"]);return n!=null&&E(e,["voiceName"],n),e}function iK(t){const e={},n=T(t,["prebuiltVoiceConfig"]);return n!=null&&E(e,["prebuiltVoiceConfig"],Wwe(n)),e}function qwe(t){const e={},n=T(t,["speaker"]);n!=null&&E(e,["speaker"],n);const r=T(t,["voiceConfig"]);return r!=null&&E(e,["voiceConfig"],iK(r)),e}function $we(t){const e={},n=T(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>qwe(i))),E(e,["speakerVoiceConfigs"],r)}return e}function zwe(t){const e={},n=T(t,["voiceConfig"]);n!=null&&E(e,["voiceConfig"],iK(n));const r=T(t,["multiSpeakerVoiceConfig"]);r!=null&&E(e,["multiSpeakerVoiceConfig"],$we(r));const i=T(t,["languageCode"]);return i!=null&&E(e,["languageCode"],i),e}function Hwe(t){const e={},n=T(t,["includeThoughts"]);n!=null&&E(e,["includeThoughts"],n);const r=T(t,["thinkingBudget"]);return r!=null&&E(e,["thinkingBudget"],r),e}function Gwe(t,e,n){const r={},i=T(e,["systemInstruction"]);n!==void 0&&i!=null&&E(n,["systemInstruction"],Mw(As(i)));const s=T(e,["temperature"]);s!=null&&E(r,["temperature"],s);const a=T(e,["topP"]);a!=null&&E(r,["topP"],a);const o=T(e,["topK"]);o!=null&&E(r,["topK"],o);const l=T(e,["candidateCount"]);l!=null&&E(r,["candidateCount"],l);const c=T(e,["maxOutputTokens"]);c!=null&&E(r,["maxOutputTokens"],c);const u=T(e,["stopSequences"]);u!=null&&E(r,["stopSequences"],u);const f=T(e,["responseLogprobs"]);f!=null&&E(r,["responseLogprobs"],f);const h=T(e,["logprobs"]);h!=null&&E(r,["logprobs"],h);const p=T(e,["presencePenalty"]);p!=null&&E(r,["presencePenalty"],p);const v=T(e,["frequencyPenalty"]);v!=null&&E(r,["frequencyPenalty"],v);const g=T(e,["seed"]);g!=null&&E(r,["seed"],g);const y=T(e,["responseMimeType"]);y!=null&&E(r,["responseMimeType"],y);const _=T(e,["responseSchema"]);_!=null&&E(r,["responseSchema"],Awe(bI(_)));const x=T(e,["responseJsonSchema"]);if(x!=null&&E(r,["responseJsonSchema"],x),T(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(T(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const w=T(e,["safetySettings"]);if(n!==void 0&&w!=null){let P=w;Array.isArray(P)&&(P=P.map(k=>Nwe(k))),E(n,["safetySettings"],P)}const C=T(e,["tools"]);if(n!==void 0&&C!=null){let P=ig(C);Array.isArray(P)&&(P=P.map(k=>Owe(rg(k)))),E(n,["tools"],P)}const S=T(e,["toolConfig"]);if(n!==void 0&&S!=null&&E(n,["toolConfig"],Vwe(S)),T(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const R=T(e,["cachedContent"]);n!==void 0&&R!=null&&E(n,["cachedContent"],$c(t,R));const D=T(e,["responseModalities"]);D!=null&&E(r,["responseModalities"],D);const N=T(e,["mediaResolution"]);N!=null&&E(r,["mediaResolution"],N);const I=T(e,["speechConfig"]);if(I!=null&&E(r,["speechConfig"],zwe(_I(I))),T(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const F=T(e,["thinkingConfig"]);return F!=null&&E(r,["thinkingConfig"],Hwe(F)),r}function MU(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Gn(t,r));const i=T(e,["contents"]);if(i!=null){let a=go(i);Array.isArray(a)&&(a=a.map(o=>Mw(o))),E(n,["contents"],a)}const s=T(e,["config"]);return s!=null&&E(n,["generationConfig"],Gwe(t,s,n)),n}function Kwe(t,e){const n={},r=T(t,["taskType"]);e!==void 0&&r!=null&&E(e,["requests[]","taskType"],r);const i=T(t,["title"]);e!==void 0&&i!=null&&E(e,["requests[]","title"],i);const s=T(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&E(e,["requests[]","outputDimensionality"],s),T(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(T(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Jwe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Gn(t,r));const i=T(e,["contents"]);i!=null&&E(n,["requests[]","content"],xI(t,i));const s=T(e,["config"]);s!=null&&E(n,["config"],Kwe(s,n));const a=T(e,["model"]);return a!==void 0&&E(n,["requests[]","model"],Gn(t,a)),n}function Xwe(t,e){const n={};if(T(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(T(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=T(t,["numberOfImages"]);e!==void 0&&r!=null&&E(e,["parameters","sampleCount"],r);const i=T(t,["aspectRatio"]);e!==void 0&&i!=null&&E(e,["parameters","aspectRatio"],i);const s=T(t,["guidanceScale"]);if(e!==void 0&&s!=null&&E(e,["parameters","guidanceScale"],s),T(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=T(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&E(e,["parameters","safetySetting"],a);const o=T(t,["personGeneration"]);e!==void 0&&o!=null&&E(e,["parameters","personGeneration"],o);const l=T(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&E(e,["parameters","includeSafetyAttributes"],l);const c=T(t,["includeRaiReason"]);e!==void 0&&c!=null&&E(e,["parameters","includeRaiReason"],c);const u=T(t,["language"]);e!==void 0&&u!=null&&E(e,["parameters","language"],u);const f=T(t,["outputMimeType"]);e!==void 0&&f!=null&&E(e,["parameters","outputOptions","mimeType"],f);const h=T(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&E(e,["parameters","outputOptions","compressionQuality"],h),T(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const p=T(t,["imageSize"]);if(e!==void 0&&p!=null&&E(e,["parameters","sampleImageSize"],p),T(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Ywe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Gn(t,r));const i=T(e,["prompt"]);i!=null&&E(n,["instances[0]","prompt"],i);const s=T(e,["config"]);return s!=null&&E(n,["config"],Xwe(s,n)),n}function Qwe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","name"],Gn(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function Zwe(t,e,n){const r={},i=T(e,["pageSize"]);n!==void 0&&i!=null&&E(n,["_query","pageSize"],i);const s=T(e,["pageToken"]);n!==void 0&&s!=null&&E(n,["_query","pageToken"],s);const a=T(e,["filter"]);n!==void 0&&a!=null&&E(n,["_query","filter"],a);const o=T(e,["queryBase"]);return n!==void 0&&o!=null&&E(n,["_url","models_url"],WG(t,o)),r}function eTe(t,e){const n={},r=T(e,["config"]);return r!=null&&E(n,["config"],Zwe(t,r,n)),n}function tTe(t,e){const n={},r=T(t,["displayName"]);e!==void 0&&r!=null&&E(e,["displayName"],r);const i=T(t,["description"]);e!==void 0&&i!=null&&E(e,["description"],i);const s=T(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&E(e,["defaultCheckpointId"],s),n}function nTe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","name"],Gn(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],tTe(i,n)),n}function rTe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","name"],Gn(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function iTe(t){const e={};if(T(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(T(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(T(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function sTe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Gn(t,r));const i=T(e,["contents"]);if(i!=null){let a=go(i);Array.isArray(a)&&(a=a.map(o=>Mw(o))),E(n,["contents"],a)}const s=T(e,["config"]);return s!=null&&E(n,["config"],iTe(s)),n}function sK(t){const e={};if(T(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=T(t,["imageBytes"]);n!=null&&E(e,["bytesBase64Encoded"],ph(n));const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function aTe(t,e){const n={},r=T(t,["prompt"]);e!==void 0&&r!=null&&E(e,["instances[0]","prompt"],r);const i=T(t,["image"]);if(e!==void 0&&i!=null&&E(e,["instances[0]","image"],sK(i)),T(t,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");return n}function oTe(t,e){const n={},r=T(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&E(e,["parameters","sampleCount"],r),T(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(T(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=T(t,["durationSeconds"]);if(e!==void 0&&i!=null&&E(e,["parameters","durationSeconds"],i),T(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=T(t,["aspectRatio"]);e!==void 0&&s!=null&&E(e,["parameters","aspectRatio"],s);const a=T(t,["resolution"]);e!==void 0&&a!=null&&E(e,["parameters","resolution"],a);const o=T(t,["personGeneration"]);if(e!==void 0&&o!=null&&E(e,["parameters","personGeneration"],o),T(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=T(t,["negativePrompt"]);e!==void 0&&l!=null&&E(e,["parameters","negativePrompt"],l);const c=T(t,["enhancePrompt"]);if(e!==void 0&&c!=null&&E(e,["parameters","enhancePrompt"],c),T(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(T(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(T(t,["referenceImages"])!==void 0)throw new Error("referenceImages parameter is not supported in Gemini API.");if(T(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(T(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function lTe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Gn(t,r));const i=T(e,["prompt"]);i!=null&&E(n,["instances[0]","prompt"],i);const s=T(e,["image"]);if(s!=null&&E(n,["instances[0]","image"],sK(s)),T(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const a=T(e,["source"]);a!=null&&E(n,["config"],aTe(a,n));const o=T(e,["config"]);return o!=null&&E(n,["config"],oTe(o,n)),n}function cTe(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function uTe(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["data"]);r!=null&&E(e,["data"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function dTe(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["fileUri"]);r!=null&&E(e,["fileUri"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function fTe(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function hTe(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],cTe(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],uTe(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],dTe(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],fTe(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function ag(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>hTe(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function pTe(t){const e={},n=T(t,["anyOf"]);n!=null&&E(e,["anyOf"],n);const r=T(t,["default"]);r!=null&&E(e,["default"],r);const i=T(t,["description"]);i!=null&&E(e,["description"],i);const s=T(t,["enum"]);s!=null&&E(e,["enum"],s);const a=T(t,["example"]);a!=null&&E(e,["example"],a);const o=T(t,["format"]);o!=null&&E(e,["format"],o);const l=T(t,["items"]);l!=null&&E(e,["items"],l);const c=T(t,["maxItems"]);c!=null&&E(e,["maxItems"],c);const u=T(t,["maxLength"]);u!=null&&E(e,["maxLength"],u);const f=T(t,["maxProperties"]);f!=null&&E(e,["maxProperties"],f);const h=T(t,["maximum"]);h!=null&&E(e,["maximum"],h);const p=T(t,["minItems"]);p!=null&&E(e,["minItems"],p);const v=T(t,["minLength"]);v!=null&&E(e,["minLength"],v);const g=T(t,["minProperties"]);g!=null&&E(e,["minProperties"],g);const y=T(t,["minimum"]);y!=null&&E(e,["minimum"],y);const _=T(t,["nullable"]);_!=null&&E(e,["nullable"],_);const x=T(t,["pattern"]);x!=null&&E(e,["pattern"],x);const w=T(t,["properties"]);w!=null&&E(e,["properties"],w);const C=T(t,["propertyOrdering"]);C!=null&&E(e,["propertyOrdering"],C);const S=T(t,["required"]);S!=null&&E(e,["required"],S);const R=T(t,["title"]);R!=null&&E(e,["title"],R);const D=T(t,["type"]);return D!=null&&E(e,["type"],D),e}function mTe(t){const e={},n=T(t,["featureSelectionPreference"]);return n!=null&&E(e,["featureSelectionPreference"],n),e}function gTe(t){const e={},n=T(t,["method"]);n!=null&&E(e,["method"],n);const r=T(t,["category"]);r!=null&&E(e,["category"],r);const i=T(t,["threshold"]);return i!=null&&E(e,["threshold"],i),e}function yTe(t){const e={};if(T(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=T(t,["description"]);n!=null&&E(e,["description"],n);const r=T(t,["name"]);r!=null&&E(e,["name"],r);const i=T(t,["parameters"]);i!=null&&E(e,["parameters"],i);const s=T(t,["parametersJsonSchema"]);s!=null&&E(e,["parametersJsonSchema"],s);const a=T(t,["response"]);a!=null&&E(e,["response"],a);const o=T(t,["responseJsonSchema"]);return o!=null&&E(e,["responseJsonSchema"],o),e}function vTe(t){const e={},n=T(t,["startTime"]);n!=null&&E(e,["startTime"],n);const r=T(t,["endTime"]);return r!=null&&E(e,["endTime"],r),e}function xTe(t){const e={},n=T(t,["timeRangeFilter"]);n!=null&&E(e,["timeRangeFilter"],vTe(n));const r=T(t,["excludeDomains"]);return r!=null&&E(e,["excludeDomains"],r),e}function bTe(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["dynamicThreshold"]);return r!=null&&E(e,["dynamicThreshold"],r),e}function _Te(t){const e={},n=T(t,["dynamicRetrievalConfig"]);return n!=null&&E(e,["dynamicRetrievalConfig"],bTe(n)),e}function wTe(t){const e={},n=T(t,["excludeDomains"]);return n!=null&&E(e,["excludeDomains"],n),e}function TTe(t){const e={},n=T(t,["apiKeyString"]);return n!=null&&E(e,["apiKeyString"],n),e}function ETe(t){const e={},n=T(t,["apiKeyConfig"]);n!=null&&E(e,["apiKeyConfig"],TTe(n));const r=T(t,["authType"]);r!=null&&E(e,["authType"],r);const i=T(t,["googleServiceAccountConfig"]);i!=null&&E(e,["googleServiceAccountConfig"],i);const s=T(t,["httpBasicAuthConfig"]);s!=null&&E(e,["httpBasicAuthConfig"],s);const a=T(t,["oauthConfig"]);a!=null&&E(e,["oauthConfig"],a);const o=T(t,["oidcConfig"]);return o!=null&&E(e,["oidcConfig"],o),e}function CTe(t){const e={},n=T(t,["authConfig"]);return n!=null&&E(e,["authConfig"],ETe(n)),e}function STe(){return{}}function DTe(t){const e={},n=T(t,["environment"]);return n!=null&&E(e,["environment"],n),e}function aK(t){const e={},n=T(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>yTe(h))),E(e,["functionDeclarations"],f)}const r=T(t,["retrieval"]);r!=null&&E(e,["retrieval"],r);const i=T(t,["googleSearch"]);i!=null&&E(e,["googleSearch"],xTe(i));const s=T(t,["googleSearchRetrieval"]);s!=null&&E(e,["googleSearchRetrieval"],_Te(s));const a=T(t,["enterpriseWebSearch"]);a!=null&&E(e,["enterpriseWebSearch"],wTe(a));const o=T(t,["googleMaps"]);o!=null&&E(e,["googleMaps"],CTe(o)),T(t,["urlContext"])!=null&&E(e,["urlContext"],STe());const c=T(t,["computerUse"]);c!=null&&E(e,["computerUse"],DTe(c));const u=T(t,["codeExecution"]);return u!=null&&E(e,["codeExecution"],u),e}function ATe(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["allowedFunctionNames"]);return r!=null&&E(e,["allowedFunctionNames"],r),e}function NTe(t){const e={},n=T(t,["latitude"]);n!=null&&E(e,["latitude"],n);const r=T(t,["longitude"]);return r!=null&&E(e,["longitude"],r),e}function kTe(t){const e={},n=T(t,["latLng"]);n!=null&&E(e,["latLng"],NTe(n));const r=T(t,["languageCode"]);return r!=null&&E(e,["languageCode"],r),e}function ITe(t){const e={},n=T(t,["functionCallingConfig"]);n!=null&&E(e,["functionCallingConfig"],ATe(n));const r=T(t,["retrievalConfig"]);return r!=null&&E(e,["retrievalConfig"],kTe(r)),e}function RTe(t){const e={},n=T(t,["voiceName"]);return n!=null&&E(e,["voiceName"],n),e}function PTe(t){const e={},n=T(t,["prebuiltVoiceConfig"]);return n!=null&&E(e,["prebuiltVoiceConfig"],RTe(n)),e}function FTe(t){const e={},n=T(t,["voiceConfig"]);if(n!=null&&E(e,["voiceConfig"],PTe(n)),T(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=T(t,["languageCode"]);return r!=null&&E(e,["languageCode"],r),e}function MTe(t){const e={},n=T(t,["includeThoughts"]);n!=null&&E(e,["includeThoughts"],n);const r=T(t,["thinkingBudget"]);return r!=null&&E(e,["thinkingBudget"],r),e}function UTe(t,e,n){const r={},i=T(e,["systemInstruction"]);n!==void 0&&i!=null&&E(n,["systemInstruction"],ag(As(i)));const s=T(e,["temperature"]);s!=null&&E(r,["temperature"],s);const a=T(e,["topP"]);a!=null&&E(r,["topP"],a);const o=T(e,["topK"]);o!=null&&E(r,["topK"],o);const l=T(e,["candidateCount"]);l!=null&&E(r,["candidateCount"],l);const c=T(e,["maxOutputTokens"]);c!=null&&E(r,["maxOutputTokens"],c);const u=T(e,["stopSequences"]);u!=null&&E(r,["stopSequences"],u);const f=T(e,["responseLogprobs"]);f!=null&&E(r,["responseLogprobs"],f);const h=T(e,["logprobs"]);h!=null&&E(r,["logprobs"],h);const p=T(e,["presencePenalty"]);p!=null&&E(r,["presencePenalty"],p);const v=T(e,["frequencyPenalty"]);v!=null&&E(r,["frequencyPenalty"],v);const g=T(e,["seed"]);g!=null&&E(r,["seed"],g);const y=T(e,["responseMimeType"]);y!=null&&E(r,["responseMimeType"],y);const _=T(e,["responseSchema"]);_!=null&&E(r,["responseSchema"],pTe(bI(_)));const x=T(e,["responseJsonSchema"]);x!=null&&E(r,["responseJsonSchema"],x);const w=T(e,["routingConfig"]);w!=null&&E(r,["routingConfig"],w);const C=T(e,["modelSelectionConfig"]);C!=null&&E(r,["modelConfig"],mTe(C));const S=T(e,["safetySettings"]);if(n!==void 0&&S!=null){let H=S;Array.isArray(H)&&(H=H.map(G=>gTe(G))),E(n,["safetySettings"],H)}const R=T(e,["tools"]);if(n!==void 0&&R!=null){let H=ig(R);Array.isArray(H)&&(H=H.map(G=>aK(rg(G)))),E(n,["tools"],H)}const D=T(e,["toolConfig"]);n!==void 0&&D!=null&&E(n,["toolConfig"],ITe(D));const N=T(e,["labels"]);n!==void 0&&N!=null&&E(n,["labels"],N);const I=T(e,["cachedContent"]);n!==void 0&&I!=null&&E(n,["cachedContent"],$c(t,I));const F=T(e,["responseModalities"]);F!=null&&E(r,["responseModalities"],F);const P=T(e,["mediaResolution"]);P!=null&&E(r,["mediaResolution"],P);const k=T(e,["speechConfig"]);k!=null&&E(r,["speechConfig"],FTe(_I(k)));const U=T(e,["audioTimestamp"]);U!=null&&E(r,["audioTimestamp"],U);const O=T(e,["thinkingConfig"]);return O!=null&&E(r,["thinkingConfig"],MTe(O)),r}function UU(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Gn(t,r));const i=T(e,["contents"]);if(i!=null){let a=go(i);Array.isArray(a)&&(a=a.map(o=>ag(o))),E(n,["contents"],a)}const s=T(e,["config"]);return s!=null&&E(n,["generationConfig"],UTe(t,s,n)),n}function OTe(t,e){const n={},r=T(t,["taskType"]);e!==void 0&&r!=null&&E(e,["instances[]","task_type"],r);const i=T(t,["title"]);e!==void 0&&i!=null&&E(e,["instances[]","title"],i);const s=T(t,["outputDimensionality"]);e!==void 0&&s!=null&&E(e,["parameters","outputDimensionality"],s);const a=T(t,["mimeType"]);e!==void 0&&a!=null&&E(e,["instances[]","mimeType"],a);const o=T(t,["autoTruncate"]);return e!==void 0&&o!=null&&E(e,["parameters","autoTruncate"],o),n}function LTe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Gn(t,r));const i=T(e,["contents"]);i!=null&&E(n,["instances[]","content"],xI(t,i));const s=T(e,["config"]);return s!=null&&E(n,["config"],OTe(s,n)),n}function jTe(t,e){const n={},r=T(t,["outputGcsUri"]);e!==void 0&&r!=null&&E(e,["parameters","storageUri"],r);const i=T(t,["negativePrompt"]);e!==void 0&&i!=null&&E(e,["parameters","negativePrompt"],i);const s=T(t,["numberOfImages"]);e!==void 0&&s!=null&&E(e,["parameters","sampleCount"],s);const a=T(t,["aspectRatio"]);e!==void 0&&a!=null&&E(e,["parameters","aspectRatio"],a);const o=T(t,["guidanceScale"]);e!==void 0&&o!=null&&E(e,["parameters","guidanceScale"],o);const l=T(t,["seed"]);e!==void 0&&l!=null&&E(e,["parameters","seed"],l);const c=T(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&E(e,["parameters","safetySetting"],c);const u=T(t,["personGeneration"]);e!==void 0&&u!=null&&E(e,["parameters","personGeneration"],u);const f=T(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&E(e,["parameters","includeSafetyAttributes"],f);const h=T(t,["includeRaiReason"]);e!==void 0&&h!=null&&E(e,["parameters","includeRaiReason"],h);const p=T(t,["language"]);e!==void 0&&p!=null&&E(e,["parameters","language"],p);const v=T(t,["outputMimeType"]);e!==void 0&&v!=null&&E(e,["parameters","outputOptions","mimeType"],v);const g=T(t,["outputCompressionQuality"]);e!==void 0&&g!=null&&E(e,["parameters","outputOptions","compressionQuality"],g);const y=T(t,["addWatermark"]);e!==void 0&&y!=null&&E(e,["parameters","addWatermark"],y);const _=T(t,["imageSize"]);e!==void 0&&_!=null&&E(e,["parameters","sampleImageSize"],_);const x=T(t,["enhancePrompt"]);return e!==void 0&&x!=null&&E(e,["parameters","enhancePrompt"],x),n}function BTe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Gn(t,r));const i=T(e,["prompt"]);i!=null&&E(n,["instances[0]","prompt"],i);const s=T(e,["config"]);return s!=null&&E(n,["config"],jTe(s,n)),n}function sl(t){const e={},n=T(t,["gcsUri"]);n!=null&&E(e,["gcsUri"],n);const r=T(t,["imageBytes"]);r!=null&&E(e,["bytesBase64Encoded"],ph(r));const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function VTe(t){const e={},n=T(t,["maskMode"]);n!=null&&E(e,["maskMode"],n);const r=T(t,["segmentationClasses"]);r!=null&&E(e,["maskClasses"],r);const i=T(t,["maskDilation"]);return i!=null&&E(e,["dilation"],i),e}function WTe(t){const e={},n=T(t,["controlType"]);n!=null&&E(e,["controlType"],n);const r=T(t,["enableControlImageComputation"]);return r!=null&&E(e,["computeControl"],r),e}function qTe(t){const e={},n=T(t,["styleDescription"]);return n!=null&&E(e,["styleDescription"],n),e}function $Te(t){const e={},n=T(t,["subjectType"]);n!=null&&E(e,["subjectType"],n);const r=T(t,["subjectDescription"]);return r!=null&&E(e,["subjectDescription"],r),e}function zTe(t){const e={},n=T(t,["referenceImage"]);n!=null&&E(e,["referenceImage"],sl(n));const r=T(t,["referenceId"]);r!=null&&E(e,["referenceId"],r);const i=T(t,["referenceType"]);i!=null&&E(e,["referenceType"],i);const s=T(t,["maskImageConfig"]);s!=null&&E(e,["maskImageConfig"],VTe(s));const a=T(t,["controlImageConfig"]);a!=null&&E(e,["controlImageConfig"],WTe(a));const o=T(t,["styleImageConfig"]);o!=null&&E(e,["styleImageConfig"],qTe(o));const l=T(t,["subjectImageConfig"]);return l!=null&&E(e,["subjectImageConfig"],$Te(l)),e}function HTe(t,e){const n={},r=T(t,["outputGcsUri"]);e!==void 0&&r!=null&&E(e,["parameters","storageUri"],r);const i=T(t,["negativePrompt"]);e!==void 0&&i!=null&&E(e,["parameters","negativePrompt"],i);const s=T(t,["numberOfImages"]);e!==void 0&&s!=null&&E(e,["parameters","sampleCount"],s);const a=T(t,["aspectRatio"]);e!==void 0&&a!=null&&E(e,["parameters","aspectRatio"],a);const o=T(t,["guidanceScale"]);e!==void 0&&o!=null&&E(e,["parameters","guidanceScale"],o);const l=T(t,["seed"]);e!==void 0&&l!=null&&E(e,["parameters","seed"],l);const c=T(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&E(e,["parameters","safetySetting"],c);const u=T(t,["personGeneration"]);e!==void 0&&u!=null&&E(e,["parameters","personGeneration"],u);const f=T(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&E(e,["parameters","includeSafetyAttributes"],f);const h=T(t,["includeRaiReason"]);e!==void 0&&h!=null&&E(e,["parameters","includeRaiReason"],h);const p=T(t,["language"]);e!==void 0&&p!=null&&E(e,["parameters","language"],p);const v=T(t,["outputMimeType"]);e!==void 0&&v!=null&&E(e,["parameters","outputOptions","mimeType"],v);const g=T(t,["outputCompressionQuality"]);e!==void 0&&g!=null&&E(e,["parameters","outputOptions","compressionQuality"],g);const y=T(t,["addWatermark"]);e!==void 0&&y!=null&&E(e,["parameters","addWatermark"],y);const _=T(t,["editMode"]);e!==void 0&&_!=null&&E(e,["parameters","editMode"],_);const x=T(t,["baseSteps"]);return e!==void 0&&x!=null&&E(e,["parameters","editConfig","baseSteps"],x),n}function GTe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Gn(t,r));const i=T(e,["prompt"]);i!=null&&E(n,["instances[0]","prompt"],i);const s=T(e,["referenceImages"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>zTe(l))),E(n,["instances[0]","referenceImages"],o)}const a=T(e,["config"]);return a!=null&&E(n,["config"],HTe(a,n)),n}function KTe(t,e){const n={},r=T(t,["outputGcsUri"]);e!==void 0&&r!=null&&E(e,["parameters","storageUri"],r);const i=T(t,["includeRaiReason"]);e!==void 0&&i!=null&&E(e,["parameters","includeRaiReason"],i);const s=T(t,["outputMimeType"]);e!==void 0&&s!=null&&E(e,["parameters","outputOptions","mimeType"],s);const a=T(t,["outputCompressionQuality"]);e!==void 0&&a!=null&&E(e,["parameters","outputOptions","compressionQuality"],a);const o=T(t,["enhanceInputImage"]);e!==void 0&&o!=null&&E(e,["parameters","upscaleConfig","enhanceInputImage"],o);const l=T(t,["imagePreservationFactor"]);e!==void 0&&l!=null&&E(e,["parameters","upscaleConfig","imagePreservationFactor"],l);const c=T(t,["numberOfImages"]);e!==void 0&&c!=null&&E(e,["parameters","sampleCount"],c);const u=T(t,["mode"]);return e!==void 0&&u!=null&&E(e,["parameters","mode"],u),n}function JTe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Gn(t,r));const i=T(e,["image"]);i!=null&&E(n,["instances[0]","image"],sl(i));const s=T(e,["upscaleFactor"]);s!=null&&E(n,["parameters","upscaleConfig","upscaleFactor"],s);const a=T(e,["config"]);return a!=null&&E(n,["config"],KTe(a,n)),n}function XTe(t){const e={},n=T(t,["productImage"]);return n!=null&&E(e,["image"],sl(n)),e}function YTe(t,e){const n={},r=T(t,["prompt"]);e!==void 0&&r!=null&&E(e,["instances[0]","prompt"],r);const i=T(t,["personImage"]);e!==void 0&&i!=null&&E(e,["instances[0]","personImage","image"],sl(i));const s=T(t,["productImages"]);if(e!==void 0&&s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>XTe(o))),E(e,["instances[0]","productImages"],a)}return n}function QTe(t,e){const n={},r=T(t,["numberOfImages"]);e!==void 0&&r!=null&&E(e,["parameters","sampleCount"],r);const i=T(t,["baseSteps"]);e!==void 0&&i!=null&&E(e,["parameters","editConfig","baseSteps"],i);const s=T(t,["outputGcsUri"]);e!==void 0&&s!=null&&E(e,["parameters","storageUri"],s);const a=T(t,["seed"]);e!==void 0&&a!=null&&E(e,["parameters","seed"],a);const o=T(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&E(e,["parameters","safetySetting"],o);const l=T(t,["personGeneration"]);e!==void 0&&l!=null&&E(e,["parameters","personGeneration"],l);const c=T(t,["addWatermark"]);e!==void 0&&c!=null&&E(e,["parameters","addWatermark"],c);const u=T(t,["outputMimeType"]);e!==void 0&&u!=null&&E(e,["parameters","outputOptions","mimeType"],u);const f=T(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&E(e,["parameters","outputOptions","compressionQuality"],f);const h=T(t,["enhancePrompt"]);return e!==void 0&&h!=null&&E(e,["parameters","enhancePrompt"],h),n}function ZTe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Gn(t,r));const i=T(e,["source"]);i!=null&&E(n,["config"],YTe(i,n));const s=T(e,["config"]);return s!=null&&E(n,["config"],QTe(s,n)),n}function eEe(t){const e={},n=T(t,["image"]);return n!=null&&E(e,["image"],sl(n)),e}function tEe(t,e){const n={},r=T(t,["prompt"]);e!==void 0&&r!=null&&E(e,["instances[0]","prompt"],r);const i=T(t,["image"]);e!==void 0&&i!=null&&E(e,["instances[0]","image"],sl(i));const s=T(t,["scribbleImage"]);return e!==void 0&&s!=null&&E(e,["instances[0]","scribble"],eEe(s)),n}function nEe(t,e){const n={},r=T(t,["mode"]);e!==void 0&&r!=null&&E(e,["parameters","mode"],r);const i=T(t,["maxPredictions"]);e!==void 0&&i!=null&&E(e,["parameters","maxPredictions"],i);const s=T(t,["confidenceThreshold"]);e!==void 0&&s!=null&&E(e,["parameters","confidenceThreshold"],s);const a=T(t,["maskDilation"]);e!==void 0&&a!=null&&E(e,["parameters","maskDilation"],a);const o=T(t,["binaryColorThreshold"]);return e!==void 0&&o!=null&&E(e,["parameters","binaryColorThreshold"],o),n}function rEe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Gn(t,r));const i=T(e,["source"]);i!=null&&E(n,["config"],tEe(i,n));const s=T(e,["config"]);return s!=null&&E(n,["config"],nEe(s,n)),n}function iEe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","name"],Gn(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function sEe(t,e,n){const r={},i=T(e,["pageSize"]);n!==void 0&&i!=null&&E(n,["_query","pageSize"],i);const s=T(e,["pageToken"]);n!==void 0&&s!=null&&E(n,["_query","pageToken"],s);const a=T(e,["filter"]);n!==void 0&&a!=null&&E(n,["_query","filter"],a);const o=T(e,["queryBase"]);return n!==void 0&&o!=null&&E(n,["_url","models_url"],WG(t,o)),r}function aEe(t,e){const n={},r=T(e,["config"]);return r!=null&&E(n,["config"],sEe(t,r,n)),n}function oEe(t,e){const n={},r=T(t,["displayName"]);e!==void 0&&r!=null&&E(e,["displayName"],r);const i=T(t,["description"]);e!==void 0&&i!=null&&E(e,["description"],i);const s=T(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&E(e,["defaultCheckpointId"],s),n}function lEe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Gn(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],oEe(i,n)),n}function cEe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","name"],Gn(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function uEe(t,e){const n={},r=T(t,["systemInstruction"]);e!==void 0&&r!=null&&E(e,["systemInstruction"],ag(As(r)));const i=T(t,["tools"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>aK(o))),E(e,["tools"],a)}const s=T(t,["generationConfig"]);return e!==void 0&&s!=null&&E(e,["generationConfig"],s),n}function dEe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Gn(t,r));const i=T(e,["contents"]);if(i!=null){let a=go(i);Array.isArray(a)&&(a=a.map(o=>ag(o))),E(n,["contents"],a)}const s=T(e,["config"]);return s!=null&&E(n,["config"],uEe(s,n)),n}function fEe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Gn(t,r));const i=T(e,["contents"]);if(i!=null){let a=go(i);Array.isArray(a)&&(a=a.map(o=>ag(o))),E(n,["contents"],a)}const s=T(e,["config"]);return s!=null&&E(n,["config"],s),n}function oK(t){const e={},n=T(t,["uri"]);n!=null&&E(e,["gcsUri"],n);const r=T(t,["videoBytes"]);r!=null&&E(e,["bytesBase64Encoded"],ph(r));const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function hEe(t,e){const n={},r=T(t,["prompt"]);e!==void 0&&r!=null&&E(e,["instances[0]","prompt"],r);const i=T(t,["image"]);e!==void 0&&i!=null&&E(e,["instances[0]","image"],sl(i));const s=T(t,["video"]);return e!==void 0&&s!=null&&E(e,["instances[0]","video"],oK(s)),n}function pEe(t){const e={},n=T(t,["image"]);n!=null&&E(e,["image"],sl(n));const r=T(t,["referenceType"]);return r!=null&&E(e,["referenceType"],r),e}function mEe(t){const e={},n=T(t,["image"]);n!=null&&E(e,["_self"],sl(n));const r=T(t,["maskMode"]);return r!=null&&E(e,["maskMode"],r),e}function gEe(t,e){const n={},r=T(t,["numberOfVideos"]);e!==void 0&&r!=null&&E(e,["parameters","sampleCount"],r);const i=T(t,["outputGcsUri"]);e!==void 0&&i!=null&&E(e,["parameters","storageUri"],i);const s=T(t,["fps"]);e!==void 0&&s!=null&&E(e,["parameters","fps"],s);const a=T(t,["durationSeconds"]);e!==void 0&&a!=null&&E(e,["parameters","durationSeconds"],a);const o=T(t,["seed"]);e!==void 0&&o!=null&&E(e,["parameters","seed"],o);const l=T(t,["aspectRatio"]);e!==void 0&&l!=null&&E(e,["parameters","aspectRatio"],l);const c=T(t,["resolution"]);e!==void 0&&c!=null&&E(e,["parameters","resolution"],c);const u=T(t,["personGeneration"]);e!==void 0&&u!=null&&E(e,["parameters","personGeneration"],u);const f=T(t,["pubsubTopic"]);e!==void 0&&f!=null&&E(e,["parameters","pubsubTopic"],f);const h=T(t,["negativePrompt"]);e!==void 0&&h!=null&&E(e,["parameters","negativePrompt"],h);const p=T(t,["enhancePrompt"]);e!==void 0&&p!=null&&E(e,["parameters","enhancePrompt"],p);const v=T(t,["generateAudio"]);e!==void 0&&v!=null&&E(e,["parameters","generateAudio"],v);const g=T(t,["lastFrame"]);e!==void 0&&g!=null&&E(e,["instances[0]","lastFrame"],sl(g));const y=T(t,["referenceImages"]);if(e!==void 0&&y!=null){let w=y;Array.isArray(w)&&(w=w.map(C=>pEe(C))),E(e,["instances[0]","referenceImages"],w)}const _=T(t,["mask"]);e!==void 0&&_!=null&&E(e,["instances[0]","mask"],mEe(_));const x=T(t,["compressionQuality"]);return e!==void 0&&x!=null&&E(e,["parameters","compressionQuality"],x),n}function yEe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Gn(t,r));const i=T(e,["prompt"]);i!=null&&E(n,["instances[0]","prompt"],i);const s=T(e,["image"]);s!=null&&E(n,["instances[0]","image"],sl(s));const a=T(e,["video"]);a!=null&&E(n,["instances[0]","video"],oK(a));const o=T(e,["source"]);o!=null&&E(n,["config"],hEe(o,n));const l=T(e,["config"]);return l!=null&&E(n,["config"],gEe(l,n)),n}function vEe(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function xEe(t){const e={},n=T(t,["data"]);n!=null&&E(e,["data"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function bEe(t){const e={},n=T(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function _Ee(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function wEe(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],vEe(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],xEe(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],bEe(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],_Ee(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function TEe(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>wEe(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function EEe(t){const e={},n=T(t,["citationSources"]);return n!=null&&E(e,["citations"],n),e}function CEe(t){const e={},n=T(t,["retrievedUrl"]);n!=null&&E(e,["retrievedUrl"],n);const r=T(t,["urlRetrievalStatus"]);return r!=null&&E(e,["urlRetrievalStatus"],r),e}function SEe(t){const e={},n=T(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>CEe(i))),E(e,["urlMetadata"],r)}return e}function DEe(t){const e={},n=T(t,["content"]);n!=null&&E(e,["content"],TEe(n));const r=T(t,["citationMetadata"]);r!=null&&E(e,["citationMetadata"],EEe(r));const i=T(t,["tokenCount"]);i!=null&&E(e,["tokenCount"],i);const s=T(t,["finishReason"]);s!=null&&E(e,["finishReason"],s);const a=T(t,["urlContextMetadata"]);a!=null&&E(e,["urlContextMetadata"],SEe(a));const o=T(t,["avgLogprobs"]);o!=null&&E(e,["avgLogprobs"],o);const l=T(t,["groundingMetadata"]);l!=null&&E(e,["groundingMetadata"],l);const c=T(t,["index"]);c!=null&&E(e,["index"],c);const u=T(t,["logprobsResult"]);u!=null&&E(e,["logprobsResult"],u);const f=T(t,["safetyRatings"]);return f!=null&&E(e,["safetyRatings"],f),e}function OU(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>DEe(c))),E(e,["candidates"],l)}const i=T(t,["modelVersion"]);i!=null&&E(e,["modelVersion"],i);const s=T(t,["promptFeedback"]);s!=null&&E(e,["promptFeedback"],s);const a=T(t,["responseId"]);a!=null&&E(e,["responseId"],a);const o=T(t,["usageMetadata"]);return o!=null&&E(e,["usageMetadata"],o),e}function AEe(t){const e={},n=T(t,["values"]);return n!=null&&E(e,["values"],n),e}function NEe(){return{}}function kEe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>AEe(a))),E(e,["embeddings"],s)}return T(t,["metadata"])!=null&&E(e,["metadata"],NEe()),e}function IEe(t){const e={},n=T(t,["bytesBase64Encoded"]);n!=null&&E(e,["imageBytes"],ph(n));const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function lK(t){const e={},n=T(t,["safetyAttributes","categories"]);n!=null&&E(e,["categories"],n);const r=T(t,["safetyAttributes","scores"]);r!=null&&E(e,["scores"],r);const i=T(t,["contentType"]);return i!=null&&E(e,["contentType"],i),e}function REe(t){const e={},n=T(t,["_self"]);n!=null&&E(e,["image"],IEe(n));const r=T(t,["raiFilteredReason"]);r!=null&&E(e,["raiFilteredReason"],r);const i=T(t,["_self"]);return i!=null&&E(e,["safetyAttributes"],lK(i)),e}function PEe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>REe(a))),E(e,["generatedImages"],s)}const i=T(t,["positivePromptSafetyAttributes"]);return i!=null&&E(e,["positivePromptSafetyAttributes"],lK(i)),e}function FEe(t){const e={},n=T(t,["baseModel"]);n!=null&&E(e,["baseModel"],n);const r=T(t,["createTime"]);r!=null&&E(e,["createTime"],r);const i=T(t,["updateTime"]);return i!=null&&E(e,["updateTime"],i),e}function i3(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["displayName"]);r!=null&&E(e,["displayName"],r);const i=T(t,["description"]);i!=null&&E(e,["description"],i);const s=T(t,["version"]);s!=null&&E(e,["version"],s);const a=T(t,["_self"]);a!=null&&E(e,["tunedModelInfo"],FEe(a));const o=T(t,["inputTokenLimit"]);o!=null&&E(e,["inputTokenLimit"],o);const l=T(t,["outputTokenLimit"]);l!=null&&E(e,["outputTokenLimit"],l);const c=T(t,["supportedGenerationMethods"]);return c!=null&&E(e,["supportedActions"],c),e}function MEe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=T(t,["_self"]);if(i!=null){let s=qG(i);Array.isArray(s)&&(s=s.map(a=>i3(a))),E(e,["models"],s)}return e}function UEe(t){const e={},n=T(t,["sdkHttpResponse"]);return n!=null&&E(e,["sdkHttpResponse"],n),e}function OEe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["totalTokens"]);r!=null&&E(e,["totalTokens"],r);const i=T(t,["cachedContentTokenCount"]);return i!=null&&E(e,["cachedContentTokenCount"],i),e}function LEe(t){const e={},n=T(t,["video","uri"]);n!=null&&E(e,["uri"],n);const r=T(t,["video","encodedVideo"]);r!=null&&E(e,["videoBytes"],ph(r));const i=T(t,["encoding"]);return i!=null&&E(e,["mimeType"],i),e}function jEe(t){const e={},n=T(t,["_self"]);return n!=null&&E(e,["video"],LEe(n)),e}function BEe(t){const e={},n=T(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>jEe(a))),E(e,["generatedVideos"],s)}const r=T(t,["raiMediaFilteredCount"]);r!=null&&E(e,["raiMediaFilteredCount"],r);const i=T(t,["raiMediaFilteredReasons"]);return i!=null&&E(e,["raiMediaFilteredReasons"],i),e}function VEe(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["metadata"]);r!=null&&E(e,["metadata"],r);const i=T(t,["done"]);i!=null&&E(e,["done"],i);const s=T(t,["error"]);s!=null&&E(e,["error"],s);const a=T(t,["response","generateVideoResponse"]);return a!=null&&E(e,["response"],BEe(a)),e}function WEe(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function qEe(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["data"]);r!=null&&E(e,["data"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function $Ee(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["fileUri"]);r!=null&&E(e,["fileUri"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function zEe(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function HEe(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],WEe(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],qEe(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],$Ee(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],zEe(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function GEe(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>HEe(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function KEe(t){const e={},n=T(t,["citations"]);return n!=null&&E(e,["citations"],n),e}function JEe(t){const e={},n=T(t,["retrievedUrl"]);n!=null&&E(e,["retrievedUrl"],n);const r=T(t,["urlRetrievalStatus"]);return r!=null&&E(e,["urlRetrievalStatus"],r),e}function XEe(t){const e={},n=T(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>JEe(i))),E(e,["urlMetadata"],r)}return e}function YEe(t){const e={},n=T(t,["content"]);n!=null&&E(e,["content"],GEe(n));const r=T(t,["citationMetadata"]);r!=null&&E(e,["citationMetadata"],KEe(r));const i=T(t,["finishMessage"]);i!=null&&E(e,["finishMessage"],i);const s=T(t,["finishReason"]);s!=null&&E(e,["finishReason"],s);const a=T(t,["urlContextMetadata"]);a!=null&&E(e,["urlContextMetadata"],XEe(a));const o=T(t,["avgLogprobs"]);o!=null&&E(e,["avgLogprobs"],o);const l=T(t,["groundingMetadata"]);l!=null&&E(e,["groundingMetadata"],l);const c=T(t,["index"]);c!=null&&E(e,["index"],c);const u=T(t,["logprobsResult"]);u!=null&&E(e,["logprobsResult"],u);const f=T(t,["safetyRatings"]);return f!=null&&E(e,["safetyRatings"],f),e}function LU(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(u=>YEe(u))),E(e,["candidates"],c)}const i=T(t,["createTime"]);i!=null&&E(e,["createTime"],i);const s=T(t,["modelVersion"]);s!=null&&E(e,["modelVersion"],s);const a=T(t,["promptFeedback"]);a!=null&&E(e,["promptFeedback"],a);const o=T(t,["responseId"]);o!=null&&E(e,["responseId"],o);const l=T(t,["usageMetadata"]);return l!=null&&E(e,["usageMetadata"],l),e}function QEe(t){const e={},n=T(t,["truncated"]);n!=null&&E(e,["truncated"],n);const r=T(t,["token_count"]);return r!=null&&E(e,["tokenCount"],r),e}function ZEe(t){const e={},n=T(t,["values"]);n!=null&&E(e,["values"],n);const r=T(t,["statistics"]);return r!=null&&E(e,["statistics"],QEe(r)),e}function eCe(t){const e={},n=T(t,["billableCharacterCount"]);return n!=null&&E(e,["billableCharacterCount"],n),e}function tCe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["predictions[]","embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>ZEe(a))),E(e,["embeddings"],s)}const i=T(t,["metadata"]);return i!=null&&E(e,["metadata"],eCe(i)),e}function cK(t){const e={},n=T(t,["gcsUri"]);n!=null&&E(e,["gcsUri"],n);const r=T(t,["bytesBase64Encoded"]);r!=null&&E(e,["imageBytes"],ph(r));const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function uK(t){const e={},n=T(t,["safetyAttributes","categories"]);n!=null&&E(e,["categories"],n);const r=T(t,["safetyAttributes","scores"]);r!=null&&E(e,["scores"],r);const i=T(t,["contentType"]);return i!=null&&E(e,["contentType"],i),e}function Uw(t){const e={},n=T(t,["_self"]);n!=null&&E(e,["image"],cK(n));const r=T(t,["raiFilteredReason"]);r!=null&&E(e,["raiFilteredReason"],r);const i=T(t,["_self"]);i!=null&&E(e,["safetyAttributes"],uK(i));const s=T(t,["prompt"]);return s!=null&&E(e,["enhancedPrompt"],s),e}function nCe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>Uw(a))),E(e,["generatedImages"],s)}const i=T(t,["positivePromptSafetyAttributes"]);return i!=null&&E(e,["positivePromptSafetyAttributes"],uK(i)),e}function rCe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Uw(s))),E(e,["generatedImages"],i)}return e}function iCe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Uw(s))),E(e,["generatedImages"],i)}return e}function sCe(t){const e={},n=T(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Uw(i))),E(e,["generatedImages"],r)}return e}function aCe(t){const e={},n=T(t,["label"]);n!=null&&E(e,["label"],n);const r=T(t,["score"]);return r!=null&&E(e,["score"],r),e}function oCe(t){const e={},n=T(t,["_self"]);n!=null&&E(e,["mask"],cK(n));const r=T(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>aCe(s))),E(e,["labels"],i)}return e}function lCe(t){const e={},n=T(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>oCe(i))),E(e,["generatedMasks"],r)}return e}function cCe(t){const e={},n=T(t,["endpoint"]);n!=null&&E(e,["name"],n);const r=T(t,["deployedModelId"]);return r!=null&&E(e,["deployedModelId"],r),e}function uCe(t){const e={},n=T(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&E(e,["baseModel"],n);const r=T(t,["createTime"]);r!=null&&E(e,["createTime"],r);const i=T(t,["updateTime"]);return i!=null&&E(e,["updateTime"],i),e}function dCe(t){const e={},n=T(t,["checkpointId"]);n!=null&&E(e,["checkpointId"],n);const r=T(t,["epoch"]);r!=null&&E(e,["epoch"],r);const i=T(t,["step"]);return i!=null&&E(e,["step"],i),e}function s3(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["displayName"]);r!=null&&E(e,["displayName"],r);const i=T(t,["description"]);i!=null&&E(e,["description"],i);const s=T(t,["versionId"]);s!=null&&E(e,["version"],s);const a=T(t,["deployedModels"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(h=>cCe(h))),E(e,["endpoints"],f)}const o=T(t,["labels"]);o!=null&&E(e,["labels"],o);const l=T(t,["_self"]);l!=null&&E(e,["tunedModelInfo"],uCe(l));const c=T(t,["defaultCheckpointId"]);c!=null&&E(e,["defaultCheckpointId"],c);const u=T(t,["checkpoints"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(h=>dCe(h))),E(e,["checkpoints"],f)}return e}function fCe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=T(t,["_self"]);if(i!=null){let s=qG(i);Array.isArray(s)&&(s=s.map(a=>s3(a))),E(e,["models"],s)}return e}function hCe(t){const e={},n=T(t,["sdkHttpResponse"]);return n!=null&&E(e,["sdkHttpResponse"],n),e}function pCe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["totalTokens"]);return r!=null&&E(e,["totalTokens"],r),e}function mCe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["tokensInfo"]);return r!=null&&E(e,["tokensInfo"],r),e}function gCe(t){const e={},n=T(t,["gcsUri"]);n!=null&&E(e,["uri"],n);const r=T(t,["bytesBase64Encoded"]);r!=null&&E(e,["videoBytes"],ph(r));const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function yCe(t){const e={},n=T(t,["_self"]);return n!=null&&E(e,["video"],gCe(n)),e}function vCe(t){const e={},n=T(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>yCe(a))),E(e,["generatedVideos"],s)}const r=T(t,["raiMediaFilteredCount"]);r!=null&&E(e,["raiMediaFilteredCount"],r);const i=T(t,["raiMediaFilteredReasons"]);return i!=null&&E(e,["raiMediaFilteredReasons"],i),e}function xCe(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["metadata"]);r!=null&&E(e,["metadata"],r);const i=T(t,["done"]);i!=null&&E(e,["done"],i);const s=T(t,["error"]);s!=null&&E(e,["error"],s);const a=T(t,["response"]);return a!=null&&E(e,["response"],vCe(a)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bCe="Content-Type",_Ce="X-Server-Timeout",wCe="User-Agent",a3="x-goog-api-client",TCe="1.19.0",ECe=`google-genai-sdk/${TCe}`,CCe="v1beta1",SCe="v1beta",jU=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class DCe{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:CCe,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:SCe,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[a,o]of Object.entries(e.queryParams))i.searchParams.append(a,String(o));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,n,e.abortSignal),this.unaryApiCall(i,s,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,s]of Object.entries(n))typeof s=="object"?r[i]=Object.assign(Object.assign({},r[i]),s):s!==void 0&&(r[i]=s);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,n,e.abortSignal),this.streamApiCall(i,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r){if(n&&n.timeout||r){const i=new AbortController,s=i.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const a=setTimeout(()=>i.abort(),n.timeout);a&&typeof a.unref=="function"&&a.unref()}r&&r.addEventListener("abort",()=>{i.abort()}),e.signal=s}return n&&n.extraBody!==null&&ACe(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await BU(i),new ZA(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await BU(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return $p(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),s=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";for(;;){const{done:o,value:l}=yield wr(i.read());if(o){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const c=s.decode(l,{stream:!0});try{const f=JSON.parse(c);if("error"in f){const h=JSON.parse(JSON.stringify(f.error)),p=h.status,v=h.code,g=`got status: ${p}. ${JSON.stringify(f)}`;if(v>=400&&v<600)throw new Fw({message:g,status:v})}}catch(f){if(f.name==="ApiError")throw f}a+=c;let u=a.match(jU);for(;u;){const f=u[1];try{const h=new Response(f,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield wr(new ZA(h)),a=a.slice(u[0].length),u=a.match(jU)}catch(h){throw new Error(`exception parsing stream chunk ${f}. ${h}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=ECe+" "+this.clientOptions.userAgentExtra;return e[wCe]=n,e[a3]=n,e[bCe]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[r,i]of Object.entries(e.headers))n.append(r,i);e.timeout&&e.timeout>0&&n.append(_Ce,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const s=this.clientOptions.uploader,a=await s.stat(e);i.sizeBytes=String(a.size);const o=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:a.type;if(o===void 0||o==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=o;const l=await this.fetchUploadUrl(i,n);return s.upload(e,l,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var r;let i={};n!=null&&n.httpOptions?i=n.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const s={file:e},a=await this.request({path:jt("upload/v1beta/files",s._url),body:JSON.stringify(s),httpMethod:"POST",httpOptions:i});if(!a||!(a!=null&&a.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const o=(r=a==null?void 0:a.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(o===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return o}}async function BU(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Fw({message:i,status:n}):new Error(i)}}function ACe(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const s=JSON.parse(t.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))n=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(s,a){const o=Object.assign({},s);for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const c=a[l],u=o[l];c&&typeof c=="object"&&!Array.isArray(c)&&u&&typeof u=="object"&&!Array.isArray(u)?o[l]=r(u,c):(u&&c&&typeof u!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof u}, New type: ${typeof c}. Overwriting.`),o[l]=c)}return o}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const NCe="mcp_used/unknown";let kCe=!1;function dK(t){for(const e of t)if(ICe(e)||typeof e=="object"&&"inputSchema"in e)return!0;return kCe}function fK(t){var e;const n=(e=t[a3])!==null&&e!==void 0?e:"";t[a3]=(n+` ${NCe}`).trimStart()}function ICe(t){return t!==null&&typeof t=="object"&&t instanceof EI}function RCe(t,e=100){return $p(this,arguments,function*(){let r,i=0;for(;i<e;){const s=yield wr(t.listTools({cursor:r}));for(const a of s.tools)yield yield wr(a),i++;if(!s.nextCursor)break;r=s.nextCursor}})}class EI{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new EI(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const s={},a=[];for(const u of this.mcpClients)try{for(var o=!0,l=(n=void 0,ry(RCe(u))),c;c=await l.next(),e=c.done,!e;o=!0){i=c.value,o=!1;const f=i;a.push(f);const h=f.name;if(s[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);s[h]=u}}catch(f){n={error:f}}finally{try{!o&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),Gve(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const a=await i.callTool({name:r.name,arguments:r.args},void 0,s);n.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function PCe(t,e,n){const r=new jve;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data);const s=cwe(i);Object.assign(r,s),e(r)}class FCe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),a=OCe(this.apiClient.getDefaultHeaders()),o=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${o}`;let c=()=>{};const u=new Promise(w=>{c=w}),f=e.callbacks,h=function(){c({})},p=this.apiClient,v={onopen:h,onmessage:w=>{PCe(p,f.onmessage,w)},onerror:(n=f==null?void 0:f.onerror)!==null&&n!==void 0?n:function(w){},onclose:(r=f==null?void 0:f.onclose)!==null&&r!==void 0?r:function(w){}},g=this.webSocketFactory.create(l,UCe(a),v);g.connect(),await u;const y=Gn(this.apiClient,e.model),_=eK({model:y}),x=r3({setup:_});return g.send(JSON.stringify(x)),new MCe(g,this.apiClient)}}class MCe{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=a_e(e),r=tK(n);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=o_e(e),r=r3(n);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const n=r3({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Pp.PLAY)}pause(){this.sendPlaybackControl(Pp.PAUSE)}stop(){this.sendPlaybackControl(Pp.STOP)}resetContext(){this.sendPlaybackControl(Pp.RESET_CONTEXT)}close(){this.conn.close()}}function UCe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function OCe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const LCe="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function jCe(t,e,n){const r=new Lve;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const s=JSON.parse(i);if(t.isVertexAI()){const a=wwe(s);Object.assign(r,a)}else{const a=ewe(s);Object.assign(r,a)}e(r)}class BCe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new FCe(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,s,a,o;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let u;const f=this.apiClient.getHeaders();e.config&&e.config.tools&&dK(e.config.tools)&&fK(f);const h=$Ce(f);if(this.apiClient.isVertexAI())u=`${l}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h);else{const I=this.apiClient.getApiKey();let F="BidiGenerateContent",P="key";I!=null&&I.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),c!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),F="BidiGenerateContentConstrained",P="access_token"),u=`${l}/ws/google.ai.generativelanguage.${c}.GenerativeService.${F}?${P}=${I}`}let p=()=>{};const v=new Promise(I=>{p=I}),g=e.callbacks,y=function(){var I;(I=g==null?void 0:g.onopen)===null||I===void 0||I.call(g),p({})},_=this.apiClient,x={onopen:y,onmessage:I=>{jCe(_,g.onmessage,I)},onerror:(n=g==null?void 0:g.onerror)!==null&&n!==void 0?n:function(I){},onclose:(r=g==null?void 0:g.onclose)!==null&&r!==void 0?r:function(I){}},w=this.webSocketFactory.create(u,qCe(h),x);w.connect(),await v;let C=Gn(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&C.startsWith("publishers/")){const I=this.apiClient.getProject(),F=this.apiClient.getLocation();C=`projects/${I}/locations/${F}/`+C}let S={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[$b.AUDIO]}:e.config.responseModalities=[$b.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const R=(o=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&o!==void 0?o:[],D=[];for(const I of R)if(this.isCallableTool(I)){const F=I;D.push(await F.tool())}else D.push(I);D.length>0&&(e.config.tools=D);const N={model:C,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?S=U_e(this.apiClient,N):S=n_e(this.apiClient,N),delete S.config,w.send(JSON.stringify(S)),new WCe(w,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const VCe={turnComplete:!0};class WCe{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=go(n.turns),e.isVertexAI()?r=r.map(i=>ag(i)):r=r.map(i=>Mw(i))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const s of r){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(LCe)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},VCe),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:j_e(e)}:n={realtimeInput:s_e(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function qCe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function $Ce(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const VU=10;function WU(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(zp(a)){i=!0;break}if(!i)return!0;const s=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function zp(t){return"callTool"in t&&typeof t.callTool=="function"}function zCe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>zp(i)))!==null&&r!==void 0?r:!1}function HCe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>!zp(i)))!==null&&r!==void 0?r:!1}function qU(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GCe extends hh{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,s,a,o;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!zCe(n)||WU(n.config))return await this.generateContentInternal(l);if(HCe(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let c,u;const f=go(l.contents),h=(s=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:VU;let p=0;for(;p<h&&(c=await this.generateContentInternal(l),!(!c.functionCalls||c.functionCalls.length===0));){const v=c.candidates[0].content,g=[];for(const y of(o=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&o!==void 0?o:[])if(zp(y)){const x=await y.callTool(c.functionCalls);g.push(...x)}p++,u={role:"user",parts:g},l.contents=go(l.contents),l.contents.push(v),l.contents.push(u),qU(l.config)&&(f.push(v),f.push(u))}return qU(l.config)&&(c.automaticFunctionCallingHistory=f),c},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),WU(n.config)){const r=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let s;const a=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?s=l==null?void 0:l.safetyAttributes:a.push(l);let o;return s?o={generatedImages:a,positivePromptSafetyAttributes:s,sdkHttpResponse:r.sdkHttpResponse}:o={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},o}),this.list=async n=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new ev(Hf.PAGED_ITEM_MODELS,o=>this.listInternal(o),await this.listInternal(a),a)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const s=(n=e.config)===null||n===void 0?void 0:n.tools;if(!s)return e;const a=await Promise.all(s.map(async l=>zp(l)?await l.tool():l)),o={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(o.config.tools=a,e.config&&e.config.tools&&dK(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let c=Object.assign({},l);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),fK(c),o.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:c})}return o}async initAfcToolsMap(e){var n,r,i;const s=new Map;for(const a of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(zp(a)){const o=a,l=await o.tool();for(const c of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!c.name)throw new Error("Function declaration name is required.");if(s.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);s.set(c.name,o)}}return s}async processAfcStream(e){var n,r,i;const s=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:VU;let a=!1,o=0;const l=await this.initAfcToolsMap(e);return(function(c,u,f){var h,p;return $p(this,arguments,function*(){for(var v,g,y,_;o<s;){a&&(o++,a=!1);const S=yield wr(c.processParamsMaybeAddMcpUsage(f)),R=yield wr(c.generateContentStreamInternal(S)),D=[],N=[];try{for(var x=!0,w=(g=void 0,ry(R)),C;C=yield wr(w.next()),v=C.done,!v;x=!0){_=C.value,x=!1;const I=_;if(yield yield wr(I),I.candidates&&(!((h=I.candidates[0])===null||h===void 0)&&h.content)){N.push(I.candidates[0].content);for(const F of(p=I.candidates[0].content.parts)!==null&&p!==void 0?p:[])if(o<s&&F.functionCall){if(!F.functionCall.name)throw new Error("Function call name was not returned by the model.");if(u.has(F.functionCall.name)){const P=yield wr(u.get(F.functionCall.name).callTool([F.functionCall]));D.push(...P)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${u.keys()}, mising tool: ${F.functionCall.name}`)}}}}catch(I){g={error:I}}finally{try{!x&&!v&&(y=w.return)&&(yield wr(y.call(w)))}finally{if(g)throw g.error}}if(D.length>0){a=!0;const I=new o0;I.candidates=[{content:{role:"user",parts:D}}],yield yield wr(I);const F=[];F.push(...N),F.push({role:"user",parts:D});const P=go(f.contents).concat(F);f.contents=P}else break}})})(this,l,e)}async generateContentInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=UU(this.apiClient,e);return o=jt("{model}:generateContent",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=LU(u),h=new o0;return Object.assign(h,f),h})}else{const c=MU(this.apiClient,e);return o=jt("{model}:generateContent",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=OU(u),h=new o0;return Object.assign(h,f),h})}}async generateContentStreamInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=UU(this.apiClient,e);return o=jt("{model}:streamGenerateContent?alt=sse",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.requestStream({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(f){return $p(this,arguments,function*(){var h,p,v,g;try{for(var y=!0,_=ry(f),x;x=yield wr(_.next()),h=x.done,!h;y=!0){g=x.value,y=!1;const w=g,C=LU(yield wr(w.json()));C.sdkHttpResponse={headers:w.headers};const S=new o0;Object.assign(S,C),yield yield wr(S)}}catch(w){p={error:w}}finally{try{!y&&!h&&(v=_.return)&&(yield wr(v.call(_)))}finally{if(p)throw p.error}}})})}else{const c=MU(this.apiClient,e);return o=jt("{model}:streamGenerateContent?alt=sse",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.requestStream({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),a.then(function(f){return $p(this,arguments,function*(){var h,p,v,g;try{for(var y=!0,_=ry(f),x;x=yield wr(_.next()),h=x.done,!h;y=!0){g=x.value,y=!1;const w=g,C=OU(yield wr(w.json()));C.sdkHttpResponse={headers:w.headers};const S=new o0;Object.assign(S,C),yield yield wr(S)}}catch(w){p={error:w}}finally{try{!y&&!h&&(v=_.return)&&(yield wr(v.call(_)))}finally{if(p)throw p.error}}})})}}async embedContent(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=LTe(this.apiClient,e);return o=jt("{model}:predict",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=tCe(u),h=new mU;return Object.assign(h,f),h})}else{const c=Jwe(this.apiClient,e);return o=jt("{model}:batchEmbedContents",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=kEe(u),h=new mU;return Object.assign(h,f),h})}}async generateImagesInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=BTe(this.apiClient,e);return o=jt("{model}:predict",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=nCe(u),h=new gU;return Object.assign(h,f),h})}else{const c=Ywe(this.apiClient,e);return o=jt("{model}:predict",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=PEe(u),h=new gU;return Object.assign(h,f),h})}}async editImageInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=GTe(this.apiClient,e);return s=jt("{model}:predict",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{const c=rCe(l),u=new kve;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=JTe(this.apiClient,e);return s=jt("{model}:predict",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{const c=iCe(l),u=new Ive;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=ZTe(this.apiClient,e);return s=jt("{model}:predict",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=sCe(l),u=new Rve;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=rEe(this.apiClient,e);return s=jt("{model}:predict",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=lCe(l),u=new Pve;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=iEe(this.apiClient,e);return o=jt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>s3(u))}else{const c=Qwe(this.apiClient,e);return o=jt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>i3(u))}}async listInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=aEe(this.apiClient,e);return o=jt("{models_url}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=fCe(u),h=new yU;return Object.assign(h,f),h})}else{const c=eTe(this.apiClient,e);return o=jt("{models_url}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=MEe(u),h=new yU;return Object.assign(h,f),h})}}async update(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=lEe(this.apiClient,e);return o=jt("{model}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>s3(u))}else{const c=nTe(this.apiClient,e);return o=jt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>i3(u))}}async delete(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=cEe(this.apiClient,e);return o=jt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=hCe(u),h=new vU;return Object.assign(h,f),h})}else{const c=rTe(this.apiClient,e);return o=jt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=UEe(u),h=new vU;return Object.assign(h,f),h})}}async countTokens(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=dEe(this.apiClient,e);return o=jt("{model}:countTokens",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=pCe(u),h=new xU;return Object.assign(h,f),h})}else{const c=sTe(this.apiClient,e);return o=jt("{model}:countTokens",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=OEe(u),h=new xU;return Object.assign(h,f),h})}}async computeTokens(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=fEe(this.apiClient,e);return s=jt("{model}:computeTokens",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{const c=mCe(l),u=new Fve;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=yEe(this.apiClient,e);return o=jt("{model}:predictLongRunning",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>{const f=xCe(u),h=new zb;return Object.assign(h,f),h})}else{const c=lTe(this.apiClient,e);return o=jt("{model}:predictLongRunning",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>{const f=VEe(u),h=new zb;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KCe extends hh{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:a,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:a,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=_ve(e);return o=jt("{operationName}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a}else{const c=xve(e);return o=jt("{operationName}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a}}async fetchPredictVideosOperationInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=bve(e);return s=jt("{resourceName}:fetchPredictOperation",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JCe(t){const e={},n=T(t,["voiceName"]);return n!=null&&E(e,["voiceName"],n),e}function hK(t){const e={},n=T(t,["prebuiltVoiceConfig"]);return n!=null&&E(e,["prebuiltVoiceConfig"],JCe(n)),e}function XCe(t){const e={},n=T(t,["speaker"]);n!=null&&E(e,["speaker"],n);const r=T(t,["voiceConfig"]);return r!=null&&E(e,["voiceConfig"],hK(r)),e}function YCe(t){const e={},n=T(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>XCe(i))),E(e,["speakerVoiceConfigs"],r)}return e}function QCe(t){const e={},n=T(t,["voiceConfig"]);n!=null&&E(e,["voiceConfig"],hK(n));const r=T(t,["multiSpeakerVoiceConfig"]);r!=null&&E(e,["multiSpeakerVoiceConfig"],YCe(r));const i=T(t,["languageCode"]);return i!=null&&E(e,["languageCode"],i),e}function ZCe(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function eSe(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["data"]);n!=null&&E(e,["data"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function tSe(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function nSe(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function rSe(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],ZCe(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],eSe(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],tSe(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],nSe(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function iSe(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>rSe(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function sSe(t){const e={},n=T(t,["behavior"]);n!=null&&E(e,["behavior"],n);const r=T(t,["description"]);r!=null&&E(e,["description"],r);const i=T(t,["name"]);i!=null&&E(e,["name"],i);const s=T(t,["parameters"]);s!=null&&E(e,["parameters"],s);const a=T(t,["parametersJsonSchema"]);a!=null&&E(e,["parametersJsonSchema"],a);const o=T(t,["response"]);o!=null&&E(e,["response"],o);const l=T(t,["responseJsonSchema"]);return l!=null&&E(e,["responseJsonSchema"],l),e}function aSe(t){const e={},n=T(t,["startTime"]);n!=null&&E(e,["startTime"],n);const r=T(t,["endTime"]);return r!=null&&E(e,["endTime"],r),e}function oSe(t){const e={},n=T(t,["timeRangeFilter"]);if(n!=null&&E(e,["timeRangeFilter"],aSe(n)),T(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function lSe(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["dynamicThreshold"]);return r!=null&&E(e,["dynamicThreshold"],r),e}function cSe(t){const e={},n=T(t,["dynamicRetrievalConfig"]);return n!=null&&E(e,["dynamicRetrievalConfig"],lSe(n)),e}function uSe(){return{}}function dSe(t){const e={},n=T(t,["environment"]);return n!=null&&E(e,["environment"],n),e}function fSe(t){const e={},n=T(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>sSe(c))),E(e,["functionDeclarations"],l)}if(T(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=T(t,["googleSearch"]);r!=null&&E(e,["googleSearch"],oSe(r));const i=T(t,["googleSearchRetrieval"]);if(i!=null&&E(e,["googleSearchRetrieval"],cSe(i)),T(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(T(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");T(t,["urlContext"])!=null&&E(e,["urlContext"],uSe());const a=T(t,["computerUse"]);a!=null&&E(e,["computerUse"],dSe(a));const o=T(t,["codeExecution"]);return o!=null&&E(e,["codeExecution"],o),e}function hSe(t){const e={},n=T(t,["handle"]);if(n!=null&&E(e,["handle"],n),T(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function $U(){return{}}function pSe(t){const e={},n=T(t,["disabled"]);n!=null&&E(e,["disabled"],n);const r=T(t,["startOfSpeechSensitivity"]);r!=null&&E(e,["startOfSpeechSensitivity"],r);const i=T(t,["endOfSpeechSensitivity"]);i!=null&&E(e,["endOfSpeechSensitivity"],i);const s=T(t,["prefixPaddingMs"]);s!=null&&E(e,["prefixPaddingMs"],s);const a=T(t,["silenceDurationMs"]);return a!=null&&E(e,["silenceDurationMs"],a),e}function mSe(t){const e={},n=T(t,["automaticActivityDetection"]);n!=null&&E(e,["automaticActivityDetection"],pSe(n));const r=T(t,["activityHandling"]);r!=null&&E(e,["activityHandling"],r);const i=T(t,["turnCoverage"]);return i!=null&&E(e,["turnCoverage"],i),e}function gSe(t){const e={},n=T(t,["targetTokens"]);return n!=null&&E(e,["targetTokens"],n),e}function ySe(t){const e={},n=T(t,["triggerTokens"]);n!=null&&E(e,["triggerTokens"],n);const r=T(t,["slidingWindow"]);return r!=null&&E(e,["slidingWindow"],gSe(r)),e}function vSe(t){const e={},n=T(t,["proactiveAudio"]);return n!=null&&E(e,["proactiveAudio"],n),e}function xSe(t,e){const n={},r=T(t,["generationConfig"]);e!==void 0&&r!=null&&E(e,["setup","generationConfig"],r);const i=T(t,["responseModalities"]);e!==void 0&&i!=null&&E(e,["setup","generationConfig","responseModalities"],i);const s=T(t,["temperature"]);e!==void 0&&s!=null&&E(e,["setup","generationConfig","temperature"],s);const a=T(t,["topP"]);e!==void 0&&a!=null&&E(e,["setup","generationConfig","topP"],a);const o=T(t,["topK"]);e!==void 0&&o!=null&&E(e,["setup","generationConfig","topK"],o);const l=T(t,["maxOutputTokens"]);e!==void 0&&l!=null&&E(e,["setup","generationConfig","maxOutputTokens"],l);const c=T(t,["mediaResolution"]);e!==void 0&&c!=null&&E(e,["setup","generationConfig","mediaResolution"],c);const u=T(t,["seed"]);e!==void 0&&u!=null&&E(e,["setup","generationConfig","seed"],u);const f=T(t,["speechConfig"]);e!==void 0&&f!=null&&E(e,["setup","generationConfig","speechConfig"],QCe(wI(f)));const h=T(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&E(e,["setup","generationConfig","enableAffectiveDialog"],h);const p=T(t,["systemInstruction"]);e!==void 0&&p!=null&&E(e,["setup","systemInstruction"],iSe(As(p)));const v=T(t,["tools"]);if(e!==void 0&&v!=null){let S=ig(v);Array.isArray(S)&&(S=S.map(R=>fSe(rg(R)))),E(e,["setup","tools"],S)}const g=T(t,["sessionResumption"]);e!==void 0&&g!=null&&E(e,["setup","sessionResumption"],hSe(g));const y=T(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&E(e,["setup","inputAudioTranscription"],$U());const _=T(t,["outputAudioTranscription"]);e!==void 0&&_!=null&&E(e,["setup","outputAudioTranscription"],$U());const x=T(t,["realtimeInputConfig"]);e!==void 0&&x!=null&&E(e,["setup","realtimeInputConfig"],mSe(x));const w=T(t,["contextWindowCompression"]);e!==void 0&&w!=null&&E(e,["setup","contextWindowCompression"],ySe(w));const C=T(t,["proactivity"]);return e!==void 0&&C!=null&&E(e,["setup","proactivity"],vSe(C)),n}function bSe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["setup","model"],Gn(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],xSe(i,n)),n}function _Se(t,e,n){const r={},i=T(e,["expireTime"]);n!==void 0&&i!=null&&E(n,["expireTime"],i);const s=T(e,["newSessionExpireTime"]);n!==void 0&&s!=null&&E(n,["newSessionExpireTime"],s);const a=T(e,["uses"]);n!==void 0&&a!=null&&E(n,["uses"],a);const o=T(e,["liveConnectConstraints"]);n!==void 0&&o!=null&&E(n,["bidiGenerateContentSetup"],bSe(t,o));const l=T(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&E(n,["fieldMask"],l),r}function wSe(t,e){const n={},r=T(e,["config"]);return r!=null&&E(n,["config"],_Se(t,r,n)),n}function TSe(t){const e={},n=T(t,["name"]);return n!=null&&E(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ESe(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(s=>`${n}.${s}`);e.push(...i)}else e.push(n)}return e.join(",")}function CSe(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const s=r.setup;typeof s=="object"&&s!==null?(t.bidiGenerateContentSetup=s,n=s):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const s=ESe(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?t.fieldMask=s:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let o=[];i.length>0&&(o=i.map(c=>a.includes(c)?`generationConfig.${c}`:c));const l=[];s&&l.push(s),o.length>0&&l.push(...o),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class SSe extends hh{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const o=wSe(this.apiClient,e);s=jt("auth_tokens",o._url),a=o._query,delete o.config,delete o._url,delete o._query;const l=CSe(o,e.config);return i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>TSe(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DSe(t){const e={},n=T(t,["name"]);n!=null&&E(e,["_url","name"],n);const r=T(t,["config"]);return r!=null&&E(e,["config"],r),e}function ASe(t,e){const n={},r=T(t,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=T(t,["pageToken"]);e!==void 0&&i!=null&&E(e,["_query","pageToken"],i);const s=T(t,["filter"]);return e!==void 0&&s!=null&&E(e,["_query","filter"],s),n}function NSe(t){const e={},n=T(t,["config"]);return n!=null&&E(e,["config"],ASe(n,e)),e}function kSe(t){const e={},n=T(t,["name"]);n!=null&&E(e,["_url","name"],n);const r=T(t,["config"]);return r!=null&&E(e,["config"],r),e}function ISe(t){const e={},n=T(t,["textInput"]);n!=null&&E(e,["textInput"],n);const r=T(t,["output"]);return r!=null&&E(e,["output"],r),e}function RSe(t){const e={};if(T(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(T(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=T(t,["examples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>ISe(i))),E(e,["examples","examples"],r)}return e}function PSe(t,e){const n={};if(T(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=T(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&E(e,["displayName"],r),T(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=T(t,["epochCount"]);e!==void 0&&i!=null&&E(e,["tuningTask","hyperparameters","epochCount"],i);const s=T(t,["learningRateMultiplier"]);if(s!=null&&E(n,["tuningTask","hyperparameters","learningRateMultiplier"],s),T(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(T(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(T(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const a=T(t,["batchSize"]);e!==void 0&&a!=null&&E(e,["tuningTask","hyperparameters","batchSize"],a);const o=T(t,["learningRate"]);if(e!==void 0&&o!=null&&E(e,["tuningTask","hyperparameters","learningRate"],o),T(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return n}function FSe(t){const e={},n=T(t,["baseModel"]);n!=null&&E(e,["baseModel"],n);const r=T(t,["preTunedModel"]);r!=null&&E(e,["preTunedModel"],r);const i=T(t,["trainingDataset"]);i!=null&&E(e,["tuningTask","trainingData"],RSe(i));const s=T(t,["config"]);return s!=null&&E(e,["config"],PSe(s,e)),e}function MSe(t){const e={},n=T(t,["name"]);n!=null&&E(e,["_url","name"],n);const r=T(t,["config"]);return r!=null&&E(e,["config"],r),e}function USe(t,e){const n={},r=T(t,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=T(t,["pageToken"]);e!==void 0&&i!=null&&E(e,["_query","pageToken"],i);const s=T(t,["filter"]);return e!==void 0&&s!=null&&E(e,["_query","filter"],s),n}function OSe(t){const e={},n=T(t,["config"]);return n!=null&&E(e,["config"],USe(n,e)),e}function LSe(t){const e={},n=T(t,["name"]);n!=null&&E(e,["_url","name"],n);const r=T(t,["config"]);return r!=null&&E(e,["config"],r),e}function jSe(t,e){const n={},r=T(t,["gcsUri"]);e!==void 0&&r!=null&&E(e,["supervisedTuningSpec","trainingDatasetUri"],r);const i=T(t,["vertexDatasetResource"]);if(e!==void 0&&i!=null&&E(e,["supervisedTuningSpec","trainingDatasetUri"],i),T(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function BSe(t,e){const n={},r=T(t,["gcsUri"]);r!=null&&E(n,["validationDatasetUri"],r);const i=T(t,["vertexDatasetResource"]);return e!==void 0&&i!=null&&E(e,["supervisedTuningSpec","trainingDatasetUri"],i),n}function VSe(t,e){const n={},r=T(t,["validationDataset"]);e!==void 0&&r!=null&&E(e,["supervisedTuningSpec"],BSe(r,n));const i=T(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&E(e,["tunedModelDisplayName"],i);const s=T(t,["description"]);e!==void 0&&s!=null&&E(e,["description"],s);const a=T(t,["epochCount"]);e!==void 0&&a!=null&&E(e,["supervisedTuningSpec","hyperParameters","epochCount"],a);const o=T(t,["learningRateMultiplier"]);e!==void 0&&o!=null&&E(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],o);const l=T(t,["exportLastCheckpointOnly"]);e!==void 0&&l!=null&&E(e,["supervisedTuningSpec","exportLastCheckpointOnly"],l);const c=T(t,["preTunedModelCheckpointId"]);c!=null&&E(n,["preTunedModel","checkpointId"],c);const u=T(t,["adapterSize"]);if(e!==void 0&&u!=null&&E(e,["supervisedTuningSpec","hyperParameters","adapterSize"],u),T(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(T(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const f=T(t,["labels"]);return e!==void 0&&f!=null&&E(e,["labels"],f),n}function WSe(t){const e={},n=T(t,["baseModel"]);n!=null&&E(e,["baseModel"],n);const r=T(t,["preTunedModel"]);r!=null&&E(e,["preTunedModel"],r);const i=T(t,["trainingDataset"]);i!=null&&E(e,["supervisedTuningSpec","trainingDatasetUri"],jSe(i,e));const s=T(t,["config"]);return s!=null&&E(e,["config"],VSe(s,e)),e}function qSe(t){const e={},n=T(t,["name"]);n!=null&&E(e,["model"],n);const r=T(t,["name"]);return r!=null&&E(e,["endpoint"],r),e}function pK(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["name"]);r!=null&&E(e,["name"],r);const i=T(t,["state"]);i!=null&&E(e,["state"],BG(i));const s=T(t,["createTime"]);s!=null&&E(e,["createTime"],s);const a=T(t,["tuningTask","startTime"]);a!=null&&E(e,["startTime"],a);const o=T(t,["tuningTask","completeTime"]);o!=null&&E(e,["endTime"],o);const l=T(t,["updateTime"]);l!=null&&E(e,["updateTime"],l);const c=T(t,["description"]);c!=null&&E(e,["description"],c);const u=T(t,["baseModel"]);u!=null&&E(e,["baseModel"],u);const f=T(t,["_self"]);f!=null&&E(e,["tunedModel"],qSe(f));const h=T(t,["customBaseModel"]);h!=null&&E(e,["customBaseModel"],h);const p=T(t,["experiment"]);p!=null&&E(e,["experiment"],p);const v=T(t,["labels"]);v!=null&&E(e,["labels"],v);const g=T(t,["outputUri"]);g!=null&&E(e,["outputUri"],g);const y=T(t,["pipelineJob"]);y!=null&&E(e,["pipelineJob"],y);const _=T(t,["serviceAccount"]);_!=null&&E(e,["serviceAccount"],_);const x=T(t,["tunedModelDisplayName"]);return x!=null&&E(e,["tunedModelDisplayName"],x),e}function $Se(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=T(t,["tunedModels"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>pK(a))),E(e,["tuningJobs"],s)}return e}function zSe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["name"]);r!=null&&E(e,["name"],r);const i=T(t,["metadata"]);i!=null&&E(e,["metadata"],i);const s=T(t,["done"]);s!=null&&E(e,["done"],s);const a=T(t,["error"]);return a!=null&&E(e,["error"],a),e}function HSe(t){const e={},n=T(t,["checkpointId"]);n!=null&&E(e,["checkpointId"],n);const r=T(t,["epoch"]);r!=null&&E(e,["epoch"],r);const i=T(t,["step"]);i!=null&&E(e,["step"],i);const s=T(t,["endpoint"]);return s!=null&&E(e,["endpoint"],s),e}function GSe(t){const e={},n=T(t,["model"]);n!=null&&E(e,["model"],n);const r=T(t,["endpoint"]);r!=null&&E(e,["endpoint"],r);const i=T(t,["checkpoints"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>HSe(a))),E(e,["checkpoints"],s)}return e}function o3(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["name"]);r!=null&&E(e,["name"],r);const i=T(t,["state"]);i!=null&&E(e,["state"],BG(i));const s=T(t,["createTime"]);s!=null&&E(e,["createTime"],s);const a=T(t,["startTime"]);a!=null&&E(e,["startTime"],a);const o=T(t,["endTime"]);o!=null&&E(e,["endTime"],o);const l=T(t,["updateTime"]);l!=null&&E(e,["updateTime"],l);const c=T(t,["error"]);c!=null&&E(e,["error"],c);const u=T(t,["description"]);u!=null&&E(e,["description"],u);const f=T(t,["baseModel"]);f!=null&&E(e,["baseModel"],f);const h=T(t,["tunedModel"]);h!=null&&E(e,["tunedModel"],GSe(h));const p=T(t,["preTunedModel"]);p!=null&&E(e,["preTunedModel"],p);const v=T(t,["supervisedTuningSpec"]);v!=null&&E(e,["supervisedTuningSpec"],v);const g=T(t,["tuningDataStats"]);g!=null&&E(e,["tuningDataStats"],g);const y=T(t,["encryptionSpec"]);y!=null&&E(e,["encryptionSpec"],y);const _=T(t,["partnerModelTuningSpec"]);_!=null&&E(e,["partnerModelTuningSpec"],_);const x=T(t,["customBaseModel"]);x!=null&&E(e,["customBaseModel"],x);const w=T(t,["experiment"]);w!=null&&E(e,["experiment"],w);const C=T(t,["labels"]);C!=null&&E(e,["labels"],C);const S=T(t,["outputUri"]);S!=null&&E(e,["outputUri"],S);const R=T(t,["pipelineJob"]);R!=null&&E(e,["pipelineJob"],R);const D=T(t,["serviceAccount"]);D!=null&&E(e,["serviceAccount"],D);const N=T(t,["tunedModelDisplayName"]);return N!=null&&E(e,["tunedModelDisplayName"],N),e}function KSe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=T(t,["tuningJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>o3(a))),E(e,["tuningJobs"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JSe extends hh{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new ev(Hf.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const r={tunedModelName:n.baseModel},i=Object.assign(Object.assign({},n),{preTunedModel:r});return i.baseModel=void 0,await this.tuneInternal(i)}else{const r=Object.assign({},n);return await this.tuneInternal(r)}else{const r=Object.assign({},n),i=await this.tuneMldevInternal(r);let s="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?s=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(s=i.name.split("/operations/")[0]),{name:s,state:QA.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=MSe(e);return o=jt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>o3(u))}else{const c=DSe(e);return o=jt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>pK(u))}}async listInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=OSe(e);return o=jt("tuningJobs",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=KSe(u),h=new bU;return Object.assign(h,f),h})}else{const c=NSe(e);return o=jt("tunedModels",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=$Se(u),h=new bU;return Object.assign(h,f),h})}}async cancel(e){var n,r,i,s;let a="",o={};if(this.apiClient.isVertexAI()){const l=LSe(e);a=jt("{name}:cancel",l._url),o=l._query,delete l.config,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=kSe(e);a=jt("{name}:cancel",l._url),o=l._query,delete l.config,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async tuneInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=WSe(e);return s=jt("tuningJobs",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>o3(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=FSe(e);return s=jt("tunedModels",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>zSe(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XSe{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const YSe=1024*1024*8,QSe=3,ZSe=1e3,e4e=2,o4="x-goog-upload-status";async function t4e(t,e,n){var r,i,s;let a=0,o=0,l=new ZA(new Response),c="upload";for(a=t.size;o<a;){const f=Math.min(YSe,a-o),h=t.slice(o,o+f);o+f>=a&&(c+=", finalize");let p=0,v=ZSe;for(;p<QSe&&(l=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(o),"Content-Length":String(f)}}}),!(!((r=l==null?void 0:l.headers)===null||r===void 0)&&r[o4]));)p++,await r4e(v),v=v*e4e;if(o+=f,((i=l==null?void 0:l.headers)===null||i===void 0?void 0:i[o4])!=="active")break;if(a<=o)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const u=await(l==null?void 0:l.json());if(((s=l==null?void 0:l.headers)===null||s===void 0?void 0:s[o4])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return u.file}async function n4e(t){return{size:t.size,type:t.type}}function r4e(t){return new Promise(e=>setTimeout(e,t))}class i4e{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await t4e(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await n4e(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class s4e{create(e,n,r){return new a4e(e,n,r)}}class a4e{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zU="x-goog-api-key";class o4e{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(zU)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(zU,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const l4e="gl-node/";class HU{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=vve(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new o4e(this.apiKey);this.apiClient=new DCe({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:l4e+"web",uploader:new i4e,downloader:new XSe}),this.models=new GCe(this.apiClient),this.live=new BCe(this.apiClient,i,new s4e),this.batches=new c2e(this.apiClient),this.chats=new ybe(this.models,this.apiClient),this.caches=new pbe(this.apiClient),this.files=new kbe(this.apiClient),this.operations=new KCe(this.apiClient),this.authTokens=new SSe(this.apiClient),this.tunings=new JSe(this.apiClient)}}if(Sr.Quill){const t=Sr.Quill.import("attributors/style/size");t.whitelist=["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px"],Sr.Quill.register("attributors/style/size",t,!0)}const GU=t=>t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,""),c4e=()=>{var It;const{blogPosts:t,addBlogPost:e,updateBlogPost:n,deleteBlogPost:r}=un(),[i,s]=V.useState([]),[a,o]=V.useState({isOpen:!1,mode:"create",post:null}),[l,c]=V.useState({title:"",content:{},publishedAt:"",tags:[],countryCode:""}),[u,f]=V.useState(!1),[h,p]=V.useState("ar"),[v,g]=V.useState(""),[y,_]=V.useState([]),[x,w]=V.useState(!1),[C,S]=V.useState(!1),[R,D]=V.useState(null),[N,I]=V.useState(""),[F,P]=V.useState(""),[k,U]=V.useState(!1),[O,H]=V.useState(!1),[G,X]=V.useState([]),[Z,z]=V.useState(!1),[Q,B]=V.useState(!1),[j,q]=V.useState(""),[J,Y]=V.useState(!1),[te,oe]=V.useState(""),[de,fe]=V.useState(!1),[Ce,Pe]=V.useState(new Set),[pe,Me]=V.useState(!1);V.useEffect(()=>{const We=[...t].sort((se,he)=>{const Re=se.publishedAt?se.publishedAt.toDate():se.createdAt.toDate();return(he.publishedAt?he.publishedAt.toDate():he.createdAt.toDate()).getTime()-Re.getTime()});s(We)},[t]),V.useEffect(()=>{if(a.mode==="create"&&p("ar"),a.isOpen){const We=new Set;t.forEach(se=>{se.content&&se.content[h]&&se.tags&&se.tags.split(",").forEach(Re=>{Re.trim()&&We.add(Re.trim())})}),_(Array.from(We).sort())}},[a.isOpen,a.mode,h,t]);const W=()=>{const We=new Date().toISOString().split("T")[0];c({title:"",content:{},publishedAt:We,tags:[],countryCode:""}),p("ar"),o({isOpen:!0,mode:"create",post:null})},ge=We=>{const se=We.publishedAt?We.publishedAt.toDate().toISOString().split("T")[0]:"";c({title:We.title,content:We.content||{},publishedAt:se,tags:We.tags?We.tags.split(",").map(Re=>Re.trim()).filter(Boolean):[],countryCode:We.countryCode||""});const he=Object.keys(We.content||{});he.includes("ar")?p("ar"):he.length>0?p(he[0]):p("ar"),o({isOpen:!0,mode:"edit",post:We})},_e=()=>{o({isOpen:!1,mode:"create",post:null})},ce=async We=>{var he;const se=await ga("tagTitleLists",We);I(((he=se==null?void 0:se.titles)==null?void 0:he.join(`
`))||""),D(We),P(We),S(!0)},re=()=>{S(!1),D(null),I(""),P("")},le=async()=>{if(R){const We=N.split(`
`).map(se=>se.trim()).filter(Boolean);await Cr("tagTitleLists",{tag:R,titles:We}),re()}},ke=async()=>{if(F){U(!0);try{const he=(await new HU({apiKey:"PLACEHOLDER_API_KEY"}).models.generateContent({model:"gemini-2.5-flash",contents:`Generate a list of 10 to 15 SEO-friendly blog post titles in Arabic about the topic: "${F}". Return only the list of titles, with each title on a new line. Do not include numbers or bullet points.`})).text||"";I(Re=>(Re?Re+`
`:"")+he.trim())}catch(We){console.error("AI Title Generation Error:",We),alert("  .")}finally{U(!1)}}},Ne=async We=>{if(We&&!l.tags.includes(We)){const se=l.title;if(c(he=>({...he,tags:[...he.tags,We]})),!se.trim()){const he=await ga("tagTitleLists",We);if(he&&he.titles&&he.titles.length>0){const Re=he.titles,qe=Math.floor(Math.random()*Re.length),st=Re[qe];c(wt=>({...wt,title:st}))}}}g("")},ie=We=>{c(se=>({...se,tags:se.tags.filter(he=>he!==We)}))},ue=We=>{if(We.key==="Enter"||We.key===","){We.preventDefault();const se=v.trim();Ne(se)}},ve=We=>{Ne(We)},be=async()=>{const We=/(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:watch\?v=|embed\/|v\/)|youtu\.be\/)([\w-]{11})(?:\S+)?/,se=l.title.trim().match(We);if(se){f(!0);try{const st=se[0],wt=Au.find(er=>er.code===h),Ot=wt?wt.name:"Arabic",Kt=`Based on the content of this YouTube video: ${st}, write a detailed and well-formatted blog post in ${Ot}. The blog post should be in HTML format, using tags like <h2>, <h3>, <p>, and <ul>. Also, generate a compelling and SEO-friendly title for the blog post based on the video's content. Return the result as a single JSON object with two keys: "title" (a string for the new blog post title) and "content" (an HTML string for the blog post body).`;c(er=>({...er,content:{...er.content,[h]:""}}));const Mn=(await _c({model:"gemini-2.5-flash",contents:Kt,config:{responseMimeType:"application/json"}})).text.replace(/^```json\s*|```\s*$/g,""),Sn=JSON.parse(Mn);if(Sn.title&&Sn.content)c(er=>({...er,title:Sn.title,content:{...er.content,[h]:Sn.content}}));else throw new Error("AI response did not contain 'title' and 'content' keys.")}catch(st){console.error("AI content generation from YouTube failed:",st),alert("     .          .")}finally{f(!1)}return}const he=l.content[h]||"",Re=l.title.trim()!=="",qe=he.replace(/<[^>]*>?/gm,"").trim()!=="";if(!Re&&!qe){alert("          .");return}f(!0);try{if(qe){const st=Au.find(Sn=>Sn.code===h),wt=st?st.name:h,Ot=`Analyze the following draft text for a blog post.
                1. Generate a compelling and SEO-friendly title in ${wt}.
                2. Expand the draft into a full, well-formatted blog post in ${wt}, using HTML tags like <h2>, <h3>, <p>, and <ul>.
                3. Return the result as a single JSON object with two keys: "title" (a string) and "content" (an HTML string).
    
                Draft text: "${he.replace(/<[^>]*>?/gm," ")}"`,mn=(await _c({model:"gemini-2.5-flash",contents:Ot,config:{responseMimeType:"application/json"}})).text.replace(/^```json\s*|```\s*$/g,""),Mn=JSON.parse(mn);c(Sn=>({...Sn,title:Mn.title,content:{...Sn.content,[h]:Mn.content}}))}else{const wt={ar:`      : "${l.title}".         HTML     (h2)   (h3)  (p)    (ul/li).    .`,en:`Write a detailed article in English about the topic: "${l.title}". The article should be well-formatted using HTML, with main headings (h2), subheadings (h3), paragraphs (p), and possibly bullet points (ul/li). Make the content rich and informative.`,fr:`Rdigez un article dtaill en franais sur le sujet : "${l.title}". L'article doit tre bien format en HTML, avec des titres principaux (h2), des sous-titres (h3), des paragraphes (p), et ventuellement des listes  puces (ul/li). Assurez-vous que le contenu est riche et informatif.`,de:`Schreiben Sie einen detaillierten Artikel auf Deutsch zum Thema: "${l.title}". Der Artikel sollte gut mit HTML formatiert sein, mit Hauptberschriften (h2), Unterberschriften (h3), Abstzen (p) und mglicherweise Aufzhlungspunkten (ul/li). Machen Sie den Inhalt reichhaltig und informativ.`,es:`Escribe un artculo detallado en espaol sobre el tema: "${l.title}". El artculo debe estar bien formateado usando HTML, con encabezados principales (h2), subttulos (h3), prrafos (p) y posiblemente listas con vietas (ul/li). Haz que el contenido sea rico e informativo.`,tr:`"${l.title}" konusunda Trke detayl bir makale yazn. Makale, ana balklar (h2), alt balklar (h3), paragraflar (p) ve muhtemelen madde iaretli listeler (ul/li) kullanlarak HTML ile iyi bir ekilde biimlendirilmelidir. erii zengin ve bilgilendirici yapn.`,ja:`${l.title}h2h3pul/liHTML`}[h]||`Write a detailed article about: "${l.title}". Format it with HTML (h2, p, ul).`;c(vn=>({...vn,content:{...vn.content,[h]:""}}));const Kt=(await _c({model:"gemini-2.5-flash",contents:wt})).text||"";c(vn=>({...vn,content:{...vn.content,[h]:Kt}}))}}catch(st){console.error("AI content generation failed:",st),alert("  .       JSON  .        .")}finally{f(!1)}},Ie=async()=>{var Re;const We=(Re=l.content[h])==null?void 0:Re.replace(/<[^>]*>?/gm," ").trim(),se=l.tags.join(", "),he=We||se;if(!he){alert("       .");return}H(!0),z(!0),X([]);try{const wt=(await new HU({apiKey:"PLACEHOLDER_API_KEY"}).models.generateContent({model:"gemini-2.5-flash",contents:`Generate 5 to 10 SEO-friendly blog post titles based on the following topic/content: "${he}". Return the result as a JSON array of strings. Example: ["Title 1", "Title 2"]`,config:{responseMimeType:"application/json"}})).text.replace(/^```json\s*|```\s*$/g,""),Ot=JSON.parse(wt);X(Ot)}catch(qe){console.error("AI Title Suggestion Error:",qe),alert("  ."),H(!1)}finally{z(!1)}},Le=We=>{c(se=>({...se,title:We})),H(!1)},Te=async We=>{We.preventDefault();const se=l.publishedAt?new Date(l.publishedAt):null,he=GU(l.title),{content:Re,...qe}=l,st=Object.fromEntries(Object.entries(Re).filter(([,Ot])=>Ot&&String(Ot).replace(/<[^>]*>?/gm,"").trim()!==""));if(Object.keys(st).length===0){alert("          .");return}const wt=l.tags.join(",");if(a.mode==="create"){const Ot={...qe,tags:wt,content:st,publishedAt:se?Pr.firestore.Timestamp.fromDate(se):void 0,slug:he,author:"Admin",createdAt:Pr.firestore.Timestamp.now(),enabled:!1},Kt=await bl.create(Ot);e(Kt)}else if(a.post){const Ot={...qe,tags:wt,content:st,publishedAt:se?Pr.firestore.Timestamp.fromDate(se):void 0,slug:he};await bl.update(a.post.id,Ot),n(a.post.id,{...a.post,...Ot})}_e()},Ue=async We=>{const se=i.find(he=>he.id===We);se&&(await bl.toggleStatus(We,se.enabled),n(We,{enabled:!se.enabled}))},Oe=async We=>{window.confirm("        ")&&(await bl.delete(We),r(We))},Je=()=>{q(""),oe(""),fe(!1),B(!0)},ot=()=>{const We=[{title:"  ",language:"ar",content:"<p> ...</p>",tags:"1, 2",publishedAt:"2023-10-27",countryCode:"dz"},{title:"English Article Title",language:"en",content:"<p>Article content...</p>",tags:"tag1, tag2",publishedAt:"2023-10-28",countryCode:"us"}];navigator.clipboard.writeText(JSON.stringify(We,null,2)),fe(!0),setTimeout(()=>fe(!1),2e3)},lt=()=>{q("")},Bt=async()=>{if(oe(""),!!j.trim()){Y(!0);try{const We=JSON.parse(j);if(!Array.isArray(We))throw new Error("JSON must be an array of objects.");let se=0;for(const he of We){if(!he.title||!he.language||!he.content){console.warn("Skipping invalid item:",he);continue}const Re=GU(he.title);let qe=Re;const st=he.publishedAt?new Date(he.publishedAt):new Date,wt={title:he.title,slug:qe,content:{[he.language]:he.content},tags:he.tags||"",author:he.author||"Admin",createdAt:Pr.firestore.Timestamp.now(),publishedAt:Pr.firestore.Timestamp.fromDate(st),enabled:!0,countryCode:he.countryCode||""};try{const Ot=await bl.create(wt);e(Ot),se++}catch(Ot){if(Ot.message&&(Ot.message.includes("UNIQUE constraint failed")||Ot.message.includes("blog.slug"))){console.warn(`Slug collision for "${Re}". Retrying with a unique slug...`),wt.slug=`${Re}-${Date.now().toString().slice(-4)}-${Math.floor(Math.random()*1e3)}`;try{const Kt=await bl.create(wt);e(Kt),se++}catch(Kt){console.error(`Failed to import item "${he.title}" after retry:`,Kt)}}else throw console.error(`Failed to import item "${he.title}":`,Ot),Ot}}B(!1),q(""),alert(`  ${se}  !`)}catch(We){console.error("Bulk import error:",We),oe(`  : ${We.message}`)}finally{Y(!1)}}},fn=()=>{Ce.size===i.length?Pe(new Set):Pe(new Set(i.map(We=>We.id)))},ln=We=>{const se=new Set(Ce);se.has(We)?se.delete(We):se.add(We),Pe(se)},Kn=async()=>{if(window.confirm(`     ${Ce.size} `)){Me(!0);try{const We=Array.from(Ce).map(async se=>{await bl.delete(se),r(se)});await Promise.all(We),Pe(new Set)}catch(We){console.error("Bulk delete error:",We),alert("    .")}finally{Me(!1)}}},Rn=async()=>{const We=prompt("      (: dz, sa)     :","");if(We!==null){Me(!0);try{const se=Array.from(Ce).map(async he=>{await bl.update(he,{countryCode:We.trim()}),n(he,{countryCode:We.trim()})});await Promise.all(se),alert(`  ${Ce.size}  .`),Pe(new Set)}catch(se){console.error("Bulk country update error:",se),alert("    .")}finally{Me(!1)}}},Vn=We=>{const se=Object.keys(We.content||{});return se.includes("ar")?`/blog/${We.slug}`:se.length>0?`/blog/${se[0]}/${We.slug}`:`/blog/${We.slug}`},yn={toolbar:[[{size:["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px",!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"},{align:[]}],["link","image","video"],["clean"]]};return d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:" "}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:Je,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[d.jsx(ege,{}),d.jsx("span",{children:"  (JSON)"})]}),d.jsx("button",{onClick:W,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"+   "})]})]}),Ce.size>0&&d.jsxs("div",{className:"sticky top-0 z-10 bg-white shadow-md border-b p-3 mb-4 flex items-center justify-between animate-fadeIn rounded-md border border-blue-100",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:"bg-blue-100 text-blue-800 text-xs font-bold px-2 py-1 rounded-full",children:[Ce.size," "]}),d.jsx("button",{onClick:()=>Pe(new Set),className:"text-gray-500 hover:text-gray-700 text-sm",children:" "})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:Rn,disabled:pe,className:"bg-indigo-50 text-indigo-700 hover:bg-indigo-100 border border-indigo-200 px-3 py-1 rounded-md text-sm flex items-center gap-2 transition-colors",children:[pe?d.jsx(Tt,{className:"animate-spin"}):d.jsx(Xy,{})," "]}),d.jsxs("button",{onClick:Kn,disabled:pe,className:"bg-red-50 text-red-700 hover:bg-red-100 border border-red-200 px-3 py-1 rounded-md text-sm flex items-center gap-2 transition-colors",children:[pe?d.jsx(Tt,{className:"animate-spin"}):d.jsx(dh,{})," "]})]})]}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 w-10",children:d.jsx("input",{type:"checkbox",onChange:fn,checked:i.length>0&&Ce.size===i.length,className:"w-4 h-4 rounded border-gray-300 text-green-600 focus:ring-green-500"})}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:i.map(We=>{const se=We.publishedAt?We.publishedAt.toDate():We.createdAt.toDate(),he=Object.keys(We.content||{}),Re=he.length>0?he.join(", ").toUpperCase():"AR";return d.jsxs("tr",{className:`border-b hover:bg-gray-50 ${Ce.has(We.id)?"bg-blue-50":""}`,children:[d.jsx("td",{className:"p-3",children:d.jsx("input",{type:"checkbox",checked:Ce.has(We.id),onChange:()=>ln(We.id),className:"w-4 h-4 rounded border-gray-300 text-green-600 focus:ring-green-500"})}),d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:We.title}),d.jsx("td",{className:"p-3 text-gray-600 text-xs",children:d.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded",children:Re})}),d.jsx("td",{className:"p-3 text-gray-600 text-xs",children:We.countryCode||""}),d.jsx("td",{className:"p-3 text-gray-600",children:se.toLocaleDateString("ar-DZ")}),d.jsx("td",{className:"p-3",children:d.jsx("button",{onClick:()=>Ue(We.id),className:`px-3 py-1 text-xs font-semibold rounded-full ${We.enabled?"text-green-800 bg-green-200":"text-gray-800 bg-gray-200"}`,children:We.enabled?"":""})}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse",children:[d.jsx(dn,{to:Vn(We),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>ge(We),className:"text-green-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>Oe(We.id),className:"text-red-600 hover:underline text-sm font-semibold",children:""})]})]},We.id)})})]})})}),Q&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl h-[90vh] flex flex-col",children:[d.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[d.jsx("h2",{className:"text-2xl font-bold",children:"   (JSON)"}),d.jsx("button",{onClick:()=>B(!1),className:"text-gray-500 hover:text-gray-800",children:d.jsx(rd,{size:20})})]}),d.jsxs("div",{className:"p-6 flex-grow flex flex-col space-y-4 overflow-hidden",children:[d.jsxs("div",{className:"bg-blue-50 p-4 rounded-md text-sm text-blue-800 relative",children:[d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsx("p",{className:"font-bold",children:" :"}),d.jsxs("button",{onClick:ot,className:"flex items-center gap-2 bg-blue-100 hover:bg-blue-200 text-blue-800 px-3 py-1 rounded-md transition-colors text-xs font-bold",children:[d.jsx(tge,{}),d.jsx("span",{children:de?" !":" "})]})]}),d.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[d.jsx("li",{children:"     (Array)  ."}),d.jsxs("li",{children:["    ",d.jsx("strong",{children:"  "}),"."]}),d.jsxs("li",{children:[" : ",d.jsx("code",{children:"title"}),", ",d.jsx("code",{children:"language"})," ( 'ar', 'en'), ",d.jsx("code",{children:"content"})," (HTML)."]}),d.jsxs("li",{children:[" : ",d.jsx("code",{children:"tags"}),", ",d.jsx("code",{children:"publishedAt"}),", ",d.jsx("code",{children:"author"}),", ",d.jsx("code",{children:"countryCode"}),"."]})]})]}),d.jsxs("div",{className:"flex-grow relative",children:[d.jsx("button",{onClick:lt,className:"absolute top-2 left-2 bg-red-50 text-red-600 hover:bg-red-100 p-2 rounded-full z-10 transition-colors",title:" ",children:d.jsx(nge,{})}),d.jsx("textarea",{className:"w-full h-full p-4 border rounded-md font-mono text-sm bg-gray-900 text-green-100 focus:ring-2 focus:ring-blue-500",placeholder:"[ ...   JSON  ... ]",dir:"ltr",value:j,onChange:We=>q(We.target.value)})]}),te&&d.jsx("p",{className:"text-red-600 text-sm font-bold",children:te})]}),d.jsxs("div",{className:"p-6 border-t bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{onClick:()=>B(!1),className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsxs("button",{onClick:Bt,disabled:J||!j.trim(),className:"bg-blue-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-blue-700 disabled:bg-gray-400 flex items-center gap-2",children:[J?d.jsx(Tt,{className:"animate-spin"}):null,d.jsx("span",{children:J?" ...":" "})]})]})]})}),a.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl",children:d.jsxs("form",{onSubmit:Te,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:a.mode==="create"?"  ":" "})}),d.jsxs("div",{className:"p-6 space-y-6 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"  ( )"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",id:"title",value:l.title,onChange:We=>c(se=>({...se,title:We.target.value})),required:!0,className:"block w-full px-3 py-2 pr-10 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"}),d.jsx("button",{type:"button",onClick:Ie,className:"absolute top-1/2 right-2 -translate-y-1/2 p-2 text-purple-600 hover:bg-purple-100 rounded-full",title:"   ",children:d.jsx(ya,{})})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"publishedAt",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"date",id:"publishedAt",value:l.publishedAt,onChange:We=>c(se=>({...se,publishedAt:We.target.value})),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"    ."})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"countryCode",className:"block text-sm font-medium text-gray-700 mb-1",children:"  (Code)"}),d.jsx("input",{type:"text",id:"countryCode",value:l.countryCode,onChange:We=>c(se=>({...se,countryCode:We.target.value})),placeholder:": dz, sa, us",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"     ."})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700 mb-1",children:" (Tags)"}),d.jsxs("div",{className:"flex flex-wrap items-center gap-2 p-2 border rounded-md bg-gray-50",children:[l.tags.map(We=>d.jsxs("div",{className:"flex items-center gap-1 bg-green-100 text-green-800 rounded-full px-3 py-1 text-sm",children:[d.jsx("span",{children:We}),d.jsx("button",{type:"button",onClick:()=>ce(We),className:"text-green-600 hover:text-green-800",title:`    "${We}"`,children:d.jsx(cge,{size:12})}),d.jsx("button",{type:"button",onClick:()=>ie(We),className:"text-green-600 hover:text-green-800 font-bold",children:""})]},We)),d.jsxs("div",{className:"relative flex-grow",children:[d.jsx("input",{type:"text",value:v,onChange:We=>g(We.target.value),onKeyDown:ue,onFocus:()=>w(!0),onBlur:()=>setTimeout(()=>w(!1),150),placeholder:" ...",className:"bg-transparent focus:outline-none p-1 min-w-[120px]"}),x&&y.length>0&&d.jsx("div",{className:"absolute top-full left-0 mt-1 w-full bg-white border rounded-md shadow-lg z-10 max-h-40 overflow-y-auto",children:y.filter(We=>!l.tags.includes(We)&&We.toLowerCase().includes(v.toLowerCase())).map(We=>d.jsx("div",{onMouseDown:()=>ve(We),className:"px-3 py-2 cursor-pointer hover:bg-gray-100",children:We},We))})]})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" Enter   (,)  ."})]}),d.jsxs("div",{className:"space-y-4 border-t pt-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("select",{value:h,onChange:We=>p(We.target.value),className:"block w-full max-w-xs px-3 py-2 bg-white border border-gray-300 rounded-md",children:Au.map(We=>d.jsx("option",{value:We.code,children:We.name},We.code))})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" (",((It=Au.find(We=>We.code===h))==null?void 0:It.name)||h,")"]}),d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx("div",{className:"flex-grow",children:d.jsx(Sr,{theme:"snow",value:l.content[h]||"",onChange:We=>{c(se=>({...se,content:{...se.content,[h]:We}}))},modules:yn})}),d.jsx("button",{type:"button",onClick:be,disabled:u,className:"p-2 bg-purple-100 text-purple-700 rounded-md hover:bg-purple-200",title:"     ",children:u?d.jsx(Tt,{className:"animate-spin"}):d.jsx(ya,{})})]})]})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:_e,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:""})]})]})})}),C&&R&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[60] flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",children:[d.jsxs("div",{className:"p-6 border-b",children:[d.jsxs("h2",{className:"text-xl font-bold",children:['  : "',R,'"']}),d.jsx("p",{className:"text-sm text-gray-500",children:"          ."})]}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[60vh] overflow-y-auto",children:[d.jsxs("div",{className:"p-4 border rounded-md bg-gray-50 space-y-2",children:[d.jsx("label",{htmlFor:"title-gen-prompt",className:"font-semibold text-sm",children:"   "}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",id:"title-gen-prompt",value:F,onChange:We=>P(We.target.value),placeholder:" ...",className:"flex-grow px-3 py-2 border rounded-md"}),d.jsxs("button",{type:"button",onClick:ke,disabled:k,className:"bg-purple-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-purple-700 flex items-center gap-2",children:[k?d.jsx(Tt,{className:"animate-spin"}):d.jsx(ya,{}),d.jsx("span",{children:""})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"titles-textarea",className:"font-semibold text-sm",children:"  (   )"}),d.jsx("textarea",{id:"titles-textarea",value:N,onChange:We=>I(We.target.value),rows:10,className:"w-full mt-1 p-2 border rounded-md"})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-between",children:[d.jsx("button",{type:"button",onClick:re,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"button",onClick:le,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700",children:" "})]})]})}),O&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[60] flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg",children:[d.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[d.jsx("h2",{className:"text-xl font-bold",children:" "}),d.jsx("button",{onClick:()=>H(!1),className:"text-gray-400 hover:text-gray-600",children:""})]}),d.jsx("div",{className:"p-6 min-h-[200px] max-h-[60vh] overflow-y-auto",children:Z?d.jsx("div",{className:"flex justify-center items-center h-full",children:d.jsx(Tt,{className:"animate-spin text-2xl text-purple-600"})}):d.jsx("ul",{className:"space-y-2",children:G.map((We,se)=>d.jsx("li",{children:d.jsx("button",{onClick:()=>Le(We),className:"w-full text-right p-3 bg-gray-50 rounded-md hover:bg-green-100 border border-transparent hover:border-green-300",children:We})},se))})})]})})]})};var I2={exports:{}},u4e=I2.exports,KU;function d4e(){return KU||(KU=1,(function(t,e){(function(n,r){r()})(u4e,function(){function n(c,u){return typeof u>"u"?u={autoBom:!1}:typeof u!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function r(c,u,f){var h=new XMLHttpRequest;h.open("GET",c),h.responseType="blob",h.onload=function(){l(h.response,u,f)},h.onerror=function(){console.error("could not download file")},h.send()}function i(c){var u=new XMLHttpRequest;u.open("HEAD",c,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function s(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(u)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Ds=="object"&&Ds.global===Ds?Ds:void 0,o=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(c,u,f){var h=a.URL||a.webkitURL,p=document.createElement("a");u=u||c.name||"download",p.download=u,p.rel="noopener",typeof c=="string"?(p.href=c,p.origin===location.origin?s(p):i(p.href)?r(c,u,f):s(p,p.target="_blank")):(p.href=h.createObjectURL(c),setTimeout(function(){h.revokeObjectURL(p.href)},4e4),setTimeout(function(){s(p)},0))}:"msSaveOrOpenBlob"in navigator?function(c,u,f){if(u=u||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(n(c,f),u);else if(i(c))r(c,u,f);else{var h=document.createElement("a");h.href=c,h.target="_blank",setTimeout(function(){s(h)})}}:function(c,u,f,h){if(h=h||open("","_blank"),h&&(h.document.title=h.document.body.innerText="downloading..."),typeof c=="string")return r(c,u,f);var p=c.type==="application/octet-stream",v=/constructor/i.test(a.HTMLElement)||a.safari,g=/CriOS\/[\d]+/.test(navigator.userAgent);if((g||p&&v||o)&&typeof FileReader<"u"){var y=new FileReader;y.onloadend=function(){var w=y.result;w=g?w:w.replace(/^data:[^;]*;/,"data:attachment/file;"),h?h.location.href=w:location=w,h=null},y.readAsDataURL(c)}else{var _=a.URL||a.webkitURL,x=_.createObjectURL(c);h?h.location=x:location.href=x,h=null,setTimeout(function(){_.revokeObjectURL(x)},4e4)}});a.saveAs=l.saveAs=l,t.exports=l})})(I2)),I2.exports}var fp=d4e();const f4e=[{dataType:"cafes",countryCode:"dz",fileName:"dz-cafes-public.json",label:"   (dz)"},{dataType:"services",countryCode:"dz",fileName:"dz-all-services-public.json",label:"   (dz)"},{dataType:"blog",countryCode:"global",fileName:"blog-posts-public.json",label:"  ()"},{dataType:"pages",countryCode:"dz",fileName:"dz-pages-public.json",label:"   (dz)"},{dataType:"settings",countryCode:"global",fileName:"site-settings-public.json",label:"  "},{dataType:"ads",countryCode:"global",fileName:"ads-public.json",label:"  "},{dataType:"documents",countryCode:"global",fileName:"documents.json",label:"  (documents.json)"}],hp=t=>t.replace(/<!--[\s\S]*?-->/g,"").replace(/>\s+</g,"><").replace(/\n/g,"").replace(/\s{2,}/g," "),Xn=t=>t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):"",JU=t=>t?t.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r"):"",iy=t=>t?`
          <a href="${t.link}" target="_blank" rel="noopener noreferrer" class="block rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow duration-300 group my-6 no-underline">
                <div class="relative">
                  <img src="${t.imageUrl}" alt="${t.title}" class="w-full h-auto object-cover" />
                  <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent p-4 flex flex-col justify-end">
                    <h3 class="text-lg font-bold text-white group-hover:underline">${t.title}</h3>
                    <p class="text-sm text-white/90">${t.content}</p>
                  </div>
                </div>
            </a>
    `:"",l0={linkedin:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg>',pinterest:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0c-6.627 0-12 5.372-12 12 0 5.084 3.163 9.426 7.627 11.174-.105-.949-.2-2.405.042-3.441.218-.937 1.407-5.965 1.407-5.965s-.359-.719-.359-1.782c0-1.668.967-2.914 2.171-2.914 1.023 0 1.518.769 1.518 1.69 0 1.029-.655 2.568-.994 3.995-.283 1.194.599 2.169 1.777 2.169 2.133 0 3.772-2.249 3.772-5.495 0-2.873-2.064-4.882-5.012-4.882-3.414 0-5.418 2.561-5.418 5.207 0 1.031.397 2.138.893 2.738.098.119.117.223.084.345l-.333 1.36c-.053.22-.174.267-.402.161-1.499-.698-2.436-2.889-2.436-4.649 0-3.785 2.75-7.262 7.929-7.262 4.163 0 7.398 2.967 7.398 6.931 0 4.136-2.607 7.464-6.227 7.464-1.216 0-2.359-.631-2.75-1.378l-.748 2.853c-.271 1.043-1.002 2.35-1.492 3.146 1.124.343 2.318.535 3.554.535 6.627 0 12-5.373 12-12 0-6.628-5.373-12-12-12z"/></svg>',reddit:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M24 11.779c0-1.459-1.192-2.645-2.657-2.645-.717 0-1.365.286-1.84.746-1.81-1.191-4.259-1.982-6.971-2.146l1.463-4.64-4.98-1.655-1.463 4.64c-2.83.208-5.353 1.073-7.163 2.294-.475-.46-.b23-.746-1.84-.746-1.465 0-2.657 1.186-2.657 2.645 0 .972.533 1.811 1.317 2.271-.052.282-.084.569-.084.867 0 3.911 4.808 7.083 10.741 7.083s10.741-3.172 10.741-7.083c0-.298-.032-.585-.084-.867.784-.46 1.317-1.3 1.317-2.271zm-15.424 1.221c-.759.759-1.992.759-2.751 0-.759-.759-.759-1.991 0-2.751.759-.759 1.992-.759 2.751 0 .759.759.759 1.992 0 2.751zm9.113 0c-.759.759-1.992.759-2.751 0-.759-.759-.759-1.991 0-2.751.759-.759 1.992-.759 2.751 0 .759.759.759 1.992 0 2.751zm-4.129 4.06c-1.749 0-3.303-.732-4.437-1.916.347.086.703.131 1.066.131 3.237 0 5.862-2.625 5.862-5.862 0-.354-.031-.699-.091-1.035 1.568.12 2.949.7 4.095 1.654-1.321 2.04-3.733 3.447-6.5 4.028z"/></svg>',facebook:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"/></svg>',clipboard:'<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1h-12c-1.1 0-2 .9-2 2v14h2v-14h12v-2zm3 4h-11c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2v-14c0-1.1-.9-2-2-2zm0 16h-11v-14h11v14z"/></svg>'},mK=(t,e,n,r="ar")=>{const i=Eo(r),s=encodeURIComponent(t),a=encodeURIComponent(e),o=(n||"").replace(/<[^>]*>/g,"").substring(0,155);return`
        <div class="mt-auto pt-3 border-t flex items-center gap-3">
            <span class="text-xs text-gray-500 font-semibold">${i("share.title")}</span>
            <a href="https://www.linkedin.com/shareArticle?mini=true&url=${s}&title=${a}" target="_blank" rel="noopener noreferrer" class="transition-transform hover:scale-125 text-blue-700">${l0.linkedin}</a>
            <a href="https://pinterest.com/pin/create/button/?url=${s}&description=${a}" target="_blank" rel="noopener noreferrer" class="transition-transform hover:scale-125 text-red-600">${l0.pinterest}</a>
            <a href="https://www.reddit.com/submit?url=${s}&title=${a}" target="_blank" rel="noopener noreferrer" class="transition-transform hover:scale-125 text-orange-500">${l0.reddit}</a>
            <a href="https://www.facebook.com/sharer/sharer.php?u=${s}&quote=${a}" target="_blank" rel="noopener noreferrer" class="transition-transform hover:scale-125 text-blue-600">${l0.facebook}</a>
            <button class="copy-details-btn transition-transform hover:scale-125 text-gray-500 hover:text-gray-700" title="${i("share.copyDetails")}" data-title="${Xn(e)}" data-snippet="${Xn(o)}" data-url="${Xn(t)}">${l0.clipboard}</button>
        </div>
    `},h4e=(t,e,n)=>{const r=encodeURIComponent(t),i=encodeURIComponent(e),s=JU(e),a=JU(n.replace(/<[^>]*>/g,"").substring(0,155)),o={linkedin:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg>',pinterest:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0c-6.627 0-12 5.372-12 12 0 5.084 3.163 9.426 7.627 11.174-.105-.949-.2-2.405.042-3.441.218-.937 1.407-5.965 1.407-5.965s-.359-.719-.359-1.782c0-1.668.967-2.914 2.171-2.914 1.023 0 1.518.769 1.518 1.69 0 1.029-.655 2.568-.994 3.995-.283 1.194.599 2.169 1.777 2.169 2.133 0 3.772-2.249 3.772-5.495 0-2.873-2.064-4.882-5.012-4.882-3.414 0-5.418 2.561-5.418 5.207 0 1.031.397 2.138.893 2.738.098.119.117.223.084.345l-.333 1.36c-.053.22-.174.267-.402.161-1.499-.698-2.436-2.889-2.436-4.649 0-3.785 2.75-7.262 7.929-7.262 4.163 0 7.398 2.967 7.398 6.931 0 4.136-2.607 7.464-6.227 7.464-1.216 0-2.359-.631-2.75-1.378l-.748 2.853c-.271 1.043-1.002 2.35-1.492 3.146 1.124.343 2.318.535 3.554.535 6.627 0 12-5.373 12-12 0-6.628-5.373-12-12-12z"/></svg>',facebook:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"/></svg>',clipboard:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1h-12c-1.1 0-2 .9-2 2v14h2v-14h12v-2zm3 4h-11c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2v-14c0-1.1-.9-2-2-2zm0 16h-11v-14h11v14z"/></svg>'};return`
        <div class="fixed bottom-6 left-6 z-40 flex flex-col items-center gap-3">
            <a href="https://www.linkedin.com/shareArticle?mini=true&url=${r}&title=${i}" target="_blank" rel="noopener noreferrer" class="w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-transform hover:scale-110 bg-blue-700">${o.linkedin}</a>
            <a href="https://pinterest.com/pin/create/button/?url=${r}&description=${i}" target="_blank" rel="noopener noreferrer" class="w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-transform hover:scale-110 bg-red-600">${o.pinterest}</a>
            <a href="https://www.reddit.com/submit?url=${r}&title=${i}" target="_blank" rel="noopener noreferrer" class="w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-transform hover:scale-110 bg-orange-500">${o.reddit}</a>
            <a href="https://www.facebook.com/sharer/sharer.php?u=${r}&quote=${i}" target="_blank" rel="noopener noreferrer" class="w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-transform hover:scale-110 bg-blue-600">${o.facebook}</a>
            <button class="copy-details-btn w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-all hover:scale-110 bg-gray-600" data-title="${Xn(s)}" data-snippet="${Xn(a)}" data-url="${Xn(t)}">${o.clipboard}</button>
        </div>
    `},p4e=`
<script>
document.addEventListener('DOMContentLoaded', function() {
    const copyButtons = document.querySelectorAll('.copy-details-btn');
    
    if (copyButtons.length > 0) {
        const handleCopyFallback = (text, btn) => {
            navigator.clipboard.writeText(text).then(() => {
                const originalContent = btn.innerHTML;
                btn.innerHTML = '<span class="text-xs"> !</span>';
                setTimeout(() => {
                    btn.innerHTML = \`<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1h-12c-1.1 0-2 .9-2 2v14h2v-14h12v-2zm3 4h-11c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2v-14c0-1.1-.9-2-2-2zm0 16h-11v-14h11v14z"/></svg>\`;
                }, 2000);
            });
        };

        copyButtons.forEach(btn => {
            btn.addEventListener('click', function(e) {
                e.preventDefault();
                e.stopPropagation();
                const button = this;
                const title = button.dataset.title || '';
                const snippet = button.dataset.snippet || '';
                const url = button.dataset.url || '';
                
                const textPlain = \`\${title}\\n\\n\${snippet}\\n\\n\${url}\`;
                const textHtml = \`
                    <p style="font-weight: bold; font-family: sans-serif; font-size: 16px;">\${title}</p>
                    <div style="font-family: sans-serif; font-size: 14px;"><p>\${snippet}</p></div>
                    <a href="\${url}">\${url}</a>
                \`;

                try {
                    if (typeof ClipboardItem === 'undefined') {
                        handleCopyFallback(textPlain, button);
                        return;
                    }
                    const blobHtml = new Blob([textHtml], { type: 'text/html' });
                    const blobPlain = new Blob([textPlain], { type: 'text/plain' });
                    
                    navigator.clipboard.write([
                        new ClipboardItem({
                            'text/html': blobHtml,
                            'text/plain': blobPlain,
                        })
                    ]).then(() => {
                        const originalContent = button.innerHTML;
                        button.innerHTML = '<span class="text-xs"> !</span>';
                        setTimeout(() => {
                            button.innerHTML = \`<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1h-12c-1.1 0-2 .9-2 2v14h2v-14h12v-2zm3 4h-11c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2v-14c0-1.1-.9-2-2-2zm0 16h-11v-14h11v14z"/></svg>\`;
                        }, 2000);
                    }, (err) => {
                        console.error('Async clipboard write failed, falling back to plain text: ', err);
                        handleCopyFallback(textPlain, button);
                    });
                } catch (error) {
                    console.error('Failed to use Clipboard API, falling back to writeText: ', error);
                    handleCopyFallback(textPlain, button);
                }
            });
        });
    }
});
<\/script>
`,m4e=(t,e)=>{const n=`${BASE_URL}/${t?t+"/":""}`,r=`${BASE_URL}/${t||"dz"}/login/`;return`
        <header class="bg-white shadow-md sticky top-0 z-50">
            <script async src="https://cse.google.com/cse.js?cx=8318067ab6f0244ff"><\/script>
            <div class="container mx-auto px-4 py-4 flex justify-between items-center">
                <a href="${n}" class="flex items-center gap-3"><svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-green-600" viewBox="0 0 24 24" fill="currentColor"><path d="M14 2H6C4.9 2 4 2.9 4 4V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V8L14 2ZM18 20H6V4H13V9H18V20Z"/></svg><span class="text-2xl font-bold text-gray-900" dir="ltr">Gitut</span></a>
                <nav class="flex items-center gap-6">
                    <div class="gcse-search"></div>
                    <a href="${n}" class="text-gray-700 hover:text-green-600 font-semibold">${e("header.search")}</a>
                    <a href="${r}" class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700">${e("header.login")}</a>
                </nav>
            </div>
        </header>
    `},g4e=(t,e,n,r,i,s)=>{var v,g;const a=((v=s==null?void 0:s.seo)==null?void 0:v[t||"dz"])||((g=s==null?void 0:s.seo)==null?void 0:g.default),l=r.filter(y=>y.enabled&&(y.lang===e||!y.lang&&e==="ar")).map(y=>`<a href="${`${BASE_URL}${t?"/"+t:""}/page/${y.slug}/`}" class="hover:text-green-600 hover:underline">${Xn(y.title)}</a>`).join(""),c=i.some(y=>y.enabled&&y.content&&y.content[e]),u=e==="ar"?"":`/${e}`,f=`${BASE_URL}/${t?t+"/":""}blog${u}/`,h=c?`<a href="${f}" class="hover:text-green-600 hover:underline">${n("footer.blog")}</a>`:"",p=`${BASE_URL}${t?"/"+t:""}/services/`;return`
        <footer class="bg-white border-t mt-auto">
          <div class="container mx-auto px-4 py-8 flex flex-col items-center gap-4">
            <nav class="flex flex-wrap justify-center gap-x-6 gap-y-2 text-gray-600">${h}<a href="${p}" class="hover:text-green-600 hover:underline">${n("footer.services")}</a>${l}</nav>
            <p class="text-center text-gray-500 text-sm">&copy; ${new Date().getFullYear()} ${Xn((a==null?void 0:a.siteName)||"Gitut")}. ${n("footer.rightsReserved")}</p>
          </div>
        </footer>
    `},og=({title:t,description:e,mainContent:n,urlPrefix:r,lang:i,siteSettings:s,pages:a,allBlogPosts:o,socialShare:l,imageUrl:c,scripts:u=""})=>{var S,R;const f=i==="ar"?"rtl":"ltr",h=Eo(i),p=m4e(r,h),v=g4e(r,i,h,a,o,s),g=`
        <div class="flex flex-col min-h-screen">
            ${p}
            ${n}
            ${v}
        </div>
    `,y=((S=s==null?void 0:s.seo)==null?void 0:S[r||"dz"])||((R=s==null?void 0:s.seo)==null?void 0:R.default),_=c||"https://file.gitut.com/data/image/icon.png",x="https://blogger.googleusercontent.com/img/a/AVvXsEjkGCrmp8eAGwzm3xT-8tifWeZwI6pwDti7gvpVxpW7aIMFfrxutIq8MaQVwWSonlisheakMWk_thkwsaiHUTGbGLsCkyIsER605MilN4jS184MEpAE_XOIl-L6qyNyVp9DKFv5mpOh8miC5A70cZeriTb45X94VYrmW1QhspDSXtSo2MJMuDECpGPTYpI",w=`<script async src="https://www.googletagmanager.com/gtag/js?id=G-2BKKWGCXWX"><\/script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('config','G-2BKKWGCXWX');<\/script>`,C=l?h4e(l.url,l.title,l.description):"";return`<!DOCTYPE html>
        <html lang="${i}" dir="${f}">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <link rel="icon" type="image/png" href="${x}">
            <title>${Xn(t)}</title>
            <meta name="description" content="${Xn(e)}">
            
            <!-- Open Graph / Facebook -->
            <meta property="og:type" content="website">
            <meta property="og:url" content="${(l==null?void 0:l.url)||""}">
            <meta property="og:title" content="${Xn(t)}">
            <meta property="og:description" content="${Xn(e)}">
            <meta property="og:image" content="${_}">
            <meta property="og:image:secure_url" content="${_}">
            <meta property="og:image:width" content="640">
            <meta property="og:image:height" content="640">
            <meta property="og:site_name" content="${Xn((y==null?void 0:y.siteName)||"Gitut")}">

            <!-- Twitter -->
            <meta name="twitter:card" content="summary_large_image">
            <meta name="twitter:url" content="${(l==null?void 0:l.url)||""}">
            <meta name="twitter:title" content="${Xn(t)}">
            <meta name="twitter:description" content="${Xn(e)}">
            <meta name="twitter:image" content="${_}">

            <link rel="preconnect" href="https://cdn.tailwindcss.com" crossorigin>
            <link rel="preconnect" href="https://fonts.googleapis.com">
            <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
            <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
            <script src="https://cdn.tailwindcss.com/3.4.1?plugins=typography"><\/script>
            <style>body { font-family: 'Cairo', sans-serif; } .prose a { color: #16a34a; } .prose a:hover { color: #15803d; } .compact-prose p { margin-top: 0; margin-bottom: 0.25em; }</style>
            ${w}
        </head>
        <body class="bg-gray-100 text-gray-900">
            <div id="root">${g}</div>
            ${C}
            ${p4e}
            ${u}
            <script src="/index.js" type="module"><\/script>
        </body>
        </html>`},y4e=t=>{const e=`
    <div style="background-color: #f0fdf4; border-right: 5px solid #22c55e; padding: 15px; margin: 20px 0; border-radius: 5px; font-family: 'Cairo', sans-serif;">
        <h4 style="color: #166534; font-weight: bold; margin-bottom: 5px; font-size: 1.1em;"> </h4>
        <p style="color: #14532d; font-size: 1.2em; line-height: 1.6; margin-bottom: 10px;">
                  : <strong>"        "</strong>.
        </p>
        <p style="color: #15803d; font-size: 0.9em; margin: 0;">
                  -:  -       
        </p>
    </div>`,n=t.indexOf("</p>");return n!==-1?t.slice(0,n+4)+e+t.slice(n+4):t+e},XU=(t,e,n,r,i,s)=>{var g,y;const a=Wc(e),o=Eo(a),c=e==="global"||!e?"":e,u=t.filter(_=>_.serviceType==="doc"&&_.slug),f=t.filter(_=>_.serviceType==="static-doc"&&_.slug),h=t.filter(_=>_.serviceType==="site"&&_.slug);let p='<main class="flex-grow container mx-auto px-4 py-8"><div class="max-w-4xl mx-auto">';p+=`<h1 class="text-4xl font-bold text-gray-800 mb-8 text-center">${Xn(o("footer.services"))}</h1>`,p+='<div class="space-y-10">';const v=(_,x,w,C)=>{if(w.length===0)return"";let S=`<section class="bg-white rounded-lg shadow-lg p-6 mb-8">
            <h2 class="text-2xl font-bold text-gray-700 mb-4 border-b pb-2 flex items-center gap-3">${x}<span>${_}</span></h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">`;return w.forEach(R=>{const D=`${BASE_URL}/${c?c+"/":""}${C}/${R.slug}/`,N="description"in R&&R.description?R.description:"";S+=`<div class="p-4 border rounded-lg bg-white flex flex-col shadow-sm transition-shadow hover:shadow-lg">
                <div class="flex-grow">
                    <a href="${D}" class="no-underline">
                        <h3 class="font-semibold text-lg text-gray-800 hover:text-green-600">${Xn(R.name)}</h3>
                        <div class="text-sm text-gray-600 mt-1 prose prose-sm max-w-none line-clamp-2">${N}</div>
                    </a>
                </div>
                ${mK(D,R.name,N,a)}
            </div>`}),S+="</div></section>",S};return p+=v(o("servicesListPage.fillableDocs"),'<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-green-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>',u,"doc"),p+=v(o("servicesListPage.staticDocs"),'<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-blue-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>',f,"static-doc"),p+=v(o("servicesListPage.siteServices"),'<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-indigo-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path></svg>',h,"site"),p+="</div></div></main>",og({title:`${o("footer.services")} | ${((y=(g=n==null?void 0:n.seo)==null?void 0:g[e||"dz"])==null?void 0:y.siteName)||"Gitut"}`,description:`        Gitut  ${e||""}.`,mainContent:p,urlPrefix:c,lang:a,siteSettings:n,pages:r,allBlogPosts:i})},YU=(t,e,n,r,i,s)=>{var p,v;const a=t.lang||"ar",o=Eo(a),l=r.filter(g=>g.enabled&&g.id!==t.id&&(g.lang===a||!g.lang&&a==="ar")),c=e&&e!=="global"?e:"";let u="";if(l.length>0){const g=iy(s.find(y=>y.placement==="SITE_DETAIL_SIDEBAR"&&y.enabled));u=`<aside class="md:col-span-1 space-y-6">
            <div class="bg-white p-4 rounded-lg shadow-lg border sticky top-24">
                <h3 class="font-bold text-lg mb-3 text-gray-800 border-b pb-2">${Xn(o("relatedPages.title"))}</h3>
                <div class="space-y-3">
                    ${l.map(y=>`<a href="${`${BASE_URL}${c?"/"+c:""}/page/${y.slug}/`}" class="block p-3 bg-gray-50 rounded-md border hover:border-green-400 hover:bg-green-50 transition-all"><p class="font-semibold text-gray-900">${Xn(y.title)}</p></a>`).join("")}
                </div>
                 ${g}
            </div>
        </aside>`}const f=`<main class="flex-grow container mx-auto px-4 py-8">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
            <article class="md:col-span-3 bg-white rounded-lg shadow-xl p-6 md:p-10">
                <header class="mb-8 border-b pb-6"><h1 class="text-4xl md:text-5xl font-bold text-gray-900 leading-tight">${Xn(t.title)}</h1></header>
                <div class="prose prose-lg max-w-none text-gray-800 leading-relaxed">${t.content}</div>
            </article>
            ${u}
        </div>
    </main>`,h=`${BASE_URL}${c?"/"+c:""}/page/${t.slug}/`;return og({title:`${t.title} | ${((v=(p=n==null?void 0:n.seo)==null?void 0:p[e||"dz"])==null?void 0:v.siteName)||"Gitut"}`,description:t.content.replace(/<[^>]*>/g,"").substring(0,160),mainContent:f,urlPrefix:c,lang:a,siteSettings:n,pages:r,allBlogPosts:i,socialShare:{url:h,title:t.title,description:t.content}})},QU=(t,e,n,r,i,s)=>{var R,D;const a=t.countryCode&&t.countryCode!=="global"?t.countryCode:"dz",o=Wc(a),l=Eo(o),u=!t.countryCode||t.countryCode==="global"?"":t.countryCode,f=e.filter(N=>{const I=N.countryCode||"global",F=t.countryCode||"global";return I===F&&N.slug}),h=f.findIndex(N=>N.id===t.id),p=[];if(h!==-1){const N=f.length;if(h===0)for(let I=1;I<=4;I++)h+I<N&&p.push(f[h+I]);else if(h===1){h-1>=0&&p.push(f[h-1]);for(let I=1;I<=3;I++)h+I<N&&p.push(f[h+I])}else h-2>=0&&p.push(f[h-2]),h-1>=0&&p.push(f[h-1]),h+1<N&&p.push(f[h+1]),h+2<N&&p.push(f[h+2])}let v="";p.length>0&&(v=`<aside class="md:col-span-1 space-y-6">
            <div class="bg-white p-4 rounded-lg shadow-lg border sticky top-24">
                <h3 class="font-bold text-lg mb-3 text-gray-800">${l("relatedServices.title")}</h3>
                <div class="space-y-3">
                    ${p.map(N=>{const F=!N.countryCode||N.countryCode==="global"?"":`/${N.countryCode}`,P=N.serviceType==="site"?"site":"doc";return`<a href="${`${BASE_URL}${F}/${P}/${N.slug}/`}" class="w-full text-right block p-3 bg-gray-50 rounded-md border hover:border-green-400 hover:bg-green-50 transition-all">
                        <p class="font-semibold text-gray-900">${Xn(N.name)}</p>
                        <div class="mt-1 prose prose-sm max-w-none line-clamp-2 compact-prose">${"description"in N&&N.description?N.description:""}</div>
                    </a>`}).join("")}
                </div>
            </div>
            <div class="sticky top-24">${iy(s.find(N=>N.placement==="SITE_DETAIL_SIDEBAR"&&N.enabled))}</div>
        </aside>`);const g=`${BASE_URL}${u?"/"+u:""}/view/${t.id}/`,y=`${u?"/"+u:""}/public-form/${t.id}/`,_=`${BASE_URL}${u?"/"+u:""}/go-to-site/internal-form/?redirect=${encodeURIComponent(y)}&name=${encodeURIComponent(` : ${t.name}`)}`;let x="description"in t&&t.description?t.description:"";o==="ar"&&(x=y4e(x));const w=`<main class="flex-grow container mx-auto px-4 py-8">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
            <div class="md:col-span-3 bg-white rounded-lg shadow-xl p-6 md:p-8 flex flex-col">
                <div class="flex-grow">
                    <header class="mb-6 border-b pb-4"><h1 class="text-4xl font-bold text-gray-900">${Xn(t.name)}</h1></header>
                    <div class="prose prose-lg max-w-none text-gray-800">${x}</div>
                    <div class="my-6">${iy(s.find(N=>N.placement==="SERVICE_DETAIL_MAIN_TOP"))}</div>
                </div>
                <div class="mt-8 pt-6 border-t">
                     <div class="mb-6">${iy(s.find(N=>N.placement==="SERVICE_DETAIL_MAIN_BOTTOM"))}</div>
                    <div class="flex flex-col sm:flex-row gap-4">
                        <a href="${g}" class="bg-red-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-red-700"></a>
                        <a href="${_}" class="bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700">/</a>
                    </div>
                </div>
            </div>
            ${v}
        </div>
    </main>`,C=t.serviceType==="site"?"site":"doc",S=`${BASE_URL}${u?"/"+u:""}/${C}/${t.slug}/`;return og({title:`${t.name} | ${((D=(R=n==null?void 0:n.seo)==null?void 0:R[a||"dz"])==null?void 0:D.siteName)||"Gitut"}`,description:"description"in t&&t.description?t.description.replace(/<[^>]*>/g,"").substring(0,160):"",mainContent:w,urlPrefix:u,lang:o,siteSettings:n,pages:r,allBlogPosts:i,socialShare:{url:S,title:t.name,description:"description"in t&&t.description?t.description:""}})},ZU=(t,e,n,r,i,s)=>{var l,c;const a=Eo(n),o=`<main class="flex-grow container mx-auto px-4 py-8">
        <div class="max-w-5xl mx-auto">
            <section class="text-center py-10 bg-white rounded-lg shadow-lg mb-8">
                <h1 class="text-4xl font-bold text-gray-800 mb-2">${Xn(a("blog.title"))}</h1>
                <p class="text-lg text-gray-600 max-w-2xl mx-auto">${Xn(a("blog.subtitle"))}</p>
            </section>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            ${t.map(u=>{const h=n==="ar"?"":`${n}/`,p=`${BASE_URL}/blog/${h}${u.slug}/`,v=(u.publishedAt||u.createdAt).toDate().toLocaleDateString("ar-DZ"),g=(u.content[n]||"").replace(/<[^>]*>/g,"").substring(0,100)+"...";return`<article class="bg-white rounded-lg shadow-md overflow-hidden transition-shadow hover:shadow-xl flex flex-col group">
                    <div class="p-6 flex flex-col flex-grow">
                        <p class="text-sm text-gray-500 mb-2">${v}</p>
                        <h3 class="text-2xl font-bold text-gray-800 mb-3 group-hover:text-green-600"><a href="${p}">${Xn(u.title)}</a></h3>
                        <p class="text-gray-600 mb-4 flex-grow">${Xn(g)}</p>
                        <a href="${p}" class="font-semibold text-green-600 hover:underline mb-4">${a("blogPostCard.readMore")} &rarr;</a>
                        ${mK(p,u.title,g,n)}
                    </div>
                </article>`}).join("")}
            </div>
        </div>
    </main>`;return og({title:`${a("footer.blog")} | ${((c=(l=e==null?void 0:e.seo)==null?void 0:l.dz)==null?void 0:c.siteName)||"Gitut"}`,description:"           .",mainContent:o,urlPrefix:s,lang:n,siteSettings:e,pages:r,allBlogPosts:i})},eO=(t,e,n,r,i,s,a,o)=>{var y,_;const l=Eo(r);Object.keys(Ir).find(x=>Ir[x].some(w=>Wc(w.code)===r));const c=t.tags?t.tags.split(",").map(x=>x.trim().toLowerCase()):[],u=e.filter(x=>x.id!==t.id&&x.tags&&x.tags.split(",").some(w=>c.includes(w.trim().toLowerCase()))).slice(0,5);let f="";u.length>0&&(f=`<aside class="md:col-span-1 space-y-6">
            <div class="bg-white p-4 rounded-lg shadow-lg border sticky top-24">
                <h3 class="font-bold text-lg mb-3 text-gray-800 border-b pb-2">${Xn(l("blogPost.relatedPostsSidebar"))}</h3>
                <div class="space-y-3">
                    ${u.map(x=>{const w=(x.publishedAt||x.createdAt).toDate().toLocaleDateString("ar-DZ"),S=r==="ar"||!1?"":`${r}/`;return`<a href="${`${BASE_URL}/blog/${S}${x.slug}/`}" class="block p-3 bg-gray-50 rounded-md border hover:border-green-400 hover:bg-green-50 transition-all">
                            <p class="font-semibold text-gray-900 line-clamp-2">${Xn(x.title)}</p>
                            <p class="text-xs text-gray-500 mt-1">${w}</p>
                        </a>`}).join("")}
                </div>
                <div class="mt-4 pt-4 border-t">${iy(i.find(x=>x.placement==="BLOG_POST_SIDEBAR"))}</div>
            </div>
        </aside>`);const h=`<main class="flex-grow container mx-auto px-4 py-8">
        <div class="max-w-6xl mx-auto">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <article class="md:col-span-3 bg-white rounded-lg shadow-xl p-6 md:p-10">
                    <header class="mb-8 border-b pb-6">
                        <h1 class="text-4xl md:text-5xl font-bold text-gray-900 leading-tight">${Xn(t.title)}</h1>
                        <div class="mt-4 text-sm text-gray-500"><span>${l("blogPost.publishedOn")} ${(t.publishedAt||t.createdAt).toDate().toLocaleDateString("ar-DZ")}</span><span class="mx-2">|</span><span>${l("blogPost.by")} ${t.author}</span></div>
                    </header>
                    <div class="prose prose-lg max-w-none text-gray-800 leading-relaxed">${t.content[r]||""}</div>
                </article>
                ${f}
            </div>
        </div>
    </main>`,v=r==="ar"||!1?"":`${r}/`,g=`${BASE_URL}/blog/${v}${t.slug}/`;return og({title:`${t.title} | ${((_=(y=n==null?void 0:n.seo)==null?void 0:y.dz)==null?void 0:_.siteName)||"GITUT"}`,description:(t.content[r]||"").replace(/<[^>]*>/g,"").substring(0,160),mainContent:h,urlPrefix:o,lang:r,siteSettings:n,pages:s,allBlogPosts:a,socialShare:{url:g,title:t.title,description:t.content[r]||""}})},tO=(t,e,n,r)=>{var l,c;const i=t||"dz",s=Wc(i),a=((l=e==null?void 0:e.seo)==null?void 0:l[i])||((c=e==null?void 0:e.seo)==null?void 0:c.default);let o=`<main class="flex-grow container mx-auto px-4 py-8">
        <section class="text-center p-8 md:p-10 bg-white rounded-xl shadow-lg">
          <h1 class="text-3xl md:text-4xl font-bold text-gray-900 mb-2">${Xn((a==null?void 0:a.mainPageTitle)||"")}</h1>
          <p class="text-base md:text-lg text-gray-700 max-w-3xl mx-auto">${Xn((a==null?void 0:a.mainPageSubtitle)||"")}</p>
        </section>
        <div id="root-find-page" class="mt-8">
          <p class="text-center text-gray-500">   ...</p>
        </div>
      </main>`;return og({title:`${a==null?void 0:a.siteName} | ${a==null?void 0:a.tagline}`,description:(a==null?void 0:a.metaDescription)||"",mainContent:o,lang:s,siteSettings:e,pages:n,allBlogPosts:r,scripts:'<script type="module">import("/index.tsx");<\/script>'})},v4e=()=>{const[t,e]=V.useState(null),[n,r]=V.useState(null),[i,s]=V.useState(!1),[a,o]=V.useState(""),[l,c]=V.useState(""),[u,f]=V.useState(!1),{codes:h,refetchAdminData:p,siteSettings:v,services:g,blogPosts:y,cafes:_,pages:x,ads:w}=un(),[C,S]=V.useState(!1),[R,D]=V.useState(""),[N,I]=V.useState(!1),[F,P]=V.useState(""),[k,U]=V.useState(!1),[O,H]=V.useState(""),[G,X]=V.useState(!1),[Z,z]=V.useState(""),[Q,B]=V.useState(!1),[j,q]=V.useState(!1),[J,Y]=V.useState(""),[te,oe]=V.useState(!1),[de,fe]=V.useState(!1),[Ce,Pe]=V.useState(!1),[pe,Me]=V.useState(""),[W,ge]=V.useState(!1),[_e,ce]=V.useState(""),[re,le]=V.useState(!1),[ke,Ne]=V.useState(!1),[ie,ue]=V.useState(""),[ve,be]=V.useState(!1),[Ie,Le]=V.useState(!1),[Te,Ue]=V.useState(!1),[Oe,Je]=V.useState(!1),[ot,lt]=V.useState(!1),[Bt,fn]=V.useState(!1),[ln,Kn]=V.useState(!1),[Rn,Vn]=V.useState(""),[yn,It]=V.useState(!1),We=V.useRef(null),[se,he]=V.useState(!1),Re=V.useRef(null),qe=V.useRef(null),st=V.useRef(null),wt=V.useRef(null),Ot=V.useRef(null),Kt=V.useRef(null);V.useEffect(()=>{const Ye=nt=>{Re.current&&!Re.current.contains(nt.target)&&be(!1),qe.current&&!qe.current.contains(nt.target)&&Le(!1),st.current&&!st.current.contains(nt.target)&&Ue(!1),wt.current&&!wt.current.contains(nt.target)&&Je(!1),Ot.current&&!Ot.current.contains(nt.target)&&lt(!1),Kt.current&&!Kt.current.contains(nt.target)&&fn(!1),We.current&&!We.current.contains(nt.target)&&Kn(!1)};return document.addEventListener("mousedown",Ye),()=>document.removeEventListener("mousedown",Ye)},[]);const[vn,mn]=V.useState({isOpen:!1,mode:"create",code:null}),[Mn,Sn]=V.useState({key:"",description:"",questionText:""}),[er,me]=V.useState(!1),[we,xe]=V.useState(""),Ee=V.useMemo(()=>{const Ye=Object.entries(D2).map(([mt,Ft])=>({id:`const-${mt}`,key:`[${mt}]`,description:Ft,isReadOnly:!0})),nt=h.map(mt=>({...mt,isReadOnly:!1})),Vt=new Set(Ye.map(mt=>mt.key)),At=nt.filter(mt=>!Vt.has(mt.key));return[...Ye,...At].sort((mt,Ft)=>mt.key.localeCompare(Ft.key))},[h]),Ae=async()=>{me(!0),xe("     ...");try{await p(),xe("   !")}catch(Ye){console.error("Manual data refresh failed:",Ye),xe("  .")}finally{me(!1),setTimeout(()=>xe(""),5e3)}},Se=async(Ye,nt,Vt)=>{e(Vt),o(""),c("");try{c(`(1/2) Generating data for ${Vt}...`);const At=await vc(Ye,nt);if(Ye==="blog"){if(typeof At!="object"||At===null)throw new Error("Blog data generation returned an invalid format.");const mt=Object.entries(At).map(([Ft,Gt])=>({path:`dist/data/json/${Ft}`,content:JSON.stringify(Gt)}));if(mt.length===0){c("     ."),e(null),setTimeout(()=>c(""),5e3);return}c(`(2/2) Publishing ${mt.length} files to GitHub...`),await ca({files:mt,commitMessage:"feat: Update public blog data"}),c(`  ${mt.length}     GitHub!`)}else{const mt=JSON.stringify(At),Ft=`dist/data/json/${Vt}`;c(`(2/2) Publishing ${Vt} to GitHub...`),await ca({files:[{path:Ft,content:mt}],commitMessage:`feat: Update ${Vt}`}),c(`  ${Vt}   GitHub!`)}}catch(At){console.error(At);const mt=At instanceof Error?At.message:String(At);o(`   ${Vt}. ${mt}`)}finally{e(null),setTimeout(()=>{c(""),o("")},5e3)}},Ve=async(Ye,nt,Vt)=>{r(Vt),o("");try{const At=await vc(Ye,nt);if(Ye==="blog"){const mt=new Sp;Object.entries(At).forEach(([Gt,kn])=>{mt.file(Gt,JSON.stringify(kn))});const Ft=await mt.generateAsync({type:"blob"});fp.saveAs(Ft,"gitut-blog-data.zip")}else{const mt=new Blob([JSON.stringify(At)],{type:"application/json"});fp.saveAs(mt,Vt)}}catch(At){console.error(At);const mt=At instanceof Error?At.message:String(At);o(`   ${Vt}. ${mt}`)}finally{r(null)}},Ze=async Ye=>{s(!0),o("");try{await Bme(Ye)}catch(nt){console.error(nt),o(`Failed to generate zip file for ${Ye}.`)}finally{s(!1)}},$e=async Ye=>{It(!0),o(""),c("");const nt=Ye==="global"?"global":Ye;try{const Vt="https://gitut.com",At=nt==="global"?"":`/${nt}`,mt=nt==="global"?"dist/sitemap":`dist/sitemap/${nt}`,Ft=[],Gt=On=>{let si=`<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
`;return On.forEach(Zi=>{si+=`  <url><loc>${Zi}</loc></url>
`}),si+="</urlset>",si};c(`Generating blog sitemap for ${nt}...`);const kn=new Set;kn.add(`${Vt}${At}/blog/`),y.forEach(On=>{On.enabled&&On.slug&&(nt==="global"||!On.countryCode||On.countryCode===nt)&&kn.add(`${Vt}${At}/blog/${On.slug}`)}),Ft.push({path:`${mt}/blog.xml`,content:Gt(kn)}),c(`Generating services sitemap for ${nt}...`);const Jn=new Set;Jn.add(`${Vt}${At}/services/`),g.forEach(On=>{if(On.slug&&(nt==="global"||!On.countryCode||On.countryCode===nt)){const si=On.serviceType==="site"?"site":"doc";Jn.add(`${Vt}${At}/${si}/${On.slug}`)}}),Ft.push({path:`${mt}/services.xml`,content:Gt(Jn)}),c(`Generating profiles sitemap for ${nt}...`);const xr=new Set;nt!=="global"&&xr.add(`${Vt}${At}/find-cafe`),_.forEach(On=>{On.isProfilePublished&&On.numericId&&(nt==="global"||On.countryCode===nt)&&xr.add(`${Vt}${At}/profile/${On.numericId}`)}),Ft.push({path:`${mt}/profiles.xml`,content:Gt(xr)}),c(`Generating pages sitemap for ${nt}...`);const Qs=new Set;x.forEach(On=>{On.enabled&&On.slug&&Qs.add(`${Vt}${At}/page/${On.slug}`)}),Ft.push({path:`${mt}/pages.xml`,content:Gt(Qs)}),c(`Uploading ${Ft.length} sitemap files to GitHub...`),await ca({files:Ft,commitMessage:`feat: Update sitemaps for ${nt}`,repoConfig:{owner:"gitut-cms",repo:"files"}}),c(`Successfully published sitemaps for ${nt}!`)}catch(Vt){console.error("Sitemap publishing failed:",Vt),o(`Failed: ${Vt.message}`)}finally{It(!1),setTimeout(()=>{c(""),o("")},8e3)}},Xe=async()=>{S(!0),D("");try{const{newVersion:Ye}=await Mme();D(`      ${Ye}.      .`)}catch(Ye){const nt=Ye instanceof Error?Ye.message:"An unknown error occurred.";D(`: ${nt}`)}finally{S(!1)}},Ke=async Ye=>{I(!0),P("   ...");try{const nt=[];let Vt=g.filter(mt=>mt.slug);Ye==="global"?Vt=Vt.filter(mt=>!mt.countryCode):Ye&&(Vt=Vt.filter(mt=>mt.countryCode===Ye));const At=Vt.reduce((mt,Ft)=>{const Gt=Ft.countryCode||"global";return mt[Gt]||(mt[Gt]=[]),mt[Gt].push(Ft),mt},{});for(const mt in At){const Ft=mt==="global",Gt=At[mt],kn=XU(Gt,mt,v,x,y,w),Jn=Ft?"dist/services/index.html":`dist/${mt}/services/index.html`;nt.push({path:Jn,content:hp(kn)});for(const xr of Gt){const Qs=QU(xr,g,v,x,y,w),On=xr.serviceType==="site"?"site":"doc",si=Ft?`dist/${On}/${xr.slug}/index.html`:`dist/${mt}/${On}/${xr.slug}/index.html`;nt.push({path:si,content:hp(Qs)})}}nt.length===0?P("    ."):(P(` ${nt.length}   GitHub...`),await ca({files:nt,commitMessage:"feat: Regenerate static service pages"}),P(`  ${nt.length}   !`))}catch(nt){console.error(nt);const Vt=nt instanceof Error?nt.message:String(nt);P(`: ${Vt}`)}finally{I(!1),setTimeout(()=>P(""),8e3)}},ut=async Ye=>{U(!0),H("");try{const nt=new Sp,At=g.filter(Gt=>Gt.slug).reduce((Gt,kn)=>{const Jn=kn.countryCode||"global";return Gt[Jn]||(Gt[Jn]=[]),Gt[Jn].push(kn),Gt},{});for(const Gt in At){const kn=Gt==="global",Jn=At[Gt],xr=kn?nt:nt.folder(Gt);if(!xr)continue;for(const si of Jn){const Zi=QU(si,g,v,x,y,w),So=xr.folder(si.serviceType==="site"?"site":"doc"),Ha=So==null?void 0:So.folder(si.slug);Ha==null||Ha.file("index.html",Zi)}const Qs=XU(Jn,Gt,v,x,y,w),On=xr.folder("services");On==null||On.file("index.html",Qs)}const mt=await nt.generateAsync({type:"blob"}),Ft=Ye?`gitut-service-pages-${Ye}.zip`:"gitut-service-pages-all.zip";fp.saveAs(mt,Ft)}catch(nt){console.error(nt),H("    ZIP.")}finally{U(!1)}},xt=async Ye=>{X(!0),z(Ye?`    : ${Ye}`:"   ...");try{const nt=[],Vt=y.filter(mt=>mt.enabled&&mt.slug);for(const mt of Vt)if(mt.content)for(const Ft in mt.content){if(Ye&&Ft!==Ye)continue;const Gt=eO(mt,y,v,Ft,w,x,y,""),Jn=`dist/blog/${Ft==="ar"?"":`${Ft}/`}${mt.slug}/index.html`;nt.push({path:Jn,content:hp(Gt)})}const At=Vt.reduce((mt,Ft)=>(Ft.content&&Object.keys(Ft.content).forEach(Gt=>{Ye&&Gt!==Ye||(mt[Gt]||(mt[Gt]=[]),mt[Gt].push(Ft))}),mt),{});for(const mt in At){const Ft=ZU(At[mt],v,mt,x,y,""),Gt=`dist/blog/${mt==="ar"?"index.html":`${mt}/index.html`}`;nt.push({path:Gt,content:hp(Ft)})}nt.length===0?z("      ."):(z(` ${nt.length}   GitHub...`),await ca({files:nt,commitMessage:`feat: Regenerate static blog pages${Ye?` for ${Ye}`:""}`}),z(`  ${nt.length}   !`))}catch(nt){console.error(nt);const Vt=nt instanceof Error?nt.message:String(nt);z(`: ${Vt}`)}finally{X(!1),setTimeout(()=>z(""),8e3)}},kt=async()=>{B(!0);try{const Ye=new Sp,nt=Ye.folder("blog");if(!nt)throw new Error("Could not create blog folder in zip");const Vt=y.filter(Ft=>Ft.enabled&&Ft.slug);for(const Ft of Vt)if(Ft.content)for(const Gt in Ft.content){const kn=eO(Ft,y,v,Gt,w,x,y,""),Jn=Gt==="ar"?nt:nt.folder(Gt),xr=Jn==null?void 0:Jn.folder(Ft.slug);xr==null||xr.file("index.html",kn)}const At=Vt.reduce((Ft,Gt)=>(Gt.content&&Object.keys(Gt.content).forEach(kn=>{Ft[kn]||(Ft[kn]=[]),Ft[kn].push(Gt)}),Ft),{});for(const Ft in At){const Gt=ZU(At[Ft],v,Ft,x,y,"");if(Ft==="ar")nt.file("index.html",Gt);else{const kn=nt.folder(Ft);kn==null||kn.file("index.html",Gt)}}const mt=await Ye.generateAsync({type:"blob"});fp.saveAs(mt,"gitut-blog-pages.zip")}catch(Ye){console.error(Ye)}finally{B(!1)}},vt=async Ye=>{q(!0),Y(Ye?`    : ${Ye}`:"    ...");try{const nt=[],Vt=Ir.en.map(mt=>mt.code),At=Ye&&Ye!=="global"?[Ye]:Vt;for(const mt of x)if(mt.enabled&&mt.slug)for(const Ft of At){const Gt=Wc(Ft);if(mt.lang&&mt.lang!==Gt)continue;const kn=YU(mt,Ft,v,x,y,w),Jn=`dist/${Ft}/page/${mt.slug}/index.html`;nt.push({path:Jn,content:hp(kn)})}nt.length===0?Y("    ."):(Y(` ${nt.length}    GitHub...`),await ca({files:nt,commitMessage:`feat: Regenerate static pages${Ye?` for ${Ye}`:""}`}),Y(`  ${nt.length}  !`))}catch(nt){console.error(nt);const Vt=nt instanceof Error?nt.message:String(nt);Y(`: ${Vt}`)}finally{q(!1),setTimeout(()=>Y(""),8e3)}},pt=async()=>{var Ye;oe(!0);try{const nt=new Sp,Vt=Ir.en.map(mt=>mt.code);for(const mt of x)if(mt.enabled&&mt.slug)for(const Ft of Vt){const Gt=YU(mt,Ft,v,x,y,w),kn=nt.folder(Ft);if(!kn)continue;const Jn=(Ye=kn.folder("page"))==null?void 0:Ye.folder(mt.slug);Jn==null||Jn.file("index.html",Gt)}const At=await nt.generateAsync({type:"blob"});fp.saveAs(At,"gitut-static-pages.zip")}catch(nt){console.error(nt)}finally{oe(!1)}},en=async()=>{fe(!0),Me("Generating homepage files...");try{const Ye=[],Vt=[null,...Ir.en.map(At=>At.code)];for(const At of Vt){const mt=tO(At,v,x,y),Ft=At?`dist/${At}/index.html`:"dist/index.html";Ye.push({path:Ft,content:hp(mt)})}Me(`Uploading ${Ye.length} files to GitHub...`),await ca({files:Ye,commitMessage:"feat: Regenerate static homepages"}),Me(`Successfully published ${Ye.length} homepages!`)}catch(Ye){console.error("Homepage publishing failed:",Ye),Me(`: ${Ye.message}`)}finally{fe(!1),setTimeout(()=>Me(""),8e3)}},Un=async()=>{Pe(!0),Me("");try{const Ye=new Sp,Vt=[null,...Ir.en.map(mt=>mt.code)];for(const mt of Vt){const Ft=tO(mt,v,x,y),Gt=mt?`${mt}/index.html`:"index.html";Ye.file(Gt,Ft)}const At=await Ye.generateAsync({type:"blob"});fp.saveAs(At,"gitut-homepages.zip")}catch(Ye){console.error("Homepage download failed:",Ye),Me(`: ${Ye.message}`)}finally{Pe(!1)}},An=async Ye=>{le(!0),ue(Ye?`   JSON  : ${Ye}`:"   JSON ...");try{const nt=await vc("documents-json",Ye||"global");!nt||!Array.isArray(nt)||nt.length===0?ue("     ."):(ue(` ${nt.length}  JSON   GitHub...`),await ca({files:nt,commitMessage:`feat: Update individual document JSON files${Ye?` for ${Ye}`:""}`,repoConfig:{owner:"gitut-cms",repo:"files"}}),ue(`  ${nt.length}  !`))}catch(nt){console.error("Document JSON publishing failed:",nt);const Vt=nt instanceof Error?nt.message:String(nt);ue(`: ${Vt}`)}finally{le(!1),setTimeout(()=>ue(""),8e3)}},Wn=Ye=>{Ye?(Sn({key:Ye.key,description:Ye.description,questionText:Ye.questionText||""}),mn({isOpen:!0,mode:"edit",code:Ye})):(Sn({key:"",description:"",questionText:""}),mn({isOpen:!0,mode:"create",code:null}))},Ca=async Ye=>{Ye.preventDefault();const nt={...Mn,key:`[${Mn.key.replace(/\[|\]/g,"")}]`};try{vn.mode==="create"?await Z0.create(nt):vn.code&&await Z0.update(vn.code.id,nt),await p(),mn({isOpen:!1,mode:"create",code:null})}catch(Vt){console.error(Vt),alert("  .")}},za=async Ye=>{window.confirm("  ")&&(await Z0.delete(Ye),await p())};return d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"   "}),d.jsxs("div",{className:"mb-6 bg-white p-4 rounded-lg shadow-md border flex items-center gap-4",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{id:"forcePublishAll",type:"checkbox",checked:se,onChange:Ye=>he(Ye.target.checked),className:"h-5 w-5 text-green-600 border-gray-300 rounded focus:ring-green-500"}),d.jsx("label",{htmlFor:"forcePublishAll",className:"mr-3 text-gray-700 font-semibold cursor-pointer select-none",children:"   (    )"})]}),d.jsx("p",{className:"text-xs text-gray-500",children:"           (  4 ).         ."})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("section",{className:"bg-white p-6 rounded-lg shadow-md border",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:"  "}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"      JSON     .        ."}),d.jsx("div",{className:"space-y-3",children:f4e.map(Ye=>d.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-3 rounded-md",children:[d.jsx("span",{className:"font-semibold text-gray-700",children:Ye.label}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>Ve(Ye.dataType,Ye.countryCode,Ye.fileName),disabled:!!t||n===Ye.fileName,title:" ",className:"bg-gray-600 text-white font-semibold py-1 px-3 rounded-md hover:bg-gray-700 disabled:bg-gray-400 text-sm flex items-center gap-2",children:n===Ye.fileName?d.jsx(Tt,{className:"animate-spin"}):d.jsx($o,{})}),Ye.dataType==="documents"?d.jsxs("div",{className:"relative",ref:Kt,children:[d.jsxs("div",{className:"flex",children:[d.jsxs("button",{onClick:()=>An("global"),disabled:re||ke,className:"bg-blue-600 text-white font-semibold py-1 px-3 rounded-r-md hover:bg-blue-700 disabled:bg-gray-400 text-sm flex items-center gap-2",children:[re?d.jsx(Tt,{className:"animate-spin"}):d.jsx(dp,{}),d.jsx("span",{children:"Global"})]}),d.jsx("button",{onClick:()=>fn(!Bt),disabled:re||ke,className:"bg-blue-700 text-white font-bold px-2 rounded-l-md hover:bg-blue-800 disabled:bg-gray-500 border-r border-blue-500",children:d.jsx(Qd,{})})]}),Bt&&d.jsxs("div",{className:"absolute left-0 mt-1 w-48 bg-white rounded-md shadow-lg border z-10 max-h-60 overflow-y-auto",children:[d.jsx("button",{onClick:()=>An("global"),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 font-bold border-b",children:"Global ()"}),Ir.en.map(nt=>d.jsxs("button",{onClick:()=>An(nt.code),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-2",children:[d.jsx("span",{children:nt.flag})," ",nt.name]},nt.code))]})]}):d.jsxs("button",{onClick:()=>Se(Ye.dataType,Ye.countryCode,Ye.fileName),disabled:!!t||!!n,className:"bg-blue-600 text-white font-semibold py-1 px-3 rounded-md hover:bg-blue-700 disabled:bg-gray-400 text-sm flex items-center gap-2",children:[t===Ye.fileName?d.jsx(Tt,{className:"animate-spin"}):d.jsx(dp,{}),d.jsx("span",{children:""})]})]})]},Ye.fileName))}),l&&d.jsx("p",{className:"text-green-600 text-sm mt-3",children:l}),a&&d.jsx("p",{className:"text-red-600 text-sm mt-3",children:a})]}),d.jsxs("section",{className:"bg-white p-6 rounded-lg shadow-md border",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:"    ZIP"}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"        (JSON  PDF)       ."}),d.jsxs("div",{className:"relative",ref:qe,children:[d.jsxs("button",{onClick:()=>Le(Ye=>!Ye),className:"w-full bg-gray-700 text-white font-bold py-3 px-5 rounded-lg hover:bg-gray-800 transition-colors flex items-center justify-center gap-2",disabled:i,children:[i?d.jsx(Tt,{className:"animate-spin"}):d.jsx($o,{}),d.jsx("span",{children:i?" ...":"  "}),d.jsx(Qd,{})]}),Ie&&d.jsx("div",{className:"absolute top-full right-0 mt-2 w-full bg-white rounded-lg shadow-xl border z-10",children:d.jsx("ul",{className:"py-1 max-h-60 overflow-y-auto",children:Ir.en.map(Ye=>d.jsx("li",{children:d.jsxs("button",{onClick:()=>Ze(Ye.code),className:"w-full text-right px-4 py-2 hover:bg-gray-100 flex items-center gap-3",children:[d.jsx("span",{className:"text-xl",children:Ye.flag}),d.jsx("span",{children:Ye.name})]})},Ye.code))})})]})]}),d.jsxs("section",{className:"bg-white p-6 rounded-lg shadow-md border md:col-span-2",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:"  "}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex gap-2 p-3 bg-gray-50 rounded-md items-center",children:[d.jsx("span",{className:"font-semibold text-gray-700 flex-1",children:" "}),d.jsx("button",{onClick:Un,disabled:de||Ce,title:" ZIP",className:"bg-gray-600 text-white font-bold p-3 rounded-lg hover:bg-gray-700 disabled:bg-gray-400",children:d.jsx($o,{})}),d.jsx("button",{onClick:en,disabled:de||Ce,className:"bg-green-600 text-white font-bold p-3 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:de?d.jsx(Tt,{className:"animate-spin"}):""})]}),d.jsxs("div",{className:"flex gap-2 p-3 bg-gray-50 rounded-md items-center",children:[d.jsx("span",{className:"font-semibold text-gray-700 flex-1",children:" "}),d.jsx("button",{onClick:()=>ut(),disabled:N||k,title:" ZIP",className:"bg-gray-600 text-white font-bold p-3 rounded-lg hover:bg-gray-700 disabled:bg-gray-400",children:d.jsx($o,{})}),d.jsxs("div",{className:"relative",ref:wt,children:[d.jsxs("div",{className:"flex",children:[d.jsxs("button",{onClick:()=>Ke("global"),disabled:N||k,className:"bg-green-600 text-white font-bold p-3 rounded-r-lg hover:bg-green-700 disabled:bg-gray-400 flex items-center gap-2",children:[N?d.jsx(Tt,{className:"animate-spin"}):d.jsx(dp,{}),d.jsx("span",{children:"Global"})]}),d.jsx("button",{onClick:()=>Je(!Oe),disabled:N||k,className:"bg-green-700 text-white font-bold p-3 rounded-l-lg hover:bg-green-800 disabled:bg-gray-500 border-r border-green-500",children:d.jsx(Qd,{})})]}),Oe&&d.jsxs("div",{className:"absolute left-0 mt-1 w-48 bg-white rounded-md shadow-lg border z-10 max-h-60 overflow-y-auto",children:[d.jsx("button",{onClick:()=>Ke("global"),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 font-bold border-b",children:"Global ()"}),Ir.en.map(Ye=>d.jsxs("button",{onClick:()=>Ke(Ye.code),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-2",children:[d.jsx("span",{children:Ye.flag})," ",Ye.name]},Ye.code))]})]})]}),d.jsxs("div",{className:"flex gap-2 p-3 bg-gray-50 rounded-md items-center",children:[d.jsx("span",{className:"font-semibold text-gray-700 flex-1",children:""}),d.jsx("button",{onClick:kt,disabled:G||Q,title:" ZIP",className:"bg-gray-600 text-white font-bold p-3 rounded-lg hover:bg-gray-700 disabled:bg-gray-400",children:d.jsx($o,{})}),d.jsxs("div",{className:"relative",ref:st,children:[d.jsxs("div",{className:"flex",children:[d.jsxs("button",{onClick:()=>xt(),disabled:G||Q,className:"bg-green-600 text-white font-bold p-3 rounded-r-lg hover:bg-green-700 disabled:bg-gray-400 flex items-center gap-2",children:[G?d.jsx(Tt,{className:"animate-spin"}):d.jsx(dp,{}),d.jsx("span",{children:"Global"})]}),d.jsx("button",{onClick:()=>Ue(!Te),disabled:G||Q,className:"bg-green-700 text-white font-bold p-3 rounded-l-lg hover:bg-green-800 disabled:bg-gray-500 border-r border-green-500",children:d.jsx(Qd,{})})]}),Te&&d.jsxs("div",{className:"absolute left-0 mt-1 w-48 bg-white rounded-md shadow-lg border z-10 max-h-60 overflow-y-auto",children:[d.jsx("button",{onClick:()=>xt(),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 font-bold border-b",children:"Global ()"}),Ir.en.map(Ye=>d.jsxs("button",{onClick:()=>xt(Ye.code),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-2",children:[d.jsx("span",{children:Ye.flag})," ",Ye.name]},Ye.code))]})]})]}),d.jsxs("div",{className:"flex gap-2 p-3 bg-gray-50 rounded-md items-center",children:[d.jsx("span",{className:"font-semibold text-gray-700 flex-1",children:" "}),d.jsx("button",{onClick:pt,disabled:j||te,title:" ZIP",className:"bg-gray-600 text-white font-bold p-3 rounded-lg hover:bg-gray-700 disabled:bg-gray-400",children:d.jsx($o,{})}),d.jsxs("div",{className:"relative",ref:Ot,children:[d.jsxs("div",{className:"flex",children:[d.jsxs("button",{onClick:()=>vt("global"),disabled:j||te,className:"bg-green-600 text-white font-bold p-3 rounded-r-lg hover:bg-green-700 disabled:bg-gray-400 flex items-center gap-2",children:[j?d.jsx(Tt,{className:"animate-spin"}):d.jsx(dp,{}),d.jsx("span",{children:"Global"})]}),d.jsx("button",{onClick:()=>lt(!ot),disabled:j||te,className:"bg-green-700 text-white font-bold p-3 rounded-l-lg hover:bg-green-800 disabled:bg-gray-500 border-r border-green-500",children:d.jsx(Qd,{})})]}),ot&&d.jsxs("div",{className:"absolute left-0 mt-1 w-48 bg-white rounded-md shadow-lg border z-10 max-h-60 overflow-y-auto",children:[d.jsx("button",{onClick:()=>vt("global"),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 font-bold border-b",children:"Global ()"}),Ir.en.map(Ye=>d.jsxs("button",{onClick:()=>vt(Ye.code),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-2",children:[d.jsx("span",{children:Ye.flag})," ",Ye.name]},Ye.code))]})]})]})]}),d.jsx("p",{className:"text-xs text-center mt-2 text-gray-500",children:"     HTML    GitHub    ZIP."}),F&&d.jsx("p",{className:"text-blue-600 text-sm mt-2 text-center",children:F}),pe&&d.jsx("p",{className:"text-blue-600 text-sm mt-2 text-center",children:pe}),Z&&d.jsx("p",{className:"text-blue-600 text-sm mt-2 text-center",children:Z}),J&&d.jsx("p",{className:"text-blue-600 text-sm mt-2 text-center",children:J}),ie&&d.jsx("p",{className:"text-blue-600 text-sm mt-2 text-center",children:ie})]}),d.jsxs("section",{className:"bg-white p-6 rounded-lg shadow-md border md:col-span-2",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:" "}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsx("button",{onClick:Xe,disabled:C,className:"bg-yellow-500 text-white font-bold p-4 rounded-lg hover:bg-yellow-600 disabled:bg-gray-400",children:C?d.jsx(Tt,{className:"animate-spin"}):"  "}),d.jsxs("div",{className:"relative",ref:We,children:[d.jsxs("div",{className:"flex w-full",children:[d.jsxs("button",{onClick:()=>$e("global"),disabled:yn,className:"bg-blue-500 text-white font-bold p-4 rounded-r-lg hover:bg-blue-600 disabled:bg-gray-400 flex-grow flex items-center justify-center gap-2",children:[yn?d.jsx(Tt,{className:"animate-spin"}):d.jsx(dp,{}),d.jsx("span",{children:" Sitemaps (Global)"})]}),d.jsx("button",{onClick:()=>Kn(!ln),disabled:yn,className:"bg-blue-600 text-white font-bold px-4 rounded-l-lg hover:bg-blue-700 disabled:bg-gray-500 border-r border-blue-400",children:d.jsx(Qd,{})})]}),ln&&d.jsxs("div",{className:"absolute left-0 mt-1 w-full bg-white rounded-md shadow-lg border z-10 max-h-60 overflow-y-auto",children:[d.jsx("button",{onClick:()=>{Kn(!1),$e("global")},className:"block w-full text-left px-4 py-3 text-sm text-gray-700 hover:bg-gray-100 font-bold border-b",children:"Global ()"}),Ir.en.map(Ye=>d.jsxs("button",{onClick:()=>{Kn(!1),$e(Ye.code)},className:"block w-full text-left px-4 py-3 text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-2",children:[d.jsx("span",{children:Ye.flag})," ",Ye.name]},Ye.code))]})]}),d.jsx("button",{onClick:Ae,disabled:er,className:"bg-indigo-500 text-white font-bold p-4 rounded-lg hover:bg-indigo-600 disabled:bg-gray-400",children:er?d.jsx(Tt,{className:"animate-spin"}):"  "})]}),R&&d.jsx("p",{className:"text-center mt-2 text-sm text-blue-700",children:R}),we&&d.jsx("p",{className:"text-center mt-2 text-sm text-indigo-700",children:we}),Rn&&d.jsx("p",{className:"text-center mt-2 text-sm text-blue-600",children:Rn})]}),d.jsxs("section",{className:"bg-white p-6 rounded-lg shadow-md border md:col-span-2",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h2",{className:"text-xl font-bold",children:"  (Placeholders)"}),d.jsxs("button",{onClick:()=>Wn(null),className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700",children:[d.jsx(xc,{}),"  "]})]}),d.jsx("div",{className:"max-h-96 overflow-y-auto pr-2",children:d.jsxs("table",{className:"w-full text-right text-sm",children:[d.jsx("thead",{className:"sticky top-0 bg-gray-100",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-2 border-b",children:""}),d.jsx("th",{className:"p-2 border-b",children:""}),d.jsx("th",{className:"p-2 border-b",children:""})]})}),d.jsx("tbody",{children:Ee.map(Ye=>d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"p-2 border-b font-mono text-gray-700",children:Ye.key}),d.jsx("td",{className:"p-2 border-b text-gray-600",children:Ye.description}),d.jsx("td",{className:"p-2 border-b",children:Ye.isReadOnly?d.jsxs("span",{className:"text-xs text-gray-400 flex items-center gap-1",children:[d.jsx(zH,{}),""]}):d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>Wn(Ye),className:"text-blue-600 hover:underline",children:d.jsx(Tw,{})}),d.jsx("button",{onClick:()=>za(Ye.id),className:"text-red-600 hover:underline",children:d.jsx(dh,{})})]})})]},Ye.id))})]})})]})]}),vn.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg",children:d.jsxs("form",{onSubmit:Ca,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:vn.mode==="create"?"  ":" "})}),d.jsxs("div",{className:"p-6 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" ( )"}),d.jsx("input",{type:"text",value:Mn.key.replace(/\[|\]/g,""),onChange:Ye=>Sn(nt=>({...nt,key:Ye.target.value})),required:!0,className:"w-full p-2 border rounded-md",dir:"ltr"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),d.jsx("input",{type:"text",value:Mn.description,onChange:Ye=>Sn(nt=>({...nt,description:Ye.target.value})),required:!0,className:"w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"   ()"}),d.jsx("input",{type:"text",value:Mn.questionText||"",onChange:Ye=>Sn(nt=>({...nt,questionText:Ye.target.value})),className:"w-full p-2 border rounded-md"})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:()=>mn({isOpen:!1,mode:"create",code:null}),className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg",children:""}),d.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg",children:""})]})]})})})]})};if(Sr.Quill){const t=Sr.Quill.import("attributors/style/size");t.whitelist=["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px"],Sr.Quill.register("attributors/style/size",t,!0)}const c0={siteId:"",siteName:"",siteUrl:"",fields:[]},nO=t=>t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,""),x4e=()=>{var X;const{sites:t}=un(),[e,n]=V.useState(t),[r,i]=V.useState({isOpen:!1,mode:"create",site:null}),[s,a]=V.useState({name:"",url:"",type:"template",countryCode:"",description:"",tags:"",slug:"",jsonTemplate:c0}),[o,l]=V.useState(!1),[c,u]=V.useState(`[
  
]`),[f,h]=V.useState(""),[p,v]=V.useState(!1),[g,y]=V.useState("builder"),[_,x]=V.useState(""),[w,C]=V.useState("");V.useEffect(()=>{n(t)},[t]),V.useEffect(()=>{if(r.isOpen&&s.type==="template"&&g==="builder")try{x(JSON.stringify(s.jsonTemplate||c0,null,2)),C("")}catch{x("{}"),C("Error generating JSON string from form data.")}},[s.jsonTemplate,g,r.isOpen,s.type]);const S=()=>{y("builder"),a({name:"",url:"",type:"template",countryCode:"",description:"",tags:"",slug:"",jsonTemplate:c0}),i({isOpen:!0,mode:"create",site:null})},R=Z=>{y("builder");const z=Z.jsonTemplate||{...c0,siteName:Z.name,siteUrl:Z.url,siteId:Z.id};a({...Z,countryCode:Z.countryCode||"",description:Z.description||"",tags:Z.tags||"",slug:Z.slug||"",jsonTemplate:z}),x(JSON.stringify(z,null,2)),i({isOpen:!0,mode:"edit",site:Z})},D=()=>{i({isOpen:!1,mode:"create",site:null})},N=(Z,z,Q)=>{a(B=>{var q;const j=[...((q=B.jsonTemplate)==null?void 0:q.fields)||[]];return j[Z]={...j[Z],[z]:Q},{...B,jsonTemplate:{...B.jsonTemplate,fields:j}}})},I=()=>{a(Z=>{var z;return{...Z,jsonTemplate:{...Z.jsonTemplate,fields:[...((z=Z.jsonTemplate)==null?void 0:z.fields)||[],{fieldId:"fullName",label:"",cssSelector:"",action:"write",type:"text"}]}}})},F=Z=>{a(z=>{var Q;return{...z,jsonTemplate:{...z.jsonTemplate,fields:(((Q=z.jsonTemplate)==null?void 0:Q.fields)||[]).filter((B,j)=>j!==Z)}}})},P=Z=>{const z=Z.target.value;x(z);try{const Q=JSON.parse(z);if(typeof Q!="object"||Q===null){C("Input must be a valid JSON object.");return}let B,j=!1;Q.jsonTemplate&&typeof Q.jsonTemplate=="object"&&Array.isArray(Q.jsonTemplate.fields)?(B=Q.jsonTemplate,j=!0):Array.isArray(Q.fields)&&(B=Q),B?(a(j?q=>({...q,name:Q.name||q.name,url:Q.url||q.url,countryCode:Q.countryCode||q.countryCode,type:Q.type==="template"?"template":q.type,description:Q.description||q.description,tags:Q.tags||q.tags,jsonTemplate:B}):q=>({...q,jsonTemplate:B})),C("")):C('JSON must be an object with a "fields" array, or a site object containing a "jsonTemplate" key.')}catch{C("Invalid JSON format.")}},k=async Z=>{var B,j,q;if(Z.preventDefault(),g==="raw"&&w){alert(`Please fix the JSON error before saving: ${w}`);return}let z=nO(s.name);if((r.mode==="create"||r.mode==="edit"&&s.name!==((B=r.site)==null?void 0:B.name))&&e.find(Y=>Y.slug===z)){if(!window.confirm("     (    ).        "))return;z=`${z}-${Date.now().toString().slice(-6)}`}if((r.mode==="create"||r.mode==="edit"&&s.url!==((j=r.site)==null?void 0:j.url))&&e.find(Y=>Y.url===s.url)&&!window.confirm("    .      "))return;const Q={...s,slug:z,countryCode:s.countryCode||void 0,jsonTemplate:{...s.jsonTemplate||c0,siteName:s.name,siteUrl:s.url,siteId:((q=r.site)==null?void 0:q.id)||s.name.toLowerCase().replace(/\s+/g,"-")}};Q.type==="static"&&(Q.jsonTemplate=void 0),r.mode==="create"?(await pf.create(Q),n(J=>[...J,{...Q,id:Q.name}])):r.site&&(await pf.update(r.site.id,Q),n(J=>J.map(Y=>Y.id===r.site.id?{...Q,id:r.site.id}:Y))),alert(" .       ."),D()},U=Z=>{window.confirm("        ")&&(pf.delete(Z),n(z=>z.filter(Q=>Q.id!==Z)))},O=async()=>{h(""),v(!0);let Z=0;try{const z=JSON.parse(c);if(!Array.isArray(z))throw new Error("The provided input must be a valid JSON array.");for(const Q of z){if(!Q.name||!Q.url||!Q.type){console.warn("Skipping invalid site object in bulk add:",Q);continue}const B={...Q,slug:nO(Q.name)};await pf.create(B),n(j=>[...j,{...B,id:B.name}]),Z++}alert(`  ${Z}  .`),l(!1),u(`[
  
]`)}catch(z){h(`: ${z.message}`)}finally{v(!1)}},H=Object.keys(di);return d.jsxs("div",{children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:" "}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>l(!0),className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"+    (JSON)"}),d.jsx("button",{onClick:S,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"+   "})]})]}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:e.map(Z=>{var z,Q;return d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:Z.name}),d.jsx("td",{className:"p-3 text-gray-600",children:Z.type==="static"?"":""}),d.jsx("td",{className:"p-3 text-gray-600",children:Z.countryCode||""}),d.jsx("td",{className:"p-3 text-gray-600 text-xs",children:Z.type==="template"?`${((Q=(z=Z.jsonTemplate)==null?void 0:z.fields)==null?void 0:Q.length)||0} `:"-"}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse whitespace-nowrap",children:[Z.slug&&d.jsx("a",{href:`/${Z.countryCode||"dz"}/site/${Z.slug}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>R(Z),className:"text-green-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>U(Z.id),className:"text-red-600 hover:underline text-sm font-semibold",children:""})]})]},Z.id)})})]})})}),o&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl flex flex-col h-[90vh]",children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:"    JSON"})}),d.jsxs("div",{className:"p-6 space-y-4 flex-grow overflow-y-auto",children:[d.jsx("p",{className:"text-sm text-gray-600",children:"  JSON   .        ."}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"bulkJson",className:"block text-sm font-medium text-gray-700 mb-1",children:"JSON Array of Sites"}),d.jsx("textarea",{id:"bulkJson",value:c,onChange:Z=>u(Z.target.value),className:"w-full h-96 font-mono text-sm bg-gray-900 text-green-300 p-2 rounded-md",dir:"ltr",placeholder:`[
  {
    "name": "ANEM Wassit Online",
    "url": "https://wassitonline.anem.dz/",
    "type": "template",
    "countryCode": "dz",
    "jsonTemplate": {
      "fields": [
        { "fieldId": "nationalId", "label": "NIN", "cssSelector": "#nin", "action": "write", "type": "text" },
        { "fieldId": "dob", "label": "Date of Birth", "cssSelector": "#ddn", "action": "write", "type": "date" }
      ]
    }
  },
  {
    "name": "Google",
    "url": "https://google.com",
    "type": "static"
  }
]`}),f&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:f})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:()=>l(!1),className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"button",onClick:O,disabled:p,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 disabled:bg-gray-400",children:p?d.jsx(Tt,{className:"animate-spin"}):"  "})]})]})}),r.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl",children:d.jsxs("form",{onSubmit:k,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:r.mode==="create"?"  ":" "})}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsxs("select",{id:"type",value:s.type,onChange:Z=>a(z=>({...z,type:Z.target.value})),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",children:[d.jsx("option",{value:"template",children:"  ( )"}),d.jsx("option",{value:"static",children:"  (  )"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"countryCode",className:"block text-sm font-medium text-gray-700 mb-1",children:" ( : dz)"}),d.jsx("input",{type:"text",id:"countryCode",value:s.countryCode||"",onChange:Z=>a(z=>({...z,countryCode:Z.target.value.toLowerCase()})),placeholder:"  ",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",id:"name",value:s.name,onChange:Z=>a(z=>({...z,name:Z.target.value})),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"url",className:"block text-sm font-medium text-gray-700 mb-1",children:"  (URL)"}),d.jsx("input",{type:"url",id:"url",value:s.url,onChange:Z=>a(z=>({...z,url:Z.target.value})),required:!0,placeholder:"https://example.com",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"  ( )"}),d.jsx(Sr,{theme:"snow",value:s.description||"",onChange:Z=>a(z=>({...z,description:Z})),modules:{toolbar:[[{size:["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px",!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"},{align:[]}],["link","image","video"],["clean"]]}})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700 mb-1",children:" ( )"}),d.jsx("input",{type:"text",id:"tags",value:s.tags||"",onChange:Z=>a(z=>({...z,tags:Z.target.value})),placeholder:": , , anem",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"         ."})]}),s.type==="template"&&d.jsxs("fieldset",{className:"border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-gray-700",children:"   (JSON)"}),d.jsxs("div",{className:"flex gap-1 mb-3 border-b pb-3 -mx-4 px-4",children:[d.jsx("button",{type:"button",onClick:()=>y("builder"),className:`px-3 py-1 text-sm rounded-full ${g==="builder"?"bg-green-600 text-white":"bg-gray-200"}`,children:" "}),d.jsx("button",{type:"button",onClick:()=>y("raw"),className:`px-3 py-1 text-sm rounded-full ${g==="raw"?"bg-green-600 text-white":"bg-gray-200"}`,children:" JSON "})]}),g==="builder"?d.jsxs("div",{className:"space-y-3 mt-2",children:[(((X=s.jsonTemplate)==null?void 0:X.fields)||[]).map((Z,z)=>d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 p-3 bg-gray-50 rounded-md border relative",children:[d.jsx("button",{type:"button",onClick:()=>F(z),className:"absolute top-2 left-2 bg-red-100 text-red-600 h-6 w-6 flex items-center justify-center rounded-full hover:bg-red-200",children:""}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"  (Label)"}),d.jsx("input",{type:"text",value:Z.label,onChange:Q=>N(z,"label",Q.target.value),required:!0,className:"block w-full p-2 border rounded-md text-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"  (Field ID)"}),d.jsx("select",{value:Z.fieldId,onChange:Q=>N(z,"fieldId",Q.target.value),className:"block w-full p-2 border rounded-md text-sm bg-white",children:H.map(Q=>d.jsx("option",{value:Q,children:di[Q].label},Q))})]}),d.jsxs("div",{className:"lg:col-span-3 grid grid-cols-1 md:grid-cols-3 gap-2",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-600",children:" CSS"}),d.jsx("input",{type:"text",value:Z.cssSelector,onChange:Q=>N(z,"cssSelector",Q.target.value),required:!0,placeholder:"#id, .class",className:"block w-full p-2 border rounded-md text-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-600",children:" "}),d.jsxs("select",{value:Z.action,onChange:Q=>N(z,"action",Q.target.value),className:"block w-full p-2 border rounded-md text-sm bg-white",children:[d.jsx("option",{value:"write",children:""}),d.jsx("option",{value:"select",children:""}),d.jsx("option",{value:"click",children:""})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-600",children:" "}),d.jsxs("select",{value:Z.type,onChange:Q=>N(z,"type",Q.target.value),className:"block w-full p-2 border rounded-md text-sm bg-white",children:[d.jsx("option",{value:"text",children:"Text"}),d.jsx("option",{value:"textarea",children:"Textarea"}),d.jsx("option",{value:"date",children:"Date"}),d.jsx("option",{value:"select",children:"Select"}),d.jsx("option",{value:"checkbox",children:"Checkbox"}),d.jsx("option",{value:"radio",children:"Radio"}),d.jsx("option",{value:"email",children:"Email"}),d.jsx("option",{value:"tel",children:"Tel"}),d.jsx("option",{value:"number",children:"Number"})]})]})]})]},z)),d.jsxs("button",{type:"button",onClick:I,className:"mt-2 text-sm bg-green-100 text-green-800 font-semibold py-2 px-3 rounded-lg hover:bg-green-200 transition-colors flex items-center gap-2",children:[d.jsx(xc,{}),"   "]})]}):d.jsxs("div",{children:[d.jsx("textarea",{value:_,onChange:P,className:"w-full h-64 font-mono text-sm bg-gray-900 text-green-300 p-2 rounded-md",dir:"ltr"}),w&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:w})]})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:D,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:""})]})]})})})]})},gK=window.SpeechRecognition||window.webkitSpeechRecognition,l4=!!gK,yK=({formFields:t,onFieldUpdate:e})=>{const[n,r]=V.useState("idle"),[i,s]=V.useState(""),[a,o]=V.useState(!1),[l,c]=V.useState(null),[u,f]=V.useState("ar-SA"),[h,p]=V.useState("voice"),[v,g]=V.useState(""),y=V.useRef(null),_=V.useRef(""),x=V.useRef(n);V.useEffect(()=>{x.current=n},[n]);const w=V.useRef(e);w.current=e;const C=async P=>{if(P.trim()){o(!0),c(null);try{const k=`You are an AI assistant processing a user's speech or text transcript to fill a web form.
**IMPORTANT RULES:**
1.  When the user says or writes the Arabic word "", you MUST interpret and write it as the "@" symbol.
2.  If you identify an email address, you MUST format it using only English letters, numbers, and standard symbols (like '@', '.', '-'). Do NOT use Arabic characters for the email address. For example, if the user says "       ", the value for the email field should be "mustakhdim@mithal.com" or a similar valid email format, not "@.".

**TASK:**
Based on the user's transcript and the list of available form fields, identify the target field(s) and the corresponding value(s).
- User Transcript: "${P}"
- Available Fields: ${JSON.stringify(t)}

The user might mention multiple fields in one sentence. Your response must be a JSON array of objects, where each object contains a "fieldId" and a "value". For example: [{ "fieldId": "fullName", "value": "John Doe" }, { "fieldId": "email", "value": "john.doe@example.com" }]. If no fields are mentioned, return an empty array.`,O=await Rge(P,t,{type:"ARRAY",items:{type:"OBJECT",properties:{fieldId:{type:"STRING"},value:{type:"STRING"}}}},k);Array.isArray(O)&&O.length>0?w.current(O):console.log("AI did not find any fields to update from transcript:",P)}catch(k){console.error("Error processing transcript with AI:",k);const U=k instanceof Error?k.message:"An unknown error occurred.";c(`  : ${U}`)}finally{o(!1)}}};V.useEffect(()=>{if(!l4)return;const P=new gK;return y.current=P,P.continuous=!0,P.interimResults=!0,P.onresult=k=>{let U="";for(let O=k.resultIndex;O<k.results.length;++O)k.results[O].isFinal?_.current+=k.results[O][0].transcript+" ":U+=k.results[O][0].transcript;s(_.current+U)},P.onerror=k=>{console.error("Speech recognition error:",k.error),c(`  : ${k.error}`),r("idle")},P.onend=()=>{x.current==="recording"&&r("paused")},()=>{P.abort()}},[l4]);const S=()=>{y.current&&(_.current="",s(""),y.current.lang=u,y.current.start(),r("recording"))},R=()=>{y.current&&(r("paused"),y.current.stop())},D=()=>{y.current&&(y.current.lang=u,y.current.start(),r("recording"))},N=async()=>{y.current&&(r("idle"),y.current.stop(),i.trim()&&await C(i),s(""),_.current="")},I=async()=>{v.trim()&&(await C(v),g(""))},F=()=>{switch(n){case"recording":return d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{type:"button",onClick:R,className:"flex-1 flex items-center justify-center gap-2 p-2 bg-yellow-500 text-white font-semibold rounded-md hover:bg-yellow-600",children:[d.jsx(dge,{})," ",d.jsx("span",{children:" "})]}),d.jsxs("button",{type:"button",onClick:N,disabled:a,className:"flex-1 flex items-center justify-center gap-2 p-2 bg-green-600 text-white font-semibold rounded-md hover:bg-green-700 disabled:bg-gray-400",children:[a?d.jsx(Tt,{className:"animate-spin"}):d.jsx(ty,{}),d.jsx("span",{children:" "})]})]});case"paused":return d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{type:"button",onClick:D,className:"flex-1 flex items-center justify-center gap-2 p-2 bg-blue-500 text-white font-semibold rounded-md hover:bg-blue-600",children:[d.jsx(HH,{})," ",d.jsx("span",{children:""})]}),d.jsxs("button",{type:"button",onClick:N,disabled:a,className:"flex-1 flex items-center justify-center gap-2 p-2 bg-green-600 text-white font-semibold rounded-md hover:bg-green-700 disabled:bg-gray-400",children:[a?d.jsx(Tt,{className:"animate-spin"}):d.jsx(ty,{}),d.jsx("span",{children:" "})]})]});case"idle":default:return d.jsxs("button",{type:"button",onClick:S,disabled:a,className:"w-full flex items-center justify-center gap-3 p-3 bg-blue-500 text-white font-bold rounded-lg hover:bg-blue-600 disabled:bg-gray-400",children:[d.jsx(Rc,{}),d.jsx("span",{children:"   "})]})}};return d.jsxs("div",{className:"space-y-3 p-3 bg-gray-100 rounded-md border my-4",children:[d.jsxs("div",{className:"flex border border-gray-300 rounded-md overflow-hidden",children:[d.jsxs("button",{onClick:()=>p("voice"),className:`flex-1 p-2 text-center font-semibold flex items-center justify-center gap-2 ${h==="voice"?"bg-green-600 text-white":"bg-gray-200 text-gray-700"}`,children:[d.jsx(Rc,{}),d.jsx("span",{children:""})]}),d.jsxs("button",{onClick:()=>p("text"),className:`flex-1 p-2 text-center font-semibold flex items-center justify-center gap-2 ${h==="text"?"bg-green-600 text-white":"bg-gray-200 text-gray-700"}`,children:[d.jsx(qH,{}),d.jsx("span",{children:""})]})]}),h==="voice"?d.jsx(d.Fragment,{children:l4?d.jsxs(d.Fragment,{children:[n!=="idle"&&d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:" :"}),d.jsx("div",{className:"mt-1 p-2 bg-white border rounded-md min-h-[60px] text-gray-800 text-right",children:i||d.jsx("span",{className:"text-gray-400",children:"..."})})]}),d.jsxs("div",{className:"flex items-center justify-between gap-4",children:[d.jsx("div",{className:"flex-grow",children:F()}),d.jsxs("select",{value:u,onChange:P=>f(P.target.value),disabled:n!=="idle"||a,className:"bg-white border border-gray-300 rounded-md px-2 py-1 text-sm disabled:bg-gray-200","aria-label":"   ",children:[d.jsx("option",{value:"ar-SA",children:""}),d.jsx("option",{value:"en-US",children:"English"}),d.jsx("option",{value:"fr-FR",children:"Franais"})]})]})]}):d.jsx("div",{className:"p-3 bg-yellow-100 text-yellow-800 text-center rounded-md",children:"      ."})}):d.jsxs("div",{className:"space-y-2",children:[d.jsx("textarea",{value:v,onChange:P=>g(P.target.value),placeholder:"   ... :       user  example.com",className:"w-full p-2 border border-gray-300 rounded-md",rows:3,disabled:a}),d.jsxs("button",{type:"button",onClick:I,disabled:a||!v.trim(),className:"w-full flex items-center justify-center gap-3 p-3 bg-green-600 text-white font-bold rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:[a?d.jsx(Tt,{className:"animate-spin"}):d.jsx(ty,{}),d.jsx("span",{children:" "})]})]}),l&&d.jsx("p",{className:"text-red-600 text-sm mt-2",children:l})]})},b4e=()=>{const{siteId:t}=_a(),e=Fi(),{user:n}=jr(),{sites:r,cafes:i,siteSettings:s,loading:a}=un(),o=V.useMemo(()=>r.find(F=>F.id===t),[t,r]),l=V.useMemo(()=>i.find(F=>F.id===(n==null?void 0:n.cafeId)),[i,n]),c=(l==null?void 0:l.formFillMode)||"json",[u,f]=V.useState({}),[h,p]=V.useState(null),[v,g]=V.useState(""),[y,_]=V.useState(!0);V.useEffect(()=>{c==="json"&&(o!=null&&o.jsonTemplate)?p(o.jsonTemplate):p(null)},[o,c]);const x=(F,P)=>{f(k=>({...k,[F]:P}))},w=F=>{const P={...u};F.forEach(({fieldId:k,value:U})=>{P[k]=U}),f(P)},C=F=>{var U;const P=(U=F.target.files)==null?void 0:U[0];if(!P)return;g("");const k=new FileReader;k.onload=O=>{var H;try{const G=(H=O.target)==null?void 0:H.result,X=JSON.parse(G);if(X&&X.siteId&&Array.isArray(X.fields))p(X);else throw new Error("Invalid JSON structure.")}catch(G){g("   .     JSON   ."),console.error(G)}},k.onerror=()=>{g("    .")},k.readAsText(P)},S=async F=>{if(F.preventDefault(),!n||!s||!o){alert(":         .");return}const P=n.credits.currency==="USD"?s.pricing.siteFormFill.usd:s.pricing.siteFormFill.dzd,k=await eI(n,P);if(!k.success){alert(k.message),e(`/${n.countryCode}/app/billing`);return}if(y){const H={},G=c==="json"?h==null?void 0:h.fields.map(X=>({id:X.fieldId,label:X.label})):o==null?void 0:o.templateFields;G&&(G.forEach(X=>{const Z=X.id;Object.keys(di).includes(Z)&&(H[Z]=u[Z])}),Object.keys(H).length>0&&Dp.create(H))}const U={source:"gitut-webapp",type:"client_data_update",payload:u};window.postMessage(U,"*"),window.open(o.url,"_blank");const O=(n==null?void 0:n.credits.currency)==="USD"?"$":"";alert(`  ${P} ${O}  .       .    .`),f({})},R=V.useMemo(()=>c==="json"&&h?h.fields.map(F=>({id:F.fieldId,label:F.label})):c==="ai"&&(o!=null&&o.templateFields)?o.templateFields.map(F=>({id:F.id,label:F.label})):[],[o,c,h]);if(a)return d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(Tt,{className:"animate-spin text-4xl text-green-600"})});if(!o||o.type!=="template")return d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"        "}),d.jsx("p",{className:"text-gray-600 mb-6",children:"         ."}),d.jsx(dn,{to:"/app",className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"   "})]});const D=(n==null?void 0:n.credits.currency)==="USD"?s==null?void 0:s.pricing.siteFormFill.usd:s==null?void 0:s.pricing.siteFormFill.dzd,N=(n==null?void 0:n.credits.currency)==="USD"?"$":"",I=()=>{var F;return c==="json"?h?h.fields.map(P=>d.jsxs("div",{children:[d.jsx("label",{htmlFor:P.fieldId,className:"block text-sm font-medium text-gray-700 mb-1",children:P.label}),d.jsx("input",{type:"text",id:P.fieldId,name:P.fieldId,value:u[P.fieldId]||"",onChange:k=>x(k.target.name,k.target.value),required:!0,className:"block w-full px-3 py-2 border border-gray-300 rounded-md"})]},P.cssSelector)):d.jsxs("div",{className:"text-center p-6 border-2 border-dashed rounded-lg",children:[d.jsx("p",{className:"font-semibold text-gray-700",children:" 1:    JSON   ."}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"        ."})]}):(F=o.templateFields)==null?void 0:F.map(P=>d.jsxs("div",{children:[d.jsx("label",{htmlFor:P.id,className:"block text-sm font-medium text-gray-700 mb-1",children:P.label}),d.jsx("input",{type:"text",id:P.id,name:P.id,value:u[P.id]||"",onChange:k=>x(k.target.name,k.target.value),required:!0,className:"block w-full px-3 py-2 border border-gray-300 rounded-md"})]},P.id))};return d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:["  : ",o.name]}),d.jsxs("p",{className:"text-gray-600",children:[": ",d.jsxs("span",{className:"font-bold font-mono",children:[D," ",N]})]})]}),d.jsx(dn,{to:`/${n==null?void 0:n.countryCode}/app`,className:"text-sm bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:" "})]}),d.jsxs("form",{onSubmit:S,className:"space-y-6 bg-white p-8 rounded-lg border",children:[c==="json"&&d.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border",children:[d.jsxs("label",{htmlFor:"json-upload",className:"flex items-center gap-3 cursor-pointer text-blue-800 font-semibold",children:[d.jsx(sge,{className:"text-2xl"}),d.jsxs("div",{children:[d.jsx("span",{children:h?` : ${h.siteName}`:"  JSON  "}),d.jsx("p",{className:"text-xs font-normal text-gray-600",children:"          ."})]})]}),d.jsx("input",{id:"json-upload",type:"file",accept:".json",onChange:C,className:"hidden"}),v&&d.jsx("p",{className:"text-red-500 text-sm mt-2",children:v})]}),(c==="ai"||c==="json"&&h)&&d.jsx(yK,{formFields:R,onFieldUpdate:w}),I(),d.jsxs("div",{className:"pt-4 border-t",children:[d.jsxs("div",{className:"flex items-center mb-4",children:[d.jsx("input",{id:"saveClient",name:"saveClient",type:"checkbox",checked:y,onChange:F=>_(F.target.checked),className:"h-4 w-4 text-green-600"}),d.jsx("label",{htmlFor:"saveClient",className:"mr-2 block text-sm text-gray-900",children:"/   "})]}),d.jsx("button",{type:"submit",className:"w-full bg-green-600 text-white p-3 rounded-lg font-bold hover:bg-green-700 transition-colors flex items-center justify-center gap-2",children:d.jsx("span",{children:"     "})})]})]})]})};if(Sr.Quill){const t=Sr.Quill.import("attributors/style/size");t.whitelist=["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px"],Sr.Quill.register("attributors/style/size",t,!0)}const jx=t=>t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,""),_4e={toolbar:[[{header:[1,2,3,4,5,6,!1]}],[{font:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"},{align:[]}],[{color:[]},{background:[]}],["link","image","video"],["clean"]]},w4e=()=>{const{fullDocuments:t,loadingFullDocuments:e,codes:n,refetchAdminData:r}=un(),[i,s]=V.useState([]);Fi();const{t:a}=Ui(),[o,l]=V.useState({isOpen:!1,mode:"create",doc:null}),[c,u]=V.useState({}),[f,h]=V.useState(!1),[p,v]=V.useState(""),[g,y]=V.useState(""),[_,x]=V.useState({preview:"",final:""}),[w,C]=V.useState({isOpen:!1,doc:null}),[S,R]=V.useState({}),[D,N]=V.useState({preview:"upload",final:"upload"}),[I,F]=V.useState({preview:"",final:""}),[P,k]=V.useState(!1),U=V.useRef(null),O=V.useRef(null),[H,G]=V.useState(!1),[X,Z]=V.useState(""),[z,Q]=V.useState("");V.useEffect(()=>{const ue=[...t].sort((ve,be)=>ve.name.localeCompare(be.name)).filter(ve=>ve.name.toLowerCase().includes(g.toLowerCase())||ve.description.toLowerCase().includes(g.toLowerCase())||ve.id.toLowerCase().includes(g.toLowerCase()));s(ue)},[t,g]);const B=async()=>{await r()},j=async ie=>{if(window.confirm("              ."))try{await Dl.delete(ie),await B(),alert("   .")}catch(ue){console.error("Failed to delete document:",ue),alert("  .")}},q=()=>{u({id:"",name:"",groupId:"",description:"",countryCode:"dz",requiredFields:[],complexFields:[],previewTemplateUrl:"",finalTemplateUrl:"",previewTemplateHtml:"",finalTemplateHtml:"",tags:"",slug:""}),N({preview:"upload",final:"upload"}),F({preview:"",final:""}),x({preview:"",final:""}),l({isOpen:!0,mode:"create",doc:null}),v("")},J=async ie=>{u({...ie});const ue={preview:"upload",final:"upload"},ve={preview:ie.previewTemplateHtml||"",final:ie.finalTemplateHtml||""};ie.previewTemplateHtml&&(ue.preview="code"),ie.finalTemplateHtml&&(ue.final="code"),F(ve),N(ue),x({preview:"",final:""}),l({isOpen:!0,mode:"edit",doc:ie}),v("")},Y=()=>{l({isOpen:!1,mode:"create",doc:null})},te=ie=>{const{name:ue,value:ve}=ie.target;u(be=>({...be,[ue]:ve}))},oe=async(ie,ue)=>{var Ie;const ve=(Ie=ie.target.files)==null?void 0:Ie[0];if(!ve)return;const be=new FileReader;be.onload=Le=>{var Ue;const Te=(Ue=Le.target)==null?void 0:Ue.result;x(Oe=>({...Oe,[ue]:Te})),F(Oe=>({...Oe,[ue]:Te}))},be.readAsText(ve)},de=async ie=>{var ue,ve,be;ie.preventDefault(),h(!0);try{const Ie={...c},Le=Oe=>Oe.replace(/\s{2,}/g," ").replace(/\n/g,"").trim();let Te="";D.preview==="code"?Te=I.preview:_.preview&&(Te=_.preview),Te&&(Ie.previewTemplateHtml=Le(Te),Ie.previewTemplateUrl="");let Ue="";if(D.final==="code"?Ue=I.final:_.final&&(Ue=_.final),Ue?(Ie.finalTemplateHtml=Le(Ue),Ie.finalTemplateUrl="",Ie.requiredFields=ey(Ue)):Ie.finalTemplateHtml&&(Ie.requiredFields=ey(Ie.finalTemplateHtml)),Ie.slug=(ue=c.slug)!=null&&ue.trim()?jx(c.slug):jx(c.name||""),o.mode==="create"){const Oe=((ve=c.id)==null?void 0:ve.trim())||((be=c.groupId)==null?void 0:be.trim())||Ie.slug;Ie.id=Oe,Ie.groupId||(Ie.groupId=Oe),await Dl.create(Ie)}else o.doc&&await Dl.update(o.doc.id,Ie);await B(),alert("   !"),Y()}catch(Ie){console.error("Failed to save document:",Ie),alert("  .")}finally{h(!1)}},fe=async()=>{var ie;if(!((ie=c.name)!=null&&ie.trim())){alert("      .");return}k(!0);try{const ue=`         "${c.name}".            .      HTML  ( <p>  <ul>).`,be=(await _c({model:"gemini-2.5-flash",contents:ue})).text||"";u(Ie=>({...Ie,description:be}))}catch(ue){console.error("AI description generation failed:",ue),alert("    .")}finally{k(!1)}},Ce=ie=>{R(ie.fieldCustomizations||{}),C({isOpen:!0,doc:ie})},Pe=()=>{C({isOpen:!1,doc:null}),R({})},pe=(ie,ue,ve)=>{R(be=>({...be,[ie]:{...be[ie]||{type:"text"},[ue]:ve}}))},Me=(ie,ue,ve)=>{R(be=>{var Le;const Ie=[...((Le=be[ie])==null?void 0:Le.options)||[]];return Ie[ue]=ve,{...be,[ie]:{...be[ie]||{type:"text"},options:Ie}}})},W=ie=>{R(ue=>{var be;const ve=[...((be=ue[ie])==null?void 0:be.options)||[],""];return{...ue,[ie]:{...ue[ie]||{type:"text"},type:"select",options:ve}}})},ge=(ie,ue)=>{R(ve=>{var Ie;const be=(((Ie=ve[ie])==null?void 0:Ie.options)||[]).filter((Le,Te)=>Te!==ue);return{...ve,[ie]:{...ve[ie]||{type:"text"},options:be}}})},_e=async()=>{if(w.doc){h(!0);try{const ie={...w.doc,fieldCustomizations:S};await Dl.update(w.doc.id,ie),await B(),alert("  !"),Pe()}catch(ie){console.error("Failed to save customizations:",ie),alert("  .")}finally{h(!1)}}},ce=(ie,ue)=>{N(ve=>({...ve,[ie]:ue}))},re=(ie,ue)=>{if(!ue)return;const be=(ie==="preview"?U:O).current;if(be){const Ie=be.selectionStart,Le=be.selectionEnd,Te=be.value,Ue=Te.substring(0,Ie)+ue+Te.substring(Le);F(Oe=>({...Oe,[ie]:Ue})),setTimeout(()=>{be&&(be.focus(),be.selectionStart=be.selectionEnd=Ie+ue.length)},0)}},le=()=>{Z(JSON.stringify([{id:"custom-doc-id",name:"  ",groupId:"unique-group-id",description:"<p> HTML .</p>",countryCode:"dz",tags:"tag1,tag2",previewTemplateHtml:"<!--  HTML  -->",finalTemplateHtml:"<!--  HTML   [placeholders] -->"}],null,2)),Q(""),G(!0)},ke=()=>{G(!1)},Ne=async ie=>{ie.preventDefault(),Q(""),h(!0);try{const ue=JSON.parse(X),ve=Array.isArray(ue)?ue:[ue];let be=0;for(const[Ie,Le]of ve.entries()){const{name:Te,groupId:Ue,previewTemplateHtml:Oe,finalTemplateHtml:Je}=Le;if(typeof Te!="string"||!Te.trim()||typeof Ue!="string"||!Ue.trim()||typeof Oe!="string"||!Oe.trim()||typeof Je!="string"||!Je.trim()){const It=[];(typeof Te!="string"||!Te.trim())&&It.push("name"),(typeof Ue!="string"||!Ue.trim())&&It.push("groupId"),(typeof Oe!="string"||!Oe.trim())&&It.push("previewTemplateHtml"),(typeof Je!="string"||!Je.trim())&&It.push("finalTemplateHtml");const We=Le.name||Le.id||`  ${Ie+1}`;throw new Error(`    : ${It.join(", ")}   "${We}"`)}const{description:ot,countryCode:lt,tags:Bt,id:fn}=Le,ln=It=>It.replace(/\s{2,}/g," ").replace(/\n/g,"").trim(),Kn=ln(Je),Rn=ln(Oe),Vn={name:Te,groupId:Ue,description:ot||"",countryCode:lt||"",tags:Bt||"",slug:jx(Te),previewTemplateHtml:Rn,finalTemplateHtml:Kn,previewTemplateUrl:"",finalTemplateUrl:"",requiredFields:ey(Kn)},yn=fn||Ue||jx(Te);Vn.id=yn,await Dl.create(Vn),be++}await B(),alert(`  ${be} () !`),ke()}catch(ue){const ve=ue instanceof Error?ue.message:" JSON     .";Q(ve)}finally{h(!1)}};return e?d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(Tt,{className:"animate-spin text-4xl text-green-600"})}):d.jsxs("div",{children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:" "}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:le,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700",children:[d.jsx(xc,{className:"inline-block ml-2 rtl:ml-0 rtl:mr-2"}),"  JSON"]}),d.jsxs("button",{onClick:q,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:[d.jsx(xc,{className:"inline-block ml-2 rtl:ml-0 rtl:mr-2"}),"  "]})]})]}),d.jsx("div",{className:"mb-4",children:d.jsx("input",{type:"text",placeholder:"   ...",value:g,onChange:ie=>y(ie.target.value),className:"w-full p-3 border rounded-lg"})}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:"ID / Group ID"}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:i.map(ie=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:ie.name}),d.jsxs("td",{className:"p-3 text-gray-500 font-mono text-xs",children:[ie.id,d.jsx("br",{}),ie.groupId!==ie.id&&`(${ie.groupId})`]}),d.jsx("td",{className:"p-3 text-gray-600 text-sm",title:ie.description.replace(/<[^>]*>?/gm,""),children:d.jsx("div",{className:"prose prose-sm max-w-none line-clamp-2",dangerouslySetInnerHTML:{__html:ie.description}})}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse whitespace-nowrap",children:[ie.slug&&d.jsx("a",{href:`/${ie.countryCode||"dz"}/doc/${ie.slug}/`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>J(ie),className:"text-green-600 hover:underline text-sm font-semibold",children:" "}),d.jsx("button",{onClick:()=>Ce(ie),className:"text-blue-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>j(ie.id),className:"text-red-600 hover:underline text-sm font-semibold",children:""})]})]},ie.id))})]})})}),H&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl",children:d.jsxs("form",{onSubmit:Ne,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:"    JSON"})}),d.jsx("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:d.jsxs("div",{children:[d.jsx("label",{htmlFor:"jsonInput",className:"block text-sm font-medium text-gray-700 mb-1",children:" JSON (        )"}),d.jsx("textarea",{id:"jsonInput",value:X,onChange:ie=>Z(ie.target.value),required:!0,className:"w-full h-80 p-2 border rounded-md font-mono text-sm bg-gray-900 text-green-300",dir:"ltr"}),z&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:z})]})}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:ke,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",disabled:f,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:f?" ...":" ()"})]})]})})}),o.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-start p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl",children:d.jsxs("form",{onSubmit:de,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:o.mode==="create"?"  ":" "})}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",name:"name",id:"name",value:c.name||"",onChange:te,required:!0,className:"w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"groupId",className:"block text-sm font-medium text-gray-700 mb-1",children:"  (Group ID)"}),d.jsx("input",{type:"text",name:"groupId",id:"groupId",value:c.groupId||"",onChange:te,required:!0,className:"w-full p-2 border rounded-md"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"    Group ID      ."})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"id",className:"block text-sm font-medium text-gray-700 mb-1",children:"  (ID)"}),d.jsx("input",{type:"text",name:"id",id:"id",value:c.id||"",onChange:te,disabled:o.mode==="edit",className:"w-full p-2 border rounded-md bg-gray-100 disabled:cursor-not-allowed",title:o.mode==="edit"?"     ":"   Group ID"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:o.mode==="edit"?"     .":"   Group ID."})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"slug",className:"block text-sm font-medium text-gray-700 mb-1",children:"  (Slug)"}),d.jsx("input",{type:"text",name:"slug",id:"slug",value:c.slug||"",onChange:te,className:"w-full p-2 border rounded-md"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"  .       ."})]})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-1",children:[d.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:""}),d.jsxs("button",{type:"button",onClick:fe,disabled:P,className:"flex items-center gap-1 text-xs bg-purple-100 text-purple-700 font-semibold py-1 px-2 rounded-md hover:bg-purple-200 disabled:opacity-50",title:"   ",children:[P?d.jsx(Tt,{className:"animate-spin"}):d.jsx(ya,{}),d.jsx("span",{children:"  "})]})]}),d.jsx(Sr,{theme:"snow",value:c.description||"",onChange:ie=>u(ue=>({...ue,description:ie})),modules:_4e})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"countryCode",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",name:"countryCode",id:"countryCode",value:c.countryCode||"",onChange:te,placeholder:"dz, fr, us...",className:"w-full p-2 border rounded-md"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"   ."})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700 mb-1",children:" ( )"}),d.jsx("input",{type:"text",name:"tags",id:"tags",value:c.tags||"",onChange:te,className:"w-full p-2 border rounded-md"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 border-t pt-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsxs("div",{className:"flex gap-1 mb-2 border-b",children:[d.jsx("button",{type:"button",onClick:()=>ce("preview","upload"),className:`px-3 py-1 text-sm rounded-t-md ${D.preview==="upload"?"bg-gray-200 font-semibold":"bg-white"}`,children:" "}),d.jsx("button",{type:"button",onClick:()=>ce("preview","code"),className:`px-3 py-1 text-sm rounded-t-md ${D.preview==="code"?"bg-gray-200 font-semibold":"bg-white"}`,children:" "})]}),D.preview==="upload"?d.jsxs(d.Fragment,{children:[d.jsx("input",{type:"file",id:"previewTemplate",onChange:ie=>oe(ie,"preview"),accept:".html",className:"w-full text-sm"}),_.preview&&d.jsxs("span",{className:"text-xs text-gray-500 truncate block mt-1",children:["Selected: ",_.preview.substring(0,50),"..."]})]}):d.jsxs("div",{className:"space-y-1",children:[d.jsx("textarea",{ref:U,value:I.preview,onChange:ie=>F(ue=>({...ue,preview:ie.target.value})),className:"w-full h-32 p-2 border rounded-md font-mono text-xs bg-gray-900 text-green-300",placeholder:"<html>...</html>",dir:"ltr"}),d.jsx("div",{className:"flex justify-end",children:d.jsxs("select",{onChange:ie=>{re("preview",ie.target.value),ie.target.value=""},className:"text-xs bg-gray-200 text-gray-800 font-semibold py-1 px-2 rounded-md hover:bg-gray-300 cursor-pointer border border-gray-300",children:[d.jsx("option",{value:"",children:" ..."}),n.map(ie=>d.jsxs("option",{value:ie.key,children:[ie.description," (",ie.key,")"]},ie.id))]})})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsxs("div",{className:"flex gap-1 mb-2 border-b",children:[d.jsx("button",{type:"button",onClick:()=>ce("final","upload"),className:`px-3 py-1 text-sm rounded-t-md ${D.final==="upload"?"bg-gray-200 font-semibold":"bg-white"}`,children:" "}),d.jsx("button",{type:"button",onClick:()=>ce("final","code"),className:`px-3 py-1 text-sm rounded-t-md ${D.final==="code"?"bg-gray-200 font-semibold":"bg-white"}`,children:" "})]}),D.final==="upload"?d.jsxs(d.Fragment,{children:[d.jsx("input",{type:"file",id:"finalTemplate",onChange:ie=>oe(ie,"final"),accept:".html",className:"w-full text-sm"}),_.final&&d.jsxs("span",{className:"text-xs text-gray-500 truncate block mt-1",children:["Selected: ",_.final.substring(0,50),"..."]})]}):d.jsxs("div",{className:"space-y-1",children:[d.jsx("textarea",{ref:O,value:I.final,onChange:ie=>F(ue=>({...ue,final:ie.target.value})),className:"w-full h-32 p-2 border rounded-md font-mono text-xs bg-gray-900 text-green-300",placeholder:"<html>...</html>",dir:"ltr"}),d.jsx("div",{className:"flex justify-end",children:d.jsxs("select",{onChange:ie=>{re("final",ie.target.value),ie.target.value=""},className:"text-xs bg-gray-200 text-gray-800 font-semibold py-1 px-2 rounded-md hover:bg-gray-300 cursor-pointer border border-gray-300",children:[d.jsx("option",{value:"",children:" ..."}),n.map(ie=>d.jsxs("option",{value:ie.key,children:[ie.description," (",ie.key,")"]},ie.id))]})})]})]})]}),p&&d.jsx("p",{className:"text-red-500 text-sm",children:p})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:Y,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",disabled:f,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:f?" ...":" "})]})]})})}),w.isOpen&&w.doc&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl",children:d.jsxs("form",{onSubmit:ie=>{ie.preventDefault(),_e()},children:[d.jsx("div",{className:"p-6 border-b",children:d.jsxs("h2",{className:"text-2xl font-bold",children:["  : ",w.doc.name]})}),d.jsx("div",{className:"p-6 space-y-6 max-h-[70vh] overflow-y-auto",children:Object.keys(di).map(ie=>{var ve,be,Ie,Le,Te,Ue,Oe;const ue=(ve=w.doc)==null?void 0:ve.requiredFields.includes(ie);return d.jsxs("div",{className:`p-4 border rounded-md ${ue?"bg-green-50 border-green-200":"bg-gray-50"}`,children:[d.jsx("h3",{className:"font-bold text-lg text-gray-800 mb-3",children:a(di[ie].label)}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsxs("select",{value:((be=S[ie])==null?void 0:be.type)||"text",onChange:Je=>pe(ie,"type",Je.target.value),className:"w-full p-2 border rounded-md bg-white",children:[d.jsx("option",{value:"text",children:"  (Text)"}),d.jsx("option",{value:"select",children:"   (Select)"}),d.jsx("option",{value:"multiselect",children:"   (Multi-select)"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  ()"}),d.jsx("input",{type:"text",value:((Ie=S[ie])==null?void 0:Ie.customQuestion)||"",onChange:Je=>pe(ie,"customQuestion",Je.target.value),placeholder:"    ",className:"w-full p-2 border rounded-md"})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),d.jsxs("select",{value:((Le=S[ie])==null?void 0:Le.speechLang)||"",onChange:Je=>pe(ie,"speechLang",Je.target.value),className:"w-full p-2 border rounded-md bg-white",children:[d.jsx("option",{value:"",children:" ( )"}),d.jsx("option",{value:"ar-SA",children:""}),d.jsx("option",{value:"en-US",children:""}),d.jsx("option",{value:"fr-FR",children:""})]})]})]}),(((Te=S[ie])==null?void 0:Te.type)==="select"||((Ue=S[ie])==null?void 0:Ue.type)==="multiselect")&&d.jsxs("div",{className:"mt-4 pt-4 border-t",children:[d.jsx("h4",{className:"font-semibold mb-2",children:" "}),d.jsx("div",{className:"space-y-2",children:(((Oe=S[ie])==null?void 0:Oe.options)||[]).map((Je,ot)=>d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"text",value:Je,onChange:lt=>Me(ie,ot,lt.target.value),placeholder:` ${ot+1}`,className:"flex-grow p-2 border rounded-md"}),d.jsx("button",{type:"button",onClick:()=>ge(ie,ot),className:"p-2 bg-red-100 text-red-600 rounded-full hover:bg-red-200",children:d.jsx(dh,{})})]},ot))}),d.jsxs("button",{type:"button",onClick:()=>W(ie),className:"mt-3 flex items-center gap-2 text-sm bg-green-100 text-green-800 font-semibold py-2 px-3 rounded-lg hover:bg-green-200",children:[d.jsx(xc,{}),"  "]})]})]},ie)})}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:Pe,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",disabled:f,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700",children:f?d.jsx(Tt,{className:"animate-spin"}):" "})]})]})})})]})},T4e=()=>{const[t,e]=V.useState([]),[n,r]=V.useState({isOpen:!1,mode:"create",client:null}),[i,s]=V.useState({}),{t:a}=Ui();V.useEffect(()=>{Dp.getAll().then(e)},[]);const o=()=>{Dp.getAll().then(e)},l=()=>{s({}),r({isOpen:!0,mode:"create",client:null})},c=y=>{s({...y}),r({isOpen:!0,mode:"edit",client:y})},u=()=>{r({isOpen:!1,mode:"create",client:null})},f=(y,_)=>{s(x=>({...x,[y]:_}))},h=V.useMemo(()=>Object.values(di).map(y=>({id:y.id,label:a(y.label)})),[a]),p=y=>{y.forEach(({fieldId:_,value:x})=>{f(_,x)})},v=y=>{y.preventDefault(),n.mode==="create"?Dp.create(i):n.client&&Dp.update(n.client.id,i),o(),u()},g=y=>{window.confirm("              .")&&(Dp.delete(y),o())};return d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:" "}),d.jsx("button",{onClick:l,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"+   "})]}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:t.length>0?t.map(y=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("img",{src:Ni(y.profilePicture)||`https://ui-avatars.com/api/?name=${y.fullName||"NN"}&background=random`,alt:y.fullName||"Client",className:"w-10 h-10 rounded-full object-cover"}),d.jsx("span",{children:y.fullName||"-"})]})}),d.jsx("td",{className:"p-3 text-gray-600",children:y.phone||"-"}),d.jsx("td",{className:"p-3 text-gray-600",children:y.email||"-"}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse",children:[d.jsx("button",{onClick:()=>c(y),className:"text-blue-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>g(y.id),className:"text-red-600 hover:underline text-sm font-semibold",children:""})]})]},y.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:4,className:"text-center p-6 text-gray-500",children:'   .   "  " .'})})})]})})}),n.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",children:d.jsxs("form",{onSubmit:v,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:n.mode==="create"?"  ":"  "})}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[d.jsx(yK,{formFields:h,onFieldUpdate:p}),Object.values(di).map(y=>{var x;if(!y)return null;const _=y.id;return d.jsxs("div",{children:[d.jsx("label",{htmlFor:y.id,className:"block text-sm font-medium text-gray-700 mb-1",children:a(y.label)}),y.type==="file"?d.jsx(Z1,{value:i[_]||"",onChange:w=>f(_,w)}):y.type==="select"?d.jsxs("select",{id:y.id,name:y.id,value:i[_]||"",onChange:w=>f(w.target.name,w.target.value),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",children:[d.jsx("option",{value:"",children:a(y.placeholder)}),(x=y.options)==null?void 0:x.map(w=>d.jsx("option",{value:w.value,children:a(w.label)},w.value))]}):d.jsx("input",{type:y.type,id:y.id,name:y.id,value:i[_]||"",onChange:w=>f(w.target.name,w.target.value),placeholder:a(y.placeholder)||"",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]},y.id)})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:u,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:""})]})]})})})]})},E4e=({onSearch:t})=>{const{wilayas:e,dairas:n,communes:r,locationsLoading:i}=un(),{t:s}=Ui(),[a,o]=V.useState(""),[l,c]=V.useState(""),[u,f]=V.useState(""),[h,p]=V.useState(""),[v,g]=V.useState([]),[y,_]=V.useState([]),x=R=>{const D=R.target.value;o(D),c(""),f(""),D?(g(n.filter(N=>N.wilaya_code===D)),_([])):(g([]),_([]))},w=R=>{const D=R.target.value;c(D),f(""),_(D&&a?r.filter(N=>N.daira_name===D&&N.wilaya_code===a):[])},C=R=>{f(R.target.value)},S=R=>{var N;R.preventDefault();const D=((N=e.find(I=>I.code===a))==null?void 0:N.name)||"";t({wilaya:D,daira:l,commune:u,name:h})};return d.jsxs("form",{onSubmit:S,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[d.jsxs("select",{value:a,onChange:x,className:"p-3 bg-white border border-gray-300 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-500",disabled:i,"aria-label":"Select Wilaya",children:[d.jsx("option",{value:"",children:s(i?"signup.loading":"signup.selectWilaya")}),e.map(R=>d.jsx("option",{value:R.code,children:R.name},R.id))]}),d.jsxs("select",{value:l,onChange:w,className:"p-3 bg-white border border-gray-300 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-500",disabled:!a||v.length===0,"aria-label":"Select Daira",children:[d.jsx("option",{value:"",children:s("signup.selectDaira")}),v.map(R=>d.jsx("option",{value:R.name,children:R.name},R.id))]}),d.jsxs("select",{value:u,onChange:C,className:"p-3 bg-white border border-gray-300 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-500",disabled:!l||y.length===0,"aria-label":"Select Commune",children:[d.jsx("option",{value:"",children:s("signup.selectCommune")}),y.map(R=>d.jsx("option",{value:R.name,children:R.name},R.id))]}),d.jsx("input",{type:"text",placeholder:s("searchForm.searchByName"),value:h,onChange:R=>p(R.target.value),className:"p-3 bg-white border border-gray-300 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-500","aria-label":"Search by cafe name"})]}),d.jsx("button",{type:"submit",className:"w-full bg-green-600 text-white p-3 rounded-lg font-bold hover:bg-green-700 transition-colors",children:s("searchForm.search")})]})};function C4e(t,e){function n(u){return u*Math.PI/180}const r=6371,i=n(e.latitude-t.latitude),s=n(e.longitude-t.longitude),a=n(t.latitude),o=n(t.latitude),l=Math.sin(i/2)*Math.sin(i/2)+Math.sin(s/2)*Math.sin(s/2)*Math.cos(a)*Math.cos(o),c=2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l));return r*c}const S4e=()=>{const{countryCode:t,type:e,id:n}=_a(),{documents:r,staticDocuments:i,sites:s,cafes:a,loading:o}=un(),[l,c]=V.useState(null),[u,f]=V.useState([]),[h,p]=V.useState(!1),[v,g]=V.useState(!1),[y,_]=V.useState(!1),[x,w]=V.useState(""),[C,S]=V.useState(!1),[R,D]=V.useState([]),[N,I]=V.useState(0);V.useEffect(()=>{c(null),w(""),(()=>{let X=null;if(e==="doc"&&n){const Z=r.find(z=>z.id===n);if(Z){X={...Z,type:"doc"};const Q=r.filter(j=>j.groupId===Z.groupId).sort((j,q)=>j.name.localeCompare(q.name,"ar"));D(Q);const B=Q.findIndex(j=>j.id===Z.id);I(B>=0?B:0)}}else if(e==="site"&&n){const Z=s.find(z=>z.id===n);Z&&(X={...Z,type:"site"},D([]))}else if(e==="static-doc"&&n){const Z=i.find(z=>z.id===n);Z&&(X={...Z,type:"static-doc"},D([]))}X&&X.countryCode&&X.countryCode!==t?c(null):c(X)})()},[e,n,r,s,i,t]),V.useEffect(()=>{const G=async()=>{if(R.length>0&&N<R.length){const Z=R[N].previewTemplateUrl;if(!Z){w(""),S(!1);return}S(!0);try{const z=await fetch(Z);z.ok?w(await z.text()):w("")}catch(z){console.error("Error fetching preview:",z),w("")}finally{S(!1)}}};(l==null?void 0:l.type)==="doc"&&R.length>0&&G()},[R,N,l]);const F=()=>{I(G=>(G+1)%R.length)},P=()=>{I(G=>(G-1+R.length)%R.length)},k=G=>{if(!l)return;let Z=a;const z=G.name.trim().toLowerCase();G.wilaya&&(Z=Z.filter(Q=>Q.address.wilaya===G.wilaya)),G.daira&&(Z=Z.filter(Q=>Q.address.daira===G.daira)),G.commune&&(Z=Z.filter(Q=>Q.address.commune===G.commune)),z&&(Z=Z.filter(Q=>Q.name.toLowerCase().includes(z))),f(Z),_(!0),p(!1)},U=G=>{const X=G.target.checked;if(p(X),X){if(!navigator.geolocation){alert("     ."),p(!1);return}g(!0),_(!1),navigator.geolocation.getCurrentPosition(Z=>{const z={latitude:Z.coords.latitude,longitude:Z.coords.longitude},B=a.filter(j=>j.address.latitude&&j.address.longitude).map(j=>({...j,distance:C4e(z,j.address)})).sort((j,q)=>j.distance-q.distance);f(B),g(!1),_(!0)},Z=>{console.error("Geolocation error:",Z),alert(`    : ${Z.message}`),g(!1),p(!1)})}else f([]),_(!1)},O=V.useMemo(()=>{if((l==null?void 0:l.type)==="doc"&&R.length>0){const G=R[N];return G?{...G,type:"doc"}:null}else if((l==null?void 0:l.type)==="static-doc")return{...l,type:"static-doc"};return l},[l,R,N]),H=V.useMemo(()=>{if((O==null?void 0:O.type)!=="doc")return[];const G=O;return(G.spokenFields&&G.spokenFields.length>0?G.spokenFields:G.requiredFields).filter(Z=>Z!=="profilePicture").map(Z=>di[Z]).filter(Z=>!!Z)},[O]);return O?d.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8 text-center",children:[d.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:O.name}),d.jsx("p",{className:"text-lg text-gray-600",children:"description"in O?O.description:"url"in O?O.url:""})]}),l.type==="doc"&&d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:" "}),d.jsxs("div",{className:"relative",children:[R.length>1&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:P,className:"absolute right-3 top-1/2 -translate-y-1/2 z-10 bg-black bg-opacity-50 text-white p-4 rounded-full hover:bg-opacity-75 transition-all","aria-label":" ",children:d.jsx(ww,{className:"h-6 w-6"})}),d.jsx("button",{onClick:F,className:"absolute left-3 top-1/2 -translate-y-1/2 z-10 bg-black bg-opacity-50 text-white p-4 rounded-full hover:bg-opacity-75 transition-all","aria-label":" ",children:d.jsx(_w,{className:"h-6 w-6"})}),d.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 z-10 bg-black bg-opacity-50 text-white text-sm px-3 py-1 rounded-full",children:[N+1," / ",R.length]})]}),C?d.jsx("div",{className:"flex justify-center items-center h-64 bg-gray-50 rounded-md",children:d.jsx("p",{className:"text-gray-500",children:"  ..."})}):x?d.jsx("iframe",{srcDoc:x,title:" ",className:"w-full h-[70vh] border rounded-md bg-white"}):d.jsx("div",{className:"flex justify-center items-center h-64 bg-gray-50 rounded-md",children:d.jsx("p",{className:"text-gray-500",children:"     ."})})]})]}),l.type==="static-doc"&&"fileUrl"in l&&d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:" "}),d.jsx("iframe",{src:l.fileUrl,title:" ",className:"w-full h-[70vh] border rounded-md bg-white"}),d.jsx("div",{className:"mt-4 text-center",children:d.jsx("a",{href:l.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-green-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-green-700",children:"     "})})]}),O.type==="doc"&&d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"   "}),O.visitorExamplePrompt&&d.jsxs("div",{className:"bg-blue-50 border-r-4 border-blue-400 p-4 rounded-md mb-6",children:[d.jsx("h3",{className:"font-bold text-lg text-blue-800 mb-2",children:"   ():"}),d.jsxs("p",{className:"text-blue-700 leading-relaxed",children:['"',O.visitorExamplePrompt,'"']})]}),H.length>0&&d.jsxs("div",{className:"mt-4",children:[d.jsx("h3",{className:"font-semibold text-gray-800",children:"  :"}),d.jsx("ul",{className:"list-disc list-inside mt-2 space-y-1 text-gray-700",children:H.map(G=>d.jsx("li",{children:G.label},G.id))})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"     "}),!h&&d.jsx(E4e,{onSearch:k}),d.jsx("div",{className:"mt-4",children:d.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:h,onChange:U,disabled:v,className:"h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),d.jsx("span",{className:"font-semibold text-gray-700",children:v?"...  ":"    "})]})})]}),y&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("h2",{className:"text-2xl font-bold",children:[" (",u.length,")"]}),u.length>0?d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(G=>d.jsxs("article",{className:"bg-white rounded-lg shadow-md overflow-hidden transition-transform hover:scale-105 duration-300 flex flex-col",children:[d.jsx("img",{src:G.imageUrl,alt:G.name,className:"w-full h-48 object-cover"}),d.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[d.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:G.name}),d.jsxs("p",{className:"text-gray-600 mb-4 text-sm",children:[G.address.commune,", ",G.address.wilaya]}),G.distance!==void 0&&d.jsxs("p",{className:"text-sm font-bold text-blue-700 bg-blue-100 rounded-full px-3 py-1 self-start mb-4",children:["~ ",G.distance.toFixed(1)," "]}),d.jsx("div",{className:"flex-grow"}),d.jsx(dn,{to:`/${t}/profile/${G.numericId}`,className:"block text-center w-full mt-auto bg-blue-100 text-blue-800 font-semibold py-2 px-4 rounded-lg hover:bg-blue-200 transition-colors",children:" "})]})]},G.id))}):d.jsx("div",{className:"text-center py-10 bg-white rounded-lg shadow",children:d.jsx("p",{className:"text-gray-600 text-lg",children:"      ."})})]})]}):d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"    "}),d.jsx(dn,{to:`/${t}/services`,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"   "})]})};if(Sr.Quill){const t=Sr.Quill.import("attributors/style/size");t.whitelist=["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px"],Sr.Quill.register("attributors/style/size",t,!0)}const D4e=t=>t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,""),A4e=()=>{const{staticDocuments:t}=un(),[e,n]=V.useState(t),[r,i]=V.useState({isOpen:!1,mode:"create",doc:null}),[s,a]=V.useState({name:"",description:"",fileUrl:"",countryCode:"",tags:""}),[o,l]=V.useState(null),[c,u]=V.useState(!1);V.useEffect(()=>n(t),[t]);const f=()=>{a({name:"",description:"",fileUrl:"",countryCode:"",tags:""}),l(null),i({isOpen:!0,mode:"create",doc:null})},h=x=>{a({name:x.name,description:x.description,fileUrl:x.fileUrl,countryCode:x.countryCode||"",tags:x.tags||""}),l(null),i({isOpen:!0,mode:"edit",doc:x})},p=()=>{i({isOpen:!1,mode:"create",doc:null})},v=x=>{x.target.files&&x.target.files[0]&&(l(x.target.files[0]),g(x.target.files[0]))},g=async x=>{if(!x){alert("   .");return}u(!0);try{const w=await Dm(x);a(C=>({...C,fileUrl:w})),alert("      !")}catch(w){console.error("Upload error:",w),alert(`  : ${w.message}`)}finally{u(!1)}},y=async x=>{if(x.preventDefault(),!s.fileUrl){alert("     .");return}const w={...s,slug:D4e(s.name)};try{r.mode==="create"?(await _f.create(w),n(C=>[...C,{...w,id:"new-"+Date.now(),slug:w.slug||""}])):r.doc&&(await _f.update(r.doc.id,w),n(C=>C.map(S=>S.id===r.doc.id?{...w,id:r.doc.id}:S))),alert("  !"),p()}catch(C){console.error("Failed to save static doc:",C),alert(" .")}},_=async x=>{if(window.confirm("        "))try{await _f.delete(x),n(w=>w.filter(C=>C.id!==x)),alert("  !")}catch(w){console.error("Failed to delete static doc:",w),alert(" .")}};return d.jsxs("div",{children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"   (PDF)"}),d.jsx("button",{onClick:f,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"+   "})]}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:e.map(x=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:x.name}),d.jsx("td",{className:"p-3 text-gray-600 text-sm max-w-md",title:x.description.replace(/<[^>]*>?/gm,""),children:d.jsx("div",{className:"prose prose-sm max-w-none line-clamp-2 compact-prose",dangerouslySetInnerHTML:{__html:x.description}})}),d.jsx("td",{className:"p-3 text-gray-600",children:x.countryCode||""}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse",children:[x.slug&&d.jsx("a",{href:`/${x.countryCode||"dz"}/doc/${x.slug}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>h(x),className:"text-green-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>_(x.id),className:"text-red-600 hover:underline text-sm font-semibold",children:""})]})]},x.id))})]})})}),r.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",children:d.jsxs("form",{onSubmit:y,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:r.mode==="create"?"  ":" "})}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",id:"name",value:s.name,onChange:x=>a(w=>({...w,name:x.target.value})),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:""}),d.jsx(Sr,{theme:"snow",value:s.description,onChange:x=>a(w=>({...w,description:x})),modules:{toolbar:[[{size:["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px",!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"},{align:[]}],["link","image","video"],["clean"]]}})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700 mb-1",children:" ( )"}),d.jsx("input",{type:"text",id:"tags",value:s.tags||"",onChange:x=>a(w=>({...w,tags:x.target.value})),placeholder:":  , , ",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"countryCode",className:"block text-sm font-medium text-gray-700 mb-1",children:" ( : dz)"}),d.jsx("input",{type:"text",id:"countryCode",value:s.countryCode||"",onChange:x=>a(w=>({...w,countryCode:x.target.value.toLowerCase()})),placeholder:"  ",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500"})]}),d.jsxs("div",{className:"space-y-3 border-t pt-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:" "}),d.jsxs("div",{children:[d.jsxs("label",{className:"w-full flex items-center justify-center gap-2 bg-blue-100 text-blue-800 font-semibold py-3 px-4 rounded-lg hover:bg-blue-200 transition-colors cursor-pointer",children:[c?d.jsx(Tt,{className:"animate-spin"}):d.jsx($l,{}),d.jsx("span",{children:c?" ...":"  PDF "}),d.jsx("input",{type:"file",accept:".pdf",onChange:v,className:"hidden"})]}),o&&!c&&d.jsxs("p",{className:"text-xs text-gray-500 mt-2 text-center",children:[" : ",o.name]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"fileUrl",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"url",id:"fileUrl",value:s.fileUrl,readOnly:!0,placeholder:"    ...",className:"block w-full px-3 py-2 bg-gray-100 border border-gray-300 rounded-md shadow-sm"})]})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:p,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:" "})]})]})})})]})},N4e=()=>{const{docId:t}=_a(),{staticDocuments:e,loading:n,siteSettings:r}=un(),{user:i}=jr(),s=Fi(),a=V.useRef(null),[o,l]=V.useState(!1),[c,u]=V.useState(""),f=V.useMemo(()=>e.find(x=>x.id===t),[e,t]),h=V.useMemo(()=>Ni(f==null?void 0:f.fileUrl),[f]),p=(i==null?void 0:i.credits.currency)==="USD"?r==null?void 0:r.pricing.staticDocumentDownload.usd:r==null?void 0:r.pricing.staticDocumentDownload.dzd,v=(i==null?void 0:i.credits.currency)==="USD"?"$":"",g=()=>{const x=a.current;x&&x.contentWindow&&(x.contentWindow.focus(),x.contentWindow.print())},y=()=>{if(f){const x=document.createElement("a");x.href=h,x.setAttribute("download",f.name),document.body.appendChild(x),x.click(),document.body.removeChild(x)}},_=async()=>{if(!i||!r||p===void 0){u("   .        .");return}u("");const x=await eI(i,p);x.success?(l(!0),alert(`  ${p} ${v}  .`)):(u(x.message),x.message.includes("  ")&&setTimeout(()=>s("/app/billing"),2e3))};return n?d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(Tt,{className:"animate-spin text-4xl text-green-600"})}):f?d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:f.name}),o&&d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:g,className:"flex items-center gap-2 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700",children:[d.jsx(Sw,{})," ",d.jsx("span",{children:""})]}),d.jsxs("button",{onClick:y,className:"flex items-center gap-2 bg-green-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-green-700",children:[d.jsx($o,{})," ",d.jsx("span",{children:""})]})]})]}),d.jsx("div",{className:"border rounded-lg overflow-hidden bg-gray-200",children:o?d.jsx("iframe",{ref:a,src:h,title:f.name,className:"w-full h-[70vh] border-0"}):d.jsxs("div",{className:"flex flex-col items-center justify-center h-[70vh] text-center p-4",children:[d.jsx(zH,{className:"text-5xl text-gray-400 mb-4"}),d.jsx("h2",{className:"text-xl font-bold text-gray-800",children:" "}),d.jsxs("p",{className:"text-gray-600 mb-4",children:["     ",d.jsxs("span",{className:"font-bold font-mono",children:[p," ",v]}),"  ."]}),d.jsx("button",{onClick:_,className:"bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700",children:" "}),c&&d.jsx("p",{className:"text-red-500 mt-4",children:c})]})})]}):d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"    "}),d.jsx(dn,{to:"/app",className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700",children:"   "})]})},k4e=()=>{const{countryCode:t,docId:e}=_a(),n=Fi(),{staticDocuments:r,documents:i,fullDocuments:s,siteSettings:a,loading:o}=un(),[l,c]=V.useState(null),[u,f]=V.useState(!0);V.useEffect(()=>{(async()=>{if(!e)return;if(r.some(H=>H.id===e||H.slug===e)){f(!1);return}f(!0);try{const H=i.find(z=>z.id===e||z.slug===e)||s.find(z=>z.id===e||z.slug===e),G=(H==null?void 0:H.slug)||e;let X=`https://datas.gitut.com/data/json/documents/${G}.json`;H&&H.countryCode&&H.countryCode!=="global"&&(X=`https://datas.gitut.com/data/json/documents/${H.countryCode}/${G}.json`);const Z=await fetch(X);if(Z.ok){const z=await Z.json();c(z)}else console.warn(`Failed to fetch document JSON from ${X}: ${Z.status}`)}catch(H){console.error("Error fetching document details:",H)}finally{f(!1)}})()},[e,r,i,s]);const h=V.useMemo(()=>{const U=decodeURIComponent(e||"");if(l)return{...l,serviceType:"doc"};const O=r.find(X=>X.id===U||X.slug===U);if(O)return{...O,serviceType:"static-doc"};const H=s.find(X=>X.id===U||X.slug===U);if(H)return{...H,serviceType:"doc"};const G=i.find(X=>X.id===U||X.slug===U);return G?{...G,serviceType:"doc"}:null},[r,i,s,e,l]),p=(a==null?void 0:a.ads.pdfInterstitialTimer)??5,[v,g]=V.useState(p),[y,_]=V.useState(!1),x=V.useRef(null),[w,C]=V.useState(!1),[S,R]=V.useState({active:!1,format:null}),[D,N]=V.useState(!1),I=V.useMemo(()=>h?h.serviceType==="static-doc"&&h.fileUrl?Ni(h.fileUrl):h.serviceType==="doc"&&"previewTemplateUrl"in h&&h.previewTemplateUrl?Ni(h.previewTemplateUrl):"#":"#",[h]);V.useEffect(()=>{!o&&!u&&h&&g(p)},[o,u,h,p]),V.useEffect(()=>{const U=O=>{x.current&&!x.current.contains(O.target)&&C(!1)};return document.addEventListener("mousedown",U),()=>document.removeEventListener("mousedown",U)},[]);const F=async U=>{if(!(D||!h||h.serviceType!=="doc"||!U)){N(!0);try{const O=l||h,H=[O];if(U==="pdf")await Yy(H,h.id,{},{action:"download",targetLang:"ar",templateType:"preview"});else if(U==="word"){let G="previewTemplateHtml"in O?O.previewTemplateHtml:"";if(!G&&"previewTemplateUrl"in O&&O.previewTemplateUrl){const z=await fetch(Ni(O.previewTemplateUrl));z.ok&&(G=await z.text())}if(!G)throw new Error("Could not load Word template content.");const X=new Blob([`
                    <html xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:w='urn:schemas-microsoft-com:office:word' xmlns='http://www.w3.org/TR/REC-html40'>
                    <head><meta charset='utf-8'><title>${h.name}</title></head>
                    <body>${G}</body>
                    </html>
                `],{type:"application/msword"}),Z=document.createElement("a");Z.href=URL.createObjectURL(X),Z.download=`${h.slug||"document"}.doc`,document.body.appendChild(Z),Z.click(),document.body.removeChild(Z),URL.revokeObjectURL(Z.href)}}catch(O){console.error("Failed to download document:",O),alert("   .")}finally{N(!1),R({active:!1,format:null})}}};V.useEffect(()=>{if(!(o||u||!h)){if(S.active)if(v>0){const U=setTimeout(()=>g(O=>O-1),1e3);return()=>clearTimeout(U)}else F(S.format);else if(!y)if(v>0){const U=setTimeout(()=>g(O=>O-1),1e3);return()=>clearTimeout(U)}else _(!0)}},[v,o,u,h,y,S]);const P=U=>{C(!1),R({active:!0,format:U}),g(p)},k=()=>{if(!h)return;const U=!h.countryCode||h.countryCode==="global",O=U?"/go-to-site/internal-form":`/${t}/go-to-site/internal-form`,H=U?`/public-form/${h.slug||h.id}`:`/${t}/public-form/${h.slug||h.id}`;n(O,{state:{targetUrl:H,siteName:` : ${h.name}`}})};if(o||u)return d.jsxs("div",{className:"flex flex-col items-center justify-center p-10 text-center",children:[d.jsx(Tt,{className:"animate-spin text-4xl text-green-600 mb-4"}),d.jsx("p",{className:"text-gray-600",children:"  ..."})]});if(!h)return d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"    "}),d.jsx("p",{className:"text-gray-600 mb-6",children:"         ."}),d.jsx(dn,{to:"/",className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"   "})]});if(y){const U=()=>h.serviceType==="doc"&&"previewTemplateHtml"in h&&h.previewTemplateHtml?d.jsx("iframe",{srcDoc:h.previewTemplateHtml,title:h.name,className:"w-full h-full border-0"}):I!=="#"?d.jsx("iframe",{src:I,title:h.name,className:"w-full h-full border-0"}):d.jsx("div",{className:"flex items-center justify-center h-full p-8 text-center",children:d.jsx("p",{className:"text-gray-600 text-lg",children:"     ."})});return d.jsxs(d.Fragment,{children:[S.active&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-[100] flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg border space-y-4 max-w-3xl mx-auto text-center",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"   ..."}),d.jsx("p",{className:"text-gray-600",children:"    :"}),d.jsx("div",{className:"text-5xl font-bold text-green-600 font-mono tracking-widest my-4 p-4 bg-gray-100 rounded-lg",children:D?d.jsx(Tt,{className:"animate-spin"}):v}),d.jsxs("div",{className:"pt-6 border-t",children:[d.jsx("p",{className:"text-sm text-gray-500 mb-4",children:":"}),d.jsx(bc,{placement:"PDF_INTERSTITIAL"})]})]})}),d.jsxs("div",{className:"flex h-[85vh] gap-4",children:[d.jsxs("aside",{className:"w-64 flex-shrink-0 bg-white rounded-lg shadow-lg border p-4 flex flex-col",children:[d.jsxs("div",{className:"flex-grow space-y-4",children:[d.jsx("h3",{className:"text-lg font-bold text-center border-b pb-3",children:" "}),h.serviceType==="doc"&&d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:k,className:"w-full flex items-center justify-center gap-2 bg-green-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-green-700 transition-colors",children:[d.jsx(VH,{}),d.jsx("span",{children:"/"})]}),d.jsxs("div",{ref:x,className:"relative",children:[d.jsxs("button",{onClick:()=>C(O=>!O),className:"w-full flex items-center justify-center gap-2 bg-red-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-red-700 transition-colors",children:[d.jsx($o,{}),d.jsx("span",{children:"  "})]}),w&&d.jsx("div",{className:"absolute bottom-full right-0 mb-2 w-full bg-white rounded-lg shadow-xl border z-10",children:d.jsxs("ul",{className:"py-1",children:[d.jsx("li",{children:d.jsxs("button",{onClick:()=>P("pdf"),className:"w-full text-right flex items-center gap-3 px-4 py-2 hover:bg-gray-100",children:[d.jsx(Cw,{className:"text-red-500"}),d.jsx("span",{children:"  PDF"})]})}),d.jsx("li",{children:d.jsxs("button",{onClick:()=>P("word"),className:"w-full text-right flex items-center gap-3 px-4 py-2 hover:bg-gray-100",children:[d.jsx(sI,{className:"text-blue-500"}),d.jsx("span",{children:"  Word"})]})})]})})]})]})]}),d.jsx("div",{className:"mt-6 pt-6 border-t",children:d.jsx(bc,{placement:"PROFILE_SIDEBAR"})})]}),d.jsx("main",{className:"flex-1 bg-white p-2 rounded-lg shadow-lg border h-full",children:U()})]})]})}return d.jsx("div",{className:"max-w-3xl mx-auto text-center",children:d.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg border space-y-4",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"    ..."}),d.jsxs("p",{className:"text-gray-600",children:['  "',h.name,'"   :']}),d.jsx("div",{className:"text-5xl font-bold text-green-600 font-mono tracking-widest my-4 p-4 bg-gray-100 rounded-lg",children:v}),d.jsxs("div",{className:"pt-6 border-t",children:[d.jsx("p",{className:"text-sm text-gray-500 mb-4",children:":"}),d.jsx(bc,{placement:"PDF_INTERSTITIAL"})]})]})})},I4e=({cafe:t,linkTo:e,linkState:n,isOnline:r})=>{const{t:i}=Ui(),s="https://images.unsplash.com/photo-1554118811-1e0d58224f24?auto=format&fit=crop&w=800&q=80",a=t.address.commune&&t.address.wilaya?`${t.address.commune}, ${t.address.wilaya}`:`${t.address.city||""}, ${t.address.state||""}`.replace(/^,|,$/g,"").trim(),o=`/${t.countryCode}/profile/${t.numericId}`;return d.jsxs("article",{className:"bg-white rounded-lg shadow-md overflow-hidden transition-transform hover:scale-105 duration-300 flex flex-col",children:[d.jsx("img",{src:Ni(t.imageUrl)||s,alt:t.name,className:"w-full h-48 object-cover",onError:l=>{l.currentTarget.src=s}}),d.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[d.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:t.name}),r!==void 0&&d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx("span",{className:`w-2.5 h-2.5 rounded-full transition-colors duration-500 ${r===null?"bg-gray-300 animate-pulse":r?"bg-green-500":"bg-gray-400"}`}),d.jsx("span",{className:"text-xs text-gray-600",children:i(r===null?"cafeCard.checkingStatus":r?"cafeCard.online":"cafeCard.offline")})]}),d.jsxs("p",{className:"text-gray-600 mb-1 text-sm",children:[d.jsx("span",{className:"font-semibold",children:i("cafeCard.owner")})," ",t.owner]}),d.jsxs("p",{className:"text-gray-600 mb-2 text-sm",children:[d.jsx("span",{className:"font-semibold",children:i("cafeCard.address")})," ",a]}),t.distance!==void 0&&d.jsx("div",{className:"mb-4",children:d.jsxs("span",{className:"inline-block bg-green-100 text-green-800 text-xs font-semibold px-2.5 py-1 rounded-full",children:["~ ",t.distance.toFixed(1)," ",i("cafeCard.distanceUnit")]})}),d.jsx("p",{className:"text-gray-700 mb-4 flex-grow line-clamp-2",children:t.description}),d.jsxs("div",{className:"mt-auto flex gap-2",children:[e?d.jsx(dn,{to:e,state:n,className:"block text-center flex-grow font-semibold py-2 px-4 rounded-lg transition-colors bg-green-600 text-white hover:bg-green-700",children:i("cafeCard.chooseThisCafe")}):d.jsx(dn,{to:o,className:"block text-center flex-grow font-semibold py-2 px-4 rounded-lg transition-colors bg-gray-200 text-gray-800 hover:bg-gray-300",children:i("cafeCard.viewDetails")}),d.jsx(dn,{to:o,state:{openChat:!0},className:"flex-shrink-0 flex items-center justify-center bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors",title:i("cafeCard.startChat"),children:d.jsx(rI,{})})]})]})]})},to=t=>t?t.replace(/[]/g,"").replace(//g,"").toLowerCase():"",R4e=({cafe:t,linkTo:e,linkState:n})=>{const{usePresence:r}=fh(),{isOnline:i}=r(t.id);return d.jsx(I4e,{cafe:t,linkTo:e,linkState:n,isOnline:i})},P4e=()=>{const t=Lr(),e=Fi(),{countryCode:n}=_a(),{documents:r,sites:i,communes:s,cafes:a}=un(),{documentIds:o}=t.state||{documentIds:[]},[l,c]=V.useState(!1),[u,f]=V.useState([]),[h,p]=V.useState(!1),v=V.useMemo(()=>{const O=r.filter(G=>o.includes(G.id)).map(G=>({...G,serviceType:"doc"})),H=i.filter(G=>o.includes(G.id)).map(G=>({...G,serviceType:"site"}));return[...O,...H]},[o,r,i]),[g,y]=V.useState([]),[_,x]=V.useState(!1),[w,C]=V.useState(""),[S,R]=V.useState([]),[D,N]=V.useState(!1);V.useEffect(()=>{n?(f(a),y(a),x(!0)):o.length>0&&c(!0)},[n,a,o]);const I=async O=>{c(!1),p(!0),x(!1),y([]);try{const H=await fetch(`https://datas.gitut.com/data/json/${O}-cafes-public.json`);if(!H.ok)throw new Error("Failed to load cafes for selected country.");const G=await H.json();f(G),y(G),x(!0)}catch(H){console.error(H),alert("       ."),e("/")}finally{p(!1)}},F=V.useMemo(()=>o&&o.length>0?u:[],[o,u]);V.useEffect(()=>{if(!w.trim()){R([]);return}const O=[],H=[],G=new Set,X=to(w);if(/^\d+$/.test(w)){const z=parseInt(w,10),Q=F.find(B=>B.numericId===z);Q&&O.push({type:"cafe",data:Q})}F.forEach(z=>{!O.some(Q=>Q.data.id===z.id)&&(to(z.name).includes(X)||to(z.owner).includes(X))&&O.push({type:"cafe",data:z})}),s.forEach(z=>{const Q=`${z.wilaya_name}, ${z.daira_name}, ${z.name}`;G.has(Q)||(to(z.name).includes(X)||to(z.daira_name).includes(X)||to(z.wilaya_name).includes(X))&&(H.push({type:"commune",data:z}),G.add(Q))}),R([...O,...H].slice(0,15))},[w,F,s]);const P=O=>{if(O.preventDefault(),N(!1),!w.trim()){y(F),x(!0);return}const H=to(w),X=/^\d+$/.test(w.trim())?parseInt(w.trim(),10):null,Z=F.filter(z=>X!==null&&z.numericId===X||to(z.name).includes(H)||to(z.owner).includes(H)||z.address.wilaya&&to(z.address.wilaya).includes(H)||z.address.daira&&to(z.address.daira).includes(H)||z.address.commune&&to(z.address.commune).includes(H));y(Z),x(!0)},k=O=>{C(""),N(!1),x(!0);const H=O.type==="cafe"?O.data.countryCode:n||"dz";if(O.type==="cafe")e(`/${H}/form`,{state:{cafeId:O.data.id,selectedDocIds:o}});else if(O.type==="commune"){const G=F.filter(X=>X.address.commune===O.data.name&&X.address.daira===O.data.daira_name&&X.address.wilaya===O.data.wilaya_name);y(G)}},U=O=>{switch(O.type){case"cafe":return d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"font-semibold",children:O.data.name}),d.jsxs("span",{className:"text-xs text-gray-500",children:[O.data.address.commune," -  /"]})]});case"commune":return`${O.data.wilaya_name}, ${O.data.daira_name}, ${O.data.name}`}};return o.length===0?d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:":     ."}),d.jsx("p",{className:"text-gray-600 mb-6",children:"       ."}),d.jsx(dn,{to:`/${n||""}`,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700",children:"   "})]}):l?d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[100] flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-sm",children:[d.jsx("h3",{className:"text-xl font-bold mb-4 text-center",children:"     "}),d.jsx("ul",{className:"space-y-2 max-h-72 overflow-y-auto",children:Ir.ar.map(O=>d.jsx("li",{children:d.jsxs("button",{onClick:()=>I(O.code),className:"w-full text-right flex items-center gap-3 px-4 py-3 bg-gray-50 rounded-lg hover:bg-gray-100",children:[d.jsx("span",{className:"text-2xl",children:O.flag}),d.jsx("span",{className:"font-semibold",children:O.name})]})},O.code))})]})}):h?d.jsx("div",{className:"flex justify-center items-center p-20",children:d.jsx(Tt,{className:"animate-spin text-4xl text-green-600"})}):d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8 text-center",children:[d.jsx(dn,{to:`/${n||""}`,className:"text-green-600 hover:underline mb-4 inline-block",children:"    "}),d.jsx("h1",{className:"text-xl font-semibold text-gray-700",children:" 2:    "}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:v.map(O=>O.name).join(" ")})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"  "}),d.jsxs("form",{onSubmit:P,className:"relative max-w-2xl mx-auto flex items-center gap-2",children:[d.jsxs("div",{className:"relative flex-grow",children:[d.jsx(JA,{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"}),d.jsx("input",{type:"text",value:w,onChange:O=>C(O.target.value),onFocus:()=>N(!0),onBlur:()=>setTimeout(()=>N(!1),200),placeholder:"      (  )...",className:"w-full p-4 pr-12 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-lg","aria-label":"  "}),D&&S.length>0&&d.jsx("ul",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-gray-300 rounded-lg shadow-lg z-20 max-h-80 overflow-y-auto",children:S.map((O,H)=>d.jsx("li",{className:"px-4 py-3 cursor-pointer hover:bg-green-50 border-b last:border-b-0",onMouseDown:()=>k(O),children:U(O)},`${O.type}-${O.data.id}-${H}`))})]}),d.jsx("button",{type:"submit",className:"flex-shrink-0 bg-gray-800 text-white p-4 rounded-lg hover:bg-black transition-colors","aria-label":"",children:d.jsx(JA,{className:"h-6 w-6"})})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:_?` (${g.length})`:`      (${F.length})`}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(_?g:F).map(O=>d.jsx(R4e,{cafe:O,linkTo:`/${O.countryCode}/form`,linkState:{cafeId:O.id,selectedDocIds:o}},O.id))}),_&&g.length===0&&d.jsx("div",{className:"text-center py-10 bg-white rounded-lg shadow",children:d.jsx("p",{className:"text-gray-600 text-lg",children:"      ."})})]})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Gb={};Gb.version="0.18.5";var vK=1252,F4e=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],CI={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},SI=function(t){F4e.indexOf(t)!=-1&&(vK=CI[0]=t)};function M4e(){SI(1252)}var Go=function(t){SI(t)};function DI(){Go(1200),M4e()}function rO(t){for(var e=[],n=0,r=t.length;n<r;++n)e[n]=t.charCodeAt(n);return e}function U4e(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n)+(t.charCodeAt(2*n+1)<<8));return e.join("")}function xK(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n+1)+(t.charCodeAt(2*n)<<8));return e.join("")}var I0=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1);return e==255&&n==254?U4e(t.slice(2)):e==254&&n==255?xK(t.slice(2)):e==65279?t.slice(1):t},Bx=function(e){return String.fromCharCode(e)},iO=function(e){return String.fromCharCode(e)},Qy,ku="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Zy(t){for(var e="",n=0,r=0,i=0,s=0,a=0,o=0,l=0,c=0;c<t.length;)n=t.charCodeAt(c++),s=n>>2,r=t.charCodeAt(c++),a=(n&3)<<4|r>>4,i=t.charCodeAt(c++),o=(r&15)<<2|i>>6,l=i&63,isNaN(r)?o=l=64:isNaN(i)&&(l=64),e+=ku.charAt(s)+ku.charAt(a)+ku.charAt(o)+ku.charAt(l);return e}function qa(t){var e="",n=0,r=0,i=0,s=0,a=0,o=0,l=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<t.length;)s=ku.indexOf(t.charAt(c++)),a=ku.indexOf(t.charAt(c++)),n=s<<2|a>>4,e+=String.fromCharCode(n),o=ku.indexOf(t.charAt(c++)),r=(a&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(r)),l=ku.indexOf(t.charAt(c++)),i=(o&3)<<6|l,l!==64&&(e+=String.fromCharCode(i));return e}var _n=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),zc=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,n){return n?new Buffer(e,n):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function id(t){return _n?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function sO(t){return _n?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Ma=function(e){return _n?zc(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)&255})};function Ow(t){if(typeof ArrayBuffer>"u")return Ma(t);for(var e=new ArrayBuffer(t.length),n=new Uint8Array(e),r=0;r!=t.length;++r)n[r]=t.charCodeAt(r)&255;return e}function vd(t){if(Array.isArray(t))return t.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],n=0;n<t.length;++n)e[n]=String.fromCharCode(t[n]);return e.join("")}function O4e(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}function AI(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return AI(new Uint8Array(t));for(var e=new Array(t.length),n=0;n<t.length;++n)e[n]=t[n];return e}var Ji=_n?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:zc(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,n=0;for(e=0;e<t.length;++e)n+=t[e].length;var r=new Uint8Array(n),i=0;for(e=0,n=0;e<t.length;n+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)r.set(t[e],n);else{if(typeof t[e]=="string")throw"wtf";r.set(new Uint8Array(t[e]),n)}return r}return[].concat.apply([],t.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function L4e(t){for(var e=[],n=0,r=t.length+250,i=id(t.length+255),s=0;s<t.length;++s){var a=t.charCodeAt(s);if(a<128)i[n++]=a;else if(a<2048)i[n++]=192|a>>6&31,i[n++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var o=t.charCodeAt(++s)&1023;i[n++]=240|a>>8&7,i[n++]=128|a>>2&63,i[n++]=128|o>>6&15|(a&3)<<4,i[n++]=128|o&63}else i[n++]=224|a>>12&15,i[n++]=128|a>>6&63,i[n++]=128|a&63;n>r&&(e.push(i.slice(0,n)),n=0,i=id(65535),r=65530)}return e.push(i.slice(0,n)),Ji(e)}var Ks=/\u0000/g,R0=/[\u0001-\u0006]/g;function Hp(t){for(var e="",n=t.length-1;n>=0;)e+=t.charAt(n--);return e}function Ko(t,e){var n=""+t;return n.length>=e?n:Xr("0",e-n.length)+n}function NI(t,e){var n=""+t;return n.length>=e?n:Xr(" ",e-n.length)+n}function Kb(t,e){var n=""+t;return n.length>=e?n:n+Xr(" ",e-n.length)}function j4e(t,e){var n=""+Math.round(t);return n.length>=e?n:Xr("0",e-n.length)+n}function B4e(t,e){var n=""+t;return n.length>=e?n:Xr("0",e-n.length)+n}var aO=Math.pow(2,32);function pp(t,e){if(t>aO||t<-aO)return j4e(t,e);var n=Math.round(t);return B4e(n,e)}function Jb(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var oO=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],c4=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function V4e(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var tn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},lO={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},W4e={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Xb(t,e,n){for(var r=t<0?-1:1,i=t*r,s=0,a=1,o=0,l=1,c=0,u=0,f=Math.floor(i);c<e&&(f=Math.floor(i),o=f*a+s,u=f*c+l,!(i-f<5e-8));)i=1/(i-f),s=a,a=o,l=c,c=u;if(u>e&&(c>e?(u=l,o=s):(u=c,o=a)),!n)return[0,r*o,u];var h=Math.floor(r*o/u);return[h,r*o-h*u,u]}function gf(t,e,n){if(t>2958465||t<0)return null;var r=t|0,i=Math.floor(86400*(t-r)),s=0,a=[],o={D:r,T:i,u:86400*(t-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(r+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++r,++o.D)),r===60)a=n?[1317,10,29]:[1900,2,29],s=3;else if(r===0)a=n?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var l=new Date(1900,0,1);l.setDate(l.getDate()+r-1),a=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),r<60&&(s=(s+6)%7),n&&(s=K4e(l,a))}return o.y=a[0],o.m=a[1],o.d=a[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=s,o}var bK=new Date(1899,11,31,0,0,0),q4e=bK.getTime(),$4e=new Date(1900,2,1,0,0,0);function _K(t,e){var n=t.getTime();return e?n-=1461*24*60*60*1e3:t>=$4e&&(n+=1440*60*1e3),(n-(q4e+(t.getTimezoneOffset()-bK.getTimezoneOffset())*6e4))/(1440*60*1e3)}function kI(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function z4e(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function H4e(t){var e=t<0?12:11,n=kI(t.toFixed(12));return n.length<=e||(n=t.toPrecision(10),n.length<=e)?n:t.toExponential(5)}function G4e(t){var e=kI(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function e1(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),n;return e>=-4&&e<=-1?n=t.toPrecision(10+e):Math.abs(e)<=9?n=H4e(t):e===10?n=t.toFixed(10).substr(0,12):n=G4e(t),kI(z4e(n.toUpperCase()))}function Gf(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):e1(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return _o(14,_K(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function K4e(t,e){e[0]-=581;var n=t.getDay();return t<60&&(n=(n+6)%7),n}function J4e(t,e,n,r){var i="",s=0,a=0,o=n.y,l,c=0;switch(t){case 98:o=n.y+543;case 121:switch(e.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(e.length){case 1:case 2:l=n.m,c=e.length;break;case 3:return c4[n.m-1][1];case 5:return c4[n.m-1][0];default:return c4[n.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=n.d,c=e.length;break;case 3:return oO[n.q][0];default:return oO[n.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(n.H+11)%12,c=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=n.H,c=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=n.M,c=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return n.u===0&&(e=="s"||e=="ss")?Ko(n.S,e.length):(r>=2?a=r===3?1e3:100:a=r===1?10:1,s=Math.round(a*(n.S+n.u)),s>=60*a&&(s=0),e==="s"?s===0?"0":""+s/a:(i=Ko(s,2+r),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=n.D*24+n.H;break;case"[m]":case"[mm]":l=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":l=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+e}c=e.length===3?1:2;break;case 101:l=o,c=1;break}var u=c>0?Ko(l,c):"";return u}function Iu(t){var e=3;if(t.length<=e)return t;for(var n=t.length%e,r=t.substr(0,n);n!=t.length;n+=e)r+=(r.length>0?",":"")+t.substr(n,e);return r}var wK=/%/g;function X4e(t,e,n){var r=e.replace(wK,""),i=e.length-r.length;return wc(t,r,n*Math.pow(10,2*i))+Xr("%",i)}function Y4e(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return wc(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function TK(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+TK(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),n.indexOf("e")===-1){var a=Math.floor(Math.log(e)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(a-n.length+s):n+="E+"+(a-s);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(i+s)%i)+"."+u.substr(s)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var EK=/# (\?+)( ?)\/( ?)(\d+)/;function Q4e(t,e,n){var r=parseInt(t[4],10),i=Math.round(e*r),s=Math.floor(i/r),a=i-s*r,o=r;return n+(s===0?"":""+s)+" "+(a===0?Xr(" ",t[1].length+1+t[4].length):NI(a,t[1].length)+t[2]+"/"+t[3]+Ko(o,t[4].length))}function Z4e(t,e,n){return n+(e===0?"":""+e)+Xr(" ",t[1].length+2+t[4].length)}var CK=/^#*0*\.([0#]+)/,SK=/\).*[0#]/,DK=/\(###\) ###\\?-####/;function qs(t){for(var e="",n,r=0;r!=t.length;++r)switch(n=t.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(n)}return e}function cO(t,e){var n=Math.pow(10,e);return""+Math.round(t*n)/n}function uO(t,e){var n=t-Math.floor(t),r=Math.pow(10,e);return e<(""+Math.round(n*r)).length?0:Math.round(n*r)}function eDe(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function tDe(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function so(t,e,n){if(t.charCodeAt(0)===40&&!e.match(SK)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?so("n",r,n):"("+so("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return Y4e(t,e,n);if(e.indexOf("%")!==-1)return X4e(t,e,n);if(e.indexOf("E")!==-1)return TK(e,n);if(e.charCodeAt(0)===36)return"$"+so(t,e.substr(e.charAt(1)==" "?2:1),n);var i,s,a,o,l=Math.abs(n),c=n<0?"-":"";if(e.match(/^00+$/))return c+pp(l,e.length);if(e.match(/^[#?]+$/))return i=pp(n,0),i==="0"&&(i=""),i.length>e.length?i:qs(e.substr(0,e.length-i.length))+i;if(s=e.match(EK))return Q4e(s,l,c);if(e.match(/^#+0+$/))return c+pp(l,e.length-e.indexOf("0"));if(s=e.match(CK))return i=cO(n,s[1].length).replace(/^([^\.]+)$/,"$1."+qs(s[1])).replace(/\.$/,"."+qs(s[1])).replace(/\.(\d*)$/,function(v,g){return"."+g+Xr("0",qs(s[1]).length-g.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return c+cO(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return c+Iu(pp(l,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+so(t,e,-n):Iu(""+(Math.floor(n)+eDe(n,s[1].length)))+"."+Ko(uO(n,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return so(t,e.replace(/^#,#*,/,""),n);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Hp(so(t,e.replace(/[\\-]/g,""),n)),a=0,Hp(Hp(e.replace(/\\/g,"")).replace(/[0#]/g,function(v){return a<i.length?i.charAt(a++):v==="0"?"0":""}));if(e.match(DK))return i=so(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=Xb(l,Math.pow(10,a)-1,!1),i=""+c,u=wc("n",s[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+s[2]+"/"+s[3],u=Kb(o[2],a),u.length<s[4].length&&(u=qs(s[4].substr(s[4].length-u.length))+u),i+=u,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=Xb(l,Math.pow(10,a)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?NI(o[1],a)+s[2]+"/"+s[3]+Kb(o[2],a):Xr(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=pp(n,0),e.length<=i.length?i:qs(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var f=e.indexOf(".")-a,h=e.length-i.length-f;return qs(e.substr(0,f)+i+e.substr(e.length-h))}if(s=e.match(/^00,000\.([#0]*0)$/))return a=uO(n,s[1].length),n<0?"-"+so(t,e,-n):Iu(tDe(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?Ko(0,3-v.length):"")+v})+"."+Ko(a,s[1].length);switch(e){case"###,##0.00":return so(t,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var p=Iu(pp(l,0));return p!=="0"?c+p:"";case"###,###.00":return so(t,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return so(t,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function nDe(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return wc(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function rDe(t,e,n){var r=e.replace(wK,""),i=e.length-r.length;return wc(t,r,n*Math.pow(10,2*i))+Xr("%",i)}function AK(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+AK(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),!n.match(/[Ee]/)){var a=Math.floor(Math.log(e)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(a-n.length+s):n+="E+"+(a-s),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(i+s)%i)+"."+u.substr(s)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function vl(t,e,n){if(t.charCodeAt(0)===40&&!e.match(SK)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?vl("n",r,n):"("+vl("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return nDe(t,e,n);if(e.indexOf("%")!==-1)return rDe(t,e,n);if(e.indexOf("E")!==-1)return AK(e,n);if(e.charCodeAt(0)===36)return"$"+vl(t,e.substr(e.charAt(1)==" "?2:1),n);var i,s,a,o,l=Math.abs(n),c=n<0?"-":"";if(e.match(/^00+$/))return c+Ko(l,e.length);if(e.match(/^[#?]+$/))return i=""+n,n===0&&(i=""),i.length>e.length?i:qs(e.substr(0,e.length-i.length))+i;if(s=e.match(EK))return Z4e(s,l,c);if(e.match(/^#+0+$/))return c+Ko(l,e.length-e.indexOf("0"));if(s=e.match(CK))return i=(""+n).replace(/^([^\.]+)$/,"$1."+qs(s[1])).replace(/\.$/,"."+qs(s[1])),i=i.replace(/\.(\d*)$/,function(v,g){return"."+g+Xr("0",qs(s[1]).length-g.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return c+Iu(""+l);if(s=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+vl(t,e,-n):Iu(""+n)+"."+Xr("0",s[1].length);if(s=e.match(/^#,#*,#0/))return vl(t,e.replace(/^#,#*,/,""),n);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Hp(vl(t,e.replace(/[\\-]/g,""),n)),a=0,Hp(Hp(e.replace(/\\/g,"")).replace(/[0#]/g,function(v){return a<i.length?i.charAt(a++):v==="0"?"0":""}));if(e.match(DK))return i=vl(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=Xb(l,Math.pow(10,a)-1,!1),i=""+c,u=wc("n",s[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+s[2]+"/"+s[3],u=Kb(o[2],a),u.length<s[4].length&&(u=qs(s[4].substr(s[4].length-u.length))+u),i+=u,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=Xb(l,Math.pow(10,a)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?NI(o[1],a)+s[2]+"/"+s[3]+Kb(o[2],a):Xr(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+n,e.length<=i.length?i:qs(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var f=e.indexOf(".")-a,h=e.length-i.length-f;return qs(e.substr(0,f)+i+e.substr(e.length-h))}if(s=e.match(/^00,000\.([#0]*0)$/))return n<0?"-"+vl(t,e,-n):Iu(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?Ko(0,3-v.length):"")+v})+"."+Ko(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var p=Iu(""+l);return p!=="0"?c+p:"";default:if(e.match(/\.[0#?]*$/))return vl(t,e.slice(0,e.lastIndexOf(".")),n)+qs(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function wc(t,e,n){return(n|0)===n?vl(t,e,n):so(t,e,n)}function iDe(t){for(var e=[],n=!1,r=0,i=0;r<t.length;++r)switch(t.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=t.substr(i,r-i),i=r+1}if(e[e.length]=t.substr(i),n===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var NK=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function lg(t){for(var e=0,n="",r="";e<t.length;)switch(n=t.charAt(e)){case"G":Jb(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=n;t.charAt(e++)!=="]"&&e<t.length;)r+=t.charAt(e);if(r.match(NK))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(n=t.charAt(++e))>-1||n=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===n;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function sDe(t,e,n,r){for(var i=[],s="",a=0,o="",l="t",c,u,f,h="H";a<t.length;)switch(o=t.charAt(a)){case"G":if(!Jb(t,a))throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"G",v:"General"},a+=7;break;case'"':for(s="";(f=t.charCodeAt(++a))!==34&&a<t.length;)s+=String.fromCharCode(f);i[i.length]={t:"t",v:s},++a;break;case"\\":var p=t.charAt(++a),v=p==="("||p===")"?p:"t";i[i.length]={t:v,v:p},++a;break;case"_":i[i.length]={t:"t",v:" "},a+=2;break;case"@":i[i.length]={t:"T",v:e},++a;break;case"B":case"b":if(t.charAt(a+1)==="1"||t.charAt(a+1)==="2"){if(c==null&&(c=gf(e,n,t.charAt(a+1)==="2"),c==null))return"";i[i.length]={t:"X",v:t.substr(a,2)},l=o,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||c==null&&(c=gf(e,n),c==null))return"";for(s=o;++a<t.length&&t.charAt(a).toLowerCase()===o;)s+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),i[i.length]={t:o,v:s},l=o;break;case"A":case"a":case"":var g={t:o,v:o};if(c==null&&(c=gf(e,n)),t.substr(a,3).toUpperCase()==="A/P"?(c!=null&&(g.v=c.H>=12?"P":"A"),g.t="T",h="h",a+=3):t.substr(a,5).toUpperCase()==="AM/PM"?(c!=null&&(g.v=c.H>=12?"PM":"AM"),g.t="T",a+=5,h="h"):t.substr(a,5).toUpperCase()==="/"?(c!=null&&(g.v=c.H>=12?"":""),g.t="T",a+=5,h="h"):(g.t="t",++a),c==null&&g.t==="T")return"";i[i.length]=g,l=o;break;case"[":for(s=o;t.charAt(a++)!=="]"&&a<t.length;)s+=t.charAt(a);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(NK)){if(c==null&&(c=gf(e,n),c==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},l=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",lg(t)||(i[i.length]={t:"t",v:s}));break;case".":if(c!=null){for(s=o;++a<t.length&&(o=t.charAt(a))==="0";)s+=o;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=o;++a<t.length&&"0#?.,E+-%".indexOf(o=t.charAt(a))>-1;)s+=o;i[i.length]={t:"n",v:s};break;case"?":for(s=o;t.charAt(++a)===o;)s+=o;i[i.length]={t:o,v:s},l=o;break;case"*":++a,(t.charAt(a)==" "||t.charAt(a)=="*")&&++a;break;case"(":case")":i[i.length]={t:r===1?"t":o,v:o},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=o;a<t.length&&"0123456789".indexOf(t.charAt(++a))>-1;)s+=t.charAt(a);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:o,v:o},++a;break;case"$":i[i.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"t",v:o},++a;break}var y=0,_=0,x;for(a=i.length-1,l="t";a>=0;--a)switch(i[a].t){case"h":case"H":i[a].t=h,l="h",y<1&&(y=1);break;case"s":(x=i[a].v.match(/\.0+$/))&&(_=Math.max(_,x[0].length-1)),y<3&&(y=3);case"d":case"y":case"M":case"e":l=i[a].t;break;case"m":l==="s"&&(i[a].t="M",y<2&&(y=2));break;case"X":break;case"Z":y<1&&i[a].v.match(/[Hh]/)&&(y=1),y<2&&i[a].v.match(/[Mm]/)&&(y=2),y<3&&i[a].v.match(/[Ss]/)&&(y=3)}switch(y){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var w="",C;for(a=0;a<i.length;++a)switch(i[a].t){case"t":case"T":case" ":case"D":break;case"X":i[a].v="",i[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[a].v=J4e(i[a].t.charCodeAt(0),i[a].v,c,_),i[a].t="t";break;case"n":case"?":for(C=a+1;i[C]!=null&&((o=i[C].t)==="?"||o==="D"||(o===" "||o==="t")&&i[C+1]!=null&&(i[C+1].t==="?"||i[C+1].t==="t"&&i[C+1].v==="/")||i[a].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[C].v==="/"||i[C].v===" "&&i[C+1]!=null&&i[C+1].t=="?"));)i[a].v+=i[C].v,i[C]={v:"",t:";"},++C;w+=i[a].v,a=C-1;break;case"G":i[a].t="t",i[a].v=Gf(e,n);break}var S="",R,D;if(w.length>0){w.charCodeAt(0)==40?(R=e<0&&w.charCodeAt(0)===45?-e:e,D=wc("n",w,R)):(R=e<0&&r>1?-e:e,D=wc("n",w,R),R<0&&i[0]&&i[0].t=="t"&&(D=D.substr(1),i[0].v="-"+i[0].v)),C=D.length-1;var N=i.length;for(a=0;a<i.length;++a)if(i[a]!=null&&i[a].t!="t"&&i[a].v.indexOf(".")>-1){N=a;break}var I=i.length;if(N===i.length&&D.indexOf("E")===-1){for(a=i.length-1;a>=0;--a)i[a]==null||"n?".indexOf(i[a].t)===-1||(C>=i[a].v.length-1?(C-=i[a].v.length,i[a].v=D.substr(C+1,i[a].v.length)):C<0?i[a].v="":(i[a].v=D.substr(0,C+1),C=-1),i[a].t="t",I=a);C>=0&&I<i.length&&(i[I].v=D.substr(0,C+1)+i[I].v)}else if(N!==i.length&&D.indexOf("E")===-1){for(C=D.indexOf(".")-1,a=N;a>=0;--a)if(!(i[a]==null||"n?".indexOf(i[a].t)===-1)){for(u=i[a].v.indexOf(".")>-1&&a===N?i[a].v.indexOf(".")-1:i[a].v.length-1,S=i[a].v.substr(u+1);u>=0;--u)C>=0&&(i[a].v.charAt(u)==="0"||i[a].v.charAt(u)==="#")&&(S=D.charAt(C--)+S);i[a].v=S,i[a].t="t",I=a}for(C>=0&&I<i.length&&(i[I].v=D.substr(0,C+1)+i[I].v),C=D.indexOf(".")+1,a=N;a<i.length;++a)if(!(i[a]==null||"n?(".indexOf(i[a].t)===-1&&a!==N)){for(u=i[a].v.indexOf(".")>-1&&a===N?i[a].v.indexOf(".")+1:0,S=i[a].v.substr(0,u);u<i[a].v.length;++u)C<D.length&&(S+=D.charAt(C++));i[a].v=S,i[a].t="t",I=a}}}for(a=0;a<i.length;++a)i[a]!=null&&"n?".indexOf(i[a].t)>-1&&(R=r>1&&e<0&&a>0&&i[a-1].v==="-"?-e:e,i[a].v=wc(i[a].t,i[a].v,R),i[a].t="t");var F="";for(a=0;a!==i.length;++a)i[a]!=null&&(F+=i[a].v);return F}var dO=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function fO(t,e){if(e==null)return!1;var n=parseFloat(e[2]);switch(e[1]){case"=":if(t==n)return!0;break;case">":if(t>n)return!0;break;case"<":if(t<n)return!0;break;case"<>":if(t!=n)return!0;break;case">=":if(t>=n)return!0;break;case"<=":if(t<=n)return!0;break}return!1}function aDe(t,e){var n=iDe(t),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof e!="number")return[4,n.length===4||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var s=e>0?n[0]:e<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,s];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var a=n[0].match(dO),o=n[1].match(dO);return fO(e,a)?[r,n[0]]:fO(e,o)?[r,n[1]]:[r,n[a!=null&&o!=null?2:1]]}return[r,s]}function _o(t,e,n){n==null&&(n={});var r="";switch(typeof t){case"string":t=="m/d/yy"&&n.dateNF?r=n.dateNF:r=t;break;case"number":t==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:tn)[t],r==null&&(r=n.table&&n.table[lO[t]]||tn[lO[t]]),r==null&&(r=W4e[t]||"General");break}if(Jb(r,0))return Gf(e,n);e instanceof Date&&(e=_K(e,n.date1904));var i=aDe(r,e);if(Jb(i[1]))return Gf(e,n);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return sDe(i[1],e,n,i[0])}function Tc(t,e){if(typeof e!="number"){e=+e||-1;for(var n=0;n<392;++n){if(tn[n]==null){e<0&&(e=n);continue}if(tn[n]==t){e=n;break}}e<0&&(e=391)}return tn[e]=t,e}function Lw(t){for(var e=0;e!=392;++e)t[e]!==void 0&&Tc(t[e],e)}function cg(){tn=V4e()}var oDe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},kK=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function lDe(t){var e=typeof t=="number"?tn[t]:t;return e=e.replace(kK,"(\\d+)"),new RegExp("^"+e+"$")}function cDe(t,e,n){var r=-1,i=-1,s=-1,a=-1,o=-1,l=-1;(e.match(kK)||[]).forEach(function(f,h){var p=parseInt(n[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":r=p;break;case"d":s=p;break;case"h":a=p;break;case"s":l=p;break;case"m":a>=0?o=p:i=p;break}}),l>=0&&o==-1&&i>=0&&(o=i,i=-1);var c=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return a==-1&&o==-1&&l==-1?c:r==-1&&i==-1&&s==-1?u:c+"T"+u}var uDe=(function(){var t={};t.version="1.2.0";function e(){for(var D=0,N=new Array(256),I=0;I!=256;++I)D=I,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,N[I]=D;return typeof Int32Array<"u"?new Int32Array(N):N}var n=e();function r(D){var N=0,I=0,F=0,P=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(F=0;F!=256;++F)P[F]=D[F];for(F=0;F!=256;++F)for(I=D[F],N=256+F;N<4096;N+=256)I=P[N]=I>>>8^D[I&255];var k=[];for(F=1;F!=16;++F)k[F-1]=typeof Int32Array<"u"?P.subarray(F*256,F*256+256):P.slice(F*256,F*256+256);return k}var i=r(n),s=i[0],a=i[1],o=i[2],l=i[3],c=i[4],u=i[5],f=i[6],h=i[7],p=i[8],v=i[9],g=i[10],y=i[11],_=i[12],x=i[13],w=i[14];function C(D,N){for(var I=N^-1,F=0,P=D.length;F<P;)I=I>>>8^n[(I^D.charCodeAt(F++))&255];return~I}function S(D,N){for(var I=N^-1,F=D.length-15,P=0;P<F;)I=w[D[P++]^I&255]^x[D[P++]^I>>8&255]^_[D[P++]^I>>16&255]^y[D[P++]^I>>>24]^g[D[P++]]^v[D[P++]]^p[D[P++]]^h[D[P++]]^f[D[P++]]^u[D[P++]]^c[D[P++]]^l[D[P++]]^o[D[P++]]^a[D[P++]]^s[D[P++]]^n[D[P++]];for(F+=15;P<F;)I=I>>>8^n[(I^D[P++])&255];return~I}function R(D,N){for(var I=N^-1,F=0,P=D.length,k=0,U=0;F<P;)k=D.charCodeAt(F++),k<128?I=I>>>8^n[(I^k)&255]:k<2048?(I=I>>>8^n[(I^(192|k>>6&31))&255],I=I>>>8^n[(I^(128|k&63))&255]):k>=55296&&k<57344?(k=(k&1023)+64,U=D.charCodeAt(F++)&1023,I=I>>>8^n[(I^(240|k>>8&7))&255],I=I>>>8^n[(I^(128|k>>2&63))&255],I=I>>>8^n[(I^(128|U>>6&15|(k&3)<<4))&255],I=I>>>8^n[(I^(128|U&63))&255]):(I=I>>>8^n[(I^(224|k>>12&15))&255],I=I>>>8^n[(I^(128|k>>6&63))&255],I=I>>>8^n[(I^(128|k&63))&255]);return~I}return t.table=n,t.bstr=C,t.buf=S,t.str=R,t})(),Jt=(function(){var e={};e.version="1.2.1";function n(me,we){for(var xe=me.split("/"),Ee=we.split("/"),Ae=0,Se=0,Ve=Math.min(xe.length,Ee.length);Ae<Ve;++Ae){if(Se=xe[Ae].length-Ee[Ae].length)return Se;if(xe[Ae]!=Ee[Ae])return xe[Ae]<Ee[Ae]?-1:1}return xe.length-Ee.length}function r(me){if(me.charAt(me.length-1)=="/")return me.slice(0,-1).indexOf("/")===-1?me:r(me.slice(0,-1));var we=me.lastIndexOf("/");return we===-1?me:me.slice(0,we+1)}function i(me){if(me.charAt(me.length-1)=="/")return i(me.slice(0,-1));var we=me.lastIndexOf("/");return we===-1?me:me.slice(we+1)}function s(me,we){typeof we=="string"&&(we=new Date(we));var xe=we.getHours();xe=xe<<6|we.getMinutes(),xe=xe<<5|we.getSeconds()>>>1,me.write_shift(2,xe);var Ee=we.getFullYear()-1980;Ee=Ee<<4|we.getMonth()+1,Ee=Ee<<5|we.getDate(),me.write_shift(2,Ee)}function a(me){var we=me.read_shift(2)&65535,xe=me.read_shift(2)&65535,Ee=new Date,Ae=xe&31;xe>>>=5;var Se=xe&15;xe>>>=4,Ee.setMilliseconds(0),Ee.setFullYear(xe+1980),Ee.setMonth(Se-1),Ee.setDate(Ae);var Ve=we&31;we>>>=5;var Ze=we&63;return we>>>=6,Ee.setHours(we),Ee.setMinutes(Ze),Ee.setSeconds(Ve<<1),Ee}function o(me){os(me,0);for(var we={},xe=0;me.l<=me.length-4;){var Ee=me.read_shift(2),Ae=me.read_shift(2),Se=me.l+Ae,Ve={};switch(Ee){case 21589:xe=me.read_shift(1),xe&1&&(Ve.mtime=me.read_shift(4)),Ae>5&&(xe&2&&(Ve.atime=me.read_shift(4)),xe&4&&(Ve.ctime=me.read_shift(4))),Ve.mtime&&(Ve.mt=new Date(Ve.mtime*1e3));break}me.l=Se,we[Ee]=Ve}return we}var l;function c(){return l||(l={})}function u(me,we){if(me[0]==80&&me[1]==75)return yn(me,we);if((me[0]|32)==109&&(me[1]|32)==105)return Ot(me,we);if(me.length<512)throw new Error("CFB file size "+me.length+" < 512");var xe=3,Ee=512,Ae=0,Se=0,Ve=0,Ze=0,$e=0,Xe=[],Ke=me.slice(0,512);os(Ke,0);var ut=f(Ke);switch(xe=ut[0],xe){case 3:Ee=512;break;case 4:Ee=4096;break;case 0:if(ut[1]==0)return yn(me,we);default:throw new Error("Major Version: Expected 3 or 4 saw "+xe)}Ee!==512&&(Ke=me.slice(0,Ee),os(Ke,28));var xt=me.slice(0,Ee);h(Ke,xe);var kt=Ke.read_shift(4,"i");if(xe===3&&kt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+kt);Ke.l+=4,Ve=Ke.read_shift(4,"i"),Ke.l+=4,Ke.chk("00100000","Mini Stream Cutoff Size: "),Ze=Ke.read_shift(4,"i"),Ae=Ke.read_shift(4,"i"),$e=Ke.read_shift(4,"i"),Se=Ke.read_shift(4,"i");for(var vt=-1,pt=0;pt<109&&(vt=Ke.read_shift(4,"i"),!(vt<0));++pt)Xe[pt]=vt;var en=p(me,Ee);y($e,Se,en,Ee,Xe);var Un=x(en,Ve,Xe,Ee);Un[Ve].name="!Directory",Ae>0&&Ze!==U&&(Un[Ze].name="!MiniFAT"),Un[Xe[0]].name="!FAT",Un.fat_addrs=Xe,Un.ssz=Ee;var An={},Wn=[],Ca=[],za=[];w(Ve,Un,en,Wn,Ae,An,Ca,Ze),v(Ca,za,Wn),Wn.shift();var Ye={FileIndex:Ca,FullPaths:za};return we&&we.raw&&(Ye.raw={header:xt,sectors:en}),Ye}function f(me){if(me[me.l]==80&&me[me.l+1]==75)return[0,0];me.chk(O,"Header Signature: "),me.l+=16;var we=me.read_shift(2,"u");return[me.read_shift(2,"u"),we]}function h(me,we){var xe=9;switch(me.l+=2,xe=me.read_shift(2)){case 9:if(we!=3)throw new Error("Sector Shift: Expected 9 saw "+xe);break;case 12:if(we!=4)throw new Error("Sector Shift: Expected 12 saw "+xe);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+xe)}me.chk("0600","Mini Sector Shift: "),me.chk("000000000000","Reserved: ")}function p(me,we){for(var xe=Math.ceil(me.length/we)-1,Ee=[],Ae=1;Ae<xe;++Ae)Ee[Ae-1]=me.slice(Ae*we,(Ae+1)*we);return Ee[xe-1]=me.slice(xe*we),Ee}function v(me,we,xe){for(var Ee=0,Ae=0,Se=0,Ve=0,Ze=0,$e=xe.length,Xe=[],Ke=[];Ee<$e;++Ee)Xe[Ee]=Ke[Ee]=Ee,we[Ee]=xe[Ee];for(;Ze<Ke.length;++Ze)Ee=Ke[Ze],Ae=me[Ee].L,Se=me[Ee].R,Ve=me[Ee].C,Xe[Ee]===Ee&&(Ae!==-1&&Xe[Ae]!==Ae&&(Xe[Ee]=Xe[Ae]),Se!==-1&&Xe[Se]!==Se&&(Xe[Ee]=Xe[Se])),Ve!==-1&&(Xe[Ve]=Ee),Ae!==-1&&Ee!=Xe[Ee]&&(Xe[Ae]=Xe[Ee],Ke.lastIndexOf(Ae)<Ze&&Ke.push(Ae)),Se!==-1&&Ee!=Xe[Ee]&&(Xe[Se]=Xe[Ee],Ke.lastIndexOf(Se)<Ze&&Ke.push(Se));for(Ee=1;Ee<$e;++Ee)Xe[Ee]===Ee&&(Se!==-1&&Xe[Se]!==Se?Xe[Ee]=Xe[Se]:Ae!==-1&&Xe[Ae]!==Ae&&(Xe[Ee]=Xe[Ae]));for(Ee=1;Ee<$e;++Ee)if(me[Ee].type!==0){if(Ze=Ee,Ze!=Xe[Ze])do Ze=Xe[Ze],we[Ee]=we[Ze]+"/"+we[Ee];while(Ze!==0&&Xe[Ze]!==-1&&Ze!=Xe[Ze]);Xe[Ee]=-1}for(we[0]+="/",Ee=1;Ee<$e;++Ee)me[Ee].type!==2&&(we[Ee]+="/")}function g(me,we,xe){for(var Ee=me.start,Ae=me.size,Se=[],Ve=Ee;xe&&Ae>0&&Ve>=0;)Se.push(we.slice(Ve*k,Ve*k+k)),Ae-=k,Ve=sf(xe,Ve*4);return Se.length===0?it(0):Ji(Se).slice(0,me.size)}function y(me,we,xe,Ee,Ae){var Se=U;if(me===U){if(we!==0)throw new Error("DIFAT chain shorter than expected")}else if(me!==-1){var Ve=xe[me],Ze=(Ee>>>2)-1;if(!Ve)return;for(var $e=0;$e<Ze&&(Se=sf(Ve,$e*4))!==U;++$e)Ae.push(Se);y(sf(Ve,Ee-4),we-1,xe,Ee,Ae)}}function _(me,we,xe,Ee,Ae){var Se=[],Ve=[];Ae||(Ae=[]);var Ze=Ee-1,$e=0,Xe=0;for($e=we;$e>=0;){Ae[$e]=!0,Se[Se.length]=$e,Ve.push(me[$e]);var Ke=xe[Math.floor($e*4/Ee)];if(Xe=$e*4&Ze,Ee<4+Xe)throw new Error("FAT boundary crossed: "+$e+" 4 "+Ee);if(!me[Ke])break;$e=sf(me[Ke],Xe)}return{nodes:Se,data:EO([Ve])}}function x(me,we,xe,Ee){var Ae=me.length,Se=[],Ve=[],Ze=[],$e=[],Xe=Ee-1,Ke=0,ut=0,xt=0,kt=0;for(Ke=0;Ke<Ae;++Ke)if(Ze=[],xt=Ke+we,xt>=Ae&&(xt-=Ae),!Ve[xt]){$e=[];var vt=[];for(ut=xt;ut>=0;){vt[ut]=!0,Ve[ut]=!0,Ze[Ze.length]=ut,$e.push(me[ut]);var pt=xe[Math.floor(ut*4/Ee)];if(kt=ut*4&Xe,Ee<4+kt)throw new Error("FAT boundary crossed: "+ut+" 4 "+Ee);if(!me[pt]||(ut=sf(me[pt],kt),vt[ut]))break}Se[xt]={nodes:Ze,data:EO([$e])}}return Se}function w(me,we,xe,Ee,Ae,Se,Ve,Ze){for(var $e=0,Xe=Ee.length?2:0,Ke=we[me].data,ut=0,xt=0,kt;ut<Ke.length;ut+=128){var vt=Ke.slice(ut,ut+128);os(vt,64),xt=vt.read_shift(2),kt=OI(vt,0,xt-Xe),Ee.push(kt);var pt={name:kt,type:vt.read_shift(1),color:vt.read_shift(1),L:vt.read_shift(4,"i"),R:vt.read_shift(4,"i"),C:vt.read_shift(4,"i"),clsid:vt.read_shift(16),state:vt.read_shift(4,"i"),start:0,size:0},en=vt.read_shift(2)+vt.read_shift(2)+vt.read_shift(2)+vt.read_shift(2);en!==0&&(pt.ct=C(vt,vt.l-8));var Un=vt.read_shift(2)+vt.read_shift(2)+vt.read_shift(2)+vt.read_shift(2);Un!==0&&(pt.mt=C(vt,vt.l-8)),pt.start=vt.read_shift(4,"i"),pt.size=vt.read_shift(4,"i"),pt.size<0&&pt.start<0&&(pt.size=pt.type=0,pt.start=U,pt.name=""),pt.type===5?($e=pt.start,Ae>0&&$e!==U&&(we[$e].name="!StreamData")):pt.size>=4096?(pt.storage="fat",we[pt.start]===void 0&&(we[pt.start]=_(xe,pt.start,we.fat_addrs,we.ssz)),we[pt.start].name=pt.name,pt.content=we[pt.start].data.slice(0,pt.size)):(pt.storage="minifat",pt.size<0?pt.size=0:$e!==U&&pt.start!==U&&we[$e]&&(pt.content=g(pt,we[$e].data,(we[Ze]||{}).data))),pt.content&&os(pt.content,0),Se[kt]=pt,Ve.push(pt)}}function C(me,we){return new Date((Fa(me,we+4)/1e7*Math.pow(2,32)+Fa(me,we)/1e7-11644473600)*1e3)}function S(me,we){return c(),u(l.readFileSync(me),we)}function R(me,we){var xe=we&&we.type;switch(xe||_n&&Buffer.isBuffer(me)&&(xe="buffer"),xe||"base64"){case"file":return S(me,we);case"base64":return u(Ma(qa(me)),we);case"binary":return u(Ma(me),we)}return u(me,we)}function D(me,we){var xe=we||{},Ee=xe.root||"Root Entry";if(me.FullPaths||(me.FullPaths=[]),me.FileIndex||(me.FileIndex=[]),me.FullPaths.length!==me.FileIndex.length)throw new Error("inconsistent CFB structure");me.FullPaths.length===0&&(me.FullPaths[0]=Ee+"/",me.FileIndex[0]={name:Ee,type:5}),xe.CLSID&&(me.FileIndex[0].clsid=xe.CLSID),N(me)}function N(me){var we="Sh33tJ5";if(!Jt.find(me,"/"+we)){var xe=it(4);xe[0]=55,xe[1]=xe[3]=50,xe[2]=54,me.FileIndex.push({name:we,type:2,content:xe,size:4,L:69,R:69,C:69}),me.FullPaths.push(me.FullPaths[0]+we),I(me)}}function I(me,we){D(me);for(var xe=!1,Ee=!1,Ae=me.FullPaths.length-1;Ae>=0;--Ae){var Se=me.FileIndex[Ae];switch(Se.type){case 0:Ee?xe=!0:(me.FileIndex.pop(),me.FullPaths.pop());break;case 1:case 2:case 5:Ee=!0,isNaN(Se.R*Se.L*Se.C)&&(xe=!0),Se.R>-1&&Se.L>-1&&Se.R==Se.L&&(xe=!0);break;default:xe=!0;break}}if(!(!xe&&!we)){var Ve=new Date(1987,1,19),Ze=0,$e=Object.create?Object.create(null):{},Xe=[];for(Ae=0;Ae<me.FullPaths.length;++Ae)$e[me.FullPaths[Ae]]=!0,me.FileIndex[Ae].type!==0&&Xe.push([me.FullPaths[Ae],me.FileIndex[Ae]]);for(Ae=0;Ae<Xe.length;++Ae){var Ke=r(Xe[Ae][0]);Ee=$e[Ke],Ee||(Xe.push([Ke,{name:i(Ke).replace("/",""),type:1,clsid:G,ct:Ve,mt:Ve,content:null}]),$e[Ke]=!0)}for(Xe.sort(function(kt,vt){return n(kt[0],vt[0])}),me.FullPaths=[],me.FileIndex=[],Ae=0;Ae<Xe.length;++Ae)me.FullPaths[Ae]=Xe[Ae][0],me.FileIndex[Ae]=Xe[Ae][1];for(Ae=0;Ae<Xe.length;++Ae){var ut=me.FileIndex[Ae],xt=me.FullPaths[Ae];if(ut.name=i(xt).replace("/",""),ut.L=ut.R=ut.C=-(ut.color=1),ut.size=ut.content?ut.content.length:0,ut.start=0,ut.clsid=ut.clsid||G,Ae===0)ut.C=Xe.length>1?1:-1,ut.size=0,ut.type=5;else if(xt.slice(-1)=="/"){for(Ze=Ae+1;Ze<Xe.length&&r(me.FullPaths[Ze])!=xt;++Ze);for(ut.C=Ze>=Xe.length?-1:Ze,Ze=Ae+1;Ze<Xe.length&&r(me.FullPaths[Ze])!=r(xt);++Ze);ut.R=Ze>=Xe.length?-1:Ze,ut.type=1}else r(me.FullPaths[Ae+1]||"")==r(xt)&&(ut.R=Ae+1),ut.type=2}}}function F(me,we){var xe=we||{};if(xe.fileType=="mad")return Kt(me,xe);switch(I(me),xe.fileType){case"zip":return We(me,xe)}var Ee=(function(kt){for(var vt=0,pt=0,en=0;en<kt.FileIndex.length;++en){var Un=kt.FileIndex[en];if(Un.content){var An=Un.content.length;An>0&&(An<4096?vt+=An+63>>6:pt+=An+511>>9)}}for(var Wn=kt.FullPaths.length+3>>2,Ca=vt+7>>3,za=vt+127>>7,Ye=Ca+pt+Wn+za,nt=Ye+127>>7,Vt=nt<=109?0:Math.ceil((nt-109)/127);Ye+nt+Vt+127>>7>nt;)Vt=++nt<=109?0:Math.ceil((nt-109)/127);var At=[1,Vt,nt,za,Wn,pt,vt,0];return kt.FileIndex[0].size=vt<<6,At[7]=(kt.FileIndex[0].start=At[0]+At[1]+At[2]+At[3]+At[4]+At[5])+(At[6]+7>>3),At})(me),Ae=it(Ee[7]<<9),Se=0,Ve=0;{for(Se=0;Se<8;++Se)Ae.write_shift(1,H[Se]);for(Se=0;Se<8;++Se)Ae.write_shift(2,0);for(Ae.write_shift(2,62),Ae.write_shift(2,3),Ae.write_shift(2,65534),Ae.write_shift(2,9),Ae.write_shift(2,6),Se=0;Se<3;++Se)Ae.write_shift(2,0);for(Ae.write_shift(4,0),Ae.write_shift(4,Ee[2]),Ae.write_shift(4,Ee[0]+Ee[1]+Ee[2]+Ee[3]-1),Ae.write_shift(4,0),Ae.write_shift(4,4096),Ae.write_shift(4,Ee[3]?Ee[0]+Ee[1]+Ee[2]-1:U),Ae.write_shift(4,Ee[3]),Ae.write_shift(-4,Ee[1]?Ee[0]-1:U),Ae.write_shift(4,Ee[1]),Se=0;Se<109;++Se)Ae.write_shift(-4,Se<Ee[2]?Ee[1]+Se:-1)}if(Ee[1])for(Ve=0;Ve<Ee[1];++Ve){for(;Se<236+Ve*127;++Se)Ae.write_shift(-4,Se<Ee[2]?Ee[1]+Se:-1);Ae.write_shift(-4,Ve===Ee[1]-1?U:Ve+1)}var Ze=function(kt){for(Ve+=kt;Se<Ve-1;++Se)Ae.write_shift(-4,Se+1);kt&&(++Se,Ae.write_shift(-4,U))};for(Ve=Se=0,Ve+=Ee[1];Se<Ve;++Se)Ae.write_shift(-4,X.DIFSECT);for(Ve+=Ee[2];Se<Ve;++Se)Ae.write_shift(-4,X.FATSECT);Ze(Ee[3]),Ze(Ee[4]);for(var $e=0,Xe=0,Ke=me.FileIndex[0];$e<me.FileIndex.length;++$e)Ke=me.FileIndex[$e],Ke.content&&(Xe=Ke.content.length,!(Xe<4096)&&(Ke.start=Ve,Ze(Xe+511>>9)));for(Ze(Ee[6]+7>>3);Ae.l&511;)Ae.write_shift(-4,X.ENDOFCHAIN);for(Ve=Se=0,$e=0;$e<me.FileIndex.length;++$e)Ke=me.FileIndex[$e],Ke.content&&(Xe=Ke.content.length,!(!Xe||Xe>=4096)&&(Ke.start=Ve,Ze(Xe+63>>6)));for(;Ae.l&511;)Ae.write_shift(-4,X.ENDOFCHAIN);for(Se=0;Se<Ee[4]<<2;++Se){var ut=me.FullPaths[Se];if(!ut||ut.length===0){for($e=0;$e<17;++$e)Ae.write_shift(4,0);for($e=0;$e<3;++$e)Ae.write_shift(4,-1);for($e=0;$e<12;++$e)Ae.write_shift(4,0);continue}Ke=me.FileIndex[Se],Se===0&&(Ke.start=Ke.size?Ke.start-1:U);var xt=Se===0&&xe.root||Ke.name;if(Xe=2*(xt.length+1),Ae.write_shift(64,xt,"utf16le"),Ae.write_shift(2,Xe),Ae.write_shift(1,Ke.type),Ae.write_shift(1,Ke.color),Ae.write_shift(-4,Ke.L),Ae.write_shift(-4,Ke.R),Ae.write_shift(-4,Ke.C),Ke.clsid)Ae.write_shift(16,Ke.clsid,"hex");else for($e=0;$e<4;++$e)Ae.write_shift(4,0);Ae.write_shift(4,Ke.state||0),Ae.write_shift(4,0),Ae.write_shift(4,0),Ae.write_shift(4,0),Ae.write_shift(4,0),Ae.write_shift(4,Ke.start),Ae.write_shift(4,Ke.size),Ae.write_shift(4,0)}for(Se=1;Se<me.FileIndex.length;++Se)if(Ke=me.FileIndex[Se],Ke.size>=4096)if(Ae.l=Ke.start+1<<9,_n&&Buffer.isBuffer(Ke.content))Ke.content.copy(Ae,Ae.l,0,Ke.size),Ae.l+=Ke.size+511&-512;else{for($e=0;$e<Ke.size;++$e)Ae.write_shift(1,Ke.content[$e]);for(;$e&511;++$e)Ae.write_shift(1,0)}for(Se=1;Se<me.FileIndex.length;++Se)if(Ke=me.FileIndex[Se],Ke.size>0&&Ke.size<4096)if(_n&&Buffer.isBuffer(Ke.content))Ke.content.copy(Ae,Ae.l,0,Ke.size),Ae.l+=Ke.size+63&-64;else{for($e=0;$e<Ke.size;++$e)Ae.write_shift(1,Ke.content[$e]);for(;$e&63;++$e)Ae.write_shift(1,0)}if(_n)Ae.l=Ae.length;else for(;Ae.l<Ae.length;)Ae.write_shift(1,0);return Ae}function P(me,we){var xe=me.FullPaths.map(function($e){return $e.toUpperCase()}),Ee=xe.map(function($e){var Xe=$e.split("/");return Xe[Xe.length-($e.slice(-1)=="/"?2:1)]}),Ae=!1;we.charCodeAt(0)===47?(Ae=!0,we=xe[0].slice(0,-1)+we):Ae=we.indexOf("/")!==-1;var Se=we.toUpperCase(),Ve=Ae===!0?xe.indexOf(Se):Ee.indexOf(Se);if(Ve!==-1)return me.FileIndex[Ve];var Ze=!Se.match(R0);for(Se=Se.replace(Ks,""),Ze&&(Se=Se.replace(R0,"!")),Ve=0;Ve<xe.length;++Ve)if((Ze?xe[Ve].replace(R0,"!"):xe[Ve]).replace(Ks,"")==Se||(Ze?Ee[Ve].replace(R0,"!"):Ee[Ve]).replace(Ks,"")==Se)return me.FileIndex[Ve];return null}var k=64,U=-2,O="d0cf11e0a1b11ae1",H=[208,207,17,224,161,177,26,225],G="00000000000000000000000000000000",X={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:U,FREESECT:-1,HEADER_SIGNATURE:O,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:G,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Z(me,we,xe){c();var Ee=F(me,xe);l.writeFileSync(we,Ee)}function z(me){for(var we=new Array(me.length),xe=0;xe<me.length;++xe)we[xe]=String.fromCharCode(me[xe]);return we.join("")}function Q(me,we){var xe=F(me,we);switch(we&&we.type||"buffer"){case"file":return c(),l.writeFileSync(we.filename,xe),xe;case"binary":return typeof xe=="string"?xe:z(xe);case"base64":return Zy(typeof xe=="string"?xe:z(xe));case"buffer":if(_n)return Buffer.isBuffer(xe)?xe:zc(xe);case"array":return typeof xe=="string"?Ma(xe):xe}return xe}var B;function j(me){try{var we=me.InflateRaw,xe=new we;if(xe._processChunk(new Uint8Array([3,0]),xe._finishFlushFlag),xe.bytesRead)B=me;else throw new Error("zlib does not expose bytesRead")}catch(Ee){console.error("cannot use native zlib: "+(Ee.message||Ee))}}function q(me,we){if(!B)return Rn(me,we);var xe=B.InflateRaw,Ee=new xe,Ae=Ee._processChunk(me.slice(me.l),Ee._finishFlushFlag);return me.l+=Ee.bytesRead,Ae}function J(me){return B?B.deflateRawSync(me):Oe(me)}var Y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],te=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],oe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function de(me){var we=(me<<1|me<<11)&139536|(me<<5|me<<15)&558144;return(we>>16|we>>8|we)&255}for(var fe=typeof Uint8Array<"u",Ce=fe?new Uint8Array(256):[],Pe=0;Pe<256;++Pe)Ce[Pe]=de(Pe);function pe(me,we){var xe=Ce[me&255];return we<=8?xe>>>8-we:(xe=xe<<8|Ce[me>>8&255],we<=16?xe>>>16-we:(xe=xe<<8|Ce[me>>16&255],xe>>>24-we))}function Me(me,we){var xe=we&7,Ee=we>>>3;return(me[Ee]|(xe<=6?0:me[Ee+1]<<8))>>>xe&3}function W(me,we){var xe=we&7,Ee=we>>>3;return(me[Ee]|(xe<=5?0:me[Ee+1]<<8))>>>xe&7}function ge(me,we){var xe=we&7,Ee=we>>>3;return(me[Ee]|(xe<=4?0:me[Ee+1]<<8))>>>xe&15}function _e(me,we){var xe=we&7,Ee=we>>>3;return(me[Ee]|(xe<=3?0:me[Ee+1]<<8))>>>xe&31}function ce(me,we){var xe=we&7,Ee=we>>>3;return(me[Ee]|(xe<=1?0:me[Ee+1]<<8))>>>xe&127}function re(me,we,xe){var Ee=we&7,Ae=we>>>3,Se=(1<<xe)-1,Ve=me[Ae]>>>Ee;return xe<8-Ee||(Ve|=me[Ae+1]<<8-Ee,xe<16-Ee)||(Ve|=me[Ae+2]<<16-Ee,xe<24-Ee)||(Ve|=me[Ae+3]<<24-Ee),Ve&Se}function le(me,we,xe){var Ee=we&7,Ae=we>>>3;return Ee<=5?me[Ae]|=(xe&7)<<Ee:(me[Ae]|=xe<<Ee&255,me[Ae+1]=(xe&7)>>8-Ee),we+3}function ke(me,we,xe){var Ee=we&7,Ae=we>>>3;return xe=(xe&1)<<Ee,me[Ae]|=xe,we+1}function Ne(me,we,xe){var Ee=we&7,Ae=we>>>3;return xe<<=Ee,me[Ae]|=xe&255,xe>>>=8,me[Ae+1]=xe,we+8}function ie(me,we,xe){var Ee=we&7,Ae=we>>>3;return xe<<=Ee,me[Ae]|=xe&255,xe>>>=8,me[Ae+1]=xe&255,me[Ae+2]=xe>>>8,we+16}function ue(me,we){var xe=me.length,Ee=2*xe>we?2*xe:we+5,Ae=0;if(xe>=we)return me;if(_n){var Se=sO(Ee);if(me.copy)me.copy(Se);else for(;Ae<me.length;++Ae)Se[Ae]=me[Ae];return Se}else if(fe){var Ve=new Uint8Array(Ee);if(Ve.set)Ve.set(me);else for(;Ae<xe;++Ae)Ve[Ae]=me[Ae];return Ve}return me.length=Ee,me}function ve(me){for(var we=new Array(me),xe=0;xe<me;++xe)we[xe]=0;return we}function be(me,we,xe){var Ee=1,Ae=0,Se=0,Ve=0,Ze=0,$e=me.length,Xe=fe?new Uint16Array(32):ve(32);for(Se=0;Se<32;++Se)Xe[Se]=0;for(Se=$e;Se<xe;++Se)me[Se]=0;$e=me.length;var Ke=fe?new Uint16Array($e):ve($e);for(Se=0;Se<$e;++Se)Xe[Ae=me[Se]]++,Ee<Ae&&(Ee=Ae),Ke[Se]=0;for(Xe[0]=0,Se=1;Se<=Ee;++Se)Xe[Se+16]=Ze=Ze+Xe[Se-1]<<1;for(Se=0;Se<$e;++Se)Ze=me[Se],Ze!=0&&(Ke[Se]=Xe[Ze+16]++);var ut=0;for(Se=0;Se<$e;++Se)if(ut=me[Se],ut!=0)for(Ze=pe(Ke[Se],Ee)>>Ee-ut,Ve=(1<<Ee+4-ut)-1;Ve>=0;--Ve)we[Ze|Ve<<ut]=ut&15|Se<<4;return Ee}var Ie=fe?new Uint16Array(512):ve(512),Le=fe?new Uint16Array(32):ve(32);if(!fe){for(var Te=0;Te<512;++Te)Ie[Te]=0;for(Te=0;Te<32;++Te)Le[Te]=0}(function(){for(var me=[],we=0;we<32;we++)me.push(5);be(me,Le,32);var xe=[];for(we=0;we<=143;we++)xe.push(8);for(;we<=255;we++)xe.push(9);for(;we<=279;we++)xe.push(7);for(;we<=287;we++)xe.push(8);be(xe,Ie,288)})();var Ue=(function(){for(var we=fe?new Uint8Array(32768):[],xe=0,Ee=0;xe<oe.length-1;++xe)for(;Ee<oe[xe+1];++Ee)we[Ee]=xe;for(;Ee<32768;++Ee)we[Ee]=29;var Ae=fe?new Uint8Array(259):[];for(xe=0,Ee=0;xe<te.length-1;++xe)for(;Ee<te[xe+1];++Ee)Ae[Ee]=xe;function Se(Ze,$e){for(var Xe=0;Xe<Ze.length;){var Ke=Math.min(65535,Ze.length-Xe),ut=Xe+Ke==Ze.length;for($e.write_shift(1,+ut),$e.write_shift(2,Ke),$e.write_shift(2,~Ke&65535);Ke-- >0;)$e[$e.l++]=Ze[Xe++]}return $e.l}function Ve(Ze,$e){for(var Xe=0,Ke=0,ut=fe?new Uint16Array(32768):[];Ke<Ze.length;){var xt=Math.min(65535,Ze.length-Ke);if(xt<10){for(Xe=le($e,Xe,+(Ke+xt==Ze.length)),Xe&7&&(Xe+=8-(Xe&7)),$e.l=Xe/8|0,$e.write_shift(2,xt),$e.write_shift(2,~xt&65535);xt-- >0;)$e[$e.l++]=Ze[Ke++];Xe=$e.l*8;continue}Xe=le($e,Xe,+(Ke+xt==Ze.length)+2);for(var kt=0;xt-- >0;){var vt=Ze[Ke];kt=(kt<<5^vt)&32767;var pt=-1,en=0;if((pt=ut[kt])&&(pt|=Ke&-32768,pt>Ke&&(pt-=32768),pt<Ke))for(;Ze[pt+en]==Ze[Ke+en]&&en<250;)++en;if(en>2){vt=Ae[en],vt<=22?Xe=Ne($e,Xe,Ce[vt+1]>>1)-1:(Ne($e,Xe,3),Xe+=5,Ne($e,Xe,Ce[vt-23]>>5),Xe+=3);var Un=vt<8?0:vt-4>>2;Un>0&&(ie($e,Xe,en-te[vt]),Xe+=Un),vt=we[Ke-pt],Xe=Ne($e,Xe,Ce[vt]>>3),Xe-=3;var An=vt<4?0:vt-2>>1;An>0&&(ie($e,Xe,Ke-pt-oe[vt]),Xe+=An);for(var Wn=0;Wn<en;++Wn)ut[kt]=Ke&32767,kt=(kt<<5^Ze[Ke])&32767,++Ke;xt-=en-1}else vt<=143?vt=vt+48:Xe=ke($e,Xe,1),Xe=Ne($e,Xe,Ce[vt]),ut[kt]=Ke&32767,++Ke}Xe=Ne($e,Xe,0)-1}return $e.l=(Xe+7)/8|0,$e.l}return function($e,Xe){return $e.length<8?Se($e,Xe):Ve($e,Xe)}})();function Oe(me){var we=it(50+Math.floor(me.length*1.1)),xe=Ue(me,we);return we.slice(0,xe)}var Je=fe?new Uint16Array(32768):ve(32768),ot=fe?new Uint16Array(32768):ve(32768),lt=fe?new Uint16Array(128):ve(128),Bt=1,fn=1;function ln(me,we){var xe=_e(me,we)+257;we+=5;var Ee=_e(me,we)+1;we+=5;var Ae=ge(me,we)+4;we+=4;for(var Se=0,Ve=fe?new Uint8Array(19):ve(19),Ze=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],$e=1,Xe=fe?new Uint8Array(8):ve(8),Ke=fe?new Uint8Array(8):ve(8),ut=Ve.length,xt=0;xt<Ae;++xt)Ve[Y[xt]]=Se=W(me,we),$e<Se&&($e=Se),Xe[Se]++,we+=3;var kt=0;for(Xe[0]=0,xt=1;xt<=$e;++xt)Ke[xt]=kt=kt+Xe[xt-1]<<1;for(xt=0;xt<ut;++xt)(kt=Ve[xt])!=0&&(Ze[xt]=Ke[kt]++);var vt=0;for(xt=0;xt<ut;++xt)if(vt=Ve[xt],vt!=0){kt=Ce[Ze[xt]]>>8-vt;for(var pt=(1<<7-vt)-1;pt>=0;--pt)lt[kt|pt<<vt]=vt&7|xt<<3}var en=[];for($e=1;en.length<xe+Ee;)switch(kt=lt[ce(me,we)],we+=kt&7,kt>>>=3){case 16:for(Se=3+Me(me,we),we+=2,kt=en[en.length-1];Se-- >0;)en.push(kt);break;case 17:for(Se=3+W(me,we),we+=3;Se-- >0;)en.push(0);break;case 18:for(Se=11+ce(me,we),we+=7;Se-- >0;)en.push(0);break;default:en.push(kt),$e<kt&&($e=kt);break}var Un=en.slice(0,xe),An=en.slice(xe);for(xt=xe;xt<286;++xt)Un[xt]=0;for(xt=Ee;xt<30;++xt)An[xt]=0;return Bt=be(Un,Je,286),fn=be(An,ot,30),we}function Kn(me,we){if(me[0]==3&&!(me[1]&3))return[id(we),2];for(var xe=0,Ee=0,Ae=sO(we||1<<18),Se=0,Ve=Ae.length>>>0,Ze=0,$e=0;(Ee&1)==0;){if(Ee=W(me,xe),xe+=3,Ee>>>1)Ee>>1==1?(Ze=9,$e=5):(xe=ln(me,xe),Ze=Bt,$e=fn);else{xe&7&&(xe+=8-(xe&7));var Xe=me[xe>>>3]|me[(xe>>>3)+1]<<8;if(xe+=32,Xe>0)for(!we&&Ve<Se+Xe&&(Ae=ue(Ae,Se+Xe),Ve=Ae.length);Xe-- >0;)Ae[Se++]=me[xe>>>3],xe+=8;continue}for(;;){!we&&Ve<Se+32767&&(Ae=ue(Ae,Se+32767),Ve=Ae.length);var Ke=re(me,xe,Ze),ut=Ee>>>1==1?Ie[Ke]:Je[Ke];if(xe+=ut&15,ut>>>=4,(ut>>>8&255)===0)Ae[Se++]=ut;else{if(ut==256)break;ut-=257;var xt=ut<8?0:ut-4>>2;xt>5&&(xt=0);var kt=Se+te[ut];xt>0&&(kt+=re(me,xe,xt),xe+=xt),Ke=re(me,xe,$e),ut=Ee>>>1==1?Le[Ke]:ot[Ke],xe+=ut&15,ut>>>=4;var vt=ut<4?0:ut-2>>1,pt=oe[ut];for(vt>0&&(pt+=re(me,xe,vt),xe+=vt),!we&&Ve<kt&&(Ae=ue(Ae,kt+100),Ve=Ae.length);Se<kt;)Ae[Se]=Ae[Se-pt],++Se}}}return we?[Ae,xe+7>>>3]:[Ae.slice(0,Se),xe+7>>>3]}function Rn(me,we){var xe=me.slice(me.l||0),Ee=Kn(xe,we);return me.l+=Ee[1],Ee[0]}function Vn(me,we){if(me)typeof console<"u"&&console.error(we);else throw new Error(we)}function yn(me,we){var xe=me;os(xe,0);var Ee=[],Ae=[],Se={FileIndex:Ee,FullPaths:Ae};D(Se,{root:we.root});for(var Ve=xe.length-4;(xe[Ve]!=80||xe[Ve+1]!=75||xe[Ve+2]!=5||xe[Ve+3]!=6)&&Ve>=0;)--Ve;xe.l=Ve+4,xe.l+=4;var Ze=xe.read_shift(2);xe.l+=6;var $e=xe.read_shift(4);for(xe.l=$e,Ve=0;Ve<Ze;++Ve){xe.l+=20;var Xe=xe.read_shift(4),Ke=xe.read_shift(4),ut=xe.read_shift(2),xt=xe.read_shift(2),kt=xe.read_shift(2);xe.l+=8;var vt=xe.read_shift(4),pt=o(xe.slice(xe.l+ut,xe.l+ut+xt));xe.l+=ut+xt+kt;var en=xe.l;xe.l=vt+4,It(xe,Xe,Ke,Se,pt),xe.l=en}return Se}function It(me,we,xe,Ee,Ae){me.l+=2;var Se=me.read_shift(2),Ve=me.read_shift(2),Ze=a(me);if(Se&8257)throw new Error("Unsupported ZIP encryption");for(var $e=me.read_shift(4),Xe=me.read_shift(4),Ke=me.read_shift(4),ut=me.read_shift(2),xt=me.read_shift(2),kt="",vt=0;vt<ut;++vt)kt+=String.fromCharCode(me[me.l++]);if(xt){var pt=o(me.slice(me.l,me.l+xt));(pt[21589]||{}).mt&&(Ze=pt[21589].mt),((Ae||{})[21589]||{}).mt&&(Ze=Ae[21589].mt)}me.l+=xt;var en=me.slice(me.l,me.l+Xe);switch(Ve){case 8:en=q(me,Ke);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ve)}var Un=!1;Se&8&&($e=me.read_shift(4),$e==134695760&&($e=me.read_shift(4),Un=!0),Xe=me.read_shift(4),Ke=me.read_shift(4)),Xe!=we&&Vn(Un,"Bad compressed size: "+we+" != "+Xe),Ke!=xe&&Vn(Un,"Bad uncompressed size: "+xe+" != "+Ke),mn(Ee,kt,en,{unsafe:!0,mt:Ze})}function We(me,we){var xe=we||{},Ee=[],Ae=[],Se=it(1),Ve=xe.compression?8:0,Ze=0,$e=0,Xe=0,Ke=0,ut=0,xt=me.FullPaths[0],kt=xt,vt=me.FileIndex[0],pt=[],en=0;for($e=1;$e<me.FullPaths.length;++$e)if(kt=me.FullPaths[$e].slice(xt.length),vt=me.FileIndex[$e],!(!vt.size||!vt.content||kt=="Sh33tJ5")){var Un=Ke,An=it(kt.length);for(Xe=0;Xe<kt.length;++Xe)An.write_shift(1,kt.charCodeAt(Xe)&127);An=An.slice(0,An.l),pt[ut]=uDe.buf(vt.content,0);var Wn=vt.content;Ve==8&&(Wn=J(Wn)),Se=it(30),Se.write_shift(4,67324752),Se.write_shift(2,20),Se.write_shift(2,Ze),Se.write_shift(2,Ve),vt.mt?s(Se,vt.mt):Se.write_shift(4,0),Se.write_shift(-4,pt[ut]),Se.write_shift(4,Wn.length),Se.write_shift(4,vt.content.length),Se.write_shift(2,An.length),Se.write_shift(2,0),Ke+=Se.length,Ee.push(Se),Ke+=An.length,Ee.push(An),Ke+=Wn.length,Ee.push(Wn),Se=it(46),Se.write_shift(4,33639248),Se.write_shift(2,0),Se.write_shift(2,20),Se.write_shift(2,Ze),Se.write_shift(2,Ve),Se.write_shift(4,0),Se.write_shift(-4,pt[ut]),Se.write_shift(4,Wn.length),Se.write_shift(4,vt.content.length),Se.write_shift(2,An.length),Se.write_shift(2,0),Se.write_shift(2,0),Se.write_shift(2,0),Se.write_shift(2,0),Se.write_shift(4,0),Se.write_shift(4,Un),en+=Se.l,Ae.push(Se),en+=An.length,Ae.push(An),++ut}return Se=it(22),Se.write_shift(4,101010256),Se.write_shift(2,0),Se.write_shift(2,0),Se.write_shift(2,ut),Se.write_shift(2,ut),Se.write_shift(4,en),Se.write_shift(4,Ke),Se.write_shift(2,0),Ji([Ji(Ee),Ji(Ae),Se])}var se={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function he(me,we){if(me.ctype)return me.ctype;var xe=me.name||"",Ee=xe.match(/\.([^\.]+)$/);return Ee&&se[Ee[1]]||we&&(Ee=(xe=we).match(/[\.\\]([^\.\\])+$/),Ee&&se[Ee[1]])?se[Ee[1]]:"application/octet-stream"}function Re(me){for(var we=Zy(me),xe=[],Ee=0;Ee<we.length;Ee+=76)xe.push(we.slice(Ee,Ee+76));return xe.join(`\r
`)+`\r
`}function qe(me){var we=me.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Xe){var Ke=Xe.charCodeAt(0).toString(16).toUpperCase();return"="+(Ke.length==1?"0"+Ke:Ke)});we=we.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),we.charAt(0)==`
`&&(we="=0D"+we.slice(1)),we=we.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var xe=[],Ee=we.split(`\r
`),Ae=0;Ae<Ee.length;++Ae){var Se=Ee[Ae];if(Se.length==0){xe.push("");continue}for(var Ve=0;Ve<Se.length;){var Ze=76,$e=Se.slice(Ve,Ve+Ze);$e.charAt(Ze-1)=="="?Ze--:$e.charAt(Ze-2)=="="?Ze-=2:$e.charAt(Ze-3)=="="&&(Ze-=3),$e=Se.slice(Ve,Ve+Ze),Ve+=Ze,Ve<Se.length&&($e+="="),xe.push($e)}}return xe.join(`\r
`)}function st(me){for(var we=[],xe=0;xe<me.length;++xe){for(var Ee=me[xe];xe<=me.length&&Ee.charAt(Ee.length-1)=="=";)Ee=Ee.slice(0,Ee.length-1)+me[++xe];we.push(Ee)}for(var Ae=0;Ae<we.length;++Ae)we[Ae]=we[Ae].replace(/[=][0-9A-Fa-f]{2}/g,function(Se){return String.fromCharCode(parseInt(Se.slice(1),16))});return Ma(we.join(`\r
`))}function wt(me,we,xe){for(var Ee="",Ae="",Se="",Ve,Ze=0;Ze<10;++Ze){var $e=we[Ze];if(!$e||$e.match(/^\s*$/))break;var Xe=$e.match(/^(.*?):\s*([^\s].*)$/);if(Xe)switch(Xe[1].toLowerCase()){case"content-location":Ee=Xe[2].trim();break;case"content-type":Se=Xe[2].trim();break;case"content-transfer-encoding":Ae=Xe[2].trim();break}}switch(++Ze,Ae.toLowerCase()){case"base64":Ve=Ma(qa(we.slice(Ze).join("")));break;case"quoted-printable":Ve=st(we.slice(Ze));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Ae)}var Ke=mn(me,Ee.slice(xe.length),Ve,{unsafe:!0});Se&&(Ke.ctype=Se)}function Ot(me,we){if(z(me.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var xe=we&&we.root||"",Ee=(_n&&Buffer.isBuffer(me)?me.toString("binary"):z(me)).split(`\r
`),Ae=0,Se="";for(Ae=0;Ae<Ee.length;++Ae)if(Se=Ee[Ae],!!/^Content-Location:/i.test(Se)&&(Se=Se.slice(Se.indexOf("file")),xe||(xe=Se.slice(0,Se.lastIndexOf("/")+1)),Se.slice(0,xe.length)!=xe))for(;xe.length>0&&(xe=xe.slice(0,xe.length-1),xe=xe.slice(0,xe.lastIndexOf("/")+1),Se.slice(0,xe.length)!=xe););var Ve=(Ee[1]||"").match(/boundary="(.*?)"/);if(!Ve)throw new Error("MAD cannot find boundary");var Ze="--"+(Ve[1]||""),$e=[],Xe=[],Ke={FileIndex:$e,FullPaths:Xe};D(Ke);var ut,xt=0;for(Ae=0;Ae<Ee.length;++Ae){var kt=Ee[Ae];kt!==Ze&&kt!==Ze+"--"||(xt++&&wt(Ke,Ee.slice(ut,Ae),xe),ut=Ae)}return Ke}function Kt(me,we){var xe=we||{},Ee=xe.boundary||"SheetJS";Ee="------="+Ee;for(var Ae=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Ee.slice(2)+'"',"","",""],Se=me.FullPaths[0],Ve=Se,Ze=me.FileIndex[0],$e=1;$e<me.FullPaths.length;++$e)if(Ve=me.FullPaths[$e].slice(Se.length),Ze=me.FileIndex[$e],!(!Ze.size||!Ze.content||Ve=="Sh33tJ5")){Ve=Ve.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(en){return"_x"+en.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(en){return"_u"+en.charCodeAt(0).toString(16)+"_"});for(var Xe=Ze.content,Ke=_n&&Buffer.isBuffer(Xe)?Xe.toString("binary"):z(Xe),ut=0,xt=Math.min(1024,Ke.length),kt=0,vt=0;vt<=xt;++vt)(kt=Ke.charCodeAt(vt))>=32&&kt<128&&++ut;var pt=ut>=xt*4/5;Ae.push(Ee),Ae.push("Content-Location: "+(xe.root||"file:///C:/SheetJS/")+Ve),Ae.push("Content-Transfer-Encoding: "+(pt?"quoted-printable":"base64")),Ae.push("Content-Type: "+he(Ze,Ve)),Ae.push(""),Ae.push(pt?qe(Ke):Re(Ke))}return Ae.push(Ee+`--\r
`),Ae.join(`\r
`)}function vn(me){var we={};return D(we,me),we}function mn(me,we,xe,Ee){var Ae=Ee&&Ee.unsafe;Ae||D(me);var Se=!Ae&&Jt.find(me,we);if(!Se){var Ve=me.FullPaths[0];we.slice(0,Ve.length)==Ve?Ve=we:(Ve.slice(-1)!="/"&&(Ve+="/"),Ve=(Ve+we).replace("//","/")),Se={name:i(we),type:2},me.FileIndex.push(Se),me.FullPaths.push(Ve),Ae||Jt.utils.cfb_gc(me)}return Se.content=xe,Se.size=xe?xe.length:0,Ee&&(Ee.CLSID&&(Se.clsid=Ee.CLSID),Ee.mt&&(Se.mt=Ee.mt),Ee.ct&&(Se.ct=Ee.ct)),Se}function Mn(me,we){D(me);var xe=Jt.find(me,we);if(xe){for(var Ee=0;Ee<me.FileIndex.length;++Ee)if(me.FileIndex[Ee]==xe)return me.FileIndex.splice(Ee,1),me.FullPaths.splice(Ee,1),!0}return!1}function Sn(me,we,xe){D(me);var Ee=Jt.find(me,we);if(Ee){for(var Ae=0;Ae<me.FileIndex.length;++Ae)if(me.FileIndex[Ae]==Ee)return me.FileIndex[Ae].name=i(xe),me.FullPaths[Ae]=xe,!0}return!1}function er(me){I(me,!0)}return e.find=P,e.read=R,e.parse=u,e.write=Q,e.writeFile=Z,e.utils={cfb_new:vn,cfb_add:mn,cfb_del:Mn,cfb_mov:Sn,cfb_gc:er,ReadShift:sy,CheckField:QK,prep_blob:os,bconcat:Ji,use_zlib:j,_deflateRaw:Oe,_inflateRaw:Rn,consts:X},e})();function dDe(t){return typeof t=="string"?Ow(t):Array.isArray(t)?O4e(t):t}function tv(t,e,n){if(typeof Deno<"u"){if(n&&typeof e=="string")switch(n){case"utf8":e=new TextEncoder(n).encode(e);break;case"binary":e=Ow(e);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(t,e)}var r=n=="utf8"?Pl(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,t);if(typeof Blob<"u"){var i=new Blob([dDe(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,t);if(typeof saveAs<"u")return saveAs(i,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:t,saveAs:!0});var a=document.createElement("a");if(a.download!=null)return a.download=t,a.href=s,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(t);return o.open("w"),o.encoding="binary",Array.isArray(e)&&(e=vd(e)),o.write(e),o.close(),e}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+t)}function fDe(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(t);e.open("r"),e.encoding="binary";var n=e.read();return e.close(),n}catch(r){if(!r.message||!r.message.match(/onstruct/))throw r}throw new Error("Cannot access file "+t)}function ti(t){for(var e=Object.keys(t),n=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(t,e[r])&&n.push(e[r]);return n}function hO(t,e){for(var n=[],r=ti(t),i=0;i!==r.length;++i)n[t[r[i]][e]]==null&&(n[t[r[i]][e]]=r[i]);return n}function jw(t){for(var e=[],n=ti(t),r=0;r!==n.length;++r)e[t[n[r]]]=n[r];return e}function Bw(t){for(var e=[],n=ti(t),r=0;r!==n.length;++r)e[t[n[r]]]=parseInt(n[r],10);return e}function hDe(t){for(var e=[],n=ti(t),r=0;r!==n.length;++r)e[t[n[r]]]==null&&(e[t[n[r]]]=[]),e[t[n[r]]].push(n[r]);return e}var Yb=new Date(1899,11,30,0,0,0);function Ri(t,e){var n=t.getTime(),r=Yb.getTime()+(t.getTimezoneOffset()-Yb.getTimezoneOffset())*6e4;return(n-r)/(1440*60*1e3)}var IK=new Date,pDe=Yb.getTime()+(IK.getTimezoneOffset()-Yb.getTimezoneOffset())*6e4,pO=IK.getTimezoneOffset();function Vw(t){var e=new Date;return e.setTime(t*24*60*60*1e3+pDe),e.getTimezoneOffset()!==pO&&e.setTime(e.getTime()+(e.getTimezoneOffset()-pO)*6e4),e}function mDe(t){var e=0,n=0,r=!1,i=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var s=1;s!=i.length;++s)if(i[s]){switch(n=1,s>3&&(r=!0),i[s].slice(i[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[s].slice(i[s].length-1));case"D":n*=24;case"H":n*=60;case"M":if(r)n*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=n*parseInt(i[s],10)}return e}var mO=new Date("2017-02-19T19:06:09.000Z"),RK=isNaN(mO.getFullYear())?new Date("2/19/17"):mO,gDe=RK.getFullYear()==2017;function Dr(t,e){var n=new Date(t);if(gDe)return e>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):e<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(t instanceof Date)return t;if(RK.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return t.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function Kf(t,e){if(_n&&Buffer.isBuffer(t)){if(e){if(t[0]==255&&t[1]==254)return Pl(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return Pl(xK(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return Pl(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return Pl(new TextDecoder("utf-16be").decode(t.slice(2)))}var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(s){return n[s]||s})}catch{}for(var r=[],i=0;i!=t.length;++i)r.push(String.fromCharCode(t[i]));return r.join("")}function Ar(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=Ar(t[n]));return e}function Xr(t,e){for(var n="";n.length<e;)n+=t;return n}function Zo(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var n=1,r=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,s){return n=-n,s}),!isNaN(e=Number(r)))?e/n:e}var yDe=["january","february","march","april","may","june","july","august","september","october","november","december"];function Nm(t){var e=new Date(t),n=new Date(NaN),r=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return n;var a=t.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),a.length>3&&yDe.indexOf(a)==-1)return n}else if(a.match(/[a-z]/))return n;return r<0||r>8099?n:(i>0||s>1)&&r!=101?e:t.match(/[^-0-9:,\/\\]/)?n:e}var vDe=(function(){var t="abacaba".split(/(:?b)/i).length==5;return function(n,r,i){if(t||typeof r=="string")return n.split(r);for(var s=n.split(r),a=[s[0]],o=1;o<s.length;++o)a.push(i),a.push(s[o]);return a}})();function PK(t){return t?t.content&&t.type?Kf(t.content,!0):t.data?I0(t.data):t.asNodeBuffer&&_n?I0(t.asNodeBuffer().toString("binary")):t.asBinary?I0(t.asBinary()):t._data&&t._data.getContent?I0(Kf(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function FK(t){if(!t)return null;if(t.data)return rO(t.data);if(t.asNodeBuffer&&_n)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return typeof e=="string"?rO(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function xDe(t){return t&&t.name.slice(-4)===".bin"?FK(t):PK(t)}function lo(t,e){for(var n=t.FullPaths||ti(t.files),r=e.toLowerCase().replace(/[\/]/g,"\\"),i=r.replace(/\\/g,"/"),s=0;s<n.length;++s){var a=n[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==a||i==a)return t.files?t.files[n[s]]:t.FileIndex[s]}return null}function II(t,e){var n=lo(t,e);if(n==null)throw new Error("Cannot find file "+e+" in zip");return n}function bi(t,e,n){if(!n)return xDe(II(t,e));if(!e)return null;try{return bi(t,e)}catch{return null}}function Ua(t,e,n){if(!n)return PK(II(t,e));if(!e)return null;try{return Ua(t,e)}catch{return null}}function bDe(t,e,n){return FK(II(t,e))}function gO(t){for(var e=t.FullPaths||ti(t.files),n=[],r=0;r<e.length;++r)e[r].slice(-1)!="/"&&n.push(e[r].replace(/^Root Entry[\/]/,""));return n.sort()}function gn(t,e,n){if(t.FullPaths){if(typeof n=="string"){var r;return _n?r=zc(n):r=L4e(n),Jt.utils.cfb_add(t,e,r)}Jt.utils.cfb_add(t,e,n)}else t.file(e,n)}function RI(){return Jt.utils.cfb_new()}function MK(t,e){switch(e.type){case"base64":return Jt.read(t,{type:"base64"});case"binary":return Jt.read(t,{type:"binary"});case"buffer":case"array":return Jt.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function P0(t,e){if(t.charAt(0)=="/")return t.slice(1);var n=e.split("/");e.slice(-1)!="/"&&n.pop();for(var r=t.split("/");r.length!==0;){var i=r.shift();i===".."?n.pop():i!=="."&&n.push(i)}return n.join("/")}var pi=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,_De=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,yO=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,wDe=/<[^>]*>/g,Us=pi.match(yO)?yO:wDe,TDe=/<\w*:/,EDe=/<(\/?)\w+:/;function an(t,e,n){for(var r={},i=0,s=0;i!==t.length&&!((s=t.charCodeAt(i))===32||s===10||s===13);++i);if(e||(r[0]=t.slice(0,i)),i===t.length)return r;var a=t.match(_De),o=0,l="",c=0,u="",f="",h=1;if(a)for(c=0;c!=a.length;++c){for(f=a[c],s=0;s!=f.length&&f.charCodeAt(s)!==61;++s);for(u=f.slice(0,s).trim();f.charCodeAt(s+1)==32;)++s;for(h=(i=f.charCodeAt(s+1))==34||i==39?1:0,l=f.slice(s+1+h,f.length-h),o=0;o!=u.length&&u.charCodeAt(o)!==58;++o);if(o===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),r[u]=l,r[u.toLowerCase()]=l;else{var p=(o===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(o+1);if(r[p]&&u.slice(o-3,o)=="ext")continue;r[p]=l,r[p.toLowerCase()]=l}}return r}function Gl(t){return t.replace(EDe,"<$1")}var UK={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},PI=jw(UK),jn=(function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function n(r){var i=r+"",s=i.indexOf("<![CDATA[");if(s==-1)return i.replace(t,function(o,l){return UK[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(e,function(o,l){return String.fromCharCode(parseInt(l,16))});var a=i.indexOf("]]>");return n(i.slice(0,s))+i.slice(s+9,a)+n(i.slice(a+3))}})(),FI=/[&<>'"]/g,CDe=/[\u0000-\u0008\u000b-\u001f]/g;function ar(t){var e=t+"";return e.replace(FI,function(n){return PI[n]}).replace(CDe,function(n){return"_x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+"_"})}function vO(t){return ar(t).replace(/ /g,"_x0020_")}var OK=/[\u0000-\u001f]/g;function MI(t){var e=t+"";return e.replace(FI,function(n){return PI[n]}).replace(/\n/g,"<br/>").replace(OK,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}function SDe(t){var e=t+"";return e.replace(FI,function(n){return PI[n]}).replace(OK,function(n){return"&#x"+n.charCodeAt(0).toString(16).toUpperCase()+";"})}var xO=(function(){var t=/&#(\d+);/g;function e(n,r){return String.fromCharCode(parseInt(r,10))}return function(r){return r.replace(t,e)}})();function DDe(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function Tr(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function u4(t){for(var e="",n=0,r=0,i=0,s=0,a=0,o=0;n<t.length;){if(r=t.charCodeAt(n++),r<128){e+=String.fromCharCode(r);continue}if(i=t.charCodeAt(n++),r>191&&r<224){a=(r&31)<<6,a|=i&63,e+=String.fromCharCode(a);continue}if(s=t.charCodeAt(n++),r<240){e+=String.fromCharCode((r&15)<<12|(i&63)<<6|s&63);continue}a=t.charCodeAt(n++),o=((r&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function bO(t){var e=id(2*t.length),n,r,i=1,s=0,a=0,o;for(r=0;r<t.length;r+=i)i=1,(o=t.charCodeAt(r))<128?n=o:o<224?(n=(o&31)*64+(t.charCodeAt(r+1)&63),i=2):o<240?(n=(o&15)*4096+(t.charCodeAt(r+1)&63)*64+(t.charCodeAt(r+2)&63),i=3):(i=4,n=(o&7)*262144+(t.charCodeAt(r+1)&63)*4096+(t.charCodeAt(r+2)&63)*64+(t.charCodeAt(r+3)&63),n-=65536,a=55296+(n>>>10&1023),n=56320+(n&1023)),a!==0&&(e[s++]=a&255,e[s++]=a>>>8,a=0),e[s++]=n%256,e[s++]=n>>>8;return e.slice(0,s).toString("ucs2")}function _O(t){return zc(t,"binary").toString("utf8")}var Vx="foo bar baz",ur=_n&&(_O(Vx)==u4(Vx)&&_O||bO(Vx)==u4(Vx)&&bO)||u4,Pl=_n?function(t){return zc(t,"utf8").toString("binary")}:function(t){for(var e=[],n=0,r=0,i=0;n<t.length;)switch(r=t.charCodeAt(n++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=t.charCodeAt(n++)-56320+(r<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},t1=(function(){var t={};return function(n,r){var i=n+"|"+(r||"");return t[i]?t[i]:t[i]=new RegExp("<(?:\\w+:)?"+n+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+n+">",r||"")}})(),LK=(function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)r=r.replace(t[i][0],t[i][1]);return r}})(),ADe=(function(){var t={};return function(n){return t[n]!==void 0?t[n]:t[n]=new RegExp("<(?:vt:)?"+n+">([\\s\\S]*?)</(?:vt:)?"+n+">","g")}})(),NDe=/<\/?(?:vt:)?variant>/g,kDe=/<(?:vt:)([^>]*)>([\s\S]*)</;function wO(t,e){var n=an(t),r=t.match(ADe(n.baseType))||[],i=[];if(r.length!=n.size){if(e.WTF)throw new Error("unexpected vector length "+r.length+" != "+n.size);return i}return r.forEach(function(s){var a=s.replace(NDe,"").match(kDe);a&&i.push({v:ur(a[2]),t:a[1]})}),i}var jK=/(^\s|\s$|\n)/;function cs(t,e){return"<"+t+(e.match(jK)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function n1(t){return ti(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function Et(t,e,n){return"<"+t+(n!=null?n1(n):"")+(e!=null?(e.match(jK)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function l3(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(n){if(e)throw n}return""}function IDe(t,e){switch(typeof t){case"string":var n=Et("vt:lpwstr",ar(t));return n=n.replace(/&quot;/g,"_x0022_"),n;case"number":return Et((t|0)==t?"vt:i4":"vt:r8",ar(String(t)));case"boolean":return Et("vt:bool",t?"true":"false")}if(t instanceof Date)return Et("vt:filetime",l3(t));throw new Error("Unable to serialize "+t)}function UI(t){if(_n&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return ur(vd(AI(t)));throw new Error("Bad input format: expected Buffer or string")}var r1=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,ki={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},mh=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Pa={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function RDe(t,e){for(var n=1-2*(t[e+7]>>>7),r=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,s=5;s>=0;--s)i=i*256+t[e+s];return r==2047?i==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),n*Math.pow(2,r-52)*i)}function PDe(t,e,n){var r=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,a=r?-e:e;isFinite(a)?a==0?i=s=0:(i=Math.floor(Math.log(a)/Math.LN2),s=a*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var o=0;o<=5;++o,s/=256)t[n+o]=s&255;t[n+6]=(i&15)<<4|s&15,t[n+7]=i>>4|r}var TO=function(t){for(var e=[],n=10240,r=0;r<t[0].length;++r)if(t[0][r])for(var i=0,s=t[0][r].length;i<s;i+=n)e.push.apply(e,t[0][r].slice(i,i+n));return e},EO=_n?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:zc(e)})):TO(t)}:TO,CO=function(t,e,n){for(var r=[],i=e;i<n;i+=2)r.push(String.fromCharCode(pc(t,i)));return r.join("").replace(Ks,"")},OI=_n?function(t,e,n){return Buffer.isBuffer(t)?t.toString("utf16le",e,n).replace(Ks,""):CO(t,e,n)}:CO,SO=function(t,e,n){for(var r=[],i=e;i<e+n;++i)r.push(("0"+t[i].toString(16)).slice(-2));return r.join("")},BK=_n?function(t,e,n){return Buffer.isBuffer(t)?t.toString("hex",e,e+n):SO(t,e,n)}:SO,DO=function(t,e,n){for(var r=[],i=e;i<n;i++)r.push(String.fromCharCode(Np(t,i)));return r.join("")},nv=_n?function(e,n,r){return Buffer.isBuffer(e)?e.toString("utf8",n,r):DO(e,n,r)}:DO,VK=function(t,e){var n=Fa(t,e);return n>0?nv(t,e+4,e+4+n-1):""},WK=VK,qK=function(t,e){var n=Fa(t,e);return n>0?nv(t,e+4,e+4+n-1):""},$K=qK,zK=function(t,e){var n=2*Fa(t,e);return n>0?nv(t,e+4,e+4+n-1):""},HK=zK,GK=function(e,n){var r=Fa(e,n);return r>0?OI(e,n+4,n+4+r):""},KK=GK,JK=function(t,e){var n=Fa(t,e);return n>0?nv(t,e+4,e+4+n):""},XK=JK,YK=function(t,e){return RDe(t,e)},Qb=YK,LI=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};_n&&(WK=function(e,n){if(!Buffer.isBuffer(e))return VK(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},$K=function(e,n){if(!Buffer.isBuffer(e))return qK(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},HK=function(e,n){if(!Buffer.isBuffer(e))return zK(e,n);var r=2*e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r-1)},KK=function(e,n){if(!Buffer.isBuffer(e))return GK(e,n);var r=e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r)},XK=function(e,n){if(!Buffer.isBuffer(e))return JK(e,n);var r=e.readUInt32LE(n);return e.toString("utf8",n+4,n+4+r)},Qb=function(e,n){return Buffer.isBuffer(e)?e.readDoubleLE(n):YK(e,n)},LI=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Np=function(t,e){return t[e]},pc=function(t,e){return t[e+1]*256+t[e]},FDe=function(t,e){var n=t[e+1]*256+t[e];return n<32768?n:(65535-n+1)*-1},Fa=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},sf=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},MDe=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function sy(t,e){var n="",r,i,s=[],a,o,l,c;switch(e){case"dbcs":if(c=this.l,_n&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*t).toString("utf16le");else for(l=0;l<t;++l)n+=String.fromCharCode(pc(this,c)),c+=2;t*=2;break;case"utf8":n=nv(this,this.l,this.l+t);break;case"utf16le":t*=2,n=OI(this,this.l,this.l+t);break;case"wstr":return sy.call(this,t,"dbcs");case"lpstr-ansi":n=WK(this,this.l),t=4+Fa(this,this.l);break;case"lpstr-cp":n=$K(this,this.l),t=4+Fa(this,this.l);break;case"lpwstr":n=HK(this,this.l),t=4+2*Fa(this,this.l);break;case"lpp4":t=4+Fa(this,this.l),n=KK(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Fa(this,this.l),n=XK(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,n="";(a=Np(this,this.l+t++))!==0;)s.push(Bx(a));n=s.join("");break;case"_wstr":for(t=0,n="";(a=pc(this,this.l+t))!==0;)s.push(Bx(a)),t+=2;t+=2,n=s.join("");break;case"dbcs-cont":for(n="",c=this.l,l=0;l<t;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return a=Np(this,c),this.l=c+1,o=sy.call(this,t-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(Bx(pc(this,c))),c+=2}n=s.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(n="",c=this.l,l=0;l!=t;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return a=Np(this,c),this.l=c+1,o=sy.call(this,t-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(Bx(Np(this,c))),c+=1}n=s.join("");break;default:switch(t){case 1:return r=Np(this,this.l),this.l++,r;case 2:return r=(e==="i"?FDe:pc)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(t>0?sf:MDe)(this,this.l),this.l+=4,r):(i=Fa(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=Qb(this,this.l):i=Qb([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:n=BK(this,this.l,t);break}}return this.l+=t,n}var UDe=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24&255},ODe=function(t,e,n){t[n]=e&255,t[n+1]=e>>8&255,t[n+2]=e>>16&255,t[n+3]=e>>24&255},LDe=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255};function jDe(t,e,n){var r=0,i=0;if(n==="dbcs"){for(i=0;i!=e.length;++i)LDe(this,e.charCodeAt(i),this.l+2*i);r=2*e.length}else if(n==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;r=e.length}else if(n==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(n==="utf16le"){var s=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var a=e.charCodeAt(i);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(t){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,UDe(this,e,this.l);break;case 8:if(r=8,n==="f"){PDe(this,e,this.l);break}case 16:break;case-4:r=4,ODe(this,e,this.l);break}return this.l+=r,this}function QK(t,e){var n=BK(this,this.l,t.length>>1);if(n!==t)throw new Error(e+"Expected "+t+" saw "+n);this.l+=t.length>>1}function os(t,e){t.l=e,t.read_shift=sy,t.chk=QK,t.write_shift=jDe}function Ps(t,e){t.l+=e}function it(t){var e=id(t);return os(e,0),e}function Hc(t,e,n){if(t){var r,i,s;os(t,t.l||0);for(var a=t.length,o=0,l=0;t.l<a;){o=t.read_shift(1),o&128&&(o=(o&127)+((t.read_shift(1)&127)<<7));var c=c1[o]||c1[65535];for(r=t.read_shift(1),s=r&127,i=1;i<4&&r&128;++i)s+=((r=t.read_shift(1))&127)<<7*i;l=t.l+s;var u=c.f&&c.f(t,s,n);if(t.l=l,e(u,c,o))return}}}function va(){var t=[],e=_n?256:2048,n=function(c){var u=it(c);return os(u,0),u},r=n(e),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&t.push(r),r=null)},s=function(c){return r&&c<r.length-r.l?r:(i(),r=n(Math.max(c+1,e)))},a=function(){return i(),Ji(t)},o=function(c){i(),r=c,r.l==null&&(r.l=r.length),s(e)};return{next:s,push:o,end:a,_bufs:t}}function ct(t,e,n,r){var i=+e,s;if(!isNaN(i)){r||(r=c1[i].p||(n||[]).length||0),s=1+(i>=128?1:0)+1,r>=128&&++s,r>=16384&&++s,r>=2097152&&++s;var a=t.next(s);i<=127?a.write_shift(1,i):(a.write_shift(1,(i&127)+128),a.write_shift(1,i>>7));for(var o=0;o!=4;++o)if(r>=128)a.write_shift(1,(r&127)+128),r>>=7;else{a.write_shift(1,r);break}r>0&&LI(n)&&t.push(n)}}function ay(t,e,n){var r=Ar(t);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function AO(t,e,n){var r=Ar(t);return r.s=ay(r.s,e.s,n),r.e=ay(r.e,e.s,n),r}function oy(t,e){if(t.cRel&&t.c<0)for(t=Ar(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=Ar(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var n=sn(t);return!t.cRel&&t.cRel!=null&&(n=WDe(n)),!t.rRel&&t.rRel!=null&&(n=BDe(n)),n}function d4(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+qr(t.s.c)+":"+(t.e.cRel?"":"$")+qr(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+fi(t.s.r)+":"+(t.e.rRel?"":"$")+fi(t.e.r):oy(t.s,e.biff)+":"+oy(t.e,e.biff)}function jI(t){return parseInt(VDe(t),10)-1}function fi(t){return""+(t+1)}function BDe(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function VDe(t){return t.replace(/\$(\d+)$/,"$1")}function BI(t){for(var e=qDe(t),n=0,r=0;r!==e.length;++r)n=26*n+e.charCodeAt(r)-64;return n-1}function qr(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function WDe(t){return t.replace(/^([A-Z])/,"$$$1")}function qDe(t){return t.replace(/^\$([A-Z])/,"$1")}function $De(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function $r(t){for(var e=0,n=0,r=0;r<t.length;++r){var i=t.charCodeAt(r);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:e-1}}function sn(t){for(var e=t.c+1,n="";e;e=(e-1)/26|0)n=String.fromCharCode((e-1)%26+65)+n;return n+(t.r+1)}function xa(t){var e=t.indexOf(":");return e==-1?{s:$r(t),e:$r(t)}:{s:$r(t.slice(0,e)),e:$r(t.slice(e+1))}}function pn(t,e){return typeof e>"u"||typeof e=="number"?pn(t.s,t.e):(typeof t!="string"&&(t=sn(t)),typeof e!="string"&&(e=sn(e)),t==e?t:t+":"+e)}function Bn(t){var e={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,s=t.length;for(n=0;r<s&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.s.c=--n,n=0;r<s&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;if(e.s.r=--n,r===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,n=0;r!=s&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.e.c=--n,n=0;r!=s&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;return e.e.r=--n,e}function NO(t,e){var n=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=_o(t.z,n?Ri(e):e)}catch{}try{return t.w=_o((t.XF||{}).numFmtId||(n?14:0),n?Ri(e):e)}catch{return""+e}}function Pc(t,e,n){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&n&&n.dateNF&&(t.z=n.dateNF),t.t=="e"?Gc[t.v]||t.v:e==null?NO(t,t.v):NO(t,e))}function xd(t,e){var n=e&&e.sheet?e.sheet:"Sheet1",r={};return r[n]=t,{SheetNames:[n],Sheets:r}}function ZK(t,e,n){var r=n||{},i=t?Array.isArray(t):r.dense,s=t||(i?[]:{}),a=0,o=0;if(s&&r.origin!=null){if(typeof r.origin=="number")a=r.origin;else{var l=typeof r.origin=="string"?$r(r.origin):r.origin;a=l.r,o=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var u=Bn(s["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),a==-1&&(c.e.r=a=u.e.r+1)}for(var f=0;f!=e.length;++f)if(e[f]){if(!Array.isArray(e[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=e[f].length;++h)if(!(typeof e[f][h]>"u")){var p={v:e[f][h]},v=a+f,g=o+h;if(c.s.r>v&&(c.s.r=v),c.s.c>g&&(c.s.c=g),c.e.r<v&&(c.e.r=v),c.e.c<g&&(c.e.c=g),e[f][h]&&typeof e[f][h]=="object"&&!Array.isArray(e[f][h])&&!(e[f][h]instanceof Date))p=e[f][h];else if(Array.isArray(p.v)&&(p.f=e[f][h][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(r.nullError)p.t="e",p.v=0;else if(r.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=r.dateNF||tn[14],r.cellDates?(p.t="d",p.w=_o(p.z,Ri(p.v))):(p.t="n",p.v=Ri(p.v),p.w=_o(p.z,p.v))):p.t="s";if(i)s[v]||(s[v]=[]),s[v][g]&&s[v][g].z&&(p.z=s[v][g].z),s[v][g]=p;else{var y=sn({c:g,r:v});s[y]&&s[y].z&&(p.z=s[y].z),s[y]=p}}}return c.s.c<1e7&&(s["!ref"]=pn(c)),s}function ug(t,e){return ZK(null,t,e)}function zDe(t){return t.read_shift(4,"i")}function el(t,e){return e||(e=it(4)),e.write_shift(4,t),e}function Rs(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Xi(t,e){var n=!1;return e==null&&(n=!0,e=it(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}function HDe(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function GDe(t,e){return e||(e=it(4)),e.write_shift(2,0),e.write_shift(2,0),e}function VI(t,e){var n=t.l,r=t.read_shift(1),i=Rs(t),s=[],a={t:i,h:i};if((r&1)!==0){for(var o=t.read_shift(4),l=0;l!=o;++l)s.push(HDe(t));a.r=s}else a.r=[{ich:0,ifnt:0}];return t.l=n+e,a}function KDe(t,e){var n=!1;return e==null&&(n=!0,e=it(15+4*t.t.length)),e.write_shift(1,0),Xi(t.t,e),n?e.slice(0,e.l):e}var JDe=VI;function XDe(t,e){var n=!1;return e==null&&(n=!0,e=it(23+4*t.t.length)),e.write_shift(1,1),Xi(t.t,e),e.write_shift(4,1),GDe({},e),n?e.slice(0,e.l):e}function Co(t){var e=t.read_shift(4),n=t.read_shift(2);return n+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:n}}function gh(t,e){return e==null&&(e=it(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function yh(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function vh(t,e){return e==null&&(e=it(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var YDe=Rs,eJ=Xi;function WI(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function Zb(t,e){var n=!1;return e==null&&(n=!0,e=it(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}var QDe=Rs,c3=WI,qI=Zb;function $I(t){var e=t.slice(t.l,t.l+4),n=e[0]&1,r=e[0]&2;t.l+=4;var i=r===0?Qb([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):sf(e,0)>>2;return n?i/100:i}function tJ(t,e){e==null&&(e=it(4));var n=0,r=0,i=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?r=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(r=1,n=1),r)e.write_shift(-4,((n?i:t)<<2)+(n+2));else throw new Error("unsupported RkNumber "+t)}function nJ(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function ZDe(t,e){return e||(e=it(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var xh=nJ,dg=ZDe;function Ss(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function Jf(t,e){return(e||it(8)).write_shift(8,t,"f")}function eAe(t){var e={},n=t.read_shift(1),r=n>>>1,i=t.read_shift(1),s=t.read_shift(2,"i"),a=t.read_shift(1),o=t.read_shift(1),l=t.read_shift(1);switch(t.l++,r){case 0:e.auto=1;break;case 1:e.index=i;var c=Tf[i];c&&(e.rgb=s1(c));break;case 2:e.rgb=s1([a,o,l]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function e_(t,e){if(e||(e=it(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var n=t.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),e.write_shift(2,n),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var r=t.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),e.write_shift(1,parseInt(r.slice(0,2),16)),e.write_shift(1,parseInt(r.slice(2,4),16)),e.write_shift(1,parseInt(r.slice(4,6),16)),e.write_shift(1,255)}return e}function tAe(t){var e=t.read_shift(1);t.l++;var n={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return n}function nAe(t,e){e||(e=it(2));var n=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,n),e.write_shift(1,0),e}function rJ(t,e){var n={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},r=t.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return n[t.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return t.l-=4,t.read_shift(0,e==1?"lpstr":"lpwstr")}function rAe(t){return rJ(t,1)}function iAe(t){return rJ(t,2)}var zI=2,oa=3,Wx=11,kO=12,t_=19,qx=64,sAe=65,aAe=71,oAe=4108,lAe=4126,$i=80,iJ=81,cAe=[$i,iJ],u3={1:{n:"CodePage",t:zI},2:{n:"Category",t:$i},3:{n:"PresentationFormat",t:$i},4:{n:"ByteCount",t:oa},5:{n:"LineCount",t:oa},6:{n:"ParagraphCount",t:oa},7:{n:"SlideCount",t:oa},8:{n:"NoteCount",t:oa},9:{n:"HiddenCount",t:oa},10:{n:"MultimediaClipCount",t:oa},11:{n:"ScaleCrop",t:Wx},12:{n:"HeadingPairs",t:oAe},13:{n:"TitlesOfParts",t:lAe},14:{n:"Manager",t:$i},15:{n:"Company",t:$i},16:{n:"LinksUpToDate",t:Wx},17:{n:"CharacterCount",t:oa},19:{n:"SharedDoc",t:Wx},22:{n:"HyperlinksChanged",t:Wx},23:{n:"AppVersion",t:oa,p:"version"},24:{n:"DigSig",t:sAe},26:{n:"ContentType",t:$i},27:{n:"ContentStatus",t:$i},28:{n:"Language",t:$i},29:{n:"Version",t:$i},255:{},2147483648:{n:"Locale",t:t_},2147483651:{n:"Behavior",t:t_},1919054434:{}},d3={1:{n:"CodePage",t:zI},2:{n:"Title",t:$i},3:{n:"Subject",t:$i},4:{n:"Author",t:$i},5:{n:"Keywords",t:$i},6:{n:"Comments",t:$i},7:{n:"Template",t:$i},8:{n:"LastAuthor",t:$i},9:{n:"RevNumber",t:$i},10:{n:"EditTime",t:qx},11:{n:"LastPrinted",t:qx},12:{n:"CreatedDate",t:qx},13:{n:"ModifiedDate",t:qx},14:{n:"PageCount",t:oa},15:{n:"WordCount",t:oa},16:{n:"CharCount",t:oa},17:{n:"Thumbnail",t:aAe},18:{n:"Application",t:$i},19:{n:"DocSecurity",t:oa},255:{},2147483648:{n:"Locale",t:t_},2147483651:{n:"Behavior",t:t_},1919054434:{}},IO={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},uAe=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function dAe(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var fAe=dAe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Tf=Ar(fAe),Gc={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},sJ={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},f3={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},$x={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function HI(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function hAe(t){var e=HI();if(!t||!t.match)return e;var n={};if((t.match(Us)||[]).forEach(function(r){var i=an(r);switch(i[0].replace(TDe,"<")){case"<?xml":break;case"<Types":e.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":n[i.Extension]=i.ContentType;break;case"<Override":e[f3[i.ContentType]]!==void 0&&e[f3[i.ContentType]].push(i.PartName);break}}),e.xmlns!==ki.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=n,delete e.calcchains,e}function aJ(t,e){var n=hDe(f3),r=[],i;r[r.length]=pi,r[r.length]=Et("Types",null,{xmlns:ki.CT,"xmlns:xsd":ki.xsd,"xmlns:xsi":ki.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return Et("Default",null,{Extension:l[0],ContentType:l[1]})}));var s=function(l){t[l]&&t[l].length>0&&(i=t[l][0],r[r.length]=Et("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:$x[l][e.bookType]||$x[l].xlsx}))},a=function(l){(t[l]||[]).forEach(function(c){r[r.length]=Et("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:$x[l][e.bookType]||$x[l].xlsx})})},o=function(l){(t[l]||[]).forEach(function(c){r[r.length]=Et("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:n[l][0]})})};return s("workbooks"),a("sheets"),a("charts"),o("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),a("metadata"),o("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var Tn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function i1(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function ly(t,e){var n={"!id":{}};if(!t)return n;e.charAt(0)!=="/"&&(e="/"+e);var r={};return(t.match(Us)||[]).forEach(function(i){var s=an(i);if(s[0]==="<Relationship"){var a={};a.Type=s.Type,a.Target=s.Target,a.Id=s.Id,s.TargetMode&&(a.TargetMode=s.TargetMode);var o=s.TargetMode==="External"?s.Target:P0(s.Target,e);n[o]=a,r[s.Id]=a}}),n["!id"]=r,n}function Gp(t){var e=[pi,Et("Relationships",null,{xmlns:ki.RELS})];return ti(t["!id"]).forEach(function(n){e[e.length]=Et("Relationship",null,t["!id"][n])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function ir(t,e,n,r,i,s){if(i||(i={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,i.Id="rId"+e,i.Type=r,i.Target=n,[Tn.HLINK,Tn.XPATH,Tn.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),t["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][i.Id]=i,t[("/"+i.Target).replace("//","/")]=i,e}var pAe="application/vnd.oasis.opendocument.spreadsheet";function mAe(t,e){for(var n=UI(t),r,i;r=r1.exec(n);)switch(r[3]){case"manifest":break;case"file-entry":if(i=an(r[0],!1),i.path=="/"&&i.type!==pAe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw r}}function gAe(t){var e=[pi];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var n=0;n<t.length;++n)e.push('  <manifest:file-entry manifest:full-path="'+t[n][0]+'" manifest:media-type="'+t[n][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function RO(t,e,n){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function yAe(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function vAe(t){var e=[pi];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var n=0;n!=t.length;++n)e.push(RO(t[n][0],t[n][1])),e.push(yAe("",t[n][0]));return e.push(RO("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function oJ(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Gb.version+"</meta:generator></office:meta></office:document-meta>"}var yo=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],xAe=(function(){for(var t=new Array(yo.length),e=0;e<yo.length;++e){var n=yo[e],r="(?:"+n[0].slice(0,n[0].indexOf(":"))+":)"+n[0].slice(n[0].indexOf(":")+1);t[e]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return t})();function lJ(t){var e={};t=ur(t);for(var n=0;n<yo.length;++n){var r=yo[n],i=t.match(xAe[n]);i!=null&&i.length>0&&(e[r[1]]=jn(i[1])),r[2]==="date"&&e[r[1]]&&(e[r[1]]=Dr(e[r[1]]))}return e}function f4(t,e,n,r,i){i[t]!=null||e==null||e===""||(i[t]=e,e=ar(e),r[r.length]=n?Et(t,e,n):cs(t,e))}function cJ(t,e){var n=e||{},r=[pi,Et("cp:coreProperties",null,{"xmlns:cp":ki.CORE_PROPS,"xmlns:dc":ki.dc,"xmlns:dcterms":ki.dcterms,"xmlns:dcmitype":ki.dcmitype,"xmlns:xsi":ki.xsi})],i={};if(!t&&!n.Props)return r.join("");t&&(t.CreatedDate!=null&&f4("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:l3(t.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i),t.ModifiedDate!=null&&f4("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:l3(t.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i));for(var s=0;s!=yo.length;++s){var a=yo[s],o=n.Props&&n.Props[a[1]]!=null?n.Props[a[1]]:t?t[a[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&f4(a[0],o,null,r,i)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var Ef=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],uJ=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function dJ(t,e,n,r){var i=[];if(typeof t=="string")i=wO(t,r);else for(var s=0;s<t.length;++s)i=i.concat(t[s].map(function(u){return{v:u}}));var a=typeof e=="string"?wO(e,r).map(function(u){return u.v}):e,o=0,l=0;if(a.length>0)for(var c=0;c!==i.length;c+=2){switch(l=+i[c+1].v,i[c].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":n.Worksheets=l,n.SheetNames=a.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":n.NamedRanges=l,n.DefinedNames=a.slice(o,o+l);break;case"Charts":case"Diagramme":n.Chartsheets=l,n.ChartNames=a.slice(o,o+l);break}o+=l}}function bAe(t,e,n){var r={};return e||(e={}),t=ur(t),Ef.forEach(function(i){var s=(t.match(t1(i[0]))||[])[1];switch(i[2]){case"string":s&&(e[i[1]]=jn(s));break;case"bool":e[i[1]]=s==="true";break;case"raw":var a=t.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));a&&a.length>0&&(r[i[1]]=a[1]);break}}),r.HeadingPairs&&r.TitlesOfParts&&dJ(r.HeadingPairs,r.TitlesOfParts,e,n),e}function fJ(t){var e=[],n=Et;return t||(t={}),t.Application="SheetJS",e[e.length]=pi,e[e.length]=Et("Properties",null,{xmlns:ki.EXT_PROPS,"xmlns:vt":ki.vt}),Ef.forEach(function(r){if(t[r[1]]!==void 0){var i;switch(r[2]){case"string":i=ar(String(t[r[1]]));break;case"bool":i=t[r[1]]?"true":"false";break}i!==void 0&&(e[e.length]=n(r[0],i))}}),e[e.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=n("TitlesOfParts",n("vt:vector",t.SheetNames.map(function(r){return"<vt:lpstr>"+ar(r)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var _Ae=/<[^>]+>[^<]*/g;function wAe(t,e){var n={},r="",i=t.match(_Ae);if(i)for(var s=0;s!=i.length;++s){var a=i[s],o=an(a);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":r=jn(o.name);break;case"</property>":r=null;break;default:if(a.indexOf("<vt:")===0){var l=a.split(">"),c=l[0].slice(4),u=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":n[r]=jn(u);break;case"bool":n[r]=Tr(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[r]=parseInt(u,10);break;case"r4":case"r8":case"decimal":n[r]=parseFloat(u);break;case"filetime":case"date":n[r]=Dr(u);break;case"cy":case"error":n[r]=jn(u);break;default:if(c.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",a,c,l)}}else if(a.slice(0,2)!=="</"){if(e.WTF)throw new Error(a)}}}return n}function hJ(t){var e=[pi,Et("Properties",null,{xmlns:ki.CUST_PROPS,"xmlns:vt":ki.vt})];if(!t)return e.join("");var n=1;return ti(t).forEach(function(i){++n,e[e.length]=Et("property",IDe(t[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:ar(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var h3={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},h4;function TAe(t,e,n){h4||(h4=jw(h3)),e=h4[e]||e,t[e]=n}function EAe(t,e){var n=[];return ti(h3).map(function(r){for(var i=0;i<yo.length;++i)if(yo[i][1]==r)return yo[i];for(i=0;i<Ef.length;++i)if(Ef[i][1]==r)return Ef[i];throw r}).forEach(function(r){if(t[r[1]]!=null){var i=e&&e.Props&&e.Props[r[1]]!=null?e.Props[r[1]]:t[r[1]];switch(r[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),n.push(cs(h3[r[1]]||r[1],i))}}),Et("DocumentProperties",n.join(""),{xmlns:Pa.o})}function CAe(t,e){var n=["Worksheets","SheetNames"],r="CustomDocumentProperties",i=[];return t&&ti(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)){for(var a=0;a<yo.length;++a)if(s==yo[a][1])return;for(a=0;a<Ef.length;++a)if(s==Ef[a][1])return;for(a=0;a<n.length;++a)if(s==n[a])return;var o=t[s],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o=String(o),i.push(Et(vO(s),o,{"dt:dt":l}))}}),e&&ti(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(t&&Object.prototype.hasOwnProperty.call(t,s))){var a=e[s],o="string";typeof a=="number"?(o="float",a=String(a)):a===!0||a===!1?(o="boolean",a=a?"1":"0"):a instanceof Date?(o="dateTime.tz",a=a.toISOString()):a=String(a),i.push(Et(vO(s),a,{"dt:dt":o}))}}),"<"+r+' xmlns="'+Pa.o+'">'+i.join("")+"</"+r+">"}function GI(t){var e=t.read_shift(4),n=t.read_shift(4);return new Date((n/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function SAe(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,n=e.getTime()/1e3+11644473600,r=n%Math.pow(2,32),i=(n-r)/Math.pow(2,32);r*=1e7,i*=1e7;var s=r/Math.pow(2,32)|0;s>0&&(r=r%Math.pow(2,32),i+=s);var a=it(8);return a.write_shift(4,r),a.write_shift(4,i),a}function pJ(t,e,n){var r=t.l,i=t.read_shift(0,"lpstr-cp");if(n)for(;t.l-r&3;)++t.l;return i}function mJ(t,e,n){var r=t.read_shift(0,"lpwstr");return r}function gJ(t,e,n){return e===31?mJ(t):pJ(t,e,n)}function p3(t,e,n){return gJ(t,e,n===!1?0:4)}function DAe(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return gJ(t,e,0)}function AAe(t){for(var e=t.read_shift(4),n=[],r=0;r!=e;++r){var i=t.l;n[r]=t.read_shift(0,"lpwstr").replace(Ks,""),t.l-i&2&&(t.l+=2)}return n}function NAe(t){for(var e=t.read_shift(4),n=[],r=0;r!=e;++r)n[r]=t.read_shift(0,"lpstr-cp").replace(Ks,"");return n}function kAe(t){var e=t.l,n=n_(t,iJ);t[t.l]==0&&t[t.l+1]==0&&t.l-e&2&&(t.l+=2);var r=n_(t,oa);return[n,r]}function IAe(t){for(var e=t.read_shift(4),n=[],r=0;r<e/2;++r)n.push(kAe(t));return n}function PO(t,e){for(var n=t.read_shift(4),r={},i=0;i!=n;++i){var s=t.read_shift(4),a=t.read_shift(4);r[s]=t.read_shift(a,e===1200?"utf16le":"utf8").replace(Ks,"").replace(R0,"!"),e===1200&&a%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),r}function yJ(t){var e=t.read_shift(4),n=t.slice(t.l,t.l+e);return t.l+=e,(e&3)>0&&(t.l+=4-(e&3)&3),n}function RAe(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}function n_(t,e,n){var r=t.read_shift(2),i,s=n||{};if(t.l+=2,e!==kO&&r!==e&&cAe.indexOf(e)===-1&&!((e&65534)==4126&&(r&65534)==4126))throw new Error("Expected type "+e+" saw "+r);switch(e===kO?r:e){case 2:return i=t.read_shift(2,"i"),s.raw||(t.l+=2),i;case 3:return i=t.read_shift(4,"i"),i;case 11:return t.read_shift(4)!==0;case 19:return i=t.read_shift(4),i;case 30:return pJ(t,r,4).replace(Ks,"");case 31:return mJ(t);case 64:return GI(t);case 65:return yJ(t);case 71:return RAe(t);case 80:return p3(t,r,!s.raw).replace(Ks,"");case 81:return DAe(t,r).replace(Ks,"");case 4108:return IAe(t);case 4126:case 4127:return r==4127?AAe(t):NAe(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+r)}}function FO(t,e){var n=it(4),r=it(4);switch(n.write_shift(4,t==80?31:t),t){case 3:r.write_shift(-4,e);break;case 5:r=it(8),r.write_shift(8,e,"f");break;case 11:r.write_shift(4,e?1:0);break;case 64:r=SAe(e);break;case 31:case 80:for(r=it(4+2*(e.length+1)+(e.length%2?0:2)),r.write_shift(4,e.length+1),r.write_shift(0,e,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return Ji([n,r])}function MO(t,e){var n=t.l,r=t.read_shift(4),i=t.read_shift(4),s=[],a=0,o=0,l=-1,c={};for(a=0;a!=i;++a){var u=t.read_shift(4),f=t.read_shift(4);s[a]=[u,f+n]}s.sort(function(x,w){return x[1]-w[1]});var h={};for(a=0;a!=i;++a){if(t.l!==s[a][1]){var p=!0;if(a>0&&e)switch(e[s[a-1][0]].t){case 2:t.l+2===s[a][1]&&(t.l+=2,p=!1);break;case 80:t.l<=s[a][1]&&(t.l=s[a][1],p=!1);break;case 4108:t.l<=s[a][1]&&(t.l=s[a][1],p=!1);break}if((!e||a==0)&&t.l<=s[a][1]&&(p=!1,t.l=s[a][1]),p)throw new Error("Read Error: Expected address "+s[a][1]+" at "+t.l+" :"+a)}if(e){var v=e[s[a][0]];if(h[v.n]=n_(t,v.t,{raw:!0}),v.p==="version"&&(h[v.n]=String(h[v.n]>>16)+"."+("0000"+String(h[v.n]&65535)).slice(-4)),v.n=="CodePage")switch(h[v.n]){case 0:h[v.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Go(o=h[v.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[v.n])}}else if(s[a][0]===1){if(o=h.CodePage=n_(t,zI),Go(o),l!==-1){var g=t.l;t.l=s[l][1],c=PO(t,o),t.l=g}}else if(s[a][0]===0){if(o===0){l=a,t.l=s[a+1][1];continue}c=PO(t,o)}else{var y=c[s[a][0]],_;switch(t[t.l]){case 65:t.l+=4,_=yJ(t);break;case 30:t.l+=4,_=p3(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,_=p3(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,_=t.read_shift(4,"i");break;case 19:t.l+=4,_=t.read_shift(4);break;case 5:t.l+=4,_=t.read_shift(8,"f");break;case 11:t.l+=4,_=oi(t,4);break;case 64:t.l+=4,_=Dr(GI(t));break;default:throw new Error("unparsed value: "+t[t.l])}h[y]=_}}return t.l=n+r,h}var vJ=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function PAe(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function UO(t,e,n){var r=it(8),i=[],s=[],a=8,o=0,l=it(8),c=it(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),s.push(l),i.push(c),a+=8+l.length,!e){c=it(8),c.write_shift(4,0),i.unshift(c);var u=[it(4)];for(u[0].write_shift(4,t.length),o=0;o<t.length;++o){var f=t[o][0];for(l=it(8+2*(f.length+1)+(f.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,f.length+1),l.write_shift(0,f,"dbcs");l.l!=l.length;)l.write_shift(1,0);u.push(l)}l=Ji(u),s.unshift(l),a+=8+l.length}for(o=0;o<t.length;++o)if(!(e&&!e[t[o][0]])&&!(vJ.indexOf(t[o][0])>-1||uJ.indexOf(t[o][0])>-1)&&t[o][1]!=null){var h=t[o][1],p=0;if(e){p=+e[t[o][0]];var v=n[p];if(v.p=="version"&&typeof h=="string"){var g=h.split(".");h=(+g[0]<<16)+(+g[1]||0)}l=FO(v.t,h)}else{var y=PAe(h);y==-1&&(y=31,h=String(h)),l=FO(y,h)}s.push(l),c=it(8),c.write_shift(4,e?p:2+o),i.push(c),a+=8+l.length}var _=8*(s.length+1);for(o=0;o<s.length;++o)i[o].write_shift(4,_),_+=s[o].length;return r.write_shift(4,a),r.write_shift(4,s.length),Ji([r].concat(i).concat(s))}function OO(t,e,n){var r=t.content;if(!r)return{};os(r,0);var i,s,a,o,l=0;r.chk("feff","Byte Order: "),r.read_shift(2);var c=r.read_shift(4),u=r.read_shift(16);if(u!==Jt.utils.consts.HEADER_CLSID&&u!==n)throw new Error("Bad PropertySet CLSID "+u);if(i=r.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(s=r.read_shift(16),o=r.read_shift(4),i===1&&o!==r.l)throw new Error("Length mismatch: "+o+" !== "+r.l);i===2&&(a=r.read_shift(16),l=r.read_shift(4));var f=MO(r,e),h={SystemIdentifier:c};for(var p in f)h[p]=f[p];if(h.FMTID=s,i===1)return h;if(l-r.l==2&&(r.l+=2),r.l!==l)throw new Error("Length mismatch 2: "+r.l+" !== "+l);var v;try{v=MO(r,null)}catch{}for(p in v)h[p]=v[p];return h.FMTID=[s,a],h}function LO(t,e,n,r,i,s){var a=it(i?68:48),o=[a];a.write_shift(2,65534),a.write_shift(2,0),a.write_shift(4,842412599),a.write_shift(16,Jt.utils.consts.HEADER_CLSID,"hex"),a.write_shift(4,i?2:1),a.write_shift(16,e,"hex"),a.write_shift(4,i?68:48);var l=UO(t,n,r);if(o.push(l),i){var c=UO(i,null,null);a.write_shift(16,s,"hex"),a.write_shift(4,68+l.length),o.push(c)}return Ji(o)}function xu(t,e){return t.read_shift(e),null}function FAe(t,e){e||(e=it(t));for(var n=0;n<t;++n)e.write_shift(1,0);return e}function MAe(t,e,n){for(var r=[],i=t.l+e;t.l<i;)r.push(n(t,i-t.l));if(i!==t.l)throw new Error("Slurp error");return r}function oi(t,e){return t.read_shift(e)===1}function $s(t,e){return e||(e=it(2)),e.write_shift(2,+!!t),e}function _i(t){return t.read_shift(2,"u")}function co(t,e){return e||(e=it(2)),e.write_shift(2,t),e}function xJ(t,e){return MAe(t,e,_i)}function UAe(t){var e=t.read_shift(1),n=t.read_shift(1);return n===1?e:e===1}function bJ(t,e,n){return n||(n=it(2)),n.write_shift(1,e=="e"?+t:+!!t),n.write_shift(1,e=="e"?1:0),n}function rv(t,e,n){var r=t.read_shift(n&&n.biff>=12?2:1),i="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var s=t.read_shift(1);s&&(i="dbcs-cont")}else n.biff==12&&(i="wstr");n.biff>=2&&n.biff<=5&&(i="cpstr");var a=r?t.read_shift(r,i):"";return a}function OAe(t){var e=t.read_shift(2),n=t.read_shift(1),r=n&4,i=n&8,s=1+(n&1),a=0,o,l={};i&&(a=t.read_shift(2)),r&&(o=t.read_shift(4));var c=s==2?"dbcs-cont":"sbcs-cont",u=e===0?"":t.read_shift(e,c);return i&&(t.l+=4*a),r&&(t.l+=o),l.t=u,i||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function LAe(t){var e=t.t||"",n=it(3);n.write_shift(2,e.length),n.write_shift(1,1);var r=it(2*e.length);r.write_shift(2*e.length,e,"utf16le");var i=[n,r];return Ji(i)}function Xf(t,e,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return t.read_shift(e,"cpstr");if(n.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?r=t.read_shift(e,"sbcs-cont"):r=t.read_shift(e,"dbcs-cont"),r}function iv(t,e,n){var r=t.read_shift(n&&n.biff==2?1:2);return r===0?(t.l++,""):Xf(t,r,n)}function bh(t,e,n){if(n.biff>5)return iv(t,e,n);var r=t.read_shift(1);return r===0?(t.l++,""):t.read_shift(r,n.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function _J(t,e,n){return n||(n=it(3+2*t.length)),n.write_shift(2,t.length),n.write_shift(1,1),n.write_shift(31,t,"utf16le"),n}function jAe(t){var e=t.read_shift(1);t.l++;var n=t.read_shift(2);return t.l+=2,[e,n]}function BAe(t){var e=t.read_shift(4),n=t.l,r=!1;e>24&&(t.l+=e-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(r=!0),t.l=n);var i=t.read_shift((r?e-24:e)>>1,"utf16le").replace(Ks,"");return r&&(t.l+=24),i}function VAe(t){for(var e=t.read_shift(2),n="";e-- >0;)n+="../";var r=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=t.read_shift(4);if(i===0)return n+r.replace(/\\/g,"/");var s=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var a=t.read_shift(s>>1,"utf16le").replace(Ks,"");return n+a}function WAe(t,e){var n=t.read_shift(16);switch(n){case"e0c9ea79f9bace118c8200aa004ba90b":return BAe(t);case"0303000000000000c000000000000046":return VAe(t);default:throw new Error("Unsupported Moniker "+n)}}function zx(t){var e=t.read_shift(4),n=e>0?t.read_shift(e,"utf16le").replace(Ks,""):"";return n}function jO(t,e){e||(e=it(6+t.length*2)),e.write_shift(4,1+t.length);for(var n=0;n<t.length;++n)e.write_shift(2,t.charCodeAt(n));return e.write_shift(2,0),e}function qAe(t,e){var n=t.l+e,r=t.read_shift(4);if(r!==2)throw new Error("Unrecognized streamVersion: "+r);var i=t.read_shift(2);t.l+=2;var s,a,o,l,c="",u,f;i&16&&(s=zx(t,n-t.l)),i&128&&(a=zx(t,n-t.l)),(i&257)===257&&(o=zx(t,n-t.l)),(i&257)===1&&(l=WAe(t,n-t.l)),i&8&&(c=zx(t,n-t.l)),i&32&&(u=t.read_shift(16)),i&64&&(f=GI(t)),t.l=n;var h=a||o||l||"";h&&c&&(h+="#"+c),h||(h="#"+c),i&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var p={Target:h};return u&&(p.guid=u),f&&(p.time=f),s&&(p.Tooltip=s),p}function $Ae(t){var e=it(512),n=0,r=t.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var i=r.indexOf("#"),s=i>-1?31:23;switch(r.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var a=[8,6815827,6619237,4849780,83];for(n=0;n<a.length;++n)e.write_shift(4,a[n]);if(s==28)r=r.slice(1),jO(r,e);else if(s&2){for(a="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<a.length;++n)e.write_shift(1,parseInt(a[n],16));var o=i>-1?r.slice(0,i):r;for(e.write_shift(4,2*(o.length+1)),n=0;n<o.length;++n)e.write_shift(2,o.charCodeAt(n));e.write_shift(2,0),s&8&&jO(i>-1?r.slice(i+1):"",e)}else{for(a="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<a.length;++n)e.write_shift(1,parseInt(a[n],16));for(var l=0;r.slice(l*3,l*3+3)=="../"||r.slice(l*3,l*3+3)=="..\\";)++l;for(e.write_shift(2,l),e.write_shift(4,r.length-3*l+1),n=0;n<r.length-3*l;++n)e.write_shift(1,r.charCodeAt(n+3*l)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),n=0;n<6;++n)e.write_shift(4,0)}return e.slice(0,e.l)}function wJ(t){var e=t.read_shift(1),n=t.read_shift(1),r=t.read_shift(1),i=t.read_shift(1);return[e,n,r,i]}function TJ(t,e){var n=wJ(t);return n[3]=0,n}function Kl(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2);return{r:e,c:n,ixfe:r}}function Yf(t,e,n,r){return r||(r=it(6)),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(2,n||0),r}function zAe(t){var e=t.read_shift(2),n=t.read_shift(2);return t.l+=8,{type:e,flags:n}}function HAe(t,e,n){return e===0?"":bh(t,e,n)}function GAe(t,e,n){var r=n.biff>8?4:2,i=t.read_shift(r),s=t.read_shift(r,"i"),a=t.read_shift(r,"i");return[i,s,a]}function EJ(t){var e=t.read_shift(2),n=$I(t);return[e,n]}function KAe(t,e,n){t.l+=4,e-=4;var r=t.l+e,i=rv(t,e,n),s=t.read_shift(2);if(r-=t.l,s!==r)throw new Error("Malformed AddinUdf: padding = "+r+" != "+s);return t.l+=s,i}function Ww(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),i=t.read_shift(2);return{s:{c:r,r:e},e:{c:i,r:n}}}function CJ(t,e){return e||(e=it(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function SJ(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(1),i=t.read_shift(1);return{s:{c:r,r:e},e:{c:i,r:n}}}var JAe=SJ;function DJ(t){t.l+=4;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2);return t.l+=12,[n,e,r]}function XAe(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e}function YAe(t){var e={};return t.l+=4,t.cf=t.read_shift(2),e}function xs(t){t.l+=2,t.l+=t.read_shift(2)}var QAe={0:xs,4:xs,5:xs,6:xs,7:YAe,8:xs,9:xs,10:xs,11:xs,12:xs,13:XAe,14:xs,15:xs,16:xs,17:xs,18:xs,19:xs,20:xs,21:DJ};function ZAe(t,e){for(var n=t.l+e,r=[];t.l<n;){var i=t.read_shift(2);t.l-=2;try{r.push(QAe[i](t,n-t.l))}catch{return t.l=n,r}}return t.l!=n&&(t.l=n),r}function Hx(t,e){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=t.read_shift(2),e-=2,e>=2&&(n.dt=t.read_shift(2),t.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+n.BIFFVer)}return t.read_shift(e),n}function KI(t,e,n){var r=1536,i=16;switch(n.bookType){case"biff8":break;case"biff5":r=1280,i=8;break;case"biff4":r=4,i=6;break;case"biff3":r=3,i=6;break;case"biff2":r=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=it(i);return s.write_shift(2,r),s.write_shift(2,e),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function e3e(t,e){return e===0||t.read_shift(2),1200}function t3e(t,e,n){if(n.enc)return t.l+=e,"";var r=t.l,i=bh(t,0,n);return t.read_shift(e+r-t.l),i}function n3e(t,e){var n=!e||e.biff==8,r=it(n?112:54);for(r.write_shift(e.biff==8?2:1,7),n&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(n?0:536870912));r.l<r.length;)r.write_shift(1,n?0:32);return r}function r3e(t,e,n){var r=n&&n.biff==8||e==2?t.read_shift(2):(t.l+=e,0);return{fDialog:r&16,fBelow:r&64,fRight:r&128}}function i3e(t,e,n){var r=t.read_shift(4),i=t.read_shift(1)&3,s=t.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var a=rv(t,0,n);return a.length===0&&(a="Sheet1"),{pos:r,hs:i,dt:s,name:a}}function s3e(t,e){var n=!e||e.biff>=8?2:1,r=it(8+n*t.name.length);r.write_shift(4,t.pos),r.write_shift(1,t.hs||0),r.write_shift(1,t.dt),r.write_shift(1,t.name.length),e.biff>=8&&r.write_shift(1,1),r.write_shift(n*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var i=r.slice(0,r.l);return i.l=r.l,i}function a3e(t,e){for(var n=t.l+e,r=t.read_shift(4),i=t.read_shift(4),s=[],a=0;a!=i&&t.l<n;++a)s.push(OAe(t));return s.Count=r,s.Unique=i,s}function o3e(t,e){var n=it(8);n.write_shift(4,t.Count),n.write_shift(4,t.Unique);for(var r=[],i=0;i<t.length;++i)r[i]=LAe(t[i]);var s=Ji([n].concat(r));return s.parts=[n.length].concat(r.map(function(a){return a.length})),s}function l3e(t,e){var n={};return n.dsst=t.read_shift(2),t.l+=e-2,n}function c3e(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var n=t.read_shift(2);t.l+=4;var r=t.read_shift(1);return t.l+=3,r&7&&(e.level=r&7),r&32&&(e.hidden=!0),r&64&&(e.hpt=n/20),e}function u3e(t){var e=zAe(t);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var n=t.read_shift(4);return n!==0}function d3e(t){return t.read_shift(2),t.read_shift(4)}function BO(t,e,n){var r=0;n&&n.biff==2||(r=t.read_shift(2));var i=t.read_shift(2);n&&n.biff==2&&(r=1-(i>>15),i&=32767);var s={Unsynced:r&1,DyZero:(r&2)>>1,ExAsc:(r&4)>>2,ExDsc:(r&8)>>3};return[s,i]}function f3e(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),a=t.read_shift(2),o=t.read_shift(2),l=t.read_shift(2),c=t.read_shift(2);return{Pos:[e,n],Dim:[r,i],Flags:s,CurTab:a,FirstTab:o,Selected:l,TabRatio:c}}function h3e(){var t=it(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function p3e(t,e,n){if(n&&n.biff>=2&&n.biff<5)return{};var r=t.read_shift(2);return{RTL:r&64}}function m3e(t){var e=it(18),n=1718;return t&&t.RTL&&(n|=64),e.write_shift(2,n),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function g3e(){}function y3e(t,e,n){var r={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return r.name=rv(t,0,n),r}function v3e(t,e){var n=t.name||"Arial",r=e&&e.biff==5,i=r?15+n.length:16+2*n.length,s=it(i);return s.write_shift(2,t.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,n.length),r||s.write_shift(1,1),s.write_shift((r?1:2)*n.length,n,r?"sbcs":"utf16le"),s}function x3e(t){var e=Kl(t);return e.isst=t.read_shift(4),e}function b3e(t,e,n,r){var i=it(10);return Yf(t,e,r,i),i.write_shift(4,n),i}function _3e(t,e,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=t.l+e,i=Kl(t);n.biff==2&&t.l++;var s=iv(t,r-t.l,n);return i.val=s,i}function w3e(t,e,n,r,i){var s=!i||i.biff==8,a=it(8+ +s+(1+s)*n.length);return Yf(t,e,r,a),a.write_shift(2,n.length),s&&a.write_shift(1,1),a.write_shift((1+s)*n.length,n,s?"utf16le":"sbcs"),a}function T3e(t,e,n){var r=t.read_shift(2),i=bh(t,0,n);return[r,i]}function E3e(t,e,n,r){var i=n&&n.biff==5;r||(r=it(i?3+e.length:5+2*e.length)),r.write_shift(2,t),r.write_shift(i?1:2,e.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var s=r.length>r.l?r.slice(0,r.l):r;return s.l==null&&(s.l=s.length),s}var C3e=bh;function VO(t,e,n){var r=t.l+e,i=n.biff==8||!n.biff?4:2,s=t.read_shift(i),a=t.read_shift(i),o=t.read_shift(2),l=t.read_shift(2);return t.l=r,{s:{r:s,c:o},e:{r:a,c:l}}}function S3e(t,e){var n=e.biff==8||!e.biff?4:2,r=it(2*n+6);return r.write_shift(n,t.s.r),r.write_shift(n,t.e.r+1),r.write_shift(2,t.s.c),r.write_shift(2,t.e.c+1),r.write_shift(2,0),r}function D3e(t){var e=t.read_shift(2),n=t.read_shift(2),r=EJ(t);return{r:e,c:n,ixfe:r[0],rknum:r[1]}}function A3e(t,e){for(var n=t.l+e-2,r=t.read_shift(2),i=t.read_shift(2),s=[];t.l<n;)s.push(EJ(t));if(t.l!==n)throw new Error("MulRK read error");var a=t.read_shift(2);if(s.length!=a-i+1)throw new Error("MulRK length mismatch");return{r,c:i,C:a,rkrec:s}}function N3e(t,e){for(var n=t.l+e-2,r=t.read_shift(2),i=t.read_shift(2),s=[];t.l<n;)s.push(t.read_shift(2));if(t.l!==n)throw new Error("MulBlank read error");var a=t.read_shift(2);if(s.length!=a-i+1)throw new Error("MulBlank length mismatch");return{r,c:i,C:a,ixfe:s}}function k3e(t,e,n,r){var i={},s=t.read_shift(4),a=t.read_shift(4),o=t.read_shift(4),l=t.read_shift(2);return i.patternType=uAe[o>>26],r.cellStyles&&(i.alc=s&7,i.fWrap=s>>3&1,i.alcV=s>>4&7,i.fJustLast=s>>7&1,i.trot=s>>8&255,i.cIndent=s>>16&15,i.fShrinkToFit=s>>20&1,i.iReadOrder=s>>22&2,i.fAtrNum=s>>26&1,i.fAtrFnt=s>>27&1,i.fAtrAlc=s>>28&1,i.fAtrBdr=s>>29&1,i.fAtrPat=s>>30&1,i.fAtrProt=s>>31&1,i.dgLeft=a&15,i.dgRight=a>>4&15,i.dgTop=a>>8&15,i.dgBottom=a>>12&15,i.icvLeft=a>>16&127,i.icvRight=a>>23&127,i.grbitDiag=a>>30&3,i.icvTop=o&127,i.icvBottom=o>>7&127,i.icvDiag=o>>14&127,i.dgDiag=o>>21&15,i.icvFore=l&127,i.icvBack=l>>7&127,i.fsxButton=l>>14&1),i}function I3e(t,e,n){var r={};return r.ifnt=t.read_shift(2),r.numFmtId=t.read_shift(2),r.flags=t.read_shift(2),r.fStyle=r.flags>>2&1,e-=6,r.data=k3e(t,e,r.fStyle,n),r}function WO(t,e,n,r){var i=n&&n.biff==5;r||(r=it(i?16:20)),r.write_shift(2,0),t.style?(r.write_shift(2,t.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,t.numFmtId||0),r.write_shift(2,e<<4));var s=0;return t.numFmtId>0&&i&&(s|=1024),r.write_shift(4,s),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function R3e(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function P3e(t){var e=it(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function qO(t,e,n){var r=Kl(t);(n.biff==2||e==9)&&++t.l;var i=UAe(t);return r.val=i,r.t=i===!0||i===!1?"b":"e",r}function F3e(t,e,n,r,i,s){var a=it(8);return Yf(t,e,r,a),bJ(n,s,a),a}function M3e(t,e,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=Kl(t),i=Ss(t);return r.val=i,r}function U3e(t,e,n,r){var i=it(14);return Yf(t,e,r,i),Jf(n,i),i}var $O=HAe;function O3e(t,e,n){var r=t.l+e,i=t.read_shift(2),s=t.read_shift(2);if(n.sbcch=s,s==1025||s==14849)return[s,i];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var a=Xf(t,s),o=[];r>t.l;)o.push(iv(t));return[s,i,a,o]}function zO(t,e,n){var r=t.read_shift(2),i,s={fBuiltIn:r&1,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return n.sbcch===14849&&(i=KAe(t,e-2,n)),s.body=i||t.read_shift(e-2),typeof i=="string"&&(s.Name=i),s}var L3e=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function HO(t,e,n){var r=t.l+e,i=t.read_shift(2),s=t.read_shift(1),a=t.read_shift(1),o=t.read_shift(n&&n.biff==2?1:2),l=0;(!n||n.biff>=5)&&(n.biff!=5&&(t.l+=2),l=t.read_shift(2),n.biff==5&&(t.l+=2),t.l+=4);var c=Xf(t,a,n);i&32&&(c=L3e[c.charCodeAt(0)]);var u=r-t.l;n&&n.biff==2&&--u;var f=r==t.l||o===0||!(u>0)?[]:Z6e(t,u,n,o);return{chKey:s,Name:c,itab:l,rgce:f}}function AJ(t,e,n){if(n.biff<8)return j3e(t,e,n);for(var r=[],i=t.l+e,s=t.read_shift(n.biff>8?4:2);s--!==0;)r.push(GAe(t,n.biff>8?12:6,n));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return r}function j3e(t,e,n){t[t.l+1]==3&&t[t.l]++;var r=rv(t,e,n);return r.charCodeAt(0)==3?r.slice(1):r}function B3e(t,e,n){if(n.biff<8){t.l+=e;return}var r=t.read_shift(2),i=t.read_shift(2),s=Xf(t,r,n),a=Xf(t,i,n);return[s,a]}function V3e(t,e,n){var r=SJ(t);t.l++;var i=t.read_shift(1);return e-=8,[e5e(t,e,n),i,r]}function GO(t,e,n){var r=JAe(t);switch(n.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[r,Y6e(t,e,n)]}function W3e(t){var e=t.read_shift(4)!==0,n=t.read_shift(4)!==0,r=t.read_shift(4);return[e,n,r]}function q3e(t,e,n){if(!(n.biff<8)){var r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),a=t.read_shift(2),o=bh(t,0,n);return n.biff<8&&t.read_shift(1),[{r,c:i},o,a,s]}}function $3e(t,e,n){return q3e(t,e,n)}function z3e(t,e){for(var n=[],r=t.read_shift(2);r--;)n.push(Ww(t));return n}function H3e(t){var e=it(2+t.length*8);e.write_shift(2,t.length);for(var n=0;n<t.length;++n)CJ(t[n],e);return e}function G3e(t,e,n){if(n&&n.biff<8)return J3e(t,e,n);var r=DJ(t),i=ZAe(t,e-22,r[1]);return{cmo:r,ft:i}}var K3e={8:function(t,e){var n=t.l+e;t.l+=10;var r=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var i=t.read_shift(1);return t.l+=i,t.l=n,{fmt:r}}};function J3e(t,e,n){t.l+=4;var r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,e-=36;var a=[];return a.push((K3e[r]||Ps)(t,e,n)),{cmo:[i,r,s],ft:a}}function X3e(t,e,n){var r=t.l,i="";try{t.l+=4;var s=(n.lastobj||{cmo:[0,0]}).cmo[1],a;[0,5,7,11,12,14].indexOf(s)==-1?t.l+=6:a=jAe(t,6,n);var o=t.read_shift(2);t.read_shift(2),_i(t,2);var l=t.read_shift(2);t.l+=l;for(var c=1;c<t.lens.length-1;++c){if(t.l-r!=t.lens[c])throw new Error("TxO: bad continue record");var u=t[t.l],f=Xf(t,t.lens[c+1]-t.lens[c]-1);if(i+=f,i.length>=(u?o:2*o))break}if(i.length!==o&&i.length!==o*2)throw new Error("cchText: "+o+" != "+i.length);return t.l=r+e,{t:i}}catch{return t.l=r+e,{t:i}}}function Y3e(t,e){var n=Ww(t);t.l+=16;var r=qAe(t,e-24);return[n,r]}function Q3e(t){var e=it(24),n=$r(t[0]);e.write_shift(2,n.r),e.write_shift(2,n.r),e.write_shift(2,n.c),e.write_shift(2,n.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(r[i],16));return Ji([e,$Ae(t[1])])}function Z3e(t,e){t.read_shift(2);var n=Ww(t),r=t.read_shift((e-10)/2,"dbcs-cont");return r=r.replace(Ks,""),[n,r]}function eNe(t){var e=t[1].Tooltip,n=it(10+2*(e.length+1));n.write_shift(2,2048);var r=$r(t[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var i=0;i<e.length;++i)n.write_shift(2,e.charCodeAt(i));return n.write_shift(2,0),n}function tNe(t){var e=[0,0],n;return n=t.read_shift(2),e[0]=IO[n]||n,n=t.read_shift(2),e[1]=IO[n]||n,e}function nNe(t){return t||(t=it(4)),t.write_shift(2,1),t.write_shift(2,1),t}function rNe(t){for(var e=t.read_shift(2),n=[];e-- >0;)n.push(TJ(t));return n}function iNe(t){for(var e=t.read_shift(2),n=[];e-- >0;)n.push(TJ(t));return n}function sNe(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e}function NJ(t,e,n){if(!n.cellStyles)return Ps(t,e);var r=n&&n.biff>=12?4:2,i=t.read_shift(r),s=t.read_shift(r),a=t.read_shift(r),o=t.read_shift(r),l=t.read_shift(2);r==2&&(t.l+=2);var c={s:i,e:s,w:a,ixfe:o,flags:l};return(n.biff>=5||!n.biff)&&(c.level=l>>8&7),c}function aNe(t,e){var n=it(12);n.write_shift(2,e),n.write_shift(2,e),n.write_shift(2,t.width*256),n.write_shift(2,0);var r=0;return t.hidden&&(r|=1),n.write_shift(1,r),r=t.level||0,n.write_shift(1,r),n.write_shift(2,0),n}function oNe(t,e){var n={};return e<32||(t.l+=16,n.header=Ss(t),n.footer=Ss(t),t.l+=2),n}function lNe(t,e,n){var r={area:!1};if(n.biff!=5)return t.l+=e,r;var i=t.read_shift(1);return t.l+=3,i&16&&(r.area=!0),r}function cNe(t){for(var e=it(2*t),n=0;n<t;++n)e.write_shift(2,n+1);return e}var uNe=Kl,dNe=xJ,fNe=iv;function hNe(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),i={fmt:e,env:n,len:r,data:t.slice(t.l,t.l+r)};return t.l+=r,i}function pNe(t,e,n){n.biffguess&&n.biff==5&&(n.biff=2);var r=Kl(t);++t.l;var i=bh(t,e-7,n);return r.t="str",r.val=i,r}function mNe(t){var e=Kl(t);++t.l;var n=Ss(t);return e.t="n",e.val=n,e}function gNe(t,e,n){var r=it(15);return lv(r,t,e),r.write_shift(8,n,"f"),r}function yNe(t){var e=Kl(t);++t.l;var n=t.read_shift(2);return e.t="n",e.val=n,e}function vNe(t,e,n){var r=it(9);return lv(r,t,e),r.write_shift(2,n),r}function xNe(t){var e=t.read_shift(1);return e===0?(t.l++,""):t.read_shift(e,"sbcs-cont")}function bNe(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}function _Ne(t,e,n){var r=t.l+e,i=Kl(t),s=t.read_shift(2),a=Xf(t,s,n);return t.l=r,i.t="str",i.val=a,i}var wNe=[2,3,48,49,131,139,140,245],m3=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=jw({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(o,l){var c=[],u=id(1);switch(l.type){case"base64":u=Ma(qa(o));break;case"binary":u=Ma(o);break;case"buffer":case"array":u=o;break}os(u,0);var f=u.read_shift(1),h=!!(f&136),p=!1,v=!1;switch(f){case 2:break;case 3:break;case 48:p=!0,h=!0;break;case 49:p=!0,h=!0;break;case 131:break;case 139:break;case 140:v=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var g=0,y=521;f==2&&(g=u.read_shift(2)),u.l+=3,f!=2&&(g=u.read_shift(4)),g>1048576&&(g=1e6),f!=2&&(y=u.read_shift(2));var _=u.read_shift(2),x=l.codepage||1252;f!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(x=t[u[u.l]]),u.l+=1,u.l+=2),v&&(u.l+=36);for(var w=[],C={},S=Math.min(u.length,f==2?521:y-10-(p?264:0)),R=v?32:11;u.l<S&&u[u.l]!=13;)switch(C={},C.name=Qy.utils.decode(x,u.slice(u.l,u.l+R)).replace(/[\u0000\r\n].*$/g,""),u.l+=R,C.type=String.fromCharCode(u.read_shift(1)),f!=2&&!v&&(C.offset=u.read_shift(4)),C.len=u.read_shift(1),f==2&&(C.offset=u.read_shift(2)),C.dec=u.read_shift(1),C.name.length&&w.push(C),f!=2&&(u.l+=v?13:14),C.type){case"B":(!p||C.len!=8)&&l.WTF&&console.log("Skipping "+C.name+":"+C.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+C.name+":"+C.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+C.type)}if(u[u.l]!==13&&(u.l=y-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=y;var D=0,N=0;for(c[0]=[],N=0;N!=w.length;++N)c[0][N]=w[N].name;for(;g-- >0;){if(u[u.l]===42){u.l+=_;continue}for(++u.l,c[++D]=[],N=0,N=0;N!=w.length;++N){var I=u.slice(u.l,u.l+w[N].len);u.l+=w[N].len,os(I,0);var F=Qy.utils.decode(x,I);switch(w[N].type){case"C":F.trim().length&&(c[D][N]=F.replace(/\s+$/,""));break;case"D":F.length===8?c[D][N]=new Date(+F.slice(0,4),+F.slice(4,6)-1,+F.slice(6,8)):c[D][N]=F;break;case"F":c[D][N]=parseFloat(F.trim());break;case"+":case"I":c[D][N]=v?I.read_shift(-4,"i")^2147483648:I.read_shift(4,"i");break;case"L":switch(F.trim().toUpperCase()){case"Y":case"T":c[D][N]=!0;break;case"N":case"F":c[D][N]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+F+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));c[D][N]="##MEMO##"+(v?parseInt(F.trim(),10):I.read_shift(4));break;case"N":F=F.replace(/\u0000/g,"").trim(),F&&F!="."&&(c[D][N]=+F||0);break;case"@":c[D][N]=new Date(I.read_shift(-8,"f")-621356832e5);break;case"T":c[D][N]=new Date((I.read_shift(4)-2440588)*864e5+I.read_shift(4));break;case"Y":c[D][N]=I.read_shift(4,"i")/1e4+I.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[D][N]=-I.read_shift(-8,"f");break;case"B":if(p&&w[N].len==8){c[D][N]=I.read_shift(8,"f");break}case"G":case"P":I.l+=w[N].len;break;case"0":if(w[N].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+w[N].type)}}}if(f!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=w,c}function r(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var u=ug(n(o,c),c);return u["!cols"]=c.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete c.DBF,u}function i(o,l){try{return xd(r(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function a(o,l){var c=l||{};if(+c.codepage>=0&&Go(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=va(),f=s_(o,{header:1,raw:!0,cellDates:!0}),h=f[0],p=f.slice(1),v=o["!cols"]||[],g=0,y=0,_=0,x=1;for(g=0;g<h.length;++g){if(((v[g]||{}).DBF||{}).name){h[g]=v[g].DBF.name,++_;continue}if(h[g]!=null){if(++_,typeof h[g]=="number"&&(h[g]=h[g].toString(10)),typeof h[g]!="string")throw new Error("DBF Invalid column name "+h[g]+" |"+typeof h[g]+"|");if(h.indexOf(h[g])!==g){for(y=0;y<1024;++y)if(h.indexOf(h[g]+"_"+y)==-1){h[g]+="_"+y;break}}}}var w=Bn(o["!ref"]),C=[],S=[],R=[];for(g=0;g<=w.e.c-w.s.c;++g){var D="",N="",I=0,F=[];for(y=0;y<p.length;++y)p[y][g]!=null&&F.push(p[y][g]);if(F.length==0||h[g]==null){C[g]="?";continue}for(y=0;y<F.length;++y){switch(typeof F[y]){case"number":N="B";break;case"string":N="C";break;case"boolean":N="L";break;case"object":N=F[y]instanceof Date?"D":"C";break;default:N="C"}I=Math.max(I,String(F[y]).length),D=D&&D!=N?"C":N}I>250&&(I=250),N=((v[g]||{}).DBF||{}).type,N=="C"&&v[g].DBF.len>I&&(I=v[g].DBF.len),D=="B"&&N=="N"&&(D="N",R[g]=v[g].DBF.dec,I=v[g].DBF.len),S[g]=D=="C"||N=="N"?I:s[D]||0,x+=S[g],C[g]=D}var P=u.next(32);for(P.write_shift(4,318902576),P.write_shift(4,p.length),P.write_shift(2,296+32*_),P.write_shift(2,x),g=0;g<4;++g)P.write_shift(4,0);for(P.write_shift(4,0|(+e[vK]||3)<<8),g=0,y=0;g<h.length;++g)if(h[g]!=null){var k=u.next(32),U=(h[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);k.write_shift(1,U,"sbcs"),k.write_shift(1,C[g]=="?"?"C":C[g],"sbcs"),k.write_shift(4,y),k.write_shift(1,S[g]||s[C[g]]||0),k.write_shift(1,R[g]||0),k.write_shift(1,2),k.write_shift(4,0),k.write_shift(1,0),k.write_shift(4,0),k.write_shift(4,0),y+=S[g]||s[C[g]]||0}var O=u.next(264);for(O.write_shift(4,13),g=0;g<65;++g)O.write_shift(4,0);for(g=0;g<p.length;++g){var H=u.next(x);for(H.write_shift(1,0),y=0;y<h.length;++y)if(h[y]!=null)switch(C[y]){case"L":H.write_shift(1,p[g][y]==null?63:p[g][y]?84:70);break;case"B":H.write_shift(8,p[g][y]||0,"f");break;case"N":var G="0";for(typeof p[g][y]=="number"&&(G=p[g][y].toFixed(R[y]||0)),_=0;_<S[y]-G.length;++_)H.write_shift(1,32);H.write_shift(1,G,"sbcs");break;case"D":p[g][y]?(H.write_shift(4,("0000"+p[g][y].getFullYear()).slice(-4),"sbcs"),H.write_shift(2,("00"+(p[g][y].getMonth()+1)).slice(-2),"sbcs"),H.write_shift(2,("00"+p[g][y].getDate()).slice(-2),"sbcs")):H.write_shift(8,"00000000","sbcs");break;case"C":var X=String(p[g][y]!=null?p[g][y]:"").slice(0,S[y]);for(H.write_shift(1,X,"sbcs"),_=0;_<S[y]-X.length;++_)H.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:i,to_sheet:r,from_sheet:a}})(),kJ=(function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+ti(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(h,p){var v=t[p];return typeof v=="number"?iO(v):v},r=function(h,p,v){var g=p.charCodeAt(0)-32<<4|v.charCodeAt(0)-48;return g==59?h:iO(g)};t["|"]=254;function i(h,p){switch(p.type){case"base64":return s(qa(h),p);case"binary":return s(h,p);case"buffer":return s(_n&&Buffer.isBuffer(h)?h.toString("binary"):vd(h),p);case"array":return s(Kf(h),p)}throw new Error("Unrecognized type "+p.type)}function s(h,p){var v=h.split(/[\n\r]+/),g=-1,y=-1,_=0,x=0,w=[],C=[],S=null,R={},D=[],N=[],I=[],F=0,P;for(+p.codepage>=0&&Go(+p.codepage);_!==v.length;++_){F=0;var k=v[_].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,n),U=k.replace(/;;/g,"\0").split(";").map(function(Y){return Y.replace(/\u0000/g,";")}),O=U[0],H;if(k.length>0)switch(O){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":U[1].charAt(0)=="P"&&C.push(k.slice(3).replace(/;;/g,";"));break;case"C":var G=!1,X=!1,Z=!1,z=!1,Q=-1,B=-1;for(x=1;x<U.length;++x)switch(U[x].charAt(0)){case"A":break;case"X":y=parseInt(U[x].slice(1))-1,X=!0;break;case"Y":for(g=parseInt(U[x].slice(1))-1,X||(y=0),P=w.length;P<=g;++P)w[P]=[];break;case"K":H=U[x].slice(1),H.charAt(0)==='"'?H=H.slice(1,H.length-1):H==="TRUE"?H=!0:H==="FALSE"?H=!1:isNaN(Zo(H))?isNaN(Nm(H).getDate())||(H=Dr(H)):(H=Zo(H),S!==null&&lg(S)&&(H=Vw(H))),G=!0;break;case"E":z=!0;var j=Kp(U[x].slice(1),{r:g,c:y});w[g][y]=[w[g][y],j];break;case"S":Z=!0,w[g][y]=[w[g][y],"S5S"];break;case"G":break;case"R":Q=parseInt(U[x].slice(1))-1;break;case"C":B=parseInt(U[x].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+k)}if(G&&(w[g][y]&&w[g][y].length==2?w[g][y][0]=H:w[g][y]=H,S=null),Z){if(z)throw new Error("SYLK shared formula cannot have own formula");var q=Q>-1&&w[Q][B];if(!q||!q[1])throw new Error("SYLK shared formula cannot find base");w[g][y][1]=KJ(q[1],{r:g-Q,c:y-B})}break;case"F":var J=0;for(x=1;x<U.length;++x)switch(U[x].charAt(0)){case"X":y=parseInt(U[x].slice(1))-1,++J;break;case"Y":for(g=parseInt(U[x].slice(1))-1,P=w.length;P<=g;++P)w[P]=[];break;case"M":F=parseInt(U[x].slice(1))/20;break;case"F":break;case"G":break;case"P":S=C[parseInt(U[x].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(I=U[x].slice(1).split(" "),P=parseInt(I[0],10);P<=parseInt(I[1],10);++P)F=parseInt(I[2],10),N[P-1]=F===0?{hidden:!0}:{wch:F},sd(N[P-1]);break;case"C":y=parseInt(U[x].slice(1))-1,N[y]||(N[y]={});break;case"R":g=parseInt(U[x].slice(1))-1,D[g]||(D[g]={}),F>0?(D[g].hpt=F,D[g].hpx=Im(F)):F===0&&(D[g].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+k)}J<1&&(S=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+k)}}return D.length>0&&(R["!rows"]=D),N.length>0&&(R["!cols"]=N),p&&p.sheetRows&&(w=w.slice(0,p.sheetRows)),[w,R]}function a(h,p){var v=i(h,p),g=v[0],y=v[1],_=ug(g,p);return ti(y).forEach(function(x){_[x]=y[x]}),_}function o(h,p){return xd(a(h,p),p)}function l(h,p,v,g){var y="C;Y"+(v+1)+";X"+(g+1)+";K";switch(h.t){case"n":y+=h.v||0,h.f&&!h.F&&(y+=";E"+e6(h.f,{r:v,c:g}));break;case"b":y+=h.v?"TRUE":"FALSE";break;case"e":y+=h.w||h.v;break;case"d":y+='"'+(h.w||h.v)+'"';break;case"s":y+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return y}function c(h,p){p.forEach(function(v,g){var y="F;W"+(g+1)+" "+(g+1)+" ";v.hidden?y+="0":(typeof v.width=="number"&&!v.wpx&&(v.wpx=a1(v.width)),typeof v.wpx=="number"&&!v.wch&&(v.wch=o1(v.wpx)),typeof v.wch=="number"&&(y+=Math.round(v.wch))),y.charAt(y.length-1)!=" "&&h.push(y)})}function u(h,p){p.forEach(function(v,g){var y="F;";v.hidden?y+="M0;":v.hpt?y+="M"+20*v.hpt+";":v.hpx&&(y+="M"+20*l1(v.hpx)+";"),y.length>2&&h.push(y+"R"+(g+1))})}function f(h,p){var v=["ID;PWXL;N;E"],g=[],y=Bn(h["!ref"]),_,x=Array.isArray(h),w=`\r
`;v.push("P;PGeneral"),v.push("F;P0;DG0G8;M255"),h["!cols"]&&c(v,h["!cols"]),h["!rows"]&&u(v,h["!rows"]),v.push("B;Y"+(y.e.r-y.s.r+1)+";X"+(y.e.c-y.s.c+1)+";D"+[y.s.c,y.s.r,y.e.c,y.e.r].join(" "));for(var C=y.s.r;C<=y.e.r;++C)for(var S=y.s.c;S<=y.e.c;++S){var R=sn({r:C,c:S});_=x?(h[C]||[])[S]:h[R],!(!_||_.v==null&&(!_.f||_.F))&&g.push(l(_,h,C,S))}return v.join(w)+w+g.join(w)+w+"E"+w}return{to_workbook:o,to_sheet:a,from_sheet:f}})(),IJ=(function(){function t(s,a){switch(a.type){case"base64":return e(qa(s),a);case"binary":return e(s,a);case"buffer":return e(_n&&Buffer.isBuffer(s)?s.toString("binary"):vd(s),a);case"array":return e(Kf(s),a)}throw new Error("Unrecognized type "+a.type)}function e(s,a){for(var o=s.split(`
`),l=-1,c=-1,u=0,f=[];u!==o.length;++u){if(o[u].trim()==="BOT"){f[++l]=[],c=0;continue}if(!(l<0)){var h=o[u].trim().split(","),p=h[0],v=h[1];++u;for(var g=o[u]||"";(g.match(/["]/g)||[]).length&1&&u<o.length-1;)g+=`
`+o[++u];switch(g=g.trim(),+p){case-1:if(g==="BOT"){f[++l]=[],c=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?f[l][c]=!0:g==="FALSE"?f[l][c]=!1:isNaN(Zo(v))?isNaN(Nm(v).getDate())?f[l][c]=v:f[l][c]=Dr(v):f[l][c]=Zo(v),++c;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),f[l][c++]=g!==""?g:null;break}if(g==="EOD")break}}return a&&a.sheetRows&&(f=f.slice(0,a.sheetRows)),f}function n(s,a){return ug(t(s,a),a)}function r(s,a){return xd(n(s,a),a)}var i=(function(){var s=function(l,c,u,f,h){l.push(c),l.push(u+","+f),l.push('"'+h.replace(/"/g,'""')+'"')},a=function(l,c,u,f){l.push(c+","+u),l.push(c==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var c=[],u=Bn(l["!ref"]),f,h=Array.isArray(l);s(c,"TABLE",0,1,"sheetjs"),s(c,"VECTORS",0,u.e.r-u.s.r+1,""),s(c,"TUPLES",0,u.e.c-u.s.c+1,""),s(c,"DATA",0,0,"");for(var p=u.s.r;p<=u.e.r;++p){a(c,-1,0,"BOT");for(var v=u.s.c;v<=u.e.c;++v){var g=sn({r:p,c:v});if(f=h?(l[p]||[])[v]:l[g],!f){a(c,1,0,"");continue}switch(f.t){case"n":var y=f.w;!y&&f.v!=null&&(y=f.v),y==null?f.f&&!f.F?a(c,1,0,"="+f.f):a(c,1,0,""):a(c,0,y,"V");break;case"b":a(c,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":a(c,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=_o(f.z||tn[14],Ri(Dr(f.v)))),a(c,0,f.w,"V");break;default:a(c,1,0,"")}}}a(c,-1,0,"EOD");var _=`\r
`,x=c.join(_);return x}})();return{to_workbook:r,to_sheet:n,from_sheet:i}})(),RJ=(function(){function t(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(f,h){for(var p=f.split(`
`),v=-1,g=-1,y=0,_=[];y!==p.length;++y){var x=p[y].trim().split(":");if(x[0]==="cell"){var w=$r(x[1]);if(_.length<=w.r)for(v=_.length;v<=w.r;++v)_[v]||(_[v]=[]);switch(v=w.r,g=w.c,x[2]){case"t":_[v][g]=t(x[3]);break;case"v":_[v][g]=+x[3];break;case"vtf":var C=x[x.length-1];case"vtc":switch(x[3]){case"nl":_[v][g]=!!+x[4];break;default:_[v][g]=+x[4];break}x[2]=="vtf"&&(_[v][g]=[_[v][g],C])}}}return h&&h.sheetRows&&(_=_.slice(0,h.sheetRows)),_}function r(f,h){return ug(n(f,h),h)}function i(f,h){return xd(r(f,h),h)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(f){if(!f||!f["!ref"])return"";for(var h=[],p=[],v,g="",y=xa(f["!ref"]),_=Array.isArray(f),x=y.s.r;x<=y.e.r;++x)for(var w=y.s.c;w<=y.e.c;++w)if(g=sn({r:x,c:w}),v=_?(f[x]||[])[w]:f[g],!(!v||v.v==null||v.t==="z")){switch(p=["cell",g,"t"],v.t){case"s":case"str":p.push(e(v.v));break;case"n":v.f?(p[2]="vtf",p[3]="n",p[4]=v.v,p[5]=e(v.f)):(p[2]="v",p[3]=v.v);break;case"b":p[2]="vt"+(v.f?"f":"c"),p[3]="nl",p[4]=v.v?"1":"0",p[5]=e(v.f||(v.v?"TRUE":"FALSE"));break;case"d":var C=Ri(Dr(v.v));p[2]="vtc",p[3]="nd",p[4]=""+C,p[5]=v.w||_o(v.z||tn[14],C);break;case"e":continue}h.push(p.join(":"))}return h.push("sheet:c:"+(y.e.c-y.s.c+1)+":r:"+(y.e.r-y.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function u(f){return[s,a,o,a,c(f),l].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:u}})(),km=(function(){function t(u,f,h,p,v){v.raw?f[h][p]=u:u===""||(u==="TRUE"?f[h][p]=!0:u==="FALSE"?f[h][p]=!1:isNaN(Zo(u))?isNaN(Nm(u).getDate())?f[h][p]=u:f[h][p]=Dr(u):f[h][p]=Zo(u))}function e(u,f){var h=f||{},p=[];if(!u||u.length===0)return p;for(var v=u.split(/[\r\n]/),g=v.length-1;g>=0&&v[g].length===0;)--g;for(var y=10,_=0,x=0;x<=g;++x)_=v[x].indexOf(" "),_==-1?_=v[x].length:_++,y=Math.max(y,_);for(x=0;x<=g;++x){p[x]=[];var w=0;for(t(v[x].slice(0,y).trim(),p,x,w,h),w=1;w<=(v[x].length-y)/10+1;++w)t(v[x].slice(y+(w-1)*10,y+w*10).trim(),p,x,w,h)}return h.sheetRows&&(p=p.slice(0,h.sheetRows)),p}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(u){for(var f={},h=!1,p=0,v=0;p<u.length;++p)(v=u.charCodeAt(p))==34?h=!h:!h&&v in n&&(f[v]=(f[v]||0)+1);v=[];for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&v.push([f[p],p]);if(!v.length){f=r;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&v.push([f[p],p])}return v.sort(function(g,y){return g[0]-y[0]||r[g[1]]-r[y[1]]}),n[v.pop()[1]]||44}function s(u,f){var h=f||{},p="",v=h.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(p=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(p=u.charAt(4),u=u.slice(6)):p=i(u.slice(0,1024)):h&&h.FS?p=h.FS:p=i(u.slice(0,1024));var y=0,_=0,x=0,w=0,C=0,S=p.charCodeAt(0),R=!1,D=0,N=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var I=h.dateNF!=null?lDe(h.dateNF):null;function F(){var P=u.slice(w,C),k={};if(P.charAt(0)=='"'&&P.charAt(P.length-1)=='"'&&(P=P.slice(1,-1).replace(/""/g,'"')),P.length===0)k.t="z";else if(h.raw)k.t="s",k.v=P;else if(P.trim().length===0)k.t="s",k.v=P;else if(P.charCodeAt(0)==61)P.charCodeAt(1)==34&&P.charCodeAt(P.length-1)==34?(k.t="s",k.v=P.slice(2,-1).replace(/""/g,'"')):OIe(P)?(k.t="n",k.f=P.slice(1)):(k.t="s",k.v=P);else if(P=="TRUE")k.t="b",k.v=!0;else if(P=="FALSE")k.t="b",k.v=!1;else if(!isNaN(x=Zo(P)))k.t="n",h.cellText!==!1&&(k.w=P),k.v=x;else if(!isNaN(Nm(P).getDate())||I&&P.match(I)){k.z=h.dateNF||tn[14];var U=0;I&&P.match(I)&&(P=cDe(P,h.dateNF,P.match(I)||[]),U=1),h.cellDates?(k.t="d",k.v=Dr(P,U)):(k.t="n",k.v=Ri(Dr(P,U))),h.cellText!==!1&&(k.w=_o(k.z,k.v instanceof Date?Ri(k.v):k.v)),h.cellNF||delete k.z}else k.t="s",k.v=P;if(k.t=="z"||(h.dense?(v[y]||(v[y]=[]),v[y][_]=k):v[sn({c:_,r:y})]=k),w=C+1,N=u.charCodeAt(w),g.e.c<_&&(g.e.c=_),g.e.r<y&&(g.e.r=y),D==S)++_;else if(_=0,++y,h.sheetRows&&h.sheetRows<=y)return!0}e:for(;C<u.length;++C)switch(D=u.charCodeAt(C)){case 34:N===34&&(R=!R);break;case S:case 10:case 13:if(!R&&F())break e;break}return C-w>0&&F(),v["!ref"]=pn(g),v}function a(u,f){return!(f&&f.PRN)||f.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?s(u,f):ug(e(u,f),f)}function o(u,f){var h="",p=f.type=="string"?[0,0,0,0]:l6(u,f);switch(f.type){case"base64":h=qa(u);break;case"binary":h=u;break;case"buffer":f.codepage==65001?h=u.toString("utf8"):f.codepage&&typeof Qy<"u"||(h=_n&&Buffer.isBuffer(u)?u.toString("binary"):vd(u));break;case"array":h=Kf(u);break;case"string":h=u;break;default:throw new Error("Unrecognized type "+f.type)}return p[0]==239&&p[1]==187&&p[2]==191?h=ur(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=ur(h):f.type=="binary"&&typeof Qy<"u",h.slice(0,19)=="socialcalc:version:"?RJ.to_sheet(f.type=="string"?h:ur(h),f):a(h,f)}function l(u,f){return xd(o(u,f),f)}function c(u){for(var f=[],h=Bn(u["!ref"]),p,v=Array.isArray(u),g=h.s.r;g<=h.e.r;++g){for(var y=[],_=h.s.c;_<=h.e.c;++_){var x=sn({r:g,c:_});if(p=v?(u[g]||[])[_]:u[x],!p||p.v==null){y.push("          ");continue}for(var w=(p.w||(Pc(p),p.w)||"").slice(0,10);w.length<10;)w+=" ";y.push(w+(_===0?" ":""))}f.push(y.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}})();function TNe(t,e){var n=e||{},r=!!n.WTF;n.WTF=!0;try{var i=kJ.to_workbook(t,n);return n.WTF=r,i}catch(s){if(n.WTF=r,!s.message.match(/SYLK bad record ID/)&&r)throw s;return km.to_workbook(t,e)}}var Cf=(function(){function t(j,q,J){if(j){os(j,j.l||0);for(var Y=J.Enum||Q;j.l<j.length;){var te=j.read_shift(2),oe=Y[te]||Y[65535],de=j.read_shift(2),fe=j.l+de,Ce=oe.f&&oe.f(j,de,J);if(j.l=fe,q(Ce,oe,te))return}}}function e(j,q){switch(q.type){case"base64":return n(Ma(qa(j)),q);case"binary":return n(Ma(j),q);case"buffer":case"array":return n(j,q)}throw"Unsupported type "+q.type}function n(j,q){if(!j)return j;var J=q||{},Y=J.dense?[]:{},te="Sheet1",oe="",de=0,fe={},Ce=[],Pe=[],pe={s:{r:0,c:0},e:{r:0,c:0}},Me=J.sheetRows||0;if(j[2]==0&&(j[3]==8||j[3]==9)&&j.length>=16&&j[14]==5&&j[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(j[2]==2)J.Enum=Q,t(j,function(ce,re,le){switch(le){case 0:J.vers=ce,ce>=4096&&(J.qpro=!0);break;case 6:pe=ce;break;case 204:ce&&(oe=ce);break;case 222:oe=ce;break;case 15:case 51:J.qpro||(ce[1].v=ce[1].v.slice(1));case 13:case 14:case 16:le==14&&(ce[2]&112)==112&&(ce[2]&15)>1&&(ce[2]&15)<15&&(ce[1].z=J.dateNF||tn[14],J.cellDates&&(ce[1].t="d",ce[1].v=Vw(ce[1].v))),J.qpro&&ce[3]>de&&(Y["!ref"]=pn(pe),fe[te]=Y,Ce.push(te),Y=J.dense?[]:{},pe={s:{r:0,c:0},e:{r:0,c:0}},de=ce[3],te=oe||"Sheet"+(de+1),oe="");var ke=J.dense?(Y[ce[0].r]||[])[ce[0].c]:Y[sn(ce[0])];if(ke){ke.t=ce[1].t,ke.v=ce[1].v,ce[1].z!=null&&(ke.z=ce[1].z),ce[1].f!=null&&(ke.f=ce[1].f);break}J.dense?(Y[ce[0].r]||(Y[ce[0].r]=[]),Y[ce[0].r][ce[0].c]=ce[1]):Y[sn(ce[0])]=ce[1];break}},J);else if(j[2]==26||j[2]==14)J.Enum=B,j[2]==14&&(J.qpro=!0,j.l=0),t(j,function(ce,re,le){switch(le){case 204:te=ce;break;case 22:ce[1].v=ce[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ce[3]>de&&(Y["!ref"]=pn(pe),fe[te]=Y,Ce.push(te),Y=J.dense?[]:{},pe={s:{r:0,c:0},e:{r:0,c:0}},de=ce[3],te="Sheet"+(de+1)),Me>0&&ce[0].r>=Me)break;J.dense?(Y[ce[0].r]||(Y[ce[0].r]=[]),Y[ce[0].r][ce[0].c]=ce[1]):Y[sn(ce[0])]=ce[1],pe.e.c<ce[0].c&&(pe.e.c=ce[0].c),pe.e.r<ce[0].r&&(pe.e.r=ce[0].r);break;case 27:ce[14e3]&&(Pe[ce[14e3][0]]=ce[14e3][1]);break;case 1537:Pe[ce[0]]=ce[1],ce[0]==de&&(te=ce[1]);break}},J);else throw new Error("Unrecognized LOTUS BOF "+j[2]);if(Y["!ref"]=pn(pe),fe[oe||te]=Y,Ce.push(oe||te),!Pe.length)return{SheetNames:Ce,Sheets:fe};for(var W={},ge=[],_e=0;_e<Pe.length;++_e)fe[Ce[_e]]?(ge.push(Pe[_e]||Ce[_e]),W[Pe[_e]]=fe[Pe[_e]]||fe[Ce[_e]]):(ge.push(Pe[_e]),W[Pe[_e]]={"!ref":"A1"});return{SheetNames:ge,Sheets:W}}function r(j,q){var J=q||{};if(+J.codepage>=0&&Go(+J.codepage),J.type=="string")throw new Error("Cannot write WK1 to JS string");var Y=va(),te=Bn(j["!ref"]),oe=Array.isArray(j),de=[];Ct(Y,0,s(1030)),Ct(Y,6,l(te));for(var fe=Math.min(te.e.r,8191),Ce=te.s.r;Ce<=fe;++Ce)for(var Pe=fi(Ce),pe=te.s.c;pe<=te.e.c;++pe){Ce===te.s.r&&(de[pe]=qr(pe));var Me=de[pe]+Pe,W=oe?(j[Ce]||[])[pe]:j[Me];if(!(!W||W.t=="z"))if(W.t=="n")(W.v|0)==W.v&&W.v>=-32768&&W.v<=32767?Ct(Y,13,p(Ce,pe,W.v)):Ct(Y,14,g(Ce,pe,W.v));else{var ge=Pc(W);Ct(Y,15,f(Ce,pe,ge.slice(0,239)))}}return Ct(Y,1),Y.end()}function i(j,q){var J=q||{};if(+J.codepage>=0&&Go(+J.codepage),J.type=="string")throw new Error("Cannot write WK3 to JS string");var Y=va();Ct(Y,0,a(j));for(var te=0,oe=0;te<j.SheetNames.length;++te)(j.Sheets[j.SheetNames[te]]||{})["!ref"]&&Ct(Y,27,z(j.SheetNames[te],oe++));var de=0;for(te=0;te<j.SheetNames.length;++te){var fe=j.Sheets[j.SheetNames[te]];if(!(!fe||!fe["!ref"])){for(var Ce=Bn(fe["!ref"]),Pe=Array.isArray(fe),pe=[],Me=Math.min(Ce.e.r,8191),W=Ce.s.r;W<=Me;++W)for(var ge=fi(W),_e=Ce.s.c;_e<=Ce.e.c;++_e){W===Ce.s.r&&(pe[_e]=qr(_e));var ce=pe[_e]+ge,re=Pe?(fe[W]||[])[_e]:fe[ce];if(!(!re||re.t=="z"))if(re.t=="n")Ct(Y,23,F(W,_e,de,re.v));else{var le=Pc(re);Ct(Y,22,D(W,_e,de,le.slice(0,239)))}}++de}}return Ct(Y,1),Y.end()}function s(j){var q=it(2);return q.write_shift(2,j),q}function a(j){var q=it(26);q.write_shift(2,4096),q.write_shift(2,4),q.write_shift(4,0);for(var J=0,Y=0,te=0,oe=0;oe<j.SheetNames.length;++oe){var de=j.SheetNames[oe],fe=j.Sheets[de];if(!(!fe||!fe["!ref"])){++te;var Ce=xa(fe["!ref"]);J<Ce.e.r&&(J=Ce.e.r),Y<Ce.e.c&&(Y=Ce.e.c)}}return J>8191&&(J=8191),q.write_shift(2,J),q.write_shift(1,te),q.write_shift(1,Y),q.write_shift(2,0),q.write_shift(2,0),q.write_shift(1,1),q.write_shift(1,2),q.write_shift(4,0),q.write_shift(4,0),q}function o(j,q,J){var Y={s:{c:0,r:0},e:{c:0,r:0}};return q==8&&J.qpro?(Y.s.c=j.read_shift(1),j.l++,Y.s.r=j.read_shift(2),Y.e.c=j.read_shift(1),j.l++,Y.e.r=j.read_shift(2),Y):(Y.s.c=j.read_shift(2),Y.s.r=j.read_shift(2),q==12&&J.qpro&&(j.l+=2),Y.e.c=j.read_shift(2),Y.e.r=j.read_shift(2),q==12&&J.qpro&&(j.l+=2),Y.s.c==65535&&(Y.s.c=Y.e.c=Y.s.r=Y.e.r=0),Y)}function l(j){var q=it(8);return q.write_shift(2,j.s.c),q.write_shift(2,j.s.r),q.write_shift(2,j.e.c),q.write_shift(2,j.e.r),q}function c(j,q,J){var Y=[{c:0,r:0},{t:"n",v:0},0,0];return J.qpro&&J.vers!=20768?(Y[0].c=j.read_shift(1),Y[3]=j.read_shift(1),Y[0].r=j.read_shift(2),j.l+=2):(Y[2]=j.read_shift(1),Y[0].c=j.read_shift(2),Y[0].r=j.read_shift(2)),Y}function u(j,q,J){var Y=j.l+q,te=c(j,q,J);if(te[1].t="s",J.vers==20768){j.l++;var oe=j.read_shift(1);return te[1].v=j.read_shift(oe,"utf8"),te}return J.qpro&&j.l++,te[1].v=j.read_shift(Y-j.l,"cstr"),te}function f(j,q,J){var Y=it(7+J.length);Y.write_shift(1,255),Y.write_shift(2,q),Y.write_shift(2,j),Y.write_shift(1,39);for(var te=0;te<Y.length;++te){var oe=J.charCodeAt(te);Y.write_shift(1,oe>=128?95:oe)}return Y.write_shift(1,0),Y}function h(j,q,J){var Y=c(j,q,J);return Y[1].v=j.read_shift(2,"i"),Y}function p(j,q,J){var Y=it(7);return Y.write_shift(1,255),Y.write_shift(2,q),Y.write_shift(2,j),Y.write_shift(2,J,"i"),Y}function v(j,q,J){var Y=c(j,q,J);return Y[1].v=j.read_shift(8,"f"),Y}function g(j,q,J){var Y=it(13);return Y.write_shift(1,255),Y.write_shift(2,q),Y.write_shift(2,j),Y.write_shift(8,J,"f"),Y}function y(j,q,J){var Y=j.l+q,te=c(j,q,J);if(te[1].v=j.read_shift(8,"f"),J.qpro)j.l=Y;else{var oe=j.read_shift(2);C(j.slice(j.l,j.l+oe),te),j.l+=oe}return te}function _(j,q,J){var Y=q&32768;return q&=-32769,q=(Y?j:0)+(q>=8192?q-16384:q),(Y?"":"$")+(J?qr(q):fi(q))}var x={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function C(j,q){os(j,0);for(var J=[],Y=0,te="",oe="",de="",fe="";j.l<j.length;){var Ce=j[j.l++];switch(Ce){case 0:J.push(j.read_shift(8,"f"));break;case 1:oe=_(q[0].c,j.read_shift(2),!0),te=_(q[0].r,j.read_shift(2),!1),J.push(oe+te);break;case 2:{var Pe=_(q[0].c,j.read_shift(2),!0),pe=_(q[0].r,j.read_shift(2),!1);oe=_(q[0].c,j.read_shift(2),!0),te=_(q[0].r,j.read_shift(2),!1),J.push(Pe+pe+":"+oe+te)}break;case 3:if(j.l<j.length){console.error("WK1 premature formula end");return}break;case 4:J.push("("+J.pop()+")");break;case 5:J.push(j.read_shift(2));break;case 6:{for(var Me="";Ce=j[j.l++];)Me+=String.fromCharCode(Ce);J.push('"'+Me.replace(/"/g,'""')+'"')}break;case 8:J.push("-"+J.pop());break;case 23:J.push("+"+J.pop());break;case 22:J.push("NOT("+J.pop()+")");break;case 20:case 21:fe=J.pop(),de=J.pop(),J.push(["AND","OR"][Ce-20]+"("+de+","+fe+")");break;default:if(Ce<32&&w[Ce])fe=J.pop(),de=J.pop(),J.push(de+w[Ce]+fe);else if(x[Ce]){if(Y=x[Ce][1],Y==69&&(Y=j[j.l++]),Y>J.length){console.error("WK1 bad formula parse 0x"+Ce.toString(16)+":|"+J.join("|")+"|");return}var W=J.slice(-Y);J.length-=Y,J.push(x[Ce][0]+"("+W.join(",")+")")}else return Ce<=7?console.error("WK1 invalid opcode "+Ce.toString(16)):Ce<=24?console.error("WK1 unsupported op "+Ce.toString(16)):Ce<=30?console.error("WK1 invalid opcode "+Ce.toString(16)):Ce<=115?console.error("WK1 unsupported function opcode "+Ce.toString(16)):console.error("WK1 unrecognized opcode "+Ce.toString(16))}}J.length==1?q[1].f=""+J[0]:console.error("WK1 bad formula parse |"+J.join("|")+"|")}function S(j){var q=[{c:0,r:0},{t:"n",v:0},0];return q[0].r=j.read_shift(2),q[3]=j[j.l++],q[0].c=j[j.l++],q}function R(j,q){var J=S(j);return J[1].t="s",J[1].v=j.read_shift(q-4,"cstr"),J}function D(j,q,J,Y){var te=it(6+Y.length);te.write_shift(2,j),te.write_shift(1,J),te.write_shift(1,q),te.write_shift(1,39);for(var oe=0;oe<Y.length;++oe){var de=Y.charCodeAt(oe);te.write_shift(1,de>=128?95:de)}return te.write_shift(1,0),te}function N(j,q){var J=S(j);J[1].v=j.read_shift(2);var Y=J[1].v>>1;if(J[1].v&1)switch(Y&7){case 0:Y=(Y>>3)*5e3;break;case 1:Y=(Y>>3)*500;break;case 2:Y=(Y>>3)/20;break;case 3:Y=(Y>>3)/200;break;case 4:Y=(Y>>3)/2e3;break;case 5:Y=(Y>>3)/2e4;break;case 6:Y=(Y>>3)/16;break;case 7:Y=(Y>>3)/64;break}return J[1].v=Y,J}function I(j,q){var J=S(j),Y=j.read_shift(4),te=j.read_shift(4),oe=j.read_shift(2);if(oe==65535)return Y===0&&te===3221225472?(J[1].t="e",J[1].v=15):Y===0&&te===3489660928?(J[1].t="e",J[1].v=42):J[1].v=0,J;var de=oe&32768;return oe=(oe&32767)-16446,J[1].v=(1-de*2)*(te*Math.pow(2,oe+32)+Y*Math.pow(2,oe)),J}function F(j,q,J,Y){var te=it(14);if(te.write_shift(2,j),te.write_shift(1,J),te.write_shift(1,q),Y==0)return te.write_shift(4,0),te.write_shift(4,0),te.write_shift(2,65535),te;var oe=0,de=0,fe=0,Ce=0;return Y<0&&(oe=1,Y=-Y),de=Math.log2(Y)|0,Y/=Math.pow(2,de-31),Ce=Y>>>0,(Ce&2147483648)==0&&(Y/=2,++de,Ce=Y>>>0),Y-=Ce,Ce|=2147483648,Ce>>>=0,Y*=Math.pow(2,32),fe=Y>>>0,te.write_shift(4,fe),te.write_shift(4,Ce),de+=16383+(oe?32768:0),te.write_shift(2,de),te}function P(j,q){var J=I(j);return j.l+=q-14,J}function k(j,q){var J=S(j),Y=j.read_shift(4);return J[1].v=Y>>6,J}function U(j,q){var J=S(j),Y=j.read_shift(8,"f");return J[1].v=Y,J}function O(j,q){var J=U(j);return j.l+=q-10,J}function H(j,q){return j[j.l+q-1]==0?j.read_shift(q,"cstr"):""}function G(j,q){var J=j[j.l++];J>q-1&&(J=q-1);for(var Y="";Y.length<J;)Y+=String.fromCharCode(j[j.l++]);return Y}function X(j,q,J){if(!(!J.qpro||q<21)){var Y=j.read_shift(1);j.l+=17,j.l+=1,j.l+=2;var te=j.read_shift(q-21,"cstr");return[Y,te]}}function Z(j,q){for(var J={},Y=j.l+q;j.l<Y;){var te=j.read_shift(2);if(te==14e3){for(J[te]=[0,""],J[te][0]=j.read_shift(2);j[j.l];)J[te][1]+=String.fromCharCode(j[j.l]),j.l++;j.l++}}return J}function z(j,q){var J=it(5+j.length);J.write_shift(2,14e3),J.write_shift(2,q);for(var Y=0;Y<j.length;++Y){var te=j.charCodeAt(Y);J[J.l++]=te>127?95:te}return J[J.l++]=0,J}var Q={0:{n:"BOF",f:_i},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:v},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:y},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:H},222:{n:"SHEETNAMELP",f:G},65535:{n:""}},B={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:R},23:{n:"NUMBER17",f:I},24:{n:"NUMBER18",f:N},25:{n:"FORMULA19",f:P},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Z},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:k},38:{n:"??"},39:{n:"NUMBER27",f:U},40:{n:"FORMULA28",f:O},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:H},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:X},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:e}})();function ENe(t){var e={},n=t.match(Us),r=0,i=!1;if(n)for(;r!=n.length;++r){var s=an(n[r]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;e.cp=CI[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=s.val;break;case"<sz":e.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":s.rgb&&(e.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(s[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+s[0])}}return e}var CNe=(function(){var t=t1("t"),e=t1("rPr");function n(s){var a=s.match(t);if(!a)return{t:"s",v:""};var o={t:"s",v:jn(a[1])},l=s.match(e);return l&&(o.s=ENe(l[1])),o}var r=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(a){return a.replace(r,"").split(i).map(n).filter(function(o){return o.v})}})(),SNe=(function(){var e=/(\r\n|\n)/g;function n(i,s,a){var o=[];i.u&&o.push("text-decoration: underline;"),i.uval&&o.push("text-underline-style:"+i.uval+";"),i.sz&&o.push("font-size:"+i.sz+"pt;"),i.outline&&o.push("text-effect: outline;"),i.shadow&&o.push("text-shadow: auto;"),s.push('<span style="'+o.join("")+'">'),i.b&&(s.push("<b>"),a.push("</b>")),i.i&&(s.push("<i>"),a.push("</i>")),i.strike&&(s.push("<s>"),a.push("</s>"));var l=i.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(s.push("<"+l+">"),a.push("</"+l+">")),a.push("</span>"),i}function r(i){var s=[[],i.v,[]];return i.v?(i.s&&n(i.s,s[0],s[2]),s[0].join("")+s[1].replace(e,"<br/>")+s[2].join("")):""}return function(s){return s.map(r).join("")}})(),DNe=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,ANe=/<(?:\w+:)?r>/,NNe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function JI(t,e){var n=e?e.cellHTML:!0,r={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=jn(ur(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=ur(t),n&&(r.h=MI(r.t))):t.match(ANe)&&(r.r=ur(t),r.t=jn(ur((t.replace(NNe,"").match(DNe)||[]).join("").replace(Us,""))),n&&(r.h=SNe(CNe(r.r)))),r):{t:""}}var kNe=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,INe=/<(?:\w+:)?(?:si|sstItem)>/g,RNe=/<\/(?:\w+:)?(?:si|sstItem)>/;function PNe(t,e){var n=[],r="";if(!t)return n;var i=t.match(kNe);if(i){r=i[2].replace(INe,"").split(RNe);for(var s=0;s!=r.length;++s){var a=JI(r[s].trim(),e);a!=null&&(n[n.length]=a)}i=an(i[1]),n.Count=i.count,n.Unique=i.uniqueCount}return n}var FNe=/^\s|\s$|[\t\n\r]/;function PJ(t,e){if(!e.bookSST)return"";var n=[pi];n[n.length]=Et("sst",null,{xmlns:mh[0],count:t.Count,uniqueCount:t.Unique});for(var r=0;r!=t.length;++r)if(t[r]!=null){var i=t[r],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(FNe)&&(s+=' xml:space="preserve"'),s+=">"+ar(i.t)+"</t>"),s+="</si>",n[n.length]=s}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}function MNe(t){return[t.read_shift(4),t.read_shift(4)]}function UNe(t,e){var n=[],r=!1;return Hc(t,function(s,a,o){switch(o){case 159:n.Count=s[0],n.Unique=s[1];break;case 19:n.push(s);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(a.T,!r||e.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function ONe(t,e){return e||(e=it(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var LNe=KDe;function jNe(t){var e=va();ct(e,159,ONe(t));for(var n=0;n<t.length;++n)ct(e,19,LNe(t[n]));return ct(e,160),e.end()}function FJ(t){for(var e=[],n=t.split(""),r=0;r<n.length;++r)e[r]=n[r].charCodeAt(0);return e}function Ec(t,e){var n={};return n.Major=t.read_shift(2),n.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),n}function BNe(t){var e={};return e.id=t.read_shift(0,"lpp4"),e.R=Ec(t,4),e.U=Ec(t,4),e.W=Ec(t,4),e}function VNe(t){for(var e=t.read_shift(4),n=t.l+e-4,r={},i=t.read_shift(4),s=[];i-- >0;)s.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(r.name=t.read_shift(0,"lpp4"),r.comps=s,t.l!=n)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+n);return r}function WNe(t){var e=[];t.l+=4;for(var n=t.read_shift(4);n-- >0;)e.push(VNe(t));return e}function qNe(t){var e=[];t.l+=4;for(var n=t.read_shift(4);n-- >0;)e.push(t.read_shift(0,"lpp4"));return e}function $Ne(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=Ec(t,4),e.U=Ec(t,4),e.W=Ec(t,4),e}function zNe(t){var e=$Ne(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function MJ(t,e){var n=t.l+e,r={};r.Flags=t.read_shift(4)&63,t.l+=4,r.AlgID=t.read_shift(4);var i=!1;switch(r.AlgID){case 26126:case 26127:case 26128:i=r.Flags==36;break;case 26625:i=r.Flags==4;break;case 0:i=r.Flags==16||r.Flags==4||r.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=t.read_shift(4),r.KeySize=t.read_shift(4),r.ProviderType=t.read_shift(4),t.l+=8,r.CSPName=t.read_shift(n-t.l>>1,"utf16le"),t.l=n,r}function UJ(t,e){var n={},r=t.l+e;return t.l+=4,n.Salt=t.slice(t.l,t.l+16),t.l+=16,n.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),n.VerifierHash=t.slice(t.l,r),t.l=r,n}function HNe(t){var e=Ec(t);switch(e.Minor){case 2:return[e.Minor,GNe(t)];case 3:return[e.Minor,KNe()];case 4:return[e.Minor,JNe(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function GNe(t){var e=t.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var n=t.read_shift(4),r=MJ(t,n),i=UJ(t,t.length-t.l);return{t:"Std",h:r,v:i}}function KNe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function JNe(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var n=t.read_shift(t.length-t.l,"utf8"),r={};return n.replace(Us,function(s){var a=an(s);switch(Gl(a[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(o){r[o]=a[o]});break;case"<dataIntegrity":r.encryptedHmacKey=a.encryptedHmacKey,r.encryptedHmacValue=a.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":r.uri=a.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":r.encs.push(a);break;default:throw a[0]}}),r}function XNe(t,e){var n={},r=n.EncryptionVersionInfo=Ec(t,4);if(e-=4,r.Minor!=2)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);n.Flags=t.read_shift(4),e-=4;var i=t.read_shift(4);return e-=4,n.EncryptionHeader=MJ(t,i),e-=i,n.EncryptionVerifier=UJ(t,e),n}function YNe(t){var e={},n=e.EncryptionVersionInfo=Ec(t,4);if(n.Major!=1||n.Minor!=1)throw"unrecognized version code "+n.Major+" : "+n.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}function XI(t){var e=0,n,r=FJ(t),i=r.length+1,s,a,o,l,c;for(n=id(i),n[0]=r.length,s=1;s!=i;++s)n[s]=r[s-1];for(s=i-1;s>=0;--s)a=n[s],o=(e&16384)===0?0:1,l=e<<1&32767,c=o|l,e=c^a;return e^52811}var OJ=(function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(a){return(a/2|a*128)&255},i=function(a,o){return r(a^o)},s=function(a){for(var o=e[a.length-1],l=104,c=a.length-1;c>=0;--c)for(var u=a[c],f=0;f!=7;++f)u&64&&(o^=n[l]),u*=2,--l;return o};return function(a){for(var o=FJ(a),l=s(o),c=o.length,u=id(16),f=0;f!=16;++f)u[f]=0;var h,p,v;for((c&1)===1&&(h=l>>8,u[c]=i(t[0],h),--c,h=l&255,p=o[o.length-1],u[c]=i(p,h));c>0;)--c,h=l>>8,u[c]=i(o[c],h),--c,h=l&255,u[c]=i(o[c],h);for(c=15,v=15-o.length;v>0;)h=l>>8,u[c]=i(t[v],h),--c,--v,h=l&255,u[c]=i(o[c],h),--c,--v;return u}})(),QNe=function(t,e,n,r,i){i||(i=e),r||(r=OJ(t));var s,a;for(s=0;s!=e.length;++s)a=e[s],a^=r[n],a=(a>>5|a<<3)&255,i[s]=a,++n;return[i,n,r]},ZNe=function(t){var e=0,n=OJ(t);return function(r){var i=QNe("",r,e,n);return e=i[1],i[0]}};function eke(t,e,n,r){var i={key:_i(t),verificationBytes:_i(t)};return n.password&&(i.verifier=XI(n.password)),r.valid=i.verificationBytes===i.verifier,r.valid&&(r.insitu=ZNe(n.password)),i}function tke(t,e,n){var r=n||{};return r.Info=t.read_shift(2),t.l-=2,r.Info===1?r.Data=YNe(t):r.Data=XNe(t,e),r}function nke(t,e,n){var r={Type:n.biff>=8?t.read_shift(2):0};return r.Type?tke(t,e-2,r):eke(t,n.biff>=8?e:e-2,n,r),r}var LJ=(function(){function t(i,s){switch(s.type){case"base64":return e(qa(i),s);case"binary":return e(i,s);case"buffer":return e(_n&&Buffer.isBuffer(i)?i.toString("binary"):vd(i),s);case"array":return e(Kf(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var a=s||{},o=a.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(u,f){Array.isArray(o)&&(o[f]=[]);for(var h=/\\\w+\b/g,p=0,v,g=-1;v=h.exec(u);){switch(v[0]){case"\\cell":var y=u.slice(p,h.lastIndex-v[0].length);if(y[0]==" "&&(y=y.slice(1)),++g,y.length){var _={v:y,t:"s"};Array.isArray(o)?o[f][g]=_:o[sn({r:f,c:g})]=_}break}p=h.lastIndex}g>c.e.c&&(c.e.c=g)}),o["!ref"]=pn(c),o}function n(i,s){return xd(t(i,s),s)}function r(i){for(var s=["{\\rtf1\\ansi"],a=Bn(i["!ref"]),o,l=Array.isArray(i),c=a.s.r;c<=a.e.r;++c){s.push("\\trowd\\trautofit1");for(var u=a.s.c;u<=a.e.c;++u)s.push("\\cellx"+(u+1));for(s.push("\\pard\\intbl"),u=a.s.c;u<=a.e.c;++u){var f=sn({r:c,c:u});o=l?(i[c]||[])[u]:i[f],!(!o||o.v==null&&(!o.f||o.F))&&(s.push(" "+(o.w||(Pc(o),o.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:n,to_sheet:t,from_sheet:r}})();function rke(t){var e=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function s1(t){for(var e=0,n=1;e!=3;++e)n=n*256+(t[e]>255?255:t[e]<0?0:t[e]);return n.toString(16).toUpperCase().slice(1)}function ike(t){var e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.max(e,n,r),s=Math.min(e,n,r),a=i-s;if(a===0)return[0,0,e];var o=0,l=0,c=i+s;switch(l=a/(c>1?2-c:c),i){case e:o=((n-r)/a+6)%6;break;case n:o=(r-e)/a+2;break;case r:o=(e-n)/a+4;break}return[o/6,l,c/2]}function ske(t){var e=t[0],n=t[1],r=t[2],i=n*2*(r<.5?r:1-r),s=r-i/2,a=[s,s,s],o=6*e,l;if(n!==0)switch(o|0){case 0:case 6:l=i*o,a[0]+=i,a[1]+=l;break;case 1:l=i*(2-o),a[0]+=l,a[1]+=i;break;case 2:l=i*(o-2),a[1]+=i,a[2]+=l;break;case 3:l=i*(4-o),a[1]+=l,a[2]+=i;break;case 4:l=i*(o-4),a[2]+=i,a[0]+=l;break;case 5:l=i*(6-o),a[2]+=l,a[0]+=i;break}for(var c=0;c!=3;++c)a[c]=Math.round(a[c]*255);return a}function r_(t,e){if(e===0)return t;var n=ike(rke(t));return e<0?n[2]=n[2]*(1+e):n[2]=1-(1-n[2])*(1-e),s1(ske(n))}var jJ=6,ake=15,oke=1,Es=jJ;function a1(t){return Math.floor((t+Math.round(128/Es)/256)*Es)}function o1(t){return Math.floor((t-5)/Es*100+.5)/100}function i_(t){return Math.round((t*Es+5)/Es*256)/256}function p4(t){return i_(o1(a1(t)))}function YI(t){var e=Math.abs(t-p4(t)),n=Es;if(e>.005)for(Es=oke;Es<ake;++Es)Math.abs(t-p4(t))<=e&&(e=Math.abs(t-p4(t)),n=Es);Es=n}function sd(t){t.width?(t.wpx=a1(t.width),t.wch=o1(t.wpx),t.MDW=Es):t.wpx?(t.wch=o1(t.wpx),t.width=i_(t.wch),t.MDW=Es):typeof t.wch=="number"&&(t.width=i_(t.wch),t.wpx=a1(t.width),t.MDW=Es),t.customWidth&&delete t.customWidth}var lke=96,BJ=lke;function l1(t){return t*96/BJ}function Im(t){return t*BJ/96}var cke={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function uke(t,e,n,r){e.Borders=[];var i={},s=!1;(t[0].match(Us)||[]).forEach(function(a){var o=an(a);switch(Gl(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},o.diagonalUp&&(i.diagonalUp=Tr(o.diagonalUp)),o.diagonalDown&&(i.diagonalDown=Tr(o.diagonalDown)),e.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+o[0]+" in borders")}})}function dke(t,e,n,r){e.Fills=[];var i={},s=!1;(t[0].match(Us)||[]).forEach(function(a){var o=an(a);switch(Gl(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},e.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":o.patternType&&(i.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),o.indexed&&(i.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(i.bgColor.theme=parseInt(o.theme,10)),o.tint&&(i.bgColor.tint=parseFloat(o.tint)),o.rgb&&(i.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),o.theme&&(i.fgColor.theme=parseInt(o.theme,10)),o.tint&&(i.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(i.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fills")}})}function fke(t,e,n,r){e.Fonts=[];var i={},s=!1;(t[0].match(Us)||[]).forEach(function(a){var o=an(a);switch(Gl(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(i),i={};break;case"<name":o.val&&(i.name=ur(o.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=o.val?Tr(o.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=o.val?Tr(o.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(o.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=o.val?Tr(o.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=o.val?Tr(o.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=o.val?Tr(o.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=o.val?Tr(o.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=o.val?Tr(o.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":o.val&&(i.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(i.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(i.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(i.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=CI[parseInt(o.val,10)];break;case"<color":if(i.color||(i.color={}),o.auto&&(i.color.auto=Tr(o.auto)),o.rgb)i.color.rgb=o.rgb.slice(-6);else if(o.indexed){i.color.index=parseInt(o.indexed,10);var l=Tf[i.color.index];i.color.index==81&&(l=Tf[1]),l||(l=Tf[1]),i.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(i.color.theme=parseInt(o.theme,10),o.tint&&(i.color.tint=parseFloat(o.tint)),o.theme&&n.themeElements&&n.themeElements.clrScheme&&(i.color.rgb=r_(n.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fonts")}})}function hke(t,e,n){e.NumberFmt=[];for(var r=ti(tn),i=0;i<r.length;++i)e.NumberFmt[r[i]]=tn[r[i]];var s=t[0].match(Us);if(s)for(i=0;i<s.length;++i){var a=an(s[i]);switch(Gl(a[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=jn(ur(a.formatCode)),l=parseInt(a.numFmtId,10);if(e.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&e.NumberFmt[l]!=null;--l);e.NumberFmt[l]=o}Tc(o,l)}}break;case"</numFmt>":break;default:if(n.WTF)throw new Error("unrecognized "+a[0]+" in numFmts")}}}function pke(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)t[r]!=null&&(e[e.length]=Et("numFmt",null,{numFmtId:r,formatCode:ar(t[r])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=Et("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var Gx=["numFmtId","fillId","fontId","borderId","xfId"],Kx=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function mke(t,e,n){e.CellXf=[];var r,i=!1;(t[0].match(Us)||[]).forEach(function(s){var a=an(s),o=0;switch(Gl(a[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(r=a,delete r[0],o=0;o<Gx.length;++o)r[Gx[o]]&&(r[Gx[o]]=parseInt(r[Gx[o]],10));for(o=0;o<Kx.length;++o)r[Kx[o]]&&(r[Kx[o]]=Tr(r[Kx[o]]));if(e.NumberFmt&&r.numFmtId>392){for(o=392;o>60;--o)if(e.NumberFmt[r.numFmtId]==e.NumberFmt[o]){r.numFmtId=o;break}}e.CellXf.push(r);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};a.vertical&&(l.vertical=a.vertical),a.horizontal&&(l.horizontal=a.horizontal),a.textRotation!=null&&(l.textRotation=a.textRotation),a.indent&&(l.indent=a.indent),a.wrapText&&(l.wrapText=Tr(a.wrapText)),r.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+a[0]+" in cellXfs")}})}function gke(t){var e=[];return e[e.length]=Et("cellXfs",null),t.forEach(function(n){e[e.length]=Et("xf",null,n)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=Et("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var yke=(function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,n=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,c){var u={};if(!o)return u;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=o.match(e))&&hke(f,u,c),(f=o.match(i))&&fke(f,u,l,c),(f=o.match(r))&&dke(f,u,l,c),(f=o.match(s))&&uke(f,u,l,c),(f=o.match(n))&&mke(f,u,c),u}})();function VJ(t,e){var n=[pi,Et("styleSheet",null,{xmlns:mh[0],"xmlns:vt":ki.vt})],r;return t.SSF&&(r=pke(t.SSF))!=null&&(n[n.length]=r),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=gke(e.cellXfs))&&(n[n.length]=r),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function vke(t,e){var n=t.read_shift(2),r=Rs(t);return[n,r]}function xke(t,e,n){n||(n=it(6+4*e.length)),n.write_shift(2,t),Xi(e,n);var r=n.length>n.l?n.slice(0,n.l):n;return n.l==null&&(n.l=n.length),r}function bke(t,e,n){var r={};r.sz=t.read_shift(2)/20;var i=tAe(t);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var s=t.read_shift(2);switch(s===700&&(r.bold=1),t.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var a=t.read_shift(1);a!=0&&(r.underline=a);var o=t.read_shift(1);o>0&&(r.family=o);var l=t.read_shift(1);switch(l>0&&(r.charset=l),t.l++,r.color=eAe(t),t.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=Rs(t),r}function _ke(t,e){e||(e=it(153)),e.write_shift(2,t.sz*20),nAe(t,e),e.write_shift(2,t.bold?700:400);var n=0;t.vertAlign=="superscript"?n=1:t.vertAlign=="subscript"&&(n=2),e.write_shift(2,n),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),e_(t.color,e);var r=0;return r=2,e.write_shift(1,r),Xi(t.name,e),e.length>e.l?e.slice(0,e.l):e}var wke=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],m4,Tke=Ps;function KO(t,e){e||(e=it(84)),m4||(m4=jw(wke));var n=m4[t.patternType];n==null&&(n=40),e.write_shift(4,n);var r=0;if(n!=40)for(e_({auto:1},e),e_({auto:1},e);r<12;++r)e.write_shift(4,0);else{for(;r<4;++r)e.write_shift(4,0);for(;r<12;++r)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function Eke(t,e){var n=t.l+e,r=t.read_shift(2),i=t.read_shift(2);return t.l=n,{ixfe:r,numFmtId:i}}function WJ(t,e,n){n||(n=it(16)),n.write_shift(2,e||0),n.write_shift(2,t.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);var r=0;return n.write_shift(1,r),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function u0(t,e){return e||(e=it(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var Cke=Ps;function Ske(t,e){return e||(e=it(51)),e.write_shift(1,0),u0(null,e),u0(null,e),u0(null,e),u0(null,e),u0(null,e),e.length>e.l?e.slice(0,e.l):e}function Dke(t,e){return e||(e=it(52)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),Zb(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function Ake(t,e,n){var r=it(2052);return r.write_shift(4,t),Zb(e,r),Zb(n,r),r.length>r.l?r.slice(0,r.l):r}function Nke(t,e,n){var r={};r.NumberFmt=[];for(var i in tn)r.NumberFmt[i]=tn[i];r.CellXf=[],r.Fonts=[];var s=[],a=!1;return Hc(t,function(l,c,u){switch(u){case 44:r.NumberFmt[l[0]]=l[1],Tc(l[1],l[0]);break;case 43:r.Fonts.push(l),l.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(l.color.rgb=r_(e.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&r.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:s.push(u),a=!0;break;case 38:s.pop(),a=!1;break;default:if(c.T>0)s.push(u);else if(c.T<0)s.pop();else if(!a||n.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),r}function kke(t,e){if(e){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&++n}),n!=0&&(ct(t,615,el(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&ct(t,44,xke(i,e[i]))}),ct(t,616))}}function Ike(t){var e=1;ct(t,611,el(e)),ct(t,43,_ke({sz:12,color:{theme:1},name:"Calibri",family:2})),ct(t,612)}function Rke(t){var e=2;ct(t,603,el(e)),ct(t,45,KO({patternType:"none"})),ct(t,45,KO({patternType:"gray125"})),ct(t,604)}function Pke(t){var e=1;ct(t,613,el(e)),ct(t,46,Ske()),ct(t,614)}function Fke(t){var e=1;ct(t,626,el(e)),ct(t,47,WJ({numFmtId:0},65535)),ct(t,627)}function Mke(t,e){ct(t,617,el(e.length)),e.forEach(function(n){ct(t,47,WJ(n,0))}),ct(t,618)}function Uke(t){var e=1;ct(t,619,el(e)),ct(t,48,Dke({xfId:0,name:"Normal"})),ct(t,620)}function Oke(t){var e=0;ct(t,505,el(e)),ct(t,506)}function Lke(t){var e=0;ct(t,508,Ake(e,"TableStyleMedium9","PivotStyleMedium4")),ct(t,509)}function jke(t,e){var n=va();return ct(n,278),kke(n,t.SSF),Ike(n),Rke(n),Pke(n),Fke(n),Mke(n,e.cellXfs),Uke(n),Oke(n),Lke(n),ct(n,279),n.end()}var Bke=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function Vke(t,e,n){e.themeElements.clrScheme=[];var r={};(t[0].match(Us)||[]).forEach(function(i){var s=an(i);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=s.val;break;case"<a:sysClr":r.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(e.themeElements.clrScheme[Bke.indexOf(s[0])]=r,r={}):r.name=s[0].slice(3,s[0].length-1);break;default:if(n&&n.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function Wke(){}function qke(){}var $ke=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,zke=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,Hke=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function Gke(t,e,n){e.themeElements={};var r;[["clrScheme",$ke,Vke],["fontScheme",zke,Wke],["fmtScheme",Hke,qke]].forEach(function(i){if(!(r=t.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](r,e,n)})}var Kke=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function qJ(t,e){(!t||t.length===0)&&(t=QI());var n,r={};if(!(n=t.match(Kke)))throw new Error("themeElements not found in theme");return Gke(n[0],r,e),r.raw=t,r}function QI(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var n=[pi];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function Jke(t,e,n){var r=t.l+e,i=t.read_shift(4);if(i!==124226){if(!n.cellStyles){t.l=r;return}var s=t.slice(t.l);t.l=r;var a;try{a=MK(s,{type:"array"})}catch{return}var o=Ua(a,"theme/theme/theme1.xml",!0);if(o)return qJ(o,n)}}function Xke(t){return t.read_shift(4)}function Yke(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:t.l+=4;break;case 1:e.xclrValue=Qke(t,4);break;case 2:e.xclrValue=wJ(t);break;case 3:e.xclrValue=Xke(t);break;case 4:t.l+=4;break}return t.l+=8,e}function Qke(t,e){return Ps(t,e)}function Zke(t,e){return Ps(t,e)}function eIe(t){var e=t.read_shift(2),n=t.read_shift(2)-4,r=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=Yke(t);break;case 6:r[1]=Zke(t,n);break;case 14:case 15:r[1]=t.read_shift(n===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+n)}return r}function tIe(t,e){var n=t.l+e;t.l+=2;var r=t.read_shift(2);t.l+=2;for(var i=t.read_shift(2),s=[];i-- >0;)s.push(eIe(t,n-t.l));return{ixfe:r,ext:s}}function nIe(t,e){e.forEach(function(n){n[0]})}function rIe(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:Rs(t)}}function iIe(t){var e=it(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),Xi(t.name,e),e.slice(0,e.l)}function sIe(t){for(var e=[],n=t.read_shift(4);n-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function aIe(t){var e=it(4+8*t.length);e.write_shift(4,t.length);for(var n=0;n<t.length;++n)e.write_shift(4,t[n][0]),e.write_shift(4,t[n][1]);return e}function oIe(t,e){var n=it(8+2*e.length);return n.write_shift(4,t),Xi(e,n),n.slice(0,n.l)}function lIe(t){return t.l+=4,t.read_shift(4)!=0}function cIe(t,e){var n=it(8);return n.write_shift(4,t),n.write_shift(4,1),n}function uIe(t,e,n){var r={Types:[],Cell:[],Value:[]},i=n||{},s=[],a=!1,o=2;return Hc(t,function(l,c,u){switch(u){case 335:r.Types.push({name:l.name});break;case 51:l.forEach(function(f){o==1?r.Cell.push({type:r.Types[f[0]-1].name,index:f[1]}):o==0&&r.Value.push({type:r.Types[f[0]-1].name,index:f[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:s.push(u),a=!0;break;case 36:s.pop(),a=!1;break;default:if(!c.T){if(!a||i.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}function dIe(){var t=va();return ct(t,332),ct(t,334,el(1)),ct(t,335,iIe({name:"XLDAPR",version:12e4,flags:3496657072})),ct(t,336),ct(t,339,oIe(1,"XLDAPR")),ct(t,52),ct(t,35,el(514)),ct(t,4096,el(0)),ct(t,4097,co(1)),ct(t,36),ct(t,53),ct(t,340),ct(t,337,cIe(1)),ct(t,51,aIe([[1,0]])),ct(t,338),ct(t,333),t.end()}function fIe(t,e,n){var r={Types:[],Cell:[],Value:[]};if(!t)return r;var i=!1,s=2,a;return t.replace(Us,function(o){var l=an(o);switch(Gl(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":r.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<r.Types.length;++c)r.Types[c].name==l.name&&(a=r.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?r.Cell.push({type:r.Types[l.t-1].name,index:+l.v}):s==0&&r.Value.push({type:r.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!a)break;a.offsets||(a.offsets=[]),a.offsets.push(+l.i);break;default:if(!i&&n.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),r}function $J(){var t=[pi];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function hIe(t){var e=[];if(!t)return e;var n=1;return(t.match(Us)||[]).forEach(function(r){var i=an(r);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?n=i.i:i.i=n,e.push(i);break}}),e}function pIe(t){var e={};e.i=t.read_shift(4);var n={};n.r=t.read_shift(4),n.c=t.read_shift(4),e.r=sn(n);var r=t.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}function mIe(t,e,n){var r=[];return Hc(t,function(s,a,o){switch(o){case 63:r.push(s);break;default:if(!a.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function gIe(t,e,n,r){if(!t)return t;var i=r||{},s=!1;Hc(t,function(o,l,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!l.T){if(!s||i.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},i)}function yIe(t,e){if(!t)return"??";var n=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][n].Target}var Fp=1024;function zJ(t,e){for(var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),i=[Et("xml",null,{"xmlns:v":Pa.v,"xmlns:o":Pa.o,"xmlns:x":Pa.x,"xmlns:mv":Pa.mv}).replace(/\/>/,">"),Et("o:shapelayout",Et("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),Et("v:shapetype",[Et("v:stroke",null,{joinstyle:"miter"}),Et("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:r})];Fp<t*1e3;)Fp+=1e3;return e.forEach(function(s){var a=$r(s[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var l=o.type=="gradient"?Et("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,c=Et("v:fill",l,o),u={on:"t",obscured:"t"};++Fp,i=i.concat(["<v:shape"+n1({id:"_x0000_s"+Fp,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",c,Et("v:shadow",null,u),Et("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",cs("x:Anchor",[a.c+1,0,a.r+1,0,a.c+3,20,a.r+5,20].join(",")),cs("x:AutoFill","False"),cs("x:Row",String(a.r)),cs("x:Column",String(a.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function JO(t,e,n,r){var i=Array.isArray(t),s;e.forEach(function(a){var o=$r(a.ref);if(i?(t[o.r]||(t[o.r]=[]),s=t[o.r][o.c]):s=t[a.ref],!s){s={t:"z"},i?t[o.r][o.c]=s:t[a.ref]=s;var l=Bn(t["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var c=pn(l);c!==t["!ref"]&&(t["!ref"]=c)}s.c||(s.c=[]);var u={a:a.author,t:a.t,r:a.r,T:n};a.h&&(u.h=a.h);for(var f=s.c.length-1;f>=0;--f){if(!n&&s.c[f].T)return;n&&!s.c[f].T&&s.c.splice(f,1)}if(n&&r){for(f=0;f<r.length;++f)if(u.a==r[f].id){u.a=r[f].name||u.a;break}}s.c.push(u)})}function vIe(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],r=[],i=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&n.push(o[1])}});var s=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=an(o[0]),c={author:l.authorId&&n[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},u=$r(l.ref);if(!(e.sheetRows&&e.sheetRows<=u.r)){var f=a.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&JI(f[1])||{r:"",t:"",h:""};c.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),c.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(c.h=h.h),r.push(c)}}}}),r}function HJ(t){var e=[pi,Et("comments",null,{xmlns:mh[0]})],n=[];return e.push("<authors>"),t.forEach(function(r){r[1].forEach(function(i){var s=ar(i.a);n.indexOf(s)==-1&&(n.push(s),e.push("<author>"+s+"</author>")),i.T&&i.ID&&n.indexOf("tc="+i.ID)==-1&&(n.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),n.length==0&&(n.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(r){var i=0,s=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?i=n.indexOf("tc="+r[1][0].ID):r[1].forEach(function(l){l.a&&(i=n.indexOf(ar(l.a))),s.push(l.t||"")}),e.push('<comment ref="'+r[0]+'" authorId="'+i+'"><text>'),s.length<=1)e.push(cs("t",ar(s[0]||"")));else{for(var a=`Comment:
    `+s[0]+`
`,o=1;o<s.length;++o)a+=`Reply:
    `+s[o]+`
`;e.push(cs("t",ar(a)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function xIe(t,e){var n=[],r=!1,i={},s=0;return t.replace(Us,function(o,l){var c=an(o);switch(Gl(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":i.t!=null&&n.push(i);break;case"<text>":case"<text":s=l+o.length;break;case"</text>":i.t=t.slice(s,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":r=!0;break;case"</mentions>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return o}),n}function bIe(t,e,n){var r=[pi,Et("ThreadedComments",null,{xmlns:ki.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(i){var s="";(i[1]||[]).forEach(function(a,o){if(!a.T){delete a.ID;return}a.a&&e.indexOf(a.a)==-1&&e.push(a.a);var l={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};o==0?s=l.id:l.parentId=s,a.ID=l.id,a.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(a.a)).slice(-12)+"}"),r.push(Et("threadedComment",cs("text",a.t||""),l))})}),r.push("</ThreadedComments>"),r.join("")}function _Ie(t,e){var n=[],r=!1;return t.replace(Us,function(s){var a=an(s);switch(Gl(a[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":n.push({name:a.displayname,id:a.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+a[0]+" in threaded comments")}return s}),n}function wIe(t){var e=[pi,Et("personList",null,{xmlns:ki.TCMNT,"xmlns:x":mh[0]}).replace(/[\/]>/,">")];return t.forEach(function(n,r){e.push(Et("person",null,{displayName:n,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:n,providerId:"None"}))}),e.push("</personList>"),e.join("")}function TIe(t){var e={};e.iauthor=t.read_shift(4);var n=xh(t);return e.rfx=n.s,e.ref=sn(n.s),t.l+=16,e}function EIe(t,e){return e==null&&(e=it(36)),e.write_shift(4,t[1].iauthor),dg(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var CIe=Rs;function SIe(t){return Xi(t.slice(0,54))}function DIe(t,e){var n=[],r=[],i={},s=!1;return Hc(t,function(o,l,c){switch(c){case 632:r.push(o);break;case 635:i=o;break;case 637:i.t=o.t,i.h=o.h,i.r=o.r;break;case 636:if(i.author=r[i.iauthor],delete i.iauthor,e.sheetRows&&i.rfx&&e.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,n.push(i);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!s||e.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),n}function AIe(t){var e=va(),n=[];return ct(e,628),ct(e,630),t.forEach(function(r){r[1].forEach(function(i){n.indexOf(i.a)>-1||(n.push(i.a.slice(0,54)),ct(e,632,SIe(i.a)))})}),ct(e,631),ct(e,633),t.forEach(function(r){r[1].forEach(function(i){i.iauthor=n.indexOf(i.a);var s={s:$r(r[0]),e:$r(r[0])};ct(e,635,EIe([s,i])),i.t&&i.t.length>0&&ct(e,637,XDe(i)),ct(e,636),delete i.iauthor})}),ct(e,634),ct(e,629),e.end()}var NIe="application/vnd.ms-office.vbaProject";function kIe(t){var e=Jt.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(n,r){if(!(n.slice(-1)==="/"||!n.match(/_VBA_PROJECT_CUR/))){var i=n.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Jt.utils.cfb_add(e,i,t.FileIndex[r].content)}}),Jt.write(e)}function IIe(t,e){e.FullPaths.forEach(function(n,r){if(r!=0){var i=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&Jt.utils.cfb_add(t,i,e.FileIndex[r].content)}})}var GJ=["xlsb","xlsm","xlam","biff8","xla"];function RIe(){return{"!type":"dialog"}}function PIe(){return{"!type":"dialog"}}function FIe(){return{"!type":"macro"}}function MIe(){return{"!type":"macro"}}var Kp=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function n(r,i,s,a){var o=!1,l=!1;s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1)),a.length==0?o=!0:a.charAt(0)=="["&&(o=!0,a=a.slice(1,-1));var c=s.length>0?parseInt(s,10)|0:0,u=a.length>0?parseInt(a,10)|0:0;return o?u+=e.c:--u,l?c+=e.r:--c,i+(o?"":"$")+qr(u)+(l?"":"$")+fi(c)}return function(i,s){return e=s,i.replace(t,n)}})(),ZI=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,e6=(function(){return function(e,n){return e.replace(ZI,function(r,i,s,a,o,l){var c=BI(a)-(s?0:n.c),u=jI(l)-(o?0:n.r),f=u==0?"":o?u+1:"["+u+"]",h=c==0?"":s?c+1:"["+c+"]";return i+"R"+f+"C"+h})}})();function KJ(t,e){return t.replace(ZI,function(n,r,i,s,a,o){return r+(i=="$"?i+s:qr(BI(s)+e.c))+(a=="$"?a+o:fi(jI(o)+e.r))})}function UIe(t,e,n){var r=xa(e),i=r.s,s=$r(n),a={r:s.r-i.r,c:s.c-i.c};return KJ(t,a)}function OIe(t){return t.length!=1}function XO(t){return t.replace(/_xlfn\./g,"")}function vi(t){t.l+=1}function ad(t,e){var n=t.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function JJ(t,e,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return XJ(t);n.biff==12&&(r=4)}var i=t.read_shift(r),s=t.read_shift(r),a=ad(t),o=ad(t);return{s:{r:i,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function XJ(t){var e=ad(t),n=ad(t),r=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function LIe(t,e,n){if(n.biff<8)return XJ(t);var r=t.read_shift(n.biff==12?4:2),i=t.read_shift(n.biff==12?4:2),s=ad(t),a=ad(t);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:a[0],cRel:a[1],rRel:a[2]}}}function YJ(t,e,n){if(n&&n.biff>=2&&n.biff<=5)return jIe(t);var r=t.read_shift(n&&n.biff==12?4:2),i=ad(t);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function jIe(t){var e=ad(t),n=t.read_shift(1);return{r:e[0],c:n,cRel:e[1],rRel:e[2]}}function BIe(t){var e=t.read_shift(2),n=t.read_shift(2);return{r:e,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function VIe(t,e,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return WIe(t);var i=t.read_shift(r>=12?4:2),s=t.read_shift(2),a=(s&16384)>>14,o=(s&32768)>>15;if(s&=16383,o==1)for(;i>524287;)i-=1048576;if(a==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:a,rRel:o}}function WIe(t){var e=t.read_shift(2),n=t.read_shift(1),r=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),i==1&&n>=128&&(n=n-256),{r:e,c:n,cRel:i,rRel:r}}function qIe(t,e,n){var r=(t[t.l++]&96)>>5,i=JJ(t,n.biff>=2&&n.biff<=5?6:8,n);return[r,i]}function $Ie(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),s=8;if(n)switch(n.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}var a=JJ(t,s,n);return[r,i,a]}function zIe(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function HIe(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),s=8;if(n)switch(n.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}return t.l+=s,[r,i]}function GIe(t,e,n){var r=(t[t.l++]&96)>>5,i=LIe(t,e-1,n);return[r,i]}function KIe(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n.biff==2?6:n.biff==12?14:7,[r]}function YO(t){var e=t[t.l+1]&1,n=1;return t.l+=4,[e,n]}function JIe(t,e,n){t.l+=2;for(var r=t.read_shift(n&&n.biff==2?1:2),i=[],s=0;s<=r;++s)i.push(t.read_shift(n&&n.biff==2?1:2));return i}function XIe(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function YIe(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function QIe(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function ZIe(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=n&&n.biff==2?3:4,[r]}function QJ(t){var e=t.read_shift(1),n=t.read_shift(1);return[e,n]}function e6e(t){return t.read_shift(2),QJ(t)}function t6e(t){return t.read_shift(2),QJ(t)}function n6e(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=YJ(t,0,n);return[r,i]}function r6e(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=VIe(t,0,n);return[r,i]}function i6e(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);n&&n.biff==5&&(t.l+=12);var s=YJ(t,0,n);return[r,i,s]}function s6e(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(n&&n.biff<=3?1:2);return[l5e[i],tX[i],r]}function a6e(t,e,n){var r=t[t.l++],i=t.read_shift(1),s=n&&n.biff<=3?[r==88?-1:0,t.read_shift(1)]:o6e(t);return[i,(s[0]===0?tX:o5e)[s[1]]]}function o6e(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function l6e(t,e,n){t.l+=n&&n.biff==2?3:4}function c6e(t,e,n){if(t.l++,n&&n.biff==12)return[t.read_shift(4,"i"),0];var r=t.read_shift(2),i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function u6e(t){return t.l++,Gc[t.read_shift(1)]}function d6e(t){return t.l++,t.read_shift(2)}function f6e(t){return t.l++,t.read_shift(1)!==0}function h6e(t){return t.l++,Ss(t)}function p6e(t,e,n){return t.l++,rv(t,e-1,n)}function m6e(t,e){var n=[t.read_shift(1)];if(e==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=oi(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:n[1]=Gc[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:n[1]=Ss(t);break;case 2:n[1]=bh(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function g6e(t,e,n){for(var r=t.read_shift(n.biff==12?4:2),i=[],s=0;s!=r;++s)i.push((n.biff==12?xh:Ww)(t));return i}function y6e(t,e,n){var r=0,i=0;n.biff==12?(r=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),r=1+t.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--i==0&&(i=256));for(var s=0,a=[];s!=r&&(a[s]=[]);++s)for(var o=0;o!=i;++o)a[s][o]=m6e(t,n.biff);return a}function v6e(t,e,n){var r=t.read_shift(1)>>>5&3,i=!n||n.biff>=8?4:2,s=t.read_shift(i);switch(n.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[r,0,s]}function x6e(t,e,n){if(n.biff==5)return b6e(t);var r=t.read_shift(1)>>>5&3,i=t.read_shift(2),s=t.read_shift(4);return[r,i,s]}function b6e(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2,"i");t.l+=8;var r=t.read_shift(2);return t.l+=12,[e,n,r]}function _6e(t,e,n){var r=t.read_shift(1)>>>5&3;t.l+=n&&n.biff==2?3:4;var i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function w6e(t,e,n){var r=t.read_shift(1)>>>5&3,i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function T6e(t,e,n){var r=t.read_shift(1)>>>5&3;return t.l+=4,n.biff<8&&t.l--,n.biff==12&&(t.l+=2),[r]}function E6e(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),s=4;if(n)switch(n.biff){case 5:s=15;break;case 12:s=6;break}return t.l+=s,[r,i]}var C6e=Ps,S6e=Ps,D6e=Ps;function sv(t,e,n){return t.l+=2,[BIe(t)]}function t6(t){return t.l+=6,[]}var A6e=sv,N6e=t6,k6e=t6,I6e=sv;function ZJ(t){return t.l+=2,[_i(t),t.read_shift(2)&1]}var R6e=sv,P6e=ZJ,F6e=t6,M6e=sv,U6e=sv,O6e=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function L6e(t){t.l+=2;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),i=t.read_shift(2),s=t.read_shift(2),a=O6e[n>>2&31];return{ixti:e,coltype:n&3,rt:a,idx:r,c:i,C:s}}function j6e(t){return t.l+=2,[t.read_shift(4)]}function B6e(t,e,n){return t.l+=5,t.l+=2,t.l+=n.biff==2?1:4,["PTGSHEET"]}function V6e(t,e,n){return t.l+=n.biff==2?4:5,["PTGENDSHEET"]}function W6e(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function q6e(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function $6e(t){return t.l+=4,[0,0]}var QO={1:{n:"PtgExp",f:c6e},2:{n:"PtgTbl",f:D6e},3:{n:"PtgAdd",f:vi},4:{n:"PtgSub",f:vi},5:{n:"PtgMul",f:vi},6:{n:"PtgDiv",f:vi},7:{n:"PtgPower",f:vi},8:{n:"PtgConcat",f:vi},9:{n:"PtgLt",f:vi},10:{n:"PtgLe",f:vi},11:{n:"PtgEq",f:vi},12:{n:"PtgGe",f:vi},13:{n:"PtgGt",f:vi},14:{n:"PtgNe",f:vi},15:{n:"PtgIsect",f:vi},16:{n:"PtgUnion",f:vi},17:{n:"PtgRange",f:vi},18:{n:"PtgUplus",f:vi},19:{n:"PtgUminus",f:vi},20:{n:"PtgPercent",f:vi},21:{n:"PtgParen",f:vi},22:{n:"PtgMissArg",f:vi},23:{n:"PtgStr",f:p6e},26:{n:"PtgSheet",f:B6e},27:{n:"PtgEndSheet",f:V6e},28:{n:"PtgErr",f:u6e},29:{n:"PtgBool",f:f6e},30:{n:"PtgInt",f:d6e},31:{n:"PtgNum",f:h6e},32:{n:"PtgArray",f:KIe},33:{n:"PtgFunc",f:s6e},34:{n:"PtgFuncVar",f:a6e},35:{n:"PtgName",f:v6e},36:{n:"PtgRef",f:n6e},37:{n:"PtgArea",f:qIe},38:{n:"PtgMemArea",f:_6e},39:{n:"PtgMemErr",f:C6e},40:{n:"PtgMemNoMem",f:S6e},41:{n:"PtgMemFunc",f:w6e},42:{n:"PtgRefErr",f:T6e},43:{n:"PtgAreaErr",f:zIe},44:{n:"PtgRefN",f:r6e},45:{n:"PtgAreaN",f:GIe},46:{n:"PtgMemAreaN",f:W6e},47:{n:"PtgMemNoMemN",f:q6e},57:{n:"PtgNameX",f:x6e},58:{n:"PtgRef3d",f:i6e},59:{n:"PtgArea3d",f:$Ie},60:{n:"PtgRefErr3d",f:E6e},61:{n:"PtgAreaErr3d",f:HIe},255:{}},z6e={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},H6e={1:{n:"PtgElfLel",f:ZJ},2:{n:"PtgElfRw",f:M6e},3:{n:"PtgElfCol",f:A6e},6:{n:"PtgElfRwV",f:U6e},7:{n:"PtgElfColV",f:I6e},10:{n:"PtgElfRadical",f:R6e},11:{n:"PtgElfRadicalS",f:F6e},13:{n:"PtgElfColS",f:N6e},15:{n:"PtgElfColSV",f:k6e},16:{n:"PtgElfRadicalLel",f:P6e},25:{n:"PtgList",f:L6e},29:{n:"PtgSxName",f:j6e},255:{}},G6e={0:{n:"PtgAttrNoop",f:$6e},1:{n:"PtgAttrSemi",f:ZIe},2:{n:"PtgAttrIf",f:YIe},4:{n:"PtgAttrChoose",f:JIe},8:{n:"PtgAttrGoto",f:XIe},16:{n:"PtgAttrSum",f:l6e},32:{n:"PtgAttrBaxcel",f:YO},33:{n:"PtgAttrBaxcel",f:YO},64:{n:"PtgAttrSpace",f:e6e},65:{n:"PtgAttrSpaceSemi",f:t6e},128:{n:"PtgAttrIfError",f:QIe},255:{}};function av(t,e,n,r){if(r.biff<8)return Ps(t,e);for(var i=t.l+e,s=[],a=0;a!==n.length;++a)switch(n[a][0]){case"PtgArray":n[a][1]=y6e(t,0,r),s.push(n[a][1]);break;case"PtgMemArea":n[a][2]=g6e(t,n[a][1],r),s.push(n[a][2]);break;case"PtgExp":r&&r.biff==12&&(n[a][1][1]=t.read_shift(4),s.push(n[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[a][0]}return e=i-t.l,e!==0&&s.push(Ps(t,e)),s}function ov(t,e,n){for(var r=t.l+e,i,s,a=[];r!=t.l;)e=r-t.l,s=t[t.l],i=QO[s]||QO[z6e[s]],(s===24||s===25)&&(i=(s===24?H6e:G6e)[t[t.l+1]]),!i||!i.f?Ps(t,e):a.push([i.n,i.f(t,e,n)]);return a}function K6e(t){for(var e=[],n=0;n<t.length;++n){for(var r=t[n],i=[],s=0;s<r.length;++s){var a=r[s];if(a)switch(a[0]){case 2:i.push('"'+a[1].replace(/"/g,'""')+'"');break;default:i.push(a[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var J6e={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function X6e(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function eX(t,e,n){if(!t)return"SH33TJSERR0";if(n.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var r=t.XTI[e];if(n.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!r)return"SH33TJSERR1";var i="";if(n.biff>8)switch(t[r[0]][0]){case 357:return i=r[1]==-1?"#REF":t.SheetNames[r[1]],r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 358:return n.SID!=null?t.SheetNames[n.SID]:"SH33TJSSAME"+t[r[0]][0];case 355:default:return"SH33TJSSRC"+t[r[0]][0]}switch(t[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":t.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 14849:return t[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return t[r[0]][0][3]?(i=r[1]==-1?"#REF":t[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+t[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function ZO(t,e,n){var r=eX(t,e,n);return r=="#REF"?r:X6e(r,n)}function Ts(t,e,n,r,i){var s=i&&i.biff||8,a={s:{c:0,r:0}},o=[],l,c,u,f=0,h=0,p,v="";if(!t[0]||!t[0][0])return"";for(var g=-1,y="",_=0,x=t[0].length;_<x;++_){var w=t[0][_];switch(w[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),g>=0){switch(t[0][g][1][0]){case 0:y=Xr(" ",t[0][g][1][1]);break;case 1:y=Xr("\r",t[0][g][1][1]);break;default:if(y="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][g][1][0])}c=c+y,g=-1}o.push(c+J6e[w[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=ay(w[1][1],a,i),o.push(oy(u,s));break;case"PtgRefN":u=n?ay(w[1][1],n,i):w[1][1],o.push(oy(u,s));break;case"PtgRef3d":f=w[1][1],u=ay(w[1][2],a,i),v=ZO(r,f,i),o.push(v+"!"+oy(u,s));break;case"PtgFunc":case"PtgFuncVar":var C=w[1][0],S=w[1][1];C||(C=0),C&=127;var R=C==0?[]:o.slice(-C);o.length-=C,S==="User"&&(S=R.shift()),o.push(S+"("+R.join(",")+")");break;case"PtgBool":o.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(w[1]);break;case"PtgNum":o.push(String(w[1]));break;case"PtgStr":o.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(w[1]);break;case"PtgAreaN":p=AO(w[1][1],n?{s:n}:a,i),o.push(d4(p,i));break;case"PtgArea":p=AO(w[1][1],a,i),o.push(d4(p,i));break;case"PtgArea3d":f=w[1][1],p=w[1][2],v=ZO(r,f,i),o.push(v+"!"+d4(p,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=w[1][2];var D=(r.names||[])[h-1]||(r[0]||[])[h],N=D?D.Name:"SH33TJSNAME"+String(h);N&&N.slice(0,6)=="_xlfn."&&!i.xlfn&&(N=N.slice(6)),o.push(N);break;case"PtgNameX":var I=w[1][1];h=w[1][2];var F;if(i.biff<=5)I<0&&(I=-I),r[I]&&(F=r[I][h]);else{var P="";if(((r[I]||[])[0]||[])[0]==14849||(((r[I]||[])[0]||[])[0]==1025?r[I][h]&&r[I][h].itab>0&&(P=r.SheetNames[r[I][h].itab-1]+"!"):P=r.SheetNames[h-1]+"!"),r[I]&&r[I][h])P+=r[I][h].Name;else if(r[0]&&r[0][h])P+=r[0][h].Name;else{var k=(eX(r,I,i)||"").split(";;");k[h-1]?P=k[h-1]:P+="SH33TJSERRX"}o.push(P);break}F||(F={Name:"SH33TJSERRY"}),o.push(F.Name);break;case"PtgParen":var U="(",O=")";if(g>=0){switch(y="",t[0][g][1][0]){case 2:U=Xr(" ",t[0][g][1][1])+U;break;case 3:U=Xr("\r",t[0][g][1][1])+U;break;case 4:O=Xr(" ",t[0][g][1][1])+O;break;case 5:O=Xr("\r",t[0][g][1][1])+O;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][g][1][0])}g=-1}o.push(U+o.pop()+O);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:w[1][1],r:w[1][0]};var H={c:n.c,r:n.r};if(r.sharedf[sn(u)]){var G=r.sharedf[sn(u)];o.push(Ts(G,a,H,r,i))}else{var X=!1;for(l=0;l!=r.arrayf.length;++l)if(c=r.arrayf[l],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){o.push(Ts(c[1],a,H,r,i)),X=!0;break}X||o.push(w[1])}break;case"PtgArray":o.push("{"+K6e(w[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=_;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(w));default:throw new Error("Unrecognized Formula Token: "+String(w))}var Z=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&g>=0&&Z.indexOf(t[0][_][0])==-1){w=t[0][g];var z=!0;switch(w[1][0]){case 4:z=!1;case 0:y=Xr(" ",w[1][1]);break;case 5:z=!1;case 1:y=Xr("\r",w[1][1]);break;default:if(y="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}o.push((z?y:"")+o.pop()+(z?"":y)),g=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function Y6e(t,e,n){var r=t.l+e,i=n.biff==2?1:2,s,a=t.read_shift(i);if(a==65535)return[[],Ps(t,e-2)];var o=ov(t,a,n);return e!==a+i&&(s=av(t,e-a-i,o,n)),t.l=r,[o,s]}function Q6e(t,e,n){var r=t.l+e,i=n.biff==2?1:2,s,a=t.read_shift(i);if(a==65535)return[[],Ps(t,e-2)];var o=ov(t,a,n);return e!==a+i&&(s=av(t,e-a-i,o,n)),t.l=r,[o,s]}function Z6e(t,e,n,r){var i=t.l+e,s=ov(t,r,n),a;return i!==t.l&&(a=av(t,i-t.l,s,n)),[s,a]}function e5e(t,e,n){var r=t.l+e,i,s=t.read_shift(2),a=ov(t,s,n);return s==65535?[[],Ps(t,e-2)]:(e!==s+2&&(i=av(t,r-s-2,a,n)),[a,i])}function t5e(t){var e;if(pc(t,t.l+6)!==65535)return[Ss(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=t[t.l+2]===1,t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}function n5e(t){if(t==null){var e=it(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return Jf(t);return Jf(0)}function g4(t,e,n){var r=t.l+e,i=Kl(t);n.biff==2&&++t.l;var s=t5e(t),a=t.read_shift(1);n.biff!=2&&(t.read_shift(1),n.biff>=5&&t.read_shift(4));var o=Q6e(t,r-t.l,n);return{cell:i,val:s[0],formula:o,shared:a>>3&1,tt:s[1]}}function r5e(t,e,n,r,i){var s=Yf(e,n,i),a=n5e(t.v),o=it(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var c=it(t.bf.length),u=0;u<t.bf.length;++u)c[u]=t.bf[u];var f=Ji([s,a,o,c]);return f}function qw(t,e,n){var r=t.read_shift(4),i=ov(t,r,n),s=t.read_shift(4),a=s>0?av(t,s,i,n):null;return[i,a]}var i5e=qw,$w=qw,s5e=qw,a5e=qw,o5e={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},tX={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},l5e={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function eL(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,n){return n.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function c5e(t){var e="of:="+t.replace(ZI,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function y4(t){var e=t.split(":"),n=e[0].split(".")[0];return[n,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}function u5e(t){return t.replace(/\./,"!")}var cy={},Jp={},uy=typeof Map<"u";function n6(t,e,n){var r=0,i=t.length;if(n){if(uy?n.has(e):Object.prototype.hasOwnProperty.call(n,e)){for(var s=uy?n.get(e):n[e];r<s.length;++r)if(t[s[r]].t===e)return t.Count++,s[r]}}else for(;r<i;++r)if(t[r].t===e)return t.Count++,r;return t[i]={t:e},t.Count++,t.Unique++,n&&(uy?(n.has(e)||n.set(e,[]),n.get(e).push(i)):(Object.prototype.hasOwnProperty.call(n,e)||(n[e]=[]),n[e].push(i))),i}function zw(t,e){var n={min:t+1,max:t+1},r=-1;return e.MDW&&(Es=e.MDW),e.width!=null?n.customWidth=1:e.wpx!=null?r=o1(e.wpx):e.wch!=null&&(r=e.wch),r>-1?(n.width=i_(r),n.customWidth=1):e.width!=null&&(n.width=e.width),e.hidden&&(n.hidden=!0),e.level!=null&&(n.outlineLevel=n.level=e.level),n}function Sf(t,e){if(t){var n=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(n=[1,1,1,1,.5,.5]),t.left==null&&(t.left=n[0]),t.right==null&&(t.right=n[1]),t.top==null&&(t.top=n[2]),t.bottom==null&&(t.bottom=n[3]),t.header==null&&(t.header=n[4]),t.footer==null&&(t.footer=n[5])}}function bd(t,e,n){var r=n.revssf[e.z!=null?e.z:"General"],i=60,s=t.length;if(r==null&&n.ssf){for(;i<392;++i)if(n.ssf[i]==null){Tc(e.z,i),n.ssf[i]=e.z,n.revssf[e.z]=r=i;break}}for(i=0;i!=s;++i)if(t[i].numFmtId===r)return i;return t[s]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function nX(t,e,n,r,i,s){try{r.cellNF&&(t.z=tn[e])}catch(o){if(r.WTF)throw o}if(!(t.t==="z"&&!r.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=Dr(t.v)),(!r||r.cellText!==!1)&&t.t!=="z")try{if(tn[e]==null&&Tc(oDe[e]||"General",e),t.t==="e")t.w=t.w||Gc[t.v];else if(e===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=e1(t.v);else if(t.t==="d"){var a=Ri(t.v);(a|0)===a?t.w=a.toString(10):t.w=e1(a)}else{if(t.v===void 0)return"";t.w=Gf(t.v,Jp)}else t.t==="d"?t.w=_o(e,Ri(t.v),Jp):t.w=_o(e,t.v,Jp)}catch(o){if(r.WTF)throw o}if(r.cellStyles&&n!=null)try{t.s=s.Fills[n],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=r_(i.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),r.WTF&&(t.s.fgColor.raw_rgb=i.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=r_(i.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),r.WTF&&(t.s.bgColor.raw_rgb=i.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(o){if(r.WTF&&s.Fills)throw o}}}function d5e(t,e,n){if(t&&t["!ref"]){var r=Bn(t["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+n+"): "+t["!ref"])}}function f5e(t,e){var n=Bn(e);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(t["!ref"]=pn(n))}var h5e=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,p5e=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,m5e=/<(?:\w:)?hyperlink [^>]*>/mg,g5e=/"(\w*:\w*)"/,y5e=/<(?:\w:)?col\b[^>]*[\/]?>/g,v5e=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,x5e=/<(?:\w:)?pageMargins[^>]*\/>/g,rX=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,b5e=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,_5e=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function w5e(t,e,n,r,i,s,a){if(!t)return t;r||(r={"!id":{}});var o=e.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",u="",f=t.match(p5e);f?(c=t.slice(0,f.index),u=t.slice(f.index+f[0].length)):c=u=t;var h=c.match(rX);h?r6(h[0],o,i,n):(h=c.match(b5e))&&E5e(h[0],h[1]||"",o,i,n);var p=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var v=c.slice(p,p+50).match(g5e);v&&f5e(o,v[1])}var g=c.match(_5e);g&&g[1]&&O5e(g[1],i);var y=[];if(e.cellStyles){var _=c.match(y5e);_&&R5e(y,_)}f&&B5e(f[1],o,e,l,s,a);var x=u.match(v5e);x&&(o["!autofilter"]=F5e(x[0]));var w=[],C=u.match(h5e);if(C)for(p=0;p!=C.length;++p)w[p]=Bn(C[p].slice(C[p].indexOf('"')+1));var S=u.match(m5e);S&&N5e(o,S,r);var R=u.match(x5e);if(R&&(o["!margins"]=k5e(an(R[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=pn(l)),e.sheetRows>0&&o["!ref"]){var D=Bn(o["!ref"]);e.sheetRows<=+D.e.r&&(D.e.r=e.sheetRows-1,D.e.r>l.e.r&&(D.e.r=l.e.r),D.e.r<D.s.r&&(D.s.r=D.e.r),D.e.c>l.e.c&&(D.e.c=l.e.c),D.e.c<D.s.c&&(D.s.c=D.e.c),o["!fullref"]=o["!ref"],o["!ref"]=pn(D))}return y.length>0&&(o["!cols"]=y),w.length>0&&(o["!merges"]=w),o}function T5e(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',n=0;n!=t.length;++n)e+='<mergeCell ref="'+pn(t[n])+'"/>';return e+"</mergeCells>"}function r6(t,e,n,r){var i=an(t);n.Sheets[r]||(n.Sheets[r]={}),i.codeName&&(n.Sheets[r].CodeName=jn(ur(i.codeName)))}function E5e(t,e,n,r,i){r6(t.slice(0,t.indexOf(">")),n,r,i)}function C5e(t,e,n,r,i){var s=!1,a={},o=null;if(r.bookType!=="xlsx"&&e.vbaraw){var l=e.SheetNames[n];try{e.Workbook&&(l=e.Workbook.Sheets[n].CodeName||l)}catch{}s=!0,a.codeName=Pl(ar(l))}if(t&&t["!outline"]){var c={summaryBelow:1,summaryRight:1};t["!outline"].above&&(c.summaryBelow=0),t["!outline"].left&&(c.summaryRight=0),o=(o||"")+Et("outlinePr",null,c)}!s&&!o||(i[i.length]=Et("sheetPr",o,a))}var S5e=["objects","scenarios","selectLockedCells","selectUnlockedCells"],D5e=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function A5e(t){var e={sheet:1};return S5e.forEach(function(n){t[n]!=null&&t[n]&&(e[n]="1")}),D5e.forEach(function(n){t[n]!=null&&!t[n]&&(e[n]="0")}),t.password&&(e.password=XI(t.password).toString(16).toUpperCase()),Et("sheetProtection",null,e)}function N5e(t,e,n){for(var r=Array.isArray(t),i=0;i!=e.length;++i){var s=an(ur(e[i]),!0);if(!s.ref)return;var a=((n||{})["!id"]||[])[s.id];a?(s.Target=a.Target,s.location&&(s.Target+="#"+jn(s.location))):(s.Target="#"+jn(s.location),a={Target:s.Target,TargetMode:"Internal"}),s.Rel=a,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var o=Bn(s.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var u=sn({c,r:l});r?(t[l]||(t[l]=[]),t[l][c]||(t[l][c]={t:"z",v:void 0}),t[l][c].l=s):(t[u]||(t[u]={t:"z",v:void 0}),t[u].l=s)}}}function k5e(t){var e={};return["left","right","top","bottom","header","footer"].forEach(function(n){t[n]&&(e[n]=parseFloat(t[n]))}),e}function I5e(t){return Sf(t),Et("pageMargins",null,t)}function R5e(t,e){for(var n=!1,r=0;r!=e.length;++r){var i=an(e[r],!0);i.hidden&&(i.hidden=Tr(i.hidden));var s=parseInt(i.min,10)-1,a=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!n&&i.width&&(n=!0,YI(i.width)),sd(i);s<=a;)t[s++]=Ar(i)}}function P5e(t,e){for(var n=["<cols>"],r,i=0;i!=e.length;++i)(r=e[i])&&(n[n.length]=Et("col",null,zw(i,r)));return n[n.length]="</cols>",n.join("")}function F5e(t){var e={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return e}function M5e(t,e,n,r){var i=typeof t.ref=="string"?t.ref:pn(t.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var s=n.Workbook.Names,a=xa(i);a.s.r==a.e.r&&(a.e.r=xa(e["!ref"]).e.r,i=pn(a));for(var o=0;o<s.length;++o){var l=s[o];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==r){l.Ref="'"+n.SheetNames[r]+"'!"+i;break}}return o==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+i}),Et("autoFilter",null,{ref:i})}var U5e=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function O5e(t,e){e.Views||(e.Views=[{}]),(t.match(U5e)||[]).forEach(function(n,r){var i=an(n);e.Views[r]||(e.Views[r]={}),+i.zoomScale&&(e.Views[r].zoom=+i.zoomScale),Tr(i.rightToLeft)&&(e.Views[r].RTL=!0)})}function L5e(t,e,n,r){var i={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),Et("sheetViews",Et("sheetView",null,i),{})}function j5e(t,e,n,r){if(t.c&&n["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var i="",s=t.t,a=t.v;if(t.t!=="z")switch(t.t){case"b":i=t.v?"1":"0";break;case"n":i=""+t.v;break;case"e":i=Gc[t.v];break;case"d":r&&r.cellDates?i=Dr(t.v,-1).toISOString():(t=Ar(t),t.t="n",i=""+(t.v=Ri(Dr(t.v)))),typeof t.z>"u"&&(t.z=tn[14]);break;default:i=t.v;break}var o=cs("v",ar(i)),l={r:e},c=bd(r.cellXfs,t,r);switch(c!==0&&(l.s=c),t.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){o=cs("v",""+n6(r.Strings,t.v,r.revStrings)),l.t="s";break}l.t="str";break}if(t.t!=s&&(t.t=s,t.v=a),typeof t.f=="string"&&t.f){var u=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;o=Et("f",ar(t.f),u)+(t.v!=null?o:"")}return t.l&&n["!links"].push([e,t.l]),t.D&&(l.cm=1),Et("c",o,l)}var B5e=(function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,n=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,s=t1("v"),a=t1("f");return function(l,c,u,f,h,p){for(var v=0,g="",y=[],_=[],x=0,w=0,C=0,S="",R,D,N=0,I=0,F,P,k=0,U=0,O=Array.isArray(p.CellXf),H,G=[],X=[],Z=Array.isArray(c),z=[],Q={},B=!1,j=!!u.sheetStubs,q=l.split(e),J=0,Y=q.length;J!=Y;++J){g=q[J].trim();var te=g.length;if(te!==0){var oe=0;e:for(v=0;v<te;++v)switch(g[v]){case">":if(g[v-1]!="/"){++v;break e}if(u&&u.cellStyles){if(D=an(g.slice(oe,v),!0),N=D.r!=null?parseInt(D.r,10):N+1,I=-1,u.sheetRows&&u.sheetRows<N)continue;Q={},B=!1,D.ht&&(B=!0,Q.hpt=parseFloat(D.ht),Q.hpx=Im(Q.hpt)),D.hidden=="1"&&(B=!0,Q.hidden=!0),D.outlineLevel!=null&&(B=!0,Q.level=+D.outlineLevel),B&&(z[N-1]=Q)}break;case"<":oe=v;break}if(oe>=v)break;if(D=an(g.slice(oe,v),!0),N=D.r!=null?parseInt(D.r,10):N+1,I=-1,!(u.sheetRows&&u.sheetRows<N)){f.s.r>N-1&&(f.s.r=N-1),f.e.r<N-1&&(f.e.r=N-1),u&&u.cellStyles&&(Q={},B=!1,D.ht&&(B=!0,Q.hpt=parseFloat(D.ht),Q.hpx=Im(Q.hpt)),D.hidden=="1"&&(B=!0,Q.hidden=!0),D.outlineLevel!=null&&(B=!0,Q.level=+D.outlineLevel),B&&(z[N-1]=Q)),y=g.slice(v).split(t);for(var de=0;de!=y.length&&y[de].trim().charAt(0)=="<";++de);for(y=y.slice(de),v=0;v!=y.length;++v)if(g=y[v].trim(),g.length!==0){if(_=g.match(n),x=v,w=0,C=0,g="<c "+(g.slice(0,1)=="<"?">":"")+g,_!=null&&_.length===2){for(x=0,S=_[1],w=0;w!=S.length&&!((C=S.charCodeAt(w)-64)<1||C>26);++w)x=26*x+C;--x,I=x}else++I;for(w=0;w!=g.length&&g.charCodeAt(w)!==62;++w);if(++w,D=an(g.slice(0,w),!0),D.r||(D.r=sn({r:N-1,c:I})),S=g.slice(w),R={t:""},(_=S.match(s))!=null&&_[1]!==""&&(R.v=jn(_[1])),u.cellFormula){if((_=S.match(a))!=null&&_[1]!==""){if(R.f=jn(ur(_[1])).replace(/\r\n/g,`
`),u.xlfn||(R.f=XO(R.f)),_[0].indexOf('t="array"')>-1)R.F=(S.match(i)||[])[1],R.F.indexOf(":")>-1&&G.push([Bn(R.F),R.F]);else if(_[0].indexOf('t="shared"')>-1){P=an(_[0]);var fe=jn(ur(_[1]));u.xlfn||(fe=XO(fe)),X[parseInt(P.si,10)]=[P,fe,D.r]}}else(_=S.match(/<f[^>]*\/>/))&&(P=an(_[0]),X[P.si]&&(R.f=UIe(X[P.si][1],X[P.si][2],D.r)));var Ce=$r(D.r);for(w=0;w<G.length;++w)Ce.r>=G[w][0].s.r&&Ce.r<=G[w][0].e.r&&Ce.c>=G[w][0].s.c&&Ce.c<=G[w][0].e.c&&(R.F=G[w][1])}if(D.t==null&&R.v===void 0)if(R.f||R.F)R.v=0,R.t="n";else if(j)R.t="z";else continue;else R.t=D.t||"n";switch(f.s.c>I&&(f.s.c=I),f.e.c<I&&(f.e.c=I),R.t){case"n":if(R.v==""||R.v==null){if(!j)continue;R.t="z"}else R.v=parseFloat(R.v);break;case"s":if(typeof R.v>"u"){if(!j)continue;R.t="z"}else F=cy[parseInt(R.v,10)],R.v=F.t,R.r=F.r,u.cellHTML&&(R.h=F.h);break;case"str":R.t="s",R.v=R.v!=null?ur(R.v):"",u.cellHTML&&(R.h=MI(R.v));break;case"inlineStr":_=S.match(r),R.t="s",_!=null&&(F=JI(_[1]))?(R.v=F.t,u.cellHTML&&(R.h=F.h)):R.v="";break;case"b":R.v=Tr(R.v);break;case"d":u.cellDates?R.v=Dr(R.v,1):(R.v=Ri(Dr(R.v,1)),R.t="n");break;case"e":(!u||u.cellText!==!1)&&(R.w=R.v),R.v=sJ[R.v];break}if(k=U=0,H=null,O&&D.s!==void 0&&(H=p.CellXf[D.s],H!=null&&(H.numFmtId!=null&&(k=H.numFmtId),u.cellStyles&&H.fillId!=null&&(U=H.fillId))),nX(R,k,U,u,h,p),u.cellDates&&O&&R.t=="n"&&lg(tn[k])&&(R.t="d",R.v=Vw(R.v)),D.cm&&u.xlmeta){var Pe=(u.xlmeta.Cell||[])[+D.cm-1];Pe&&Pe.type=="XLDAPR"&&(R.D=!0)}if(Z){var pe=$r(D.r);c[pe.r]||(c[pe.r]=[]),c[pe.r][pe.c]=R}else c[D.r]=R}}}}z.length>0&&(c["!rows"]=z)}})();function V5e(t,e,n,r){var i=[],s=[],a=Bn(t["!ref"]),o="",l,c="",u=[],f=0,h=0,p=t["!rows"],v=Array.isArray(t),g={r:c},y,_=-1;for(h=a.s.c;h<=a.e.c;++h)u[h]=qr(h);for(f=a.s.r;f<=a.e.r;++f){for(s=[],c=fi(f),h=a.s.c;h<=a.e.c;++h){l=u[h]+c;var x=v?(t[f]||[])[h]:t[l];x!==void 0&&(o=j5e(x,l,t,e))!=null&&s.push(o)}(s.length>0||p&&p[f])&&(g={r:c},p&&p[f]&&(y=p[f],y.hidden&&(g.hidden=1),_=-1,y.hpx?_=l1(y.hpx):y.hpt&&(_=y.hpt),_>-1&&(g.ht=_,g.customHeight=1),y.level&&(g.outlineLevel=y.level)),i[i.length]=Et("row",s.join(""),g))}if(p)for(;f<p.length;++f)p&&p[f]&&(g={r:f+1},y=p[f],y.hidden&&(g.hidden=1),_=-1,y.hpx?_=l1(y.hpx):y.hpt&&(_=y.hpt),_>-1&&(g.ht=_,g.customHeight=1),y.level&&(g.outlineLevel=y.level),i[i.length]=Et("row","",g));return i.join("")}function iX(t,e,n,r){var i=[pi,Et("worksheet",null,{xmlns:mh[0],"xmlns:r":ki.r})],s=n.SheetNames[t],a=0,o="",l=n.Sheets[s];l==null&&(l={});var c=l["!ref"]||"A1",u=Bn(c);if(u.e.c>16383||u.e.r>1048575){if(e.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),c=pn(u)}r||(r={}),l["!comments"]=[];var f=[];C5e(l,n,t,e,i),i[i.length]=Et("dimension",null,{ref:c}),i[i.length]=L5e(l,e,t,n),e.sheetFormat&&(i[i.length]=Et("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(i[i.length]=P5e(l,l["!cols"])),i[a=i.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(o=V5e(l,e),o.length>0&&(i[i.length]=o)),i.length>a+1&&(i[i.length]="</sheetData>",i[a]=i[a].replace("/>",">")),l["!protect"]&&(i[i.length]=A5e(l["!protect"])),l["!autofilter"]!=null&&(i[i.length]=M5e(l["!autofilter"],l,n,t)),l["!merges"]!=null&&l["!merges"].length>0&&(i[i.length]=T5e(l["!merges"]));var h=-1,p,v=-1;return l["!links"].length>0&&(i[i.length]="<hyperlinks>",l["!links"].forEach(function(g){g[1].Target&&(p={ref:g[0]},g[1].Target.charAt(0)!="#"&&(v=ir(r,-1,ar(g[1].Target).replace(/#.*$/,""),Tn.HLINK),p["r:id"]="rId"+v),(h=g[1].Target.indexOf("#"))>-1&&(p.location=ar(g[1].Target.slice(h+1))),g[1].Tooltip&&(p.tooltip=ar(g[1].Tooltip)),i[i.length]=Et("hyperlink",null,p))}),i[i.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(i[i.length]=I5e(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=cs("ignoredErrors",Et("ignoredError",null,{numberStoredAsText:1,sqref:c}))),f.length>0&&(v=ir(r,-1,"../drawings/drawing"+(t+1)+".xml",Tn.DRAW),i[i.length]=Et("drawing",null,{"r:id":"rId"+v}),l["!drawing"]=f),l["!comments"].length>0&&(v=ir(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Tn.VML),i[i.length]=Et("legacyDrawing",null,{"r:id":"rId"+v}),l["!legacy"]=v),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function W5e(t,e){var n={},r=t.l+e;n.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var s=t.read_shift(1);return t.l=r,s&7&&(n.level=s&7),s&16&&(n.hidden=!0),s&32&&(n.hpt=i/20),n}function q5e(t,e,n){var r=it(145),i=(n["!rows"]||[])[t]||{};r.write_shift(4,t),r.write_shift(4,0);var s=320;i.hpx?s=l1(i.hpx)*20:i.hpt&&(s=i.hpt*20),r.write_shift(2,s),r.write_shift(1,0);var a=0;i.level&&(a|=i.level),i.hidden&&(a|=16),(i.hpx||i.hpt)&&(a|=32),r.write_shift(1,a),r.write_shift(1,0);var o=0,l=r.l;r.l+=4;for(var c={r:t,c:0},u=0;u<16;++u)if(!(e.s.c>u+1<<10||e.e.c<u<<10)){for(var f=-1,h=-1,p=u<<10;p<u+1<<10;++p){c.c=p;var v=Array.isArray(n)?(n[c.r]||[])[c.c]:n[sn(c)];v&&(f<0&&(f=p),h=p)}f<0||(++o,r.write_shift(4,f),r.write_shift(4,h))}var g=r.l;return r.l=l,r.write_shift(4,o),r.l=g,r.length>r.l?r.slice(0,r.l):r}function $5e(t,e,n,r){var i=q5e(r,n,e);(i.length>17||(e["!rows"]||[])[r])&&ct(t,0,i)}var z5e=xh,H5e=dg;function G5e(){}function K5e(t,e){var n={},r=t[t.l];return++t.l,n.above=!(r&64),n.left=!(r&128),t.l+=18,n.name=YDe(t),n}function J5e(t,e,n){n==null&&(n=it(84+4*t.length));var r=192;e&&(e.above&&(r&=-65),e.left&&(r&=-129)),n.write_shift(1,r);for(var i=1;i<3;++i)n.write_shift(1,0);return e_({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),eJ(t,n),n.slice(0,n.l)}function X5e(t){var e=Co(t);return[e]}function Y5e(t,e,n){return n==null&&(n=it(8)),gh(e,n)}function Q5e(t){var e=yh(t);return[e]}function Z5e(t,e,n){return n==null&&(n=it(4)),vh(e,n)}function eRe(t){var e=Co(t),n=t.read_shift(1);return[e,n,"b"]}function tRe(t,e,n){return n==null&&(n=it(9)),gh(e,n),n.write_shift(1,t.v?1:0),n}function nRe(t){var e=yh(t),n=t.read_shift(1);return[e,n,"b"]}function rRe(t,e,n){return n==null&&(n=it(5)),vh(e,n),n.write_shift(1,t.v?1:0),n}function iRe(t){var e=Co(t),n=t.read_shift(1);return[e,n,"e"]}function sRe(t,e,n){return n==null&&(n=it(9)),gh(e,n),n.write_shift(1,t.v),n}function aRe(t){var e=yh(t),n=t.read_shift(1);return[e,n,"e"]}function oRe(t,e,n){return n==null&&(n=it(8)),vh(e,n),n.write_shift(1,t.v),n.write_shift(2,0),n.write_shift(1,0),n}function lRe(t){var e=Co(t),n=t.read_shift(4);return[e,n,"s"]}function cRe(t,e,n){return n==null&&(n=it(12)),gh(e,n),n.write_shift(4,e.v),n}function uRe(t){var e=yh(t),n=t.read_shift(4);return[e,n,"s"]}function dRe(t,e,n){return n==null&&(n=it(8)),vh(e,n),n.write_shift(4,e.v),n}function fRe(t){var e=Co(t),n=Ss(t);return[e,n,"n"]}function hRe(t,e,n){return n==null&&(n=it(16)),gh(e,n),Jf(t.v,n),n}function sX(t){var e=yh(t),n=Ss(t);return[e,n,"n"]}function pRe(t,e,n){return n==null&&(n=it(12)),vh(e,n),Jf(t.v,n),n}function mRe(t){var e=Co(t),n=$I(t);return[e,n,"n"]}function gRe(t,e,n){return n==null&&(n=it(12)),gh(e,n),tJ(t.v,n),n}function yRe(t){var e=yh(t),n=$I(t);return[e,n,"n"]}function vRe(t,e,n){return n==null&&(n=it(8)),vh(e,n),tJ(t.v,n),n}function xRe(t){var e=Co(t),n=VI(t);return[e,n,"is"]}function bRe(t){var e=Co(t),n=Rs(t);return[e,n,"str"]}function _Re(t,e,n){return n==null&&(n=it(12+4*t.v.length)),gh(e,n),Xi(t.v,n),n.length>n.l?n.slice(0,n.l):n}function wRe(t){var e=yh(t),n=Rs(t);return[e,n,"str"]}function TRe(t,e,n){return n==null&&(n=it(8+4*t.v.length)),vh(e,n),Xi(t.v,n),n.length>n.l?n.slice(0,n.l):n}function ERe(t,e,n){var r=t.l+e,i=Co(t);i.r=n["!row"];var s=t.read_shift(1),a=[i,s,"b"];if(n.cellFormula){t.l+=2;var o=$w(t,r-t.l,n);a[3]=Ts(o,null,i,n.supbooks,n)}else t.l=r;return a}function CRe(t,e,n){var r=t.l+e,i=Co(t);i.r=n["!row"];var s=t.read_shift(1),a=[i,s,"e"];if(n.cellFormula){t.l+=2;var o=$w(t,r-t.l,n);a[3]=Ts(o,null,i,n.supbooks,n)}else t.l=r;return a}function SRe(t,e,n){var r=t.l+e,i=Co(t);i.r=n["!row"];var s=Ss(t),a=[i,s,"n"];if(n.cellFormula){t.l+=2;var o=$w(t,r-t.l,n);a[3]=Ts(o,null,i,n.supbooks,n)}else t.l=r;return a}function DRe(t,e,n){var r=t.l+e,i=Co(t);i.r=n["!row"];var s=Rs(t),a=[i,s,"str"];if(n.cellFormula){t.l+=2;var o=$w(t,r-t.l,n);a[3]=Ts(o,null,i,n.supbooks,n)}else t.l=r;return a}var ARe=xh,NRe=dg;function kRe(t,e){return e==null&&(e=it(4)),e.write_shift(4,t),e}function IRe(t,e){var n=t.l+e,r=xh(t),i=WI(t),s=Rs(t),a=Rs(t),o=Rs(t);t.l=n;var l={rfx:r,relId:i,loc:s,display:o};return a&&(l.Tooltip=a),l}function RRe(t,e){var n=it(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));dg({s:$r(t[0]),e:$r(t[0])},n),qI("rId"+e,n);var r=t[1].Target.indexOf("#"),i=r==-1?"":t[1].Target.slice(r+1);return Xi(i||"",n),Xi(t[1].Tooltip||"",n),Xi("",n),n.slice(0,n.l)}function PRe(){}function FRe(t,e,n){var r=t.l+e,i=nJ(t),s=t.read_shift(1),a=[i];if(a[2]=s,n.cellFormula){var o=i5e(t,r-t.l,n);a[1]=o}else t.l=r;return a}function MRe(t,e,n){var r=t.l+e,i=xh(t),s=[i];if(n.cellFormula){var a=a5e(t,r-t.l,n);s[1]=a,t.l=r}else t.l=r;return s}function URe(t,e,n){n==null&&(n=it(18));var r=zw(t,e);n.write_shift(-4,t),n.write_shift(-4,t),n.write_shift(4,(r.width||10)*256),n.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof r.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),n.write_shift(2,i),n}var aX=["left","right","top","bottom","header","footer"];function ORe(t){var e={};return aX.forEach(function(n){e[n]=Ss(t)}),e}function LRe(t,e){return e==null&&(e=it(48)),Sf(t),aX.forEach(function(n){Jf(t[n],e)}),e}function jRe(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function BRe(t,e,n){n==null&&(n=it(30));var r=924;return(((e||{}).Views||[])[0]||{}).RTL&&(r|=32),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}function VRe(t){var e=it(24);return e.write_shift(4,4),e.write_shift(4,1),dg(t,e),e}function WRe(t,e){return e==null&&(e=it(66)),e.write_shift(2,t.password?XI(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(n){n[1]?e.write_shift(4,t[n[0]]!=null&&!t[n[0]]?1:0):e.write_shift(4,t[n[0]]!=null&&t[n[0]]?0:1)}),e}function qRe(){}function $Re(){}function zRe(t,e,n,r,i,s,a){if(!t)return t;var o=e||{};r||(r={"!id":{}});var l=o.dense?[]:{},c,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,p,v,g,y,_,x,w,C,S,R=[];o.biff=12,o["!row"]=0;var D=0,N=!1,I=[],F={},P=o.supbooks||i.supbooks||[[]];if(P.sharedf=F,P.arrayf=I,P.SheetNames=i.SheetNames||i.Sheets.map(function(Z){return Z.name}),!o.supbooks&&(o.supbooks=P,i.Names))for(var k=0;k<i.Names.length;++k)P[0][k+1]=i.Names[k];var U=[],O=[],H=!1;c1[16]={n:"BrtShortReal",f:sX};var G;if(Hc(t,function(z,Q,B){if(!h)switch(B){case 148:c=z;break;case 0:p=z,o.sheetRows&&o.sheetRows<=p.r&&(h=!0),C=fi(y=p.r),o["!row"]=p.r,(z.hidden||z.hpt||z.level!=null)&&(z.hpt&&(z.hpx=Im(z.hpt)),O[z.r]=z);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(v={t:z[2]},z[2]){case"n":v.v=z[1];break;case"s":w=cy[z[1]],v.v=w.t,v.r=w.r;break;case"b":v.v=!!z[1];break;case"e":v.v=z[1],o.cellText!==!1&&(v.w=Gc[v.v]);break;case"str":v.t="s",v.v=z[1];break;case"is":v.t="s",v.v=z[1].t;break}if((g=a.CellXf[z[0].iStyleRef])&&nX(v,g.numFmtId,null,o,s,a),_=z[0].c==-1?_+1:z[0].c,o.dense?(l[y]||(l[y]=[]),l[y][_]=v):l[qr(_)+C]=v,o.cellFormula){for(N=!1,D=0;D<I.length;++D){var j=I[D];p.r>=j[0].s.r&&p.r<=j[0].e.r&&_>=j[0].s.c&&_<=j[0].e.c&&(v.F=pn(j[0]),N=!0)}!N&&z.length>3&&(v.f=z[3])}if(u.s.r>p.r&&(u.s.r=p.r),u.s.c>_&&(u.s.c=_),u.e.r<p.r&&(u.e.r=p.r),u.e.c<_&&(u.e.c=_),o.cellDates&&g&&v.t=="n"&&lg(tn[g.numFmtId])){var q=gf(v.v);q&&(v.t="d",v.v=new Date(q.y,q.m-1,q.d,q.H,q.M,q.S,q.u))}G&&(G.type=="XLDAPR"&&(v.D=!0),G=void 0);break;case 1:case 12:if(!o.sheetStubs||f)break;v={t:"z",v:void 0},_=z[0].c==-1?_+1:z[0].c,o.dense?(l[y]||(l[y]=[]),l[y][_]=v):l[qr(_)+C]=v,u.s.r>p.r&&(u.s.r=p.r),u.s.c>_&&(u.s.c=_),u.e.r<p.r&&(u.e.r=p.r),u.e.c<_&&(u.e.c=_),G&&(G.type=="XLDAPR"&&(v.D=!0),G=void 0);break;case 176:R.push(z);break;case 49:G=((o.xlmeta||{}).Cell||[])[z-1];break;case 494:var J=r["!id"][z.relId];for(J?(z.Target=J.Target,z.loc&&(z.Target+="#"+z.loc),z.Rel=J):z.relId==""&&(z.Target="#"+z.loc),y=z.rfx.s.r;y<=z.rfx.e.r;++y)for(_=z.rfx.s.c;_<=z.rfx.e.c;++_)o.dense?(l[y]||(l[y]=[]),l[y][_]||(l[y][_]={t:"z",v:void 0}),l[y][_].l=z):(x=sn({c:_,r:y}),l[x]||(l[x]={t:"z",v:void 0}),l[x].l=z);break;case 426:if(!o.cellFormula)break;I.push(z),S=o.dense?l[y][_]:l[qr(_)+C],S.f=Ts(z[1],u,{r:p.r,c:_},P,o),S.F=pn(z[0]);break;case 427:if(!o.cellFormula)break;F[sn(z[0].s)]=z[1],S=o.dense?l[y][_]:l[qr(_)+C],S.f=Ts(z[1],u,{r:p.r,c:_},P,o);break;case 60:if(!o.cellStyles)break;for(;z.e>=z.s;)U[z.e--]={width:z.w/256,hidden:!!(z.flags&1),level:z.level},H||(H=!0,YI(z.w/256)),sd(U[z.e+1]);break;case 161:l["!autofilter"]={ref:pn(z)};break;case 476:l["!margins"]=z;break;case 147:i.Sheets[n]||(i.Sheets[n]={}),z.name&&(i.Sheets[n].CodeName=z.name),(z.above||z.left)&&(l["!outline"]={above:z.above,left:z.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),z.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!Q.T){if(!f||o.WTF)throw new Error("Unexpected record 0x"+B.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(u.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=pn(c||u)),o.sheetRows&&l["!ref"]){var X=Bn(l["!ref"]);o.sheetRows<=+X.e.r&&(X.e.r=o.sheetRows-1,X.e.r>u.e.r&&(X.e.r=u.e.r),X.e.r<X.s.r&&(X.s.r=X.e.r),X.e.c>u.e.c&&(X.e.c=u.e.c),X.e.c<X.s.c&&(X.s.c=X.e.c),l["!fullref"]=l["!ref"],l["!ref"]=pn(X))}return R.length>0&&(l["!merges"]=R),U.length>0&&(l["!cols"]=U),O.length>0&&(l["!rows"]=O),l}function HRe(t,e,n,r,i,s,a){if(e.v===void 0)return!1;var o="";switch(e.t){case"b":o=e.v?"1":"0";break;case"d":e=Ar(e),e.z=e.z||tn[14],e.v=Ri(Dr(e.v)),e.t="n";break;case"n":case"e":o=""+e.v;break;default:o=e.v;break}var l={r:n,c:r};switch(l.s=bd(i.cellXfs,e,i),e.l&&s["!links"].push([sn(l),e.l]),e.c&&s["!comments"].push([sn(l),e.c]),e.t){case"s":case"str":return i.bookSST?(o=n6(i.Strings,e.v,i.revStrings),l.t="s",l.v=o,a?ct(t,18,dRe(e,l)):ct(t,7,cRe(e,l))):(l.t="str",a?ct(t,17,TRe(e,l)):ct(t,6,_Re(e,l))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?a?ct(t,13,vRe(e,l)):ct(t,2,gRe(e,l)):a?ct(t,16,pRe(e,l)):ct(t,5,hRe(e,l)),!0;case"b":return l.t="b",a?ct(t,15,rRe(e,l)):ct(t,4,tRe(e,l)),!0;case"e":return l.t="e",a?ct(t,14,oRe(e,l)):ct(t,3,sRe(e,l)),!0}return a?ct(t,12,Z5e(e,l)):ct(t,1,Y5e(e,l)),!0}function GRe(t,e,n,r){var i=Bn(e["!ref"]||"A1"),s,a="",o=[];ct(t,145);var l=Array.isArray(e),c=i.e.r;e["!rows"]&&(c=Math.max(i.e.r,e["!rows"].length-1));for(var u=i.s.r;u<=c;++u){a=fi(u),$5e(t,e,i,u);var f=!1;if(u<=i.e.r)for(var h=i.s.c;h<=i.e.c;++h){u===i.s.r&&(o[h]=qr(h)),s=o[h]+a;var p=l?(e[u]||[])[h]:e[s];if(!p){f=!1;continue}f=HRe(t,p,u,h,r,e,f)}}ct(t,146)}function KRe(t,e){!e||!e["!merges"]||(ct(t,177,kRe(e["!merges"].length)),e["!merges"].forEach(function(n){ct(t,176,NRe(n))}),ct(t,178))}function JRe(t,e){!e||!e["!cols"]||(ct(t,390),e["!cols"].forEach(function(n,r){n&&ct(t,60,URe(r,n))}),ct(t,391))}function XRe(t,e){!e||!e["!ref"]||(ct(t,648),ct(t,649,VRe(Bn(e["!ref"]))),ct(t,650))}function YRe(t,e,n){e["!links"].forEach(function(r){if(r[1].Target){var i=ir(n,-1,r[1].Target.replace(/#.*$/,""),Tn.HLINK);ct(t,494,RRe(r,i))}}),delete e["!links"]}function QRe(t,e,n,r){if(e["!comments"].length>0){var i=ir(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",Tn.VML);ct(t,551,qI("rId"+i)),e["!legacy"]=i}}function ZRe(t,e,n,r){if(e["!autofilter"]){var i=e["!autofilter"],s=typeof i.ref=="string"?i.ref:pn(i.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var a=n.Workbook.Names,o=xa(s);o.s.r==o.e.r&&(o.e.r=xa(e["!ref"]).e.r,s=pn(o));for(var l=0;l<a.length;++l){var c=a[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==r){c.Ref="'"+n.SheetNames[r]+"'!"+s;break}}l==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+s}),ct(t,161,dg(Bn(s))),ct(t,162)}}function ePe(t,e,n){ct(t,133),ct(t,137,BRe(e,n)),ct(t,138),ct(t,134)}function tPe(t,e){e["!protect"]&&ct(t,535,WRe(e["!protect"]))}function nPe(t,e,n,r){var i=va(),s=n.SheetNames[t],a=n.Sheets[s]||{},o=s;try{n&&n.Workbook&&(o=n.Workbook.Sheets[t].CodeName||o)}catch{}var l=Bn(a["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return a["!links"]=[],a["!comments"]=[],ct(i,129),(n.vbaraw||a["!outline"])&&ct(i,147,J5e(o,a["!outline"])),ct(i,148,H5e(l)),ePe(i,a,n.Workbook),JRe(i,a),GRe(i,a,t,e),tPe(i,a),ZRe(i,a,n,t),KRe(i,a),YRe(i,a,r),a["!margins"]&&ct(i,476,LRe(a["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&XRe(i,a),QRe(i,a,t,r),ct(i,130),i.end()}function rPe(t){var e=[],n=t.match(/^<c:numCache>/),r;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var a=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);a&&(e[+a[1]]=n?+a[2]:a[2])});var i=jn((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){r=s.replace(/<.*?>/g,"")}),[e,i,r]}function iPe(t,e,n,r,i,s){var a=s||{"!type":"chart"};if(!t)return s;var o=0,l=0,c="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=rPe(f);u.s.r=u.s.c=0,u.e.c=o,c=qr(o),h[0].forEach(function(p,v){a[c+fi(v)]={t:"n",v:p,z:h[1]},l=v}),u.e.r<l&&(u.e.r=l),++o}),o>0&&(a["!ref"]=pn(u)),a}function sPe(t,e,n,r,i){if(!t)return t;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},a,o=t.match(rX);return o&&r6(o[0],s,i,n),(a=t.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=a[1]),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}function aPe(t,e){t.l+=10;var n=Rs(t);return{name:n}}function oPe(t,e,n,r,i){if(!t)return t;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},a=!1;return Hc(t,function(l,c,u){switch(u){case 550:s["!rel"]=l;break;case 651:i.Sheets[n]||(i.Sheets[n]={}),l.name&&(i.Sheets[n].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!a||e.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},e),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}var i6=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],lPe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],cPe=[],uPe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function tL(t,e){for(var n=0;n!=t.length;++n)for(var r=t[n],i=0;i!=e.length;++i){var s=e[i];if(r[s[0]]==null)r[s[0]]=s[1];else switch(s[2]){case"bool":typeof r[s[0]]=="string"&&(r[s[0]]=Tr(r[s[0]]));break;case"int":typeof r[s[0]]=="string"&&(r[s[0]]=parseInt(r[s[0]],10));break}}}function nL(t,e){for(var n=0;n!=e.length;++n){var r=e[n];if(t[r[0]]==null)t[r[0]]=r[1];else switch(r[2]){case"bool":typeof t[r[0]]=="string"&&(t[r[0]]=Tr(t[r[0]]));break;case"int":typeof t[r[0]]=="string"&&(t[r[0]]=parseInt(t[r[0]],10));break}}}function oX(t){nL(t.WBProps,i6),nL(t.CalcPr,uPe),tL(t.WBView,lPe),tL(t.Sheets,cPe),Jp.date1904=Tr(t.WBProps.date1904)}function dPe(t){return!t.Workbook||!t.Workbook.WBProps?"false":Tr(t.Workbook.WBProps.date1904)?"true":"false"}var fPe="][*?/\\".split("");function lX(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return fPe.forEach(function(r){if(t.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}function hPe(t,e,n){t.forEach(function(r,i){lX(r);for(var s=0;s<i;++s)if(r==t[s])throw new Error("Duplicate Sheet Name: "+r);if(n){var a=e&&e[i]&&e[i].CodeName||r;if(a.charCodeAt(0)==95&&a.length>22)throw new Error("Bad Code Name: Worksheet"+a)}})}function pPe(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];hPe(t.SheetNames,e,!!t.vbaraw);for(var n=0;n<t.SheetNames.length;++n)d5e(t.Sheets[t.SheetNames[n]],t.SheetNames[n],n)}var mPe=/<\w+:workbook/;function gPe(t,e){if(!t)throw new Error("Could not find file");var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,i="xmlns",s={},a=0;if(t.replace(Us,function(l,c){var u=an(l);switch(Gl(u[0])){case"<?xml":break;case"<workbook":l.match(mPe)&&(i="xmlns"+l.match(/<(\w+):/)[1]),n.xmlns=u[i];break;case"</workbook>":break;case"<fileVersion":delete u[0],n.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":i6.forEach(function(f){if(u[f[0]]!=null)switch(f[2]){case"bool":n.WBProps[f[0]]=Tr(u[f[0]]);break;case"int":n.WBProps[f[0]]=parseInt(u[f[0]],10);break;default:n.WBProps[f[0]]=u[f[0]]}}),u.codeName&&(n.WBProps.CodeName=ur(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],n.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=jn(ur(u.name)),delete u[0],n.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":r=!0;break;case"</definedNames>":r=!1;break;case"<definedName":s={},s.Name=ur(u.name),u.comment&&(s.Comment=u.comment),u.localSheetId&&(s.Sheet=+u.localSheetId),Tr(u.hidden||"0")&&(s.Hidden=!0),a=c+l.length;break;case"</definedName>":s.Ref=jn(ur(t.slice(a,c))),n.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete u[0],n.CalcPr=u;break;case"<calcPr/>":delete u[0],n.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<revisionPtr":break;default:if(!r&&e.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return l}),mh.indexOf(n.xmlns)===-1)throw new Error("Unknown Namespace: "+n.xmlns);return oX(n),n}function cX(t){var e=[pi];e[e.length]=Et("workbook",null,{xmlns:mh[0],"xmlns:r":ki.r});var n=t.Workbook&&(t.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(i6.forEach(function(o){t.Workbook.WBProps[o[0]]!=null&&t.Workbook.WBProps[o[0]]!=o[1]&&(r[o[0]]=t.Workbook.WBProps[o[0]])}),t.Workbook.WBProps.CodeName&&(r.codeName=t.Workbook.WBProps.CodeName,delete r.CodeName)),e[e.length]=Et("workbookPr",null,r);var i=t.Workbook&&t.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=t.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==t.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=t.SheetNames.length;++s){var a={name:ar(t.SheetNames[s].slice(0,31))};if(a.sheetId=""+(s+1),a["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:a.state="hidden";break;case 2:a.state="veryHidden";break}e[e.length]=Et("sheet",null,a)}return e[e.length]="</sheets>",n&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(o){var l={name:o.Name};o.Comment&&(l.comment=o.Comment),o.Sheet!=null&&(l.localSheetId=""+o.Sheet),o.Hidden&&(l.hidden="1"),o.Ref&&(e[e.length]=Et("definedName",ar(o.Ref),l))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function yPe(t,e){var n={};return n.Hidden=t.read_shift(4),n.iTabID=t.read_shift(4),n.strRelID=c3(t),n.name=Rs(t),n}function vPe(t,e){return e||(e=it(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),qI(t.strRelID,e),Xi(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function xPe(t,e){var n={},r=t.read_shift(4);n.defaultThemeVersion=t.read_shift(4);var i=e>8?Rs(t):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function bPe(t,e){e||(e=it(72));var n=0;return t&&t.filterPrivacy&&(n|=8),e.write_shift(4,n),e.write_shift(4,0),eJ(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function _Pe(t,e){var n={};return t.read_shift(4),n.ArchID=t.read_shift(4),t.l+=e-8,n}function wPe(t,e,n){var r=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),s=QDe(t),a=s5e(t,0,n),o=WI(t);t.l=r;var l={Name:s,Ptg:a};return i<268435455&&(l.Sheet=i),o&&(l.Comment=o),l}function TPe(t,e){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],i=!1;e||(e={}),e.biff=12;var s=[],a=[[]];return a.SheetNames=[],a.XTI=[],c1[16]={n:"BrtFRTArchID$",f:_Pe},Hc(t,function(l,c,u){switch(u){case 156:a.SheetNames.push(l.name),n.Sheets.push(l);break;case 153:n.WBProps=l;break;case 39:l.Sheet!=null&&(e.SID=l.Sheet),l.Ref=Ts(l.Ptg,null,null,a,e),delete e.SID,delete l.Ptg,s.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:a[0].length?a.push([u,l]):a[0]=[u,l],a[a.length-1].XTI=[];break;case 362:a.length===0&&(a[0]=[],a[0].XTI=[]),a[a.length-1].XTI=a[a.length-1].XTI.concat(l),a.XTI=a.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:r.push(u),i=!0;break;case 36:r.pop(),i=!1;break;case 37:r.push(u),i=!0;break;case 38:r.pop(),i=!1;break;case 16:break;default:if(!c.T){if(!i||e.WTF&&r[r.length-1]!=37&&r[r.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},e),oX(n),n.Names=s,n.supbooks=a,n}function EPe(t,e){ct(t,143);for(var n=0;n!=e.SheetNames.length;++n){var r=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[n]&&e.Workbook.Sheets[n].Hidden||0,i={Hidden:r,iTabID:n+1,strRelID:"rId"+(n+1),name:e.SheetNames[n]};ct(t,156,vPe(i))}ct(t,144)}function CPe(t,e){e||(e=it(127));for(var n=0;n!=4;++n)e.write_shift(4,0);return Xi("SheetJS",e),Xi(Gb.version,e),Xi(Gb.version,e),Xi("7262",e),e.length>e.l?e.slice(0,e.l):e}function SPe(t,e){e||(e=it(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var n=120;return e.write_shift(1,n),e.length>e.l?e.slice(0,e.l):e}function DPe(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var n=e.Workbook.Sheets,r=0,i=-1,s=-1;r<n.length;++r)!n[r]||!n[r].Hidden&&i==-1?i=r:n[r].Hidden==1&&s==-1&&(s=r);s>i||(ct(t,135),ct(t,158,SPe(i)),ct(t,136))}}function APe(t,e){var n=va();return ct(n,131),ct(n,128,CPe()),ct(n,153,bPe(t.Workbook&&t.Workbook.WBProps||null)),DPe(n,t),EPe(n,t),ct(n,132),n.end()}function NPe(t,e,n){return e.slice(-4)===".bin"?TPe(t,n):gPe(t,n)}function kPe(t,e,n,r,i,s,a,o){return e.slice(-4)===".bin"?zRe(t,r,n,i,s,a,o):w5e(t,r,n,i,s,a,o)}function IPe(t,e,n,r,i,s,a,o){return e.slice(-4)===".bin"?oPe(t,r,n,i,s):sPe(t,r,n,i,s)}function RPe(t,e,n,r,i,s,a,o){return e.slice(-4)===".bin"?FIe():MIe()}function PPe(t,e,n,r,i,s,a,o){return e.slice(-4)===".bin"?RIe():PIe()}function FPe(t,e,n,r){return e.slice(-4)===".bin"?Nke(t,n,r):yke(t,n,r)}function MPe(t,e,n){return qJ(t,n)}function UPe(t,e,n){return e.slice(-4)===".bin"?UNe(t,n):PNe(t,n)}function OPe(t,e,n){return e.slice(-4)===".bin"?DIe(t,n):vIe(t,n)}function LPe(t,e,n){return e.slice(-4)===".bin"?mIe(t):hIe(t)}function jPe(t,e,n,r){return n.slice(-4)===".bin"?gIe(t,e,n,r):void 0}function BPe(t,e,n){return e.slice(-4)===".bin"?uIe(t,e,n):fIe(t,e,n)}function VPe(t,e,n){return(e.slice(-4)===".bin"?APe:cX)(t)}function WPe(t,e,n,r,i){return(e.slice(-4)===".bin"?nPe:iX)(t,n,r,i)}function qPe(t,e,n){return(e.slice(-4)===".bin"?jke:VJ)(t,n)}function $Pe(t,e,n){return(e.slice(-4)===".bin"?jNe:PJ)(t,n)}function zPe(t,e,n){return(e.slice(-4)===".bin"?AIe:HJ)(t)}function HPe(t){return(t.slice(-4)===".bin"?dIe:$J)()}var uX=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,dX=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Bo(t,e){var n=t.split(/\s+/),r=[];if(r[0]=n[0],n.length===1)return r;var i=t.match(uX),s,a,o,l;if(i)for(l=0;l!=i.length;++l)s=i[l].match(dX),(a=s[1].indexOf(":"))===-1?r[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?o="xmlns"+s[1].slice(6):o=s[1].slice(a+1),r[o]=s[2].slice(1,s[2].length-1));return r}function GPe(t){var e=t.split(/\s+/),n={};if(e.length===1)return n;var r=t.match(uX),i,s,a,o;if(r)for(o=0;o!=r.length;++o)i=r[o].match(dX),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?a="xmlns"+i[1].slice(6):a=i[1].slice(s+1),n[a]=i[2].slice(1,i[2].length-1));return n}var dy;function KPe(t,e){var n=dy[t]||jn(t);return n==="General"?Gf(e):_o(n,e)}function JPe(t,e,n,r){var i=r;switch((n[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=Tr(r);break;case"i2":case"int":i=parseInt(r,10);break;case"r4":case"float":i=parseFloat(r);break;case"date":case"dateTime.tz":i=Dr(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+n[0])}t[jn(e)]=i}function XPe(t,e,n){if(t.t!=="z"){if(!n||n.cellText!==!1)try{t.t==="e"?t.w=t.w||Gc[t.v]:e==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=e1(t.v):t.w=Gf(t.v):t.w=KPe(e||"General",t.v)}catch(s){if(n.WTF)throw s}try{var r=dy[e]||e||"General";if(n.cellNF&&(t.z=r),n.cellDates&&t.t=="n"&&lg(r)){var i=gf(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(s){if(n.WTF)throw s}}}function YPe(t,e,n){if(n.cellStyles&&e.Interior){var r=e.Interior;r.Pattern&&(r.patternType=cke[r.Pattern]||r.Pattern)}t[e.ID]=e}function QPe(t,e,n,r,i,s,a,o,l,c){var u="General",f=r.StyleID,h={};c=c||{};var p=[],v=0;for(f===void 0&&o&&(f=o.StyleID),f===void 0&&a&&(f=a.StyleID);s[f]!==void 0&&(s[f].nf&&(u=s[f].nf),s[f].Interior&&p.push(s[f].Interior),!!s[f].Parent);)f=s[f].Parent;switch(n.Type){case"Boolean":r.t="b",r.v=Tr(t);break;case"String":r.t="s",r.r=xO(jn(t)),r.v=t.indexOf("<")>-1?jn(e||t).replace(/<.*?>/g,""):r.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),r.v=(Dr(t)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),r.v!==r.v?r.v=jn(t):r.v<60&&(r.v=r.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":r.v===void 0&&(r.v=+t),r.t||(r.t="n");break;case"Error":r.t="e",r.v=sJ[t],c.cellText!==!1&&(r.w=t);break;default:t==""&&e==""?r.t="z":(r.t="s",r.v=xO(e||t));break}if(XPe(r,u,c),c.cellFormula!==!1)if(r.Formula){var g=jn(r.Formula);g.charCodeAt(0)==61&&(g=g.slice(1)),r.f=Kp(g,i),delete r.Formula,r.ArrayRange=="RC"?r.F=Kp("RC:RC",i):r.ArrayRange&&(r.F=Kp(r.ArrayRange,i),l.push([Bn(r.F),r.F]))}else for(v=0;v<l.length;++v)i.r>=l[v][0].s.r&&i.r<=l[v][0].e.r&&i.c>=l[v][0].s.c&&i.c<=l[v][0].e.c&&(r.F=l[v][1]);c.cellStyles&&(p.forEach(function(y){!h.patternType&&y.patternType&&(h.patternType=y.patternType)}),r.s=h),r.StyleID!==void 0&&(r.ixfe=r.StyleID)}function ZPe(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function v4(t,e){var n=e||{};cg();var r=I0(UI(t));(n.type=="binary"||n.type=="array"||n.type=="base64")&&(r=ur(r));var i=r.slice(0,1024).toLowerCase(),s=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var a=Ar(n);return a.type="string",km.to_workbook(r,a)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(re){i.indexOf("<"+re)>=0&&(s=!0)}),s)return L8e(r,n);dy={"General Number":"General","General Date":tn[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":tn[15],"Short Date":tn[14],"Long Time":tn[19],"Medium Time":tn[18],"Short Time":tn[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:tn[2],Standard:tn[4],Percent:tn[10],Scientific:tn[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],c,u={},f=[],h=n.dense?[]:{},p="",v={},g={},y=Bo('<Data ss:Type="String">'),_=0,x=0,w=0,C={s:{r:2e6,c:2e6},e:{r:0,c:0}},S={},R={},D="",N=0,I=[],F={},P={},k=0,U=[],O=[],H={},G=[],X,Z=!1,z=[],Q=[],B={},j=0,q=0,J={Sheets:[],WBProps:{date1904:!1}},Y={};r1.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"");for(var te="";o=r1.exec(r);)switch(o[3]=(te=o[3]).toLowerCase()){case"data":if(te=="data"){if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?QPe(r.slice(_,o.index),D,y,l[l.length-1][0]=="comment"?H:v,{c:x,r:w},S,G[x],g,z,n):(D="",y=Bo(o[0]),_=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(O.length>0&&(v.c=O),(!n.sheetRows||n.sheetRows>w)&&v.v!==void 0&&(n.dense?(h[w]||(h[w]=[]),h[w][x]=v):h[qr(x)+fi(w)]=v),v.HRef&&(v.l={Target:jn(v.HRef)},v.HRefScreenTip&&(v.l.Tooltip=v.HRefScreenTip),delete v.HRef,delete v.HRefScreenTip),(v.MergeAcross||v.MergeDown)&&(j=x+(parseInt(v.MergeAcross,10)|0),q=w+(parseInt(v.MergeDown,10)|0),I.push({s:{c:x,r:w},e:{c:j,r:q}})),!n.sheetStubs)v.MergeAcross?x=j+1:++x;else if(v.MergeAcross||v.MergeDown){for(var oe=x;oe<=j;++oe)for(var de=w;de<=q;++de)(oe>x||de>w)&&(n.dense?(h[de]||(h[de]=[]),h[de][oe]={t:"z"}):h[qr(oe)+fi(de)]={t:"z"});x=j+1}else++x;else v=GPe(o[0]),v.Index&&(x=+v.Index-1),x<C.s.c&&(C.s.c=x),x>C.e.c&&(C.e.c=x),o[0].slice(-2)==="/>"&&++x,O=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(w<C.s.r&&(C.s.r=w),w>C.e.r&&(C.e.r=w),o[0].slice(-2)==="/>"&&(g=Bo(o[0]),g.Index&&(w=+g.Index-1)),x=0,++w):(g=Bo(o[0]),g.Index&&(w=+g.Index-1),B={},(g.AutoFitHeight=="0"||g.Height)&&(B.hpx=parseInt(g.Height,10),B.hpt=l1(B.hpx),Q[w]=B),g.Hidden=="1"&&(B.hidden=!0,Q[w]=B));break;case"worksheet":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));f.push(p),C.s.r<=C.e.r&&C.s.c<=C.e.c&&(h["!ref"]=pn(C),n.sheetRows&&n.sheetRows<=C.e.r&&(h["!fullref"]=h["!ref"],C.e.r=n.sheetRows-1,h["!ref"]=pn(C))),I.length&&(h["!merges"]=I),G.length>0&&(h["!cols"]=G),Q.length>0&&(h["!rows"]=Q),u[p]=h}else C={s:{r:2e6,c:2e6},e:{r:0,c:0}},w=x=0,l.push([o[3],!1]),c=Bo(o[0]),p=jn(c.Name),h=n.dense?[]:{},I=[],z=[],Q=[],Y={name:p,Hidden:0},J.Sheets.push(Y);break;case"table":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),G=[],Z=!1}break;case"style":o[1]==="/"?YPe(S,R,n):R=Bo(o[0]);break;case"numberformat":R.nf=jn(Bo(o[0]).Format||"General"),dy[R.nf]&&(R.nf=dy[R.nf]);for(var fe=0;fe!=392&&tn[fe]!=R.nf;++fe);if(fe==392){for(fe=57;fe!=392;++fe)if(tn[fe]==null){Tc(R.nf,fe);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(X=Bo(o[0]),X.Hidden&&(X.hidden=!0,delete X.Hidden),X.Width&&(X.wpx=parseInt(X.Width,10)),!Z&&X.wpx>10){Z=!0,Es=jJ;for(var Ce=0;Ce<G.length;++Ce)G[Ce]&&sd(G[Ce])}Z&&sd(X),G[X.Index-1||G.length]=X;for(var Pe=0;Pe<+X.Span;++Pe)G[G.length]=Ar(X);break;case"namedrange":if(o[1]==="/")break;J.Names||(J.Names=[]);var pe=an(o[0]),Me={Name:pe.Name,Ref:Kp(pe.RefersTo.slice(1),{r:0,c:0})};J.Sheets.length>0&&(Me.Sheet=J.Sheets.length-1),J.Names.push(Me);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?D+=r.slice(N,o.index):N=o.index+o[0].length;break;case"interior":if(!n.cellStyles)break;R.Interior=Bo(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?TAe(F,te,r.slice(k,o.index)):k=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));ZPe(H),O.push(H)}else l.push([o[3],!1]),c=Bo(o[0]),H={a:c.Author};break;case"autofilter":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var W=Bo(o[0]);h["!autofilter"]={ref:Kp(W.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return oL(r,n);var ge=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:ge=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:ge=!1}break;case"excelworkbook":switch(o[3]){case"date1904":J.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:ge=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:ge=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(r.slice(k,o.index)){case"SheetHidden":Y.Hidden=1;break;case"SheetVeryHidden":Y.Hidden=2;break}else k=o.index+o[0].length;break;case"header":h["!margins"]||Sf(h["!margins"]={},"xlml"),isNaN(+an(o[0]).Margin)||(h["!margins"].header=+an(o[0]).Margin);break;case"footer":h["!margins"]||Sf(h["!margins"]={},"xlml"),isNaN(+an(o[0]).Margin)||(h["!margins"].footer=+an(o[0]).Margin);break;case"pagemargins":var _e=an(o[0]);h["!margins"]||Sf(h["!margins"]={},"xlml"),isNaN(+_e.Top)||(h["!margins"].top=+_e.Top),isNaN(+_e.Left)||(h["!margins"].left=+_e.Left),isNaN(+_e.Right)||(h["!margins"].right=+_e.Right),isNaN(+_e.Bottom)||(h["!margins"].bottom=+_e.Bottom);break;case"displayrighttoleft":J.Views||(J.Views=[]),J.Views[0]||(J.Views[0]={}),J.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:ge=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:ge=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:ge=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:ge=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:ge=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:ge=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:ge=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:ge=!1}break;case"smarttags":break;default:ge=!1;break}if(ge||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?JPe(P,te,U,r.slice(k,o.index)):(U=o,k=o.index+o[0].length);break}if(n.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var ce={};return!n.bookSheets&&!n.bookProps&&(ce.Sheets=u),ce.SheetNames=f,ce.Workbook=J,ce.SSF=Ar(tn),ce.Props=F,ce.Custprops=P,ce}function g3(t,e){switch(a6(e=e||{}),e.type||"base64"){case"base64":return v4(qa(t),e);case"binary":case"buffer":case"file":return v4(t,e);case"array":return v4(vd(t),e)}}function e8e(t,e){var n=[];return t.Props&&n.push(EAe(t.Props,e)),t.Custprops&&n.push(CAe(t.Props,t.Custprops)),n.join("")}function t8e(){return""}function n8e(t,e){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(r,i){var s=[];s.push(Et("NumberFormat",null,{"ss:Format":ar(tn[r.numFmtId])}));var a={"ss:ID":"s"+(21+i)};n.push(Et("Style",s.join(""),a))}),Et("Styles",n.join(""))}function fX(t){return Et("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+e6(t.Ref,{r:0,c:0})})}function r8e(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,n=[],r=0;r<e.length;++r){var i=e[r];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||n.push(fX(i)))}return Et("Names",n.join(""))}function i8e(t,e,n,r){if(!t||!((r||{}).Workbook||{}).Names)return"";for(var i=r.Workbook.Names,s=[],a=0;a<i.length;++a){var o=i[a];o.Sheet==n&&(o.Name.match(/^_xlfn\./)||s.push(fX(o)))}return s.join("")}function s8e(t,e,n,r){if(!t)return"";var i=[];if(t["!margins"]&&(i.push("<PageSetup>"),t["!margins"].header&&i.push(Et("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&i.push(Et("Footer",null,{"x:Margin":t["!margins"].footer})),i.push(Et("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),i.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n])if(r.Workbook.Sheets[n].Hidden)i.push(Et("Visible",r.Workbook.Sheets[n].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<n&&!(r.Workbook.Sheets[s]&&!r.Workbook.Sheets[s].Hidden);++s);s==n&&i.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),t["!protect"]&&(i.push(cs("ProtectContents","True")),t["!protect"].objects&&i.push(cs("ProtectObjects","True")),t["!protect"].scenarios&&i.push(cs("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?i.push(cs("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&i.push(cs("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(a){t["!protect"][a[0]]&&i.push("<"+a[1]+"/>")})),i.length==0?"":Et("WorksheetOptions",i.join(""),{xmlns:Pa.x})}function a8e(t){return t.map(function(e){var n=DDe(e.t||""),r=Et("ss:Data",n,{xmlns:"http://www.w3.org/TR/REC-html40"});return Et("Comment",r,{"ss:Author":e.a})}).join("")}function o8e(t,e,n,r,i,s,a){if(!t||t.v==null&&t.f==null)return"";var o={};if(t.f&&(o["ss:Formula"]="="+ar(e6(t.f,a))),t.F&&t.F.slice(0,e.length)==e){var l=$r(t.F.slice(e.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==a.r?"":"["+(l.r-a.r)+"]")+"C"+(l.c==a.c?"":"["+(l.c-a.c)+"]")}if(t.l&&t.l.Target&&(o["ss:HRef"]=ar(t.l.Target),t.l.Tooltip&&(o["x:HRefScreenTip"]=ar(t.l.Tooltip))),n["!merges"])for(var c=n["!merges"],u=0;u!=c.length;++u)c[u].s.c!=a.c||c[u].s.r!=a.r||(c[u].e.c>c[u].s.c&&(o["ss:MergeAcross"]=c[u].e.c-c[u].s.c),c[u].e.r>c[u].s.r&&(o["ss:MergeDown"]=c[u].e.r-c[u].s.r));var f="",h="";switch(t.t){case"z":if(!r.sheetStubs)return"";break;case"n":f="Number",h=String(t.v);break;case"b":f="Boolean",h=t.v?"1":"0";break;case"e":f="Error",h=Gc[t.v];break;case"d":f="DateTime",h=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||tn[14]);break;case"s":f="String",h=SDe(t.v||"");break}var p=bd(r.cellXfs,t,r);o["ss:StyleID"]="s"+(21+p),o["ss:Index"]=a.c+1;var v=t.v!=null?h:"",g=t.t=="z"?"":'<Data ss:Type="'+f+'">'+v+"</Data>";return(t.c||[]).length>0&&(g+=a8e(t.c)),Et("Cell",g,o)}function l8e(t,e){var n='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=Im(e.hpt)),e.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(n+=' ss:Hidden="1"')),n+">"}function c8e(t,e,n,r){if(!t["!ref"])return"";var i=Bn(t["!ref"]),s=t["!merges"]||[],a=0,o=[];t["!cols"]&&t["!cols"].forEach(function(y,_){sd(y);var x=!!y.width,w=zw(_,y),C={"ss:Index":_+1};x&&(C["ss:Width"]=a1(w.width)),y.hidden&&(C["ss:Hidden"]="1"),o.push(Et("Column",null,C))});for(var l=Array.isArray(t),c=i.s.r;c<=i.e.r;++c){for(var u=[l8e(c,(t["!rows"]||[])[c])],f=i.s.c;f<=i.e.c;++f){var h=!1;for(a=0;a!=s.length;++a)if(!(s[a].s.c>f)&&!(s[a].s.r>c)&&!(s[a].e.c<f)&&!(s[a].e.r<c)){(s[a].s.c!=f||s[a].s.r!=c)&&(h=!0);break}if(!h){var p={r:c,c:f},v=sn(p),g=l?(t[c]||[])[f]:t[v];u.push(o8e(g,v,t,e,n,r,p))}}u.push("</Row>"),u.length>2&&o.push(u.join(""))}return o.join("")}function u8e(t,e,n){var r=[],i=n.SheetNames[t],s=n.Sheets[i],a=s?i8e(s,e,t,n):"";return a.length>0&&r.push("<Names>"+a+"</Names>"),a=s?c8e(s,e,t,n):"",a.length>0&&r.push("<Table>"+a+"</Table>"),r.push(s8e(s,e,t,n)),r.join("")}function d8e(t,e){e||(e={}),t.SSF||(t.SSF=Ar(tn)),t.SSF&&(cg(),Lw(t.SSF),e.revssf=Bw(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],bd(e.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(e8e(t,e)),n.push(t8e()),n.push(""),n.push("");for(var r=0;r<t.SheetNames.length;++r)n.push(Et("Worksheet",u8e(r,e,t),{"ss:Name":ar(t.SheetNames[r])}));return n[2]=n8e(t,e),n[3]=r8e(t),pi+Et("Workbook",n.join(""),{xmlns:Pa.ss,"xmlns:o":Pa.o,"xmlns:x":Pa.x,"xmlns:ss":Pa.ss,"xmlns:dt":Pa.dt,"xmlns:html":Pa.html})}function f8e(t){var e={},n=t.content;if(n.l=28,e.AnsiUserType=n.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=rAe(n),n.length-n.l<=4)return e;var r=n.read_shift(4);if(r==0||r>40||(n.l-=4,e.Reserved1=n.read_shift(0,"lpstr-ansi"),n.length-n.l<=4)||(r=n.read_shift(4),r!==1907505652)||(e.UnicodeClipboardFormat=iAe(n),r=n.read_shift(4),r==0||r>40))return e;n.l-=4,e.Reserved2=n.read_shift(0,"lpwstr")}var h8e=[60,1084,2066,2165,2175];function p8e(t,e,n,r,i){var s=r,a=[],o=n.slice(n.l,n.l+s);if(i&&i.enc&&i.enc.insitu&&o.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(o)}a.push(o),n.l+=s;for(var l=pc(n,n.l),c=y3[l],u=0;c!=null&&h8e.indexOf(l)>-1;)s=pc(n,n.l+2),u=n.l+4,l==2066?u+=4:(l==2165||l==2175)&&(u+=12),o=n.slice(u,n.l+4+s),a.push(o),n.l+=4+s,c=y3[l=pc(n,n.l)];var f=Ji(a);os(f,0);var h=0;f.lens=[];for(var p=0;p<a.length;++p)f.lens.push(h),h+=a[p].length;if(f.length<r)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+f.length+" < "+r;return e.f(f,f.length,i)}function ml(t,e,n){if(t.t!=="z"&&t.XF){var r=0;try{r=t.z||t.XF.numFmtId||0,e.cellNF&&(t.z=tn[r])}catch(s){if(e.WTF)throw s}if(!e||e.cellText!==!1)try{t.t==="e"?t.w=t.w||Gc[t.v]:r===0||r=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=e1(t.v):t.w=Gf(t.v):t.w=_o(r,t.v,{date1904:!!n,dateNF:e&&e.dateNF})}catch(s){if(e.WTF)throw s}if(e.cellDates&&r&&t.t=="n"&&lg(tn[r]||String(r))){var i=gf(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function Jx(t,e,n){return{v:t,ixfe:e,t:n}}function m8e(t,e){var n={opts:{}},r={},i=e.dense?[]:{},s={},a={},o=null,l=[],c="",u={},f,h="",p,v,g,y,_={},x=[],w,C,S=[],R=[],D={Sheets:[],WBProps:{date1904:!1},Views:[{}]},N={},I=function(Oe){return Oe<8?Tf[Oe]:Oe<64&&R[Oe-8]||Tf[Oe]},F=function(Oe,Je,ot){var lt=Je.XF.data;if(!(!lt||!lt.patternType||!ot||!ot.cellStyles)){Je.s={},Je.s.patternType=lt.patternType;var Bt;(Bt=s1(I(lt.icvFore)))&&(Je.s.fgColor={rgb:Bt}),(Bt=s1(I(lt.icvBack)))&&(Je.s.bgColor={rgb:Bt})}},P=function(Oe,Je,ot){if(!(B>1)&&!(ot.sheetRows&&Oe.r>=ot.sheetRows)){if(ot.cellStyles&&Je.XF&&Je.XF.data&&F(Oe,Je,ot),delete Je.ixfe,delete Je.XF,f=Oe,h=sn(Oe),(!a||!a.s||!a.e)&&(a={s:{r:0,c:0},e:{r:0,c:0}}),Oe.r<a.s.r&&(a.s.r=Oe.r),Oe.c<a.s.c&&(a.s.c=Oe.c),Oe.r+1>a.e.r&&(a.e.r=Oe.r+1),Oe.c+1>a.e.c&&(a.e.c=Oe.c+1),ot.cellFormula&&Je.f){for(var lt=0;lt<x.length;++lt)if(!(x[lt][0].s.c>Oe.c||x[lt][0].s.r>Oe.r)&&!(x[lt][0].e.c<Oe.c||x[lt][0].e.r<Oe.r)){Je.F=pn(x[lt][0]),(x[lt][0].s.c!=Oe.c||x[lt][0].s.r!=Oe.r)&&delete Je.f,Je.f&&(Je.f=""+Ts(x[lt][1],a,Oe,z,k));break}}ot.dense?(i[Oe.r]||(i[Oe.r]=[]),i[Oe.r][Oe.c]=Je):i[h]=Je}},k={enc:!1,sbcch:0,snames:[],sharedf:_,arrayf:x,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(k.password=e.password);var U,O=[],H=[],G=[],X=[],Z=!1,z=[];z.SheetNames=k.snames,z.sharedf=k.sharedf,z.arrayf=k.arrayf,z.names=[],z.XTI=[];var Q=0,B=0,j=0,q=[],J=[],Y;k.codepage=1200,Go(1200);for(var te=!1;t.l<t.length-1;){var oe=t.l,de=t.read_shift(2);if(de===0&&Q===10)break;var fe=t.l===t.length?0:t.read_shift(2),Ce=y3[de];if(Ce&&Ce.f){if(e.bookSheets&&Q===133&&de!==133)break;if(Q=de,Ce.r===2||Ce.r==12){var Pe=t.read_shift(2);if(fe-=2,!k.enc&&Pe!==de&&((Pe&255)<<8|Pe>>8)!==de)throw new Error("rt mismatch: "+Pe+"!="+de);Ce.r==12&&(t.l+=10,fe-=10)}var pe={};if(de===10?pe=Ce.f(t,fe,k):pe=p8e(de,Ce,t,fe,k),B==0&&[9,521,1033,2057].indexOf(Q)===-1)continue;switch(de){case 34:n.opts.Date1904=D.WBProps.date1904=pe;break;case 134:n.opts.WriteProtect=!0;break;case 47:if(k.enc||(t.l=0),k.enc=pe,!e.password)throw new Error("File is password-protected");if(pe.valid==null)throw new Error("Encryption scheme unsupported");if(!pe.valid)throw new Error("Password is incorrect");break;case 92:k.lastuser=pe;break;case 66:var Me=Number(pe);switch(Me){case 21010:Me=1200;break;case 32768:Me=1e4;break;case 32769:Me=1252;break}Go(k.codepage=Me),te=!0;break;case 317:k.rrtabid=pe;break;case 25:k.winlocked=pe;break;case 439:n.opts.RefreshAll=pe;break;case 12:n.opts.CalcCount=pe;break;case 16:n.opts.CalcDelta=pe;break;case 17:n.opts.CalcIter=pe;break;case 13:n.opts.CalcMode=pe;break;case 14:n.opts.CalcPrecision=pe;break;case 95:n.opts.CalcSaveRecalc=pe;break;case 15:k.CalcRefMode=pe;break;case 2211:n.opts.FullCalc=pe;break;case 129:pe.fDialog&&(i["!type"]="dialog"),pe.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),pe.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:S.push(pe);break;case 430:z.push([pe]),z[z.length-1].XTI=[];break;case 35:case 547:z[z.length-1].push(pe);break;case 24:case 536:Y={Name:pe.Name,Ref:Ts(pe.rgce,a,null,z,k)},pe.itab>0&&(Y.Sheet=pe.itab-1),z.names.push(Y),z[0]||(z[0]=[],z[0].XTI=[]),z[z.length-1].push(pe),pe.Name=="_xlnm._FilterDatabase"&&pe.itab>0&&pe.rgce&&pe.rgce[0]&&pe.rgce[0][0]&&pe.rgce[0][0][0]=="PtgArea3d"&&(J[pe.itab-1]={ref:pn(pe.rgce[0][0][1][2])});break;case 22:k.ExternCount=pe;break;case 23:z.length==0&&(z[0]=[],z[0].XTI=[]),z[z.length-1].XTI=z[z.length-1].XTI.concat(pe),z.XTI=z.XTI.concat(pe);break;case 2196:if(k.biff<8)break;Y!=null&&(Y.Comment=pe[1]);break;case 18:i["!protect"]=pe;break;case 19:pe!==0&&k.WTF&&console.error("Password verifier: "+pe);break;case 133:s[pe.pos]=pe,k.snames.push(pe.name);break;case 10:{if(--B)break;if(a.e){if(a.e.r>0&&a.e.c>0){if(a.e.r--,a.e.c--,i["!ref"]=pn(a),e.sheetRows&&e.sheetRows<=a.e.r){var W=a.e.r;a.e.r=e.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=pn(a),a.e.r=W}a.e.r++,a.e.c++}O.length>0&&(i["!merges"]=O),H.length>0&&(i["!objects"]=H),G.length>0&&(i["!cols"]=G),X.length>0&&(i["!rows"]=X),D.Sheets.push(N)}c===""?u=i:r[c]=i,i=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(k.biff===8&&(k.biff={9:2,521:3,1033:4}[de]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[pe.BIFFVer]||8),k.biffguess=pe.BIFFVer==0,pe.BIFFVer==0&&pe.dt==4096&&(k.biff=5,te=!0,Go(k.codepage=28591)),k.biff==8&&pe.BIFFVer==0&&pe.dt==16&&(k.biff=2),B++)break;if(i=e.dense?[]:{},k.biff<8&&!te&&(te=!0,Go(k.codepage=e.codepage||1252)),k.biff<5||pe.BIFFVer==0&&pe.dt==4096){c===""&&(c="Sheet1"),a={s:{r:0,c:0},e:{r:0,c:0}};var ge={pos:t.l-fe,name:c};s[ge.pos]=ge,k.snames.push(c)}else c=(s[oe]||{name:""}).name;pe.dt==32&&(i["!type"]="chart"),pe.dt==64&&(i["!type"]="macro"),O=[],H=[],k.arrayf=x=[],G=[],X=[],Z=!1,N={Hidden:(s[oe]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(e.dense?(i[pe.r]||[])[pe.c]:i[sn({c:pe.c,r:pe.r})])&&++pe.c,w={ixfe:pe.ixfe,XF:S[pe.ixfe]||{},v:pe.val,t:"n"},j>0&&(w.z=q[w.ixfe>>8&63]),ml(w,e,n.opts.Date1904),P({c:pe.c,r:pe.r},w,e);break;case 5:case 517:w={ixfe:pe.ixfe,XF:S[pe.ixfe],v:pe.val,t:pe.t},j>0&&(w.z=q[w.ixfe>>8&63]),ml(w,e,n.opts.Date1904),P({c:pe.c,r:pe.r},w,e);break;case 638:w={ixfe:pe.ixfe,XF:S[pe.ixfe],v:pe.rknum,t:"n"},j>0&&(w.z=q[w.ixfe>>8&63]),ml(w,e,n.opts.Date1904),P({c:pe.c,r:pe.r},w,e);break;case 189:for(var _e=pe.c;_e<=pe.C;++_e){var ce=pe.rkrec[_e-pe.c][0];w={ixfe:ce,XF:S[ce],v:pe.rkrec[_e-pe.c][1],t:"n"},j>0&&(w.z=q[w.ixfe>>8&63]),ml(w,e,n.opts.Date1904),P({c:_e,r:pe.r},w,e)}break;case 6:case 518:case 1030:{if(pe.val=="String"){o=pe;break}if(w=Jx(pe.val,pe.cell.ixfe,pe.tt),w.XF=S[w.ixfe],e.cellFormula){var re=pe.formula;if(re&&re[0]&&re[0][0]&&re[0][0][0]=="PtgExp"){var le=re[0][0][1][0],ke=re[0][0][1][1],Ne=sn({r:le,c:ke});_[Ne]?w.f=""+Ts(pe.formula,a,pe.cell,z,k):w.F=((e.dense?(i[le]||[])[ke]:i[Ne])||{}).F}else w.f=""+Ts(pe.formula,a,pe.cell,z,k)}j>0&&(w.z=q[w.ixfe>>8&63]),ml(w,e,n.opts.Date1904),P(pe.cell,w,e),o=pe}break;case 7:case 519:if(o)o.val=pe,w=Jx(pe,o.cell.ixfe,"s"),w.XF=S[w.ixfe],e.cellFormula&&(w.f=""+Ts(o.formula,a,o.cell,z,k)),j>0&&(w.z=q[w.ixfe>>8&63]),ml(w,e,n.opts.Date1904),P(o.cell,w,e),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{x.push(pe);var ie=sn(pe[0].s);if(p=e.dense?(i[pe[0].s.r]||[])[pe[0].s.c]:i[ie],e.cellFormula&&p){if(!o||!ie||!p)break;p.f=""+Ts(pe[1],a,pe[0],z,k),p.F=pn(pe[0])}}break;case 1212:{if(!e.cellFormula)break;if(h){if(!o)break;_[sn(o.cell)]=pe[0],p=e.dense?(i[o.cell.r]||[])[o.cell.c]:i[sn(o.cell)],(p||{}).f=""+Ts(pe[0],a,f,z,k)}}break;case 253:w=Jx(l[pe.isst].t,pe.ixfe,"s"),l[pe.isst].h&&(w.h=l[pe.isst].h),w.XF=S[w.ixfe],j>0&&(w.z=q[w.ixfe>>8&63]),ml(w,e,n.opts.Date1904),P({c:pe.c,r:pe.r},w,e);break;case 513:e.sheetStubs&&(w={ixfe:pe.ixfe,XF:S[pe.ixfe],t:"z"},j>0&&(w.z=q[w.ixfe>>8&63]),ml(w,e,n.opts.Date1904),P({c:pe.c,r:pe.r},w,e));break;case 190:if(e.sheetStubs)for(var ue=pe.c;ue<=pe.C;++ue){var ve=pe.ixfe[ue-pe.c];w={ixfe:ve,XF:S[ve],t:"z"},j>0&&(w.z=q[w.ixfe>>8&63]),ml(w,e,n.opts.Date1904),P({c:ue,r:pe.r},w,e)}break;case 214:case 516:case 4:w=Jx(pe.val,pe.ixfe,"s"),w.XF=S[w.ixfe],j>0&&(w.z=q[w.ixfe>>8&63]),ml(w,e,n.opts.Date1904),P({c:pe.c,r:pe.r},w,e);break;case 0:case 512:B===1&&(a=pe);break;case 252:l=pe;break;case 1054:if(k.biff==4){q[j++]=pe[1];for(var be=0;be<j+163&&tn[be]!=pe[1];++be);be>=163&&Tc(pe[1],j+163)}else Tc(pe[1],pe[0]);break;case 30:{q[j++]=pe;for(var Ie=0;Ie<j+163&&tn[Ie]!=pe;++Ie);Ie>=163&&Tc(pe,j+163)}break;case 229:O=O.concat(pe);break;case 93:H[pe.cmo[0]]=k.lastobj=pe;break;case 438:k.lastobj.TxO=pe;break;case 127:k.lastobj.ImData=pe;break;case 440:for(y=pe[0].s.r;y<=pe[0].e.r;++y)for(g=pe[0].s.c;g<=pe[0].e.c;++g)p=e.dense?(i[y]||[])[g]:i[sn({c:g,r:y})],p&&(p.l=pe[1]);break;case 2048:for(y=pe[0].s.r;y<=pe[0].e.r;++y)for(g=pe[0].s.c;g<=pe[0].e.c;++g)p=e.dense?(i[y]||[])[g]:i[sn({c:g,r:y})],p&&p.l&&(p.l.Tooltip=pe[1]);break;case 28:{if(k.biff<=5&&k.biff>=2)break;p=e.dense?(i[pe[0].r]||[])[pe[0].c]:i[sn(pe[0])];var Le=H[pe[2]];p||(e.dense?(i[pe[0].r]||(i[pe[0].r]=[]),p=i[pe[0].r][pe[0].c]={t:"z"}):p=i[sn(pe[0])]={t:"z"},a.e.r=Math.max(a.e.r,pe[0].r),a.s.r=Math.min(a.s.r,pe[0].r),a.e.c=Math.max(a.e.c,pe[0].c),a.s.c=Math.min(a.s.c,pe[0].c)),p.c||(p.c=[]),v={a:pe[1],t:Le.TxO.t},p.c.push(v)}break;case 2173:nIe(S[pe.ixfe],pe.ext);break;case 125:{if(!k.cellStyles)break;for(;pe.e>=pe.s;)G[pe.e--]={width:pe.w/256,level:pe.level||0,hidden:!!(pe.flags&1)},Z||(Z=!0,YI(pe.w/256)),sd(G[pe.e+1])}break;case 520:{var Te={};pe.level!=null&&(X[pe.r]=Te,Te.level=pe.level),pe.hidden&&(X[pe.r]=Te,Te.hidden=!0),pe.hpt&&(X[pe.r]=Te,Te.hpt=pe.hpt,Te.hpx=Im(pe.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||Sf(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[de]]=pe;break;case 161:i["!margins"]||Sf(i["!margins"]={}),i["!margins"].header=pe.header,i["!margins"].footer=pe.footer;break;case 574:pe.RTL&&(D.Views[0].RTL=!0);break;case 146:R=pe;break;case 2198:U=pe;break;case 140:C=pe;break;case 442:c?N.CodeName=pe||N.name:D.WBProps.CodeName=pe||"ThisWorkbook";break}}else Ce||console.error("Missing Info for XLS Record 0x"+de.toString(16)),t.l+=fe}return n.SheetNames=ti(s).sort(function(Ue,Oe){return Number(Ue)-Number(Oe)}).map(function(Ue){return s[Ue].name}),e.bookSheets||(n.Sheets=r),!n.SheetNames.length&&u["!ref"]?(n.SheetNames.push("Sheet1"),n.Sheets&&(n.Sheets.Sheet1=u)):n.Preamble=u,n.Sheets&&J.forEach(function(Ue,Oe){n.Sheets[n.SheetNames[Oe]]["!autofilter"]=Ue}),n.Strings=l,n.SSF=Ar(tn),k.enc&&(n.Encryption=k.enc),U&&(n.Themes=U),n.Metadata={},C!==void 0&&(n.Metadata.Country=C),z.names.length>0&&(D.Names=z.names),n.Workbook=D,n}var fy={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function g8e(t,e,n){var r=Jt.find(t,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var i=OO(r,u3,fy.DSI);for(var s in i)e[s]=i[s]}catch(c){if(n.WTF)throw c}var a=Jt.find(t,"/!SummaryInformation");if(a&&a.size>0)try{var o=OO(a,d3,fy.SI);for(var l in o)e[l]==null&&(e[l]=o[l])}catch(c){if(n.WTF)throw c}e.HeadingPairs&&e.TitlesOfParts&&(dJ(e.HeadingPairs,e.TitlesOfParts,e,n),delete e.HeadingPairs,delete e.TitlesOfParts)}function y8e(t,e){var n=[],r=[],i=[],s=0,a,o=hO(u3,"n"),l=hO(d3,"n");if(t.Props)for(a=ti(t.Props),s=0;s<a.length;++s)(Object.prototype.hasOwnProperty.call(o,a[s])?n:Object.prototype.hasOwnProperty.call(l,a[s])?r:i).push([a[s],t.Props[a[s]]]);if(t.Custprops)for(a=ti(t.Custprops),s=0;s<a.length;++s)Object.prototype.hasOwnProperty.call(t.Props||{},a[s])||(Object.prototype.hasOwnProperty.call(o,a[s])?n:Object.prototype.hasOwnProperty.call(l,a[s])?r:i).push([a[s],t.Custprops[a[s]]]);var c=[];for(s=0;s<i.length;++s)vJ.indexOf(i[s][0])>-1||uJ.indexOf(i[s][0])>-1||i[s][1]!=null&&c.push(i[s]);r.length&&Jt.utils.cfb_add(e,"/SummaryInformation",LO(r,fy.SI,l,d3)),(n.length||c.length)&&Jt.utils.cfb_add(e,"/DocumentSummaryInformation",LO(n,fy.DSI,o,u3,c.length?c:null,fy.UDI))}function hX(t,e){e||(e={}),a6(e),DI(),e.codepage&&SI(e.codepage);var n,r;if(t.FullPaths){if(Jt.find(t,"/encryption"))throw new Error("File is password-protected");n=Jt.find(t,"!CompObj"),r=Jt.find(t,"/Workbook")||Jt.find(t,"/Book")}else{switch(e.type){case"base64":t=Ma(qa(t));break;case"binary":t=Ma(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}os(t,0),r={content:t}}var i,s;if(n&&f8e(n),e.bookProps&&!e.bookSheets)i={};else{var a=_n?"buffer":"array";if(r&&r.content)i=m8e(r.content,e);else if((s=Jt.find(t,"PerfectOffice_MAIN"))&&s.content)i=Cf.to_workbook(s.content,(e.type=a,e));else if((s=Jt.find(t,"NativeContent_MAIN"))&&s.content)i=Cf.to_workbook(s.content,(e.type=a,e));else throw(s=Jt.find(t,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&t.FullPaths&&Jt.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=kIe(t))}var o={};return t.FullPaths&&g8e(t,o,e),i.Props=i.Custprops=o,e.bookFiles&&(i.cfb=t),i}function v8e(t,e){var n=e||{},r=Jt.utils.cfb_new({root:"R"}),i="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":i="/Workbook",n.biff=8;break;case"biff5":i="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return Jt.utils.cfb_add(r,i,pX(t,n)),n.biff==8&&(t.Props||t.Custprops)&&y8e(t,r),n.biff==8&&t.vbaraw&&IIe(r,Jt.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),r}var c1={0:{f:W5e},1:{f:X5e},2:{f:mRe},3:{f:iRe},4:{f:eRe},5:{f:fRe},6:{f:bRe},7:{f:lRe},8:{f:DRe},9:{f:SRe},10:{f:ERe},11:{f:CRe},12:{f:Q5e},13:{f:yRe},14:{f:aRe},15:{f:nRe},16:{f:sX},17:{f:wRe},18:{f:uRe},19:{f:VI},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:wPe},40:{},42:{},43:{f:bke},44:{f:vke},45:{f:Tke},46:{f:Cke},47:{f:Eke},48:{},49:{f:zDe},50:{},51:{f:sIe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:NJ},62:{f:xRe},63:{f:pIe},64:{f:qRe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ps,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:jRe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:K5e},148:{f:z5e,p:16},151:{f:PRe},152:{},153:{f:xPe},154:{},155:{},156:{f:yPe},157:{},158:{},159:{T:1,f:MNe},160:{T:-1},161:{T:1,f:xh},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:ARe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:rIe},336:{T:-1},337:{f:lIe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:c3},357:{},358:{},359:{},360:{T:1},361:{},362:{f:AJ},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:FRe},427:{f:MRe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:ORe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:G5e},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:IRe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:c3},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:CIe},633:{T:1},634:{T:-1},635:{T:1,f:TIe},636:{T:-1},637:{f:JDe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:aPe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:$Re},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},y3={6:{f:g4},10:{f:xu},12:{f:_i},13:{f:_i},14:{f:oi},15:{f:oi},16:{f:Ss},17:{f:oi},18:{f:oi},19:{f:_i},20:{f:$O},21:{f:$O},23:{f:AJ},24:{f:HO},25:{f:oi},26:{},27:{},28:{f:$3e},29:{},34:{f:oi},35:{f:zO},38:{f:Ss},39:{f:Ss},40:{f:Ss},41:{f:Ss},42:{f:oi},43:{f:oi},47:{f:nke},49:{f:y3e},51:{f:_i},60:{},61:{f:f3e},64:{f:oi},65:{f:g3e},66:{f:_i},77:{},80:{},81:{},82:{},85:{f:_i},89:{},90:{},91:{},92:{f:t3e},93:{f:G3e},94:{},95:{f:oi},96:{},97:{},99:{f:oi},125:{f:NJ},128:{f:R3e},129:{f:r3e},130:{f:_i},131:{f:oi},132:{f:oi},133:{f:i3e},134:{},140:{f:tNe},141:{f:_i},144:{},146:{f:iNe},151:{},152:{},153:{},154:{},155:{},156:{f:_i},157:{},158:{},160:{f:dNe},161:{f:oNe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:A3e},190:{f:N3e},193:{f:xu},197:{},198:{},199:{},200:{},201:{},202:{f:oi},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:_i},220:{},221:{f:oi},222:{},224:{f:I3e},225:{f:e3e},226:{f:xu},227:{},229:{f:z3e},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:a3e},253:{f:x3e},255:{f:l3e},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:xJ},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:oi},353:{f:xu},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:O3e},431:{f:oi},432:{},433:{},434:{},437:{},438:{f:X3e},439:{f:oi},440:{f:Y3e},441:{},442:{f:iv},443:{},444:{f:_i},445:{},446:{},448:{f:xu},449:{f:d3e,r:2},450:{f:xu},512:{f:VO},513:{f:uNe},515:{f:M3e},516:{f:_3e},517:{f:qO},519:{f:fNe},520:{f:c3e},523:{},545:{f:GO},549:{f:BO},566:{},574:{f:p3e},638:{f:D3e},659:{},1048:{},1054:{f:T3e},1084:{},1212:{f:V3e},2048:{f:Z3e},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Hx},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:xu},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:sNe,r:12},2173:{f:tIe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:oi,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:B3e,r:12},2197:{},2198:{f:Jke,r:12},2199:{},2200:{},2201:{},2202:{f:W3e,r:12},2203:{f:xu},2204:{},2205:{},2206:{},2207:{},2211:{f:u3e},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:_i},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:lNe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:rNe},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:VO},1:{},2:{f:yNe},3:{f:mNe},4:{f:pNe},5:{f:qO},7:{f:xNe},8:{},9:{f:Hx},11:{},22:{f:_i},30:{f:C3e},31:{},32:{},33:{f:GO},36:{},37:{f:BO},50:{f:bNe},62:{},52:{},67:{},68:{f:_i},69:{},86:{},126:{},127:{f:hNe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:_Ne},223:{},234:{},354:{},421:{},518:{f:g4},521:{f:Hx},536:{f:HO},547:{f:zO},561:{},579:{},1030:{f:g4},1033:{f:Hx},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Ct(t,e,n,r){var i=e;if(!isNaN(i)){var s=r||(n||[]).length||0,a=t.next(4);a.write_shift(2,i),a.write_shift(2,s),s>0&&LI(n)&&t.push(n)}}function x8e(t,e,n,r){var i=(n||[]).length||0;if(i<=8224)return Ct(t,e,n,i);var s=e;if(!isNaN(s)){for(var a=n.parts||[],o=0,l=0,c=0;c+(a[o]||8224)<=8224;)c+=a[o]||8224,o++;var u=t.next(4);for(u.write_shift(2,s),u.write_shift(2,c),t.push(n.slice(l,l+c)),l+=c;l<i;){for(u=t.next(4),u.write_shift(2,60),c=0;c+(a[o]||8224)<=8224;)c+=a[o]||8224,o++;u.write_shift(2,c),t.push(n.slice(l,l+c)),l+=c}}}function lv(t,e,n){return t||(t=it(7)),t.write_shift(2,e),t.write_shift(2,n),t.write_shift(2,0),t.write_shift(1,0),t}function b8e(t,e,n,r){var i=it(9);return lv(i,t,e),bJ(n,r||"b",i),i}function _8e(t,e,n){var r=it(8+2*n.length);return lv(r,t,e),r.write_shift(1,n.length),r.write_shift(n.length,n,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function w8e(t,e,n,r){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?Ri(Dr(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?Ct(t,2,vNe(n,r,i)):Ct(t,3,gNe(n,r,i));return;case"b":case"e":Ct(t,5,b8e(n,r,e.v,e.t));return;case"s":case"str":Ct(t,4,_8e(n,r,(e.v||"").slice(0,255)));return}Ct(t,1,lv(null,n,r))}function T8e(t,e,n,r){var i=Array.isArray(e),s=Bn(e["!ref"]||"A1"),a,o="",l=[];if(s.e.c>255||s.e.r>16383){if(r.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),a=pn(s)}for(var c=s.s.r;c<=s.e.r;++c){o=fi(c);for(var u=s.s.c;u<=s.e.c;++u){c===s.s.r&&(l[u]=qr(u)),a=l[u]+o;var f=i?(e[c]||[])[u]:e[a];f&&w8e(t,f,c,u)}}}function E8e(t,e){for(var n=e||{},r=va(),i=0,s=0;s<t.SheetNames.length;++s)t.SheetNames[s]==n.sheet&&(i=s);if(i==0&&n.sheet&&t.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return Ct(r,n.biff==4?1033:n.biff==3?521:9,KI(t,16,n)),T8e(r,t.Sheets[t.SheetNames[i]],i,n),Ct(r,10),r.end()}function C8e(t,e,n){Ct(t,49,v3e({sz:12,name:"Arial"},n))}function S8e(t,e,n){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&Ct(t,1054,E3e(i,e[i],n))})}function D8e(t,e){var n=it(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),Ct(t,2151,n),n=it(39),n.write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),CJ(Bn(e["!ref"]||"A1"),n),n.write_shift(4,4),Ct(t,2152,n)}function A8e(t,e){for(var n=0;n<16;++n)Ct(t,224,WO({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(r){Ct(t,224,WO(r,0,e))})}function N8e(t,e){for(var n=0;n<e["!links"].length;++n){var r=e["!links"][n];Ct(t,440,Q3e(r)),r[1].Tooltip&&Ct(t,2048,eNe(r))}delete e["!links"]}function k8e(t,e){if(e){var n=0;e.forEach(function(r,i){++n<=256&&r&&Ct(t,125,aNe(zw(i,r),i))})}}function I8e(t,e,n,r,i){var s=16+bd(i.cellXfs,e,i);if(e.v==null&&!e.bf){Ct(t,513,Yf(n,r,s));return}if(e.bf)Ct(t,6,r5e(e,n,r,i,s));else switch(e.t){case"d":case"n":var a=e.t=="d"?Ri(Dr(e.v)):e.v;Ct(t,515,U3e(n,r,a,s));break;case"b":case"e":Ct(t,517,F3e(n,r,e.v,s,i,e.t));break;case"s":case"str":if(i.bookSST){var o=n6(i.Strings,e.v,i.revStrings);Ct(t,253,b3e(n,r,o,s))}else Ct(t,516,w3e(n,r,(e.v||"").slice(0,255),s,i));break;default:Ct(t,513,Yf(n,r,s))}}function R8e(t,e,n){var r=va(),i=n.SheetNames[t],s=n.Sheets[i]||{},a=(n||{}).Workbook||{},o=(a.Sheets||[])[t]||{},l=Array.isArray(s),c=e.biff==8,u,f="",h=[],p=Bn(s["!ref"]||"A1"),v=c?65536:16384;if(p.e.c>255||p.e.r>=v){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,v-1)}Ct(r,2057,KI(n,16,e)),Ct(r,13,co(1)),Ct(r,12,co(100)),Ct(r,15,$s(!0)),Ct(r,17,$s(!1)),Ct(r,16,Jf(.001)),Ct(r,95,$s(!0)),Ct(r,42,$s(!1)),Ct(r,43,$s(!1)),Ct(r,130,co(1)),Ct(r,128,P3e()),Ct(r,131,$s(!1)),Ct(r,132,$s(!1)),c&&k8e(r,s["!cols"]),Ct(r,512,S3e(p,e)),c&&(s["!links"]=[]);for(var g=p.s.r;g<=p.e.r;++g){f=fi(g);for(var y=p.s.c;y<=p.e.c;++y){g===p.s.r&&(h[y]=qr(y)),u=h[y]+f;var _=l?(s[g]||[])[y]:s[u];_&&(I8e(r,_,g,y,e),c&&_.l&&s["!links"].push([u,_.l]))}}var x=o.CodeName||o.name||i;return c&&Ct(r,574,m3e((a.Views||[])[0])),c&&(s["!merges"]||[]).length&&Ct(r,229,H3e(s["!merges"])),c&&N8e(r,s),Ct(r,442,_J(x)),c&&D8e(r,s),Ct(r,10),r.end()}function P8e(t,e,n){var r=va(),i=(t||{}).Workbook||{},s=i.Sheets||[],a=i.WBProps||{},o=n.biff==8,l=n.biff==5;if(Ct(r,2057,KI(t,5,n)),n.bookType=="xla"&&Ct(r,135),Ct(r,225,o?co(1200):null),Ct(r,193,FAe(2)),l&&Ct(r,191),l&&Ct(r,192),Ct(r,226),Ct(r,92,n3e("SheetJS",n)),Ct(r,66,co(o?1200:1252)),o&&Ct(r,353,co(0)),o&&Ct(r,448),Ct(r,317,cNe(t.SheetNames.length)),o&&t.vbaraw&&Ct(r,211),o&&t.vbaraw){var c=a.CodeName||"ThisWorkbook";Ct(r,442,_J(c))}Ct(r,156,co(17)),Ct(r,25,$s(!1)),Ct(r,18,$s(!1)),Ct(r,19,co(0)),o&&Ct(r,431,$s(!1)),o&&Ct(r,444,co(0)),Ct(r,61,h3e()),Ct(r,64,$s(!1)),Ct(r,141,co(0)),Ct(r,34,$s(dPe(t)=="true")),Ct(r,14,$s(!0)),o&&Ct(r,439,$s(!1)),Ct(r,218,co(0)),C8e(r,t,n),S8e(r,t.SSF,n),A8e(r,n),o&&Ct(r,352,$s(!1));var u=r.end(),f=va();o&&Ct(f,140,nNe()),o&&n.Strings&&x8e(f,252,o3e(n.Strings)),Ct(f,10);var h=f.end(),p=va(),v=0,g=0;for(g=0;g<t.SheetNames.length;++g)v+=(o?12:11)+(o?2:1)*t.SheetNames[g].length;var y=u.length+v+h.length;for(g=0;g<t.SheetNames.length;++g){var _=s[g]||{};Ct(p,133,s3e({pos:y,hs:_.Hidden||0,dt:0,name:t.SheetNames[g]},n)),y+=e[g].length}var x=p.end();if(v!=x.length)throw new Error("BS8 "+v+" != "+x.length);var w=[];return u.length&&w.push(u),x.length&&w.push(x),h.length&&w.push(h),Ji(w)}function F8e(t,e){var n=e||{},r=[];t&&!t.SSF&&(t.SSF=Ar(tn)),t&&t.SSF&&(cg(),Lw(t.SSF),n.revssf=Bw(t.SSF),n.revssf[t.SSF[65535]]=0,n.ssf=t.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,o6(n),n.cellXfs=[],bd(n.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var i=0;i<t.SheetNames.length;++i)r[r.length]=R8e(i,n,t);return r.unshift(P8e(t,r,n)),Ji(r)}function pX(t,e){for(var n=0;n<=t.SheetNames.length;++n){var r=t.Sheets[t.SheetNames[n]];if(!(!r||!r["!ref"])){var i=xa(r["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return F8e(t,e);case 4:case 3:case 2:return E8e(t,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function rL(t,e){var n=e||{},r=n.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var i=t.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var s=t.match(/<\/table/i),a=i.index,o=s&&s.index||t.length,l=vDe(t.slice(a,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,u=0,f=0,h=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},v=[];for(a=0;a<l.length;++a){var g=l[a].trim(),y=g.slice(0,3).toLowerCase();if(y=="<tr"){if(++c,n.sheetRows&&n.sheetRows<=c){--c;break}u=0;continue}if(!(y!="<td"&&y!="<th")){var _=g.split(/<\/t[dh]>/i);for(o=0;o<_.length;++o){var x=_[o].trim();if(x.match(/<t[dh]/i)){for(var w=x,C=0;w.charAt(0)=="<"&&(C=w.indexOf(">"))>-1;)w=w.slice(C+1);for(var S=0;S<v.length;++S){var R=v[S];R.s.c==u&&R.s.r<c&&c<=R.e.r&&(u=R.e.c+1,S=-1)}var D=an(x.slice(0,x.indexOf(">")));h=D.colspan?+D.colspan:1,((f=+D.rowspan)>1||h>1)&&v.push({s:{r:c,c:u},e:{r:c+(f||1)-1,c:u+h-1}});var N=D.t||D["data-t"]||"";if(!w.length){u+=h;continue}if(w=LK(w),p.s.r>c&&(p.s.r=c),p.e.r<c&&(p.e.r=c),p.s.c>u&&(p.s.c=u),p.e.c<u&&(p.e.c=u),!w.length){u+=h;continue}var I={t:"s",v:w};n.raw||!w.trim().length||N=="s"||(w==="TRUE"?I={t:"b",v:!0}:w==="FALSE"?I={t:"b",v:!1}:isNaN(Zo(w))?isNaN(Nm(w).getDate())||(I={t:"d",v:Dr(w)},n.cellDates||(I={t:"n",v:Ri(I.v)}),I.z=n.dateNF||tn[14]):I={t:"n",v:Zo(w)}),n.dense?(r[c]||(r[c]=[]),r[c][u]=I):r[sn({r:c,c:u})]=I,u+=h}}}}return r["!ref"]=pn(p),v.length&&(r["!merges"]=v),r}function M8e(t,e,n,r){for(var i=t["!merges"]||[],s=[],a=e.s.c;a<=e.e.c;++a){for(var o=0,l=0,c=0;c<i.length;++c)if(!(i[c].s.r>n||i[c].s.c>a)&&!(i[c].e.r<n||i[c].e.c<a)){if(i[c].s.r<n||i[c].s.c<a){o=-1;break}o=i[c].e.r-i[c].s.r+1,l=i[c].e.c-i[c].s.c+1;break}if(!(o<0)){var u=sn({r:n,c:a}),f=r.dense?(t[n]||[])[a]:t[u],h=f&&f.v!=null&&(f.h||MI(f.w||(Pc(f),f.w)||""))||"",p={};o>1&&(p.rowspan=o),l>1&&(p.colspan=l),r.editable?h='<span contenteditable="true">'+h+"</span>":f&&(p["data-t"]=f&&f.t||"z",f.v!=null&&(p["data-v"]=f.v),f.z!=null&&(p["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),p.id=(r.id||"sjs")+"-"+u,s.push(Et("td",h,p))}}var v="<tr>";return v+s.join("")+"</tr>"}var U8e='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',O8e="</body></html>";function L8e(t,e){var n=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!n||n.length==0)throw new Error("Invalid HTML: could not find <table>");if(n.length==1)return xd(rL(n[0],e),e);var r=u6();return n.forEach(function(i,s){d6(r,rL(i,e),"Sheet"+(s+1))}),r}function j8e(t,e,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function mX(t,e){var n=e||{},r=n.header!=null?n.header:U8e,i=n.footer!=null?n.footer:O8e,s=[r],a=xa(t["!ref"]);n.dense=Array.isArray(t),s.push(j8e(t,a,n));for(var o=a.s.r;o<=a.e.r;++o)s.push(M8e(t,a,o,n));return s.push("</table>"+i),s.join("")}function gX(t,e,n){var r=n||{},i=0,s=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var a=typeof r.origin=="string"?$r(r.origin):r.origin;i=a.r,s=a.c}var o=e.getElementsByTagName("tr"),l=Math.min(r.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:i,c:s}};if(t["!ref"]){var u=xa(t["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),i==-1&&(c.e.r=i=u.e.r+1)}var f=[],h=0,p=t["!rows"]||(t["!rows"]=[]),v=0,g=0,y=0,_=0,x=0,w=0;for(t["!cols"]||(t["!cols"]=[]);v<o.length&&g<l;++v){var C=o[v];if(iL(C)){if(r.display)continue;p[g]={hidden:!0}}var S=C.children;for(y=_=0;y<S.length;++y){var R=S[y];if(!(r.display&&iL(R))){var D=R.hasAttribute("data-v")?R.getAttribute("data-v"):R.hasAttribute("v")?R.getAttribute("v"):LK(R.innerHTML),N=R.getAttribute("data-z")||R.getAttribute("z");for(h=0;h<f.length;++h){var I=f[h];I.s.c==_+s&&I.s.r<g+i&&g+i<=I.e.r&&(_=I.e.c+1-s,h=-1)}w=+R.getAttribute("colspan")||1,((x=+R.getAttribute("rowspan")||1)>1||w>1)&&f.push({s:{r:g+i,c:_+s},e:{r:g+i+(x||1)-1,c:_+s+(w||1)-1}});var F={t:"s",v:D},P=R.getAttribute("data-t")||R.getAttribute("t")||"";D!=null&&(D.length==0?F.t=P||"z":r.raw||D.trim().length==0||P=="s"||(D==="TRUE"?F={t:"b",v:!0}:D==="FALSE"?F={t:"b",v:!1}:isNaN(Zo(D))?isNaN(Nm(D).getDate())||(F={t:"d",v:Dr(D)},r.cellDates||(F={t:"n",v:Ri(F.v)}),F.z=r.dateNF||tn[14]):F={t:"n",v:Zo(D)})),F.z===void 0&&N!=null&&(F.z=N);var k="",U=R.getElementsByTagName("A");if(U&&U.length)for(var O=0;O<U.length&&!(U[O].hasAttribute("href")&&(k=U[O].getAttribute("href"),k.charAt(0)!="#"));++O);k&&k.charAt(0)!="#"&&(F.l={Target:k}),r.dense?(t[g+i]||(t[g+i]=[]),t[g+i][_+s]=F):t[sn({c:_+s,r:g+i})]=F,c.e.c<_+s&&(c.e.c=_+s),_+=w}}++g}return f.length&&(t["!merges"]=(t["!merges"]||[]).concat(f)),c.e.r=Math.max(c.e.r,g-1+i),t["!ref"]=pn(c),g>=l&&(t["!fullref"]=pn((c.e.r=o.length-v+g-1+i,c))),t}function yX(t,e){var n=e||{},r=n.dense?[]:{};return gX(r,t,e)}function B8e(t,e){return xd(yX(t,e),e)}function iL(t){var e="",n=V8e(t);return n&&(e=n(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function V8e(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function W8e(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(r,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),n=jn(e.replace(/<[^>]*>/g,""));return[n]}var sL={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function vX(t,e){var n=e||{},r=UI(t),i=[],s,a,o={name:""},l="",c=0,u,f,h={},p=[],v=n.dense?[]:{},g,y,_={value:""},x="",w=0,C=[],S=-1,R=-1,D={s:{r:1e6,c:1e7},e:{r:0,c:0}},N=0,I={},F=[],P={},k=0,U=0,O=[],H=1,G=1,X=[],Z={Names:[]},z={},Q=["",""],B=[],j={},q="",J=0,Y=!1,te=!1,oe=0;for(r1.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");g=r1.exec(r);)switch(g[3]=g[3].replace(/_.*$/,"")){case"table":case"":g[1]==="/"?(D.e.c>=D.s.c&&D.e.r>=D.s.r?v["!ref"]=pn(D):v["!ref"]="A1:A1",n.sheetRows>0&&n.sheetRows<=D.e.r&&(v["!fullref"]=v["!ref"],D.e.r=n.sheetRows-1,v["!ref"]=pn(D)),F.length&&(v["!merges"]=F),O.length&&(v["!rows"]=O),u.name=u.||u.name,typeof JSON<"u"&&JSON.stringify(u),p.push(u.name),h[u.name]=v,te=!1):g[0].charAt(g[0].length-2)!=="/"&&(u=an(g[0],!1),S=R=-1,D.s.r=D.s.c=1e7,D.e.r=D.e.c=0,v=n.dense?[]:{},F=[],O=[],te=!0);break;case"table-row-group":g[1]==="/"?--N:++N;break;case"table-row":case"":if(g[1]==="/"){S+=H,H=1;break}if(f=an(g[0],!1),f.?S=f.-1:S==-1&&(S=0),H=+f["number-rows-repeated"]||1,H<10)for(oe=0;oe<H;++oe)N>0&&(O[S+oe]={level:N});R=-1;break;case"covered-table-cell":g[1]!=="/"&&++R,n.sheetStubs&&(n.dense?(v[S]||(v[S]=[]),v[S][R]={t:"z"}):v[sn({r:S,c:R})]={t:"z"}),x="",C=[];break;case"table-cell":case"":if(g[0].charAt(g[0].length-2)==="/")++R,_=an(g[0],!1),G=parseInt(_["number-columns-repeated"]||"1",10),y={t:"z",v:null},_.formula&&n.cellFormula!=!1&&(y.f=eL(jn(_.formula))),(_.||_["value-type"])=="string"&&(y.t="s",y.v=jn(_["string-value"]||""),n.dense?(v[S]||(v[S]=[]),v[S][R]=y):v[sn({r:S,c:R})]=y),R+=G-1;else if(g[1]!=="/"){++R,x="",w=0,C=[],G=1;var de=H?S+H-1:S;if(R>D.e.c&&(D.e.c=R),R<D.s.c&&(D.s.c=R),S<D.s.r&&(D.s.r=S),de>D.e.r&&(D.e.r=de),_=an(g[0],!1),B=[],j={},y={t:_.||_["value-type"],v:null},n.cellFormula)if(_.formula&&(_.formula=jn(_.formula)),_["number-matrix-columns-spanned"]&&_["number-matrix-rows-spanned"]&&(k=parseInt(_["number-matrix-rows-spanned"],10)||0,U=parseInt(_["number-matrix-columns-spanned"],10)||0,P={s:{r:S,c:R},e:{r:S+k-1,c:R+U-1}},y.F=pn(P),X.push([P,y.F])),_.formula)y.f=eL(_.formula);else for(oe=0;oe<X.length;++oe)S>=X[oe][0].s.r&&S<=X[oe][0].e.r&&R>=X[oe][0].s.c&&R<=X[oe][0].e.c&&(y.F=X[oe][1]);switch((_["number-columns-spanned"]||_["number-rows-spanned"])&&(k=parseInt(_["number-rows-spanned"],10)||0,U=parseInt(_["number-columns-spanned"],10)||0,P={s:{r:S,c:R},e:{r:S+k-1,c:R+U-1}},F.push(P)),_["number-columns-repeated"]&&(G=parseInt(_["number-columns-repeated"],10)),y.t){case"boolean":y.t="b",y.v=Tr(_["boolean-value"]);break;case"float":y.t="n",y.v=parseFloat(_.value);break;case"percentage":y.t="n",y.v=parseFloat(_.value);break;case"currency":y.t="n",y.v=parseFloat(_.value);break;case"date":y.t="d",y.v=Dr(_["date-value"]),n.cellDates||(y.t="n",y.v=Ri(y.v)),y.z="m/d/yy";break;case"time":y.t="n",y.v=mDe(_["time-value"])/86400,n.cellDates&&(y.t="d",y.v=Vw(y.v)),y.z="HH:MM:SS";break;case"number":y.t="n",y.v=parseFloat(_.);break;default:if(y.t==="string"||y.t==="text"||!y.t)y.t="s",_["string-value"]!=null&&(x=jn(_["string-value"]),C=[]);else throw new Error("Unsupported value type "+y.t)}}else{if(Y=!1,y.t==="s"&&(y.v=x||"",C.length&&(y.R=C),Y=w==0),z.Target&&(y.l=z),B.length>0&&(y.c=B,B=[]),x&&n.cellText!==!1&&(y.w=x),Y&&(y.t="z",delete y.v),(!Y||n.sheetStubs)&&!(n.sheetRows&&n.sheetRows<=S))for(var fe=0;fe<H;++fe){if(G=parseInt(_["number-columns-repeated"]||"1",10),n.dense)for(v[S+fe]||(v[S+fe]=[]),v[S+fe][R]=fe==0?y:Ar(y);--G>0;)v[S+fe][R+G]=Ar(y);else for(v[sn({r:S+fe,c:R})]=y;--G>0;)v[sn({r:S+fe,c:R+G})]=Ar(y);D.e.c<=R&&(D.e.c=R)}G=parseInt(_["number-columns-repeated"]||"1",10),R+=G-1,G=0,y={},x="",C=[]}z={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(g[1]==="/"){if((s=i.pop())[0]!==g[3])throw"Bad state: "+s}else g[0].charAt(g[0].length-2)!=="/"&&i.push([g[3],!0]);break;case"annotation":if(g[1]==="/"){if((s=i.pop())[0]!==g[3])throw"Bad state: "+s;j.t=x,C.length&&(j.R=C),j.a=q,B.push(j)}else g[0].charAt(g[0].length-2)!=="/"&&i.push([g[3],!1]);q="",J=0,x="",w=0,C=[];break;case"creator":g[1]==="/"?q=r.slice(J,g.index):J=g.index+g[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(g[1]==="/"){if((s=i.pop())[0]!==g[3])throw"Bad state: "+s}else g[0].charAt(g[0].length-2)!=="/"&&i.push([g[3],!1]);x="",w=0,C=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(g[1]==="/"){if(I[o.name]=l,(s=i.pop())[0]!==g[3])throw"Bad state: "+s}else g[0].charAt(g[0].length-2)!=="/"&&(l="",o=an(g[0],!1),i.push([g[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":a=an(g[0],!1),l+=sL[g[3]][a.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":a=an(g[0],!1),l+=sL[g[3]][a.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(g[0].slice(-2)==="/>")break;if(g[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":l+=r.slice(c,g.index);break}else c=g.index+g[0].length;break;case"named-range":a=an(g[0],!1),Q=y4(a["cell-range-address"]);var Ce={Name:a.name,Ref:Q[0]+"!"+Q[1]};te&&(Ce.Sheet=p.length),Z.Names.push(Ce);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(g[1]==="/"&&(!_||!_["string-value"])){var Pe=W8e(r.slice(w,g.index));x=(x.length>0?x+`
`:"")+Pe[0]}else an(g[0],!1),w=g.index+g[0].length;break;case"s":break;case"database-range":if(g[1]==="/")break;try{Q=y4(an(g[0])["target-range-address"]),h[Q[0]]["!autofilter"]={ref:Q[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(g[1]!=="/"){if(z=an(g[0],!1),!z.href)break;z.Target=jn(z.href),delete z.href,z.Target.charAt(0)=="#"&&z.Target.indexOf(".")>-1?(Q=y4(z.Target.slice(1)),z.Target="#"+Q[0]+"!"+Q[1]):z.Target.match(/^\.\.[\\\/]/)&&(z.Target=z.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(g[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(n.WTF)throw new Error(g)}}var pe={Sheets:h,SheetNames:p,Workbook:Z};return n.bookSheets&&delete pe.Sheets,pe}function aL(t,e){e=e||{},lo(t,"META-INF/manifest.xml")&&mAe(bi(t,"META-INF/manifest.xml"),e);var n=Ua(t,"content.xml");if(!n)throw new Error("Missing content.xml in ODS / UOF file");var r=vX(ur(n),e);return lo(t,"meta.xml")&&(r.Props=lJ(bi(t,"meta.xml"))),r}function oL(t,e){return vX(t,e)}var q8e=(function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+n1({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return pi+e}})(),lL=(function(){var t=function(s){return ar(s).replace(/  +/g,function(a){return'<text:s text:c="'+a.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,n=`          <table:covered-table-cell/>
`,r=function(s,a,o){var l=[];l.push('      <table:table table:name="'+ar(a.SheetNames[o])+`" table:style-name="ta1">
`);var c=0,u=0,f=xa(s["!ref"]||"A1"),h=s["!merges"]||[],p=0,v=Array.isArray(s);if(s["!cols"])for(u=0;u<=f.e.c;++u)l.push("        <table:table-column"+(s["!cols"][u]?' table:style-name="co'+s["!cols"][u].ods+'"':"")+`></table:table-column>
`);var g="",y=s["!rows"]||[];for(c=0;c<f.s.r;++c)g=y[c]?' table:style-name="ro'+y[c].ods+'"':"",l.push("        <table:table-row"+g+`></table:table-row>
`);for(;c<=f.e.r;++c){for(g=y[c]?' table:style-name="ro'+y[c].ods+'"':"",l.push("        <table:table-row"+g+`>
`),u=0;u<f.s.c;++u)l.push(e);for(;u<=f.e.c;++u){var _=!1,x={},w="";for(p=0;p!=h.length;++p)if(!(h[p].s.c>u)&&!(h[p].s.r>c)&&!(h[p].e.c<u)&&!(h[p].e.r<c)){(h[p].s.c!=u||h[p].s.r!=c)&&(_=!0),x["table:number-columns-spanned"]=h[p].e.c-h[p].s.c+1,x["table:number-rows-spanned"]=h[p].e.r-h[p].s.r+1;break}if(_){l.push(n);continue}var C=sn({r:c,c:u}),S=v?(s[c]||[])[u]:s[C];if(S&&S.f&&(x["table:formula"]=ar(c5e(S.f)),S.F&&S.F.slice(0,C.length)==C)){var R=xa(S.F);x["table:number-matrix-columns-spanned"]=R.e.c-R.s.c+1,x["table:number-matrix-rows-spanned"]=R.e.r-R.s.r+1}if(!S){l.push(e);continue}switch(S.t){case"b":w=S.v?"TRUE":"FALSE",x["office:value-type"]="boolean",x["office:boolean-value"]=S.v?"true":"false";break;case"n":w=S.w||String(S.v||0),x["office:value-type"]="float",x["office:value"]=S.v||0;break;case"s":case"str":w=S.v==null?"":S.v,x["office:value-type"]="string";break;case"d":w=S.w||Dr(S.v).toISOString(),x["office:value-type"]="date",x["office:date-value"]=Dr(S.v).toISOString(),x["table:style-name"]="ce1";break;default:l.push(e);continue}var D=t(w);if(S.l&&S.l.Target){var N=S.l.Target;N=N.charAt(0)=="#"?"#"+u5e(N.slice(1)):N,N.charAt(0)!="#"&&!N.match(/^\w+:/)&&(N="../"+N),D=Et("text:a",D,{"xlink:href":N.replace(/&/g,"&amp;")})}l.push("          "+Et("table:table-cell",Et("text:p",D,{}),x)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},i=function(s,a){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var o=0;a.SheetNames.map(function(c){return a.Sheets[c]}).forEach(function(c){if(c&&c["!cols"]){for(var u=0;u<c["!cols"].length;++u)if(c["!cols"][u]){var f=c["!cols"][u];if(f.width==null&&f.wpx==null&&f.wch==null)continue;sd(f),f.ods=o;var h=c["!cols"][u].wpx+"px";s.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+`"/>
`),s.push(`  </style:style>
`),++o}}});var l=0;a.SheetNames.map(function(c){return a.Sheets[c]}).forEach(function(c){if(c&&c["!rows"]){for(var u=0;u<c["!rows"].length;++u)if(c["!rows"][u]){c["!rows"][u].ods=l;var f=c["!rows"][u].hpx+"px";s.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),s.push(`  </style:style>
`),++l}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(a,o){var l=[pi],c=n1({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=n1({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(l.push("<office:document"+c+u+`>
`),l.push(oJ().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+c+`>
`),i(l,a),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var f=0;f!=a.SheetNames.length;++f)l.push(r(a.Sheets[a.SheetNames[f]],a,f));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),o.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}})();function xX(t,e){if(e.bookType=="fods")return lL(t,e);var n=RI(),r="",i=[],s=[];return r="mimetype",gn(n,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",gn(n,r,lL(t,e)),i.push([r,"text/xml"]),s.push([r,"ContentFile"]),r="styles.xml",gn(n,r,q8e(t,e)),i.push([r,"text/xml"]),s.push([r,"StylesFile"]),r="meta.xml",gn(n,r,pi+oJ()),i.push([r,"text/xml"]),s.push([r,"MetadataFile"]),r="manifest.rdf",gn(n,r,vAe(s)),i.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",gn(n,r,gAe(i)),n}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Qf(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function v3(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):ur(vd(t))}function $8e(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):Ma(Pl(t))}function z8e(t,e){e:for(var n=0;n<=t.length-e.length;++n){for(var r=0;r<e.length;++r)if(t[n+r]!=e[r])continue e;return!0}return!1}function od(t){var e=t.reduce(function(i,s){return i+s.length},0),n=new Uint8Array(e),r=0;return t.forEach(function(i){n.set(i,r),r+=i.length}),n}function cL(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function H8e(t,e){for(var n=(t[e+15]&127)<<7|t[e+14]>>1,r=t[e+14]&1,i=e+13;i>=e;--i)r=r*256+t[i];return(t[e+15]&128?-r:r)*Math.pow(10,n-6176)}function G8e(t,e,n){var r=Math.floor(n==0?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,i=n/Math.pow(10,r-6176);t[e+15]|=r>>7,t[e+14]|=(r&127)<<1;for(var s=0;i>=1;++s,i/=256)t[e+s]=i&255;t[e+15]|=n>=0?0:128}function u1(t,e){var n=e?e[0]:0,r=t[n]&127;e:if(t[n++]>=128&&(r|=(t[n]&127)<<7,t[n++]<128||(r|=(t[n]&127)<<14,t[n++]<128)||(r|=(t[n]&127)<<21,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,28),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,35),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,42),++n,t[n++]<128)))break e;return e&&(e[0]=n),r}function rr(t){var e=new Uint8Array(7);e[0]=t&127;var n=1;e:if(t>127){if(e[n-1]|=128,e[n]=t>>7&127,++n,t<=16383||(e[n-1]|=128,e[n]=t>>14&127,++n,t<=2097151)||(e[n-1]|=128,e[n]=t>>21&127,++n,t<=268435455)||(e[n-1]|=128,e[n]=t/256>>>21&127,++n,t<=34359738367)||(e[n-1]|=128,e[n]=t/65536>>>21&127,++n,t<=4398046511103))break e;e[n-1]|=128,e[n]=t/16777216>>>21&127,++n}return e.slice(0,n)}function Qr(t){var e=0,n=t[e]&127;e:if(t[e++]>=128){if(n|=(t[e]&127)<<7,t[e++]<128||(n|=(t[e]&127)<<14,t[e++]<128)||(n|=(t[e]&127)<<21,t[e++]<128))break e;n|=(t[e]&127)<<28}return n}function $n(t){for(var e=[],n=[0];n[0]<t.length;){var r=n[0],i=u1(t,n),s=i&7;i=Math.floor(i/8);var a=0,o;if(i==0)break;switch(s){case 0:{for(var l=n[0];t[n[0]++]>=128;);o=t.slice(l,n[0])}break;case 5:a=4,o=t.slice(n[0],n[0]+a),n[0]+=a;break;case 1:a=8,o=t.slice(n[0],n[0]+a),n[0]+=a;break;case 2:a=u1(t,n),o=t.slice(n[0],n[0]+a),n[0]+=a;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(r))}var c={data:o,type:s};e[i]==null?e[i]=[c]:e[i].push(c)}return e}function ss(t){var e=[];return t.forEach(function(n,r){n.forEach(function(i){i.data&&(e.push(rr(r*8+i.type)),i.type==2&&e.push(rr(i.data.length)),e.push(i.data))})}),od(e)}function s6(t,e){return(t==null?void 0:t.map(function(n){return e(n.data)}))||[]}function ao(t){for(var e,n=[],r=[0];r[0]<t.length;){var i=u1(t,r),s=$n(t.slice(r[0],r[0]+i));r[0]+=i;var a={id:Qr(s[1][0].data),messages:[]};s[2].forEach(function(o){var l=$n(o.data),c=Qr(l[3][0].data);a.messages.push({meta:l,data:t.slice(r[0],r[0]+c)}),r[0]+=c}),(e=s[3])!=null&&e[0]&&(a.merge=Qr(s[3][0].data)>>>0>0),n.push(a)}return n}function mp(t){var e=[];return t.forEach(function(n){var r=[];r[1]=[{data:rr(n.id),type:0}],r[2]=[],n.merge!=null&&(r[3]=[{data:rr(+!!n.merge),type:0}]);var i=[];n.messages.forEach(function(a){i.push(a.data),a.meta[3]=[{type:0,data:rr(a.data.length)}],r[2].push({data:ss(a.meta),type:2})});var s=ss(r);e.push(rr(s.length)),e.push(s),i.forEach(function(a){return e.push(a)})}),od(e)}function K8e(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var n=[0],r=u1(e,n),i=[];n[0]<e.length;){var s=e[n[0]]&3;if(s==0){var a=e[n[0]++]>>2;if(a<60)++a;else{var o=a-59;a=e[n[0]],o>1&&(a|=e[n[0]+1]<<8),o>2&&(a|=e[n[0]+2]<<16),o>3&&(a|=e[n[0]+3]<<24),a>>>=0,a++,n[0]+=o}i.push(e.slice(n[0],n[0]+a)),n[0]+=a;continue}else{var l=0,c=0;if(s==1?(c=(e[n[0]]>>2&7)+4,l=(e[n[0]++]&224)<<3,l|=e[n[0]++]):(c=(e[n[0]++]>>2)+1,s==2?(l=e[n[0]]|e[n[0]+1]<<8,n[0]+=2):(l=(e[n[0]]|e[n[0]+1]<<8|e[n[0]+2]<<16|e[n[0]+3]<<24)>>>0,n[0]+=4)),i=[od(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(i.push(i[0].slice(-l)),c-=l;c>=i[i.length-1].length;)i.push(i[i.length-1]),c-=i[i.length-1].length;i.push(i[0].slice(-l,-l+c))}}var u=od(i);if(u.length!=r)throw new Error("Unexpected length: ".concat(u.length," != ").concat(r));return u}function oo(t){for(var e=[],n=0;n<t.length;){var r=t[n++],i=t[n]|t[n+1]<<8|t[n+2]<<16;n+=3,e.push(K8e(r,t.slice(n,n+i))),n+=i}if(n!==t.length)throw new Error("data is not a valid framed stream!");return od(e)}function gp(t){for(var e=[],n=0;n<t.length;){var r=Math.min(t.length-n,268435455),i=new Uint8Array(4);e.push(i);var s=rr(r),a=s.length;e.push(s),r<=60?(a++,e.push(new Uint8Array([r-1<<2]))):r<=256?(a+=2,e.push(new Uint8Array([240,r-1&255]))):r<=65536?(a+=3,e.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(a+=4,e.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(a+=5,e.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),e.push(t.slice(n,n+r)),a+=r,i[0]=0,i[1]=a&255,i[2]=a>>8&255,i[3]=a>>16&255,n+=r}return od(e)}function J8e(t,e,n,r){var i=Qf(t),s=i.getUint32(4,!0),a=(r>1?12:8)+cL(s&(r>1?3470:398))*4,o=-1,l=-1,c=NaN,u=new Date(2001,0,1);s&512&&(o=i.getUint32(a,!0),a+=4),a+=cL(s&(r>1?12288:4096))*4,s&16&&(l=i.getUint32(a,!0),a+=4),s&32&&(c=i.getFloat64(a,!0),a+=8),s&64&&(u.setTime(u.getTime()+i.getFloat64(a,!0)*1e3),a+=8);var f;switch(t[2]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:e[l]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:n[o]};else if(l>-1)f={t:"s",v:e[l]};else if(!isNaN(c))f={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return f}function X8e(t,e,n){var r=Qf(t),i=r.getUint32(8,!0),s=12,a=-1,o=-1,l=NaN,c=NaN,u=new Date(2001,0,1);i&1&&(l=H8e(t,s),s+=16),i&2&&(c=r.getFloat64(s,!0),s+=8),i&4&&(u.setTime(u.getTime()+r.getFloat64(s,!0)*1e3),s+=8),i&8&&(o=r.getUint32(s,!0),s+=4),i&16&&(a=r.getUint32(s,!0),s+=4);var f;switch(t[1]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:e[o]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(a>-1)f={t:"s",v:n[a]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)));break;case 10:f={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)))}return f}function x4(t,e){var n=new Uint8Array(32),r=Qf(n),i=12,s=0;switch(n[0]=5,t.t){case"n":n[1]=2,G8e(n,i,t.v),s|=1,i+=16;break;case"b":n[1]=6,r.setFloat64(i,t.v?1:0,!0),s|=2,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[1]=3,r.setUint32(i,e.indexOf(t.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(8,s,!0),n.slice(0,i)}function b4(t,e){var n=new Uint8Array(32),r=Qf(n),i=12,s=0;switch(n[0]=3,t.t){case"n":n[2]=2,r.setFloat64(i,t.v,!0),s|=32,i+=8;break;case"b":n[2]=6,r.setFloat64(i,t.v?1:0,!0),s|=32,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[2]=3,r.setUint32(i,e.indexOf(t.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(4,s,!0),n.slice(0,i)}function Y8e(t,e,n){switch(t[0]){case 0:case 1:case 2:case 3:return J8e(t,e,n,t[0]);case 5:return X8e(t,e,n);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function ws(t){var e=$n(t);return u1(e[1][0].data)}function uL(t,e){var n=$n(e.data),r=Qr(n[1][0].data),i=n[3],s=[];return(i||[]).forEach(function(a){var o=$n(a.data),l=Qr(o[1][0].data)>>>0;switch(r){case 1:s[l]=v3(o[3][0].data);break;case 8:{var c=t[ws(o[9][0].data)][0],u=$n(c.data),f=t[ws(u[1][0].data)][0],h=Qr(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var p=$n(f.data);s[l]=p[3].map(function(v){return v3(v.data)}).join("")}break}}),s}function Q8e(t,e){var n,r,i,s,a,o,l,c,u,f,h,p,v,g,y=$n(t),_=Qr(y[1][0].data)>>>0,x=Qr(y[2][0].data)>>>0,w=((r=(n=y[8])==null?void 0:n[0])==null?void 0:r.data)&&Qr(y[8][0].data)>0||!1,C,S;if((s=(i=y[7])==null?void 0:i[0])!=null&&s.data&&e!=0)C=(o=(a=y[7])==null?void 0:a[0])==null?void 0:o.data,S=(c=(l=y[6])==null?void 0:l[0])==null?void 0:c.data;else if((f=(u=y[4])==null?void 0:u[0])!=null&&f.data&&e!=1)C=(p=(h=y[4])==null?void 0:h[0])==null?void 0:p.data,S=(g=(v=y[3])==null?void 0:v[0])==null?void 0:g.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var R=w?4:1,D=Qf(C),N=[],I=0;I<C.length/2;++I){var F=D.getUint16(I*2,!0);F<65535&&N.push([I,F])}if(N.length!=x)throw"Expected ".concat(x," cells, found ").concat(N.length);var P=[];for(I=0;I<N.length-1;++I)P[N[I][0]]=S.subarray(N[I][1]*R,N[I+1][1]*R);return N.length>=1&&(P[N[N.length-1][0]]=S.subarray(N[N.length-1][1]*R)),{R:_,cells:P}}function Z8e(t,e){var n,r=$n(e.data),i=(n=r==null?void 0:r[7])!=null&&n[0]?Qr(r[7][0].data)>>>0>0?1:0:-1,s=s6(r[5],function(a){return Q8e(a,i)});return{nrows:Qr(r[4][0].data)>>>0,data:s.reduce(function(a,o){return a[o.R]||(a[o.R]=[]),o.cells.forEach(function(l,c){if(a[o.R][c])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(c));a[o.R][c]=l}),a},[])}}function eFe(t,e,n){var r,i=$n(e.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(Qr(i[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(s.e.c=(Qr(i[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));n["!ref"]=pn(s);var a=$n(i[4][0].data),o=uL(t,t[ws(a[4][0].data)][0]),l=(r=a[17])!=null&&r[0]?uL(t,t[ws(a[17][0].data)][0]):[],c=$n(a[3][0].data),u=0;c[1].forEach(function(f){var h=$n(f.data),p=t[ws(h[2][0].data)][0],v=Qr(p.meta[1][0].data);if(v!=6002)throw new Error("6001 unexpected reference to ".concat(v));var g=Z8e(t,p);g.data.forEach(function(y,_){y.forEach(function(x,w){var C=sn({r:u+_,c:w}),S=Y8e(x,o,l);S&&(n[C]=S)})}),u+=g.nrows})}function tFe(t,e){var n=$n(e.data),r={"!ref":"A1"},i=t[ws(n[2][0].data)],s=Qr(i[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return eFe(t,i[0],r),r}function nFe(t,e){var n,r=$n(e.data),i={name:(n=r[1])!=null&&n[0]?v3(r[1][0].data):"",sheets:[]},s=s6(r[2],ws);return s.forEach(function(a){t[a].forEach(function(o){var l=Qr(o.meta[1][0].data);l==6e3&&i.sheets.push(tFe(t,o))})}),i}function rFe(t,e){var n=u6(),r=$n(e.data),i=s6(r[1],ws);if(i.forEach(function(s){t[s].forEach(function(a){var o=Qr(a.meta[1][0].data);if(o==2){var l=nFe(t,a);l.sheets.forEach(function(c,u){d6(n,c,u==0?l.name:l.name+"_"+u,!0)})}})}),n.SheetNames.length==0)throw new Error("Empty NUMBERS file");return n}function _4(t){var e,n,r,i,s={},a=[];if(t.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=oo(l.content)}catch(f){return console.log("?? "+l.content.length+" "+(f.message||f))}var u;try{u=ao(c)}catch(f){return console.log("## "+(f.message||f))}u.forEach(function(f){s[f.id]=f.messages,a.push(f.id)})}}),!a.length)throw new Error("File has no messages");var o=((i=(r=(n=(e=s==null?void 0:s[1])==null?void 0:e[0])==null?void 0:n.meta)==null?void 0:r[1])==null?void 0:i[0].data)&&Qr(s[1][0].meta[1][0].data)==1&&s[1][0];if(o||a.forEach(function(l){s[l].forEach(function(c){var u=Qr(c.meta[1][0].data)>>>0;if(u==1)if(!o)o=c;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return rFe(s,o)}function iFe(t,e,n){var r,i,s,a;if(!((r=t[6])!=null&&r[0])||!((i=t[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var o=((a=(s=t[8])==null?void 0:s[0])==null?void 0:a.data)&&Qr(t[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var l=0,c=Qf(t[7][0].data),u=0,f=[],h=Qf(t[4][0].data),p=0,v=[],g=0;g<e.length;++g){if(e[g]==null){c.setUint16(g*2,65535,!0),h.setUint16(g*2,65535);continue}c.setUint16(g*2,u,!0),h.setUint16(g*2,p,!0);var y,_;switch(typeof e[g]){case"string":y=x4({t:"s",v:e[g]},n),_=b4({t:"s",v:e[g]},n);break;case"number":y=x4({t:"n",v:e[g]},n),_=b4({t:"n",v:e[g]},n);break;case"boolean":y=x4({t:"b",v:e[g]},n),_=b4({t:"b",v:e[g]},n);break;default:throw new Error("Unsupported value "+e[g])}f.push(y),u+=y.length,v.push(_),p+=_.length,++l}for(t[2][0].data=rr(l);g<t[7][0].data.length/2;++g)c.setUint16(g*2,65535,!0),h.setUint16(g*2,65535,!0);return t[6][0].data=od(f),t[3][0].data=od(v),l}function sFe(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=xa(n["!ref"]);r.s.r=r.s.c=0;var i=!1;r.e.c>9&&(i=!0,r.e.c=9),r.e.r>49&&(i=!0,r.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(pn(r)));var s=s_(n,{range:r,header:1}),a=["~Sh33tJ5~"];s.forEach(function(q){return q.forEach(function(J){typeof J=="string"&&a.push(J)})});var o={},l=[],c=Jt.read(e.numbers,{type:"base64"});c.FileIndex.map(function(q,J){return[q,c.FullPaths[J]]}).forEach(function(q){var J=q[0],Y=q[1];if(J.type==2&&J.name.match(/\.iwa/)){var te=J.content,oe=oo(te),de=ao(oe);de.forEach(function(fe){l.push(fe.id),o[fe.id]={deps:[],location:Y,type:Qr(fe.messages[0].meta[1][0].data)}})}}),l.sort(function(q,J){return q-J});var u=l.filter(function(q){return q>1}).map(function(q){return[q,rr(q)]});c.FileIndex.map(function(q,J){return[q,c.FullPaths[J]]}).forEach(function(q){var J=q[0];if(q[1],!!J.name.match(/\.iwa/)){var Y=ao(oo(J.content));Y.forEach(function(te){te.messages.forEach(function(oe){u.forEach(function(de){te.messages.some(function(fe){return Qr(fe.meta[1][0].data)!=11006&&z8e(fe.data,de[1])})&&o[de[0]].deps.push(te.id)})})})}});for(var f=Jt.find(c,o[1].location),h=ao(oo(f.content)),p,v=0;v<h.length;++v){var g=h[v];g.id==1&&(p=g)}var y=ws($n(p.messages[0].data)[1][0].data);for(f=Jt.find(c,o[y].location),h=ao(oo(f.content)),v=0;v<h.length;++v)g=h[v],g.id==y&&(p=g);for(y=ws($n(p.messages[0].data)[2][0].data),f=Jt.find(c,o[y].location),h=ao(oo(f.content)),v=0;v<h.length;++v)g=h[v],g.id==y&&(p=g);for(y=ws($n(p.messages[0].data)[2][0].data),f=Jt.find(c,o[y].location),h=ao(oo(f.content)),v=0;v<h.length;++v)g=h[v],g.id==y&&(p=g);var _=$n(p.messages[0].data);{_[6][0].data=rr(r.e.r+1),_[7][0].data=rr(r.e.c+1);var x=ws(_[46][0].data),w=Jt.find(c,o[x].location),C=ao(oo(w.content));{for(var S=0;S<C.length&&C[S].id!=x;++S);if(C[S].id!=x)throw"Bad ColumnRowUIDMapArchive";var R=$n(C[S].messages[0].data);R[1]=[],R[2]=[],R[3]=[];for(var D=0;D<=r.e.c;++D){var N=[];N[1]=N[2]=[{type:0,data:rr(D+420690)}],R[1].push({type:2,data:ss(N)}),R[2].push({type:0,data:rr(D)}),R[3].push({type:0,data:rr(D)})}R[4]=[],R[5]=[],R[6]=[];for(var I=0;I<=r.e.r;++I)N=[],N[1]=N[2]=[{type:0,data:rr(I+726270)}],R[4].push({type:2,data:ss(N)}),R[5].push({type:0,data:rr(I)}),R[6].push({type:0,data:rr(I)});C[S].messages[0].data=ss(R)}w.content=gp(mp(C)),w.size=w.content.length,delete _[46];var F=$n(_[4][0].data);{F[7][0].data=rr(r.e.r+1);var P=$n(F[1][0].data),k=ws(P[2][0].data);w=Jt.find(c,o[k].location),C=ao(oo(w.content));{if(C[0].id!=k)throw"Bad HeaderStorageBucket";var U=$n(C[0].messages[0].data);for(I=0;I<s.length;++I){var O=$n(U[2][0].data);O[1][0].data=rr(I),O[4][0].data=rr(s[I].length),U[2][I]={type:U[2][0].type,data:ss(O)}}C[0].messages[0].data=ss(U)}w.content=gp(mp(C)),w.size=w.content.length;var H=ws(F[2][0].data);w=Jt.find(c,o[H].location),C=ao(oo(w.content));{if(C[0].id!=H)throw"Bad HeaderStorageBucket";for(U=$n(C[0].messages[0].data),D=0;D<=r.e.c;++D)O=$n(U[2][0].data),O[1][0].data=rr(D),O[4][0].data=rr(r.e.r+1),U[2][D]={type:U[2][0].type,data:ss(O)};C[0].messages[0].data=ss(U)}w.content=gp(mp(C)),w.size=w.content.length;var G=ws(F[4][0].data);(function(){for(var q=Jt.find(c,o[G].location),J=ao(oo(q.content)),Y,te=0;te<J.length;++te){var oe=J[te];oe.id==G&&(Y=oe)}var de=$n(Y.messages[0].data);{de[3]=[];var fe=[];a.forEach(function(pe,Me){fe[1]=[{type:0,data:rr(Me)}],fe[2]=[{type:0,data:rr(1)}],fe[3]=[{type:2,data:$8e(pe)}],de[3].push({type:2,data:ss(fe)})})}Y.messages[0].data=ss(de);var Ce=mp(J),Pe=gp(Ce);q.content=Pe,q.size=q.content.length})();var X=$n(F[3][0].data);{var Z=X[1][0];delete X[2];var z=$n(Z.data);{var Q=ws(z[2][0].data);(function(){for(var q=Jt.find(c,o[Q].location),J=ao(oo(q.content)),Y,te=0;te<J.length;++te){var oe=J[te];oe.id==Q&&(Y=oe)}var de=$n(Y.messages[0].data);{delete de[6],delete X[7];var fe=new Uint8Array(de[5][0].data);de[5]=[];for(var Ce=0,Pe=0;Pe<=r.e.r;++Pe){var pe=$n(fe);Ce+=iFe(pe,s[Pe],a),pe[1][0].data=rr(Pe),de[5].push({data:ss(pe),type:2})}de[1]=[{type:0,data:rr(r.e.c+1)}],de[2]=[{type:0,data:rr(r.e.r+1)}],de[3]=[{type:0,data:rr(Ce)}],de[4]=[{type:0,data:rr(r.e.r+1)}]}Y.messages[0].data=ss(de);var Me=mp(J),W=gp(Me);q.content=W,q.size=q.content.length})()}Z.data=ss(z)}F[3][0].data=ss(X)}_[4][0].data=ss(F)}p.messages[0].data=ss(_);var B=mp(h),j=gp(B);return f.content=j,f.size=f.content.length,c}function bX(t){return function(n){for(var r=0;r!=t.length;++r){var i=t[r];n[i[0]]===void 0&&(n[i[0]]=i[1]),i[2]==="n"&&(n[i[0]]=Number(n[i[0]]))}}}function a6(t){bX([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function o6(t){bX([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function aFe(t){return Tn.WS.indexOf(t)>-1?"sheet":t==Tn.CS?"chart":t==Tn.DS?"dialog":t==Tn.MS?"macro":t&&t.length?t:"sheet"}function oFe(t,e){if(!t)return 0;try{t=e.map(function(r){return r.id||(r.id=r.strRelID),[r.name,t["!id"][r.id].Target,aFe(t["!id"][r.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function lFe(t,e,n,r,i,s,a,o,l,c,u,f){try{s[r]=ly(Ua(t,n,!0),e);var h=bi(t,e),p;switch(o){case"sheet":p=kPe(h,e,i,l,s[r],c,u,f);break;case"chart":if(p=IPe(h,e,i,l,s[r],c,u,f),!p||!p["!drawel"])break;var v=P0(p["!drawel"].Target,e),g=i1(v),y=yIe(Ua(t,v,!0),ly(Ua(t,g,!0),v)),_=P0(y,v),x=i1(_);p=iPe(Ua(t,_,!0),_,l,ly(Ua(t,x,!0),_),c,p);break;case"macro":p=RPe(h,e,i,l,s[r],c,u,f);break;case"dialog":p=PPe(h,e,i,l,s[r],c,u,f);break;default:throw new Error("Unrecognized sheet type "+o)}a[r]=p;var w=[];s&&s[r]&&ti(s[r]).forEach(function(C){var S="";if(s[r][C].Type==Tn.CMNT){S=P0(s[r][C].Target,e);var R=OPe(bi(t,S,!0),S,l);if(!R||!R.length)return;JO(p,R,!1)}s[r][C].Type==Tn.TCMNT&&(S=P0(s[r][C].Target,e),w=w.concat(xIe(bi(t,S,!0),l)))}),w&&w.length&&JO(p,w,!0,l.people||[])}catch(C){if(l.WTF)throw C}}function no(t){return t.charAt(0)=="/"?t.slice(1):t}function cFe(t,e){if(cg(),e=e||{},a6(e),lo(t,"META-INF/manifest.xml")||lo(t,"objectdata.xml"))return aL(t,e);if(lo(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof _4<"u"){if(t.FileIndex)return _4(t);var n=Jt.utils.cfb_new();return gO(t).forEach(function(O){gn(n,O,bDe(t,O))}),_4(n)}throw new Error("Unsupported NUMBERS file")}if(!lo(t,"[Content_Types].xml"))throw lo(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):lo(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var r=gO(t),i=hAe(Ua(t,"[Content_Types].xml")),s=!1,a,o;if(i.workbooks.length===0&&(o="xl/workbook.xml",bi(t,o,!0)&&i.workbooks.push(o)),i.workbooks.length===0){if(o="xl/workbook.bin",!bi(t,o,!0))throw new Error("Could not find workbook");i.workbooks.push(o),s=!0}i.workbooks[0].slice(-3)=="bin"&&(s=!0);var l={},c={};if(!e.bookSheets&&!e.bookProps){if(cy=[],i.sst)try{cy=UPe(bi(t,no(i.sst)),i.sst,e)}catch(O){if(e.WTF)throw O}e.cellStyles&&i.themes.length&&(l=MPe(Ua(t,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],e)),i.style&&(c=FPe(bi(t,no(i.style)),i.style,l,e))}i.links.map(function(O){try{var H=ly(Ua(t,i1(no(O))),O);return jPe(bi(t,no(O)),H,O,e)}catch{}});var u=NPe(bi(t,no(i.workbooks[0])),i.workbooks[0],e),f={},h="";i.coreprops.length&&(h=bi(t,no(i.coreprops[0]),!0),h&&(f=lJ(h)),i.extprops.length!==0&&(h=bi(t,no(i.extprops[0]),!0),h&&bAe(h,f,e)));var p={};(!e.bookSheets||e.bookProps)&&i.custprops.length!==0&&(h=Ua(t,no(i.custprops[0]),!0),h&&(p=wAe(h,e)));var v={};if((e.bookSheets||e.bookProps)&&(u.Sheets?a=u.Sheets.map(function(H){return H.name}):f.Worksheets&&f.SheetNames.length>0&&(a=f.SheetNames),e.bookProps&&(v.Props=f,v.Custprops=p),e.bookSheets&&typeof a<"u"&&(v.SheetNames=a),e.bookSheets?v.SheetNames:e.bookProps))return v;a={};var g={};e.bookDeps&&i.calcchain&&(g=LPe(bi(t,no(i.calcchain)),i.calcchain));var y=0,_={},x,w;{var C=u.Sheets;f.Worksheets=C.length,f.SheetNames=[];for(var S=0;S!=C.length;++S)f.SheetNames[S]=C[S].name}var R=s?"bin":"xml",D=i.workbooks[0].lastIndexOf("/"),N=(i.workbooks[0].slice(0,D+1)+"_rels/"+i.workbooks[0].slice(D+1)+".rels").replace(/^\//,"");lo(t,N)||(N="xl/_rels/workbook."+R+".rels");var I=ly(Ua(t,N,!0),N.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(e.xlmeta=BPe(bi(t,no(i.metadata[0])),i.metadata[0],e)),(i.people||[]).length>=1&&(e.people=_Ie(bi(t,no(i.people[0])),e)),I&&(I=oFe(I,u.Sheets));var F=bi(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(y=0;y!=f.Worksheets;++y){var P="sheet";if(I&&I[y]?(x="xl/"+I[y][1].replace(/[\/]?xl\//,""),lo(t,x)||(x=I[y][1]),lo(t,x)||(x=N.replace(/_rels\/.*$/,"")+I[y][1]),P=I[y][2]):(x="xl/worksheets/sheet"+(y+1-F)+"."+R,x=x.replace(/sheet0\./,"sheet.")),w=x.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(y!=e.sheets)continue e;break;case"string":if(f.SheetNames[y].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var k=!1,U=0;U!=e.sheets.length;++U)typeof e.sheets[U]=="number"&&e.sheets[U]==y&&(k=1),typeof e.sheets[U]=="string"&&e.sheets[U].toLowerCase()==f.SheetNames[y].toLowerCase()&&(k=1);if(!k)continue e}}lFe(t,x,w,f.SheetNames[y],y,_,a,P,e,u,l,c)}return v={Directory:i,Workbook:u,Props:f,Custprops:p,Deps:g,Sheets:a,SheetNames:f.SheetNames,Strings:cy,Styles:c,Themes:l,SSF:Ar(tn)},e&&e.bookFiles&&(t.files?(v.keys=r,v.files=t.files):(v.keys=[],v.files={},t.FullPaths.forEach(function(O,H){O=O.replace(/^Root Entry[\/]/,""),v.keys.push(O),v.files[O]=t.FileIndex[H]}))),e&&e.bookVBA&&(i.vba.length>0?v.vbaraw=bi(t,no(i.vba[0]),!0):i.defaults&&i.defaults.bin===NIe&&(v.vbaraw=bi(t,"xl/vbaProject.bin",!0))),v}function uFe(t,e){var n=e||{},r="Workbook",i=Jt.find(t,r);try{if(r="/!DataSpaces/Version",i=Jt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(BNe(i.content),r="/!DataSpaces/DataSpaceMap",i=Jt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var s=WNe(i.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=Jt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var a=qNe(i.content);if(a.length!=1||a[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=Jt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);zNe(i.content)}catch{}if(r="/EncryptionInfo",i=Jt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var o=HNe(i.content);if(r="/EncryptedPackage",i=Jt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],i.content,n.password||"",n);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],i.content,n.password||"",n);throw new Error("File is password-protected")}function dFe(t,e){return e.bookType=="ods"?xX(t,e):e.bookType=="numbers"?sFe(t,e):e.bookType=="xlsb"?fFe(t,e):hFe(t,e)}function fFe(t,e){Fp=1024,t&&!t.SSF&&(t.SSF=Ar(tn)),t&&t.SSF&&(cg(),Lw(t.SSF),e.revssf=Bw(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,uy?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n=e.bookType=="xlsb"?"bin":"xml",r=GJ.indexOf(e.bookType)>-1,i=HI();o6(e=e||{});var s=RI(),a="",o=0;if(e.cellXfs=[],bd(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),a="docProps/core.xml",gn(s,a,cJ(t.Props,e)),i.coreprops.push(a),ir(e.rels,2,a,Tn.CORE_PROPS),a="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],c=0;c<t.SheetNames.length;++c)(t.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(t.SheetNames[c]);t.Props.SheetNames=l}for(t.Props.Worksheets=t.Props.SheetNames.length,gn(s,a,fJ(t.Props)),i.extprops.push(a),ir(e.rels,3,a,Tn.EXT_PROPS),t.Custprops!==t.Props&&ti(t.Custprops||{}).length>0&&(a="docProps/custom.xml",gn(s,a,hJ(t.Custprops)),i.custprops.push(a),ir(e.rels,4,a,Tn.CUST_PROPS)),o=1;o<=t.SheetNames.length;++o){var u={"!id":{}},f=t.Sheets[t.SheetNames[o-1]],h=(f||{})["!type"]||"sheet";switch(h){case"chart":default:a="xl/worksheets/sheet"+o+"."+n,gn(s,a,WPe(o-1,a,e,t,u)),i.sheets.push(a),ir(e.wbrels,-1,"worksheets/sheet"+o+"."+n,Tn.WS[0])}if(f){var p=f["!comments"],v=!1,g="";p&&p.length>0&&(g="xl/comments"+o+"."+n,gn(s,g,zPe(p,g)),i.comments.push(g),ir(u,-1,"../comments"+o+"."+n,Tn.CMNT),v=!0),f["!legacy"]&&v&&gn(s,"xl/drawings/vmlDrawing"+o+".vml",zJ(o,f["!comments"])),delete f["!comments"],delete f["!legacy"]}u["!id"].rId1&&gn(s,i1(a),Gp(u))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+n,gn(s,a,$Pe(e.Strings,a,e)),i.strs.push(a),ir(e.wbrels,-1,"sharedStrings."+n,Tn.SST)),a="xl/workbook."+n,gn(s,a,VPe(t,a)),i.workbooks.push(a),ir(e.rels,1,a,Tn.WB),a="xl/theme/theme1.xml",gn(s,a,QI(t.Themes,e)),i.themes.push(a),ir(e.wbrels,-1,"theme/theme1.xml",Tn.THEME),a="xl/styles."+n,gn(s,a,qPe(t,a,e)),i.styles.push(a),ir(e.wbrels,-1,"styles."+n,Tn.STY),t.vbaraw&&r&&(a="xl/vbaProject.bin",gn(s,a,t.vbaraw),i.vba.push(a),ir(e.wbrels,-1,"vbaProject.bin",Tn.VBA)),a="xl/metadata."+n,gn(s,a,HPe(a)),i.metadata.push(a),ir(e.wbrels,-1,"metadata."+n,Tn.XLMETA),gn(s,"[Content_Types].xml",aJ(i,e)),gn(s,"_rels/.rels",Gp(e.rels)),gn(s,"xl/_rels/workbook."+n+".rels",Gp(e.wbrels)),delete e.revssf,delete e.ssf,s}function hFe(t,e){Fp=1024,t&&!t.SSF&&(t.SSF=Ar(tn)),t&&t.SSF&&(cg(),Lw(t.SSF),e.revssf=Bw(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,uy?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n="xml",r=GJ.indexOf(e.bookType)>-1,i=HI();o6(e=e||{});var s=RI(),a="",o=0;if(e.cellXfs=[],bd(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),a="docProps/core.xml",gn(s,a,cJ(t.Props,e)),i.coreprops.push(a),ir(e.rels,2,a,Tn.CORE_PROPS),a="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],c=0;c<t.SheetNames.length;++c)(t.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(t.SheetNames[c]);t.Props.SheetNames=l}t.Props.Worksheets=t.Props.SheetNames.length,gn(s,a,fJ(t.Props)),i.extprops.push(a),ir(e.rels,3,a,Tn.EXT_PROPS),t.Custprops!==t.Props&&ti(t.Custprops||{}).length>0&&(a="docProps/custom.xml",gn(s,a,hJ(t.Custprops)),i.custprops.push(a),ir(e.rels,4,a,Tn.CUST_PROPS));var u=["SheetJ5"];for(e.tcid=0,o=1;o<=t.SheetNames.length;++o){var f={"!id":{}},h=t.Sheets[t.SheetNames[o-1]],p=(h||{})["!type"]||"sheet";switch(p){case"chart":default:a="xl/worksheets/sheet"+o+"."+n,gn(s,a,iX(o-1,e,t,f)),i.sheets.push(a),ir(e.wbrels,-1,"worksheets/sheet"+o+"."+n,Tn.WS[0])}if(h){var v=h["!comments"],g=!1,y="";if(v&&v.length>0){var _=!1;v.forEach(function(x){x[1].forEach(function(w){w.T==!0&&(_=!0)})}),_&&(y="xl/threadedComments/threadedComment"+o+"."+n,gn(s,y,bIe(v,u,e)),i.threadedcomments.push(y),ir(f,-1,"../threadedComments/threadedComment"+o+"."+n,Tn.TCMNT)),y="xl/comments"+o+"."+n,gn(s,y,HJ(v)),i.comments.push(y),ir(f,-1,"../comments"+o+"."+n,Tn.CMNT),g=!0}h["!legacy"]&&g&&gn(s,"xl/drawings/vmlDrawing"+o+".vml",zJ(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&gn(s,i1(a),Gp(f))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+n,gn(s,a,PJ(e.Strings,e)),i.strs.push(a),ir(e.wbrels,-1,"sharedStrings."+n,Tn.SST)),a="xl/workbook."+n,gn(s,a,cX(t)),i.workbooks.push(a),ir(e.rels,1,a,Tn.WB),a="xl/theme/theme1.xml",gn(s,a,QI(t.Themes,e)),i.themes.push(a),ir(e.wbrels,-1,"theme/theme1.xml",Tn.THEME),a="xl/styles."+n,gn(s,a,VJ(t,e)),i.styles.push(a),ir(e.wbrels,-1,"styles."+n,Tn.STY),t.vbaraw&&r&&(a="xl/vbaProject.bin",gn(s,a,t.vbaraw),i.vba.push(a),ir(e.wbrels,-1,"vbaProject.bin",Tn.VBA)),a="xl/metadata."+n,gn(s,a,$J()),i.metadata.push(a),ir(e.wbrels,-1,"metadata."+n,Tn.XLMETA),u.length>1&&(a="xl/persons/person.xml",gn(s,a,wIe(u)),i.people.push(a),ir(e.wbrels,-1,"persons/person.xml",Tn.PEOPLE)),gn(s,"[Content_Types].xml",aJ(i,e)),gn(s,"_rels/.rels",Gp(e.rels)),gn(s,"xl/_rels/workbook."+n+".rels",Gp(e.wbrels)),delete e.revssf,delete e.ssf,s}function l6(t,e){var n="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":n=qa(t.slice(0,12));break;case"binary":n=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function pFe(t,e){return Jt.find(t,"EncryptedPackage")?uFe(t,e):hX(t,e)}function mFe(t,e){var n,r=t,i=e||{};return i.type||(i.type=_n&&Buffer.isBuffer(t)?"buffer":"base64"),n=MK(r,i),cFe(n,i)}function _X(t,e){var n=0;e:for(;n<t.length;)switch(t.charCodeAt(n)){case 10:case 13:case 32:++n;break;case 60:return g3(t.slice(n),e);default:break e}return km.to_workbook(t,e)}function gFe(t,e){var n="",r=l6(t,e);switch(e.type){case"base64":n=qa(t);break;case"binary":n=t;break;case"buffer":n=t.toString("binary");break;case"array":n=Kf(t);break;default:throw new Error("Unrecognized type "+e.type)}return r[0]==239&&r[1]==187&&r[2]==191&&(n=ur(n)),e.type="binary",_X(n,e)}function yFe(t,e){var n=t;return e.type=="base64"&&(n=qa(n)),n=Qy.utils.decode(1200,n.slice(2),"str"),e.type="binary",_X(n,e)}function vFe(t){return t.match(/[^\x00-\x7F]/)?Pl(t):t}function w4(t,e,n,r){return r?(n.type="string",km.to_workbook(t,n)):km.to_workbook(e,n)}function x3(t,e){DI();var n=e||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return x3(new Uint8Array(t),(n=Ar(n),n.type="array",n));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!n.type&&(n.type=typeof Deno<"u"?"buffer":"array");var r=t,i=[0,0,0,0],s=!1;if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),Jp={},n.dateNF&&(Jp.dateNF=n.dateNF),n.type||(n.type=_n&&Buffer.isBuffer(t)?"buffer":"base64"),n.type=="file"&&(n.type=_n?"buffer":"binary",r=fDe(t),typeof Uint8Array<"u"&&!_n&&(n.type="array")),n.type=="string"&&(s=!0,n.type="binary",n.codepage=65001,r=vFe(t)),n.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var a=new ArrayBuffer(3),o=new Uint8Array(a);if(o.foo="bar",!o.foo)return n=Ar(n),n.type="array",x3(AI(r),n)}switch((i=l6(r,n))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return pFe(Jt.read(r,n),n);break;case 9:if(i[1]<=8)return hX(r,n);break;case 60:return g3(r,n);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return TNe(r,n);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return IJ.to_workbook(r,n);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?mFe(r,n):w4(t,r,n,s);case 239:return i[3]===60?g3(r,n):w4(t,r,n,s);case 255:if(i[1]===254)return yFe(r,n);if(i[1]===0&&i[2]===2&&i[3]===0)return Cf.to_workbook(r,n);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return Cf.to_workbook(r,n);break;case 3:case 131:case 139:case 140:return m3.to_workbook(r,n);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return LJ.to_workbook(r,n);break;case 10:case 13:case 32:return gFe(r,n);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return wNe.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?m3.to_workbook(r,n):w4(t,r,n,s)}function wX(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return tv(e.file,Jt.write(t,{type:_n?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Jt.write(t,e)}function xFe(t,e){var n=Ar(e||{}),r=dFe(t,n);return bFe(r,n)}function bFe(t,e){var n={},r=_n?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(n.compression="DEFLATE"),e.password)n.type=r;else switch(e.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":n.type=r;break;default:throw new Error("Unrecognized type "+e.type)}var i=t.FullPaths?Jt.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!e.compression}):t.generate(n);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(Ow(i))}return e.password&&typeof encrypt_agile<"u"?wX(encrypt_agile(i,e.password),e):e.type==="file"?tv(e.file,i):e.type=="string"?ur(i):i}function _Fe(t,e){var n=e||{},r=v8e(t,n);return wX(r,n)}function xl(t,e,n){n||(n="");var r=n+t;switch(e.type){case"base64":return Zy(Pl(r));case"binary":return Pl(r);case"string":return t;case"file":return tv(e.file,r,"utf8");case"buffer":return _n?zc(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):xl(r,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function wFe(t,e){switch(e.type){case"base64":return Zy(t);case"binary":return t;case"string":return t;case"file":return tv(e.file,t,"binary");case"buffer":return _n?zc(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Xx(t,e){switch(e.type){case"string":case"base64":case"binary":for(var n="",r=0;r<t.length;++r)n+=String.fromCharCode(t[r]);return e.type=="base64"?Zy(n):e.type=="string"?ur(n):n;case"file":return tv(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function TX(t,e){DI(),pPe(t);var n=Ar(e||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),n.type=="array"){n.type="binary";var r=TX(t,n);return n.type="array",Ow(r)}var i=0;if(n.sheet&&(typeof n.sheet=="number"?i=n.sheet:i=t.SheetNames.indexOf(n.sheet),!t.SheetNames[i]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return xl(d8e(t,n),n);case"slk":case"sylk":return xl(kJ.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"htm":case"html":return xl(mX(t.Sheets[t.SheetNames[i]],n),n);case"txt":return wFe(EX(t.Sheets[t.SheetNames[i]],n),n);case"csv":return xl(c6(t.Sheets[t.SheetNames[i]],n),n,"\uFEFF");case"dif":return xl(IJ.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"dbf":return Xx(m3.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"prn":return xl(km.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"rtf":return xl(LJ.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"eth":return xl(RJ.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"fods":return xl(xX(t,n),n);case"wk1":return Xx(Cf.sheet_to_wk1(t.Sheets[t.SheetNames[i]],n),n);case"wk3":return Xx(Cf.book_to_wk3(t,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),Xx(pX(t,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),_Fe(t,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return xFe(t,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function TFe(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},n=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();n.match(/^\.[a-z]+$/)&&(t.bookType=n.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function EFe(t,e,n){var r={};return r.type="file",r.file=e,TFe(r),TX(t,r)}function CFe(t,e,n,r,i,s,a,o){var l=fi(n),c=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,h=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:n,enumerable:!1})}catch{h.__rowNum__=n}else h.__rowNum__=n;if(!a||t[n])for(var p=e.s.c;p<=e.e.c;++p){var v=a?t[n][p]:t[r[p]+l];if(v===void 0||v.t===void 0){if(c===void 0)continue;s[p]!=null&&(h[s[p]]=c);continue}var g=v.v;switch(v.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+v.t)}if(s[p]!=null){if(g==null)if(v.t=="e"&&g===null)h[s[p]]=null;else if(c!==void 0)h[s[p]]=c;else if(u&&g===null)h[s[p]]=null;else continue;else h[s[p]]=u&&(v.t!=="n"||v.t==="n"&&o.rawNumbers!==!1)?g:Pc(v,g,o);g!=null&&(f=!1)}}return{row:h,isempty:f}}function s_(t,e){if(t==null||t["!ref"]==null)return[];var n={t:"n",v:0},r=0,i=1,s=[],a=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=e||{},u=c.range!=null?c.range:t["!ref"];switch(c.header===1?r=1:c.header==="A"?r=2:Array.isArray(c.header)?r=3:c.header==null&&(r=0),typeof u){case"string":l=Bn(u);break;case"number":l=Bn(t["!ref"]),l.s.r=u;break;default:l=u}r>0&&(i=0);var f=fi(l.s.r),h=[],p=[],v=0,g=0,y=Array.isArray(t),_=l.s.r,x=0,w={};y&&!t[_]&&(t[_]=[]);var C=c.skipHidden&&t["!cols"]||[],S=c.skipHidden&&t["!rows"]||[];for(x=l.s.c;x<=l.e.c;++x)if(!(C[x]||{}).hidden)switch(h[x]=qr(x),n=y?t[_][x]:t[h[x]+f],r){case 1:s[x]=x-l.s.c;break;case 2:s[x]=h[x];break;case 3:s[x]=c.header[x-l.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),o=a=Pc(n,null,c),g=w[a]||0,!g)w[a]=1;else{do o=a+"_"+g++;while(w[o]);w[a]=g,w[o]=1}s[x]=o}for(_=l.s.r+i;_<=l.e.r;++_)if(!(S[_]||{}).hidden){var R=CFe(t,l,_,h,r,s,y,c);(R.isempty===!1||(r===1?c.blankrows!==!1:c.blankrows))&&(p[v++]=R.row)}return p.length=v,p}var dL=/"/g;function SFe(t,e,n,r,i,s,a,o){for(var l=!0,c=[],u="",f=fi(n),h=e.s.c;h<=e.e.c;++h)if(r[h]){var p=o.dense?(t[n]||[])[h]:t[r[h]+f];if(p==null)u="";else if(p.v!=null){l=!1,u=""+(o.rawNumbers&&p.t=="n"?p.v:Pc(p,null,o));for(var v=0,g=0;v!==u.length;++v)if((g=u.charCodeAt(v))===i||g===s||g===34||o.forceQuotes){u='"'+u.replace(dL,'""')+'"';break}u=="ID"&&(u='"ID"')}else p.f!=null&&!p.F?(l=!1,u="="+p.f,u.indexOf(",")>=0&&(u='"'+u.replace(dL,'""')+'"')):u="";c.push(u)}return o.blankrows===!1&&l?null:c.join(a)}function c6(t,e){var n=[],r=e??{};if(t==null||t["!ref"]==null)return"";var i=Bn(t["!ref"]),s=r.FS!==void 0?r.FS:",",a=s.charCodeAt(0),o=r.RS!==void 0?r.RS:`
`,l=o.charCodeAt(0),c=new RegExp((s=="|"?"\\|":s)+"+$"),u="",f=[];r.dense=Array.isArray(t);for(var h=r.skipHidden&&t["!cols"]||[],p=r.skipHidden&&t["!rows"]||[],v=i.s.c;v<=i.e.c;++v)(h[v]||{}).hidden||(f[v]=qr(v));for(var g=0,y=i.s.r;y<=i.e.r;++y)(p[y]||{}).hidden||(u=SFe(t,i,y,f,a,l,s,r),u!=null&&(r.strip&&(u=u.replace(c,"")),(u||r.blankrows!==!1)&&n.push((g++?o:"")+u)));return delete r.dense,n.join("")}function EX(t,e){e||(e={}),e.FS="	",e.RS=`
`;var n=c6(t,e);return n}function DFe(t){var e="",n,r="";if(t==null||t["!ref"]==null)return[];var i=Bn(t["!ref"]),s="",a=[],o,l=[],c=Array.isArray(t);for(o=i.s.c;o<=i.e.c;++o)a[o]=qr(o);for(var u=i.s.r;u<=i.e.r;++u)for(s=fi(u),o=i.s.c;o<=i.e.c;++o)if(e=a[o]+s,n=c?(t[u]||[])[o]:t[e],r="",n!==void 0){if(n.F!=null){if(e=n.F,!n.f)continue;r=n.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}l[l.length]=e+"="+r}return l}function CX(t,e,n){var r=n||{},i=+!r.skipHeader,s=t||{},a=0,o=0;if(s&&r.origin!=null)if(typeof r.origin=="number")a=r.origin;else{var l=typeof r.origin=="string"?$r(r.origin):r.origin;a=l.r,o=l.c}var c,u={s:{c:0,r:0},e:{c:o,r:a+e.length-1+i}};if(s["!ref"]){var f=Bn(s["!ref"]);u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),a==-1&&(a=f.e.r+1,u.e.r=a+e.length-1+i)}else a==-1&&(a=0,u.e.r=e.length-1+i);var h=r.header||[],p=0;e.forEach(function(g,y){ti(g).forEach(function(_){(p=h.indexOf(_))==-1&&(h[p=h.length]=_);var x=g[_],w="z",C="",S=sn({c:o+p,r:a+y+i});c=d1(s,S),x&&typeof x=="object"&&!(x instanceof Date)?s[S]=x:(typeof x=="number"?w="n":typeof x=="boolean"?w="b":typeof x=="string"?w="s":x instanceof Date?(w="d",r.cellDates||(w="n",x=Ri(x)),C=r.dateNF||tn[14]):x===null&&r.nullError&&(w="e",x=0),c?(c.t=w,c.v=x,delete c.w,delete c.R,C&&(c.z=C)):s[S]=c={t:w,v:x},C&&(c.z=C))})}),u.e.c=Math.max(u.e.c,o+h.length-1);var v=fi(a);if(i)for(p=0;p<h.length;++p)s[qr(p+o)+v]={t:"s",v:h[p]};return s["!ref"]=pn(u),s}function AFe(t,e){return CX(null,t,e)}function d1(t,e,n){if(typeof e=="string"){if(Array.isArray(t)){var r=$r(e);return t[r.r]||(t[r.r]=[]),t[r.r][r.c]||(t[r.r][r.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?d1(t,sn(e)):d1(t,sn({r:e,c:n||0}))}function NFe(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var n=t.SheetNames.indexOf(e);if(n>-1)return n;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function u6(){return{SheetNames:[],Sheets:{}}}function d6(t,e,n,r){var i=1;if(!n)for(;i<=65535&&t.SheetNames.indexOf(n="Sheet"+i)!=-1;++i,n=void 0);if(!n||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&t.SheetNames.indexOf(n)>=0){var s=n.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var a=s&&s[1]||n;for(++i;i<=65535&&t.SheetNames.indexOf(n=a+i)!=-1;++i);}if(lX(n),t.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return t.SheetNames.push(n),t.Sheets[n]=e,n}function kFe(t,e,n){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var r=NFe(t,e);switch(t.Workbook.Sheets[r]||(t.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}t.Workbook.Sheets[r].Hidden=n}function IFe(t,e){return t.z=e,t}function SX(t,e,n){return e?(t.l={Target:e},n&&(t.l.Tooltip=n)):delete t.l,t}function RFe(t,e,n){return SX(t,"#"+e,n)}function PFe(t,e,n){t.c||(t.c=[]),t.c.push({t:e,a:n||"SheetJS"})}function FFe(t,e,n,r){for(var i=typeof e!="string"?e:Bn(e),s=typeof e=="string"?e:pn(e),a=i.s.r;a<=i.e.r;++a)for(var o=i.s.c;o<=i.e.c;++o){var l=d1(t,a,o);l.t="n",l.F=s,delete l.v,a==i.s.r&&o==i.s.c&&(l.f=n,r&&(l.D=!0))}return t}var Yx={encode_col:qr,encode_row:fi,encode_cell:sn,encode_range:pn,decode_col:BI,decode_row:jI,split_cell:$De,decode_cell:$r,decode_range:xa,format_cell:Pc,sheet_add_aoa:ZK,sheet_add_json:CX,sheet_add_dom:gX,aoa_to_sheet:ug,json_to_sheet:AFe,table_to_sheet:yX,table_to_book:B8e,sheet_to_csv:c6,sheet_to_txt:EX,sheet_to_json:s_,sheet_to_html:mX,sheet_to_formulae:DFe,sheet_to_row_object_array:s_,sheet_get_cell:d1,book_new:u6,book_append_sheet:d6,book_set_sheet_visibility:kFe,cell_set_number_format:IFe,cell_set_hyperlink:SX,cell_set_internal_link:RFe,cell_add_comment:PFe,sheet_set_array_formula:FFe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function f6(t,e){return t.indexOf(e)!==-1}function yp(t,e,n){const r=n[e];if(!r)return null;for(const i of Object.keys(r)){const s=r[i];for(const a of s)if(f6(t,String(a)))return i}return null}function MFe(t,e,n){const r=n[e];if(!r)return[];const i=[];for(const s of Object.keys(r)){const a=r[s];for(const o of a)if(f6(t,String(o))){i.push(s);break}}return i}function UFe(t){if(!t)return t;let e=t.trim();return e=e.replace(/\s+/g," "),e=e.replace(/(^|\s)(?=[\u0600-\u06FF])/g,"$1"),e.toLowerCase()}function OFe(t,e){let n=t.trim(),r="string";return!isNaN(Number(n))&&n!==""?(n=parseFloat(n),r="number"):(n.toLowerCase()===""||n.toLowerCase()==="")&&(n=n.toLowerCase()==="",r="boolean"),{value:n,valueType:r}}function LFe(t,e,n={}){const r=t;let i=UFe(r);const s={intent:null,target:null,movement:null,index:null,startIndex:null,endIndex:null,position:null,color:null,conditions:[],references:[],useReference:!1,isNegated:!1,raw:r};for(const u of e.negationWords||[])if(f6(i,u)){s.isNegated=!0,i=i.replace(u,"");break}s.intent=yp(i,"intents",e),s.target=yp(i,"targets",e),s.position=yp(i,"positions",e),s.color=yp(i,"colors",e),s.movement=yp(i,"movements",e);const a=MFe(i,"numbers",e).map(u=>isNaN(Number(u))?u:parseInt(String(u),10)),o=(i.match(/\b(\d+)\b/g)||[]).map(Number),l=[...new Set([...a,...o])].filter(u=>u!==null).map(Number);l.length>0&&(yp(i,"rangeWords",e)&&l.length>=2?(s.startIndex=Math.min(...l),s.endIndex=Math.max(...l)):s.index=l[0]);const c=e.conditions;for(const u of Object.keys(c)){const f=c[u];for(const h of f){const p=i.indexOf(h);if(p!==-1){const g=r.slice(p+h.length).trim().match(/^(.+?)(?:\s+(?:|)\s+|$)/i);if(g){const{value:y,valueType:_}=OFe(g[1].trim());s.conditions.push({type:u,value:y,valueType:_,isNegated:s.isNegated})}s.isNegated=!1}}}return s}function jFe(t){return t.split(/\s+(?:|)\s+/i).map(e=>e.trim()).filter(Boolean)}function BFe(t,e){const n=t.trim(),r=jFe(n),i={lastResult:null,lastColumn:null,lastSearch:null,lastSelection:null,lastTarget:null,lastIndex:null,history:[]},s=[];for(const a of r){const o=LFe(a,e,i);!o||!o.intent||s.push(o)}return{actions:s,context:i}}const VFe=({onClose:t,onCreate:e})=>{const[n,r]=V.useState(20),[i,s]=V.useState(10),[a,o]=V.useState("new_sheet.xlsx"),l=()=>{n>0&&i>0&&a.trim()&&e(n,i,a.trim())};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",onClick:t,children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",onClick:c=>c.stopPropagation(),children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-xl font-bold",children:"   "})}),d.jsxs("div",{className:"p-6 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"sheet-name",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",id:"sheet-name",value:a,onChange:c=>o(c.target.value),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]}),d.jsxs("div",{className:"flex gap-4",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{htmlFor:"sheet-rows",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"number",id:"sheet-rows",value:n,onChange:c=>r(Math.max(1,parseInt(c.target.value,10)||1)),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]}),d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{htmlFor:"sheet-cols",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"number",id:"sheet-cols",value:i,onChange:c=>s(Math.max(1,parseInt(c.target.value,10)||1)),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:t,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"button",onClick:l,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:""})]})]})})},WFe=()=>{const{excelCommands:t}=un(),[e,n]=V.useState([]),[r,i]=V.useState([]),[s,a]=V.useState([]),[o,l]=V.useState(""),[c,u]=V.useState(new Set),[f,h]=V.useState(new Set),[p,v]=V.useState(new Set),[g,y]=V.useState(null),[_,x]=V.useState({}),[w,C]=V.useState(""),[S,R]=V.useState(!1),[D,N]=V.useState(""),[I,F]=V.useState(!1),[P,k]=V.useState(!1),U=V.useRef(null),O=V.useRef(!1),H=V.useRef(s),G=V.useRef(r),X=V.useRef({selectedRows:c,selectedCols:f,selectedCells:p}),Z=V.useRef({setCurrentData:a,setHeaders:i,setCellStyles:x,setSelectedRows:u,setSelectedCols:h,setSelectedCells:v});V.useEffect(()=>{H.current=s,G.current=r,X.current={selectedRows:c,selectedCols:f,selectedCells:p},Z.current={setCurrentData:a,setHeaders:i,setCellStyles:x,setSelectedRows:u,setSelectedCols:h,setSelectedCells:v}});const z=window.SpeechRecognition||window.webkitSpeechRecognition,Q=!!z,B=V.useCallback(re=>{if(!re.length)return!1;let le=!1,ke=[...G.current],Ne=H.current.map(ue=>[...ue]);({...Z.current.setCellStyles});const ie=X.current.selectedRows.size>0?"rows":X.current.selectedCols.size>0?"columns":X.current.selectedCells.size>0?"cells":"none";for(const ue of re)switch(ue.intent){case"color":if(ue.color){const be={backgroundColor:ue.color};["white","yellow","pink"].includes(ue.color)&&(be.color="#333"),["black","blue","purple","green","red"].includes(ue.color)&&(be.color="#fff"),Z.current.setCellStyles(Ie=>{const Le={...Ie},Te=(Ue,Oe)=>{Le[`${Ue}:${Oe}`]={...Le[`${Ue}:${Oe}`]||{},...be}};return ie==="cells"?X.current.selectedCells.forEach(Ue=>{const[Oe,Je]=Ue.split(":").map(Number);Te(Oe,Je)}):ie==="rows"?X.current.selectedRows.forEach(Ue=>G.current.forEach((Oe,Je)=>Te(Number(Ue),Je))):ie==="columns"&&X.current.selectedCols.forEach(Ue=>H.current.forEach((Oe,Je)=>Te(Je,Number(Ue)))),Le}),le=!0}break;case"move":if(ue.movement&&ie==="columns"&&X.current.selectedCols.size===1){const be=Number(Array.from(X.current.selectedCols)[0]),Ie=ue.movement==="right"?be+1:be-1;Ie>=0&&Ie<ke.length&&([ke[be],ke[Ie]]=[ke[Ie],ke[be]],Ne.forEach(Le=>{[Le[be],Le[Ie]]=[Le[Ie],Le[be]]}),Z.current.setSelectedCols(new Set([Ie])),le=!0)}break;case"delete":case"clear":const ve=ue.intent==="delete";if(ie==="rows")Array.from(X.current.selectedRows).sort((Ie,Le)=>Number(Le)-Number(Ie)).forEach(Ie=>Ne.splice(Number(Ie),1)),Z.current.setSelectedRows(new Set),le=!0;else if(ie==="columns"){const be=Array.from(X.current.selectedCols).sort((Ie,Le)=>Number(Le)-Number(Ie));ve&&be.forEach(Ie=>ke.splice(Number(Ie),1)),Ne.forEach(Ie=>{be.forEach(Le=>ve?Ie.splice(Number(Le),1):Ie[Number(Le)]="")}),Z.current.setSelectedCols(new Set),le=!0}else ie==="cells"&&(X.current.selectedCells.forEach(be=>{const[Ie,Le]=be.split(":").map(Number);Ne[Ie][Le]=""}),le=!0);break;case"sum":if(ie==="columns"&&X.current.selectedCols.size===1){const be=Number(Array.from(X.current.selectedCols)[0]),Ie=Ne.reduce((Ue,Oe)=>Ue+(Number(Oe[be])||0),0),Le=Ne.findIndex(Ue=>!Ue[be]),Te=Le!==-1?Le:Ne.length;Te===Ne.length&&Ne.push(Array(ke.length).fill("")),Ne[Te][be]=Ie,le=!0}break}return le&&(Z.current.setHeaders(ke),Z.current.setCurrentData(Ne),Z.current.setSelectedRows(new Set),Z.current.setSelectedCols(new Set),Z.current.setSelectedCells(new Set)),le},[]);V.useEffect(()=>{if(!Q)return;U.current=new z;const re=U.current;return re.continuous=!0,re.interimResults=!1,re.lang="ar-SA",re.onstart=()=>F(!0),re.onend=()=>{if(O.current){console.log("Excel Studio: Speech recognition ended, attempting restart.");try{re.start()}catch(le){console.error("Excel Studio: Could not restart recognition",le),O.current=!1,F(!1)}}else F(!1)},re.onerror=le=>{N(`   : ${le.error}`),O.current=!1,F(!1)},re.onresult=le=>{let ke="";for(let ie=le.resultIndex;ie<le.results.length;++ie)le.results[ie].isFinal&&(ke+=le.results[ie][0].transcript);const Ne=ke.trim();if(Ne&&t){const{actions:ie}=BFe(Ne,t);B(ie)||C(ve=>(ve?ve+" ":"")+Ne)}else Ne&&C(ie=>(ie?ie+" ":"")+Ne)},()=>{U.current&&(O.current=!1,U.current.abort())}},[Q,t,B]);const j=()=>{const re=U.current;re&&(I?(O.current=!1,re.stop()):(N(""),O.current=!0,re.start()))},q=V.useMemo(()=>c.size>0?"rows":f.size>0?"columns":p.size>0?"cells":"none",[c,f,p]),J=V.useMemo(()=>{const re=new Map;return q==="cells"&&Array.from(p).forEach((le,ke)=>{re.set(le,ke+1)}),re},[p,q]),Y=re=>{var Ne;const le=(Ne=re.target.files)==null?void 0:Ne[0];if(!le)return;l(le.name);const ke=new FileReader;ke.onload=ie=>{var ue;try{const ve=new Uint8Array((ue=ie.target)==null?void 0:ue.result),be=x3(ve,{type:"array"}),Ie=be.SheetNames[0],Le=be.Sheets[Ie],Te=Yx.sheet_to_json(Le,{header:1});if(Te.length>0){const Ue=Te[0].map(Je=>String(Je)),Oe=Te.slice(1).map(Je=>{const ot=Array(Ue.length).fill("");return Je.forEach((lt,Bt)=>{Bt<ot.length&&(ot[Bt]=lt)}),ot});i(Ue),n(JSON.parse(JSON.stringify(Oe))),a(Oe),de()}else N("    .")}catch(ve){console.error(ve),ve instanceof Error?N(`    Excel: ${ve.message}`):N("    Excel.      .")}},ke.readAsArrayBuffer(le)},te=(re,le,ke)=>{const Ne=Array.from({length:le},(ue,ve)=>String.fromCharCode(65+ve)),ie=Array.from({length:re},()=>Array(le).fill(""));i(Ne),a(ie),n(JSON.parse(JSON.stringify(ie))),l(ke),de(),k(!1)},oe=()=>{a(JSON.parse(JSON.stringify(e))),x({}),de()},de=()=>{u(new Set),h(new Set),v(new Set),y(null),C(""),N("")},fe=re=>{h(new Set),v(new Set),y(null),u(le=>{const ke=new Set(le);return ke.has(re)?ke.delete(re):ke.add(re),ke})},Ce=re=>{u(new Set),v(new Set),y(null),h(le=>{const ke=new Set(le);return ke.has(re)?ke.delete(re):ke.add(re),ke})},Pe=(re,le,ke)=>{u(new Set),h(new Set),y(null);const Ne=`${re}:${le}`;v(ie=>{const ue=ke?new Set(ie):new Set;return ue.has(Ne)&&ke?ue.delete(Ne):ue.add(Ne),ue})},pe=(re,le)=>{y({rowIndex:re,colIndex:le}),u(new Set),h(new Set),v(new Set)},Me=(re,le,ke)=>{const Ne=JSON.parse(JSON.stringify(s));Ne[le][ke]=re.target.value,a(Ne)},W=()=>{y(null)},ge=re=>{if(!g)return;const{rowIndex:le,colIndex:ke}=g;if(re.key==="Enter")re.preventDefault(),le<s.length-1?y({rowIndex:le+1,colIndex:ke}):y(null);else if(re.key==="Escape")y(null);else if(re.key==="Tab"){re.preventDefault();const Ne=re.shiftKey?ke-1:ke+1;Ne>=0&&Ne<r.length?y({rowIndex:le,colIndex:Ne}):!re.shiftKey&&le<s.length-1?y({rowIndex:le+1,colIndex:0}):y(null)}},_e=async()=>{if(q==="none"){N("         .");return}if(!w.trim()){N("    .");return}N(""),R(!0);try{const re=[];q==="cells"?Array.from(p).forEach((ve,be)=>{const[Ie,Le]=ve.split(":").map(Number);re.push({value:String(s[Ie][Le]),rowIndex:Ie,colIndex:Le,header:r[Le],cellNumber:be+1})}):q==="rows"?Array.from(c).forEach(ve=>r.forEach((be,Ie)=>re.push({value:String(s[Number(ve)][Ie]),rowIndex:Number(ve),colIndex:Ie,header:be}))):q==="columns"&&Array.from(f).forEach(ve=>s.forEach((be,Ie)=>re.push({value:String(be[Number(ve)]),rowIndex:Ie,colIndex:Number(ve),header:r[Number(ve)]})));const Ne=(await Fge(w,re,q==="cells"?"Each selected cell is assigned a unique number (cellNumber). The user might refer to these cells by their number.":"The user has selected entire rows or columns.")).modifications;if(!Array.isArray(Ne))throw new Error("AI response format is incorrect.");let ie=JSON.parse(JSON.stringify(s)),ue=JSON.parse(JSON.stringify(_));Ne.forEach(ve=>{const{rowIndex:be,colIndex:Ie,newValue:Le,backgroundColor:Te}=ve;typeof be=="number"&&typeof Ie=="number"&&(Le!==void 0&&(ie[Number(be)][Number(Ie)]=Le),Te&&(ue[`${be}:${Ie}`]={...ue[`${be}:${Ie}`],backgroundColor:Te}))}),a(ie),x(ue),de()}catch(re){re instanceof Error?N(re.message):N("     .")}finally{R(!1)}},ce=()=>{const re=Yx.aoa_to_sheet([r,...s]),le=Yx.book_new();Yx.book_append_sheet(le,re,"Sheet1"),EFe(le,`modified_${o||"data.xlsx"}`)};return s.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-6 text-center",children:[P&&d.jsx(VFe,{onClose:()=>k(!1),onCreate:te}),d.jsx(BH,{className:"text-6xl text-gray-300 mb-4"}),d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"  "}),d.jsx("p",{className:"text-gray-600 mb-6",children:"        Excel    ."}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[d.jsxs("label",{className:"bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition-colors cursor-pointer flex items-center justify-center gap-2",children:[d.jsx($l,{}),d.jsx("span",{children:" "}),d.jsx("input",{type:"file",accept:".xlsx, .xls",onChange:Y,className:"hidden"})]}),d.jsxs("button",{onClick:()=>k(!0),className:"bg-blue-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[d.jsx(xc,{}),d.jsx("span",{children:"   "})]})]}),D&&d.jsx("p",{className:"text-red-500 mt-4",children:D})]}):d.jsxs("div",{className:"flex flex-col h-full p-6",children:[d.jsxs("header",{className:"flex-shrink-0 flex flex-col sm:flex-row justify-between items-center mb-4 gap-4",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800 truncate",title:o,children:o}),d.jsx("button",{type:"button",onClick:j,disabled:!Q,className:`p-3 rounded-full transition-colors ${Q?I?"bg-red-500 text-white animate-pulse":"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,title:"  ",children:I?d.jsx(Rc,{}):d.jsx(aI,{})})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("button",{onClick:oe,className:"flex items-center gap-2 bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300",children:[d.jsx(mge,{}),d.jsx("span",{children:" "})]}),d.jsxs("button",{onClick:ce,className:"flex items-center gap-2 bg-green-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-green-700",children:[d.jsx($o,{}),d.jsx("span",{children:""})]})]})]}),d.jsxs("div",{className:"bg-blue-50 border border-blue-200 text-blue-800 p-3 rounded-md mb-4 flex items-start gap-3 text-sm",children:[d.jsx(lge,{className:"flex-shrink-0 mt-1"}),d.jsxs("div",{children:[d.jsx("strong",{children:" :"}),d.jsxs("ol",{className:"list-decimal list-inside",children:[d.jsx("li",{children:"** :**      ."}),d.jsx("li",{children:'**  :**         (: "  1 ").'}),d.jsx("li",{children:'** :**       ""   .'})]})]})]}),d.jsx("div",{className:"flex-grow overflow-auto border rounded-lg",children:d.jsxs("table",{className:"w-full text-sm text-right border-collapse",children:[d.jsx("thead",{className:"sticky top-0 bg-gray-100 z-10",children:d.jsxs("tr",{children:[d.jsx("th",{className:"sticky right-0 bg-gray-100 border-b border-gray-300 p-2 min-w-[50px]",children:"#"}),r.map((re,le)=>d.jsx("th",{onClick:()=>Ce(le),className:`p-2 border-b border-l border-gray-300 font-semibold cursor-pointer whitespace-nowrap ${f.has(le)?"bg-green-200":"hover:bg-gray-200"}`,children:re||String.fromCharCode(65+le)},le))]})}),d.jsx("tbody",{children:s.map((re,le)=>d.jsxs("tr",{className:`${c.has(le)?"bg-green-100":""}`,children:[d.jsx("td",{onClick:()=>fe(le),className:"sticky right-0 p-2 border-b border-l border-gray-300 font-mono text-center cursor-pointer bg-gray-50 hover:bg-gray-200",children:le+1}),re.map((ke,Ne)=>{const ie=(g==null?void 0:g.rowIndex)===le&&(g==null?void 0:g.colIndex)===Ne,ue=`${le}:${Ne}`,ve=_[ue]||{},be=p.has(ue);let Ie="border-b border-l border-gray-300 text-black relative";return ie?Ie+=" p-0":(Ie+=" p-2 whitespace-nowrap truncate max-w-xs cursor-pointer",be?Ie+=" bg-green-200":(c.has(le)||f.has(Ne))&&(Ie+=" bg-green-100")),d.jsx("td",{style:ve,className:Ie,title:ie?void 0:ke,onClick:Le=>!ie&&Pe(le,Ne,Le.ctrlKey||Le.metaKey),onDoubleClick:()=>pe(le,Ne),children:ie?d.jsx("div",{className:"relative w-full h-full",children:d.jsx("input",{type:"text",value:ke||"",onChange:Le=>Me(Le,le,Ne),onBlur:W,onKeyDown:ge,autoFocus:!0,className:"w-full h-full p-2 box-border border-2 border-blue-500 outline-none rounded-sm bg-white text-black"})}):d.jsxs(d.Fragment,{children:[be&&d.jsx("span",{className:"absolute top-0 right-0 text-xs bg-blue-500 text-white rounded-bl-md px-1 py-0.5 pointer-events-none z-20",children:J.get(ue)}),ke]})},Ne)})]},le))})]})}),d.jsx("footer",{className:"flex-shrink-0 mt-4 p-4 bg-white rounded-lg shadow-md border",children:d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[d.jsx("div",{className:"relative flex-grow",children:d.jsx("textarea",{value:w,onChange:re=>C(re.target.value),placeholder:"      ...",className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 resize-none bg-gray-800 text-white placeholder-gray-400 border-gray-600",rows:2,disabled:S})}),d.jsxs("button",{onClick:_e,disabled:S||q==="none",className:"flex items-center justify-center gap-2 bg-blue-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:[S?d.jsx(Tt,{className:"animate-spin"}):d.jsx(ya,{}),d.jsx("span",{children:S?" ...":"  "})]})]}),D&&d.jsx("p",{className:"text-red-500 text-sm mt-2 text-center",children:D})]})})]})};var ro={},h6="1.13.7",fL=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},Hw=Array.prototype,p6=Object.prototype,hL=typeof Symbol<"u"?Symbol.prototype:null,qFe=Hw.push,cv=Hw.slice,f1=p6.toString,$Fe=p6.hasOwnProperty,DX=typeof ArrayBuffer<"u",zFe=typeof DataView<"u",HFe=Array.isArray,pL=Object.keys,mL=Object.create,gL=DX&&ArrayBuffer.isView,GFe=isNaN,KFe=isFinite,AX=!{toString:null}.propertyIsEnumerable("toString"),yL=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],JFe=Math.pow(2,53)-1;function Ys(t,e){return e=e==null?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var s=Array(e+1);for(i=0;i<e;i++)s[i]=arguments[i];return s[e]=r,t.apply(this,s)}}function _d(t){var e=typeof t;return e==="function"||e==="object"&&!!t}function NX(t){return t===null}function m6(t){return t===void 0}function g6(t){return t===!0||t===!1||f1.call(t)==="[object Boolean]"}function kX(t){return!!(t&&t.nodeType===1)}function Os(t){var e="[object "+t+"]";return function(n){return f1.call(n)===e}}const Gw=Os("String"),y6=Os("Number"),IX=Os("Date"),RX=Os("RegExp"),PX=Os("Error"),v6=Os("Symbol"),x6=Os("ArrayBuffer");var FX=Os("Function"),XFe=fL.document&&fL.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof XFe!="function"&&(FX=function(t){return typeof t=="function"||!1});const Fs=FX,MX=Os("Object");var UX=zFe&&(!/\[native code\]/.test(String(DataView))||MX(new DataView(new ArrayBuffer(8)))),b6=typeof Map<"u"&&MX(new Map),YFe=Os("DataView");function QFe(t){return t!=null&&Fs(t.getInt8)&&x6(t.buffer)}const h1=UX?QFe:YFe,wd=HFe||Os("Array");function Td(t,e){return t!=null&&$Fe.call(t,e)}var b3=Os("Arguments");(function(){b3(arguments)||(b3=function(t){return Td(t,"callee")})})();const Kw=b3;function OX(t){return!v6(t)&&KFe(t)&&!isNaN(parseFloat(t))}function _6(t){return y6(t)&&GFe(t)}function w6(t){return function(){return t}}function LX(t){return function(e){var n=t(e);return typeof n=="number"&&n>=0&&n<=JFe}}function jX(t){return function(e){return e==null?void 0:e[t]}}const a_=jX("byteLength"),ZFe=LX(a_);var e9e=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function t9e(t){return gL?gL(t)&&!h1(t):ZFe(t)&&e9e.test(f1.call(t))}const T6=DX?t9e:w6(!1),ba=jX("length");function n9e(t){for(var e={},n=t.length,r=0;r<n;++r)e[t[r]]=!0;return{contains:function(i){return e[i]===!0},push:function(i){return e[i]=!0,t.push(i)}}}function BX(t,e){e=n9e(e);var n=yL.length,r=t.constructor,i=Fs(r)&&r.prototype||p6,s="constructor";for(Td(t,s)&&!e.contains(s)&&e.push(s);n--;)s=yL[n],s in t&&t[s]!==i[s]&&!e.contains(s)&&e.push(s)}function Pi(t){if(!_d(t))return[];if(pL)return pL(t);var e=[];for(var n in t)Td(t,n)&&e.push(n);return AX&&BX(t,e),e}function VX(t){if(t==null)return!0;var e=ba(t);return typeof e=="number"&&(wd(t)||Gw(t)||Kw(t))?e===0:ba(Pi(t))===0}function E6(t,e){var n=Pi(e),r=n.length;if(t==null)return!r;for(var i=Object(t),s=0;s<r;s++){var a=n[s];if(e[a]!==i[a]||!(a in i))return!1}return!0}function Qn(t){if(t instanceof Qn)return t;if(!(this instanceof Qn))return new Qn(t);this._wrapped=t}Qn.VERSION=h6;Qn.prototype.value=function(){return this._wrapped};Qn.prototype.valueOf=Qn.prototype.toJSON=Qn.prototype.value;Qn.prototype.toString=function(){return String(this._wrapped)};function vL(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,a_(t))}var xL="[object DataView]";function _3(t,e,n,r){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var i=typeof t;return i!=="function"&&i!=="object"&&typeof e!="object"?!1:WX(t,e,n,r)}function WX(t,e,n,r){t instanceof Qn&&(t=t._wrapped),e instanceof Qn&&(e=e._wrapped);var i=f1.call(t);if(i!==f1.call(e))return!1;if(UX&&i=="[object Object]"&&h1(t)){if(!h1(e))return!1;i=xL}switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return hL.valueOf.call(t)===hL.valueOf.call(e);case"[object ArrayBuffer]":case xL:return WX(vL(t),vL(e),n,r)}var s=i==="[object Array]";if(!s&&T6(t)){var a=a_(t);if(a!==a_(e))return!1;if(t.buffer===e.buffer&&t.byteOffset===e.byteOffset)return!0;s=!0}if(!s){if(typeof t!="object"||typeof e!="object")return!1;var o=t.constructor,l=e.constructor;if(o!==l&&!(Fs(o)&&o instanceof o&&Fs(l)&&l instanceof l)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],r=r||[];for(var c=n.length;c--;)if(n[c]===t)return r[c]===e;if(n.push(t),r.push(e),s){if(c=t.length,c!==e.length)return!1;for(;c--;)if(!_3(t[c],e[c],n,r))return!1}else{var u=Pi(t),f;if(c=u.length,Pi(e).length!==c)return!1;for(;c--;)if(f=u[c],!(Td(e,f)&&_3(t[f],e[f],n,r)))return!1}return n.pop(),r.pop(),!0}function qX(t,e){return _3(t,e)}function fg(t){if(!_d(t))return[];var e=[];for(var n in t)e.push(n);return AX&&BX(t,e),e}function C6(t){var e=ba(t);return function(n){if(n==null)return!1;var r=fg(n);if(ba(r))return!1;for(var i=0;i<e;i++)if(!Fs(n[t[i]]))return!1;return t!==HX||!Fs(n[S6])}}var S6="forEach",$X="has",D6=["clear","delete"],zX=["get",$X,"set"],r9e=D6.concat(S6,zX),HX=D6.concat(zX),i9e=["add"].concat(D6,S6,$X);const GX=b6?C6(r9e):Os("Map"),KX=b6?C6(HX):Os("WeakMap"),JX=b6?C6(i9e):Os("Set"),XX=Os("WeakSet");function _h(t){for(var e=Pi(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=t[e[i]];return r}function YX(t){for(var e=Pi(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=[e[i],t[e[i]]];return r}function A6(t){for(var e={},n=Pi(t),r=0,i=n.length;r<i;r++)e[t[n[r]]]=n[r];return e}function p1(t){var e=[];for(var n in t)Fs(t[n])&&e.push(n);return e.sort()}function N6(t,e){return function(n){var r=arguments.length;if(e&&(n=Object(n)),r<2||n==null)return n;for(var i=1;i<r;i++)for(var s=arguments[i],a=t(s),o=a.length,l=0;l<o;l++){var c=a[l];(!e||n[c]===void 0)&&(n[c]=s[c])}return n}}const k6=N6(fg),Rm=N6(Pi),I6=N6(fg,!0);function s9e(){return function(){}}function QX(t){if(!_d(t))return{};if(mL)return mL(t);var e=s9e();e.prototype=t;var n=new e;return e.prototype=null,n}function ZX(t,e){var n=QX(t);return e&&Rm(n,e),n}function eY(t){return _d(t)?wd(t)?t.slice():k6({},t):t}function tY(t,e){return e(t),t}function R6(t){return wd(t)?t:[t]}Qn.toPath=R6;function uv(t){return Qn.toPath(t)}function P6(t,e){for(var n=e.length,r=0;r<n;r++){if(t==null)return;t=t[e[r]]}return n?t:void 0}function F6(t,e,n){var r=P6(t,uv(e));return m6(r)?n:r}function nY(t,e){e=uv(e);for(var n=e.length,r=0;r<n;r++){var i=e[r];if(!Td(t,i))return!1;t=t[i]}return!!n}function Jw(t){return t}function Zf(t){return t=Rm({},t),function(e){return E6(e,t)}}function Xw(t){return t=uv(t),function(e){return P6(e,t)}}function dv(t,e,n){if(e===void 0)return t;switch(n??3){case 1:return function(r){return t.call(e,r)};case 3:return function(r,i,s){return t.call(e,r,i,s)};case 4:return function(r,i,s,a){return t.call(e,r,i,s,a)}}return function(){return t.apply(e,arguments)}}function rY(t,e,n){return t==null?Jw:Fs(t)?dv(t,e,n):_d(t)&&!wd(t)?Zf(t):Xw(t)}function Yw(t,e){return rY(t,e,1/0)}Qn.iteratee=Yw;function Ta(t,e,n){return Qn.iteratee!==Yw?Qn.iteratee(t,e):rY(t,e,n)}function iY(t,e,n){e=Ta(e,n);for(var r=Pi(t),i=r.length,s={},a=0;a<i;a++){var o=r[a];s[o]=e(t[o],o,t)}return s}function M6(){}function sY(t){return t==null?M6:function(e){return F6(t,e)}}function aY(t,e,n){var r=Array(Math.max(0,t));e=dv(e,n,1);for(var i=0;i<t;i++)r[i]=e(i);return r}function o_(t,e){return e==null&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}const Pm=Date.now||function(){return new Date().getTime()};function oY(t){var e=function(s){return t[s]},n="(?:"+Pi(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(s){return s=s==null?"":""+s,r.test(s)?s.replace(i,e):s}}const lY={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},cY=oY(lY),a9e=A6(lY),uY=oY(a9e),dY=Qn.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var T4=/(.)^/,o9e={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},l9e=/\\|'|\r|\n|\u2028|\u2029/g;function c9e(t){return"\\"+o9e[t]}var u9e=/^\s*(\w|\$)+\s*$/;function fY(t,e,n){!e&&n&&(e=n),e=I6({},e,Qn.templateSettings);var r=RegExp([(e.escape||T4).source,(e.interpolate||T4).source,(e.evaluate||T4).source].join("|")+"|$","g"),i=0,s="__p+='";t.replace(r,function(c,u,f,h,p){return s+=t.slice(i,p).replace(l9e,c9e),i=p+c.length,u?s+=`'+
((__t=(`+u+`))==null?'':_.escape(__t))+
'`:f?s+=`'+
((__t=(`+f+`))==null?'':__t)+
'`:h&&(s+=`';
`+h+`
__p+='`),c}),s+=`';
`;var a=e.variable;if(a){if(!u9e.test(a))throw new Error("variable is not a bare identifier: "+a)}else s=`with(obj||{}){
`+s+`}
`,a="obj";s=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+s+`return __p;
`;var o;try{o=new Function(a,"_",s)}catch(c){throw c.source=s,c}var l=function(c){return o.call(this,c,Qn)};return l.source="function("+a+`){
`+s+"}",l}function hY(t,e,n){e=uv(e);var r=e.length;if(!r)return Fs(n)?n.call(t):n;for(var i=0;i<r;i++){var s=t==null?void 0:t[e[i]];s===void 0&&(s=n,i=r),t=Fs(s)?s.call(t):s}return t}var d9e=0;function pY(t){var e=++d9e+"";return t?t+e:e}function mY(t){var e=Qn(t);return e._chain=!0,e}function gY(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var s=QX(t.prototype),a=t.apply(s,i);return _d(a)?a:s}var wh=Ys(function(t,e){var n=wh.placeholder,r=function(){for(var i=0,s=e.length,a=Array(s),o=0;o<s;o++)a[o]=e[o]===n?arguments[i++]:e[o];for(;i<arguments.length;)a.push(arguments[i++]);return gY(t,r,this,this,a)};return r});wh.placeholder=Qn;const U6=Ys(function(t,e,n){if(!Fs(t))throw new TypeError("Bind must be called on a function");var r=Ys(function(i){return gY(t,r,e,this,n.concat(i))});return r}),$a=LX(ba);function Th(t,e,n,r){if(r=r||[],!e&&e!==0)e=1/0;else if(e<=0)return r.concat(t);for(var i=r.length,s=0,a=ba(t);s<a;s++){var o=t[s];if($a(o)&&(wd(o)||Kw(o)))if(e>1)Th(o,e-1,n,r),i=r.length;else for(var l=0,c=o.length;l<c;)r[i++]=o[l++];else n||(r[i++]=o)}return r}const yY=Ys(function(t,e){e=Th(e,!1,!1);var n=e.length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=e[n];t[r]=U6(t[r],t)}return t});function vY(t,e){var n=function(r){var i=n.cache,s=""+(e?e.apply(this,arguments):r);return Td(i,s)||(i[s]=t.apply(this,arguments)),i[s]};return n.cache={},n}const O6=Ys(function(t,e,n){return setTimeout(function(){return t.apply(null,n)},e)}),xY=wh(O6,Qn,1);function bY(t,e,n){var r,i,s,a,o=0;n||(n={});var l=function(){o=n.leading===!1?0:Pm(),r=null,a=t.apply(i,s),r||(i=s=null)},c=function(){var u=Pm();!o&&n.leading===!1&&(o=u);var f=e-(u-o);return i=this,s=arguments,f<=0||f>e?(r&&(clearTimeout(r),r=null),o=u,a=t.apply(i,s),r||(i=s=null)):!r&&n.trailing!==!1&&(r=setTimeout(l,f)),a};return c.cancel=function(){clearTimeout(r),o=0,r=i=s=null},c}function _Y(t,e,n){var r,i,s,a,o,l=function(){var u=Pm()-i;e>u?r=setTimeout(l,e-u):(r=null,n||(a=t.apply(o,s)),r||(s=o=null))},c=Ys(function(u){return o=this,s=u,i=Pm(),r||(r=setTimeout(l,e),n&&(a=t.apply(o,s))),a});return c.cancel=function(){clearTimeout(r),r=s=o=null},c}function wY(t,e){return wh(e,t)}function Qw(t){return function(){return!t.apply(this,arguments)}}function TY(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}}function EY(t,e){return function(){if(--t<1)return e.apply(this,arguments)}}function L6(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}}const CY=wh(L6,2);function j6(t,e,n){e=Ta(e,n);for(var r=Pi(t),i,s=0,a=r.length;s<a;s++)if(i=r[s],e(t[i],i,t))return i}function SY(t){return function(e,n,r){n=Ta(n,r);for(var i=ba(e),s=t>0?0:i-1;s>=0&&s<i;s+=t)if(n(e[s],s,e))return s;return-1}}const Zw=SY(1),B6=SY(-1);function V6(t,e,n,r){n=Ta(n,r,1);for(var i=n(e),s=0,a=ba(t);s<a;){var o=Math.floor((s+a)/2);n(t[o])<i?s=o+1:a=o}return s}function DY(t,e,n){return function(r,i,s){var a=0,o=ba(r);if(typeof s=="number")t>0?a=s>=0?s:Math.max(s+o,a):o=s>=0?Math.min(s+1,o):s+o+1;else if(n&&s&&o)return s=n(r,i),r[s]===i?s:-1;if(i!==i)return s=e(cv.call(r,a,o),_6),s>=0?s+a:-1;for(s=t>0?a:o-1;s>=0&&s<o;s+=t)if(r[s]===i)return s;return-1}}const W6=DY(1,Zw,V6),AY=DY(-1,B6);function m1(t,e,n){var r=$a(t)?Zw:j6,i=r(t,e,n);if(i!==void 0&&i!==-1)return t[i]}function NY(t,e){return m1(t,Zf(e))}function nl(t,e,n){e=dv(e,n);var r,i;if($a(t))for(r=0,i=t.length;r<i;r++)e(t[r],r,t);else{var s=Pi(t);for(r=0,i=s.length;r<i;r++)e(t[s[r]],s[r],t)}return t}function Fc(t,e,n){e=Ta(e,n);for(var r=!$a(t)&&Pi(t),i=(r||t).length,s=Array(i),a=0;a<i;a++){var o=r?r[a]:a;s[a]=e(t[o],o,t)}return s}function kY(t){var e=function(n,r,i,s){var a=!$a(n)&&Pi(n),o=(a||n).length,l=t>0?0:o-1;for(s||(i=n[a?a[l]:l],l+=t);l>=0&&l<o;l+=t){var c=a?a[l]:l;i=r(i,n[c],c,n)}return i};return function(n,r,i,s){var a=arguments.length>=3;return e(n,dv(r,s,4),i,a)}}const Xp=kY(1),l_=kY(-1);function ld(t,e,n){var r=[];return e=Ta(e,n),nl(t,function(i,s,a){e(i,s,a)&&r.push(i)}),r}function IY(t,e,n){return ld(t,Qw(Ta(e)),n)}function c_(t,e,n){e=Ta(e,n);for(var r=!$a(t)&&Pi(t),i=(r||t).length,s=0;s<i;s++){var a=r?r[s]:s;if(!e(t[a],a,t))return!1}return!0}function u_(t,e,n){e=Ta(e,n);for(var r=!$a(t)&&Pi(t),i=(r||t).length,s=0;s<i;s++){var a=r?r[s]:s;if(e(t[a],a,t))return!0}return!1}function vo(t,e,n,r){return $a(t)||(t=_h(t)),(typeof n!="number"||r)&&(n=0),W6(t,e,n)>=0}const RY=Ys(function(t,e,n){var r,i;return Fs(e)?i=e:(e=uv(e),r=e.slice(0,-1),e=e[e.length-1]),Fc(t,function(s){var a=i;if(!a){if(r&&r.length&&(s=P6(s,r)),s==null)return;a=s[e]}return a==null?a:a.apply(s,n)})});function eT(t,e){return Fc(t,Xw(e))}function PY(t,e){return ld(t,Zf(e))}function q6(t,e,n){var r=-1/0,i=-1/0,s,a;if(e==null||typeof e=="number"&&typeof t[0]!="object"&&t!=null){t=$a(t)?t:_h(t);for(var o=0,l=t.length;o<l;o++)s=t[o],s!=null&&s>r&&(r=s)}else e=Ta(e,n),nl(t,function(c,u,f){a=e(c,u,f),(a>i||a===-1/0&&r===-1/0)&&(r=c,i=a)});return r}function FY(t,e,n){var r=1/0,i=1/0,s,a;if(e==null||typeof e=="number"&&typeof t[0]!="object"&&t!=null){t=$a(t)?t:_h(t);for(var o=0,l=t.length;o<l;o++)s=t[o],s!=null&&s<r&&(r=s)}else e=Ta(e,n),nl(t,function(c,u,f){a=e(c,u,f),(a<i||a===1/0&&r===1/0)&&(r=c,i=a)});return r}var f9e=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function $6(t){return t?wd(t)?cv.call(t):Gw(t)?t.match(f9e):$a(t)?Fc(t,Jw):_h(t):[]}function z6(t,e,n){if(e==null||n)return $a(t)||(t=_h(t)),t[o_(t.length-1)];var r=$6(t),i=ba(r);e=Math.max(Math.min(e,i),0);for(var s=i-1,a=0;a<e;a++){var o=o_(a,s),l=r[a];r[a]=r[o],r[o]=l}return r.slice(0,e)}function MY(t){return z6(t,1/0)}function UY(t,e,n){var r=0;return e=Ta(e,n),eT(Fc(t,function(i,s,a){return{value:i,index:r++,criteria:e(i,s,a)}}).sort(function(i,s){var a=i.criteria,o=s.criteria;if(a!==o){if(a>o||a===void 0)return 1;if(a<o||o===void 0)return-1}return i.index-s.index}),"value")}function tT(t,e){return function(n,r,i){var s=e?[[],[]]:{};return r=Ta(r,i),nl(n,function(a,o){var l=r(a,o,n);t(s,a,l)}),s}}const OY=tT(function(t,e,n){Td(t,n)?t[n].push(e):t[n]=[e]}),LY=tT(function(t,e,n){t[n]=e}),jY=tT(function(t,e,n){Td(t,n)?t[n]++:t[n]=1}),BY=tT(function(t,e,n){t[n?0:1].push(e)},!0);function VY(t){return t==null?0:$a(t)?t.length:Pi(t).length}function h9e(t,e,n){return e in n}const H6=Ys(function(t,e){var n={},r=e[0];if(t==null)return n;Fs(r)?(e.length>1&&(r=dv(r,e[1])),e=fg(t)):(r=h9e,e=Th(e,!1,!1),t=Object(t));for(var i=0,s=e.length;i<s;i++){var a=e[i],o=t[a];r(o,a,t)&&(n[a]=o)}return n}),WY=Ys(function(t,e){var n=e[0],r;return Fs(n)?(n=Qw(n),e.length>1&&(r=e[1])):(e=Fc(Th(e,!1,!1),String),n=function(i,s){return!vo(e,s)}),H6(t,n,r)});function G6(t,e,n){return cv.call(t,0,Math.max(0,t.length-(e==null||n?1:e)))}function Yp(t,e,n){return t==null||t.length<1?e==null||n?void 0:[]:e==null||n?t[0]:G6(t,t.length-e)}function Df(t,e,n){return cv.call(t,e==null||n?1:e)}function qY(t,e,n){return t==null||t.length<1?e==null||n?void 0:[]:e==null||n?t[t.length-1]:Df(t,Math.max(0,t.length-e))}function $Y(t){return ld(t,Boolean)}function zY(t,e){return Th(t,e,!1)}const K6=Ys(function(t,e){return e=Th(e,!0,!0),ld(t,function(n){return!vo(e,n)})}),HY=Ys(function(t,e){return K6(t,e)});function g1(t,e,n,r){g6(e)||(r=n,n=e,e=!1),n!=null&&(n=Ta(n,r));for(var i=[],s=[],a=0,o=ba(t);a<o;a++){var l=t[a],c=n?n(l,a,t):l;e&&!n?((!a||s!==c)&&i.push(l),s=c):n?vo(s,c)||(s.push(c),i.push(l)):vo(i,l)||i.push(l)}return i}const GY=Ys(function(t){return g1(Th(t,!0,!0))});function KY(t){for(var e=[],n=arguments.length,r=0,i=ba(t);r<i;r++){var s=t[r];if(!vo(e,s)){var a;for(a=1;a<n&&vo(arguments[a],s);a++);a===n&&e.push(s)}}return e}function y1(t){for(var e=t&&q6(t,ba).length||0,n=Array(e),r=0;r<e;r++)n[r]=eT(t,r);return n}const JY=Ys(y1);function XY(t,e){for(var n={},r=0,i=ba(t);r<i;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n}function YY(t,e,n){e==null&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),s=0;s<r;s++,t+=n)i[s]=t;return i}function QY(t,e){if(e==null||e<1)return[];for(var n=[],r=0,i=t.length;r<i;)n.push(cv.call(t,r,r+=e));return n}function J6(t,e){return t._chain?Qn(e).chain():e}function X6(t){return nl(p1(t),function(e){var n=Qn[e]=t[e];Qn.prototype[e]=function(){var r=[this._wrapped];return qFe.apply(r,arguments),J6(this,n.apply(Qn,r))}}),Qn}nl(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=Hw[t];Qn.prototype[t]=function(){var n=this._wrapped;return n!=null&&(e.apply(n,arguments),(t==="shift"||t==="splice")&&n.length===0&&delete n[0]),J6(this,n)}});nl(["concat","join","slice"],function(t){var e=Hw[t];Qn.prototype[t]=function(){var n=this._wrapped;return n!=null&&(n=e.apply(n,arguments)),J6(this,n)}});const p9e=Object.freeze(Object.defineProperty({__proto__:null,VERSION:h6,after:EY,all:c_,allKeys:fg,any:u_,assign:Rm,before:L6,bind:U6,bindAll:yY,chain:mY,chunk:QY,clone:eY,collect:Fc,compact:$Y,compose:TY,constant:w6,contains:vo,countBy:jY,create:ZX,debounce:_Y,default:Qn,defaults:I6,defer:xY,delay:O6,detect:m1,difference:K6,drop:Df,each:nl,escape:cY,every:c_,extend:k6,extendOwn:Rm,filter:ld,find:m1,findIndex:Zw,findKey:j6,findLastIndex:B6,findWhere:NY,first:Yp,flatten:zY,foldl:Xp,foldr:l_,forEach:nl,functions:p1,get:F6,groupBy:OY,has:nY,head:Yp,identity:Jw,include:vo,includes:vo,indexBy:LY,indexOf:W6,initial:G6,inject:Xp,intersection:KY,invert:A6,invoke:RY,isArguments:Kw,isArray:wd,isArrayBuffer:x6,isBoolean:g6,isDataView:h1,isDate:IX,isElement:kX,isEmpty:VX,isEqual:qX,isError:PX,isFinite:OX,isFunction:Fs,isMap:GX,isMatch:E6,isNaN:_6,isNull:NX,isNumber:y6,isObject:_d,isRegExp:RX,isSet:JX,isString:Gw,isSymbol:v6,isTypedArray:T6,isUndefined:m6,isWeakMap:KX,isWeakSet:XX,iteratee:Yw,keys:Pi,last:qY,lastIndexOf:AY,map:Fc,mapObject:iY,matcher:Zf,matches:Zf,max:q6,memoize:vY,methods:p1,min:FY,mixin:X6,negate:Qw,noop:M6,now:Pm,object:XY,omit:WY,once:CY,pairs:YX,partial:wh,partition:BY,pick:H6,pluck:eT,property:Xw,propertyOf:sY,random:o_,range:YY,reduce:Xp,reduceRight:l_,reject:IY,rest:Df,restArguments:Ys,result:hY,sample:z6,select:ld,shuffle:MY,size:VY,some:u_,sortBy:UY,sortedIndex:V6,tail:Df,take:Yp,tap:tY,template:fY,templateSettings:dY,throttle:bY,times:aY,toArray:$6,toPath:R6,transpose:y1,unescape:uY,union:GY,uniq:g1,unique:g1,uniqueId:pY,unzip:y1,values:_h,where:PY,without:HY,wrap:wY,zip:JY},Symbol.toStringTag,{value:"Module"}));var w3=X6(p9e);w3._=w3;const m9e=Object.freeze(Object.defineProperty({__proto__:null,VERSION:h6,after:EY,all:c_,allKeys:fg,any:u_,assign:Rm,before:L6,bind:U6,bindAll:yY,chain:mY,chunk:QY,clone:eY,collect:Fc,compact:$Y,compose:TY,constant:w6,contains:vo,countBy:jY,create:ZX,debounce:_Y,default:w3,defaults:I6,defer:xY,delay:O6,detect:m1,difference:K6,drop:Df,each:nl,escape:cY,every:c_,extend:k6,extendOwn:Rm,filter:ld,find:m1,findIndex:Zw,findKey:j6,findLastIndex:B6,findWhere:NY,first:Yp,flatten:zY,foldl:Xp,foldr:l_,forEach:nl,functions:p1,get:F6,groupBy:OY,has:nY,head:Yp,identity:Jw,include:vo,includes:vo,indexBy:LY,indexOf:W6,initial:G6,inject:Xp,intersection:KY,invert:A6,invoke:RY,isArguments:Kw,isArray:wd,isArrayBuffer:x6,isBoolean:g6,isDataView:h1,isDate:IX,isElement:kX,isEmpty:VX,isEqual:qX,isError:PX,isFinite:OX,isFunction:Fs,isMap:GX,isMatch:E6,isNaN:_6,isNull:NX,isNumber:y6,isObject:_d,isRegExp:RX,isSet:JX,isString:Gw,isSymbol:v6,isTypedArray:T6,isUndefined:m6,isWeakMap:KX,isWeakSet:XX,iteratee:Yw,keys:Pi,last:qY,lastIndexOf:AY,map:Fc,mapObject:iY,matcher:Zf,matches:Zf,max:q6,memoize:vY,methods:p1,min:FY,mixin:X6,negate:Qw,noop:M6,now:Pm,object:XY,omit:WY,once:CY,pairs:YX,partial:wh,partition:BY,pick:H6,pluck:eT,property:Xw,propertyOf:sY,random:o_,range:YY,reduce:Xp,reduceRight:l_,reject:IY,rest:Df,restArguments:Ys,result:hY,sample:z6,select:ld,shuffle:MY,size:VY,some:u_,sortBy:UY,sortedIndex:V6,tail:Df,take:Yp,tap:tY,template:fY,templateSettings:dY,throttle:bY,times:aY,toArray:$6,toPath:R6,transpose:y1,unescape:uY,union:GY,uniq:g1,unique:g1,uniqueId:pY,unzip:y1,values:_h,where:PY,without:HY,wrap:wY,zip:JY},Symbol.toStringTag,{value:"Module"})),mi=xZ(m9e);var Qx={},io={},E4={exports:{}},Zx={exports:{}},bL;function hg(){if(bL)return Zx.exports;bL=1;var t=(function(){return this===void 0})();if(t)Zx.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:t,propertyIsWritable:function(u,f){var h=Object.getOwnPropertyDescriptor(u,f);return!!(!h||h.writable||h.set)}};else{var e={}.hasOwnProperty,n={}.toString,r={}.constructor.prototype,i=function(u){var f=[];for(var h in u)e.call(u,h)&&f.push(h);return f},s=function(u,f){return{value:u[f]}},a=function(u,f,h){return u[f]=h.value,u},o=function(u){return u},l=function(u){try{return Object(u).constructor.prototype}catch{return r}},c=function(u){try{return n.call(u)==="[object Array]"}catch{return!1}};Zx.exports={isArray:c,keys:i,names:i,defineProperty:a,getDescriptor:s,freeze:o,getPrototypeOf:l,isES5:t,propertyIsWritable:function(){return!0}}}return Zx.exports}var d0,_L;function vr(){if(_L)return d0;_L=1;var t={},e=hg(),n=typeof navigator>"u",r={e:{}},i,s=typeof self<"u"?self:typeof window<"u"?window:typeof Ds<"u"?Ds:d0!==void 0?d0:null;function a(){try{var q=i;return i=null,q.apply(this,arguments)}catch(J){return r.e=J,r}}function o(q){return i=q,a}var l=function(q,J){var Y={}.hasOwnProperty;function te(){this.constructor=q,this.constructor$=J;for(var oe in J.prototype)Y.call(J.prototype,oe)&&oe.charAt(oe.length-1)!=="$"&&(this[oe+"$"]=J.prototype[oe])}return te.prototype=J.prototype,q.prototype=new te,q.prototype};function c(q){return q==null||q===!0||q===!1||typeof q=="string"||typeof q=="number"}function u(q){return typeof q=="function"||typeof q=="object"&&q!==null}function f(q){return c(q)?new Error(D(q)):q}function h(q,J){var Y=q.length,te=new Array(Y+1),oe;for(oe=0;oe<Y;++oe)te[oe]=q[oe];return te[oe]=J,te}function p(q,J,Y){if(e.isES5){var te=Object.getOwnPropertyDescriptor(q,J);if(te!=null)return te.get==null&&te.set==null?te.value:Y}else return{}.hasOwnProperty.call(q,J)?q[J]:void 0}function v(q,J,Y){if(c(q))return q;var te={value:Y,configurable:!0,enumerable:!1,writable:!0};return e.defineProperty(q,J,te),q}function g(q){throw q}var y=(function(){var q=[Array.prototype,Object.prototype,Function.prototype],J=function(oe){for(var de=0;de<q.length;++de)if(q[de]===oe)return!0;return!1};if(e.isES5){var Y=Object.getOwnPropertyNames;return function(oe){for(var de=[],fe=Object.create(null);oe!=null&&!J(oe);){var Ce;try{Ce=Y(oe)}catch{return de}for(var Pe=0;Pe<Ce.length;++Pe){var pe=Ce[Pe];if(!fe[pe]){fe[pe]=!0;var Me=Object.getOwnPropertyDescriptor(oe,pe);Me!=null&&Me.get==null&&Me.set==null&&de.push(pe)}}oe=e.getPrototypeOf(oe)}return de}}else{var te={}.hasOwnProperty;return function(oe){if(J(oe))return[];var de=[];e:for(var fe in oe)if(te.call(oe,fe))de.push(fe);else{for(var Ce=0;Ce<q.length;++Ce)if(te.call(q[Ce],fe))continue e;de.push(fe)}return de}}})(),_=/this\s*\.\s*\S+\s*=/;function x(q){try{if(typeof q=="function"){var J=e.names(q.prototype),Y=e.isES5&&J.length>1,te=J.length>0&&!(J.length===1&&J[0]==="constructor"),oe=_.test(q+"")&&e.names(q).length>0;if(Y||te||oe)return!0}return!1}catch{return!1}}function w(q){return q}var C=/^[a-z$_][a-z$_0-9]*$/i;function S(q){return C.test(q)}function R(q,J,Y){for(var te=new Array(q),oe=0;oe<q;++oe)te[oe]=J+oe+Y;return te}function D(q){try{return q+""}catch{return"[no string representation]"}}function N(q){return q!==null&&typeof q=="object"&&typeof q.message=="string"&&typeof q.name=="string"}function I(q){try{v(q,"isOperational",!0)}catch{}}function F(q){return q==null?!1:q instanceof Error.__BluebirdErrorTypes__.OperationalError||q.isOperational===!0}function P(q){return N(q)&&e.propertyIsWritable(q,"stack")}var k=(function(){return"stack"in new Error?function(q){return P(q)?q:new Error(D(q))}:function(q){if(P(q))return q;try{throw new Error(D(q))}catch(J){return J}}})();function U(q){return{}.toString.call(q)}function O(q,J,Y){for(var te=e.names(q),oe=0;oe<te.length;++oe){var de=te[oe];if(Y(de))try{e.defineProperty(J,de,e.getDescriptor(q,de))}catch{}}}var H=function(q){return e.isArray(q)?q:null};if(typeof Symbol<"u"&&Symbol.iterator){var G=typeof Array.from=="function"?function(q){return Array.from(q)}:function(q){for(var J=[],Y=q[Symbol.iterator](),te;!(te=Y.next()).done;)J.push(te.value);return J};H=function(q){return e.isArray(q)?q:q!=null&&typeof q[Symbol.iterator]=="function"?G(q):null}}var X=typeof process<"u"&&U(process).toLowerCase()==="[object process]",Z=typeof process<"u"&&typeof t<"u";function z(q){return Z?t[q]:void 0}function Q(){if(typeof Promise=="function")try{var q=new Promise(function(){});if({}.toString.call(q)==="[object Promise]")return Promise}catch{}}function B(q,J){return q.bind(J)}var j={isClass:x,isIdentifier:S,inheritedDataKeys:y,getDataPropertyOrDefault:p,thrower:g,isArray:e.isArray,asArray:H,notEnumerableProp:v,isPrimitive:c,isObject:u,isError:N,canEvaluate:n,errorObj:r,tryCatch:o,inherits:l,withAppended:h,maybeWrapAsError:f,toFastProperties:w,filledRange:R,toString:D,canAttachTrace:P,ensureErrorObject:k,originatesFromRejection:F,markAsOriginatingFromRejection:I,classString:U,copyDescriptors:O,hasDevTools:typeof chrome<"u"&&chrome&&typeof chrome.loadTimes=="function",isNode:X,hasEnvVariables:Z,env:z,global:s,getNativePromise:Q,domainBind:B};j.isRecentNode=j.isNode&&(function(){var q=process.versions.node.split(".").map(Number);return q[0]===0&&q[1]>10||q[0]>0})(),j.isNode&&j.toFastProperties(process);try{throw new Error}catch(q){j.lastLineError=q}return d0=j,d0}var e2={exports:{}},C4,wL;function g9e(){if(wL)return C4;wL=1;var t=vr(),e,n=function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)},r=t.getNativePromise();if(t.isNode&&typeof MutationObserver>"u"){var i=Ds.setImmediate,s=process.nextTick;e=t.isRecentNode?function(o){i.call(Ds,o)}:function(o){s.call(process,o)}}else if(typeof r=="function"&&typeof r.resolve=="function"){var a=r.resolve();e=function(o){a.then(o)}}else typeof MutationObserver<"u"&&!(typeof window<"u"&&window.navigator&&(window.navigator.standalone||window.cordova))?e=(function(){var o=document.createElement("div"),l={attributes:!0},c=!1,u=document.createElement("div"),f=new MutationObserver(function(){o.classList.toggle("foo"),c=!1});f.observe(u,l);var h=function(){c||(c=!0,u.classList.toggle("foo"))};return function(v){var g=new MutationObserver(function(){g.disconnect(),v()});g.observe(o,l),h()}})():typeof setImmediate<"u"?e=function(o){setImmediate(o)}:typeof setTimeout<"u"?e=function(o){setTimeout(o,0)}:e=n;return C4=e,C4}var S4,TL;function y9e(){if(TL)return S4;TL=1;function t(n,r,i,s,a){for(var o=0;o<a;++o)i[o+s]=n[o+r],n[o+r]=void 0}function e(n){this._capacity=n,this._length=0,this._front=0}return e.prototype._willBeOverCapacity=function(n){return this._capacity<n},e.prototype._pushOne=function(n){var r=this.length();this._checkCapacity(r+1);var i=this._front+r&this._capacity-1;this[i]=n,this._length=r+1},e.prototype.push=function(n,r,i){var s=this.length()+3;if(this._willBeOverCapacity(s)){this._pushOne(n),this._pushOne(r),this._pushOne(i);return}var a=this._front+s-3;this._checkCapacity(s);var o=this._capacity-1;this[a+0&o]=n,this[a+1&o]=r,this[a+2&o]=i,this._length=s},e.prototype.shift=function(){var n=this._front,r=this[n];return this[n]=void 0,this._front=n+1&this._capacity-1,this._length--,r},e.prototype.length=function(){return this._length},e.prototype._checkCapacity=function(n){this._capacity<n&&this._resizeTo(this._capacity<<1)},e.prototype._resizeTo=function(n){var r=this._capacity;this._capacity=n;var i=this._front,s=this._length,a=i+s&r-1;t(this,0,this,r,a)},S4=e,S4}var EL;function v9e(){if(EL)return e2.exports;EL=1;var t;try{throw new Error}catch(l){t=l}var e=g9e(),n=y9e(),r=vr();function i(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new n(16),this._normalQueue=new n(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var l=this;this.drainQueues=function(){l._drainQueues()},this._schedule=e}i.prototype.setScheduler=function(l){var c=this._schedule;return this._schedule=l,this._customScheduler=!0,c},i.prototype.hasCustomScheduler=function(){return this._customScheduler},i.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},i.prototype.disableTrampolineIfNecessary=function(){r.hasDevTools&&(this._trampolineEnabled=!1)},i.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},i.prototype.fatalError=function(l,c){c?(process.stderr.write("Fatal "+(l instanceof Error?l.stack:l)+`
`),process.exit(2)):this.throwLater(l)},i.prototype.throwLater=function(l,c){if(arguments.length===1&&(c=l,l=function(){throw c}),typeof setTimeout<"u")setTimeout(function(){l(c)},0);else try{this._schedule(function(){l(c)})}catch{throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}};function s(l,c,u){this._lateQueue.push(l,c,u),this._queueTick()}function a(l,c,u){this._normalQueue.push(l,c,u),this._queueTick()}function o(l){this._normalQueue._pushOne(l),this._queueTick()}return r.hasDevTools?(i.prototype.invokeLater=function(l,c,u){this._trampolineEnabled?s.call(this,l,c,u):this._schedule(function(){setTimeout(function(){l.call(c,u)},100)})},i.prototype.invoke=function(l,c,u){this._trampolineEnabled?a.call(this,l,c,u):this._schedule(function(){l.call(c,u)})},i.prototype.settlePromises=function(l){this._trampolineEnabled?o.call(this,l):this._schedule(function(){l._settlePromises()})}):(i.prototype.invokeLater=s,i.prototype.invoke=a,i.prototype.settlePromises=o),i.prototype._drainQueue=function(l){for(;l.length()>0;){var c=l.shift();if(typeof c!="function"){c._settlePromises();continue}var u=l.shift(),f=l.shift();c.call(u,f)}},i.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},i.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},i.prototype._reset=function(){this._isTickUsed=!1},e2.exports=i,e2.exports.firstLineError=t,e2.exports}var D4,CL;function cd(){if(CL)return D4;CL=1;var t=hg(),e=t.freeze,n=vr(),r=n.inherits,i=n.notEnumerableProp;function s(_,x){function w(C){if(!(this instanceof w))return new w(C);i(this,"message",typeof C=="string"?C:x),i(this,"name",_),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return r(w,Error),w}var a,o,l=s("Warning","warning"),c=s("CancellationError","cancellation error"),u=s("TimeoutError","timeout error"),f=s("AggregateError","aggregate error");try{a=TypeError,o=RangeError}catch{a=s("TypeError","type error"),o=s("RangeError","range error")}for(var h="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),p=0;p<h.length;++p)typeof Array.prototype[h[p]]=="function"&&(f.prototype[h[p]]=Array.prototype[h[p]]);t.defineProperty(f.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),f.prototype.isOperational=!0;var v=0;f.prototype.toString=function(){var _=Array(v*4+1).join(" "),x=`
`+_+`AggregateError of:
`;v++,_=Array(v*4+1).join(" ");for(var w=0;w<this.length;++w){for(var C=this[w]===this?"[Circular AggregateError]":this[w]+"",S=C.split(`
`),R=0;R<S.length;++R)S[R]=_+S[R];C=S.join(`
`),x+=C+`
`}return v--,x};function g(_){if(!(this instanceof g))return new g(_);i(this,"name","OperationalError"),i(this,"message",_),this.cause=_,this.isOperational=!0,_ instanceof Error?(i(this,"message",_.message),i(this,"stack",_.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}r(g,Error);var y=Error.__BluebirdErrorTypes__;return y||(y=e({CancellationError:c,TimeoutError:u,OperationalError:g,RejectionError:g,AggregateError:f}),t.defineProperty(Error,"__BluebirdErrorTypes__",{value:y,writable:!1,enumerable:!1,configurable:!1})),D4={Error,TypeError:a,RangeError:o,CancellationError:y.CancellationError,OperationalError:y.OperationalError,TimeoutError:y.TimeoutError,AggregateError:y.AggregateError,Warning:l},D4}var A4,SL;function x9e(){return SL||(SL=1,A4=function(t,e){var n=vr(),r=n.errorObj,i=n.isObject;function s(f,h){if(i(f)){if(f instanceof t)return f;var p=o(f);if(p===r){h&&h._pushContext();var v=t.reject(p.e);return h&&h._popContext(),v}else if(typeof p=="function"){if(c(f)){var v=new t(e);return f._then(v._fulfill,v._reject,void 0,v,null),v}return u(f,p,h)}}return f}function a(f){return f.then}function o(f){try{return a(f)}catch(h){return r.e=h,r}}var l={}.hasOwnProperty;function c(f){try{return l.call(f,"_promise0")}catch{return!1}}function u(f,h,p){var v=new t(e),g=v;p&&p._pushContext(),v._captureStackTrace(),p&&p._popContext();var y=!0,_=n.tryCatch(h).call(f,x,w);y=!1,v&&_===r&&(v._rejectCallback(_.e,!0,!0),v=null);function x(C){v&&(v._resolveCallback(C),v=null)}function w(C){v&&(v._rejectCallback(C,y,!0),v=null)}return g}return s}),A4}var N4,DL;function b9e(){return DL||(DL=1,N4=function(t,e,n,r,i){var s=vr();s.isArray;function a(l){switch(l){case-2:return[];case-3:return{}}}function o(l){var c=this._promise=new t(e);l instanceof t&&c._propagateFrom(l,3),c._setOnCancel(this),this._values=l,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return s.inherits(o,i),o.prototype.length=function(){return this._length},o.prototype.promise=function(){return this._promise},o.prototype._init=function l(c,u){var f=n(this._values,this._promise);if(f instanceof t){f=f._target();var h=f._bitField;if(this._values=f,(h&50397184)===0)return this._promise._setAsyncGuaranteed(),f._then(l,this._reject,void 0,this,u);if((h&33554432)!==0)f=f._value();else return(h&16777216)!==0?this._reject(f._reason()):this._cancel()}if(f=s.asArray(f),f===null){var p=r("expecting an array or an iterable object but got "+s.classString(f)).reason();this._promise._rejectCallback(p,!1);return}if(f.length===0){u===-5?this._resolveEmptyArray():this._resolve(a(u));return}this._iterate(f)},o.prototype._iterate=function(l){var c=this.getActualLength(l.length);this._length=c,this._values=this.shouldCopyValues()?new Array(c):this._values;for(var u=this._promise,f=!1,h=null,p=0;p<c;++p){var v=n(l[p],u);v instanceof t?(v=v._target(),h=v._bitField):h=null,f?h!==null&&v.suppressUnhandledRejections():h!==null?(h&50397184)===0?(v._proxy(this,p),this._values[p]=v):(h&33554432)!==0?f=this._promiseFulfilled(v._value(),p):(h&16777216)!==0?f=this._promiseRejected(v._reason(),p):f=this._promiseCancelled(p):f=this._promiseFulfilled(v,p)}f||u._setAsyncGuaranteed()},o.prototype._isResolved=function(){return this._values===null},o.prototype._resolve=function(l){this._values=null,this._promise._fulfill(l)},o.prototype._cancel=function(){this._isResolved()||!this._promise._isCancellable()||(this._values=null,this._promise._cancel())},o.prototype._reject=function(l){this._values=null,this._promise._rejectCallback(l,!1)},o.prototype._promiseFulfilled=function(l,c){this._values[c]=l;var u=++this._totalResolved;return u>=this._length?(this._resolve(this._values),!0):!1},o.prototype._promiseCancelled=function(){return this._cancel(),!0},o.prototype._promiseRejected=function(l){return this._totalResolved++,this._reject(l),!0},o.prototype._resultCancelled=function(){if(!this._isResolved()){var l=this._values;if(this._cancel(),l instanceof t)l.cancel();else for(var c=0;c<l.length;++c)l[c]instanceof t&&l[c].cancel()}},o.prototype.shouldCopyValues=function(){return!0},o.prototype.getActualLength=function(l){return l},o}),N4}var k4,AL;function _9e(){return AL||(AL=1,k4=function(t){var e=!1,n=[];t.prototype._promiseCreated=function(){},t.prototype._pushContext=function(){},t.prototype._popContext=function(){return null},t._peekContext=t.prototype._peekContext=function(){};function r(){this._trace=new r.CapturedTrace(s())}r.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,n.push(this._trace))},r.prototype._popContext=function(){if(this._trace!==void 0){var a=n.pop(),o=a._promiseCreated;return a._promiseCreated=null,o}return null};function i(){if(e)return new r}function s(){var a=n.length-1;if(a>=0)return n[a]}return r.CapturedTrace=null,r.create=i,r.deactivateLongStackTraces=function(){},r.activateLongStackTraces=function(){var a=t.prototype._pushContext,o=t.prototype._popContext,l=t._peekContext,c=t.prototype._peekContext,u=t.prototype._promiseCreated;r.deactivateLongStackTraces=function(){t.prototype._pushContext=a,t.prototype._popContext=o,t._peekContext=l,t.prototype._peekContext=c,t.prototype._promiseCreated=u,e=!1},e=!0,t.prototype._pushContext=r.prototype._pushContext,t.prototype._popContext=r.prototype._popContext,t._peekContext=t.prototype._peekContext=s,t.prototype._promiseCreated=function(){var f=this._peekContext();f&&f._promiseCreated==null&&(f._promiseCreated=this)}},r}),k4}var I4,NL;function w9e(){return NL||(NL=1,I4=function(t,e){var n=t._getDomain,r=t._async,i=cd().Warning,s=vr(),a=s.canAttachTrace,o,l,c=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,u=/\((?:timers\.js):\d+:\d+\)/,f=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,h=null,p=null,v=!1,g,y=!!(s.env("BLUEBIRD_DEBUG")!=0&&(s.env("BLUEBIRD_DEBUG")||s.env("NODE_ENV")==="development")),_=!!(s.env("BLUEBIRD_WARNINGS")!=0&&(y||s.env("BLUEBIRD_WARNINGS"))),x=!!(s.env("BLUEBIRD_LONG_STACK_TRACES")!=0&&(y||s.env("BLUEBIRD_LONG_STACK_TRACES"))),w=s.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(_||!!s.env("BLUEBIRD_W_FORGOTTEN_RETURN"));t.prototype.suppressUnhandledRejections=function(){var ue=this._target();ue._bitField=ue._bitField&-1048577|524288},t.prototype._ensurePossibleRejectionHandled=function(){(this._bitField&524288)===0&&(this._setRejectionIsUnhandled(),r.invokeLater(this._notifyUnhandledRejection,this,void 0))},t.prototype._notifyUnhandledRejectionIsHandled=function(){pe("rejectionHandled",o,void 0,this)},t.prototype._setReturnedNonUndefined=function(){this._bitField=this._bitField|268435456},t.prototype._returnedNonUndefined=function(){return(this._bitField&268435456)!==0},t.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var ue=this._settledValue();this._setUnhandledRejectionIsNotified(),pe("unhandledRejection",l,ue,this)}},t.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=this._bitField|262144},t.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},t.prototype._isUnhandledRejectionNotified=function(){return(this._bitField&262144)>0},t.prototype._setRejectionIsUnhandled=function(){this._bitField=this._bitField|1048576},t.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},t.prototype._isRejectionUnhandled=function(){return(this._bitField&1048576)>0},t.prototype._warn=function(ue,ve,be){return J(ue,ve,be||this)},t.onPossiblyUnhandledRejection=function(ue){var ve=n();l=typeof ue=="function"?ve===null?ue:s.domainBind(ve,ue):void 0},t.onUnhandledRejectionHandled=function(ue){var ve=n();o=typeof ue=="function"?ve===null?ue:s.domainBind(ve,ue):void 0};var C=function(){};t.longStackTraces=function(){if(r.haveItemsQueued()&&!ie.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!ie.longStackTraces&&ge()){var ue=t.prototype._captureStackTrace,ve=t.prototype._attachExtraTrace;ie.longStackTraces=!0,C=function(){if(r.haveItemsQueued()&&!ie.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);t.prototype._captureStackTrace=ue,t.prototype._attachExtraTrace=ve,e.deactivateLongStackTraces(),r.enableTrampoline(),ie.longStackTraces=!1},t.prototype._captureStackTrace=Q,t.prototype._attachExtraTrace=B,e.activateLongStackTraces(),r.disableTrampolineIfNecessary()}},t.hasLongStackTraces=function(){return ie.longStackTraces&&ge()};var S=(function(){try{if(typeof CustomEvent=="function"){var ue=new CustomEvent("CustomEvent");return s.global.dispatchEvent(ue),function(ve,be){var Ie=new CustomEvent(ve.toLowerCase(),{detail:be,cancelable:!0});return!s.global.dispatchEvent(Ie)}}else if(typeof Event=="function"){var ue=new Event("CustomEvent");return s.global.dispatchEvent(ue),function(be,Ie){var Le=new Event(be.toLowerCase(),{cancelable:!0});return Le.detail=Ie,!s.global.dispatchEvent(Le)}}else{var ue=document.createEvent("CustomEvent");return ue.initCustomEvent("testingtheevent",!1,!0,{}),s.global.dispatchEvent(ue),function(be,Ie){var Le=document.createEvent("CustomEvent");return Le.initCustomEvent(be.toLowerCase(),!1,!0,Ie),!s.global.dispatchEvent(Le)}}}catch{}return function(){return!1}})(),R=(function(){return s.isNode?function(){return process.emit.apply(process,arguments)}:s.global?function(ue){var ve="on"+ue.toLowerCase(),be=s.global[ve];return be?(be.apply(s.global,[].slice.call(arguments,1)),!0):!1}:function(){return!1}})();function D(ue,ve){return{promise:ve}}var N={promiseCreated:D,promiseFulfilled:D,promiseRejected:D,promiseResolved:D,promiseCancelled:D,promiseChained:function(ue,ve,be){return{promise:ve,child:be}},warning:function(ue,ve){return{warning:ve}},unhandledRejection:function(ue,ve,be){return{reason:ve,promise:be}},rejectionHandled:D},I=function(ue){var ve=!1;try{ve=R.apply(null,arguments)}catch(Ie){r.throwLater(Ie),ve=!0}var be=!1;try{be=S(ue,N[ue].apply(null,arguments))}catch(Ie){r.throwLater(Ie),be=!0}return be||ve};t.config=function(ue){if(ue=Object(ue),"longStackTraces"in ue&&(ue.longStackTraces?t.longStackTraces():!ue.longStackTraces&&t.hasLongStackTraces()&&C()),"warnings"in ue){var ve=ue.warnings;ie.warnings=!!ve,w=ie.warnings,s.isObject(ve)&&"wForgottenReturn"in ve&&(w=!!ve.wForgottenReturn)}if("cancellation"in ue&&ue.cancellation&&!ie.cancellation){if(r.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");t.prototype._clearCancellationData=H,t.prototype._propagateFrom=G,t.prototype._onCancel=U,t.prototype._setOnCancel=O,t.prototype._attachCancellationCallback=k,t.prototype._execute=P,Z=G,ie.cancellation=!0}return"monitoring"in ue&&(ue.monitoring&&!ie.monitoring?(ie.monitoring=!0,t.prototype._fireEvent=I):!ue.monitoring&&ie.monitoring&&(ie.monitoring=!1,t.prototype._fireEvent=F)),t};function F(){return!1}t.prototype._fireEvent=F,t.prototype._execute=function(ue,ve,be){try{ue(ve,be)}catch(Ie){return Ie}},t.prototype._onCancel=function(){},t.prototype._setOnCancel=function(ue){},t.prototype._attachCancellationCallback=function(ue){},t.prototype._captureStackTrace=function(){},t.prototype._attachExtraTrace=function(){},t.prototype._clearCancellationData=function(){},t.prototype._propagateFrom=function(ue,ve){};function P(ue,ve,be){var Ie=this;try{ue(ve,be,function(Le){if(typeof Le!="function")throw new TypeError("onCancel must be a function, got: "+s.toString(Le));Ie._attachCancellationCallback(Le)})}catch(Le){return Le}}function k(ue){if(!this._isCancellable())return this;var ve=this._onCancel();ve!==void 0?s.isArray(ve)?ve.push(ue):this._setOnCancel([ve,ue]):this._setOnCancel(ue)}function U(){return this._onCancelField}function O(ue){this._onCancelField=ue}function H(){this._cancellationParent=void 0,this._onCancelField=void 0}function G(ue,ve){if((ve&1)!==0){this._cancellationParent=ue;var be=ue._branchesRemainingToCancel;be===void 0&&(be=0),ue._branchesRemainingToCancel=be+1}(ve&2)!==0&&ue._isBound()&&this._setBoundTo(ue._boundTo)}function X(ue,ve){(ve&2)!==0&&ue._isBound()&&this._setBoundTo(ue._boundTo)}var Z=X;function z(){var ue=this._boundTo;return ue!==void 0&&ue instanceof t?ue.isFulfilled()?ue.value():void 0:ue}function Q(){this._trace=new ke(this._peekContext())}function B(ue,ve){if(a(ue)){var be=this._trace;if(be!==void 0&&ve&&(be=be._parent),be!==void 0)be.attachExtraTrace(ue);else if(!ue.__stackCleaned__){var Ie=Ce(ue);s.notEnumerableProp(ue,"stack",Ie.message+`
`+Ie.stack.join(`
`)),s.notEnumerableProp(ue,"__stackCleaned__",!0)}}}function j(ue,ve,be,Ie,Le){if(ue===void 0&&ve!==null&&w){if(Le!==void 0&&Le._returnedNonUndefined()||(Ie._bitField&65535)===0)return;be&&(be=be+" ");var Te="",Ue="";if(ve._trace){for(var Oe=ve._trace.stack.split(`
`),Je=de(Oe),ot=Je.length-1;ot>=0;--ot){var lt=Je[ot];if(!u.test(lt)){var Bt=lt.match(f);Bt&&(Te="at "+Bt[1]+":"+Bt[2]+":"+Bt[3]+" ");break}}if(Je.length>0){for(var fn=Je[0],ot=0;ot<Oe.length;++ot)if(Oe[ot]===fn){ot>0&&(Ue=`
`+Oe[ot-1]);break}}}var ln="a promise was created in a "+be+"handler "+Te+"but was not returned from it, see http://goo.gl/rRqMUw"+Ue;Ie._warn(ln,!0,ve)}}function q(ue,ve){var be=ue+" is deprecated and will be removed in a future version.";return ve&&(be+=" Use "+ve+" instead."),J(be)}function J(ue,ve,be){if(ie.warnings){var Ie=new i(ue),Le;if(ve)be._attachExtraTrace(Ie);else if(ie.longStackTraces&&(Le=t._peekContext()))Le.attachExtraTrace(Ie);else{var Te=Ce(Ie);Ie.stack=Te.message+`
`+Te.stack.join(`
`)}I("warning",Ie)||Pe(Ie,"",!0)}}function Y(ue,ve){for(var be=0;be<ve.length-1;++be)ve[be].push("From previous event:"),ve[be]=ve[be].join(`
`);return be<ve.length&&(ve[be]=ve[be].join(`
`)),ue+`
`+ve.join(`
`)}function te(ue){for(var ve=0;ve<ue.length;++ve)(ue[ve].length===0||ve+1<ue.length&&ue[ve][0]===ue[ve+1][0])&&(ue.splice(ve,1),ve--)}function oe(ue){for(var ve=ue[0],be=1;be<ue.length;++be){for(var Ie=ue[be],Le=ve.length-1,Te=ve[Le],Ue=-1,Oe=Ie.length-1;Oe>=0;--Oe)if(Ie[Oe]===Te){Ue=Oe;break}for(var Oe=Ue;Oe>=0;--Oe){var Je=Ie[Oe];if(ve[Le]===Je)ve.pop(),Le--;else break}ve=Ie}}function de(ue){for(var ve=[],be=0;be<ue.length;++be){var Ie=ue[be],Le=Ie==="    (No stack trace)"||h.test(Ie),Te=Le&&_e(Ie);Le&&!Te&&(v&&Ie.charAt(0)!==" "&&(Ie="    "+Ie),ve.push(Ie))}return ve}function fe(ue){for(var ve=ue.stack.replace(/\s+$/g,"").split(`
`),be=0;be<ve.length;++be){var Ie=ve[be];if(Ie==="    (No stack trace)"||h.test(Ie))break}return be>0&&ue.name!="SyntaxError"&&(ve=ve.slice(be)),ve}function Ce(ue){var ve=ue.stack,be=ue.toString();return ve=typeof ve=="string"&&ve.length>0?fe(ue):["    (No stack trace)"],{message:be,stack:ue.name=="SyntaxError"?ve:de(ve)}}function Pe(ue,ve,be){if(typeof console<"u"){var Ie;if(s.isObject(ue)){var Le=ue.stack;Ie=ve+p(Le,ue)}else Ie=ve+String(ue);typeof g=="function"?g(Ie,be):(typeof console.log=="function"||typeof console.log=="object")&&console.log(Ie)}}function pe(ue,ve,be,Ie){var Le=!1;try{typeof ve=="function"&&(Le=!0,ue==="rejectionHandled"?ve(Ie):ve(be,Ie))}catch(Te){r.throwLater(Te)}ue==="unhandledRejection"?!I(ue,be,Ie)&&!Le&&Pe(be,"Unhandled rejection "):I(ue,Ie)}function Me(ue){var ve;if(typeof ue=="function")ve="[function "+(ue.name||"anonymous")+"]";else{ve=ue&&typeof ue.toString=="function"?ue.toString():s.toString(ue);var be=/\[object [a-zA-Z0-9$_]+\]/;if(be.test(ve))try{var Ie=JSON.stringify(ue);ve=Ie}catch{}ve.length===0&&(ve="(empty array)")}return"(<"+W(ve)+">, no stack trace)"}function W(ue){var ve=41;return ue.length<ve?ue:ue.substr(0,ve-3)+"..."}function ge(){return typeof Ne=="function"}var _e=function(){return!1},ce=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function re(ue){var ve=ue.match(ce);if(ve)return{fileName:ve[1],line:parseInt(ve[2],10)}}function le(ue,ve){if(ge()){for(var be=ue.stack.split(`
`),Ie=ve.stack.split(`
`),Le=-1,Te=-1,Ue,Oe,Je=0;Je<be.length;++Je){var ot=re(be[Je]);if(ot){Ue=ot.fileName,Le=ot.line;break}}for(var Je=0;Je<Ie.length;++Je){var ot=re(Ie[Je]);if(ot){Oe=ot.fileName,Te=ot.line;break}}Le<0||Te<0||!Ue||!Oe||Ue!==Oe||Le>=Te||(_e=function(lt){if(c.test(lt))return!0;var Bt=re(lt);return!!(Bt&&Bt.fileName===Ue&&Le<=Bt.line&&Bt.line<=Te)})}}function ke(ue){this._parent=ue,this._promisesCreated=0;var ve=this._length=1+(ue===void 0?0:ue._length);Ne(this,ke),ve>32&&this.uncycle()}s.inherits(ke,Error),e.CapturedTrace=ke,ke.prototype.uncycle=function(){var ue=this._length;if(!(ue<2)){for(var ve=[],be={},Ie=0,Le=this;Le!==void 0;++Ie)ve.push(Le),Le=Le._parent;ue=this._length=Ie;for(var Ie=ue-1;Ie>=0;--Ie){var Te=ve[Ie].stack;be[Te]===void 0&&(be[Te]=Ie)}for(var Ie=0;Ie<ue;++Ie){var Ue=ve[Ie].stack,Oe=be[Ue];if(Oe!==void 0&&Oe!==Ie){Oe>0&&(ve[Oe-1]._parent=void 0,ve[Oe-1]._length=1),ve[Ie]._parent=void 0,ve[Ie]._length=1;var Je=Ie>0?ve[Ie-1]:this;Oe<ue-1?(Je._parent=ve[Oe+1],Je._parent.uncycle(),Je._length=Je._parent._length+1):(Je._parent=void 0,Je._length=1);for(var ot=Je._length+1,lt=Ie-2;lt>=0;--lt)ve[lt]._length=ot,ot++;return}}}},ke.prototype.attachExtraTrace=function(ue){if(!ue.__stackCleaned__){this.uncycle();for(var ve=Ce(ue),be=ve.message,Ie=[ve.stack],Le=this;Le!==void 0;)Ie.push(de(Le.stack.split(`
`))),Le=Le._parent;oe(Ie),te(Ie),s.notEnumerableProp(ue,"stack",Y(be,Ie)),s.notEnumerableProp(ue,"__stackCleaned__",!0)}};var Ne=(function(){var ve=/^\s*at\s*/,be=function(Ue,Oe){return typeof Ue=="string"?Ue:Oe.name!==void 0&&Oe.message!==void 0?Oe.toString():Me(Oe)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,h=ve,p=be;var Ie=Error.captureStackTrace;return _e=function(Ue){return c.test(Ue)},function(Ue,Oe){Error.stackTraceLimit+=6,Ie(Ue,Oe),Error.stackTraceLimit-=6}}var Le=new Error;if(typeof Le.stack=="string"&&Le.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return h=/@/,p=be,v=!0,function(Oe){Oe.stack=new Error().stack};var Te;try{throw new Error}catch(Ue){Te="stack"in Ue}return!("stack"in Le)&&Te&&typeof Error.stackTraceLimit=="number"?(h=ve,p=be,function(Oe){Error.stackTraceLimit+=6;try{throw new Error}catch(Je){Oe.stack=Je.stack}Error.stackTraceLimit-=6}):(p=function(Ue,Oe){return typeof Ue=="string"?Ue:(typeof Oe=="object"||typeof Oe=="function")&&Oe.name!==void 0&&Oe.message!==void 0?Oe.toString():Me(Oe)},null)})();typeof console<"u"&&typeof console.warn<"u"&&(g=function(ue){console.warn(ue)},s.isNode&&process.stderr.isTTY?g=function(ue,ve){var be=ve?"\x1B[33m":"\x1B[31m";console.warn(be+ue+`\x1B[0m
`)}:!s.isNode&&typeof new Error().stack=="string"&&(g=function(ue,ve){console.warn("%c"+ue,ve?"color: darkorange":"color: red")}));var ie={warnings:_,longStackTraces:!1,cancellation:!1,monitoring:!1};return x&&t.longStackTraces(),{longStackTraces:function(){return ie.longStackTraces},warnings:function(){return ie.warnings},cancellation:function(){return ie.cancellation},monitoring:function(){return ie.monitoring},propagateFromFunction:function(){return Z},boundValueFunction:function(){return z},checkForgottenReturns:j,setBounds:le,warn:J,deprecated:q,CapturedTrace:ke,fireDomEvent:S,fireGlobalEvent:R}}),I4}var R4,kL;function T9e(){return kL||(kL=1,R4=function(t,e){var n=vr(),r=t.CancellationError,i=n.errorObj;function s(f,h,p){this.promise=f,this.type=h,this.handler=p,this.called=!1,this.cancelPromise=null}s.prototype.isFinallyHandler=function(){return this.type===0};function a(f){this.finallyHandler=f}a.prototype._resultCancelled=function(){o(this.finallyHandler)};function o(f,h){return f.cancelPromise!=null?(arguments.length>1?f.cancelPromise._reject(h):f.cancelPromise._cancel(),f.cancelPromise=null,!0):!1}function l(){return u.call(this,this.promise._target()._settledValue())}function c(f){if(!o(this,f))return i.e=f,i}function u(f){var h=this.promise,p=this.handler;if(!this.called){this.called=!0;var v=this.isFinallyHandler()?p.call(h._boundValue()):p.call(h._boundValue(),f);if(v!==void 0){h._setReturnedNonUndefined();var g=e(v,h);if(g instanceof t){if(this.cancelPromise!=null)if(g._isCancelled()){var y=new r("late cancellation observer");return h._attachExtraTrace(y),i.e=y,i}else g.isPending()&&g._attachCancellationCallback(new a(this));return g._then(l,c,void 0,this,void 0)}}}return h.isRejected()?(o(this),i.e=f,i):(o(this),f)}return t.prototype._passThrough=function(f,h,p,v){return typeof f!="function"?this.then():this._then(p,v,void 0,new s(this,h,f),void 0)},t.prototype.lastly=t.prototype.finally=function(f){return this._passThrough(f,0,u,u)},t.prototype.tap=function(f){return this._passThrough(f,1,u)},s}),R4}var P4,IL;function E9e(){return IL||(IL=1,P4=function(t){var e=vr(),n=hg().keys,r=e.tryCatch,i=e.errorObj;function s(a,o,l){return function(c){var u=l._boundValue();e:for(var f=0;f<a.length;++f){var h=a[f];if(h===Error||h!=null&&h.prototype instanceof Error){if(c instanceof h)return r(o).call(u,c)}else if(typeof h=="function"){var p=r(h).call(u,c);if(p===i)return p;if(p)return r(o).call(u,c)}else if(e.isObject(c)){for(var v=n(h),g=0;g<v.length;++g){var y=v[g];if(h[y]!=c[y])continue e}return r(o).call(u,c)}}return t}}return s}),P4}var F4,RL;function ZY(){if(RL)return F4;RL=1;var t=vr(),e=t.maybeWrapAsError,n=cd(),r=n.OperationalError,i=hg();function s(c){return c instanceof Error&&i.getPrototypeOf(c)===Error.prototype}var a=/^(?:name|message|stack|cause)$/;function o(c){var u;if(s(c)){u=new r(c),u.name=c.name,u.message=c.message,u.stack=c.stack;for(var f=i.keys(c),h=0;h<f.length;++h){var p=f[h];a.test(p)||(u[p]=c[p])}return u}return t.markAsOriginatingFromRejection(c),c}function l(c,u){return function(f,h){if(c!==null){if(f){var p=o(e(f));c._attachExtraTrace(p),c._reject(p)}else if(!u)c._fulfill(h);else{for(var v=arguments.length,g=new Array(Math.max(v-1,0)),y=1;y<v;++y)g[y-1]=arguments[y];c._fulfill(g)}c=null}}}return F4=l,F4}var M4,PL;function C9e(){return PL||(PL=1,M4=function(t,e,n,r,i){var s=vr(),a=s.tryCatch;t.method=function(o){if(typeof o!="function")throw new t.TypeError("expecting a function but got "+s.classString(o));return function(){var l=new t(e);l._captureStackTrace(),l._pushContext();var c=a(o).apply(this,arguments),u=l._popContext();return i.checkForgottenReturns(c,u,"Promise.method",l),l._resolveFromSyncValue(c),l}},t.attempt=t.try=function(o){if(typeof o!="function")return r("expecting a function but got "+s.classString(o));var l=new t(e);l._captureStackTrace(),l._pushContext();var c;if(arguments.length>1){i.deprecated("calling Promise.try with more than 1 argument");var u=arguments[1],f=arguments[2];c=s.isArray(u)?a(o).apply(f,u):a(o).call(f,u)}else c=a(o)();var h=l._popContext();return i.checkForgottenReturns(c,h,"Promise.try",l),l._resolveFromSyncValue(c),l},t.prototype._resolveFromSyncValue=function(o){o===s.errorObj?this._rejectCallback(o.e,!1):this._resolveCallback(o,!0)}}),M4}var U4,FL;function S9e(){return FL||(FL=1,U4=function(t,e,n,r){var i=!1,s=function(c,u){this._reject(u)},a=function(c,u){u.promiseRejectionQueued=!0,u.bindingPromise._then(s,s,null,this,c)},o=function(c,u){(this._bitField&50397184)===0&&this._resolveCallback(u.target)},l=function(c,u){u.promiseRejectionQueued||this._reject(c)};t.prototype.bind=function(c){i||(i=!0,t.prototype._propagateFrom=r.propagateFromFunction(),t.prototype._boundValue=r.boundValueFunction());var u=n(c),f=new t(e);f._propagateFrom(this,1);var h=this._target();if(f._setBoundTo(u),u instanceof t){var p={promiseRejectionQueued:!1,promise:f,target:h,bindingPromise:u};h._then(e,a,void 0,f,p),u._then(o,l,void 0,f,p),f._setOnCancel(u)}else f._resolveCallback(h);return f},t.prototype._setBoundTo=function(c){c!==void 0?(this._bitField=this._bitField|2097152,this._boundTo=c):this._bitField=this._bitField&-2097153},t.prototype._isBound=function(){return(this._bitField&2097152)===2097152},t.bind=function(c,u){return t.resolve(u).bind(c)}}),U4}var O4,ML;function D9e(){return ML||(ML=1,O4=function(t,e,n,r){var i=vr(),s=i.tryCatch,a=i.errorObj,o=t._async;t.prototype.break=t.prototype.cancel=function(){if(!r.cancellation())return this._warn("cancellation is disabled");for(var l=this,c=l;l._isCancellable();){if(!l._cancelBy(c)){c._isFollowing()?c._followee().cancel():c._cancelBranched();break}var u=l._cancellationParent;if(u==null||!u._isCancellable()){l._isFollowing()?l._followee().cancel():l._cancelBranched();break}else l._isFollowing()&&l._followee().cancel(),l._setWillBeCancelled(),c=l,l=u}},t.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},t.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},t.prototype._cancelBy=function(l){return l===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),this._enoughBranchesHaveCancelled()?(this._invokeOnCancel(),!0):!1)},t.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},t.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),o.invoke(this._cancelPromises,this,void 0))},t.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},t.prototype._unsetOnCancel=function(){this._onCancelField=void 0},t.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},t.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},t.prototype._doInvokeOnCancel=function(l,c){if(i.isArray(l))for(var u=0;u<l.length;++u)this._doInvokeOnCancel(l[u],c);else if(l!==void 0)if(typeof l=="function"){if(!c){var f=s(l).call(this._boundValue());f===a&&(this._attachExtraTrace(f.e),o.throwLater(f.e))}}else l._resultCancelled(this)},t.prototype._invokeOnCancel=function(){var l=this._onCancel();this._unsetOnCancel(),o.invoke(this._doInvokeOnCancel,this,l)},t.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},t.prototype._resultCancelled=function(){this.cancel()}}),O4}var L4,UL;function A9e(){return UL||(UL=1,L4=function(t){function e(){return this.value}function n(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(r){return r instanceof t&&r.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:r},void 0)},t.prototype.throw=t.prototype.thenThrow=function(r){return this._then(n,void 0,void 0,{reason:r},void 0)},t.prototype.catchThrow=function(r){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:r},void 0);var i=arguments[1],s=function(){throw i};return this.caught(r,s)},t.prototype.catchReturn=function(r){if(arguments.length<=1)return r instanceof t&&r.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:r},void 0);var i=arguments[1];i instanceof t&&i.suppressUnhandledRejections();var s=function(){return i};return this.caught(r,s)}}),L4}var j4,OL;function N9e(){return OL||(OL=1,j4=function(t){function e(l){l!==void 0?(l=l._target(),this._bitField=l._bitField,this._settledValueField=l._isFateSealed()?l._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var n=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},r=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},i=e.prototype.isFulfilled=function(){return(this._bitField&33554432)!==0},s=e.prototype.isRejected=function(){return(this._bitField&16777216)!==0},a=e.prototype.isPending=function(){return(this._bitField&50397184)===0},o=e.prototype.isResolved=function(){return(this._bitField&50331648)!==0};e.prototype.isCancelled=function(){return(this._bitField&8454144)!==0},t.prototype.__isCancelled=function(){return(this._bitField&65536)===65536},t.prototype._isCancelled=function(){return this._target().__isCancelled()},t.prototype.isCancelled=function(){return(this._target()._bitField&8454144)!==0},t.prototype.isPending=function(){return a.call(this._target())},t.prototype.isRejected=function(){return s.call(this._target())},t.prototype.isFulfilled=function(){return i.call(this._target())},t.prototype.isResolved=function(){return o.call(this._target())},t.prototype.value=function(){return n.call(this._target())},t.prototype.reason=function(){var l=this._target();return l._unsetRejectionIsUnhandled(),r.call(l)},t.prototype._value=function(){return this._settledValue()},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},t.PromiseInspection=e}),j4}var B4,LL;function k9e(){return LL||(LL=1,B4=function(t,e,n,r,i,s){var a=vr(),o=a.canEvaluate,l=a.tryCatch,c=a.errorObj,u;if(o){for(var f=function(x){return new Function("value","holder",`                             
	            'use strict';                                                    
	            holder.pIndex = value;                                           
	            holder.checkFulfillment(this);                                   
	            `.replace(/Index/g,x))},h=function(x){return new Function("promise","holder",`                           
	            'use strict';                                                    
	            holder.pIndex = promise;                                         
	            `.replace(/Index/g,x))},p=function(x){for(var w=new Array(x),C=0;C<w.length;++C)w[C]="this.p"+(C+1);var S=w.join(" = ")+" = null;",R=`var promise;
`+w.map(function(F){return`                                                         
	                promise = `+F+`;                                      
	                if (promise instanceof Promise) {                            
	                    promise.cancel();                                        
	                }                                                            
	            `}).join(`
`),D=w.join(", "),N="Holder$"+x,I=`return function(tryCatch, errorObj, Promise, async) {    
	            'use strict';                                                    
	            function [TheName](fn) {                                         
	                [TheProperties]                                              
	                this.fn = fn;                                                
	                this.asyncNeeded = true;                                     
	                this.now = 0;                                                
	            }                                                                
	                                                                             
	            [TheName].prototype._callFunction = function(promise) {          
	                promise._pushContext();                                      
	                var ret = tryCatch(this.fn)([ThePassedArguments]);           
	                promise._popContext();                                       
	                if (ret === errorObj) {                                      
	                    promise._rejectCallback(ret.e, false);                   
	                } else {                                                     
	                    promise._resolveCallback(ret);                           
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype.checkFulfillment = function(promise) {       
	                var now = ++this.now;                                        
	                if (now === [TheTotal]) {                                    
	                    if (this.asyncNeeded) {                                  
	                        async.invoke(this._callFunction, this, promise);     
	                    } else {                                                 
	                        this._callFunction(promise);                         
	                    }                                                        
	                                                                             
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype._resultCancelled = function() {              
	                [CancellationCode]                                           
	            };                                                               
	                                                                             
	            return [TheName];                                                
	        }(tryCatch, errorObj, Promise, async);                               
	        `;return I=I.replace(/\[TheName\]/g,N).replace(/\[TheTotal\]/g,x).replace(/\[ThePassedArguments\]/g,D).replace(/\[TheProperties\]/g,S).replace(/\[CancellationCode\]/g,R),new Function("tryCatch","errorObj","Promise","async",I)(l,c,t,i)},v=[],g=[],y=[],_=0;_<8;++_)v.push(p(_+1)),g.push(f(_+1)),y.push(h(_+1));u=function(x){this._reject(x)}}t.join=function(){var x=arguments.length-1,w;if(x>0&&typeof arguments[x]=="function"&&(w=arguments[x],x<=8&&o)){var O=new t(r);O._captureStackTrace();for(var C=v[x-1],S=new C(w),R=g,D=0;D<x;++D){var N=n(arguments[D],O);if(N instanceof t){N=N._target();var I=N._bitField;(I&50397184)===0?(N._then(R[D],u,void 0,O,S),y[D](N,S),S.asyncNeeded=!1):(I&33554432)!==0?R[D].call(O,N._value(),S):(I&16777216)!==0?O._reject(N._reason()):O._cancel()}else R[D].call(O,N,S)}if(!O._isFateSealed()){if(S.asyncNeeded){var F=s();F!==null&&(S.fn=a.domainBind(F,S.fn))}O._setAsyncGuaranteed(),O._setOnCancel(S)}return O}for(var P=arguments.length,k=new Array(P),U=0;U<P;++U)k[U]=arguments[U];w&&k.pop();var O=new e(k).promise();return w!==void 0?O.spread(w):O}}),B4}var V4,jL;function I9e(){return jL||(jL=1,V4=function(t,e,n,r,i,s){var a=t._getDomain,o=vr(),l=o.tryCatch,c=o.errorObj,u=t._async;function f(p,v,g,y){this.constructor$(p),this._promise._captureStackTrace();var _=a();this._callback=_===null?v:o.domainBind(_,v),this._preservedValues=y===i?new Array(this.length()):null,this._limit=g,this._inFlight=0,this._queue=[],u.invoke(this._asyncInit,this,void 0)}o.inherits(f,e),f.prototype._asyncInit=function(){this._init$(void 0,-2)},f.prototype._init=function(){},f.prototype._promiseFulfilled=function(p,v){var g=this._values,y=this.length(),_=this._preservedValues,x=this._limit;if(v<0){if(v=v*-1-1,g[v]=p,x>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(x>=1&&this._inFlight>=x)return g[v]=p,this._queue.push(v),!1;_!==null&&(_[v]=p);var w=this._promise,C=this._callback,S=w._boundValue();w._pushContext();var R=l(C).call(S,p,v,y),D=w._popContext();if(s.checkForgottenReturns(R,D,_!==null?"Promise.filter":"Promise.map",w),R===c)return this._reject(R.e),!0;var N=r(R,this._promise);if(N instanceof t){N=N._target();var I=N._bitField;if((I&50397184)===0)return x>=1&&this._inFlight++,g[v]=N,N._proxy(this,(v+1)*-1),!1;if((I&33554432)!==0)R=N._value();else return(I&16777216)!==0?(this._reject(N._reason()),!0):(this._cancel(),!0)}g[v]=R}var F=++this._totalResolved;return F>=y?(_!==null?this._filter(g,_):this._resolve(g),!0):!1},f.prototype._drainQueue=function(){for(var p=this._queue,v=this._limit,g=this._values;p.length>0&&this._inFlight<v;){if(this._isResolved())return;var y=p.pop();this._promiseFulfilled(g[y],y)}},f.prototype._filter=function(p,v){for(var g=v.length,y=new Array(g),_=0,x=0;x<g;++x)p[x]&&(y[_++]=v[x]);y.length=_,this._resolve(y)},f.prototype.preservedValues=function(){return this._preservedValues};function h(p,v,g,y){if(typeof v!="function")return n("expecting a function but got "+o.classString(v));var _=0;if(g!==void 0)if(typeof g=="object"&&g!==null){if(typeof g.concurrency!="number")return t.reject(new TypeError("'concurrency' must be a number but it is "+o.classString(g.concurrency)));_=g.concurrency}else return t.reject(new TypeError("options argument must be an object but it is "+o.classString(g)));return _=typeof _=="number"&&isFinite(_)&&_>=1?_:0,new f(p,v,_,y).promise()}t.prototype.map=function(p,v){return h(this,p,v,null)},t.map=function(p,v,g,y){return h(p,v,g,y)}}),V4}var W4,BL;function R9e(){if(BL)return W4;BL=1;var t=Object.create;if(t){var e=t(null),n=t(null);e[" size"]=n[" size"]=0}return W4=function(r){var i=vr(),s=i.canEvaluate,a=i.isIdentifier,o,l;{var c=function(y){return new Function("ensureMethod",`                                    
	        return function(obj) {                                               
	            'use strict'                                                     
	            var len = this.length;                                           
	            ensureMethod(obj, 'methodName');                                 
	            switch(len) {                                                    
	                case 1: return obj.methodName(this[0]);                      
	                case 2: return obj.methodName(this[0], this[1]);             
	                case 3: return obj.methodName(this[0], this[1], this[2]);    
	                case 0: return obj.methodName();                             
	                default:                                                     
	                    return obj.methodName.apply(obj, this);                  
	            }                                                                
	        };                                                                   
	        `.replace(/methodName/g,y))(h)},u=function(y){return new Function("obj",`                                             
	        'use strict';                                                        
	        return obj.propertyName;                                             
	        `.replace("propertyName",y))},f=function(y,_,x){var w=x[y];if(typeof w!="function"){if(!a(y))return null;if(w=_(y),x[y]=w,x[" size"]++,x[" size"]>512){for(var C=Object.keys(x),S=0;S<256;++S)delete x[C[S]];x[" size"]=C.length-256}}return w};o=function(y){return f(y,c,e)},l=function(y){return f(y,u,n)}}function h(y,_){var x;if(y!=null&&(x=y[_]),typeof x!="function"){var w="Object "+i.classString(y)+" has no method '"+i.toString(_)+"'";throw new r.TypeError(w)}return x}function p(y){var _=this.pop(),x=h(y,_);return x.apply(y,this)}r.prototype.call=function(y){for(var _=arguments.length,x=new Array(Math.max(_-1,0)),w=1;w<_;++w)x[w-1]=arguments[w];if(s){var C=o(y);if(C!==null)return this._then(C,void 0,void 0,x,void 0)}return x.push(y),this._then(p,void 0,void 0,x,void 0)};function v(y){return y[this]}function g(y){var _=+this;return _<0&&(_=Math.max(0,_+y.length)),y[_]}r.prototype.get=function(y){var _=typeof y=="number",x;if(_)x=g;else if(s){var w=l(y);x=w!==null?w:v}else x=v;return this._then(x,void 0,void 0,y,void 0)}},W4}var q4,VL;function P9e(){return VL||(VL=1,q4=function(t,e,n,r,i,s){var a=vr(),o=cd().TypeError,l=vr().inherits,c=a.errorObj,u=a.tryCatch,f={};function h(w){setTimeout(function(){throw w},0)}function p(w){var C=n(w);return C!==w&&typeof w._isDisposable=="function"&&typeof w._getDisposer=="function"&&w._isDisposable()&&C._setDisposable(w._getDisposer()),C}function v(w,C){var S=0,R=w.length,D=new t(i);function N(){if(S>=R)return D._fulfill();var I=p(w[S++]);if(I instanceof t&&I._isDisposable()){try{I=n(I._getDisposer().tryDispose(C),w.promise)}catch(F){return h(F)}if(I instanceof t)return I._then(N,h,null,null,null)}N()}return N(),D}function g(w,C,S){this._data=w,this._promise=C,this._context=S}g.prototype.data=function(){return this._data},g.prototype.promise=function(){return this._promise},g.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():f},g.prototype.tryDispose=function(w){var C=this.resource(),S=this._context;S!==void 0&&S._pushContext();var R=C!==f?this.doDispose(C,w):null;return S!==void 0&&S._popContext(),this._promise._unsetDisposable(),this._data=null,R},g.isDisposer=function(w){return w!=null&&typeof w.resource=="function"&&typeof w.tryDispose=="function"};function y(w,C,S){this.constructor$(w,C,S)}l(y,g),y.prototype.doDispose=function(w,C){var S=this.data();return S.call(w,w,C)};function _(w){return g.isDisposer(w)?(this.resources[this.index]._setDisposable(w),w.promise()):w}function x(w){this.length=w,this.promise=null,this[w-1]=null}x.prototype._resultCancelled=function(){for(var w=this.length,C=0;C<w;++C){var S=this[C];S instanceof t&&S.cancel()}},t.using=function(){var w=arguments.length;if(w<2)return e("you must pass at least 2 arguments to Promise.using");var C=arguments[w-1];if(typeof C!="function")return e("expecting a function but got "+a.classString(C));var S,R=!0;w===2&&Array.isArray(arguments[0])?(S=arguments[0],w=S.length,R=!1):(S=arguments,w--);for(var D=new x(w),N=0;N<w;++N){var I=S[N];if(g.isDisposer(I)){var F=I;I=I.promise(),I._setDisposable(F)}else{var P=n(I);P instanceof t&&(I=P._then(_,null,null,{resources:D,index:N},void 0))}D[N]=I}for(var k=new Array(D.length),N=0;N<k.length;++N)k[N]=t.resolve(D[N]).reflect();var U=t.all(k).then(function(H){for(var G=0;G<H.length;++G){var X=H[G];if(X.isRejected())return c.e=X.error(),c;if(!X.isFulfilled()){U.cancel();return}H[G]=X.value()}O._pushContext(),C=u(C);var Z=R?C.apply(void 0,H):C(H),z=O._popContext();return s.checkForgottenReturns(Z,z,"Promise.using",O),Z}),O=U.lastly(function(){var H=new t.PromiseInspection(U);return v(D,H)});return D.promise=O,O._setOnCancel(D),O},t.prototype._setDisposable=function(w){this._bitField=this._bitField|131072,this._disposer=w},t.prototype._isDisposable=function(){return(this._bitField&131072)>0},t.prototype._getDisposer=function(){return this._disposer},t.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},t.prototype.disposer=function(w){if(typeof w=="function")return new y(w,this,r());throw new o}}),q4}var $4,WL;function F9e(){return WL||(WL=1,$4=function(t,e,n){var r=vr(),i=t.TimeoutError;function s(f){this.handle=f}s.prototype._resultCancelled=function(){clearTimeout(this.handle)};var a=function(f){return o(+this).thenReturn(f)},o=t.delay=function(f,h){var p,v;return h!==void 0?(p=t.resolve(h)._then(a,null,null,f,void 0),n.cancellation()&&h instanceof t&&p._setOnCancel(h)):(p=new t(e),v=setTimeout(function(){p._fulfill()},+f),n.cancellation()&&p._setOnCancel(new s(v)),p._captureStackTrace()),p._setAsyncGuaranteed(),p};t.prototype.delay=function(f){return o(f,this)};var l=function(f,h,p){var v;typeof h!="string"?h instanceof Error?v=h:v=new i("operation timed out"):v=new i(h),r.markAsOriginatingFromRejection(v),f._attachExtraTrace(v),f._reject(v),p!=null&&p.cancel()};function c(f){return clearTimeout(this.handle),f}function u(f){throw clearTimeout(this.handle),f}t.prototype.timeout=function(f,h){f=+f;var p,v,g=new s(setTimeout(function(){p.isPending()&&l(p,h,v)},f));return n.cancellation()?(v=this.then(),p=v._then(c,u,void 0,g,void 0),p._setOnCancel(g)):p=this._then(c,u,void 0,g,void 0),p}}),$4}var z4,qL;function M9e(){return qL||(qL=1,z4=function(t,e,n,r,i,s){var a=cd(),o=a.TypeError,l=vr(),c=l.errorObj,u=l.tryCatch,f=[];function h(v,g,y){for(var _=0;_<g.length;++_){y._pushContext();var x=u(g[_])(v);if(y._popContext(),x===c){y._pushContext();var w=t.reject(c.e);return y._popContext(),w}var C=r(x,y);if(C instanceof t)return C}return null}function p(v,g,y,_){if(s.cancellation()){var x=new t(n),w=this._finallyPromise=new t(n);this._promise=x.lastly(function(){return w}),x._captureStackTrace(),x._setOnCancel(this)}else{var C=this._promise=new t(n);C._captureStackTrace()}this._stack=_,this._generatorFunction=v,this._receiver=g,this._generator=void 0,this._yieldHandlers=typeof y=="function"?[y].concat(f):f,this._yieldedPromise=null,this._cancellationPhase=!1}l.inherits(p,i),p.prototype._isResolved=function(){return this._promise===null},p.prototype._cleanup=function(){this._promise=this._generator=null,s.cancellation()&&this._finallyPromise!==null&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},p.prototype._promiseCancelled=function(){if(!this._isResolved()){var v=typeof this._generator.return<"u",g;if(v)this._promise._pushContext(),g=u(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var y=new t.CancellationError("generator .return() sentinel");t.coroutine.returnSentinel=y,this._promise._attachExtraTrace(y),this._promise._pushContext(),g=u(this._generator.throw).call(this._generator,y),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(g)}},p.prototype._promiseFulfilled=function(v){this._yieldedPromise=null,this._promise._pushContext();var g=u(this._generator.next).call(this._generator,v);this._promise._popContext(),this._continue(g)},p.prototype._promiseRejected=function(v){this._yieldedPromise=null,this._promise._attachExtraTrace(v),this._promise._pushContext();var g=u(this._generator.throw).call(this._generator,v);this._promise._popContext(),this._continue(g)},p.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof t){var v=this._yieldedPromise;this._yieldedPromise=null,v.cancel()}},p.prototype.promise=function(){return this._promise},p.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},p.prototype._continue=function(v){var g=this._promise;if(v===c)return this._cleanup(),this._cancellationPhase?g.cancel():g._rejectCallback(v.e,!1);var y=v.value;if(v.done===!0)return this._cleanup(),this._cancellationPhase?g.cancel():g._resolveCallback(y);var _=r(y,this._promise);if(!(_ instanceof t)&&(_=h(_,this._yieldHandlers,this._promise),_===null)){this._promiseRejected(new o(`A value %s was yielded that could not be treated as a promise

    See http://goo.gl/MqrFmX

`.replace("%s",y)+`From coroutine:
`+this._stack.split(`
`).slice(1,-7).join(`
`)));return}_=_._target();var x=_._bitField;(x&50397184)===0?(this._yieldedPromise=_,_._proxy(this,null)):(x&33554432)!==0?t._async.invoke(this._promiseFulfilled,this,_._value()):(x&16777216)!==0?t._async.invoke(this._promiseRejected,this,_._reason()):this._promiseCancelled()},t.coroutine=function(v,g){if(typeof v!="function")throw new o(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var y=Object(g).yieldHandler,_=p,x=new Error().stack;return function(){var w=v.apply(this,arguments),C=new _(void 0,void 0,y,x),S=C.promise();return C._generator=w,C._promiseFulfilled(void 0),S}},t.coroutine.addYieldHandler=function(v){if(typeof v!="function")throw new o("expecting a function but got "+l.classString(v));f.push(v)},t.spawn=function(v){if(s.deprecated("Promise.spawn()","Promise.coroutine()"),typeof v!="function")return e(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var g=new p(v,this),y=g.promise();return g._run(t.spawn),y}}),z4}var H4,$L;function U9e(){return $L||($L=1,H4=function(t){var e=vr(),n=t._async,r=e.tryCatch,i=e.errorObj;function s(l,c){var u=this;if(!e.isArray(l))return a.call(u,l,c);var f=r(c).apply(u._boundValue(),[null].concat(l));f===i&&n.throwLater(f.e)}function a(l,c){var u=this,f=u._boundValue(),h=l===void 0?r(c).call(f,null):r(c).call(f,null,l);h===i&&n.throwLater(h.e)}function o(l,c){var u=this;if(!l){var f=new Error(l+"");f.cause=l,l=f}var h=r(c).call(u._boundValue(),l);h===i&&n.throwLater(h.e)}t.prototype.asCallback=t.prototype.nodeify=function(l,c){if(typeof l=="function"){var u=a;c!==void 0&&Object(c).spread&&(u=s),this._then(u,o,void 0,this,l)}return this}}),H4}var G4,zL;function O9e(){return zL||(zL=1,G4=function(t,e){var n={},r=vr(),i=ZY(),s=r.withAppended,a=r.maybeWrapAsError,o=r.canEvaluate,l=cd().TypeError,c="Async",u={__isPromisified__:!0},f=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],h=new RegExp("^(?:"+f.join("|")+")$"),p=function(U){return r.isIdentifier(U)&&U.charAt(0)!=="_"&&U!=="constructor"};function v(U){return!h.test(U)}function g(U){try{return U.__isPromisified__===!0}catch{return!1}}function y(U,O,H){var G=r.getDataPropertyOrDefault(U,O+H,u);return G?g(G):!1}function _(U,O,H){for(var G=0;G<U.length;G+=2){var X=U[G];if(H.test(X)){for(var Z=X.replace(H,""),z=0;z<U.length;z+=2)if(U[z]===Z)throw new l(`Cannot promisify an API that has normal methods with '%s'-suffix

    See http://goo.gl/MqrFmX
`.replace("%s",O))}}}function x(U,O,H,G){for(var X=r.inheritedDataKeys(U),Z=[],z=0;z<X.length;++z){var Q=X[z],B=U[Q],j=G===p?!0:p(Q);typeof B=="function"&&!g(B)&&!y(U,Q,O)&&G(Q,B,U,j)&&Z.push(Q,B)}return _(Z,O,H),Z}var w=function(U){return U.replace(/([$])/,"\\$")},C;{var S=function(U){for(var O=[U],H=Math.max(0,U-1-3),G=U-1;G>=H;--G)O.push(G);for(var G=U+1;G<=3;++G)O.push(G);return O},R=function(U){return r.filledRange(U,"_arg","")},D=function(U){return r.filledRange(Math.max(U,3),"_arg","")},N=function(U){return typeof U.length=="number"?Math.max(Math.min(U.length,1024),0):0};C=function(U,O,H,G,X,Z){var z=Math.max(0,N(G)-1),Q=S(z),B=typeof U=="string"||O===n;function j(te){var oe=R(te).join(", "),de=te>0?", ":"",fe;return B?fe=`ret = callback.call(this, {{args}}, nodeback); break;
`:fe=O===void 0?`ret = callback({{args}}, nodeback); break;
`:`ret = callback.call(receiver, {{args}}, nodeback); break;
`,fe.replace("{{args}}",oe).replace(", ",de)}function q(){for(var te="",oe=0;oe<Q.length;++oe)te+="case "+Q[oe]+":"+j(Q[oe]);return te+=`                                                             
	        default:                                                             
	            var args = new Array(len + 1);                                   
	            var i = 0;                                                       
	            for (var i = 0; i < len; ++i) {                                  
	               args[i] = arguments[i];                                       
	            }                                                                
	            args[i] = nodeback;                                              
	            [CodeForCall]                                                    
	            break;                                                           
	        `.replace("[CodeForCall]",B?`ret = callback.apply(this, args);
`:`ret = callback.apply(receiver, args);
`),te}var J=typeof U=="string"?"this != null ? this['"+U+"'] : fn":"fn",Y=`'use strict';                                                
	        var ret = function (Parameters) {                                    
	            'use strict';                                                    
	            var len = arguments.length;                                      
	            var promise = new Promise(INTERNAL);                             
	            promise._captureStackTrace();                                    
	            var nodeback = nodebackForPromise(promise, `+Z+`);   
	            var ret;                                                         
	            var callback = tryCatch([GetFunctionCode]);                      
	            switch(len) {                                                    
	                [CodeForSwitchCase]                                          
	            }                                                                
	            if (ret === errorObj) {                                          
	                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);
	            }                                                                
	            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     
	            return promise;                                                  
	        };                                                                   
	        notEnumerableProp(ret, '__isPromisified__', true);                   
	        return ret;                                                          
	    `.replace("[CodeForSwitchCase]",q()).replace("[GetFunctionCode]",J);return Y=Y.replace("Parameters",D(z)),new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL",Y)(t,G,O,s,a,i,r.tryCatch,r.errorObj,r.notEnumerableProp,e)}}function I(U,O,H,G,X,Z){var z=(function(){return this})(),Q=U;typeof Q=="string"&&(U=G);function B(){var j=O;O===n&&(j=this);var q=new t(e);q._captureStackTrace();var J=typeof Q=="string"&&this!==z?this[Q]:U,Y=i(q,Z);try{J.apply(j,s(arguments,Y))}catch(te){q._rejectCallback(a(te),!0,!0)}return q._isFateSealed()||q._setAsyncGuaranteed(),q}return r.notEnumerableProp(B,"__isPromisified__",!0),B}var F=o?C:I;function P(U,O,H,G,X){for(var Z=new RegExp(w(O)+"$"),z=x(U,O,Z,H),Q=0,B=z.length;Q<B;Q+=2){var j=z[Q],q=z[Q+1],J=j+O;if(G===F)U[J]=F(j,n,j,q,O,X);else{var Y=G(q,function(){return F(j,n,j,q,O,X)});r.notEnumerableProp(Y,"__isPromisified__",!0),U[J]=Y}}return r.toFastProperties(U),U}function k(U,O,H){return F(U,O,void 0,U,null,H)}t.promisify=function(U,O){if(typeof U!="function")throw new l("expecting a function but got "+r.classString(U));if(g(U))return U;O=Object(O);var H=O.context===void 0?n:O.context,G=!!O.multiArgs,X=k(U,H,G);return r.copyDescriptors(U,X,v),X},t.promisifyAll=function(U,O){if(typeof U!="function"&&typeof U!="object")throw new l(`the target of promisifyAll must be an object or a function

    See http://goo.gl/MqrFmX
`);O=Object(O);var H=!!O.multiArgs,G=O.suffix;typeof G!="string"&&(G=c);var X=O.filter;typeof X!="function"&&(X=p);var Z=O.promisifier;if(typeof Z!="function"&&(Z=F),!r.isIdentifier(G))throw new RangeError(`suffix must be a valid identifier

    See http://goo.gl/MqrFmX
`);for(var z=r.inheritedDataKeys(U),Q=0;Q<z.length;++Q){var B=U[z[Q]];z[Q]!=="constructor"&&r.isClass(B)&&(P(B.prototype,G,X,Z,H),P(B,G,X,Z,H))}return P(U,G,X,Z,H)}}),G4}var K4,HL;function L9e(){return HL||(HL=1,K4=function(t,e,n,r){var i=vr(),s=i.isObject,a=hg(),o;typeof Map=="function"&&(o=Map);var l=(function(){var h=0,p=0;function v(g,y){this[h]=g,this[h+p]=y,h++}return function(y){p=y.size,h=0;var _=new Array(y.size*2);return y.forEach(v,_),_}})(),c=function(h){for(var p=new o,v=h.length/2|0,g=0;g<v;++g){var y=h[v+g],_=h[g];p.set(y,_)}return p};function u(h){var p=!1,v;if(o!==void 0&&h instanceof o)v=l(h),p=!0;else{var g=a.keys(h),y=g.length;v=new Array(y*2);for(var _=0;_<y;++_){var x=g[_];v[_]=h[x],v[_+y]=x}}this.constructor$(v),this._isMap=p,this._init$(void 0,-3)}i.inherits(u,e),u.prototype._init=function(){},u.prototype._promiseFulfilled=function(h,p){this._values[p]=h;var v=++this._totalResolved;if(v>=this._length){var g;if(this._isMap)g=c(this._values);else{g={};for(var y=this.length(),_=0,x=this.length();_<x;++_)g[this._values[_+y]]=this._values[_]}return this._resolve(g),!0}return!1},u.prototype.shouldCopyValues=function(){return!1},u.prototype.getActualLength=function(h){return h>>1};function f(h){var p,v=n(h);if(s(v))v instanceof t?p=v._then(t.props,void 0,void 0,void 0,void 0):p=new u(v).promise();else return r(`cannot await properties of a non-object

    See http://goo.gl/MqrFmX
`);return v instanceof t&&p._propagateFrom(v,2),p}t.prototype.props=function(){return f(this)},t.props=function(h){return f(h)}}),K4}var J4,GL;function j9e(){return GL||(GL=1,J4=function(t,e,n,r){var i=vr(),s=function(o){return o.then(function(l){return a(l,o)})};function a(o,l){var c=n(o);if(c instanceof t)return s(c);if(o=i.asArray(o),o===null)return r("expecting an array or an iterable object but got "+i.classString(o));var u=new t(e);l!==void 0&&u._propagateFrom(l,3);for(var f=u._fulfill,h=u._reject,p=0,v=o.length;p<v;++p){var g=o[p];g===void 0&&!(p in o)||t.cast(g)._then(f,h,void 0,u,null)}return u}t.race=function(o){return a(o,void 0)},t.prototype.race=function(){return a(this,void 0)}}),J4}var X4,KL;function B9e(){return KL||(KL=1,X4=function(t,e,n,r,i,s){var a=t._getDomain,o=vr(),l=o.tryCatch;function c(v,g,y,_){this.constructor$(v);var x=a();this._fn=x===null?g:o.domainBind(x,g),y!==void 0&&(y=t.resolve(y),y._attachCancellationCallback(this)),this._initialValue=y,this._currentCancellable=null,_===i?this._eachValues=Array(this._length):_===0?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}o.inherits(c,e),c.prototype._gotAccum=function(v){this._eachValues!==void 0&&this._eachValues!==null&&v!==i&&this._eachValues.push(v)},c.prototype._eachComplete=function(v){return this._eachValues!==null&&this._eachValues.push(v),this._eachValues},c.prototype._init=function(){},c.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==void 0?this._eachValues:this._initialValue)},c.prototype.shouldCopyValues=function(){return!1},c.prototype._resolve=function(v){this._promise._resolveCallback(v),this._values=null},c.prototype._resultCancelled=function(v){if(v===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof t&&this._currentCancellable.cancel(),this._initialValue instanceof t&&this._initialValue.cancel())},c.prototype._iterate=function(v){this._values=v;var g,y,_=v.length;if(this._initialValue!==void 0?(g=this._initialValue,y=0):(g=t.resolve(v[0]),y=1),this._currentCancellable=g,!g.isRejected())for(;y<_;++y){var x={accum:null,value:v[y],index:y,length:_,array:this};g=g._then(h,void 0,void 0,x,void 0)}this._eachValues!==void 0&&(g=g._then(this._eachComplete,void 0,void 0,this,void 0)),g._then(u,u,void 0,g,this)},t.prototype.reduce=function(v,g){return f(this,v,g,null)},t.reduce=function(v,g,y,_){return f(v,g,y,_)};function u(v,g){this.isFulfilled()?g._resolve(v):g._reject(v)}function f(v,g,y,_){if(typeof g!="function")return n("expecting a function but got "+o.classString(g));var x=new c(v,g,y,_);return x.promise()}function h(v){this.accum=v,this.array._gotAccum(v);var g=r(this.value,this.array._promise);return g instanceof t?(this.array._currentCancellable=g,g._then(p,void 0,void 0,this,void 0)):p.call(this,g)}function p(v){var g=this.array,y=g._promise,_=l(g._fn);y._pushContext();var x;g._eachValues!==void 0?x=_.call(y._boundValue(),v,this.index,this.length):x=_.call(y._boundValue(),this.accum,v,this.index,this.length),x instanceof t&&(g._currentCancellable=x);var w=y._popContext();return s.checkForgottenReturns(x,w,g._eachValues!==void 0?"Promise.each":"Promise.reduce",y),x}}),X4}var Y4,JL;function V9e(){return JL||(JL=1,Y4=function(t,e,n){var r=t.PromiseInspection,i=vr();function s(a){this.constructor$(a)}i.inherits(s,e),s.prototype._promiseResolved=function(a,o){this._values[a]=o;var l=++this._totalResolved;return l>=this._length?(this._resolve(this._values),!0):!1},s.prototype._promiseFulfilled=function(a,o){var l=new r;return l._bitField=33554432,l._settledValueField=a,this._promiseResolved(o,l)},s.prototype._promiseRejected=function(a,o){var l=new r;return l._bitField=16777216,l._settledValueField=a,this._promiseResolved(o,l)},t.settle=function(a){return n.deprecated(".settle()",".reflect()"),new s(a).promise()},t.prototype.settle=function(){return t.settle(this)}}),Y4}var Q4,XL;function W9e(){return XL||(XL=1,Q4=function(t,e,n){var r=vr(),i=cd().RangeError,s=cd().AggregateError,a=r.isArray,o={};function l(u){this.constructor$(u),this._howMany=0,this._unwrap=!1,this._initialized=!1}r.inherits(l,e),l.prototype._init=function(){if(this._initialized){if(this._howMany===0){this._resolve([]);return}this._init$(void 0,-5);var u=a(this._values);!this._isResolved()&&u&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},l.prototype.init=function(){this._initialized=!0,this._init()},l.prototype.setUnwrap=function(){this._unwrap=!0},l.prototype.howMany=function(){return this._howMany},l.prototype.setHowMany=function(u){this._howMany=u},l.prototype._promiseFulfilled=function(u){return this._addFulfilled(u),this._fulfilled()===this.howMany()?(this._values.length=this.howMany(),this.howMany()===1&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0):!1},l.prototype._promiseRejected=function(u){return this._addRejected(u),this._checkOutcome()},l.prototype._promiseCancelled=function(){return this._values instanceof t||this._values==null?this._cancel():(this._addRejected(o),this._checkOutcome())},l.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var u=new s,f=this.length();f<this._values.length;++f)this._values[f]!==o&&u.push(this._values[f]);return u.length>0?this._reject(u):this._cancel(),!0}return!1},l.prototype._fulfilled=function(){return this._totalResolved},l.prototype._rejected=function(){return this._values.length-this.length()},l.prototype._addRejected=function(u){this._values.push(u)},l.prototype._addFulfilled=function(u){this._values[this._totalResolved++]=u},l.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},l.prototype._getRangeError=function(u){var f="Input array must contain at least "+this._howMany+" items but contains only "+u+" items";return new i(f)},l.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))};function c(u,f){if((f|0)!==f||f<0)return n(`expecting a positive integer

    See http://goo.gl/MqrFmX
`);var h=new l(u),p=h.promise();return h.setHowMany(f),h.init(),p}t.some=function(u,f){return c(u,f)},t.prototype.some=function(u){return c(this,u)},t._SomePromiseArray=l}),Q4}var Z4,YL;function q9e(){return YL||(YL=1,Z4=function(t,e){var n=t.map;t.prototype.filter=function(r,i){return n(this,r,i,e)},t.filter=function(r,i,s){return n(r,i,s,e)}}),Z4}var eD,QL;function $9e(){return QL||(QL=1,eD=function(t,e){var n=t.reduce,r=t.all;function i(){return r(this)}function s(a,o){return n(a,o,e,e)}t.prototype.each=function(a){return n(this,a,e,0)._then(i,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(a){return n(this,a,e,e)},t.each=function(a,o){return n(a,o,e,0)._then(i,void 0,void 0,a,void 0)},t.mapSeries=s}),eD}var tD,ZL;function z9e(){return ZL||(ZL=1,tD=function(t){var e=t._SomePromiseArray;function n(r){var i=new e(r),s=i.promise();return i.setHowMany(1),i.setUnwrap(),i.init(),s}t.any=function(r){return n(r)},t.prototype.any=function(){return n(this)}}),tD}var ej;function H9e(){return ej||(ej=1,(function(t){t.exports=function(){var e=function(){return new h(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},n=function(){return new k.PromiseInspection(this._target())},r=function(G){return k.reject(new h(G))};function i(){}var s={},a=vr(),o;a.isNode?o=function(){var G=process.domain;return G===void 0&&(G=null),G}:o=function(){return null},a.notEnumerableProp(k,"_getDomain",o);var l=hg(),c=v9e(),u=new c;l.defineProperty(k,"_async",{value:u});var f=cd(),h=k.TypeError=f.TypeError;k.RangeError=f.RangeError;var p=k.CancellationError=f.CancellationError;k.TimeoutError=f.TimeoutError,k.OperationalError=f.OperationalError,k.RejectionError=f.OperationalError,k.AggregateError=f.AggregateError;var v=function(){},g={},y={},_=x9e()(k,v),x=b9e()(k,v,_,r,i),w=_9e()(k),C=w.create,S=w9e()(k,w);S.CapturedTrace;var R=T9e()(k,_),D=E9e()(y),N=ZY(),I=a.errorObj,F=a.tryCatch;function P(G,X){if(typeof X!="function")throw new h("expecting a function but got "+a.classString(X));if(G.constructor!==k)throw new h(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`)}function k(G){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,G!==v&&(P(this,G),this._resolveFromExecutor(G)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}k.prototype.toString=function(){return"[object Promise]"},k.prototype.caught=k.prototype.catch=function(G){var X=arguments.length;if(X>1){var Z=new Array(X-1),z=0,Q;for(Q=0;Q<X-1;++Q){var B=arguments[Q];if(a.isObject(B))Z[z++]=B;else return r("expecting an object but got A catch statement predicate "+a.classString(B))}return Z.length=z,G=arguments[Q],this.then(void 0,D(Z,G,this))}return this.then(void 0,G)},k.prototype.reflect=function(){return this._then(n,n,void 0,this,void 0)},k.prototype.then=function(G,X){if(S.warnings()&&arguments.length>0&&typeof G!="function"&&typeof X!="function"){var Z=".then() only accepts functions but was passed: "+a.classString(G);arguments.length>1&&(Z+=", "+a.classString(X)),this._warn(Z)}return this._then(G,X,void 0,void 0,void 0)},k.prototype.done=function(G,X){var Z=this._then(G,X,void 0,void 0,void 0);Z._setIsFinal()},k.prototype.spread=function(G){return typeof G!="function"?r("expecting a function but got "+a.classString(G)):this.all()._then(G,void 0,void 0,g,void 0)},k.prototype.toJSON=function(){var G={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(G.fulfillmentValue=this.value(),G.isFulfilled=!0):this.isRejected()&&(G.rejectionReason=this.reason(),G.isRejected=!0),G},k.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new x(this).promise()},k.prototype.error=function(G){return this.caught(a.originatesFromRejection,G)},k.getNewLibraryCopy=t.exports,k.is=function(G){return G instanceof k},k.fromNode=k.fromCallback=function(G){var X=new k(v);X._captureStackTrace();var Z=arguments.length>1?!!Object(arguments[1]).multiArgs:!1,z=F(G)(N(X,Z));return z===I&&X._rejectCallback(z.e,!0),X._isFateSealed()||X._setAsyncGuaranteed(),X},k.all=function(G){return new x(G).promise()},k.cast=function(G){var X=_(G);return X instanceof k||(X=new k(v),X._captureStackTrace(),X._setFulfilled(),X._rejectionHandler0=G),X},k.resolve=k.fulfilled=k.cast,k.reject=k.rejected=function(G){var X=new k(v);return X._captureStackTrace(),X._rejectCallback(G,!0),X},k.setScheduler=function(G){if(typeof G!="function")throw new h("expecting a function but got "+a.classString(G));return u.setScheduler(G)},k.prototype._then=function(G,X,Z,z,Q){var B=Q!==void 0,j=B?Q:new k(v),q=this._target(),J=q._bitField;B||(j._propagateFrom(this,3),j._captureStackTrace(),z===void 0&&(this._bitField&2097152)!==0&&((J&50397184)!==0?z=this._boundValue():z=q===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,j));var Y=o();if((J&50397184)!==0){var te,oe,de=q._settlePromiseCtx;(J&33554432)!==0?(oe=q._rejectionHandler0,te=G):(J&16777216)!==0?(oe=q._fulfillmentHandler0,te=X,q._unsetRejectionIsUnhandled()):(de=q._settlePromiseLateCancellationObserver,oe=new p("late cancellation observer"),q._attachExtraTrace(oe),te=X),u.invoke(de,q,{handler:Y===null?te:typeof te=="function"&&a.domainBind(Y,te),promise:j,receiver:z,value:oe})}else q._addCallbacks(G,X,j,z,Y);return j},k.prototype._length=function(){return this._bitField&65535},k.prototype._isFateSealed=function(){return(this._bitField&117506048)!==0},k.prototype._isFollowing=function(){return(this._bitField&67108864)===67108864},k.prototype._setLength=function(G){this._bitField=this._bitField&-65536|G&65535},k.prototype._setFulfilled=function(){this._bitField=this._bitField|33554432,this._fireEvent("promiseFulfilled",this)},k.prototype._setRejected=function(){this._bitField=this._bitField|16777216,this._fireEvent("promiseRejected",this)},k.prototype._setFollowing=function(){this._bitField=this._bitField|67108864,this._fireEvent("promiseResolved",this)},k.prototype._setIsFinal=function(){this._bitField=this._bitField|4194304},k.prototype._isFinal=function(){return(this._bitField&4194304)>0},k.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},k.prototype._setCancelled=function(){this._bitField=this._bitField|65536,this._fireEvent("promiseCancelled",this)},k.prototype._setWillBeCancelled=function(){this._bitField=this._bitField|8388608},k.prototype._setAsyncGuaranteed=function(){u.hasCustomScheduler()||(this._bitField=this._bitField|134217728)},k.prototype._receiverAt=function(G){var X=G===0?this._receiver0:this[G*4-4+3];if(X!==s)return X===void 0&&this._isBound()?this._boundValue():X},k.prototype._promiseAt=function(G){return this[G*4-4+2]},k.prototype._fulfillmentHandlerAt=function(G){return this[G*4-4+0]},k.prototype._rejectionHandlerAt=function(G){return this[G*4-4+1]},k.prototype._boundValue=function(){},k.prototype._migrateCallback0=function(G){G._bitField;var X=G._fulfillmentHandler0,Z=G._rejectionHandler0,z=G._promise0,Q=G._receiverAt(0);Q===void 0&&(Q=s),this._addCallbacks(X,Z,z,Q,null)},k.prototype._migrateCallbackAt=function(G,X){var Z=G._fulfillmentHandlerAt(X),z=G._rejectionHandlerAt(X),Q=G._promiseAt(X),B=G._receiverAt(X);B===void 0&&(B=s),this._addCallbacks(Z,z,Q,B,null)},k.prototype._addCallbacks=function(G,X,Z,z,Q){var B=this._length();if(B>=65531&&(B=0,this._setLength(0)),B===0)this._promise0=Z,this._receiver0=z,typeof G=="function"&&(this._fulfillmentHandler0=Q===null?G:a.domainBind(Q,G)),typeof X=="function"&&(this._rejectionHandler0=Q===null?X:a.domainBind(Q,X));else{var j=B*4-4;this[j+2]=Z,this[j+3]=z,typeof G=="function"&&(this[j+0]=Q===null?G:a.domainBind(Q,G)),typeof X=="function"&&(this[j+1]=Q===null?X:a.domainBind(Q,X))}return this._setLength(B+1),B},k.prototype._proxy=function(G,X){this._addCallbacks(void 0,void 0,X,G,null)},k.prototype._resolveCallback=function(G,X){if((this._bitField&117506048)===0){if(G===this)return this._rejectCallback(e(),!1);var Z=_(G,this);if(!(Z instanceof k))return this._fulfill(G);X&&this._propagateFrom(Z,2);var z=Z._target();if(z===this){this._reject(e());return}var Q=z._bitField;if((Q&50397184)===0){var B=this._length();B>0&&z._migrateCallback0(this);for(var j=1;j<B;++j)z._migrateCallbackAt(this,j);this._setFollowing(),this._setLength(0),this._setFollowee(z)}else if((Q&33554432)!==0)this._fulfill(z._value());else if((Q&16777216)!==0)this._reject(z._reason());else{var q=new p("late cancellation observer");z._attachExtraTrace(q),this._reject(q)}}},k.prototype._rejectCallback=function(G,X,Z){var z=a.ensureErrorObject(G),Q=z===G;if(!Q&&!Z&&S.warnings()){var B="a promise was rejected with a non-error: "+a.classString(G);this._warn(B,!0)}this._attachExtraTrace(z,X?Q:!1),this._reject(G)},k.prototype._resolveFromExecutor=function(G){var X=this;this._captureStackTrace(),this._pushContext();var Z=!0,z=this._execute(G,function(Q){X._resolveCallback(Q)},function(Q){X._rejectCallback(Q,Z)});Z=!1,this._popContext(),z!==void 0&&X._rejectCallback(z,!0)},k.prototype._settlePromiseFromHandler=function(G,X,Z,z){var Q=z._bitField;if((Q&65536)===0){z._pushContext();var B;X===g?!Z||typeof Z.length!="number"?(B=I,B.e=new h("cannot .spread() a non-array: "+a.classString(Z))):B=F(G).apply(this._boundValue(),Z):B=F(G).call(X,Z);var j=z._popContext();Q=z._bitField,(Q&65536)===0&&(B===y?z._reject(Z):B===I?z._rejectCallback(B.e,!1):(S.checkForgottenReturns(B,j,"",z,this),z._resolveCallback(B)))}},k.prototype._target=function(){for(var G=this;G._isFollowing();)G=G._followee();return G},k.prototype._followee=function(){return this._rejectionHandler0},k.prototype._setFollowee=function(G){this._rejectionHandler0=G},k.prototype._settlePromise=function(G,X,Z,z){var Q=G instanceof k,B=this._bitField,j=(B&134217728)!==0;(B&65536)!==0?(Q&&G._invokeInternalOnCancel(),Z instanceof R&&Z.isFinallyHandler()?(Z.cancelPromise=G,F(X).call(Z,z)===I&&G._reject(I.e)):X===n?G._fulfill(n.call(Z)):Z instanceof i?Z._promiseCancelled(G):Q||G instanceof x?G._cancel():Z.cancel()):typeof X=="function"?Q?(j&&G._setAsyncGuaranteed(),this._settlePromiseFromHandler(X,Z,z,G)):X.call(Z,z,G):Z instanceof i?Z._isResolved()||((B&33554432)!==0?Z._promiseFulfilled(z,G):Z._promiseRejected(z,G)):Q&&(j&&G._setAsyncGuaranteed(),(B&33554432)!==0?G._fulfill(z):G._reject(z))},k.prototype._settlePromiseLateCancellationObserver=function(G){var X=G.handler,Z=G.promise,z=G.receiver,Q=G.value;typeof X=="function"?Z instanceof k?this._settlePromiseFromHandler(X,z,Q,Z):X.call(z,Q,Z):Z instanceof k&&Z._reject(Q)},k.prototype._settlePromiseCtx=function(G){this._settlePromise(G.promise,G.handler,G.receiver,G.value)},k.prototype._settlePromise0=function(G,X,Z){var z=this._promise0,Q=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(z,G,Q,X)},k.prototype._clearCallbackDataAtIndex=function(G){var X=G*4-4;this[X+2]=this[X+3]=this[X+0]=this[X+1]=void 0},k.prototype._fulfill=function(G){var X=this._bitField;if(!((X&117506048)>>>16)){if(G===this){var Z=e();return this._attachExtraTrace(Z),this._reject(Z)}this._setFulfilled(),this._rejectionHandler0=G,(X&65535)>0&&((X&134217728)!==0?this._settlePromises():u.settlePromises(this))}},k.prototype._reject=function(G){var X=this._bitField;if(!((X&117506048)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=G,this._isFinal())return u.fatalError(G,a.isNode);(X&65535)>0?u.settlePromises(this):this._ensurePossibleRejectionHandled()}},k.prototype._fulfillPromises=function(G,X){for(var Z=1;Z<G;Z++){var z=this._fulfillmentHandlerAt(Z),Q=this._promiseAt(Z),B=this._receiverAt(Z);this._clearCallbackDataAtIndex(Z),this._settlePromise(Q,z,B,X)}},k.prototype._rejectPromises=function(G,X){for(var Z=1;Z<G;Z++){var z=this._rejectionHandlerAt(Z),Q=this._promiseAt(Z),B=this._receiverAt(Z);this._clearCallbackDataAtIndex(Z),this._settlePromise(Q,z,B,X)}},k.prototype._settlePromises=function(){var G=this._bitField,X=G&65535;if(X>0){if((G&16842752)!==0){var Z=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,Z,G),this._rejectPromises(X,Z)}else{var z=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,z,G),this._fulfillPromises(X,z)}this._setLength(0)}this._clearCancellationData()},k.prototype._settledValue=function(){var G=this._bitField;if((G&33554432)!==0)return this._rejectionHandler0;if((G&16777216)!==0)return this._fulfillmentHandler0};function U(G){this.promise._resolveCallback(G)}function O(G){this.promise._rejectCallback(G,!1)}k.defer=k.pending=function(){S.deprecated("Promise.defer","new Promise");var G=new k(v);return{promise:G,resolve:U,reject:O}},a.notEnumerableProp(k,"_makeSelfResolutionError",e),C9e()(k,v,_,r,S),S9e()(k,v,_,S),D9e()(k,x,r,S),A9e()(k),N9e()(k),k9e()(k,x,_,v,u,o),k.Promise=k,k.version="3.4.7",I9e()(k,x,r,_,v,S),R9e()(k),P9e()(k,r,_,C,v,S),F9e()(k,v,S),M9e()(k,r,v,_,i,S),U9e()(k),O9e()(k,v),L9e()(k,x,_,r),j9e()(k,v,_,r),B9e()(k,x,r,_,v,S),V9e()(k,x,S),W9e()(k,x,r),q9e()(k,v),$9e()(k,v),z9e()(k),a.toFastProperties(k),a.toFastProperties(k.prototype);function H(G){var X=new k(v);X._fulfillmentHandler0=G,X._rejectionHandler0=G,X._promise0=G,X._receiver0=G}return H({a:1}),H({b:2}),H({c:3}),H(1),H(function(){}),H(void 0),H(!1),H(new k(v)),S.setBounds(c.firstLineError,a.lastLineError),k}})(E4)),E4.exports}var tj;function Ed(){if(tj)return io;tj=1;var t=mi,e=H9e()();io.defer=n,io.when=e.resolve,io.resolve=e.resolve,io.all=e.all,io.props=e.props,io.reject=e.reject,io.promisify=e.promisify,io.mapSeries=e.mapSeries,io.attempt=e.attempt,io.nfcall=function(r){var i=Array.prototype.slice.call(arguments,1),s=e.promisify(r);return s.apply(null,i)},e.prototype.fail=e.prototype.caught,e.prototype.also=function(r){return this.then(function(i){var s=t.extend({},i,r(i));return e.props(s)})};function n(){var r,i,s=new e.Promise(function(a,o){r=a,i=o});return{resolve:r,reject:i,promise:s}}return io}var nr={},nj;function Eh(){if(nj)return nr;nj=1;var t=mi,e=nr.types={document:"document",paragraph:"paragraph",run:"run",text:"text",tab:"tab",hyperlink:"hyperlink",noteReference:"noteReference",image:"image",note:"note",commentReference:"commentReference",comment:"comment",table:"table",tableRow:"tableRow",tableCell:"tableCell",break:"break",bookmarkStart:"bookmarkStart"};function n(S,R){return R=R||{},{type:e.document,children:S,notes:R.notes||new u({}),comments:R.comments||[]}}function r(S,R){R=R||{};var D=R.indent||{};return{type:e.paragraph,children:S,styleId:R.styleId||null,styleName:R.styleName||null,numbering:R.numbering||null,alignment:R.alignment||null,indent:{start:D.start||null,end:D.end||null,firstLine:D.firstLine||null,hanging:D.hanging||null}}}function i(S,R){return R=R||{},{type:e.run,children:S,styleId:R.styleId||null,styleName:R.styleName||null,isBold:!!R.isBold,isUnderline:!!R.isUnderline,isItalic:!!R.isItalic,isStrikethrough:!!R.isStrikethrough,isAllCaps:!!R.isAllCaps,isSmallCaps:!!R.isSmallCaps,verticalAlignment:R.verticalAlignment||s.baseline,font:R.font||null,fontSize:R.fontSize||null}}var s={baseline:"baseline",superscript:"superscript",subscript:"subscript"};function a(S){return{type:e.text,value:S}}function o(){return{type:e.tab}}function l(S,R){return{type:e.hyperlink,children:S,href:R.href,anchor:R.anchor,targetFrame:R.targetFrame}}function c(S){return{type:e.noteReference,noteType:S.noteType,noteId:S.noteId}}function u(S){this._notes=t.indexBy(S,function(R){return v(R.noteType,R.noteId)})}u.prototype.resolve=function(S){return this.findNoteByKey(v(S.noteType,S.noteId))},u.prototype.findNoteByKey=function(S){return this._notes[S]||null};function f(S){return{type:e.note,noteType:S.noteType,noteId:S.noteId,body:S.body}}function h(S){return{type:e.commentReference,commentId:S.commentId}}function p(S){return{type:e.comment,commentId:S.commentId,body:S.body,authorName:S.authorName,authorInitials:S.authorInitials}}function v(S,R){return S+"-"+R}function g(S){return{type:e.image,read:function(R){return R?S.readImage(R):S.readImage().then(function(D){return Buffer.from(D)})},readAsArrayBuffer:function(){return S.readImage()},readAsBase64String:function(){return S.readImage("base64")},readAsBuffer:function(){return S.readImage().then(function(R){return Buffer.from(R)})},altText:S.altText,contentType:S.contentType}}function y(S,R){return R=R||{},{type:e.table,children:S,styleId:R.styleId||null,styleName:R.styleName||null}}function _(S,R){return R=R||{},{type:e.tableRow,children:S,isHeader:R.isHeader||!1}}function x(S,R){return R=R||{},{type:e.tableCell,children:S,colSpan:R.colSpan==null?1:R.colSpan,rowSpan:R.rowSpan==null?1:R.rowSpan}}function w(S){return{type:e.break,breakType:S}}function C(S){return{type:e.bookmarkStart,name:S.name}}return nr.document=nr.Document=n,nr.paragraph=nr.Paragraph=r,nr.run=nr.Run=i,nr.text=nr.Text=a,nr.tab=nr.Tab=o,nr.Hyperlink=l,nr.noteReference=nr.NoteReference=c,nr.Notes=u,nr.Note=f,nr.commentReference=h,nr.comment=p,nr.Image=g,nr.Table=y,nr.TableRow=_,nr.TableCell=x,nr.lineBreak=w("line"),nr.pageBreak=w("page"),nr.columnBreak=w("column"),nr.BookmarkStart=C,nr.verticalAlignment=s,nr}var vp={},rj;function Mc(){if(rj)return vp;rj=1;var t=mi;vp.Result=e,vp.success=n,vp.warning=r,vp.error=i;function e(l,c){this.value=l,this.messages=c||[]}e.prototype.map=function(l){return new e(l(this.value),this.messages)},e.prototype.flatMap=function(l){var c=l(this.value);return new e(c.value,s([this,c]))},e.prototype.flatMapThen=function(l){var c=this;return l(this.value).then(function(u){return new e(u.value,s([c,u]))})},e.combine=function(l){var c=t.flatten(t.pluck(l,"value")),u=s(l);return new e(c,u)};function n(l){return new e(l,[])}function r(l){return{type:"warning",message:l}}function i(l){return{type:"error",message:l.message,error:l}}function s(l){var c=[];return t.flatten(t.pluck(l,"messages"),!0).forEach(function(u){a(c,u)||c.push(u)}),c}function a(l,c){return t.find(l,o.bind(null,c))!==void 0}function o(l,c){return l.type===c.type&&l.message===c.message}return vp}var f0={},h0={},ij;function G9e(){if(ij)return h0;ij=1,h0.byteLength=o,h0.toByteArray=c,h0.fromByteArray=h;for(var t=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=r.length;i<s;++i)t[i]=r[i],e[r.charCodeAt(i)]=i;e[45]=62,e[95]=63;function a(p){var v=p.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=p.indexOf("=");g===-1&&(g=v);var y=g===v?0:4-g%4;return[g,y]}function o(p){var v=a(p),g=v[0],y=v[1];return(g+y)*3/4-y}function l(p,v,g){return(v+g)*3/4-g}function c(p){var v,g=a(p),y=g[0],_=g[1],x=new n(l(p,y,_)),w=0,C=_>0?y-4:y,S;for(S=0;S<C;S+=4)v=e[p.charCodeAt(S)]<<18|e[p.charCodeAt(S+1)]<<12|e[p.charCodeAt(S+2)]<<6|e[p.charCodeAt(S+3)],x[w++]=v>>16&255,x[w++]=v>>8&255,x[w++]=v&255;return _===2&&(v=e[p.charCodeAt(S)]<<2|e[p.charCodeAt(S+1)]>>4,x[w++]=v&255),_===1&&(v=e[p.charCodeAt(S)]<<10|e[p.charCodeAt(S+1)]<<4|e[p.charCodeAt(S+2)]>>2,x[w++]=v>>8&255,x[w++]=v&255),x}function u(p){return t[p>>18&63]+t[p>>12&63]+t[p>>6&63]+t[p&63]}function f(p,v,g){for(var y,_=[],x=v;x<g;x+=3)y=(p[x]<<16&16711680)+(p[x+1]<<8&65280)+(p[x+2]&255),_.push(u(y));return _.join("")}function h(p){for(var v,g=p.length,y=g%3,_=[],x=16383,w=0,C=g-y;w<C;w+=x)_.push(f(p,w,w+x>C?C:w+x));return y===1?(v=p[g-1],_.push(t[v>>2]+t[v<<4&63]+"==")):y===2&&(v=(p[g-2]<<8)+p[g-1],_.push(t[v>>10]+t[v>>4&63]+t[v<<2&63]+"=")),_.join("")}return h0}var sj;function eQ(){if(sj)return f0;sj=1;var t=G9e(),e=kH();f0.openArrayBuffer=n,f0.splitPath=r,f0.joinPath=i;function n(s){return e.loadAsync(s).then(function(a){function o(f){return a.file(f)!==null}function l(f,h){return a.file(f).async("uint8array").then(function(p){if(h==="base64")return t.fromByteArray(p);if(h){var v=new TextDecoder(h);return v.decode(p)}else return p})}function c(f,h){a.file(f,h)}function u(){return a.generateAsync({type:"arraybuffer"})}return{exists:o,read:l,write:c,toArrayBuffer:u}})}function r(s){var a=s.lastIndexOf("/");return a===-1?{dirname:"",basename:s}:{dirname:s.substring(0,a),basename:s.substring(a+1)}}function i(){var s=Array.prototype.filter.call(arguments,function(o){return o}),a=[];return s.forEach(function(o){/^\//.test(o)?a=[o]:a.push(o)}),a.join("/")}return f0}var t2={},qd={},p0={},aj;function tQ(){if(aj)return p0;aj=1;var t=mi;p0.Element=n,p0.element=function(s,a,o){return new n(s,a,o)},p0.text=function(s){return{type:"text",value:s}};var e={first:function(){return null},firstOrEmpty:function(){return e},attributes:{}};function n(s,a,o){this.type="element",this.name=s,this.attributes=a||{},this.children=o||[]}n.prototype.first=function(s){return t.find(this.children,function(a){return a.name===s})},n.prototype.firstOrEmpty=function(s){return this.first(s)||e},n.prototype.getElementsByTagName=function(s){var a=t.filter(this.children,function(o){return o.name===s});return i(a)},n.prototype.text=function(){if(this.children.length===0)return"";if(this.children.length!==1||this.children[0].type!=="text")throw new Error("Not implemented");return this.children[0].value};var r={getElementsByTagName:function(s){return i(t.flatten(this.map(function(a){return a.getElementsByTagName(s)},!0)))}};function i(s){return t.extend(s,r)}return p0}var nD={},n2={},m0={},oc={},$d={},oj;function nT(){if(oj)return $d;oj=1;function t(s,a,o){if(o===void 0&&(o=Array.prototype),s&&typeof o.find=="function")return o.find.call(s,a);for(var l=0;l<s.length;l++)if(Object.prototype.hasOwnProperty.call(s,l)){var c=s[l];if(a.call(void 0,c,l,s))return c}}function e(s,a){return a===void 0&&(a=Object),a&&typeof a.freeze=="function"?a.freeze(s):s}function n(s,a){if(s===null||typeof s!="object")throw new TypeError("target is not an object");for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o]);return s}var r=e({HTML:"text/html",isHTML:function(s){return s===r.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),i=e({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(s){return s===i.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});return $d.assign=n,$d.find=t,$d.freeze=e,$d.MIME_TYPE=r,$d.NAMESPACE=i,$d}var lj;function Y6(){if(lj)return oc;lj=1;var t=nT(),e=t.find,n=t.NAMESPACE;function r(se){return se!==""}function i(se){return se?se.split(/[\t\n\f\r ]+/).filter(r):[]}function s(se,he){return se.hasOwnProperty(he)||(se[he]=!0),se}function a(se){if(!se)return[];var he=i(se);return Object.keys(he.reduce(s,{}))}function o(se){return function(he){return se&&se.indexOf(he)!==-1}}function l(se,he){for(var Re in se)Object.prototype.hasOwnProperty.call(se,Re)&&(he[Re]=se[Re])}function c(se,he){var Re=se.prototype;if(!(Re instanceof he)){let st=function(){};var qe=st;st.prototype=he.prototype,st=new st,l(Re,st),se.prototype=Re=st}Re.constructor!=se&&(typeof se!="function"&&console.error("unknown Class:"+se),Re.constructor=se)}var u={},f=u.ELEMENT_NODE=1,h=u.ATTRIBUTE_NODE=2,p=u.TEXT_NODE=3,v=u.CDATA_SECTION_NODE=4,g=u.ENTITY_REFERENCE_NODE=5,y=u.ENTITY_NODE=6,_=u.PROCESSING_INSTRUCTION_NODE=7,x=u.COMMENT_NODE=8,w=u.DOCUMENT_NODE=9,C=u.DOCUMENT_TYPE_NODE=10,S=u.DOCUMENT_FRAGMENT_NODE=11,R=u.NOTATION_NODE=12,D={},N={};D.INDEX_SIZE_ERR=(N[1]="Index size error",1),D.DOMSTRING_SIZE_ERR=(N[2]="DOMString size error",2);var I=D.HIERARCHY_REQUEST_ERR=(N[3]="Hierarchy request error",3);D.WRONG_DOCUMENT_ERR=(N[4]="Wrong document",4),D.INVALID_CHARACTER_ERR=(N[5]="Invalid character",5),D.NO_DATA_ALLOWED_ERR=(N[6]="No data allowed",6),D.NO_MODIFICATION_ALLOWED_ERR=(N[7]="No modification allowed",7);var F=D.NOT_FOUND_ERR=(N[8]="Not found",8);D.NOT_SUPPORTED_ERR=(N[9]="Not supported",9);var P=D.INUSE_ATTRIBUTE_ERR=(N[10]="Attribute in use",10);D.INVALID_STATE_ERR=(N[11]="Invalid state",11),D.SYNTAX_ERR=(N[12]="Syntax error",12),D.INVALID_MODIFICATION_ERR=(N[13]="Invalid modification",13),D.NAMESPACE_ERR=(N[14]="Invalid namespace",14),D.INVALID_ACCESS_ERR=(N[15]="Invalid access",15);function k(se,he){if(he instanceof Error)var Re=he;else Re=this,Error.call(this,N[se]),this.message=N[se],Error.captureStackTrace&&Error.captureStackTrace(this,k);return Re.code=se,he&&(this.message=this.message+": "+he),Re}k.prototype=Error.prototype,l(D,k);function U(){}U.prototype={length:0,item:function(se){return se>=0&&se<this.length?this[se]:null},toString:function(se,he){for(var Re=[],qe=0;qe<this.length;qe++)Rn(this[qe],Re,se,he);return Re.join("")},filter:function(se){return Array.prototype.filter.call(this,se)},indexOf:function(se){return Array.prototype.indexOf.call(this,se)}};function O(se,he){this._node=se,this._refresh=he,H(this)}function H(se){var he=se._node._inc||se._node.ownerDocument._inc;if(se._inc!==he){var Re=se._refresh(se._node);if(It(se,"length",Re.length),!se.$$length||Re.length<se.$$length)for(var qe=Re.length;qe in se;qe++)Object.prototype.hasOwnProperty.call(se,qe)&&delete se[qe];l(Re,se),se._inc=he}}O.prototype.item=function(se){return H(this),this[se]||null},c(O,U);function G(){}function X(se,he){for(var Re=se.length;Re--;)if(se[Re]===he)return Re}function Z(se,he,Re,qe){if(qe?he[X(he,qe)]=Re:he[he.length++]=Re,se){Re.ownerElement=se;var st=se.ownerDocument;st&&(qe&&te(st,se,qe),Y(st,se,Re))}}function z(se,he,Re){var qe=X(he,Re);if(qe>=0){for(var st=he.length-1;qe<st;)he[qe]=he[++qe];if(he.length=st,se){var wt=se.ownerDocument;wt&&(te(wt,se,Re),Re.ownerElement=null)}}else throw new k(F,new Error(se.tagName+"@"+Re))}G.prototype={length:0,item:U.prototype.item,getNamedItem:function(se){for(var he=this.length;he--;){var Re=this[he];if(Re.nodeName==se)return Re}},setNamedItem:function(se){var he=se.ownerElement;if(he&&he!=this._ownerElement)throw new k(P);var Re=this.getNamedItem(se.nodeName);return Z(this._ownerElement,this,se,Re),Re},setNamedItemNS:function(se){var he=se.ownerElement,Re;if(he&&he!=this._ownerElement)throw new k(P);return Re=this.getNamedItemNS(se.namespaceURI,se.localName),Z(this._ownerElement,this,se,Re),Re},removeNamedItem:function(se){var he=this.getNamedItem(se);return z(this._ownerElement,this,he),he},removeNamedItemNS:function(se,he){var Re=this.getNamedItemNS(se,he);return z(this._ownerElement,this,Re),Re},getNamedItemNS:function(se,he){for(var Re=this.length;Re--;){var qe=this[Re];if(qe.localName==he&&qe.namespaceURI==se)return qe}return null}};function Q(){}Q.prototype={hasFeature:function(se,he){return!0},createDocument:function(se,he,Re){var qe=new J;if(qe.implementation=this,qe.childNodes=new U,qe.doctype=Re||null,Re&&qe.appendChild(Re),he){var st=qe.createElementNS(se,he);qe.appendChild(st)}return qe},createDocumentType:function(se,he,Re){var qe=new Te;return qe.name=se,qe.nodeName=se,qe.publicId=he||"",qe.systemId=Re||"",qe}};function B(){}B.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(se,he){return le(this,se,he)},replaceChild:function(se,he){le(this,se,he,re),he&&this.removeChild(he)},removeChild:function(se){return de(this,se)},appendChild:function(se){return this.insertBefore(se,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(se){return yn(this.ownerDocument||this,this,se)},normalize:function(){for(var se=this.firstChild;se;){var he=se.nextSibling;he&&he.nodeType==p&&se.nodeType==p?(this.removeChild(he),se.appendData(he.data)):(se.normalize(),se=he)}},isSupported:function(se,he){return this.ownerDocument.implementation.hasFeature(se,he)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(se){for(var he=this;he;){var Re=he._nsMap;if(Re){for(var qe in Re)if(Object.prototype.hasOwnProperty.call(Re,qe)&&Re[qe]===se)return qe}he=he.nodeType==h?he.ownerDocument:he.parentNode}return null},lookupNamespaceURI:function(se){for(var he=this;he;){var Re=he._nsMap;if(Re&&Object.prototype.hasOwnProperty.call(Re,se))return Re[se];he=he.nodeType==h?he.ownerDocument:he.parentNode}return null},isDefaultNamespace:function(se){var he=this.lookupPrefix(se);return he==null}};function j(se){return se=="<"&&"&lt;"||se==">"&&"&gt;"||se=="&"&&"&amp;"||se=='"'&&"&quot;"||"&#"+se.charCodeAt()+";"}l(u,B),l(u,B.prototype);function q(se,he){if(he(se))return!0;if(se=se.firstChild)do if(q(se,he))return!0;while(se=se.nextSibling)}function J(){this.ownerDocument=this}function Y(se,he,Re){se&&se._inc++;var qe=Re.namespaceURI;qe===n.XMLNS&&(he._nsMap[Re.prefix?Re.localName:""]=Re.value)}function te(se,he,Re,qe){se&&se._inc++;var st=Re.namespaceURI;st===n.XMLNS&&delete he._nsMap[Re.prefix?Re.localName:""]}function oe(se,he,Re){if(se&&se._inc){se._inc++;var qe=he.childNodes;if(Re)qe[qe.length++]=Re;else{for(var st=he.firstChild,wt=0;st;)qe[wt++]=st,st=st.nextSibling;qe.length=wt,delete qe[qe.length]}}}function de(se,he){var Re=he.previousSibling,qe=he.nextSibling;return Re?Re.nextSibling=qe:se.firstChild=qe,qe?qe.previousSibling=Re:se.lastChild=Re,he.parentNode=null,he.previousSibling=null,he.nextSibling=null,oe(se.ownerDocument,se),he}function fe(se){return se&&(se.nodeType===B.DOCUMENT_NODE||se.nodeType===B.DOCUMENT_FRAGMENT_NODE||se.nodeType===B.ELEMENT_NODE)}function Ce(se){return se&&(pe(se)||Me(se)||Pe(se)||se.nodeType===B.DOCUMENT_FRAGMENT_NODE||se.nodeType===B.COMMENT_NODE||se.nodeType===B.PROCESSING_INSTRUCTION_NODE)}function Pe(se){return se&&se.nodeType===B.DOCUMENT_TYPE_NODE}function pe(se){return se&&se.nodeType===B.ELEMENT_NODE}function Me(se){return se&&se.nodeType===B.TEXT_NODE}function W(se,he){var Re=se.childNodes||[];if(e(Re,pe)||Pe(he))return!1;var qe=e(Re,Pe);return!(he&&qe&&Re.indexOf(qe)>Re.indexOf(he))}function ge(se,he){var Re=se.childNodes||[];function qe(wt){return pe(wt)&&wt!==he}if(e(Re,qe))return!1;var st=e(Re,Pe);return!(he&&st&&Re.indexOf(st)>Re.indexOf(he))}function _e(se,he,Re){if(!fe(se))throw new k(I,"Unexpected parent node type "+se.nodeType);if(Re&&Re.parentNode!==se)throw new k(F,"child not in parent");if(!Ce(he)||Pe(he)&&se.nodeType!==B.DOCUMENT_NODE)throw new k(I,"Unexpected node type "+he.nodeType+" for parent node type "+se.nodeType)}function ce(se,he,Re){var qe=se.childNodes||[],st=he.childNodes||[];if(he.nodeType===B.DOCUMENT_FRAGMENT_NODE){var wt=st.filter(pe);if(wt.length>1||e(st,Me))throw new k(I,"More than one element or text in fragment");if(wt.length===1&&!W(se,Re))throw new k(I,"Element in fragment can not be inserted before doctype")}if(pe(he)&&!W(se,Re))throw new k(I,"Only one element can be added and only after doctype");if(Pe(he)){if(e(qe,Pe))throw new k(I,"Only one doctype is allowed");var Ot=e(qe,pe);if(Re&&qe.indexOf(Ot)<qe.indexOf(Re))throw new k(I,"Doctype can only be inserted before an element");if(!Re&&Ot)throw new k(I,"Doctype can not be appended since element is present")}}function re(se,he,Re){var qe=se.childNodes||[],st=he.childNodes||[];if(he.nodeType===B.DOCUMENT_FRAGMENT_NODE){var wt=st.filter(pe);if(wt.length>1||e(st,Me))throw new k(I,"More than one element or text in fragment");if(wt.length===1&&!ge(se,Re))throw new k(I,"Element in fragment can not be inserted before doctype")}if(pe(he)&&!ge(se,Re))throw new k(I,"Only one element can be added and only after doctype");if(Pe(he)){let vn=function(mn){return Pe(mn)&&mn!==Re};var Kt=vn;if(e(qe,vn))throw new k(I,"Only one doctype is allowed");var Ot=e(qe,pe);if(Re&&qe.indexOf(Ot)<qe.indexOf(Re))throw new k(I,"Doctype can only be inserted before an element")}}function le(se,he,Re,qe){_e(se,he,Re),se.nodeType===B.DOCUMENT_NODE&&(qe||ce)(se,he,Re);var st=he.parentNode;if(st&&st.removeChild(he),he.nodeType===S){var wt=he.firstChild;if(wt==null)return he;var Ot=he.lastChild}else wt=Ot=he;var Kt=Re?Re.previousSibling:se.lastChild;wt.previousSibling=Kt,Ot.nextSibling=Re,Kt?Kt.nextSibling=wt:se.firstChild=wt,Re==null?se.lastChild=Ot:Re.previousSibling=Ot;do{wt.parentNode=se;var vn=se.ownerDocument||se;ke(wt,vn)}while(wt!==Ot&&(wt=wt.nextSibling));return oe(se.ownerDocument||se,se),he.nodeType==S&&(he.firstChild=he.lastChild=null),he}function ke(se,he){if(se.ownerDocument!==he){if(se.ownerDocument=he,se.nodeType===f&&se.attributes)for(var Re=0;Re<se.attributes.length;Re++){var qe=se.attributes.item(Re);qe&&(qe.ownerDocument=he)}for(var st=se.firstChild;st;)ke(st,he),st=st.nextSibling}}function Ne(se,he){he.parentNode&&he.parentNode.removeChild(he),he.parentNode=se,he.previousSibling=se.lastChild,he.nextSibling=null,he.previousSibling?he.previousSibling.nextSibling=he:se.firstChild=he,se.lastChild=he,oe(se.ownerDocument,se,he);var Re=se.ownerDocument||se;return ke(he,Re),he}J.prototype={nodeName:"#document",nodeType:w,doctype:null,documentElement:null,_inc:1,insertBefore:function(se,he){if(se.nodeType==S){for(var Re=se.firstChild;Re;){var qe=Re.nextSibling;this.insertBefore(Re,he),Re=qe}return se}return le(this,se,he),ke(se,this),this.documentElement===null&&se.nodeType===f&&(this.documentElement=se),se},removeChild:function(se){return this.documentElement==se&&(this.documentElement=null),de(this,se)},replaceChild:function(se,he){le(this,se,he,re),ke(se,this),he&&this.removeChild(he),pe(se)&&(this.documentElement=se)},importNode:function(se,he){return Vn(this,se,he)},getElementById:function(se){var he=null;return q(this.documentElement,function(Re){if(Re.nodeType==f&&Re.getAttribute("id")==se)return he=Re,!0}),he},getElementsByClassName:function(se){var he=a(se);return new O(this,function(Re){var qe=[];return he.length>0&&q(Re.documentElement,function(st){if(st!==Re&&st.nodeType===f){var wt=st.getAttribute("class");if(wt){var Ot=se===wt;if(!Ot){var Kt=a(wt);Ot=he.every(o(Kt))}Ot&&qe.push(st)}}}),qe})},createElement:function(se){var he=new ie;he.ownerDocument=this,he.nodeName=se,he.tagName=se,he.localName=se,he.childNodes=new U;var Re=he.attributes=new G;return Re._ownerElement=he,he},createDocumentFragment:function(){var se=new ot;return se.ownerDocument=this,se.childNodes=new U,se},createTextNode:function(se){var he=new be;return he.ownerDocument=this,he.appendData(se),he},createComment:function(se){var he=new Ie;return he.ownerDocument=this,he.appendData(se),he},createCDATASection:function(se){var he=new Le;return he.ownerDocument=this,he.appendData(se),he},createProcessingInstruction:function(se,he){var Re=new lt;return Re.ownerDocument=this,Re.tagName=Re.nodeName=Re.target=se,Re.nodeValue=Re.data=he,Re},createAttribute:function(se){var he=new ue;return he.ownerDocument=this,he.name=se,he.nodeName=se,he.localName=se,he.specified=!0,he},createEntityReference:function(se){var he=new Je;return he.ownerDocument=this,he.nodeName=se,he},createElementNS:function(se,he){var Re=new ie,qe=he.split(":"),st=Re.attributes=new G;return Re.childNodes=new U,Re.ownerDocument=this,Re.nodeName=he,Re.tagName=he,Re.namespaceURI=se,qe.length==2?(Re.prefix=qe[0],Re.localName=qe[1]):Re.localName=he,st._ownerElement=Re,Re},createAttributeNS:function(se,he){var Re=new ue,qe=he.split(":");return Re.ownerDocument=this,Re.nodeName=he,Re.name=he,Re.namespaceURI=se,Re.specified=!0,qe.length==2?(Re.prefix=qe[0],Re.localName=qe[1]):Re.localName=he,Re}},c(J,B);function ie(){this._nsMap={}}ie.prototype={nodeType:f,hasAttribute:function(se){return this.getAttributeNode(se)!=null},getAttribute:function(se){var he=this.getAttributeNode(se);return he&&he.value||""},getAttributeNode:function(se){return this.attributes.getNamedItem(se)},setAttribute:function(se,he){var Re=this.ownerDocument.createAttribute(se);Re.value=Re.nodeValue=""+he,this.setAttributeNode(Re)},removeAttribute:function(se){var he=this.getAttributeNode(se);he&&this.removeAttributeNode(he)},appendChild:function(se){return se.nodeType===S?this.insertBefore(se,null):Ne(this,se)},setAttributeNode:function(se){return this.attributes.setNamedItem(se)},setAttributeNodeNS:function(se){return this.attributes.setNamedItemNS(se)},removeAttributeNode:function(se){return this.attributes.removeNamedItem(se.nodeName)},removeAttributeNS:function(se,he){var Re=this.getAttributeNodeNS(se,he);Re&&this.removeAttributeNode(Re)},hasAttributeNS:function(se,he){return this.getAttributeNodeNS(se,he)!=null},getAttributeNS:function(se,he){var Re=this.getAttributeNodeNS(se,he);return Re&&Re.value||""},setAttributeNS:function(se,he,Re){var qe=this.ownerDocument.createAttributeNS(se,he);qe.value=qe.nodeValue=""+Re,this.setAttributeNode(qe)},getAttributeNodeNS:function(se,he){return this.attributes.getNamedItemNS(se,he)},getElementsByTagName:function(se){return new O(this,function(he){var Re=[];return q(he,function(qe){qe!==he&&qe.nodeType==f&&(se==="*"||qe.tagName==se)&&Re.push(qe)}),Re})},getElementsByTagNameNS:function(se,he){return new O(this,function(Re){var qe=[];return q(Re,function(st){st!==Re&&st.nodeType===f&&(se==="*"||st.namespaceURI===se)&&(he==="*"||st.localName==he)&&qe.push(st)}),qe})}},J.prototype.getElementsByTagName=ie.prototype.getElementsByTagName,J.prototype.getElementsByTagNameNS=ie.prototype.getElementsByTagNameNS,c(ie,B);function ue(){}ue.prototype.nodeType=h,c(ue,B);function ve(){}ve.prototype={data:"",substringData:function(se,he){return this.data.substring(se,se+he)},appendData:function(se){se=this.data+se,this.nodeValue=this.data=se,this.length=se.length},insertData:function(se,he){this.replaceData(se,0,he)},appendChild:function(se){throw new Error(N[I])},deleteData:function(se,he){this.replaceData(se,he,"")},replaceData:function(se,he,Re){var qe=this.data.substring(0,se),st=this.data.substring(se+he);Re=qe+Re+st,this.nodeValue=this.data=Re,this.length=Re.length}},c(ve,B);function be(){}be.prototype={nodeName:"#text",nodeType:p,splitText:function(se){var he=this.data,Re=he.substring(se);he=he.substring(0,se),this.data=this.nodeValue=he,this.length=he.length;var qe=this.ownerDocument.createTextNode(Re);return this.parentNode&&this.parentNode.insertBefore(qe,this.nextSibling),qe}},c(be,ve);function Ie(){}Ie.prototype={nodeName:"#comment",nodeType:x},c(Ie,ve);function Le(){}Le.prototype={nodeName:"#cdata-section",nodeType:v},c(Le,ve);function Te(){}Te.prototype.nodeType=C,c(Te,B);function Ue(){}Ue.prototype.nodeType=R,c(Ue,B);function Oe(){}Oe.prototype.nodeType=y,c(Oe,B);function Je(){}Je.prototype.nodeType=g,c(Je,B);function ot(){}ot.prototype.nodeName="#document-fragment",ot.prototype.nodeType=S,c(ot,B);function lt(){}lt.prototype.nodeType=_,c(lt,B);function Bt(){}Bt.prototype.serializeToString=function(se,he,Re){return fn.call(se,he,Re)},B.prototype.toString=fn;function fn(se,he){var Re=[],qe=this.nodeType==9&&this.documentElement||this,st=qe.prefix,wt=qe.namespaceURI;if(wt&&st==null){var st=qe.lookupPrefix(wt);if(st==null)var Ot=[{namespace:wt,prefix:null}]}return Rn(this,Re,se,he,Ot),Re.join("")}function ln(se,he,Re){var qe=se.prefix||"",st=se.namespaceURI;if(!st||qe==="xml"&&st===n.XML||st===n.XMLNS)return!1;for(var wt=Re.length;wt--;){var Ot=Re[wt];if(Ot.prefix===qe)return Ot.namespace!==st}return!0}function Kn(se,he,Re){se.push(" ",he,'="',Re.replace(/[<>&"\t\n\r]/g,j),'"')}function Rn(se,he,Re,qe,st){if(st||(st=[]),qe)if(se=qe(se),se){if(typeof se=="string"){he.push(se);return}}else return;switch(se.nodeType){case f:var wt=se.attributes,Ot=wt.length,Ae=se.firstChild,Kt=se.tagName;Re=n.isHTML(se.namespaceURI)||Re;var vn=Kt;if(!Re&&!se.prefix&&se.namespaceURI){for(var mn,Mn=0;Mn<wt.length;Mn++)if(wt.item(Mn).name==="xmlns"){mn=wt.item(Mn).value;break}if(!mn)for(var Sn=st.length-1;Sn>=0;Sn--){var er=st[Sn];if(er.prefix===""&&er.namespace===se.namespaceURI){mn=er.namespace;break}}if(mn!==se.namespaceURI)for(var Sn=st.length-1;Sn>=0;Sn--){var er=st[Sn];if(er.namespace===se.namespaceURI){er.prefix&&(vn=er.prefix+":"+Kt);break}}}he.push("<",vn);for(var me=0;me<Ot;me++){var we=wt.item(me);we.prefix=="xmlns"?st.push({prefix:we.localName,namespace:we.value}):we.nodeName=="xmlns"&&st.push({prefix:"",namespace:we.value})}for(var me=0;me<Ot;me++){var we=wt.item(me);if(ln(we,Re,st)){var xe=we.prefix||"",Ee=we.namespaceURI;Kn(he,xe?"xmlns:"+xe:"xmlns",Ee),st.push({prefix:xe,namespace:Ee})}Rn(we,he,Re,qe,st)}if(Kt===vn&&ln(se,Re,st)){var xe=se.prefix||"",Ee=se.namespaceURI;Kn(he,xe?"xmlns:"+xe:"xmlns",Ee),st.push({prefix:xe,namespace:Ee})}if(Ae||Re&&!/^(?:meta|link|img|br|hr|input)$/i.test(Kt)){if(he.push(">"),Re&&/^script$/i.test(Kt))for(;Ae;)Ae.data?he.push(Ae.data):Rn(Ae,he,Re,qe,st.slice()),Ae=Ae.nextSibling;else for(;Ae;)Rn(Ae,he,Re,qe,st.slice()),Ae=Ae.nextSibling;he.push("</",vn,">")}else he.push("/>");return;case w:case S:for(var Ae=se.firstChild;Ae;)Rn(Ae,he,Re,qe,st.slice()),Ae=Ae.nextSibling;return;case h:return Kn(he,se.name,se.value);case p:return he.push(se.data.replace(/[<&>]/g,j));case v:return he.push("<![CDATA[",se.data,"]]>");case x:return he.push("<!--",se.data,"-->");case C:var Se=se.publicId,Ve=se.systemId;if(he.push("<!DOCTYPE ",se.name),Se)he.push(" PUBLIC ",Se),Ve&&Ve!="."&&he.push(" ",Ve),he.push(">");else if(Ve&&Ve!=".")he.push(" SYSTEM ",Ve,">");else{var Ze=se.internalSubset;Ze&&he.push(" [",Ze,"]"),he.push(">")}return;case _:return he.push("<?",se.target," ",se.data,"?>");case g:return he.push("&",se.nodeName,";");default:he.push("??",se.nodeName)}}function Vn(se,he,Re){var qe;switch(he.nodeType){case f:qe=he.cloneNode(!1),qe.ownerDocument=se;case S:break;case h:Re=!0;break}if(qe||(qe=he.cloneNode(!1)),qe.ownerDocument=se,qe.parentNode=null,Re)for(var st=he.firstChild;st;)qe.appendChild(Vn(se,st,Re)),st=st.nextSibling;return qe}function yn(se,he,Re){var qe=new he.constructor;for(var st in he)if(Object.prototype.hasOwnProperty.call(he,st)){var wt=he[st];typeof wt!="object"&&wt!=qe[st]&&(qe[st]=wt)}switch(he.childNodes&&(qe.childNodes=new U),qe.ownerDocument=se,qe.nodeType){case f:var Ot=he.attributes,Kt=qe.attributes=new G,vn=Ot.length;Kt._ownerElement=qe;for(var mn=0;mn<vn;mn++)qe.setAttributeNode(yn(se,Ot.item(mn),!0));break;case h:Re=!0}if(Re)for(var Mn=he.firstChild;Mn;)qe.appendChild(yn(se,Mn,Re)),Mn=Mn.nextSibling;return qe}function It(se,he,Re){se[he]=Re}try{if(Object.defineProperty){let se=function(he){switch(he.nodeType){case f:case S:var Re=[];for(he=he.firstChild;he;)he.nodeType!==7&&he.nodeType!==8&&Re.push(se(he)),he=he.nextSibling;return Re.join("");default:return he.nodeValue}};var We=se;Object.defineProperty(O.prototype,"length",{get:function(){return H(this),this.$$length}}),Object.defineProperty(B.prototype,"textContent",{get:function(){return se(this)},set:function(he){switch(this.nodeType){case f:case S:for(;this.firstChild;)this.removeChild(this.firstChild);(he||String(he))&&this.appendChild(this.ownerDocument.createTextNode(he));break;default:this.data=he,this.value=he,this.nodeValue=he}}}),It=function(he,Re,qe){he["$$"+Re]=qe}}}catch{}return oc.DocumentType=Te,oc.DOMException=k,oc.DOMImplementation=Q,oc.Element=ie,oc.Node=B,oc.NodeList=U,oc.XMLSerializer=Bt,oc}var g0={},rD={},cj;function K9e(){return cj||(cj=1,(function(t){var e=nT().freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),t.entityMap=t.HTML_ENTITIES})(rD)),rD}var r2={},uj;function J9e(){if(uj)return r2;uj=1;var t=nT().NAMESPACE,e=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,n=new RegExp("[\\-\\.0-9"+e.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),r=new RegExp("^"+e.source+n.source+"*(?::"+e.source+n.source+"*)?$"),i=0,s=1,a=2,o=3,l=4,c=5,u=6,f=7;function h(I,F){this.message=I,this.locator=F,Error.captureStackTrace&&Error.captureStackTrace(this,h)}h.prototype=new Error,h.prototype.name=h.name;function p(){}p.prototype={parse:function(I,F,P){var k=this.domBuilder;k.startDocument(),C(F,F={}),v(I,F,P,k,this.errorHandler),k.endDocument()}};function v(I,F,P,k,U){function O(Ne){if(Ne>65535){Ne-=65536;var ie=55296+(Ne>>10),ue=56320+(Ne&1023);return String.fromCharCode(ie,ue)}else return String.fromCharCode(Ne)}function H(Ne){var ie=Ne.slice(1,-1);return Object.hasOwnProperty.call(P,ie)?P[ie]:ie.charAt(0)==="#"?O(parseInt(ie.substr(1).replace("x","0x"))):(U.error("entity not found:"+Ne),Ne)}function G(Ne){if(Ne>J){var ie=I.substring(J,Ne).replace(/&#?\w+;/g,H);B&&X(J),k.characters(ie,0,Ne-J),J=Ne}}function X(Ne,ie){for(;Ne>=z&&(ie=Q.exec(I));)Z=ie.index,z=Z+ie[0].length,B.lineNumber++;B.columnNumber=Ne-Z+1}for(var Z=0,z=0,Q=/.*(?:\r\n?|\n)|.*$/g,B=k.locator,j=[{currentNSMap:F}],q={},J=0;;){try{var Y=I.indexOf("<",J);if(Y<0){if(!I.substr(J).match(/^\s*$/)){var te=k.doc,oe=te.createTextNode(I.substr(J));te.appendChild(oe),k.currentElement=oe}return}switch(Y>J&&G(Y),I.charAt(Y+1)){case"/":var _e=I.indexOf(">",Y+3),de=I.substring(Y+2,_e).replace(/[ \t\n\r]+$/g,""),fe=j.pop();_e<0?(de=I.substring(Y+2).replace(/[\s<].*/,""),U.error("end tag name: "+de+" is not complete:"+fe.tagName),_e=Y+1+de.length):de.match(/\s</)&&(de=de.replace(/[\s<].*/,""),U.error("end tag name: "+de+" maybe not complete"),_e=Y+1+de.length);var Ce=fe.localNSMap,Pe=fe.tagName==de,pe=Pe||fe.tagName&&fe.tagName.toLowerCase()==de.toLowerCase();if(pe){if(k.endElement(fe.uri,fe.localName,de),Ce)for(var Me in Ce)Object.prototype.hasOwnProperty.call(Ce,Me)&&k.endPrefixMapping(Me);Pe||U.fatalError("end tag name: "+de+" is not match the current start tagName:"+fe.tagName)}else j.push(fe);_e++;break;case"?":B&&X(Y),_e=R(I,Y,k);break;case"!":B&&X(Y),_e=S(I,Y,k,U);break;default:B&&X(Y);var W=new D,ge=j[j.length-1].currentNSMap,_e=y(I,Y,W,ge,H,U),ce=W.length;if(!W.closed&&w(I,_e,W.tagName,q)&&(W.closed=!0,P.nbsp||U.warning("unclosed xml attribute")),B&&ce){for(var re=g(B,{}),le=0;le<ce;le++){var ke=W[le];X(ke.offset),ke.locator=g(B,{})}k.locator=re,_(W,k,ge)&&j.push(W),k.locator=B}else _(W,k,ge)&&j.push(W);t.isHTML(W.uri)&&!W.closed?_e=x(I,_e,W.tagName,H,k):_e++}}catch(Ne){if(Ne instanceof h)throw Ne;U.error("element parse error: "+Ne),_e=-1}_e>J?J=_e:G(Math.max(Y,J)+1)}}function g(I,F){return F.lineNumber=I.lineNumber,F.columnNumber=I.columnNumber,F}function y(I,F,P,k,U,O){function H(B,j,q){P.attributeNames.hasOwnProperty(B)&&O.fatalError("Attribute "+B+" redefined"),P.addValue(B,j.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,U),q)}for(var G,X,Z=++F,z=i;;){var Q=I.charAt(Z);switch(Q){case"=":if(z===s)G=I.slice(F,Z),z=o;else if(z===a)z=o;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(z===o||z===s)if(z===s&&(O.warning('attribute value must after "="'),G=I.slice(F,Z)),F=Z+1,Z=I.indexOf(Q,F),Z>0)X=I.slice(F,Z),H(G,X,F-1),z=c;else throw new Error("attribute value no end '"+Q+"' match");else if(z==l)X=I.slice(F,Z),H(G,X,F),O.warning('attribute "'+G+'" missed start quot('+Q+")!!"),F=Z+1,z=c;else throw new Error('attribute value must after "="');break;case"/":switch(z){case i:P.setTagName(I.slice(F,Z));case c:case u:case f:z=f,P.closed=!0;case l:case s:break;case a:P.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return O.error("unexpected end of input"),z==i&&P.setTagName(I.slice(F,Z)),Z;case">":switch(z){case i:P.setTagName(I.slice(F,Z));case c:case u:case f:break;case l:case s:X=I.slice(F,Z),X.slice(-1)==="/"&&(P.closed=!0,X=X.slice(0,-1));case a:z===a&&(X=G),z==l?(O.warning('attribute "'+X+'" missed quot(")!'),H(G,X,F)):((!t.isHTML(k[""])||!X.match(/^(?:disabled|checked|selected)$/i))&&O.warning('attribute "'+X+'" missed value!! "'+X+'" instead!!'),H(X,X,F));break;case o:throw new Error("attribute value missed!!")}return Z;case"":Q=" ";default:if(Q<=" ")switch(z){case i:P.setTagName(I.slice(F,Z)),z=u;break;case s:G=I.slice(F,Z),z=a;break;case l:var X=I.slice(F,Z);O.warning('attribute "'+X+'" missed quot(")!!'),H(G,X,F);case c:z=u;break}else switch(z){case a:P.tagName,(!t.isHTML(k[""])||!G.match(/^(?:disabled|checked|selected)$/i))&&O.warning('attribute "'+G+'" missed value!! "'+G+'" instead2!!'),H(G,G,F),F=Z,z=s;break;case c:O.warning('attribute space is required"'+G+'"!!');case u:z=s,F=Z;break;case o:z=l,F=Z;break;case f:throw new Error("elements closed character '/' and '>' must be connected to")}}Z++}}function _(I,F,P){for(var k=I.tagName,U=null,Q=I.length;Q--;){var O=I[Q],H=O.qName,G=O.value,B=H.indexOf(":");if(B>0)var X=O.prefix=H.slice(0,B),Z=H.slice(B+1),z=X==="xmlns"&&Z;else Z=H,X=null,z=H==="xmlns"&&"";O.localName=Z,z!==!1&&(U==null&&(U={},C(P,P={})),P[z]=U[z]=G,O.uri=t.XMLNS,F.startPrefixMapping(z,G))}for(var Q=I.length;Q--;){O=I[Q];var X=O.prefix;X&&(X==="xml"&&(O.uri=t.XML),X!=="xmlns"&&(O.uri=P[X||""]))}var B=k.indexOf(":");B>0?(X=I.prefix=k.slice(0,B),Z=I.localName=k.slice(B+1)):(X=null,Z=I.localName=k);var j=I.uri=P[X||""];if(F.startElement(j,Z,k,I),I.closed){if(F.endElement(j,Z,k),U)for(X in U)Object.prototype.hasOwnProperty.call(U,X)&&F.endPrefixMapping(X)}else return I.currentNSMap=P,I.localNSMap=U,!0}function x(I,F,P,k,U){if(/^(?:script|textarea)$/i.test(P)){var O=I.indexOf("</"+P+">",F),H=I.substring(F+1,O);if(/[&<]/.test(H))return/^script$/i.test(P)?(U.characters(H,0,H.length),O):(H=H.replace(/&#?\w+;/g,k),U.characters(H,0,H.length),O)}return F+1}function w(I,F,P,k){var U=k[P];return U==null&&(U=I.lastIndexOf("</"+P+">"),U<F&&(U=I.lastIndexOf("</"+P)),k[P]=U),U<F}function C(I,F){for(var P in I)Object.prototype.hasOwnProperty.call(I,P)&&(F[P]=I[P])}function S(I,F,P,k){var U=I.charAt(F+2);switch(U){case"-":if(I.charAt(F+3)==="-"){var O=I.indexOf("-->",F+4);return O>F?(P.comment(I,F+4,O-F-4),O+3):(k.error("Unclosed comment"),-1)}else return-1;default:if(I.substr(F+3,6)=="CDATA["){var O=I.indexOf("]]>",F+9);return P.startCDATA(),P.characters(I,F+9,O-F-9),P.endCDATA(),O+3}var H=N(I,F),G=H.length;if(G>1&&/!doctype/i.test(H[0][0])){var X=H[1][0],Z=!1,z=!1;G>3&&(/^public$/i.test(H[2][0])?(Z=H[3][0],z=G>4&&H[4][0]):/^system$/i.test(H[2][0])&&(z=H[3][0]));var Q=H[G-1];return P.startDTD(X,Z,z),P.endDTD(),Q.index+Q[0].length}}return-1}function R(I,F,P){var k=I.indexOf("?>",F);if(k){var U=I.substring(F,k).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return U?(U[0].length,P.processingInstruction(U[1],U[2]),k+2):-1}return-1}function D(){this.attributeNames={}}D.prototype={setTagName:function(I){if(!r.test(I))throw new Error("invalid tagName:"+I);this.tagName=I},addValue:function(I,F,P){if(!r.test(I))throw new Error("invalid attribute:"+I);this.attributeNames[I]=this.length,this[this.length++]={qName:I,value:F,offset:P}},length:0,getLocalName:function(I){return this[I].localName},getLocator:function(I){return this[I].locator},getQName:function(I){return this[I].qName},getURI:function(I){return this[I].uri},getValue:function(I){return this[I].value}};function N(I,F){var P,k=[],U=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(U.lastIndex=F,U.exec(I);P=U.exec(I);)if(k.push(P),P[1])return k}return r2.XMLReader=p,r2.ParseError=h,r2}var dj;function X9e(){if(dj)return g0;dj=1;var t=nT(),e=Y6(),n=K9e(),r=J9e(),i=e.DOMImplementation,s=t.NAMESPACE,a=r.ParseError,o=r.XMLReader;function l(y){return y.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function c(y){this.options=y||{locator:{}}}c.prototype.parseFromString=function(y,_){var x=this.options,w=new o,C=x.domBuilder||new f,S=x.errorHandler,R=x.locator,D=x.xmlns||{},N=/\/x?html?$/.test(_),I=N?n.HTML_ENTITIES:n.XML_ENTITIES;R&&C.setDocumentLocator(R),w.errorHandler=u(S,C,R),w.domBuilder=x.domBuilder||C,N&&(D[""]=s.HTML),D.xml=D.xml||s.XML;var F=x.normalizeLineEndings||l;return y&&typeof y=="string"?w.parse(F(y),D,I):w.errorHandler.error("invalid doc source"),C.doc};function u(y,_,x){if(!y){if(_ instanceof f)return _;y=_}var w={},C=y instanceof Function;x=x||{};function S(R){var D=y[R];!D&&C&&(D=y.length==2?function(N){y(R,N)}:y),w[R]=D&&function(N){D("[xmldom "+R+"]	"+N+p(x))}||function(){}}return S("warning"),S("error"),S("fatalError"),w}function f(){this.cdata=!1}function h(y,_){_.lineNumber=y.lineNumber,_.columnNumber=y.columnNumber}f.prototype={startDocument:function(){this.doc=new i().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(y,_,x,w){var C=this.doc,S=C.createElementNS(y,x||_),R=w.length;g(this,S),this.currentElement=S,this.locator&&h(this.locator,S);for(var D=0;D<R;D++){var y=w.getURI(D),N=w.getValue(D),x=w.getQName(D),I=C.createAttributeNS(y,x);this.locator&&h(w.getLocator(D),I),I.value=I.nodeValue=N,S.setAttributeNode(I)}},endElement:function(y,_,x){var w=this.currentElement;w.tagName,this.currentElement=w.parentNode},startPrefixMapping:function(y,_){},endPrefixMapping:function(y){},processingInstruction:function(y,_){var x=this.doc.createProcessingInstruction(y,_);this.locator&&h(this.locator,x),g(this,x)},ignorableWhitespace:function(y,_,x){},characters:function(y,_,x){if(y=v.apply(this,arguments),y){if(this.cdata)var w=this.doc.createCDATASection(y);else var w=this.doc.createTextNode(y);this.currentElement?this.currentElement.appendChild(w):/^\s*$/.test(y)&&this.doc.appendChild(w),this.locator&&h(this.locator,w)}},skippedEntity:function(y){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(y){(this.locator=y)&&(y.lineNumber=0)},comment:function(y,_,x){y=v.apply(this,arguments);var w=this.doc.createComment(y);this.locator&&h(this.locator,w),g(this,w)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(y,_,x){var w=this.doc.implementation;if(w&&w.createDocumentType){var C=w.createDocumentType(y,_,x);this.locator&&h(this.locator,C),g(this,C),this.doc.doctype=C}},warning:function(y){console.warn("[xmldom warning]	"+y,p(this.locator))},error:function(y){console.error("[xmldom error]	"+y,p(this.locator))},fatalError:function(y){throw new a(y,this.locator)}};function p(y){if(y)return`
@`+(y.systemId||"")+"#[line:"+y.lineNumber+",col:"+y.columnNumber+"]"}function v(y,_,x){return typeof y=="string"?y.substr(_,x):y.length>=_+x||_?new java.lang.String(y,_,x)+"":y}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(y){f.prototype[y]=function(){return null}});function g(y,_){y.currentElement?y.currentElement.appendChild(_):y.doc.appendChild(_)}return g0.__DOMHandler=f,g0.normalizeLineEndings=l,g0.DOMParser=c,g0}var fj;function Y9e(){if(fj)return m0;fj=1;var t=Y6();return m0.DOMImplementation=t.DOMImplementation,m0.XMLSerializer=t.XMLSerializer,m0.DOMParser=X9e().DOMParser,m0}var hj;function Q9e(){if(hj)return n2;hj=1;var t=Y9e(),e=Y6();function n(r){var i=null,s=new t.DOMParser({errorHandler:function(o,l){i={level:o,message:l}}}),a=s.parseFromString(r);if(i===null)return a;throw new Error(i.level+": "+i.message)}return n2.parseFromString=n,n2.Node=e.Node,n2}var pj;function Z9e(){if(pj)return nD;pj=1;var t=Ed(),e=mi,n=Q9e(),r=tQ(),i=r.Element;nD.readString=a;var s=n.Node;function a(o,l){l=l||{};try{var c=n.parseFromString(o,"text/xml")}catch(p){return t.reject(p)}if(c.documentElement.tagName==="parsererror")return t.resolve(new Error(c.documentElement.textContent));function u(p){switch(p.nodeType){case s.ELEMENT_NODE:return f(p);case s.TEXT_NODE:return r.text(p.nodeValue)}}function f(p){var v=h(p),g=[];e.forEach(p.childNodes,function(_){var x=u(_);x&&g.push(x)});var y={};return e.forEach(p.attributes,function(_){y[h(_)]=_.value}),new i(v,y,g)}function h(p){if(p.namespaceURI){var v=l[p.namespaceURI],g;return v?g=v+":":g="{"+p.namespaceURI+"}",g+p.localName}else return p.localName}return t.resolve(u(c.documentElement))}return nD}var iD={},zd={},gl={},mj;function Cd(){return mj||(mj=1,(function(){var t,e,n,r,i,s,a,o=[].slice,l={}.hasOwnProperty;t=function(){var c,u,f,h,p,v;if(v=arguments[0],p=2<=arguments.length?o.call(arguments,1):[],i(Object.assign))Object.assign.apply(null,arguments);else for(c=0,f=p.length;c<f;c++)if(h=p[c],h!=null)for(u in h)l.call(h,u)&&(v[u]=h[u]);return v},i=function(c){return!!c&&Object.prototype.toString.call(c)==="[object Function]"},s=function(c){var u;return!!c&&((u=typeof c)=="function"||u==="object")},n=function(c){return i(Array.isArray)?Array.isArray(c):Object.prototype.toString.call(c)==="[object Array]"},r=function(c){var u;if(n(c))return!c.length;for(u in c)if(l.call(c,u))return!1;return!0},a=function(c){var u,f;return s(c)&&(f=Object.getPrototypeOf(c))&&(u=f.constructor)&&typeof u=="function"&&u instanceof u&&Function.prototype.toString.call(u)===Function.prototype.toString.call(Object)},e=function(c){return i(c.valueOf)?c.valueOf():c},gl.assign=t,gl.isFunction=i,gl.isObject=s,gl.isArray=n,gl.isEmpty=r,gl.isPlainObject=a,gl.getValue=e}).call(gl)),gl}var R2={exports:{}},P2={exports:{}},F2={exports:{}},M2={exports:{}},e7e=M2.exports,gj;function nQ(){return gj||(gj=1,(function(){M2.exports=(function(){function t(e,n,r){if(this.options=e.options,this.stringify=e.stringify,this.parent=e,n==null)throw new Error("Missing attribute name. "+this.debugInfo(n));if(r==null)throw new Error("Missing attribute value. "+this.debugInfo(n));this.name=this.stringify.attName(n),this.value=this.stringify.attValue(r)}return t.prototype.clone=function(){return Object.create(this)},t.prototype.toString=function(e){return this.options.writer.set(e).attribute(this)},t.prototype.debugInfo=function(e){return e=e||this.name,e==null?"parent: <"+this.parent.name+">":"attribute: {"+e+"}, parent: <"+this.parent.name+">"},t})()}).call(e7e)),M2.exports}var t7e=F2.exports,yj;function rT(){return yj||(yj=1,(function(){var t,e,n,r,i,s,a=function(l,c){for(var u in c)o.call(c,u)&&(l[u]=c[u]);function f(){this.constructor=l}return f.prototype=c.prototype,l.prototype=new f,l.__super__=c.prototype,l},o={}.hasOwnProperty;s=Cd(),i=s.isObject,r=s.isFunction,n=s.getValue,e=Ea(),t=nQ(),F2.exports=(function(l){a(c,l);function c(u,f,h){if(c.__super__.constructor.call(this,u),f==null)throw new Error("Missing element name. "+this.debugInfo());this.name=this.stringify.eleName(f),this.attributes={},h!=null&&this.attribute(h),u.isDocument&&(this.isRoot=!0,this.documentObject=u,u.rootObject=this)}return c.prototype.clone=function(){var u,f,h,p;h=Object.create(this),h.isRoot&&(h.documentObject=null),h.attributes={},p=this.attributes;for(f in p)o.call(p,f)&&(u=p[f],h.attributes[f]=u.clone());return h.children=[],this.children.forEach(function(v){var g;return g=v.clone(),g.parent=h,h.children.push(g)}),h},c.prototype.attribute=function(u,f){var h,p;if(u!=null&&(u=n(u)),i(u))for(h in u)o.call(u,h)&&(p=u[h],this.attribute(h,p));else r(f)&&(f=f.apply()),(!this.options.skipNullAttributes||f!=null)&&(this.attributes[u]=new t(this,u,f));return this},c.prototype.removeAttribute=function(u){var f,h,p;if(u==null)throw new Error("Missing attribute name. "+this.debugInfo());if(u=n(u),Array.isArray(u))for(h=0,p=u.length;h<p;h++)f=u[h],delete this.attributes[f];else delete this.attributes[u];return this},c.prototype.toString=function(u){return this.options.writer.set(u).element(this)},c.prototype.att=function(u,f){return this.attribute(u,f)},c.prototype.a=function(u,f){return this.attribute(u,f)},c})(e)}).call(t7e)),F2.exports}var U2={exports:{}},n7e=U2.exports,vj;function iT(){return vj||(vj=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=Ea(),U2.exports=(function(r){e(i,r);function i(s,a){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing CDATA text. "+this.debugInfo());this.text=this.stringify.cdata(a)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).cdata(this)},i})(t)}).call(n7e)),U2.exports}var O2={exports:{}},r7e=O2.exports,xj;function sT(){return xj||(xj=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=Ea(),O2.exports=(function(r){e(i,r);function i(s,a){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing comment text. "+this.debugInfo());this.text=this.stringify.comment(a)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).comment(this)},i})(t)}).call(r7e)),O2.exports}var L2={exports:{}},i7e=L2.exports,bj;function aT(){return bj||(bj=1,(function(){var t,e,n=function(i,s){for(var a in s)r.call(s,a)&&(i[a]=s[a]);function o(){this.constructor=i}return o.prototype=s.prototype,i.prototype=new o,i.__super__=s.prototype,i},r={}.hasOwnProperty;e=Cd().isObject,t=Ea(),L2.exports=(function(i){n(s,i);function s(a,o,l,c){var u;s.__super__.constructor.call(this,a),e(o)&&(u=o,o=u.version,l=u.encoding,c=u.standalone),o||(o="1.0"),this.version=this.stringify.xmlVersion(o),l!=null&&(this.encoding=this.stringify.xmlEncoding(l)),c!=null&&(this.standalone=this.stringify.xmlStandalone(c))}return s.prototype.toString=function(a){return this.options.writer.set(a).declaration(this)},s})(t)}).call(i7e)),L2.exports}var j2={exports:{}},B2={exports:{}},s7e=B2.exports,_j;function oT(){return _j||(_j=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=Ea(),B2.exports=(function(r){e(i,r);function i(s,a,o,l,c,u){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing DTD element name. "+this.debugInfo());if(o==null)throw new Error("Missing DTD attribute name. "+this.debugInfo(a));if(!l)throw new Error("Missing DTD attribute type. "+this.debugInfo(a));if(!c)throw new Error("Missing DTD attribute default. "+this.debugInfo(a));if(c.indexOf("#")!==0&&(c="#"+c),!c.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(a));if(u&&!c.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(a));this.elementName=this.stringify.eleName(a),this.attributeName=this.stringify.attName(o),this.attributeType=this.stringify.dtdAttType(l),this.defaultValue=this.stringify.dtdAttDefault(u),this.defaultValueType=c}return i.prototype.toString=function(s){return this.options.writer.set(s).dtdAttList(this)},i})(t)}).call(s7e)),B2.exports}var V2={exports:{}},a7e=V2.exports,wj;function lT(){return wj||(wj=1,(function(){var t,e,n=function(i,s){for(var a in s)r.call(s,a)&&(i[a]=s[a]);function o(){this.constructor=i}return o.prototype=s.prototype,i.prototype=new o,i.__super__=s.prototype,i},r={}.hasOwnProperty;e=Cd().isObject,t=Ea(),V2.exports=(function(i){n(s,i);function s(a,o,l,c){if(s.__super__.constructor.call(this,a),l==null)throw new Error("Missing DTD entity name. "+this.debugInfo(l));if(c==null)throw new Error("Missing DTD entity value. "+this.debugInfo(l));if(this.pe=!!o,this.name=this.stringify.eleName(l),!e(c))this.value=this.stringify.dtdEntityValue(c);else{if(!c.pubID&&!c.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(l));if(c.pubID&&!c.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(l));if(c.pubID!=null&&(this.pubID=this.stringify.dtdPubID(c.pubID)),c.sysID!=null&&(this.sysID=this.stringify.dtdSysID(c.sysID)),c.nData!=null&&(this.nData=this.stringify.dtdNData(c.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(l))}}return s.prototype.toString=function(a){return this.options.writer.set(a).dtdEntity(this)},s})(t)}).call(a7e)),V2.exports}var W2={exports:{}},o7e=W2.exports,Tj;function cT(){return Tj||(Tj=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=Ea(),W2.exports=(function(r){e(i,r);function i(s,a,o){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing DTD element name. "+this.debugInfo());o||(o="(#PCDATA)"),Array.isArray(o)&&(o="("+o.join(",")+")"),this.name=this.stringify.eleName(a),this.value=this.stringify.dtdElementValue(o)}return i.prototype.toString=function(s){return this.options.writer.set(s).dtdElement(this)},i})(t)}).call(o7e)),W2.exports}var q2={exports:{}},l7e=q2.exports,Ej;function uT(){return Ej||(Ej=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=Ea(),q2.exports=(function(r){e(i,r);function i(s,a,o){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing DTD notation name. "+this.debugInfo(a));if(!o.pubID&&!o.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(a));this.name=this.stringify.eleName(a),o.pubID!=null&&(this.pubID=this.stringify.dtdPubID(o.pubID)),o.sysID!=null&&(this.sysID=this.stringify.dtdSysID(o.sysID))}return i.prototype.toString=function(s){return this.options.writer.set(s).dtdNotation(this)},i})(t)}).call(l7e)),q2.exports}var c7e=j2.exports,Cj;function dT(){return Cj||(Cj=1,(function(){var t,e,n,r,i,s,a=function(l,c){for(var u in c)o.call(c,u)&&(l[u]=c[u]);function f(){this.constructor=l}return f.prototype=c.prototype,l.prototype=new f,l.__super__=c.prototype,l},o={}.hasOwnProperty;s=Cd().isObject,i=Ea(),t=oT(),n=lT(),e=cT(),r=uT(),j2.exports=(function(l){a(c,l);function c(u,f,h){var p,v;c.__super__.constructor.call(this,u),this.name="!DOCTYPE",this.documentObject=u,s(f)&&(p=f,f=p.pubID,h=p.sysID),h==null&&(v=[f,h],h=v[0],f=v[1]),f!=null&&(this.pubID=this.stringify.dtdPubID(f)),h!=null&&(this.sysID=this.stringify.dtdSysID(h))}return c.prototype.element=function(u,f){var h;return h=new e(this,u,f),this.children.push(h),this},c.prototype.attList=function(u,f,h,p,v){var g;return g=new t(this,u,f,h,p,v),this.children.push(g),this},c.prototype.entity=function(u,f){var h;return h=new n(this,!1,u,f),this.children.push(h),this},c.prototype.pEntity=function(u,f){var h;return h=new n(this,!0,u,f),this.children.push(h),this},c.prototype.notation=function(u,f){var h;return h=new r(this,u,f),this.children.push(h),this},c.prototype.toString=function(u){return this.options.writer.set(u).docType(this)},c.prototype.ele=function(u,f){return this.element(u,f)},c.prototype.att=function(u,f,h,p,v){return this.attList(u,f,h,p,v)},c.prototype.ent=function(u,f){return this.entity(u,f)},c.prototype.pent=function(u,f){return this.pEntity(u,f)},c.prototype.not=function(u,f){return this.notation(u,f)},c.prototype.up=function(){return this.root()||this.documentObject},c})(i)}).call(c7e)),j2.exports}var $2={exports:{}},u7e=$2.exports,Sj;function fT(){return Sj||(Sj=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=Ea(),$2.exports=(function(r){e(i,r);function i(s,a){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing raw text. "+this.debugInfo());this.value=this.stringify.raw(a)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).raw(this)},i})(t)}).call(u7e)),$2.exports}var z2={exports:{}},d7e=z2.exports,Dj;function hT(){return Dj||(Dj=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=Ea(),z2.exports=(function(r){e(i,r);function i(s,a){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing element text. "+this.debugInfo());this.value=this.stringify.eleText(a)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).text(this)},i})(t)}).call(d7e)),z2.exports}var H2={exports:{}},f7e=H2.exports,Aj;function pT(){return Aj||(Aj=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=Ea(),H2.exports=(function(r){e(i,r);function i(s,a,o){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing instruction target. "+this.debugInfo());this.target=this.stringify.insTarget(a),o&&(this.value=this.stringify.insValue(o))}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).processingInstruction(this)},i})(t)}).call(f7e)),H2.exports}var G2={exports:{}},h7e=G2.exports,Nj;function Q6(){return Nj||(Nj=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=Ea(),G2.exports=(function(r){e(i,r);function i(s){i.__super__.constructor.call(this,s),this.isDummy=!0}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return""},i})(t)}).call(h7e)),G2.exports}var p7e=P2.exports,kj;function Ea(){return kj||(kj=1,(function(){var t,e,n,r,i,s,a,o,l,c,u,f,h,p,v={}.hasOwnProperty;p=Cd(),h=p.isObject,f=p.isFunction,u=p.isEmpty,c=p.getValue,s=null,t=null,e=null,n=null,r=null,o=null,l=null,a=null,i=null,P2.exports=(function(){function g(y){this.parent=y,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.children=[],s||(s=rT(),t=iT(),e=sT(),n=aT(),r=dT(),o=fT(),l=hT(),a=pT(),i=Q6())}return g.prototype.element=function(y,_,x){var w,C,S,R,D,N,I,F,P,k,U;if(N=null,_===null&&x==null&&(P=[{},null],_=P[0],x=P[1]),_==null&&(_={}),_=c(_),h(_)||(k=[_,x],x=k[0],_=k[1]),y!=null&&(y=c(y)),Array.isArray(y))for(S=0,I=y.length;S<I;S++)C=y[S],N=this.element(C);else if(f(y))N=this.element(y.apply());else if(h(y)){for(D in y)if(v.call(y,D))if(U=y[D],f(U)&&(U=U.apply()),h(U)&&u(U)&&(U=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&D.indexOf(this.stringify.convertAttKey)===0)N=this.attribute(D.substr(this.stringify.convertAttKey.length),U);else if(!this.options.separateArrayItems&&Array.isArray(U))for(R=0,F=U.length;R<F;R++)C=U[R],w={},w[D]=C,N=this.element(w);else h(U)?(N=this.element(D),N.element(U)):N=this.element(D,U)}else this.options.skipNullNodes&&x===null?N=this.dummy():!this.options.ignoreDecorators&&this.stringify.convertTextKey&&y.indexOf(this.stringify.convertTextKey)===0?N=this.text(x):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&y.indexOf(this.stringify.convertCDataKey)===0?N=this.cdata(x):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&y.indexOf(this.stringify.convertCommentKey)===0?N=this.comment(x):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&y.indexOf(this.stringify.convertRawKey)===0?N=this.raw(x):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&y.indexOf(this.stringify.convertPIKey)===0?N=this.instruction(y.substr(this.stringify.convertPIKey.length),x):N=this.node(y,_,x);if(N==null)throw new Error("Could not create any elements with: "+y+". "+this.debugInfo());return N},g.prototype.insertBefore=function(y,_,x){var w,C,S;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(y));return C=this.parent.children.indexOf(this),S=this.parent.children.splice(C),w=this.parent.element(y,_,x),Array.prototype.push.apply(this.parent.children,S),w},g.prototype.insertAfter=function(y,_,x){var w,C,S;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(y));return C=this.parent.children.indexOf(this),S=this.parent.children.splice(C+1),w=this.parent.element(y,_,x),Array.prototype.push.apply(this.parent.children,S),w},g.prototype.remove=function(){var y;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return y=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[y,y-y+1].concat([])),this.parent},g.prototype.node=function(y,_,x){var w,C;return y!=null&&(y=c(y)),_||(_={}),_=c(_),h(_)||(C=[_,x],x=C[0],_=C[1]),w=new s(this,y,_),x!=null&&w.text(x),this.children.push(w),w},g.prototype.text=function(y){var _;return _=new l(this,y),this.children.push(_),this},g.prototype.cdata=function(y){var _;return _=new t(this,y),this.children.push(_),this},g.prototype.comment=function(y){var _;return _=new e(this,y),this.children.push(_),this},g.prototype.commentBefore=function(y){var _,x;return _=this.parent.children.indexOf(this),x=this.parent.children.splice(_),this.parent.comment(y),Array.prototype.push.apply(this.parent.children,x),this},g.prototype.commentAfter=function(y){var _,x;return _=this.parent.children.indexOf(this),x=this.parent.children.splice(_+1),this.parent.comment(y),Array.prototype.push.apply(this.parent.children,x),this},g.prototype.raw=function(y){var _;return _=new o(this,y),this.children.push(_),this},g.prototype.dummy=function(){var y;return y=new i(this),this.children.push(y),y},g.prototype.instruction=function(y,_){var x,w,C,S,R;if(y!=null&&(y=c(y)),_!=null&&(_=c(_)),Array.isArray(y))for(S=0,R=y.length;S<R;S++)x=y[S],this.instruction(x);else if(h(y))for(x in y)v.call(y,x)&&(w=y[x],this.instruction(x,w));else f(_)&&(_=_.apply()),C=new a(this,y,_),this.children.push(C);return this},g.prototype.instructionBefore=function(y,_){var x,w;return x=this.parent.children.indexOf(this),w=this.parent.children.splice(x),this.parent.instruction(y,_),Array.prototype.push.apply(this.parent.children,w),this},g.prototype.instructionAfter=function(y,_){var x,w;return x=this.parent.children.indexOf(this),w=this.parent.children.splice(x+1),this.parent.instruction(y,_),Array.prototype.push.apply(this.parent.children,w),this},g.prototype.declaration=function(y,_,x){var w,C;return w=this.document(),C=new n(w,y,_,x),w.children[0]instanceof n?w.children[0]=C:w.children.unshift(C),w.root()||w},g.prototype.doctype=function(y,_){var x,w,C,S,R,D,N,I,F,P;for(w=this.document(),C=new r(w,y,_),F=w.children,S=R=0,N=F.length;R<N;S=++R)if(x=F[S],x instanceof r)return w.children[S]=C,C;for(P=w.children,S=D=0,I=P.length;D<I;S=++D)if(x=P[S],x.isRoot)return w.children.splice(S,0,C),C;return w.children.push(C),C},g.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},g.prototype.root=function(){var y;for(y=this;y;){if(y.isDocument)return y.rootObject;if(y.isRoot)return y;y=y.parent}},g.prototype.document=function(){var y;for(y=this;y;){if(y.isDocument)return y;y=y.parent}},g.prototype.end=function(y){return this.document().end(y)},g.prototype.prev=function(){var y;for(y=this.parent.children.indexOf(this);y>0&&this.parent.children[y-1].isDummy;)y=y-1;if(y<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[y-1]},g.prototype.next=function(){var y;for(y=this.parent.children.indexOf(this);y<this.parent.children.length-1&&this.parent.children[y+1].isDummy;)y=y+1;if(y===-1||y===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[y+1]},g.prototype.importDocument=function(y){var _;return _=y.root().clone(),_.parent=this,_.isRoot=!1,this.children.push(_),this},g.prototype.debugInfo=function(y){var _,x;return y=y||this.name,y==null&&!((_=this.parent)!=null&&_.name)?"":y==null?"parent: <"+this.parent.name+">":(x=this.parent)!=null&&x.name?"node: <"+y+">, parent: <"+this.parent.name+">":"node: <"+y+">"},g.prototype.ele=function(y,_,x){return this.element(y,_,x)},g.prototype.nod=function(y,_,x){return this.node(y,_,x)},g.prototype.txt=function(y){return this.text(y)},g.prototype.dat=function(y){return this.cdata(y)},g.prototype.com=function(y){return this.comment(y)},g.prototype.ins=function(y,_){return this.instruction(y,_)},g.prototype.doc=function(){return this.document()},g.prototype.dec=function(y,_,x){return this.declaration(y,_,x)},g.prototype.dtd=function(y,_){return this.doctype(y,_)},g.prototype.e=function(y,_,x){return this.element(y,_,x)},g.prototype.n=function(y,_,x){return this.node(y,_,x)},g.prototype.t=function(y){return this.text(y)},g.prototype.d=function(y){return this.cdata(y)},g.prototype.c=function(y){return this.comment(y)},g.prototype.r=function(y){return this.raw(y)},g.prototype.i=function(y,_){return this.instruction(y,_)},g.prototype.u=function(){return this.up()},g.prototype.importXMLBuilder=function(y){return this.importDocument(y)},g})()}).call(p7e)),P2.exports}var K2={exports:{}},m7e=K2.exports,Ij;function rQ(){return Ij||(Ij=1,(function(){var t=function(n,r){return function(){return n.apply(r,arguments)}},e={}.hasOwnProperty;K2.exports=(function(){function n(r){this.assertLegalChar=t(this.assertLegalChar,this);var i,s,a;r||(r={}),this.noDoubleEncoding=r.noDoubleEncoding,s=r.stringify||{};for(i in s)e.call(s,i)&&(a=s[i],this[i]=a)}return n.prototype.eleName=function(r){return r=""+r||"",this.assertLegalChar(r)},n.prototype.eleText=function(r){return r=""+r||"",this.assertLegalChar(this.elEscape(r))},n.prototype.cdata=function(r){return r=""+r||"",r=r.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(r)},n.prototype.comment=function(r){if(r=""+r||"",r.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+r);return this.assertLegalChar(r)},n.prototype.raw=function(r){return""+r||""},n.prototype.attName=function(r){return r=""+r||""},n.prototype.attValue=function(r){return r=""+r||"",this.attEscape(r)},n.prototype.insTarget=function(r){return""+r||""},n.prototype.insValue=function(r){if(r=""+r||"",r.match(/\?>/))throw new Error("Invalid processing instruction value: "+r);return r},n.prototype.xmlVersion=function(r){if(r=""+r||"",!r.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+r);return r},n.prototype.xmlEncoding=function(r){if(r=""+r||"",!r.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+r);return r},n.prototype.xmlStandalone=function(r){return r?"yes":"no"},n.prototype.dtdPubID=function(r){return""+r||""},n.prototype.dtdSysID=function(r){return""+r||""},n.prototype.dtdElementValue=function(r){return""+r||""},n.prototype.dtdAttType=function(r){return""+r||""},n.prototype.dtdAttDefault=function(r){return r!=null?""+r||"":r},n.prototype.dtdEntityValue=function(r){return""+r||""},n.prototype.dtdNData=function(r){return""+r||""},n.prototype.convertAttKey="@",n.prototype.convertPIKey="?",n.prototype.convertTextKey="#text",n.prototype.convertCDataKey="#cdata",n.prototype.convertCommentKey="#comment",n.prototype.convertRawKey="#raw",n.prototype.assertLegalChar=function(r){var i;if(i=r.match(/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/),i)throw new Error("Invalid character in string: "+r+" at index "+i.index);return r},n.prototype.elEscape=function(r){var i;return i=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,r.replace(i,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},n.prototype.attEscape=function(r){var i;return i=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,r.replace(i,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},n})()}).call(m7e)),K2.exports}var J2={exports:{}},X2={exports:{}},g7e=X2.exports,Rj;function iQ(){return Rj||(Rj=1,(function(){var t={}.hasOwnProperty;X2.exports=(function(){function e(n){var r,i,s,a,o,l,c,u,f;n||(n={}),this.pretty=n.pretty||!1,this.allowEmpty=(i=n.allowEmpty)!=null?i:!1,this.pretty?(this.indent=(s=n.indent)!=null?s:"  ",this.newline=(a=n.newline)!=null?a:`
`,this.offset=(o=n.offset)!=null?o:0,this.dontprettytextnodes=(l=n.dontprettytextnodes)!=null?l:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash=(c=n.spacebeforeslash)!=null?c:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,u=n.writer||{};for(r in u)t.call(u,r)&&(f=u[r],this[r]=f)}return e.prototype.set=function(n){var r,i,s;n||(n={}),"pretty"in n&&(this.pretty=n.pretty),"allowEmpty"in n&&(this.allowEmpty=n.allowEmpty),this.pretty?(this.indent="indent"in n?n.indent:"  ",this.newline="newline"in n?n.newline:`
`,this.offset="offset"in n?n.offset:0,this.dontprettytextnodes="dontprettytextnodes"in n?n.dontprettytextnodes:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash="spacebeforeslash"in n?n.spacebeforeslash:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,i=n.writer||{};for(r in i)t.call(i,r)&&(s=i[r],this[r]=s);return this},e.prototype.space=function(n){var r;return this.pretty?(r=(n||0)+this.offset+1,r>0?new Array(r).join(this.indent):""):""},e})()}).call(g7e)),X2.exports}var y7e=J2.exports,Pj;function Z6(){return Pj||(Pj=1,(function(){var t,e,n,r,i,s,a,o,l,c,u,f,h,p,v=function(y,_){for(var x in _)g.call(_,x)&&(y[x]=_[x]);function w(){this.constructor=y}return w.prototype=_.prototype,y.prototype=new w,y.__super__=_.prototype,y},g={}.hasOwnProperty;a=aT(),o=dT(),t=iT(),e=sT(),c=rT(),f=fT(),h=hT(),u=pT(),l=Q6(),n=oT(),r=cT(),i=lT(),s=uT(),p=iQ(),J2.exports=(function(y){v(_,y);function _(x){_.__super__.constructor.call(this,x)}return _.prototype.document=function(x){var w,C,S,R,D;for(this.textispresent=!1,R="",D=x.children,C=0,S=D.length;C<S;C++)w=D[C],!(w instanceof l)&&(R+=(function(){switch(!1){case!(w instanceof a):return this.declaration(w);case!(w instanceof o):return this.docType(w);case!(w instanceof e):return this.comment(w);case!(w instanceof u):return this.processingInstruction(w);default:return this.element(w,0)}}).call(this));return this.pretty&&R.slice(-this.newline.length)===this.newline&&(R=R.slice(0,-this.newline.length)),R},_.prototype.attribute=function(x){return" "+x.name+'="'+x.value+'"'},_.prototype.cdata=function(x,w){return this.space(w)+"<![CDATA["+x.text+"]]>"+this.newline},_.prototype.comment=function(x,w){return this.space(w)+"<!-- "+x.text+" -->"+this.newline},_.prototype.declaration=function(x,w){var C;return C=this.space(w),C+='<?xml version="'+x.version+'"',x.encoding!=null&&(C+=' encoding="'+x.encoding+'"'),x.standalone!=null&&(C+=' standalone="'+x.standalone+'"'),C+=this.spacebeforeslash+"?>",C+=this.newline,C},_.prototype.docType=function(x,w){var C,S,R,D,N;if(w||(w=0),D=this.space(w),D+="<!DOCTYPE "+x.root().name,x.pubID&&x.sysID?D+=' PUBLIC "'+x.pubID+'" "'+x.sysID+'"':x.sysID&&(D+=' SYSTEM "'+x.sysID+'"'),x.children.length>0){for(D+=" [",D+=this.newline,N=x.children,S=0,R=N.length;S<R;S++)C=N[S],D+=(function(){switch(!1){case!(C instanceof n):return this.dtdAttList(C,w+1);case!(C instanceof r):return this.dtdElement(C,w+1);case!(C instanceof i):return this.dtdEntity(C,w+1);case!(C instanceof s):return this.dtdNotation(C,w+1);case!(C instanceof t):return this.cdata(C,w+1);case!(C instanceof e):return this.comment(C,w+1);case!(C instanceof u):return this.processingInstruction(C,w+1);default:throw new Error("Unknown DTD node type: "+C.constructor.name)}}).call(this);D+="]"}return D+=this.spacebeforeslash+">",D+=this.newline,D},_.prototype.element=function(x,w){var C,S,R,D,N,I,F,P,k,U,O,H,G;w||(w=0),G=!1,this.textispresent?(this.newline="",this.pretty=!1):(this.newline=this.newlinedefault,this.pretty=this.prettydefault),H=this.space(w),P="",P+=H+"<"+x.name,k=x.attributes;for(F in k)g.call(k,F)&&(C=k[F],P+=this.attribute(C));if(x.children.length===0||x.children.every(function(X){return X.value===""}))this.allowEmpty?P+="></"+x.name+">"+this.newline:P+=this.spacebeforeslash+"/>"+this.newline;else if(this.pretty&&x.children.length===1&&x.children[0].value!=null)P+=">",P+=x.children[0].value,P+="</"+x.name+">"+this.newline;else{if(this.dontprettytextnodes){for(U=x.children,R=0,N=U.length;R<N;R++)if(S=U[R],S.value!=null){this.textispresent++,G=!0;break}}for(this.textispresent&&(this.newline="",this.pretty=!1,H=this.space(w)),P+=">"+this.newline,O=x.children,D=0,I=O.length;D<I;D++)S=O[D],P+=(function(){switch(!1){case!(S instanceof t):return this.cdata(S,w+1);case!(S instanceof e):return this.comment(S,w+1);case!(S instanceof c):return this.element(S,w+1);case!(S instanceof f):return this.raw(S,w+1);case!(S instanceof h):return this.text(S,w+1);case!(S instanceof u):return this.processingInstruction(S,w+1);case!(S instanceof l):return"";default:throw new Error("Unknown XML node type: "+S.constructor.name)}}).call(this);G&&this.textispresent--,this.textispresent||(this.newline=this.newlinedefault,this.pretty=this.prettydefault),P+=H+"</"+x.name+">"+this.newline}return P},_.prototype.processingInstruction=function(x,w){var C;return C=this.space(w)+"<?"+x.target,x.value&&(C+=" "+x.value),C+=this.spacebeforeslash+"?>"+this.newline,C},_.prototype.raw=function(x,w){return this.space(w)+x.value+this.newline},_.prototype.text=function(x,w){return this.space(w)+x.value+this.newline},_.prototype.dtdAttList=function(x,w){var C;return C=this.space(w)+"<!ATTLIST "+x.elementName+" "+x.attributeName+" "+x.attributeType,x.defaultValueType!=="#DEFAULT"&&(C+=" "+x.defaultValueType),x.defaultValue&&(C+=' "'+x.defaultValue+'"'),C+=this.spacebeforeslash+">"+this.newline,C},_.prototype.dtdElement=function(x,w){return this.space(w)+"<!ELEMENT "+x.name+" "+x.value+this.spacebeforeslash+">"+this.newline},_.prototype.dtdEntity=function(x,w){var C;return C=this.space(w)+"<!ENTITY",x.pe&&(C+=" %"),C+=" "+x.name,x.value?C+=' "'+x.value+'"':(x.pubID&&x.sysID?C+=' PUBLIC "'+x.pubID+'" "'+x.sysID+'"':x.sysID&&(C+=' SYSTEM "'+x.sysID+'"'),x.nData&&(C+=" NDATA "+x.nData)),C+=this.spacebeforeslash+">"+this.newline,C},_.prototype.dtdNotation=function(x,w){var C;return C=this.space(w)+"<!NOTATION "+x.name,x.pubID&&x.sysID?C+=' PUBLIC "'+x.pubID+'" "'+x.sysID+'"':x.pubID?C+=' PUBLIC "'+x.pubID+'"':x.sysID&&(C+=' SYSTEM "'+x.sysID+'"'),C+=this.spacebeforeslash+">"+this.newline,C},_.prototype.openNode=function(x,w){var C,S,R,D;if(w||(w=0),x instanceof c){R=this.space(w)+"<"+x.name,D=x.attributes;for(S in D)g.call(D,S)&&(C=D[S],R+=this.attribute(C));return R+=(x.children?">":"/>")+this.newline,R}else return R=this.space(w)+"<!DOCTYPE "+x.rootNodeName,x.pubID&&x.sysID?R+=' PUBLIC "'+x.pubID+'" "'+x.sysID+'"':x.sysID&&(R+=' SYSTEM "'+x.sysID+'"'),R+=(x.children?" [":">")+this.newline,R},_.prototype.closeNode=function(x,w){switch(w||(w=0),!1){case!(x instanceof c):return this.space(w)+"</"+x.name+">"+this.newline;case!(x instanceof o):return this.space(w)+"]>"+this.newline}},_})(p)}).call(y7e)),J2.exports}var v7e=R2.exports,Fj;function x7e(){return Fj||(Fj=1,(function(){var t,e,n,r,i=function(a,o){for(var l in o)s.call(o,l)&&(a[l]=o[l]);function c(){this.constructor=a}return c.prototype=o.prototype,a.prototype=new c,a.__super__=o.prototype,a},s={}.hasOwnProperty;r=Cd().isPlainObject,t=Ea(),n=rQ(),e=Z6(),R2.exports=(function(a){i(o,a);function o(l){o.__super__.constructor.call(this,null),this.name="?xml",l||(l={}),l.writer||(l.writer=new e),this.options=l,this.stringify=new n(l),this.isDocument=!0}return o.prototype.end=function(l){var c;return l?r(l)&&(c=l,l=this.options.writer.set(c)):l=this.options.writer,l.document(this)},o.prototype.toString=function(l){return this.options.writer.set(l).document(this)},o})(t)}).call(v7e)),R2.exports}var Y2={exports:{}},b7e=Y2.exports,Mj;function _7e(){return Mj||(Mj=1,(function(){var t,e,n,r,i,s,a,o,l,c,u,f,h,p,v,g,y,_,x,w,C={}.hasOwnProperty;w=Cd(),_=w.isObject,y=w.isFunction,x=w.isPlainObject,g=w.getValue,c=rT(),e=iT(),n=sT(),f=fT(),v=hT(),u=pT(),o=aT(),l=dT(),r=oT(),s=lT(),i=cT(),a=uT(),t=nQ(),p=rQ(),h=Z6(),Y2.exports=(function(){function S(R,D,N){var I;this.name="?xml",R||(R={}),R.writer?x(R.writer)&&(I=R.writer,R.writer=new h(I)):R.writer=new h(R),this.options=R,this.writer=R.writer,this.stringify=new p(R),this.onDataCallback=D||function(){},this.onEndCallback=N||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return S.prototype.node=function(R,D,N){var I,F;if(R==null)throw new Error("Missing node name.");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node. "+this.debugInfo(R));return this.openCurrent(),R=g(R),D===null&&N==null&&(I=[{},null],D=I[0],N=I[1]),D==null&&(D={}),D=g(D),_(D)||(F=[D,N],N=F[0],D=F[1]),this.currentNode=new c(this,R,D),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,N!=null&&this.text(N),this},S.prototype.element=function(R,D,N){return this.currentNode&&this.currentNode instanceof l?this.dtdElement.apply(this,arguments):this.node(R,D,N)},S.prototype.attribute=function(R,D){var N,I;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(R));if(R!=null&&(R=g(R)),_(R))for(N in R)C.call(R,N)&&(I=R[N],this.attribute(N,I));else y(D)&&(D=D.apply()),(!this.options.skipNullAttributes||D!=null)&&(this.currentNode.attributes[R]=new t(this,R,D));return this},S.prototype.text=function(R){var D;return this.openCurrent(),D=new v(this,R),this.onData(this.writer.text(D,this.currentLevel+1),this.currentLevel+1),this},S.prototype.cdata=function(R){var D;return this.openCurrent(),D=new e(this,R),this.onData(this.writer.cdata(D,this.currentLevel+1),this.currentLevel+1),this},S.prototype.comment=function(R){var D;return this.openCurrent(),D=new n(this,R),this.onData(this.writer.comment(D,this.currentLevel+1),this.currentLevel+1),this},S.prototype.raw=function(R){var D;return this.openCurrent(),D=new f(this,R),this.onData(this.writer.raw(D,this.currentLevel+1),this.currentLevel+1),this},S.prototype.instruction=function(R,D){var N,I,F,P,k;if(this.openCurrent(),R!=null&&(R=g(R)),D!=null&&(D=g(D)),Array.isArray(R))for(N=0,P=R.length;N<P;N++)I=R[N],this.instruction(I);else if(_(R))for(I in R)C.call(R,I)&&(F=R[I],this.instruction(I,F));else y(D)&&(D=D.apply()),k=new u(this,R,D),this.onData(this.writer.processingInstruction(k,this.currentLevel+1),this.currentLevel+1);return this},S.prototype.declaration=function(R,D,N){var I;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return I=new o(this,R,D,N),this.onData(this.writer.declaration(I,this.currentLevel+1),this.currentLevel+1),this},S.prototype.doctype=function(R,D,N){if(this.openCurrent(),R==null)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new l(this,D,N),this.currentNode.rootNodeName=R,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},S.prototype.dtdElement=function(R,D){var N;return this.openCurrent(),N=new i(this,R,D),this.onData(this.writer.dtdElement(N,this.currentLevel+1),this.currentLevel+1),this},S.prototype.attList=function(R,D,N,I,F){var P;return this.openCurrent(),P=new r(this,R,D,N,I,F),this.onData(this.writer.dtdAttList(P,this.currentLevel+1),this.currentLevel+1),this},S.prototype.entity=function(R,D){var N;return this.openCurrent(),N=new s(this,!1,R,D),this.onData(this.writer.dtdEntity(N,this.currentLevel+1),this.currentLevel+1),this},S.prototype.pEntity=function(R,D){var N;return this.openCurrent(),N=new s(this,!0,R,D),this.onData(this.writer.dtdEntity(N,this.currentLevel+1),this.currentLevel+1),this},S.prototype.notation=function(R,D){var N;return this.openCurrent(),N=new a(this,R,D),this.onData(this.writer.dtdNotation(N,this.currentLevel+1),this.currentLevel+1),this},S.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},S.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},S.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},S.prototype.openNode=function(R){if(!R.isOpen)return!this.root&&this.currentLevel===0&&R instanceof c&&(this.root=R),this.onData(this.writer.openNode(R,this.currentLevel),this.currentLevel),R.isOpen=!0},S.prototype.closeNode=function(R){if(!R.isClosed)return this.onData(this.writer.closeNode(R,this.currentLevel),this.currentLevel),R.isClosed=!0},S.prototype.onData=function(R,D){return this.documentStarted=!0,this.onDataCallback(R,D+1)},S.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},S.prototype.debugInfo=function(R){return R==null?"":"node: <"+R+">"},S.prototype.ele=function(){return this.element.apply(this,arguments)},S.prototype.nod=function(R,D,N){return this.node(R,D,N)},S.prototype.txt=function(R){return this.text(R)},S.prototype.dat=function(R){return this.cdata(R)},S.prototype.com=function(R){return this.comment(R)},S.prototype.ins=function(R,D){return this.instruction(R,D)},S.prototype.dec=function(R,D,N){return this.declaration(R,D,N)},S.prototype.dtd=function(R,D,N){return this.doctype(R,D,N)},S.prototype.e=function(R,D,N){return this.element(R,D,N)},S.prototype.n=function(R,D,N){return this.node(R,D,N)},S.prototype.t=function(R){return this.text(R)},S.prototype.d=function(R){return this.cdata(R)},S.prototype.c=function(R){return this.comment(R)},S.prototype.r=function(R){return this.raw(R)},S.prototype.i=function(R,D){return this.instruction(R,D)},S.prototype.att=function(){return this.currentNode&&this.currentNode instanceof l?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},S.prototype.a=function(){return this.currentNode&&this.currentNode instanceof l?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},S.prototype.ent=function(R,D){return this.entity(R,D)},S.prototype.pent=function(R,D){return this.pEntity(R,D)},S.prototype.not=function(R,D){return this.notation(R,D)},S})()}).call(b7e)),Y2.exports}var Q2={exports:{}},w7e=Q2.exports,Uj;function T7e(){return Uj||(Uj=1,(function(){var t,e,n,r,i,s,a,o,l,c,u,f,h,p,v=function(y,_){for(var x in _)g.call(_,x)&&(y[x]=_[x]);function w(){this.constructor=y}return w.prototype=_.prototype,y.prototype=new w,y.__super__=_.prototype,y},g={}.hasOwnProperty;a=aT(),o=dT(),t=iT(),e=sT(),c=rT(),f=fT(),h=hT(),u=pT(),l=Q6(),n=oT(),r=cT(),i=lT(),s=uT(),p=iQ(),Q2.exports=(function(y){v(_,y);function _(x,w){_.__super__.constructor.call(this,w),this.stream=x}return _.prototype.document=function(x){var w,C,S,R,D,N,I,F;for(N=x.children,C=0,R=N.length;C<R;C++)w=N[C],w.isLastRootNode=!1;for(x.children[x.children.length-1].isLastRootNode=!0,I=x.children,F=[],S=0,D=I.length;S<D;S++)if(w=I[S],!(w instanceof l))switch(!1){case!(w instanceof a):F.push(this.declaration(w));break;case!(w instanceof o):F.push(this.docType(w));break;case!(w instanceof e):F.push(this.comment(w));break;case!(w instanceof u):F.push(this.processingInstruction(w));break;default:F.push(this.element(w))}return F},_.prototype.attribute=function(x){return this.stream.write(" "+x.name+'="'+x.value+'"')},_.prototype.cdata=function(x,w){return this.stream.write(this.space(w)+"<![CDATA["+x.text+"]]>"+this.endline(x))},_.prototype.comment=function(x,w){return this.stream.write(this.space(w)+"<!-- "+x.text+" -->"+this.endline(x))},_.prototype.declaration=function(x,w){return this.stream.write(this.space(w)),this.stream.write('<?xml version="'+x.version+'"'),x.encoding!=null&&this.stream.write(' encoding="'+x.encoding+'"'),x.standalone!=null&&this.stream.write(' standalone="'+x.standalone+'"'),this.stream.write(this.spacebeforeslash+"?>"),this.stream.write(this.endline(x))},_.prototype.docType=function(x,w){var C,S,R,D;if(w||(w=0),this.stream.write(this.space(w)),this.stream.write("<!DOCTYPE "+x.root().name),x.pubID&&x.sysID?this.stream.write(' PUBLIC "'+x.pubID+'" "'+x.sysID+'"'):x.sysID&&this.stream.write(' SYSTEM "'+x.sysID+'"'),x.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(x)),D=x.children,S=0,R=D.length;S<R;S++)switch(C=D[S],!1){case!(C instanceof n):this.dtdAttList(C,w+1);break;case!(C instanceof r):this.dtdElement(C,w+1);break;case!(C instanceof i):this.dtdEntity(C,w+1);break;case!(C instanceof s):this.dtdNotation(C,w+1);break;case!(C instanceof t):this.cdata(C,w+1);break;case!(C instanceof e):this.comment(C,w+1);break;case!(C instanceof u):this.processingInstruction(C,w+1);break;default:throw new Error("Unknown DTD node type: "+C.constructor.name)}this.stream.write("]")}return this.stream.write(this.spacebeforeslash+">"),this.stream.write(this.endline(x))},_.prototype.element=function(x,w){var C,S,R,D,N,I,F,P;w||(w=0),P=this.space(w),this.stream.write(P+"<"+x.name),I=x.attributes;for(N in I)g.call(I,N)&&(C=I[N],this.attribute(C));if(x.children.length===0||x.children.every(function(k){return k.value===""}))this.allowEmpty?this.stream.write("></"+x.name+">"):this.stream.write(this.spacebeforeslash+"/>");else if(this.pretty&&x.children.length===1&&x.children[0].value!=null)this.stream.write(">"),this.stream.write(x.children[0].value),this.stream.write("</"+x.name+">");else{for(this.stream.write(">"+this.newline),F=x.children,R=0,D=F.length;R<D;R++)switch(S=F[R],!1){case!(S instanceof t):this.cdata(S,w+1);break;case!(S instanceof e):this.comment(S,w+1);break;case!(S instanceof c):this.element(S,w+1);break;case!(S instanceof f):this.raw(S,w+1);break;case!(S instanceof h):this.text(S,w+1);break;case!(S instanceof u):this.processingInstruction(S,w+1);break;case!(S instanceof l):break;default:throw new Error("Unknown XML node type: "+S.constructor.name)}this.stream.write(P+"</"+x.name+">")}return this.stream.write(this.endline(x))},_.prototype.processingInstruction=function(x,w){return this.stream.write(this.space(w)+"<?"+x.target),x.value&&this.stream.write(" "+x.value),this.stream.write(this.spacebeforeslash+"?>"+this.endline(x))},_.prototype.raw=function(x,w){return this.stream.write(this.space(w)+x.value+this.endline(x))},_.prototype.text=function(x,w){return this.stream.write(this.space(w)+x.value+this.endline(x))},_.prototype.dtdAttList=function(x,w){return this.stream.write(this.space(w)+"<!ATTLIST "+x.elementName+" "+x.attributeName+" "+x.attributeType),x.defaultValueType!=="#DEFAULT"&&this.stream.write(" "+x.defaultValueType),x.defaultValue&&this.stream.write(' "'+x.defaultValue+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(x))},_.prototype.dtdElement=function(x,w){return this.stream.write(this.space(w)+"<!ELEMENT "+x.name+" "+x.value),this.stream.write(this.spacebeforeslash+">"+this.endline(x))},_.prototype.dtdEntity=function(x,w){return this.stream.write(this.space(w)+"<!ENTITY"),x.pe&&this.stream.write(" %"),this.stream.write(" "+x.name),x.value?this.stream.write(' "'+x.value+'"'):(x.pubID&&x.sysID?this.stream.write(' PUBLIC "'+x.pubID+'" "'+x.sysID+'"'):x.sysID&&this.stream.write(' SYSTEM "'+x.sysID+'"'),x.nData&&this.stream.write(" NDATA "+x.nData)),this.stream.write(this.spacebeforeslash+">"+this.endline(x))},_.prototype.dtdNotation=function(x,w){return this.stream.write(this.space(w)+"<!NOTATION "+x.name),x.pubID&&x.sysID?this.stream.write(' PUBLIC "'+x.pubID+'" "'+x.sysID+'"'):x.pubID?this.stream.write(' PUBLIC "'+x.pubID+'"'):x.sysID&&this.stream.write(' SYSTEM "'+x.sysID+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(x))},_.prototype.endline=function(x){return x.isLastRootNode?"":this.newline},_})(p)}).call(w7e)),Q2.exports}var Oj;function E7e(){return Oj||(Oj=1,(function(){var t,e,n,r,i,s,a;a=Cd(),i=a.assign,s=a.isFunction,t=x7e(),e=_7e(),r=Z6(),n=T7e(),zd.create=function(o,l,c,u){var f,h;if(o==null)throw new Error("Root element needs a name.");return u=i({},l,c,u),f=new t(u),h=f.element(o),u.headless||(f.declaration(u),(u.pubID!=null||u.sysID!=null)&&f.doctype(u)),h},zd.begin=function(o,l,c){var u;return s(o)&&(u=[o,l],l=u[0],c=u[1],o={}),l?new e(o,l,c):new t(o)},zd.stringWriter=function(o){return new r(o)},zd.streamWriter=function(o,l){return new n(o,l)}}).call(zd)),zd}var Lj;function C7e(){if(Lj)return iD;Lj=1;var t=mi,e=E7e();iD.writeString=n;function n(i,s){var a=t.invert(s),o={element:c,text:r};function l(h,p){return o[p.type](h,p)}function c(h,p){var v=h.element(u(p.name),p.attributes);p.children.forEach(function(g){l(v,g)})}function u(h){var p=/^\{(.*)\}(.*)$/.exec(h);if(p){var v=a[p[1]];return v+(v===""?"":":")+p[2]}else return h}function f(h){var p=e.create(u(h.name),{version:"1.0",encoding:"UTF-8",standalone:!0});return t.forEach(s,function(v,g){var y="xmlns"+(g===""?"":":"+g);p.attribute(y,v)}),h.children.forEach(function(v){l(p,v)}),p.end()}return f(i)}function r(i,s){i.text(s.value)}return iD}var jj;function sQ(){if(jj)return qd;jj=1;var t=tQ();return qd.Element=t.Element,qd.element=t.element,qd.text=t.text,qd.readString=Z9e().readString,qd.writeString=C7e().writeString,qd}var Bj;function S7e(){if(Bj)return t2;Bj=1;var t=mi,e=Ed(),n=sQ();t2.read=i,t2.readXmlFromZipFile=s;var r={"http://schemas.openxmlformats.org/wordprocessingml/2006/main":"w","http://schemas.openxmlformats.org/officeDocument/2006/relationships":"r","http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing":"wp","http://schemas.openxmlformats.org/drawingml/2006/main":"a","http://schemas.openxmlformats.org/drawingml/2006/picture":"pic","http://purl.oclc.org/ooxml/wordprocessingml/main":"w","http://purl.oclc.org/ooxml/officeDocument/relationships":"r","http://purl.oclc.org/ooxml/drawingml/wordprocessingDrawing":"wp","http://purl.oclc.org/ooxml/drawingml/main":"a","http://purl.oclc.org/ooxml/drawingml/picture":"pic","http://schemas.openxmlformats.org/package/2006/content-types":"content-types","http://schemas.openxmlformats.org/package/2006/relationships":"relationships","http://schemas.openxmlformats.org/markup-compatibility/2006":"mc","urn:schemas-microsoft-com:vml":"v","urn:schemas-microsoft-com:office:word":"office-word"};function i(l){return n.readString(l,r).then(function(c){return o(c)[0]})}function s(l,c){return l.exists(c)?l.read(c,"utf-8").then(a).then(i):e.resolve(null)}function a(l){return l.replace(/^\uFEFF/g,"")}function o(l){return l.type==="element"?l.name==="mc:AlternateContent"?l.first("mc:Fallback").children:(l.children=t.flatten(l.children.map(o,!0)),[l]):[l]}return t2}var i2={},Vo={},s2={},Vj;function D7e(){if(Vj)return s2;Vj=1,Object.defineProperty(s2,"__esModule",{value:!0});var t=[{"Typeface name":"Symbol","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Symbol","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"33","Unicode hex":"21"},{"Typeface name":"Symbol","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"8704","Unicode hex":"2200"},{"Typeface name":"Symbol","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"35","Unicode hex":"23"},{"Typeface name":"Symbol","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"8707","Unicode hex":"2203"},{"Typeface name":"Symbol","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"37","Unicode hex":"25"},{"Typeface name":"Symbol","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"38","Unicode hex":"26"},{"Typeface name":"Symbol","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"8717","Unicode hex":"220D"},{"Typeface name":"Symbol","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"40","Unicode hex":"28"},{"Typeface name":"Symbol","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"41","Unicode hex":"29"},{"Typeface name":"Symbol","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"42","Unicode hex":"2A"},{"Typeface name":"Symbol","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"43","Unicode hex":"2B"},{"Typeface name":"Symbol","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"44","Unicode hex":"2C"},{"Typeface name":"Symbol","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"8722","Unicode hex":"2212"},{"Typeface name":"Symbol","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"46","Unicode hex":"2E"},{"Typeface name":"Symbol","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"47","Unicode hex":"2F"},{"Typeface name":"Symbol","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"48","Unicode hex":"30"},{"Typeface name":"Symbol","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"49","Unicode hex":"31"},{"Typeface name":"Symbol","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"50","Unicode hex":"32"},{"Typeface name":"Symbol","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"51","Unicode hex":"33"},{"Typeface name":"Symbol","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"52","Unicode hex":"34"},{"Typeface name":"Symbol","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"53","Unicode hex":"35"},{"Typeface name":"Symbol","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"54","Unicode hex":"36"},{"Typeface name":"Symbol","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"55","Unicode hex":"37"},{"Typeface name":"Symbol","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"56","Unicode hex":"38"},{"Typeface name":"Symbol","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"57","Unicode hex":"39"},{"Typeface name":"Symbol","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"58","Unicode hex":"3A"},{"Typeface name":"Symbol","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"59","Unicode hex":"3B"},{"Typeface name":"Symbol","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"60","Unicode hex":"3C"},{"Typeface name":"Symbol","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"61","Unicode hex":"3D"},{"Typeface name":"Symbol","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"62","Unicode hex":"3E"},{"Typeface name":"Symbol","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"63","Unicode hex":"3F"},{"Typeface name":"Symbol","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"8773","Unicode hex":"2245"},{"Typeface name":"Symbol","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"913","Unicode hex":"391"},{"Typeface name":"Symbol","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"914","Unicode hex":"392"},{"Typeface name":"Symbol","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"935","Unicode hex":"3A7"},{"Typeface name":"Symbol","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"916","Unicode hex":"394"},{"Typeface name":"Symbol","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"917","Unicode hex":"395"},{"Typeface name":"Symbol","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"934","Unicode hex":"3A6"},{"Typeface name":"Symbol","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"915","Unicode hex":"393"},{"Typeface name":"Symbol","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"919","Unicode hex":"397"},{"Typeface name":"Symbol","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"921","Unicode hex":"399"},{"Typeface name":"Symbol","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"977","Unicode hex":"3D1"},{"Typeface name":"Symbol","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"922","Unicode hex":"39A"},{"Typeface name":"Symbol","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"923","Unicode hex":"39B"},{"Typeface name":"Symbol","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"924","Unicode hex":"39C"},{"Typeface name":"Symbol","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"925","Unicode hex":"39D"},{"Typeface name":"Symbol","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"927","Unicode hex":"39F"},{"Typeface name":"Symbol","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"928","Unicode hex":"3A0"},{"Typeface name":"Symbol","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"920","Unicode hex":"398"},{"Typeface name":"Symbol","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"929","Unicode hex":"3A1"},{"Typeface name":"Symbol","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"931","Unicode hex":"3A3"},{"Typeface name":"Symbol","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"932","Unicode hex":"3A4"},{"Typeface name":"Symbol","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"933","Unicode hex":"3A5"},{"Typeface name":"Symbol","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"962","Unicode hex":"3C2"},{"Typeface name":"Symbol","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"937","Unicode hex":"3A9"},{"Typeface name":"Symbol","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"926","Unicode hex":"39E"},{"Typeface name":"Symbol","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"936","Unicode hex":"3A8"},{"Typeface name":"Symbol","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"918","Unicode hex":"396"},{"Typeface name":"Symbol","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"91","Unicode hex":"5B"},{"Typeface name":"Symbol","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"8756","Unicode hex":"2234"},{"Typeface name":"Symbol","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"93","Unicode hex":"5D"},{"Typeface name":"Symbol","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"8869","Unicode hex":"22A5"},{"Typeface name":"Symbol","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"95","Unicode hex":"5F"},{"Typeface name":"Symbol","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"8254","Unicode hex":"203E"},{"Typeface name":"Symbol","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"945","Unicode hex":"3B1"},{"Typeface name":"Symbol","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"946","Unicode hex":"3B2"},{"Typeface name":"Symbol","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"967","Unicode hex":"3C7"},{"Typeface name":"Symbol","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"948","Unicode hex":"3B4"},{"Typeface name":"Symbol","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"949","Unicode hex":"3B5"},{"Typeface name":"Symbol","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"966","Unicode hex":"3C6"},{"Typeface name":"Symbol","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"947","Unicode hex":"3B3"},{"Typeface name":"Symbol","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"951","Unicode hex":"3B7"},{"Typeface name":"Symbol","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"953","Unicode hex":"3B9"},{"Typeface name":"Symbol","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"981","Unicode hex":"3D5"},{"Typeface name":"Symbol","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"954","Unicode hex":"3BA"},{"Typeface name":"Symbol","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"955","Unicode hex":"3BB"},{"Typeface name":"Symbol","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"956","Unicode hex":"3BC"},{"Typeface name":"Symbol","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"957","Unicode hex":"3BD"},{"Typeface name":"Symbol","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"959","Unicode hex":"3BF"},{"Typeface name":"Symbol","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"960","Unicode hex":"3C0"},{"Typeface name":"Symbol","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"952","Unicode hex":"3B8"},{"Typeface name":"Symbol","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"961","Unicode hex":"3C1"},{"Typeface name":"Symbol","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"963","Unicode hex":"3C3"},{"Typeface name":"Symbol","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"964","Unicode hex":"3C4"},{"Typeface name":"Symbol","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"965","Unicode hex":"3C5"},{"Typeface name":"Symbol","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"982","Unicode hex":"3D6"},{"Typeface name":"Symbol","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"969","Unicode hex":"3C9"},{"Typeface name":"Symbol","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"958","Unicode hex":"3BE"},{"Typeface name":"Symbol","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"968","Unicode hex":"3C8"},{"Typeface name":"Symbol","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"950","Unicode hex":"3B6"},{"Typeface name":"Symbol","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"123","Unicode hex":"7B"},{"Typeface name":"Symbol","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"124","Unicode hex":"7C"},{"Typeface name":"Symbol","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"125","Unicode hex":"7D"},{"Typeface name":"Symbol","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"126","Unicode hex":"7E"},{"Typeface name":"Symbol","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"8364","Unicode hex":"20AC"},{"Typeface name":"Symbol","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"978","Unicode hex":"3D2"},{"Typeface name":"Symbol","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"8242","Unicode hex":"2032"},{"Typeface name":"Symbol","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"8804","Unicode hex":"2264"},{"Typeface name":"Symbol","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"8260","Unicode hex":"2044"},{"Typeface name":"Symbol","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"8734","Unicode hex":"221E"},{"Typeface name":"Symbol","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"402","Unicode hex":"192"},{"Typeface name":"Symbol","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9827","Unicode hex":"2663"},{"Typeface name":"Symbol","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9830","Unicode hex":"2666"},{"Typeface name":"Symbol","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"9829","Unicode hex":"2665"},{"Typeface name":"Symbol","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"9824","Unicode hex":"2660"},{"Typeface name":"Symbol","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"8596","Unicode hex":"2194"},{"Typeface name":"Symbol","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"8592","Unicode hex":"2190"},{"Typeface name":"Symbol","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"8593","Unicode hex":"2191"},{"Typeface name":"Symbol","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"8594","Unicode hex":"2192"},{"Typeface name":"Symbol","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"8595","Unicode hex":"2193"},{"Typeface name":"Symbol","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"176","Unicode hex":"B0"},{"Typeface name":"Symbol","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"177","Unicode hex":"B1"},{"Typeface name":"Symbol","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"8243","Unicode hex":"2033"},{"Typeface name":"Symbol","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"8805","Unicode hex":"2265"},{"Typeface name":"Symbol","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"215","Unicode hex":"D7"},{"Typeface name":"Symbol","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"8733","Unicode hex":"221D"},{"Typeface name":"Symbol","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"8706","Unicode hex":"2202"},{"Typeface name":"Symbol","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Symbol","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"247","Unicode hex":"F7"},{"Typeface name":"Symbol","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"8800","Unicode hex":"2260"},{"Typeface name":"Symbol","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"8801","Unicode hex":"2261"},{"Typeface name":"Symbol","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"8776","Unicode hex":"2248"},{"Typeface name":"Symbol","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"8230","Unicode hex":"2026"},{"Typeface name":"Symbol","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Symbol","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"9135","Unicode hex":"23AF"},{"Typeface name":"Symbol","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"8629","Unicode hex":"21B5"},{"Typeface name":"Symbol","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"8501","Unicode hex":"2135"},{"Typeface name":"Symbol","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"8465","Unicode hex":"2111"},{"Typeface name":"Symbol","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"8476","Unicode hex":"211C"},{"Typeface name":"Symbol","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"8472","Unicode hex":"2118"},{"Typeface name":"Symbol","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"8855","Unicode hex":"2297"},{"Typeface name":"Symbol","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"8853","Unicode hex":"2295"},{"Typeface name":"Symbol","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"8709","Unicode hex":"2205"},{"Typeface name":"Symbol","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"8745","Unicode hex":"2229"},{"Typeface name":"Symbol","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"8746","Unicode hex":"222A"},{"Typeface name":"Symbol","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"8835","Unicode hex":"2283"},{"Typeface name":"Symbol","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"8839","Unicode hex":"2287"},{"Typeface name":"Symbol","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"8836","Unicode hex":"2284"},{"Typeface name":"Symbol","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"8834","Unicode hex":"2282"},{"Typeface name":"Symbol","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"8838","Unicode hex":"2286"},{"Typeface name":"Symbol","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"8712","Unicode hex":"2208"},{"Typeface name":"Symbol","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"8713","Unicode hex":"2209"},{"Typeface name":"Symbol","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"8736","Unicode hex":"2220"},{"Typeface name":"Symbol","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"8711","Unicode hex":"2207"},{"Typeface name":"Symbol","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"8719","Unicode hex":"220F"},{"Typeface name":"Symbol","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8730","Unicode hex":"221A"},{"Typeface name":"Symbol","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Symbol","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"172","Unicode hex":"AC"},{"Typeface name":"Symbol","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"8743","Unicode hex":"2227"},{"Typeface name":"Symbol","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"8744","Unicode hex":"2228"},{"Typeface name":"Symbol","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"8660","Unicode hex":"21D4"},{"Typeface name":"Symbol","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"8656","Unicode hex":"21D0"},{"Typeface name":"Symbol","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"8657","Unicode hex":"21D1"},{"Typeface name":"Symbol","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"8658","Unicode hex":"21D2"},{"Typeface name":"Symbol","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"8659","Unicode hex":"21D3"},{"Typeface name":"Symbol","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Symbol","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"12296","Unicode hex":"3008"},{"Typeface name":"Symbol","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"8721","Unicode hex":"2211"},{"Typeface name":"Symbol","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"9115","Unicode hex":"239B"},{"Typeface name":"Symbol","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"9116","Unicode hex":"239C"},{"Typeface name":"Symbol","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9117","Unicode hex":"239D"},{"Typeface name":"Symbol","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9121","Unicode hex":"23A1"},{"Typeface name":"Symbol","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"9122","Unicode hex":"23A2"},{"Typeface name":"Symbol","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"9123","Unicode hex":"23A3"},{"Typeface name":"Symbol","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"9127","Unicode hex":"23A7"},{"Typeface name":"Symbol","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"9128","Unicode hex":"23A8"},{"Typeface name":"Symbol","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"9129","Unicode hex":"23A9"},{"Typeface name":"Symbol","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"9130","Unicode hex":"23AA"},{"Typeface name":"Symbol","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"63743","Unicode hex":"F8FF"},{"Typeface name":"Symbol","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"12297","Unicode hex":"3009"},{"Typeface name":"Symbol","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8747","Unicode hex":"222B"},{"Typeface name":"Symbol","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"8992","Unicode hex":"2320"},{"Typeface name":"Symbol","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"9134","Unicode hex":"23AE"},{"Typeface name":"Symbol","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"8993","Unicode hex":"2321"},{"Typeface name":"Symbol","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"9118","Unicode hex":"239E"},{"Typeface name":"Symbol","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"9119","Unicode hex":"239F"},{"Typeface name":"Symbol","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"9120","Unicode hex":"23A0"},{"Typeface name":"Symbol","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"9124","Unicode hex":"23A4"},{"Typeface name":"Symbol","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"9125","Unicode hex":"23A5"},{"Typeface name":"Symbol","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"9126","Unicode hex":"23A6"},{"Typeface name":"Symbol","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"9131","Unicode hex":"23AB"},{"Typeface name":"Symbol","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"9132","Unicode hex":"23AC"},{"Typeface name":"Symbol","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"9133","Unicode hex":"23AD"},{"Typeface name":"Webdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Webdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128375","Unicode hex":"1F577"},{"Typeface name":"Webdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128376","Unicode hex":"1F578"},{"Typeface name":"Webdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128370","Unicode hex":"1F572"},{"Typeface name":"Webdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128374","Unicode hex":"1F576"},{"Typeface name":"Webdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"127942","Unicode hex":"1F3C6"},{"Typeface name":"Webdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"127894","Unicode hex":"1F396"},{"Typeface name":"Webdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128391","Unicode hex":"1F587"},{"Typeface name":"Webdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128488","Unicode hex":"1F5E8"},{"Typeface name":"Webdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128489","Unicode hex":"1F5E9"},{"Typeface name":"Webdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128496","Unicode hex":"1F5F0"},{"Typeface name":"Webdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128497","Unicode hex":"1F5F1"},{"Typeface name":"Webdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"127798","Unicode hex":"1F336"},{"Typeface name":"Webdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"127895","Unicode hex":"1F397"},{"Typeface name":"Webdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128638","Unicode hex":"1F67E"},{"Typeface name":"Webdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128636","Unicode hex":"1F67C"},{"Typeface name":"Webdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128469","Unicode hex":"1F5D5"},{"Typeface name":"Webdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128470","Unicode hex":"1F5D6"},{"Typeface name":"Webdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128471","Unicode hex":"1F5D7"},{"Typeface name":"Webdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"9204","Unicode hex":"23F4"},{"Typeface name":"Webdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"9205","Unicode hex":"23F5"},{"Typeface name":"Webdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"9206","Unicode hex":"23F6"},{"Typeface name":"Webdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"9207","Unicode hex":"23F7"},{"Typeface name":"Webdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"9194","Unicode hex":"23EA"},{"Typeface name":"Webdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"9193","Unicode hex":"23E9"},{"Typeface name":"Webdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"9198","Unicode hex":"23EE"},{"Typeface name":"Webdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"9197","Unicode hex":"23ED"},{"Typeface name":"Webdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"9208","Unicode hex":"23F8"},{"Typeface name":"Webdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"9209","Unicode hex":"23F9"},{"Typeface name":"Webdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"9210","Unicode hex":"23FA"},{"Typeface name":"Webdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128474","Unicode hex":"1F5DA"},{"Typeface name":"Webdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128499","Unicode hex":"1F5F3"},{"Typeface name":"Webdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128736","Unicode hex":"1F6E0"},{"Typeface name":"Webdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"127959","Unicode hex":"1F3D7"},{"Typeface name":"Webdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"127960","Unicode hex":"1F3D8"},{"Typeface name":"Webdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"127961","Unicode hex":"1F3D9"},{"Typeface name":"Webdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"127962","Unicode hex":"1F3DA"},{"Typeface name":"Webdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"127964","Unicode hex":"1F3DC"},{"Typeface name":"Webdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"127981","Unicode hex":"1F3ED"},{"Typeface name":"Webdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"127963","Unicode hex":"1F3DB"},{"Typeface name":"Webdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"127968","Unicode hex":"1F3E0"},{"Typeface name":"Webdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"127958","Unicode hex":"1F3D6"},{"Typeface name":"Webdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"127965","Unicode hex":"1F3DD"},{"Typeface name":"Webdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128739","Unicode hex":"1F6E3"},{"Typeface name":"Webdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128269","Unicode hex":"1F50D"},{"Typeface name":"Webdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"127956","Unicode hex":"1F3D4"},{"Typeface name":"Webdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128065","Unicode hex":"1F441"},{"Typeface name":"Webdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128066","Unicode hex":"1F442"},{"Typeface name":"Webdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127966","Unicode hex":"1F3DE"},{"Typeface name":"Webdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"127957","Unicode hex":"1F3D5"},{"Typeface name":"Webdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"128740","Unicode hex":"1F6E4"},{"Typeface name":"Webdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127967","Unicode hex":"1F3DF"},{"Typeface name":"Webdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"128755","Unicode hex":"1F6F3"},{"Typeface name":"Webdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128364","Unicode hex":"1F56C"},{"Typeface name":"Webdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"128363","Unicode hex":"1F56B"},{"Typeface name":"Webdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128360","Unicode hex":"1F568"},{"Typeface name":"Webdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"128264","Unicode hex":"1F508"},{"Typeface name":"Webdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"127892","Unicode hex":"1F394"},{"Typeface name":"Webdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"127893","Unicode hex":"1F395"},{"Typeface name":"Webdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128492","Unicode hex":"1F5EC"},{"Typeface name":"Webdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128637","Unicode hex":"1F67D"},{"Typeface name":"Webdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"128493","Unicode hex":"1F5ED"},{"Typeface name":"Webdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128490","Unicode hex":"1F5EA"},{"Typeface name":"Webdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128491","Unicode hex":"1F5EB"},{"Typeface name":"Webdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"11156","Unicode hex":"2B94"},{"Typeface name":"Webdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"10004","Unicode hex":"2714"},{"Typeface name":"Webdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128690","Unicode hex":"1F6B2"},{"Typeface name":"Webdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"11036","Unicode hex":"2B1C"},{"Typeface name":"Webdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128737","Unicode hex":"1F6E1"},{"Typeface name":"Webdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128230","Unicode hex":"1F4E6"},{"Typeface name":"Webdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128753","Unicode hex":"1F6F1"},{"Typeface name":"Webdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"11035","Unicode hex":"2B1B"},{"Typeface name":"Webdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128657","Unicode hex":"1F691"},{"Typeface name":"Webdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"128712","Unicode hex":"1F6C8"},{"Typeface name":"Webdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128745","Unicode hex":"1F6E9"},{"Typeface name":"Webdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128752","Unicode hex":"1F6F0"},{"Typeface name":"Webdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"128968","Unicode hex":"1F7C8"},{"Typeface name":"Webdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128372","Unicode hex":"1F574"},{"Typeface name":"Webdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"11044","Unicode hex":"2B24"},{"Typeface name":"Webdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128741","Unicode hex":"1F6E5"},{"Typeface name":"Webdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128660","Unicode hex":"1F694"},{"Typeface name":"Webdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"128472","Unicode hex":"1F5D8"},{"Typeface name":"Webdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"128473","Unicode hex":"1F5D9"},{"Typeface name":"Webdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"10067","Unicode hex":"2753"},{"Typeface name":"Webdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"128754","Unicode hex":"1F6F2"},{"Typeface name":"Webdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"128647","Unicode hex":"1F687"},{"Typeface name":"Webdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"128653","Unicode hex":"1F68D"},{"Typeface name":"Webdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9971","Unicode hex":"26F3"},{"Typeface name":"Webdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Webdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"8854","Unicode hex":"2296"},{"Typeface name":"Webdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"128685","Unicode hex":"1F6AD"},{"Typeface name":"Webdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"128494","Unicode hex":"1F5EE"},{"Typeface name":"Webdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Webdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128495","Unicode hex":"1F5EF"},{"Typeface name":"Webdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128498","Unicode hex":"1F5F2"},{"Typeface name":"Webdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128697","Unicode hex":"1F6B9"},{"Typeface name":"Webdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"128698","Unicode hex":"1F6BA"},{"Typeface name":"Webdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"128713","Unicode hex":"1F6C9"},{"Typeface name":"Webdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"128714","Unicode hex":"1F6CA"},{"Typeface name":"Webdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"128700","Unicode hex":"1F6BC"},{"Typeface name":"Webdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"128125","Unicode hex":"1F47D"},{"Typeface name":"Webdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"127947","Unicode hex":"1F3CB"},{"Typeface name":"Webdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"9975","Unicode hex":"26F7"},{"Typeface name":"Webdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"127938","Unicode hex":"1F3C2"},{"Typeface name":"Webdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"127948","Unicode hex":"1F3CC"},{"Typeface name":"Webdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"127946","Unicode hex":"1F3CA"},{"Typeface name":"Webdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127940","Unicode hex":"1F3C4"},{"Typeface name":"Webdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"127949","Unicode hex":"1F3CD"},{"Typeface name":"Webdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"127950","Unicode hex":"1F3CE"},{"Typeface name":"Webdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128664","Unicode hex":"1F698"},{"Typeface name":"Webdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128480","Unicode hex":"1F5E0"},{"Typeface name":"Webdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128738","Unicode hex":"1F6E2"},{"Typeface name":"Webdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128176","Unicode hex":"1F4B0"},{"Typeface name":"Webdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"127991","Unicode hex":"1F3F7"},{"Typeface name":"Webdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128179","Unicode hex":"1F4B3"},{"Typeface name":"Webdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128106","Unicode hex":"1F46A"},{"Typeface name":"Webdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"128481","Unicode hex":"1F5E1"},{"Typeface name":"Webdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128482","Unicode hex":"1F5E2"},{"Typeface name":"Webdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128483","Unicode hex":"1F5E3"},{"Typeface name":"Webdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Webdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128388","Unicode hex":"1F584"},{"Typeface name":"Webdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128389","Unicode hex":"1F585"},{"Typeface name":"Webdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Webdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128390","Unicode hex":"1F586"},{"Typeface name":"Webdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128441","Unicode hex":"1F5B9"},{"Typeface name":"Webdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"128442","Unicode hex":"1F5BA"},{"Typeface name":"Webdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128443","Unicode hex":"1F5BB"},{"Typeface name":"Webdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128373","Unicode hex":"1F575"},{"Typeface name":"Webdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"128368","Unicode hex":"1F570"},{"Typeface name":"Webdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128445","Unicode hex":"1F5BD"},{"Typeface name":"Webdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128446","Unicode hex":"1F5BE"},{"Typeface name":"Webdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Webdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128466","Unicode hex":"1F5D2"},{"Typeface name":"Webdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128467","Unicode hex":"1F5D3"},{"Typeface name":"Webdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Webdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128218","Unicode hex":"1F4DA"},{"Typeface name":"Webdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128478","Unicode hex":"1F5DE"},{"Typeface name":"Webdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128479","Unicode hex":"1F5DF"},{"Typeface name":"Webdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128451","Unicode hex":"1F5C3"},{"Typeface name":"Webdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128450","Unicode hex":"1F5C2"},{"Typeface name":"Webdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128444","Unicode hex":"1F5BC"},{"Typeface name":"Webdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"127917","Unicode hex":"1F3AD"},{"Typeface name":"Webdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"127900","Unicode hex":"1F39C"},{"Typeface name":"Webdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"127896","Unicode hex":"1F398"},{"Typeface name":"Webdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"127897","Unicode hex":"1F399"},{"Typeface name":"Webdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"127911","Unicode hex":"1F3A7"},{"Typeface name":"Webdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128191","Unicode hex":"1F4BF"},{"Typeface name":"Webdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"127902","Unicode hex":"1F39E"},{"Typeface name":"Webdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128247","Unicode hex":"1F4F7"},{"Typeface name":"Webdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"127903","Unicode hex":"1F39F"},{"Typeface name":"Webdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"127916","Unicode hex":"1F3AC"},{"Typeface name":"Webdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128253","Unicode hex":"1F4FD"},{"Typeface name":"Webdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128249","Unicode hex":"1F4F9"},{"Typeface name":"Webdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128254","Unicode hex":"1F4FE"},{"Typeface name":"Webdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128251","Unicode hex":"1F4FB"},{"Typeface name":"Webdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"127898","Unicode hex":"1F39A"},{"Typeface name":"Webdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"127899","Unicode hex":"1F39B"},{"Typeface name":"Webdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128250","Unicode hex":"1F4FA"},{"Typeface name":"Webdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128187","Unicode hex":"1F4BB"},{"Typeface name":"Webdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128421","Unicode hex":"1F5A5"},{"Typeface name":"Webdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128422","Unicode hex":"1F5A6"},{"Typeface name":"Webdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128423","Unicode hex":"1F5A7"},{"Typeface name":"Webdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"128377","Unicode hex":"1F579"},{"Typeface name":"Webdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"127918","Unicode hex":"1F3AE"},{"Typeface name":"Webdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"128379","Unicode hex":"1F57B"},{"Typeface name":"Webdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128380","Unicode hex":"1F57C"},{"Typeface name":"Webdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128223","Unicode hex":"1F4DF"},{"Typeface name":"Webdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128385","Unicode hex":"1F581"},{"Typeface name":"Webdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128384","Unicode hex":"1F580"},{"Typeface name":"Webdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128424","Unicode hex":"1F5A8"},{"Typeface name":"Webdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128425","Unicode hex":"1F5A9"},{"Typeface name":"Webdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128447","Unicode hex":"1F5BF"},{"Typeface name":"Webdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128426","Unicode hex":"1F5AA"},{"Typeface name":"Webdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128476","Unicode hex":"1F5DC"},{"Typeface name":"Webdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128274","Unicode hex":"1F512"},{"Typeface name":"Webdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128275","Unicode hex":"1F513"},{"Typeface name":"Webdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128477","Unicode hex":"1F5DD"},{"Typeface name":"Webdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128229","Unicode hex":"1F4E5"},{"Typeface name":"Webdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128228","Unicode hex":"1F4E4"},{"Typeface name":"Webdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128371","Unicode hex":"1F573"},{"Typeface name":"Webdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"127779","Unicode hex":"1F323"},{"Typeface name":"Webdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"127780","Unicode hex":"1F324"},{"Typeface name":"Webdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"127781","Unicode hex":"1F325"},{"Typeface name":"Webdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"127782","Unicode hex":"1F326"},{"Typeface name":"Webdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"9729","Unicode hex":"2601"},{"Typeface name":"Webdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"127784","Unicode hex":"1F328"},{"Typeface name":"Webdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"127783","Unicode hex":"1F327"},{"Typeface name":"Webdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"127785","Unicode hex":"1F329"},{"Typeface name":"Webdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"127786","Unicode hex":"1F32A"},{"Typeface name":"Webdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"127788","Unicode hex":"1F32C"},{"Typeface name":"Webdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"127787","Unicode hex":"1F32B"},{"Typeface name":"Webdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"127772","Unicode hex":"1F31C"},{"Typeface name":"Webdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"127777","Unicode hex":"1F321"},{"Typeface name":"Webdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128715","Unicode hex":"1F6CB"},{"Typeface name":"Webdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128719","Unicode hex":"1F6CF"},{"Typeface name":"Webdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"127869","Unicode hex":"1F37D"},{"Typeface name":"Webdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"127864","Unicode hex":"1F378"},{"Typeface name":"Webdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128718","Unicode hex":"1F6CE"},{"Typeface name":"Webdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128717","Unicode hex":"1F6CD"},{"Typeface name":"Webdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9413","Unicode hex":"24C5"},{"Typeface name":"Webdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9855","Unicode hex":"267F"},{"Typeface name":"Webdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128710","Unicode hex":"1F6C6"},{"Typeface name":"Webdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"128392","Unicode hex":"1F588"},{"Typeface name":"Webdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"127891","Unicode hex":"1F393"},{"Typeface name":"Webdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128484","Unicode hex":"1F5E4"},{"Typeface name":"Webdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128485","Unicode hex":"1F5E5"},{"Typeface name":"Webdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128486","Unicode hex":"1F5E6"},{"Typeface name":"Webdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"128487","Unicode hex":"1F5E7"},{"Typeface name":"Webdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128746","Unicode hex":"1F6EA"},{"Typeface name":"Webdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128063","Unicode hex":"1F43F"},{"Typeface name":"Webdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"128038","Unicode hex":"1F426"},{"Typeface name":"Webdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128031","Unicode hex":"1F41F"},{"Typeface name":"Webdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128021","Unicode hex":"1F415"},{"Typeface name":"Webdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"128008","Unicode hex":"1F408"},{"Typeface name":"Webdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"128620","Unicode hex":"1F66C"},{"Typeface name":"Webdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"128622","Unicode hex":"1F66E"},{"Typeface name":"Webdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"128621","Unicode hex":"1F66D"},{"Typeface name":"Webdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"128623","Unicode hex":"1F66F"},{"Typeface name":"Webdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128506","Unicode hex":"1F5FA"},{"Typeface name":"Webdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"127757","Unicode hex":"1F30D"},{"Typeface name":"Webdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"127759","Unicode hex":"1F30F"},{"Typeface name":"Webdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"127758","Unicode hex":"1F30E"},{"Typeface name":"Webdings","Dingbat dec":"255","Dingbat hex":"FF","Unicode dec":"128330","Unicode hex":"1F54A"},{"Typeface name":"Wingdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128393","Unicode hex":"1F589"},{"Typeface name":"Wingdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"9986","Unicode hex":"2702"},{"Typeface name":"Wingdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"9985","Unicode hex":"2701"},{"Typeface name":"Wingdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128083","Unicode hex":"1F453"},{"Typeface name":"Wingdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"128365","Unicode hex":"1F56D"},{"Typeface name":"Wingdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Wingdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128367","Unicode hex":"1F56F"},{"Typeface name":"Wingdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128383","Unicode hex":"1F57F"},{"Typeface name":"Wingdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"9990","Unicode hex":"2706"},{"Typeface name":"Wingdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128386","Unicode hex":"1F582"},{"Typeface name":"Wingdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Wingdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128234","Unicode hex":"1F4EA"},{"Typeface name":"Wingdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128235","Unicode hex":"1F4EB"},{"Typeface name":"Wingdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128236","Unicode hex":"1F4EC"},{"Typeface name":"Wingdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128237","Unicode hex":"1F4ED"},{"Typeface name":"Wingdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128448","Unicode hex":"1F5C0"},{"Typeface name":"Wingdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128449","Unicode hex":"1F5C1"},{"Typeface name":"Wingdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128462","Unicode hex":"1F5CE"},{"Typeface name":"Wingdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128463","Unicode hex":"1F5CF"},{"Typeface name":"Wingdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128464","Unicode hex":"1F5D0"},{"Typeface name":"Wingdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128452","Unicode hex":"1F5C4"},{"Typeface name":"Wingdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"8987","Unicode hex":"231B"},{"Typeface name":"Wingdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128430","Unicode hex":"1F5AE"},{"Typeface name":"Wingdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128432","Unicode hex":"1F5B0"},{"Typeface name":"Wingdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128434","Unicode hex":"1F5B2"},{"Typeface name":"Wingdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128435","Unicode hex":"1F5B3"},{"Typeface name":"Wingdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128436","Unicode hex":"1F5B4"},{"Typeface name":"Wingdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128427","Unicode hex":"1F5AB"},{"Typeface name":"Wingdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128428","Unicode hex":"1F5AC"},{"Typeface name":"Wingdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"9991","Unicode hex":"2707"},{"Typeface name":"Wingdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"9997","Unicode hex":"270D"},{"Typeface name":"Wingdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128398","Unicode hex":"1F58E"},{"Typeface name":"Wingdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"9996","Unicode hex":"270C"},{"Typeface name":"Wingdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128399","Unicode hex":"1F58F"},{"Typeface name":"Wingdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128077","Unicode hex":"1F44D"},{"Typeface name":"Wingdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128078","Unicode hex":"1F44E"},{"Typeface name":"Wingdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"9756","Unicode hex":"261C"},{"Typeface name":"Wingdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"9758","Unicode hex":"261E"},{"Typeface name":"Wingdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"9757","Unicode hex":"261D"},{"Typeface name":"Wingdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"9759","Unicode hex":"261F"},{"Typeface name":"Wingdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128400","Unicode hex":"1F590"},{"Typeface name":"Wingdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"9786","Unicode hex":"263A"},{"Typeface name":"Wingdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128528","Unicode hex":"1F610"},{"Typeface name":"Wingdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"9785","Unicode hex":"2639"},{"Typeface name":"Wingdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128163","Unicode hex":"1F4A3"},{"Typeface name":"Wingdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128369","Unicode hex":"1F571"},{"Typeface name":"Wingdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"127987","Unicode hex":"1F3F3"},{"Typeface name":"Wingdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127985","Unicode hex":"1F3F1"},{"Typeface name":"Wingdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"9992","Unicode hex":"2708"},{"Typeface name":"Wingdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9788","Unicode hex":"263C"},{"Typeface name":"Wingdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127778","Unicode hex":"1F322"},{"Typeface name":"Wingdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"10052","Unicode hex":"2744"},{"Typeface name":"Wingdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128326","Unicode hex":"1F546"},{"Typeface name":"Wingdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"10014","Unicode hex":"271E"},{"Typeface name":"Wingdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128328","Unicode hex":"1F548"},{"Typeface name":"Wingdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10016","Unicode hex":"2720"},{"Typeface name":"Wingdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"10017","Unicode hex":"2721"},{"Typeface name":"Wingdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"9770","Unicode hex":"262A"},{"Typeface name":"Wingdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"9775","Unicode hex":"262F"},{"Typeface name":"Wingdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128329","Unicode hex":"1F549"},{"Typeface name":"Wingdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"9784","Unicode hex":"2638"},{"Typeface name":"Wingdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"9800","Unicode hex":"2648"},{"Typeface name":"Wingdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"9801","Unicode hex":"2649"},{"Typeface name":"Wingdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"9802","Unicode hex":"264A"},{"Typeface name":"Wingdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"9803","Unicode hex":"264B"},{"Typeface name":"Wingdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"9804","Unicode hex":"264C"},{"Typeface name":"Wingdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"9805","Unicode hex":"264D"},{"Typeface name":"Wingdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"9806","Unicode hex":"264E"},{"Typeface name":"Wingdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"9807","Unicode hex":"264F"},{"Typeface name":"Wingdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"9808","Unicode hex":"2650"},{"Typeface name":"Wingdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"9809","Unicode hex":"2651"},{"Typeface name":"Wingdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"9810","Unicode hex":"2652"},{"Typeface name":"Wingdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9811","Unicode hex":"2653"},{"Typeface name":"Wingdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128624","Unicode hex":"1F670"},{"Typeface name":"Wingdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128629","Unicode hex":"1F675"},{"Typeface name":"Wingdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9899","Unicode hex":"26AB"},{"Typeface name":"Wingdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128318","Unicode hex":"1F53E"},{"Typeface name":"Wingdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9724","Unicode hex":"25FC"},{"Typeface name":"Wingdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128911","Unicode hex":"1F78F"},{"Typeface name":"Wingdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128912","Unicode hex":"1F790"},{"Typeface name":"Wingdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"10065","Unicode hex":"2751"},{"Typeface name":"Wingdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"10066","Unicode hex":"2752"},{"Typeface name":"Wingdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"128927","Unicode hex":"1F79F"},{"Typeface name":"Wingdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"10731","Unicode hex":"29EB"},{"Typeface name":"Wingdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9670","Unicode hex":"25C6"},{"Typeface name":"Wingdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10070","Unicode hex":"2756"},{"Typeface name":"Wingdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"8999","Unicode hex":"2327"},{"Typeface name":"Wingdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"11193","Unicode hex":"2BB9"},{"Typeface name":"Wingdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"8984","Unicode hex":"2318"},{"Typeface name":"Wingdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"127989","Unicode hex":"1F3F5"},{"Typeface name":"Wingdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"127990","Unicode hex":"1F3F6"},{"Typeface name":"Wingdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128630","Unicode hex":"1F676"},{"Typeface name":"Wingdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128631","Unicode hex":"1F677"},{"Typeface name":"Wingdings","Dingbat dec":"127","Dingbat hex":"7F","Unicode dec":"9647","Unicode hex":"25AF"},{"Typeface name":"Wingdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"127243","Unicode hex":"1F10B"},{"Typeface name":"Wingdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"10112","Unicode hex":"2780"},{"Typeface name":"Wingdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"10113","Unicode hex":"2781"},{"Typeface name":"Wingdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"10114","Unicode hex":"2782"},{"Typeface name":"Wingdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"10115","Unicode hex":"2783"},{"Typeface name":"Wingdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10116","Unicode hex":"2784"},{"Typeface name":"Wingdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"10117","Unicode hex":"2785"},{"Typeface name":"Wingdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"10118","Unicode hex":"2786"},{"Typeface name":"Wingdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"10119","Unicode hex":"2787"},{"Typeface name":"Wingdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"10120","Unicode hex":"2788"},{"Typeface name":"Wingdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"10121","Unicode hex":"2789"},{"Typeface name":"Wingdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127244","Unicode hex":"1F10C"},{"Typeface name":"Wingdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"10122","Unicode hex":"278A"},{"Typeface name":"Wingdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"10123","Unicode hex":"278B"},{"Typeface name":"Wingdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"10124","Unicode hex":"278C"},{"Typeface name":"Wingdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"10125","Unicode hex":"278D"},{"Typeface name":"Wingdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"10126","Unicode hex":"278E"},{"Typeface name":"Wingdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"10127","Unicode hex":"278F"},{"Typeface name":"Wingdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"10128","Unicode hex":"2790"},{"Typeface name":"Wingdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"10129","Unicode hex":"2791"},{"Typeface name":"Wingdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"10130","Unicode hex":"2792"},{"Typeface name":"Wingdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"10131","Unicode hex":"2793"},{"Typeface name":"Wingdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128610","Unicode hex":"1F662"},{"Typeface name":"Wingdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128608","Unicode hex":"1F660"},{"Typeface name":"Wingdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"128609","Unicode hex":"1F661"},{"Typeface name":"Wingdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128611","Unicode hex":"1F663"},{"Typeface name":"Wingdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128606","Unicode hex":"1F65E"},{"Typeface name":"Wingdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128604","Unicode hex":"1F65C"},{"Typeface name":"Wingdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128605","Unicode hex":"1F65D"},{"Typeface name":"Wingdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128607","Unicode hex":"1F65F"},{"Typeface name":"Wingdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"8729","Unicode hex":"2219"},{"Typeface name":"Wingdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Wingdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"11037","Unicode hex":"2B1D"},{"Typeface name":"Wingdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"11096","Unicode hex":"2B58"},{"Typeface name":"Wingdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128902","Unicode hex":"1F786"},{"Typeface name":"Wingdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128904","Unicode hex":"1F788"},{"Typeface name":"Wingdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128906","Unicode hex":"1F78A"},{"Typeface name":"Wingdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128907","Unicode hex":"1F78B"},{"Typeface name":"Wingdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128319","Unicode hex":"1F53F"},{"Typeface name":"Wingdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9642","Unicode hex":"25AA"},{"Typeface name":"Wingdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128910","Unicode hex":"1F78E"},{"Typeface name":"Wingdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128961","Unicode hex":"1F7C1"},{"Typeface name":"Wingdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128965","Unicode hex":"1F7C5"},{"Typeface name":"Wingdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"9733","Unicode hex":"2605"},{"Typeface name":"Wingdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128971","Unicode hex":"1F7CB"},{"Typeface name":"Wingdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128975","Unicode hex":"1F7CF"},{"Typeface name":"Wingdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"128979","Unicode hex":"1F7D3"},{"Typeface name":"Wingdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"128977","Unicode hex":"1F7D1"},{"Typeface name":"Wingdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"11216","Unicode hex":"2BD0"},{"Typeface name":"Wingdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"8982","Unicode hex":"2316"},{"Typeface name":"Wingdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"11214","Unicode hex":"2BCE"},{"Typeface name":"Wingdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"11215","Unicode hex":"2BCF"},{"Typeface name":"Wingdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"11217","Unicode hex":"2BD1"},{"Typeface name":"Wingdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"10026","Unicode hex":"272A"},{"Typeface name":"Wingdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"10032","Unicode hex":"2730"},{"Typeface name":"Wingdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"128336","Unicode hex":"1F550"},{"Typeface name":"Wingdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128337","Unicode hex":"1F551"},{"Typeface name":"Wingdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128338","Unicode hex":"1F552"},{"Typeface name":"Wingdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128339","Unicode hex":"1F553"},{"Typeface name":"Wingdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128340","Unicode hex":"1F554"},{"Typeface name":"Wingdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"128341","Unicode hex":"1F555"},{"Typeface name":"Wingdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"128342","Unicode hex":"1F556"},{"Typeface name":"Wingdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128343","Unicode hex":"1F557"},{"Typeface name":"Wingdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128344","Unicode hex":"1F558"},{"Typeface name":"Wingdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128345","Unicode hex":"1F559"},{"Typeface name":"Wingdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128346","Unicode hex":"1F55A"},{"Typeface name":"Wingdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128347","Unicode hex":"1F55B"},{"Typeface name":"Wingdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11184","Unicode hex":"2BB0"},{"Typeface name":"Wingdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11185","Unicode hex":"2BB1"},{"Typeface name":"Wingdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11186","Unicode hex":"2BB2"},{"Typeface name":"Wingdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"11187","Unicode hex":"2BB3"},{"Typeface name":"Wingdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"11188","Unicode hex":"2BB4"},{"Typeface name":"Wingdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"11189","Unicode hex":"2BB5"},{"Typeface name":"Wingdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11190","Unicode hex":"2BB6"},{"Typeface name":"Wingdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11191","Unicode hex":"2BB7"},{"Typeface name":"Wingdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128618","Unicode hex":"1F66A"},{"Typeface name":"Wingdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128619","Unicode hex":"1F66B"},{"Typeface name":"Wingdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128597","Unicode hex":"1F655"},{"Typeface name":"Wingdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128596","Unicode hex":"1F654"},{"Typeface name":"Wingdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128599","Unicode hex":"1F657"},{"Typeface name":"Wingdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128598","Unicode hex":"1F656"},{"Typeface name":"Wingdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128592","Unicode hex":"1F650"},{"Typeface name":"Wingdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128593","Unicode hex":"1F651"},{"Typeface name":"Wingdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128594","Unicode hex":"1F652"},{"Typeface name":"Wingdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128595","Unicode hex":"1F653"},{"Typeface name":"Wingdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"9003","Unicode hex":"232B"},{"Typeface name":"Wingdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8998","Unicode hex":"2326"},{"Typeface name":"Wingdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"11160","Unicode hex":"2B98"},{"Typeface name":"Wingdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"11162","Unicode hex":"2B9A"},{"Typeface name":"Wingdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"11161","Unicode hex":"2B99"},{"Typeface name":"Wingdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"11163","Unicode hex":"2B9B"},{"Typeface name":"Wingdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"11144","Unicode hex":"2B88"},{"Typeface name":"Wingdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"11146","Unicode hex":"2B8A"},{"Typeface name":"Wingdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"11145","Unicode hex":"2B89"},{"Typeface name":"Wingdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"11147","Unicode hex":"2B8B"},{"Typeface name":"Wingdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129128","Unicode hex":"1F868"},{"Typeface name":"Wingdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129130","Unicode hex":"1F86A"},{"Typeface name":"Wingdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129129","Unicode hex":"1F869"},{"Typeface name":"Wingdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129131","Unicode hex":"1F86B"},{"Typeface name":"Wingdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129132","Unicode hex":"1F86C"},{"Typeface name":"Wingdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129133","Unicode hex":"1F86D"},{"Typeface name":"Wingdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129135","Unicode hex":"1F86F"},{"Typeface name":"Wingdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129134","Unicode hex":"1F86E"},{"Typeface name":"Wingdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129144","Unicode hex":"1F878"},{"Typeface name":"Wingdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129146","Unicode hex":"1F87A"},{"Typeface name":"Wingdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129145","Unicode hex":"1F879"},{"Typeface name":"Wingdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129147","Unicode hex":"1F87B"},{"Typeface name":"Wingdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129148","Unicode hex":"1F87C"},{"Typeface name":"Wingdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129149","Unicode hex":"1F87D"},{"Typeface name":"Wingdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129151","Unicode hex":"1F87F"},{"Typeface name":"Wingdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129150","Unicode hex":"1F87E"},{"Typeface name":"Wingdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"8678","Unicode hex":"21E6"},{"Typeface name":"Wingdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"8680","Unicode hex":"21E8"},{"Typeface name":"Wingdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"8679","Unicode hex":"21E7"},{"Typeface name":"Wingdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8681","Unicode hex":"21E9"},{"Typeface name":"Wingdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"11012","Unicode hex":"2B04"},{"Typeface name":"Wingdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"8691","Unicode hex":"21F3"},{"Typeface name":"Wingdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"11009","Unicode hex":"2B01"},{"Typeface name":"Wingdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11008","Unicode hex":"2B00"},{"Typeface name":"Wingdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11011","Unicode hex":"2B03"},{"Typeface name":"Wingdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"11010","Unicode hex":"2B02"},{"Typeface name":"Wingdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"129196","Unicode hex":"1F8AC"},{"Typeface name":"Wingdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"129197","Unicode hex":"1F8AD"},{"Typeface name":"Wingdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128502","Unicode hex":"1F5F6"},{"Typeface name":"Wingdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"10003","Unicode hex":"2713"},{"Typeface name":"Wingdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"128503","Unicode hex":"1F5F7"},{"Typeface name":"Wingdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"128505","Unicode hex":"1F5F9"},{"Typeface name":"Wingdings 2","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 2","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128394","Unicode hex":"1F58A"},{"Typeface name":"Wingdings 2","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128395","Unicode hex":"1F58B"},{"Typeface name":"Wingdings 2","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128396","Unicode hex":"1F58C"},{"Typeface name":"Wingdings 2","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128397","Unicode hex":"1F58D"},{"Typeface name":"Wingdings 2","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"9988","Unicode hex":"2704"},{"Typeface name":"Wingdings 2","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"9984","Unicode hex":"2700"},{"Typeface name":"Wingdings 2","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128382","Unicode hex":"1F57E"},{"Typeface name":"Wingdings 2","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128381","Unicode hex":"1F57D"},{"Typeface name":"Wingdings 2","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128453","Unicode hex":"1F5C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128454","Unicode hex":"1F5C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128455","Unicode hex":"1F5C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128456","Unicode hex":"1F5C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128457","Unicode hex":"1F5C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128458","Unicode hex":"1F5CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128459","Unicode hex":"1F5CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128460","Unicode hex":"1F5CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128461","Unicode hex":"1F5CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128465","Unicode hex":"1F5D1"},{"Typeface name":"Wingdings 2","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128468","Unicode hex":"1F5D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128437","Unicode hex":"1F5B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"128438","Unicode hex":"1F5B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128439","Unicode hex":"1F5B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128440","Unicode hex":"1F5B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128429","Unicode hex":"1F5AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128431","Unicode hex":"1F5AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128433","Unicode hex":"1F5B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128402","Unicode hex":"1F592"},{"Typeface name":"Wingdings 2","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128403","Unicode hex":"1F593"},{"Typeface name":"Wingdings 2","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128408","Unicode hex":"1F598"},{"Typeface name":"Wingdings 2","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128409","Unicode hex":"1F599"},{"Typeface name":"Wingdings 2","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128410","Unicode hex":"1F59A"},{"Typeface name":"Wingdings 2","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"128411","Unicode hex":"1F59B"},{"Typeface name":"Wingdings 2","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128072","Unicode hex":"1F448"},{"Typeface name":"Wingdings 2","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128073","Unicode hex":"1F449"},{"Typeface name":"Wingdings 2","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128412","Unicode hex":"1F59C"},{"Typeface name":"Wingdings 2","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"128413","Unicode hex":"1F59D"},{"Typeface name":"Wingdings 2","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"128414","Unicode hex":"1F59E"},{"Typeface name":"Wingdings 2","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"128415","Unicode hex":"1F59F"},{"Typeface name":"Wingdings 2","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"128416","Unicode hex":"1F5A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128417","Unicode hex":"1F5A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"128070","Unicode hex":"1F446"},{"Typeface name":"Wingdings 2","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128071","Unicode hex":"1F447"},{"Typeface name":"Wingdings 2","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128418","Unicode hex":"1F5A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128419","Unicode hex":"1F5A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128401","Unicode hex":"1F591"},{"Typeface name":"Wingdings 2","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128500","Unicode hex":"1F5F4"},{"Typeface name":"Wingdings 2","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"128504","Unicode hex":"1F5F8"},{"Typeface name":"Wingdings 2","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"128501","Unicode hex":"1F5F5"},{"Typeface name":"Wingdings 2","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9745","Unicode hex":"2611"},{"Typeface name":"Wingdings 2","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"11197","Unicode hex":"2BBD"},{"Typeface name":"Wingdings 2","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"9746","Unicode hex":"2612"},{"Typeface name":"Wingdings 2","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"11198","Unicode hex":"2BBE"},{"Typeface name":"Wingdings 2","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"11199","Unicode hex":"2BBF"},{"Typeface name":"Wingdings 2","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128711","Unicode hex":"1F6C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"128625","Unicode hex":"1F671"},{"Typeface name":"Wingdings 2","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"128628","Unicode hex":"1F674"},{"Typeface name":"Wingdings 2","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128626","Unicode hex":"1F672"},{"Typeface name":"Wingdings 2","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128627","Unicode hex":"1F673"},{"Typeface name":"Wingdings 2","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"8253","Unicode hex":"203D"},{"Typeface name":"Wingdings 2","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128633","Unicode hex":"1F679"},{"Typeface name":"Wingdings 2","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128634","Unicode hex":"1F67A"},{"Typeface name":"Wingdings 2","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"128635","Unicode hex":"1F67B"},{"Typeface name":"Wingdings 2","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"128614","Unicode hex":"1F666"},{"Typeface name":"Wingdings 2","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128612","Unicode hex":"1F664"},{"Typeface name":"Wingdings 2","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"128613","Unicode hex":"1F665"},{"Typeface name":"Wingdings 2","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128615","Unicode hex":"1F667"},{"Typeface name":"Wingdings 2","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128602","Unicode hex":"1F65A"},{"Typeface name":"Wingdings 2","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128600","Unicode hex":"1F658"},{"Typeface name":"Wingdings 2","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"128601","Unicode hex":"1F659"},{"Typeface name":"Wingdings 2","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128603","Unicode hex":"1F65B"},{"Typeface name":"Wingdings 2","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9450","Unicode hex":"24EA"},{"Typeface name":"Wingdings 2","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"9312","Unicode hex":"2460"},{"Typeface name":"Wingdings 2","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"9313","Unicode hex":"2461"},{"Typeface name":"Wingdings 2","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9314","Unicode hex":"2462"},{"Typeface name":"Wingdings 2","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"9315","Unicode hex":"2463"},{"Typeface name":"Wingdings 2","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9316","Unicode hex":"2464"},{"Typeface name":"Wingdings 2","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"9317","Unicode hex":"2465"},{"Typeface name":"Wingdings 2","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9318","Unicode hex":"2466"},{"Typeface name":"Wingdings 2","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9319","Unicode hex":"2467"},{"Typeface name":"Wingdings 2","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9320","Unicode hex":"2468"},{"Typeface name":"Wingdings 2","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9321","Unicode hex":"2469"},{"Typeface name":"Wingdings 2","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9471","Unicode hex":"24FF"},{"Typeface name":"Wingdings 2","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"10102","Unicode hex":"2776"},{"Typeface name":"Wingdings 2","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10103","Unicode hex":"2777"},{"Typeface name":"Wingdings 2","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"10104","Unicode hex":"2778"},{"Typeface name":"Wingdings 2","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10105","Unicode hex":"2779"},{"Typeface name":"Wingdings 2","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"10106","Unicode hex":"277A"},{"Typeface name":"Wingdings 2","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"10107","Unicode hex":"277B"},{"Typeface name":"Wingdings 2","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"10108","Unicode hex":"277C"},{"Typeface name":"Wingdings 2","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"10109","Unicode hex":"277D"},{"Typeface name":"Wingdings 2","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"10110","Unicode hex":"277E"},{"Typeface name":"Wingdings 2","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"10111","Unicode hex":"277F"},{"Typeface name":"Wingdings 2","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"9737","Unicode hex":"2609"},{"Typeface name":"Wingdings 2","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"127765","Unicode hex":"1F315"},{"Typeface name":"Wingdings 2","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"9789","Unicode hex":"263D"},{"Typeface name":"Wingdings 2","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"9790","Unicode hex":"263E"},{"Typeface name":"Wingdings 2","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11839","Unicode hex":"2E3F"},{"Typeface name":"Wingdings 2","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10013","Unicode hex":"271D"},{"Typeface name":"Wingdings 2","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"128327","Unicode hex":"1F547"},{"Typeface name":"Wingdings 2","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"128348","Unicode hex":"1F55C"},{"Typeface name":"Wingdings 2","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"128349","Unicode hex":"1F55D"},{"Typeface name":"Wingdings 2","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"128350","Unicode hex":"1F55E"},{"Typeface name":"Wingdings 2","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"128351","Unicode hex":"1F55F"},{"Typeface name":"Wingdings 2","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"128352","Unicode hex":"1F560"},{"Typeface name":"Wingdings 2","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"128353","Unicode hex":"1F561"},{"Typeface name":"Wingdings 2","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"128354","Unicode hex":"1F562"},{"Typeface name":"Wingdings 2","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128355","Unicode hex":"1F563"},{"Typeface name":"Wingdings 2","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128356","Unicode hex":"1F564"},{"Typeface name":"Wingdings 2","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128357","Unicode hex":"1F565"},{"Typeface name":"Wingdings 2","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128358","Unicode hex":"1F566"},{"Typeface name":"Wingdings 2","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"128359","Unicode hex":"1F567"},{"Typeface name":"Wingdings 2","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128616","Unicode hex":"1F668"},{"Typeface name":"Wingdings 2","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128617","Unicode hex":"1F669"},{"Typeface name":"Wingdings 2","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128900","Unicode hex":"1F784"},{"Typeface name":"Wingdings 2","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"10625","Unicode hex":"2981"},{"Typeface name":"Wingdings 2","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"9679","Unicode hex":"25CF"},{"Typeface name":"Wingdings 2","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"9675","Unicode hex":"25CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128901","Unicode hex":"1F785"},{"Typeface name":"Wingdings 2","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128903","Unicode hex":"1F787"},{"Typeface name":"Wingdings 2","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128905","Unicode hex":"1F789"},{"Typeface name":"Wingdings 2","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"8857","Unicode hex":"2299"},{"Typeface name":"Wingdings 2","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"10687","Unicode hex":"29BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128908","Unicode hex":"1F78C"},{"Typeface name":"Wingdings 2","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128909","Unicode hex":"1F78D"},{"Typeface name":"Wingdings 2","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"9726","Unicode hex":"25FE"},{"Typeface name":"Wingdings 2","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"9632","Unicode hex":"25A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"9633","Unicode hex":"25A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128913","Unicode hex":"1F791"},{"Typeface name":"Wingdings 2","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128914","Unicode hex":"1F792"},{"Typeface name":"Wingdings 2","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128915","Unicode hex":"1F793"},{"Typeface name":"Wingdings 2","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128916","Unicode hex":"1F794"},{"Typeface name":"Wingdings 2","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9635","Unicode hex":"25A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128917","Unicode hex":"1F795"},{"Typeface name":"Wingdings 2","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128918","Unicode hex":"1F796"},{"Typeface name":"Wingdings 2","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128919","Unicode hex":"1F797"},{"Typeface name":"Wingdings 2","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128920","Unicode hex":"1F798"},{"Typeface name":"Wingdings 2","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings 2","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"11045","Unicode hex":"2B25"},{"Typeface name":"Wingdings 2","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"9671","Unicode hex":"25C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"128922","Unicode hex":"1F79A"},{"Typeface name":"Wingdings 2","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"9672","Unicode hex":"25C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"128923","Unicode hex":"1F79B"},{"Typeface name":"Wingdings 2","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128924","Unicode hex":"1F79C"},{"Typeface name":"Wingdings 2","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"128925","Unicode hex":"1F79D"},{"Typeface name":"Wingdings 2","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128926","Unicode hex":"1F79E"},{"Typeface name":"Wingdings 2","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"11050","Unicode hex":"2B2A"},{"Typeface name":"Wingdings 2","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"11047","Unicode hex":"2B27"},{"Typeface name":"Wingdings 2","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128928","Unicode hex":"1F7A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"9686","Unicode hex":"25D6"},{"Typeface name":"Wingdings 2","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"9687","Unicode hex":"25D7"},{"Typeface name":"Wingdings 2","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"11210","Unicode hex":"2BCA"},{"Typeface name":"Wingdings 2","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"11211","Unicode hex":"2BCB"},{"Typeface name":"Wingdings 2","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"11200","Unicode hex":"2BC0"},{"Typeface name":"Wingdings 2","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"11201","Unicode hex":"2BC1"},{"Typeface name":"Wingdings 2","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"11039","Unicode hex":"2B1F"},{"Typeface name":"Wingdings 2","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"11202","Unicode hex":"2BC2"},{"Typeface name":"Wingdings 2","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"11043","Unicode hex":"2B23"},{"Typeface name":"Wingdings 2","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11042","Unicode hex":"2B22"},{"Typeface name":"Wingdings 2","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11203","Unicode hex":"2BC3"},{"Typeface name":"Wingdings 2","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11204","Unicode hex":"2BC4"},{"Typeface name":"Wingdings 2","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128929","Unicode hex":"1F7A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128930","Unicode hex":"1F7A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128931","Unicode hex":"1F7A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128932","Unicode hex":"1F7A4"},{"Typeface name":"Wingdings 2","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128933","Unicode hex":"1F7A5"},{"Typeface name":"Wingdings 2","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128934","Unicode hex":"1F7A6"},{"Typeface name":"Wingdings 2","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128935","Unicode hex":"1F7A7"},{"Typeface name":"Wingdings 2","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128936","Unicode hex":"1F7A8"},{"Typeface name":"Wingdings 2","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128937","Unicode hex":"1F7A9"},{"Typeface name":"Wingdings 2","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128938","Unicode hex":"1F7AA"},{"Typeface name":"Wingdings 2","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128939","Unicode hex":"1F7AB"},{"Typeface name":"Wingdings 2","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128940","Unicode hex":"1F7AC"},{"Typeface name":"Wingdings 2","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128941","Unicode hex":"1F7AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128942","Unicode hex":"1F7AE"},{"Typeface name":"Wingdings 2","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128943","Unicode hex":"1F7AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"128944","Unicode hex":"1F7B0"},{"Typeface name":"Wingdings 2","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"128945","Unicode hex":"1F7B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"128946","Unicode hex":"1F7B2"},{"Typeface name":"Wingdings 2","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"128947","Unicode hex":"1F7B3"},{"Typeface name":"Wingdings 2","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"128948","Unicode hex":"1F7B4"},{"Typeface name":"Wingdings 2","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"128949","Unicode hex":"1F7B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"128950","Unicode hex":"1F7B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"128951","Unicode hex":"1F7B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"128952","Unicode hex":"1F7B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"128953","Unicode hex":"1F7B9"},{"Typeface name":"Wingdings 2","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"128954","Unicode hex":"1F7BA"},{"Typeface name":"Wingdings 2","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"128955","Unicode hex":"1F7BB"},{"Typeface name":"Wingdings 2","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"128956","Unicode hex":"1F7BC"},{"Typeface name":"Wingdings 2","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128957","Unicode hex":"1F7BD"},{"Typeface name":"Wingdings 2","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128958","Unicode hex":"1F7BE"},{"Typeface name":"Wingdings 2","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"128959","Unicode hex":"1F7BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"128960","Unicode hex":"1F7C0"},{"Typeface name":"Wingdings 2","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128962","Unicode hex":"1F7C2"},{"Typeface name":"Wingdings 2","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128964","Unicode hex":"1F7C4"},{"Typeface name":"Wingdings 2","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"128966","Unicode hex":"1F7C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"128969","Unicode hex":"1F7C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128970","Unicode hex":"1F7CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"10038","Unicode hex":"2736"},{"Typeface name":"Wingdings 2","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"128972","Unicode hex":"1F7CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128974","Unicode hex":"1F7CE"},{"Typeface name":"Wingdings 2","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128976","Unicode hex":"1F7D0"},{"Typeface name":"Wingdings 2","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128978","Unicode hex":"1F7D2"},{"Typeface name":"Wingdings 2","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"10041","Unicode hex":"2739"},{"Typeface name":"Wingdings 2","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128963","Unicode hex":"1F7C3"},{"Typeface name":"Wingdings 2","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128967","Unicode hex":"1F7C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Wingdings 2","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128973","Unicode hex":"1F7CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128980","Unicode hex":"1F7D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11212","Unicode hex":"2BCC"},{"Typeface name":"Wingdings 2","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11213","Unicode hex":"2BCD"},{"Typeface name":"Wingdings 2","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"8251","Unicode hex":"203B"},{"Typeface name":"Wingdings 2","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"8258","Unicode hex":"2042"},{"Typeface name":"Wingdings 3","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 3","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"11104","Unicode hex":"2B60"},{"Typeface name":"Wingdings 3","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"11106","Unicode hex":"2B62"},{"Typeface name":"Wingdings 3","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"11105","Unicode hex":"2B61"},{"Typeface name":"Wingdings 3","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"11107","Unicode hex":"2B63"},{"Typeface name":"Wingdings 3","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"11110","Unicode hex":"2B66"},{"Typeface name":"Wingdings 3","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"11111","Unicode hex":"2B67"},{"Typeface name":"Wingdings 3","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"11113","Unicode hex":"2B69"},{"Typeface name":"Wingdings 3","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"11112","Unicode hex":"2B68"},{"Typeface name":"Wingdings 3","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"11120","Unicode hex":"2B70"},{"Typeface name":"Wingdings 3","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"11122","Unicode hex":"2B72"},{"Typeface name":"Wingdings 3","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"11121","Unicode hex":"2B71"},{"Typeface name":"Wingdings 3","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"11123","Unicode hex":"2B73"},{"Typeface name":"Wingdings 3","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"11126","Unicode hex":"2B76"},{"Typeface name":"Wingdings 3","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"11128","Unicode hex":"2B78"},{"Typeface name":"Wingdings 3","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"11131","Unicode hex":"2B7B"},{"Typeface name":"Wingdings 3","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"11133","Unicode hex":"2B7D"},{"Typeface name":"Wingdings 3","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"11108","Unicode hex":"2B64"},{"Typeface name":"Wingdings 3","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"11109","Unicode hex":"2B65"},{"Typeface name":"Wingdings 3","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"11114","Unicode hex":"2B6A"},{"Typeface name":"Wingdings 3","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"11116","Unicode hex":"2B6C"},{"Typeface name":"Wingdings 3","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"11115","Unicode hex":"2B6B"},{"Typeface name":"Wingdings 3","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"11117","Unicode hex":"2B6D"},{"Typeface name":"Wingdings 3","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"11085","Unicode hex":"2B4D"},{"Typeface name":"Wingdings 3","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"11168","Unicode hex":"2BA0"},{"Typeface name":"Wingdings 3","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"11169","Unicode hex":"2BA1"},{"Typeface name":"Wingdings 3","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"11170","Unicode hex":"2BA2"},{"Typeface name":"Wingdings 3","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"11171","Unicode hex":"2BA3"},{"Typeface name":"Wingdings 3","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"11172","Unicode hex":"2BA4"},{"Typeface name":"Wingdings 3","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"11173","Unicode hex":"2BA5"},{"Typeface name":"Wingdings 3","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"11174","Unicode hex":"2BA6"},{"Typeface name":"Wingdings 3","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"11175","Unicode hex":"2BA7"},{"Typeface name":"Wingdings 3","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"11152","Unicode hex":"2B90"},{"Typeface name":"Wingdings 3","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"11153","Unicode hex":"2B91"},{"Typeface name":"Wingdings 3","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"11154","Unicode hex":"2B92"},{"Typeface name":"Wingdings 3","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"11155","Unicode hex":"2B93"},{"Typeface name":"Wingdings 3","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"11136","Unicode hex":"2B80"},{"Typeface name":"Wingdings 3","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"11139","Unicode hex":"2B83"},{"Typeface name":"Wingdings 3","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"11134","Unicode hex":"2B7E"},{"Typeface name":"Wingdings 3","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"11135","Unicode hex":"2B7F"},{"Typeface name":"Wingdings 3","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"11140","Unicode hex":"2B84"},{"Typeface name":"Wingdings 3","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"11142","Unicode hex":"2B86"},{"Typeface name":"Wingdings 3","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"11141","Unicode hex":"2B85"},{"Typeface name":"Wingdings 3","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"11143","Unicode hex":"2B87"},{"Typeface name":"Wingdings 3","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"11151","Unicode hex":"2B8F"},{"Typeface name":"Wingdings 3","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"11149","Unicode hex":"2B8D"},{"Typeface name":"Wingdings 3","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"11150","Unicode hex":"2B8E"},{"Typeface name":"Wingdings 3","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"11148","Unicode hex":"2B8C"},{"Typeface name":"Wingdings 3","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"11118","Unicode hex":"2B6E"},{"Typeface name":"Wingdings 3","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"11119","Unicode hex":"2B6F"},{"Typeface name":"Wingdings 3","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9099","Unicode hex":"238B"},{"Typeface name":"Wingdings 3","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"8996","Unicode hex":"2324"},{"Typeface name":"Wingdings 3","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"8963","Unicode hex":"2303"},{"Typeface name":"Wingdings 3","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"8997","Unicode hex":"2325"},{"Typeface name":"Wingdings 3","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"9251","Unicode hex":"2423"},{"Typeface name":"Wingdings 3","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"9085","Unicode hex":"237D"},{"Typeface name":"Wingdings 3","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"8682","Unicode hex":"21EA"},{"Typeface name":"Wingdings 3","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"11192","Unicode hex":"2BB8"},{"Typeface name":"Wingdings 3","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"129184","Unicode hex":"1F8A0"},{"Typeface name":"Wingdings 3","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"129185","Unicode hex":"1F8A1"},{"Typeface name":"Wingdings 3","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"129186","Unicode hex":"1F8A2"},{"Typeface name":"Wingdings 3","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"129187","Unicode hex":"1F8A3"},{"Typeface name":"Wingdings 3","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"129188","Unicode hex":"1F8A4"},{"Typeface name":"Wingdings 3","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"129189","Unicode hex":"1F8A5"},{"Typeface name":"Wingdings 3","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"129190","Unicode hex":"1F8A6"},{"Typeface name":"Wingdings 3","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"129191","Unicode hex":"1F8A7"},{"Typeface name":"Wingdings 3","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"129192","Unicode hex":"1F8A8"},{"Typeface name":"Wingdings 3","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"129193","Unicode hex":"1F8A9"},{"Typeface name":"Wingdings 3","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"129194","Unicode hex":"1F8AA"},{"Typeface name":"Wingdings 3","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"129195","Unicode hex":"1F8AB"},{"Typeface name":"Wingdings 3","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"129104","Unicode hex":"1F850"},{"Typeface name":"Wingdings 3","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"129106","Unicode hex":"1F852"},{"Typeface name":"Wingdings 3","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"129105","Unicode hex":"1F851"},{"Typeface name":"Wingdings 3","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"129107","Unicode hex":"1F853"},{"Typeface name":"Wingdings 3","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"129108","Unicode hex":"1F854"},{"Typeface name":"Wingdings 3","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"129109","Unicode hex":"1F855"},{"Typeface name":"Wingdings 3","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"129111","Unicode hex":"1F857"},{"Typeface name":"Wingdings 3","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"129110","Unicode hex":"1F856"},{"Typeface name":"Wingdings 3","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"129112","Unicode hex":"1F858"},{"Typeface name":"Wingdings 3","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"129113","Unicode hex":"1F859"},{"Typeface name":"Wingdings 3","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9650","Unicode hex":"25B2"},{"Typeface name":"Wingdings 3","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9660","Unicode hex":"25BC"},{"Typeface name":"Wingdings 3","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9651","Unicode hex":"25B3"},{"Typeface name":"Wingdings 3","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9661","Unicode hex":"25BD"},{"Typeface name":"Wingdings 3","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9664","Unicode hex":"25C0"},{"Typeface name":"Wingdings 3","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9654","Unicode hex":"25B6"},{"Typeface name":"Wingdings 3","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"9665","Unicode hex":"25C1"},{"Typeface name":"Wingdings 3","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9655","Unicode hex":"25B7"},{"Typeface name":"Wingdings 3","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"9699","Unicode hex":"25E3"},{"Typeface name":"Wingdings 3","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"9698","Unicode hex":"25E2"},{"Typeface name":"Wingdings 3","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"9700","Unicode hex":"25E4"},{"Typeface name":"Wingdings 3","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"9701","Unicode hex":"25E5"},{"Typeface name":"Wingdings 3","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"128896","Unicode hex":"1F780"},{"Typeface name":"Wingdings 3","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128898","Unicode hex":"1F782"},{"Typeface name":"Wingdings 3","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128897","Unicode hex":"1F781"},{"Typeface name":"Wingdings 3","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128899","Unicode hex":"1F783"},{"Typeface name":"Wingdings 3","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"11205","Unicode hex":"2BC5"},{"Typeface name":"Wingdings 3","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"11206","Unicode hex":"2BC6"},{"Typeface name":"Wingdings 3","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"11207","Unicode hex":"2BC7"},{"Typeface name":"Wingdings 3","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11208","Unicode hex":"2BC8"},{"Typeface name":"Wingdings 3","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"11164","Unicode hex":"2B9C"},{"Typeface name":"Wingdings 3","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"11166","Unicode hex":"2B9E"},{"Typeface name":"Wingdings 3","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"11165","Unicode hex":"2B9D"},{"Typeface name":"Wingdings 3","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"11167","Unicode hex":"2B9F"},{"Typeface name":"Wingdings 3","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"129040","Unicode hex":"1F810"},{"Typeface name":"Wingdings 3","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"129042","Unicode hex":"1F812"},{"Typeface name":"Wingdings 3","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"129041","Unicode hex":"1F811"},{"Typeface name":"Wingdings 3","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"129043","Unicode hex":"1F813"},{"Typeface name":"Wingdings 3","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"129044","Unicode hex":"1F814"},{"Typeface name":"Wingdings 3","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"129046","Unicode hex":"1F816"},{"Typeface name":"Wingdings 3","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"129045","Unicode hex":"1F815"},{"Typeface name":"Wingdings 3","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"129047","Unicode hex":"1F817"},{"Typeface name":"Wingdings 3","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"129048","Unicode hex":"1F818"},{"Typeface name":"Wingdings 3","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"129050","Unicode hex":"1F81A"},{"Typeface name":"Wingdings 3","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"129049","Unicode hex":"1F819"},{"Typeface name":"Wingdings 3","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"129051","Unicode hex":"1F81B"},{"Typeface name":"Wingdings 3","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"129052","Unicode hex":"1F81C"},{"Typeface name":"Wingdings 3","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"129054","Unicode hex":"1F81E"},{"Typeface name":"Wingdings 3","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"129053","Unicode hex":"1F81D"},{"Typeface name":"Wingdings 3","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"129055","Unicode hex":"1F81F"},{"Typeface name":"Wingdings 3","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"129024","Unicode hex":"1F800"},{"Typeface name":"Wingdings 3","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"129026","Unicode hex":"1F802"},{"Typeface name":"Wingdings 3","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"129025","Unicode hex":"1F801"},{"Typeface name":"Wingdings 3","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"129027","Unicode hex":"1F803"},{"Typeface name":"Wingdings 3","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"129028","Unicode hex":"1F804"},{"Typeface name":"Wingdings 3","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"129030","Unicode hex":"1F806"},{"Typeface name":"Wingdings 3","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"129029","Unicode hex":"1F805"},{"Typeface name":"Wingdings 3","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"129031","Unicode hex":"1F807"},{"Typeface name":"Wingdings 3","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"129032","Unicode hex":"1F808"},{"Typeface name":"Wingdings 3","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"129034","Unicode hex":"1F80A"},{"Typeface name":"Wingdings 3","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"129033","Unicode hex":"1F809"},{"Typeface name":"Wingdings 3","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"129035","Unicode hex":"1F80B"},{"Typeface name":"Wingdings 3","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"129056","Unicode hex":"1F820"},{"Typeface name":"Wingdings 3","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"129058","Unicode hex":"1F822"},{"Typeface name":"Wingdings 3","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"129060","Unicode hex":"1F824"},{"Typeface name":"Wingdings 3","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"129062","Unicode hex":"1F826"},{"Typeface name":"Wingdings 3","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"129064","Unicode hex":"1F828"},{"Typeface name":"Wingdings 3","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"129066","Unicode hex":"1F82A"},{"Typeface name":"Wingdings 3","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"129068","Unicode hex":"1F82C"},{"Typeface name":"Wingdings 3","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"129180","Unicode hex":"1F89C"},{"Typeface name":"Wingdings 3","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"129181","Unicode hex":"1F89D"},{"Typeface name":"Wingdings 3","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"129182","Unicode hex":"1F89E"},{"Typeface name":"Wingdings 3","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"129183","Unicode hex":"1F89F"},{"Typeface name":"Wingdings 3","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"129070","Unicode hex":"1F82E"},{"Typeface name":"Wingdings 3","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"129072","Unicode hex":"1F830"},{"Typeface name":"Wingdings 3","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"129074","Unicode hex":"1F832"},{"Typeface name":"Wingdings 3","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"129076","Unicode hex":"1F834"},{"Typeface name":"Wingdings 3","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"129078","Unicode hex":"1F836"},{"Typeface name":"Wingdings 3","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"129080","Unicode hex":"1F838"},{"Typeface name":"Wingdings 3","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"129082","Unicode hex":"1F83A"},{"Typeface name":"Wingdings 3","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"129081","Unicode hex":"1F839"},{"Typeface name":"Wingdings 3","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"129083","Unicode hex":"1F83B"},{"Typeface name":"Wingdings 3","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"129176","Unicode hex":"1F898"},{"Typeface name":"Wingdings 3","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"129178","Unicode hex":"1F89A"},{"Typeface name":"Wingdings 3","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"129177","Unicode hex":"1F899"},{"Typeface name":"Wingdings 3","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"129179","Unicode hex":"1F89B"},{"Typeface name":"Wingdings 3","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"129084","Unicode hex":"1F83C"},{"Typeface name":"Wingdings 3","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"129086","Unicode hex":"1F83E"},{"Typeface name":"Wingdings 3","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"129085","Unicode hex":"1F83D"},{"Typeface name":"Wingdings 3","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"129087","Unicode hex":"1F83F"},{"Typeface name":"Wingdings 3","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"129088","Unicode hex":"1F840"},{"Typeface name":"Wingdings 3","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"129090","Unicode hex":"1F842"},{"Typeface name":"Wingdings 3","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"129089","Unicode hex":"1F841"},{"Typeface name":"Wingdings 3","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"129091","Unicode hex":"1F843"},{"Typeface name":"Wingdings 3","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"129092","Unicode hex":"1F844"},{"Typeface name":"Wingdings 3","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"129094","Unicode hex":"1F846"},{"Typeface name":"Wingdings 3","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"129093","Unicode hex":"1F845"},{"Typeface name":"Wingdings 3","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"129095","Unicode hex":"1F847"},{"Typeface name":"Wingdings 3","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11176","Unicode hex":"2BA8"},{"Typeface name":"Wingdings 3","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11177","Unicode hex":"2BA9"},{"Typeface name":"Wingdings 3","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"11178","Unicode hex":"2BAA"},{"Typeface name":"Wingdings 3","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"11179","Unicode hex":"2BAB"},{"Typeface name":"Wingdings 3","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"11180","Unicode hex":"2BAC"},{"Typeface name":"Wingdings 3","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"11181","Unicode hex":"2BAD"},{"Typeface name":"Wingdings 3","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"11182","Unicode hex":"2BAE"},{"Typeface name":"Wingdings 3","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"11183","Unicode hex":"2BAF"},{"Typeface name":"Wingdings 3","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"129120","Unicode hex":"1F860"},{"Typeface name":"Wingdings 3","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"129122","Unicode hex":"1F862"},{"Typeface name":"Wingdings 3","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"129121","Unicode hex":"1F861"},{"Typeface name":"Wingdings 3","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"129123","Unicode hex":"1F863"},{"Typeface name":"Wingdings 3","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"129124","Unicode hex":"1F864"},{"Typeface name":"Wingdings 3","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"129125","Unicode hex":"1F865"},{"Typeface name":"Wingdings 3","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"129127","Unicode hex":"1F867"},{"Typeface name":"Wingdings 3","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"129126","Unicode hex":"1F866"},{"Typeface name":"Wingdings 3","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"129136","Unicode hex":"1F870"},{"Typeface name":"Wingdings 3","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"129138","Unicode hex":"1F872"},{"Typeface name":"Wingdings 3","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"129137","Unicode hex":"1F871"},{"Typeface name":"Wingdings 3","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"129139","Unicode hex":"1F873"},{"Typeface name":"Wingdings 3","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"129140","Unicode hex":"1F874"},{"Typeface name":"Wingdings 3","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"129141","Unicode hex":"1F875"},{"Typeface name":"Wingdings 3","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129143","Unicode hex":"1F877"},{"Typeface name":"Wingdings 3","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129142","Unicode hex":"1F876"},{"Typeface name":"Wingdings 3","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129152","Unicode hex":"1F880"},{"Typeface name":"Wingdings 3","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129154","Unicode hex":"1F882"},{"Typeface name":"Wingdings 3","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129153","Unicode hex":"1F881"},{"Typeface name":"Wingdings 3","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129155","Unicode hex":"1F883"},{"Typeface name":"Wingdings 3","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129156","Unicode hex":"1F884"},{"Typeface name":"Wingdings 3","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129157","Unicode hex":"1F885"},{"Typeface name":"Wingdings 3","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129159","Unicode hex":"1F887"},{"Typeface name":"Wingdings 3","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129158","Unicode hex":"1F886"},{"Typeface name":"Wingdings 3","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129168","Unicode hex":"1F890"},{"Typeface name":"Wingdings 3","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129170","Unicode hex":"1F892"},{"Typeface name":"Wingdings 3","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129169","Unicode hex":"1F891"},{"Typeface name":"Wingdings 3","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129171","Unicode hex":"1F893"},{"Typeface name":"Wingdings 3","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129172","Unicode hex":"1F894"},{"Typeface name":"Wingdings 3","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129174","Unicode hex":"1F896"},{"Typeface name":"Wingdings 3","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"129173","Unicode hex":"1F895"},{"Typeface name":"Wingdings 3","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"129175","Unicode hex":"1F897"}];return s2.default=t,s2}var Wj;function A7e(){if(Wj)return Vo;Wj=1;var t=Vo&&Vo.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(Vo,"__esModule",{value:!0}),Vo.hex=Vo.dec=Vo.codePoint=void 0;for(var e=t(D7e()),n={},r=String.fromCodePoint?String.fromCodePoint:h,i=0,s=e.default;i<s.length;i++){var a=s[i],o=parseInt(a["Unicode dec"],10),l={codePoint:o,string:r(o)};n[a["Typeface name"].toUpperCase()+"_"+a["Dingbat dec"]]=l}function c(p,v){return n[p.toUpperCase()+"_"+v]}Vo.codePoint=c;function u(p,v){return c(p,parseInt(v,10))}Vo.dec=u;function f(p,v){return c(p,parseInt(v,16))}Vo.hex=f;function h(p){if(p<=65535)return String.fromCharCode(p);var v=Math.floor((p-65536)/1024)+55296,g=(p-65536)%1024+56320;return String.fromCharCode(v,g)}return Vo}var a2={},qj;function N7e(){if(qj)return a2;qj=1,a2.uriToZipEntryName=t,a2.replaceFragment=e;function t(n,r){return r.charAt(0)==="/"?r.substr(1):n+"/"+r}function e(n,r){var i=n.indexOf("#");return i!==-1&&(n=n.substring(0,i)),n+"#"+r}return a2}var $j;function k7e(){if($j)return i2;$j=1,i2.createBodyReader=a,i2._readNumberingProperties=l;var t=A7e(),e=mi,n=Eh(),r=Mc().Result,i=Mc().warning,s=N7e();function a(w){return{readXmlElement:function(C){return new o(w).readXmlElement(C)},readXmlElements:function(C){return new o(w).readXmlElements(C)}}}function o(w){var C=[],S=[],R=[],D=w.relationships,N=w.contentTypes,I=w.docxFile,F=w.files,P=w.numbering,k=w.styles;function U(Te){var Ue=Te.map(O);return y(Ue)}function O(Te){if(Te.type==="element"){var Ue=Me[Te.name];if(Ue)return Ue(Te);if(!Object.prototype.hasOwnProperty.call(u,Te.name)){var Oe=i("An unrecognised element was ignored: "+Te.name);return f([Oe])}}return h()}function H(Te){return Q(Te).map(function(Ue){return{type:"paragraphProperties",styleId:Ue.styleId,styleName:Ue.name,alignment:Te.firstOrEmpty("w:jc").attributes["w:val"],numbering:l(Ue.styleId,Te.firstOrEmpty("w:numPr"),P),indent:G(Te.firstOrEmpty("w:ind"))}})}function G(Te){return{start:Te.attributes["w:start"]||Te.attributes["w:left"],end:Te.attributes["w:end"]||Te.attributes["w:right"],firstLine:Te.attributes["w:firstLine"],hanging:Te.attributes["w:hanging"]}}function X(Te){return B(Te).map(function(Ue){var Oe=Te.firstOrEmpty("w:sz").attributes["w:val"],Je=/^[0-9]+$/.test(Oe)?parseInt(Oe,10)/2:null;return{type:"runProperties",styleId:Ue.styleId,styleName:Ue.name,verticalAlignment:Te.firstOrEmpty("w:vertAlign").attributes["w:val"],font:Te.firstOrEmpty("w:rFonts").attributes["w:ascii"],fontSize:Je,isBold:z(Te.first("w:b")),isUnderline:Z(Te.first("w:u")),isItalic:z(Te.first("w:i")),isStrikethrough:z(Te.first("w:strike")),isAllCaps:z(Te.first("w:caps")),isSmallCaps:z(Te.first("w:smallCaps"))}})}function Z(Te){if(Te){var Ue=Te.attributes["w:val"];return Ue!==void 0&&Ue!=="false"&&Ue!=="0"&&Ue!=="none"}else return!1}function z(Te){if(Te){var Ue=Te.attributes["w:val"];return Ue!=="false"&&Ue!=="0"}else return!1}function Q(Te){return q(Te,"w:pStyle","Paragraph",k.findParagraphStyleById)}function B(Te){return q(Te,"w:rStyle","Run",k.findCharacterStyleById)}function j(Te){return q(Te,"w:tblStyle","Table",k.findTableStyleById)}function q(Te,Ue,Oe,Je){var ot=[],lt=Te.first(Ue),Bt=null,fn=null;if(lt&&(Bt=lt.attributes["w:val"],Bt)){var ln=Je(Bt);ln?fn=ln.name:ot.push(Le(Oe,Bt))}return v({styleId:Bt,name:fn},ot)}var J={type:"unknown"};function Y(Te){var Ue=Te.attributes["w:fldCharType"];if(Ue==="begin")C.push(J),S=[];else if(Ue==="end")C.pop();else if(Ue==="separate"){var Oe=oe(S.join("")),Je=Oe===null?J:{type:"hyperlink",options:Oe};C.pop(),C.push(Je)}return h()}function te(){var Te=e.last(C.filter(function(Ue){return Ue.type==="hyperlink"}));return Te?Te.options:null}function oe(Te){var Ue=/\s*HYPERLINK "(.*)"/.exec(Te);if(Ue)return{href:Ue[1]};var Oe=/\s*HYPERLINK\s+\\l\s+"(.*)"/.exec(Te);return Oe?{anchor:Oe[1]}:null}function de(Te){return S.push(Te.text()),h()}function fe(Te){var Ue=Te.attributes["w:font"],Oe=Te.attributes["w:char"],Je=t.hex(Ue,Oe);return Je==null&&/^F0..$/.test(Oe)&&(Je=t.hex(Ue,Oe.substring(2))),Je==null?f([i("A w:sym element with an unsupported character was ignored: char "+Oe+" in font "+Ue)]):p(new n.Text(Je.string))}function Ce(Te){return function(Ue){var Oe=Ue.attributes["w:id"];return p(new n.NoteReference({noteType:Te,noteId:Oe}))}}function Pe(Te){return p(n.commentReference({commentId:Te.attributes["w:id"]}))}function pe(Te){return U(Te.children)}var Me={"w:p":function(Te){var Ue=Te.firstOrEmpty("w:pPr"),Oe=!!Ue.firstOrEmpty("w:rPr").first("w:del");if(Oe)return Te.children.forEach(function(ot){R.push(ot)}),h();var Je=Te.children;return R.length>0&&(Je=R.concat(Je),R=[]),g.map(H(Ue),U(Je),function(ot,lt){return new n.Paragraph(lt,ot)}).insertExtra()},"w:r":function(Te){return g.map(X(Te.firstOrEmpty("w:rPr")),U(Te.children),function(Ue,Oe){var Je=te();return Je!==null&&(Oe=[new n.Hyperlink(Oe,Je)]),new n.Run(Oe,Ue)})},"w:fldChar":Y,"w:instrText":de,"w:t":function(Te){return p(new n.Text(Te.text()))},"w:tab":function(Te){return p(new n.Tab)},"w:noBreakHyphen":function(){return p(new n.Text(""))},"w:softHyphen":function(Te){return p(new n.Text(""))},"w:sym":fe,"w:hyperlink":function(Te){var Ue=Te.attributes["r:id"],Oe=Te.attributes["w:anchor"];return U(Te.children).map(function(Je){function ot(Bt){var fn=Te.attributes["w:tgtFrame"]||null;return new n.Hyperlink(Je,e.extend({targetFrame:fn},Bt))}if(Ue){var lt=D.findTargetByRelationshipId(Ue);return Oe&&(lt=s.replaceFragment(lt,Oe)),ot({href:lt})}else return Oe?ot({anchor:Oe}):Je})},"w:tbl":W,"w:tr":_e,"w:tc":ce,"w:footnoteReference":Ce("footnote"),"w:endnoteReference":Ce("endnote"),"w:commentReference":Pe,"w:br":function(Te){var Ue=Te.attributes["w:type"];return Ue==null||Ue==="textWrapping"?p(n.lineBreak):Ue==="page"?p(n.pageBreak):Ue==="column"?p(n.columnBreak):f([i("Unsupported break type: "+Ue)])},"w:bookmarkStart":function(Te){var Ue=Te.attributes["w:name"];return Ue==="_GoBack"?h():p(new n.BookmarkStart({name:Ue}))},"mc:AlternateContent":function(Te){return pe(Te.first("mc:Fallback"))},"w:sdt":function(Te){return U(Te.firstOrEmpty("w:sdtContent").children)},"w:ins":pe,"w:object":pe,"w:smartTag":pe,"w:drawing":pe,"w:pict":function(Te){return pe(Te).toExtra()},"v:roundrect":pe,"v:shape":pe,"v:textbox":pe,"w:txbxContent":pe,"wp:inline":ke,"wp:anchor":ke,"v:imagedata":ve,"v:group":pe,"v:rect":pe};return{readXmlElement:O,readXmlElements:U};function W(Te){var Ue=ge(Te.firstOrEmpty("w:tblPr"));return U(Te.children).flatMap(le).flatMap(function(Oe){return Ue.map(function(Je){return n.Table(Oe,Je)})})}function ge(Te){return j(Te).map(function(Ue){return{styleId:Ue.styleId,styleName:Ue.name}})}function _e(Te){var Ue=Te.firstOrEmpty("w:trPr"),Oe=!!Ue.first("w:tblHeader");return U(Te.children).map(function(Je){return n.TableRow(Je,{isHeader:Oe})})}function ce(Te){return U(Te.children).map(function(Ue){var Oe=Te.firstOrEmpty("w:tcPr"),Je=Oe.firstOrEmpty("w:gridSpan").attributes["w:val"],ot=Je?parseInt(Je,10):1,lt=n.TableCell(Ue,{colSpan:ot});return lt._vMerge=re(Oe),lt})}function re(Te){var Ue=Te.first("w:vMerge");if(Ue){var Oe=Ue.attributes["w:val"];return Oe==="continue"||!Oe}else return null}function le(Te){var Ue=e.any(Te,function(ot){return ot.type!==n.types.tableRow});if(Ue)return v(Te,[i("unexpected non-row element in table, cell merging may be incorrect")]);var Oe=e.any(Te,function(ot){return e.any(ot.children,function(lt){return lt.type!==n.types.tableCell})});if(Oe)return v(Te,[i("unexpected non-cell element in table row, cell merging may be incorrect")]);var Je={};return Te.forEach(function(ot){var lt=0;ot.children.forEach(function(Bt){Bt._vMerge&&Je[lt]?Je[lt].rowSpan++:(Je[lt]=Bt,Bt._vMerge=!1),lt+=Bt.colSpan})}),Te.forEach(function(ot){ot.children=ot.children.filter(function(lt){return!lt._vMerge}),ot.children.forEach(function(lt){delete lt._vMerge})}),p(Te)}function ke(Te){var Ue=Te.getElementsByTagName("a:graphic").getElementsByTagName("a:graphicData").getElementsByTagName("pic:pic").getElementsByTagName("pic:blipFill").getElementsByTagName("a:blip");return y(Ue.map(Ne.bind(null,Te)))}function Ne(Te,Ue){var Oe=Te.first("wp:docPr").attributes,Je=ie(Oe.descr)?Oe.title:Oe.descr,ot=ue(Ue);return ot===null?f([i("Could not find image file for a:blip element")]):Ie(ot,Je)}function ie(Te){return Te==null||/^\s*$/.test(Te)}function ue(Te){var Ue=Te.attributes["r:embed"],Oe=Te.attributes["r:link"];if(Ue)return be(Ue);if(Oe){var Je=D.findTargetByRelationshipId(Oe);return{path:Je,read:F.read.bind(F,Je)}}else return null}function ve(Te){var Ue=Te.attributes["r:id"];return Ue?Ie(be(Ue),Te.attributes["o:title"]):f([i("A v:imagedata element without a relationship ID was ignored")])}function be(Te){var Ue=s.uriToZipEntryName("word",D.findTargetByRelationshipId(Te));return{path:Ue,read:I.read.bind(I,Ue)}}function Ie(Te,Ue){var Oe=N.findContentType(Te.path),Je=n.Image({readImage:Te.read,altText:Ue,contentType:Oe}),ot=c[Oe]?[]:i("Image of type "+Oe+" is unlikely to display in web browsers");return v(Je,ot)}function Le(Te,Ue){return i(Te+" style with ID "+Ue+" was referenced but not defined in the document")}}function l(w,C,S){var R=C.firstOrEmpty("w:ilvl").attributes["w:val"],D=C.firstOrEmpty("w:numId").attributes["w:val"];if(R!==void 0&&D!==void 0)return S.findLevel(D,R);if(w!=null){var N=S.findLevelByParagraphStyleId(w);if(N!=null)return N}return null}var c={"image/png":!0,"image/gif":!0,"image/jpeg":!0,"image/svg+xml":!0,"image/tiff":!0},u={"office-word:wrap":!0,"v:shadow":!0,"v:shapetype":!0,"w:annotationRef":!0,"w:bookmarkEnd":!0,"w:sectPr":!0,"w:proofErr":!0,"w:lastRenderedPageBreak":!0,"w:commentRangeStart":!0,"w:commentRangeEnd":!0,"w:del":!0,"w:footnoteRef":!0,"w:endnoteRef":!0,"w:pPr":!0,"w:rPr":!0,"w:tblPr":!0,"w:tblGrid":!0,"w:trPr":!0,"w:tcPr":!0};function f(w){return new g(null,null,w)}function h(){return new g(null)}function p(w){return new g(w)}function v(w,C){return new g(w,null,C)}function g(w,C,S){this.value=w||[],this.extra=C||[],this._result=new r({element:this.value,extra:C},S),this.messages=this._result.messages}g.prototype.toExtra=function(){return new g(null,_(this.extra,this.value),this.messages)},g.prototype.insertExtra=function(){var w=this.extra;return w&&w.length?new g(_(this.value,w),null,this.messages):this},g.prototype.map=function(w){var C=this._result.map(function(S){return w(S.element)});return new g(C.value,this.extra,C.messages)},g.prototype.flatMap=function(w){var C=this._result.flatMap(function(S){return w(S.element)._result});return new g(C.value.element,_(this.extra,C.value.extra),C.messages)},g.map=function(w,C,S){return new g(S(w.value,C.value),_(w.extra,C.extra),w.messages.concat(C.messages))};function y(w){var C=r.combine(e.pluck(w,"_result"));return new g(e.flatten(e.pluck(C.value,"element")),e.filter(e.flatten(e.pluck(C.value,"extra")),x),C.messages)}function _(w,C){return e.flatten([w,C])}function x(w){return w}return i2}var sD={},zj;function I7e(){if(zj)return sD;zj=1,sD.DocumentXmlReader=n;var t=Eh(),e=Mc().Result;function n(r){var i=r.bodyReader;function s(a){var o=a.first("w:body");if(o==null)throw new Error("Could not find the body element: are you sure this is a docx file?");var l=i.readXmlElements(o.children).map(function(c){return new t.Document(c,{notes:r.notes,comments:r.comments})});return new e(l.value,l.messages)}return{convertXmlToDocument:s}}return sD}var y0={},Hj;function R7e(){if(Hj)return y0;Hj=1,y0.readRelationships=t,y0.defaultValue=new e([]),y0.Relationships=e;function t(n){var r=[];return n.children.forEach(function(i){if(i.name==="relationships:Relationship"){var s={relationshipId:i.attributes.Id,target:i.attributes.Target,type:i.attributes.Type};r.push(s)}}),new e(r)}function e(n){var r={};n.forEach(function(s){r[s.relationshipId]=s.target});var i={};return n.forEach(function(s){i[s.type]||(i[s.type]=[]),i[s.type].push(s.target)}),{findTargetByRelationshipId:function(s){return r[s]},findTargetsByType:function(s){return i[s]||[]}}}return y0}var o2={},Gj;function P7e(){if(Gj)return o2;Gj=1,o2.readContentTypesFromXml=e;var t={png:"png",gif:"gif",jpeg:"jpeg",jpg:"jpeg",tif:"tiff",tiff:"tiff",bmp:"bmp"};o2.defaultContentTypes=n({},{});function e(r){var i={},s={};return r.children.forEach(function(a){if(a.name==="content-types:Default"&&(i[a.attributes.Extension]=a.attributes.ContentType),a.name==="content-types:Override"){var o=a.attributes.PartName;o.charAt(0)==="/"&&(o=o.substring(1)),s[o]=a.attributes.ContentType}}),n(s,i)}function n(r,i){return{findContentType:function(s){var a=r[s];if(a)return a;var o=s.split("."),l=o[o.length-1];if(i.hasOwnProperty(l))return i[l];var c=t[l.toLowerCase()];return c?"image/"+c:null}}}return o2}var v0={},Kj;function F7e(){if(Kj)return v0;Kj=1;var t=mi;v0.readNumberingXml=n,v0.Numbering=e,v0.defaultNumbering=new e({},{});function e(a,o,l){var c=t.flatten(t.values(o).map(function(p){return t.values(p.levels)})),u=t.indexBy(c.filter(function(p){return p.paragraphStyleId!=null}),"paragraphStyleId");function f(p,v){var g=a[p];if(g){var y=o[g.abstractNumId];if(y){if(y.numStyleLink==null)return o[g.abstractNumId].levels[v];var _=l.findNumberingStyleById(y.numStyleLink);return f(_.numId,v)}else return null}else return null}function h(p){return u[p]||null}return{findLevel:f,findLevelByParagraphStyleId:h}}function n(a,o){if(!o||!o.styles)throw new Error("styles is missing");var l=r(a),c=s(a);return new e(c,l,o.styles)}function r(a){var o={};return a.getElementsByTagName("w:abstractNum").forEach(function(l){var c=l.attributes["w:abstractNumId"];o[c]=i(l)}),o}function i(a){var o={};a.getElementsByTagName("w:lvl").forEach(function(c){var u=c.attributes["w:ilvl"],f=c.firstOrEmpty("w:numFmt").attributes["w:val"],h=c.firstOrEmpty("w:pStyle").attributes["w:val"];o[u]={isOrdered:f!=="bullet",level:u,paragraphStyleId:h}});var l=a.firstOrEmpty("w:numStyleLink").attributes["w:val"];return{levels:o,numStyleLink:l}}function s(a){var o={};return a.getElementsByTagName("w:num").forEach(function(l){var c=l.attributes["w:numId"],u=l.first("w:abstractNumId").attributes["w:val"];o[c]={abstractNumId:u}}),o}return v0}var x0={},Jj;function M7e(){if(Jj)return x0;Jj=1,x0.readStylesXml=e,x0.Styles=t,x0.defaultStyles=new t({},{});function t(s,a,o,l){return{findParagraphStyleById:function(c){return s[c]},findCharacterStyleById:function(c){return a[c]},findTableStyleById:function(c){return o[c]},findNumberingStyleById:function(c){return l[c]}}}t.EMPTY=new t({},{},{},{});function e(s){var a={},o={},l={},c={},u={paragraph:a,character:o,table:l};return s.getElementsByTagName("w:style").forEach(function(f){var h=n(f);if(h.type==="numbering")c[h.styleId]=i(f);else{var p=u[h.type];p&&(p[h.styleId]=h)}}),new t(a,o,l,c)}function n(s){var a=s.attributes["w:type"],o=s.attributes["w:styleId"],l=r(s);return{type:a,styleId:o,name:l}}function r(s){var a=s.first("w:name");return a?a.attributes["w:val"]:null}function i(s){var a=s.firstOrEmpty("w:pPr").firstOrEmpty("w:numPr").firstOrEmpty("w:numId").attributes["w:val"];return{numId:a}}return x0}var xp={},Xj;function U7e(){if(Xj)return xp;Xj=1;var t=Eh(),e=Mc().Result;xp.createFootnotesReader=n.bind(xp,"footnote"),xp.createEndnotesReader=n.bind(xp,"endnote");function n(r,i){function s(l){return e.combine(l.getElementsByTagName("w:"+r).filter(a).map(o))}function a(l){var c=l.attributes["w:type"];return c!=="continuationSeparator"&&c!=="separator"}function o(l){var c=l.attributes["w:id"];return i.readXmlElements(l.children).map(function(u){return t.Note({noteType:r,noteId:c,body:u})})}return s}return xp}var aD={},Yj;function O7e(){if(Yj)return aD;Yj=1;var t=Eh(),e=Mc().Result;function n(r){function i(a){return e.combine(a.getElementsByTagName("w:comment").map(s))}function s(a){var o=a.attributes["w:id"];function l(c){return(a.attributes[c]||"").trim()||null}return r.readXmlElements(a.children).map(function(c){return t.comment({commentId:o,body:c,authorName:l("w:author"),authorInitials:l("w:initials")})})}return i}return aD.createCommentsReader=n,aD}var oD={},Qj;function L7e(){if(Qj)return oD;Qj=1;var t=Ed();oD.Files=e;function e(){function n(r){return t.reject(new Error("could not open external image: '"+r+`'
cannot open linked files from a web browser`))}return{read:n}}return oD}var Zj;function j7e(){if(Zj)return Qx;Zj=1,Qx.read=v,Qx._findPartPaths=g;var t=Ed(),e=Eh(),n=Mc().Result,r=eQ(),i=S7e().readXmlFromZipFile,s=k7e().createBodyReader,a=I7e().DocumentXmlReader,o=R7e(),l=P7e(),c=F7e(),u=M7e(),f=U7e(),h=O7e(),p=L7e().Files;function v(I,F){return F=F||{},t.props({contentTypes:S(I),partPaths:g(I),docxFile:I,files:F.path?p.relativeToFile(F.path):new p(null)}).also(function(P){return{styles:D(I,P.partPaths.styles)}}).also(function(P){return{numbering:R(I,P.partPaths.numbering,P.styles)}}).also(function(P){return{footnotes:w(P.partPaths.footnotes,P,function(k,U){return U?f.createFootnotesReader(k)(U):new n([])}),endnotes:w(P.partPaths.endnotes,P,function(k,U){return U?f.createEndnotesReader(k)(U):new n([])}),comments:w(P.partPaths.comments,P,function(k,U){return U?h.createCommentsReader(k)(U):new n([])})}}).also(function(P){return{notes:P.footnotes.flatMap(function(k){return P.endnotes.map(function(U){return new e.Notes(k.concat(U))})})}}).then(function(P){return w(P.partPaths.mainDocument,P,function(k,U){return P.notes.flatMap(function(O){return P.comments.flatMap(function(H){var G=new a({bodyReader:k,notes:O,comments:H});return G.convertXmlToDocument(U)})})})})}function g(I){return N(I).then(function(F){var P=y({docxFile:I,relationships:F,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",basePath:"",fallbackPath:"word/document.xml"});if(!I.exists(P))throw new Error("Could not find main document part. Are you sure this is a valid .docx file?");return x({filename:C(P),readElement:o.readRelationships,defaultValue:o.defaultValue})(I).then(function(k){function U(O){return y({docxFile:I,relationships:k,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/"+O,basePath:r.splitPath(P).dirname,fallbackPath:"word/"+O+".xml"})}return{mainDocument:P,comments:U("comments"),endnotes:U("endnotes"),footnotes:U("footnotes"),numbering:U("numbering"),styles:U("styles")}})})}function y(I){var F=I.docxFile,P=I.relationships,k=I.relationshipType,U=I.basePath,O=I.fallbackPath,H=P.findTargetsByType(k),G=H.map(function(Z){return _(r.joinPath(U,Z),"/")}),X=G.filter(function(Z){return F.exists(Z)});return X.length===0?O:X[0]}function _(I,F){return I.substring(0,F.length)===F?I.substring(F.length):I}function x(I){return function(F){return i(F,I.filename).then(function(P){return P?I.readElement(P):I.defaultValue})}}function w(I,F,P){var k=x({filename:C(I),readElement:o.readRelationships,defaultValue:o.defaultValue});return k(F.docxFile).then(function(U){var O=new s({relationships:U,contentTypes:F.contentTypes,docxFile:F.docxFile,numbering:F.numbering,styles:F.styles,files:F.files});return i(F.docxFile,I).then(function(H){return P(O,H)})})}function C(I){var F=r.splitPath(I);return r.joinPath(F.dirname,"_rels",F.basename+".rels")}var S=x({filename:"[Content_Types].xml",readElement:l.readContentTypesFromXml,defaultValue:l.defaultContentTypes});function R(I,F,P){return x({filename:F,readElement:function(k){return c.readNumberingXml(k,{styles:P})},defaultValue:c.defaultNumbering})(I)}function D(I,F){return x({filename:F,readElement:u.readStylesXml,defaultValue:u.defaultStyles})(I)}var N=x({filename:"_rels/.rels",readElement:o.readRelationships,defaultValue:o.defaultValue});return Qx}var l2={},eB;function B7e(){if(eB)return l2;eB=1;var t=mi,e=Ed(),n=sQ();l2.writeStyleMap=a,l2.readStyleMap=u;var r="http://schemas.zwobble.org/mammoth/style-map",i="mammoth/style-map",s="/"+i;function a(f,h){return f.write(i,h),o(f).then(function(){return l(f)})}function o(f){var h="word/_rels/document.xml.rels",p="http://schemas.openxmlformats.org/package/2006/relationships",v="{"+p+"}Relationship";return f.read(h,"utf8").then(n.readString).then(function(g){var y=g.children;c(y,v,"Id",{Id:"rMammothStyleMap",Type:r,Target:s});var _={"":p};return f.write(h,n.writeString(g,_))})}function l(f){var h="[Content_Types].xml",p="http://schemas.openxmlformats.org/package/2006/content-types",v="{"+p+"}Override";return f.read(h,"utf8").then(n.readString).then(function(g){var y=g.children;c(y,v,"PartName",{PartName:s,ContentType:"text/prs.mammoth.style-map"});var _={"":p};return f.write(h,n.writeString(g,_))})}function c(f,h,p,v){var g=t.find(f,function(y){return y.name===h&&y.attributes[p]===v[p]});g?g.attributes=v:f.push(n.element(h,v))}function u(f){return f.exists(i)?f.read(i,"utf8"):e.resolve(null)}return l2}var c2={},Hd={},lc={},bu={},tB;function aQ(){if(tB)return bu;tB=1;var t=gT();function e(l,c,u){return r(t.element(l,c,{fresh:!1}),u)}function n(l,c,u){var f=t.element(l,c,{fresh:!0});return r(f,u)}function r(l,c){return{type:"element",tag:l,children:c||[]}}function i(l){return{type:"text",value:l}}var s={type:"forceWrite"};bu.freshElement=n,bu.nonFreshElement=e,bu.elementWithTag=r,bu.text=i,bu.forceWrite=s;var a={br:!0,hr:!0,img:!0};function o(l){return l.children.length===0&&a[l.tag.tagName]}return bu.isVoidElement=o,bu}var lD,nB;function V7e(){if(nB)return lD;nB=1;var t=mi,e=aQ();function n(g){return r(c(g))}function r(g){var y=[];return g.map(i).forEach(function(_){l(y,_)}),y}function i(g){return s[g.type](g)}var s={element:a,text:o,forceWrite:o};function a(g){return e.elementWithTag(g.tag,r(g.children))}function o(g){return g}function l(g,y){var _=g[g.length-1];y.type==="element"&&!y.tag.fresh&&_&&_.type==="element"&&y.tag.matchesElement(_.tag)?(y.tag.separator&&l(_.children,e.text(y.tag.separator)),y.children.forEach(function(x){l(_.children,x)})):g.push(y)}function c(g){return u(g,function(y){return f[y.type](y)})}function u(g,y){return t.flatten(t.map(g,y),!0)}var f={element:p,text:v,forceWrite:h};function h(g){return[g]}function p(g){var y=c(g.children);return y.length===0&&!e.isVoidElement(g)?[]:[e.elementWithTag(g.tag,y)]}function v(g){return g.value.length===0?[]:[g]}return lD=n,lD}var rB;function mT(){if(rB)return lc;rB=1;var t=aQ();lc.freshElement=t.freshElement,lc.nonFreshElement=t.nonFreshElement,lc.elementWithTag=t.elementWithTag,lc.text=t.text,lc.forceWrite=t.forceWrite,lc.simplify=V7e();function e(a,o){o.forEach(function(l){n(a,l)})}function n(a,o){r[o.type](a,o)}var r={element:i,text:s,forceWrite:function(){}};function i(a,o){t.isVoidElement(o)?a.selfClosing(o.tag.tagName,o.tag.attributes):(a.open(o.tag.tagName,o.tag.attributes),e(a,o.children),a.close(o.tag.tagName))}function s(a,o){a.text(o.value)}return lc.write=e,lc}var iB;function gT(){if(iB)return Hd;iB=1;var t=mi,e=mT();Hd.topLevelElement=n,Hd.elements=r,Hd.element=s;function n(o,l){return r([s(o,l,{fresh:!0})])}function r(o){return new i(o.map(function(l){return t.isString(l)?s(l):l}))}function i(o){this._elements=o}i.prototype.wrap=function(l){for(var c=l(),u=this._elements.length-1;u>=0;u--)c=this._elements[u].wrapNodes(c);return c};function s(o,l,c){return c=c||{},new a(o,l,c)}function a(o,l,c){var u={};t.isArray(o)?(o.forEach(function(f){u[f]=!0}),o=o[0]):u[o]=!0,this.tagName=o,this.tagNames=u,this.attributes=l||{},this.fresh=c.fresh,this.separator=c.separator}return a.prototype.matchesElement=function(o){return this.tagNames[o.tagName]&&t.isEqual(this.attributes||{},o.attributes||{})},a.prototype.wrap=function(l){return this.wrapNodes(l())},a.prototype.wrapNodes=function(l){return[e.elementWithTag(this,l)]},Hd.empty=r([]),Hd.ignore={wrap:function(){return[]}},Hd}var cD={},sB;function oQ(){return sB||(sB=1,(function(t){var e=mi,n=Ed(),r=mT();t.imgElement=i;function i(s){return function(a,o){return n.when(s(a)).then(function(l){var c={};return a.altText&&(c.alt=a.altText),e.extend(c,l),[r.freshElement("img",c)]})}}t.inline=t.imgElement,t.dataUri=i(function(s){return s.readAsBase64String().then(function(a){return{src:"data:"+s.contentType+";base64,"+a}})})})(cD)),cD}var uD={},dD={},aB;function W7e(){if(aB)return dD;aB=1;var t=mi;dD.writer=e;function e(o){return o=o||{},o.prettyPrint?r():i()}var n={div:!0,p:!0,ul:!0,li:!0};function r(){var o=0,l="  ",c=[],u=!0,f=!1,h=i();function p(S,R){n[S]&&w(),c.push(S),h.open(S,R),n[S]&&o++,u=!1}function v(S){n[S]&&(o--,w()),c.pop(),h.close(S)}function g(S){x();var R=C()?S:S.replace(`
`,`
`+l);h.text(R)}function y(S,R){w(),h.selfClosing(S,R)}function _(){return c.length===0||n[c[c.length-1]]}function x(){f||(w(),f=!0)}function w(){if(f=!1,!u&&_()&&!C()){h._append(`
`);for(var S=0;S<o;S++)h._append(l)}}function C(){return t.some(c,function(S){return S==="pre"})}return{asString:h.asString,open:p,close:v,text:g,selfClosing:y}}function i(){var o=[];function l(g,y){var _=f(y);o.push("<"+g+_+">")}function c(g){o.push("</"+g+">")}function u(g,y){var _=f(y);o.push("<"+g+_+" />")}function f(g){return t.map(g,function(y,_){return" "+_+'="'+a(y)+'"'}).join("")}function h(g){o.push(s(g))}function p(g){o.push(g)}function v(){return o.join("")}return{asString:v,open:l,close:c,text:h,selfClosing:u,_append:p}}function s(o){return o.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function a(o){return o.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}return dD}var fD={},oB;function q7e(){if(oB)return fD;oB=1;var t=mi;function e(f){return n(f,f)}function n(f,h){return function(){return{start:f,end:h}}}function r(f){var h=f.href||"";return h?{start:"[",end:"]("+h+")",anchorPosition:"before"}:{}}function i(f){var h=f.src||"",p=f.alt||"";return h||p?{start:"!["+p+"]("+h+")"}:{}}function s(f){return function(h,p){return{start:p?`
`:"",end:p?"":`
`,list:{isOrdered:f.isOrdered,indent:p?p.indent+1:0,count:0}}}}function a(f,h,p){h=h||{indent:0,isOrdered:!1,count:0},h.count++,p.hasClosed=!1;var v=h.isOrdered?h.count+".":"-",g=l("	",h.indent)+v+" ";return{start:g,end:function(){if(!p.hasClosed)return p.hasClosed=!0,`
`}}}var o={p:n("",`

`),br:n("",`  
`),ul:s({isOrdered:!1}),ol:s({isOrdered:!0}),li:a,strong:e("__"),em:e("*"),a:r,img:i};(function(){for(var f=1;f<=6;f++)o["h"+f]=n(l("#",f)+" ",`

`)})();function l(f,h){return new Array(h+1).join(f)}function c(){var f=[],h=[],p=null,v={};function g(S,R){R=R||{};var D=o[S]||function(){return{}},N=D(R,p,v);h.push({end:N.end,list:p}),N.list&&(p=N.list);var I=N.anchorPosition==="before";I&&y(R),f.push(N.start||""),I||y(R)}function y(S){S.id&&f.push('<a id="'+S.id+'"></a>')}function _(S){var R=h.pop();p=R.list;var D=t.isFunction(R.end)?R.end():R.end;f.push(D||"")}function x(S,R){g(S,R),_()}function w(S){f.push(u(S))}function C(){return f.join("")}return{asString:C,open:g,close:_,text:w,selfClosing:x}}fD.writer=c;function u(f){return f.replace(/\\/g,"\\\\").replace(/([\`\*_\{\}\[\]\(\)\#\+\-\.\!])/g,"\\$1")}return fD}var lB;function $7e(){if(lB)return uD;lB=1;var t=W7e(),e=q7e();uD.writer=n;function n(r){return r=r||{},r.outputFormat==="markdown"?e.writer():t.writer(r)}return uD}var cB;function z7e(){if(cB)return c2;cB=1;var t=mi,e=Ed(),n=Eh(),r=gT(),i=Mc(),s=oQ(),a=mT(),o=$7e();c2.DocumentConverter=l;function l(y){return{convertToHtml:function(_){var x=t.indexBy(_.type===n.types.document?_.comments:[],"commentId"),w=new c(y,x);return w.convertToHtml(_)}}}function c(y,_){var x=1,w=[],C=[];y=t.extend({ignoreEmptyParagraphs:!0},y);var S=y.idPrefix===void 0?"":y.idPrefix,R=y.ignoreEmptyParagraphs,D=r.topLevelElement("p"),N=y.styleMap||[];function I(W){var ge=[],_e=P(W,ge,{}),ce=[];v(_e,function(le){le.type==="deferred"&&ce.push(le)});var re={};return e.mapSeries(ce,function(le){return le.value().then(function(ke){re[le.id]=ke})}).then(function(){function le(Ne){return p(Ne,function(ie){return ie.type==="deferred"?re[ie.id]:ie.children?[t.extend({},ie,{children:le(ie.children)})]:[ie]})}var ke=o.writer({prettyPrint:y.prettyPrint,outputFormat:y.outputFormat});return a.write(ke,a.simplify(le(_e))),new i.Result(ke.asString(),ge)})}function F(W,ge,_e){return p(W,function(ce){return P(ce,ge,_e)})}function P(W,ge,_e){if(!_e)throw new Error("options not set");var ce=Me[W.type];return ce?ce(W,ge,_e):[]}function k(W,ge,_e){return U(W,ge).wrap(function(){var ce=F(W.children,ge,_e);return R?ce:[a.forceWrite].concat(ce)})}function U(W,ge){var _e=X(W);return _e?_e.to:(W.styleId&&ge.push(h("paragraph",W)),D)}function O(W,ge,_e){var ce=function(){return F(W.children,ge,_e)},re=[];W.isSmallCaps&&re.push(H("smallCaps")),W.isAllCaps&&re.push(H("allCaps")),W.isStrikethrough&&re.push(H("strikethrough","s")),W.isUnderline&&re.push(H("underline")),W.verticalAlignment===n.verticalAlignment.subscript&&re.push(r.element("sub",{},{fresh:!1})),W.verticalAlignment===n.verticalAlignment.superscript&&re.push(r.element("sup",{},{fresh:!1})),W.isItalic&&re.push(H("italic","em")),W.isBold&&re.push(H("bold","strong"));var le=r.empty,ke=X(W);return ke?le=ke.to:W.styleId&&ge.push(h("run",W)),re.push(le),re.forEach(function(Ne){ce=Ne.wrap.bind(Ne,ce)}),ce()}function H(W,ge){var _e=G({type:W});return _e||(ge?r.element(ge,{},{fresh:!1}):r.empty)}function G(W,ge){var _e=X(W);return _e?_e.to:ge}function X(W){for(var ge=0;ge<N.length;ge++)if(N[ge].from.matches(W))return N[ge]}function Z(W){return function(ge,_e){return e.attempt(function(){return W(ge,_e)}).caught(function(ce){return _e.push(i.error(ce)),[]})}}function z(W){return B(W.noteType,W.noteId)}function Q(W){return j(W.noteType,W.noteId)}function B(W,ge){return q(W+"-"+ge)}function j(W,ge){return q(W+"-ref-"+ge)}function q(W){return S+W}var J=r.elements([r.element("table",{},{fresh:!0})]);function Y(W,ge,_e){return G(W,J).wrap(function(){return te(W,ge,_e)})}function te(W,ge,_e){var ce=t.findIndex(W.children,function(Ne){return!Ne.type===n.types.tableRow||!Ne.isHeader});ce===-1&&(ce=W.children.length);var re;if(ce===0)re=F(W.children,ge,t.extend({},_e,{isTableHeader:!1}));else{var le=F(W.children.slice(0,ce),ge,t.extend({},_e,{isTableHeader:!0})),ke=F(W.children.slice(ce),ge,t.extend({},_e,{isTableHeader:!1}));re=[a.freshElement("thead",{},le),a.freshElement("tbody",{},ke)]}return[a.forceWrite].concat(re)}function oe(W,ge,_e){var ce=F(W.children,ge,_e);return[a.freshElement("tr",{},[a.forceWrite].concat(ce))]}function de(W,ge,_e){var ce=_e.isTableHeader?"th":"td",re=F(W.children,ge,_e),le={};return W.colSpan!==1&&(le.colspan=W.colSpan.toString()),W.rowSpan!==1&&(le.rowspan=W.rowSpan.toString()),[a.freshElement(ce,le,[a.forceWrite].concat(re))]}function fe(W,ge,_e){return G(W,r.ignore).wrap(function(){var ce=_[W.commentId],re=C.length+1,le="["+g(ce)+re+"]";return C.push({label:le,comment:ce}),[a.freshElement("a",{href:"#"+B("comment",W.commentId),id:j("comment",W.commentId)},[a.text(le)])]})}function Ce(W,ge,_e){var ce=W.label,re=W.comment,le=F(re.body,ge,_e).concat([a.nonFreshElement("p",{},[a.text(" "),a.freshElement("a",{href:"#"+j("comment",re.commentId)},[a.text("")])])]);return[a.freshElement("dt",{id:B("comment",re.commentId)},[a.text("Comment "+ce)]),a.freshElement("dd",{},le)]}function Pe(W,ge,_e){return pe(W).wrap(function(){return[]})}function pe(W){var ge=X(W);return ge?ge.to:W.breakType==="line"?r.topLevelElement("br"):r.empty}var Me={document:function(W,ge,_e){var ce=F(W.children,ge,_e),re=w.map(function(ke){return W.notes.resolve(ke)}),le=F(re,ge,_e);return ce.concat([a.freshElement("ol",{},le),a.freshElement("dl",{},p(C,function(ke){return Ce(ke,ge,_e)}))])},paragraph:k,run:O,text:function(W,ge,_e){return[a.text(W.value)]},tab:function(W,ge,_e){return[a.text("	")]},hyperlink:function(W,ge,_e){var ce=W.anchor?"#"+q(W.anchor):W.href,re={href:ce};W.targetFrame!=null&&(re.target=W.targetFrame);var le=F(W.children,ge,_e);return[a.nonFreshElement("a",re,le)]},bookmarkStart:function(W,ge,_e){var ce=a.freshElement("a",{id:q(W.name)},[a.forceWrite]);return[ce]},noteReference:function(W,ge,_e){w.push(W);var ce=a.freshElement("a",{href:"#"+z(W),id:Q(W)},[a.text("["+x+++"]")]);return[a.freshElement("sup",{},[ce])]},note:function(W,ge,_e){var ce=F(W.body,ge,_e),re=a.elementWithTag(r.element("p",{},{fresh:!1}),[a.text(" "),a.freshElement("a",{href:"#"+Q(W)},[a.text("")])]),le=ce.concat([re]);return a.freshElement("li",{id:z(W)},le)},commentReference:fe,comment:Ce,image:f(Z(y.convertImage||s.dataUri)),table:Y,tableRow:oe,tableCell:de,break:Pe};return{convertToHtml:I}}var u=1;function f(y){return function(_,x,w){return[{type:"deferred",id:u++,value:function(){return y(_,x,w)}}]}}function h(y,_){return i.warning("Unrecognised "+y+" style: '"+_.styleName+"' (Style ID: "+_.styleId+")")}function p(y,_){return t.flatten(y.map(_),!0)}function v(y,_){y.forEach(function(x){_(x),x.children&&v(x.children,_)})}var g=c2.commentAuthorLabel=function(_){return _.authorInitials||""};return c2}var hD={},uB;function H7e(){if(uB)return hD;uB=1;var t=Eh();function e(n){if(n.type==="text")return n.value;if(n.type===t.types.tab)return"	";var r=n.type==="paragraph"?`

`:"";return(n.children||[]).map(e).join("")+r}return hD.convertElementToRawText=e,hD}var b0={},Wo={},pD={},mD={exports:{}},dB;function G7e(){if(dB)return mD.exports;dB=1;var t=mD.exports=function(e,n){this._tokens=e,this._startIndex=n||0};return t.prototype.head=function(){return this._tokens[this._startIndex]},t.prototype.tail=function(e){return new t(this._tokens,this._startIndex+1)},t.prototype.toArray=function(){return this._tokens.slice(this._startIndex)},t.prototype.end=function(){return this._tokens[this._tokens.length-1]},t.prototype.to=function(e){var n=this.head().source,r=e.head()||e.end();return n.to(r.source)},mD.exports}var fB;function K7e(){if(fB)return pD;fB=1;var t=G7e();return pD.Parser=function(e){var n=function(r,i){return r(new t(i))};return{parseTokens:n}},pD}var gD={},yD={},hB;function J7e(){return hB||(hB=1,(function(t){t.none=Object.create({value:function(){throw new Error("Called value on none")},isNone:function(){return!0},isSome:function(){return!1},map:function(){return t.none},flatMap:function(){return t.none},filter:function(){return t.none},toArray:function(){return[]},orElse:e,valueOrElse:e});function e(r){return typeof r=="function"?r():r}t.some=function(r){return new n(r)};var n=function(r){this._value=r};n.prototype.value=function(){return this._value},n.prototype.isNone=function(){return!1},n.prototype.isSome=function(){return!0},n.prototype.map=function(r){return new n(r(this._value))},n.prototype.flatMap=function(r){return r(this._value)},n.prototype.filter=function(r){return r(this._value)?this:t.none},n.prototype.toArray=function(){return[this._value]},n.prototype.orElse=function(r){return this},n.prototype.valueOrElse=function(r){return this._value},t.isOption=function(r){return r===t.none||r instanceof n},t.fromNullable=function(r){return r==null?t.none:new n(r)}})(yD)),yD}var vD,pB;function e5(){if(pB)return vD;pB=1,vD={failure:function(e,n){if(e.length<1)throw new Error("Failure must have errors");return new t({status:"failure",remaining:n,errors:e})},error:function(e,n){if(e.length<1)throw new Error("Failure must have errors");return new t({status:"error",remaining:n,errors:e})},success:function(e,n,r){return new t({status:"success",value:e,source:r,remaining:n,errors:[]})},cut:function(e){return new t({status:"cut",remaining:e,errors:[]})}};var t=function(e){this._value=e.value,this._status=e.status,this._hasValue=e.value!==void 0,this._remaining=e.remaining,this._source=e.source,this._errors=e.errors};return t.prototype.map=function(e){return this._hasValue?new t({value:e(this._value,this._source),status:this._status,remaining:this._remaining,source:this._source,errors:this._errors}):this},t.prototype.changeRemaining=function(e){return new t({value:this._value,status:this._status,remaining:e,source:this._source,errors:this._errors})},t.prototype.isSuccess=function(){return this._status==="success"||this._status==="cut"},t.prototype.isFailure=function(){return this._status==="failure"},t.prototype.isError=function(){return this._status==="error"},t.prototype.isCut=function(){return this._status==="cut"},t.prototype.value=function(){return this._value},t.prototype.remaining=function(){return this._remaining},t.prototype.source=function(){return this._source},t.prototype.errors=function(){return this._errors},vD}var xD={},mB;function lQ(){if(mB)return xD;mB=1,xD.error=function(e){return new t(e)};var t=function(e){this.expected=e.expected,this.actual=e.actual,this._location=e.location};return t.prototype.describe=function(){var e=this._location?this._location.describe()+`:
`:"";return e+"Expected "+this.expected+`
but got `+this.actual},t.prototype.lineNumber=function(){return this._location.lineNumber()},t.prototype.characterNumber=function(){return this._location.characterNumber()},xD}var bD={},gB;function X7e(){if(gB)return bD;gB=1,bD.fromArray=function(e){var n=0,r=function(){return n<e.length};return new t({hasNext:r,next:function(){if(r())return e[n++];throw new Error("No more elements")}})};var t=function(e){this._iterator=e};return t.prototype.map=function(e){var n=this._iterator;return new t({hasNext:function(){return n.hasNext()},next:function(){return e(n.next())}})},t.prototype.filter=function(e){var n=this._iterator,r=!1,i=!1,s,a=function(){if(!r)for(r=!0,i=!1;n.hasNext()&&!i;)s=n.next(),i=e(s)};return new t({hasNext:function(){return a(),i},next:function(){a();var o=s;return r=!1,o}})},t.prototype.first=function(){var e=this._iterator;return this._iterator.hasNext()?e.next():null},t.prototype.toArray=function(){for(var e=[];this._iterator.hasNext();)e.push(this._iterator.next());return e},bD}var yB;function cQ(){return yB||(yB=1,(function(t){var e=mi,n=J7e(),r=e5(),i=lQ(),s=X7e();t.token=function(h,p){var v=p!==void 0;return function(g){var y=g.head();if(y&&y.name===h&&(!v||y.value===p))return r.success(y.value,g.tail(),y.source);var _=u({name:h,value:p});return f(g,_)}},t.tokenOfType=function(h){return t.token(h)},t.firstOf=function(h,p){return e.isArray(p)||(p=Array.prototype.slice.call(arguments,1)),function(v){return s.fromArray(p).map(function(g){return g(v)}).filter(function(g){return g.isSuccess()||g.isError()}).first()||f(v,h)}},t.then=function(h,p){return function(v){var g=h(v);return g.map||console.log(g),g.map(p)}},t.sequence=function(){var h=Array.prototype.slice.call(arguments,0),p=function(g){var y=e.foldl(h,function(x,w){var C=x.result,S=x.hasCut;if(!C.isSuccess())return{result:C,hasCut:S};var R=w(C.remaining());if(R.isCut())return{result:C,hasCut:!0};if(R.isSuccess()){var D;w.isCaptured?D=C.value().withValue(w,R.value()):D=C.value();var N=R.remaining(),I=g.to(N);return{result:r.success(D,N,I),hasCut:S}}else return S?{result:r.error(R.errors(),R.remaining()),hasCut:S}:{result:R,hasCut:S}},{result:r.success(new a,g),hasCut:!1}).result,_=g.to(y.remaining());return y.map(function(x){return x.withValue(t.sequence.source,_)})};p.head=function(){var g=e.find(h,v);return t.then(p,t.sequence.extract(g))},p.map=function(g){return t.then(p,function(y){return g.apply(this,y.toArray())})};function v(g){return g.isCaptured}return p};var a=function(h,p){this._values=h||{},this._valuesArray=p||[]};a.prototype.withValue=function(h,p){if(h.captureName&&h.captureName in this._values)throw new Error('Cannot add second value for capture "'+h.captureName+'"');var v=e.clone(this._values);v[h.captureName]=p;var g=this._valuesArray.concat([p]);return new a(v,g)},a.prototype.get=function(h){if(h.captureName in this._values)return this._values[h.captureName];throw new Error('No value for capture "'+h.captureName+'"')},a.prototype.toArray=function(){return this._valuesArray},t.sequence.capture=function(h,p){var v=function(){return h.apply(this,arguments)};return v.captureName=p,v.isCaptured=!0,v},t.sequence.extract=function(h){return function(p){return p.get(h)}},t.sequence.applyValues=function(h){var p=Array.prototype.slice.call(arguments,1);return function(v){var g=p.map(function(y){return v.get(y)});return h.apply(this,g)}},t.sequence.source={captureName:"source"},t.sequence.cut=function(){return function(h){return r.cut(h)}},t.optional=function(h){return function(p){var v=h(p);return v.isSuccess()?v.map(n.some):v.isFailure()?r.success(n.none,p):v}},t.zeroOrMoreWithSeparator=function(h,p){return c(h,p,!1)},t.oneOrMoreWithSeparator=function(h,p){return c(h,p,!0)};var o=t.zeroOrMore=function(h){return function(p){for(var v=[],g;(g=h(p))&&g.isSuccess();)p=g.remaining(),v.push(g.value());return g.isError()?g:r.success(v,p)}};t.oneOrMore=function(h){return t.oneOrMoreWithSeparator(h,l)};function l(h){return r.success(null,h)}var c=function(h,p,v){return function(g){var y=h(g);if(y.isSuccess()){var _=t.sequence.capture(h,"main"),x=o(t.then(t.sequence(p,_),t.sequence.extract(_))),w=x(y.remaining());return r.success([y.value()].concat(w.value()),w.remaining())}else return v||y.isError()?y:r.success([],g)}};t.leftAssociative=function(h,p,v){var g;v?g=[{func:v,rule:p}]:g=p,g=g.map(function(_){return t.then(_.rule,function(x){return function(w,C){return _.func(w,x,C)}})});var y=t.firstOf.apply(null,["rules"].concat(g));return function(_){var x=_,w=h(_);if(!w.isSuccess())return w;for(var C=y(w.remaining());C.isSuccess();){var S=C.remaining(),R=x.to(C.remaining()),D=C.value();w=r.success(D(w.value(),R),S,R),C=y(w.remaining())}return C.isError()?C:w}},t.leftAssociative.firstOf=function(){return Array.prototype.slice.call(arguments,0)},t.nonConsuming=function(h){return function(p){return h(p).changeRemaining(p)}};var u=function(h){return h.value?h.name+' "'+h.value+'"':h.name};function f(h,p){var v,g=h.head();return g?v=i.error({expected:p,actual:u(g),location:g.source}):v=i.error({expected:p,actual:"end of tokens"}),r.failure([v],h)}})(gD)),gD}var _D={exports:{}},vB;function uQ(){if(vB)return _D.exports;vB=1,_D.exports=function(e,n){var r={asString:function(){return e},range:function(i,s){return new t(e,n,i,s)}};return r};var t=function(e,n,r,i){this._string=e,this._description=n,this._startIndex=r,this._endIndex=i};return t.prototype.to=function(e){return new t(this._string,this._description,this._startIndex,e._endIndex)},t.prototype.describe=function(){var e=this._position(),n=this._description?this._description+`
`:"";return n+"Line number: "+e.lineNumber+`
Character number: `+e.characterNumber},t.prototype.lineNumber=function(){return this._position().lineNumber},t.prototype.characterNumber=function(){return this._position().characterNumber},t.prototype._position=function(){for(var e=this,n=0,r=function(){return e._string.indexOf(`
`,n)},i=1;r()!==-1&&r()<this._startIndex;)n=r()+1,i+=1;var s=this._startIndex-n+1;return{lineNumber:i,characterNumber:s}},_D.exports}var wD,xB;function dQ(){return xB||(xB=1,wD=function(t,e,n){this.name=t,this.value=e,n&&(this.source=n)}),wD}var TD={},bB;function Y7e(){return bB||(bB=1,(function(t){var e=cQ(),n=e5();t.parser=function(s,a,o){var l={rule:h,leftAssociative:p,rightAssociative:v},c=new r(o.map(f)),u=e.firstOf(s,a);function f(_){return{name:_.name,rule:i(_.ruleBuilder.bind(null,l))}}function h(){return g(c)}function p(_){return g(c.untilExclusive(_))}function v(_){return g(c.untilInclusive(_))}function g(_){return y.bind(null,_)}function y(_,x){var w=u(x);return w.isSuccess()?_.apply(w):w}return l};function r(s){function a(f){return new r(s.slice(0,l().indexOf(f)))}function o(f){return new r(s.slice(0,l().indexOf(f)+1))}function l(){return s.map(function(f){return f.name})}function c(f){for(var h,p;;)if(h=u(f.remaining()),h.isSuccess())p=f.source().to(h.source()),f=n.success(h.value()(f.value(),p),h.remaining(),p);else return h.isFailure()?f:h}function u(f){return e.firstOf("infix",s.map(function(h){return h.rule}))(f)}return{apply:c,untilExclusive:a,untilInclusive:o}}t.infix=function(s,a){function o(l){return t.infix(s,function(c){var u=a(c);return function(f){var h=u(f);return h.map(function(p){return function(v,g){return l(v,p,g)}})}})}return{name:s,ruleBuilder:a,map:o}};var i=function(s){var a;return function(o){return a||(a=s()),a(o)}}})(TD)),TD}var ED={},_B;function Q7e(){if(_B)return ED;_B=1;var t=dQ(),e=uQ();ED.RegexTokeniser=n;function n(r){r=r.map(function(o){return{name:o.name,regex:new RegExp(o.regex.source,"g")}});function i(o,l){for(var c=new e(o,l),u=0,f=[];u<o.length;){var h=s(o,u,c);u=h.endIndex,f.push(h.token)}return f.push(a(o,c)),f}function s(o,l,c){for(var u=0;u<r.length;u++){var f=r[u].regex;f.lastIndex=l;var h=f.exec(o);if(h){var v=l+h[0].length;if(h.index===l&&v>l){var p=h[1],g=new t(r[u].name,p,c.range(l,v));return{token:g,endIndex:v}}}}var v=l+1,g=new t("unrecognisedCharacter",o.substring(l,v),c.range(l,v));return{token:g,endIndex:v}}function a(o,l){return new t("end",null,l.range(o.length,o.length))}return{tokenise:i}}return ED}var wB;function fQ(){return wB||(wB=1,Wo.Parser=K7e().Parser,Wo.rules=cQ(),Wo.errors=lQ(),Wo.results=e5(),Wo.StringSource=uQ(),Wo.Token=dQ(),Wo.bottomUp=Y7e(),Wo.RegexTokeniser=Q7e().RegexTokeniser,Wo.rule=function(t){var e;return function(n){return e||(e=t()),e(n)}}),Wo}var is={},TB;function Z7e(){if(TB)return is;TB=1,is.paragraph=t,is.run=e,is.table=n,is.bold=new r("bold"),is.italic=new r("italic"),is.underline=new r("underline"),is.strikethrough=new r("strikethrough"),is.allCaps=new r("allCaps"),is.smallCaps=new r("smallCaps"),is.commentReference=new r("commentReference"),is.lineBreak=new r("break",{breakType:"line"}),is.pageBreak=new r("break",{breakType:"page"}),is.columnBreak=new r("break",{breakType:"column"}),is.equalTo=s,is.startsWith=a;function t(c){return new r("paragraph",c)}function e(c){return new r("run",c)}function n(c){return new r("table",c)}function r(c,u){u=u||{},this._elementType=c,this._styleId=u.styleId,this._styleName=u.styleName,u.list&&(this._listIndex=u.list.levelIndex,this._listIsOrdered=u.list.isOrdered)}r.prototype.matches=function(c){return c.type===this._elementType&&(this._styleId===void 0||c.styleId===this._styleId)&&(this._styleName===void 0||c.styleName&&this._styleName.operator(this._styleName.operand,c.styleName))&&(this._listIndex===void 0||i(c,this._listIndex,this._listIsOrdered))&&(this._breakType===void 0||this._breakType===c.breakType)};function i(c,u,f){return c.numbering&&c.numbering.level==u&&c.numbering.isOrdered==f}function s(c){return{operator:o,operand:c}}function a(c){return{operator:l,operand:c}}function o(c,u){return c.toUpperCase()===u.toUpperCase()}function l(c,u){return u.toUpperCase().indexOf(c.toUpperCase())===0}return is}var CD={},EB;function eMe(){if(EB)return CD;EB=1;var t=fQ(),e=t.RegexTokeniser;CD.tokenise=r;var n="'((?:\\\\.|[^'])*)";function r(i){var s="(?:[a-zA-Z\\-_]|\\\\.)",a=new e([{name:"identifier",regex:new RegExp("("+s+"(?:"+s+"|[0-9])*)")},{name:"dot",regex:/\./},{name:"colon",regex:/:/},{name:"gt",regex:/>/},{name:"whitespace",regex:/\s+/},{name:"arrow",regex:/=>/},{name:"equals",regex:/=/},{name:"startsWith",regex:/\^=/},{name:"open-paren",regex:/\(/},{name:"close-paren",regex:/\)/},{name:"open-square-bracket",regex:/\[/},{name:"close-square-bracket",regex:/\]/},{name:"string",regex:new RegExp(n+"'")},{name:"unterminated-string",regex:new RegExp(n)},{name:"integer",regex:/([0-9]+)/},{name:"choice",regex:/\|/},{name:"bang",regex:/(!)/}]);return a.tokenise(i)}return CD}var CB;function tMe(){if(CB)return b0;CB=1;var t=mi,e=fQ(),n=Z7e(),r=gT(),i=eMe().tokenise,s=Mc();b0.readHtmlPath=u,b0.readDocumentMatcher=l,b0.readStyle=a;function a(N){return C(D,N)}function o(){return e.rules.sequence(e.rules.sequence.capture(c()),e.rules.tokenOfType("whitespace"),e.rules.tokenOfType("arrow"),e.rules.sequence.capture(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("whitespace"),e.rules.sequence.capture(f())).head())),e.rules.tokenOfType("end")).map(function(N,I){return{from:N,to:I.valueOrElse(r.empty)}})}function l(N){return C(c(),N)}function c(){var N=e.rules.sequence,I=function(fe,Ce){return e.rules.then(e.rules.token("identifier",fe),function(){return Ce})},F=I("p",n.paragraph),P=I("r",n.run),k=e.rules.firstOf("p or r or table",F,P),U=e.rules.sequence(e.rules.tokenOfType("dot"),e.rules.sequence.cut(),e.rules.sequence.capture(h)).map(function(fe){return{styleId:fe}}),O=e.rules.firstOf("style name matcher",e.rules.then(e.rules.sequence(e.rules.tokenOfType("equals"),e.rules.sequence.cut(),e.rules.sequence.capture(v)).head(),function(fe){return{styleName:n.equalTo(fe)}}),e.rules.then(e.rules.sequence(e.rules.tokenOfType("startsWith"),e.rules.sequence.cut(),e.rules.sequence.capture(v)).head(),function(fe){return{styleName:n.startsWith(fe)}})),H=e.rules.sequence(e.rules.tokenOfType("open-square-bracket"),e.rules.sequence.cut(),e.rules.token("identifier","style-name"),e.rules.sequence.capture(O),e.rules.tokenOfType("close-square-bracket")).head(),G=e.rules.firstOf("list type",I("ordered-list",{isOrdered:!0}),I("unordered-list",{isOrdered:!1})),X=N(e.rules.tokenOfType("colon"),N.capture(G),N.cut(),e.rules.tokenOfType("open-paren"),N.capture(p),e.rules.tokenOfType("close-paren")).map(function(fe,Ce){return{list:{isOrdered:fe.isOrdered,levelIndex:Ce-1}}});function Z(fe){var Ce=e.rules.firstOf.apply(e.rules.firstOf,["matcher suffix"].concat(fe)),Pe=e.rules.zeroOrMore(Ce);return e.rules.then(Pe,function(pe){var Me={};return pe.forEach(function(W){t.extend(Me,W)}),Me})}var z=N(N.capture(k),N.capture(Z([U,H,X]))).map(function(fe,Ce){return fe(Ce)}),Q=N(e.rules.token("identifier","table"),N.capture(Z([U,H]))).map(function(fe){return n.table(fe)}),B=I("b",n.bold),j=I("i",n.italic),q=I("u",n.underline),J=I("strike",n.strikethrough),Y=I("all-caps",n.allCaps),te=I("small-caps",n.smallCaps),oe=I("comment-reference",n.commentReference),de=N(e.rules.token("identifier","br"),N.cut(),e.rules.tokenOfType("open-square-bracket"),e.rules.token("identifier","type"),e.rules.tokenOfType("equals"),N.capture(v),e.rules.tokenOfType("close-square-bracket")).map(function(fe){switch(fe){case"line":return n.lineBreak;case"page":return n.pageBreak;case"column":return n.columnBreak}});return e.rules.firstOf("element type",z,Q,B,j,q,J,Y,te,oe,de)}function u(N){return C(f(),N)}function f(){var N=e.rules.sequence.capture,I=e.rules.tokenOfType("whitespace"),F=e.rules.then(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("colon"),e.rules.token("identifier","fresh"))),function(O){return O.map(function(){return!0}).valueOrElse(!1)}),P=e.rules.then(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("colon"),e.rules.token("identifier","separator"),e.rules.tokenOfType("open-paren"),N(v),e.rules.tokenOfType("close-paren")).head()),function(O){return O.valueOrElse("")}),k=e.rules.oneOrMoreWithSeparator(h,e.rules.tokenOfType("choice")),U=e.rules.sequence(N(k),N(e.rules.zeroOrMore(w)),N(F),N(P)).map(function(O,H,G,X){var Z={},z={};return H.forEach(function(Q){Q.append&&Z[Q.name]?Z[Q.name]+=" "+Q.value:Z[Q.name]=Q.value}),G&&(z.fresh=!0),X&&(z.separator=X),r.element(O,Z,z)});return e.rules.firstOf("html path",e.rules.then(e.rules.tokenOfType("bang"),function(){return r.ignore}),e.rules.then(e.rules.zeroOrMoreWithSeparator(U,e.rules.sequence(I,e.rules.tokenOfType("gt"),I)),r.elements))}var h=e.rules.then(e.rules.tokenOfType("identifier"),y),p=e.rules.tokenOfType("integer"),v=e.rules.then(e.rules.tokenOfType("string"),y),g={n:`
`,r:"\r",t:"	"};function y(N){return N.replace(/\\(.)/g,function(I,F){return g[F]||F})}var _=e.rules.sequence(e.rules.tokenOfType("open-square-bracket"),e.rules.sequence.cut(),e.rules.sequence.capture(h),e.rules.tokenOfType("equals"),e.rules.sequence.capture(v),e.rules.tokenOfType("close-square-bracket")).map(function(N,I){return{name:N,value:I,append:!1}}),x=e.rules.sequence(e.rules.tokenOfType("dot"),e.rules.sequence.cut(),e.rules.sequence.capture(h)).map(function(N){return{name:"class",value:N,append:!0}}),w=e.rules.firstOf("attribute or class",_,x);function C(N,I){var F=i(I),P=e.Parser(),k=P.parseTokens(N,F);return k.isSuccess()?s.success(k.value()):new s.Result(null,[s.warning(S(I,k))])}function S(N,I){return"Did not understand this style mapping, so ignored it: "+N+`
`+I.errors().map(R).join(`
`)}function R(N){return"Error was at character number "+N.characterNumber()+": Expected "+N.expected+" but got "+N.actual}var D=o();return b0}var _0={},SB;function nMe(){if(SB)return _0;SB=1,_0.readOptions=r;var t=mi,e=_0._defaultStyleMap=["p.Heading1 => h1:fresh","p.Heading2 => h2:fresh","p.Heading3 => h3:fresh","p.Heading4 => h4:fresh","p.Heading5 => h5:fresh","p.Heading6 => h6:fresh","p[style-name='Heading 1'] => h1:fresh","p[style-name='Heading 2'] => h2:fresh","p[style-name='Heading 3'] => h3:fresh","p[style-name='Heading 4'] => h4:fresh","p[style-name='Heading 5'] => h5:fresh","p[style-name='Heading 6'] => h6:fresh","p[style-name='heading 1'] => h1:fresh","p[style-name='heading 2'] => h2:fresh","p[style-name='heading 3'] => h3:fresh","p[style-name='heading 4'] => h4:fresh","p[style-name='heading 5'] => h5:fresh","p[style-name='heading 6'] => h6:fresh","r[style-name='Strong'] => strong","p[style-name='footnote text'] => p:fresh","r[style-name='footnote reference'] =>","p[style-name='endnote text'] => p:fresh","r[style-name='endnote reference'] =>","p[style-name='annotation text'] => p:fresh","r[style-name='annotation reference'] =>","p[style-name='Footnote'] => p:fresh","r[style-name='Footnote anchor'] =>","p[style-name='Endnote'] => p:fresh","r[style-name='Endnote anchor'] =>","p:unordered-list(1) => ul > li:fresh","p:unordered-list(2) => ul|ol > li > ul > li:fresh","p:unordered-list(3) => ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:ordered-list(1) => ol > li:fresh","p:ordered-list(2) => ul|ol > li > ol > li:fresh","p:ordered-list(3) => ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","r[style-name='Hyperlink'] =>","p[style-name='Normal'] => p:fresh"],n=_0._standardOptions={transformDocument:s,includeDefaultStyleMap:!0,includeEmbeddedStyleMap:!0};function r(a){return a=a||{},t.extend({},n,a,{customStyleMap:i(a.styleMap),readStyleMap:function(){var o=this.customStyleMap;return this.includeEmbeddedStyleMap&&(o=o.concat(i(this.embeddedStyleMap))),this.includeDefaultStyleMap&&(o=o.concat(e)),o}})}function i(a){return a?t.isString(a)?a.split(`
`).map(function(o){return o.trim()}).filter(function(o){return o!==""&&o.charAt(0)!=="#"}):a:[]}function s(a){return a}return _0}var SD={},DB;function rMe(){if(DB)return SD;DB=1;var t=Ed(),e=eQ();SD.openZip=n;function n(r){return r.arrayBuffer?t.resolve(e.openArrayBuffer(r.arrayBuffer)):t.reject(new Error("Could not find file in options"))}return SD}var Gd={},AB;function iMe(){if(AB)return Gd;AB=1;var t=mi;Gd.paragraph=e,Gd.run=n,Gd._elements=i,Gd.getDescendantsOfType=s,Gd.getDescendants=a;function e(l){return r("paragraph",l)}function n(l){return r("run",l)}function r(l,c){return i(function(u){return u.type===l?c(u):u})}function i(l){return function c(u){if(u.children){var f=t.map(u.children,c);u=t.extend(u,{children:f})}return l(u)}}function s(l,c){return a(l).filter(function(u){return u.type===c})}function a(l){var c=[];return o(l,function(u){c.push(u)}),c}function o(l,c){l.children&&l.children.forEach(function(u){o(u,c),c(u)})}return Gd}var DD={},NB;function sMe(){if(NB)return DD;NB=1;var t=gT(),e=mT();DD.element=n;function n(r){return function(i){return e.elementWithTag(t.element(r),[i])}}return DD}var kB;function aMe(){if(kB)return ro;kB=1;var t=mi,e=j7e(),n=B7e(),r=z7e().DocumentConverter,i=H7e().convertElementToRawText,s=tMe().readStyle,a=nMe().readOptions,o=rMe(),l=Mc().Result;ro.convertToHtml=c,ro.convertToMarkdown=u,ro.convert=f,ro.extractRawText=g,ro.images=oQ(),ro.transforms=iMe(),ro.underline=sMe(),ro.embedStyleMap=y,ro.readEmbeddedStyleMap=h;function c(_,x){return f(_,x)}function u(_,x){var w=Object.create(x||{});return w.outputFormat="markdown",f(_,w)}function f(_,x){return x=a(x),o.openZip(_).tap(function(w){return n.readStyleMap(w).then(function(C){x.embeddedStyleMap=C})}).then(function(w){return e.read(w,_).then(function(C){return C.map(x.transformDocument)}).then(function(C){return p(C,x)})})}function h(_){return o.openZip(_).then(n.readStyleMap)}function p(_,x){var w=v(x.readStyleMap()),C=t.extend({},x,{styleMap:w.value}),S=new r(C);return _.flatMapThen(function(R){return w.flatMapThen(function(D){return S.convertToHtml(R)})})}function v(_){return l.combine((_||[]).map(s)).map(function(x){return x.filter(function(w){return!!w})})}function g(_){return o.openZip(_).then(e.read).then(function(x){return x.map(i)})}function y(_,x){return o.openZip(_).tap(function(w){return n.writeStyleMap(w,x)}).then(function(w){return w.toArrayBuffer()}).then(function(w){return{toArrayBuffer:function(){return w},toBuffer:function(){return Buffer.from(w)}}})}return ro.styleMapping=function(){throw new Error(`Use a raw string instead of mammoth.styleMapping e.g. "p[style-name='Title'] => h1" instead of mammoth.styleMapping("p[style-name='Title'] => h1")`)},ro}var oMe=aMe();const lMe={locale:"ar",messages:{ar:{assetManager:{title:" ",upload:" ",add:"","add-image":" ","drop-files":"      ",close:""},styleManager:{title:" ","no-properties":"   ",properties:{width:"",height:"",padding:" ",margin:" ","background-color":" ",color:" ","font-family":" ","font-size":" ",border:"","text-align":" ",top:"",right:"",bottom:"",left:""}},layerManager:{title:"",root:""},blockManager:{title:"","search-placeholder":"..."},traitManager:{title:" ",traits:{alt:" ",title:"",href:""}},selectorManager:{title:" (Classes)","label-state":"","selected-title":"","empty-state":"  ",states:{hover:" ",active:" ","nth-of-type(2n)":"/"}},panels:{buttons:{titles:{preview:"",fullscreen:" ","export-template":" ","sw-visibility":" ","open-sm":"","open-tm":"","open-layers":"","open-blocks":"","device-desktop":" ","device-tablet":" ","device-mobile":"",undo:"",redo:""}}},"grapesjs-preset-webpage":{blocks:{text:{name:""},image:{name:""},link:{name:""},video:{name:""},map:{name:""},column1:{name:" "},column2:{name:""},column3:{name:"3 "},quote:{name:""},section:{name:""},divider:{name:""}}}}}},IB={:"red",:"red",:"blue",:"blue",:"green",:"green",:"yellow",:"yellow",:"black",:"black",:"white",:"white",:"orange",:"purple",:"pink",:"gray",:"red",:"red",:"blue",:"blue",:"green",:"green",:"yellow",:"yellow",:"black",:"black",:"white",:"white",:"orange",:"purple",:"pink",:"gray"},cMe={bold:/(|| | | | | |  |  |    | | | | ||||| )/i,increaseFontSize:/(|  | | |  |  |  | |  |  | ||| | )/i,justifyCenter:/(|  | |  |  | | |   |  |   | |  |  | |||)/i,justifyRight:/(|  | |  | | |   |  |   | |  |  | ||)/i,justifyLeft:/(|  | |  | | |   |  |   | |  |  | ||)/i,underline:/(|  |  |  |  |  | |    |   | |  | |  ||| | | )/i,foreColor:/( | | | )?(|||||||||||||||)/i,backColor:/( |  |  )?(|||||||||||||||)/i,cut:/(| || |  )/i,copy:/(||| |  )/i,paste:/(|| | )/i,delete:/(||| )/i,replaceImage:/( | ||)/i},uMe=t=>t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,""),hQ=({initialContent:t,docToEdit:e,onClose:n})=>{const{user:r}=jr(),{cafes:i,codes:s}=un(),a=V.useMemo(()=>s.map(W=>W.key),[s]),[o,l]=V.useState("visual"),[c,u]=V.useState(t.body),[f,h]=V.useState(t.styles),[p,v]=V.useState((e==null?void 0:e.name)||t.name),[g,y]=V.useState((e==null?void 0:e.description)||""),[_,x]=V.useState((e==null?void 0:e.tags)||""),w=V.useRef(null),C=V.useRef(null),S=V.useRef(null),[R,D]=V.useState(!1),N=V.useRef(null),I=V.useRef(null),F=V.useRef(null),[P,k]=V.useState(!1),[U,O]=V.useState(""),[H,G]=V.useState(!1),[X,Z]=V.useState(!1),[z,Q]=V.useState(!1),[B,j]=V.useState(null),q=V.useRef(null),J=V.useRef(!1);V.useEffect(()=>{const W=ge=>{q.current&&!q.current.contains(ge.target)&&Z(!1)};return document.addEventListener("mousedown",W),()=>document.removeEventListener("mousedown",W)},[]),V.useEffect(()=>{if(o==="visual"){const W=w.current;if(W){const ge=W.contentDocument;if(ge){const _e=`<!DOCTYPE html><html lang="ar" dir="rtl"><head><meta charset="UTF-8"><style>${f}</style></head><body>${c}</body></html>`;ge.open(),ge.write(_e),ge.close(),ge.body.contentEditable="true"}}}else if(o==="grapesjs"&&!S.current&&C.current){const W=grapesjs.init({container:C.current,plugins:["gjs-preset-webpage"],pluginsOpts:{"gjs-preset-webpage":{forms:!1,navbar:!1}},storageManager:!1,canvas:{styles:["https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap"]},i18n:lMe});W.setComponents(c),W.setStyle(f),S.current=W}},[o,c,f]);const Y=V.useCallback(W=>{var _e,ce;const ge=(_e=w.current)==null?void 0:_e.contentDocument;if(ge)for(const[re,le]of Object.entries(cMe)){const ke=W.match(le);if(ke){if(re==="replaceImage"){const Ne=ge.getSelection();if(Ne&&!Ne.isCollapsed&&Ne.rangeCount>0){const ue=Ne.getRangeAt(0).commonAncestorContainer;let ve=null;ue.nodeName==="IMG"?ve=ue:ue.nodeType===Node.ELEMENT_NODE&&(ve=ue.querySelector("img")),ve&&(F.current=ve,(ce=I.current)==null||ce.click())}return}if(re==="foreColor"||re==="backColor"){const Ne=ke.find(ie=>ie&&IB[ie]);if(Ne){const ie=IB[Ne],ue=re==="foreColor"?"foreColor":"hiliteColor",ve=ge.getSelection();ue==="hiliteColor"&&(ve!=null&&ve.isCollapsed)?ge.body.style.backgroundColor=ie:ge.execCommand(ue,!1,ie)}}else ge.execCommand(re,!1,void 0);return}}},[]);V.useEffect(()=>{const W=window.SpeechRecognition||window.webkitSpeechRecognition;if(W)return N.current=new W,N.current.continuous=!0,N.current.interimResults=!1,N.current.lang="ar-SA",N.current.onstart=()=>{J.current=!0,D(!0)},N.current.onend=()=>{if(J.current){console.log("Speech recognition stopped unexpectedly. Restarting...");try{N.current.start()}catch(ge){console.error("Could not restart speech recognition:",ge),J.current=!1,D(!1)}}else D(!1)},N.current.onerror=ge=>{console.error("Speech error:",ge.error),J.current=!1,D(!1)},N.current.onresult=ge=>{let _e="";for(let ce=ge.resultIndex;ce<ge.results.length;++ce)ge.results[ce].isFinal&&(_e+=ge.results[ce][0].transcript);_e.trim()&&Y(_e.trim())},()=>{J.current=!1,N.current&&N.current.abort()}},[Y]);const te=()=>{var W;o==="visual"&&w.current?(u(((W=w.current.contentDocument)==null?void 0:W.body.innerHTML)||c),l("grapesjs")):o==="grapesjs"&&S.current&&(u(S.current.getHtml()),h(S.current.getCss()),S.current.destroy(),S.current=null,l("visual"))},oe=async()=>{var W;k(!0),O("");try{let ge=c,_e=f;o==="grapesjs"&&S.current?(ge=S.current.getHtml(),_e=S.current.getCss()):o==="visual"&&w.current&&(ge=((W=w.current.contentDocument)==null?void 0:W.body.innerHTML)||c);const ce=ey(ge);await Lme({previewHtml:ge,templateHtml:ge,sharedStyles:_e,fileNameBase:e?e.id:uMe(p),docToEdit:e,prompt:p,description:g,tags:_,requiredFields:ce,complexFields:(e==null?void 0:e.complexFields)||[]}),alert("   !"),n()}catch(ge){console.error("Publishing error:",ge),O(ge instanceof Error?ge.message:"     .")}finally{k(!1)}},de=W=>{var _e;const ge=(_e=W.target.files)==null?void 0:_e[0];if(ge&&F.current){const ce=new FileReader;ce.onload=re=>{var le;F.current&&((le=re.target)!=null&&le.result)&&(F.current.src=re.target.result),F.current=null,W.target&&(W.target.value="")},ce.readAsDataURL(ge)}},fe=()=>{const W=w.current;if(W&&W.contentDocument){const ge=window.open("","_blank");ge==null||ge.document.write(`<html><head><title>Print</title><style>${f}</style></head><body>${W.contentDocument.body.innerHTML}</body></html>`),ge==null||ge.document.close(),ge==null||ge.focus(),ge==null||ge.print()}},Ce=()=>{N.current&&(R?(J.current=!1,N.current.stop()):(J.current=!0,N.current.start()))},Pe=async()=>{var W,ge;Z(!1),Q(!0),O("");try{const _e=((ge=(W=w.current)==null?void 0:W.contentDocument)==null?void 0:ge.body.innerHTML)||c,ce=Nge(_e,a);u("");for await(const re of ce)u(le=>le+re)}catch(_e){O(_e instanceof Error?_e.message:"AI task failed.")}finally{Q(!1)}},pe=async()=>{var W,ge;Z(!1),Q(!0),O("");try{const _e=((ge=(W=w.current)==null?void 0:W.contentDocument)==null?void 0:ge.body.innerHTML)||c,ce=await kge(_e);j(JSON.stringify(ce,null,2))}catch(_e){O(_e instanceof Error?_e.message:"AI task failed.")}finally{Q(!1)}},Me=()=>{if(!B)return;const W=new Blob([B],{type:"application/json"}),ge=URL.createObjectURL(W),_e=document.createElement("a");_e.href=ge,_e.download=`${p.replace(/\s+/g,"_")}.json`,document.body.appendChild(_e),_e.click(),document.body.removeChild(_e),URL.revokeObjectURL(ge)};return d.jsxs("div",{className:"fixed inset-0 bg-gray-800 z-[100] flex flex-col p-4",children:[d.jsx("input",{type:"file",ref:I,onChange:de,accept:"image/*",className:"hidden"}),d.jsxs("header",{className:"flex-shrink-0 bg-gray-900 text-white p-3 flex justify-between items-center rounded-t-lg",children:[d.jsx("h2",{className:"font-bold",children:o==="visual"?"  /":"  (GrapesJS)"}),d.jsxs("div",{className:"flex items-center gap-3",children:[o==="visual"&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:Ce,className:`p-2 rounded-full transition-colors ${R?"bg-red-500 text-white animate-pulse":"bg-gray-700 hover:bg-gray-600"}`,title:"/  ",children:R?d.jsx(Rc,{}):d.jsx(aI,{})}),d.jsxs("div",{className:"relative",ref:q,children:[d.jsx("button",{onClick:()=>Z(W=>!W),className:"p-2 bg-purple-600 hover:bg-purple-700 rounded-full text-white",title:"  ",disabled:z,children:z?d.jsx(Tt,{className:"animate-spin"}):d.jsx(ya,{})}),X&&d.jsx("div",{className:"absolute top-full right-0 mt-2 w-64 bg-white rounded-lg shadow-xl border z-10",children:d.jsxs("ul",{className:"py-1 text-gray-700 text-sm",children:[d.jsx("li",{children:d.jsx("button",{onClick:Pe,className:"w-full text-right px-4 py-2 hover:bg-gray-100",children:"   (Placeholders)"})}),d.jsx("li",{children:d.jsx("button",{onClick:pe,className:"w-full text-right px-4 py-2 hover:bg-gray-100",children:"   (JSON)"})})]})})]}),d.jsx("button",{onClick:()=>G(!0),className:"p-2 bg-gray-700 hover:bg-gray-600 rounded-full",title:" ",children:d.jsx(LH,{})})]}),d.jsx("button",{onClick:te,className:"p-2 bg-gray-700 hover:bg-gray-600 rounded-full",title:o==="visual"?"   ":"   ",children:o==="visual"?d.jsx(Tw,{}):d.jsx(KA,{})}),d.jsxs("button",{onClick:fe,className:"bg-blue-600 hover:bg-blue-700 p-2 rounded-md",title:"",children:[" ",d.jsx(Sw,{})," "]}),d.jsxs("button",{onClick:oe,disabled:P,className:"bg-green-600 hover:bg-green-700 p-2 rounded-md",title:" ",children:[" ",P?d.jsx(Tt,{className:"animate-spin"}):d.jsx(Dw,{})," "]}),d.jsxs("button",{onClick:n,className:"bg-red-600 hover:bg-red-700 p-2 rounded-full",title:"  ",children:[" ",d.jsx(rd,{})," "]})]})]}),U&&d.jsx("p",{className:"text-red-400 bg-red-900 p-2 text-xs text-center",children:U}),d.jsx("div",{className:"flex-grow bg-gray-700 p-2 rounded-b-lg",children:o==="visual"?d.jsx("iframe",{ref:w,title:"Visual Editor",className:"w-full h-full border-0 bg-white shadow-lg"}):d.jsx("div",{ref:C,className:"h-full",id:"gjs-editor"})}),H&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-[101] flex justify-center items-center p-4",onClick:()=>G(!1),children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl text-gray-800",onClick:W=>W.stopPropagation(),children:[d.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[d.jsx("h2",{className:"text-2xl font-bold",children:" "}),d.jsx("button",{onClick:()=>G(!1),className:"text-gray-400 hover:text-gray-600",children:d.jsx(rd,{size:20})})]}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"docNameModal",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",id:"docNameModal",value:p,onChange:W=>v(W.target.value),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"docDescriptionModal",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("textarea",{id:"docDescriptionModal",rows:3,value:g,onChange:W=>y(W.target.value),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"docTagsModal",className:"block text-sm font-medium text-gray-700 mb-1",children:" ( )"}),d.jsx("input",{type:"text",id:"docTagsModal",value:_,onChange:W=>x(W.target.value),placeholder:":  , , ",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]})]}),d.jsx("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:d.jsx("button",{type:"button",onClick:()=>G(!1),className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:" "})})]})}),B&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-[102] flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl text-gray-800 flex flex-col h-[70vh]",children:[d.jsx("h3",{className:"p-4 border-b font-bold text-lg",children:" JSON "}),d.jsx("pre",{className:"flex-grow p-4 bg-gray-900 text-green-300 text-sm overflow-auto",dir:"ltr",children:B}),d.jsxs("div",{className:"p-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{onClick:()=>j(null),className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg",children:""}),d.jsx("button",{onClick:Me,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg",children:""})]})]})})]})},dMe=t=>{const e=t.match(/\d+/);return e?parseInt(e[0],10):null},fMe=(t,e)=>{let n=t.toLowerCase().trim();const r={actions:[],raw:t};for(const o of e.actions.replace){const l=new RegExp(`${o}\\s+(.+)`),c=n.match(l);if(c&&c[1])return r.actions.push({intent:"replace",newText:c[1].trim()}),r}for(const o of e.actions.paste)for(const l of["before","after"])for(const c of e.positions[l]){const u=new RegExp(`${o}\\s+${c}\\s+(.+)`),f=n.match(u);if(f&&f[1])return r.actions.push({intent:"paste",pastePosition:l,pasteTarget:f[1].trim()}),r}for(const o of e.actions.createList)if(n.includes(o)){let l="bullet";e.listTypes.numbered.some(c=>n.includes(c))&&(l="numbered");for(const c of e.actions.addListItem){const u=n.indexOf(c);if(u!==-1){const f=n.substring(u+c.length).trim(),h=new RegExp(`\\s+(?:${e.listSeparators.newLine.join("|")}|${e.conjunctions.join("|")})\\s+`,"g"),p=f.split(h).map(v=>v.replace(new RegExp(`^(${e.actions.addListItem.join("|")})\\s*`),"").trim()).filter(Boolean);if(p.length>0)return r.actions.push({intent:"createList",listType:l,listItems:p}),r}}return r.actions.push({intent:"createList",listType:l,listItems:[]}),r}const i=[{intent:"delete",keywords:e.actions.delete},{intent:"copy",keywords:e.actions.copy},{intent:"paste",keywords:e.actions.paste},{intent:"addListItem",keywords:e.actions.addListItem},{intent:"newLine",keywords:e.listSeparators.newLine}];for(const o of i)for(const l of o.keywords)if(n.includes(l)){let c=n.replace(l,"").trim();return o.intent==="addListItem"&&c?r.actions.push({intent:"addListItem",value:c}):r.actions.push({intent:o.intent}),r}for(const o of e.targets.text){const l=new RegExp(`${o}\\s+([^]+)`),c=n.match(l);if(c&&c[1]){r.targetText=c[1].trim(),n=n.replace(c[0],"").trim();break}}const s=new RegExp(`\\s+(?:${e.conjunctions.join("|")})\\s+`,"g"),a=n.split(s).filter(o=>o&&o.trim()!=="");if(a.length===1&&e.general.next.some(o=>a[0].includes(o)))return r.actions.push({intent:"color",value:"random"}),r;for(const o of a){let l=!1;for(const c in e.colors)if(e.colors[c].some(u=>o.includes(u))){r.actions.push({intent:"color",value:c}),l=!0;break}if(!l){if(e.actions.changeColor.some(c=>o.includes(c))){r.actions.push({intent:"color",value:"random"}),l=!0;continue}if(e.actions.changeSize.some(c=>o.includes(c))){const c=dMe(o);c!==null?r.actions.push({intent:"size",value:`${c}px`}):e.sizeKeywords.increase.some(u=>o.includes(u))?r.actions.push({intent:"size",value:"+2px"}):e.sizeKeywords.decrease.some(u=>o.includes(u))&&r.actions.push({intent:"size",value:"-2px"}),l=!0;continue}if(e.actions.align.some(c=>o.includes(c))){for(const c in e.alignments)if(e.alignments[c].some(u=>o.includes(u))){r.actions.push({intent:"align",value:c}),l=!0;break}}if(!l&&e.actions.makeBold.some(c=>o.includes(c))){r.actions.push({intent:"bold",value:"true"}),l=!0;continue}}}return r},hMe={locale:"ar",messages:{ar:{assetManager:{title:" ",upload:" ",add:"","add-image":" ","drop-files":"      ",close:""},styleManager:{title:" ","no-properties":"   ",properties:{width:"",height:"",padding:" ",margin:" ","background-color":" ",color:" ","font-family":" ","font-size":" ",border:"","text-align":" ",top:"",right:"",bottom:"",left:""}},layerManager:{title:"",root:""},blockManager:{title:"","search-placeholder":"..."},traitManager:{title:" ",traits:{alt:" ",title:"",href:""}},selectorManager:{title:" (Classes)","label-state":"","selected-title":"","empty-state":"  ",states:{hover:" ",active:" ","nth-of-type(2n)":"/"}},panels:{buttons:{titles:{preview:"",fullscreen:" ","export-template":" ","sw-visibility":" ","open-sm":"","open-tm":"","open-layers":"","open-blocks":"","device-desktop":" ","device-tablet":" ","device-mobile":"",undo:"",redo:""}}},"grapesjs-preset-webpage":{blocks:{text:{name:""},image:{name:""},link:{name:""},video:{name:""},map:{name:""},column1:{name:" "},column2:{name:""},column3:{name:"3 "},quote:{name:""},section:{name:""},divider:{name:""}}}}}},pMe=[{id:"cv",name:"  ",url:"/data/templates/0-cv.html"},{id:"cv-with-photo",name:"   (1)",url:"/data/templates/0-cv-with-photo-1.html"},{id:"cv-with-photo-2",name:"   (2)",url:"/data/templates/0-cv-with-photo-2.html"},{id:"cv-with-photo-3",name:"   (3)",url:"/data/templates/0-cv-with-photo-3.html"},{id:"cv-with-photo-4",name:"   (4)",url:"/data/templates/0-cv-with-photo-4.html"},{id:"cv-with-photo-5",name:"   (5)",url:"/data/templates/0-cv-with-photo-5.html"},{id:"gov-form",name:" ",url:"/data/templates/0-gov-form.html"},{id:"linear-request",name:" ",url:"/data/templates/0-linear-request.html"},{id:"university-registration",name:" ",url:"/data/templates/0-university-registration.html"}],mMe=({onClose:t,onSelect:e})=>d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",onClick:t,children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl h-[90vh] flex flex-col",onClick:n=>n.stopPropagation(),children:[d.jsx("div",{className:"p-4 border-b",children:d.jsx("h2",{className:"text-xl font-bold",children:"  "})}),d.jsx("div",{className:"p-4 flex-grow overflow-y-auto",children:d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:pMe.map(n=>d.jsxs("div",{className:"border rounded-lg overflow-hidden group cursor-pointer",onClick:()=>e(n.url),children:[d.jsx("div",{className:"h-48 bg-gray-100 flex items-center justify-center",children:d.jsx("iframe",{src:n.url,className:"w-full h-full transform scale-[0.3] origin-top-left pointer-events-none border-0",title:n.name})}),d.jsx("div",{className:"p-3 bg-white",children:d.jsx("p",{className:"font-semibold text-sm truncate group-hover:text-green-600",children:n.name})})]},n.id))})}),d.jsx("div",{className:"px-6 py-4 bg-gray-50 flex justify-end",children:d.jsx("button",{type:"button",onClick:t,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""})})]})}),gMe=({onClose:t,onCapture:e})=>{const n=V.useRef(null),r=V.useRef(null),i=V.useRef(null),[s,a]=V.useState(null),[o,l]=V.useState(null),c=async()=>{l(null),a(null);try{const p=await navigator.mediaDevices.getUserMedia({video:{width:480,height:480}});i.current=p,n.current&&(n.current.srcObject=p)}catch(p){console.error("Error accessing camera:",p),p instanceof DOMException&&(p.name==="NotAllowedError"||p.name==="PermissionDeniedError")?l("    .      ."):l("    .          .")}};V.useEffect(()=>(c(),()=>{i.current&&i.current.getTracks().forEach(p=>p.stop())}),[]);const u=()=>{if(n.current&&r.current){const p=n.current,v=r.current;v.width=p.videoWidth,v.height=p.videoHeight;const g=v.getContext("2d");g==null||g.drawImage(p,0,0,v.width,v.height);const y=v.toDataURL("image/jpeg");a(y),i.current&&(i.current.getTracks().forEach(_=>_.stop()),i.current=null)}},f=()=>{c()},h=()=>{s&&(e(s),t())};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex justify-center items-center",children:d.jsxs("div",{className:"bg-white rounded-lg p-4 max-w-lg w-full",children:[d.jsx("h3",{className:"text-xl font-bold mb-4 text-center",children:" "}),d.jsxs("div",{className:"relative aspect-square bg-gray-900 rounded-md overflow-hidden flex items-center justify-center",children:[o?d.jsxs("div",{className:"p-4 text-center text-white",children:[d.jsx("p",{className:"font-semibold text-red-400",children:"  "}),d.jsx("p",{className:"text-sm mt-2",children:o})]}):s?d.jsx("img",{src:s,alt:"Captured",className:"w-full h-full object-contain"}):d.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),d.jsx("canvas",{ref:r,className:"hidden"})]}),d.jsxs("div",{className:"mt-4 flex justify-center gap-4",children:[s?d.jsxs(d.Fragment,{children:[d.jsx("button",{type:"button",onClick:f,className:"bg-gray-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-600",children:" "}),d.jsx("button",{type:"button",onClick:h,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700",children:" "})]}):d.jsx("button",{type:"button",onClick:u,disabled:!!o,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:""}),d.jsx("button",{type:"button",onClick:t,className:"bg-red-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-600",children:""})]})]})})},yMe=({initialContent:t,onExit:e,onPreview:n,editorRef:r})=>{const{user:i}=jr(),{cafes:s,documentCommands:a}=un(),o=V.useRef(null),[l,c]=V.useState((t==null?void 0:t.name)||" "),[u,f]=V.useState(!1),[h,p]=V.useState(""),[v,g]=V.useState(!1),[y,_]=V.useState(!1),x=V.useRef(null),[w,C]=V.useState(!1),[S,R]=V.useState({top:0,left:0,visible:!1,component:null,type:null}),D=V.useRef(null),[N,I]=V.useState(""),F=V.useMemo(()=>s.find(j=>j.id===(i==null?void 0:i.cafeId)),[s,i]),P=(F==null?void 0:F.speechToTextLanguage)||"ar-SA",k=window.SpeechRecognition||window.webkitSpeechRecognition,U=V.useRef(null),O=V.useRef(!1),H=V.useCallback(j=>{if(!a||!r.current)return;const q=r.current,J=q.getRichTextEditor(),Y=fMe(j,a);let te=q.getSelected();if(!te&&Y.targetText){const oe=q.getComponents(),de=(fe,Ce)=>{var Pe;for(const pe of fe.models){if((Pe=pe.get("content"))!=null&&Pe.includes(Ce))return pe;const Me=de(pe.components(),Ce);if(Me)return Me}return null};te=de(oe,Y.targetText),te&&q.select(te)}te||(te=D.current);for(const oe of Y.actions)switch(oe.intent){case"color":{let de=oe.value;if(de==="random"){const fe=Object.keys(a.colors);de=fe[Math.floor(Math.random()*fe.length)]}te&&te.setStyle({...te.getStyle(),color:de});break}case"size":{if(te){const de=te.getStyle(),fe=oe.value;if(fe.startsWith("+")||fe.startsWith("-")){const Ce=parseInt(de["font-size"]||"16px",10),Pe=parseInt(fe,10);te.setStyle({...de,"font-size":`${Ce+Pe}px`})}else te.setStyle({...de,"font-size":fe})}break}case"align":te&&te.setStyle({...te.getStyle(),"text-align":oe.value});break;case"bold":if(te){const de=te.getStyle()["font-weight"]==="bold";te.setStyle({...te.getStyle(),"font-weight":de?"normal":"bold"})}break;case"replace":oe.newText&&J&&J.insertHTML(oe.newText);break;case"delete":te?te.remove():J&&J.exec("delete");break;case"copy":te&&I(te.toHTML());break;case"paste":if(N)if(oe.pasteTarget&&oe.pastePosition){const de=q.getWrapper().find("div, p, span, h1, h2, h3, h4, h5, h6");let fe=!1;de.forEach(Ce=>{var Pe;if(!fe&&(Pe=Ce.get("content"))!=null&&Pe.includes(oe.pasteTarget)){const pe=Ce.parent(),Me=Ce.index();pe.append(N,{at:oe.pastePosition==="after"?Me+1:Me}),fe=!0}})}else J.insertHTML(N);break;case"createList":{const de=oe.listType==="numbered"?"ol":"ul";let fe=`<${de}>`;oe.listItems&&oe.listItems.length>0?fe+=oe.listItems.map(Ce=>`<li>${Ce}</li>`).join(""):fe+="<li> </li>",fe+=`</${de}>`,J.insertHTML(fe);break}case"addListItem":{const de=q.getSelected(),fe=de==null?void 0:de.closest("ul, ol");fe&&fe.append(`<li>${oe.value||" "}</li>`);break}case"newLine":{const de=q.getSelected(),fe=de==null?void 0:de.closest("ul, ol");fe&&fe.append("<li></li>");break}}te&&(D.current=te)},[a,r,N]);V.useEffect(()=>{if(!k)return;const j=new k;return U.current=j,j.continuous=!0,j.interimResults=!1,j.lang=P,j.onstart=()=>C(!0),j.onend=()=>{if(O.current){console.log("Document Studio: Speech recognition ended, attempting restart.");try{j.start()}catch(q){console.error("Document Studio: Could not restart recognition",q),O.current=!1,C(!1)}}else C(!1)},j.onresult=q=>{const J=q.results[q.results.length-1][0].transcript.trim();J&&H(J)},j.onerror=q=>{console.error("Speech recognition error:",q.error),O.current=!1,C(!1)},()=>{U.current&&(O.current=!1,U.current.abort())}},[k,P,H]);const G=V.useCallback(()=>{if(!k)return;const j=U.current;w?(O.current=!1,j==null||j.stop()):(O.current=!0,j==null||j.start())},[k,w]);V.useEffect(()=>{if(r.current||!o.current)return;const j=grapesjs.init({container:o.current,plugins:["gjs-preset-webpage"],pluginsOpts:{"gjs-preset-webpage":{forms:!1,navbar:!1}},storageManager:!1,assetManager:{custom:!0},canvas:{styles:["https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap"]},i18n:hMe});return j.setComponents(t.body),j.setStyle(t.styles),j.on("component:toggled",q=>{const J=j.Canvas.getElement(),Y=q.getEl();if(D.current=q,Y){const{top:te,left:oe}=Y.getBoundingClientRect(),de=J.getBoundingClientRect(),fe=q.is("image"),Ce=q.get("type")==="text";R(fe||Ce?{top:te+de.top-45,left:oe+de.left,visible:!0,component:q,type:fe?"image":"text"}:Pe=>({...Pe,visible:!1}))}else R(te=>({...te,visible:!1}))}),r.current=j,()=>{r.current&&(r.current.destroy(),r.current=null)}},[t,r]);const X=V.useCallback(()=>{if(!S.component)return;const j=window.prompt("   :");j&&S.component.set("src",j)},[S.component]),Z=V.useCallback(j=>{var J;const q=(J=j.target.files)==null?void 0:J[0];if(q&&S.component){const Y=new FileReader;Y.onload=te=>{var oe;S.component.set("src",(oe=te.target)==null?void 0:oe.result)},Y.readAsDataURL(q)}},[S.component]),z=V.useCallback(j=>{S.component&&S.component.set("src",j),g(!1)},[S.component]),Q=V.useCallback(async()=>{if(!S.component)return;const j=window.prompt("     :");if(j){_(!0);try{const q=await Ige(j);if(q.base64Image){const J=`data:image/jpeg;base64,${q.base64Image}`;S.component.set("src",J)}}catch{alert("  .")}finally{_(!1)}}},[S.component]),B=async()=>{const j=i==null?void 0:i.cafeId,q=r.current;if(!j||!q){p("      .");return}f(!0),p("");try{const J=q.getHtml(),Y=q.getCss(),te=l.toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]/g,""),oe=`<!DOCTYPE html><html lang="ar" dir="rtl"><head><meta charset="UTF-8"><title>${l}</title><style>${Y}</style></head><body>${J}</body></html>`,de=new File([oe],`0-${te}.html`,{type:"text/html"}),fe=new File([oe],`${te}.html`,{type:"text/html"}),[Ce,Pe]=await Promise.all([Dm(de),Dm(fe)]),pe={id:te,groupId:te,name:l,description:"     ",countryCode:i.countryCode,requiredFields:[],previewTemplateUrl:Ce,finalTemplateUrl:Pe,cafeId:j};await Dl.create(pe),alert(`   "${pe.name}" !`),e()}catch(J){console.error("Publishing error:",J),p(J instanceof Error?J.message:"     .")}finally{f(!1)}};return d.jsxs("div",{className:"flex flex-col h-full p-6",children:[d.jsx("input",{type:"file",ref:x,onChange:Z,accept:"image/*",className:"hidden"}),v&&d.jsx(gMe,{onClose:()=>g(!1),onCapture:z}),d.jsxs("div",{className:"flex-shrink-0 flex justify-between items-center mb-4",children:[d.jsx("button",{onClick:e,className:"text-sm bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:"   "}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("button",{onClick:n,className:"flex items-center justify-center gap-2 bg-gray-500 text-white font-bold py-3 px-6 rounded-lg hover:bg-gray-600",children:[d.jsx(jH,{}),d.jsx("span",{children:""})]}),d.jsxs("button",{onClick:B,disabled:u,className:"flex items-center justify-center gap-2 bg-green-700 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-800 disabled:bg-gray-400",children:[u?d.jsx(Tt,{className:"animate-spin"}):d.jsx(Dw,{}),d.jsx("span",{children:u?" ...":"  "})]})]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"doc-name",className:"block text-sm font-medium text-gray-700 mb-1",children:"  ( )"}),d.jsx("input",{type:"text",id:"doc-name",value:l,onChange:j=>c(j.target.value),className:"w-full p-3 border rounded-lg"})]}),h&&d.jsx("p",{className:"text-red-500 text-sm mb-2 text-center",children:h}),S.visible&&d.jsxs("div",{className:"absolute z-40 bg-white shadow-lg rounded-lg flex items-center gap-2 p-2 border",style:{top:S.top,left:S.left},children:[S.type==="text"&&d.jsx("button",{onClick:G,disabled:!k,className:`p-2 rounded-md transition-colors ${w?"bg-red-100 text-red-700 animate-pulse":"hover:bg-gray-100"}`,title:"     ",children:w?d.jsx(Rc,{}):d.jsx(aI,{})}),S.type==="image"&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:X,className:"p-2 hover:bg-gray-100 rounded-md",title:" ",children:d.jsx($H,{})}),d.jsx("button",{onClick:()=>{var j;return(j=x.current)==null?void 0:j.click()},className:"p-2 hover:bg-gray-100 rounded-md",title:" ",children:d.jsx($l,{})}),d.jsx("button",{onClick:()=>g(!0),className:"p-2 hover:bg-gray-100 rounded-md",title:" ",children:d.jsx(tg,{})}),d.jsx("button",{onClick:Q,disabled:y,className:"p-2 hover:bg-gray-100 rounded-md",title:"  ",children:y?d.jsx(Tt,{className:"animate-spin"}):d.jsx(ya,{})})]})]}),d.jsx("div",{ref:o,className:"flex-grow",id:"gjs"})]})},vMe=()=>{const{user:t}=jr(),{fullDocuments:e,loadingFullDocuments:n,documentCommands:r}=un(),[i,s]=V.useState("dashboard"),[a,o]=V.useState(null),[l,c]=V.useState(!1),[u,f]=V.useState(!1),[h,p]=V.useState(""),[v,g]=V.useState(""),[y,_]=V.useState(""),x=V.useRef(null),w=V.useRef(null),[C,S]=V.useState(!1),R=V.useMemo(()=>t!=null&&t.cafeId?e.filter(H=>H.cafeId===t.cafeId):[],[e,t]),D=H=>{var X;const G=(X=H.target.files)==null?void 0:X[0];G&&N(G)},N=async H=>{f(!0),p("");try{let G=H.name.replace(/\.(html|pdf|docx)$/i,""),X="",Z="";if(H.type==="text/html"){const z=await H.text(),Q=z.match(/<style[^>]*>([\s\S]*?)<\/style>/i);Z=Q?Q[1]:"";const B=z.match(/<body[^>]*>([\s\S]*)<\/body>/i);X=B?B[1]:z}else if(H.type==="application/pdf"){const z=new FileReader,Q=await new Promise(j=>{z.onloadend=()=>j(z.result.split(",")[1]),z.readAsDataURL(H)});X=(await aG(Q)).html}else if(H.type.includes("wordprocessingml")){const z=new FileReader,Q=await new Promise(j=>{z.onloadend=()=>j(z.result),z.readAsArrayBuffer(H)});X=(await oMe.convertToHtml({arrayBuffer:Q})).value}else throw new Error("Unsupported file type.");o({name:G,body:X,styles:Z}),s("editor")}catch(G){p(G instanceof Error?G.message:"File processing failed.")}finally{f(!1)}},I=async H=>{var G;f(!0),p(""),c(!1);try{const X=await fetch(H);if(!X.ok)throw new Error("Could not fetch template");const Z=await X.text();let z=((G=H.split("/").pop())==null?void 0:G.replace("0-","").replace(".html",""))||"template";const Q=Z.match(/<style[^>]*>([\s\S]*?)<\/style>/i),B=Q?Q[1]:"",j=Z.match(/<body[^>]*>([\s\S]*)<\/body>/i),q=j?j[1]:Z;o({name:z,body:q,styles:B}),s("editor")}catch(X){p(X instanceof Error?X.message:"Template loading failed.")}finally{f(!1)}},F=async()=>{if(v.trim()){f(!0),p(""),_("");try{const H=await _c({model:"gemini-2.5-flash",contents:`  HTML  (   <!DOCTYPE>  <html>  <head>  <body>)    : "${v}".               <style>   <head>.     .`});_(H.text||"")}catch(H){p(H instanceof Error?H.message:"AI generation failed.")}finally{f(!1)}}},P=()=>{if(!y)return;const H=y.match(/<style[^>]*>([\s\S]*?)<\/style>/i),G=H?H[1]:"",X=y.match(/<body[^>]*>([\s\S]*)<\/body>/i),Z=X?X[1]:y;o({name:v,body:Z,styles:G}),S(!1),s("editor")},k=()=>{if(!y)return;const H=y.match(/<style[^>]*>([\s\S]*?)<\/style>/i),G=H?H[1]:"",X=y.match(/<body[^>]*>([\s\S]*)<\/body>/i),Z=X?X[1]:y;o({name:v,body:Z,styles:G}),S(!0),s("editor")},U=async H=>{window.confirm("        ")&&(await Dl.delete(H),alert(" .      ."))},O=()=>{w.current&&(o({...a,body:w.current.getHtml(),styles:w.current.getCss()}),S(!0))};return i==="editor"?d.jsxs(d.Fragment,{children:[d.jsx(yMe,{initialContent:a,onExit:()=>s("dashboard"),onPreview:O,editorRef:w}),C&&a&&d.jsx(hQ,{initialContent:a,docToEdit:null,onClose:()=>S(!1)})]}):i==="ai_creator"?d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsxs("button",{onClick:()=>s("dashboard"),className:"text-sm bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors flex items-center gap-2",children:[d.jsx(nI,{}),d.jsx("span",{children:"  "})]}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"  "}),d.jsx("p",{className:"text-gray-600",children:"     ."})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"ai-prompt",className:"font-semibold",children:"   "}),d.jsx("textarea",{id:"ai-prompt",value:v,onChange:H=>g(H.target.value),placeholder:":          ...",className:"w-full p-3 border rounded-lg h-24"})]}),d.jsxs("button",{onClick:F,disabled:u,className:"w-full flex items-center justify-center gap-2 bg-blue-600 text-white font-bold py-3 px-5 rounded-lg hover:bg-blue-700 disabled:bg-gray-400",children:[u?d.jsx(Tt,{className:"animate-spin"}):d.jsx(ya,{}),d.jsx("span",{children:u?" ...":"  "})]}),h&&d.jsx("p",{className:"text-red-500 text-sm my-2",children:h}),(y||u)&&d.jsxs("div",{className:"border rounded-lg mt-4",children:[d.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[d.jsx("h2",{className:"font-bold",children:""}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("button",{onClick:k,disabled:!y||u,className:"flex items-center gap-2 bg-gray-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-600 disabled:opacity-50",children:[d.jsx(jH,{}),d.jsx("span",{children:"  "})]}),d.jsx("button",{onClick:P,disabled:!y||u,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:opacity-50",children:"  "})]})]}),d.jsxs("div",{className:"bg-white p-2 h-[70vh] overflow-y-auto",children:[u&&!y&&d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx(Tt,{className:"animate-spin text-2xl text-blue-500"})}),d.jsx("iframe",{srcDoc:y,title:"AI Preview",className:"w-full h-full border-0"})]})]})]}):d.jsxs("div",{className:"p-6 space-y-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:" "}),d.jsx("p",{className:"text-gray-600",children:'     .        " ".'}),d.jsx("input",{type:"file",ref:x,onChange:D,accept:".html,.pdf,.docx,.doc",className:"hidden"}),l&&d.jsx(mMe,{onClose:()=>c(!1),onSelect:I}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("button",{onClick:()=>s("ai_creator"),className:"group text-right p-6 bg-white rounded-lg border-2 border-dashed hover:border-purple-500 hover:bg-purple-50 transition-all duration-300",children:[d.jsx("div",{className:"bg-purple-100 text-purple-600 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:d.jsx(ya,{size:24})}),d.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"  "}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"       ."})]}),d.jsxs("button",{onClick:()=>{var H;return(H=x.current)==null?void 0:H.click()},className:"group text-right p-6 bg-white rounded-lg border-2 border-dashed hover:border-green-500 hover:bg-green-50 transition-all duration-300",children:[d.jsx("div",{className:"bg-green-100 text-green-600 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:d.jsx($l,{size:24})}),d.jsx("h2",{className:"text-lg font-bold text-gray-800",children:" "}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"  DOCX, PDF,  HTML   ."})]}),d.jsxs("button",{onClick:()=>c(!0),className:"group text-right p-6 bg-white rounded-lg border-2 border-dashed hover:border-blue-500 hover:bg-blue-50 transition-all duration-300",children:[d.jsx("div",{className:"bg-blue-100 text-blue-600 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:d.jsx(GH,{size:24})}),d.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"  "}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"      ."})]})]}),u&&d.jsx("div",{className:"text-center",children:d.jsx(Tt,{className:"animate-spin text-2xl mx-auto text-blue-600"})}),h&&d.jsx("p",{className:"text-red-500 text-sm text-center",children:h}),d.jsxs("div",{className:"bg-white p-4 rounded-lg border shadow-sm",children:[d.jsxs("h2",{className:"text-xl font-semibold text-gray-700 p-2",children:["  (",R.length,")"]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:n?d.jsx("tr",{children:d.jsx("td",{colSpan:3,className:"text-center p-6",children:d.jsx(Tt,{className:"animate-spin text-2xl mx-auto"})})}):R.length>0?R.map(H=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:H.name}),d.jsx("td",{className:"p-3 text-gray-600 text-sm",children:H.description}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse",children:[d.jsx("button",{disabled:!0,className:"text-gray-400 text-sm font-semibold cursor-not-allowed",children:""}),d.jsx("button",{onClick:()=>U(H.id),className:"text-red-600 hover:underline text-sm font-semibold",children:""})]})]},H.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:3,className:"text-center p-6 text-gray-500",children:"    .      ."})})})]})})]})]})},xMe=[{id:"cv",name:"  ",url:"/data/templates/0-cv.html"},{id:"cv-with-photo",name:"   (1)",url:"/data/templates/0-cv-with-photo-1.html"},{id:"cv-with-photo-2",name:"   (2)",url:"/data/templates/0-cv-with-photo-2.html"},{id:"cv-with-photo-3",name:"   (3)",url:"/data/templates/0-cv-with-photo-3.html"},{id:"cv-with-photo-4",name:"   (4)",url:"/data/templates/0-cv-with-photo-4.html"},{id:"cv-with-photo-5",name:"   (5)",url:"/data/templates/0-cv-with-photo-5.html"},{id:"gov-form",name:" ",url:"/data/templates/0-gov-form.html"},{id:"linear-request",name:" ",url:"/data/templates/0-linear-request.html"},{id:"university-registration",name:" ",url:"/data/templates/0-university-registration.html"}],bMe=({onClose:t,onSelect:e})=>d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",onClick:t,children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl h-[90vh] flex flex-col",onClick:n=>n.stopPropagation(),children:[d.jsx("div",{className:"p-4 border-b",children:d.jsx("h2",{className:"text-xl font-bold",children:"  "})}),d.jsx("div",{className:"p-4 flex-grow overflow-y-auto",children:d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:xMe.map(n=>d.jsxs("div",{className:"border rounded-lg overflow-hidden group cursor-pointer",onClick:()=>e(n.url),children:[d.jsx("div",{className:"h-48 bg-gray-100 flex items-center justify-center",children:d.jsx("iframe",{src:n.url,className:"w-full h-full transform scale-[0.3] origin-top-left pointer-events-none border-0",title:n.name})}),d.jsx("div",{className:"p-3 bg-white",children:d.jsx("p",{className:"font-semibold text-sm truncate group-hover:text-green-600",children:n.name})})]},n.id))})}),d.jsx("div",{className:"px-6 py-4 bg-gray-50 flex justify-end",children:d.jsx("button",{type:"button",onClick:t,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""})})]})}),_Me=()=>{var D;const t=Lr(),e=Fi(),n=(D=t.state)==null?void 0:D.doc,[r,i]=V.useState("dashboard"),[s,a]=V.useState(null),[o,l]=V.useState(!1),[c,u]=V.useState(!1),[f,h]=V.useState(""),[p,v]=V.useState(""),[g,y]=V.useState(""),_=V.useRef(null);V.useEffect(()=>{n&&((async()=>{u(!0);try{let I="",F="";if(n.previewTemplateUrl){const P=await fetch(n.previewTemplateUrl);if(P.ok){const k=await P.text(),U=k.match(/<style[^>]*>([\s\S]*?)<\/style>/i);F=U?U[1]:"";const O=k.match(/<body[^>]*>([\s\S]*)<\/body>/i);I=O?O[1]:k}else console.warn(`Could not fetch template file from ${n.previewTemplateUrl}. Starting with an empty editor.`)}a({initialContent:{name:n.name,body:I,styles:F},docToEdit:n})}catch(I){h(`Failed to load document: ${I.message}`),a({initialContent:{name:n.name,body:"<p>   .</p>",styles:""},docToEdit:n})}finally{u(!1)}})(),e(t.pathname,{replace:!0,state:{}}))},[n,t.pathname,e]);const x=N=>{var F;const I=(F=N.target.files)==null?void 0:F[0];I&&w(I)},w=async N=>{u(!0),h("");try{let I=N.name.replace(/\.(html|pdf|docx)$/i,""),F="",P="";if(N.type==="text/html"){const k=await N.text(),U=k.match(/<style[^>]*>([\s\S]*?)<\/style>/i);P=U?U[1]:"";const O=k.match(/<body[^>]*>([\s\S]*)<\/body>/i);F=O?O[1]:k}else if(N.type==="application/pdf"){const k=new FileReader,U=await new Promise(H=>{k.onloadend=()=>H(k.result.split(",")[1]),k.readAsDataURL(N)});F=(await aG(U)).html}else throw new Error("Unsupported file type.");a({initialContent:{name:I,body:F,styles:P},docToEdit:null})}catch(I){h(I instanceof Error?I.message:"File processing failed.")}finally{u(!1)}},C=async N=>{var I;u(!0),h(""),l(!1);try{const F=await fetch(N);if(!F.ok)throw new Error("Could not fetch template");const P=await F.text(),k=((I=N.split("/").pop())==null?void 0:I.replace("0-","").replace(".html",""))||"template",U=P.match(/<style[^>]*>([\s\S]*?)<\/style>/i),O=U?U[1]:"",H=P.match(/<body[^>]*>([\s\S]*)<\/body>/i),G=H?H[1]:P;a({initialContent:{name:k,body:G,styles:O},docToEdit:null})}catch(F){h(F instanceof Error?F.message:"Template loading failed.")}finally{u(!1)}},S=async()=>{if(p.trim()){u(!0),h(""),y("");try{const N=await _c({model:"gemini-2.5-flash",contents:`  HTML  (   <!DOCTYPE>  <html>  <head>  <body>)    : "${p}".               <style>   <head>.     .`});y(N.text||"")}catch(N){h(N instanceof Error?N.message:"AI generation failed.")}finally{u(!1)}}},R=()=>{if(!g)return;const N=g.match(/<style[^>]*>([\s\S]*?)<\/style>/i),I=N?N[1]:"",F=g.match(/<body[^>]*>([\s\S]*)<\/body>/i),P=F?F[1]:g;a({initialContent:{name:p,body:P,styles:I},docToEdit:null}),i("dashboard")};return s?d.jsx(hQ,{initialContent:s.initialContent,docToEdit:s.docToEdit,onClose:()=>{a(null),window.location.reload()}}):r==="ai_creator"?d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsxs("button",{onClick:()=>i("dashboard"),className:"text-sm bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors flex items-center gap-2",children:[d.jsx(nI,{}),d.jsx("span",{children:"  "})]}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"  "}),d.jsx("p",{className:"text-gray-600",children:"     ."})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"ai-prompt",className:"font-semibold",children:"   "}),d.jsx("textarea",{id:"ai-prompt",value:p,onChange:N=>v(N.target.value),placeholder:":          ...",className:"w-full p-3 border rounded-lg h-24"})]}),d.jsxs("button",{onClick:S,disabled:c,className:"w-full flex items-center justify-center gap-2 bg-blue-600 text-white font-bold py-3 px-5 rounded-lg hover:bg-blue-700 disabled:bg-gray-400",children:[c?d.jsx(Tt,{className:"animate-spin"}):d.jsx(ya,{}),d.jsx("span",{children:c?" ...":"  "})]}),f&&d.jsx("p",{className:"text-red-500 text-sm my-2",children:f}),(g||c)&&d.jsxs("div",{className:"border rounded-lg mt-4",children:[d.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[d.jsx("h2",{className:"font-bold",children:""}),d.jsx("div",{className:"flex items-center gap-3",children:d.jsx("button",{onClick:R,disabled:!g||c,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:opacity-50",children:"  "})})]}),d.jsxs("div",{className:"bg-white p-2 h-[70vh] overflow-y-auto",children:[c&&!g&&d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx(Tt,{className:"animate-spin text-2xl text-blue-500"})}),d.jsx("iframe",{srcDoc:g,title:"AI Preview",className:"w-full h-full border-0"})]})]})]}):d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"  ()"}),d.jsx("input",{type:"file",ref:_,onChange:x,accept:".html,.pdf",className:"hidden"}),o&&d.jsx(bMe,{onClose:()=>l(!1),onSelect:C}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("button",{onClick:()=>i("ai_creator"),className:"group text-right p-6 bg-white rounded-lg border-2 border-dashed hover:border-purple-500 hover:bg-purple-50 transition-all duration-300",children:[d.jsx("div",{className:"bg-purple-100 text-purple-600 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:d.jsx(ya,{size:24})}),d.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"  "}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"       ."})]}),d.jsxs("button",{onClick:()=>{var N;return(N=_.current)==null?void 0:N.click()},className:"group text-right p-6 bg-white rounded-lg border-2 border-dashed hover:border-green-500 hover:bg-green-50 transition-all duration-300",children:[d.jsx("div",{className:"bg-green-100 text-green-600 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:d.jsx($l,{size:24})}),d.jsx("h2",{className:"text-lg font-bold text-gray-800",children:" "}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"  PDF  HTML   ."})]}),d.jsxs("button",{onClick:()=>l(!0),className:"group text-right p-6 bg-white rounded-lg border-2 border-dashed hover:border-blue-500 hover:bg-blue-50 transition-all duration-300",children:[d.jsx("div",{className:"bg-blue-100 text-blue-600 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:d.jsx(GH,{size:24})}),d.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"  "}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"      ."})]})]}),c&&d.jsx("div",{className:"text-center",children:d.jsx(Tt,{className:"animate-spin text-2xl mx-auto text-blue-600"})}),f&&d.jsx("p",{className:"text-red-500 text-sm text-center",children:f}),d.jsx("div",{className:"text-center mt-4",children:d.jsx("button",{onClick:()=>e("/admin/app/documents"),className:"text-sm bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:"    "})})]})},pQ=()=>{const{t}=Ui();return V.useEffect(()=>{const e="google-cse-script";if(!document.getElementById(e)){const n=document.createElement("script");n.id=e,n.src="https://cse.google.com/cse.js?cx=8318067ab6f0244ff",n.async=!0,document.head.appendChild(n)}},[]),d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h1",{className:"text-6xl font-bold text-gray-800",children:"404"}),d.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mt-4",children:t("notFound.title")}),d.jsx("p",{className:"text-gray-500 mt-2 mb-6",children:t("notFound.message")}),d.jsx("div",{className:"my-8 max-w-md mx-auto",children:d.jsx("div",{className:"gcse-search"})}),d.jsx(dn,{to:"/",className:"bg-green-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-green-700 transition-colors",children:t("notFound.button")})]})},bs=(t,e,n=!0)=>{const r=n?`meta[property='${t}']`:`meta[name='${t}']`;let i=document.querySelector(r);i||(i=document.createElement("meta"),i.setAttribute(n?"property":"name",t),document.head.appendChild(i)),i.setAttribute("content",e)},wMe=()=>{const{siteSettings:t,loading:e}=un(),{countryCode:n,language:r}=Ui(),i=Lr(),s=i.pathname.startsWith("/admin"),a=/^\/[a-z]{2}\/app/.test(i.pathname),o="G-2BKKWGCXWX";return V.useEffect(()=>{if(e||!o||document.getElementById("gtag-script")||s||a)return;const l=document.createElement("script");l.id="gtag-script",l.src=`https://www.googletagmanager.com/gtag/js?id=${o}`,l.async=!0,document.head.appendChild(l),window.dataLayer=window.dataLayer||[];function c(...u){window.dataLayer.push(arguments)}window.gtag=c,c("js",new Date),c("config",o)},[e,o,s,a]),V.useEffect(()=>{!e&&o&&typeof window.gtag=="function"&&!s&&!a&&window.gtag("event","page_view",{page_path:i.pathname+i.search,page_title:document.title})},[i,e,o,s,a]),V.useEffect(()=>{var g,y;if(e||!t)return;document.querySelectorAll('link[rel="alternate"][hreflang]').forEach(_=>_.remove());const l=((g=t.seo)==null?void 0:g[n])||((y=t.seo)==null?void 0:y.default)||{siteName:"Gitut",titleSeparator:"|",tagline:"",metaDescription:""},c="https://datas.gitut.com/data/image/gitut-og-main.png",u=i.pathname.match(/\/profile\/(\d+)/),f=i.pathname.match(/\/site\/([^/]+)/),h=i.pathname.match(/\/doc\/([^/]+)/),p=i.pathname.startsWith("/blog/")&&i.pathname.split("/").filter(Boolean).length>1;if(!u&&!f&&!h&&!p){const _=`${l.siteName} ${l.titleSeparator} ${l.tagline}`,x=l.metaDescription;let w="en_US";switch(r){case"ar":w="ar_AR";break;case"fr":w="fr_FR";break;case"de":w="de_DE";break;case"es":w="es_ES";break;case"tr":w="tr_TR";break;case"ja":w="ja_JP";break}document.title=_,bs("description",x,!1),bs("og:title",_),bs("og:description",x),bs("og:site_name",l.siteName),bs("og:url",window.location.href),bs("og:image",c),bs("og:image:secure_url",c),bs("og:image:width","1200"),bs("og:image:height","630"),bs("og:type","website"),bs("og:locale",w),bs("twitter:card","summary_large_image",!1),bs("twitter:url",window.location.href,!1),bs("twitter:title",_,!1),bs("twitter:description",x,!1),bs("twitter:image",c,!1)}let v=document.querySelector("link[rel*='icon']");v||(v=document.createElement("link"),v.rel="icon",document.head.appendChild(v)),v.href="https://datas.gitut.com/data/image/icon.png"},[i.pathname,t,n,e,s,a,r]),null},RB=()=>{const{countryCode:t,siteId:e}=_a(),n=Lr(),r=Fi(),[i]=Kee(),{sites:s,siteSettings:a,loading:o}=un(),l=V.useMemo(()=>{var _;let v=i.get("redirect");const g=i.get("name");if(v)return t&&v.startsWith("/")&&!v.startsWith(`/${t}/`)&&(v=`/${t}${v}`),{name:g||" ",url:v,isInternal:!0};if((_=n.state)!=null&&_.targetUrl)return{name:n.state.siteName||" ",url:n.state.targetUrl,isInternal:!0};const y=Array.isArray(s)?s.find(x=>x.id===e):null;return y?{...y,isInternal:!1}:null},[s,e,n.state,i,t]),c=V.useMemo(()=>t?Ir.ar.some(v=>v.code===t):!1,[t]),u=(a==null?void 0:a.ads.pdfInterstitialTimer)??5,[f,h]=V.useState(u);V.useEffect(()=>{!o&&l&&h(u)},[o,l,u]);const p=()=>{l!=null&&l.url&&(typeof window.gtag=="function"&&window.gtag("event","redirect_executed",{event_category:"navigation",event_label:l.name,target_url:l.url,is_internal:l.isInternal?"true":"false"}),l.isInternal?r(l.url,{replace:!0}):window.location.href=l.url)};return o?d.jsxs("div",{className:"flex flex-col items-center justify-center p-10 text-center",children:[d.jsx(Tt,{className:"animate-spin text-4xl text-green-600 mb-4"}),d.jsx("p",{className:"text-gray-600",children:"  ..."})]}):l?d.jsxs("div",{className:"min-h-[80vh] flex items-center justify-center p-4",children:[c&&d.jsx("aside",{className:"hidden xl:block w-80 p-6 bg-green-50 border border-green-200 rounded-xl shadow-sm text-center mx-6 self-start mt-10",children:d.jsxs("div",{className:"text-green-800 font-amiri leading-loose",children:[d.jsx("h3",{className:"font-bold text-lg mb-4 border-b border-green-200 pb-2",children:" "}),d.jsx("p",{className:"text-xl font-medium",children:'"                  "'})]})}),d.jsx("div",{className:"max-w-3xl w-full text-center",children:d.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg border space-y-4",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" ..."}),f>0?d.jsxs("div",{className:"py-8",children:[d.jsx("p",{className:"text-gray-600 mb-4",children:"     :"}),d.jsxs("div",{className:"inline-block relative",children:[d.jsxs("svg",{className:"w-32 h-32 transform -rotate-90",children:[d.jsx("circle",{cx:"64",cy:"64",r:"56",stroke:"currentColor",strokeWidth:"8",fill:"transparent",className:"text-gray-200"}),d.jsx("circle",{cx:"64",cy:"64",r:"56",stroke:"currentColor",strokeWidth:"8",fill:"transparent",strokeDasharray:351.86,strokeDashoffset:351.86-351.86*f/u,className:"text-green-600 transition-all duration-1000 ease-linear"})]}),d.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center",children:d.jsx("span",{className:"text-4xl font-bold text-green-600 font-mono",children:f})})]}),Jo.createElement(()=>(V.useEffect(()=>{if(f>0){const v=setTimeout(()=>h(g=>g-1),1e3);return()=>clearTimeout(v)}},[f]),null))]}):d.jsxs("div",{className:"my-6 animate-fadeIn",children:[d.jsx("p",{className:"text-green-700 font-semibold mb-4",children:" !"}),d.jsxs("button",{onClick:p,className:"inline-flex items-center gap-2 bg-green-600 text-white text-xl font-bold py-4 px-10 rounded-lg hover:bg-green-700 transition-colors shadow-lg transform hover:scale-105",children:[d.jsxs("span",{children:["  ",l.name]}),d.jsx(rge,{})]})]}),d.jsxs("div",{className:"pt-6 border-t",children:[d.jsx("p",{className:"text-sm text-gray-500 mb-4",children:":"}),d.jsx(bc,{placement:"PDF_INTERSTITIAL"})]})]})}),c&&d.jsx("aside",{className:"hidden xl:block w-80 p-6 bg-blue-50 border border-blue-200 rounded-xl shadow-sm text-center mx-6 self-start mt-10",children:d.jsxs("div",{className:"text-blue-900 font-amiri leading-loose",children:[d.jsx("h3",{className:"font-bold text-lg mb-4 border-b border-blue-200 pb-2",children:" "}),d.jsx("p",{className:"text-lg mb-2",children:"      :"}),d.jsx("p",{className:"text-xl font-bold mb-4",children:'"        "'}),d.jsx("p",{className:"text-xs text-blue-700",children:"      -:  -       "})]})})]}):d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"    "}),d.jsx("p",{className:"text-gray-600 mb-6",children:"         ."}),d.jsx(dn,{to:"/",className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"   "})]})},TMe=t=>t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,"");if(Sr.Quill){const t=Sr.Quill.import("attributors/style/size");t.whitelist=["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px"],Sr.Quill.register("attributors/style/size",t,!0)}const EMe=({isOpen:t,onClose:e,onSave:n,initialData:r,codes:i})=>{const[s,a]=V.useState(""),[o,l]=V.useState(""),[c,u]=V.useState(""),[f,h]=V.useState(""),[p,v]=V.useState(!1),g=V.useRef(null),y=V.useRef(null);V.useEffect(()=>{r?(a(r.name),l(r.previewTemplateHtml),u(r.finalTemplateHtml),h(r.textPlaceholderExample||"")):(a(""),l("<!--    -->"),u("<!--    -->"),h(""))},[r]);const _=(C,S)=>{var N;const R=(N=C.target.files)==null?void 0:N[0];if(!R)return;const D=new FileReader;D.onload=I=>{var P;const F=(P=I.target)==null?void 0:P.result;S==="preview"?l(F):u(F)},D.readAsText(R)},x=(C,S)=>{if(!S)return;const D=(C==="preview"?g:y).current;if(D){const N=D.selectionStart,I=D.selectionEnd,F=D.value,P=F.substring(0,N)+S+F.substring(I);C==="preview"?l(P):u(P),setTimeout(()=>{D&&(D.selectionStart=D.selectionEnd=N+S.length,D.focus())},0)}},w=async C=>{C.preventDefault(),v(!0);const S=D=>D.replace(/\s{2,}/g," ").replace(/\n/g,"").trim(),R={name:s,previewTemplateHtml:S(o),finalTemplateHtml:S(c),textPlaceholderExample:f};try{r?await Am.update(r.id,R):await Am.create(R),n(),e()}catch(D){console.error(D),alert("   .")}finally{v(!1)}};return t?d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl",children:d.jsxs("form",{onSubmit:w,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsxs("h2",{className:"text-2xl font-bold",children:[r?"":"","  "]})}),d.jsx("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:p&&!r?d.jsx("div",{className:"flex justify-center items-center h-64",children:d.jsx(Tt,{className:"animate-spin text-3xl text-gray-400"})}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"base-template-name",className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),d.jsx("input",{type:"text",id:"base-template-name",value:s,onChange:C=>a(C.target.value),required:!0,className:"w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"base-template-example",className:"block text-sm font-medium text-gray-700 mb-1",children:"   (  )"}),d.jsx("textarea",{id:"base-template-example",value:f,onChange:C=>h(C.target.value),className:"w-full h-24 p-2 border rounded-md",placeholder:"       [TEXT] .      ."})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("h3",{className:"font-semibold",children:" "}),d.jsx("textarea",{ref:g,value:o,onChange:C=>l(C.target.value),className:"w-full h-64 p-2 border rounded-md font-mono text-sm",dir:"ltr"}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("label",{className:"text-sm bg-gray-200 text-gray-800 font-semibold py-1 px-3 rounded-lg hover:bg-gray-300 cursor-pointer",children:[d.jsx($l,{className:"inline-block"}),"   HTML ",d.jsx("input",{type:"file",accept:".html",onChange:C=>_(C,"preview"),className:"hidden"})]}),d.jsxs("div",{className:"flex gap-2 items-center",children:[d.jsxs("select",{onChange:C=>{x("preview",C.target.value),C.target.value=""},className:"text-sm bg-gray-100 text-gray-800 font-semibold py-1 px-2 rounded-lg hover:bg-gray-200 cursor-pointer border border-gray-300",children:[d.jsx("option",{value:"",children:" ..."}),i.map(C=>d.jsxs("option",{value:C.key,children:[C.description," (",C.key,")"]},C.id))]}),d.jsx("button",{type:"button",onClick:()=>x("preview","[TITLE]"),className:"text-sm bg-yellow-100 text-yellow-800 font-semibold py-1 px-3 rounded-lg hover:bg-yellow-200",children:" [TITLE]"}),d.jsx("button",{type:"button",onClick:()=>x("preview","[TEXT]"),className:"text-sm bg-blue-100 text-blue-800 font-semibold py-1 px-3 rounded-lg hover:bg-blue-200",children:" [TEXT]"})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("h3",{className:"font-semibold",children:" "}),d.jsx("textarea",{ref:y,value:c,onChange:C=>u(C.target.value),className:"w-full h-64 p-2 border rounded-md font-mono text-sm",dir:"ltr"}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("label",{className:"text-sm bg-gray-200 text-gray-800 font-semibold py-1 px-3 rounded-lg hover:bg-gray-300 cursor-pointer",children:[d.jsx($l,{className:"inline-block"}),"   HTML ",d.jsx("input",{type:"file",accept:".html",onChange:C=>_(C,"final"),className:"hidden"})]}),d.jsxs("div",{className:"flex gap-2 items-center",children:[d.jsxs("select",{onChange:C=>{x("final",C.target.value),C.target.value=""},className:"text-sm bg-gray-100 text-gray-800 font-semibold py-1 px-2 rounded-lg hover:bg-gray-200 cursor-pointer border border-gray-300",children:[d.jsx("option",{value:"",children:" ..."}),i.map(C=>d.jsxs("option",{value:C.key,children:[C.description," (",C.key,")"]},C.id))]}),d.jsx("button",{type:"button",onClick:()=>x("final","[TITLE]"),className:"text-sm bg-yellow-100 text-yellow-800 font-semibold py-1 px-3 rounded-lg hover:bg-yellow-200",children:" [TITLE]"}),d.jsx("button",{type:"button",onClick:()=>x("final","[TEXT]"),className:"text-sm bg-blue-100 text-blue-800 font-semibold py-1 px-3 rounded-lg hover:bg-blue-200",children:" [TEXT]"})]})]})]})]})]})}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:e,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",disabled:p&&!r,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:p?" ...":""})]})]})})}):null},PB={toolbar:[[{header:[1,2,3,4,5,6,!1]}],[{font:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"},{align:[]}],[{color:[]},{background:[]}],["link","image","video"],["clean"]]},CMe=({isOpen:t,onClose:e,onSave:n,fullDocuments:r})=>{const{baseTemplates:i}=un(),[s,a]=V.useState(""),[o,l]=V.useState(""),[c,u]=V.useState("dz"),[f,h]=V.useState(""),[p,v]=V.useState(""),[g,y]=V.useState(!1),[_,x]=V.useState(!1),[w,C]=V.useState(!1),S=async()=>{if(!o||!c){alert("      .");return}x(!0),h("");try{const N=i.find(P=>P.id===s);let I="";N!=null&&N.textPlaceholderExample?I=`       .             .           HTML  ( <p>  <ul>).

  : "${o}"
 : "${c}"
   : "${N.textPlaceholderExample}"

      .`:I=`         "${o}"    "${c}".            .      HTML  ( <p>  <ul>).`;const F=await _c({model:"gemini-2.5-flash",contents:I});h(F.text||"")}catch(N){console.error("AI description generation failed:",N),alert("  .")}finally{x(!1)}},R=async()=>{if(!o){alert("    .");return}const N=i.find(I=>I.id===s);C(!0),v("");try{let I="";N!=null&&N.textPlaceholderExample?I=`You are an assistant for official documents in Arabic. Your task is to adapt a generic text example to fit a specific document title. The output must be simple HTML.
    Document Title: "${o}"
    Country Code: "${c}"
    Generic Text Example to Adapt: "${N.textPlaceholderExample}"
    
    Rewrite the generic text example to be specific and appropriate for the given document title and country. For example, if the title is "Request to change address", the text should be a formal request for an address change. Return only the generated HTML content, without any explanations.`:I=`   ( HTML    <p>  <ul>)      "${o}"    "${c}".         [TEXT]   .`;const F=await _c({model:"gemini-2.5-flash",contents:I});v(F.text||"")}catch(I){console.error("AI text generation failed:",I),alert("  .")}finally{C(!1)}},D=async N=>{N.preventDefault();const I=i.find(k=>k.id===s);if(!I||!o.trim()||!p.trim()){alert("   .");return}y(!0);let F=TMe(o);if(r.find(k=>k.slug===F)){if(!window.confirm("     (    ).        ")){y(!1);return}const U=Date.now().toString().slice(-6);F=`${F}-${U}`}try{const k=Z=>Z.replace(/\s{2,}/g," ").replace(/\n/g,"").trim(),U=I.previewTemplateHtml.replace(/\[TEXT\]/g,p).replace(/\[TITLE\]/g,o),O=I.finalTemplateHtml.replace(/\[TEXT\]/g,p).replace(/\[TITLE\]/g,o),H=ey(O),G=F,X={name:o,groupId:G,slug:F,description:f,countryCode:c||void 0,requiredFields:H,previewTemplateHtml:k(U),finalTemplateHtml:k(O),tags:I.name};await Dl.create({...X,id:G}),n(),e()}catch(k){console.error("Failed to create document from base template:",k),alert("  .")}finally{y(!1)}};return t?d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",children:d.jsxs("form",{onSubmit:D,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:"     "})}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),d.jsxs("select",{value:s,onChange:N=>a(N.target.value),required:!0,className:"w-full p-2 border rounded-md bg-white",children:[d.jsx("option",{value:"",disabled:!0,children:"--  --"}),i.map(N=>d.jsx("option",{value:N.id,children:N.name},N.id))]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),d.jsx("input",{type:"text",value:o,onChange:N=>l(N.target.value),required:!0,className:"w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  (: dz)"}),d.jsx("input",{type:"text",value:c,onChange:N=>u(N.target.value.toLowerCase()),className:"w-full p-2 border rounded-md"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx("div",{className:"flex-grow",children:d.jsx(Sr,{theme:"snow",value:f,onChange:h,modules:PB})}),d.jsx("button",{type:"button",onClick:S,disabled:_,className:"p-2 bg-purple-100 text-purple-700 rounded-md hover:bg-purple-200",title:"   ",children:_?d.jsx(Tt,{className:"animate-spin"}):d.jsx(ya,{})})]})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-1",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"    [TEXT] "}),d.jsxs("button",{type:"button",onClick:R,disabled:w,className:"flex items-center gap-1 text-xs bg-purple-100 text-purple-700 font-semibold py-1 px-2 rounded-md hover:bg-purple-200",children:[w?d.jsx(Tt,{className:"animate-spin"}):d.jsx(ya,{}),d.jsx("span",{children:"  "})]})]}),d.jsx(Sr,{theme:"snow",value:p,onChange:v,modules:PB})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:e,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",disabled:g,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:g?" ...":" "})]})]})})}):null},SMe=()=>{const{baseTemplates:t,loading:e,codes:n,fullDocuments:r}=un(),[i,s]=V.useState(!1),[a,o]=V.useState(!1),[l,c]=V.useState(null),u=async()=>{},f=async p=>{s(!0),c({...p,name:" ..."});try{const v=await Am.get(p.id);c(v||p)}catch(v){console.error("Failed to fetch fresh template:",v),c(p),alert("Could not fetch the latest template data. Displaying cached version.")}},h=async p=>{window.confirm("       ")&&(await Am.delete(p),u())};return d.jsxs("div",{children:[i&&d.jsx(EMe,{isOpen:i,onClose:()=>{s(!1),c(null)},onSave:u,initialData:l,codes:n}),a&&d.jsx(CMe,{isOpen:a,onClose:()=>o(!1),onSave:u,fullDocuments:r}),d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"  "}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:()=>o(!0),className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700",children:[d.jsx(xc,{className:"inline-block"}),"  "]}),d.jsxs("button",{onClick:()=>{c({id:"",name:" ...",previewTemplateHtml:"",finalTemplateHtml:""}),s(!0)},className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:[d.jsx(xc,{className:"inline-block"}),"   "]})]})]}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:"  "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:e?d.jsx("tr",{children:d.jsx("td",{colSpan:2,className:"text-center p-6",children:d.jsx(Tt,{className:"animate-spin text-2xl mx-auto"})})}):t.map(p=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 font-semibold",children:p.name}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse",children:[d.jsxs("button",{onClick:()=>f(p),className:"text-blue-600 hover:underline text-sm font-semibold",children:[d.jsx(Tw,{className:"inline-block"})," "]}),d.jsxs("button",{onClick:()=>h(p.id),className:"text-red-600 hover:underline text-sm font-semibold",children:[d.jsx(dh,{className:"inline-block"})," "]})]})]},p.id))})]})})})]})},AD={intents:{sum:["","","","",""],subtract:["","","","",""],multiply:["",""," ",""],divide:["","","",""],average:[""," ","",""],count:[" "," ","","",""],max:[" "," "," ","",""],min:[" "," "," ","",""],copy:["","","","",""," "],paste:["","",""],cut:["","","","",""," "],insert:["","","","","",""],search:[""," ","",""," "],color:["",""," ","","",""],resize:["",""," ","",""," "],select:["","","","",""],delete:["","","",""," ","","","",""],clear:[""," ",""," "],merge:["","","",""],split:["","","","",""],transpose:["","","","",""],filter:[""," ","   ",""],conditionalColor:[" ","  "," "," "],replace:["",""," ","",""," "," "],concatenate:[" "," "," "," "],sort:["","","","",""," "," "],removeDuplicates:[" "," "," "," "],groupBy:[""," ",""," "],createChart:["","  ","  ","  "," "],formatNumber:[" "," "," ","  "," "," ","  "],calculatePercentage:["  "," ","  "],move:["","","","","","",""]},targets:{cell:["","","",""],row:["","","","",""],column:["","","",""],horizontalColumn:[" "," ","",""],verticalColumn:[" "," ","",""],range:[""," "," "," "],sheet:["","",""," "],workbook:["","","",""],selectedTable:[" "," "," "]},movements:{right:["",""],left:["",""]},numbers:{1:["","","","","1"],2:["","","","","2"],3:["","","","","3"],4:["","","","","4"],5:["","","","","5"],6:["","","","","6"],7:["","","","","7"],8:["","","","","8"],9:["","","","","9"],10:["","","","","10"],last:["","","",""],all:["","",""]},positions:{after:["","",""],before:["","",""],at:["","","",""],start:[""," ",""],end:[""," ",""]},colors:{red:["","",""],blue:["","",""],green:["","",""],yellow:["","",""],black:["","",""],white:["","",""],orange:["",""],purple:["",""],pink:["",""],gray:["",""],brown:["",""],cyan:["",""],gold:["",""],silver:["",""]},conditions:{contains:[" ",""," ","",""],equals:["","","",""," "],greaterThan:[" "," ",""],lessThan:[" "," ",""],startsWith:[" "," "],endsWith:[" "," "],between:[""," "],empty:["",""],notEmpty:[" "," "," "]},references:{lastResult:["","","output",""," "," "],lastSearch:["","",""," "," "],lastColumn:["","","  "," "],lastSelection:["",""," ",""," "],thisTarget:["","",""],previous:[""," "]},referenceWords:["","","","","",""],negationWords:["","","",""],rangeWords:["","",""]},DMe=()=>{const[t,e]=V.useState(null),[n,r]=V.useState(""),[i,s]=V.useState(!0),[a,o]=V.useState(!1),[l,c]=V.useState(""),[u,f]=V.useState("");V.useEffect(()=>{s(!0),zA().then(p=>{const v=p||AD;e(v),r(JSON.stringify(v,null,2)),p||f("   .       .")}).catch(()=>{c("    .      ."),e(AD),r(JSON.stringify(AD,null,2))}).finally(()=>s(!1))},[]);const h=async()=>{c(""),f("");try{const p=JSON.parse(n);o(!0),await Ome(p),e(p),f("   !"),setTimeout(()=>f(""),3e3)}catch(p){console.error(p),c("   JSON.        .")}finally{o(!1)}};return i?d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(Tt,{className:"animate-spin text-4xl text-green-600"})}):d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"    (JSON)"}),d.jsxs("button",{onClick:h,disabled:a,className:"bg-green-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-green-700 transition-colors disabled:bg-gray-400 flex items-center gap-2",children:[a?d.jsx(Tt,{className:"animate-spin"}):d.jsx(Dw,{}),d.jsx("span",{children:a?" ...":" "})]})]}),d.jsxs("div",{className:"bg-white p-6 rounded-lg border shadow-sm",children:[d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:'        " ".             .'}),l&&d.jsx("div",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-center",children:l}),u&&d.jsx("div",{className:"bg-green-100 text-green-700 p-3 rounded-md mb-4 text-center",children:u}),d.jsx("textarea",{value:n,onChange:p=>r(p.target.value),dir:"ltr",className:"w-full h-[65vh] p-4 font-mono text-sm bg-gray-900 text-green-300 rounded-md border-gray-700 focus:ring-green-500 focus:border-green-500",placeholder:"Loading JSON data..."})]})]})},AMe={colors:{red:["","",""],blue:["","",""],green:["","",""],yellow:["","",""],black:["","",""],white:["","",""],orange:["",""],purple:["",""],pink:["",""],gray:["",""]},actions:{changeColor:[""," "," "],changeSize:[""," "," "],makeBold:["","","",""," "],align:["",""," "," "],replace:[" "," "],delete:["",""],copy:["",""],paste:["",""],createList:[" "," "," "],addListItem:["","",""]},sizeKeywords:{increase:["","",""],decrease:["","",""]},alignments:{center:["","","",""],right:["",""],left:["",""]},targets:{text:["","","",""],selection:["",""]},conjunctions:[""],general:{next:["","",""," "]},listTypes:{bullet:["",""],numbered:["","",""]},positions:{before:[""],after:[""]},listSeparators:{newLine:[" "," "," "]}},NMe=()=>{const[t,e]=V.useState(null),[n,r]=V.useState(""),[i,s]=V.useState(!0),[a,o]=V.useState(!1),[l,c]=V.useState(""),[u,f]=V.useState("");V.useEffect(()=>{s(!0),HA().then(p=>{const v=p||AMe;e(v),r(JSON.stringify(v,null,2))}).catch(()=>c("    .")).finally(()=>s(!1))},[]);const h=async()=>{c(""),f("");try{const p=JSON.parse(n);o(!0),await jme(p),e(p),f("   !"),setTimeout(()=>f(""),3e3)}catch(p){console.error(p),c("   JSON.        .")}finally{o(!1)}};return i?d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(Tt,{className:"animate-spin text-4xl text-green-600"})}):d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"    (JSON)"}),d.jsxs("button",{onClick:h,disabled:a,className:"bg-green-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-green-700 transition-colors disabled:bg-gray-400 flex items-center gap-2",children:[a?d.jsx(Tt,{className:"animate-spin"}):d.jsx(Dw,{}),d.jsx("span",{children:a?" ...":" "})]})]}),d.jsxs("div",{className:"bg-white p-6 rounded-lg border shadow-sm",children:[d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:'        " ".               .'}),l&&d.jsx("div",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-center",children:l}),u&&d.jsx("div",{className:"bg-green-100 text-green-700 p-3 rounded-md mb-4 text-center",children:u}),d.jsx("textarea",{value:n,onChange:p=>r(p.target.value),dir:"ltr",className:"w-full h-[65vh] p-4 font-mono text-sm bg-gray-900 text-green-300 rounded-md border-gray-700 focus:ring-green-500 focus:border-green-500",placeholder:"Loading JSON data..."})]})]})},kMe=()=>{var o;const{useAdminChatManager:t}=fh(),{conversations:e,messages:n,currentConversationId:r,selectConversation:i,sendMessage:s}=t(),a=Array.from(e.entries()).sort(([,l],[,c])=>c.lastMessage.timestamp-l.lastMessage.timestamp);return d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"  "}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 items-start h-[75vh]",children:[d.jsxs("aside",{className:"lg:col-span-1 bg-gray-50 rounded-lg p-4 border max-h-full overflow-y-auto",children:[d.jsxs("h2",{className:"font-bold text-lg mb-3",children:[" (",e.size,")"]}),a.length>0?d.jsx("div",{className:"space-y-2",children:a.map(([l,c])=>d.jsxs("button",{onClick:()=>i(l),className:`w-full text-right p-3 rounded-lg border-2 transition-colors flex justify-between items-start ${r===l?"bg-green-100 border-green-500":"bg-white hover:bg-gray-100 border-transparent"}`,children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-gray-800",children:c.cafeName||"  "}),d.jsxs("p",{className:"text-sm text-gray-500 truncate",children:[c.lastMessage.senderId==="admin"?": ":"",c.lastMessage.text]})]}),c.unread&&d.jsx(GA,{className:"text-blue-500 text-xs mt-1 flex-shrink-0"})]},l))}):d.jsx("p",{className:"text-gray-500 text-center py-4",children:"   ."})]}),d.jsx("main",{className:"lg:col-span-2 bg-white rounded-lg border shadow-sm h-full flex flex-col",children:r?d.jsx(oI,{messages:n,onSendMessage:s,currentUserId:"admin",title:`  ${((o=e.get(r))==null?void 0:o.cafeName)||""}`,isOnline:!0}):d.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-8",children:[d.jsx(iI,{className:"text-5xl text-gray-300 mb-4"}),d.jsx("h3",{className:"text-xl font-medium text-gray-800",children:" "}),d.jsx("p",{className:"text-gray-500 mt-1",children:"           ."})]})})]})]})},IMe=()=>{var h,p;const{user:t}=jr(),{useCafeChatManager:e}=fh(),{adminConversation:n,visitorConversations:r,sendMessageToAdmin:i,sendMessageToVisitor:s,markAdminAsRead:a,markVisitorAsRead:o}=e(),[l,c]=V.useState({type:"admin",id:"admin"});V.useEffect(()=>{l.type==="admin"?a():o(l.id)},[l,a,o]);const u=V.useMemo(()=>Array.from(r.entries()).sort(([,v],[,g])=>{var y,_;return(((y=g.lastMessage)==null?void 0:y.timestamp)||0)-(((_=v.lastMessage)==null?void 0:_.timestamp)||0)}),[r]),f=V.useMemo(()=>l.type==="admin"?n:r.get(l.id),[l,n,r]);return d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:" "}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 items-start h-[75vh]",children:[d.jsxs("aside",{className:"lg:col-span-1 bg-gray-50 rounded-lg p-4 border max-h-full overflow-y-auto",children:[d.jsx("h2",{className:"font-bold text-lg mb-3",children:""}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("button",{onClick:()=>c({type:"admin",id:"admin"}),className:`w-full text-right p-3 rounded-lg border-2 transition-colors flex justify-between items-start ${l.id==="admin"?"bg-green-100 border-green-500":"bg-white hover:bg-gray-100 border-transparent"}`,children:[d.jsxs("div",{children:[d.jsxs("p",{className:"font-bold text-gray-800 flex items-center gap-2",children:[d.jsx(gge,{className:"text-gray-500"}),"  "]}),d.jsxs("p",{className:"text-sm text-gray-500 truncate",children:[((h=n.lastMessage)==null?void 0:h.senderId)===(t==null?void 0:t.id)?": ":"",((p=n.lastMessage)==null?void 0:p.text)||"  "]})]}),n.unread&&d.jsx(GA,{className:"text-blue-500 text-xs mt-1 flex-shrink-0"})]}),u.map(([v,g])=>{var y,_;return d.jsxs("button",{onClick:()=>c({type:"visitor",id:v}),className:`w-full text-right p-3 rounded-lg border-2 transition-colors flex justify-between items-start ${l.id===v?"bg-green-100 border-green-500":"bg-white hover:bg-gray-100 border-transparent"}`,children:[d.jsxs("div",{children:[d.jsxs("p",{className:"font-bold text-gray-800 flex items-center gap-2",children:[d.jsx(yge,{className:"text-gray-500"}),"  ",v.substring(8,12)]}),d.jsxs("p",{className:"text-sm text-gray-500 truncate",children:[((y=g.lastMessage)==null?void 0:y.senderId)===(t==null?void 0:t.id)?": ":"",(_=g.lastMessage)==null?void 0:_.text]})]}),g.unread&&d.jsx(GA,{className:"text-blue-500 text-xs mt-1 flex-shrink-0"})]},v)})]})]}),d.jsx("main",{className:"lg:col-span-2 bg-white rounded-lg border shadow-sm h-full flex flex-col",children:f&&t?d.jsx(oI,{messages:f.messages,onSendMessage:l.type==="admin"?i:v=>s(l.id,v),currentUserId:t.id,title:l.type==="admin"?"   ":`   ${l.id.substring(8,12)}`,isOnline:!0}):d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{children:"  "})})})]})]})},FB=()=>{const{countryCode:t,docId:e}=_a(),{siteSettings:n,documents:r,fullDocuments:i}=un(),{t:s}=Ui(),[a,o]=V.useState(null),[l,c]=V.useState(!0),[u,f]=V.useState(null),[h,p]=V.useState("form"),[v,g]=V.useState({}),[y,_]=V.useState(null),[x,w]=V.useState((n==null?void 0:n.ads.pdfInterstitialTimer)??5),C=t?`/${t}`:"/";V.useEffect(()=>{if(!e){f("   ."),c(!1);return}(async()=>{c(!0),f(null);try{const P=r.find(G=>G.id===e||G.slug===e)||i.find(G=>G.id===e||G.slug===e),k=(P==null?void 0:P.slug)||e;let U=`https://datas.gitut.com/data/json/documents/${k}.json`;P&&P.countryCode&&P.countryCode!=="global"&&(U=`https://datas.gitut.com/data/json/documents/${P.countryCode}/${k}.json`);const O=await fetch(U);if(!O.ok)throw new Error(`   . : ${O.status}`);const H=await O.json();o(H)}catch(P){console.error("    :",P),f(P instanceof Error?P.message:"   .")}finally{c(!1)}})()},[e,r,i]);const S=V.useMemo(()=>a?(a.requiredFields||[]).filter(F=>F!=="DateToday").map(F=>di[F]):[],[a]),R=async F=>{if(!a||!F)return;const P=[a];if(F==="word"){let k=a.finalTemplateHtml||"";if(!k){alert("   .");return}const O=new Date().toLocaleDateString("ar-DZ",{day:"2-digit",month:"2-digit",year:"numeric"});k=k.replace(/\[DateToday\]/g,O),Object.keys(v).forEach(X=>{const Z=new RegExp(`\\[${X}\\]`,"g");k=k.replace(Z,v[X]||"")}),k=k.replace(/\[[^\]]+\]/g,"");const H=new Blob([`
                <html xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:w='urn:schemas-microsoft-com:office:word' xmlns='http://www.w3.org/TR/REC-html40'>
                <head><meta charset='utf-8'><title>${a.name}</title></head>
                <body>${k}</body>
                </html>
            `],{type:"application/msword"}),G=document.createElement("a");G.href=URL.createObjectURL(H),G.download=`${a.slug||"document"}.doc`,document.body.appendChild(G),G.click(),document.body.removeChild(G),URL.revokeObjectURL(G.href);return}F==="pdf"&&await Yy(P,a.id,v,{action:"download",targetLang:"ar",templateType:"final"})};V.useEffect(()=>{if(h==="ad")if(x>0){const F=setTimeout(()=>w(P=>P-1),1e3);return()=>clearTimeout(F)}else R(y)},[h,x,y]);const D=(F,P)=>{g(k=>({...k,[F]:P}))},N=F=>{F.preventDefault(),p("select_format")},I=F=>{_(F),w((n==null?void 0:n.ads.pdfInterstitialTimer)??5),p("ad")};return l?d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(Tt,{className:"animate-spin text-4xl text-green-600"})}):u||!a?d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:u||"    "}),d.jsx(dn,{to:C,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"   "})]}):h==="select_format"?d.jsx("div",{className:"max-w-xl mx-auto text-center",children:d.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg border space-y-4",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" :   "}),d.jsx("p",{className:"text-gray-600",children:"      ."}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-4",children:[d.jsxs("button",{onClick:()=>I("pdf"),className:"flex-1 flex flex-col items-center justify-center gap-2 bg-red-100 text-red-800 font-bold p-6 rounded-lg hover:bg-red-200 border border-red-200 transition-colors",children:[d.jsx(Cw,{size:40}),d.jsx("span",{children:"  PDF"})]}),d.jsxs("button",{onClick:()=>I("word"),className:"flex-1 flex flex-col items-center justify-center gap-2 bg-blue-100 text-blue-800 font-bold p-6 rounded-lg hover:bg-blue-200 border border-blue-200 transition-colors",children:[d.jsx(sI,{size:40}),d.jsx("span",{children:"  Word"})]})]})]})}):h==="ad"?d.jsx("div",{className:"max-w-3xl mx-auto text-center",children:d.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg border space-y-4",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"    ..."}),d.jsx("p",{className:"text-gray-600",children:"    :"}),d.jsx("div",{className:"text-5xl font-bold text-green-600 font-mono tracking-widest my-4 p-4 bg-gray-100 rounded-lg",children:x}),d.jsxs("div",{className:"pt-6 border-t",children:[d.jsx("p",{className:"text-sm text-gray-500 mb-4",children:":"}),d.jsx(bc,{placement:"PDF_INTERSTITIAL"})]})]})}):d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8 items-start",children:[d.jsx("aside",{className:"hidden lg:block lg:col-span-1 space-y-6",children:d.jsx(bc,{placement:"PUBLIC_FORM_RIGHT"})}),d.jsx("main",{className:"lg:col-span-3",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8",children:[d.jsxs("div",{className:"mb-6 border-b pb-4 text-center",children:[d.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:[" : ",a.name]}),d.jsx("p",{className:"text-gray-600",children:"      ."})]}),d.jsxs("form",{onSubmit:N,className:"space-y-4",children:[S.map(F=>{if(!F)return null;const P=F.id;return d.jsxs("div",{children:[d.jsx("label",{htmlFor:F.id,className:"block text-sm font-medium text-gray-700 mb-1",children:s(F.label)}),F.type==="file"?d.jsx(Z1,{value:v[F.id]||"",onChange:k=>D(F.id,k)}):F.type==="select"&&F.options?d.jsxs("select",{id:F.id,name:F.id,value:v[P]||"",onChange:k=>D(k.target.name,k.target.value),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm",required:!0,children:[d.jsx("option",{value:"",children:s(F.placeholder)}),F.options.map(k=>d.jsx("option",{value:k.value,children:s(k.label)},k.value))]}):d.jsx("input",{type:F.type,id:F.id,name:F.id,value:v[P]||"",onChange:k=>D(k.target.name,k.target.value),placeholder:s(F.placeholder),className:"w-full p-2 border rounded-md",required:!0})]},F.id)}),d.jsx("div",{className:"pt-4",children:d.jsxs("button",{type:"submit",className:"w-full flex items-center justify-center gap-3 bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition-colors text-lg",children:[d.jsx(VH,{}),d.jsx("span",{children:" "})]})})]})]})}),d.jsx("aside",{className:"hidden lg:block lg:col-span-1 space-y-6",children:d.jsx(bc,{placement:"PUBLIC_FORM_LEFT"})})]})},RMe=()=>{const{pathname:t}=Lr();return V.useEffect(()=>{window.scrollTo(0,0)},[t]),null},PMe=()=>{const{user:t,loading:e}=jr(),n=V.useCallback(()=>{if(e)return;const r={source:"gitut-webapp",type:"auth_update",payload:t?{user:{email:t.email},credits:t.credits}:null};window.postMessage(r,"*")},[t,e]);return V.useEffect(()=>{const r=i=>{var s;i.source===window&&((s=i.data)==null?void 0:s.source)==="gitut-extension"&&i.data.type==="get_auth"&&n()};return window.addEventListener("message",r),()=>window.removeEventListener("message",r)},[n]),V.useEffect(()=>{n()},[n]),null},FMe=()=>{const{countryCode:t}=_a(),e=V.useMemo(()=>Ir.en.map(n=>n.code),[]);return t&&/^[a-z]{2}$/.test(t)&&e.includes(t)?d.jsx(A3,{}):d.jsx(pQ,{})},MMe=()=>{const{user:t,loading:e}=jr(),{error:n}=un(),{t:r}=Ui(),i=Lr(),s=i.pathname.match(/^\/([a-z]{2})(?:\/|$)/),a=s?s[1]:null;if(n)return d.jsx("main",{className:"flex-grow container mx-auto px-4 py-8 flex justify-center items-center",children:d.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-800 p-4 rounded-md shadow-md max-w-2xl",role:"alert",children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"py-1",children:d.jsx(Ew,{className:"h-6 w-6 text-red-500 ml-4 rtl:mr-0 rtl:ml-4"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold",children:r("app.error.title")}),d.jsx("p",{className:"text-sm",children:r("app.error.message")}),d.jsx("div",{className:"text-sm mt-2 bg-red-200 p-3 rounded",dangerouslySetInnerHTML:{__html:n}})]})]})})});if(e)return d.jsx("main",{className:"flex-grow container mx-auto px-4 py-8 flex justify-center items-center",children:d.jsx(Tt,{className:"animate-spin text-4xl text-green-600"})});const o=i.pathname.startsWith("/admin");if(t&&t.countryCode&&a&&t.countryCode!==a&&!o){const h=i.pathname.replace(`/${a}`,`/${t.countryCode}`);return d.jsx(kp,{to:h,replace:!0})}const l=/^\/[a-z]{2}\/app\/(document-studio|excel-studio)/.test(i.pathname),c=/^\/admin\/app\/document-studio/.test(i.pathname),f=l||c?"flex-grow px-4 py-8 w-full":"flex-grow container mx-auto px-4 py-8";return d.jsx("main",{className:f,children:d.jsxs(bee,{children:[d.jsx(Xt,{path:"/",element:d.jsx(I9,{})}),d.jsx(Xt,{path:"/admin/login",element:d.jsx(kye,{})}),d.jsxs(Xt,{path:"/admin/app",element:d.jsx(Pye,{children:d.jsx(Rye,{})}),children:[d.jsx(Xt,{index:!0,element:d.jsx(Fye,{})}),d.jsx(Xt,{path:"users",element:d.jsx(Mye,{})}),d.jsx(Xt,{path:"billing",element:d.jsx(Uye,{})}),d.jsx(Xt,{path:"settings",element:d.jsx(Oye,{})}),d.jsx(Xt,{path:"seo",element:d.jsx(Hye,{})}),d.jsx(Xt,{path:"pages",element:d.jsx(fve,{})}),d.jsx(Xt,{path:"ads",element:d.jsx(pve,{})}),d.jsx(Xt,{path:"blog",element:d.jsx(c4e,{})}),d.jsx(Xt,{path:"data",element:d.jsx(v4e,{})}),d.jsx(Xt,{path:"sites",element:d.jsx(x4e,{})}),d.jsx(Xt,{path:"documents",element:d.jsx(w4e,{})}),d.jsx(Xt,{path:"document-studio",element:d.jsx(_Me,{})}),d.jsx(Xt,{path:"base-templates",element:d.jsx(SMe,{})}),d.jsx(Xt,{path:"static-docs",element:d.jsx(A4e,{})}),d.jsx(Xt,{path:"excel-commands",element:d.jsx(DMe,{})}),d.jsx(Xt,{path:"document-commands",element:d.jsx(NMe,{})}),d.jsx(Xt,{path:"chat",element:d.jsx(kMe,{})})]}),d.jsx(Xt,{path:"/public-form/:docId",element:d.jsx(FB,{})}),d.jsx(Xt,{path:"/go-to-site/:siteId",element:d.jsx(RB,{})}),d.jsx(Xt,{path:"/login",element:d.jsx(kp,{to:"/dz/login",replace:!0})}),d.jsx(Xt,{path:"/signup",element:d.jsx(kp,{to:"/dz/signup",replace:!0})}),d.jsx(Xt,{path:"/app/*",element:d.jsx(kp,{to:"/",replace:!0})}),d.jsxs(Xt,{path:"/:countryCode",element:d.jsx(FMe,{}),children:[d.jsx(Xt,{index:!0,element:d.jsx(I9,{})}),d.jsx(Xt,{path:"profile/:numericId",element:d.jsx(Dge,{})}),d.jsx(Xt,{path:"form",element:d.jsx(Oge,{})}),d.jsx(Xt,{path:"public-form/:docId",element:d.jsx(FB,{})}),d.jsx(Xt,{path:"confirmation/:jobId",element:d.jsx(Lge,{})}),d.jsx(Xt,{path:"page/:slug",element:d.jsx(hve,{})}),d.jsx(Xt,{path:"service/:type/:id",element:d.jsx(S4e,{})}),d.jsx(Xt,{path:"view/:docId",element:d.jsx(k4e,{})}),d.jsx(Xt,{path:"go-to-site/:siteId",element:d.jsx(RB,{})}),d.jsx(Xt,{path:"find-cafe",element:d.jsx(P4e,{})}),d.jsx(Xt,{path:"login",element:d.jsx(jge,{})}),d.jsx(Xt,{path:"signup",element:d.jsx(Vge,{})}),d.jsxs(Xt,{path:"app",element:d.jsx(o0e,{children:d.jsx($ge,{children:d.jsx(Jge,{})})}),children:[d.jsx(Xt,{index:!0,element:d.jsx(Qge,{})}),d.jsx(Xt,{path:"pending-jobs",element:d.jsx(n0e,{})}),d.jsx(Xt,{path:"generate",element:d.jsx(a0e,{})}),d.jsx(Xt,{path:"excel-studio",element:d.jsx(WFe,{})}),d.jsx(Xt,{path:"document-studio",element:d.jsx(vMe,{})}),d.jsx(Xt,{path:"settings",element:d.jsx(wye,{})}),d.jsx(Xt,{path:"multi-person-job",element:d.jsx(Cye,{})}),d.jsx(Xt,{path:"billing",element:d.jsx(Nye,{})}),d.jsx(Xt,{path:"fill-site/:siteId",element:d.jsx(b4e,{})}),d.jsx(Xt,{path:"clients",element:d.jsx(T4e,{})}),d.jsx(Xt,{path:"view-pdf/:docId",element:d.jsx(N4e,{})}),d.jsx(Xt,{path:"chat",element:d.jsx(IMe,{})})]})]}),d.jsx(Xt,{path:"*",element:d.jsx(pQ,{})})]})})},UMe=()=>d.jsx(Vme,{children:d.jsx(bge,{children:d.jsx($ee,{children:d.jsx(_ge,{children:d.jsxs(Cge,{children:[d.jsx(wMe,{}),d.jsx(RMe,{}),d.jsx(PMe,{}),d.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-100 text-gray-900",children:[d.jsx(xge,{}),d.jsx(MMe,{}),d.jsx(wge,{})]})]})})})})}),mQ=document.getElementById("root");if(!mQ)throw new Error("Could not find root element to mount to");const OMe=AZ.createRoot(mQ);OMe.render(d.jsx(Jo.StrictMode,{children:d.jsx(UMe,{})}));
