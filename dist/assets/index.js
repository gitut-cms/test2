(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var fs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function sZ(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var kE={exports:{}},Rg={},RE={exports:{}},pn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eP;function aZ(){if(eP)return pn;eP=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),f=Symbol.iterator;function h(B){return B===null||typeof B!="object"?null:(B=f&&B[f]||B["@@iterator"],typeof B=="function"?B:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,g={};function y(B,j,W){this.props=B,this.context=j,this.refs=g,this.updater=W||p}y.prototype.isReactComponent={},y.prototype.setState=function(B,j){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,j,"setState")},y.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function b(){}b.prototype=y.prototype;function _(B,j,W){this.props=B,this.context=j,this.refs=g,this.updater=W||p}var w=_.prototype=new b;w.constructor=_,v(w,y.prototype),w.isPureReactComponent=!0;var C=Array.isArray,S=Object.prototype.hasOwnProperty,R={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function N(B,j,W){var G,Y={},ee=null,ae=null;if(j!=null)for(G in j.ref!==void 0&&(ae=j.ref),j.key!==void 0&&(ee=""+j.key),j)S.call(j,G)&&!D.hasOwnProperty(G)&&(Y[G]=j[G]);var de=arguments.length-2;if(de===1)Y.children=W;else if(1<de){for(var fe=Array(de),De=0;De<de;De++)fe[De]=arguments[De+2];Y.children=fe}if(B&&B.defaultProps)for(G in de=B.defaultProps,de)Y[G]===void 0&&(Y[G]=de[G]);return{$$typeof:t,type:B,key:ee,ref:ae,props:Y,_owner:R.current}}function k(B,j){return{$$typeof:t,type:B.type,key:j,ref:B.ref,props:B.props,_owner:B._owner}}function F(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function P(B){var j={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(W){return j[W]})}var I=/\/+/g;function U(B,j){return typeof B=="object"&&B!==null&&B.key!=null?P(""+B.key):j.toString(36)}function O(B,j,W,G,Y){var ee=typeof B;(ee==="undefined"||ee==="boolean")&&(B=null);var ae=!1;if(B===null)ae=!0;else switch(ee){case"string":case"number":ae=!0;break;case"object":switch(B.$$typeof){case t:case e:ae=!0}}if(ae)return ae=B,Y=Y(ae),B=G===""?"."+U(ae,0):G,C(Y)?(W="",B!=null&&(W=B.replace(I,"$&/")+"/"),O(Y,j,W,"",function(De){return De})):Y!=null&&(F(Y)&&(Y=k(Y,W+(!Y.key||ae&&ae.key===Y.key?"":(""+Y.key).replace(I,"$&/")+"/")+B)),j.push(Y)),1;if(ae=0,G=G===""?".":G+":",C(B))for(var de=0;de<B.length;de++){ee=B[de];var fe=G+U(ee,de);ae+=O(ee,j,W,fe,Y)}else if(fe=h(B),typeof fe=="function")for(B=fe.call(B),de=0;!(ee=B.next()).done;)ee=ee.value,fe=G+U(ee,de++),ae+=O(ee,j,W,fe,Y);else if(ee==="object")throw j=String(B),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.");return ae}function K(B,j,W){if(B==null)return B;var G=[],Y=0;return O(B,G,"","",function(ee){return j.call(W,ee,Y++)}),G}function X(B){if(B._status===-1){var j=B._result;j=j(),j.then(function(W){(B._status===0||B._status===-1)&&(B._status=1,B._result=W)},function(W){(B._status===0||B._status===-1)&&(B._status=2,B._result=W)}),B._status===-1&&(B._status=0,B._result=j)}if(B._status===1)return B._result.default;throw B._result}var J={current:null},ne={transition:null},z={ReactCurrentDispatcher:J,ReactCurrentBatchConfig:ne,ReactCurrentOwner:R};function Q(){throw Error("act(...) is not supported in production builds of React.")}return pn.Children={map:K,forEach:function(B,j,W){K(B,function(){j.apply(this,arguments)},W)},count:function(B){var j=0;return K(B,function(){j++}),j},toArray:function(B){return K(B,function(j){return j})||[]},only:function(B){if(!F(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},pn.Component=y,pn.Fragment=n,pn.Profiler=i,pn.PureComponent=_,pn.StrictMode=r,pn.Suspense=l,pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,pn.act=Q,pn.cloneElement=function(B,j,W){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var G=v({},B.props),Y=B.key,ee=B.ref,ae=B._owner;if(j!=null){if(j.ref!==void 0&&(ee=j.ref,ae=R.current),j.key!==void 0&&(Y=""+j.key),B.type&&B.type.defaultProps)var de=B.type.defaultProps;for(fe in j)S.call(j,fe)&&!D.hasOwnProperty(fe)&&(G[fe]=j[fe]===void 0&&de!==void 0?de[fe]:j[fe])}var fe=arguments.length-2;if(fe===1)G.children=W;else if(1<fe){de=Array(fe);for(var De=0;De<fe;De++)de[De]=arguments[De+2];G.children=de}return{$$typeof:t,type:B.type,key:Y,ref:ee,props:G,_owner:ae}},pn.createContext=function(B){return B={$$typeof:a,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:s,_context:B},B.Consumer=B},pn.createElement=N,pn.createFactory=function(B){var j=N.bind(null,B);return j.type=B,j},pn.createRef=function(){return{current:null}},pn.forwardRef=function(B){return{$$typeof:o,render:B}},pn.isValidElement=F,pn.lazy=function(B){return{$$typeof:u,_payload:{_status:-1,_result:B},_init:X}},pn.memo=function(B,j){return{$$typeof:c,type:B,compare:j===void 0?null:j}},pn.startTransition=function(B){var j=ne.transition;ne.transition={};try{B()}finally{ne.transition=j}},pn.unstable_act=Q,pn.useCallback=function(B,j){return J.current.useCallback(B,j)},pn.useContext=function(B){return J.current.useContext(B)},pn.useDebugValue=function(){},pn.useDeferredValue=function(B){return J.current.useDeferredValue(B)},pn.useEffect=function(B,j){return J.current.useEffect(B,j)},pn.useId=function(){return J.current.useId()},pn.useImperativeHandle=function(B,j,W){return J.current.useImperativeHandle(B,j,W)},pn.useInsertionEffect=function(B,j){return J.current.useInsertionEffect(B,j)},pn.useLayoutEffect=function(B,j){return J.current.useLayoutEffect(B,j)},pn.useMemo=function(B,j){return J.current.useMemo(B,j)},pn.useReducer=function(B,j,W){return J.current.useReducer(B,j,W)},pn.useRef=function(B){return J.current.useRef(B)},pn.useState=function(B){return J.current.useState(B)},pn.useSyncExternalStore=function(B,j,W){return J.current.useSyncExternalStore(B,j,W)},pn.useTransition=function(){return J.current.useTransition()},pn.version="18.3.1",pn}var tP;function nb(){return tP||(tP=1,RE.exports=aZ()),RE.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nP;function oZ(){if(nP)return Rg;nP=1;var t=nb(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(o,l,c){var u,f={},h=null,p=null;c!==void 0&&(h=""+c),l.key!==void 0&&(h=""+l.key),l.ref!==void 0&&(p=l.ref);for(u in l)r.call(l,u)&&!s.hasOwnProperty(u)&&(f[u]=l[u]);if(o&&o.defaultProps)for(u in l=o.defaultProps,l)f[u]===void 0&&(f[u]=l[u]);return{$$typeof:e,type:o,key:h,ref:p,props:f,_owner:i.current}}return Rg.Fragment=n,Rg.jsx=a,Rg.jsxs=a,Rg}var rP;function lZ(){return rP||(rP=1,kE.exports=oZ()),kE.exports}var d=lZ(),q=nb();const ml=tb(q);var ax={},PE={exports:{}},Hs={},FE={exports:{}},ME={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iP;function cZ(){return iP||(iP=1,(function(t){function e(ne,z){var Q=ne.length;ne.push(z);e:for(;0<Q;){var B=Q-1>>>1,j=ne[B];if(0<i(j,z))ne[B]=z,ne[Q]=j,Q=B;else break e}}function n(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var z=ne[0],Q=ne.pop();if(Q!==z){ne[0]=Q;e:for(var B=0,j=ne.length,W=j>>>1;B<W;){var G=2*(B+1)-1,Y=ne[G],ee=G+1,ae=ne[ee];if(0>i(Y,Q))ee<j&&0>i(ae,Y)?(ne[B]=ae,ne[ee]=Q,B=ee):(ne[B]=Y,ne[G]=Q,B=G);else if(ee<j&&0>i(ae,Q))ne[B]=ae,ne[ee]=Q,B=ee;else break e}}return z}function i(ne,z){var Q=ne.sortIndex-z.sortIndex;return Q!==0?Q:ne.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,f=null,h=3,p=!1,v=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(ne){for(var z=n(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=ne)r(c),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(c)}}function C(ne){if(g=!1,w(ne),!v)if(n(l)!==null)v=!0,X(S);else{var z=n(c);z!==null&&J(C,z.startTime-ne)}}function S(ne,z){v=!1,g&&(g=!1,b(N),N=-1),p=!0;var Q=h;try{for(w(z),f=n(l);f!==null&&(!(f.expirationTime>z)||ne&&!P());){var B=f.callback;if(typeof B=="function"){f.callback=null,h=f.priorityLevel;var j=B(f.expirationTime<=z);z=t.unstable_now(),typeof j=="function"?f.callback=j:f===n(l)&&r(l),w(z)}else r(l);f=n(l)}if(f!==null)var W=!0;else{var G=n(c);G!==null&&J(C,G.startTime-z),W=!1}return W}finally{f=null,h=Q,p=!1}}var R=!1,D=null,N=-1,k=5,F=-1;function P(){return!(t.unstable_now()-F<k)}function I(){if(D!==null){var ne=t.unstable_now();F=ne;var z=!0;try{z=D(!0,ne)}finally{z?U():(R=!1,D=null)}}else R=!1}var U;if(typeof _=="function")U=function(){_(I)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,K=O.port2;O.port1.onmessage=I,U=function(){K.postMessage(null)}}else U=function(){y(I,0)};function X(ne){D=ne,R||(R=!0,U())}function J(ne,z){N=y(function(){ne(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ne){ne.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,X(S))},t.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<ne?Math.floor(1e3/ne):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(ne){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var Q=h;h=z;try{return ne()}finally{h=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ne,z){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var Q=h;h=ne;try{return z()}finally{h=Q}},t.unstable_scheduleCallback=function(ne,z,Q){var B=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?B+Q:B):Q=B,ne){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=Q+j,ne={id:u++,callback:z,priorityLevel:ne,startTime:Q,expirationTime:j,sortIndex:-1},Q>B?(ne.sortIndex=Q,e(c,ne),n(l)===null&&ne===n(c)&&(g?(b(N),N=-1):g=!0,J(C,Q-B))):(ne.sortIndex=j,e(l,ne),v||p||(v=!0,X(S))),ne},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(ne){var z=h;return function(){var Q=h;h=z;try{return ne.apply(this,arguments)}finally{h=Q}}}})(ME)),ME}var sP;function uZ(){return sP||(sP=1,FE.exports=cZ()),FE.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aP;function dZ(){if(aP)return Hs;aP=1;var t=nb(),e=uZ();function n(m){for(var x="https://reactjs.org/docs/error-decoder.html?invariant="+m,A=1;A<arguments.length;A++)x+="&args[]="+encodeURIComponent(arguments[A]);return"Minified React error #"+m+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(m,x){a(m,x),a(m+"Capture",x)}function a(m,x){for(i[m]=x,m=0;m<x.length;m++)r.add(x[m])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u={},f={};function h(m){return l.call(f,m)?!0:l.call(u,m)?!1:c.test(m)?f[m]=!0:(u[m]=!0,!1)}function p(m,x,A,L){if(A!==null&&A.type===0)return!1;switch(typeof x){case"function":case"symbol":return!0;case"boolean":return L?!1:A!==null?!A.acceptsBooleans:(m=m.toLowerCase().slice(0,5),m!=="data-"&&m!=="aria-");default:return!1}}function v(m,x,A,L){if(x===null||typeof x>"u"||p(m,x,A,L))return!0;if(L)return!1;if(A!==null)switch(A.type){case 3:return!x;case 4:return x===!1;case 5:return isNaN(x);case 6:return isNaN(x)||1>x}return!1}function g(m,x,A,L,H,te,xe){this.acceptsBooleans=x===2||x===3||x===4,this.attributeName=L,this.attributeNamespace=H,this.mustUseProperty=A,this.propertyName=m,this.type=x,this.sanitizeURL=te,this.removeEmptyString=xe}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(m){y[m]=new g(m,0,!1,m,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(m){var x=m[0];y[x]=new g(x,1,!1,m[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(m){y[m]=new g(m,2,!1,m.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(m){y[m]=new g(m,2,!1,m,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(m){y[m]=new g(m,3,!1,m.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(m){y[m]=new g(m,3,!0,m,null,!1,!1)}),["capture","download"].forEach(function(m){y[m]=new g(m,4,!1,m,null,!1,!1)}),["cols","rows","size","span"].forEach(function(m){y[m]=new g(m,6,!1,m,null,!1,!1)}),["rowSpan","start"].forEach(function(m){y[m]=new g(m,5,!1,m.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function _(m){return m[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(m){var x=m.replace(b,_);y[x]=new g(x,1,!1,m,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(m){var x=m.replace(b,_);y[x]=new g(x,1,!1,m,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(m){var x=m.replace(b,_);y[x]=new g(x,1,!1,m,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(m){y[m]=new g(m,1,!1,m.toLowerCase(),null,!1,!1)}),y.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(m){y[m]=new g(m,1,!1,m.toLowerCase(),null,!0,!0)});function w(m,x,A,L){var H=y.hasOwnProperty(x)?y[x]:null;(H!==null?H.type!==0:L||!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(v(x,A,H,L)&&(A=null),L||H===null?h(x)&&(A===null?m.removeAttribute(x):m.setAttribute(x,""+A)):H.mustUseProperty?m[H.propertyName]=A===null?H.type===3?!1:"":A:(x=H.attributeName,L=H.attributeNamespace,A===null?m.removeAttribute(x):(H=H.type,A=H===3||H===4&&A===!0?"":""+A,L?m.setAttributeNS(L,x,A):m.setAttribute(x,A))))}var C=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),R=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),P=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),ne=Symbol.iterator;function z(m){return m===null||typeof m!="object"?null:(m=ne&&m[ne]||m["@@iterator"],typeof m=="function"?m:null)}var Q=Object.assign,B;function j(m){if(B===void 0)try{throw Error()}catch(A){var x=A.stack.trim().match(/\n( *(at )?)/);B=x&&x[1]||""}return`
`+B+m}var W=!1;function G(m,x){if(!m||W)return"";W=!0;var A=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(x)if(x=function(){throw Error()},Object.defineProperty(x.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(x,[])}catch(Qe){var L=Qe}Reflect.construct(m,[],x)}else{try{x.call()}catch(Qe){L=Qe}m.call(x.prototype)}else{try{throw Error()}catch(Qe){L=Qe}m()}}catch(Qe){if(Qe&&L&&typeof Qe.stack=="string"){for(var H=Qe.stack.split(`
`),te=L.stack.split(`
`),xe=H.length-1,Fe=te.length-1;1<=xe&&0<=Fe&&H[xe]!==te[Fe];)Fe--;for(;1<=xe&&0<=Fe;xe--,Fe--)if(H[xe]!==te[Fe]){if(xe!==1||Fe!==1)do if(xe--,Fe--,0>Fe||H[xe]!==te[Fe]){var Be=`
`+H[xe].replace(" at new "," at ");return m.displayName&&Be.includes("<anonymous>")&&(Be=Be.replace("<anonymous>",m.displayName)),Be}while(1<=xe&&0<=Fe);break}}}finally{W=!1,Error.prepareStackTrace=A}return(m=m?m.displayName||m.name:"")?j(m):""}function Y(m){switch(m.tag){case 5:return j(m.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return m=G(m.type,!1),m;case 11:return m=G(m.type.render,!1),m;case 1:return m=G(m.type,!0),m;default:return""}}function ee(m){if(m==null)return null;if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m;switch(m){case D:return"Fragment";case R:return"Portal";case k:return"Profiler";case N:return"StrictMode";case U:return"Suspense";case O:return"SuspenseList"}if(typeof m=="object")switch(m.$$typeof){case P:return(m.displayName||"Context")+".Consumer";case F:return(m._context.displayName||"Context")+".Provider";case I:var x=m.render;return m=m.displayName,m||(m=x.displayName||x.name||"",m=m!==""?"ForwardRef("+m+")":"ForwardRef"),m;case K:return x=m.displayName||null,x!==null?x:ee(m.type)||"Memo";case X:x=m._payload,m=m._init;try{return ee(m(x))}catch{}}return null}function ae(m){var x=m.type;switch(m.tag){case 24:return"Cache";case 9:return(x.displayName||"Context")+".Consumer";case 10:return(x._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return m=x.render,m=m.displayName||m.name||"",x.displayName||(m!==""?"ForwardRef("+m+")":"ForwardRef");case 7:return"Fragment";case 5:return x;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ee(x);case 8:return x===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof x=="function")return x.displayName||x.name||null;if(typeof x=="string")return x}return null}function de(m){switch(typeof m){case"boolean":case"number":case"string":case"undefined":return m;case"object":return m;default:return""}}function fe(m){var x=m.type;return(m=m.nodeName)&&m.toLowerCase()==="input"&&(x==="checkbox"||x==="radio")}function De(m){var x=fe(m)?"checked":"value",A=Object.getOwnPropertyDescriptor(m.constructor.prototype,x),L=""+m[x];if(!m.hasOwnProperty(x)&&typeof A<"u"&&typeof A.get=="function"&&typeof A.set=="function"){var H=A.get,te=A.set;return Object.defineProperty(m,x,{configurable:!0,get:function(){return H.call(this)},set:function(xe){L=""+xe,te.call(this,xe)}}),Object.defineProperty(m,x,{enumerable:A.enumerable}),{getValue:function(){return L},setValue:function(xe){L=""+xe},stopTracking:function(){m._valueTracker=null,delete m[x]}}}}function Pe(m){m._valueTracker||(m._valueTracker=De(m))}function me(m){if(!m)return!1;var x=m._valueTracker;if(!x)return!0;var A=x.getValue(),L="";return m&&(L=fe(m)?m.checked?"true":"false":m.value),m=L,m!==A?(x.setValue(m),!0):!1}function je(m){if(m=m||(typeof document<"u"?document:void 0),typeof m>"u")return null;try{return m.activeElement||m.body}catch{return m.body}}function V(m,x){var A=x.checked;return Q({},x,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:A??m._wrapperState.initialChecked})}function ye(m,x){var A=x.defaultValue==null?"":x.defaultValue,L=x.checked!=null?x.checked:x.defaultChecked;A=de(x.value!=null?x.value:A),m._wrapperState={initialChecked:L,initialValue:A,controlled:x.type==="checkbox"||x.type==="radio"?x.checked!=null:x.value!=null}}function be(m,x){x=x.checked,x!=null&&w(m,"checked",x,!1)}function oe(m,x){be(m,x);var A=de(x.value),L=x.type;if(A!=null)L==="number"?(A===0&&m.value===""||m.value!=A)&&(m.value=""+A):m.value!==""+A&&(m.value=""+A);else if(L==="submit"||L==="reset"){m.removeAttribute("value");return}x.hasOwnProperty("value")?le(m,x.type,A):x.hasOwnProperty("defaultValue")&&le(m,x.type,de(x.defaultValue)),x.checked==null&&x.defaultChecked!=null&&(m.defaultChecked=!!x.defaultChecked)}function re(m,x,A){if(x.hasOwnProperty("value")||x.hasOwnProperty("defaultValue")){var L=x.type;if(!(L!=="submit"&&L!=="reset"||x.value!==void 0&&x.value!==null))return;x=""+m._wrapperState.initialValue,A||x===m.value||(m.value=x),m.defaultValue=x}A=m.name,A!==""&&(m.name=""),m.defaultChecked=!!m._wrapperState.initialChecked,A!==""&&(m.name=A)}function le(m,x,A){(x!=="number"||je(m.ownerDocument)!==m)&&(A==null?m.defaultValue=""+m._wrapperState.initialValue:m.defaultValue!==""+A&&(m.defaultValue=""+A))}var he=Array.isArray;function _e(m,x,A,L){if(m=m.options,x){x={};for(var H=0;H<A.length;H++)x["$"+A[H]]=!0;for(A=0;A<m.length;A++)H=x.hasOwnProperty("$"+m[A].value),m[A].selected!==H&&(m[A].selected=H),H&&L&&(m[A].defaultSelected=!0)}else{for(A=""+de(A),x=null,H=0;H<m.length;H++){if(m[H].value===A){m[H].selected=!0,L&&(m[H].defaultSelected=!0);return}x!==null||m[H].disabled||(x=m[H])}x!==null&&(x.selected=!0)}}function ie(m,x){if(x.dangerouslySetInnerHTML!=null)throw Error(n(91));return Q({},x,{value:void 0,defaultValue:void 0,children:""+m._wrapperState.initialValue})}function ce(m,x){var A=x.value;if(A==null){if(A=x.children,x=x.defaultValue,A!=null){if(x!=null)throw Error(n(92));if(he(A)){if(1<A.length)throw Error(n(93));A=A[0]}x=A}x==null&&(x=""),A=x}m._wrapperState={initialValue:de(A)}}function ge(m,x){var A=de(x.value),L=de(x.defaultValue);A!=null&&(A=""+A,A!==m.value&&(m.value=A),x.defaultValue==null&&m.defaultValue!==A&&(m.defaultValue=A)),L!=null&&(m.defaultValue=""+L)}function ve(m){var x=m.textContent;x===m._wrapperState.initialValue&&x!==""&&x!==null&&(m.value=x)}function Se(m){switch(m){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Oe(m,x){return m==null||m==="http://www.w3.org/1999/xhtml"?Se(x):m==="http://www.w3.org/2000/svg"&&x==="foreignObject"?"http://www.w3.org/1999/xhtml":m}var Te,Ue=(function(m){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(x,A,L,H){MSApp.execUnsafeLocalFunction(function(){return m(x,A,L,H)})}:m})(function(m,x){if(m.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in m)m.innerHTML=x;else{for(Te=Te||document.createElement("div"),Te.innerHTML="<svg>"+x.valueOf().toString()+"</svg>",x=Te.firstChild;m.firstChild;)m.removeChild(m.firstChild);for(;x.firstChild;)m.appendChild(x.firstChild)}});function Le(m,x){if(x){var A=m.firstChild;if(A&&A===m.lastChild&&A.nodeType===3){A.nodeValue=x;return}}m.textContent=x}var Ge={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rt=["Webkit","ms","Moz","O"];Object.keys(Ge).forEach(function(m){rt.forEach(function(x){x=x+m.charAt(0).toUpperCase()+m.substring(1),Ge[x]=Ge[m]})});function it(m,x,A){return x==null||typeof x=="boolean"||x===""?"":A||typeof x!="number"||x===0||Ge.hasOwnProperty(m)&&Ge[m]?(""+x).trim():x+"px"}function Vt(m,x){m=m.style;for(var A in x)if(x.hasOwnProperty(A)){var L=A.indexOf("--")===0,H=it(A,x[A],L);A==="float"&&(A="cssFloat"),L?m.setProperty(A,H):m[A]=H}}var xn=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ln(m,x){if(x){if(xn[m]&&(x.children!=null||x.dangerouslySetInnerHTML!=null))throw Error(n(137,m));if(x.dangerouslySetInnerHTML!=null){if(x.children!=null)throw Error(n(60));if(typeof x.dangerouslySetInnerHTML!="object"||!("__html"in x.dangerouslySetInnerHTML))throw Error(n(61))}if(x.style!=null&&typeof x.style!="object")throw Error(n(62))}}function lr(m,x){if(m.indexOf("-")===-1)return typeof x.is=="string";switch(m){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yn=null;function Qn(m){return m=m.target||m.srcElement||window,m.correspondingUseElement&&(m=m.correspondingUseElement),m.nodeType===3?m.parentNode:m}var cr=null,Yt=null,En=null;function pe(m){if(m=yg(m)){if(typeof cr!="function")throw Error(n(280));var x=m.stateNode;x&&(x=b1(x),cr(m.stateNode,m.type,x))}}function we(m){Yt?En?En.push(m):En=[m]:Yt=m}function Me(){if(Yt){var m=Yt,x=En;if(En=Yt=null,pe(m),x)for(m=0;m<x.length;m++)pe(x[m])}}function ke(m,x){return m(x)}function Ve(){}var st=!1;function Rt(m,x,A){if(st)return m(x,A);st=!0;try{return ke(m,x,A)}finally{st=!1,(Yt!==null||En!==null)&&(Ve(),Me())}}function at(m,x){var A=m.stateNode;if(A===null)return null;var L=b1(A);if(L===null)return null;A=L[x];e:switch(x){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(L=!L.disabled)||(m=m.type,L=!(m==="button"||m==="input"||m==="select"||m==="textarea")),m=!L;break e;default:m=!1}if(m)return null;if(A&&typeof A!="function")throw Error(n(231,x,typeof A));return A}var Dt=!1;if(o)try{var Ct={};Object.defineProperty(Ct,"passive",{get:function(){Dt=!0}}),window.addEventListener("test",Ct,Ct),window.removeEventListener("test",Ct,Ct)}catch{Dt=!1}function sn(m,x,A,L,H,te,xe,Fe,Be){var Qe=Array.prototype.slice.call(arguments,3);try{x.apply(A,Qe)}catch(dt){this.onError(dt)}}var un=!1,Fn=null,ue=!1,Ae=null,Ee={onError:function(m){un=!0,Fn=m}};function Ne(m,x,A,L,H,te,xe,Fe,Be){un=!1,Fn=null,sn.apply(Ee,arguments)}function Ie(m,x,A,L,H,te,xe,Fe,Be){if(Ne.apply(this,arguments),un){if(un){var Qe=Fn;un=!1,Fn=null}else throw Error(n(198));ue||(ue=!0,Ae=Qe)}}function Re(m){var x=m,A=m;if(m.alternate)for(;x.return;)x=x.return;else{m=x;do x=m,(x.flags&4098)!==0&&(A=x.return),m=x.return;while(m)}return x.tag===3?A:null}function ze(m){if(m.tag===13){var x=m.memoizedState;if(x===null&&(m=m.alternate,m!==null&&(x=m.memoizedState)),x!==null)return x.dehydrated}return null}function et(m){if(Re(m)!==m)throw Error(n(188))}function Ke(m){var x=m.alternate;if(!x){if(x=Re(m),x===null)throw Error(n(188));return x!==m?null:m}for(var A=m,L=x;;){var H=A.return;if(H===null)break;var te=H.alternate;if(te===null){if(L=H.return,L!==null){A=L;continue}break}if(H.child===te.child){for(te=H.child;te;){if(te===A)return et(H),m;if(te===L)return et(H),x;te=te.sibling}throw Error(n(188))}if(A.return!==L.return)A=H,L=te;else{for(var xe=!1,Fe=H.child;Fe;){if(Fe===A){xe=!0,A=H,L=te;break}if(Fe===L){xe=!0,L=H,A=te;break}Fe=Fe.sibling}if(!xe){for(Fe=te.child;Fe;){if(Fe===A){xe=!0,A=te,L=H;break}if(Fe===L){xe=!0,L=te,A=H;break}Fe=Fe.sibling}if(!xe)throw Error(n(189))}}if(A.alternate!==L)throw Error(n(190))}if(A.tag!==3)throw Error(n(188));return A.stateNode.current===A?m:x}function Je(m){return m=Ke(m),m!==null?Ye(m):null}function Ye(m){if(m.tag===5||m.tag===6)return m;for(m=m.child;m!==null;){var x=Ye(m);if(x!==null)return x;m=m.sibling}return null}var ft=e.unstable_scheduleCallback,_t=e.unstable_cancelCallback,At=e.unstable_shouldYield,gt=e.unstable_requestPaint,ht=e.unstable_now,Qt=e.unstable_getCurrentPriorityLevel,Mn=e.unstable_ImmediatePriority,An=e.unstable_UserBlockingPriority,Bn=e.unstable_NormalPriority,co=e.unstable_LowPriority,Wo=e.unstable_IdlePriority,ca=null,Kr=null;function Ic(m){if(Kr&&typeof Kr.onCommitFiberRoot=="function")try{Kr.onCommitFiberRoot(ca,m,void 0,(m.current.flags&128)===128)}catch{}}var ur=Math.clz32?Math.clz32:Zv,tg=Math.log,Qv=Math.LN2;function Zv(m){return m>>>=0,m===0?32:31-(tg(m)/Qv|0)|0}var ch=64,uh=4194304;function kc(m){switch(m&-m){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return m&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return m}}function dd(m,x){var A=m.pendingLanes;if(A===0)return 0;var L=0,H=m.suspendedLanes,te=m.pingedLanes,xe=A&268435455;if(xe!==0){var Fe=xe&~H;Fe!==0?L=kc(Fe):(te&=xe,te!==0&&(L=kc(te)))}else xe=A&~H,xe!==0?L=kc(xe):te!==0&&(L=kc(te));if(L===0)return 0;if(x!==0&&x!==L&&(x&H)===0&&(H=L&-L,te=x&-x,H>=te||H===16&&(te&4194240)!==0))return x;if((L&4)!==0&&(L|=A&16),x=m.entangledLanes,x!==0)for(m=m.entanglements,x&=L;0<x;)A=31-ur(x),H=1<<A,L|=m[A],x&=~H;return L}function oT(m,x){switch(m){case 1:case 2:case 4:return x+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return x+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kl(m,x){for(var A=m.suspendedLanes,L=m.pingedLanes,H=m.expirationTimes,te=m.pendingLanes;0<te;){var xe=31-ur(te),Fe=1<<xe,Be=H[xe];Be===-1?((Fe&A)===0||(Fe&L)!==0)&&(H[xe]=oT(Fe,x)):Be<=x&&(m.expiredLanes|=Fe),te&=~Fe}}function ua(m){return m=m.pendingLanes&-1073741825,m!==0?m:m&1073741824?1073741824:0}function fd(){var m=ch;return ch<<=1,(ch&4194240)===0&&(ch=64),m}function Rc(m){for(var x=[],A=0;31>A;A++)x.push(m);return x}function Pc(m,x,A){m.pendingLanes|=x,x!==536870912&&(m.suspendedLanes=0,m.pingedLanes=0),m=m.eventTimes,x=31-ur(x),m[x]=A}function Zn(m,x){var A=m.pendingLanes&~x;m.pendingLanes=x,m.suspendedLanes=0,m.pingedLanes=0,m.expiredLanes&=x,m.mutableReadLanes&=x,m.entangledLanes&=x,x=m.entanglements;var L=m.eventTimes;for(m=m.expirationTimes;0<A;){var H=31-ur(A),te=1<<H;x[H]=0,L[H]=-1,m[H]=-1,A&=~te}}function Fc(m,x){var A=m.entangledLanes|=x;for(m=m.entanglements;A;){var L=31-ur(A),H=1<<L;H&x|m[L]&x&&(m[L]|=x),A&=~H}}var bn=0;function Mc(m){return m&=-m,1<m?4<m?(m&268435455)!==0?16:536870912:4:1}var e1,dh,t1,n1,r1,ng=!1,qo=[],ji=null,uo=null,fo=null,Uc=new Map,ka=new Map,zo=[],lT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function i1(m,x){switch(m){case"focusin":case"focusout":ji=null;break;case"dragenter":case"dragleave":uo=null;break;case"mouseover":case"mouseout":fo=null;break;case"pointerover":case"pointerout":Uc.delete(x.pointerId);break;case"gotpointercapture":case"lostpointercapture":ka.delete(x.pointerId)}}function Ls(m,x,A,L,H,te){return m===null||m.nativeEvent!==te?(m={blockedOn:x,domEventName:A,eventSystemFlags:L,nativeEvent:te,targetContainers:[H]},x!==null&&(x=yg(x),x!==null&&dh(x)),m):(m.eventSystemFlags|=L,x=m.targetContainers,H!==null&&x.indexOf(H)===-1&&x.push(H),m)}function cT(m,x,A,L,H){switch(x){case"focusin":return ji=Ls(ji,m,x,A,L,H),!0;case"dragenter":return uo=Ls(uo,m,x,A,L,H),!0;case"mouseover":return fo=Ls(fo,m,x,A,L,H),!0;case"pointerover":var te=H.pointerId;return Uc.set(te,Ls(Uc.get(te)||null,m,x,A,L,H)),!0;case"gotpointercapture":return te=H.pointerId,ka.set(te,Ls(ka.get(te)||null,m,x,A,L,H)),!0}return!1}function s1(m){var x=yd(m.target);if(x!==null){var A=Re(x);if(A!==null){if(x=A.tag,x===13){if(x=ze(A),x!==null){m.blockedOn=x,r1(m.priority,function(){t1(A)});return}}else if(x===3&&A.stateNode.current.memoizedState.isDehydrated){m.blockedOn=A.tag===3?A.stateNode.containerInfo:null;return}}}m.blockedOn=null}function Rl(m){if(m.blockedOn!==null)return!1;for(var x=m.targetContainers;0<x.length;){var A=fh(m.domEventName,m.eventSystemFlags,x[0],m.nativeEvent);if(A===null){A=m.nativeEvent;var L=new A.constructor(A.type,A);Yn=L,A.target.dispatchEvent(L),Yn=null}else return x=yg(A),x!==null&&dh(x),m.blockedOn=A,!1;x.shift()}return!0}function hd(m,x,A){Rl(m)&&A.delete(x)}function a1(){ng=!1,ji!==null&&Rl(ji)&&(ji=null),uo!==null&&Rl(uo)&&(uo=null),fo!==null&&Rl(fo)&&(fo=null),Uc.forEach(hd),ka.forEach(hd)}function ho(m,x){m.blockedOn===x&&(m.blockedOn=null,ng||(ng=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,a1)))}function po(m){function x(H){return ho(H,m)}if(0<qo.length){ho(qo[0],m);for(var A=1;A<qo.length;A++){var L=qo[A];L.blockedOn===m&&(L.blockedOn=null)}}for(ji!==null&&ho(ji,m),uo!==null&&ho(uo,m),fo!==null&&ho(fo,m),Uc.forEach(x),ka.forEach(x),A=0;A<zo.length;A++)L=zo[A],L.blockedOn===m&&(L.blockedOn=null);for(;0<zo.length&&(A=zo[0],A.blockedOn===null);)s1(A),A.blockedOn===null&&zo.shift()}var Pl=C.ReactCurrentBatchConfig,Oc=!0;function _r(m,x,A,L){var H=bn,te=Pl.transition;Pl.transition=null;try{bn=1,rg(m,x,A,L)}finally{bn=H,Pl.transition=te}}function uT(m,x,A,L){var H=bn,te=Pl.transition;Pl.transition=null;try{bn=4,rg(m,x,A,L)}finally{bn=H,Pl.transition=te}}function rg(m,x,A,L){if(Oc){var H=fh(m,x,A,L);if(H===null)bT(m,x,L,pd,A),i1(m,L);else if(cT(H,m,x,A,L))L.stopPropagation();else if(i1(m,L),x&4&&-1<lT.indexOf(m)){for(;H!==null;){var te=yg(H);if(te!==null&&e1(te),te=fh(m,x,A,L),te===null&&bT(m,x,L,pd,A),te===H)break;H=te}H!==null&&L.stopPropagation()}else bT(m,x,L,null,A)}}var pd=null;function fh(m,x,A,L){if(pd=null,m=Qn(L),m=yd(m),m!==null)if(x=Re(m),x===null)m=null;else if(A=x.tag,A===13){if(m=ze(x),m!==null)return m;m=null}else if(A===3){if(x.stateNode.current.memoizedState.isDehydrated)return x.tag===3?x.stateNode.containerInfo:null;m=null}else x!==m&&(m=null);return pd=m,null}function ig(m){switch(m){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qt()){case Mn:return 1;case An:return 4;case Bn:case co:return 16;case Wo:return 536870912;default:return 16}default:return 16}}var da=null,hh=null,js=null;function sg(){if(js)return js;var m,x=hh,A=x.length,L,H="value"in da?da.value:da.textContent,te=H.length;for(m=0;m<A&&x[m]===H[m];m++);var xe=A-m;for(L=1;L<=xe&&x[A-L]===H[te-L];L++);return js=H.slice(m,1<L?1-L:void 0)}function ph(m){var x=m.keyCode;return"charCode"in m?(m=m.charCode,m===0&&x===13&&(m=13)):m=x,m===10&&(m=13),32<=m||m===13?m:0}function Ho(){return!0}function ag(){return!1}function Bi(m){function x(A,L,H,te,xe){this._reactName=A,this._targetInst=H,this.type=L,this.nativeEvent=te,this.target=xe,this.currentTarget=null;for(var Fe in m)m.hasOwnProperty(Fe)&&(A=m[Fe],this[Fe]=A?A(te):te[Fe]);return this.isDefaultPrevented=(te.defaultPrevented!=null?te.defaultPrevented:te.returnValue===!1)?Ho:ag,this.isPropagationStopped=ag,this}return Q(x.prototype,{preventDefault:function(){this.defaultPrevented=!0;var A=this.nativeEvent;A&&(A.preventDefault?A.preventDefault():typeof A.returnValue!="unknown"&&(A.returnValue=!1),this.isDefaultPrevented=Ho)},stopPropagation:function(){var A=this.nativeEvent;A&&(A.stopPropagation?A.stopPropagation():typeof A.cancelBubble!="unknown"&&(A.cancelBubble=!0),this.isPropagationStopped=Ho)},persist:function(){},isPersistent:Ho}),x}var mo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(m){return m.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mh=Bi(mo),$o=Q({},mo,{view:0,detail:0}),dT=Bi($o),gh,Fl,Lc,md=Q({},$o,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Go,button:0,buttons:0,relatedTarget:function(m){return m.relatedTarget===void 0?m.fromElement===m.srcElement?m.toElement:m.fromElement:m.relatedTarget},movementX:function(m){return"movementX"in m?m.movementX:(m!==Lc&&(Lc&&m.type==="mousemove"?(gh=m.screenX-Lc.screenX,Fl=m.screenY-Lc.screenY):Fl=gh=0,Lc=m),gh)},movementY:function(m){return"movementY"in m?m.movementY:Fl}}),yh=Bi(md),og=Q({},md,{dataTransfer:0}),o1=Bi(og),vh=Q({},$o,{relatedTarget:0}),xh=Bi(vh),l1=Q({},mo,{animationName:0,elapsedTime:0,pseudoElement:0}),Ml=Bi(l1),c1=Q({},mo,{clipboardData:function(m){return"clipboardData"in m?m.clipboardData:window.clipboardData}}),u1=Bi(c1),d1=Q({},mo,{data:0}),lg=Bi(d1),_h={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ts={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},f1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function h1(m){var x=this.nativeEvent;return x.getModifierState?x.getModifierState(m):(m=f1[m])?!!x[m]:!1}function Go(){return h1}var M=Q({},$o,{key:function(m){if(m.key){var x=_h[m.key]||m.key;if(x!=="Unidentified")return x}return m.type==="keypress"?(m=ph(m),m===13?"Enter":String.fromCharCode(m)):m.type==="keydown"||m.type==="keyup"?Ts[m.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Go,charCode:function(m){return m.type==="keypress"?ph(m):0},keyCode:function(m){return m.type==="keydown"||m.type==="keyup"?m.keyCode:0},which:function(m){return m.type==="keypress"?ph(m):m.type==="keydown"||m.type==="keyup"?m.keyCode:0}}),Z=Bi(M),se=Q({},md,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ce=Bi(se),He=Q({},$o,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Go}),tt=Bi(He),wt=Q({},mo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vn=Bi(wt),fi=Q({},md,{deltaX:function(m){return"deltaX"in m?m.deltaX:"wheelDeltaX"in m?-m.wheelDeltaX:0},deltaY:function(m){return"deltaY"in m?m.deltaY:"wheelDeltaY"in m?-m.wheelDeltaY:"wheelDelta"in m?-m.wheelDelta:0},deltaZ:0,deltaMode:0}),wn=Bi(fi),Ti=[9,13,27,32],ii=o&&"CompositionEvent"in window,Ra=null;o&&"documentMode"in document&&(Ra=document.documentMode);var fa=o&&"TextEvent"in window&&!Ra,gd=o&&(!ii||Ra&&8<Ra&&11>=Ra),bh=" ",K6=!1;function X6(m,x){switch(m){case"keyup":return Ti.indexOf(x.keyCode)!==-1;case"keydown":return x.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function J6(m){return m=m.detail,typeof m=="object"&&"data"in m?m.data:null}var wh=!1;function nQ(m,x){switch(m){case"compositionend":return J6(x);case"keypress":return x.which!==32?null:(K6=!0,bh);case"textInput":return m=x.data,m===bh&&K6?null:m;default:return null}}function rQ(m,x){if(wh)return m==="compositionend"||!ii&&X6(m,x)?(m=sg(),js=hh=da=null,wh=!1,m):null;switch(m){case"paste":return null;case"keypress":if(!(x.ctrlKey||x.altKey||x.metaKey)||x.ctrlKey&&x.altKey){if(x.char&&1<x.char.length)return x.char;if(x.which)return String.fromCharCode(x.which)}return null;case"compositionend":return gd&&x.locale!=="ko"?null:x.data;default:return null}}var iQ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Y6(m){var x=m&&m.nodeName&&m.nodeName.toLowerCase();return x==="input"?!!iQ[m.type]:x==="textarea"}function Q6(m,x,A,L){we(L),x=v1(x,"onChange"),0<x.length&&(A=new mh("onChange","change",null,A,L),m.push({event:A,listeners:x}))}var cg=null,ug=null;function sQ(m){gR(m,0)}function p1(m){var x=Dh(m);if(me(x))return m}function aQ(m,x){if(m==="change")return x}var Z6=!1;if(o){var fT;if(o){var hT="oninput"in document;if(!hT){var eR=document.createElement("div");eR.setAttribute("oninput","return;"),hT=typeof eR.oninput=="function"}fT=hT}else fT=!1;Z6=fT&&(!document.documentMode||9<document.documentMode)}function tR(){cg&&(cg.detachEvent("onpropertychange",nR),ug=cg=null)}function nR(m){if(m.propertyName==="value"&&p1(ug)){var x=[];Q6(x,ug,m,Qn(m)),Rt(sQ,x)}}function oQ(m,x,A){m==="focusin"?(tR(),cg=x,ug=A,cg.attachEvent("onpropertychange",nR)):m==="focusout"&&tR()}function lQ(m){if(m==="selectionchange"||m==="keyup"||m==="keydown")return p1(ug)}function cQ(m,x){if(m==="click")return p1(x)}function uQ(m,x){if(m==="input"||m==="change")return p1(x)}function dQ(m,x){return m===x&&(m!==0||1/m===1/x)||m!==m&&x!==x}var go=typeof Object.is=="function"?Object.is:dQ;function dg(m,x){if(go(m,x))return!0;if(typeof m!="object"||m===null||typeof x!="object"||x===null)return!1;var A=Object.keys(m),L=Object.keys(x);if(A.length!==L.length)return!1;for(L=0;L<A.length;L++){var H=A[L];if(!l.call(x,H)||!go(m[H],x[H]))return!1}return!0}function rR(m){for(;m&&m.firstChild;)m=m.firstChild;return m}function iR(m,x){var A=rR(m);m=0;for(var L;A;){if(A.nodeType===3){if(L=m+A.textContent.length,m<=x&&L>=x)return{node:A,offset:x-m};m=L}e:{for(;A;){if(A.nextSibling){A=A.nextSibling;break e}A=A.parentNode}A=void 0}A=rR(A)}}function sR(m,x){return m&&x?m===x?!0:m&&m.nodeType===3?!1:x&&x.nodeType===3?sR(m,x.parentNode):"contains"in m?m.contains(x):m.compareDocumentPosition?!!(m.compareDocumentPosition(x)&16):!1:!1}function aR(){for(var m=window,x=je();x instanceof m.HTMLIFrameElement;){try{var A=typeof x.contentWindow.location.href=="string"}catch{A=!1}if(A)m=x.contentWindow;else break;x=je(m.document)}return x}function pT(m){var x=m&&m.nodeName&&m.nodeName.toLowerCase();return x&&(x==="input"&&(m.type==="text"||m.type==="search"||m.type==="tel"||m.type==="url"||m.type==="password")||x==="textarea"||m.contentEditable==="true")}function fQ(m){var x=aR(),A=m.focusedElem,L=m.selectionRange;if(x!==A&&A&&A.ownerDocument&&sR(A.ownerDocument.documentElement,A)){if(L!==null&&pT(A)){if(x=L.start,m=L.end,m===void 0&&(m=x),"selectionStart"in A)A.selectionStart=x,A.selectionEnd=Math.min(m,A.value.length);else if(m=(x=A.ownerDocument||document)&&x.defaultView||window,m.getSelection){m=m.getSelection();var H=A.textContent.length,te=Math.min(L.start,H);L=L.end===void 0?te:Math.min(L.end,H),!m.extend&&te>L&&(H=L,L=te,te=H),H=iR(A,te);var xe=iR(A,L);H&&xe&&(m.rangeCount!==1||m.anchorNode!==H.node||m.anchorOffset!==H.offset||m.focusNode!==xe.node||m.focusOffset!==xe.offset)&&(x=x.createRange(),x.setStart(H.node,H.offset),m.removeAllRanges(),te>L?(m.addRange(x),m.extend(xe.node,xe.offset)):(x.setEnd(xe.node,xe.offset),m.addRange(x)))}}for(x=[],m=A;m=m.parentNode;)m.nodeType===1&&x.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<x.length;A++)m=x[A],m.element.scrollLeft=m.left,m.element.scrollTop=m.top}}var hQ=o&&"documentMode"in document&&11>=document.documentMode,Th=null,mT=null,fg=null,gT=!1;function oR(m,x,A){var L=A.window===A?A.document:A.nodeType===9?A:A.ownerDocument;gT||Th==null||Th!==je(L)||(L=Th,"selectionStart"in L&&pT(L)?L={start:L.selectionStart,end:L.selectionEnd}:(L=(L.ownerDocument&&L.ownerDocument.defaultView||window).getSelection(),L={anchorNode:L.anchorNode,anchorOffset:L.anchorOffset,focusNode:L.focusNode,focusOffset:L.focusOffset}),fg&&dg(fg,L)||(fg=L,L=v1(mT,"onSelect"),0<L.length&&(x=new mh("onSelect","select",null,x,A),m.push({event:x,listeners:L}),x.target=Th)))}function m1(m,x){var A={};return A[m.toLowerCase()]=x.toLowerCase(),A["Webkit"+m]="webkit"+x,A["Moz"+m]="moz"+x,A}var Eh={animationend:m1("Animation","AnimationEnd"),animationiteration:m1("Animation","AnimationIteration"),animationstart:m1("Animation","AnimationStart"),transitionend:m1("Transition","TransitionEnd")},yT={},lR={};o&&(lR=document.createElement("div").style,"AnimationEvent"in window||(delete Eh.animationend.animation,delete Eh.animationiteration.animation,delete Eh.animationstart.animation),"TransitionEvent"in window||delete Eh.transitionend.transition);function g1(m){if(yT[m])return yT[m];if(!Eh[m])return m;var x=Eh[m],A;for(A in x)if(x.hasOwnProperty(A)&&A in lR)return yT[m]=x[A];return m}var cR=g1("animationend"),uR=g1("animationiteration"),dR=g1("animationstart"),fR=g1("transitionend"),hR=new Map,pR="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jc(m,x){hR.set(m,x),s(x,[m])}for(var vT=0;vT<pR.length;vT++){var xT=pR[vT],pQ=xT.toLowerCase(),mQ=xT[0].toUpperCase()+xT.slice(1);jc(pQ,"on"+mQ)}jc(cR,"onAnimationEnd"),jc(uR,"onAnimationIteration"),jc(dR,"onAnimationStart"),jc("dblclick","onDoubleClick"),jc("focusin","onFocus"),jc("focusout","onBlur"),jc(fR,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gQ=new Set("cancel close invalid load scroll toggle".split(" ").concat(hg));function mR(m,x,A){var L=m.type||"unknown-event";m.currentTarget=A,Ie(L,x,void 0,m),m.currentTarget=null}function gR(m,x){x=(x&4)!==0;for(var A=0;A<m.length;A++){var L=m[A],H=L.event;L=L.listeners;e:{var te=void 0;if(x)for(var xe=L.length-1;0<=xe;xe--){var Fe=L[xe],Be=Fe.instance,Qe=Fe.currentTarget;if(Fe=Fe.listener,Be!==te&&H.isPropagationStopped())break e;mR(H,Fe,Qe),te=Be}else for(xe=0;xe<L.length;xe++){if(Fe=L[xe],Be=Fe.instance,Qe=Fe.currentTarget,Fe=Fe.listener,Be!==te&&H.isPropagationStopped())break e;mR(H,Fe,Qe),te=Be}}}if(ue)throw m=Ae,ue=!1,Ae=null,m}function dr(m,x){var A=x[DT];A===void 0&&(A=x[DT]=new Set);var L=m+"__bubble";A.has(L)||(yR(x,m,2,!1),A.add(L))}function _T(m,x,A){var L=0;x&&(L|=4),yR(A,m,L,x)}var y1="_reactListening"+Math.random().toString(36).slice(2);function pg(m){if(!m[y1]){m[y1]=!0,r.forEach(function(A){A!=="selectionchange"&&(gQ.has(A)||_T(A,!1,m),_T(A,!0,m))});var x=m.nodeType===9?m:m.ownerDocument;x===null||x[y1]||(x[y1]=!0,_T("selectionchange",!1,x))}}function yR(m,x,A,L){switch(ig(x)){case 1:var H=_r;break;case 4:H=uT;break;default:H=rg}A=H.bind(null,x,A,m),H=void 0,!Dt||x!=="touchstart"&&x!=="touchmove"&&x!=="wheel"||(H=!0),L?H!==void 0?m.addEventListener(x,A,{capture:!0,passive:H}):m.addEventListener(x,A,!0):H!==void 0?m.addEventListener(x,A,{passive:H}):m.addEventListener(x,A,!1)}function bT(m,x,A,L,H){var te=L;if((x&1)===0&&(x&2)===0&&L!==null)e:for(;;){if(L===null)return;var xe=L.tag;if(xe===3||xe===4){var Fe=L.stateNode.containerInfo;if(Fe===H||Fe.nodeType===8&&Fe.parentNode===H)break;if(xe===4)for(xe=L.return;xe!==null;){var Be=xe.tag;if((Be===3||Be===4)&&(Be=xe.stateNode.containerInfo,Be===H||Be.nodeType===8&&Be.parentNode===H))return;xe=xe.return}for(;Fe!==null;){if(xe=yd(Fe),xe===null)return;if(Be=xe.tag,Be===5||Be===6){L=te=xe;continue e}Fe=Fe.parentNode}}L=L.return}Rt(function(){var Qe=te,dt=Qn(A),mt=[];e:{var ct=hR.get(m);if(ct!==void 0){var It=mh,Mt=m;switch(m){case"keypress":if(ph(A)===0)break e;case"keydown":case"keyup":It=Z;break;case"focusin":Mt="focus",It=xh;break;case"focusout":Mt="blur",It=xh;break;case"beforeblur":case"afterblur":It=xh;break;case"click":if(A.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":It=yh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":It=o1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":It=tt;break;case cR:case uR:case dR:It=Ml;break;case fR:It=Vn;break;case"scroll":It=dT;break;case"wheel":It=wn;break;case"copy":case"cut":case"paste":It=u1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":It=Ce}var Lt=(x&4)!==0,Xr=!Lt&&m==="scroll",$e=Lt?ct!==null?ct+"Capture":null:ct;Lt=[];for(var We=Qe,Xe;We!==null;){Xe=We;var vt=Xe.stateNode;if(Xe.tag===5&&vt!==null&&(Xe=vt,$e!==null&&(vt=at(We,$e),vt!=null&&Lt.push(mg(We,vt,Xe)))),Xr)break;We=We.return}0<Lt.length&&(ct=new It(ct,Mt,null,A,dt),mt.push({event:ct,listeners:Lt}))}}if((x&7)===0){e:{if(ct=m==="mouseover"||m==="pointerover",It=m==="mouseout"||m==="pointerout",ct&&A!==Yn&&(Mt=A.relatedTarget||A.fromElement)&&(yd(Mt)||Mt[Ul]))break e;if((It||ct)&&(ct=dt.window===dt?dt:(ct=dt.ownerDocument)?ct.defaultView||ct.parentWindow:window,It?(Mt=A.relatedTarget||A.toElement,It=Qe,Mt=Mt?yd(Mt):null,Mt!==null&&(Xr=Re(Mt),Mt!==Xr||Mt.tag!==5&&Mt.tag!==6)&&(Mt=null)):(It=null,Mt=Qe),It!==Mt)){if(Lt=yh,vt="onMouseLeave",$e="onMouseEnter",We="mouse",(m==="pointerout"||m==="pointerover")&&(Lt=Ce,vt="onPointerLeave",$e="onPointerEnter",We="pointer"),Xr=It==null?ct:Dh(It),Xe=Mt==null?ct:Dh(Mt),ct=new Lt(vt,We+"leave",It,A,dt),ct.target=Xr,ct.relatedTarget=Xe,vt=null,yd(dt)===Qe&&(Lt=new Lt($e,We+"enter",Mt,A,dt),Lt.target=Xe,Lt.relatedTarget=Xr,vt=Lt),Xr=vt,It&&Mt)t:{for(Lt=It,$e=Mt,We=0,Xe=Lt;Xe;Xe=Ch(Xe))We++;for(Xe=0,vt=$e;vt;vt=Ch(vt))Xe++;for(;0<We-Xe;)Lt=Ch(Lt),We--;for(;0<Xe-We;)$e=Ch($e),Xe--;for(;We--;){if(Lt===$e||$e!==null&&Lt===$e.alternate)break t;Lt=Ch(Lt),$e=Ch($e)}Lt=null}else Lt=null;It!==null&&vR(mt,ct,It,Lt,!1),Mt!==null&&Xr!==null&&vR(mt,Xr,Mt,Lt,!0)}}e:{if(ct=Qe?Dh(Qe):window,It=ct.nodeName&&ct.nodeName.toLowerCase(),It==="select"||It==="input"&&ct.type==="file")var jt=aQ;else if(Y6(ct))if(Z6)jt=uQ;else{jt=lQ;var qt=oQ}else(It=ct.nodeName)&&It.toLowerCase()==="input"&&(ct.type==="checkbox"||ct.type==="radio")&&(jt=cQ);if(jt&&(jt=jt(m,Qe))){Q6(mt,jt,A,dt);break e}qt&&qt(m,ct,Qe),m==="focusout"&&(qt=ct._wrapperState)&&qt.controlled&&ct.type==="number"&&le(ct,"number",ct.value)}switch(qt=Qe?Dh(Qe):window,m){case"focusin":(Y6(qt)||qt.contentEditable==="true")&&(Th=qt,mT=Qe,fg=null);break;case"focusout":fg=mT=Th=null;break;case"mousedown":gT=!0;break;case"contextmenu":case"mouseup":case"dragend":gT=!1,oR(mt,A,dt);break;case"selectionchange":if(hQ)break;case"keydown":case"keyup":oR(mt,A,dt)}var zt;if(ii)e:{switch(m){case"compositionstart":var en="onCompositionStart";break e;case"compositionend":en="onCompositionEnd";break e;case"compositionupdate":en="onCompositionUpdate";break e}en=void 0}else wh?X6(m,A)&&(en="onCompositionEnd"):m==="keydown"&&A.keyCode===229&&(en="onCompositionStart");en&&(gd&&A.locale!=="ko"&&(wh||en!=="onCompositionStart"?en==="onCompositionEnd"&&wh&&(zt=sg()):(da=dt,hh="value"in da?da.value:da.textContent,wh=!0)),qt=v1(Qe,en),0<qt.length&&(en=new lg(en,m,null,A,dt),mt.push({event:en,listeners:qt}),zt?en.data=zt:(zt=J6(A),zt!==null&&(en.data=zt)))),(zt=fa?nQ(m,A):rQ(m,A))&&(Qe=v1(Qe,"onBeforeInput"),0<Qe.length&&(dt=new lg("onBeforeInput","beforeinput",null,A,dt),mt.push({event:dt,listeners:Qe}),dt.data=zt))}gR(mt,x)})}function mg(m,x,A){return{instance:m,listener:x,currentTarget:A}}function v1(m,x){for(var A=x+"Capture",L=[];m!==null;){var H=m,te=H.stateNode;H.tag===5&&te!==null&&(H=te,te=at(m,A),te!=null&&L.unshift(mg(m,te,H)),te=at(m,x),te!=null&&L.push(mg(m,te,H))),m=m.return}return L}function Ch(m){if(m===null)return null;do m=m.return;while(m&&m.tag!==5);return m||null}function vR(m,x,A,L,H){for(var te=x._reactName,xe=[];A!==null&&A!==L;){var Fe=A,Be=Fe.alternate,Qe=Fe.stateNode;if(Be!==null&&Be===L)break;Fe.tag===5&&Qe!==null&&(Fe=Qe,H?(Be=at(A,te),Be!=null&&xe.unshift(mg(A,Be,Fe))):H||(Be=at(A,te),Be!=null&&xe.push(mg(A,Be,Fe)))),A=A.return}xe.length!==0&&m.push({event:x,listeners:xe})}var yQ=/\r\n?/g,vQ=/\u0000|\uFFFD/g;function xR(m){return(typeof m=="string"?m:""+m).replace(yQ,`
`).replace(vQ,"")}function x1(m,x,A){if(x=xR(x),xR(m)!==x&&A)throw Error(n(425))}function _1(){}var wT=null,TT=null;function ET(m,x){return m==="textarea"||m==="noscript"||typeof x.children=="string"||typeof x.children=="number"||typeof x.dangerouslySetInnerHTML=="object"&&x.dangerouslySetInnerHTML!==null&&x.dangerouslySetInnerHTML.__html!=null}var CT=typeof setTimeout=="function"?setTimeout:void 0,xQ=typeof clearTimeout=="function"?clearTimeout:void 0,_R=typeof Promise=="function"?Promise:void 0,_Q=typeof queueMicrotask=="function"?queueMicrotask:typeof _R<"u"?function(m){return _R.resolve(null).then(m).catch(bQ)}:CT;function bQ(m){setTimeout(function(){throw m})}function ST(m,x){var A=x,L=0;do{var H=A.nextSibling;if(m.removeChild(A),H&&H.nodeType===8)if(A=H.data,A==="/$"){if(L===0){m.removeChild(H),po(x);return}L--}else A!=="$"&&A!=="$?"&&A!=="$!"||L++;A=H}while(A);po(x)}function Bc(m){for(;m!=null;m=m.nextSibling){var x=m.nodeType;if(x===1||x===3)break;if(x===8){if(x=m.data,x==="$"||x==="$!"||x==="$?")break;if(x==="/$")return null}}return m}function bR(m){m=m.previousSibling;for(var x=0;m;){if(m.nodeType===8){var A=m.data;if(A==="$"||A==="$!"||A==="$?"){if(x===0)return m;x--}else A==="/$"&&x++}m=m.previousSibling}return null}var Sh=Math.random().toString(36).slice(2),Ko="__reactFiber$"+Sh,gg="__reactProps$"+Sh,Ul="__reactContainer$"+Sh,DT="__reactEvents$"+Sh,wQ="__reactListeners$"+Sh,TQ="__reactHandles$"+Sh;function yd(m){var x=m[Ko];if(x)return x;for(var A=m.parentNode;A;){if(x=A[Ul]||A[Ko]){if(A=x.alternate,x.child!==null||A!==null&&A.child!==null)for(m=bR(m);m!==null;){if(A=m[Ko])return A;m=bR(m)}return x}m=A,A=m.parentNode}return null}function yg(m){return m=m[Ko]||m[Ul],!m||m.tag!==5&&m.tag!==6&&m.tag!==13&&m.tag!==3?null:m}function Dh(m){if(m.tag===5||m.tag===6)return m.stateNode;throw Error(n(33))}function b1(m){return m[gg]||null}var AT=[],Ah=-1;function Vc(m){return{current:m}}function fr(m){0>Ah||(m.current=AT[Ah],AT[Ah]=null,Ah--)}function nr(m,x){Ah++,AT[Ah]=m.current,m.current=x}var Wc={},Yi=Vc(Wc),Bs=Vc(!1),vd=Wc;function Nh(m,x){var A=m.type.contextTypes;if(!A)return Wc;var L=m.stateNode;if(L&&L.__reactInternalMemoizedUnmaskedChildContext===x)return L.__reactInternalMemoizedMaskedChildContext;var H={},te;for(te in A)H[te]=x[te];return L&&(m=m.stateNode,m.__reactInternalMemoizedUnmaskedChildContext=x,m.__reactInternalMemoizedMaskedChildContext=H),H}function Vs(m){return m=m.childContextTypes,m!=null}function w1(){fr(Bs),fr(Yi)}function wR(m,x,A){if(Yi.current!==Wc)throw Error(n(168));nr(Yi,x),nr(Bs,A)}function TR(m,x,A){var L=m.stateNode;if(x=x.childContextTypes,typeof L.getChildContext!="function")return A;L=L.getChildContext();for(var H in L)if(!(H in x))throw Error(n(108,ae(m)||"Unknown",H));return Q({},A,L)}function T1(m){return m=(m=m.stateNode)&&m.__reactInternalMemoizedMergedChildContext||Wc,vd=Yi.current,nr(Yi,m),nr(Bs,Bs.current),!0}function ER(m,x,A){var L=m.stateNode;if(!L)throw Error(n(169));A?(m=TR(m,x,vd),L.__reactInternalMemoizedMergedChildContext=m,fr(Bs),fr(Yi),nr(Yi,m)):fr(Bs),nr(Bs,A)}var Ol=null,E1=!1,NT=!1;function CR(m){Ol===null?Ol=[m]:Ol.push(m)}function EQ(m){E1=!0,CR(m)}function qc(){if(!NT&&Ol!==null){NT=!0;var m=0,x=bn;try{var A=Ol;for(bn=1;m<A.length;m++){var L=A[m];do L=L(!0);while(L!==null)}Ol=null,E1=!1}catch(H){throw Ol!==null&&(Ol=Ol.slice(m+1)),ft(Mn,qc),H}finally{bn=x,NT=!1}}return null}var Ih=[],kh=0,C1=null,S1=0,Pa=[],Fa=0,xd=null,Ll=1,jl="";function _d(m,x){Ih[kh++]=S1,Ih[kh++]=C1,C1=m,S1=x}function SR(m,x,A){Pa[Fa++]=Ll,Pa[Fa++]=jl,Pa[Fa++]=xd,xd=m;var L=Ll;m=jl;var H=32-ur(L)-1;L&=~(1<<H),A+=1;var te=32-ur(x)+H;if(30<te){var xe=H-H%5;te=(L&(1<<xe)-1).toString(32),L>>=xe,H-=xe,Ll=1<<32-ur(x)+H|A<<H|L,jl=te+m}else Ll=1<<te|A<<H|L,jl=m}function IT(m){m.return!==null&&(_d(m,1),SR(m,1,0))}function kT(m){for(;m===C1;)C1=Ih[--kh],Ih[kh]=null,S1=Ih[--kh],Ih[kh]=null;for(;m===xd;)xd=Pa[--Fa],Pa[Fa]=null,jl=Pa[--Fa],Pa[Fa]=null,Ll=Pa[--Fa],Pa[Fa]=null}var ha=null,pa=null,br=!1,yo=null;function DR(m,x){var A=La(5,null,null,0);A.elementType="DELETED",A.stateNode=x,A.return=m,x=m.deletions,x===null?(m.deletions=[A],m.flags|=16):x.push(A)}function AR(m,x){switch(m.tag){case 5:var A=m.type;return x=x.nodeType!==1||A.toLowerCase()!==x.nodeName.toLowerCase()?null:x,x!==null?(m.stateNode=x,ha=m,pa=Bc(x.firstChild),!0):!1;case 6:return x=m.pendingProps===""||x.nodeType!==3?null:x,x!==null?(m.stateNode=x,ha=m,pa=null,!0):!1;case 13:return x=x.nodeType!==8?null:x,x!==null?(A=xd!==null?{id:Ll,overflow:jl}:null,m.memoizedState={dehydrated:x,treeContext:A,retryLane:1073741824},A=La(18,null,null,0),A.stateNode=x,A.return=m,m.child=A,ha=m,pa=null,!0):!1;default:return!1}}function RT(m){return(m.mode&1)!==0&&(m.flags&128)===0}function PT(m){if(br){var x=pa;if(x){var A=x;if(!AR(m,x)){if(RT(m))throw Error(n(418));x=Bc(A.nextSibling);var L=ha;x&&AR(m,x)?DR(L,A):(m.flags=m.flags&-4097|2,br=!1,ha=m)}}else{if(RT(m))throw Error(n(418));m.flags=m.flags&-4097|2,br=!1,ha=m}}}function NR(m){for(m=m.return;m!==null&&m.tag!==5&&m.tag!==3&&m.tag!==13;)m=m.return;ha=m}function D1(m){if(m!==ha)return!1;if(!br)return NR(m),br=!0,!1;var x;if((x=m.tag!==3)&&!(x=m.tag!==5)&&(x=m.type,x=x!=="head"&&x!=="body"&&!ET(m.type,m.memoizedProps)),x&&(x=pa)){if(RT(m))throw IR(),Error(n(418));for(;x;)DR(m,x),x=Bc(x.nextSibling)}if(NR(m),m.tag===13){if(m=m.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(n(317));e:{for(m=m.nextSibling,x=0;m;){if(m.nodeType===8){var A=m.data;if(A==="/$"){if(x===0){pa=Bc(m.nextSibling);break e}x--}else A!=="$"&&A!=="$!"&&A!=="$?"||x++}m=m.nextSibling}pa=null}}else pa=ha?Bc(m.stateNode.nextSibling):null;return!0}function IR(){for(var m=pa;m;)m=Bc(m.nextSibling)}function Rh(){pa=ha=null,br=!1}function FT(m){yo===null?yo=[m]:yo.push(m)}var CQ=C.ReactCurrentBatchConfig;function vg(m,x,A){if(m=A.ref,m!==null&&typeof m!="function"&&typeof m!="object"){if(A._owner){if(A=A._owner,A){if(A.tag!==1)throw Error(n(309));var L=A.stateNode}if(!L)throw Error(n(147,m));var H=L,te=""+m;return x!==null&&x.ref!==null&&typeof x.ref=="function"&&x.ref._stringRef===te?x.ref:(x=function(xe){var Fe=H.refs;xe===null?delete Fe[te]:Fe[te]=xe},x._stringRef=te,x)}if(typeof m!="string")throw Error(n(284));if(!A._owner)throw Error(n(290,m))}return m}function A1(m,x){throw m=Object.prototype.toString.call(x),Error(n(31,m==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":m))}function kR(m){var x=m._init;return x(m._payload)}function RR(m){function x($e,We){if(m){var Xe=$e.deletions;Xe===null?($e.deletions=[We],$e.flags|=16):Xe.push(We)}}function A($e,We){if(!m)return null;for(;We!==null;)x($e,We),We=We.sibling;return null}function L($e,We){for($e=new Map;We!==null;)We.key!==null?$e.set(We.key,We):$e.set(We.index,We),We=We.sibling;return $e}function H($e,We){return $e=Yc($e,We),$e.index=0,$e.sibling=null,$e}function te($e,We,Xe){return $e.index=Xe,m?(Xe=$e.alternate,Xe!==null?(Xe=Xe.index,Xe<We?($e.flags|=2,We):Xe):($e.flags|=2,We)):($e.flags|=1048576,We)}function xe($e){return m&&$e.alternate===null&&($e.flags|=2),$e}function Fe($e,We,Xe,vt){return We===null||We.tag!==6?(We=CE(Xe,$e.mode,vt),We.return=$e,We):(We=H(We,Xe),We.return=$e,We)}function Be($e,We,Xe,vt){var jt=Xe.type;return jt===D?dt($e,We,Xe.props.children,vt,Xe.key):We!==null&&(We.elementType===jt||typeof jt=="object"&&jt!==null&&jt.$$typeof===X&&kR(jt)===We.type)?(vt=H(We,Xe.props),vt.ref=vg($e,We,Xe),vt.return=$e,vt):(vt=Q1(Xe.type,Xe.key,Xe.props,null,$e.mode,vt),vt.ref=vg($e,We,Xe),vt.return=$e,vt)}function Qe($e,We,Xe,vt){return We===null||We.tag!==4||We.stateNode.containerInfo!==Xe.containerInfo||We.stateNode.implementation!==Xe.implementation?(We=SE(Xe,$e.mode,vt),We.return=$e,We):(We=H(We,Xe.children||[]),We.return=$e,We)}function dt($e,We,Xe,vt,jt){return We===null||We.tag!==7?(We=Ad(Xe,$e.mode,vt,jt),We.return=$e,We):(We=H(We,Xe),We.return=$e,We)}function mt($e,We,Xe){if(typeof We=="string"&&We!==""||typeof We=="number")return We=CE(""+We,$e.mode,Xe),We.return=$e,We;if(typeof We=="object"&&We!==null){switch(We.$$typeof){case S:return Xe=Q1(We.type,We.key,We.props,null,$e.mode,Xe),Xe.ref=vg($e,null,We),Xe.return=$e,Xe;case R:return We=SE(We,$e.mode,Xe),We.return=$e,We;case X:var vt=We._init;return mt($e,vt(We._payload),Xe)}if(he(We)||z(We))return We=Ad(We,$e.mode,Xe,null),We.return=$e,We;A1($e,We)}return null}function ct($e,We,Xe,vt){var jt=We!==null?We.key:null;if(typeof Xe=="string"&&Xe!==""||typeof Xe=="number")return jt!==null?null:Fe($e,We,""+Xe,vt);if(typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case S:return Xe.key===jt?Be($e,We,Xe,vt):null;case R:return Xe.key===jt?Qe($e,We,Xe,vt):null;case X:return jt=Xe._init,ct($e,We,jt(Xe._payload),vt)}if(he(Xe)||z(Xe))return jt!==null?null:dt($e,We,Xe,vt,null);A1($e,Xe)}return null}function It($e,We,Xe,vt,jt){if(typeof vt=="string"&&vt!==""||typeof vt=="number")return $e=$e.get(Xe)||null,Fe(We,$e,""+vt,jt);if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case S:return $e=$e.get(vt.key===null?Xe:vt.key)||null,Be(We,$e,vt,jt);case R:return $e=$e.get(vt.key===null?Xe:vt.key)||null,Qe(We,$e,vt,jt);case X:var qt=vt._init;return It($e,We,Xe,qt(vt._payload),jt)}if(he(vt)||z(vt))return $e=$e.get(Xe)||null,dt(We,$e,vt,jt,null);A1(We,vt)}return null}function Mt($e,We,Xe,vt){for(var jt=null,qt=null,zt=We,en=We=0,Si=null;zt!==null&&en<Xe.length;en++){zt.index>en?(Si=zt,zt=null):Si=zt.sibling;var Nn=ct($e,zt,Xe[en],vt);if(Nn===null){zt===null&&(zt=Si);break}m&&zt&&Nn.alternate===null&&x($e,zt),We=te(Nn,We,en),qt===null?jt=Nn:qt.sibling=Nn,qt=Nn,zt=Si}if(en===Xe.length)return A($e,zt),br&&_d($e,en),jt;if(zt===null){for(;en<Xe.length;en++)zt=mt($e,Xe[en],vt),zt!==null&&(We=te(zt,We,en),qt===null?jt=zt:qt.sibling=zt,qt=zt);return br&&_d($e,en),jt}for(zt=L($e,zt);en<Xe.length;en++)Si=It(zt,$e,en,Xe[en],vt),Si!==null&&(m&&Si.alternate!==null&&zt.delete(Si.key===null?en:Si.key),We=te(Si,We,en),qt===null?jt=Si:qt.sibling=Si,qt=Si);return m&&zt.forEach(function(Qc){return x($e,Qc)}),br&&_d($e,en),jt}function Lt($e,We,Xe,vt){var jt=z(Xe);if(typeof jt!="function")throw Error(n(150));if(Xe=jt.call(Xe),Xe==null)throw Error(n(151));for(var qt=jt=null,zt=We,en=We=0,Si=null,Nn=Xe.next();zt!==null&&!Nn.done;en++,Nn=Xe.next()){zt.index>en?(Si=zt,zt=null):Si=zt.sibling;var Qc=ct($e,zt,Nn.value,vt);if(Qc===null){zt===null&&(zt=Si);break}m&&zt&&Qc.alternate===null&&x($e,zt),We=te(Qc,We,en),qt===null?jt=Qc:qt.sibling=Qc,qt=Qc,zt=Si}if(Nn.done)return A($e,zt),br&&_d($e,en),jt;if(zt===null){for(;!Nn.done;en++,Nn=Xe.next())Nn=mt($e,Nn.value,vt),Nn!==null&&(We=te(Nn,We,en),qt===null?jt=Nn:qt.sibling=Nn,qt=Nn);return br&&_d($e,en),jt}for(zt=L($e,zt);!Nn.done;en++,Nn=Xe.next())Nn=It(zt,$e,en,Nn.value,vt),Nn!==null&&(m&&Nn.alternate!==null&&zt.delete(Nn.key===null?en:Nn.key),We=te(Nn,We,en),qt===null?jt=Nn:qt.sibling=Nn,qt=Nn);return m&&zt.forEach(function(iZ){return x($e,iZ)}),br&&_d($e,en),jt}function Xr($e,We,Xe,vt){if(typeof Xe=="object"&&Xe!==null&&Xe.type===D&&Xe.key===null&&(Xe=Xe.props.children),typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case S:e:{for(var jt=Xe.key,qt=We;qt!==null;){if(qt.key===jt){if(jt=Xe.type,jt===D){if(qt.tag===7){A($e,qt.sibling),We=H(qt,Xe.props.children),We.return=$e,$e=We;break e}}else if(qt.elementType===jt||typeof jt=="object"&&jt!==null&&jt.$$typeof===X&&kR(jt)===qt.type){A($e,qt.sibling),We=H(qt,Xe.props),We.ref=vg($e,qt,Xe),We.return=$e,$e=We;break e}A($e,qt);break}else x($e,qt);qt=qt.sibling}Xe.type===D?(We=Ad(Xe.props.children,$e.mode,vt,Xe.key),We.return=$e,$e=We):(vt=Q1(Xe.type,Xe.key,Xe.props,null,$e.mode,vt),vt.ref=vg($e,We,Xe),vt.return=$e,$e=vt)}return xe($e);case R:e:{for(qt=Xe.key;We!==null;){if(We.key===qt)if(We.tag===4&&We.stateNode.containerInfo===Xe.containerInfo&&We.stateNode.implementation===Xe.implementation){A($e,We.sibling),We=H(We,Xe.children||[]),We.return=$e,$e=We;break e}else{A($e,We);break}else x($e,We);We=We.sibling}We=SE(Xe,$e.mode,vt),We.return=$e,$e=We}return xe($e);case X:return qt=Xe._init,Xr($e,We,qt(Xe._payload),vt)}if(he(Xe))return Mt($e,We,Xe,vt);if(z(Xe))return Lt($e,We,Xe,vt);A1($e,Xe)}return typeof Xe=="string"&&Xe!==""||typeof Xe=="number"?(Xe=""+Xe,We!==null&&We.tag===6?(A($e,We.sibling),We=H(We,Xe),We.return=$e,$e=We):(A($e,We),We=CE(Xe,$e.mode,vt),We.return=$e,$e=We),xe($e)):A($e,We)}return Xr}var Ph=RR(!0),PR=RR(!1),N1=Vc(null),I1=null,Fh=null,MT=null;function UT(){MT=Fh=I1=null}function OT(m){var x=N1.current;fr(N1),m._currentValue=x}function LT(m,x,A){for(;m!==null;){var L=m.alternate;if((m.childLanes&x)!==x?(m.childLanes|=x,L!==null&&(L.childLanes|=x)):L!==null&&(L.childLanes&x)!==x&&(L.childLanes|=x),m===A)break;m=m.return}}function Mh(m,x){I1=m,MT=Fh=null,m=m.dependencies,m!==null&&m.firstContext!==null&&((m.lanes&x)!==0&&(Ws=!0),m.firstContext=null)}function Ma(m){var x=m._currentValue;if(MT!==m)if(m={context:m,memoizedValue:x,next:null},Fh===null){if(I1===null)throw Error(n(308));Fh=m,I1.dependencies={lanes:0,firstContext:m}}else Fh=Fh.next=m;return x}var bd=null;function jT(m){bd===null?bd=[m]:bd.push(m)}function FR(m,x,A,L){var H=x.interleaved;return H===null?(A.next=A,jT(x)):(A.next=H.next,H.next=A),x.interleaved=A,Bl(m,L)}function Bl(m,x){m.lanes|=x;var A=m.alternate;for(A!==null&&(A.lanes|=x),A=m,m=m.return;m!==null;)m.childLanes|=x,A=m.alternate,A!==null&&(A.childLanes|=x),A=m,m=m.return;return A.tag===3?A.stateNode:null}var zc=!1;function BT(m){m.updateQueue={baseState:m.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function MR(m,x){m=m.updateQueue,x.updateQueue===m&&(x.updateQueue={baseState:m.baseState,firstBaseUpdate:m.firstBaseUpdate,lastBaseUpdate:m.lastBaseUpdate,shared:m.shared,effects:m.effects})}function Vl(m,x){return{eventTime:m,lane:x,tag:0,payload:null,callback:null,next:null}}function Hc(m,x,A){var L=m.updateQueue;if(L===null)return null;if(L=L.shared,(Cn&2)!==0){var H=L.pending;return H===null?x.next=x:(x.next=H.next,H.next=x),L.pending=x,Bl(m,A)}return H=L.interleaved,H===null?(x.next=x,jT(L)):(x.next=H.next,H.next=x),L.interleaved=x,Bl(m,A)}function k1(m,x,A){if(x=x.updateQueue,x!==null&&(x=x.shared,(A&4194240)!==0)){var L=x.lanes;L&=m.pendingLanes,A|=L,x.lanes=A,Fc(m,A)}}function UR(m,x){var A=m.updateQueue,L=m.alternate;if(L!==null&&(L=L.updateQueue,A===L)){var H=null,te=null;if(A=A.firstBaseUpdate,A!==null){do{var xe={eventTime:A.eventTime,lane:A.lane,tag:A.tag,payload:A.payload,callback:A.callback,next:null};te===null?H=te=xe:te=te.next=xe,A=A.next}while(A!==null);te===null?H=te=x:te=te.next=x}else H=te=x;A={baseState:L.baseState,firstBaseUpdate:H,lastBaseUpdate:te,shared:L.shared,effects:L.effects},m.updateQueue=A;return}m=A.lastBaseUpdate,m===null?A.firstBaseUpdate=x:m.next=x,A.lastBaseUpdate=x}function R1(m,x,A,L){var H=m.updateQueue;zc=!1;var te=H.firstBaseUpdate,xe=H.lastBaseUpdate,Fe=H.shared.pending;if(Fe!==null){H.shared.pending=null;var Be=Fe,Qe=Be.next;Be.next=null,xe===null?te=Qe:xe.next=Qe,xe=Be;var dt=m.alternate;dt!==null&&(dt=dt.updateQueue,Fe=dt.lastBaseUpdate,Fe!==xe&&(Fe===null?dt.firstBaseUpdate=Qe:Fe.next=Qe,dt.lastBaseUpdate=Be))}if(te!==null){var mt=H.baseState;xe=0,dt=Qe=Be=null,Fe=te;do{var ct=Fe.lane,It=Fe.eventTime;if((L&ct)===ct){dt!==null&&(dt=dt.next={eventTime:It,lane:0,tag:Fe.tag,payload:Fe.payload,callback:Fe.callback,next:null});e:{var Mt=m,Lt=Fe;switch(ct=x,It=A,Lt.tag){case 1:if(Mt=Lt.payload,typeof Mt=="function"){mt=Mt.call(It,mt,ct);break e}mt=Mt;break e;case 3:Mt.flags=Mt.flags&-65537|128;case 0:if(Mt=Lt.payload,ct=typeof Mt=="function"?Mt.call(It,mt,ct):Mt,ct==null)break e;mt=Q({},mt,ct);break e;case 2:zc=!0}}Fe.callback!==null&&Fe.lane!==0&&(m.flags|=64,ct=H.effects,ct===null?H.effects=[Fe]:ct.push(Fe))}else It={eventTime:It,lane:ct,tag:Fe.tag,payload:Fe.payload,callback:Fe.callback,next:null},dt===null?(Qe=dt=It,Be=mt):dt=dt.next=It,xe|=ct;if(Fe=Fe.next,Fe===null){if(Fe=H.shared.pending,Fe===null)break;ct=Fe,Fe=ct.next,ct.next=null,H.lastBaseUpdate=ct,H.shared.pending=null}}while(!0);if(dt===null&&(Be=mt),H.baseState=Be,H.firstBaseUpdate=Qe,H.lastBaseUpdate=dt,x=H.shared.interleaved,x!==null){H=x;do xe|=H.lane,H=H.next;while(H!==x)}else te===null&&(H.shared.lanes=0);Ed|=xe,m.lanes=xe,m.memoizedState=mt}}function OR(m,x,A){if(m=x.effects,x.effects=null,m!==null)for(x=0;x<m.length;x++){var L=m[x],H=L.callback;if(H!==null){if(L.callback=null,L=A,typeof H!="function")throw Error(n(191,H));H.call(L)}}}var xg={},Xo=Vc(xg),_g=Vc(xg),bg=Vc(xg);function wd(m){if(m===xg)throw Error(n(174));return m}function VT(m,x){switch(nr(bg,x),nr(_g,m),nr(Xo,xg),m=x.nodeType,m){case 9:case 11:x=(x=x.documentElement)?x.namespaceURI:Oe(null,"");break;default:m=m===8?x.parentNode:x,x=m.namespaceURI||null,m=m.tagName,x=Oe(x,m)}fr(Xo),nr(Xo,x)}function Uh(){fr(Xo),fr(_g),fr(bg)}function LR(m){wd(bg.current);var x=wd(Xo.current),A=Oe(x,m.type);x!==A&&(nr(_g,m),nr(Xo,A))}function WT(m){_g.current===m&&(fr(Xo),fr(_g))}var Nr=Vc(0);function P1(m){for(var x=m;x!==null;){if(x.tag===13){var A=x.memoizedState;if(A!==null&&(A=A.dehydrated,A===null||A.data==="$?"||A.data==="$!"))return x}else if(x.tag===19&&x.memoizedProps.revealOrder!==void 0){if((x.flags&128)!==0)return x}else if(x.child!==null){x.child.return=x,x=x.child;continue}if(x===m)break;for(;x.sibling===null;){if(x.return===null||x.return===m)return null;x=x.return}x.sibling.return=x.return,x=x.sibling}return null}var qT=[];function zT(){for(var m=0;m<qT.length;m++)qT[m]._workInProgressVersionPrimary=null;qT.length=0}var F1=C.ReactCurrentDispatcher,HT=C.ReactCurrentBatchConfig,Td=0,Ir=null,hi=null,Ei=null,M1=!1,wg=!1,Tg=0,SQ=0;function Qi(){throw Error(n(321))}function $T(m,x){if(x===null)return!1;for(var A=0;A<x.length&&A<m.length;A++)if(!go(m[A],x[A]))return!1;return!0}function GT(m,x,A,L,H,te){if(Td=te,Ir=x,x.memoizedState=null,x.updateQueue=null,x.lanes=0,F1.current=m===null||m.memoizedState===null?IQ:kQ,m=A(L,H),wg){te=0;do{if(wg=!1,Tg=0,25<=te)throw Error(n(301));te+=1,Ei=hi=null,x.updateQueue=null,F1.current=RQ,m=A(L,H)}while(wg)}if(F1.current=L1,x=hi!==null&&hi.next!==null,Td=0,Ei=hi=Ir=null,M1=!1,x)throw Error(n(300));return m}function KT(){var m=Tg!==0;return Tg=0,m}function Jo(){var m={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ei===null?Ir.memoizedState=Ei=m:Ei=Ei.next=m,Ei}function Ua(){if(hi===null){var m=Ir.alternate;m=m!==null?m.memoizedState:null}else m=hi.next;var x=Ei===null?Ir.memoizedState:Ei.next;if(x!==null)Ei=x,hi=m;else{if(m===null)throw Error(n(310));hi=m,m={memoizedState:hi.memoizedState,baseState:hi.baseState,baseQueue:hi.baseQueue,queue:hi.queue,next:null},Ei===null?Ir.memoizedState=Ei=m:Ei=Ei.next=m}return Ei}function Eg(m,x){return typeof x=="function"?x(m):x}function XT(m){var x=Ua(),A=x.queue;if(A===null)throw Error(n(311));A.lastRenderedReducer=m;var L=hi,H=L.baseQueue,te=A.pending;if(te!==null){if(H!==null){var xe=H.next;H.next=te.next,te.next=xe}L.baseQueue=H=te,A.pending=null}if(H!==null){te=H.next,L=L.baseState;var Fe=xe=null,Be=null,Qe=te;do{var dt=Qe.lane;if((Td&dt)===dt)Be!==null&&(Be=Be.next={lane:0,action:Qe.action,hasEagerState:Qe.hasEagerState,eagerState:Qe.eagerState,next:null}),L=Qe.hasEagerState?Qe.eagerState:m(L,Qe.action);else{var mt={lane:dt,action:Qe.action,hasEagerState:Qe.hasEagerState,eagerState:Qe.eagerState,next:null};Be===null?(Fe=Be=mt,xe=L):Be=Be.next=mt,Ir.lanes|=dt,Ed|=dt}Qe=Qe.next}while(Qe!==null&&Qe!==te);Be===null?xe=L:Be.next=Fe,go(L,x.memoizedState)||(Ws=!0),x.memoizedState=L,x.baseState=xe,x.baseQueue=Be,A.lastRenderedState=L}if(m=A.interleaved,m!==null){H=m;do te=H.lane,Ir.lanes|=te,Ed|=te,H=H.next;while(H!==m)}else H===null&&(A.lanes=0);return[x.memoizedState,A.dispatch]}function JT(m){var x=Ua(),A=x.queue;if(A===null)throw Error(n(311));A.lastRenderedReducer=m;var L=A.dispatch,H=A.pending,te=x.memoizedState;if(H!==null){A.pending=null;var xe=H=H.next;do te=m(te,xe.action),xe=xe.next;while(xe!==H);go(te,x.memoizedState)||(Ws=!0),x.memoizedState=te,x.baseQueue===null&&(x.baseState=te),A.lastRenderedState=te}return[te,L]}function jR(){}function BR(m,x){var A=Ir,L=Ua(),H=x(),te=!go(L.memoizedState,H);if(te&&(L.memoizedState=H,Ws=!0),L=L.queue,YT(qR.bind(null,A,L,m),[m]),L.getSnapshot!==x||te||Ei!==null&&Ei.memoizedState.tag&1){if(A.flags|=2048,Cg(9,WR.bind(null,A,L,H,x),void 0,null),Ci===null)throw Error(n(349));(Td&30)!==0||VR(A,x,H)}return H}function VR(m,x,A){m.flags|=16384,m={getSnapshot:x,value:A},x=Ir.updateQueue,x===null?(x={lastEffect:null,stores:null},Ir.updateQueue=x,x.stores=[m]):(A=x.stores,A===null?x.stores=[m]:A.push(m))}function WR(m,x,A,L){x.value=A,x.getSnapshot=L,zR(x)&&HR(m)}function qR(m,x,A){return A(function(){zR(x)&&HR(m)})}function zR(m){var x=m.getSnapshot;m=m.value;try{var A=x();return!go(m,A)}catch{return!0}}function HR(m){var x=Bl(m,1);x!==null&&bo(x,m,1,-1)}function $R(m){var x=Jo();return typeof m=="function"&&(m=m()),x.memoizedState=x.baseState=m,m={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Eg,lastRenderedState:m},x.queue=m,m=m.dispatch=NQ.bind(null,Ir,m),[x.memoizedState,m]}function Cg(m,x,A,L){return m={tag:m,create:x,destroy:A,deps:L,next:null},x=Ir.updateQueue,x===null?(x={lastEffect:null,stores:null},Ir.updateQueue=x,x.lastEffect=m.next=m):(A=x.lastEffect,A===null?x.lastEffect=m.next=m:(L=A.next,A.next=m,m.next=L,x.lastEffect=m)),m}function GR(){return Ua().memoizedState}function U1(m,x,A,L){var H=Jo();Ir.flags|=m,H.memoizedState=Cg(1|x,A,void 0,L===void 0?null:L)}function O1(m,x,A,L){var H=Ua();L=L===void 0?null:L;var te=void 0;if(hi!==null){var xe=hi.memoizedState;if(te=xe.destroy,L!==null&&$T(L,xe.deps)){H.memoizedState=Cg(x,A,te,L);return}}Ir.flags|=m,H.memoizedState=Cg(1|x,A,te,L)}function KR(m,x){return U1(8390656,8,m,x)}function YT(m,x){return O1(2048,8,m,x)}function XR(m,x){return O1(4,2,m,x)}function JR(m,x){return O1(4,4,m,x)}function YR(m,x){if(typeof x=="function")return m=m(),x(m),function(){x(null)};if(x!=null)return m=m(),x.current=m,function(){x.current=null}}function QR(m,x,A){return A=A!=null?A.concat([m]):null,O1(4,4,YR.bind(null,x,m),A)}function QT(){}function ZR(m,x){var A=Ua();x=x===void 0?null:x;var L=A.memoizedState;return L!==null&&x!==null&&$T(x,L[1])?L[0]:(A.memoizedState=[m,x],m)}function e5(m,x){var A=Ua();x=x===void 0?null:x;var L=A.memoizedState;return L!==null&&x!==null&&$T(x,L[1])?L[0]:(m=m(),A.memoizedState=[m,x],m)}function t5(m,x,A){return(Td&21)===0?(m.baseState&&(m.baseState=!1,Ws=!0),m.memoizedState=A):(go(A,x)||(A=fd(),Ir.lanes|=A,Ed|=A,m.baseState=!0),x)}function DQ(m,x){var A=bn;bn=A!==0&&4>A?A:4,m(!0);var L=HT.transition;HT.transition={};try{m(!1),x()}finally{bn=A,HT.transition=L}}function n5(){return Ua().memoizedState}function AQ(m,x,A){var L=Xc(m);if(A={lane:L,action:A,hasEagerState:!1,eagerState:null,next:null},r5(m))i5(x,A);else if(A=FR(m,x,A,L),A!==null){var H=Cs();bo(A,m,L,H),s5(A,x,L)}}function NQ(m,x,A){var L=Xc(m),H={lane:L,action:A,hasEagerState:!1,eagerState:null,next:null};if(r5(m))i5(x,H);else{var te=m.alternate;if(m.lanes===0&&(te===null||te.lanes===0)&&(te=x.lastRenderedReducer,te!==null))try{var xe=x.lastRenderedState,Fe=te(xe,A);if(H.hasEagerState=!0,H.eagerState=Fe,go(Fe,xe)){var Be=x.interleaved;Be===null?(H.next=H,jT(x)):(H.next=Be.next,Be.next=H),x.interleaved=H;return}}catch{}finally{}A=FR(m,x,H,L),A!==null&&(H=Cs(),bo(A,m,L,H),s5(A,x,L))}}function r5(m){var x=m.alternate;return m===Ir||x!==null&&x===Ir}function i5(m,x){wg=M1=!0;var A=m.pending;A===null?x.next=x:(x.next=A.next,A.next=x),m.pending=x}function s5(m,x,A){if((A&4194240)!==0){var L=x.lanes;L&=m.pendingLanes,A|=L,x.lanes=A,Fc(m,A)}}var L1={readContext:Ma,useCallback:Qi,useContext:Qi,useEffect:Qi,useImperativeHandle:Qi,useInsertionEffect:Qi,useLayoutEffect:Qi,useMemo:Qi,useReducer:Qi,useRef:Qi,useState:Qi,useDebugValue:Qi,useDeferredValue:Qi,useTransition:Qi,useMutableSource:Qi,useSyncExternalStore:Qi,useId:Qi,unstable_isNewReconciler:!1},IQ={readContext:Ma,useCallback:function(m,x){return Jo().memoizedState=[m,x===void 0?null:x],m},useContext:Ma,useEffect:KR,useImperativeHandle:function(m,x,A){return A=A!=null?A.concat([m]):null,U1(4194308,4,YR.bind(null,x,m),A)},useLayoutEffect:function(m,x){return U1(4194308,4,m,x)},useInsertionEffect:function(m,x){return U1(4,2,m,x)},useMemo:function(m,x){var A=Jo();return x=x===void 0?null:x,m=m(),A.memoizedState=[m,x],m},useReducer:function(m,x,A){var L=Jo();return x=A!==void 0?A(x):x,L.memoizedState=L.baseState=x,m={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:m,lastRenderedState:x},L.queue=m,m=m.dispatch=AQ.bind(null,Ir,m),[L.memoizedState,m]},useRef:function(m){var x=Jo();return m={current:m},x.memoizedState=m},useState:$R,useDebugValue:QT,useDeferredValue:function(m){return Jo().memoizedState=m},useTransition:function(){var m=$R(!1),x=m[0];return m=DQ.bind(null,m[1]),Jo().memoizedState=m,[x,m]},useMutableSource:function(){},useSyncExternalStore:function(m,x,A){var L=Ir,H=Jo();if(br){if(A===void 0)throw Error(n(407));A=A()}else{if(A=x(),Ci===null)throw Error(n(349));(Td&30)!==0||VR(L,x,A)}H.memoizedState=A;var te={value:A,getSnapshot:x};return H.queue=te,KR(qR.bind(null,L,te,m),[m]),L.flags|=2048,Cg(9,WR.bind(null,L,te,A,x),void 0,null),A},useId:function(){var m=Jo(),x=Ci.identifierPrefix;if(br){var A=jl,L=Ll;A=(L&~(1<<32-ur(L)-1)).toString(32)+A,x=":"+x+"R"+A,A=Tg++,0<A&&(x+="H"+A.toString(32)),x+=":"}else A=SQ++,x=":"+x+"r"+A.toString(32)+":";return m.memoizedState=x},unstable_isNewReconciler:!1},kQ={readContext:Ma,useCallback:ZR,useContext:Ma,useEffect:YT,useImperativeHandle:QR,useInsertionEffect:XR,useLayoutEffect:JR,useMemo:e5,useReducer:XT,useRef:GR,useState:function(){return XT(Eg)},useDebugValue:QT,useDeferredValue:function(m){var x=Ua();return t5(x,hi.memoizedState,m)},useTransition:function(){var m=XT(Eg)[0],x=Ua().memoizedState;return[m,x]},useMutableSource:jR,useSyncExternalStore:BR,useId:n5,unstable_isNewReconciler:!1},RQ={readContext:Ma,useCallback:ZR,useContext:Ma,useEffect:YT,useImperativeHandle:QR,useInsertionEffect:XR,useLayoutEffect:JR,useMemo:e5,useReducer:JT,useRef:GR,useState:function(){return JT(Eg)},useDebugValue:QT,useDeferredValue:function(m){var x=Ua();return hi===null?x.memoizedState=m:t5(x,hi.memoizedState,m)},useTransition:function(){var m=JT(Eg)[0],x=Ua().memoizedState;return[m,x]},useMutableSource:jR,useSyncExternalStore:BR,useId:n5,unstable_isNewReconciler:!1};function vo(m,x){if(m&&m.defaultProps){x=Q({},x),m=m.defaultProps;for(var A in m)x[A]===void 0&&(x[A]=m[A]);return x}return x}function ZT(m,x,A,L){x=m.memoizedState,A=A(L,x),A=A==null?x:Q({},x,A),m.memoizedState=A,m.lanes===0&&(m.updateQueue.baseState=A)}var j1={isMounted:function(m){return(m=m._reactInternals)?Re(m)===m:!1},enqueueSetState:function(m,x,A){m=m._reactInternals;var L=Cs(),H=Xc(m),te=Vl(L,H);te.payload=x,A!=null&&(te.callback=A),x=Hc(m,te,H),x!==null&&(bo(x,m,H,L),k1(x,m,H))},enqueueReplaceState:function(m,x,A){m=m._reactInternals;var L=Cs(),H=Xc(m),te=Vl(L,H);te.tag=1,te.payload=x,A!=null&&(te.callback=A),x=Hc(m,te,H),x!==null&&(bo(x,m,H,L),k1(x,m,H))},enqueueForceUpdate:function(m,x){m=m._reactInternals;var A=Cs(),L=Xc(m),H=Vl(A,L);H.tag=2,x!=null&&(H.callback=x),x=Hc(m,H,L),x!==null&&(bo(x,m,L,A),k1(x,m,L))}};function a5(m,x,A,L,H,te,xe){return m=m.stateNode,typeof m.shouldComponentUpdate=="function"?m.shouldComponentUpdate(L,te,xe):x.prototype&&x.prototype.isPureReactComponent?!dg(A,L)||!dg(H,te):!0}function o5(m,x,A){var L=!1,H=Wc,te=x.contextType;return typeof te=="object"&&te!==null?te=Ma(te):(H=Vs(x)?vd:Yi.current,L=x.contextTypes,te=(L=L!=null)?Nh(m,H):Wc),x=new x(A,te),m.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=j1,m.stateNode=x,x._reactInternals=m,L&&(m=m.stateNode,m.__reactInternalMemoizedUnmaskedChildContext=H,m.__reactInternalMemoizedMaskedChildContext=te),x}function l5(m,x,A,L){m=x.state,typeof x.componentWillReceiveProps=="function"&&x.componentWillReceiveProps(A,L),typeof x.UNSAFE_componentWillReceiveProps=="function"&&x.UNSAFE_componentWillReceiveProps(A,L),x.state!==m&&j1.enqueueReplaceState(x,x.state,null)}function eE(m,x,A,L){var H=m.stateNode;H.props=A,H.state=m.memoizedState,H.refs={},BT(m);var te=x.contextType;typeof te=="object"&&te!==null?H.context=Ma(te):(te=Vs(x)?vd:Yi.current,H.context=Nh(m,te)),H.state=m.memoizedState,te=x.getDerivedStateFromProps,typeof te=="function"&&(ZT(m,x,te,A),H.state=m.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof H.getSnapshotBeforeUpdate=="function"||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(x=H.state,typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount(),x!==H.state&&j1.enqueueReplaceState(H,H.state,null),R1(m,A,H,L),H.state=m.memoizedState),typeof H.componentDidMount=="function"&&(m.flags|=4194308)}function Oh(m,x){try{var A="",L=x;do A+=Y(L),L=L.return;while(L);var H=A}catch(te){H=`
Error generating stack: `+te.message+`
`+te.stack}return{value:m,source:x,stack:H,digest:null}}function tE(m,x,A){return{value:m,source:null,stack:A??null,digest:x??null}}function nE(m,x){try{console.error(x.value)}catch(A){setTimeout(function(){throw A})}}var PQ=typeof WeakMap=="function"?WeakMap:Map;function c5(m,x,A){A=Vl(-1,A),A.tag=3,A.payload={element:null};var L=x.value;return A.callback=function(){$1||($1=!0,yE=L),nE(m,x)},A}function u5(m,x,A){A=Vl(-1,A),A.tag=3;var L=m.type.getDerivedStateFromError;if(typeof L=="function"){var H=x.value;A.payload=function(){return L(H)},A.callback=function(){nE(m,x)}}var te=m.stateNode;return te!==null&&typeof te.componentDidCatch=="function"&&(A.callback=function(){nE(m,x),typeof L!="function"&&(Gc===null?Gc=new Set([this]):Gc.add(this));var xe=x.stack;this.componentDidCatch(x.value,{componentStack:xe!==null?xe:""})}),A}function d5(m,x,A){var L=m.pingCache;if(L===null){L=m.pingCache=new PQ;var H=new Set;L.set(x,H)}else H=L.get(x),H===void 0&&(H=new Set,L.set(x,H));H.has(A)||(H.add(A),m=GQ.bind(null,m,x,A),x.then(m,m))}function f5(m){do{var x;if((x=m.tag===13)&&(x=m.memoizedState,x=x!==null?x.dehydrated!==null:!0),x)return m;m=m.return}while(m!==null);return null}function h5(m,x,A,L,H){return(m.mode&1)===0?(m===x?m.flags|=65536:(m.flags|=128,A.flags|=131072,A.flags&=-52805,A.tag===1&&(A.alternate===null?A.tag=17:(x=Vl(-1,1),x.tag=2,Hc(A,x,1))),A.lanes|=1),m):(m.flags|=65536,m.lanes=H,m)}var FQ=C.ReactCurrentOwner,Ws=!1;function Es(m,x,A,L){x.child=m===null?PR(x,null,A,L):Ph(x,m.child,A,L)}function p5(m,x,A,L,H){A=A.render;var te=x.ref;return Mh(x,H),L=GT(m,x,A,L,te,H),A=KT(),m!==null&&!Ws?(x.updateQueue=m.updateQueue,x.flags&=-2053,m.lanes&=~H,Wl(m,x,H)):(br&&A&&IT(x),x.flags|=1,Es(m,x,L,H),x.child)}function m5(m,x,A,L,H){if(m===null){var te=A.type;return typeof te=="function"&&!EE(te)&&te.defaultProps===void 0&&A.compare===null&&A.defaultProps===void 0?(x.tag=15,x.type=te,g5(m,x,te,L,H)):(m=Q1(A.type,null,L,x,x.mode,H),m.ref=x.ref,m.return=x,x.child=m)}if(te=m.child,(m.lanes&H)===0){var xe=te.memoizedProps;if(A=A.compare,A=A!==null?A:dg,A(xe,L)&&m.ref===x.ref)return Wl(m,x,H)}return x.flags|=1,m=Yc(te,L),m.ref=x.ref,m.return=x,x.child=m}function g5(m,x,A,L,H){if(m!==null){var te=m.memoizedProps;if(dg(te,L)&&m.ref===x.ref)if(Ws=!1,x.pendingProps=L=te,(m.lanes&H)!==0)(m.flags&131072)!==0&&(Ws=!0);else return x.lanes=m.lanes,Wl(m,x,H)}return rE(m,x,A,L,H)}function y5(m,x,A){var L=x.pendingProps,H=L.children,te=m!==null?m.memoizedState:null;if(L.mode==="hidden")if((x.mode&1)===0)x.memoizedState={baseLanes:0,cachePool:null,transitions:null},nr(jh,ma),ma|=A;else{if((A&1073741824)===0)return m=te!==null?te.baseLanes|A:A,x.lanes=x.childLanes=1073741824,x.memoizedState={baseLanes:m,cachePool:null,transitions:null},x.updateQueue=null,nr(jh,ma),ma|=m,null;x.memoizedState={baseLanes:0,cachePool:null,transitions:null},L=te!==null?te.baseLanes:A,nr(jh,ma),ma|=L}else te!==null?(L=te.baseLanes|A,x.memoizedState=null):L=A,nr(jh,ma),ma|=L;return Es(m,x,H,A),x.child}function v5(m,x){var A=x.ref;(m===null&&A!==null||m!==null&&m.ref!==A)&&(x.flags|=512,x.flags|=2097152)}function rE(m,x,A,L,H){var te=Vs(A)?vd:Yi.current;return te=Nh(x,te),Mh(x,H),A=GT(m,x,A,L,te,H),L=KT(),m!==null&&!Ws?(x.updateQueue=m.updateQueue,x.flags&=-2053,m.lanes&=~H,Wl(m,x,H)):(br&&L&&IT(x),x.flags|=1,Es(m,x,A,H),x.child)}function x5(m,x,A,L,H){if(Vs(A)){var te=!0;T1(x)}else te=!1;if(Mh(x,H),x.stateNode===null)V1(m,x),o5(x,A,L),eE(x,A,L,H),L=!0;else if(m===null){var xe=x.stateNode,Fe=x.memoizedProps;xe.props=Fe;var Be=xe.context,Qe=A.contextType;typeof Qe=="object"&&Qe!==null?Qe=Ma(Qe):(Qe=Vs(A)?vd:Yi.current,Qe=Nh(x,Qe));var dt=A.getDerivedStateFromProps,mt=typeof dt=="function"||typeof xe.getSnapshotBeforeUpdate=="function";mt||typeof xe.UNSAFE_componentWillReceiveProps!="function"&&typeof xe.componentWillReceiveProps!="function"||(Fe!==L||Be!==Qe)&&l5(x,xe,L,Qe),zc=!1;var ct=x.memoizedState;xe.state=ct,R1(x,L,xe,H),Be=x.memoizedState,Fe!==L||ct!==Be||Bs.current||zc?(typeof dt=="function"&&(ZT(x,A,dt,L),Be=x.memoizedState),(Fe=zc||a5(x,A,Fe,L,ct,Be,Qe))?(mt||typeof xe.UNSAFE_componentWillMount!="function"&&typeof xe.componentWillMount!="function"||(typeof xe.componentWillMount=="function"&&xe.componentWillMount(),typeof xe.UNSAFE_componentWillMount=="function"&&xe.UNSAFE_componentWillMount()),typeof xe.componentDidMount=="function"&&(x.flags|=4194308)):(typeof xe.componentDidMount=="function"&&(x.flags|=4194308),x.memoizedProps=L,x.memoizedState=Be),xe.props=L,xe.state=Be,xe.context=Qe,L=Fe):(typeof xe.componentDidMount=="function"&&(x.flags|=4194308),L=!1)}else{xe=x.stateNode,MR(m,x),Fe=x.memoizedProps,Qe=x.type===x.elementType?Fe:vo(x.type,Fe),xe.props=Qe,mt=x.pendingProps,ct=xe.context,Be=A.contextType,typeof Be=="object"&&Be!==null?Be=Ma(Be):(Be=Vs(A)?vd:Yi.current,Be=Nh(x,Be));var It=A.getDerivedStateFromProps;(dt=typeof It=="function"||typeof xe.getSnapshotBeforeUpdate=="function")||typeof xe.UNSAFE_componentWillReceiveProps!="function"&&typeof xe.componentWillReceiveProps!="function"||(Fe!==mt||ct!==Be)&&l5(x,xe,L,Be),zc=!1,ct=x.memoizedState,xe.state=ct,R1(x,L,xe,H);var Mt=x.memoizedState;Fe!==mt||ct!==Mt||Bs.current||zc?(typeof It=="function"&&(ZT(x,A,It,L),Mt=x.memoizedState),(Qe=zc||a5(x,A,Qe,L,ct,Mt,Be)||!1)?(dt||typeof xe.UNSAFE_componentWillUpdate!="function"&&typeof xe.componentWillUpdate!="function"||(typeof xe.componentWillUpdate=="function"&&xe.componentWillUpdate(L,Mt,Be),typeof xe.UNSAFE_componentWillUpdate=="function"&&xe.UNSAFE_componentWillUpdate(L,Mt,Be)),typeof xe.componentDidUpdate=="function"&&(x.flags|=4),typeof xe.getSnapshotBeforeUpdate=="function"&&(x.flags|=1024)):(typeof xe.componentDidUpdate!="function"||Fe===m.memoizedProps&&ct===m.memoizedState||(x.flags|=4),typeof xe.getSnapshotBeforeUpdate!="function"||Fe===m.memoizedProps&&ct===m.memoizedState||(x.flags|=1024),x.memoizedProps=L,x.memoizedState=Mt),xe.props=L,xe.state=Mt,xe.context=Be,L=Qe):(typeof xe.componentDidUpdate!="function"||Fe===m.memoizedProps&&ct===m.memoizedState||(x.flags|=4),typeof xe.getSnapshotBeforeUpdate!="function"||Fe===m.memoizedProps&&ct===m.memoizedState||(x.flags|=1024),L=!1)}return iE(m,x,A,L,te,H)}function iE(m,x,A,L,H,te){v5(m,x);var xe=(x.flags&128)!==0;if(!L&&!xe)return H&&ER(x,A,!1),Wl(m,x,te);L=x.stateNode,FQ.current=x;var Fe=xe&&typeof A.getDerivedStateFromError!="function"?null:L.render();return x.flags|=1,m!==null&&xe?(x.child=Ph(x,m.child,null,te),x.child=Ph(x,null,Fe,te)):Es(m,x,Fe,te),x.memoizedState=L.state,H&&ER(x,A,!0),x.child}function _5(m){var x=m.stateNode;x.pendingContext?wR(m,x.pendingContext,x.pendingContext!==x.context):x.context&&wR(m,x.context,!1),VT(m,x.containerInfo)}function b5(m,x,A,L,H){return Rh(),FT(H),x.flags|=256,Es(m,x,A,L),x.child}var sE={dehydrated:null,treeContext:null,retryLane:0};function aE(m){return{baseLanes:m,cachePool:null,transitions:null}}function w5(m,x,A){var L=x.pendingProps,H=Nr.current,te=!1,xe=(x.flags&128)!==0,Fe;if((Fe=xe)||(Fe=m!==null&&m.memoizedState===null?!1:(H&2)!==0),Fe?(te=!0,x.flags&=-129):(m===null||m.memoizedState!==null)&&(H|=1),nr(Nr,H&1),m===null)return PT(x),m=x.memoizedState,m!==null&&(m=m.dehydrated,m!==null)?((x.mode&1)===0?x.lanes=1:m.data==="$!"?x.lanes=8:x.lanes=1073741824,null):(xe=L.children,m=L.fallback,te?(L=x.mode,te=x.child,xe={mode:"hidden",children:xe},(L&1)===0&&te!==null?(te.childLanes=0,te.pendingProps=xe):te=Z1(xe,L,0,null),m=Ad(m,L,A,null),te.return=x,m.return=x,te.sibling=m,x.child=te,x.child.memoizedState=aE(A),x.memoizedState=sE,m):oE(x,xe));if(H=m.memoizedState,H!==null&&(Fe=H.dehydrated,Fe!==null))return MQ(m,x,xe,L,Fe,H,A);if(te){te=L.fallback,xe=x.mode,H=m.child,Fe=H.sibling;var Be={mode:"hidden",children:L.children};return(xe&1)===0&&x.child!==H?(L=x.child,L.childLanes=0,L.pendingProps=Be,x.deletions=null):(L=Yc(H,Be),L.subtreeFlags=H.subtreeFlags&14680064),Fe!==null?te=Yc(Fe,te):(te=Ad(te,xe,A,null),te.flags|=2),te.return=x,L.return=x,L.sibling=te,x.child=L,L=te,te=x.child,xe=m.child.memoizedState,xe=xe===null?aE(A):{baseLanes:xe.baseLanes|A,cachePool:null,transitions:xe.transitions},te.memoizedState=xe,te.childLanes=m.childLanes&~A,x.memoizedState=sE,L}return te=m.child,m=te.sibling,L=Yc(te,{mode:"visible",children:L.children}),(x.mode&1)===0&&(L.lanes=A),L.return=x,L.sibling=null,m!==null&&(A=x.deletions,A===null?(x.deletions=[m],x.flags|=16):A.push(m)),x.child=L,x.memoizedState=null,L}function oE(m,x){return x=Z1({mode:"visible",children:x},m.mode,0,null),x.return=m,m.child=x}function B1(m,x,A,L){return L!==null&&FT(L),Ph(x,m.child,null,A),m=oE(x,x.pendingProps.children),m.flags|=2,x.memoizedState=null,m}function MQ(m,x,A,L,H,te,xe){if(A)return x.flags&256?(x.flags&=-257,L=tE(Error(n(422))),B1(m,x,xe,L)):x.memoizedState!==null?(x.child=m.child,x.flags|=128,null):(te=L.fallback,H=x.mode,L=Z1({mode:"visible",children:L.children},H,0,null),te=Ad(te,H,xe,null),te.flags|=2,L.return=x,te.return=x,L.sibling=te,x.child=L,(x.mode&1)!==0&&Ph(x,m.child,null,xe),x.child.memoizedState=aE(xe),x.memoizedState=sE,te);if((x.mode&1)===0)return B1(m,x,xe,null);if(H.data==="$!"){if(L=H.nextSibling&&H.nextSibling.dataset,L)var Fe=L.dgst;return L=Fe,te=Error(n(419)),L=tE(te,L,void 0),B1(m,x,xe,L)}if(Fe=(xe&m.childLanes)!==0,Ws||Fe){if(L=Ci,L!==null){switch(xe&-xe){case 4:H=2;break;case 16:H=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:H=32;break;case 536870912:H=268435456;break;default:H=0}H=(H&(L.suspendedLanes|xe))!==0?0:H,H!==0&&H!==te.retryLane&&(te.retryLane=H,Bl(m,H),bo(L,m,H,-1))}return TE(),L=tE(Error(n(421))),B1(m,x,xe,L)}return H.data==="$?"?(x.flags|=128,x.child=m.child,x=KQ.bind(null,m),H._reactRetry=x,null):(m=te.treeContext,pa=Bc(H.nextSibling),ha=x,br=!0,yo=null,m!==null&&(Pa[Fa++]=Ll,Pa[Fa++]=jl,Pa[Fa++]=xd,Ll=m.id,jl=m.overflow,xd=x),x=oE(x,L.children),x.flags|=4096,x)}function T5(m,x,A){m.lanes|=x;var L=m.alternate;L!==null&&(L.lanes|=x),LT(m.return,x,A)}function lE(m,x,A,L,H){var te=m.memoizedState;te===null?m.memoizedState={isBackwards:x,rendering:null,renderingStartTime:0,last:L,tail:A,tailMode:H}:(te.isBackwards=x,te.rendering=null,te.renderingStartTime=0,te.last=L,te.tail=A,te.tailMode=H)}function E5(m,x,A){var L=x.pendingProps,H=L.revealOrder,te=L.tail;if(Es(m,x,L.children,A),L=Nr.current,(L&2)!==0)L=L&1|2,x.flags|=128;else{if(m!==null&&(m.flags&128)!==0)e:for(m=x.child;m!==null;){if(m.tag===13)m.memoizedState!==null&&T5(m,A,x);else if(m.tag===19)T5(m,A,x);else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===x)break e;for(;m.sibling===null;){if(m.return===null||m.return===x)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}L&=1}if(nr(Nr,L),(x.mode&1)===0)x.memoizedState=null;else switch(H){case"forwards":for(A=x.child,H=null;A!==null;)m=A.alternate,m!==null&&P1(m)===null&&(H=A),A=A.sibling;A=H,A===null?(H=x.child,x.child=null):(H=A.sibling,A.sibling=null),lE(x,!1,H,A,te);break;case"backwards":for(A=null,H=x.child,x.child=null;H!==null;){if(m=H.alternate,m!==null&&P1(m)===null){x.child=H;break}m=H.sibling,H.sibling=A,A=H,H=m}lE(x,!0,A,null,te);break;case"together":lE(x,!1,null,null,void 0);break;default:x.memoizedState=null}return x.child}function V1(m,x){(x.mode&1)===0&&m!==null&&(m.alternate=null,x.alternate=null,x.flags|=2)}function Wl(m,x,A){if(m!==null&&(x.dependencies=m.dependencies),Ed|=x.lanes,(A&x.childLanes)===0)return null;if(m!==null&&x.child!==m.child)throw Error(n(153));if(x.child!==null){for(m=x.child,A=Yc(m,m.pendingProps),x.child=A,A.return=x;m.sibling!==null;)m=m.sibling,A=A.sibling=Yc(m,m.pendingProps),A.return=x;A.sibling=null}return x.child}function UQ(m,x,A){switch(x.tag){case 3:_5(x),Rh();break;case 5:LR(x);break;case 1:Vs(x.type)&&T1(x);break;case 4:VT(x,x.stateNode.containerInfo);break;case 10:var L=x.type._context,H=x.memoizedProps.value;nr(N1,L._currentValue),L._currentValue=H;break;case 13:if(L=x.memoizedState,L!==null)return L.dehydrated!==null?(nr(Nr,Nr.current&1),x.flags|=128,null):(A&x.child.childLanes)!==0?w5(m,x,A):(nr(Nr,Nr.current&1),m=Wl(m,x,A),m!==null?m.sibling:null);nr(Nr,Nr.current&1);break;case 19:if(L=(A&x.childLanes)!==0,(m.flags&128)!==0){if(L)return E5(m,x,A);x.flags|=128}if(H=x.memoizedState,H!==null&&(H.rendering=null,H.tail=null,H.lastEffect=null),nr(Nr,Nr.current),L)break;return null;case 22:case 23:return x.lanes=0,y5(m,x,A)}return Wl(m,x,A)}var C5,cE,S5,D5;C5=function(m,x){for(var A=x.child;A!==null;){if(A.tag===5||A.tag===6)m.appendChild(A.stateNode);else if(A.tag!==4&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===x)break;for(;A.sibling===null;){if(A.return===null||A.return===x)return;A=A.return}A.sibling.return=A.return,A=A.sibling}},cE=function(){},S5=function(m,x,A,L){var H=m.memoizedProps;if(H!==L){m=x.stateNode,wd(Xo.current);var te=null;switch(A){case"input":H=V(m,H),L=V(m,L),te=[];break;case"select":H=Q({},H,{value:void 0}),L=Q({},L,{value:void 0}),te=[];break;case"textarea":H=ie(m,H),L=ie(m,L),te=[];break;default:typeof H.onClick!="function"&&typeof L.onClick=="function"&&(m.onclick=_1)}ln(A,L);var xe;A=null;for(Qe in H)if(!L.hasOwnProperty(Qe)&&H.hasOwnProperty(Qe)&&H[Qe]!=null)if(Qe==="style"){var Fe=H[Qe];for(xe in Fe)Fe.hasOwnProperty(xe)&&(A||(A={}),A[xe]="")}else Qe!=="dangerouslySetInnerHTML"&&Qe!=="children"&&Qe!=="suppressContentEditableWarning"&&Qe!=="suppressHydrationWarning"&&Qe!=="autoFocus"&&(i.hasOwnProperty(Qe)?te||(te=[]):(te=te||[]).push(Qe,null));for(Qe in L){var Be=L[Qe];if(Fe=H!=null?H[Qe]:void 0,L.hasOwnProperty(Qe)&&Be!==Fe&&(Be!=null||Fe!=null))if(Qe==="style")if(Fe){for(xe in Fe)!Fe.hasOwnProperty(xe)||Be&&Be.hasOwnProperty(xe)||(A||(A={}),A[xe]="");for(xe in Be)Be.hasOwnProperty(xe)&&Fe[xe]!==Be[xe]&&(A||(A={}),A[xe]=Be[xe])}else A||(te||(te=[]),te.push(Qe,A)),A=Be;else Qe==="dangerouslySetInnerHTML"?(Be=Be?Be.__html:void 0,Fe=Fe?Fe.__html:void 0,Be!=null&&Fe!==Be&&(te=te||[]).push(Qe,Be)):Qe==="children"?typeof Be!="string"&&typeof Be!="number"||(te=te||[]).push(Qe,""+Be):Qe!=="suppressContentEditableWarning"&&Qe!=="suppressHydrationWarning"&&(i.hasOwnProperty(Qe)?(Be!=null&&Qe==="onScroll"&&dr("scroll",m),te||Fe===Be||(te=[])):(te=te||[]).push(Qe,Be))}A&&(te=te||[]).push("style",A);var Qe=te;(x.updateQueue=Qe)&&(x.flags|=4)}},D5=function(m,x,A,L){A!==L&&(x.flags|=4)};function Sg(m,x){if(!br)switch(m.tailMode){case"hidden":x=m.tail;for(var A=null;x!==null;)x.alternate!==null&&(A=x),x=x.sibling;A===null?m.tail=null:A.sibling=null;break;case"collapsed":A=m.tail;for(var L=null;A!==null;)A.alternate!==null&&(L=A),A=A.sibling;L===null?x||m.tail===null?m.tail=null:m.tail.sibling=null:L.sibling=null}}function Zi(m){var x=m.alternate!==null&&m.alternate.child===m.child,A=0,L=0;if(x)for(var H=m.child;H!==null;)A|=H.lanes|H.childLanes,L|=H.subtreeFlags&14680064,L|=H.flags&14680064,H.return=m,H=H.sibling;else for(H=m.child;H!==null;)A|=H.lanes|H.childLanes,L|=H.subtreeFlags,L|=H.flags,H.return=m,H=H.sibling;return m.subtreeFlags|=L,m.childLanes=A,x}function OQ(m,x,A){var L=x.pendingProps;switch(kT(x),x.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zi(x),null;case 1:return Vs(x.type)&&w1(),Zi(x),null;case 3:return L=x.stateNode,Uh(),fr(Bs),fr(Yi),zT(),L.pendingContext&&(L.context=L.pendingContext,L.pendingContext=null),(m===null||m.child===null)&&(D1(x)?x.flags|=4:m===null||m.memoizedState.isDehydrated&&(x.flags&256)===0||(x.flags|=1024,yo!==null&&(_E(yo),yo=null))),cE(m,x),Zi(x),null;case 5:WT(x);var H=wd(bg.current);if(A=x.type,m!==null&&x.stateNode!=null)S5(m,x,A,L,H),m.ref!==x.ref&&(x.flags|=512,x.flags|=2097152);else{if(!L){if(x.stateNode===null)throw Error(n(166));return Zi(x),null}if(m=wd(Xo.current),D1(x)){L=x.stateNode,A=x.type;var te=x.memoizedProps;switch(L[Ko]=x,L[gg]=te,m=(x.mode&1)!==0,A){case"dialog":dr("cancel",L),dr("close",L);break;case"iframe":case"object":case"embed":dr("load",L);break;case"video":case"audio":for(H=0;H<hg.length;H++)dr(hg[H],L);break;case"source":dr("error",L);break;case"img":case"image":case"link":dr("error",L),dr("load",L);break;case"details":dr("toggle",L);break;case"input":ye(L,te),dr("invalid",L);break;case"select":L._wrapperState={wasMultiple:!!te.multiple},dr("invalid",L);break;case"textarea":ce(L,te),dr("invalid",L)}ln(A,te),H=null;for(var xe in te)if(te.hasOwnProperty(xe)){var Fe=te[xe];xe==="children"?typeof Fe=="string"?L.textContent!==Fe&&(te.suppressHydrationWarning!==!0&&x1(L.textContent,Fe,m),H=["children",Fe]):typeof Fe=="number"&&L.textContent!==""+Fe&&(te.suppressHydrationWarning!==!0&&x1(L.textContent,Fe,m),H=["children",""+Fe]):i.hasOwnProperty(xe)&&Fe!=null&&xe==="onScroll"&&dr("scroll",L)}switch(A){case"input":Pe(L),re(L,te,!0);break;case"textarea":Pe(L),ve(L);break;case"select":case"option":break;default:typeof te.onClick=="function"&&(L.onclick=_1)}L=H,x.updateQueue=L,L!==null&&(x.flags|=4)}else{xe=H.nodeType===9?H:H.ownerDocument,m==="http://www.w3.org/1999/xhtml"&&(m=Se(A)),m==="http://www.w3.org/1999/xhtml"?A==="script"?(m=xe.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild)):typeof L.is=="string"?m=xe.createElement(A,{is:L.is}):(m=xe.createElement(A),A==="select"&&(xe=m,L.multiple?xe.multiple=!0:L.size&&(xe.size=L.size))):m=xe.createElementNS(m,A),m[Ko]=x,m[gg]=L,C5(m,x,!1,!1),x.stateNode=m;e:{switch(xe=lr(A,L),A){case"dialog":dr("cancel",m),dr("close",m),H=L;break;case"iframe":case"object":case"embed":dr("load",m),H=L;break;case"video":case"audio":for(H=0;H<hg.length;H++)dr(hg[H],m);H=L;break;case"source":dr("error",m),H=L;break;case"img":case"image":case"link":dr("error",m),dr("load",m),H=L;break;case"details":dr("toggle",m),H=L;break;case"input":ye(m,L),H=V(m,L),dr("invalid",m);break;case"option":H=L;break;case"select":m._wrapperState={wasMultiple:!!L.multiple},H=Q({},L,{value:void 0}),dr("invalid",m);break;case"textarea":ce(m,L),H=ie(m,L),dr("invalid",m);break;default:H=L}ln(A,H),Fe=H;for(te in Fe)if(Fe.hasOwnProperty(te)){var Be=Fe[te];te==="style"?Vt(m,Be):te==="dangerouslySetInnerHTML"?(Be=Be?Be.__html:void 0,Be!=null&&Ue(m,Be)):te==="children"?typeof Be=="string"?(A!=="textarea"||Be!=="")&&Le(m,Be):typeof Be=="number"&&Le(m,""+Be):te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&te!=="autoFocus"&&(i.hasOwnProperty(te)?Be!=null&&te==="onScroll"&&dr("scroll",m):Be!=null&&w(m,te,Be,xe))}switch(A){case"input":Pe(m),re(m,L,!1);break;case"textarea":Pe(m),ve(m);break;case"option":L.value!=null&&m.setAttribute("value",""+de(L.value));break;case"select":m.multiple=!!L.multiple,te=L.value,te!=null?_e(m,!!L.multiple,te,!1):L.defaultValue!=null&&_e(m,!!L.multiple,L.defaultValue,!0);break;default:typeof H.onClick=="function"&&(m.onclick=_1)}switch(A){case"button":case"input":case"select":case"textarea":L=!!L.autoFocus;break e;case"img":L=!0;break e;default:L=!1}}L&&(x.flags|=4)}x.ref!==null&&(x.flags|=512,x.flags|=2097152)}return Zi(x),null;case 6:if(m&&x.stateNode!=null)D5(m,x,m.memoizedProps,L);else{if(typeof L!="string"&&x.stateNode===null)throw Error(n(166));if(A=wd(bg.current),wd(Xo.current),D1(x)){if(L=x.stateNode,A=x.memoizedProps,L[Ko]=x,(te=L.nodeValue!==A)&&(m=ha,m!==null))switch(m.tag){case 3:x1(L.nodeValue,A,(m.mode&1)!==0);break;case 5:m.memoizedProps.suppressHydrationWarning!==!0&&x1(L.nodeValue,A,(m.mode&1)!==0)}te&&(x.flags|=4)}else L=(A.nodeType===9?A:A.ownerDocument).createTextNode(L),L[Ko]=x,x.stateNode=L}return Zi(x),null;case 13:if(fr(Nr),L=x.memoizedState,m===null||m.memoizedState!==null&&m.memoizedState.dehydrated!==null){if(br&&pa!==null&&(x.mode&1)!==0&&(x.flags&128)===0)IR(),Rh(),x.flags|=98560,te=!1;else if(te=D1(x),L!==null&&L.dehydrated!==null){if(m===null){if(!te)throw Error(n(318));if(te=x.memoizedState,te=te!==null?te.dehydrated:null,!te)throw Error(n(317));te[Ko]=x}else Rh(),(x.flags&128)===0&&(x.memoizedState=null),x.flags|=4;Zi(x),te=!1}else yo!==null&&(_E(yo),yo=null),te=!0;if(!te)return x.flags&65536?x:null}return(x.flags&128)!==0?(x.lanes=A,x):(L=L!==null,L!==(m!==null&&m.memoizedState!==null)&&L&&(x.child.flags|=8192,(x.mode&1)!==0&&(m===null||(Nr.current&1)!==0?pi===0&&(pi=3):TE())),x.updateQueue!==null&&(x.flags|=4),Zi(x),null);case 4:return Uh(),cE(m,x),m===null&&pg(x.stateNode.containerInfo),Zi(x),null;case 10:return OT(x.type._context),Zi(x),null;case 17:return Vs(x.type)&&w1(),Zi(x),null;case 19:if(fr(Nr),te=x.memoizedState,te===null)return Zi(x),null;if(L=(x.flags&128)!==0,xe=te.rendering,xe===null)if(L)Sg(te,!1);else{if(pi!==0||m!==null&&(m.flags&128)!==0)for(m=x.child;m!==null;){if(xe=P1(m),xe!==null){for(x.flags|=128,Sg(te,!1),L=xe.updateQueue,L!==null&&(x.updateQueue=L,x.flags|=4),x.subtreeFlags=0,L=A,A=x.child;A!==null;)te=A,m=L,te.flags&=14680066,xe=te.alternate,xe===null?(te.childLanes=0,te.lanes=m,te.child=null,te.subtreeFlags=0,te.memoizedProps=null,te.memoizedState=null,te.updateQueue=null,te.dependencies=null,te.stateNode=null):(te.childLanes=xe.childLanes,te.lanes=xe.lanes,te.child=xe.child,te.subtreeFlags=0,te.deletions=null,te.memoizedProps=xe.memoizedProps,te.memoizedState=xe.memoizedState,te.updateQueue=xe.updateQueue,te.type=xe.type,m=xe.dependencies,te.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext}),A=A.sibling;return nr(Nr,Nr.current&1|2),x.child}m=m.sibling}te.tail!==null&&ht()>Bh&&(x.flags|=128,L=!0,Sg(te,!1),x.lanes=4194304)}else{if(!L)if(m=P1(xe),m!==null){if(x.flags|=128,L=!0,A=m.updateQueue,A!==null&&(x.updateQueue=A,x.flags|=4),Sg(te,!0),te.tail===null&&te.tailMode==="hidden"&&!xe.alternate&&!br)return Zi(x),null}else 2*ht()-te.renderingStartTime>Bh&&A!==1073741824&&(x.flags|=128,L=!0,Sg(te,!1),x.lanes=4194304);te.isBackwards?(xe.sibling=x.child,x.child=xe):(A=te.last,A!==null?A.sibling=xe:x.child=xe,te.last=xe)}return te.tail!==null?(x=te.tail,te.rendering=x,te.tail=x.sibling,te.renderingStartTime=ht(),x.sibling=null,A=Nr.current,nr(Nr,L?A&1|2:A&1),x):(Zi(x),null);case 22:case 23:return wE(),L=x.memoizedState!==null,m!==null&&m.memoizedState!==null!==L&&(x.flags|=8192),L&&(x.mode&1)!==0?(ma&1073741824)!==0&&(Zi(x),x.subtreeFlags&6&&(x.flags|=8192)):Zi(x),null;case 24:return null;case 25:return null}throw Error(n(156,x.tag))}function LQ(m,x){switch(kT(x),x.tag){case 1:return Vs(x.type)&&w1(),m=x.flags,m&65536?(x.flags=m&-65537|128,x):null;case 3:return Uh(),fr(Bs),fr(Yi),zT(),m=x.flags,(m&65536)!==0&&(m&128)===0?(x.flags=m&-65537|128,x):null;case 5:return WT(x),null;case 13:if(fr(Nr),m=x.memoizedState,m!==null&&m.dehydrated!==null){if(x.alternate===null)throw Error(n(340));Rh()}return m=x.flags,m&65536?(x.flags=m&-65537|128,x):null;case 19:return fr(Nr),null;case 4:return Uh(),null;case 10:return OT(x.type._context),null;case 22:case 23:return wE(),null;case 24:return null;default:return null}}var W1=!1,es=!1,jQ=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function Lh(m,x){var A=m.ref;if(A!==null)if(typeof A=="function")try{A(null)}catch(L){Or(m,x,L)}else A.current=null}function uE(m,x,A){try{A()}catch(L){Or(m,x,L)}}var A5=!1;function BQ(m,x){if(wT=Oc,m=aR(),pT(m)){if("selectionStart"in m)var A={start:m.selectionStart,end:m.selectionEnd};else e:{A=(A=m.ownerDocument)&&A.defaultView||window;var L=A.getSelection&&A.getSelection();if(L&&L.rangeCount!==0){A=L.anchorNode;var H=L.anchorOffset,te=L.focusNode;L=L.focusOffset;try{A.nodeType,te.nodeType}catch{A=null;break e}var xe=0,Fe=-1,Be=-1,Qe=0,dt=0,mt=m,ct=null;t:for(;;){for(var It;mt!==A||H!==0&&mt.nodeType!==3||(Fe=xe+H),mt!==te||L!==0&&mt.nodeType!==3||(Be=xe+L),mt.nodeType===3&&(xe+=mt.nodeValue.length),(It=mt.firstChild)!==null;)ct=mt,mt=It;for(;;){if(mt===m)break t;if(ct===A&&++Qe===H&&(Fe=xe),ct===te&&++dt===L&&(Be=xe),(It=mt.nextSibling)!==null)break;mt=ct,ct=mt.parentNode}mt=It}A=Fe===-1||Be===-1?null:{start:Fe,end:Be}}else A=null}A=A||{start:0,end:0}}else A=null;for(TT={focusedElem:m,selectionRange:A},Oc=!1,Pt=x;Pt!==null;)if(x=Pt,m=x.child,(x.subtreeFlags&1028)!==0&&m!==null)m.return=x,Pt=m;else for(;Pt!==null;){x=Pt;try{var Mt=x.alternate;if((x.flags&1024)!==0)switch(x.tag){case 0:case 11:case 15:break;case 1:if(Mt!==null){var Lt=Mt.memoizedProps,Xr=Mt.memoizedState,$e=x.stateNode,We=$e.getSnapshotBeforeUpdate(x.elementType===x.type?Lt:vo(x.type,Lt),Xr);$e.__reactInternalSnapshotBeforeUpdate=We}break;case 3:var Xe=x.stateNode.containerInfo;Xe.nodeType===1?Xe.textContent="":Xe.nodeType===9&&Xe.documentElement&&Xe.removeChild(Xe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(vt){Or(x,x.return,vt)}if(m=x.sibling,m!==null){m.return=x.return,Pt=m;break}Pt=x.return}return Mt=A5,A5=!1,Mt}function Dg(m,x,A){var L=x.updateQueue;if(L=L!==null?L.lastEffect:null,L!==null){var H=L=L.next;do{if((H.tag&m)===m){var te=H.destroy;H.destroy=void 0,te!==void 0&&uE(x,A,te)}H=H.next}while(H!==L)}}function q1(m,x){if(x=x.updateQueue,x=x!==null?x.lastEffect:null,x!==null){var A=x=x.next;do{if((A.tag&m)===m){var L=A.create;A.destroy=L()}A=A.next}while(A!==x)}}function dE(m){var x=m.ref;if(x!==null){var A=m.stateNode;switch(m.tag){case 5:m=A;break;default:m=A}typeof x=="function"?x(m):x.current=m}}function N5(m){var x=m.alternate;x!==null&&(m.alternate=null,N5(x)),m.child=null,m.deletions=null,m.sibling=null,m.tag===5&&(x=m.stateNode,x!==null&&(delete x[Ko],delete x[gg],delete x[DT],delete x[wQ],delete x[TQ])),m.stateNode=null,m.return=null,m.dependencies=null,m.memoizedProps=null,m.memoizedState=null,m.pendingProps=null,m.stateNode=null,m.updateQueue=null}function I5(m){return m.tag===5||m.tag===3||m.tag===4}function k5(m){e:for(;;){for(;m.sibling===null;){if(m.return===null||I5(m.return))return null;m=m.return}for(m.sibling.return=m.return,m=m.sibling;m.tag!==5&&m.tag!==6&&m.tag!==18;){if(m.flags&2||m.child===null||m.tag===4)continue e;m.child.return=m,m=m.child}if(!(m.flags&2))return m.stateNode}}function fE(m,x,A){var L=m.tag;if(L===5||L===6)m=m.stateNode,x?A.nodeType===8?A.parentNode.insertBefore(m,x):A.insertBefore(m,x):(A.nodeType===8?(x=A.parentNode,x.insertBefore(m,A)):(x=A,x.appendChild(m)),A=A._reactRootContainer,A!=null||x.onclick!==null||(x.onclick=_1));else if(L!==4&&(m=m.child,m!==null))for(fE(m,x,A),m=m.sibling;m!==null;)fE(m,x,A),m=m.sibling}function hE(m,x,A){var L=m.tag;if(L===5||L===6)m=m.stateNode,x?A.insertBefore(m,x):A.appendChild(m);else if(L!==4&&(m=m.child,m!==null))for(hE(m,x,A),m=m.sibling;m!==null;)hE(m,x,A),m=m.sibling}var Vi=null,xo=!1;function $c(m,x,A){for(A=A.child;A!==null;)R5(m,x,A),A=A.sibling}function R5(m,x,A){if(Kr&&typeof Kr.onCommitFiberUnmount=="function")try{Kr.onCommitFiberUnmount(ca,A)}catch{}switch(A.tag){case 5:es||Lh(A,x);case 6:var L=Vi,H=xo;Vi=null,$c(m,x,A),Vi=L,xo=H,Vi!==null&&(xo?(m=Vi,A=A.stateNode,m.nodeType===8?m.parentNode.removeChild(A):m.removeChild(A)):Vi.removeChild(A.stateNode));break;case 18:Vi!==null&&(xo?(m=Vi,A=A.stateNode,m.nodeType===8?ST(m.parentNode,A):m.nodeType===1&&ST(m,A),po(m)):ST(Vi,A.stateNode));break;case 4:L=Vi,H=xo,Vi=A.stateNode.containerInfo,xo=!0,$c(m,x,A),Vi=L,xo=H;break;case 0:case 11:case 14:case 15:if(!es&&(L=A.updateQueue,L!==null&&(L=L.lastEffect,L!==null))){H=L=L.next;do{var te=H,xe=te.destroy;te=te.tag,xe!==void 0&&((te&2)!==0||(te&4)!==0)&&uE(A,x,xe),H=H.next}while(H!==L)}$c(m,x,A);break;case 1:if(!es&&(Lh(A,x),L=A.stateNode,typeof L.componentWillUnmount=="function"))try{L.props=A.memoizedProps,L.state=A.memoizedState,L.componentWillUnmount()}catch(Fe){Or(A,x,Fe)}$c(m,x,A);break;case 21:$c(m,x,A);break;case 22:A.mode&1?(es=(L=es)||A.memoizedState!==null,$c(m,x,A),es=L):$c(m,x,A);break;default:$c(m,x,A)}}function P5(m){var x=m.updateQueue;if(x!==null){m.updateQueue=null;var A=m.stateNode;A===null&&(A=m.stateNode=new jQ),x.forEach(function(L){var H=XQ.bind(null,m,L);A.has(L)||(A.add(L),L.then(H,H))})}}function _o(m,x){var A=x.deletions;if(A!==null)for(var L=0;L<A.length;L++){var H=A[L];try{var te=m,xe=x,Fe=xe;e:for(;Fe!==null;){switch(Fe.tag){case 5:Vi=Fe.stateNode,xo=!1;break e;case 3:Vi=Fe.stateNode.containerInfo,xo=!0;break e;case 4:Vi=Fe.stateNode.containerInfo,xo=!0;break e}Fe=Fe.return}if(Vi===null)throw Error(n(160));R5(te,xe,H),Vi=null,xo=!1;var Be=H.alternate;Be!==null&&(Be.return=null),H.return=null}catch(Qe){Or(H,x,Qe)}}if(x.subtreeFlags&12854)for(x=x.child;x!==null;)F5(x,m),x=x.sibling}function F5(m,x){var A=m.alternate,L=m.flags;switch(m.tag){case 0:case 11:case 14:case 15:if(_o(x,m),Yo(m),L&4){try{Dg(3,m,m.return),q1(3,m)}catch(Lt){Or(m,m.return,Lt)}try{Dg(5,m,m.return)}catch(Lt){Or(m,m.return,Lt)}}break;case 1:_o(x,m),Yo(m),L&512&&A!==null&&Lh(A,A.return);break;case 5:if(_o(x,m),Yo(m),L&512&&A!==null&&Lh(A,A.return),m.flags&32){var H=m.stateNode;try{Le(H,"")}catch(Lt){Or(m,m.return,Lt)}}if(L&4&&(H=m.stateNode,H!=null)){var te=m.memoizedProps,xe=A!==null?A.memoizedProps:te,Fe=m.type,Be=m.updateQueue;if(m.updateQueue=null,Be!==null)try{Fe==="input"&&te.type==="radio"&&te.name!=null&&be(H,te),lr(Fe,xe);var Qe=lr(Fe,te);for(xe=0;xe<Be.length;xe+=2){var dt=Be[xe],mt=Be[xe+1];dt==="style"?Vt(H,mt):dt==="dangerouslySetInnerHTML"?Ue(H,mt):dt==="children"?Le(H,mt):w(H,dt,mt,Qe)}switch(Fe){case"input":oe(H,te);break;case"textarea":ge(H,te);break;case"select":var ct=H._wrapperState.wasMultiple;H._wrapperState.wasMultiple=!!te.multiple;var It=te.value;It!=null?_e(H,!!te.multiple,It,!1):ct!==!!te.multiple&&(te.defaultValue!=null?_e(H,!!te.multiple,te.defaultValue,!0):_e(H,!!te.multiple,te.multiple?[]:"",!1))}H[gg]=te}catch(Lt){Or(m,m.return,Lt)}}break;case 6:if(_o(x,m),Yo(m),L&4){if(m.stateNode===null)throw Error(n(162));H=m.stateNode,te=m.memoizedProps;try{H.nodeValue=te}catch(Lt){Or(m,m.return,Lt)}}break;case 3:if(_o(x,m),Yo(m),L&4&&A!==null&&A.memoizedState.isDehydrated)try{po(x.containerInfo)}catch(Lt){Or(m,m.return,Lt)}break;case 4:_o(x,m),Yo(m);break;case 13:_o(x,m),Yo(m),H=m.child,H.flags&8192&&(te=H.memoizedState!==null,H.stateNode.isHidden=te,!te||H.alternate!==null&&H.alternate.memoizedState!==null||(gE=ht())),L&4&&P5(m);break;case 22:if(dt=A!==null&&A.memoizedState!==null,m.mode&1?(es=(Qe=es)||dt,_o(x,m),es=Qe):_o(x,m),Yo(m),L&8192){if(Qe=m.memoizedState!==null,(m.stateNode.isHidden=Qe)&&!dt&&(m.mode&1)!==0)for(Pt=m,dt=m.child;dt!==null;){for(mt=Pt=dt;Pt!==null;){switch(ct=Pt,It=ct.child,ct.tag){case 0:case 11:case 14:case 15:Dg(4,ct,ct.return);break;case 1:Lh(ct,ct.return);var Mt=ct.stateNode;if(typeof Mt.componentWillUnmount=="function"){L=ct,A=ct.return;try{x=L,Mt.props=x.memoizedProps,Mt.state=x.memoizedState,Mt.componentWillUnmount()}catch(Lt){Or(L,A,Lt)}}break;case 5:Lh(ct,ct.return);break;case 22:if(ct.memoizedState!==null){O5(mt);continue}}It!==null?(It.return=ct,Pt=It):O5(mt)}dt=dt.sibling}e:for(dt=null,mt=m;;){if(mt.tag===5){if(dt===null){dt=mt;try{H=mt.stateNode,Qe?(te=H.style,typeof te.setProperty=="function"?te.setProperty("display","none","important"):te.display="none"):(Fe=mt.stateNode,Be=mt.memoizedProps.style,xe=Be!=null&&Be.hasOwnProperty("display")?Be.display:null,Fe.style.display=it("display",xe))}catch(Lt){Or(m,m.return,Lt)}}}else if(mt.tag===6){if(dt===null)try{mt.stateNode.nodeValue=Qe?"":mt.memoizedProps}catch(Lt){Or(m,m.return,Lt)}}else if((mt.tag!==22&&mt.tag!==23||mt.memoizedState===null||mt===m)&&mt.child!==null){mt.child.return=mt,mt=mt.child;continue}if(mt===m)break e;for(;mt.sibling===null;){if(mt.return===null||mt.return===m)break e;dt===mt&&(dt=null),mt=mt.return}dt===mt&&(dt=null),mt.sibling.return=mt.return,mt=mt.sibling}}break;case 19:_o(x,m),Yo(m),L&4&&P5(m);break;case 21:break;default:_o(x,m),Yo(m)}}function Yo(m){var x=m.flags;if(x&2){try{e:{for(var A=m.return;A!==null;){if(I5(A)){var L=A;break e}A=A.return}throw Error(n(160))}switch(L.tag){case 5:var H=L.stateNode;L.flags&32&&(Le(H,""),L.flags&=-33);var te=k5(m);hE(m,te,H);break;case 3:case 4:var xe=L.stateNode.containerInfo,Fe=k5(m);fE(m,Fe,xe);break;default:throw Error(n(161))}}catch(Be){Or(m,m.return,Be)}m.flags&=-3}x&4096&&(m.flags&=-4097)}function VQ(m,x,A){Pt=m,M5(m)}function M5(m,x,A){for(var L=(m.mode&1)!==0;Pt!==null;){var H=Pt,te=H.child;if(H.tag===22&&L){var xe=H.memoizedState!==null||W1;if(!xe){var Fe=H.alternate,Be=Fe!==null&&Fe.memoizedState!==null||es;Fe=W1;var Qe=es;if(W1=xe,(es=Be)&&!Qe)for(Pt=H;Pt!==null;)xe=Pt,Be=xe.child,xe.tag===22&&xe.memoizedState!==null?L5(H):Be!==null?(Be.return=xe,Pt=Be):L5(H);for(;te!==null;)Pt=te,M5(te),te=te.sibling;Pt=H,W1=Fe,es=Qe}U5(m)}else(H.subtreeFlags&8772)!==0&&te!==null?(te.return=H,Pt=te):U5(m)}}function U5(m){for(;Pt!==null;){var x=Pt;if((x.flags&8772)!==0){var A=x.alternate;try{if((x.flags&8772)!==0)switch(x.tag){case 0:case 11:case 15:es||q1(5,x);break;case 1:var L=x.stateNode;if(x.flags&4&&!es)if(A===null)L.componentDidMount();else{var H=x.elementType===x.type?A.memoizedProps:vo(x.type,A.memoizedProps);L.componentDidUpdate(H,A.memoizedState,L.__reactInternalSnapshotBeforeUpdate)}var te=x.updateQueue;te!==null&&OR(x,te,L);break;case 3:var xe=x.updateQueue;if(xe!==null){if(A=null,x.child!==null)switch(x.child.tag){case 5:A=x.child.stateNode;break;case 1:A=x.child.stateNode}OR(x,xe,A)}break;case 5:var Fe=x.stateNode;if(A===null&&x.flags&4){A=Fe;var Be=x.memoizedProps;switch(x.type){case"button":case"input":case"select":case"textarea":Be.autoFocus&&A.focus();break;case"img":Be.src&&(A.src=Be.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(x.memoizedState===null){var Qe=x.alternate;if(Qe!==null){var dt=Qe.memoizedState;if(dt!==null){var mt=dt.dehydrated;mt!==null&&po(mt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}es||x.flags&512&&dE(x)}catch(ct){Or(x,x.return,ct)}}if(x===m){Pt=null;break}if(A=x.sibling,A!==null){A.return=x.return,Pt=A;break}Pt=x.return}}function O5(m){for(;Pt!==null;){var x=Pt;if(x===m){Pt=null;break}var A=x.sibling;if(A!==null){A.return=x.return,Pt=A;break}Pt=x.return}}function L5(m){for(;Pt!==null;){var x=Pt;try{switch(x.tag){case 0:case 11:case 15:var A=x.return;try{q1(4,x)}catch(Be){Or(x,A,Be)}break;case 1:var L=x.stateNode;if(typeof L.componentDidMount=="function"){var H=x.return;try{L.componentDidMount()}catch(Be){Or(x,H,Be)}}var te=x.return;try{dE(x)}catch(Be){Or(x,te,Be)}break;case 5:var xe=x.return;try{dE(x)}catch(Be){Or(x,xe,Be)}}}catch(Be){Or(x,x.return,Be)}if(x===m){Pt=null;break}var Fe=x.sibling;if(Fe!==null){Fe.return=x.return,Pt=Fe;break}Pt=x.return}}var WQ=Math.ceil,z1=C.ReactCurrentDispatcher,pE=C.ReactCurrentOwner,Oa=C.ReactCurrentBatchConfig,Cn=0,Ci=null,si=null,Wi=0,ma=0,jh=Vc(0),pi=0,Ag=null,Ed=0,H1=0,mE=0,Ng=null,qs=null,gE=0,Bh=1/0,ql=null,$1=!1,yE=null,Gc=null,G1=!1,Kc=null,K1=0,Ig=0,vE=null,X1=-1,J1=0;function Cs(){return(Cn&6)!==0?ht():X1!==-1?X1:X1=ht()}function Xc(m){return(m.mode&1)===0?1:(Cn&2)!==0&&Wi!==0?Wi&-Wi:CQ.transition!==null?(J1===0&&(J1=fd()),J1):(m=bn,m!==0||(m=window.event,m=m===void 0?16:ig(m.type)),m)}function bo(m,x,A,L){if(50<Ig)throw Ig=0,vE=null,Error(n(185));Pc(m,A,L),((Cn&2)===0||m!==Ci)&&(m===Ci&&((Cn&2)===0&&(H1|=A),pi===4&&Jc(m,Wi)),zs(m,L),A===1&&Cn===0&&(x.mode&1)===0&&(Bh=ht()+500,E1&&qc()))}function zs(m,x){var A=m.callbackNode;kl(m,x);var L=dd(m,m===Ci?Wi:0);if(L===0)A!==null&&_t(A),m.callbackNode=null,m.callbackPriority=0;else if(x=L&-L,m.callbackPriority!==x){if(A!=null&&_t(A),x===1)m.tag===0?EQ(B5.bind(null,m)):CR(B5.bind(null,m)),_Q(function(){(Cn&6)===0&&qc()}),A=null;else{switch(Mc(L)){case 1:A=Mn;break;case 4:A=An;break;case 16:A=Bn;break;case 536870912:A=Wo;break;default:A=Bn}A=K5(A,j5.bind(null,m))}m.callbackPriority=x,m.callbackNode=A}}function j5(m,x){if(X1=-1,J1=0,(Cn&6)!==0)throw Error(n(327));var A=m.callbackNode;if(Vh()&&m.callbackNode!==A)return null;var L=dd(m,m===Ci?Wi:0);if(L===0)return null;if((L&30)!==0||(L&m.expiredLanes)!==0||x)x=Y1(m,L);else{x=L;var H=Cn;Cn|=2;var te=W5();(Ci!==m||Wi!==x)&&(ql=null,Bh=ht()+500,Sd(m,x));do try{HQ();break}catch(Fe){V5(m,Fe)}while(!0);UT(),z1.current=te,Cn=H,si!==null?x=0:(Ci=null,Wi=0,x=pi)}if(x!==0){if(x===2&&(H=ua(m),H!==0&&(L=H,x=xE(m,H))),x===1)throw A=Ag,Sd(m,0),Jc(m,L),zs(m,ht()),A;if(x===6)Jc(m,L);else{if(H=m.current.alternate,(L&30)===0&&!qQ(H)&&(x=Y1(m,L),x===2&&(te=ua(m),te!==0&&(L=te,x=xE(m,te))),x===1))throw A=Ag,Sd(m,0),Jc(m,L),zs(m,ht()),A;switch(m.finishedWork=H,m.finishedLanes=L,x){case 0:case 1:throw Error(n(345));case 2:Dd(m,qs,ql);break;case 3:if(Jc(m,L),(L&130023424)===L&&(x=gE+500-ht(),10<x)){if(dd(m,0)!==0)break;if(H=m.suspendedLanes,(H&L)!==L){Cs(),m.pingedLanes|=m.suspendedLanes&H;break}m.timeoutHandle=CT(Dd.bind(null,m,qs,ql),x);break}Dd(m,qs,ql);break;case 4:if(Jc(m,L),(L&4194240)===L)break;for(x=m.eventTimes,H=-1;0<L;){var xe=31-ur(L);te=1<<xe,xe=x[xe],xe>H&&(H=xe),L&=~te}if(L=H,L=ht()-L,L=(120>L?120:480>L?480:1080>L?1080:1920>L?1920:3e3>L?3e3:4320>L?4320:1960*WQ(L/1960))-L,10<L){m.timeoutHandle=CT(Dd.bind(null,m,qs,ql),L);break}Dd(m,qs,ql);break;case 5:Dd(m,qs,ql);break;default:throw Error(n(329))}}}return zs(m,ht()),m.callbackNode===A?j5.bind(null,m):null}function xE(m,x){var A=Ng;return m.current.memoizedState.isDehydrated&&(Sd(m,x).flags|=256),m=Y1(m,x),m!==2&&(x=qs,qs=A,x!==null&&_E(x)),m}function _E(m){qs===null?qs=m:qs.push.apply(qs,m)}function qQ(m){for(var x=m;;){if(x.flags&16384){var A=x.updateQueue;if(A!==null&&(A=A.stores,A!==null))for(var L=0;L<A.length;L++){var H=A[L],te=H.getSnapshot;H=H.value;try{if(!go(te(),H))return!1}catch{return!1}}}if(A=x.child,x.subtreeFlags&16384&&A!==null)A.return=x,x=A;else{if(x===m)break;for(;x.sibling===null;){if(x.return===null||x.return===m)return!0;x=x.return}x.sibling.return=x.return,x=x.sibling}}return!0}function Jc(m,x){for(x&=~mE,x&=~H1,m.suspendedLanes|=x,m.pingedLanes&=~x,m=m.expirationTimes;0<x;){var A=31-ur(x),L=1<<A;m[A]=-1,x&=~L}}function B5(m){if((Cn&6)!==0)throw Error(n(327));Vh();var x=dd(m,0);if((x&1)===0)return zs(m,ht()),null;var A=Y1(m,x);if(m.tag!==0&&A===2){var L=ua(m);L!==0&&(x=L,A=xE(m,L))}if(A===1)throw A=Ag,Sd(m,0),Jc(m,x),zs(m,ht()),A;if(A===6)throw Error(n(345));return m.finishedWork=m.current.alternate,m.finishedLanes=x,Dd(m,qs,ql),zs(m,ht()),null}function bE(m,x){var A=Cn;Cn|=1;try{return m(x)}finally{Cn=A,Cn===0&&(Bh=ht()+500,E1&&qc())}}function Cd(m){Kc!==null&&Kc.tag===0&&(Cn&6)===0&&Vh();var x=Cn;Cn|=1;var A=Oa.transition,L=bn;try{if(Oa.transition=null,bn=1,m)return m()}finally{bn=L,Oa.transition=A,Cn=x,(Cn&6)===0&&qc()}}function wE(){ma=jh.current,fr(jh)}function Sd(m,x){m.finishedWork=null,m.finishedLanes=0;var A=m.timeoutHandle;if(A!==-1&&(m.timeoutHandle=-1,xQ(A)),si!==null)for(A=si.return;A!==null;){var L=A;switch(kT(L),L.tag){case 1:L=L.type.childContextTypes,L!=null&&w1();break;case 3:Uh(),fr(Bs),fr(Yi),zT();break;case 5:WT(L);break;case 4:Uh();break;case 13:fr(Nr);break;case 19:fr(Nr);break;case 10:OT(L.type._context);break;case 22:case 23:wE()}A=A.return}if(Ci=m,si=m=Yc(m.current,null),Wi=ma=x,pi=0,Ag=null,mE=H1=Ed=0,qs=Ng=null,bd!==null){for(x=0;x<bd.length;x++)if(A=bd[x],L=A.interleaved,L!==null){A.interleaved=null;var H=L.next,te=A.pending;if(te!==null){var xe=te.next;te.next=H,L.next=xe}A.pending=L}bd=null}return m}function V5(m,x){do{var A=si;try{if(UT(),F1.current=L1,M1){for(var L=Ir.memoizedState;L!==null;){var H=L.queue;H!==null&&(H.pending=null),L=L.next}M1=!1}if(Td=0,Ei=hi=Ir=null,wg=!1,Tg=0,pE.current=null,A===null||A.return===null){pi=1,Ag=x,si=null;break}e:{var te=m,xe=A.return,Fe=A,Be=x;if(x=Wi,Fe.flags|=32768,Be!==null&&typeof Be=="object"&&typeof Be.then=="function"){var Qe=Be,dt=Fe,mt=dt.tag;if((dt.mode&1)===0&&(mt===0||mt===11||mt===15)){var ct=dt.alternate;ct?(dt.updateQueue=ct.updateQueue,dt.memoizedState=ct.memoizedState,dt.lanes=ct.lanes):(dt.updateQueue=null,dt.memoizedState=null)}var It=f5(xe);if(It!==null){It.flags&=-257,h5(It,xe,Fe,te,x),It.mode&1&&d5(te,Qe,x),x=It,Be=Qe;var Mt=x.updateQueue;if(Mt===null){var Lt=new Set;Lt.add(Be),x.updateQueue=Lt}else Mt.add(Be);break e}else{if((x&1)===0){d5(te,Qe,x),TE();break e}Be=Error(n(426))}}else if(br&&Fe.mode&1){var Xr=f5(xe);if(Xr!==null){(Xr.flags&65536)===0&&(Xr.flags|=256),h5(Xr,xe,Fe,te,x),FT(Oh(Be,Fe));break e}}te=Be=Oh(Be,Fe),pi!==4&&(pi=2),Ng===null?Ng=[te]:Ng.push(te),te=xe;do{switch(te.tag){case 3:te.flags|=65536,x&=-x,te.lanes|=x;var $e=c5(te,Be,x);UR(te,$e);break e;case 1:Fe=Be;var We=te.type,Xe=te.stateNode;if((te.flags&128)===0&&(typeof We.getDerivedStateFromError=="function"||Xe!==null&&typeof Xe.componentDidCatch=="function"&&(Gc===null||!Gc.has(Xe)))){te.flags|=65536,x&=-x,te.lanes|=x;var vt=u5(te,Fe,x);UR(te,vt);break e}}te=te.return}while(te!==null)}z5(A)}catch(jt){x=jt,si===A&&A!==null&&(si=A=A.return);continue}break}while(!0)}function W5(){var m=z1.current;return z1.current=L1,m===null?L1:m}function TE(){(pi===0||pi===3||pi===2)&&(pi=4),Ci===null||(Ed&268435455)===0&&(H1&268435455)===0||Jc(Ci,Wi)}function Y1(m,x){var A=Cn;Cn|=2;var L=W5();(Ci!==m||Wi!==x)&&(ql=null,Sd(m,x));do try{zQ();break}catch(H){V5(m,H)}while(!0);if(UT(),Cn=A,z1.current=L,si!==null)throw Error(n(261));return Ci=null,Wi=0,pi}function zQ(){for(;si!==null;)q5(si)}function HQ(){for(;si!==null&&!At();)q5(si)}function q5(m){var x=G5(m.alternate,m,ma);m.memoizedProps=m.pendingProps,x===null?z5(m):si=x,pE.current=null}function z5(m){var x=m;do{var A=x.alternate;if(m=x.return,(x.flags&32768)===0){if(A=OQ(A,x,ma),A!==null){si=A;return}}else{if(A=LQ(A,x),A!==null){A.flags&=32767,si=A;return}if(m!==null)m.flags|=32768,m.subtreeFlags=0,m.deletions=null;else{pi=6,si=null;return}}if(x=x.sibling,x!==null){si=x;return}si=x=m}while(x!==null);pi===0&&(pi=5)}function Dd(m,x,A){var L=bn,H=Oa.transition;try{Oa.transition=null,bn=1,$Q(m,x,A,L)}finally{Oa.transition=H,bn=L}return null}function $Q(m,x,A,L){do Vh();while(Kc!==null);if((Cn&6)!==0)throw Error(n(327));A=m.finishedWork;var H=m.finishedLanes;if(A===null)return null;if(m.finishedWork=null,m.finishedLanes=0,A===m.current)throw Error(n(177));m.callbackNode=null,m.callbackPriority=0;var te=A.lanes|A.childLanes;if(Zn(m,te),m===Ci&&(si=Ci=null,Wi=0),(A.subtreeFlags&2064)===0&&(A.flags&2064)===0||G1||(G1=!0,K5(Bn,function(){return Vh(),null})),te=(A.flags&15990)!==0,(A.subtreeFlags&15990)!==0||te){te=Oa.transition,Oa.transition=null;var xe=bn;bn=1;var Fe=Cn;Cn|=4,pE.current=null,BQ(m,A),F5(A,m),fQ(TT),Oc=!!wT,TT=wT=null,m.current=A,VQ(A),gt(),Cn=Fe,bn=xe,Oa.transition=te}else m.current=A;if(G1&&(G1=!1,Kc=m,K1=H),te=m.pendingLanes,te===0&&(Gc=null),Ic(A.stateNode),zs(m,ht()),x!==null)for(L=m.onRecoverableError,A=0;A<x.length;A++)H=x[A],L(H.value,{componentStack:H.stack,digest:H.digest});if($1)throw $1=!1,m=yE,yE=null,m;return(K1&1)!==0&&m.tag!==0&&Vh(),te=m.pendingLanes,(te&1)!==0?m===vE?Ig++:(Ig=0,vE=m):Ig=0,qc(),null}function Vh(){if(Kc!==null){var m=Mc(K1),x=Oa.transition,A=bn;try{if(Oa.transition=null,bn=16>m?16:m,Kc===null)var L=!1;else{if(m=Kc,Kc=null,K1=0,(Cn&6)!==0)throw Error(n(331));var H=Cn;for(Cn|=4,Pt=m.current;Pt!==null;){var te=Pt,xe=te.child;if((Pt.flags&16)!==0){var Fe=te.deletions;if(Fe!==null){for(var Be=0;Be<Fe.length;Be++){var Qe=Fe[Be];for(Pt=Qe;Pt!==null;){var dt=Pt;switch(dt.tag){case 0:case 11:case 15:Dg(8,dt,te)}var mt=dt.child;if(mt!==null)mt.return=dt,Pt=mt;else for(;Pt!==null;){dt=Pt;var ct=dt.sibling,It=dt.return;if(N5(dt),dt===Qe){Pt=null;break}if(ct!==null){ct.return=It,Pt=ct;break}Pt=It}}}var Mt=te.alternate;if(Mt!==null){var Lt=Mt.child;if(Lt!==null){Mt.child=null;do{var Xr=Lt.sibling;Lt.sibling=null,Lt=Xr}while(Lt!==null)}}Pt=te}}if((te.subtreeFlags&2064)!==0&&xe!==null)xe.return=te,Pt=xe;else e:for(;Pt!==null;){if(te=Pt,(te.flags&2048)!==0)switch(te.tag){case 0:case 11:case 15:Dg(9,te,te.return)}var $e=te.sibling;if($e!==null){$e.return=te.return,Pt=$e;break e}Pt=te.return}}var We=m.current;for(Pt=We;Pt!==null;){xe=Pt;var Xe=xe.child;if((xe.subtreeFlags&2064)!==0&&Xe!==null)Xe.return=xe,Pt=Xe;else e:for(xe=We;Pt!==null;){if(Fe=Pt,(Fe.flags&2048)!==0)try{switch(Fe.tag){case 0:case 11:case 15:q1(9,Fe)}}catch(jt){Or(Fe,Fe.return,jt)}if(Fe===xe){Pt=null;break e}var vt=Fe.sibling;if(vt!==null){vt.return=Fe.return,Pt=vt;break e}Pt=Fe.return}}if(Cn=H,qc(),Kr&&typeof Kr.onPostCommitFiberRoot=="function")try{Kr.onPostCommitFiberRoot(ca,m)}catch{}L=!0}return L}finally{bn=A,Oa.transition=x}}return!1}function H5(m,x,A){x=Oh(A,x),x=c5(m,x,1),m=Hc(m,x,1),x=Cs(),m!==null&&(Pc(m,1,x),zs(m,x))}function Or(m,x,A){if(m.tag===3)H5(m,m,A);else for(;x!==null;){if(x.tag===3){H5(x,m,A);break}else if(x.tag===1){var L=x.stateNode;if(typeof x.type.getDerivedStateFromError=="function"||typeof L.componentDidCatch=="function"&&(Gc===null||!Gc.has(L))){m=Oh(A,m),m=u5(x,m,1),x=Hc(x,m,1),m=Cs(),x!==null&&(Pc(x,1,m),zs(x,m));break}}x=x.return}}function GQ(m,x,A){var L=m.pingCache;L!==null&&L.delete(x),x=Cs(),m.pingedLanes|=m.suspendedLanes&A,Ci===m&&(Wi&A)===A&&(pi===4||pi===3&&(Wi&130023424)===Wi&&500>ht()-gE?Sd(m,0):mE|=A),zs(m,x)}function $5(m,x){x===0&&((m.mode&1)===0?x=1:(x=uh,uh<<=1,(uh&130023424)===0&&(uh=4194304)));var A=Cs();m=Bl(m,x),m!==null&&(Pc(m,x,A),zs(m,A))}function KQ(m){var x=m.memoizedState,A=0;x!==null&&(A=x.retryLane),$5(m,A)}function XQ(m,x){var A=0;switch(m.tag){case 13:var L=m.stateNode,H=m.memoizedState;H!==null&&(A=H.retryLane);break;case 19:L=m.stateNode;break;default:throw Error(n(314))}L!==null&&L.delete(x),$5(m,A)}var G5;G5=function(m,x,A){if(m!==null)if(m.memoizedProps!==x.pendingProps||Bs.current)Ws=!0;else{if((m.lanes&A)===0&&(x.flags&128)===0)return Ws=!1,UQ(m,x,A);Ws=(m.flags&131072)!==0}else Ws=!1,br&&(x.flags&1048576)!==0&&SR(x,S1,x.index);switch(x.lanes=0,x.tag){case 2:var L=x.type;V1(m,x),m=x.pendingProps;var H=Nh(x,Yi.current);Mh(x,A),H=GT(null,x,L,m,H,A);var te=KT();return x.flags|=1,typeof H=="object"&&H!==null&&typeof H.render=="function"&&H.$$typeof===void 0?(x.tag=1,x.memoizedState=null,x.updateQueue=null,Vs(L)?(te=!0,T1(x)):te=!1,x.memoizedState=H.state!==null&&H.state!==void 0?H.state:null,BT(x),H.updater=j1,x.stateNode=H,H._reactInternals=x,eE(x,L,m,A),x=iE(null,x,L,!0,te,A)):(x.tag=0,br&&te&&IT(x),Es(null,x,H,A),x=x.child),x;case 16:L=x.elementType;e:{switch(V1(m,x),m=x.pendingProps,H=L._init,L=H(L._payload),x.type=L,H=x.tag=YQ(L),m=vo(L,m),H){case 0:x=rE(null,x,L,m,A);break e;case 1:x=x5(null,x,L,m,A);break e;case 11:x=p5(null,x,L,m,A);break e;case 14:x=m5(null,x,L,vo(L.type,m),A);break e}throw Error(n(306,L,""))}return x;case 0:return L=x.type,H=x.pendingProps,H=x.elementType===L?H:vo(L,H),rE(m,x,L,H,A);case 1:return L=x.type,H=x.pendingProps,H=x.elementType===L?H:vo(L,H),x5(m,x,L,H,A);case 3:e:{if(_5(x),m===null)throw Error(n(387));L=x.pendingProps,te=x.memoizedState,H=te.element,MR(m,x),R1(x,L,null,A);var xe=x.memoizedState;if(L=xe.element,te.isDehydrated)if(te={element:L,isDehydrated:!1,cache:xe.cache,pendingSuspenseBoundaries:xe.pendingSuspenseBoundaries,transitions:xe.transitions},x.updateQueue.baseState=te,x.memoizedState=te,x.flags&256){H=Oh(Error(n(423)),x),x=b5(m,x,L,A,H);break e}else if(L!==H){H=Oh(Error(n(424)),x),x=b5(m,x,L,A,H);break e}else for(pa=Bc(x.stateNode.containerInfo.firstChild),ha=x,br=!0,yo=null,A=PR(x,null,L,A),x.child=A;A;)A.flags=A.flags&-3|4096,A=A.sibling;else{if(Rh(),L===H){x=Wl(m,x,A);break e}Es(m,x,L,A)}x=x.child}return x;case 5:return LR(x),m===null&&PT(x),L=x.type,H=x.pendingProps,te=m!==null?m.memoizedProps:null,xe=H.children,ET(L,H)?xe=null:te!==null&&ET(L,te)&&(x.flags|=32),v5(m,x),Es(m,x,xe,A),x.child;case 6:return m===null&&PT(x),null;case 13:return w5(m,x,A);case 4:return VT(x,x.stateNode.containerInfo),L=x.pendingProps,m===null?x.child=Ph(x,null,L,A):Es(m,x,L,A),x.child;case 11:return L=x.type,H=x.pendingProps,H=x.elementType===L?H:vo(L,H),p5(m,x,L,H,A);case 7:return Es(m,x,x.pendingProps,A),x.child;case 8:return Es(m,x,x.pendingProps.children,A),x.child;case 12:return Es(m,x,x.pendingProps.children,A),x.child;case 10:e:{if(L=x.type._context,H=x.pendingProps,te=x.memoizedProps,xe=H.value,nr(N1,L._currentValue),L._currentValue=xe,te!==null)if(go(te.value,xe)){if(te.children===H.children&&!Bs.current){x=Wl(m,x,A);break e}}else for(te=x.child,te!==null&&(te.return=x);te!==null;){var Fe=te.dependencies;if(Fe!==null){xe=te.child;for(var Be=Fe.firstContext;Be!==null;){if(Be.context===L){if(te.tag===1){Be=Vl(-1,A&-A),Be.tag=2;var Qe=te.updateQueue;if(Qe!==null){Qe=Qe.shared;var dt=Qe.pending;dt===null?Be.next=Be:(Be.next=dt.next,dt.next=Be),Qe.pending=Be}}te.lanes|=A,Be=te.alternate,Be!==null&&(Be.lanes|=A),LT(te.return,A,x),Fe.lanes|=A;break}Be=Be.next}}else if(te.tag===10)xe=te.type===x.type?null:te.child;else if(te.tag===18){if(xe=te.return,xe===null)throw Error(n(341));xe.lanes|=A,Fe=xe.alternate,Fe!==null&&(Fe.lanes|=A),LT(xe,A,x),xe=te.sibling}else xe=te.child;if(xe!==null)xe.return=te;else for(xe=te;xe!==null;){if(xe===x){xe=null;break}if(te=xe.sibling,te!==null){te.return=xe.return,xe=te;break}xe=xe.return}te=xe}Es(m,x,H.children,A),x=x.child}return x;case 9:return H=x.type,L=x.pendingProps.children,Mh(x,A),H=Ma(H),L=L(H),x.flags|=1,Es(m,x,L,A),x.child;case 14:return L=x.type,H=vo(L,x.pendingProps),H=vo(L.type,H),m5(m,x,L,H,A);case 15:return g5(m,x,x.type,x.pendingProps,A);case 17:return L=x.type,H=x.pendingProps,H=x.elementType===L?H:vo(L,H),V1(m,x),x.tag=1,Vs(L)?(m=!0,T1(x)):m=!1,Mh(x,A),o5(x,L,H),eE(x,L,H,A),iE(null,x,L,!0,m,A);case 19:return E5(m,x,A);case 22:return y5(m,x,A)}throw Error(n(156,x.tag))};function K5(m,x){return ft(m,x)}function JQ(m,x,A,L){this.tag=m,this.key=A,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=x,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=L,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function La(m,x,A,L){return new JQ(m,x,A,L)}function EE(m){return m=m.prototype,!(!m||!m.isReactComponent)}function YQ(m){if(typeof m=="function")return EE(m)?1:0;if(m!=null){if(m=m.$$typeof,m===I)return 11;if(m===K)return 14}return 2}function Yc(m,x){var A=m.alternate;return A===null?(A=La(m.tag,x,m.key,m.mode),A.elementType=m.elementType,A.type=m.type,A.stateNode=m.stateNode,A.alternate=m,m.alternate=A):(A.pendingProps=x,A.type=m.type,A.flags=0,A.subtreeFlags=0,A.deletions=null),A.flags=m.flags&14680064,A.childLanes=m.childLanes,A.lanes=m.lanes,A.child=m.child,A.memoizedProps=m.memoizedProps,A.memoizedState=m.memoizedState,A.updateQueue=m.updateQueue,x=m.dependencies,A.dependencies=x===null?null:{lanes:x.lanes,firstContext:x.firstContext},A.sibling=m.sibling,A.index=m.index,A.ref=m.ref,A}function Q1(m,x,A,L,H,te){var xe=2;if(L=m,typeof m=="function")EE(m)&&(xe=1);else if(typeof m=="string")xe=5;else e:switch(m){case D:return Ad(A.children,H,te,x);case N:xe=8,H|=8;break;case k:return m=La(12,A,x,H|2),m.elementType=k,m.lanes=te,m;case U:return m=La(13,A,x,H),m.elementType=U,m.lanes=te,m;case O:return m=La(19,A,x,H),m.elementType=O,m.lanes=te,m;case J:return Z1(A,H,te,x);default:if(typeof m=="object"&&m!==null)switch(m.$$typeof){case F:xe=10;break e;case P:xe=9;break e;case I:xe=11;break e;case K:xe=14;break e;case X:xe=16,L=null;break e}throw Error(n(130,m==null?m:typeof m,""))}return x=La(xe,A,x,H),x.elementType=m,x.type=L,x.lanes=te,x}function Ad(m,x,A,L){return m=La(7,m,L,x),m.lanes=A,m}function Z1(m,x,A,L){return m=La(22,m,L,x),m.elementType=J,m.lanes=A,m.stateNode={isHidden:!1},m}function CE(m,x,A){return m=La(6,m,null,x),m.lanes=A,m}function SE(m,x,A){return x=La(4,m.children!==null?m.children:[],m.key,x),x.lanes=A,x.stateNode={containerInfo:m.containerInfo,pendingChildren:null,implementation:m.implementation},x}function QQ(m,x,A,L,H){this.tag=x,this.containerInfo=m,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rc(0),this.expirationTimes=Rc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rc(0),this.identifierPrefix=L,this.onRecoverableError=H,this.mutableSourceEagerHydrationData=null}function DE(m,x,A,L,H,te,xe,Fe,Be){return m=new QQ(m,x,A,Fe,Be),x===1?(x=1,te===!0&&(x|=8)):x=0,te=La(3,null,null,x),m.current=te,te.stateNode=m,te.memoizedState={element:L,isDehydrated:A,cache:null,transitions:null,pendingSuspenseBoundaries:null},BT(te),m}function ZQ(m,x,A){var L=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:L==null?null:""+L,children:m,containerInfo:x,implementation:A}}function X5(m){if(!m)return Wc;m=m._reactInternals;e:{if(Re(m)!==m||m.tag!==1)throw Error(n(170));var x=m;do{switch(x.tag){case 3:x=x.stateNode.context;break e;case 1:if(Vs(x.type)){x=x.stateNode.__reactInternalMemoizedMergedChildContext;break e}}x=x.return}while(x!==null);throw Error(n(171))}if(m.tag===1){var A=m.type;if(Vs(A))return TR(m,A,x)}return x}function J5(m,x,A,L,H,te,xe,Fe,Be){return m=DE(A,L,!0,m,H,te,xe,Fe,Be),m.context=X5(null),A=m.current,L=Cs(),H=Xc(A),te=Vl(L,H),te.callback=x??null,Hc(A,te,H),m.current.lanes=H,Pc(m,H,L),zs(m,L),m}function ex(m,x,A,L){var H=x.current,te=Cs(),xe=Xc(H);return A=X5(A),x.context===null?x.context=A:x.pendingContext=A,x=Vl(te,xe),x.payload={element:m},L=L===void 0?null:L,L!==null&&(x.callback=L),m=Hc(H,x,xe),m!==null&&(bo(m,H,xe,te),k1(m,H,xe)),xe}function tx(m){if(m=m.current,!m.child)return null;switch(m.child.tag){case 5:return m.child.stateNode;default:return m.child.stateNode}}function Y5(m,x){if(m=m.memoizedState,m!==null&&m.dehydrated!==null){var A=m.retryLane;m.retryLane=A!==0&&A<x?A:x}}function AE(m,x){Y5(m,x),(m=m.alternate)&&Y5(m,x)}function eZ(){return null}var Q5=typeof reportError=="function"?reportError:function(m){console.error(m)};function NE(m){this._internalRoot=m}nx.prototype.render=NE.prototype.render=function(m){var x=this._internalRoot;if(x===null)throw Error(n(409));ex(m,x,null,null)},nx.prototype.unmount=NE.prototype.unmount=function(){var m=this._internalRoot;if(m!==null){this._internalRoot=null;var x=m.containerInfo;Cd(function(){ex(null,m,null,null)}),x[Ul]=null}};function nx(m){this._internalRoot=m}nx.prototype.unstable_scheduleHydration=function(m){if(m){var x=n1();m={blockedOn:null,target:m,priority:x};for(var A=0;A<zo.length&&x!==0&&x<zo[A].priority;A++);zo.splice(A,0,m),A===0&&s1(m)}};function IE(m){return!(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)}function rx(m){return!(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11&&(m.nodeType!==8||m.nodeValue!==" react-mount-point-unstable "))}function Z5(){}function tZ(m,x,A,L,H){if(H){if(typeof L=="function"){var te=L;L=function(){var Qe=tx(xe);te.call(Qe)}}var xe=J5(x,L,m,0,null,!1,!1,"",Z5);return m._reactRootContainer=xe,m[Ul]=xe.current,pg(m.nodeType===8?m.parentNode:m),Cd(),xe}for(;H=m.lastChild;)m.removeChild(H);if(typeof L=="function"){var Fe=L;L=function(){var Qe=tx(Be);Fe.call(Qe)}}var Be=DE(m,0,!1,null,null,!1,!1,"",Z5);return m._reactRootContainer=Be,m[Ul]=Be.current,pg(m.nodeType===8?m.parentNode:m),Cd(function(){ex(x,Be,A,L)}),Be}function ix(m,x,A,L,H){var te=A._reactRootContainer;if(te){var xe=te;if(typeof H=="function"){var Fe=H;H=function(){var Be=tx(xe);Fe.call(Be)}}ex(x,xe,m,H)}else xe=tZ(A,x,m,H,L);return tx(xe)}e1=function(m){switch(m.tag){case 3:var x=m.stateNode;if(x.current.memoizedState.isDehydrated){var A=kc(x.pendingLanes);A!==0&&(Fc(x,A|1),zs(x,ht()),(Cn&6)===0&&(Bh=ht()+500,qc()))}break;case 13:Cd(function(){var L=Bl(m,1);if(L!==null){var H=Cs();bo(L,m,1,H)}}),AE(m,1)}},dh=function(m){if(m.tag===13){var x=Bl(m,134217728);if(x!==null){var A=Cs();bo(x,m,134217728,A)}AE(m,134217728)}},t1=function(m){if(m.tag===13){var x=Xc(m),A=Bl(m,x);if(A!==null){var L=Cs();bo(A,m,x,L)}AE(m,x)}},n1=function(){return bn},r1=function(m,x){var A=bn;try{return bn=m,x()}finally{bn=A}},cr=function(m,x,A){switch(x){case"input":if(oe(m,A),x=A.name,A.type==="radio"&&x!=null){for(A=m;A.parentNode;)A=A.parentNode;for(A=A.querySelectorAll("input[name="+JSON.stringify(""+x)+'][type="radio"]'),x=0;x<A.length;x++){var L=A[x];if(L!==m&&L.form===m.form){var H=b1(L);if(!H)throw Error(n(90));me(L),oe(L,H)}}}break;case"textarea":ge(m,A);break;case"select":x=A.value,x!=null&&_e(m,!!A.multiple,x,!1)}},ke=bE,Ve=Cd;var nZ={usingClientEntryPoint:!1,Events:[yg,Dh,b1,we,Me,bE]},kg={findFiberByHostInstance:yd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rZ={bundleType:kg.bundleType,version:kg.version,rendererPackageName:kg.rendererPackageName,rendererConfig:kg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(m){return m=Je(m),m===null?null:m.stateNode},findFiberByHostInstance:kg.findFiberByHostInstance||eZ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sx.isDisabled&&sx.supportsFiber)try{ca=sx.inject(rZ),Kr=sx}catch{}}return Hs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nZ,Hs.createPortal=function(m,x){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!IE(x))throw Error(n(200));return ZQ(m,x,null,A)},Hs.createRoot=function(m,x){if(!IE(m))throw Error(n(299));var A=!1,L="",H=Q5;return x!=null&&(x.unstable_strictMode===!0&&(A=!0),x.identifierPrefix!==void 0&&(L=x.identifierPrefix),x.onRecoverableError!==void 0&&(H=x.onRecoverableError)),x=DE(m,1,!1,null,null,A,!1,L,H),m[Ul]=x.current,pg(m.nodeType===8?m.parentNode:m),new NE(x)},Hs.findDOMNode=function(m){if(m==null)return null;if(m.nodeType===1)return m;var x=m._reactInternals;if(x===void 0)throw typeof m.render=="function"?Error(n(188)):(m=Object.keys(m).join(","),Error(n(268,m)));return m=Je(x),m=m===null?null:m.stateNode,m},Hs.flushSync=function(m){return Cd(m)},Hs.hydrate=function(m,x,A){if(!rx(x))throw Error(n(200));return ix(null,m,x,!0,A)},Hs.hydrateRoot=function(m,x,A){if(!IE(m))throw Error(n(405));var L=A!=null&&A.hydratedSources||null,H=!1,te="",xe=Q5;if(A!=null&&(A.unstable_strictMode===!0&&(H=!0),A.identifierPrefix!==void 0&&(te=A.identifierPrefix),A.onRecoverableError!==void 0&&(xe=A.onRecoverableError)),x=J5(x,null,m,1,A??null,H,!1,te,xe),m[Ul]=x.current,pg(m),L)for(m=0;m<L.length;m++)A=L[m],H=A._getVersion,H=H(A._source),x.mutableSourceEagerHydrationData==null?x.mutableSourceEagerHydrationData=[A,H]:x.mutableSourceEagerHydrationData.push(A,H);return new nx(x)},Hs.render=function(m,x,A){if(!rx(x))throw Error(n(200));return ix(null,m,x,!1,A)},Hs.unmountComponentAtNode=function(m){if(!rx(m))throw Error(n(40));return m._reactRootContainer?(Cd(function(){ix(null,null,m,!1,function(){m._reactRootContainer=null,m[Ul]=null})}),!0):!1},Hs.unstable_batchedUpdates=bE,Hs.unstable_renderSubtreeIntoContainer=function(m,x,A,L){if(!rx(A))throw Error(n(200));if(m==null||m._reactInternals===void 0)throw Error(n(38));return ix(m,x,A,!1,L)},Hs.version="18.3.1-next-f1338f8080-20240426",Hs}var oP;function bB(){if(oP)return PE.exports;oP=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),PE.exports=dZ(),PE.exports}var lP;function fZ(){if(lP)return ax;lP=1;var t=bB();return ax.createRoot=t.createRoot,ax.hydrateRoot=t.hydrateRoot,ax}var hZ=fZ();const pZ=tb(hZ);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var cP="popstate";function mZ(t={}){function e(r,i){let{pathname:s,search:a,hash:o}=r.location;return wA("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Z0(i)}return yZ(e,n,null,t)}function Sr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ro(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gZ(){return Math.random().toString(36).substring(2,10)}function uP(t,e){return{usr:t.state,key:t.key,idx:e}}function wA(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?xm(e):e,state:n,key:e&&e.key||r||gZ()}}function Z0({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function xm(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function yZ(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o="POP",l=null,c=u();c==null&&(c=0,a.replaceState({...a.state,idx:c},""));function u(){return(a.state||{idx:null}).idx}function f(){o="POP";let y=u(),b=y==null?null:y-c;c=y,l&&l({action:o,location:g.location,delta:b})}function h(y,b){o="PUSH";let _=wA(g.location,y,b);c=u()+1;let w=uP(_,c),C=g.createHref(_);try{a.pushState(w,"",C)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(C)}s&&l&&l({action:o,location:g.location,delta:1})}function p(y,b){o="REPLACE";let _=wA(g.location,y,b);c=u();let w=uP(_,c),C=g.createHref(_);a.replaceState(w,"",C),s&&l&&l({action:o,location:g.location,delta:0})}function v(y){return vZ(y)}let g={get action(){return o},get location(){return t(i,a)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(cP,f),l=y,()=>{i.removeEventListener(cP,f),l=null}},createHref(y){return e(i,y)},createURL:v,encodeLocation(y){let b=v(y);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:p,go(y){return a.go(y)}};return g}function vZ(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Sr(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Z0(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function wB(t,e,n="/"){return xZ(t,e,n,!1)}function xZ(t,e,n,r){let i=typeof e=="string"?xm(e):e,s=lc(i.pathname||"/",n);if(s==null)return null;let a=TB(t);_Z(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=kZ(s);o=NZ(a[l],c,r)}return o}function TB(t,e=[],n=[],r="",i=!1){let s=(a,o,l=i,c)=>{let u={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(r)&&l)return;Sr(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length)}let f=Zl([r,u.relativePath]),h=n.concat(u);a.children&&a.children.length>0&&(Sr(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),TB(a.children,e,h,f,l)),!(a.path==null&&!a.index)&&e.push({path:f,score:DZ(f,a.index),routesMeta:h})};return t.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let c of EB(a.path))s(a,o,!0,c)}),e}function EB(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=EB(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function _Z(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:AZ(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var bZ=/^:[\w-]+$/,wZ=3,TZ=2,EZ=1,CZ=10,SZ=-2,dP=t=>t==="*";function DZ(t,e){let n=t.split("/"),r=n.length;return n.some(dP)&&(r+=SZ),e&&(r+=TZ),n.filter(i=>!dP(i)).reduce((i,s)=>i+(bZ.test(s)?wZ:s===""?EZ:CZ),r)}function AZ(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function NZ(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",f=W2({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=W2({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:Zl([s,f.pathname]),pathnameBase:MZ(Zl([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=Zl([s,f.pathnameBase]))}return a}function W2(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=IZ(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,{paramName:u,isOptional:f},h)=>{if(u==="*"){let v=o[h]||"";a=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const p=o[h];return f&&!p?c[u]=void 0:c[u]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function IZ(t,e=!1,n=!0){ro(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function kZ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ro(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function lc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function RZ(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?xm(t):t;return{pathname:n?n.startsWith("/")?n:PZ(n,e):e,search:UZ(r),hash:OZ(i)}}function PZ(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function UE(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function FZ(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function gN(t){let e=FZ(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function yN(t,e,n,r=!1){let i;typeof t=="string"?i=xm(t):(i={...t},Sr(!i.pathname||!i.pathname.includes("?"),UE("?","pathname","search",i)),Sr(!i.pathname||!i.pathname.includes("#"),UE("#","pathname","hash",i)),Sr(!i.search||!i.search.includes("#"),UE("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}o=f>=0?e[f]:"/"}let l=RZ(i,o),c=a&&a!=="/"&&a.endsWith("/"),u=(s||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var Zl=t=>t.join("/").replace(/\/\/+/g,"/"),MZ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),UZ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,OZ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function LZ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var CB=["POST","PUT","PATCH","DELETE"];new Set(CB);var jZ=["GET",...CB];new Set(jZ);var _m=q.createContext(null);_m.displayName="DataRouter";var rb=q.createContext(null);rb.displayName="DataRouterState";q.createContext(!1);var SB=q.createContext({isTransitioning:!1});SB.displayName="ViewTransition";var BZ=q.createContext(new Map);BZ.displayName="Fetchers";var VZ=q.createContext(null);VZ.displayName="Await";var jo=q.createContext(null);jo.displayName="Navigation";var iv=q.createContext(null);iv.displayName="Location";var ao=q.createContext({outlet:null,matches:[],isDataRoute:!1});ao.displayName="Route";var vN=q.createContext(null);vN.displayName="RouteError";function WZ(t,{relative:e}={}){Sr(bm(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=q.useContext(jo),{hash:i,pathname:s,search:a}=sv(t,{relative:e}),o=s;return n!=="/"&&(o=s==="/"?n:Zl([n,s])),r.createHref({pathname:o,search:a,hash:i})}function bm(){return q.useContext(iv)!=null}function Dr(){return Sr(bm(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(iv).location}var DB="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function AB(t){q.useContext(jo).static||q.useLayoutEffect(t)}function bi(){let{isDataRoute:t}=q.useContext(ao);return t?ree():qZ()}function qZ(){Sr(bm(),"useNavigate() may be used only in the context of a <Router> component.");let t=q.useContext(_m),{basename:e,navigator:n}=q.useContext(jo),{matches:r}=q.useContext(ao),{pathname:i}=Dr(),s=JSON.stringify(gN(r)),a=q.useRef(!1);return AB(()=>{a.current=!0}),q.useCallback((l,c={})=>{if(ro(a.current,DB),!a.current)return;if(typeof l=="number"){n.go(l);return}let u=yN(l,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:Zl([e,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[e,n,s,i,t])}var zZ=q.createContext(null);function HZ(t){let e=q.useContext(ao).outlet;return e&&q.createElement(zZ.Provider,{value:t},e)}function ia(){let{matches:t}=q.useContext(ao),e=t[t.length-1];return e?e.params:{}}function sv(t,{relative:e}={}){let{matches:n}=q.useContext(ao),{pathname:r}=Dr(),i=JSON.stringify(gN(n));return q.useMemo(()=>yN(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function $Z(t,e){return NB(t,e)}function NB(t,e,n,r,i){var _;Sr(bm(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=q.useContext(jo),{matches:a}=q.useContext(ao),o=a[a.length-1],l=o?o.params:{},c=o?o.pathname:"/",u=o?o.pathnameBase:"/",f=o&&o.route;{let w=f&&f.path||"";IB(c,!f||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let h=Dr(),p;if(e){let w=typeof e=="string"?xm(e):e;Sr(u==="/"||((_=w.pathname)==null?void 0:_.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${w.pathname}" was given in the \`location\` prop.`),p=w}else p=h;let v=p.pathname||"/",g=v;if(u!=="/"){let w=u.replace(/^\//,"").split("/");g="/"+v.replace(/^\//,"").split("/").slice(w.length).join("/")}let y=wB(t,{pathname:g});ro(f||y!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),ro(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=YZ(y&&y.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:Zl([u,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?u:Zl([u,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),a,n,r,i);return e&&b?q.createElement(iv.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},b):b}function GZ(){let t=nee(),e=LZ(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=q.createElement(q.Fragment,null,q.createElement("p",null," Hey developer "),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:s},"ErrorBoundary")," or"," ",q.createElement("code",{style:s},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),n?q.createElement("pre",{style:i},n):null,a)}var KZ=q.createElement(GZ,null),XZ=class extends q.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?q.createElement(ao.Provider,{value:this.props.routeContext},q.createElement(vN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function JZ({routeContext:t,match:e,children:n}){let r=q.useContext(_m);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(ao.Provider,{value:t},n)}function YZ(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=n==null?void 0:n.errors;if(a!=null){let c=s.findIndex(u=>u.route.id&&(a==null?void 0:a[u.route.id])!==void 0);Sr(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,c+1))}let o=!1,l=-1;if(n)for(let c=0;c<s.length;c++){let u=s[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=c),u.route.id){let{loaderData:f,errors:h}=n,p=u.route.loader&&!f.hasOwnProperty(u.route.id)&&(!h||h[u.route.id]===void 0);if(u.route.lazy||p){o=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((c,u,f)=>{let h,p=!1,v=null,g=null;n&&(h=a&&u.route.id?a[u.route.id]:void 0,v=u.route.errorElement||KZ,o&&(l<0&&f===0?(IB("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,g=null):l===f&&(p=!0,g=u.route.hydrateFallbackElement||null)));let y=e.concat(s.slice(0,f+1)),b=()=>{let _;return h?_=v:p?_=g:u.route.Component?_=q.createElement(u.route.Component,null):u.route.element?_=u.route.element:_=c,q.createElement(JZ,{match:u,routeContext:{outlet:c,matches:y,isDataRoute:n!=null},children:_})};return n&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?q.createElement(XZ,{location:n.location,revalidation:n.revalidation,component:v,error:h,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0},unstable_onError:r}):b()},null)}function xN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QZ(t){let e=q.useContext(_m);return Sr(e,xN(t)),e}function ZZ(t){let e=q.useContext(rb);return Sr(e,xN(t)),e}function eee(t){let e=q.useContext(ao);return Sr(e,xN(t)),e}function _N(t){let e=eee(t),n=e.matches[e.matches.length-1];return Sr(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function tee(){return _N("useRouteId")}function nee(){var r;let t=q.useContext(vN),e=ZZ("useRouteError"),n=_N("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function ree(){let{router:t}=QZ("useNavigate"),e=_N("useNavigate"),n=q.useRef(!1);return AB(()=>{n.current=!0}),q.useCallback(async(i,s={})=>{ro(n.current,DB),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var fP={};function IB(t,e,n){!e&&!fP[t]&&(fP[t]=!0,ro(!1,n))}q.memo(iee);function iee({routes:t,future:e,state:n,unstable_onError:r}){return NB(t,void 0,n,r,e)}function fp({to:t,replace:e,state:n,relative:r}){Sr(bm(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=q.useContext(jo);ro(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=q.useContext(ao),{pathname:a}=Dr(),o=bi(),l=yN(t,gN(s),a,r==="path"),c=JSON.stringify(l);return q.useEffect(()=>{o(JSON.parse(c),{replace:e,state:n,relative:r})},[o,c,r,e,n]),null}function bN(t){return HZ(t.context)}function Ht(t){Sr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function see({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Sr(!bm(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),o=q.useMemo(()=>({basename:a,navigator:i,static:s,future:{}}),[a,i,s]);typeof n=="string"&&(n=xm(n));let{pathname:l="/",search:c="",hash:u="",state:f=null,key:h="default"}=n,p=q.useMemo(()=>{let v=lc(l,a);return v==null?null:{location:{pathname:v,search:c,hash:u,state:f,key:h},navigationType:r}},[a,l,c,u,f,h,r]);return ro(p!=null,`<Router basename="${a}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:q.createElement(jo.Provider,{value:o},q.createElement(iv.Provider,{children:e,value:p}))}function aee({children:t,location:e}){return $Z(TA(t),e)}function TA(t,e=[]){let n=[];return q.Children.forEach(t,(r,i)=>{if(!q.isValidElement(r))return;let s=[...e,i];if(r.type===q.Fragment){n.push.apply(n,TA(r.props.children,s));return}Sr(r.type===Ht,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Sr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=TA(r.props.children,s)),n.push(a)}),n}var Qx="get",Zx="application/x-www-form-urlencoded";function ib(t){return t!=null&&typeof t.tagName=="string"}function oee(t){return ib(t)&&t.tagName.toLowerCase()==="button"}function lee(t){return ib(t)&&t.tagName.toLowerCase()==="form"}function cee(t){return ib(t)&&t.tagName.toLowerCase()==="input"}function uee(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function dee(t,e){return t.button===0&&(!e||e==="_self")&&!uee(t)}function EA(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function fee(t,e){let n=EA(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(s=>{n.append(i,s)})}),n}var ox=null;function hee(){if(ox===null)try{new FormData(document.createElement("form"),0),ox=!1}catch{ox=!0}return ox}var pee=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function OE(t){return t!=null&&!pee.has(t)?(ro(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zx}"`),null):t}function mee(t,e){let n,r,i,s,a;if(lee(t)){let o=t.getAttribute("action");r=o?lc(o,e):null,n=t.getAttribute("method")||Qx,i=OE(t.getAttribute("enctype"))||Zx,s=new FormData(t)}else if(oee(t)||cee(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||o.getAttribute("action");if(r=l?lc(l,e):null,n=t.getAttribute("formmethod")||o.getAttribute("method")||Qx,i=OE(t.getAttribute("formenctype"))||OE(o.getAttribute("enctype"))||Zx,s=new FormData(o,t),!hee()){let{name:c,type:u,value:f}=t;if(u==="image"){let h=c?`${c}.`:"";s.append(`${h}x`,"0"),s.append(`${h}y`,"0")}else c&&s.append(c,f)}}else{if(ib(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Qx,r=null,i=Zx,a=t}return s&&i==="text/plain"&&(a=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function wN(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function gee(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&lc(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function yee(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vee(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function xee(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await yee(s,n);return a.links?a.links():[]}return[]}));return Tee(r.flat(1).filter(vee).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function hP(t,e,n,r,i,s){let a=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,o=(l,c)=>{var u;return n[c].pathname!==l.pathname||((u=n[c].route.path)==null?void 0:u.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,c)=>a(l,c)||o(l,c)):s==="data"?e.filter((l,c)=>{var f;let u=r.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(a(l,c)||o(l,c))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function _ee(t,e,{includeHydrateFallback:n}={}){return bee(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function bee(t){return[...new Set(t)]}function wee(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Tee(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(wee(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function kB(){let t=q.useContext(_m);return wN(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Eee(){let t=q.useContext(rb);return wN(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var TN=q.createContext(void 0);TN.displayName="FrameworkContext";function RB(){let t=q.useContext(TN);return wN(t,"You must render this element inside a <HydratedRouter> element"),t}function Cee(t,e){let n=q.useContext(TN),[r,i]=q.useState(!1),[s,a]=q.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:f}=e,h=q.useRef(null);q.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let g=b=>{b.forEach(_=>{a(_.isIntersecting)})},y=new IntersectionObserver(g,{threshold:.5});return h.current&&y.observe(h.current),()=>{y.disconnect()}}},[t]),q.useEffect(()=>{if(r){let g=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(g)}}},[r]);let p=()=>{i(!0)},v=()=>{i(!1),a(!1)};return n?t!=="intent"?[s,h,{}]:[s,h,{onFocus:Pg(o,p),onBlur:Pg(l,v),onMouseEnter:Pg(c,p),onMouseLeave:Pg(u,v),onTouchStart:Pg(f,p)}]:[!1,h,{}]}function Pg(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function See({page:t,...e}){let{router:n}=kB(),r=q.useMemo(()=>wB(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?q.createElement(Aee,{page:t,matches:r,...e}):null}function Dee(t){let{manifest:e,routeModules:n}=RB(),[r,i]=q.useState([]);return q.useEffect(()=>{let s=!1;return xee(t,e,n).then(a=>{s||i(a)}),()=>{s=!0}},[t,e,n]),r}function Aee({page:t,matches:e,...n}){let r=Dr(),{manifest:i,routeModules:s}=RB(),{basename:a}=kB(),{loaderData:o,matches:l}=Eee(),c=q.useMemo(()=>hP(t,e,l,i,r,"data"),[t,e,l,i,r]),u=q.useMemo(()=>hP(t,e,l,i,r,"assets"),[t,e,l,i,r]),f=q.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let v=new Set,g=!1;if(e.forEach(b=>{var w;let _=i.routes[b.route.id];!_||!_.hasLoader||(!c.some(C=>C.route.id===b.route.id)&&b.route.id in o&&((w=s[b.route.id])!=null&&w.shouldRevalidate)||_.hasClientLoader?g=!0:v.add(b.route.id))}),v.size===0)return[];let y=gee(t,a,"data");return g&&v.size>0&&y.searchParams.set("_routes",e.filter(b=>v.has(b.route.id)).map(b=>b.route.id).join(",")),[y.pathname+y.search]},[a,o,r,i,c,e,t,s]),h=q.useMemo(()=>_ee(u,i),[u,i]),p=Dee(u);return q.createElement(q.Fragment,null,f.map(v=>q.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),h.map(v=>q.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),p.map(({key:v,link:g})=>q.createElement("link",{key:v,nonce:n.nonce,...g})))}function Nee(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var PB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{PB&&(window.__reactRouterVersion="7.8.2")}catch{}function Iee({basename:t,children:e,window:n}){let r=q.useRef();r.current==null&&(r.current=mZ({window:n,v5Compat:!0}));let i=r.current,[s,a]=q.useState({action:i.action,location:i.location}),o=q.useCallback(l=>{q.startTransition(()=>a(l))},[a]);return q.useLayoutEffect(()=>i.listen(o),[i,o]),q.createElement(see,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var FB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tn=q.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:u,viewTransition:f,...h},p){let{basename:v}=q.useContext(jo),g=typeof c=="string"&&FB.test(c),y,b=!1;if(typeof c=="string"&&g&&(y=c,PB))try{let k=new URL(window.location.href),F=c.startsWith("//")?new URL(k.protocol+c):new URL(c),P=lc(F.pathname,v);F.origin===k.origin&&P!=null?c=P+F.search+F.hash:b=!0}catch{ro(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=WZ(c,{relative:i}),[w,C,S]=Cee(r,h),R=Pee(c,{replace:a,state:o,target:l,preventScrollReset:u,relative:i,viewTransition:f});function D(k){e&&e(k),k.defaultPrevented||R(k)}let N=q.createElement("a",{...h,...S,href:y||_,onClick:b||s?e:D,ref:Nee(p,C),target:l,"data-discover":!g&&n==="render"?"true":void 0});return w&&!g?q.createElement(q.Fragment,null,N,q.createElement(See,{page:_})):N});tn.displayName="Link";var Xn=q.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:a,viewTransition:o,children:l,...c},u){let f=sv(a,{relative:c.relative}),h=Dr(),p=q.useContext(rb),{navigator:v,basename:g}=q.useContext(jo),y=p!=null&&jee(f)&&o===!0,b=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,_=h.pathname,w=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(_=_.toLowerCase(),w=w?w.toLowerCase():null,b=b.toLowerCase()),w&&g&&(w=lc(w,g)||w);const C=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let S=_===b||!i&&_.startsWith(b)&&_.charAt(C)==="/",R=w!=null&&(w===b||!i&&w.startsWith(b)&&w.charAt(b.length)==="/"),D={isActive:S,isPending:R,isTransitioning:y},N=S?e:void 0,k;typeof r=="function"?k=r(D):k=[r,S?"active":null,R?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let F=typeof s=="function"?s(D):s;return q.createElement(tn,{...c,"aria-current":N,className:k,ref:u,style:F,to:a,viewTransition:o},typeof l=="function"?l(D):l)});Xn.displayName="NavLink";var kee=q.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:a=Qx,action:o,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:f,...h},p)=>{let v=Oee(),g=Lee(o,{relative:c}),y=a.toLowerCase()==="get"?"get":"post",b=typeof o=="string"&&FB.test(o),_=w=>{if(l&&l(w),w.defaultPrevented)return;w.preventDefault();let C=w.nativeEvent.submitter,S=(C==null?void 0:C.getAttribute("formmethod"))||a;v(C||w.currentTarget,{fetcherKey:e,method:S,navigate:n,replace:i,state:s,relative:c,preventScrollReset:u,viewTransition:f})};return q.createElement("form",{ref:p,method:y,action:g,onSubmit:r?l:_,...h,"data-discover":!b&&t==="render"?"true":void 0})});kee.displayName="Form";function Ree(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function MB(t){let e=q.useContext(_m);return Sr(e,Ree(t)),e}function Pee(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:a}={}){let o=bi(),l=Dr(),c=sv(t,{relative:s});return q.useCallback(u=>{if(dee(u,e)){u.preventDefault();let f=n!==void 0?n:Z0(l)===Z0(c);o(t,{replace:f,state:r,preventScrollReset:i,relative:s,viewTransition:a})}},[l,o,c,n,r,e,t,i,s,a])}function Fee(t){ro(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=q.useRef(EA(t)),n=q.useRef(!1),r=Dr(),i=q.useMemo(()=>fee(r.search,n.current?null:e.current),[r.search]),s=bi(),a=q.useCallback((o,l)=>{const c=EA(typeof o=="function"?o(new URLSearchParams(i)):o);n.current=!0,s("?"+c,l)},[s,i]);return[i,a]}var Mee=0,Uee=()=>`__${String(++Mee)}__`;function Oee(){let{router:t}=MB("useSubmit"),{basename:e}=q.useContext(jo),n=tee();return q.useCallback(async(r,i={})=>{let{action:s,method:a,encType:o,formData:l,body:c}=mee(r,e);if(i.navigate===!1){let u=i.fetcherKey||Uee();await t.fetch(u,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function Lee(t,{relative:e}={}){let{basename:n}=q.useContext(jo),r=q.useContext(ao);Sr(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...sv(t||".",{relative:e})},a=Dr();if(t==null){s.search=a.search;let o=new URLSearchParams(s.search),l=o.getAll("index");if(l.some(u=>u==="")){o.delete("index"),l.filter(f=>f).forEach(f=>o.append("index",f));let u=o.toString();s.search=u?`?${u}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Zl([n,s.pathname])),Z0(s)}function jee(t,{relative:e}={}){let n=q.useContext(SB);Sr(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=MB("useViewTransitionState"),i=sv(t,{relative:e});if(!n.isTransitioning)return!1;let s=lc(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=lc(n.nextLocation.pathname,r)||n.nextLocation.pathname;return W2(i.pathname,a)!=null||W2(i.pathname,s)!=null}const Bee=()=>{};var pP={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UB={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yt=function(t,e){if(!t)throw wm(e)},wm=function(t){return new Error("Firebase Database ("+UB.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OB=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Vee=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],o=t[n++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},EN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,f=(s&3)<<4|o>>4;let h=(o&15)<<2|c>>6,p=c&63;l||(p=64,a||(h=64)),r.push(n[u],n[f],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(OB(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Vee(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||o==null||c==null||f==null)throw new Wee;const h=s<<2|o>>4;if(r.push(h),c!==64){const p=o<<4&240|c>>2;if(r.push(p),f!==64){const v=c<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Wee extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LB=function(t){const e=OB(t);return EN.encodeByteArray(e,!0)},q2=function(t){return LB(t).replace(/\./g,"")},ey=function(t){try{return EN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qee(t){return ty(void 0,t)}function ty(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!zee(n)||(t[n]=ty(t[n],e[n]));return t}function zee(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hee=()=>CN().__FIREBASE_DEFAULTS__,$ee=()=>{if(typeof process>"u"||typeof pP>"u")return;const t=pP.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Gee=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ey(t[1]);return e&&JSON.parse(e)},sb=()=>{try{return Bee()||Hee()||$ee()||Gee()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Kee=t=>{var e,n;return(n=(e=sb())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},Xee=t=>{const e=Kee(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},SN=()=>{var t;return(t=sb())==null?void 0:t.config},Jee=t=>{var e;return(e=sb())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ab(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[q2(JSON.stringify(n)),q2(JSON.stringify(a)),""].join(".")}const b0={};function Yee(){const t={prod:[],emulator:[]};for(const e of Object.keys(b0))b0[e]?t.emulator.push(e):t.prod.push(e);return t}function Qee(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let mP=!1;function ob(t,e){if(typeof window>"u"||typeof document>"u"||!Dl(window.location.host)||b0[t]===e||b0[t]||mP)return;b0[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",s=Yee().prod.length>0;function a(){const h=document.getElementById(r);h&&h.remove()}function o(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{mP=!0,a()},h}function u(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=Qee(r),p=n("text"),v=document.getElementById(p)||document.createElement("span"),g=n("learnmore"),y=document.getElementById(g)||document.createElement("a"),b=n("preprendIcon"),_=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const w=h.element;o(w),u(y,g);const C=c();l(_,b),w.append(_,v,y,C),document.body.appendChild(w)}s?(v.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function AN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fr())}function lb(){var e;const t=(e=sb())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Zee(){return typeof window<"u"||jB()}function jB(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function ete(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function BB(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function cb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VB(){const t=Fr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function tte(){return UB.NODE_ADMIN===!0}function WB(){return!lb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qB(){return!lb()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function ny(){try{return typeof indexedDB=="object"}catch{return!1}}function nte(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rte="FirebaseError";class ps extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=rte,Object.setPrototypeOf(this,ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jf.prototype.create)}}class jf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?ite(s,r):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new ps(i,o,r)}}function ite(t,e){return t.replace(ste,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const ste=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(t){return JSON.parse(t)}function mi(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zB=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=ry(ey(s[0])||""),n=ry(ey(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},ate=function(t){const e=zB(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},ote=function(t){const e=zB(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sa(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ff(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function z2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function H2(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function cc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(gP(s)&&gP(a)){if(!cc(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function gP(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function hp(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function c0(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lte{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)r[f]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)r[f]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let f=16;f<80;f++){const h=r[f-3]^r[f-8]^r[f-14]^r[f-16];r[f]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],a=this.chain_[2],o=this.chain_[3],l=this.chain_[4],c,u;for(let f=0;f<80;f++){f<40?f<20?(c=o^s&(a^o),u=1518500249):(c=s^a^o,u=1859775393):f<60?(c=s&a|o&(s|a),u=2400959708):(c=s^a^o,u=3395469782);const h=(i<<5|i>>>27)+c+l+u+r[f]&4294967295;l=o,o=a,a=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+o&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let a=this.inbuf_;for(;i<n;){if(a===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[a]=e.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}else for(;i<n;)if(s[a]=e[i],++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function HB(t,e){const n=new cte(t,e);return n.subscribe.bind(n)}class cte{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ute(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=LE),i.error===void 0&&(i.error=LE),i.complete===void 0&&(i.complete=LE);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ute(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function LE(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt=function(t,e,n,r){let i;if(r<e?i="at least "+e:r>n&&(i=n===0?"none":"no more than "+n),i){const s=t+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(s)}};function Zs(t,e){return`${t} failed: ${e} argument `}function ki(t,e,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(Zs(t,e)+"must be a valid function.")}function yP(t,e,n,r){if(n&&(typeof n!="object"||n===null))throw new Error(Zs(t,e)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dte=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,yt(r<t.length,"Surrogate pair missing trail surrogate.");const a=t.charCodeAt(r)-56320;i=65536+(s<<10)+a}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},ub=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(t){return t&&t._delegate?t._delegate:t}class Ms{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Ks;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hte(e))try{this.getOrInitializeService({instanceIdentifier:Ud})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ud){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ud){return this.instances.has(e)}getOptions(e=Ud){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);r===o&&a.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:fte(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ud){return this.component?this.component.multipleInstances?e:Ud:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fte(t){return t===Ud?void 0:t}function hte(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new CA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=[];var gn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(gn||(gn={}));const $B={debug:gn.DEBUG,verbose:gn.VERBOSE,info:gn.INFO,warn:gn.WARN,error:gn.ERROR,silent:gn.SILENT},pte=gn.INFO,mte={[gn.DEBUG]:"log",[gn.VERBOSE]:"log",[gn.INFO]:"info",[gn.WARN]:"warn",[gn.ERROR]:"error"},gte=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=mte[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tm{constructor(e){this.name=e,this._logLevel=pte,this._logHandler=gte,this._userLogHandler=null,IN.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in gn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$B[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,gn.DEBUG,...e),this._logHandler(this,gn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,gn.VERBOSE,...e),this._logHandler(this,gn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,gn.INFO,...e),this._logHandler(this,gn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,gn.WARN,...e),this._logHandler(this,gn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,gn.ERROR,...e),this._logHandler(this,gn.ERROR,...e)}}function yte(t){IN.forEach(e=>{e.setLogLevel(t)})}function vte(t,e){for(const n of IN){let r=null;e&&e.level&&(r=$B[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...a)=>{const o=a.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");s>=(r??i.logLevel)&&t({level:gn[s].toLowerCase(),message:o,args:a,type:i.name})}}}const xte=(t,e)=>e.some(n=>t instanceof n);let vP,xP;function _te(){return vP||(vP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bte(){return xP||(xP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GB=new WeakMap,SA=new WeakMap,KB=new WeakMap,jE=new WeakMap,kN=new WeakMap;function wte(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(vu(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&GB.set(n,t)}).catch(()=>{}),kN.set(e,t),e}function Tte(t){if(SA.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});SA.set(t,e)}let DA={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return SA.get(t);if(e==="objectStoreNames")return t.objectStoreNames||KB.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vu(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Ete(t){DA=t(DA)}function Cte(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(BE(this),e,...n);return KB.set(r,e.sort?e.sort():[e]),vu(r)}:bte().includes(t)?function(...e){return t.apply(BE(this),e),vu(GB.get(this))}:function(...e){return vu(t.apply(BE(this),e))}}function Ste(t){return typeof t=="function"?Cte(t):(t instanceof IDBTransaction&&Tte(t),xte(t,_te())?new Proxy(t,DA):t)}function vu(t){if(t instanceof IDBRequest)return wte(t);if(jE.has(t))return jE.get(t);const e=Ste(t);return e!==t&&(jE.set(t,e),kN.set(e,t)),e}const BE=t=>kN.get(t);function Dte(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=vu(a);return r&&a.addEventListener("upgradeneeded",l=>{r(vu(a.result),l.oldVersion,l.newVersion,vu(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const Ate=["get","getKey","getAll","getAllKeys","count"],Nte=["put","add","delete","clear"],VE=new Map;function _P(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(VE.get(e))return VE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Nte.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Ate.includes(n)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),i&&l.done]))[0]};return VE.set(e,s),s}Ete(t=>({...t,get:(e,n,r)=>_P(e,n)||t.get(e,n,r),has:(e,n)=>!!_P(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ite{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kte(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function kte(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $2="@firebase/app",AA="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc=new Tm("@firebase/app"),Rte="@firebase/app-compat",Pte="@firebase/analytics-compat",Fte="@firebase/analytics",Mte="@firebase/app-check-compat",Ute="@firebase/app-check",Ote="@firebase/auth",Lte="@firebase/auth-compat",jte="@firebase/database",Bte="@firebase/data-connect",Vte="@firebase/database-compat",Wte="@firebase/functions",qte="@firebase/functions-compat",zte="@firebase/installations",Hte="@firebase/installations-compat",$te="@firebase/messaging",Gte="@firebase/messaging-compat",Kte="@firebase/performance",Xte="@firebase/performance-compat",Jte="@firebase/remote-config",Yte="@firebase/remote-config-compat",Qte="@firebase/storage",Zte="@firebase/storage-compat",ene="@firebase/firestore",tne="@firebase/ai",nne="@firebase/firestore-compat",rne="firebase",ine="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Au="[DEFAULT]",sne={[$2]:"fire-core",[Rte]:"fire-core-compat",[Fte]:"fire-analytics",[Pte]:"fire-analytics-compat",[Ute]:"fire-app-check",[Mte]:"fire-app-check-compat",[Ote]:"fire-auth",[Lte]:"fire-auth-compat",[jte]:"fire-rtdb",[Bte]:"fire-data-connect",[Vte]:"fire-rtdb-compat",[Wte]:"fire-fn",[qte]:"fire-fn-compat",[zte]:"fire-iid",[Hte]:"fire-iid-compat",[$te]:"fire-fcm",[Gte]:"fire-fcm-compat",[Kte]:"fire-perf",[Xte]:"fire-perf-compat",[Jte]:"fire-rc",[Yte]:"fire-rc-compat",[Qte]:"fire-gcs",[Zte]:"fire-gcs-compat",[ene]:"fire-fst",[nne]:"fire-fst-compat",[tne]:"fire-vertex","fire-js":"fire-js",[rne]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nu=new Map,Op=new Map,Lp=new Map;function iy(t,e){try{t.container.addComponent(e)}catch(n){uc.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function XB(t,e){t.container.addOrOverwriteComponent(e)}function _l(t){const e=t.name;if(Lp.has(e))return uc.debug(`There were multiple attempts to register component ${e}.`),!1;Lp.set(e,t);for(const n of Nu.values())iy(n,t);for(const n of Op.values())iy(n,t);return!0}function RN(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ane(t,e,n=Au){RN(t,e).clearInstance(n)}function PN(t){return t.options!==void 0}function JB(t){return PN(t)?!1:"authIdToken"in t||"appCheckToken"in t||"releaseOnDeref"in t||"automaticDataCollectionEnabled"in t}function ir(t){return t==null?!1:t.settings!==void 0}function one(){Lp.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lne={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ca=new jf("app","Firebase",lne);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let YB=class{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ms("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ca.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(t,e){const n=ey(t.split(".")[1]);if(n===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(n).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(n).exp*1e3,s=new Date().getTime();i-s<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class cne extends YB{constructor(e,n,r,i){const s=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!0,a={name:r,automaticDataCollectionEnabled:s};if(e.apiKey!==void 0)super(e,a,i);else{const o=e;super(o.options,a,i)}this._serverConfig={automaticDataCollectionEnabled:s,...n},this._serverConfig.authIdToken&&bP(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&bP(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,ks($2,AA,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){MN(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Ca.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al=ine;function FN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Au,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Ca.create("bad-app-name",{appName:String(i)});if(n||(n=SN()),!n)throw Ca.create("no-options");const s=Nu.get(i);if(s){if(cc(n,s.options)&&cc(r,s.config))return s;throw Ca.create("duplicate-app",{appName:i})}const a=new NN(i);for(const l of Lp.values())a.addComponent(l);const o=new YB(n,r,a);return Nu.set(i,o),o}function une(t,e={}){if(Zee()&&!jB())throw Ca.create("invalid-server-app-environment");let n,r=e||{};if(t&&(PN(t)?n=t.options:JB(t)?r=t:n=t),r.automaticDataCollectionEnabled===void 0&&(r.automaticDataCollectionEnabled=!0),n||(n=SN()),!n)throw Ca.create("no-options");const i={...r,...n};i.releaseOnDeref!==void 0&&delete i.releaseOnDeref;const s=u=>[...u].reduce((f,h)=>Math.imul(31,f)+h.charCodeAt(0)|0,0);if(r.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Ca.create("finalization-registry-not-supported",{});const a=""+s(JSON.stringify(i)),o=Op.get(a);if(o)return o.incRefCount(r.releaseOnDeref),o;const l=new NN(a);for(const u of Lp.values())l.addComponent(u);const c=new cne(n,r,a,l);return Op.set(a,c),c}function QB(t=Au){const e=Nu.get(t);if(!e&&t===Au&&SN())return FN();if(!e)throw Ca.create("no-app",{appName:t});return e}function dne(){return Array.from(Nu.values())}async function MN(t){let e=!1;const n=t.name;Nu.has(n)?(e=!0,Nu.delete(n)):Op.has(n)&&t.decRefCount()<=0&&(Op.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function ks(t,e,n){let r=sne[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),uc.warn(a.join(" "));return}_l(new Ms(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function ZB(t,e){if(t!==null&&typeof t!="function")throw Ca.create("invalid-log-argument");vte(t,e)}function eV(t){yte(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fne="firebase-heartbeat-database",hne=1,sy="firebase-heartbeat-store";let WE=null;function tV(){return WE||(WE=Dte(fne,hne,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(sy)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ca.create("idb-open",{originalErrorMessage:t.message})})),WE}async function pne(t){try{const n=(await tV()).transaction(sy),r=await n.objectStore(sy).get(nV(t));return await n.done,r}catch(e){if(e instanceof ps)uc.warn(e.message);else{const n=Ca.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});uc.warn(n.message)}}}async function wP(t,e){try{const r=(await tV()).transaction(sy,"readwrite");await r.objectStore(sy).put(e,nV(t)),await r.done}catch(n){if(n instanceof ps)uc.warn(n.message);else{const r=Ca.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});uc.warn(r.message)}}}function nV(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mne=1024,gne=30;class yne{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xne(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=TP();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>gne){const a=_ne(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){uc.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=TP(),{heartbeatsToSend:r,unsentEntries:i}=vne(this._heartbeatsCache.heartbeats),s=q2(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return uc.warn(n),""}}}function TP(){return new Date().toISOString().substring(0,10)}function vne(t,e=mne){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),EP(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),EP(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class xne{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ny()?nte().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await pne(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return wP(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return wP(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function EP(t){return q2(JSON.stringify({version:2,heartbeats:t})).length}function _ne(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bne(t){_l(new Ms("platform-logger",e=>new Ite(e),"PRIVATE")),_l(new Ms("heartbeat",e=>new yne(e),"PRIVATE")),ks($2,AA,t),ks($2,AA,"esm2020"),ks("fire-js","")}bne("");const wne=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:ps,SDK_VERSION:Al,_DEFAULT_ENTRY_NAME:Au,_addComponent:iy,_addOrOverwriteComponent:XB,_apps:Nu,_clearComponents:one,_components:Lp,_getProvider:RN,_isFirebaseApp:PN,_isFirebaseServerApp:ir,_isFirebaseServerAppSettings:JB,_registerComponent:_l,_removeServiceInstance:ane,_serverApps:Op,deleteApp:MN,getApp:QB,getApps:dne,initializeApp:FN,initializeServerApp:une,onLog:ZB,registerVersion:ks,setLogLevel:eV},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tne{constructor(e,n){this._delegate=e,this.firebase=n,iy(e,new Ms("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),MN(this._delegate)))}_getService(e,n=Au){var i;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&((i=r.getComponent())==null?void 0:i.instantiationMode)==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:n})}_removeServiceInstance(e,n=Au){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){iy(this._delegate,e)}_addOrOverwriteComponent(e){XB(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ene={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},CP=new jf("app-compat","Firebase",Ene);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cne(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:ks,setLogLevel:eV,onLog:ZB,apps:null,SDK_VERSION:Al,INTERNAL:{registerComponent:o,removeApp:r,useAsService:l,modularAPIs:wne}};n.default=n,Object.defineProperty(n,"apps",{get:a});function r(c){delete e[c]}function i(c){if(c=c||Au,!Sa(e,c))throw CP.create("no-app",{appName:c});return e[c]}i.App=t;function s(c,u={}){const f=FN(c,u);if(Sa(e,f.name))return e[f.name];const h=new t(f,n);return e[f.name]=h,h}function a(){return Object.keys(e).map(c=>e[c])}function o(c){const u=c.name,f=u.replace("-compat","");if(_l(c)&&c.type==="PUBLIC"){const h=(p=i())=>{if(typeof p[f]!="function")throw CP.create("invalid-app-argument",{appName:u});return p[f]()};c.serviceProps!==void 0&&ty(h,c.serviceProps),n[f]=h,t.prototype[f]=function(...p){return this._getService.bind(this,u).apply(this,c.multipleInstances?p:[])}}return c.type==="PUBLIC"?n[f]:null}function l(c,u){return u==="serverAuth"?null:u}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rV(){const t=Cne(Tne);t.INTERNAL={...t.INTERNAL,createFirebaseNamespace:rV,extendNamespace:e,createSubscribe:HB,ErrorFactory:jf,deepExtend:ty};function e(n){ty(t,n)}return t}const Sne=rV();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP=new Tm("@firebase/app-compat"),Dne="@firebase/app-compat",Ane="0.5.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nne(t){ks(Dne,Ane,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const t=CN();if(t.firebase!==void 0){SP.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=t.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&SP.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const Br=Sne;Nne();var Ine="firebase",kne="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Br.registerVersion(Ine,kne,"app-compat");var DP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xu,iV;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,N){function k(){}k.prototype=N.prototype,D.D=N.prototype,D.prototype=new k,D.prototype.constructor=D,D.C=function(F,P,I){for(var U=Array(arguments.length-2),O=2;O<arguments.length;O++)U[O-2]=arguments[O];return N.prototype[P].apply(F,U)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,N,k){k||(k=0);var F=Array(16);if(typeof N=="string")for(var P=0;16>P;++P)F[P]=N.charCodeAt(k++)|N.charCodeAt(k++)<<8|N.charCodeAt(k++)<<16|N.charCodeAt(k++)<<24;else for(P=0;16>P;++P)F[P]=N[k++]|N[k++]<<8|N[k++]<<16|N[k++]<<24;N=D.g[0],k=D.g[1],P=D.g[2];var I=D.g[3],U=N+(I^k&(P^I))+F[0]+3614090360&4294967295;N=k+(U<<7&4294967295|U>>>25),U=I+(P^N&(k^P))+F[1]+3905402710&4294967295,I=N+(U<<12&4294967295|U>>>20),U=P+(k^I&(N^k))+F[2]+606105819&4294967295,P=I+(U<<17&4294967295|U>>>15),U=k+(N^P&(I^N))+F[3]+3250441966&4294967295,k=P+(U<<22&4294967295|U>>>10),U=N+(I^k&(P^I))+F[4]+4118548399&4294967295,N=k+(U<<7&4294967295|U>>>25),U=I+(P^N&(k^P))+F[5]+1200080426&4294967295,I=N+(U<<12&4294967295|U>>>20),U=P+(k^I&(N^k))+F[6]+2821735955&4294967295,P=I+(U<<17&4294967295|U>>>15),U=k+(N^P&(I^N))+F[7]+4249261313&4294967295,k=P+(U<<22&4294967295|U>>>10),U=N+(I^k&(P^I))+F[8]+1770035416&4294967295,N=k+(U<<7&4294967295|U>>>25),U=I+(P^N&(k^P))+F[9]+2336552879&4294967295,I=N+(U<<12&4294967295|U>>>20),U=P+(k^I&(N^k))+F[10]+4294925233&4294967295,P=I+(U<<17&4294967295|U>>>15),U=k+(N^P&(I^N))+F[11]+2304563134&4294967295,k=P+(U<<22&4294967295|U>>>10),U=N+(I^k&(P^I))+F[12]+1804603682&4294967295,N=k+(U<<7&4294967295|U>>>25),U=I+(P^N&(k^P))+F[13]+4254626195&4294967295,I=N+(U<<12&4294967295|U>>>20),U=P+(k^I&(N^k))+F[14]+2792965006&4294967295,P=I+(U<<17&4294967295|U>>>15),U=k+(N^P&(I^N))+F[15]+1236535329&4294967295,k=P+(U<<22&4294967295|U>>>10),U=N+(P^I&(k^P))+F[1]+4129170786&4294967295,N=k+(U<<5&4294967295|U>>>27),U=I+(k^P&(N^k))+F[6]+3225465664&4294967295,I=N+(U<<9&4294967295|U>>>23),U=P+(N^k&(I^N))+F[11]+643717713&4294967295,P=I+(U<<14&4294967295|U>>>18),U=k+(I^N&(P^I))+F[0]+3921069994&4294967295,k=P+(U<<20&4294967295|U>>>12),U=N+(P^I&(k^P))+F[5]+3593408605&4294967295,N=k+(U<<5&4294967295|U>>>27),U=I+(k^P&(N^k))+F[10]+38016083&4294967295,I=N+(U<<9&4294967295|U>>>23),U=P+(N^k&(I^N))+F[15]+3634488961&4294967295,P=I+(U<<14&4294967295|U>>>18),U=k+(I^N&(P^I))+F[4]+3889429448&4294967295,k=P+(U<<20&4294967295|U>>>12),U=N+(P^I&(k^P))+F[9]+568446438&4294967295,N=k+(U<<5&4294967295|U>>>27),U=I+(k^P&(N^k))+F[14]+3275163606&4294967295,I=N+(U<<9&4294967295|U>>>23),U=P+(N^k&(I^N))+F[3]+4107603335&4294967295,P=I+(U<<14&4294967295|U>>>18),U=k+(I^N&(P^I))+F[8]+1163531501&4294967295,k=P+(U<<20&4294967295|U>>>12),U=N+(P^I&(k^P))+F[13]+2850285829&4294967295,N=k+(U<<5&4294967295|U>>>27),U=I+(k^P&(N^k))+F[2]+4243563512&4294967295,I=N+(U<<9&4294967295|U>>>23),U=P+(N^k&(I^N))+F[7]+1735328473&4294967295,P=I+(U<<14&4294967295|U>>>18),U=k+(I^N&(P^I))+F[12]+2368359562&4294967295,k=P+(U<<20&4294967295|U>>>12),U=N+(k^P^I)+F[5]+4294588738&4294967295,N=k+(U<<4&4294967295|U>>>28),U=I+(N^k^P)+F[8]+2272392833&4294967295,I=N+(U<<11&4294967295|U>>>21),U=P+(I^N^k)+F[11]+1839030562&4294967295,P=I+(U<<16&4294967295|U>>>16),U=k+(P^I^N)+F[14]+4259657740&4294967295,k=P+(U<<23&4294967295|U>>>9),U=N+(k^P^I)+F[1]+2763975236&4294967295,N=k+(U<<4&4294967295|U>>>28),U=I+(N^k^P)+F[4]+1272893353&4294967295,I=N+(U<<11&4294967295|U>>>21),U=P+(I^N^k)+F[7]+4139469664&4294967295,P=I+(U<<16&4294967295|U>>>16),U=k+(P^I^N)+F[10]+3200236656&4294967295,k=P+(U<<23&4294967295|U>>>9),U=N+(k^P^I)+F[13]+681279174&4294967295,N=k+(U<<4&4294967295|U>>>28),U=I+(N^k^P)+F[0]+3936430074&4294967295,I=N+(U<<11&4294967295|U>>>21),U=P+(I^N^k)+F[3]+3572445317&4294967295,P=I+(U<<16&4294967295|U>>>16),U=k+(P^I^N)+F[6]+76029189&4294967295,k=P+(U<<23&4294967295|U>>>9),U=N+(k^P^I)+F[9]+3654602809&4294967295,N=k+(U<<4&4294967295|U>>>28),U=I+(N^k^P)+F[12]+3873151461&4294967295,I=N+(U<<11&4294967295|U>>>21),U=P+(I^N^k)+F[15]+530742520&4294967295,P=I+(U<<16&4294967295|U>>>16),U=k+(P^I^N)+F[2]+3299628645&4294967295,k=P+(U<<23&4294967295|U>>>9),U=N+(P^(k|~I))+F[0]+4096336452&4294967295,N=k+(U<<6&4294967295|U>>>26),U=I+(k^(N|~P))+F[7]+1126891415&4294967295,I=N+(U<<10&4294967295|U>>>22),U=P+(N^(I|~k))+F[14]+2878612391&4294967295,P=I+(U<<15&4294967295|U>>>17),U=k+(I^(P|~N))+F[5]+4237533241&4294967295,k=P+(U<<21&4294967295|U>>>11),U=N+(P^(k|~I))+F[12]+1700485571&4294967295,N=k+(U<<6&4294967295|U>>>26),U=I+(k^(N|~P))+F[3]+2399980690&4294967295,I=N+(U<<10&4294967295|U>>>22),U=P+(N^(I|~k))+F[10]+4293915773&4294967295,P=I+(U<<15&4294967295|U>>>17),U=k+(I^(P|~N))+F[1]+2240044497&4294967295,k=P+(U<<21&4294967295|U>>>11),U=N+(P^(k|~I))+F[8]+1873313359&4294967295,N=k+(U<<6&4294967295|U>>>26),U=I+(k^(N|~P))+F[15]+4264355552&4294967295,I=N+(U<<10&4294967295|U>>>22),U=P+(N^(I|~k))+F[6]+2734768916&4294967295,P=I+(U<<15&4294967295|U>>>17),U=k+(I^(P|~N))+F[13]+1309151649&4294967295,k=P+(U<<21&4294967295|U>>>11),U=N+(P^(k|~I))+F[4]+4149444226&4294967295,N=k+(U<<6&4294967295|U>>>26),U=I+(k^(N|~P))+F[11]+3174756917&4294967295,I=N+(U<<10&4294967295|U>>>22),U=P+(N^(I|~k))+F[2]+718787259&4294967295,P=I+(U<<15&4294967295|U>>>17),U=k+(I^(P|~N))+F[9]+3951481745&4294967295,D.g[0]=D.g[0]+N&4294967295,D.g[1]=D.g[1]+(P+(U<<21&4294967295|U>>>11))&4294967295,D.g[2]=D.g[2]+P&4294967295,D.g[3]=D.g[3]+I&4294967295}r.prototype.u=function(D,N){N===void 0&&(N=D.length);for(var k=N-this.blockSize,F=this.B,P=this.h,I=0;I<N;){if(P==0)for(;I<=k;)i(this,D,I),I+=this.blockSize;if(typeof D=="string"){for(;I<N;)if(F[P++]=D.charCodeAt(I++),P==this.blockSize){i(this,F),P=0;break}}else for(;I<N;)if(F[P++]=D[I++],P==this.blockSize){i(this,F),P=0;break}}this.h=P,this.o+=N},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var N=1;N<D.length-8;++N)D[N]=0;var k=8*this.o;for(N=D.length-8;N<D.length;++N)D[N]=k&255,k/=256;for(this.u(D),D=Array(16),N=k=0;4>N;++N)for(var F=0;32>F;F+=8)D[k++]=this.g[N]>>>F&255;return D};function s(D,N){var k=o;return Object.prototype.hasOwnProperty.call(k,D)?k[D]:k[D]=N(D)}function a(D,N){this.h=N;for(var k=[],F=!0,P=D.length-1;0<=P;P--){var I=D[P]|0;F&&I==N||(k[P]=I,F=!1)}this.g=k}var o={};function l(D){return-128<=D&&128>D?s(D,function(N){return new a([N|0],0>N?-1:0)}):new a([D|0],0>D?-1:0)}function c(D){if(isNaN(D)||!isFinite(D))return f;if(0>D)return y(c(-D));for(var N=[],k=1,F=0;D>=k;F++)N[F]=D/k|0,k*=4294967296;return new a(N,0)}function u(D,N){if(D.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(D.charAt(0)=="-")return y(u(D.substring(1),N));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=c(Math.pow(N,8)),F=f,P=0;P<D.length;P+=8){var I=Math.min(8,D.length-P),U=parseInt(D.substring(P,P+I),N);8>I?(I=c(Math.pow(N,I)),F=F.j(I).add(c(U))):(F=F.j(k),F=F.add(c(U)))}return F}var f=l(0),h=l(1),p=l(16777216);t=a.prototype,t.m=function(){if(g(this))return-y(this).m();for(var D=0,N=1,k=0;k<this.g.length;k++){var F=this.i(k);D+=(0<=F?F:4294967296+F)*N,N*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(v(this))return"0";if(g(this))return"-"+y(this).toString(D);for(var N=c(Math.pow(D,6)),k=this,F="";;){var P=C(k,N).g;k=b(k,P.j(N));var I=((0<k.g.length?k.g[0]:k.h)>>>0).toString(D);if(k=P,v(k))return I+F;for(;6>I.length;)I="0"+I;F=I+F}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function v(D){if(D.h!=0)return!1;for(var N=0;N<D.g.length;N++)if(D.g[N]!=0)return!1;return!0}function g(D){return D.h==-1}t.l=function(D){return D=b(this,D),g(D)?-1:v(D)?0:1};function y(D){for(var N=D.g.length,k=[],F=0;F<N;F++)k[F]=~D.g[F];return new a(k,~D.h).add(h)}t.abs=function(){return g(this)?y(this):this},t.add=function(D){for(var N=Math.max(this.g.length,D.g.length),k=[],F=0,P=0;P<=N;P++){var I=F+(this.i(P)&65535)+(D.i(P)&65535),U=(I>>>16)+(this.i(P)>>>16)+(D.i(P)>>>16);F=U>>>16,I&=65535,U&=65535,k[P]=U<<16|I}return new a(k,k[k.length-1]&-2147483648?-1:0)};function b(D,N){return D.add(y(N))}t.j=function(D){if(v(this)||v(D))return f;if(g(this))return g(D)?y(this).j(y(D)):y(y(this).j(D));if(g(D))return y(this.j(y(D)));if(0>this.l(p)&&0>D.l(p))return c(this.m()*D.m());for(var N=this.g.length+D.g.length,k=[],F=0;F<2*N;F++)k[F]=0;for(F=0;F<this.g.length;F++)for(var P=0;P<D.g.length;P++){var I=this.i(F)>>>16,U=this.i(F)&65535,O=D.i(P)>>>16,K=D.i(P)&65535;k[2*F+2*P]+=U*K,_(k,2*F+2*P),k[2*F+2*P+1]+=I*K,_(k,2*F+2*P+1),k[2*F+2*P+1]+=U*O,_(k,2*F+2*P+1),k[2*F+2*P+2]+=I*O,_(k,2*F+2*P+2)}for(F=0;F<N;F++)k[F]=k[2*F+1]<<16|k[2*F];for(F=N;F<2*N;F++)k[F]=0;return new a(k,0)};function _(D,N){for(;(D[N]&65535)!=D[N];)D[N+1]+=D[N]>>>16,D[N]&=65535,N++}function w(D,N){this.g=D,this.h=N}function C(D,N){if(v(N))throw Error("division by zero");if(v(D))return new w(f,f);if(g(D))return N=C(y(D),N),new w(y(N.g),y(N.h));if(g(N))return N=C(D,y(N)),new w(y(N.g),N.h);if(30<D.g.length){if(g(D)||g(N))throw Error("slowDivide_ only works with positive integers.");for(var k=h,F=N;0>=F.l(D);)k=S(k),F=S(F);var P=R(k,1),I=R(F,1);for(F=R(F,2),k=R(k,2);!v(F);){var U=I.add(F);0>=U.l(D)&&(P=P.add(k),I=U),F=R(F,1),k=R(k,1)}return N=b(D,P.j(N)),new w(P,N)}for(P=f;0<=D.l(N);){for(k=Math.max(1,Math.floor(D.m()/N.m())),F=Math.ceil(Math.log(k)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),I=c(k),U=I.j(N);g(U)||0<U.l(D);)k-=F,I=c(k),U=I.j(N);v(I)&&(I=h),P=P.add(I),D=b(D,U)}return new w(P,D)}t.A=function(D){return C(this,D).h},t.and=function(D){for(var N=Math.max(this.g.length,D.g.length),k=[],F=0;F<N;F++)k[F]=this.i(F)&D.i(F);return new a(k,this.h&D.h)},t.or=function(D){for(var N=Math.max(this.g.length,D.g.length),k=[],F=0;F<N;F++)k[F]=this.i(F)|D.i(F);return new a(k,this.h|D.h)},t.xor=function(D){for(var N=Math.max(this.g.length,D.g.length),k=[],F=0;F<N;F++)k[F]=this.i(F)^D.i(F);return new a(k,this.h^D.h)};function S(D){for(var N=D.g.length+1,k=[],F=0;F<N;F++)k[F]=D.i(F)<<1|D.i(F-1)>>>31;return new a(k,D.h)}function R(D,N){var k=N>>5;N%=32;for(var F=D.g.length-k,P=[],I=0;I<F;I++)P[I]=0<N?D.i(I+k)>>>N|D.i(I+k+1)<<32-N:D.i(I+k);return new a(P,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,iV=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=u,xu=a}).apply(typeof DP<"u"?DP:typeof self<"u"?self:typeof window<"u"?window:{});var lx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sV,u0,aV,e2,NA,oV,lV,cV;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(M,Z,se){return M==Array.prototype||M==Object.prototype||(M[Z]=se.value),M};function n(M){M=[typeof globalThis=="object"&&globalThis,M,typeof window=="object"&&window,typeof self=="object"&&self,typeof lx=="object"&&lx];for(var Z=0;Z<M.length;++Z){var se=M[Z];if(se&&se.Math==Math)return se}throw Error("Cannot find global object")}var r=n(this);function i(M,Z){if(Z)e:{var se=r;M=M.split(".");for(var Ce=0;Ce<M.length-1;Ce++){var He=M[Ce];if(!(He in se))break e;se=se[He]}M=M[M.length-1],Ce=se[M],Z=Z(Ce),Z!=Ce&&Z!=null&&e(se,M,{configurable:!0,writable:!0,value:Z})}}function s(M,Z){M instanceof String&&(M+="");var se=0,Ce=!1,He={next:function(){if(!Ce&&se<M.length){var tt=se++;return{value:Z(tt,M[tt]),done:!1}}return Ce=!0,{done:!0,value:void 0}}};return He[Symbol.iterator]=function(){return He},He}i("Array.prototype.values",function(M){return M||function(){return s(this,function(Z,se){return se})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(M){var Z=typeof M;return Z=Z!="object"?Z:M?Array.isArray(M)?"array":Z:"null",Z=="array"||Z=="object"&&typeof M.length=="number"}function c(M){var Z=typeof M;return Z=="object"&&M!=null||Z=="function"}function u(M,Z,se){return M.call.apply(M.bind,arguments)}function f(M,Z,se){if(!M)throw Error();if(2<arguments.length){var Ce=Array.prototype.slice.call(arguments,2);return function(){var He=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(He,Ce),M.apply(Z,He)}}return function(){return M.apply(Z,arguments)}}function h(M,Z,se){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,h.apply(null,arguments)}function p(M,Z){var se=Array.prototype.slice.call(arguments,1);return function(){var Ce=se.slice();return Ce.push.apply(Ce,arguments),M.apply(this,Ce)}}function v(M,Z){function se(){}se.prototype=Z.prototype,M.aa=Z.prototype,M.prototype=new se,M.prototype.constructor=M,M.Qb=function(Ce,He,tt){for(var wt=Array(arguments.length-2),Vn=2;Vn<arguments.length;Vn++)wt[Vn-2]=arguments[Vn];return Z.prototype[He].apply(Ce,wt)}}function g(M){const Z=M.length;if(0<Z){const se=Array(Z);for(let Ce=0;Ce<Z;Ce++)se[Ce]=M[Ce];return se}return[]}function y(M,Z){for(let se=1;se<arguments.length;se++){const Ce=arguments[se];if(l(Ce)){const He=M.length||0,tt=Ce.length||0;M.length=He+tt;for(let wt=0;wt<tt;wt++)M[He+wt]=Ce[wt]}else M.push(Ce)}}class b{constructor(Z,se){this.i=Z,this.j=se,this.h=0,this.g=null}get(){let Z;return 0<this.h?(this.h--,Z=this.g,this.g=Z.next,Z.next=null):Z=this.i(),Z}}function _(M){return/^[\s\xa0]*$/.test(M)}function w(){var M=o.navigator;return M&&(M=M.userAgent)?M:""}function C(M){return C[" "](M),M}C[" "]=function(){};var S=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function R(M,Z,se){for(const Ce in M)Z.call(se,M[Ce],Ce,M)}function D(M,Z){for(const se in M)Z.call(void 0,M[se],se,M)}function N(M){const Z={};for(const se in M)Z[se]=M[se];return Z}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(M,Z){let se,Ce;for(let He=1;He<arguments.length;He++){Ce=arguments[He];for(se in Ce)M[se]=Ce[se];for(let tt=0;tt<k.length;tt++)se=k[tt],Object.prototype.hasOwnProperty.call(Ce,se)&&(M[se]=Ce[se])}}function P(M){var Z=1;M=M.split(":");const se=[];for(;0<Z&&M.length;)se.push(M.shift()),Z--;return M.length&&se.push(M.join(":")),se}function I(M){o.setTimeout(()=>{throw M},0)}function U(){var M=z;let Z=null;return M.g&&(Z=M.g,M.g=M.g.next,M.g||(M.h=null),Z.next=null),Z}class O{constructor(){this.h=this.g=null}add(Z,se){const Ce=K.get();Ce.set(Z,se),this.h?this.h.next=Ce:this.g=Ce,this.h=Ce}}var K=new b(()=>new X,M=>M.reset());class X{constructor(){this.next=this.g=this.h=null}set(Z,se){this.h=Z,this.g=se,this.next=null}reset(){this.next=this.g=this.h=null}}let J,ne=!1,z=new O,Q=()=>{const M=o.Promise.resolve(void 0);J=()=>{M.then(B)}};var B=()=>{for(var M;M=U();){try{M.h.call(M.g)}catch(se){I(se)}var Z=K;Z.j(M),100>Z.h&&(Z.h++,M.next=Z.g,Z.g=M)}ne=!1};function j(){this.s=this.s,this.C=this.C}j.prototype.s=!1,j.prototype.ma=function(){this.s||(this.s=!0,this.N())},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(M,Z){this.type=M,this.g=this.target=Z,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var G=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var M=!1,Z=Object.defineProperty({},"passive",{get:function(){M=!0}});try{const se=()=>{};o.addEventListener("test",se,Z),o.removeEventListener("test",se,Z)}catch{}return M})();function Y(M,Z){if(W.call(this,M?M.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,M){var se=this.type=M.type,Ce=M.changedTouches&&M.changedTouches.length?M.changedTouches[0]:null;if(this.target=M.target||M.srcElement,this.g=Z,Z=M.relatedTarget){if(S){e:{try{C(Z.nodeName);var He=!0;break e}catch{}He=!1}He||(Z=null)}}else se=="mouseover"?Z=M.fromElement:se=="mouseout"&&(Z=M.toElement);this.relatedTarget=Z,Ce?(this.clientX=Ce.clientX!==void 0?Ce.clientX:Ce.pageX,this.clientY=Ce.clientY!==void 0?Ce.clientY:Ce.pageY,this.screenX=Ce.screenX||0,this.screenY=Ce.screenY||0):(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0),this.button=M.button,this.key=M.key||"",this.ctrlKey=M.ctrlKey,this.altKey=M.altKey,this.shiftKey=M.shiftKey,this.metaKey=M.metaKey,this.pointerId=M.pointerId||0,this.pointerType=typeof M.pointerType=="string"?M.pointerType:ee[M.pointerType]||"",this.state=M.state,this.i=M,M.defaultPrevented&&Y.aa.h.call(this)}}v(Y,W);var ee={2:"touch",3:"pen",4:"mouse"};Y.prototype.h=function(){Y.aa.h.call(this);var M=this.i;M.preventDefault?M.preventDefault():M.returnValue=!1};var ae="closure_listenable_"+(1e6*Math.random()|0),de=0;function fe(M,Z,se,Ce,He){this.listener=M,this.proxy=null,this.src=Z,this.type=se,this.capture=!!Ce,this.ha=He,this.key=++de,this.da=this.fa=!1}function De(M){M.da=!0,M.listener=null,M.proxy=null,M.src=null,M.ha=null}function Pe(M){this.src=M,this.g={},this.h=0}Pe.prototype.add=function(M,Z,se,Ce,He){var tt=M.toString();M=this.g[tt],M||(M=this.g[tt]=[],this.h++);var wt=je(M,Z,Ce,He);return-1<wt?(Z=M[wt],se||(Z.fa=!1)):(Z=new fe(Z,this.src,tt,!!Ce,He),Z.fa=se,M.push(Z)),Z};function me(M,Z){var se=Z.type;if(se in M.g){var Ce=M.g[se],He=Array.prototype.indexOf.call(Ce,Z,void 0),tt;(tt=0<=He)&&Array.prototype.splice.call(Ce,He,1),tt&&(De(Z),M.g[se].length==0&&(delete M.g[se],M.h--))}}function je(M,Z,se,Ce){for(var He=0;He<M.length;++He){var tt=M[He];if(!tt.da&&tt.listener==Z&&tt.capture==!!se&&tt.ha==Ce)return He}return-1}var V="closure_lm_"+(1e6*Math.random()|0),ye={};function be(M,Z,se,Ce,He){if(Array.isArray(Z)){for(var tt=0;tt<Z.length;tt++)be(M,Z[tt],se,Ce,He);return null}return se=ve(se),M&&M[ae]?M.K(Z,se,c(Ce)?!!Ce.capture:!1,He):oe(M,Z,se,!1,Ce,He)}function oe(M,Z,se,Ce,He,tt){if(!Z)throw Error("Invalid event type");var wt=c(He)?!!He.capture:!!He,Vn=ce(M);if(Vn||(M[V]=Vn=new Pe(M)),se=Vn.add(Z,se,Ce,wt,tt),se.proxy)return se;if(Ce=re(),se.proxy=Ce,Ce.src=M,Ce.listener=se,M.addEventListener)G||(He=wt),He===void 0&&(He=!1),M.addEventListener(Z.toString(),Ce,He);else if(M.attachEvent)M.attachEvent(_e(Z.toString()),Ce);else if(M.addListener&&M.removeListener)M.addListener(Ce);else throw Error("addEventListener and attachEvent are unavailable.");return se}function re(){function M(se){return Z.call(M.src,M.listener,se)}const Z=ie;return M}function le(M,Z,se,Ce,He){if(Array.isArray(Z))for(var tt=0;tt<Z.length;tt++)le(M,Z[tt],se,Ce,He);else Ce=c(Ce)?!!Ce.capture:!!Ce,se=ve(se),M&&M[ae]?(M=M.i,Z=String(Z).toString(),Z in M.g&&(tt=M.g[Z],se=je(tt,se,Ce,He),-1<se&&(De(tt[se]),Array.prototype.splice.call(tt,se,1),tt.length==0&&(delete M.g[Z],M.h--)))):M&&(M=ce(M))&&(Z=M.g[Z.toString()],M=-1,Z&&(M=je(Z,se,Ce,He)),(se=-1<M?Z[M]:null)&&he(se))}function he(M){if(typeof M!="number"&&M&&!M.da){var Z=M.src;if(Z&&Z[ae])me(Z.i,M);else{var se=M.type,Ce=M.proxy;Z.removeEventListener?Z.removeEventListener(se,Ce,M.capture):Z.detachEvent?Z.detachEvent(_e(se),Ce):Z.addListener&&Z.removeListener&&Z.removeListener(Ce),(se=ce(Z))?(me(se,M),se.h==0&&(se.src=null,Z[V]=null)):De(M)}}}function _e(M){return M in ye?ye[M]:ye[M]="on"+M}function ie(M,Z){if(M.da)M=!0;else{Z=new Y(Z,this);var se=M.listener,Ce=M.ha||M.src;M.fa&&he(M),M=se.call(Ce,Z)}return M}function ce(M){return M=M[V],M instanceof Pe?M:null}var ge="__closure_events_fn_"+(1e9*Math.random()>>>0);function ve(M){return typeof M=="function"?M:(M[ge]||(M[ge]=function(Z){return M.handleEvent(Z)}),M[ge])}function Se(){j.call(this),this.i=new Pe(this),this.M=this,this.F=null}v(Se,j),Se.prototype[ae]=!0,Se.prototype.removeEventListener=function(M,Z,se,Ce){le(this,M,Z,se,Ce)};function Oe(M,Z){var se,Ce=M.F;if(Ce)for(se=[];Ce;Ce=Ce.F)se.push(Ce);if(M=M.M,Ce=Z.type||Z,typeof Z=="string")Z=new W(Z,M);else if(Z instanceof W)Z.target=Z.target||M;else{var He=Z;Z=new W(Ce,M),F(Z,He)}if(He=!0,se)for(var tt=se.length-1;0<=tt;tt--){var wt=Z.g=se[tt];He=Te(wt,Ce,!0,Z)&&He}if(wt=Z.g=M,He=Te(wt,Ce,!0,Z)&&He,He=Te(wt,Ce,!1,Z)&&He,se)for(tt=0;tt<se.length;tt++)wt=Z.g=se[tt],He=Te(wt,Ce,!1,Z)&&He}Se.prototype.N=function(){if(Se.aa.N.call(this),this.i){var M=this.i,Z;for(Z in M.g){for(var se=M.g[Z],Ce=0;Ce<se.length;Ce++)De(se[Ce]);delete M.g[Z],M.h--}}this.F=null},Se.prototype.K=function(M,Z,se,Ce){return this.i.add(String(M),Z,!1,se,Ce)},Se.prototype.L=function(M,Z,se,Ce){return this.i.add(String(M),Z,!0,se,Ce)};function Te(M,Z,se,Ce){if(Z=M.i.g[String(Z)],!Z)return!0;Z=Z.concat();for(var He=!0,tt=0;tt<Z.length;++tt){var wt=Z[tt];if(wt&&!wt.da&&wt.capture==se){var Vn=wt.listener,fi=wt.ha||wt.src;wt.fa&&me(M.i,wt),He=Vn.call(fi,Ce)!==!1&&He}}return He&&!Ce.defaultPrevented}function Ue(M,Z,se){if(typeof M=="function")se&&(M=h(M,se));else if(M&&typeof M.handleEvent=="function")M=h(M.handleEvent,M);else throw Error("Invalid listener argument");return 2147483647<Number(Z)?-1:o.setTimeout(M,Z||0)}function Le(M){M.g=Ue(()=>{M.g=null,M.i&&(M.i=!1,Le(M))},M.l);const Z=M.h;M.h=null,M.m.apply(null,Z)}class Ge extends j{constructor(Z,se){super(),this.m=Z,this.l=se,this.h=null,this.i=!1,this.g=null}j(Z){this.h=arguments,this.g?this.i=!0:Le(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rt(M){j.call(this),this.h=M,this.g={}}v(rt,j);var it=[];function Vt(M){R(M.g,function(Z,se){this.g.hasOwnProperty(se)&&he(Z)},M),M.g={}}rt.prototype.N=function(){rt.aa.N.call(this),Vt(this)},rt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xn=o.JSON.stringify,ln=o.JSON.parse,lr=class{stringify(M){return o.JSON.stringify(M,void 0)}parse(M){return o.JSON.parse(M,void 0)}};function Yn(){}Yn.prototype.h=null;function Qn(M){return M.h||(M.h=M.i())}function cr(){}var Yt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function En(){W.call(this,"d")}v(En,W);function pe(){W.call(this,"c")}v(pe,W);var we={},Me=null;function ke(){return Me=Me||new Se}we.La="serverreachability";function Ve(M){W.call(this,we.La,M)}v(Ve,W);function st(M){const Z=ke();Oe(Z,new Ve(Z))}we.STAT_EVENT="statevent";function Rt(M,Z){W.call(this,we.STAT_EVENT,M),this.stat=Z}v(Rt,W);function at(M){const Z=ke();Oe(Z,new Rt(Z,M))}we.Ma="timingevent";function Dt(M,Z){W.call(this,we.Ma,M),this.size=Z}v(Dt,W);function Ct(M,Z){if(typeof M!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){M()},Z)}function sn(){this.g=!0}sn.prototype.xa=function(){this.g=!1};function un(M,Z,se,Ce,He,tt){M.info(function(){if(M.g)if(tt)for(var wt="",Vn=tt.split("&"),fi=0;fi<Vn.length;fi++){var wn=Vn[fi].split("=");if(1<wn.length){var Ti=wn[0];wn=wn[1];var ii=Ti.split("_");wt=2<=ii.length&&ii[1]=="type"?wt+(Ti+"="+wn+"&"):wt+(Ti+"=redacted&")}}else wt=null;else wt=tt;return"XMLHTTP REQ ("+Ce+") [attempt "+He+"]: "+Z+`
`+se+`
`+wt})}function Fn(M,Z,se,Ce,He,tt,wt){M.info(function(){return"XMLHTTP RESP ("+Ce+") [ attempt "+He+"]: "+Z+`
`+se+`
`+tt+" "+wt})}function ue(M,Z,se,Ce){M.info(function(){return"XMLHTTP TEXT ("+Z+"): "+Ee(M,se)+(Ce?" "+Ce:"")})}function Ae(M,Z){M.info(function(){return"TIMEOUT: "+Z})}sn.prototype.info=function(){};function Ee(M,Z){if(!M.g)return Z;if(!Z)return null;try{var se=JSON.parse(Z);if(se){for(M=0;M<se.length;M++)if(Array.isArray(se[M])){var Ce=se[M];if(!(2>Ce.length)){var He=Ce[1];if(Array.isArray(He)&&!(1>He.length)){var tt=He[0];if(tt!="noop"&&tt!="stop"&&tt!="close")for(var wt=1;wt<He.length;wt++)He[wt]=""}}}}return xn(se)}catch{return Z}}var Ne={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ie={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Re;function ze(){}v(ze,Yn),ze.prototype.g=function(){return new XMLHttpRequest},ze.prototype.i=function(){return{}},Re=new ze;function et(M,Z,se,Ce){this.j=M,this.i=Z,this.l=se,this.R=Ce||1,this.U=new rt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ke}function Ke(){this.i=null,this.g="",this.h=!1}var Je={},Ye={};function ft(M,Z,se){M.L=1,M.v=Fc(ua(Z)),M.m=se,M.P=!0,_t(M,null)}function _t(M,Z){M.F=Date.now(),ht(M),M.A=ua(M.v);var se=M.A,Ce=M.R;Array.isArray(Ce)||(Ce=[String(Ce)]),Uc(se.i,"t",Ce),M.C=0,se=M.j.J,M.h=new Ke,M.g=d1(M.j,se?Z:null,!M.m),0<M.O&&(M.M=new Ge(h(M.Y,M,M.g),M.O)),Z=M.U,se=M.g,Ce=M.ca;var He="readystatechange";Array.isArray(He)||(He&&(it[0]=He.toString()),He=it);for(var tt=0;tt<He.length;tt++){var wt=be(se,He[tt],Ce||Z.handleEvent,!1,Z.h||Z);if(!wt)break;Z.g[wt.key]=wt}Z=M.H?N(M.H):{},M.m?(M.u||(M.u="POST"),Z["Content-Type"]="application/x-www-form-urlencoded",M.g.ea(M.A,M.u,M.m,Z)):(M.u="GET",M.g.ea(M.A,M.u,null,Z)),st(),un(M.i,M.u,M.A,M.l,M.R,M.m)}et.prototype.ca=function(M){M=M.target;const Z=this.M;Z&&js(M)==3?Z.j():this.Y(M)},et.prototype.Y=function(M){try{if(M==this.g)e:{const ii=js(this.g);var Z=this.g.Ba();const Ra=this.g.Z();if(!(3>ii)&&(ii!=3||this.g&&(this.h.h||this.g.oa()||sg(this.g)))){this.J||ii!=4||Z==7||(Z==8||0>=Ra?st(3):st(2)),Mn(this);var se=this.g.Z();this.X=se;t:if(At(this)){var Ce=sg(this.g);M="";var He=Ce.length,tt=js(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bn(this),An(this);var wt="";break t}this.h.i=new o.TextDecoder}for(Z=0;Z<He;Z++)this.h.h=!0,M+=this.h.i.decode(Ce[Z],{stream:!(tt&&Z==He-1)});Ce.length=0,this.h.g+=M,this.C=0,wt=this.h.g}else wt=this.g.oa();if(this.o=se==200,Fn(this.i,this.u,this.A,this.l,this.R,ii,se),this.o){if(this.T&&!this.K){t:{if(this.g){var Vn,fi=this.g;if((Vn=fi.g?fi.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Vn)){var wn=Vn;break t}}wn=null}if(se=wn)ue(this.i,this.l,se,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,co(this,se);else{this.o=!1,this.s=3,at(12),Bn(this),An(this);break e}}if(this.P){se=!0;let fa;for(;!this.J&&this.C<wt.length;)if(fa=gt(this,wt),fa==Ye){ii==4&&(this.s=4,at(14),se=!1),ue(this.i,this.l,null,"[Incomplete Response]");break}else if(fa==Je){this.s=4,at(15),ue(this.i,this.l,wt,"[Invalid Chunk]"),se=!1;break}else ue(this.i,this.l,fa,null),co(this,fa);if(At(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ii!=4||wt.length!=0||this.h.h||(this.s=1,at(16),se=!1),this.o=this.o&&se,!se)ue(this.i,this.l,wt,"[Invalid Chunked Response]"),Bn(this),An(this);else if(0<wt.length&&!this.W){this.W=!0;var Ti=this.j;Ti.g==this&&Ti.ba&&!Ti.M&&(Ti.j.info("Great, no buffering proxy detected. Bytes received: "+wt.length),og(Ti),Ti.M=!0,at(11))}}else ue(this.i,this.l,wt,null),co(this,wt);ii==4&&Bn(this),this.o&&!this.J&&(ii==4?xh(this.j,this):(this.o=!1,ht(this)))}else ph(this.g),se==400&&0<wt.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),Bn(this),An(this)}}}catch{}finally{}};function At(M){return M.g?M.u=="GET"&&M.L!=2&&M.j.Ca:!1}function gt(M,Z){var se=M.C,Ce=Z.indexOf(`
`,se);return Ce==-1?Ye:(se=Number(Z.substring(se,Ce)),isNaN(se)?Je:(Ce+=1,Ce+se>Z.length?Ye:(Z=Z.slice(Ce,Ce+se),M.C=Ce+se,Z)))}et.prototype.cancel=function(){this.J=!0,Bn(this)};function ht(M){M.S=Date.now()+M.I,Qt(M,M.I)}function Qt(M,Z){if(M.B!=null)throw Error("WatchDog timer not null");M.B=Ct(h(M.ba,M),Z)}function Mn(M){M.B&&(o.clearTimeout(M.B),M.B=null)}et.prototype.ba=function(){this.B=null;const M=Date.now();0<=M-this.S?(Ae(this.i,this.A),this.L!=2&&(st(),at(17)),Bn(this),this.s=2,An(this)):Qt(this,this.S-M)};function An(M){M.j.G==0||M.J||xh(M.j,M)}function Bn(M){Mn(M);var Z=M.M;Z&&typeof Z.ma=="function"&&Z.ma(),M.M=null,Vt(M.U),M.g&&(Z=M.g,M.g=null,Z.abort(),Z.ma())}function co(M,Z){try{var se=M.j;if(se.G!=0&&(se.g==M||ur(se.h,M))){if(!M.K&&ur(se.h,M)&&se.G==3){try{var Ce=se.Da.g.parse(Z)}catch{Ce=null}if(Array.isArray(Ce)&&Ce.length==3){var He=Ce;if(He[0]==0){e:if(!se.u){if(se.g)if(se.g.F+3e3<M.F)vh(se),mo(se);else break e;yh(se),at(18)}}else se.za=He[1],0<se.za-se.T&&37500>He[2]&&se.F&&se.v==0&&!se.C&&(se.C=Ct(h(se.Za,se),6e3));if(1>=Ic(se.h)&&se.ca){try{se.ca()}catch{}se.ca=void 0}}else Ml(se,11)}else if((M.K||se.g==M)&&vh(se),!_(Z))for(He=se.Da.g.parse(Z),Z=0;Z<He.length;Z++){let wn=He[Z];if(se.T=wn[0],wn=wn[1],se.G==2)if(wn[0]=="c"){se.K=wn[1],se.ia=wn[2];const Ti=wn[3];Ti!=null&&(se.la=Ti,se.j.info("VER="+se.la));const ii=wn[4];ii!=null&&(se.Aa=ii,se.j.info("SVER="+se.Aa));const Ra=wn[5];Ra!=null&&typeof Ra=="number"&&0<Ra&&(Ce=1.5*Ra,se.L=Ce,se.j.info("backChannelRequestTimeoutMs_="+Ce)),Ce=se;const fa=M.g;if(fa){const gd=fa.g?fa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gd){var tt=Ce.h;tt.g||gd.indexOf("spdy")==-1&&gd.indexOf("quic")==-1&&gd.indexOf("h2")==-1||(tt.j=tt.l,tt.g=new Set,tt.h&&(tg(tt,tt.h),tt.h=null))}if(Ce.D){const bh=fa.g?fa.g.getResponseHeader("X-HTTP-Session-Id"):null;bh&&(Ce.ya=bh,Zn(Ce.I,Ce.D,bh))}}se.G=3,se.l&&se.l.ua(),se.ba&&(se.R=Date.now()-M.F,se.j.info("Handshake RTT: "+se.R+"ms")),Ce=se;var wt=M;if(Ce.qa=u1(Ce,Ce.J?Ce.ia:null,Ce.W),wt.K){Qv(Ce.h,wt);var Vn=wt,fi=Ce.L;fi&&(Vn.I=fi),Vn.B&&(Mn(Vn),ht(Vn)),Ce.g=wt}else md(Ce);0<se.i.length&&$o(se)}else wn[0]!="stop"&&wn[0]!="close"||Ml(se,7);else se.G==3&&(wn[0]=="stop"||wn[0]=="close"?wn[0]=="stop"?Ml(se,7):Bi(se):wn[0]!="noop"&&se.l&&se.l.ta(wn),se.v=0)}}st(4)}catch{}}var Wo=class{constructor(M,Z){this.g=M,this.map=Z}};function ca(M){this.l=M||10,o.PerformanceNavigationTiming?(M=o.performance.getEntriesByType("navigation"),M=0<M.length&&(M[0].nextHopProtocol=="hq"||M[0].nextHopProtocol=="h2")):M=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=M?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Kr(M){return M.h?!0:M.g?M.g.size>=M.j:!1}function Ic(M){return M.h?1:M.g?M.g.size:0}function ur(M,Z){return M.h?M.h==Z:M.g?M.g.has(Z):!1}function tg(M,Z){M.g?M.g.add(Z):M.h=Z}function Qv(M,Z){M.h&&M.h==Z?M.h=null:M.g&&M.g.has(Z)&&M.g.delete(Z)}ca.prototype.cancel=function(){if(this.i=Zv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const M of this.g.values())M.cancel();this.g.clear()}};function Zv(M){if(M.h!=null)return M.i.concat(M.h.D);if(M.g!=null&&M.g.size!==0){let Z=M.i;for(const se of M.g.values())Z=Z.concat(se.D);return Z}return g(M.i)}function ch(M){if(M.V&&typeof M.V=="function")return M.V();if(typeof Map<"u"&&M instanceof Map||typeof Set<"u"&&M instanceof Set)return Array.from(M.values());if(typeof M=="string")return M.split("");if(l(M)){for(var Z=[],se=M.length,Ce=0;Ce<se;Ce++)Z.push(M[Ce]);return Z}Z=[],se=0;for(Ce in M)Z[se++]=M[Ce];return Z}function uh(M){if(M.na&&typeof M.na=="function")return M.na();if(!M.V||typeof M.V!="function"){if(typeof Map<"u"&&M instanceof Map)return Array.from(M.keys());if(!(typeof Set<"u"&&M instanceof Set)){if(l(M)||typeof M=="string"){var Z=[];M=M.length;for(var se=0;se<M;se++)Z.push(se);return Z}Z=[],se=0;for(const Ce in M)Z[se++]=Ce;return Z}}}function kc(M,Z){if(M.forEach&&typeof M.forEach=="function")M.forEach(Z,void 0);else if(l(M)||typeof M=="string")Array.prototype.forEach.call(M,Z,void 0);else for(var se=uh(M),Ce=ch(M),He=Ce.length,tt=0;tt<He;tt++)Z.call(void 0,Ce[tt],se&&se[tt],M)}var dd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oT(M,Z){if(M){M=M.split("&");for(var se=0;se<M.length;se++){var Ce=M[se].indexOf("="),He=null;if(0<=Ce){var tt=M[se].substring(0,Ce);He=M[se].substring(Ce+1)}else tt=M[se];Z(tt,He?decodeURIComponent(He.replace(/\+/g," ")):"")}}}function kl(M){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,M instanceof kl){this.h=M.h,fd(this,M.j),this.o=M.o,this.g=M.g,Rc(this,M.s),this.l=M.l;var Z=M.i,se=new qo;se.i=Z.i,Z.g&&(se.g=new Map(Z.g),se.h=Z.h),Pc(this,se),this.m=M.m}else M&&(Z=String(M).match(dd))?(this.h=!1,fd(this,Z[1]||"",!0),this.o=bn(Z[2]||""),this.g=bn(Z[3]||"",!0),Rc(this,Z[4]),this.l=bn(Z[5]||"",!0),Pc(this,Z[6]||"",!0),this.m=bn(Z[7]||"")):(this.h=!1,this.i=new qo(null,this.h))}kl.prototype.toString=function(){var M=[],Z=this.j;Z&&M.push(Mc(Z,dh,!0),":");var se=this.g;return(se||Z=="file")&&(M.push("//"),(Z=this.o)&&M.push(Mc(Z,dh,!0),"@"),M.push(encodeURIComponent(String(se)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),se=this.s,se!=null&&M.push(":",String(se))),(se=this.l)&&(this.g&&se.charAt(0)!="/"&&M.push("/"),M.push(Mc(se,se.charAt(0)=="/"?n1:t1,!0))),(se=this.i.toString())&&M.push("?",se),(se=this.m)&&M.push("#",Mc(se,ng)),M.join("")};function ua(M){return new kl(M)}function fd(M,Z,se){M.j=se?bn(Z,!0):Z,M.j&&(M.j=M.j.replace(/:$/,""))}function Rc(M,Z){if(Z){if(Z=Number(Z),isNaN(Z)||0>Z)throw Error("Bad port number "+Z);M.s=Z}else M.s=null}function Pc(M,Z,se){Z instanceof qo?(M.i=Z,zo(M.i,M.h)):(se||(Z=Mc(Z,r1)),M.i=new qo(Z,M.h))}function Zn(M,Z,se){M.i.set(Z,se)}function Fc(M){return Zn(M,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),M}function bn(M,Z){return M?Z?decodeURI(M.replace(/%25/g,"%2525")):decodeURIComponent(M):""}function Mc(M,Z,se){return typeof M=="string"?(M=encodeURI(M).replace(Z,e1),se&&(M=M.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M):null}function e1(M){return M=M.charCodeAt(0),"%"+(M>>4&15).toString(16)+(M&15).toString(16)}var dh=/[#\/\?@]/g,t1=/[#\?:]/g,n1=/[#\?]/g,r1=/[#\?@]/g,ng=/#/g;function qo(M,Z){this.h=this.g=null,this.i=M||null,this.j=!!Z}function ji(M){M.g||(M.g=new Map,M.h=0,M.i&&oT(M.i,function(Z,se){M.add(decodeURIComponent(Z.replace(/\+/g," ")),se)}))}t=qo.prototype,t.add=function(M,Z){ji(this),this.i=null,M=ka(this,M);var se=this.g.get(M);return se||this.g.set(M,se=[]),se.push(Z),this.h+=1,this};function uo(M,Z){ji(M),Z=ka(M,Z),M.g.has(Z)&&(M.i=null,M.h-=M.g.get(Z).length,M.g.delete(Z))}function fo(M,Z){return ji(M),Z=ka(M,Z),M.g.has(Z)}t.forEach=function(M,Z){ji(this),this.g.forEach(function(se,Ce){se.forEach(function(He){M.call(Z,He,Ce,this)},this)},this)},t.na=function(){ji(this);const M=Array.from(this.g.values()),Z=Array.from(this.g.keys()),se=[];for(let Ce=0;Ce<Z.length;Ce++){const He=M[Ce];for(let tt=0;tt<He.length;tt++)se.push(Z[Ce])}return se},t.V=function(M){ji(this);let Z=[];if(typeof M=="string")fo(this,M)&&(Z=Z.concat(this.g.get(ka(this,M))));else{M=Array.from(this.g.values());for(let se=0;se<M.length;se++)Z=Z.concat(M[se])}return Z},t.set=function(M,Z){return ji(this),this.i=null,M=ka(this,M),fo(this,M)&&(this.h-=this.g.get(M).length),this.g.set(M,[Z]),this.h+=1,this},t.get=function(M,Z){return M?(M=this.V(M),0<M.length?String(M[0]):Z):Z};function Uc(M,Z,se){uo(M,Z),0<se.length&&(M.i=null,M.g.set(ka(M,Z),g(se)),M.h+=se.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const M=[],Z=Array.from(this.g.keys());for(var se=0;se<Z.length;se++){var Ce=Z[se];const tt=encodeURIComponent(String(Ce)),wt=this.V(Ce);for(Ce=0;Ce<wt.length;Ce++){var He=tt;wt[Ce]!==""&&(He+="="+encodeURIComponent(String(wt[Ce]))),M.push(He)}}return this.i=M.join("&")};function ka(M,Z){return Z=String(Z),M.j&&(Z=Z.toLowerCase()),Z}function zo(M,Z){Z&&!M.j&&(ji(M),M.i=null,M.g.forEach(function(se,Ce){var He=Ce.toLowerCase();Ce!=He&&(uo(this,Ce),Uc(this,He,se))},M)),M.j=Z}function lT(M,Z){const se=new sn;if(o.Image){const Ce=new Image;Ce.onload=p(Ls,se,"TestLoadImage: loaded",!0,Z,Ce),Ce.onerror=p(Ls,se,"TestLoadImage: error",!1,Z,Ce),Ce.onabort=p(Ls,se,"TestLoadImage: abort",!1,Z,Ce),Ce.ontimeout=p(Ls,se,"TestLoadImage: timeout",!1,Z,Ce),o.setTimeout(function(){Ce.ontimeout&&Ce.ontimeout()},1e4),Ce.src=M}else Z(!1)}function i1(M,Z){const se=new sn,Ce=new AbortController,He=setTimeout(()=>{Ce.abort(),Ls(se,"TestPingServer: timeout",!1,Z)},1e4);fetch(M,{signal:Ce.signal}).then(tt=>{clearTimeout(He),tt.ok?Ls(se,"TestPingServer: ok",!0,Z):Ls(se,"TestPingServer: server error",!1,Z)}).catch(()=>{clearTimeout(He),Ls(se,"TestPingServer: error",!1,Z)})}function Ls(M,Z,se,Ce,He){try{He&&(He.onload=null,He.onerror=null,He.onabort=null,He.ontimeout=null),Ce(se)}catch{}}function cT(){this.g=new lr}function s1(M,Z,se){const Ce=se||"";try{kc(M,function(He,tt){let wt=He;c(He)&&(wt=xn(He)),Z.push(Ce+tt+"="+encodeURIComponent(wt))})}catch(He){throw Z.push(Ce+"type="+encodeURIComponent("_badmap")),He}}function Rl(M){this.l=M.Ub||null,this.j=M.eb||!1}v(Rl,Yn),Rl.prototype.g=function(){return new hd(this.l,this.j)},Rl.prototype.i=(function(M){return function(){return M}})({});function hd(M,Z){Se.call(this),this.D=M,this.o=Z,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(hd,Se),t=hd.prototype,t.open=function(M,Z){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=M,this.A=Z,this.readyState=1,po(this)},t.send=function(M){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const Z={headers:this.u,method:this.B,credentials:this.m,cache:void 0};M&&(Z.body=M),(this.D||o).fetch(new Request(this.A,Z)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ho(this)),this.readyState=0},t.Sa=function(M){if(this.g&&(this.l=M,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=M.headers,this.readyState=2,po(this)),this.g&&(this.readyState=3,po(this),this.g)))if(this.responseType==="arraybuffer")M.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in M){if(this.j=M.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;a1(this)}else M.text().then(this.Ra.bind(this),this.ga.bind(this))};function a1(M){M.j.read().then(M.Pa.bind(M)).catch(M.ga.bind(M))}t.Pa=function(M){if(this.g){if(this.o&&M.value)this.response.push(M.value);else if(!this.o){var Z=M.value?M.value:new Uint8Array(0);(Z=this.v.decode(Z,{stream:!M.done}))&&(this.response=this.responseText+=Z)}M.done?ho(this):po(this),this.readyState==3&&a1(this)}},t.Ra=function(M){this.g&&(this.response=this.responseText=M,ho(this))},t.Qa=function(M){this.g&&(this.response=M,ho(this))},t.ga=function(){this.g&&ho(this)};function ho(M){M.readyState=4,M.l=null,M.j=null,M.v=null,po(M)}t.setRequestHeader=function(M,Z){this.u.append(M,Z)},t.getResponseHeader=function(M){return this.h&&this.h.get(M.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const M=[],Z=this.h.entries();for(var se=Z.next();!se.done;)se=se.value,M.push(se[0]+": "+se[1]),se=Z.next();return M.join(`\r
`)};function po(M){M.onreadystatechange&&M.onreadystatechange.call(M)}Object.defineProperty(hd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(M){this.m=M?"include":"same-origin"}});function Pl(M){let Z="";return R(M,function(se,Ce){Z+=Ce,Z+=":",Z+=se,Z+=`\r
`}),Z}function Oc(M,Z,se){e:{for(Ce in se){var Ce=!1;break e}Ce=!0}Ce||(se=Pl(se),typeof M=="string"?se!=null&&encodeURIComponent(String(se)):Zn(M,Z,se))}function _r(M){Se.call(this),this.headers=new Map,this.o=M||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(_r,Se);var uT=/^https?$/i,rg=["POST","PUT"];t=_r.prototype,t.Ha=function(M){this.J=M},t.ea=function(M,Z,se,Ce){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+M);Z=Z?Z.toUpperCase():"GET",this.D=M,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Re.g(),this.v=this.o?Qn(this.o):Qn(Re),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(Z,String(M),!0),this.B=!1}catch(tt){pd(this,tt);return}if(M=se||"",se=new Map(this.headers),Ce)if(Object.getPrototypeOf(Ce)===Object.prototype)for(var He in Ce)se.set(He,Ce[He]);else if(typeof Ce.keys=="function"&&typeof Ce.get=="function")for(const tt of Ce.keys())se.set(tt,Ce.get(tt));else throw Error("Unknown input type for opt_headers: "+String(Ce));Ce=Array.from(se.keys()).find(tt=>tt.toLowerCase()=="content-type"),He=o.FormData&&M instanceof o.FormData,!(0<=Array.prototype.indexOf.call(rg,Z,void 0))||Ce||He||se.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[tt,wt]of se)this.g.setRequestHeader(tt,wt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{hh(this),this.u=!0,this.g.send(M),this.u=!1}catch(tt){pd(this,tt)}};function pd(M,Z){M.h=!1,M.g&&(M.j=!0,M.g.abort(),M.j=!1),M.l=Z,M.m=5,fh(M),da(M)}function fh(M){M.A||(M.A=!0,Oe(M,"complete"),Oe(M,"error"))}t.abort=function(M){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=M||7,Oe(this,"complete"),Oe(this,"abort"),da(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),da(this,!0)),_r.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ig(this):this.bb())},t.bb=function(){ig(this)};function ig(M){if(M.h&&typeof a<"u"&&(!M.v[1]||js(M)!=4||M.Z()!=2)){if(M.u&&js(M)==4)Ue(M.Ea,0,M);else if(Oe(M,"readystatechange"),js(M)==4){M.h=!1;try{const wt=M.Z();e:switch(wt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var Z=!0;break e;default:Z=!1}var se;if(!(se=Z)){var Ce;if(Ce=wt===0){var He=String(M.D).match(dd)[1]||null;!He&&o.self&&o.self.location&&(He=o.self.location.protocol.slice(0,-1)),Ce=!uT.test(He?He.toLowerCase():"")}se=Ce}if(se)Oe(M,"complete"),Oe(M,"success");else{M.m=6;try{var tt=2<js(M)?M.g.statusText:""}catch{tt=""}M.l=tt+" ["+M.Z()+"]",fh(M)}}finally{da(M)}}}}function da(M,Z){if(M.g){hh(M);const se=M.g,Ce=M.v[0]?()=>{}:null;M.g=null,M.v=null,Z||Oe(M,"ready");try{se.onreadystatechange=Ce}catch{}}}function hh(M){M.I&&(o.clearTimeout(M.I),M.I=null)}t.isActive=function(){return!!this.g};function js(M){return M.g?M.g.readyState:0}t.Z=function(){try{return 2<js(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(M){if(this.g){var Z=this.g.responseText;return M&&Z.indexOf(M)==0&&(Z=Z.substring(M.length)),ln(Z)}};function sg(M){try{if(!M.g)return null;if("response"in M.g)return M.g.response;switch(M.H){case"":case"text":return M.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in M.g)return M.g.mozResponseArrayBuffer}return null}catch{return null}}function ph(M){const Z={};M=(M.g&&2<=js(M)&&M.g.getAllResponseHeaders()||"").split(`\r
`);for(let Ce=0;Ce<M.length;Ce++){if(_(M[Ce]))continue;var se=P(M[Ce]);const He=se[0];if(se=se[1],typeof se!="string")continue;se=se.trim();const tt=Z[He]||[];Z[He]=tt,tt.push(se)}D(Z,function(Ce){return Ce.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ho(M,Z,se){return se&&se.internalChannelParams&&se.internalChannelParams[M]||Z}function ag(M){this.Aa=0,this.i=[],this.j=new sn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ho("failFast",!1,M),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ho("baseRetryDelayMs",5e3,M),this.cb=Ho("retryDelaySeedMs",1e4,M),this.Wa=Ho("forwardChannelMaxRetries",2,M),this.wa=Ho("forwardChannelRequestTimeoutMs",2e4,M),this.pa=M&&M.xmlHttpFactory||void 0,this.Xa=M&&M.Tb||void 0,this.Ca=M&&M.useFetchStreams||!1,this.L=void 0,this.J=M&&M.supportsCrossDomainXhr||!1,this.K="",this.h=new ca(M&&M.concurrentRequestLimit),this.Da=new cT,this.P=M&&M.fastHandshake||!1,this.O=M&&M.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=M&&M.Rb||!1,M&&M.xa&&this.j.xa(),M&&M.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&M&&M.detectBufferingProxy||!1,this.ja=void 0,M&&M.longPollingTimeout&&0<M.longPollingTimeout&&(this.ja=M.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ag.prototype,t.la=8,t.G=1,t.connect=function(M,Z,se,Ce){at(0),this.W=M,this.H=Z||{},se&&Ce!==void 0&&(this.H.OSID=se,this.H.OAID=Ce),this.F=this.X,this.I=u1(this,null,this.W),$o(this)};function Bi(M){if(mh(M),M.G==3){var Z=M.U++,se=ua(M.I);if(Zn(se,"SID",M.K),Zn(se,"RID",Z),Zn(se,"TYPE","terminate"),Fl(M,se),Z=new et(M,M.j,Z),Z.L=2,Z.v=Fc(ua(se)),se=!1,o.navigator&&o.navigator.sendBeacon)try{se=o.navigator.sendBeacon(Z.v.toString(),"")}catch{}!se&&o.Image&&(new Image().src=Z.v,se=!0),se||(Z.g=d1(Z.j,null),Z.g.ea(Z.v)),Z.F=Date.now(),ht(Z)}c1(M)}function mo(M){M.g&&(og(M),M.g.cancel(),M.g=null)}function mh(M){mo(M),M.u&&(o.clearTimeout(M.u),M.u=null),vh(M),M.h.cancel(),M.s&&(typeof M.s=="number"&&o.clearTimeout(M.s),M.s=null)}function $o(M){if(!Kr(M.h)&&!M.s){M.s=!0;var Z=M.Ga;J||Q(),ne||(J(),ne=!0),z.add(Z,M),M.B=0}}function dT(M,Z){return Ic(M.h)>=M.h.j-(M.s?1:0)?!1:M.s?(M.i=Z.D.concat(M.i),!0):M.G==1||M.G==2||M.B>=(M.Va?0:M.Wa)?!1:(M.s=Ct(h(M.Ga,M,Z),l1(M,M.B)),M.B++,!0)}t.Ga=function(M){if(this.s)if(this.s=null,this.G==1){if(!M){this.U=Math.floor(1e5*Math.random()),M=this.U++;const He=new et(this,this.j,M);let tt=this.o;if(this.S&&(tt?(tt=N(tt),F(tt,this.S)):tt=this.S),this.m!==null||this.O||(He.H=tt,tt=null),this.P)e:{for(var Z=0,se=0;se<this.i.length;se++){t:{var Ce=this.i[se];if("__data__"in Ce.map&&(Ce=Ce.map.__data__,typeof Ce=="string")){Ce=Ce.length;break t}Ce=void 0}if(Ce===void 0)break;if(Z+=Ce,4096<Z){Z=se;break e}if(Z===4096||se===this.i.length-1){Z=se+1;break e}}Z=1e3}else Z=1e3;Z=Lc(this,He,Z),se=ua(this.I),Zn(se,"RID",M),Zn(se,"CVER",22),this.D&&Zn(se,"X-HTTP-Session-Id",this.D),Fl(this,se),tt&&(this.O?Z="headers="+encodeURIComponent(String(Pl(tt)))+"&"+Z:this.m&&Oc(se,this.m,tt)),tg(this.h,He),this.Ua&&Zn(se,"TYPE","init"),this.P?(Zn(se,"$req",Z),Zn(se,"SID","null"),He.T=!0,ft(He,se,null)):ft(He,se,Z),this.G=2}}else this.G==3&&(M?gh(this,M):this.i.length==0||Kr(this.h)||gh(this))};function gh(M,Z){var se;Z?se=Z.l:se=M.U++;const Ce=ua(M.I);Zn(Ce,"SID",M.K),Zn(Ce,"RID",se),Zn(Ce,"AID",M.T),Fl(M,Ce),M.m&&M.o&&Oc(Ce,M.m,M.o),se=new et(M,M.j,se,M.B+1),M.m===null&&(se.H=M.o),Z&&(M.i=Z.D.concat(M.i)),Z=Lc(M,se,1e3),se.I=Math.round(.5*M.wa)+Math.round(.5*M.wa*Math.random()),tg(M.h,se),ft(se,Ce,Z)}function Fl(M,Z){M.H&&R(M.H,function(se,Ce){Zn(Z,Ce,se)}),M.l&&kc({},function(se,Ce){Zn(Z,Ce,se)})}function Lc(M,Z,se){se=Math.min(M.i.length,se);var Ce=M.l?h(M.l.Na,M.l,M):null;e:{var He=M.i;let tt=-1;for(;;){const wt=["count="+se];tt==-1?0<se?(tt=He[0].g,wt.push("ofs="+tt)):tt=0:wt.push("ofs="+tt);let Vn=!0;for(let fi=0;fi<se;fi++){let wn=He[fi].g;const Ti=He[fi].map;if(wn-=tt,0>wn)tt=Math.max(0,He[fi].g-100),Vn=!1;else try{s1(Ti,wt,"req"+wn+"_")}catch{Ce&&Ce(Ti)}}if(Vn){Ce=wt.join("&");break e}}}return M=M.i.splice(0,se),Z.D=M,Ce}function md(M){if(!M.g&&!M.u){M.Y=1;var Z=M.Fa;J||Q(),ne||(J(),ne=!0),z.add(Z,M),M.v=0}}function yh(M){return M.g||M.u||3<=M.v?!1:(M.Y++,M.u=Ct(h(M.Fa,M),l1(M,M.v)),M.v++,!0)}t.Fa=function(){if(this.u=null,o1(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var M=2*this.R;this.j.info("BP detection timer enabled: "+M),this.A=Ct(h(this.ab,this),M)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),mo(this),o1(this))};function og(M){M.A!=null&&(o.clearTimeout(M.A),M.A=null)}function o1(M){M.g=new et(M,M.j,"rpc",M.Y),M.m===null&&(M.g.H=M.o),M.g.O=0;var Z=ua(M.qa);Zn(Z,"RID","rpc"),Zn(Z,"SID",M.K),Zn(Z,"AID",M.T),Zn(Z,"CI",M.F?"0":"1"),!M.F&&M.ja&&Zn(Z,"TO",M.ja),Zn(Z,"TYPE","xmlhttp"),Fl(M,Z),M.m&&M.o&&Oc(Z,M.m,M.o),M.L&&(M.g.I=M.L);var se=M.g;M=M.ia,se.L=1,se.v=Fc(ua(Z)),se.m=null,se.P=!0,_t(se,M)}t.Za=function(){this.C!=null&&(this.C=null,mo(this),yh(this),at(19))};function vh(M){M.C!=null&&(o.clearTimeout(M.C),M.C=null)}function xh(M,Z){var se=null;if(M.g==Z){vh(M),og(M),M.g=null;var Ce=2}else if(ur(M.h,Z))se=Z.D,Qv(M.h,Z),Ce=1;else return;if(M.G!=0){if(Z.o)if(Ce==1){se=Z.m?Z.m.length:0,Z=Date.now()-Z.F;var He=M.B;Ce=ke(),Oe(Ce,new Dt(Ce,se)),$o(M)}else md(M);else if(He=Z.s,He==3||He==0&&0<Z.X||!(Ce==1&&dT(M,Z)||Ce==2&&yh(M)))switch(se&&0<se.length&&(Z=M.h,Z.i=Z.i.concat(se)),He){case 1:Ml(M,5);break;case 4:Ml(M,10);break;case 3:Ml(M,6);break;default:Ml(M,2)}}}function l1(M,Z){let se=M.Ta+Math.floor(Math.random()*M.cb);return M.isActive()||(se*=2),se*Z}function Ml(M,Z){if(M.j.info("Error code "+Z),Z==2){var se=h(M.fb,M),Ce=M.Xa;const He=!Ce;Ce=new kl(Ce||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||fd(Ce,"https"),Fc(Ce),He?lT(Ce.toString(),se):i1(Ce.toString(),se)}else at(2);M.G=0,M.l&&M.l.sa(Z),c1(M),mh(M)}t.fb=function(M){M?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function c1(M){if(M.G=0,M.ka=[],M.l){const Z=Zv(M.h);(Z.length!=0||M.i.length!=0)&&(y(M.ka,Z),y(M.ka,M.i),M.h.i.length=0,g(M.i),M.i.length=0),M.l.ra()}}function u1(M,Z,se){var Ce=se instanceof kl?ua(se):new kl(se);if(Ce.g!="")Z&&(Ce.g=Z+"."+Ce.g),Rc(Ce,Ce.s);else{var He=o.location;Ce=He.protocol,Z=Z?Z+"."+He.hostname:He.hostname,He=+He.port;var tt=new kl(null);Ce&&fd(tt,Ce),Z&&(tt.g=Z),He&&Rc(tt,He),se&&(tt.l=se),Ce=tt}return se=M.D,Z=M.ya,se&&Z&&Zn(Ce,se,Z),Zn(Ce,"VER",M.la),Fl(M,Ce),Ce}function d1(M,Z,se){if(Z&&!M.J)throw Error("Can't create secondary domain capable XhrIo object.");return Z=M.Ca&&!M.pa?new _r(new Rl({eb:se})):new _r(M.pa),Z.Ha(M.J),Z}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function lg(){}t=lg.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function _h(){}_h.prototype.g=function(M,Z){return new Ts(M,Z)};function Ts(M,Z){Se.call(this),this.g=new ag(Z),this.l=M,this.h=Z&&Z.messageUrlParams||null,M=Z&&Z.messageHeaders||null,Z&&Z.clientProtocolHeaderRequired&&(M?M["X-Client-Protocol"]="webchannel":M={"X-Client-Protocol":"webchannel"}),this.g.o=M,M=Z&&Z.initMessageHeaders||null,Z&&Z.messageContentType&&(M?M["X-WebChannel-Content-Type"]=Z.messageContentType:M={"X-WebChannel-Content-Type":Z.messageContentType}),Z&&Z.va&&(M?M["X-WebChannel-Client-Profile"]=Z.va:M={"X-WebChannel-Client-Profile":Z.va}),this.g.S=M,(M=Z&&Z.Sb)&&!_(M)&&(this.g.m=M),this.v=Z&&Z.supportsCrossDomainXhr||!1,this.u=Z&&Z.sendRawJson||!1,(Z=Z&&Z.httpSessionIdParam)&&!_(Z)&&(this.g.D=Z,M=this.h,M!==null&&Z in M&&(M=this.h,Z in M&&delete M[Z])),this.j=new Go(this)}v(Ts,Se),Ts.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ts.prototype.close=function(){Bi(this.g)},Ts.prototype.o=function(M){var Z=this.g;if(typeof M=="string"){var se={};se.__data__=M,M=se}else this.u&&(se={},se.__data__=xn(M),M=se);Z.i.push(new Wo(Z.Ya++,M)),Z.G==3&&$o(Z)},Ts.prototype.N=function(){this.g.l=null,delete this.j,Bi(this.g),delete this.g,Ts.aa.N.call(this)};function f1(M){En.call(this),M.__headers__&&(this.headers=M.__headers__,this.statusCode=M.__status__,delete M.__headers__,delete M.__status__);var Z=M.__sm__;if(Z){e:{for(const se in Z){M=se;break e}M=void 0}(this.i=M)&&(M=this.i,Z=Z!==null&&M in Z?Z[M]:void 0),this.data=Z}else this.data=M}v(f1,En);function h1(){pe.call(this),this.status=1}v(h1,pe);function Go(M){this.g=M}v(Go,lg),Go.prototype.ua=function(){Oe(this.g,"a")},Go.prototype.ta=function(M){Oe(this.g,new f1(M))},Go.prototype.sa=function(M){Oe(this.g,new h1)},Go.prototype.ra=function(){Oe(this.g,"b")},_h.prototype.createWebChannel=_h.prototype.g,Ts.prototype.send=Ts.prototype.o,Ts.prototype.open=Ts.prototype.m,Ts.prototype.close=Ts.prototype.close,cV=function(){return new _h},lV=function(){return ke()},oV=we,NA={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ne.NO_ERROR=0,Ne.TIMEOUT=8,Ne.HTTP_ERROR=6,e2=Ne,Ie.COMPLETE="complete",aV=Ie,cr.EventType=Yt,Yt.OPEN="a",Yt.CLOSE="b",Yt.ERROR="c",Yt.MESSAGE="d",Se.prototype.listen=Se.prototype.K,u0=cr,_r.prototype.listenOnce=_r.prototype.L,_r.prototype.getLastError=_r.prototype.Ka,_r.prototype.getLastErrorCode=_r.prototype.Ba,_r.prototype.getStatus=_r.prototype.Z,_r.prototype.getResponseJson=_r.prototype.Oa,_r.prototype.getResponseText=_r.prototype.oa,_r.prototype.send=_r.prototype.ea,_r.prototype.setWithCredentials=_r.prototype.Ha,sV=_r}).apply(typeof lx<"u"?lx:typeof self<"u"?self:typeof window<"u"?window:{});const AP="@firebase/firestore",NP="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ri=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ri.UNAUTHENTICATED=new Ri(null),Ri.GOOGLE_CREDENTIALS=new Ri("google-credentials-uid"),Ri.FIRST_PARTY=new Ri("first-party-uid"),Ri.MOCK_USER=new Ri("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Em="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iu=new Tm("@firebase/firestore");function rp(){return Iu.logLevel}function Rne(t){Iu.setLogLevel(t)}function ut(t,...e){if(Iu.logLevel<=gn.DEBUG){const n=e.map(UN);Iu.debug(`Firestore (${Em}): ${t}`,...n)}}function Yr(t,...e){if(Iu.logLevel<=gn.ERROR){const n=e.map(UN);Iu.error(`Firestore (${Em}): ${t}`,...n)}}function bl(t,...e){if(Iu.logLevel<=gn.WARN){const n=e.map(UN);Iu.warn(`Firestore (${Em}): ${t}`,...n)}}function UN(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,uV(t,r,n)}function uV(t,e,n){let r=`FIRESTORE (${Em}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Yr(r),new Error(r)}function Ut(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||uV(e,i,r)}function Pne(t,e){t||Nt(57014,e)}function Et(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ze={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends ps{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Fne{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Ri.UNAUTHENTICATED)))}shutdown(){}}class Mne{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Une{constructor(e){this.t=e,this.currentUser=Ri.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ut(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Xi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Xi,e.enqueueRetryable((()=>i(this.currentUser)))};const a=()=>{const l=s;e.enqueueRetryable((async()=>{await l.promise,await i(this.currentUser)}))},o=l=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((l=>o(l))),setTimeout((()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Xi)}}),0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ut(typeof r.accessToken=="string",31837,{l:r}),new dV(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ut(e===null||typeof e=="string",2055,{h:e}),new Ri(e)}}class One{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ri.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Lne{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new One(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Ri.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class IP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jne{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ir(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ut(this.o===void 0,3512);const r=s=>{s.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,ut("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new IP(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ut(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new IP(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bne(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Bne(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function nn(t,e){return t<e?-1:t>e?1:0}function IA(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return qE(i)===qE(s)?nn(i,s):qE(i)?1:-1}return nn(t.length,e.length)}const Vne=55296,Wne=57343;function qE(t){const e=t.charCodeAt(0);return e>=Vne&&e<=Wne}function jp(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}function fV(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP="__name__";class rl{constructor(e,n,r){n===void 0?n=0:n>e.length&&Nt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Nt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return rl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof rl?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=rl.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return nn(e.length,n.length)}static compareSegments(e,n){const r=rl.isNumericId(e),i=rl.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?rl.extractNumericId(e).compare(rl.extractNumericId(n)):IA(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xu.fromString(e.substring(4,e.length-2))}}class vn extends rl{construct(e,n,r){return new vn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ot(Ze.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new vn(n)}static emptyPath(){return new vn([])}}const qne=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tr extends rl{construct(e,n,r){return new Tr(e,n,r)}static isValidIdentifier(e){return qne.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===kP}static keyField(){return new Tr([kP])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ot(Ze.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new ot(Ze.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ot(Ze.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(r+=o,i++):(s(),i++)}if(s(),a)throw new ot(Ze.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tr(n)}static emptyPath(){return new Tr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.path=e}static fromPath(e){return new Tt(vn.fromString(e))}static fromName(e){return new Tt(vn.fromString(e).popFirst(5))}static empty(){return new Tt(vn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return vn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Tt(new vn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(t,e,n){if(!n)throw new ot(Ze.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function hV(t,e,n,r){if(e===!0&&r===!0)throw new ot(Ze.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function RP(t){if(!Tt.isDocumentKey(t))throw new ot(Ze.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function PP(t){if(Tt.isDocumentKey(t))throw new ot(Ze.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function pV(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function db(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Nt(12329,{type:typeof t})}function Rn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ot(Ze.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=db(t);throw new ot(Ze.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function mV(t,e){if(e<=0)throw new ot(Ze.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(t,e){const n={typeString:t};return e&&(n.value=e),n}function av(t,e){if(!pV(t))throw new ot(Ze.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new ot(Ze.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP=-62135596800,MP=1e6;class On{static now(){return On.fromMillis(Date.now())}static fromDate(e){return On.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*MP);return new On(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ot(Ze.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ot(Ze.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<FP)throw new ot(Ze.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ot(Ze.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/MP}_compareTo(e){return this.seconds===e.seconds?nn(this.nanoseconds,e.nanoseconds):nn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:On._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(av(e,On._jsonSchema))return new On(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-FP;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}On._jsonSchemaVersion="firestore/timestamp/1.0",On._jsonSchema={type:di("string",On._jsonSchemaVersion),seconds:di("number"),nanoseconds:di("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{static fromTimestamp(e){return new Bt(e)}static min(){return new Bt(new On(0,0))}static max(){return new Bt(new On(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp=-1;class G2{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function kA(t){return t.fields.find((e=>e.kind===2))}function Od(t){return t.fields.filter((e=>e.kind!==2))}G2.UNKNOWN_ID=-1;class t2{constructor(e,n){this.fieldPath=e,this.kind=n}}class ay{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new ay(0,Da.min())}}function gV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Bt.fromTimestamp(r===1e9?new On(n+1,0):new On(n,r));return new Da(i,Tt.empty(),e)}function yV(t){return new Da(t.readTime,t.key,Bp)}class Da{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Da(Bt.min(),Tt.empty(),Bp)}static max(){return new Da(Bt.max(),Tt.empty(),Bp)}}function jN(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Tt.comparator(t.documentKey,e.documentKey),n!==0?n:nn(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xu(t){if(t.code!==Ze.FAILED_PRECONDITION||t.message!==vV)throw t;ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Nt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new qe(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof qe?n:qe.resolve(n)}catch(n){return qe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):qe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):qe.reject(n)}static resolve(e){return new qe(((n,r)=>{n(e)}))}static reject(e){return new qe(((n,r)=>{r(e)}))}static waitFor(e){return new qe(((n,r)=>{let i=0,s=0,a=!1;e.forEach((o=>{++i,o.next((()=>{++s,a&&s===i&&n()}),(l=>r(l)))})),a=!0,s===i&&n()}))}static or(e){let n=qe.resolve(!1);for(const r of e)n=n.next((i=>i?qe.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new qe(((r,i)=>{const s=e.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next((u=>{a[c]=u,++o,o===s&&r(a)}),(u=>i(u)))}}))}static doWhile(e,n){return new qe(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="SimpleDb";class fb{static open(e,n,r,i){try{return new fb(n,e.transaction(i,r))}catch(s){throw new w0(n,s)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new Xi,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new w0(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=BN(r.target.error);this.S.reject(new w0(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(ut(ga,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Hne(n)}}class gl{static delete(e){return ut(ga,"Removing database:",e),Vd(CN().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!ny())return!1;if(gl.F())return!0;const e=Fr(),n=gl.M(e),r=0<n&&n<10,i=_V(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,gl.M(Fr())===12.2&&Yr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(ut(ga,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const a=s.target.result;n(a)},i.onblocked=()=>{r(new w0(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const a=s.target.error;a.name==="VersionError"?r(new ot(Ze.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?r(new ot(Ze.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):r(new w0(e,a))},i.onupgradeneeded=s=>{ut(ga,'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const a=s.target.result;this.N.k(a,i.transaction,s.oldVersion,this.version).next((()=>{ut(ga,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.L(e);const o=fb.open(this.db,e,s?"readonly":"readwrite",r),l=i(o).next((c=>(o.C(),c))).catch((c=>(o.abort(c),qe.reject(c)))).toPromise();return l.catch((()=>{})),await o.D,l}catch(o){const l=o,c=l.name!=="FirebaseError"&&a<3;if(ut(ga,"Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function _V(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class zne{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return Vd(this.U.delete())}}class w0 extends ot{constructor(e,n){super(Ze.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Ju(t){return t.name==="IndexedDbTransactionError"}class Hne{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(ut(ga,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(ut(ga,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Vd(r)}add(e){return ut(ga,"ADD",this.store.name,e,e),Vd(this.store.add(e))}get(e){return Vd(this.store.get(e)).next((n=>(n===void 0&&(n=null),ut(ga,"GET",this.store.name,e,n),n)))}delete(e){return ut(ga,"DELETE",this.store.name,e),Vd(this.store.delete(e))}count(){return ut(ga,"COUNT",this.store.name),Vd(this.store.count())}J(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new qe(((a,o)=>{s.onerror=l=>{o(l.target.error)},s.onsuccess=l=>{a(l.target.result)}}))}{const s=this.cursor(r),a=[];return this.H(s,((o,l)=>{a.push(l)})).next((()=>a))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new qe(((i,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{i(a.target.result)}}))}Z(e,n){ut(ga,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const i=this.cursor(r);return this.H(i,((s,a,o)=>o.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.H(i,n)}te(e){const n=this.cursor({});return new qe(((r,i)=>{n.onerror=s=>{const a=BN(s.target.error);i(a)},n.onsuccess=s=>{const a=s.target.result;a?e(a.primaryKey,a.value).next((o=>{o?a.continue():r()})):r()}}))}H(e,n){const r=[];return new qe(((i,s)=>{e.onerror=a=>{s(a.target.error)},e.onsuccess=a=>{const o=a.target.result;if(!o)return void i();const l=new zne(o),c=n(o.primaryKey,o.value,l);if(c instanceof qe){const u=c.catch((f=>(l.done(),qe.reject(f))));r.push(u)}l.isDone?i():l.G===null?o.continue():o.continue(l.G)}})).next((()=>qe.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Vd(t){return new qe(((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=BN(r.target.error);n(i)}}))}let UP=!1;function BN(t){const e=gl.M(Fr());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new ot("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return UP||(UP=!0,setTimeout((()=>{throw r}),0)),r}}return t}const T0="IndexBackfiller";class $ne{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){ut(T0,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();ut(T0,`Documents written: ${n}`)}catch(n){Ju(n)?ut(T0,"Ignoring IndexedDB error during index backfill: ",n):await Xu(n)}await this.re(6e4)}))}}class Gne{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let i=n,s=!0;return qe.doWhile((()=>s===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((a=>{if(a!==null&&!r.has(a))return ut(T0,`Processing collection: ${a}`),this.oe(e,a,i).next((o=>{i-=o,r.add(a)}));s=!1})))).next((()=>n-i))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next((s=>{const a=s.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next((()=>this._e(i,s))).next((o=>(ut(T0,`Updating offset: ${o}`),this.localStore.indexManager.updateCollectionGroup(e,n,o)))).next((()=>a.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((i,s)=>{const a=yV(s);jN(a,r)>0&&(r=a)})),new Da(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Xs.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _u=-1;function ov(t){return t==null}function oy(t){return t===0&&1/t==-1/0}function bV(t){return typeof t=="number"&&Number.isInteger(t)&&!oy(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2="";function ms(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=OP(e)),e=Kne(t.get(n),e);return OP(e)}function Kne(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case K2:n+="";break;default:n+=s}}return n}function OP(t){return t+K2+""}function ul(t){const e=t.length;if(Ut(e>=2,64408,{path:t}),e===2)return Ut(t.charAt(0)===K2&&t.charAt(1)==="",56145,{path:t}),vn.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const a=t.indexOf(K2,s);switch((a<0||a>n)&&Nt(50515,{path:t}),t.charAt(a+1)){case"":const o=t.substring(s,a);let l;i.length===0?l=o:(i+=o,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,a),i+="\0";break;case"":i+=t.substring(s,a+1);break;default:Nt(61167,{path:t})}s=a+2}return new vn(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld="remoteDocuments",lv="owner",Wh="owner",ly="mutationQueues",Xne="userId",Do="mutations",LP="batchId",Gd="userMutationsIndex",jP=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(t,e){return[t,ms(e)]}function wV(t,e,n){return[t,ms(e),n]}const Jne={},Vp="documentMutations",X2="remoteDocumentsV14",Yne=["prefixPath","collectionGroup","readTime","documentId"],r2="documentKeyIndex",Qne=["prefixPath","collectionGroup","documentId"],TV="collectionGroupIndex",Zne=["collectionGroup","readTime","prefixPath","documentId"],cy="remoteDocumentGlobal",RA="remoteDocumentGlobalKey",Wp="targets",EV="queryTargetsIndex",ere=["canonicalId","targetId"],qp="targetDocuments",tre=["targetId","path"],VN="documentTargetsIndex",nre=["path","targetId"],J2="targetGlobalKey",tf="targetGlobal",uy="collectionParents",rre=["collectionId","parent"],zp="clientMetadata",ire="clientId",hb="bundles",sre="bundleId",pb="namedQueries",are="name",WN="indexConfiguration",ore="indexId",PA="collectionGroupIndex",lre="collectionGroup",E0="indexState",cre=["indexId","uid"],CV="sequenceNumberIndex",ure=["uid","sequenceNumber"],C0="indexEntries",dre=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],SV="documentKeyIndex",fre=["indexId","uid","orderedDocumentKey"],mb="documentOverlays",hre=["userId","collectionPath","documentId"],FA="collectionPathOverlayIndex",pre=["userId","collectionPath","largestBatchId"],DV="collectionGroupOverlayIndex",mre=["userId","collectionGroup","largestBatchId"],qN="globals",gre="name",AV=[ly,Do,Vp,Ld,Wp,lv,tf,qp,zp,cy,uy,hb,pb],yre=[...AV,mb],NV=[ly,Do,Vp,X2,Wp,lv,tf,qp,zp,cy,uy,hb,pb,mb],IV=NV,zN=[...IV,WN,E0,C0],vre=zN,kV=[...zN,qN],xre=kV;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA extends xV{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function wi(t,e){const n=Et(t);return gl.O(n.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BP(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Yu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function RV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mr=class UA{constructor(e,n){this.comparator=e,this.root=n||bu.EMPTY}insert(e,n){return new UA(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,bu.BLACK,null,null))}remove(e){return new UA(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bu.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cx(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cx(this.root,e,this.comparator,!1)}getReverseIterator(){return new cx(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cx(this.root,e,this.comparator,!0)}},cx=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},bu=class $l{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??$l.RED,this.left=i??$l.EMPTY,this.right=s??$l.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new $l(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return $l.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return $l.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$l.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$l.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Nt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Nt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Nt(27949);return e+(this.isRed()?0:1)}};bu.EMPTY=null,bu.RED=!0,bu.BLACK=!1;bu.EMPTY=new class{constructor(){this.size=0}get key(){throw Nt(57766)}get value(){throw Nt(16141)}get color(){throw Nt(16727)}get left(){throw Nt(29726)}get right(){throw Nt(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new bu(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.comparator=e,this.data=new Mr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new VP(this.data.getIterator())}getIteratorFrom(e){return new VP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Gn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Gn(this.comparator);return n.data=e,n}}class VP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function qh(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e){this.fields=e,e.sort(Tr.comparator)}static empty(){return new Js([])}unionWith(e){let n=new Gn(Tr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Js(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return jp(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _re(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new PV("Invalid base64 string: "+s):s}})(e);return new Wr(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s})(e);return new Wr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wr.EMPTY_BYTE_STRING=new Wr("");const bre=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dc(t){if(Ut(!!t,39018),typeof t=="string"){let e=0;const n=bre.exec(t);if(Ut(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wr(t.seconds),nanos:wr(t.nanos)}}function wr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function fc(t){return typeof t=="string"?Wr.fromBase64String(t):Wr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV="server_timestamp",MV="__type__",UV="__previous_value__",OV="__local_write_time__";function gb(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[MV])==null?void 0:r.stringValue)===FV}function yb(t){const e=t.mapValue.fields[UV];return gb(e)?yb(e):e}function dy(t){const e=dc(t.mapValue.fields[OV].timestampValue);return new On(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wre{constructor(e,n,r,i,s,a,o,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const OA="(default)";class ku{constructor(e,n){this.projectId=e,this.database=n||OA}static empty(){return new ku("","")}get isDefaultDatabase(){return this.database===OA}isEqual(e){return e instanceof ku&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN="__type__",LV="__max__",cu={mapValue:{fields:{__type__:{stringValue:LV}}}},$N="__vector__",Hp="value",i2={nullValue:"NULL_VALUE"};function Ru(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?gb(t)?4:jV(t)?9007199254740991:vb(t)?10:11:Nt(28295,{value:t})}function wl(t,e){if(t===e)return!0;const n=Ru(t);if(n!==Ru(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return dy(t).isEqual(dy(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=dc(i.timestampValue),o=dc(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return fc(i.bytesValue).isEqual(fc(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return wr(i.geoPointValue.latitude)===wr(s.geoPointValue.latitude)&&wr(i.geoPointValue.longitude)===wr(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return wr(i.integerValue)===wr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=wr(i.doubleValue),o=wr(s.doubleValue);return a===o?oy(a)===oy(o):isNaN(a)&&isNaN(o)}return!1})(t,e);case 9:return jp(t.arrayValue.values||[],e.arrayValue.values||[],wl);case 10:case 11:return(function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(BP(a)!==BP(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!wl(a[l],o[l])))return!1;return!0})(t,e);default:return Nt(52216,{left:t})}}function fy(t,e){return(t.values||[]).find((n=>wl(n,e)))!==void 0}function Pu(t,e){if(t===e)return 0;const n=Ru(t),r=Ru(e);if(n!==r)return nn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return nn(t.booleanValue,e.booleanValue);case 2:return(function(s,a){const o=wr(s.integerValue||s.doubleValue),l=wr(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1})(t,e);case 3:return WP(t.timestampValue,e.timestampValue);case 4:return WP(dy(t),dy(e));case 5:return IA(t.stringValue,e.stringValue);case 6:return(function(s,a){const o=fc(s),l=fc(a);return o.compareTo(l)})(t.bytesValue,e.bytesValue);case 7:return(function(s,a){const o=s.split("/"),l=a.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=nn(o[c],l[c]);if(u!==0)return u}return nn(o.length,l.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,a){const o=nn(wr(s.latitude),wr(a.latitude));return o!==0?o:nn(wr(s.longitude),wr(a.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return qP(t.arrayValue,e.arrayValue);case 10:return(function(s,a){var h,p,v,g;const o=s.fields||{},l=a.fields||{},c=(h=o[Hp])==null?void 0:h.arrayValue,u=(p=l[Hp])==null?void 0:p.arrayValue,f=nn(((v=c==null?void 0:c.values)==null?void 0:v.length)||0,((g=u==null?void 0:u.values)==null?void 0:g.length)||0);return f!==0?f:qP(c,u)})(t.mapValue,e.mapValue);case 11:return(function(s,a){if(s===cu.mapValue&&a===cu.mapValue)return 0;if(s===cu.mapValue)return 1;if(a===cu.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),c=a.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const h=IA(l[f],u[f]);if(h!==0)return h;const p=Pu(o[l[f]],c[u[f]]);if(p!==0)return p}return nn(l.length,u.length)})(t.mapValue,e.mapValue);default:throw Nt(23264,{he:n})}}function WP(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return nn(t,e);const n=dc(t),r=dc(e),i=nn(n.seconds,r.seconds);return i!==0?i:nn(n.nanos,r.nanos)}function qP(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Pu(n[i],r[i]);if(s)return s}return nn(n.length,r.length)}function $p(t){return LA(t)}function LA(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=dc(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return fc(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Tt.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=LA(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${LA(n.fields[a])}`;return i+"}"})(t.mapValue):Nt(61005,{value:t})}function s2(t){switch(Ru(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yb(t);return e?16+s2(e):16;case 5:return 2*t.stringValue.length;case 6:return fc(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+s2(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Yu(r.fields,((s,a)=>{i+=s.length+s2(a)})),i})(t.mapValue);default:throw Nt(13486,{value:t})}}function hf(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function jA(t){return!!t&&"integerValue"in t}function hy(t){return!!t&&"arrayValue"in t}function zP(t){return!!t&&"nullValue"in t}function HP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function a2(t){return!!t&&"mapValue"in t}function vb(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[HN])==null?void 0:r.stringValue)===$N}function S0(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Yu(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=S0(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=S0(t.arrayValue.values[n]);return e}return{...t}}function jV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===LV}const BV={mapValue:{fields:{[HN]:{stringValue:$N},[Hp]:{arrayValue:{}}}}};function Tre(t){return"nullValue"in t?i2:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?hf(ku.empty(),Tt.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?vb(t)?BV:{mapValue:{}}:Nt(35942,{value:t})}function Ere(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?hf(ku.empty(),Tt.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?BV:"mapValue"in t?vb(t)?{mapValue:{}}:cu:Nt(61959,{value:t})}function $P(t,e){const n=Pu(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function GP(t,e){const n=Pu(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e){this.value=e}static empty(){return new Gi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!a2(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=S0(n)}setAll(e){let n=Tr.emptyPath(),r={},i=[];e.forEach(((a,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}a?r[o.lastSegment()]=S0(a):i.push(o.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());a2(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return wl(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];a2(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Yu(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new Gi(S0(this.value))}}function VV(t){const e=[];return Yu(t.fields,((n,r)=>{const i=new Tr([n]);if(a2(r)){const s=VV(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)})),new Js(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,n,r,i,s,a,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new mr(e,0,Bt.min(),Bt.min(),Bt.min(),Gi.empty(),0)}static newFoundDocument(e,n,r,i){return new mr(e,1,n,Bt.min(),r,i,0)}static newNoDocument(e,n){return new mr(e,2,n,Bt.min(),Bt.min(),Gi.empty(),0)}static newUnknownDocument(e,n){return new mr(e,3,n,Bt.min(),Bt.min(),Gi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,n){this.position=e,this.inclusive=n}}function KP(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=Tt.comparator(Tt.fromName(a.referenceValue),n.key):r=Pu(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function XP(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!wl(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e,n="asc"){this.field=e,this.dir=n}}function Cre(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{}class _n extends WV{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Sre(e,n,r):n==="array-contains"?new Nre(e,r):n==="in"?new KV(e,r):n==="not-in"?new Ire(e,r):n==="array-contains-any"?new kre(e,r):new _n(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Dre(e,r):new Are(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Pu(n,this.value)):n!==null&&Ru(this.value)===Ru(n)&&this.matchesComparison(Pu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Nt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hn extends WV{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Hn(e,n)}matches(e){return Gp(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Gp(t){return t.op==="and"}function BA(t){return t.op==="or"}function GN(t){return qV(t)&&Gp(t)}function qV(t){for(const e of t.filters)if(e instanceof Hn)return!1;return!0}function VA(t){if(t instanceof _n)return t.field.canonicalString()+t.op.toString()+$p(t.value);if(GN(t))return t.filters.map((e=>VA(e))).join(",");{const e=t.filters.map((n=>VA(n))).join(",");return`${t.op}(${e})`}}function zV(t,e){return t instanceof _n?(function(r,i){return i instanceof _n&&r.op===i.op&&r.field.isEqual(i.field)&&wl(r.value,i.value)})(t,e):t instanceof Hn?(function(r,i){return i instanceof Hn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,a,o)=>s&&zV(a,i.filters[o])),!0):!1})(t,e):void Nt(19439)}function HV(t,e){const n=t.filters.concat(e);return Hn.create(n,t.op)}function $V(t){return t instanceof _n?(function(n){return`${n.field.canonicalString()} ${n.op} ${$p(n.value)}`})(t):t instanceof Hn?(function(n){return n.op.toString()+" {"+n.getFilters().map($V).join(" ,")+"}"})(t):"Filter"}class Sre extends _n{constructor(e,n,r){super(e,n,r),this.key=Tt.fromName(r.referenceValue)}matches(e){const n=Tt.comparator(e.key,this.key);return this.matchesComparison(n)}}class Dre extends _n{constructor(e,n){super(e,"in",n),this.keys=GV("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Are extends _n{constructor(e,n){super(e,"not-in",n),this.keys=GV("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function GV(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>Tt.fromName(r.referenceValue)))}class Nre extends _n{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return hy(n)&&fy(n.arrayValue,this.value)}}class KV extends _n{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&fy(this.value.arrayValue,n)}}class Ire extends _n{constructor(e,n){super(e,"not-in",n)}matches(e){if(fy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!fy(this.value.arrayValue,n)}}class kre extends _n{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!hy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>fy(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rre{constructor(e,n=null,r=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.Te=null}}function WA(t,e=null,n=[],r=[],i=null,s=null,a=null){return new Rre(t,e,n,r,i,s,a)}function pf(t){const e=Et(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>VA(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),ov(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>$p(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>$p(r))).join(",")),e.Te=n}return e.Te}function cv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Cre(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!zV(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!XP(t.startAt,e.startAt)&&XP(t.endAt,e.endAt)}function Y2(t){return Tt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Q2(t,e){return t.filters.filter((n=>n instanceof _n&&n.field.isEqual(e)))}function JP(t,e,n){let r=i2,i=!0;for(const s of Q2(t,e)){let a=i2,o=!0;switch(s.op){case"<":case"<=":a=Tre(s.value);break;case"==":case"in":case">=":a=s.value;break;case">":a=s.value,o=!1;break;case"!=":case"not-in":a=i2}$P({value:r,inclusive:i},{value:a,inclusive:o})<0&&(r=a,i=o)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const a=n.position[s];$P({value:r,inclusive:i},{value:a,inclusive:n.inclusive})<0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}function YP(t,e,n){let r=cu,i=!0;for(const s of Q2(t,e)){let a=cu,o=!0;switch(s.op){case">=":case">":a=Ere(s.value),o=!1;break;case"==":case"in":case"<=":a=s.value;break;case"<":a=s.value,o=!1;break;case"!=":case"not-in":a=cu}GP({value:r,inclusive:i},{value:a,inclusive:o})>0&&(r=a,i=o)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const a=n.position[s];GP({value:r,inclusive:i},{value:a,inclusive:n.inclusive})>0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,n=null,r=[],i=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function XV(t,e,n,r,i,s,a,o){return new xc(t,e,n,r,i,s,a,o)}function Cm(t){return new xc(t)}function QP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function KN(t){return t.collectionGroup!==null}function xp(t){const e=Et(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new Gn(Tr.comparator);return a.filters.forEach((l=>{l.getFlattenedFilters().forEach((c=>{c.isInequality()&&(o=o.add(c.field))}))})),o})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new py(s,r))})),n.has(Tr.keyField().canonicalString())||e.Ie.push(new py(Tr.keyField(),r))}return e.Ie}function Rs(t){const e=Et(t);return e.Ee||(e.Ee=Pre(e,xp(t))),e.Ee}function Pre(t,e){if(t.limitType==="F")return WA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new py(i.field,s)}));const n=t.endAt?new Fu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Fu(t.startAt.position,t.startAt.inclusive):null;return WA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function qA(t,e){const n=t.filters.concat([e]);return new xc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Z2(t,e,n){return new xc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function uv(t,e){return cv(Rs(t),Rs(e))&&t.limitType===e.limitType}function JV(t){return`${pf(Rs(t))}|lt:${t.limitType}`}function ip(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>$V(i))).join(", ")}]`),ov(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>$p(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>$p(i))).join(",")),`Target(${r})`})(Rs(t))}; limitType=${t.limitType})`}function dv(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Tt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of xp(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(a,o,l){const c=KP(a,o,l);return a.inclusive?c<=0:c<0})(r.startAt,xp(r),i)||r.endAt&&!(function(a,o,l){const c=KP(a,o,l);return a.inclusive?c>=0:c>0})(r.endAt,xp(r),i))})(t,e)}function YV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function QV(t){return(e,n)=>{let r=!1;for(const i of xp(t)){const s=Fre(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Fre(t,e,n){const r=t.field.isKeyField()?Tt.comparator(e.key,n.key):(function(s,a,o){const l=a.data.field(s),c=o.data.field(s);return l!==null&&c!==null?Pu(l,c):Nt(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Nt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Yu(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return RV(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mre=new Mr(Tt.comparator);function Ys(){return Mre}const ZV=new Mr(Tt.comparator);function d0(...t){let e=ZV;for(const n of t)e=e.insert(n.key,n);return e}function eW(t){let e=ZV;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function dl(){return D0()}function tW(){return D0()}function D0(){return new _c((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Ure=new Mr(Tt.comparator),Ore=new Gn(Tt.comparator);function an(...t){let e=Ore;for(const n of t)e=e.add(n);return e}const Lre=new Gn(nn);function XN(){return Lre}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oy(e)?"-0":e}}function nW(t){return{integerValue:""+t}}function rW(t,e){return bV(e)?nW(e):JN(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(){this._=void 0}}function jre(t,e,n){return t instanceof Kp?(function(i,s){const a={fields:{[MV]:{stringValue:FV},[OV]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&gb(s)&&(s=yb(s)),s&&(a.fields[UV]=s),{mapValue:a}})(n,e):t instanceof mf?sW(t,e):t instanceof gf?aW(t,e):(function(i,s){const a=iW(i,s),o=ZP(a)+ZP(i.Ae);return jA(a)&&jA(i.Ae)?nW(o):JN(i.serializer,o)})(t,e)}function Bre(t,e,n){return t instanceof mf?sW(t,e):t instanceof gf?aW(t,e):n}function iW(t,e){return t instanceof Xp?(function(r){return jA(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class Kp extends xb{}class mf extends xb{constructor(e){super(),this.elements=e}}function sW(t,e){const n=oW(e);for(const r of t.elements)n.some((i=>wl(i,r)))||n.push(r);return{arrayValue:{values:n}}}class gf extends xb{constructor(e){super(),this.elements=e}}function aW(t,e){let n=oW(e);for(const r of t.elements)n=n.filter((i=>!wl(i,r)));return{arrayValue:{values:n}}}class Xp extends xb{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function ZP(t){return wr(t.integerValue||t.doubleValue)}function oW(t){return hy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,n){this.field=e,this.transform=n}}function Vre(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof mf&&i instanceof mf||r instanceof gf&&i instanceof gf?jp(r.elements,i.elements,wl):r instanceof Xp&&i instanceof Xp?wl(r.Ae,i.Ae):r instanceof Kp&&i instanceof Kp})(t.transform,e.transform)}class Wre{constructor(e,n){this.version=e,this.transformResults=n}}class Er{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Er}static exists(e){return new Er(void 0,e)}static updateTime(e){return new Er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function o2(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class _b{}function lW(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Dm(t.key,Er.none()):new Sm(t.key,t.data,Er.none());{const n=t.data,r=Gi.empty();let i=new Gn(Tr.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new bc(t.key,r,new Js(i.toArray()),Er.none())}}function qre(t,e,n){t instanceof Sm?(function(i,s,a){const o=i.value.clone(),l=t8(i.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()})(t,e,n):t instanceof bc?(function(i,s,a){if(!o2(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=t8(i.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(cW(i)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()})(t,e,n):(function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,n)}function A0(t,e,n,r){return t instanceof Sm?(function(s,a,o,l){if(!o2(s.precondition,a))return o;const c=s.value.clone(),u=n8(s.fieldTransforms,l,a);return c.setAll(u),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null})(t,e,n,r):t instanceof bc?(function(s,a,o,l){if(!o2(s.precondition,a))return o;const c=n8(s.fieldTransforms,l,a),u=a.data;return u.setAll(cW(s)),u.setAll(c),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((f=>f.field)))})(t,e,n,r):(function(s,a,o){return o2(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o})(t,e,n)}function zre(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=iW(r.transform,i||null);s!=null&&(n===null&&(n=Gi.empty()),n.set(r.field,s))}return n||null}function e8(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&jp(r,i,((s,a)=>Vre(s,a)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Sm extends _b{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class bc extends _b{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function cW(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function t8(t,e,n){const r=new Map;Ut(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);r.set(s.field,Bre(a,o,n[i]))}return r}function n8(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,jre(s,a,e))}return r}class Dm extends _b{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YN extends _b{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&qre(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=A0(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=A0(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=tW();return this.mutations.forEach((i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=n.has(i.key)?null:o;const l=lW(a,o);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(Bt.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),an())}isEqual(e){return this.batchId===e.batchId&&jp(this.mutations,e.mutations,((n,r)=>e8(n,r)))&&jp(this.baseMutations,e.baseMutations,((n,r)=>e8(n,r)))}}class ZN{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ut(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return Ure})();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new ZN(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hre{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oi,Tn;function uW(t){switch(t){case Ze.OK:return Nt(64938);case Ze.CANCELLED:case Ze.UNKNOWN:case Ze.DEADLINE_EXCEEDED:case Ze.RESOURCE_EXHAUSTED:case Ze.INTERNAL:case Ze.UNAVAILABLE:case Ze.UNAUTHENTICATED:return!1;case Ze.INVALID_ARGUMENT:case Ze.NOT_FOUND:case Ze.ALREADY_EXISTS:case Ze.PERMISSION_DENIED:case Ze.FAILED_PRECONDITION:case Ze.ABORTED:case Ze.OUT_OF_RANGE:case Ze.UNIMPLEMENTED:case Ze.DATA_LOSS:return!0;default:return Nt(15467,{code:t})}}function dW(t){if(t===void 0)return Yr("GRPC error has no .code"),Ze.UNKNOWN;switch(t){case oi.OK:return Ze.OK;case oi.CANCELLED:return Ze.CANCELLED;case oi.UNKNOWN:return Ze.UNKNOWN;case oi.DEADLINE_EXCEEDED:return Ze.DEADLINE_EXCEEDED;case oi.RESOURCE_EXHAUSTED:return Ze.RESOURCE_EXHAUSTED;case oi.INTERNAL:return Ze.INTERNAL;case oi.UNAVAILABLE:return Ze.UNAVAILABLE;case oi.UNAUTHENTICATED:return Ze.UNAUTHENTICATED;case oi.INVALID_ARGUMENT:return Ze.INVALID_ARGUMENT;case oi.NOT_FOUND:return Ze.NOT_FOUND;case oi.ALREADY_EXISTS:return Ze.ALREADY_EXISTS;case oi.PERMISSION_DENIED:return Ze.PERMISSION_DENIED;case oi.FAILED_PRECONDITION:return Ze.FAILED_PRECONDITION;case oi.ABORTED:return Ze.ABORTED;case oi.OUT_OF_RANGE:return Ze.OUT_OF_RANGE;case oi.UNIMPLEMENTED:return Ze.UNIMPLEMENTED;case oi.DATA_LOSS:return Ze.DATA_LOSS;default:return Nt(39323,{code:t})}}(Tn=oi||(oi={}))[Tn.OK=0]="OK",Tn[Tn.CANCELLED=1]="CANCELLED",Tn[Tn.UNKNOWN=2]="UNKNOWN",Tn[Tn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tn[Tn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tn[Tn.NOT_FOUND=5]="NOT_FOUND",Tn[Tn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tn[Tn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tn[Tn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tn[Tn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tn[Tn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tn[Tn.ABORTED=10]="ABORTED",Tn[Tn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tn[Tn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tn[Tn.INTERNAL=13]="INTERNAL",Tn[Tn.UNAVAILABLE=14]="UNAVAILABLE",Tn[Tn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fW(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $re=new xu([4294967295,4294967295],0);function r8(t){const e=fW().encode(t),n=new iV;return n.update(e),new Uint8Array(n.digest())}function i8(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new xu([n,r],0),new xu([i,s],0)]}class t3{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new f0(`Invalid padding: ${n}`);if(r<0)throw new f0(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new f0(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new f0(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=xu.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(xu.fromNumber(r)));return i.compare($re)===1&&(i=new xu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=r8(e),[r,i]=i8(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);if(!this.we(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new t3(s,i,n);return r.forEach((o=>a.insert(o))),a}insert(e){if(this.ge===0)return;const n=r8(e),[r,i]=i8(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class f0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,pv.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new hv(Bt.min(),i,new Mr(nn),Ys(),an())}}class pv{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new pv(r,n,an(),an(),an())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class hW{constructor(e,n){this.targetId=e,this.Ce=n}}class pW{constructor(e,n,r=Wr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class s8{constructor(){this.ve=0,this.Fe=a8(),this.Me=Wr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=an(),n=an(),r=an();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Nt(38017,{changeType:s})}})),new pv(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=a8()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ut(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Gre{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ys(),this.Je=ux(),this.He=ux(),this.Ye=new Mr(nn)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Nt(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(Y2(s))if(r===0){const a=new Tt(s.path);this.et(n,a,mr.newNoDocument(a,Bt.min()))}else Ut(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const o=this.ut(e),l=o?this.ct(o,e,a):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,o;try{a=fc(r).toUint8Array()}catch(l){if(l instanceof PV)return bl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new t3(a,i,s)}catch(l){return bl(l instanceof f0?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const a=this.Ge.ht(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,a)=>{const o=this.ot(a);if(o){if(s.current&&Y2(o.target)){const l=new Tt(o.target.path);this.It(l).has(a)||this.Et(a,l)||this.et(a,l,mr.newNoDocument(l,e))}s.Be&&(n.set(a,s.ke()),s.qe())}}));let r=an();this.He.forEach(((s,a)=>{let o=!0;a.forEachWhile((l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)})),o&&(r=r.add(s))})),this.je.forEach(((s,a)=>a.setReadTime(e)));const i=new hv(e,n,this.Ye,this.je,r);return this.je=Ys(),this.Je=ux(),this.He=ux(),this.Ye=new Mr(nn),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new s8,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Gn(nn),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Gn(nn),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ut("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new s8),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ux(){return new Mr(Tt.comparator)}function a8(){return new Mr(Tt.comparator)}const Kre={asc:"ASCENDING",desc:"DESCENDING"},Xre={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Jre={and:"AND",or:"OR"};class Yre{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function zA(t,e){return t.useProto3Json||ov(e)?e:{value:e}}function Jp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mW(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Qre(t,e){return Jp(t,e.toTimestamp())}function Qr(t){return Ut(!!t,49232),Bt.fromTimestamp((function(n){const r=dc(n);return new On(r.seconds,r.nanos)})(t))}function n3(t,e){return HA(t,e).canonicalString()}function HA(t,e){const n=(function(i){return new vn(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function gW(t){const e=vn.fromString(t);return Ut(SW(e),10190,{key:e.toString()}),e}function my(t,e){return n3(t.databaseId,e.path)}function yl(t,e){const n=gW(e);if(n.get(1)!==t.databaseId.projectId)throw new ot(Ze.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ot(Ze.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Tt(xW(n))}function yW(t,e){return n3(t.databaseId,e)}function vW(t){const e=gW(t);return e.length===4?vn.emptyPath():xW(e)}function $A(t){return new vn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function xW(t){return Ut(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function o8(t,e,n){return{name:my(t,e),fields:n.value.mapValue.fields}}function _W(t,e,n){const r=yl(t,e.name),i=Qr(e.updateTime),s=e.createTime?Qr(e.createTime):Bt.min(),a=new Gi({mapValue:{fields:e.fields}}),o=mr.newFoundDocument(r,i,s,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Zre(t,e){return"found"in e?(function(r,i){Ut(!!i.found,43571),i.found.name,i.found.updateTime;const s=yl(r,i.found.name),a=Qr(i.found.updateTime),o=i.found.createTime?Qr(i.found.createTime):Bt.min(),l=new Gi({mapValue:{fields:i.found.fields}});return mr.newFoundDocument(s,a,o,l)})(t,e):"missing"in e?(function(r,i){Ut(!!i.missing,3894),Ut(!!i.readTime,22933);const s=yl(r,i.missing),a=Qr(i.readTime);return mr.newNoDocument(s,a)})(t,e):Nt(7234,{result:e})}function eie(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Nt(39313,{state:c})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(c,u){return c.useProto3Json?(Ut(u===void 0||typeof u=="string",58123),Wr.fromBase64String(u||"")):(Ut(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),Wr.fromUint8Array(u||new Uint8Array))})(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&(function(c){const u=c.code===void 0?Ze.UNKNOWN:dW(c.code);return new ot(u,c.message||"")})(a);n=new pW(r,i,s,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=yl(t,r.document.name),s=Qr(r.document.updateTime),a=r.document.createTime?Qr(r.document.createTime):Bt.min(),o=new Gi({mapValue:{fields:r.document.fields}}),l=mr.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new l2(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=yl(t,r.document),s=r.readTime?Qr(r.readTime):Bt.min(),a=mr.newNoDocument(i,s),o=r.removedTargetIds||[];n=new l2([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=yl(t,r.document),s=r.removedTargetIds||[];n=new l2([],s,i,null)}else{if(!("filter"in e))return Nt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new Hre(i,s),o=r.targetId;n=new hW(o,a)}}return n}function gy(t,e){let n;if(e instanceof Sm)n={update:o8(t,e.key,e.value)};else if(e instanceof Dm)n={delete:my(t,e.key)};else if(e instanceof bc)n={update:o8(t,e.key,e.data),updateMask:aie(e.fieldMask)};else{if(!(e instanceof YN))return Nt(16599,{Vt:e.type});n={verify:my(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,a){const o=a.transform;if(o instanceof Kp)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof mf)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof gf)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Xp)return{fieldPath:a.field.canonicalString(),increment:o.Ae};throw Nt(20930,{transform:a.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:Qre(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Nt(27497)})(t,e.precondition)),n}function GA(t,e){const n=e.currentDocument?(function(s){return s.updateTime!==void 0?Er.updateTime(Qr(s.updateTime)):s.exists!==void 0?Er.exists(s.exists):Er.none()})(e.currentDocument):Er.none(),r=e.updateTransforms?e.updateTransforms.map((i=>(function(a,o){let l=null;if("setToServerValue"in o)Ut(o.setToServerValue==="REQUEST_TIME",16630,{proto:o}),l=new Kp;else if("appendMissingElements"in o){const u=o.appendMissingElements.values||[];l=new mf(u)}else if("removeAllFromArray"in o){const u=o.removeAllFromArray.values||[];l=new gf(u)}else"increment"in o?l=new Xp(a,o.increment):Nt(16584,{proto:o});const c=Tr.fromServerFormat(o.fieldPath);return new fv(c,l)})(t,i))):[];if(e.update){e.update.name;const i=yl(t,e.update.name),s=new Gi({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=(function(l){const c=l.fieldPaths||[];return new Js(c.map((u=>Tr.fromServerFormat(u))))})(e.updateMask);return new bc(i,s,a,n,r)}return new Sm(i,s,n,r)}if(e.delete){const i=yl(t,e.delete);return new Dm(i,n)}if(e.verify){const i=yl(t,e.verify);return new YN(i,n)}return Nt(1463,{proto:e})}function tie(t,e){return t&&t.length>0?(Ut(e!==void 0,14353),t.map((n=>(function(i,s){let a=i.updateTime?Qr(i.updateTime):Qr(s);return a.isEqual(Bt.min())&&(a=Qr(s)),new Wre(a,i.transformResults||[])})(n,e)))):[]}function bW(t,e){return{documents:[yW(t,e.path)]}}function wW(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=yW(t,i);const s=(function(c){if(c.length!==0)return CW(Hn.create(c,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const a=(function(c){if(c.length!==0)return c.map((u=>(function(h){return{field:sp(h.field),direction:rie(h.dir)}})(u)))})(e.orderBy);a&&(n.structuredQuery.orderBy=a);const o=zA(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=(function(c){return{before:c.inclusive,values:c.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(c){return{before:!c.inclusive,values:c.position}})(e.endAt)),{ft:n,parent:i}}function TW(t){let e=vW(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ut(r===1,65062);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=(function(f){const h=EW(f);return h instanceof Hn&&GN(h)?h.getFilters():[h]})(n.where));let a=[];n.orderBy&&(a=(function(f){return f.map((h=>(function(v){return new py(ap(v.field),(function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(v.direction))})(h)))})(n.orderBy));let o=null;n.limit&&(o=(function(f){let h;return h=typeof f=="object"?f.value:f,ov(h)?null:h})(n.limit));let l=null;n.startAt&&(l=(function(f){const h=!!f.before,p=f.values||[];return new Fu(p,h)})(n.startAt));let c=null;return n.endAt&&(c=(function(f){const h=!f.before,p=f.values||[];return new Fu(p,h)})(n.endAt)),XV(e,i,a,s,o,"F",l,c)}function nie(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Nt(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function EW(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ap(n.unaryFilter.field);return _n.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ap(n.unaryFilter.field);return _n.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ap(n.unaryFilter.field);return _n.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=ap(n.unaryFilter.field);return _n.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Nt(61313);default:return Nt(60726)}})(t):t.fieldFilter!==void 0?(function(n){return _n.create(ap(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Nt(58110);default:return Nt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Hn.create(n.compositeFilter.filters.map((r=>EW(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Nt(1026)}})(n.compositeFilter.op))})(t):Nt(30097,{filter:t})}function rie(t){return Kre[t]}function iie(t){return Xre[t]}function sie(t){return Jre[t]}function sp(t){return{fieldPath:t.canonicalString()}}function ap(t){return Tr.fromServerFormat(t.fieldPath)}function CW(t){return t instanceof _n?(function(n){if(n.op==="=="){if(HP(n.value))return{unaryFilter:{field:sp(n.field),op:"IS_NAN"}};if(zP(n.value))return{unaryFilter:{field:sp(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(HP(n.value))return{unaryFilter:{field:sp(n.field),op:"IS_NOT_NAN"}};if(zP(n.value))return{unaryFilter:{field:sp(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sp(n.field),op:iie(n.op),value:n.value}}})(t):t instanceof Hn?(function(n){const r=n.getFilters().map((i=>CW(i)));return r.length===1?r[0]:{compositeFilter:{op:sie(n.op),filters:r}}})(t):Nt(54877,{filter:t})}function aie(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function SW(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,n,r,i,s=Bt.min(),a=Bt.min(),o=Wr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new Kl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Kl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Kl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Kl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DW{constructor(e){this.yt=e}}function oie(t,e){let n;if(e.document)n=_W(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Tt.fromSegments(e.noDocument.path),i=vf(e.noDocument.readTime);n=mr.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Nt(56709);{const r=Tt.fromSegments(e.unknownDocument.path),i=vf(e.unknownDocument.version);n=mr.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime((function(i){const s=new On(i[0],i[1]);return Bt.fromTimestamp(s)})(e.readTime)),n}function l8(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:e_(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(s,a){return{name:my(s,a.key),fields:a.data.value.mapValue.fields,updateTime:Jp(s,a.version.toTimestamp()),createTime:Jp(s,a.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:yf(e.version)};else{if(!e.isUnknownDocument())return Nt(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:yf(e.version)}}return r}function e_(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function yf(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function vf(t){const e=new On(t.seconds,t.nanoseconds);return Bt.fromTimestamp(e)}function Wd(t,e){const n=(e.baseMutations||[]).map((s=>GA(t.yt,s)));for(let s=0;s<e.mutations.length-1;++s){const a=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const o=e.mutations[s+1];a.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map((s=>GA(t.yt,s))),i=On.fromMillis(e.localWriteTimeMs);return new QN(e.batchId,i,n,r)}function h0(t){const e=vf(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?vf(t.lastLimboFreeSnapshotVersion):Bt.min();let r;return r=(function(s){return s.documents!==void 0})(t.query)?(function(s){const a=s.documents.length;return Ut(a===1,1966,{count:a}),Rs(Cm(vW(s.documents[0])))})(t.query):(function(s){return Rs(TW(s))})(t.query),new Kl(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Wr.fromBase64String(t.resumeToken))}function AW(t,e){const n=yf(e.snapshotVersion),r=yf(e.lastLimboFreeSnapshotVersion);let i;i=Y2(e.target)?bW(t.yt,e.target):wW(t.yt,e.target).ft;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:pf(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function r3(t){const e=TW({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Z2(e,e.limit,"L"):e}function zE(t,e){return new e3(e.largestBatchId,GA(t.yt,e.overlayMutation))}function c8(t,e){const n=e.path.lastSegment();return[t,ms(e.path.popLast()),n]}function u8(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:yf(r.readTime),documentKey:ms(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lie{getBundleMetadata(e,n){return d8(e).get(n).next((r=>{if(r)return(function(s){return{id:s.bundleId,createTime:vf(s.createTime),version:s.version}})(r)}))}saveBundleMetadata(e,n){return d8(e).put((function(i){return{bundleId:i.id,createTime:yf(Qr(i.createTime)),version:i.version}})(n))}getNamedQuery(e,n){return f8(e).get(n).next((r=>{if(r)return(function(s){return{name:s.name,query:r3(s.bundledQuery),readTime:vf(s.readTime)}})(r)}))}saveNamedQuery(e,n){return f8(e).put((function(i){return{name:i.name,readTime:yf(Qr(i.readTime)),bundledQuery:i.bundledQuery}})(n))}}function d8(t){return wi(t,hb)}function f8(t){return wi(t,pb)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new bb(e,r)}getOverlay(e,n){return Fg(e).get(c8(this.userId,n)).next((r=>r?zE(this.serializer,r):null))}getOverlays(e,n){const r=dl();return qe.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){const i=[];return r.forEach(((s,a)=>{const o=new e3(n,a);i.push(this.St(e,o))})),qe.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach((a=>i.add(ms(a.getCollectionPath()))));const s=[];return i.forEach((a=>{const o=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,r+1],!1,!0);s.push(Fg(e).Z(FA,o))})),qe.waitFor(s)}getOverlaysForCollection(e,n,r){const i=dl(),s=ms(n),a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Fg(e).J(FA,a).next((o=>{for(const l of o){const c=zE(this.serializer,l);i.set(c.getKey(),c)}return i}))}getOverlaysForCollectionGroup(e,n,r,i){const s=dl();let a;const o=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Fg(e).ee({index:DV,range:o},((l,c,u)=>{const f=zE(this.serializer,c);s.size()<i||f.largestBatchId===a?(s.set(f.getKey(),f),a=f.largestBatchId):u.done()})).next((()=>s))}St(e,n){return Fg(e).put((function(i,s,a){const[o,l,c]=c8(s,a.mutation.key);return{userId:s,collectionPath:l,documentId:c,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:gy(i.yt,a.mutation)}})(this.serializer,this.userId,n))}}function Fg(t){return wi(t,mb)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cie{bt(e){return wi(e,qN)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n==null?void 0:n.value;return r?Wr.fromUint8Array(r):Wr.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(wr(e.integerValue));else if("doubleValue"in e){const r=wr(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),oy(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=dc(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(fc(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?jV(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):vb(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):Nt(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){var a,o;const r=e.fields||{};this.Ft(n,53);const i=Hp,s=((o=(a=r[i].arrayValue)==null?void 0:a.values)==null?void 0:o.length)||0;this.Ft(n,15),n.Mt(wr(s)),this.Ot(i,n),this.Ct(r[i],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),Tt.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}qd.Kt=new qd;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh=255;function uie(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function h8(t){const e=64-(function(r){let i=0;for(let s=0;s<8;++s){const a=uie(255&r[s]);if(i+=a,a!==8)break}return i})(t);return Math.ceil(e/8)}class die{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=n.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=n.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Ht()}Xt(e){const n=this.en(e),r=h8(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}nn(e){const n=this.en(e),r=h8(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}rn(){this.sn(zh),this.sn(255)}_n(){this.an(zh),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(s){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,s,!1),new Uint8Array(a.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===zh?(this.sn(zh),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===zh?(this.an(zh),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class fie{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class hie{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Mg{constructor(){this.cn=new die,this.ln=new fie(this.cn),this.hn=new hie(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,n,r,i){this.Tn=e,this.In=n,this.En=r,this.dn=i}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new zd(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:c2(this.En),directionalValue:c2(this.dn),orderedDocumentKey:c2(n),documentKey:r.path.toArray()}}Vn(e,n,r){const i=this.Rn(e,n,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function Zc(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=p8(t.En,e.En),n!==0?n:(n=p8(t.dn,e.dn),n!==0?n:Tt.comparator(t.In,e.In)))}function p8(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function c2(t){return qB()?(function(n){let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r})(t):t}function m8(t){return typeof t!="string"?t:(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(t)}class g8{constructor(e){this.mn=new Gn(((n,r)=>Tr.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(Ut(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=kA(e);if(n!==void 0&&!this.wn(n))return!1;const r=Od(e);let i=new Set,s=0,a=0;for(;s<r.length&&this.wn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.mn.size>0){const o=this.mn.getIterator().getNext();if(!i.has(o.field.canonicalString())){const l=r[s];if(!this.Sn(o,l)||!this.bn(this.fn[a++],l))return!1}++s}for(;s<r.length;++s){const o=r[s];if(a>=this.fn.length||!this.bn(this.fn[a++],o))return!1}return!0}Dn(){if(this.pn)return null;let e=new Gn(Tr.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new t2(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new t2(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new t2(r.field,r.dir==="asc"?0:1)));return new G2(G2.UNKNOWN_ID,this.collectionId,n,ay.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NW(t){var n,r;if(Ut(t instanceof _n||t instanceof Hn,20012),t instanceof _n){if(t instanceof KV){const i=((r=(n=t.value.arrayValue)==null?void 0:n.values)==null?void 0:r.map((s=>_n.create(t.field,"==",s))))||[];return Hn.create(i,"or")}return t}const e=t.filters.map((i=>NW(i)));return Hn.create(e,t.op)}function pie(t){if(t.getFilters().length===0)return[];const e=JA(NW(t));return Ut(IW(e),7391),KA(e)||XA(e)?[e]:e.getFilters()}function KA(t){return t instanceof _n}function XA(t){return t instanceof Hn&&GN(t)}function IW(t){return KA(t)||XA(t)||(function(n){if(n instanceof Hn&&BA(n)){for(const r of n.getFilters())if(!KA(r)&&!XA(r))return!1;return!0}return!1})(t)}function JA(t){if(Ut(t instanceof _n||t instanceof Hn,34018),t instanceof _n)return t;if(t.filters.length===1)return JA(t.filters[0]);const e=t.filters.map((r=>JA(r)));let n=Hn.create(e,t.op);return n=t_(n),IW(n)?n:(Ut(n instanceof Hn,64498),Ut(Gp(n),40251),Ut(n.filters.length>1,57927),n.filters.reduce(((r,i)=>i3(r,i))))}function i3(t,e){let n;return Ut(t instanceof _n||t instanceof Hn,38388),Ut(e instanceof _n||e instanceof Hn,25473),n=t instanceof _n?e instanceof _n?(function(i,s){return Hn.create([i,s],"and")})(t,e):y8(t,e):e instanceof _n?y8(e,t):(function(i,s){if(Ut(i.filters.length>0&&s.filters.length>0,48005),Gp(i)&&Gp(s))return HV(i,s.getFilters());const a=BA(i)?i:s,o=BA(i)?s:i,l=a.filters.map((c=>i3(c,o)));return Hn.create(l,"or")})(t,e),t_(n)}function y8(t,e){if(Gp(e))return HV(e,t.getFilters());{const n=e.filters.map((r=>i3(t,r)));return Hn.create(n,"or")}}function t_(t){if(Ut(t instanceof _n||t instanceof Hn,11850),t instanceof _n)return t;const e=t.getFilters();if(e.length===1)return t_(e[0]);if(qV(t))return t;const n=e.map((i=>t_(i))),r=[];return n.forEach((i=>{i instanceof _n?r.push(i):i instanceof Hn&&(i.op===t.op?r.push(...i.filters):r.push(i))})),r.length===1?r[0]:Hn.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mie{constructor(){this.Cn=new s3}addToCollectionParentIndex(e,n){return this.Cn.add(n),qe.resolve()}getCollectionParents(e,n){return qe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return qe.resolve()}deleteFieldIndex(e,n){return qe.resolve()}deleteAllFieldIndexes(e){return qe.resolve()}createTargetIndexes(e,n){return qe.resolve()}getDocumentsMatchingTarget(e,n){return qe.resolve(null)}getIndexType(e,n){return qe.resolve(0)}getFieldIndexes(e,n){return qe.resolve([])}getNextCollectionGroupToUpdate(e){return qe.resolve(null)}getMinOffset(e,n){return qe.resolve(Da.min())}getMinOffsetFromCollectionGroup(e,n){return qe.resolve(Da.min())}updateCollectionGroup(e,n,r){return qe.resolve()}updateIndexEntries(e,n){return qe.resolve()}}class s3{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Gn(vn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Gn(vn.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v8="IndexedDbIndexManager",dx=new Uint8Array(0);class gie{constructor(e,n){this.databaseId=n,this.vn=new s3,this.Fn=new _c((r=>pf(r)),((r,i)=>cv(r,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const s={collectionId:r,parent:ms(i)};return x8(e).put(s)}return qe.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[fV(n),""],!1,!0);return x8(e).J(i).next((s=>{for(const a of s){if(a.collectionId!==n)break;r.push(ul(a.parent))}return r}))}addFieldIndex(e,n){const r=Ug(e),i=(function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map((l=>[l.fieldPath.canonicalString(),l.kind]))}})(n);delete i.indexId;const s=r.add(i);if(n.indexState){const a=$h(e);return s.next((o=>{a.put(u8(o,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return s.next()}deleteFieldIndex(e,n){const r=Ug(e),i=$h(e),s=Hh(e);return r.delete(n.indexId).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=Ug(e),r=Hh(e),i=$h(e);return n.Z().next((()=>r.Z())).next((()=>i.Z()))}createTargetIndexes(e,n){return qe.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((i=>{if(i===0||i===1){const s=new g8(r).Dn();if(s!=null)return this.addFieldIndex(e,s)}}))))}getDocumentsMatchingTarget(e,n){const r=Hh(e);let i=!0;const s=new Map;return qe.forEach(this.Mn(n),(a=>this.xn(e,a).next((o=>{i&&(i=!!o),s.set(a,o)})))).next((()=>{if(i){let a=an();const o=[];return qe.forEach(s,((l,c)=>{ut(v8,`Using index ${(function(w){return`id=${w.indexId}|cg=${w.collectionGroup}|f=${w.fields.map((C=>`${C.fieldPath}:${C.kind}`)).join(",")}`})(l)} to execute ${pf(n)}`);const u=(function(w,C){const S=kA(C);if(S===void 0)return null;for(const R of Q2(w,S.fieldPath))switch(R.op){case"array-contains-any":return R.value.arrayValue.values||[];case"array-contains":return[R.value]}return null})(c,l),f=(function(w,C){const S=new Map;for(const R of Od(C))for(const D of Q2(w,R.fieldPath))switch(D.op){case"==":case"in":S.set(R.fieldPath.canonicalString(),D.value);break;case"not-in":case"!=":return S.set(R.fieldPath.canonicalString(),D.value),Array.from(S.values())}return null})(c,l),h=(function(w,C){const S=[];let R=!0;for(const D of Od(C)){const N=D.kind===0?JP(w,D.fieldPath,w.startAt):YP(w,D.fieldPath,w.startAt);S.push(N.value),R&&(R=N.inclusive)}return new Fu(S,R)})(c,l),p=(function(w,C){const S=[];let R=!0;for(const D of Od(C)){const N=D.kind===0?YP(w,D.fieldPath,w.endAt):JP(w,D.fieldPath,w.endAt);S.push(N.value),R&&(R=N.inclusive)}return new Fu(S,R)})(c,l),v=this.On(l,c,h),g=this.On(l,c,p),y=this.Nn(l,c,f),b=this.Bn(l.indexId,u,v,h.inclusive,g,p.inclusive,y);return qe.forEach(b,(_=>r.Y(_,n.limit).next((w=>{w.forEach((C=>{const S=Tt.fromSegments(C.documentKey);a.has(S)||(a=a.add(S),o.push(S))}))}))))})).next((()=>o))}return qe.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=pie(Hn.create(e.filters,"and")).map((r=>WA(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,i,s,a,o){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),c=l/(n!=null?n.length:1),u=[];for(let f=0;f<l;++f){const h=n?this.Ln(n[f/c]):dx,p=this.kn(e,h,r[f%c],i),v=this.qn(e,h,s[f%c],a),g=o.map((y=>this.kn(e,h,y,!0)));u.push(...this.createRange(p,v,g))}return u}kn(e,n,r,i){const s=new zd(e,Tt.empty(),n,r);return i?s:s.An()}qn(e,n,r,i){const s=new zd(e,Tt.empty(),n,r);return i?s.An():s}xn(e,n){const r=new g8(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next((s=>{let a=null;for(const o of s)r.yn(o)&&(!a||o.fields.length>a.fields.length)&&(a=o);return a}))}getIndexType(e,n){let r=2;const i=this.Mn(n);return qe.forEach(i,(s=>this.xn(e,s).next((a=>{a?r!==0&&a.fields.length<(function(l){let c=new Gn(Tr.comparator),u=!1;for(const f of l.filters)for(const h of f.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?u=!0:c=c.add(h.field));for(const f of l.orderBy)f.field.isKeyField()||(c=c.add(f.field));return c.size+(u?1:0)})(s)&&(r=1):r=0})))).next((()=>(function(a){return a.limit!==null})(n)&&i.length>1&&r===2?1:r))}Qn(e,n){const r=new Mg;for(const i of Od(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const a=r.Pn(i.kind);qd.Kt.Dt(s,a)}return r.un()}Ln(e){const n=new Mg;return qd.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new Mg;return qd.Kt.Dt(hf(this.databaseId,n),r.Pn((function(s){const a=Od(s);return a.length===0?0:a[a.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let i=[];i.push(new Mg);let s=0;for(const a of Od(e)){const o=r[s++];for(const l of i)if(this.Un(n,a.fieldPath)&&hy(o))i=this.Kn(i,a,o);else{const c=l.Pn(a.kind);qd.Kt.Dt(o,c)}}return this.Wn(i)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const i=[...e],s=[];for(const a of r.arrayValue.values||[])for(const o of i){const l=new Mg;l.seed(o.un()),qd.Kt.Dt(a,l.Pn(n.kind)),s.push(l)}return s}Un(e,n){return!!e.filters.find((r=>r instanceof _n&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=Ug(e),i=$h(e);return(n?r.J(PA,IDBKeyRange.bound(n,n)):r.J()).next((s=>{const a=[];return qe.forEach(s,(o=>i.get([o.indexId,this.uid]).next((l=>{a.push((function(u,f){const h=f?new ay(f.sequenceNumber,new Da(vf(f.readTime),new Tt(ul(f.documentKey)),f.largestBatchId)):ay.empty(),p=u.fields.map((([v,g])=>new t2(Tr.fromServerFormat(v),g)));return new G2(u.indexId,u.collectionGroup,p,h)})(o,l))})))).next((()=>a))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:nn(r.collectionGroup,i.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const i=Ug(e),s=$h(e);return this.Gn(e).next((a=>i.J(PA,IDBKeyRange.bound(n,n)).next((o=>qe.forEach(o,(l=>s.put(u8(l.indexId,this.uid,a,r))))))))}updateIndexEntries(e,n){const r=new Map;return qe.forEach(n,((i,s)=>{const a=r.get(i.collectionGroup);return(a?qe.resolve(a):this.getFieldIndexes(e,i.collectionGroup)).next((o=>(r.set(i.collectionGroup,o),qe.forEach(o,(l=>this.zn(e,i,l).next((c=>{const u=this.jn(s,l);return c.isEqual(u)?qe.resolve():this.Jn(e,s,l,c,u)})))))))}))}Hn(e,n,r,i){return Hh(e).put(i.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,i){return Hh(e).delete(i.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const i=Hh(e);let s=new Gn(Zc);return i.ee({index:SV,range:IDBKeyRange.only([r.indexId,this.uid,c2(this.$n(r,n))])},((a,o)=>{s=s.add(new zd(r.indexId,n,m8(o.arrayValue),m8(o.directionalValue)))})).next((()=>s))}jn(e,n){let r=new Gn(Zc);const i=this.Qn(n,e);if(i==null)return r;const s=kA(n);if(s!=null){const a=e.data.field(s.fieldPath);if(hy(a))for(const o of a.arrayValue.values||[])r=r.add(new zd(n.indexId,e.key,this.Ln(o),i))}else r=r.add(new zd(n.indexId,e.key,dx,i));return r}Jn(e,n,r,i,s){ut(v8,"Updating index entries for document '%s'",n.key);const a=[];return(function(l,c,u,f,h){const p=l.getIterator(),v=c.getIterator();let g=qh(p),y=qh(v);for(;g||y;){let b=!1,_=!1;if(g&&y){const w=u(g,y);w<0?_=!0:w>0&&(b=!0)}else g!=null?_=!0:b=!0;b?(f(y),y=qh(v)):_?(h(g),g=qh(p)):(g=qh(p),y=qh(v))}})(i,s,Zc,(o=>{a.push(this.Hn(e,n,r,o))}),(o=>{a.push(this.Yn(e,n,r,o))})),qe.waitFor(a)}Gn(e){let n=1;return $h(e).ee({index:CV,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,i,s)=>{s.done(),n=i.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((a,o)=>Zc(a,o))).filter(((a,o,l)=>!o||Zc(a,l[o-1])!==0));const i=[];i.push(e);for(const a of r){const o=Zc(a,e),l=Zc(a,n);if(o===0)i[0]=e.An();else if(o>0&&l<0)i.push(a),i.push(a.An());else if(l>0)break}i.push(n);const s=[];for(let a=0;a<i.length;a+=2){if(this.Zn(i[a],i[a+1]))return[];const o=i[a].Vn(this.uid,dx,Tt.empty()),l=i[a+1].Vn(this.uid,dx,Tt.empty());s.push(IDBKeyRange.bound(o,l))}return s}Zn(e,n){return Zc(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(_8)}getMinOffset(e,n){return qe.mapArray(this.Mn(n),(r=>this.xn(e,r).next((i=>i||Nt(44426))))).next(_8)}}function x8(t){return wi(t,uy)}function Hh(t){return wi(t,C0)}function Ug(t){return wi(t,WN)}function $h(t){return wi(t,E0)}function _8(t){Ut(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;jN(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Da(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b8={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kW=41943040;class as{static withCacheSize(e){return new as(e,as.DEFAULT_COLLECTION_PERCENTILE,as.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RW(t,e,n){const r=t.store(Do),i=t.store(Vp),s=[],a=IDBKeyRange.only(n.batchId);let o=0;const l=r.ee({range:a},((u,f,h)=>(o++,h.delete())));s.push(l.next((()=>{Ut(o===1,47070,{batchId:n.batchId})})));const c=[];for(const u of n.mutations){const f=wV(e,u.key.path,n.batchId);s.push(i.delete(f)),c.push(u.key)}return qe.waitFor(s).next((()=>c))}function n_(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Nt(14731);e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */as.DEFAULT_COLLECTION_PERCENTILE=10,as.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,as.DEFAULT=new as(kW,as.DEFAULT_COLLECTION_PERCENTILE,as.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),as.DISABLED=new as(-1,0,0);class wb{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Xn={}}static wt(e,n,r,i){Ut(e.uid!=="",64387);const s=e.isAuthenticated()?e.uid:"";return new wb(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return eu(e).ee({index:Gd,range:r},((i,s,a)=>{n=!1,a.done()})).next((()=>n))}addMutationBatch(e,n,r,i){const s=op(e),a=eu(e);return a.add({}).next((o=>{Ut(typeof o=="number",49019);const l=new QN(o,n,r,i),c=(function(p,v,g){const y=g.baseMutations.map((_=>gy(p.yt,_))),b=g.mutations.map((_=>gy(p.yt,_)));return{userId:v,batchId:g.batchId,localWriteTimeMs:g.localWriteTime.toMillis(),baseMutations:y,mutations:b}})(this.serializer,this.userId,l),u=[];let f=new Gn(((h,p)=>nn(h.canonicalString(),p.canonicalString())));for(const h of i){const p=wV(this.userId,h.key.path,o);f=f.add(h.key.path.popLast()),u.push(a.put(c)),u.push(s.put(p,Jne))}return f.forEach((h=>{u.push(this.indexManager.addToCollectionParentIndex(e,h))})),e.addOnCommittedListener((()=>{this.Xn[o]=l.keys()})),qe.waitFor(u).next((()=>l))}))}lookupMutationBatch(e,n){return eu(e).get(n).next((r=>r?(Ut(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),Wd(this.serializer,r)):null))}er(e,n){return this.Xn[n]?qe.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const i=r.keys();return this.Xn[n]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return eu(e).ee({index:Gd,range:i},((a,o,l)=>{o.userId===this.userId&&(Ut(o.batchId>=r,47524,{tr:r}),s=Wd(this.serializer,o)),l.done()})).next((()=>s))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=_u;return eu(e).ee({index:Gd,range:n,reverse:!0},((i,s,a)=>{r=s.batchId,a.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,_u],[this.userId,Number.POSITIVE_INFINITY]);return eu(e).J(Gd,n).next((r=>r.map((i=>Wd(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=n2(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return op(e).ee({range:i},((a,o,l)=>{const[c,u,f]=a,h=ul(u);if(c===this.userId&&n.path.isEqual(h))return eu(e).get(f).next((p=>{if(!p)throw Nt(61480,{nr:a,batchId:f});Ut(p.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:p.userId,batchId:f}),s.push(Wd(this.serializer,p))}));l.done()})).next((()=>s))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Gn(nn);const i=[];return n.forEach((s=>{const a=n2(this.userId,s.path),o=IDBKeyRange.lowerBound(a),l=op(e).ee({range:o},((c,u,f)=>{const[h,p,v]=c,g=ul(p);h===this.userId&&s.path.isEqual(g)?r=r.add(v):f.done()}));i.push(l)})),qe.waitFor(i).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=n2(this.userId,r),a=IDBKeyRange.lowerBound(s);let o=new Gn(nn);return op(e).ee({range:a},((l,c,u)=>{const[f,h,p]=l,v=ul(h);f===this.userId&&r.isPrefixOf(v)?v.length===i&&(o=o.add(p)):u.done()})).next((()=>this.rr(e,o)))}rr(e,n){const r=[],i=[];return n.forEach((s=>{i.push(eu(e).get(s).next((a=>{if(a===null)throw Nt(35274,{batchId:s});Ut(a.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:a.userId,batchId:s}),r.push(Wd(this.serializer,a))})))})),qe.waitFor(i).next((()=>r))}removeMutationBatch(e,n){return RW(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),qe.forEach(r,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return qe.resolve();const r=IDBKeyRange.lowerBound((function(a){return[a]})(this.userId)),i=[];return op(e).ee({range:r},((s,a,o)=>{if(s[0]===this.userId){const l=ul(s[1]);i.push(l)}else o.done()})).next((()=>{Ut(i.length===0,56720,{sr:i.map((s=>s.canonicalString()))})}))}))}containsKey(e,n){return PW(e,this.userId,n)}_r(e){return FW(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:_u,lastStreamToken:""}))}}function PW(t,e,n){const r=n2(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let a=!1;return op(t).ee({range:s,X:!0},((o,l,c)=>{const[u,f,h]=o;u===e&&f===i&&(a=!0),c.done()})).next((()=>a))}function eu(t){return wi(t,Do)}function op(t){return wi(t,Vp)}function FW(t){return wi(t,ly)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new xf(0)}static cr(){return new xf(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yie{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new xf(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>Bt.fromTimestamp(new On(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.hr(e,i))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>Gh(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(Ut(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let i=0;const s=[];return Gh(e).ee(((a,o)=>{const l=h0(o);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))})).next((()=>qe.waitFor(s))).next((()=>i))}forEachTarget(e,n){return Gh(e).ee(((r,i)=>{const s=h0(i);n(s)}))}lr(e){return w8(e).get(J2).next((n=>(Ut(n!==null,2888),n)))}hr(e,n){return w8(e).put(J2,n)}Pr(e,n){return Gh(e).put(AW(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=pf(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Gh(e).ee({range:i,index:EV},((a,o,l)=>{const c=h0(o);cv(n,c.target)&&(s=c,l.done())})).next((()=>s))}addMatchingKeys(e,n,r){const i=[],s=ou(e);return n.forEach((a=>{const o=ms(a.path);i.push(s.put({targetId:r,path:o})),i.push(this.referenceDelegate.addReference(e,r,a))})),qe.waitFor(i)}removeMatchingKeys(e,n,r){const i=ou(e);return qe.forEach(n,(s=>{const a=ms(s.path);return qe.waitFor([i.delete([r,a]),this.referenceDelegate.removeReference(e,r,s)])}))}removeMatchingKeysForTargetId(e,n){const r=ou(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=ou(e);let s=an();return i.ee({range:r,X:!0},((a,o,l)=>{const c=ul(a[1]),u=new Tt(c);s=s.add(u)})).next((()=>s))}containsKey(e,n){const r=ms(n.path),i=IDBKeyRange.bound([r],[fV(r)],!1,!0);let s=0;return ou(e).ee({index:VN,X:!0,range:i},(([a,o],l,c)=>{a!==0&&(s++,c.done())})).next((()=>s>0))}At(e,n){return Gh(e).get(n).next((r=>r?h0(r):null))}}function Gh(t){return wi(t,Wp)}function w8(t){return wi(t,tf)}function ou(t){return wi(t,qp)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T8="LruGarbageCollector",vie=1048576;function E8([t,e],[n,r]){const i=nn(t,n);return i===0?nn(e,r):i}class xie{constructor(e){this.Ir=e,this.buffer=new Gn(E8),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();E8(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class MW{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ut(T8,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ju(n)?ut(T8,"Ignoring IndexedDB error during garbage collection: ",n):await Xu(n)}await this.Vr(3e5)}))}}class _ie{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return qe.resolve(Xs.ce);const r=new xie(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),qe.resolve(b8)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),b8):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,a,o,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((f=>(f>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,a=Date.now(),this.nthSequenceNumber(e,i)))).next((f=>(r=f,o=Date.now(),this.removeTargets(e,r,n)))).next((f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,r)))).next((f=>(c=Date.now(),rp()<=gn.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-u}ms
	Determined least recently used ${i} in `+(o-a)+`ms
	Removed ${s} targets in `+(l-o)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),qe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f}))))}}function UW(t,e){return new _ie(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bie{constructor(e,n){this.db=e,this.garbageCollector=UW(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,i)=>n(i)))}addReference(e,n,r){return fx(e,r)}removeReference(e,n,r){return fx(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return fx(e,n)}br(e,n){return(function(i,s){let a=!1;return FW(i).te((o=>PW(i,o,s).next((l=>(l&&(a=!0),qe.resolve(!l)))))).next((()=>a))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Sr(e,((a,o)=>{if(o<=n){const l=this.br(e,a).next((c=>{if(!c)return s++,r.getEntry(e,a).next((()=>(r.removeEntry(a,Bt.min()),ou(e).delete((function(f){return[0,ms(f.path)]})(a)))))}));i.push(l)}})).next((()=>qe.waitFor(i))).next((()=>r.apply(e))).next((()=>s))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return fx(e,n)}Sr(e,n){const r=ou(e);let i,s=Xs.ce;return r.ee({index:VN},(([a,o],{path:l,sequenceNumber:c})=>{a===0?(s!==Xs.ce&&n(new Tt(ul(i)),s),s=c,i=l):s=Xs.ce})).next((()=>{s!==Xs.ce&&n(new Tt(ul(i)),s)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function fx(t,e){return ou(t).put((function(r,i){return{targetId:0,path:ms(r.path),sequenceNumber:i}})(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OW{constructor(){this.changes=new _c((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?qe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wie{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Nd(e).put(r)}removeEntry(e,n,r){return Nd(e).delete((function(s,a){const o=s.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],e_(a),o[o.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=mr.newInvalidDocument(n);return Nd(e).ee({index:r2,range:IDBKeyRange.only(Og(n))},((i,s)=>{r=this.Cr(n,s)})).next((()=>r))}vr(e,n){let r={size:0,document:mr.newInvalidDocument(n)};return Nd(e).ee({index:r2,range:IDBKeyRange.only(Og(n))},((i,s)=>{r={document:this.Cr(n,s),size:n_(s)}})).next((()=>r))}getEntries(e,n){let r=Ys();return this.Fr(e,n,((i,s)=>{const a=this.Cr(i,s);r=r.insert(i,a)})).next((()=>r))}Mr(e,n){let r=Ys(),i=new Mr(Tt.comparator);return this.Fr(e,n,((s,a)=>{const o=this.Cr(s,a);r=r.insert(s,o),i=i.insert(s,n_(a))})).next((()=>({documents:r,Or:i})))}Fr(e,n,r){if(n.isEmpty())return qe.resolve();let i=new Gn(D8);n.forEach((l=>i=i.add(l)));const s=IDBKeyRange.bound(Og(i.first()),Og(i.last())),a=i.getIterator();let o=a.getNext();return Nd(e).ee({index:r2,range:s},((l,c,u)=>{const f=Tt.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;o&&D8(o,f)<0;)r(o,null),o=a.getNext();o&&o.isEqual(f)&&(r(o,c),o=a.hasNext()?a.getNext():null),o?u.j(Og(o)):u.done()})).next((()=>{for(;o;)r(o,null),o=a.hasNext()?a.getNext():null}))}getDocumentsMatchingQuery(e,n,r,i,s){const a=n.path,o=[a.popLast().toArray(),a.lastSegment(),e_(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Nd(e).J(IDBKeyRange.bound(o,l,!0)).next((c=>{s==null||s.incrementDocumentReadCount(c.length);let u=Ys();for(const f of c){const h=this.Cr(Tt.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);h.isFoundDocument()&&(dv(n,h)||i.has(h.key))&&(u=u.insert(h.key,h))}return u}))}getAllFromCollectionGroup(e,n,r,i){let s=Ys();const a=S8(n,r),o=S8(n,Da.max());return Nd(e).ee({index:TV,range:IDBKeyRange.bound(a,o,!0)},((l,c,u)=>{const f=this.Cr(Tt.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(f.key,f),s.size===i&&u.done()})).next((()=>s))}newChangeBuffer(e){return new Tie(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return C8(e).get(RA).next((n=>(Ut(!!n,20021),n)))}Dr(e,n){return C8(e).put(RA,n)}Cr(e,n){if(n){const r=oie(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Bt.min())))return r}return mr.newInvalidDocument(e)}}function LW(t){return new wie(t)}class Tie extends OW{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new _c((r=>r.toString()),((r,i)=>r.isEqual(i)))}applyChanges(e){const n=[];let r=0,i=new Gn(((s,a)=>nn(s.canonicalString(),a.canonicalString())));return this.changes.forEach(((s,a)=>{const o=this.Br.get(s);if(n.push(this.Nr.removeEntry(e,s,o.readTime)),a.isValidDocument()){const l=l8(this.Nr.serializer,a);i=i.add(s.path.popLast());const c=n_(l);r+=c-o.size,n.push(this.Nr.addEntry(e,s,l))}else if(r-=o.size,this.trackRemovals){const l=l8(this.Nr.serializer,a.convertToNoDocument(Bt.min()));n.push(this.Nr.addEntry(e,s,l))}})),i.forEach((s=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,s))})),n.push(this.Nr.updateMetadata(e,r)),qe.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:i})=>(i.forEach(((s,a)=>{this.Br.set(s,{size:a,readTime:r.get(s).readTime})})),r)))}}function C8(t){return wi(t,cy)}function Nd(t){return wi(t,X2)}function Og(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function S8(t,e){const n=e.documentKey.path.toArray();return[t,e_(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function D8(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=nn(n[s],r[s]),i)return i;return i=nn(n.length,r.length),i||(i=nn(n[n.length-2],r[r.length-2]),i||nn(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eie{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jW{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&A0(r.mutation,i,Js.empty(),On.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,an()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=an()){const i=dl();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let a=d0();return s.forEach(((o,l)=>{a=a.insert(o,l.overlayedDocument)})),a}))))}getOverlayedDocuments(e,n){const r=dl();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,an())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((a,o)=>{n.set(a,o)}))}))}computeViews(e,n,r,i){let s=Ys();const a=D0(),o=(function(){return D0()})();return n.forEach(((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof bc)?s=s.insert(c.key,c):u!==void 0?(a.set(c.key,u.mutation.getFieldMask()),A0(u.mutation,c,u.mutation.getFieldMask(),On.now())):a.set(c.key,Js.empty())})),this.recalculateAndSaveOverlays(e,s).next((l=>(l.forEach(((c,u)=>a.set(c,u))),n.forEach(((c,u)=>o.set(c,new Eie(u,a.get(c)??null)))),o)))}recalculateAndSaveOverlays(e,n){const r=D0();let i=new Mr(((a,o)=>a-o)),s=an();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((a=>{for(const o of a)o.keys().forEach((l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Js.empty();u=o.applyToLocalView(c,u),r.set(l,u);const f=(i.get(o.batchId)||an()).add(l);i=i.insert(o.batchId,f)}))})).next((()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,f=tW();u.forEach((h=>{if(!s.has(h)){const p=lW(n.get(h),r.get(h));p!==null&&f.set(h,p),s=s.add(h)}})),a.push(this.documentOverlayCache.saveOverlays(e,c,f))}return qe.waitFor(a)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(a){return Tt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):KN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):qe.resolve(dl());let o=Bp,l=s;return a.next((c=>qe.forEach(c,((u,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),s.get(u)?qe.resolve():this.remoteDocumentCache.getEntry(e,u).next((h=>{l=l.insert(u,h)}))))).next((()=>this.populateOverlays(e,c,s))).next((()=>this.computeViews(e,l,c,an()))).next((u=>({batchId:o,changes:eW(u)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Tt(n)).next((r=>{let i=d0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=d0();return this.indexManager.getCollectionParents(e,s).next((o=>qe.forEach(o,(l=>{const c=(function(f,h){return new xc(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)})(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next((u=>{u.forEach(((f,h)=>{a=a.insert(f,h)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((a=>{s.forEach(((l,c)=>{const u=c.getKey();a.get(u)===null&&(a=a.insert(u,mr.newInvalidDocument(u)))}));let o=d0();return a.forEach(((l,c)=>{const u=s.get(l);u!==void 0&&A0(u.mutation,c,Js.empty(),On.now()),dv(n,c)&&(o=o.insert(l,c))})),o}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cie{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return qe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Qr(i.createTime)}})(n)),qe.resolve()}getNamedQuery(e,n){return qe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:r3(i.bundledQuery),readTime:Qr(i.readTime)}})(n)),qe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sie{constructor(){this.overlays=new Mr(Tt.comparator),this.qr=new Map}getOverlay(e,n){return qe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=dl();return qe.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.St(e,n,s)})),qe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),qe.resolve()}getOverlaysForCollection(e,n,r){const i=dl(),s=n.length+1,a=new Tt(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return qe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Mr(((c,u)=>c-u));const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=dl(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=dl(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach(((c,u)=>o.set(c,u))),!(o.size()>=i)););return qe.resolve(o)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new e3(n,r));let s=this.qr.get(n);s===void 0&&(s=an(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Die{constructor(){this.sessionToken=Wr.EMPTY_BYTE_STRING}getSessionToken(e){return qe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,qe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(){this.Qr=new Gn(Ni.$r),this.Ur=new Gn(Ni.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Ni(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Ni(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Tt(new vn([])),r=new Ni(n,e),i=new Ni(n,e+1),s=[];return this.Ur.forEachInRange([r,i],(a=>{this.Gr(a),s.push(a.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Tt(new vn([])),r=new Ni(n,e),i=new Ni(n,e+1);let s=an();return this.Ur.forEachInRange([r,i],(a=>{s=s.add(a.key)})),s}containsKey(e){const n=new Ni(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ni{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Tt.comparator(e.key,n.key)||nn(e.Yr,n.Yr)}static Kr(e,n){return nn(e.Yr,n.Yr)||Tt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aie{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Gn(Ni.$r)}checkEmpty(e){return qe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new QN(s,n,r,i);this.mutationQueue.push(a);for(const o of i)this.Zr=this.Zr.add(new Ni(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return qe.resolve(a)}lookupMutationBatch(e,n){return qe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return qe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return qe.resolve(this.mutationQueue.length===0?_u:this.tr-1)}getAllMutationBatches(e){return qe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ni(n,0),i=new Ni(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(a=>{const o=this.Xr(a.Yr);s.push(o)})),qe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Gn(nn);return n.forEach((i=>{const s=new Ni(i,0),a=new Ni(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,a],(o=>{r=r.add(o.Yr)}))})),qe.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Tt.isDocumentKey(s)||(s=s.child(""));const a=new Ni(new Tt(s),0);let o=new Gn(nn);return this.Zr.forEachWhile((l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(o=o.add(l.Yr)),!0)}),a),qe.resolve(this.ti(o))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Ut(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return qe.forEach(n.mutations,(i=>{const s=new Ni(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Ni(n,0),i=this.Zr.firstAfterOrEqual(r);return qe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,qe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nie{constructor(e){this.ri=e,this.docs=(function(){return new Mr(Tt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return qe.resolve(r?r.document.mutableCopy():mr.newInvalidDocument(n))}getEntries(e,n){let r=Ys();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():mr.newInvalidDocument(i))})),qe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ys();const a=n.path,o=new Tt(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||jN(yV(u),r)<=0||(i.has(u.key)||dv(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return qe.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Nt(9500)}ii(e,n){return qe.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new Iie(this)}getSize(e){return qe.resolve(this.size)}}class Iie extends OW{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),qe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kie{constructor(e){this.persistence=e,this.si=new _c((n=>pf(n)),cv),this.lastRemoteSnapshotVersion=Bt.min(),this.highestTargetId=0,this.oi=0,this._i=new a3,this.targetCount=0,this.ai=xf.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),qe.resolve()}getLastRemoteSnapshotVersion(e){return qe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return qe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),qe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),qe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new xf(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,qe.resolve()}updateTargetData(e,n){return this.Pr(n),qe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,qe.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach(((a,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.si.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)})),qe.waitFor(s).next((()=>i))}getTargetCount(e){return qe.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return qe.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),qe.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((a=>{s.push(i.markPotentiallyOrphaned(e,a))})),qe.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),qe.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return qe.resolve(r)}containsKey(e,n){return qe.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(e,n){this.ui={},this.overlays={},this.ci=new Xs(0),this.li=!1,this.li=!0,this.hi=new Die,this.referenceDelegate=e(this),this.Pi=new kie(this),this.indexManager=new mie,this.remoteDocumentCache=(function(i){return new Nie(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new DW(n),this.Ii=new Cie(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Sie,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new Aie(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ut("MemoryPersistence","Starting transaction:",e);const i=new Rie(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,n){return qe.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class Rie extends xV{constructor(e){super(),this.currentSequenceNumber=e}}class Tb{constructor(e){this.persistence=e,this.Ri=new a3,this.Vi=null}static mi(e){return new Tb(e)}get fi(){if(this.Vi)return this.Vi;throw Nt(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),qe.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),qe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),qe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return qe.forEach(this.fi,(r=>{const i=Tt.fromPath(r);return this.gi(e,i).next((s=>{s||n.removeEntry(i,Bt.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return qe.or([()=>qe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class r_{constructor(e,n){this.persistence=e,this.pi=new _c((r=>ms(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=UW(this,n)}static mi(e,n){return new r_(e,n)}Ei(){}di(e){return qe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return qe.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?qe.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(a=>this.br(e,a,n).next((o=>{o||(r++,s.removeEntry(a,Bt.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),qe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),qe.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),qe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),qe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=s2(e.data.value)),n}br(e,n,r){return qe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return qe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pie{constructor(e){this.serializer=e}k(e,n,r,i){const s=new fb("createOrUpgrade",n);r<1&&i>=1&&((function(l){l.createObjectStore(lv)})(e),(function(l){l.createObjectStore(ly,{keyPath:Xne}),l.createObjectStore(Do,{keyPath:LP,autoIncrement:!0}).createIndex(Gd,jP,{unique:!0}),l.createObjectStore(Vp)})(e),A8(e),(function(l){l.createObjectStore(Ld)})(e));let a=qe.resolve();return r<3&&i>=3&&(r!==0&&((function(l){l.deleteObjectStore(qp),l.deleteObjectStore(Wp),l.deleteObjectStore(tf)})(e),A8(e)),a=a.next((()=>(function(l){const c=l.store(tf),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Bt.min().toTimestamp(),targetCount:0};return c.put(J2,u)})(s)))),r<4&&i>=4&&(r!==0&&(a=a.next((()=>(function(l,c){return c.store(Do).J().next((f=>{l.deleteObjectStore(Do),l.createObjectStore(Do,{keyPath:LP,autoIncrement:!0}).createIndex(Gd,jP,{unique:!0});const h=c.store(Do),p=f.map((v=>h.put(v)));return qe.waitFor(p)}))})(e,s)))),a=a.next((()=>{(function(l){l.createObjectStore(zp,{keyPath:ire})})(e)}))),r<5&&i>=5&&(a=a.next((()=>this.yi(s)))),r<6&&i>=6&&(a=a.next((()=>((function(l){l.createObjectStore(cy)})(e),this.wi(s))))),r<7&&i>=7&&(a=a.next((()=>this.Si(s)))),r<8&&i>=8&&(a=a.next((()=>this.bi(e,s)))),r<9&&i>=9&&(a=a.next((()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&i>=10&&(a=a.next((()=>this.Di(s)))),r<11&&i>=11&&(a=a.next((()=>{(function(l){l.createObjectStore(hb,{keyPath:sre})})(e),(function(l){l.createObjectStore(pb,{keyPath:are})})(e)}))),r<12&&i>=12&&(a=a.next((()=>{(function(l){const c=l.createObjectStore(mb,{keyPath:hre});c.createIndex(FA,pre,{unique:!1}),c.createIndex(DV,mre,{unique:!1})})(e)}))),r<13&&i>=13&&(a=a.next((()=>(function(l){const c=l.createObjectStore(X2,{keyPath:Yne});c.createIndex(r2,Qne),c.createIndex(TV,Zne)})(e))).next((()=>this.Ci(e,s))).next((()=>e.deleteObjectStore(Ld)))),r<14&&i>=14&&(a=a.next((()=>this.Fi(e,s)))),r<15&&i>=15&&(a=a.next((()=>(function(l){l.createObjectStore(WN,{keyPath:ore,autoIncrement:!0}).createIndex(PA,lre,{unique:!1}),l.createObjectStore(E0,{keyPath:cre}).createIndex(CV,ure,{unique:!1}),l.createObjectStore(C0,{keyPath:dre}).createIndex(SV,fre,{unique:!1})})(e)))),r<16&&i>=16&&(a=a.next((()=>{n.objectStore(E0).clear()})).next((()=>{n.objectStore(C0).clear()}))),r<17&&i>=17&&(a=a.next((()=>{(function(l){l.createObjectStore(qN,{keyPath:gre})})(e)}))),r<18&&i>=18&&qB()&&(a=a.next((()=>{n.objectStore(E0).clear()})).next((()=>{n.objectStore(C0).clear()}))),a}wi(e){let n=0;return e.store(Ld).ee(((r,i)=>{n+=n_(i)})).next((()=>{const r={byteSize:n};return e.store(cy).put(RA,r)}))}yi(e){const n=e.store(ly),r=e.store(Do);return n.J().next((i=>qe.forEach(i,(s=>{const a=IDBKeyRange.bound([s.userId,_u],[s.userId,s.lastAcknowledgedBatchId]);return r.J(Gd,a).next((o=>qe.forEach(o,(l=>{Ut(l.userId===s.userId,18650,"Cannot process batch from unexpected user",{batchId:l.batchId});const c=Wd(this.serializer,l);return RW(e,s.userId,c).next((()=>{}))}))))}))))}Si(e){const n=e.store(qp),r=e.store(Ld);return e.store(tf).get(J2).next((i=>{const s=[];return r.ee(((a,o)=>{const l=new vn(a),c=(function(f){return[0,ms(f)]})(l);s.push(n.get(c).next((u=>u?qe.resolve():(f=>n.put({targetId:0,path:ms(f),sequenceNumber:i.highestListenSequenceNumber}))(l))))})).next((()=>qe.waitFor(s)))}))}bi(e,n){e.createObjectStore(uy,{keyPath:rre});const r=n.store(uy),i=new s3,s=a=>{if(i.add(a)){const o=a.lastSegment(),l=a.popLast();return r.put({collectionId:o,parent:ms(l)})}};return n.store(Ld).ee({X:!0},((a,o)=>{const l=new vn(a);return s(l.popLast())})).next((()=>n.store(Vp).ee({X:!0},(([a,o,l],c)=>{const u=ul(o);return s(u.popLast())}))))}Di(e){const n=e.store(Wp);return n.ee(((r,i)=>{const s=h0(i),a=AW(this.serializer,s);return n.put(a)}))}Ci(e,n){const r=n.store(Ld),i=[];return r.ee(((s,a)=>{const o=n.store(X2),l=(function(f){return f.document?new Tt(vn.fromString(f.document.name).popFirst(5)):f.noDocument?Tt.fromSegments(f.noDocument.path):f.unknownDocument?Tt.fromSegments(f.unknownDocument.path):Nt(36783)})(a).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};i.push(o.put(c))})).next((()=>qe.waitFor(i)))}Fi(e,n){const r=n.store(Do),i=LW(this.serializer),s=new o3(Tb.mi,this.serializer.yt);return r.J().next((a=>{const o=new Map;return a.forEach((l=>{let c=o.get(l.userId)??an();Wd(this.serializer,l).keys().forEach((u=>c=c.add(u))),o.set(l.userId,c)})),qe.forEach(o,((l,c)=>{const u=new Ri(c),f=bb.wt(this.serializer,u),h=s.getIndexManager(u),p=wb.wt(u,this.serializer,h,s.referenceDelegate);return new jW(i,p,f,h).recalculateAndSaveOverlaysForDocumentKeys(new MA(n,Xs.ce),l).next()}))}))}}function A8(t){t.createObjectStore(qp,{keyPath:tre}).createIndex(VN,nre,{unique:!0}),t.createObjectStore(Wp,{keyPath:"targetId"}).createIndex(EV,ere,{unique:!0}),t.createObjectStore(tf)}const tu="IndexedDbPersistence",HE=18e5,$E=5e3,GE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",BW="main";class l3{constructor(e,n,r,i,s,a,o,l,c,u,f=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=s,this.window=a,this.document=o,this.xi=c,this.Oi=u,this.Ni=f,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=h=>Promise.resolve(),!l3.v())throw new ot(Ze.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new bie(this,i),this.$i=n+BW,this.serializer=new DW(l),this.Ui=new gl(this.$i,this.Ni,new Pie(this.serializer)),this.hi=new cie,this.Pi=new yie(this.referenceDelegate,this.serializer),this.remoteDocumentCache=LW(this.serializer),this.Ii=new lie,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,u===!1&&Yr(tu,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ot(Ze.FAILED_PRECONDITION,GE);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new Xs(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>hx(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(Ju(e))return ut(tu,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ut(tu,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return Lg(e).get(Wh).next((n=>qe.resolve(this.es(n))))}ts(e){return hx(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,HE)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=wi(n,zp);return r.J().next((i=>{const s=this.ss(i,HE),a=i.filter((o=>s.indexOf(o)===-1));return qe.forEach(a,(o=>r.delete(o.clientId))).next((()=>a))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?qe.resolve(!0):Lg(e).get(Wh).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,$E)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new ot(Ze.FAILED_PRECONDITION,GE);return!1}}return!(!this.networkEnabled||!this.inForeground)||hx(e).J().next((r=>this.ss(r,$E).find((i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,a=!this.inForeground&&i.inForeground,o=this.networkEnabled===i.networkEnabled;if(s||a&&o)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&ut(tu,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[lv,zp],(e=>{const n=new MA(e,Xs.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>hx(e).J().next((n=>this.ss(n,HE).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return wb.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new gie(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return bb.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){ut(tu,"Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=(function(l){return l===18?xre:l===17?kV:l===16?vre:l===15?zN:l===14?IV:l===13?NV:l===12?yre:l===11?AV:void Nt(60245)})(this.Ni);let a;return this.Ui.runTransaction(e,i,s,(o=>(a=new MA(o,this.ci?this.ci.next():Xs.ce),n==="readwrite-primary"?this.Hi(a).next((l=>!!l||this.Yi(a))).next((l=>{if(!l)throw Yr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new ot(Ze.FAILED_PRECONDITION,vV);return r(a)})).next((l=>this.Xi(a).next((()=>l)))):this.Is(a).next((()=>r(a)))))).then((o=>(a.raiseOnCommittedEvent(),o)))}Is(e){return Lg(e).get(Wh).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,$E)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new ot(Ze.FAILED_PRECONDITION,GE)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Lg(e).put(Wh,n)}static v(){return gl.v()}Zi(e){const n=Lg(e);return n.get(Wh).next((r=>this.es(r)?(ut(tu,"Releasing primary lease."),n.delete(Wh)):qe.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Yr(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Bi=()=>{this.cs();const n=/(?:Version|Mobile)\/1[456]/;WB()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){var n;try{const r=((n=this.Ki)==null?void 0:n.getItem(this._s(e)))!==null;return ut(tu,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Yr(tu,"Failed to get zombied client id.",r),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){Yr("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Lg(t){return wi(t,lv)}function hx(t){return wi(t,zp)}function c3(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=an(),i=an();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new u3(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fie{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VW{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return WB()?8:_V(Fr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next((a=>{s.result=a})).next((()=>{if(!s.result)return this.ws(e,n,i,r).next((a=>{s.result=a}))})).next((()=>{if(s.result)return;const a=new Fie;return this.Ss(e,n,a).next((o=>{if(s.result=o,this.Vs)return this.bs(e,n,a,o.size)}))})).next((()=>s.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(rp()<=gn.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",ip(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),qe.resolve()):(rp()<=gn.DEBUG&&ut("QueryEngine","Query:",ip(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(rp()<=gn.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",ip(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Rs(n))):qe.resolve())}ys(e,n){if(QP(n))return qe.resolve(null);let r=Rs(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Z2(n,null,"F"),r=Rs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const a=an(...s);return this.ps.getDocuments(e,a).next((o=>this.indexManager.getMinOffset(e,r).next((l=>{const c=this.Ds(n,o);return this.Cs(n,c,a,l.readTime)?this.ys(e,Z2(n,null,"F")):this.vs(e,c,n,l)}))))})))))}ws(e,n,r,i){return QP(n)||i.isEqual(Bt.min())?qe.resolve(null):this.ps.getDocuments(e,r).next((s=>{const a=this.Ds(n,s);return this.Cs(n,a,r,i)?qe.resolve(null):(rp()<=gn.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ip(n)),this.vs(e,a,n,gV(i,Bp)).next((o=>o)))}))}Ds(e,n){let r=new Gn(QV(e));return n.forEach(((i,s)=>{dv(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return rp()<=gn.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",ip(n)),this.ps.getDocumentsMatchingQuery(e,n,Da.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((a=>{s=s.insert(a.key,a)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3="LocalStore",Mie=3e8;class Uie{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Mr(nn),this.xs=new _c((s=>pf(s)),cv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jW(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function WW(t,e,n,r){return new Uie(t,e,n,r)}async function qW(t,e){const n=Et(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const a=[],o=[];let l=an();for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next((c=>({Ls:c,removedBatchIds:a,addedBatchIds:o})))}))}))}function Oie(t,e){const n=Et(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(o,l,c,u){const f=c.batch,h=f.keys();let p=qe.resolve();return h.forEach((v=>{p=p.next((()=>u.getEntry(l,v))).next((g=>{const y=c.docVersions.get(v);Ut(y!==null,48541),g.version.compareTo(y)<0&&(f.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),u.addEntry(g)))}))})),p.next((()=>o.mutationQueue.removeMutationBatch(l,f)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(o){let l=an();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function zW(t){const e=Et(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Lie(t,e){const n=Et(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const o=[];e.targetChanges.forEach(((u,f)=>{const h=i.get(f);if(!h)return;o.push(n.Pi.removeMatchingKeys(s,u.removedDocuments,f).next((()=>n.Pi.addMatchingKeys(s,u.addedDocuments,f))));let p=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(Wr.EMPTY_BYTE_STRING,Bt.min()).withLastLimboFreeSnapshotVersion(Bt.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(f,p),(function(g,y,b){return g.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=Mie?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0})(h,p,u)&&o.push(n.Pi.updateTargetData(s,p))}));let l=Ys(),c=an();if(e.documentUpdates.forEach((u=>{e.resolvedLimboDocuments.has(u)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))})),o.push(HW(s,a,e.documentUpdates).next((u=>{l=u.ks,c=u.qs}))),!r.isEqual(Bt.min())){const u=n.Pi.getLastRemoteSnapshotVersion(s).next((f=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));o.push(u)}return qe.waitFor(o).next((()=>a.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,l,c))).next((()=>l))})).then((s=>(n.Ms=i,s)))}function HW(t,e,n){let r=an(),i=an();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let a=Ys();return n.forEach(((o,l)=>{const c=s.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(Bt.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):ut(d3,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)})),{ks:a,qs:i}}))}function jie(t,e){const n=Et(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=_u),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Yp(t,e){const n=Et(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((s=>s?(i=s,qe.resolve(i)):n.Pi.allocateTargetId(r).next((a=>(i=new Kl(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Qp(t,e,n){const r=Et(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(a=>r.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!Ju(a))throw a;ut(d3,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function i_(t,e,n){const r=Et(t);let i=Bt.min(),s=an();return r.persistence.runTransaction("Execute query","readwrite",(a=>(function(l,c,u){const f=Et(l),h=f.xs.get(u);return h!==void 0?qe.resolve(f.Ms.get(h)):f.Pi.getTargetData(c,u)})(r,a,Rs(e)).next((o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,o.targetId).next((l=>{s=l}))})).next((()=>r.Fs.getDocumentsMatchingQuery(a,e,n?i:Bt.min(),n?s:an()))).next((o=>(KW(r,YV(e),o),{documents:o,Qs:s})))))}function $W(t,e){const n=Et(t),r=Et(n.Pi),i=n.Ms.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(s=>r.At(s,e).next((a=>a?a.target:null))))}function GW(t,e){const n=Et(t),r=n.Os.get(e)||Bt.min();return n.persistence.runTransaction("Get new document changes","readonly",(i=>n.Ns.getAllFromCollectionGroup(i,e,gV(r,Bp),Number.MAX_SAFE_INTEGER))).then((i=>(KW(n,e,i),i)))}function KW(t,e,n){let r=t.Os.get(e)||Bt.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}async function Bie(t,e,n,r){const i=Et(t);let s=an(),a=Ys();for(const c of n){const u=e.$s(c.metadata.name);c.document&&(s=s.add(u));const f=e.Us(c);f.setReadTime(e.Ks(c.metadata.readTime)),a=a.insert(u,f)}const o=i.Ns.newChangeBuffer({trackRemovals:!0}),l=await Yp(i,(function(u){return Rs(Cm(vn.fromString(`__bundle__/docs/${u}`)))})(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(c=>HW(c,o,a).next((u=>(o.apply(c),u))).next((u=>i.Pi.removeMatchingKeysForTargetId(c,l.targetId).next((()=>i.Pi.addMatchingKeys(c,s,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,u.ks,u.qs))).next((()=>u.ks))))))}async function Vie(t,e,n=an()){const r=await Yp(t,Rs(r3(e.bundledQuery))),i=Et(t);return i.persistence.runTransaction("Save named query","readwrite",(s=>{const a=Qr(e.readTime);if(r.snapshotVersion.compareTo(a)>=0)return i.Ii.saveNamedQuery(s,e);const o=r.withResumeToken(Wr.EMPTY_BYTE_STRING,a);return i.Ms=i.Ms.insert(o.targetId,o),i.Pi.updateTargetData(s,o).next((()=>i.Pi.removeMatchingKeysForTargetId(s,r.targetId))).next((()=>i.Pi.addMatchingKeys(s,n,r.targetId))).next((()=>i.Ii.saveNamedQuery(s,e)))}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XW="firestore_clients";function N8(t,e){return`${XW}_${t}_${e}`}const JW="firestore_mutations";function I8(t,e,n){let r=`${JW}_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const YW="firestore_targets";function KE(t,e){return`${YW}_${t}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const il="SharedClientState";class s_{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ws(e,n,r){const i=JSON.parse(r);let s,a=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return a&&i.error&&(a=typeof i.error.message=="string"&&typeof i.error.code=="string",a&&(s=new ot(i.error.code,i.error.message))),a?new s_(e,n,i.state,s):(Yr(il,`Failed to parse mutation state for ID '${n}': ${r}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class N0{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ws(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new ot(r.error.code,r.error.message))),s?new N0(e,r.state,i):(Yr(il,`Failed to parse target state for ID '${e}': ${n}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class a_{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ws(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=XN();for(let a=0;i&&a<r.activeTargetIds.length;++a)i=bV(r.activeTargetIds[a]),s=s.add(r.activeTargetIds[a]);return i?new a_(e,s):(Yr(il,`Failed to parse client data for instance '${e}': ${n}`),null)}}class f3{constructor(e,n){this.clientId=e,this.onlineState=n}static Ws(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new f3(n.clientId,n.onlineState):(Yr(il,`Failed to parse online state: ${e}`),null)}}class YA{constructor(){this.activeTargetIds=XN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XE{constructor(e,n,r,i,s){this.window=e,this.Mi=n,this.persistenceKey=r,this.Js=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new Mr(nn),this.started=!1,this.Xs=[];const a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.eo=N8(this.persistenceKey,this.Js),this.no=(function(l){return`firestore_sequence_number_${l}`})(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new YA),this.ro=new RegExp(`^${XW}_${a}_([^_]*)$`),this.io=new RegExp(`^${JW}_${a}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${YW}_${a}_(\\d+)$`),this.oo=(function(l){return`firestore_online_state_${l}`})(this.persistenceKey),this._o=(function(l){return`firestore_bundle_loaded_v2_${l}`})(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const r of e){if(r===this.Js)continue;const i=this.getItem(N8(this.persistenceKey,r));if(i){const s=a_.Ws(r,i);s&&(this.Zs=this.Zs.insert(s.clientId,s))}}this.ao();const n=this.storage.getItem(this.oo);if(n){const r=this.uo(n);r&&this.co(r)}for(const r of this.Xs)this.Ys(r);this.Xs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let n=!1;return this.Zs.forEach(((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)})),n}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,n,r){this.ho(e,n,r),this.Po(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(KE(this.persistenceKey,e));if(i){const s=N0.Ws(e,i);s&&(r=s.state)}}return n&&this.To.zs(e),this.ao(),r}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(KE(this.persistenceKey,e))}updateQueryState(e,n,r){this.Io(e,n,r)}handleUserChange(e,n,r){n.forEach((i=>{this.Po(i)})),this.currentUser=e,r.forEach((i=>{this.addPendingMutation(i)}))}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return ut(il,"READ",e,n),n}setItem(e,n){ut(il,"SET",e,n),this.storage.setItem(e,n)}removeItem(e){ut(il,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const n=e;if(n.storageArea===this.storage){if(ut(il,"EVENT",n.key,n.newValue),n.key===this.eo)return void Yr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable((async()=>{if(this.started){if(n.key!==null){if(this.ro.test(n.key)){if(n.newValue==null){const r=this.Ro(n.key);return this.Vo(r,null)}{const r=this.mo(n.key,n.newValue);if(r)return this.Vo(r.clientId,r)}}else if(this.io.test(n.key)){if(n.newValue!==null){const r=this.fo(n.key,n.newValue);if(r)return this.po(r)}}else if(this.so.test(n.key)){if(n.newValue!==null){const r=this.yo(n.key,n.newValue);if(r)return this.wo(r)}}else if(n.key===this.oo){if(n.newValue!==null){const r=this.uo(n.newValue);if(r)return this.co(r)}}else if(n.key===this.no){const r=(function(s){let a=Xs.ce;if(s!=null)try{const o=JSON.parse(s);Ut(typeof o=="number",30636,{So:s}),a=o}catch(o){Yr(il,"Failed to read sequence number from WebStorage",o)}return a})(n.newValue);r!==Xs.ce&&this.sequenceNumberHandler(r)}else if(n.key===this._o){const r=this.bo(n.newValue);await Promise.all(r.map((i=>this.syncEngine.Do(i))))}}}else this.Xs.push(n)}))}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,n,r){const i=new s_(this.currentUser,e,n,r),s=I8(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Gs())}Po(e){const n=I8(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Eo(e){const n={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(n))}Io(e,n,r){const i=KE(this.persistenceKey,e),s=new N0(e,n,r);this.setItem(i,s.Gs())}Ao(e){const n=JSON.stringify(Array.from(e));this.setItem(this._o,n)}Ro(e){const n=this.ro.exec(e);return n?n[1]:null}mo(e,n){const r=this.Ro(e);return a_.Ws(r,n)}fo(e,n){const r=this.io.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return s_.Ws(new Ri(s),i,n)}yo(e,n){const r=this.so.exec(e),i=Number(r[1]);return N0.Ws(i,n)}uo(e){return f3.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);ut(il,`Ignoring mutation for non-active user ${e.user.uid}`)}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,n){const r=n?this.Zs.insert(e,n):this.Zs.remove(e),i=this.lo(this.Zs),s=this.lo(r),a=[],o=[];return s.forEach((l=>{i.has(l)||a.push(l)})),i.forEach((l=>{s.has(l)||o.push(l)})),this.syncEngine.Fo(a,o).then((()=>{this.Zs=r}))}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let n=XN();return e.forEach(((r,i)=>{n=n.unionWith(i.activeTargetIds)})),n}}class QW{constructor(){this.Mo=new YA,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new YA,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wie{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k8="ConnectivityMonitor";class R8{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ut(k8,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ut(k8,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let px=null;function QA(){return px===null?px=(function(){return 268435456+Math.round(2147483648*Math.random())})():px++,"0x"+px.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="RestConnection",qie={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zie{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===OA?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const a=QA(),o=this.zo(e,n.toUriEncodedString());ut(JE,`Sending RPC '${e}' ${a}:`,o,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,s);const{host:c}=new URL(o),u=Dl(c);return this.Jo(e,o,l,r,u).then((f=>(ut(JE,`Received RPC '${e}' ${a}: `,f),f)),(f=>{throw bl(JE,`RPC '${e}' ${a} failed with error: `,f,"url: ",o,"request:",r),f}))}Ho(e,n,r,i,s,a){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Em})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,n){const r=qie[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hie{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="WebChannelConnection";class $ie extends zie{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const a=QA();return new Promise(((o,l)=>{const c=new sV;c.setWithCredentials(!0),c.listenOnce(aV.COMPLETE,(()=>{try{switch(c.getLastErrorCode()){case e2.NO_ERROR:const f=c.getResponseJson();ut(ts,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(f)),o(f);break;case e2.TIMEOUT:ut(ts,`RPC '${e}' ${a} timed out`),l(new ot(Ze.DEADLINE_EXCEEDED,"Request time out"));break;case e2.HTTP_ERROR:const h=c.getStatus();if(ut(ts,`RPC '${e}' ${a} failed with status:`,h,"response text:",c.getResponseText()),h>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const v=p==null?void 0:p.error;if(v&&v.status&&v.message){const g=(function(b){const _=b.toLowerCase().replace(/_/g,"-");return Object.values(Ze).indexOf(_)>=0?_:Ze.UNKNOWN})(v.status);l(new ot(g,v.message))}else l(new ot(Ze.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new ot(Ze.UNAVAILABLE,"Connection failed."));break;default:Nt(9055,{l_:e,streamId:a,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{ut(ts,`RPC '${e}' ${a} completed.`)}}));const u=JSON.stringify(i);ut(ts,`RPC '${e}' ${a} sending request:`,i),c.send(n,"POST",u,r,15)}))}T_(e,n,r){const i=QA(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=cV(),o=lV(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");ut(ts,`Creating RPC '${e}' stream ${i}: ${u}`,l);const f=a.createWebChannel(u,l);this.I_(f);let h=!1,p=!1;const v=new Hie({Yo:y=>{p?ut(ts,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(ut(ts,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),ut(ts,`RPC '${e}' stream ${i} sending:`,y),f.send(y))},Zo:()=>f.close()}),g=(y,b,_)=>{y.listen(b,(w=>{try{_(w)}catch(C){setTimeout((()=>{throw C}),0)}}))};return g(f,u0.EventType.OPEN,(()=>{p||(ut(ts,`RPC '${e}' stream ${i} transport opened.`),v.o_())})),g(f,u0.EventType.CLOSE,(()=>{p||(p=!0,ut(ts,`RPC '${e}' stream ${i} transport closed`),v.a_(),this.E_(f))})),g(f,u0.EventType.ERROR,(y=>{p||(p=!0,bl(ts,`RPC '${e}' stream ${i} transport errored. Name:`,y.name,"Message:",y.message),v.a_(new ot(Ze.UNAVAILABLE,"The operation could not be completed")))})),g(f,u0.EventType.MESSAGE,(y=>{var b;if(!p){const _=y.data[0];Ut(!!_,16349);const w=_,C=(w==null?void 0:w.error)||((b=w[0])==null?void 0:b.error);if(C){ut(ts,`RPC '${e}' stream ${i} received error:`,C);const S=C.status;let R=(function(k){const F=oi[k];if(F!==void 0)return dW(F)})(S),D=C.message;R===void 0&&(R=Ze.INTERNAL,D="Unknown error status: "+S+" with message "+C.message),p=!0,v.a_(new ot(R,D)),f.close()}else ut(ts,`RPC '${e}' stream ${i} received:`,_),v.u_(_)}})),g(o,oV.STAT_EVENT,(y=>{y.stat===NA.PROXY?ut(ts,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===NA.NOPROXY&&ut(ts,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{v.__()}),0),v}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZW(){return typeof window<"u"?window:null}function u2(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(t){return new Yre(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&ut("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P8="PersistentStream";class eq{constructor(e,n,r,i,s,a,o,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new h3(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Ze.RESOURCE_EXHAUSTED?(Yr(n.toString()),Yr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Ze.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new ot(Ze.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ut(P8,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ut(P8,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Gie extends eq{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=eie(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Bt.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Bt.min():a.readTime?Qr(a.readTime):Bt.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=$A(this.serializer),n.addTarget=(function(s,a){let o;const l=a.target;if(o=Y2(l)?{documents:bW(s,l)}:{query:wW(s,l).ft},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=mW(s,a.resumeToken);const c=zA(s,a.expectedCount);c!==null&&(o.expectedCount=c)}else if(a.snapshotVersion.compareTo(Bt.min())>0){o.readTime=Jp(s,a.snapshotVersion.toTimestamp());const c=zA(s,a.expectedCount);c!==null&&(o.expectedCount=c)}return o})(this.serializer,e);const r=nie(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=$A(this.serializer),n.removeTarget=e,this.q_(n)}}class Kie extends eq{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ut(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ut(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ut(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=tie(e.writeResults,e.commitTime),r=Qr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=$A(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>gy(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xie{}class Jie extends Xie{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ot(Ze.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,a])=>this.connection.Go(e,HA(n,r),i,s,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===Ze.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ot(Ze.UNKNOWN,s.toString())}))}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Ho(e,HA(n,r),i,a,o,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===Ze.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ot(Ze.UNKNOWN,a.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Yie{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Yr(n),this.aa=!1):ut("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f="RemoteStore";class Qie{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((a=>{r.enqueueAndForget((async()=>{Qu(this)&&(ut(_f,"Restarting streams for network reachability change."),await(async function(l){const c=Et(l);c.Ea.add(4),await Am(c),c.Ra.set("Unknown"),c.Ea.delete(4),await gv(c)})(this))}))})),this.Ra=new Yie(r,i)}}async function gv(t){if(Qu(t))for(const e of t.da)await e(!0)}async function Am(t){for(const e of t.da)await e(!1)}function Eb(t,e){const n=Et(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),g3(n)?m3(n):Im(n).O_()&&p3(n,e))}function Zp(t,e){const n=Et(t),r=Im(n);n.Ia.delete(e),r.O_()&&tq(n,e),n.Ia.size===0&&(r.O_()?r.L_():Qu(n)&&n.Ra.set("Unknown"))}function p3(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Bt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Im(t).Y_(e)}function tq(t,e){t.Va.Ue(e),Im(t).Z_(e)}function m3(t){t.Va=new Gre({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Im(t).start(),t.Ra.ua()}function g3(t){return Qu(t)&&!Im(t).x_()&&t.Ia.size>0}function Qu(t){return Et(t).Ea.size===0}function nq(t){t.Va=void 0}async function Zie(t){t.Ra.set("Online")}async function ese(t){t.Ia.forEach(((e,n)=>{p3(t,e)}))}async function tse(t,e){nq(t),g3(t)?(t.Ra.ha(e),m3(t)):t.Ra.set("Unknown")}async function nse(t,e,n){if(t.Ra.set("Online"),e instanceof pW&&e.state===2&&e.cause)try{await(async function(i,s){const a=s.cause;for(const o of s.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.Ia.delete(o),i.Va.removeTarget(o))})(t,e)}catch(r){ut(_f,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await o_(t,r)}else if(e instanceof l2?t.Va.Ze(e):e instanceof hW?t.Va.st(e):t.Va.tt(e),!n.isEqual(Bt.min()))try{const r=await zW(t.localStore);n.compareTo(r)>=0&&await(function(s,a){const o=s.Va.Tt(a);return o.targetChanges.forEach(((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.Ia.get(c);u&&s.Ia.set(c,u.withResumeToken(l.resumeToken,a))}})),o.targetMismatches.forEach(((l,c)=>{const u=s.Ia.get(l);if(!u)return;s.Ia.set(l,u.withResumeToken(Wr.EMPTY_BYTE_STRING,u.snapshotVersion)),tq(s,l);const f=new Kl(u.target,l,c,u.sequenceNumber);p3(s,f)})),s.remoteSyncer.applyRemoteEvent(o)})(t,n)}catch(r){ut(_f,"Failed to raise snapshot:",r),await o_(t,r)}}async function o_(t,e,n){if(!Ju(e))throw e;t.Ea.add(1),await Am(t),t.Ra.set("Offline"),n||(n=()=>zW(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ut(_f,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await gv(t)}))}function rq(t,e){return e().catch((n=>o_(t,n,e)))}async function Nm(t){const e=Et(t),n=Mu(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:_u;for(;rse(e);)try{const i=await jie(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,ise(e,i)}catch(i){await o_(e,i)}iq(e)&&sq(e)}function rse(t){return Qu(t)&&t.Ta.length<10}function ise(t,e){t.Ta.push(e);const n=Mu(t);n.O_()&&n.X_&&n.ea(e.mutations)}function iq(t){return Qu(t)&&!Mu(t).x_()&&t.Ta.length>0}function sq(t){Mu(t).start()}async function sse(t){Mu(t).ra()}async function ase(t){const e=Mu(t);for(const n of t.Ta)e.ea(n.mutations)}async function ose(t,e,n){const r=t.Ta.shift(),i=ZN.from(r,e,n);await rq(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Nm(t)}async function lse(t,e){e&&Mu(t).X_&&await(async function(r,i){if((function(a){return uW(a)&&a!==Ze.ABORTED})(i.code)){const s=r.Ta.shift();Mu(r).B_(),await rq(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await Nm(r)}})(t,e),iq(t)&&sq(t)}async function F8(t,e){const n=Et(t);n.asyncQueue.verifyOperationInProgress(),ut(_f,"RemoteStore received new credentials");const r=Qu(n);n.Ea.add(3),await Am(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await gv(n)}async function ZA(t,e){const n=Et(t);e?(n.Ea.delete(2),await gv(n)):e||(n.Ea.add(2),await Am(n),n.Ra.set("Unknown"))}function Im(t){return t.ma||(t.ma=(function(n,r,i){const s=Et(n);return s.sa(),new Gie(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:Zie.bind(null,t),t_:ese.bind(null,t),r_:tse.bind(null,t),H_:nse.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),g3(t)?m3(t):t.Ra.set("Unknown")):(await t.ma.stop(),nq(t))}))),t.ma}function Mu(t){return t.fa||(t.fa=(function(n,r,i){const s=Et(n);return s.sa(),new Kie(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:sse.bind(null,t),r_:lse.bind(null,t),ta:ase.bind(null,t),na:ose.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Nm(t)):(await t.fa.stop(),t.Ta.length>0&&(ut(_f,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,o=new y3(e,n,a,i,s);return o.start(r),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(Ze.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function km(t,e){if(Yr("AsyncQueue",`${e}: ${t}`),Ju(t))return new ot(Ze.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{static emptySet(e){return new _p(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Tt.comparator(n.key,r.key):(n,r)=>Tt.comparator(n.key,r.key),this.keyedMap=d0(),this.sortedSet=new Mr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof _p)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new _p;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M8{constructor(){this.ga=new Mr(Tt.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Nt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class em{constructor(e,n,r,i,s,a,o,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach((o=>{a.push({type:0,doc:o})})),new em(e,n,_p.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cse{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class use{constructor(){this.queries=U8(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Et(n),s=i.queries;i.queries=U8(),s.forEach(((a,o)=>{for(const l of o.Sa)l.onError(r)}))})(this,new ot(Ze.ABORTED,"Firestore shutting down"))}}function U8(){return new _c((t=>JV(t)),uv)}async function v3(t,e){const n=Et(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new cse,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const o=km(a,`Initialization of query '${ip(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&_3(n)}async function x3(t,e){const n=Et(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.Sa.indexOf(e);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function dse(t,e){const n=Et(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const o of a.Sa)o.Fa(i)&&(r=!0);a.wa=i}}r&&_3(n)}function fse(t,e,n){const r=Et(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function _3(t){t.Ca.forEach((e=>{e.next()}))}var e4,O8;(O8=e4||(e4={})).Ma="default",O8.Cache="cache";class b3{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new em(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=em.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==e4.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hse{constructor(e,n){this.Qa=e,this.byteLength=n}$a(){return"metadata"in this.Qa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L8{constructor(e){this.serializer=e}$s(e){return yl(this.serializer,e)}Us(e){return e.metadata.exists?_W(this.serializer,e.document,!1):mr.newNoDocument(this.$s(e.metadata.name),this.Ks(e.metadata.readTime))}Ks(e){return Qr(e)}}class pse{constructor(e,n){this.Ua=e,this.serializer=n,this.Ka=[],this.Wa=[],this.collectionGroups=new Set,this.progress=aq(e)}get queries(){return this.Ka}get documents(){return this.Wa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Qa.namedQuery)this.Ka.push(e.Qa.namedQuery);else if(e.Qa.documentMetadata){this.Wa.push({metadata:e.Qa.documentMetadata}),e.Qa.documentMetadata.exists||++n;const r=vn.fromString(e.Qa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Qa.document&&(this.Wa[this.Wa.length-1].document=e.Qa.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,{...this.progress}):null}za(e){const n=new Map,r=new L8(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.$s(i.metadata.name);for(const a of i.metadata.queries){const o=(n.get(a)||an()).add(s);n.set(a,o)}}return n}async ja(e){const n=await Bie(e,new L8(this.serializer),this.Wa,this.Ua.id),r=this.za(this.documents);for(const i of this.Ka)await Vie(e,i,r.get(i.name));return this.progress.taskState="Success",{progress:this.progress,Ja:this.collectionGroups,Ha:n}}}function aq(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oq{constructor(e){this.key=e}}class lq{constructor(e){this.key=e}}class cq{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=an(),this.mutatedKeys=an(),this.eu=QV(e),this.tu=new _p(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new M8,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((u,f)=>{const h=i.get(u),p=dv(this.query,f)?f:null,v=!!h&&this.mutatedKeys.has(h.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let y=!1;h&&p?h.data.isEqual(p.data)?v!==g&&(r.track({type:3,doc:p}),y=!0):this.su(h,p)||(r.track({type:2,doc:p}),y=!0,(l&&this.eu(p,l)>0||c&&this.eu(p,c)<0)&&(o=!0)):!h&&p?(r.track({type:0,doc:p}),y=!0):h&&!p&&(r.track({type:1,doc:h}),y=!0,(l||c)&&(o=!0)),y&&(p?(a=a.add(p),s=g?s.add(u):s.delete(u)):(a=a.delete(u),s=s.delete(u)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const u=this.query.limitType==="F"?a.last():a.first();a=a.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{tu:a,iu:r,Cs:o,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort(((u,f)=>(function(p,v){const g=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Nt(20277,{Rt:y})}};return g(p)-g(v)})(u.type,f.type)||this.eu(u.doc,f.doc))),this.ou(r),i=i??!1;const o=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,c=l!==this.Za;return this.Za=l,a.length!==0||c?{snapshot:new em(this.query,e.tu,s,a,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new M8,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=an(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new lq(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new oq(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=an();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return em.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Zu="SyncEngine";class mse{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class gse{constructor(e){this.key=e,this.hu=!1}}class yse{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new _c((o=>JV(o)),uv),this.Iu=new Map,this.Eu=new Set,this.du=new Mr(Tt.comparator),this.Au=new Map,this.Ru=new a3,this.Vu={},this.mu=new Map,this.fu=xf.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function vse(t,e,n=!0){const r=Cb(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await uq(r,e,n,!0),i}async function xse(t,e){const n=Cb(t);await uq(n,e,!0,!1)}async function uq(t,e,n,r){const i=await Yp(t.localStore,Rs(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await w3(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&Eb(t.remoteStore,i),o}async function w3(t,e,n,r,i){t.pu=(f,h,p)=>(async function(g,y,b,_){let w=y.view.ru(b);w.Cs&&(w=await i_(g.localStore,y.query,!1).then((({documents:D})=>y.view.ru(D,w))));const C=_&&_.targetChanges.get(y.targetId),S=_&&_.targetMismatches.get(y.targetId)!=null,R=y.view.applyChanges(w,g.isPrimaryClient,C,S);return t4(g,y.targetId,R.au),R.snapshot})(t,f,h,p);const s=await i_(t.localStore,e,!0),a=new cq(e,s.Qs),o=a.ru(s.documents),l=pv.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=a.applyChanges(o,t.isPrimaryClient,l);t4(t,n,c.au);const u=new mse(e,n,a);return t.Tu.set(e,u),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function _se(t,e,n){const r=Et(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((a=>!uv(a,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Qp(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Zp(r.remoteStore,i.targetId),tm(r,i.targetId)})).catch(Xu)):(tm(r,i.targetId),await Qp(r.localStore,i.targetId,!0))}async function bse(t,e){const n=Et(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Zp(n.remoteStore,r.targetId))}async function wse(t,e,n){const r=S3(t);try{const i=await(function(a,o){const l=Et(a),c=On.now(),u=o.reduce(((p,v)=>p.add(v.key)),an());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",(p=>{let v=Ys(),g=an();return l.Ns.getEntries(p,u).next((y=>{v=y,v.forEach(((b,_)=>{_.isValidDocument()||(g=g.add(b))}))})).next((()=>l.localDocuments.getOverlayedDocuments(p,v))).next((y=>{f=y;const b=[];for(const _ of o){const w=zre(_,f.get(_.key).overlayedDocument);w!=null&&b.push(new bc(_.key,w,VV(w.value.mapValue),Er.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,b,o)})).next((y=>{h=y;const b=y.applyToLocalDocumentSet(f,g);return l.documentOverlayCache.saveOverlays(p,y.batchId,b)}))})).then((()=>({batchId:h.batchId,changes:eW(f)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(a,o,l){let c=a.Vu[a.currentUser.toKey()];c||(c=new Mr(nn)),c=c.insert(o,l),a.Vu[a.currentUser.toKey()]=c})(r,i.batchId,n),await wc(r,i.changes),await Nm(r.remoteStore)}catch(i){const s=km(i,"Failed to persist write");n.reject(s)}}async function dq(t,e){const n=Et(t);try{const r=await Lie(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const a=n.Au.get(s);a&&(Ut(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?Ut(a.hu,14607):i.removedDocuments.size>0&&(Ut(a.hu,42227),a.hu=!1))})),await wc(n,r,e)}catch(r){await Xu(r)}}function j8(t,e,n){const r=Et(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,a)=>{const o=a.view.va(e);o.snapshot&&i.push(o.snapshot)})),(function(a,o){const l=Et(a);l.onlineState=o;let c=!1;l.queries.forEach(((u,f)=>{for(const h of f.Sa)h.va(o)&&(c=!0)})),c&&_3(l)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Tse(t,e,n){const r=Et(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let a=new Mr(Tt.comparator);a=a.insert(s,mr.newNoDocument(s,Bt.min()));const o=an().add(s),l=new hv(Bt.min(),new Map,new Mr(nn),a,o);await dq(r,l),r.du=r.du.remove(s),r.Au.delete(e),C3(r)}else await Qp(r.localStore,e,!1).then((()=>tm(r,e,n))).catch(Xu)}async function Ese(t,e){const n=Et(t),r=e.batch.batchId;try{const i=await Oie(n.localStore,e);E3(n,r,null),T3(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await wc(n,i)}catch(i){await Xu(i)}}async function Cse(t,e,n){const r=Et(t);try{const i=await(function(a,o){const l=Et(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",(c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next((f=>(Ut(f!==null,37113),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f)))).next((()=>l.mutationQueue.performConsistencyCheck(c))).next((()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o))).next((()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u))).next((()=>l.localDocuments.getDocuments(c,u)))}))})(r.localStore,e);E3(r,e,n),T3(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await wc(r,i)}catch(i){await Xu(i)}}async function Sse(t,e){const n=Et(t);Qu(n.remoteStore)||ut(Zu,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await(function(a){const o=Et(a);return o.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(l=>o.mutationQueue.getHighestUnacknowledgedBatchId(l)))})(n.localStore);if(r===_u)return void e.resolve();const i=n.mu.get(r)||[];i.push(e),n.mu.set(r,i)}catch(r){const i=km(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function T3(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function E3(t,e,n){const r=Et(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function tm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||fq(t,r)}))}function fq(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Zp(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),C3(t))}function t4(t,e,n){for(const r of n)r instanceof oq?(t.Ru.addReference(r.key,e),Dse(t,r)):r instanceof lq?(ut(Zu,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||fq(t,r.key)):Nt(19791,{wu:r})}function Dse(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ut(Zu,"New document in limbo: "+n),t.Eu.add(r),C3(t))}function C3(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Tt(vn.fromString(e)),r=t.fu.next();t.Au.set(r,new gse(n)),t.du=t.du.insert(n,r),Eb(t.remoteStore,new Kl(Rs(Cm(n.path)),r,"TargetPurposeLimboResolution",Xs.ce))}}async function wc(t,e,n){const r=Et(t),i=[],s=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach(((o,l)=>{a.push(r.pu(l,e,n).then((c=>{var u;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=u3.As(l.targetId,c);s.push(f)}})))})),await Promise.all(a),r.Pu.H_(i),await(async function(l,c){const u=Et(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",(f=>qe.forEach(c,(h=>qe.forEach(h.Es,(p=>u.persistence.referenceDelegate.addReference(f,h.targetId,p))).next((()=>qe.forEach(h.ds,(p=>u.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))))))}catch(f){if(!Ju(f))throw f;ut(d3,"Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const p=u.Ms.get(h),v=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(v);u.Ms=u.Ms.insert(h,g)}}})(r.localStore,s))}async function Ase(t,e){const n=Et(t);if(!n.currentUser.isEqual(e)){ut(Zu,"User change. New user:",e.toKey());const r=await qW(n.localStore,e);n.currentUser=e,(function(s,a){s.mu.forEach((o=>{o.forEach((l=>{l.reject(new ot(Ze.CANCELLED,a))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await wc(n,r.Ls)}}function Nse(t,e){const n=Et(t),r=n.Au.get(e);if(r&&r.hu)return an().add(r.key);{let i=an();const s=n.Iu.get(e);if(!s)return i;for(const a of s){const o=n.Tu.get(a);i=i.unionWith(o.view.nu)}return i}}async function Ise(t,e){const n=Et(t),r=await i_(n.localStore,e.query,!0),i=e.view.cu(r);return n.isPrimaryClient&&t4(n,e.targetId,i.au),i}async function kse(t,e){const n=Et(t);return GW(n.localStore,e).then((r=>wc(n,r)))}async function Rse(t,e,n,r){const i=Et(t),s=await(function(o,l){const c=Et(o),u=Et(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",(f=>u.er(f,l).next((h=>h?c.localDocuments.getDocuments(f,h):qe.resolve(null)))))})(i.localStore,e);s!==null?(n==="pending"?await Nm(i.remoteStore):n==="acknowledged"||n==="rejected"?(E3(i,e,r||null),T3(i,e),(function(o,l){Et(Et(o).mutationQueue).ir(l)})(i.localStore,e)):Nt(6720,"Unknown batchState",{Su:n}),await wc(i,s)):ut(Zu,"Cannot apply mutation batch with id: "+e)}async function Pse(t,e){const n=Et(t);if(Cb(n),S3(n),e===!0&&n.gu!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await B8(n,r.toArray());n.gu=!0,await ZA(n.remoteStore,!0);for(const s of i)Eb(n.remoteStore,s)}else if(e===!1&&n.gu!==!1){const r=[];let i=Promise.resolve();n.Iu.forEach(((s,a)=>{n.sharedClientState.isLocalQueryTarget(a)?r.push(a):i=i.then((()=>(tm(n,a),Qp(n.localStore,a,!0)))),Zp(n.remoteStore,a)})),await i,await B8(n,r),(function(a){const o=Et(a);o.Au.forEach(((l,c)=>{Zp(o.remoteStore,c)})),o.Ru.Jr(),o.Au=new Map,o.du=new Mr(Tt.comparator)})(n),n.gu=!1,await ZA(n.remoteStore,!1)}}async function B8(t,e,n){const r=Et(t),i=[],s=[];for(const a of e){let o;const l=r.Iu.get(a);if(l&&l.length!==0){o=await Yp(r.localStore,Rs(l[0]));for(const c of l){const u=r.Tu.get(c),f=await Ise(r,u);f.snapshot&&s.push(f.snapshot)}}else{const c=await $W(r.localStore,a);o=await Yp(r.localStore,c),await w3(r,hq(c),a,!1,o.resumeToken)}i.push(o)}return r.Pu.H_(s),i}function hq(t){return XV(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Fse(t){return(function(n){return Et(Et(n).persistence).Ts()})(Et(t).localStore)}async function Mse(t,e,n,r){const i=Et(t);if(i.gu)return void ut(Zu,"Ignoring unexpected query state notification.");const s=i.Iu.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const a=await GW(i.localStore,YV(s[0])),o=hv.createSynthesizedRemoteEventForCurrentChange(e,n==="current",Wr.EMPTY_BYTE_STRING);await wc(i,a,o);break}case"rejected":await Qp(i.localStore,e,!0),tm(i,e,r);break;default:Nt(64155,n)}}async function Use(t,e,n){const r=Cb(t);if(r.gu){for(const i of e){if(r.Iu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){ut(Zu,"Adding an already active target "+i);continue}const s=await $W(r.localStore,i),a=await Yp(r.localStore,s);await w3(r,hq(s),a.targetId,!1,a.resumeToken),Eb(r.remoteStore,a)}for(const i of n)r.Iu.has(i)&&await Qp(r.localStore,i,!1).then((()=>{Zp(r.remoteStore,i),tm(r,i)})).catch(Xu)}}function Cb(t){const e=Et(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=dq.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Nse.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Tse.bind(null,e),e.Pu.H_=dse.bind(null,e.eventManager),e.Pu.yu=fse.bind(null,e.eventManager),e}function S3(t){const e=Et(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ese.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Cse.bind(null,e),e}function Ose(t,e,n){const r=Et(t);(async function(s,a,o){try{const l=await a.getMetadata();if(await(function(p,v){const g=Et(p),y=Qr(v.createTime);return g.persistence.runTransaction("hasNewerBundle","readonly",(b=>g.Ii.getBundleMetadata(b,v.id))).then((b=>!!b&&b.createTime.compareTo(y)>=0))})(s.localStore,l))return await a.close(),o._completeWith((function(p){return{taskState:"Success",documentsLoaded:p.totalDocuments,bytesLoaded:p.totalBytes,totalDocuments:p.totalDocuments,totalBytes:p.totalBytes}})(l)),Promise.resolve(new Set);o._updateProgress(aq(l));const c=new pse(l,a.serializer);let u=await a.bu();for(;u;){const h=await c.Ga(u);h&&o._updateProgress(h),u=await a.bu()}const f=await c.ja(s.localStore);return await wc(s,f.Ha,void 0),await(function(p,v){const g=Et(p);return g.persistence.runTransaction("Save bundle","readwrite",(y=>g.Ii.saveBundleMetadata(y,v)))})(s.localStore,l),o._completeWith(f.progress),Promise.resolve(f.Ja)}catch(l){return bl(Zu,`Loading bundle failed with ${l}`),o._failWith(l),Promise.resolve(new Set)}})(r,e,n).then((i=>{r.sharedClientState.notifyBundleLoaded(i)}))}class yy{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mv(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return WW(this.persistence,new VW,e.initialUser,this.serializer)}Cu(e){return new o3(Tb.mi,this.serializer)}Du(e){return new QW}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yy.provider={build:()=>new yy};class Lse extends yy{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ut(this.persistence.referenceDelegate instanceof r_,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new MW(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?as.withCacheSize(this.cacheSizeBytes):as.DEFAULT;return new o3((r=>r_.mi(r,n)),this.serializer)}}class pq extends yy{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await S3(this.xu.syncEngine),await Nm(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return WW(this.persistence,new VW,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new MW(r,e.asyncQueue,n)}Mu(e,n){const r=new Gne(n,this.persistence);return new $ne(e.asyncQueue,r)}Cu(e){const n=c3(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?as.withCacheSize(this.cacheSizeBytes):as.DEFAULT;return new l3(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,ZW(),u2(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new QW}}class jse extends pq{constructor(e,n){super(e,n,!1),this.xu=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.xu.syncEngine;this.sharedClientState instanceof XE&&(this.sharedClientState.syncEngine={Co:Rse.bind(null,n),vo:Mse.bind(null,n),Fo:Use.bind(null,n),Ts:Fse.bind(null,n),Do:kse.bind(null,n)},await this.sharedClientState.start()),await this.persistence.Ji((async r=>{await Pse(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(e){const n=ZW();if(!XE.v(n))throw new ot(Ze.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=c3(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new XE(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class vy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>j8(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ase.bind(null,this.syncEngine),await ZA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new use})()}createDatastore(e){const n=mv(e.databaseInfo.databaseId),r=(function(s){return new $ie(s)})(e.databaseInfo);return(function(s,a,o,l){return new Jie(s,a,o,l)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,a,o){return new Qie(r,i,s,a,o)})(this.localStore,this.datastore,e.asyncQueue,(n=>j8(this.syncEngine,n,0)),(function(){return R8.v()?new R8:new Wie})())}createSyncEngine(e,n){return(function(i,s,a,o,l,c,u){const f=new yse(i,s,a,o,l,c);return u&&(f.gu=!0),f})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const s=Et(i);ut(_f,"RemoteStore shutting down."),s.Ea.add(5),await Am(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}vy.provider={build:()=>new vy};function V8(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Yr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bse{constructor(e,n){this.Bu=e,this.serializer=n,this.metadata=new Xi,this.buffer=new Uint8Array,this.Lu=(function(){return new TextDecoder("utf-8")})(),this.ku().then((r=>{r&&r.$a()?this.metadata.resolve(r.Qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Qa)}`))}),(r=>this.metadata.reject(r)))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async bu(){return await this.getMetadata(),this.ku()}async ku(){const e=await this.qu();if(e===null)return null;const n=this.Lu.decode(e),r=Number(n);isNaN(r)&&this.Qu(`length string (${n}) is not valid number`);const i=await this.$u(r);return new hse(JSON.parse(i),e.length+r)}Uu(){return this.buffer.findIndex((e=>e===123))}async qu(){for(;this.Uu()<0&&!await this.Ku(););if(this.buffer.length===0)return null;const e=this.Uu();e<0&&this.Qu("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async $u(e){for(;this.buffer.length<e;)await this.Ku()&&this.Qu("Reached the end of bundle when more is expected.");const n=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Qu(e){throw this.Bu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ku(){const e=await this.Bu.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vse{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ot(Ze.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(i,s){const a=Et(i),o={documents:s.map((f=>my(a.serializer,f)))},l=await a.Ho("BatchGetDocuments",a.serializer.databaseId,vn.emptyPath(),o,s.length),c=new Map;l.forEach((f=>{const h=Zre(a.serializer,f);c.set(h.key.toString(),h)}));const u=[];return s.forEach((f=>{const h=c.get(f.toString());Ut(!!h,55234,{key:f}),u.push(h)})),u})(this.datastore,e);return n.forEach((r=>this.recordVersion(r))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Dm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,r)=>{const i=Tt.fromPath(r);this.mutations.push(new YN(i,this.precondition(i)))})),await(async function(r,i){const s=Et(r),a={writes:i.map((o=>gy(s.serializer,o)))};await s.Go("Commit",s.serializer.databaseId,vn.emptyPath(),a)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Nt(50498,{Gu:e.constructor.name});n=Bt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new ot(Ze.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Bt.min())?Er.exists(!1):Er.updateTime(n):Er.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Bt.min()))throw new ot(Ze.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Er.updateTime(n)}return Er.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wse{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.zu=r.maxAttempts,this.M_=new h3(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new Vse(this.datastore),n=this.Hu(e);n&&n.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((i=>{this.Yu(i)}))))})).catch((r=>{this.Yu(r)}))}))}Hu(e){try{const n=this.updateFunction(e);return!ov(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if((e==null?void 0:e.name)==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!uW(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu="FirestoreClient";class qse{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ri.UNAUTHENTICATED,this.clientId=ON.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async a=>{ut(Uu,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,(a=>(ut(Uu,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=km(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function YE(t,e){t.asyncQueue.verifyOperationInProgress(),ut(Uu,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await qW(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function W8(t,e){t.asyncQueue.verifyOperationInProgress();const n=await D3(t);ut(Uu,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>F8(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>F8(e.remoteStore,i))),t._onlineComponents=e}async function D3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ut(Uu,"Using user provided OfflineComponentProvider");try{await YE(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Ze.FAILED_PRECONDITION||i.code===Ze.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;bl("Error using user provided cache. Falling back to memory cache: "+n),await YE(t,new yy)}}else ut(Uu,"Using default OfflineComponentProvider"),await YE(t,new Lse(void 0));return t._offlineComponents}async function Db(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ut(Uu,"Using user provided OnlineComponentProvider"),await W8(t,t._uninitializedComponentsProvider._online)):(ut(Uu,"Using default OnlineComponentProvider"),await W8(t,new vy))),t._onlineComponents}function mq(t){return D3(t).then((e=>e.persistence))}function A3(t){return D3(t).then((e=>e.localStore))}function gq(t){return Db(t).then((e=>e.remoteStore))}function N3(t){return Db(t).then((e=>e.syncEngine))}function zse(t){return Db(t).then((e=>e.datastore))}async function nm(t){const e=await Db(t),n=e.eventManager;return n.onListen=vse.bind(null,e.syncEngine),n.onUnlisten=_se.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=xse.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=bse.bind(null,e.syncEngine),n}function Hse(t){return t.asyncQueue.enqueue((async()=>{const e=await mq(t),n=await gq(t);return e.setNetworkEnabled(!0),(function(i){const s=Et(i);return s.Ea.delete(0),gv(s)})(n)}))}function $se(t){return t.asyncQueue.enqueue((async()=>{const e=await mq(t),n=await gq(t);return e.setNetworkEnabled(!1),(async function(i){const s=Et(i);s.Ea.add(0),await Am(s),s.Ra.set("Offline")})(n)}))}function Gse(t,e){const n=new Xi;return t.asyncQueue.enqueueAndForget((async()=>(async function(i,s,a){try{const o=await(function(c,u){const f=Et(c);return f.persistence.runTransaction("read document","readonly",(h=>f.localDocuments.getDocument(h,u)))})(i,s);o.isFoundDocument()?a.resolve(o):o.isNoDocument()?a.resolve(null):a.reject(new ot(Ze.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(o){const l=km(o,`Failed to get document '${s} from cache`);a.reject(l)}})(await A3(t),e,n))),n.promise}function yq(t,e,n={}){const r=new Xi;return t.asyncQueue.enqueueAndForget((async()=>(function(s,a,o,l,c){const u=new Sb({next:h=>{u.Nu(),a.enqueueAndForget((()=>x3(s,f)));const p=h.docs.has(o);!p&&h.fromCache?c.reject(new ot(Ze.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?c.reject(new ot(Ze.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new b3(Cm(o.path),u,{includeMetadataChanges:!0,qa:!0});return v3(s,f)})(await nm(t),t.asyncQueue,e,n,r))),r.promise}function Kse(t,e){const n=new Xi;return t.asyncQueue.enqueueAndForget((async()=>(async function(i,s,a){try{const o=await i_(i,s,!0),l=new cq(s,o.Qs),c=l.ru(o.documents),u=l.applyChanges(c,!1);a.resolve(u.snapshot)}catch(o){const l=km(o,`Failed to execute query '${s} against cache`);a.reject(l)}})(await A3(t),e,n))),n.promise}function vq(t,e,n={}){const r=new Xi;return t.asyncQueue.enqueueAndForget((async()=>(function(s,a,o,l,c){const u=new Sb({next:h=>{u.Nu(),a.enqueueAndForget((()=>x3(s,f))),h.fromCache&&l.source==="server"?c.reject(new ot(Ze.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new b3(o,u,{includeMetadataChanges:!0,qa:!0});return v3(s,f)})(await nm(t),t.asyncQueue,e,n,r))),r.promise}function Xse(t,e){const n=new Sb(e);return t.asyncQueue.enqueueAndForget((async()=>(function(i,s){Et(i).Ca.add(s),s.next()})(await nm(t),n))),()=>{n.Nu(),t.asyncQueue.enqueueAndForget((async()=>(function(i,s){Et(i).Ca.delete(s)})(await nm(t),n)))}}function Jse(t,e,n,r){const i=(function(a,o){let l;return l=typeof a=="string"?fW().encode(a):a,(function(u,f){return new Bse(u,f)})((function(u,f){if(u instanceof Uint8Array)return V8(u,f);if(u instanceof ArrayBuffer)return V8(new Uint8Array(u),f);if(u instanceof ReadableStream)return u.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")})(l),o)})(n,mv(e));t.asyncQueue.enqueueAndForget((async()=>{Ose(await N3(t),i,r)}))}function Yse(t,e){return t.asyncQueue.enqueue((async()=>(function(r,i){const s=Et(r);return s.persistence.runTransaction("Get named query","readonly",(a=>s.Ii.getNamedQuery(a,i)))})(await A3(t),e)))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xq(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q8=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _q="firestore.googleapis.com",z8=!0;class H8{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ot(Ze.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_q,this.ssl=z8}else this.host=e.host,this.ssl=e.ssl??z8;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=kW;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<vie)throw new ot(Ze.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xq(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ot(Ze.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ot(Ze.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ot(Ze.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yv{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new H8({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(Ze.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ot(Ze.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new H8(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Fne;switch(r.type){case"firstParty":return new Lne(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ot(Ze.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=q8.get(n);r&&(ut("ComponentProvider","Removing Datastore"),q8.delete(n),r.terminate())})(this),Promise.resolve()}}function Qse(t,e,n,r={}){var c;t=Rn(t,yv);const i=Dl(e),s=t._getSettings(),a={...s,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${n}`;i&&(ab(`https://${o}`),ob("Firestore",!0)),s.host!==_q&&s.host!==o&&bl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:o,ssl:i,emulatorOptions:r};if(!cc(l,a)&&(t._setSettings(l),r.mockUserToken)){let u,f;if(typeof r.mockUserToken=="string")u=r.mockUserToken,f=Ri.MOCK_USER;else{u=DN(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new ot(Ze.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Ri(h)}t._authCredentials=new Mne(new dV(u,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Us=class bq{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new bq(this.firestore,e,this._query)}},ar=class p0{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new p0(this.firestore,e,this._key)}toJSON(){return{type:p0._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(av(n,p0._jsonSchema))return new p0(e,r||null,new Tt(vn.fromString(n.referencePath)))}};ar._jsonSchemaVersion="firestore/documentReference/1.0",ar._jsonSchema={type:di("string",ar._jsonSchemaVersion),referencePath:di("string")};let wu=class wq extends Us{constructor(e,n,r){super(e,n,Cm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ar(this.firestore,null,new Tt(e))}withConverter(e){return new wq(this.firestore,e,this._path)}};function Tq(t,e,...n){if(t=kt(t),LN("collection","path",e),t instanceof yv){const r=vn.fromString(e,...n);return PP(r),new wu(t,null,r)}{if(!(t instanceof ar||t instanceof wu))throw new ot(Ze.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(vn.fromString(e,...n));return PP(r),new wu(t.firestore,null,r)}}function Zse(t,e){if(t=Rn(t,yv),LN("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ot(Ze.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Us(t,null,(function(r){return new xc(vn.emptyPath(),r)})(e))}function l_(t,e,...n){if(t=kt(t),arguments.length===1&&(e=ON.newId()),LN("doc","path",e),t instanceof yv){const r=vn.fromString(e,...n);return RP(r),new ar(t,null,new Tt(r))}{if(!(t instanceof ar||t instanceof wu))throw new ot(Ze.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(vn.fromString(e,...n));return RP(r),new ar(t.firestore,t instanceof wu?t.converter:null,new Tt(r))}}function Eq(t,e){return t=kt(t),e=kt(e),(t instanceof ar||t instanceof wu)&&(e instanceof ar||e instanceof wu)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Cq(t,e){return t=kt(t),e=kt(e),t instanceof Us&&e instanceof Us&&t.firestore===e.firestore&&uv(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $8="AsyncQueue";class G8{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new h3(this,"async_queue_retry"),this._c=()=>{const r=u2();r&&ut($8,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=u2();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=u2();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Xi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ju(e))throw e;ut($8,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Yr("INTERNAL UNHANDLED ERROR: ",K8(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=y3.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&Nt(47125,{Pc:K8(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function K8(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(t,["next","error","complete"])}class eae{constructor(){this._progressObserver={},this._taskCompletionResolver=new Xi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tae=-1;let ti=class extends yv{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new G8,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new G8(e),this._firestoreClient=void 0,await e}}};function _s(t){if(t._terminated)throw new ot(Ze.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Sq(t),t._firestoreClient}function Sq(t){var r,i,s;const e=t._freezeSettings(),n=(function(o,l,c,u){return new wre(o,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,xq(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new qse(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}})(t._componentsProvider))}function nae(t,e){bl("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return Dq(t,vy.provider,{build:r=>new pq(r,n.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function rae(t){bl("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=t._freezeSettings();Dq(t,vy.provider,{build:n=>new jse(n,e.cacheSizeBytes)})}function Dq(t,e,n){if((t=Rn(t,ti))._firestoreClient||t._terminated)throw new ot(Ze.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new ot(Ze.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},Sq(t)}function iae(t){if(t._initialized&&!t._terminated)throw new ot(Ze.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Xi;return t._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await(async function(r){if(!gl.v())return Promise.resolve();const i=r+BW;await gl.delete(i)})(c3(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}})),e.promise}function sae(t){return(function(n){const r=new Xi;return n.asyncQueue.enqueueAndForget((async()=>Sse(await N3(n),r))),r.promise})(_s(t=Rn(t,ti)))}function aae(t){return Hse(_s(t=Rn(t,ti)))}function oae(t){return $se(_s(t=Rn(t,ti)))}function lae(t,e){const n=_s(t=Rn(t,ti)),r=new eae;return Jse(n,t._databaseId,e,r),r}function cae(t,e){return Yse(_s(t=Rn(t,ti)),e).then((n=>n?new Us(t,null,n.query):null))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e){this._byteString=e}static fromBase64String(e){try{return new us(Wr.fromBase64String(e))}catch(n){throw new ot(Ze.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new us(Wr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:us._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(av(e,us._jsonSchema))return us.fromBase64String(e.bytes)}}us._jsonSchemaVersion="firestore/bytes/1.0",us._jsonSchema={type:di("string",us._jsonSchemaVersion),bytes:di("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ou=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ot(Ze.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vf=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ot(Ze.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ot(Ze.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return nn(this._lat,e._lat)||nn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ro._jsonSchemaVersion}}static fromJSON(e){if(av(e,Ro._jsonSchema))return new Ro(e.latitude,e.longitude)}}Ro._jsonSchemaVersion="firestore/geoPoint/1.0",Ro._jsonSchema={type:di("string",Ro._jsonSchemaVersion),latitude:di("number"),longitude:di("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:vl._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(av(e,vl._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new vl(e.vectorValues);throw new ot(Ze.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}vl._jsonSchemaVersion="firestore/vectorValue/1.0",vl._jsonSchema={type:di("string",vl._jsonSchemaVersion),vectorValues:di("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uae=/^__.*__$/;class dae{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new bc(e,this.data,this.fieldMask,n,this.fieldTransforms):new Sm(e,this.data,n,this.fieldTransforms)}}class Aq{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new bc(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Nq(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Nt(40011,{Ac:t})}}class Ab{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ab({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return c_(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Nq(this.Ac)&&uae.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class fae{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||mv(e)}Cc(e,n,r,i=!1){return new Ab({Ac:e,methodName:n,Dc:r,path:Tr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wf(t){const e=t._freezeSettings(),n=mv(t._databaseId);return new fae(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Nb(t,e,n,r,i,s={}){const a=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);U3("Data must be an object, but it was:",a,r);const o=Rq(r,a);let l,c;if(s.merge)l=new Js(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const u=[];for(const f of s.mergeFields){const h=r4(e,f,n);if(!a.contains(h))throw new ot(Ze.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Fq(u,h)||u.push(h)}l=new Js(u),c=a.fieldTransforms.filter((f=>l.covers(f.field)))}else l=null,c=a.fieldTransforms;return new dae(new Gi(o),l,c)}class vv extends Vf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vv}}function Iq(t,e,n){return new Ab({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class I3 extends Vf{_toFieldTransform(e){return new fv(e.path,new Kp)}isEqual(e){return e instanceof I3}}class k3 extends Vf{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=Iq(this,e,!0),r=this.vc.map((s=>qf(s,n))),i=new mf(r);return new fv(e.path,i)}isEqual(e){return e instanceof k3&&cc(this.vc,e.vc)}}class R3 extends Vf{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=Iq(this,e,!0),r=this.vc.map((s=>qf(s,n))),i=new gf(r);return new fv(e.path,i)}isEqual(e){return e instanceof R3&&cc(this.vc,e.vc)}}class P3 extends Vf{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new Xp(e.serializer,rW(e.serializer,this.Fc));return new fv(e.path,n)}isEqual(e){return e instanceof P3&&this.Fc===e.Fc}}function F3(t,e,n,r){const i=t.Cc(1,e,n);U3("Data must be an object, but it was:",i,r);const s=[],a=Gi.empty();Yu(r,((l,c)=>{const u=O3(e,l,n);c=kt(c);const f=i.yc(u);if(c instanceof vv)s.push(u);else{const h=qf(c,f);h!=null&&(s.push(u),a.set(u,h))}}));const o=new Js(s);return new Aq(a,o,i.fieldTransforms)}function M3(t,e,n,r,i,s){const a=t.Cc(1,e,n),o=[r4(e,r,n)],l=[i];if(s.length%2!=0)throw new ot(Ze.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)o.push(r4(e,s[h])),l.push(s[h+1]);const c=[],u=Gi.empty();for(let h=o.length-1;h>=0;--h)if(!Fq(c,o[h])){const p=o[h];let v=l[h];v=kt(v);const g=a.yc(p);if(v instanceof vv)c.push(p);else{const y=qf(v,g);y!=null&&(c.push(p),u.set(p,y))}}const f=new Js(c);return new Aq(u,f,a.fieldTransforms)}function kq(t,e,n,r=!1){return qf(n,t.Cc(r?4:3,e))}function qf(t,e){if(Pq(t=kt(t)))return U3("Unsupported field value:",e,t),Rq(t,e);if(t instanceof Vf)return(function(r,i){if(!Nq(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let a=0;for(const o of r){let l=qf(o,i.wc(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=kt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return rW(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=On.fromDate(r);return{timestampValue:Jp(i.serializer,s)}}if(r instanceof On){const s=new On(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Jp(i.serializer,s)}}if(r instanceof Ro)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof us)return{bytesValue:mW(i.serializer,r._byteString)};if(r instanceof ar){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:n3(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof vl)return(function(a,o){return{mapValue:{fields:{[HN]:{stringValue:$N},[Hp]:{arrayValue:{values:a.toArray().map((c=>{if(typeof c!="number")throw o.Sc("VectorValues must only contain numeric values.");return JN(o.serializer,c)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${db(r)}`)})(t,e)}function Rq(t,e){const n={};return RV(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yu(t,((r,i)=>{const s=qf(i,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function Pq(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof On||t instanceof Ro||t instanceof us||t instanceof ar||t instanceof Vf||t instanceof vl)}function U3(t,e,n){if(!Pq(n)||!pV(n)){const r=db(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function r4(t,e,n){if((e=kt(e))instanceof Ou)return e._internalPath;if(typeof e=="string")return O3(t,e);throw c_("Field path arguments must be of type string or ",t,!1,void 0,n)}const hae=new RegExp("[~\\*/\\[\\]]");function O3(t,e,n){if(e.search(hae)>=0)throw c_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ou(...e.split("."))._internalPath}catch{throw c_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function c_(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new ot(Ze.INVALID_ARGUMENT,o+t+l)}function Fq(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ar(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new pae(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ib("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class pae extends xy{data(){return super.data()}}function Ib(t,e){return typeof e=="string"?O3(t,e):e instanceof Ou?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mq(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ot(Ze.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class L3{}let xv=class extends L3{};function nu(t,e,...n){let r=[];e instanceof L3&&r.push(e),r=r.concat(n),(function(s){const a=s.filter((l=>l instanceof j3)).length,o=s.filter((l=>l instanceof kb)).length;if(a>1||a>0&&o>0)throw new ot(Ze.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class kb extends xv{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new kb(e,n,r)}_apply(e){const n=this._parse(e);return Vq(e._query,n),new Us(e.firestore,e.converter,qA(e._query,n))}_parse(e){const n=Wf(e.firestore);return(function(s,a,o,l,c,u,f){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new ot(Ze.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){J8(f,u);const v=[];for(const g of f)v.push(X8(l,s,g));h={arrayValue:{values:v}}}else h=X8(l,s,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||J8(f,u),h=kq(o,a,f,u==="in"||u==="not-in");return _n.create(c,u,h)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function mae(t,e,n){const r=e,i=Ib("where",t);return kb._create(i,r,n)}class j3 extends L3{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new j3(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Hn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,s){let a=i;const o=s.getFlattenedFilters();for(const l of o)Vq(a,l),a=qA(a,l)})(e._query,n),new Us(e.firestore,e.converter,qA(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class B3 extends xv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new B3(e,n)}_apply(e){const n=(function(i,s,a){if(i.startAt!==null)throw new ot(Ze.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ot(Ze.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new py(s,a)})(e._query,this._field,this._direction);return new Us(e.firestore,e.converter,(function(i,s){const a=i.explicitOrderBy.concat([s]);return new xc(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function gae(t,e="asc"){const n=e,r=Ib("orderBy",t);return B3._create(r,n)}class Rb extends xv{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Rb(e,n,r)}_apply(e){return new Us(e.firestore,e.converter,Z2(e._query,this._limit,this._limitType))}}function yae(t){return mV("limit",t),Rb._create("limit",t,"F")}function vae(t){return mV("limitToLast",t),Rb._create("limitToLast",t,"L")}let Uq=class Oq extends xv{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Oq(e,n,r)}_apply(e){const n=Bq(e,this.type,this._docOrFields,this._inclusive);return new Us(e.firestore,e.converter,(function(i,s){return new xc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)})(e._query,n))}};function xae(...t){return Uq._create("startAt",t,!0)}function _ae(...t){return Uq._create("startAfter",t,!1)}let Lq=class jq extends xv{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new jq(e,n,r)}_apply(e){const n=Bq(e,this.type,this._docOrFields,this._inclusive);return new Us(e.firestore,e.converter,(function(i,s){return new xc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)})(e._query,n))}};function bae(...t){return Lq._create("endBefore",t,!1)}function wae(...t){return Lq._create("endAt",t,!0)}function Bq(t,e,n,r){if(n[0]=kt(n[0]),n[0]instanceof xy)return(function(s,a,o,l,c){if(!l)throw new ot(Ze.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const u=[];for(const f of xp(s))if(f.field.isKeyField())u.push(hf(a,l.key));else{const h=l.data.field(f.field);if(gb(h))throw new ot(Ze.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const p=f.field.canonicalString();throw new ot(Ze.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${p}' (used as the orderBy) does not exist.`)}u.push(h)}return new Fu(u,c)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Wf(t.firestore);return(function(a,o,l,c,u,f){const h=a.explicitOrderBy;if(u.length>h.length)throw new ot(Ze.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const p=[];for(let v=0;v<u.length;v++){const g=u[v];if(h[v].field.isKeyField()){if(typeof g!="string")throw new ot(Ze.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof g}`);if(!KN(a)&&g.indexOf("/")!==-1)throw new ot(Ze.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${g}' contains a slash.`);const y=a.path.child(vn.fromString(g));if(!Tt.isDocumentKey(y))throw new ot(Ze.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${y}' is not because it contains an odd number of segments.`);const b=new Tt(y);p.push(hf(o,b))}else{const y=kq(l,c,g);p.push(y)}}return new Fu(p,f)})(t._query,t.firestore._databaseId,i,e,n,r)}}function X8(t,e,n){if(typeof(n=kt(n))=="string"){if(n==="")throw new ot(Ze.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!KN(e)&&n.indexOf("/")!==-1)throw new ot(Ze.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(vn.fromString(n));if(!Tt.isDocumentKey(r))throw new ot(Ze.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return hf(t,new Tt(r))}if(n instanceof ar)return hf(t,n._key);throw new ot(Ze.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${db(n)}.`)}function J8(t,e){if(!Array.isArray(t)||t.length===0)throw new ot(Ze.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Vq(t,e){const n=(function(i,s){for(const a of i)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ot(Ze.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ot(Ze.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class V3{convertValue(e,n="none"){switch(Ru(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Nt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Yu(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[Hp].arrayValue)==null?void 0:i.values)==null?void 0:s.map((a=>wr(a.doubleValue)));return new vl(n)}convertGeoPoint(e){return new Ro(wr(e.latitude),wr(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=yb(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(dy(e));default:return null}}convertTimestamp(e){const n=dc(e);return new On(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=vn.fromString(e);Ut(SW(r),9688,{name:e});const i=new ku(r.get(1),r.get(3)),s=new Tt(r.popFirst(5));return i.isEqual(n)||Yr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Tae extends V3{constructor(e){super(),this.firestore=e}convertBytes(e){return new us(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ar(this.firestore,null,n)}}class Kd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Za=class Wq extends xy{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new I0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ib("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(Ze.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Wq._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};Za._jsonSchemaVersion="firestore/documentSnapshot/1.0",Za._jsonSchema={type:di("string",Za._jsonSchemaVersion),bundleSource:di("string","DocumentSnapshot"),bundleName:di("string"),bundle:di("string")};let I0=class extends Za{data(e={}){return super.data(e)}},Po=class qq{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Kd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new I0(this._firestore,this._userDataWriter,r.key,r,new Kd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ot(Ze.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map((o=>{const l=new I0(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Kd(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((o=>s||o.type!==3)).map((o=>{const l=new I0(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Kd(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return o.type!==0&&(c=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),u=a.indexOf(o.doc.key)),{type:Eae(o.type),doc:l,oldIndex:c,newIndex:u}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(Ze.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=qq._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ON.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function Eae(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Nt(61501,{type:t})}}function zq(t,e){return t instanceof Za&&e instanceof Za?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Po&&e instanceof Po&&t._firestore===e._firestore&&Cq(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cae(t){t=Rn(t,ar);const e=Rn(t.firestore,ti);return yq(_s(e),t._key).then((n=>W3(e,t,n)))}Po._jsonSchemaVersion="firestore/querySnapshot/1.0",Po._jsonSchema={type:di("string",Po._jsonSchemaVersion),bundleSource:di("string","QuerySnapshot"),bundleName:di("string"),bundle:di("string")};class zf extends V3{constructor(e){super(),this.firestore=e}convertBytes(e){return new us(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ar(this.firestore,null,n)}}function Sae(t){t=Rn(t,ar);const e=Rn(t.firestore,ti),n=_s(e),r=new zf(e);return Gse(n,t._key).then((i=>new Za(e,r,t._key,i,new Kd(i!==null&&i.hasLocalMutations,!0),t.converter)))}function Dae(t){t=Rn(t,ar);const e=Rn(t.firestore,ti);return yq(_s(e),t._key,{source:"server"}).then((n=>W3(e,t,n)))}function Aae(t){t=Rn(t,Us);const e=Rn(t.firestore,ti),n=_s(e),r=new zf(e);return Mq(t._query),vq(n,t._query).then((i=>new Po(e,r,t,i)))}function Nae(t){t=Rn(t,Us);const e=Rn(t.firestore,ti),n=_s(e),r=new zf(e);return Kse(n,t._query).then((i=>new Po(e,r,t,i)))}function Iae(t){t=Rn(t,Us);const e=Rn(t.firestore,ti),n=_s(e),r=new zf(e);return vq(n,t._query,{source:"server"}).then((i=>new Po(e,r,t,i)))}function Y8(t,e,n){t=Rn(t,ar);const r=Rn(t.firestore,ti),i=Pb(t.converter,e,n);return _v(r,[Nb(Wf(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Er.none())])}function Q8(t,e,n,...r){t=Rn(t,ar);const i=Rn(t.firestore,ti),s=Wf(i);let a;return a=typeof(e=kt(e))=="string"||e instanceof Ou?M3(s,"updateDoc",t._key,e,n,r):F3(s,"updateDoc",t._key,e),_v(i,[a.toMutation(t._key,Er.exists(!0))])}function kae(t){return _v(Rn(t.firestore,ti),[new Dm(t._key,Er.none())])}function Rae(t,e){const n=Rn(t.firestore,ti),r=l_(t),i=Pb(t.converter,e);return _v(n,[Nb(Wf(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Er.exists(!1))]).then((()=>r))}function Hq(t,...e){var l,c,u;t=kt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||n4(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(n4(e[r])){const f=e[r];e[r]=(l=f.next)==null?void 0:l.bind(f),e[r+1]=(c=f.error)==null?void 0:c.bind(f),e[r+2]=(u=f.complete)==null?void 0:u.bind(f)}let s,a,o;if(t instanceof ar)a=Rn(t.firestore,ti),o=Cm(t._key.path),s={next:f=>{e[r]&&e[r](W3(a,t,f))},error:e[r+1],complete:e[r+2]};else{const f=Rn(t,Us);a=Rn(f.firestore,ti),o=f._query;const h=new zf(a);s={next:p=>{e[r]&&e[r](new Po(a,h,f,p))},error:e[r+1],complete:e[r+2]},Mq(t._query)}return(function(h,p,v,g){const y=new Sb(g),b=new b3(p,y,v);return h.asyncQueue.enqueueAndForget((async()=>v3(await nm(h),b))),()=>{y.Nu(),h.asyncQueue.enqueueAndForget((async()=>x3(await nm(h),b)))}})(_s(a),o,i,s)}function Pae(t,e){return Xse(_s(t=Rn(t,ti)),n4(e)?e:{next:e})}function _v(t,e){return(function(r,i){const s=new Xi;return r.asyncQueue.enqueueAndForget((async()=>wse(await N3(r),i,s))),s.promise})(_s(t),e)}function W3(t,e,n){const r=n.docs.get(e._key),i=new zf(t);return new Za(t,i,e._key,r,new Kd(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fae={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mae=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Wf(e)}set(e,n,r){this._verifyNotCommitted();const i=uu(e,this._firestore),s=Pb(i.converter,n,r),a=Nb(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,Er.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=uu(e,this._firestore);let a;return a=typeof(n=kt(n))=="string"||n instanceof Ou?M3(this._dataReader,"WriteBatch.update",s._key,n,r,i):F3(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(a.toMutation(s._key,Er.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=uu(e,this._firestore);return this._mutations=this._mutations.concat(new Dm(n._key,Er.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ot(Ze.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function uu(t,e){if((t=kt(t)).firestore!==e)throw new ot(Ze.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uae{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Wf(e)}get(e){const n=uu(e,this._firestore),r=new Tae(this._firestore);return this._transaction.lookup([n._key]).then((i=>{if(!i||i.length!==1)return Nt(24041);const s=i[0];if(s.isFoundDocument())return new xy(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new xy(this._firestore,r,n._key,null,n.converter);throw Nt(18433,{doc:s})}))}set(e,n,r){const i=uu(e,this._firestore),s=Pb(i.converter,n,r),a=Nb(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,a),this}update(e,n,r,...i){const s=uu(e,this._firestore);let a;return a=typeof(n=kt(n))=="string"||n instanceof Ou?M3(this._dataReader,"Transaction.update",s._key,n,r,i):F3(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,a),this}delete(e){const n=uu(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oae=class extends Uae{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=uu(e,this._firestore),r=new zf(this._firestore);return super.get(e).then((i=>new Za(this._firestore,r,n._key,i._document,new Kd(!1,!1),n.converter)))}};function Lae(t,e,n){t=Rn(t,ti);const r={...Fae,...n};return(function(s){if(s.maxAttempts<1)throw new ot(Ze.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(s,a,o){const l=new Xi;return s.asyncQueue.enqueueAndForget((async()=>{const c=await zse(s);new Wse(s.asyncQueue,c,o,a,l).ju()})),l.promise})(_s(t),(i=>e(new Oae(t,i))),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jae(){return new vv("deleteField")}function Bae(){return new I3("serverTimestamp")}function Vae(...t){return new k3("arrayUnion",t)}function Wae(...t){return new R3("arrayRemove",t)}function qae(t){return new P3("increment",t)}(function(e,n=!0){(function(i){Em=i})(Al),_l(new Ms("firestore",((r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),o=new ti(new Une(r.getProvider("auth-internal")),new jne(a,r.getProvider("app-check-internal")),(function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ot(Ze.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ku(c.options.projectId,u)})(a,i),a);return s={useFetchStreams:n,...s},o._setSettings(s),o}),"PUBLIC").setMultipleInstances(!0)),ks(AP,NP,e),ks(AP,NP,"esm2020")})();const zae="@firebase/firestore-compat",Hae="0.4.1";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q3(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new ot("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z8(){if(typeof Uint8Array>"u")throw new ot("unimplemented","Uint8Arrays are not available in this environment.")}function eF(){if(!_re())throw new ot("unimplemented","Blobs are unavailable in Firestore in this environment.")}let $q=class i4{constructor(e){this._delegate=e}static fromBase64String(e){return eF(),new i4(us.fromBase64String(e))}static fromUint8Array(e){return Z8(),new i4(us.fromUint8Array(e))}toBase64(){return eF(),this._delegate.toBase64()}toUint8Array(){return Z8(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s4(t){return $ae(t,["next","error","complete"])}function $ae(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gae{enableIndexedDbPersistence(e,n){return nae(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return rae(e._delegate)}clearIndexedDbPersistence(e){return iae(e._delegate)}}class Gq{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ku||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&bl("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e={...n,...e},delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){Qse(this._delegate,e,n,r)}enableNetwork(){return aae(this._delegate)}disableNetwork(){return oae(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,hV("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return sae(this._delegate)}onSnapshotsInSync(e){return Pae(this._delegate,e)}get app(){if(!this._appCompat)throw new ot("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new rm(this,Tq(this._delegate,e))}catch(n){throw Ds(n,"collection()","Firestore.collection()")}}doc(e){try{return new Ja(this,l_(this._delegate,e))}catch(n){throw Ds(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new wy(this,Zse(this._delegate,e))}catch(n){throw Ds(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return Lae(this._delegate,n=>e(new Kq(this,n)))}batch(){return _s(this._delegate),new Xq(new Mae(this._delegate,e=>_v(this._delegate,e)))}loadBundle(e){return lae(this._delegate,e)}namedQuery(e){return cae(this._delegate,e).then(n=>n?new wy(this,n):null)}}class Fb extends V3{constructor(e){super(),this.firestore=e}convertBytes(e){return new $q(new us(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Ja.forKey(n,this.firestore,null)}}function Kae(t){Rne(t)}class Kq{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Fb(e)}get(e){const n=Xd(e);return this._delegate.get(n).then(r=>new _y(this._firestore,new Za(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=Xd(e);return r?(q3("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=Xd(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=Xd(e);return this._delegate.delete(n),this}}class Xq{constructor(e){this._delegate=e}set(e,n,r){const i=Xd(e);return r?(q3("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=Xd(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=Xd(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class bf{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new I0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new by(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=bf.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new bf(e,new Fb(e),n),i.set(n,s)),s}}bf.INSTANCES=new WeakMap;class Ja{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Fb(e)}static forPath(e,n,r){if(e.length%2!==0)throw new ot("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ja(n,new ar(n._delegate,r,new Tt(e)))}static forKey(e,n,r){return new Ja(n,new ar(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new rm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new rm(this.firestore,Tq(this._delegate,e))}catch(n){throw Ds(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=kt(e),e instanceof ar?Eq(this._delegate,e):!1}set(e,n){n=q3("DocumentReference.set",n);try{return n?Y8(this._delegate,e,n):Y8(this._delegate,e)}catch(r){throw Ds(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?Q8(this._delegate,e):Q8(this._delegate,e,n,...r)}catch(i){throw Ds(i,"updateDoc()","DocumentReference.update()")}}delete(){return kae(this._delegate)}onSnapshot(...e){const n=Jq(e),r=Yq(e,i=>new _y(this.firestore,new Za(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return Hq(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=Sae(this._delegate):(e==null?void 0:e.source)==="server"?n=Dae(this._delegate):n=Cae(this._delegate),n.then(r=>new _y(this.firestore,new Za(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ja(this.firestore,e?this._delegate.withConverter(bf.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Ds(t,e,n){return t.message=t.message.replace(e,n),t}function Jq(t){for(const e of t)if(typeof e=="object"&&!s4(e))return e;return{}}function Yq(t,e){var r,i;let n;return s4(t[0])?n=t[0]:s4(t[1])?n=t[1]:typeof t[0]=="function"?n={next:t[0],error:t[1],complete:t[2]}:n={next:t[1],error:t[2],complete:t[3]},{next:s=>{n.next&&n.next(e(s))},error:(r=n.error)==null?void 0:r.bind(n),complete:(i=n.complete)==null?void 0:i.bind(n)}}class _y{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Ja(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return zq(this._delegate,e._delegate)}}class by extends _y{data(e){const n=this._delegate.data(e);return this._delegate._converter||Pne(n!==void 0,"Document in a QueryDocumentSnapshot should exist"),n}}let wy=class el{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Fb(e)}where(e,n,r){try{return new el(this.firestore,nu(this._delegate,mae(e,n,r)))}catch(i){throw Ds(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new el(this.firestore,nu(this._delegate,gae(e,n)))}catch(r){throw Ds(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new el(this.firestore,nu(this._delegate,yae(e)))}catch(n){throw Ds(n,"limit()","Query.limit()")}}limitToLast(e){try{return new el(this.firestore,nu(this._delegate,vae(e)))}catch(n){throw Ds(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new el(this.firestore,nu(this._delegate,xae(...e)))}catch(n){throw Ds(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new el(this.firestore,nu(this._delegate,_ae(...e)))}catch(n){throw Ds(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new el(this.firestore,nu(this._delegate,bae(...e)))}catch(n){throw Ds(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new el(this.firestore,nu(this._delegate,wae(...e)))}catch(n){throw Ds(n,"endAt()","Query.endAt()")}}isEqual(e){return Cq(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=Nae(this._delegate):(e==null?void 0:e.source)==="server"?n=Iae(this._delegate):n=Aae(this._delegate),n.then(r=>new a4(this.firestore,new Po(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=Jq(e),r=Yq(e,i=>new a4(this.firestore,new Po(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return Hq(this._delegate,n,r)}withConverter(e){return new el(this.firestore,e?this._delegate.withConverter(bf.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};class Xae{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new by(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class a4{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new wy(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new by(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new Xae(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new by(this._firestore,r))})}isEqual(e){return zq(this._delegate,e._delegate)}}class rm extends wy{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ja(this.firestore,e):null}doc(e){try{return e===void 0?new Ja(this.firestore,l_(this._delegate)):new Ja(this.firestore,l_(this._delegate,e))}catch(n){throw Ds(n,"doc()","CollectionReference.doc()")}}add(e){return Rae(this._delegate,e).then(n=>new Ja(this.firestore,n))}isEqual(e){return Eq(this._delegate,e._delegate)}withConverter(e){return new rm(this.firestore,e?this._delegate.withConverter(bf.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Xd(t){return Rn(t,ar)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(...e){this._delegate=new Ou(...e)}static documentId(){return new z3(Tr.keyField().canonicalString())}isEqual(e){return e=kt(e),e instanceof Ou?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{static serverTimestamp(){const e=Bae();return e._methodName="FieldValue.serverTimestamp",new Hd(e)}static delete(){const e=jae();return e._methodName="FieldValue.delete",new Hd(e)}static arrayUnion(...e){const n=Vae(...e);return n._methodName="FieldValue.arrayUnion",new Hd(n)}static arrayRemove(...e){const n=Wae(...e);return n._methodName="FieldValue.arrayRemove",new Hd(n)}static increment(e){const n=qae(e);return n._methodName="FieldValue.increment",new Hd(n)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jae={Firestore:Gq,GeoPoint:Ro,Timestamp:On,Blob:$q,Transaction:Kq,WriteBatch:Xq,DocumentReference:Ja,DocumentSnapshot:_y,Query:wy,QueryDocumentSnapshot:by,QuerySnapshot:a4,CollectionReference:rm,FieldPath:z3,FieldValue:Hd,setLogLevel:Kae,CACHE_SIZE_UNLIMITED:tae};function Yae(t,e){t.INTERNAL.registerComponent(new Ms("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps({...Jae}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qae(t){Yae(t,(e,n)=>new Gq(e,n,new Gae)),t.registerVersion(zae,Hae)}Qae(Br);const jg={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},Kh={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zae(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function Qq(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const eoe=Zae,toe=Qq,Zq=new jf("auth","Firebase",Qq());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_=new Tm("@firebase/auth");function noe(t,...e){u_.logLevel<=gn.WARN&&u_.warn(`Auth (${Al}): ${t}`,...e)}function d2(t,...e){u_.logLevel<=gn.ERROR&&u_.error(`Auth (${Al}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(t,...e){throw $3(t,...e)}function vi(t,...e){return $3(t,...e)}function H3(t,e,n){const r={...toe(),[e]:n};return new jf("auth","Firebase",r).create(e,{appName:t.name})}function Oi(t){return H3(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rm(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ji(t,"argument-error"),H3(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $3(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Zq.create(t,...e)}function pt(t,e,...n){if(!t)throw $3(e,...n)}function fl(t){const e="INTERNAL ASSERTION FAILED: "+t;throw d2(e),new Error(e)}function Oo(t,e){t||fl(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function G3(){return tF()==="http:"||tF()==="https:"}function tF(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function roe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(G3()||BB()||"connection"in navigator)?navigator.onLine:!0}function ioe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e,n){this.shortDelay=e,this.longDelay=n,Oo(n>e,"Short delay should be less than long delay!"),this.isMobile=AN()||cb()}get(){return roe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K3(t,e){Oo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ez{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const soe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aoe=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ooe=new bv(3e4,6e4);function Hr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function $r(t,e,n,r,i={}){return tz(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const o=Bf({key:t.config.apiKey,...a}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...s};return ete()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Dl(t.emulatorConfig.host)&&(c.credentials="include"),ez.fetch()(await nz(t,t.config.apiHost,n,o),c)})}async function tz(t,e,n){t._canInitEmulator=!1;const r={...soe,...e};try{const i=new coe(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw m0(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw m0(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw m0(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw m0(t,"user-disabled",a);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw H3(t,u,c);Ji(t,u)}}catch(i){if(i instanceof ps)throw i;Ji(t,"network-request-failed",{message:String(i)})}}async function Tc(t,e,n,r,i={}){const s=await $r(t,e,n,r,i);return"mfaPendingCredential"in s&&Ji(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function nz(t,e,n,r){const i=`${e}${n}?${r}`,s=t,a=s.config.emulator?K3(t.config,i):`${t.config.apiScheme}://${i}`;return aoe.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function loe(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class coe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(vi(this.auth,"network-request-failed")),ooe.get())})}}function m0(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=vi(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nF(t){return t!==void 0&&t.getResponse!==void 0}function rF(t){return t!==void 0&&t.enterprise!==void 0}class rz{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return loe(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uoe(t){return(await $r(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function iz(t,e){return $r(t,"GET","/v2/recaptchaConfig",Hr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function doe(t,e){return $r(t,"POST","/v1/accounts:delete",e)}async function foe(t,e){return $r(t,"POST","/v1/accounts:update",e)}async function d_(t,e){return $r(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function hoe(t,e=!1){const n=kt(t),r=await n.getIdToken(e),i=Mb(r);pt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:k0(QE(i.auth_time)),issuedAtTime:k0(QE(i.iat)),expirationTime:k0(QE(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function QE(t){return Number(t)*1e3}function Mb(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return d2("JWT malformed, contained fewer than 3 sections"),null;try{const i=ey(n);return i?JSON.parse(i):(d2("Failed to decode base64 JWT payload"),null)}catch(i){return d2("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function iF(t){const e=Mb(t);return pt(e,"internal-error"),pt(typeof e.exp<"u","internal-error"),pt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ps&&poe(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function poe({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class moe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=k0(this.lastLoginAt),this.creationTime=k0(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ey(t){var f;const e=t.auth,n=await t.getIdToken(),r=await hc(t,d_(e,{idToken:n}));pt(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(f=i.providerUserInfo)!=null&&f.length?sz(i.providerUserInfo):[],a=yoe(t.providerData,s),o=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),c=o?l:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new o4(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,u)}async function goe(t){const e=kt(t);await Ey(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yoe(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function sz(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function voe(t,e){const n=await tz(t,{},async()=>{const r=Bf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=await nz(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:r};return t.emulatorConfig&&Dl(t.emulatorConfig.host)&&(l.credentials="include"),ez.fetch()(a,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function xoe(t,e){return $r(t,"POST","/v2/accounts:revokeToken",Hr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pt(e.idToken,"internal-error"),pt(typeof e.idToken<"u","internal-error"),pt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):iF(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){pt(e.length!==0,"internal-error");const n=iF(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await voe(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new bp;return r&&(pt(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(pt(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(pt(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bp,this.toJSON())}_performRefresh(){return fl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(t,e){pt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ao{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new moe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new o4(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await hc(this,this.stsTokenManager.getToken(this.auth,e));return pt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return hoe(this,e)}reload(){return goe(this)}_assign(e){this!==e&&(pt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ao({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ey(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ir(this.auth.app))return Promise.reject(Oi(this.auth));const e=await this.getIdToken();return await hc(this,doe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,a=n.photoURL??void 0,o=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:p,providerData:v,stsTokenManager:g}=n;pt(f&&g,e,"internal-error");const y=bp.fromJSON(this.name,g);pt(typeof f=="string",e,"internal-error"),ru(r,e.name),ru(i,e.name),pt(typeof h=="boolean",e,"internal-error"),pt(typeof p=="boolean",e,"internal-error"),ru(s,e.name),ru(a,e.name),ru(o,e.name),ru(l,e.name),ru(c,e.name),ru(u,e.name);const b=new Ao({uid:f,auth:e,email:i,emailVerified:h,displayName:r,isAnonymous:p,photoURL:a,phoneNumber:s,tenantId:o,stsTokenManager:y,createdAt:c,lastLoginAt:u});return v&&Array.isArray(v)&&(b.providerData=v.map(_=>({..._}))),l&&(b._redirectEventId=l),b}static async _fromIdTokenResponse(e,n,r=!1){const i=new bp;i.updateFromServerResponse(n);const s=new Ao({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ey(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];pt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?sz(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new bp;o.updateFromIdToken(r);const l=new Ao({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new o4(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sF=new Map;function Ta(t){Oo(t instanceof Function,"Expected a class definition");let e=sF.get(t);return e?(Oo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,sF.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class az{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}az.type="NONE";const im=az;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nf(t,e,n){return`firebase:${t}:${e}:${n}`}class wp{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=nf(this.userKey,i.apiKey,s),this.fullPersistenceKey=nf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await d_(this.auth,{idToken:e}).catch(()=>{});return n?Ao._fromGetAccountInfoResponse(this.auth,n,e):null}return Ao._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new wp(Ta(im),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Ta(im);const a=nf(r,e.config.apiKey,e.name);let o=null;for(const c of n)try{const u=await c._get(a);if(u){let f;if(typeof u=="string"){const h=await d_(e,{idToken:u}).catch(()=>{});if(!h)break;f=await Ao._fromGetAccountInfoResponse(e,h,u)}else f=Ao._fromJSON(e,u);c!==s&&(o=f),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new wp(s,e,r):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(a)}catch{}})),new wp(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aF(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uz(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(oz(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(dz(e))return"Blackberry";if(fz(e))return"Webos";if(lz(e))return"Safari";if((e.includes("chrome/")||cz(e))&&!e.includes("edge/"))return"Chrome";if(wv(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function oz(t=Fr()){return/firefox\//i.test(t)}function lz(t=Fr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cz(t=Fr()){return/crios\//i.test(t)}function uz(t=Fr()){return/iemobile/i.test(t)}function wv(t=Fr()){return/android/i.test(t)}function dz(t=Fr()){return/blackberry/i.test(t)}function fz(t=Fr()){return/webos/i.test(t)}function Tv(t=Fr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function _oe(t=Fr()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function boe(t=Fr()){var e;return Tv(t)&&!!((e=window.navigator)!=null&&e.standalone)}function woe(){return VB()&&document.documentMode===10}function hz(t=Fr()){return Tv(t)||wv(t)||fz(t)||dz(t)||/windows phone/i.test(t)||uz(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pz(t,e=[]){let n;switch(t){case"Browser":n=aF(Fr());break;case"Worker":n=`${aF(Fr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Al}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Toe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eoe(t,e={}){return $r(t,"GET","/v2/passwordPolicy",Hr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Coe=6;class Soe{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Coe,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Doe{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oF(this),this.idTokenSubscription=new oF(this),this.beforeStateQueue=new Toe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Zq,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ta(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await wp.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await d_(this,{idToken:e}),r=await Ao._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(ir(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(s=this.redirectUser)==null?void 0:s._redirectEventId,o=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ey(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ioe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ir(this.app))return Promise.reject(Oi(this));const n=e?kt(e):null;return n&&pt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&pt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ir(this.app)?Promise.reject(Oi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ir(this.app)?Promise.reject(Oi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ta(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Eoe(this),n=new Soe(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new jf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await xoe(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ta(e)||this._popupRedirectResolver;pt(n,this,"argument-error"),this.redirectPersistenceManager=await wp.create(this,[Ta(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pz(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(ir(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&noe(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ur(t){return kt(t)}class oF{constructor(e){this.auth=e,this.observer=null,this.addObserver=HB(n=>this.observer=n)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ev={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Aoe(t){Ev=t}function X3(t){return Ev.loadJS(t)}function Noe(){return Ev.recaptchaV2Script}function Ioe(){return Ev.recaptchaEnterpriseScript}function koe(){return Ev.gapiScript}function mz(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Roe=500,Poe=6e4,mx=1e12;class Foe{constructor(e){this.auth=e,this.counter=mx,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new Ooe(e,this.auth.name,n||{})),this.counter++,r}reset(e){var r;const n=e||mx;(r=this._widgets.get(n))==null||r.delete(),this._widgets.delete(n)}getResponse(e){var r;const n=e||mx;return((r=this._widgets.get(n))==null?void 0:r.getResponse())||""}async execute(e){var r;const n=e||mx;return(r=this._widgets.get(n))==null||r.execute(),""}}class Moe{constructor(){this.enterprise=new Uoe}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Uoe{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Ooe{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;pt(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=Loe(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},Poe)},Roe))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function Loe(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}const joe="recaptcha-enterprise",R0="NO_RECAPTCHA";class gz{constructor(e){this.type=joe,this.auth=Ur(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{iz(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new rz(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,a(c.siteKey)}}).catch(l=>{o(l)})})}function i(s,a,o){const l=window.grecaptcha;rF(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{a(c)}).catch(()=>{a(R0)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Moe().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{r(this.auth).then(o=>{if(!n&&rF(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Ioe();l.length!==0&&(l+=o),X3(l).then(()=>{i(o,s,a)}).catch(c=>{a(c)})}}).catch(o=>{a(o)})})}}async function Bg(t,e,n,r=!1,i=!1){const s=new gz(t);let a;if(i)a=R0;else try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const o={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,c=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Tu(t,e,n,r,i){var s,a;if(i==="EMAIL_PASSWORD_PROVIDER")if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Bg(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Bg(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)});else if(i==="PHONE_PROVIDER")if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("PHONE_PROVIDER")){const o=await Bg(t,e,n);return r(t,o).catch(async l=>{var c;if(((c=t._getRecaptchaConfig())==null?void 0:c.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const u=await Bg(t,e,n,!1,!0);return r(t,u)}return Promise.reject(l)})}else{const o=await Bg(t,e,n,!1,!0);return r(t,o)}else return Promise.reject(i+" provider is not supported.")}async function Boe(t){const e=Ur(t),n=await iz(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new rz(n);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new gz(e).verify()}function Voe(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ta);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Woe(t,e,n){const r=Ur(t);pt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=yz(e),{host:a,port:o}=qoe(e),l=o===null?"":`:${o}`,c={url:`${s}//${a}${l}/`},u=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){pt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),pt(cc(c,r.config.emulator)&&cc(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Dl(a)?(ab(`${s}//${a}${l}`),ob("Auth",!0)):i||zoe()}function yz(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function qoe(t){const e=yz(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:lF(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:lF(a)}}}function lF(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function zoe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fl("not implemented")}_getIdTokenResponse(e){return fl("not implemented")}_linkToIdToken(e,n){return fl("not implemented")}_getReauthenticationResolver(e){return fl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vz(t,e){return $r(t,"POST","/v1/accounts:resetPassword",Hr(t,e))}async function Hoe(t,e){return $r(t,"POST","/v1/accounts:update",e)}async function $oe(t,e){return $r(t,"POST","/v1/accounts:signUp",e)}async function Goe(t,e){return $r(t,"POST","/v1/accounts:update",Hr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Koe(t,e){return Tc(t,"POST","/v1/accounts:signInWithPassword",Hr(t,e))}async function Ub(t,e){return $r(t,"POST","/v1/accounts:sendOobCode",Hr(t,e))}async function Xoe(t,e){return Ub(t,e)}async function Joe(t,e){return Ub(t,e)}async function Yoe(t,e){return Ub(t,e)}async function Qoe(t,e){return Ub(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zoe(t,e){return Tc(t,"POST","/v1/accounts:signInWithEmailLink",Hr(t,e))}async function ele(t,e){return Tc(t,"POST","/v1/accounts:signInWithEmailLink",Hr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy extends Pm{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Cy(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Cy(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Tu(e,n,"signInWithPassword",Koe,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Zoe(e,{email:this._email,oobCode:this._password});default:Ji(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Tu(e,r,"signUpPassword",$oe,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return ele(e,{idToken:n,email:this._email,oobCode:this._password});default:Ji(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ec(t,e){return Tc(t,"POST","/v1/accounts:signInWithIdp",Hr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tle="http://localhost";class Tl extends Pm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Tl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ji("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const a=new Tl(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return ec(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ec(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ec(e,n)}buildRequest(){const e={requestUri:tle,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Bf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cF(t,e){return $r(t,"POST","/v1/accounts:sendVerificationCode",Hr(t,e))}async function nle(t,e){return Tc(t,"POST","/v1/accounts:signInWithPhoneNumber",Hr(t,e))}async function rle(t,e){const n=await Tc(t,"POST","/v1/accounts:signInWithPhoneNumber",Hr(t,e));if(n.temporaryProof)throw m0(t,"account-exists-with-different-credential",n);return n}const ile={USER_NOT_FOUND:"user-not-found"};async function sle(t,e){const n={...e,operation:"REAUTH"};return Tc(t,"POST","/v1/accounts:signInWithPhoneNumber",Hr(t,n),ile)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf extends Pm{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new rf({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new rf({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return nle(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return rle(e,{idToken:n,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return sle(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!n&&!i&&!s?null:new rf({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ale(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ole(t){const e=hp(c0(t)).link,n=e?hp(c0(e)).deep_link_id:null,r=hp(c0(t)).deep_link_id;return(r?hp(c0(r)).link:null)||r||n||e||t}class Ob{constructor(e){const n=hp(c0(e)),r=n.apiKey??null,i=n.oobCode??null,s=ale(n.mode??null);pt(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=ole(e);try{return new Ob(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(){this.providerId=ed.PROVIDER_ID}static credential(e,n){return Cy._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Ob.parseLink(n);return pt(r,"argument-error"),Cy._fromEmailAndCode(e,r.code,r.tenantId)}}ed.PROVIDER_ID="password";ed.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ed.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm extends Ec{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Tp extends Fm{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return pt("providerId"in n&&"signInMethod"in n,"argument-error"),Tl._fromParams(n)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return pt(e.idToken||e.accessToken,"argument-error"),Tl._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return Tp.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Tp.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:a,providerId:o}=e;if(!r&&!i&&!n&&!s||!o)return null;try{return new Tp(o)._credential({idToken:n,accessToken:r,nonce:a,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl extends Fm{constructor(){super("facebook.com")}static credential(e){return Tl._fromParams({providerId:sl.PROVIDER_ID,signInMethod:sl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sl.credentialFromTaggedObject(e)}static credentialFromError(e){return sl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sl.credential(e.oauthAccessToken)}catch{return null}}}sl.FACEBOOK_SIGN_IN_METHOD="facebook.com";sl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al extends Fm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Tl._fromParams({providerId:al.PROVIDER_ID,signInMethod:al.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return al.credentialFromTaggedObject(e)}static credentialFromError(e){return al.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return al.credential(n,r)}catch{return null}}}al.GOOGLE_SIGN_IN_METHOD="google.com";al.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol extends Fm{constructor(){super("github.com")}static credential(e){return Tl._fromParams({providerId:ol.PROVIDER_ID,signInMethod:ol.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ol.credentialFromTaggedObject(e)}static credentialFromError(e){return ol.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ol.credential(e.oauthAccessToken)}catch{return null}}}ol.GITHUB_SIGN_IN_METHOD="github.com";ol.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lle="http://localhost";class sm extends Pm{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return ec(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ec(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ec(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=n;return!r||!i||!s||r!==i?null:new sm(r,s)}static _create(e,n){return new sm(e,n)}buildRequest(){return{requestUri:lle,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cle="saml.";class f_ extends Ec{constructor(e){pt(e.startsWith(cle),"argument-error"),super(e)}static credentialFromResult(e){return f_.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return f_.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=sm.fromJSON(e);return pt(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return sm._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll extends Fm{constructor(){super("twitter.com")}static credential(e,n){return Tl._fromParams({providerId:ll.PROVIDER_ID,signInMethod:ll.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ll.credentialFromTaggedObject(e)}static credentialFromError(e){return ll.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ll.credential(n,r)}catch{return null}}}ll.TWITTER_SIGN_IN_METHOD="twitter.com";ll.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xz(t,e){return Tc(t,"POST","/v1/accounts:signUp",Hr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ao._fromIdTokenResponse(e,r,i),a=uF(r);return new io({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=uF(r);return new io({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function uF(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ule(t){var i;if(ir(t.app))return Promise.reject(Oi(t));const e=Ur(t);if(await e._initializationPromise,(i=e.currentUser)!=null&&i.isAnonymous)return new io({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await xz(e,{returnSecureToken:!0}),r=await io._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_ extends ps{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,h_.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new h_(e,n,r,i)}}function _z(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?h_._fromErrorAndOperation(t,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bz(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dle(t,e){const n=kt(t);await Lb(!0,n,e);const{providerUserInfo:r}=await foe(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=bz(r||[]);return n.providerData=n.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function J3(t,e,n=!1){const r=await hc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return io._forOperation(t,"link",r)}async function Lb(t,e,n){await Ey(e);const r=bz(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";pt(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wz(t,e,n=!1){const{auth:r}=t;if(ir(r.app))return Promise.reject(Oi(r));const i="reauthenticate";try{const s=await hc(t,_z(r,i,e,t),n);pt(s.idToken,r,"internal-error");const a=Mb(s.idToken);pt(a,r,"internal-error");const{sub:o}=a;return pt(t.uid===o,r,"user-mismatch"),io._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ji(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tz(t,e,n=!1){if(ir(t.app))return Promise.reject(Oi(t));const r="signIn",i=await _z(t,r,e),s=await io._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function jb(t,e){return Tz(Ur(t),e)}async function Ez(t,e){const n=kt(t);return await Lb(!1,n,e.providerId),J3(n,e)}async function Cz(t,e){return wz(kt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fle(t,e){return Tc(t,"POST","/v1/accounts:signInWithCustomToken",Hr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hle(t,e){if(ir(t.app))return Promise.reject(Oi(t));const n=Ur(t),r=await fle(n,{token:e,returnSecureToken:!0}),i=await io._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?Y3._fromServerResponse(e,n):"totpInfo"in n?Q3._fromServerResponse(e,n):Ji(e,"internal-error")}}class Y3 extends Cv{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new Y3(n)}}class Q3 extends Cv{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new Q3(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(t,e,n){var r;pt(((r=n.url)==null?void 0:r.length)>0,t,"invalid-continue-uri"),pt(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),pt(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(pt(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(pt(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z3(t){const e=Ur(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ple(t,e,n){const r=Ur(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&Bb(r,i,n),await Tu(r,i,"getOobCode",Joe,"EMAIL_PASSWORD_PROVIDER")}async function mle(t,e,n){await vz(kt(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Z3(t),r})}async function gle(t,e){await Goe(kt(t),{oobCode:e})}async function Sz(t,e){const n=kt(t),r=await vz(n,{oobCode:e}),i=r.requestType;switch(pt(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":pt(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":pt(r.mfaInfo,n,"internal-error");default:pt(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=Cv._fromServerResponse(Ur(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function yle(t,e){const{data:n}=await Sz(kt(t),e);return n.email}async function vle(t,e,n){if(ir(t.app))return Promise.reject(Oi(t));const r=Ur(t),a=await Tu(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xz,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Z3(t),l}),o=await io._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(o.user),o}function xle(t,e,n){return ir(t.app)?Promise.reject(Oi(t)):jb(kt(t),ed.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Z3(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _le(t,e,n){const r=Ur(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(a,o){pt(o.handleCodeInApp,r,"argument-error"),o&&Bb(r,a,o)}s(i,n),await Tu(r,i,"getOobCode",Yoe,"EMAIL_PASSWORD_PROVIDER")}function ble(t,e){const n=Ob.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function wle(t,e,n){if(ir(t.app))return Promise.reject(Oi(t));const r=kt(t),i=ed.credentialWithLink(e,n||Ty());return pt(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),jb(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tle(t,e){return $r(t,"POST","/v1/accounts:createAuthUri",Hr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ele(t,e){const n=G3()?Ty():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await Tle(kt(t),r);return i||[]}async function Cle(t,e){const n=kt(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&Bb(n.auth,i,e);const{email:s}=await Xoe(n.auth,i);s!==t.email&&await t.reload()}async function Sle(t,e,n){const r=kt(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&Bb(r.auth,s,n);const{email:a}=await Qoe(r.auth,s);a!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dle(t,e){return $r(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ale(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=kt(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await hc(r,Dle(r.auth,s));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const o=r.providerData.find(({providerId:l})=>l==="password");o&&(o.displayName=r.displayName,o.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function Nle(t,e){const n=kt(t);return ir(n.auth.app)?Promise.reject(Oi(n.auth)):Dz(n,e,null)}function Ile(t,e){return Dz(kt(t),null,e)}async function Dz(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const a=await hc(t,Hoe(r,s));await t._updateTokensIfNecessary(a,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kle(t){var i,s;if(!t)return null;const{providerId:e}=t,n=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},r=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!e&&(t!=null&&t.idToken)){const a=(s=(i=Mb(t.idToken))==null?void 0:i.firebase)==null?void 0:s.sign_in_provider;if(a){const o=a!=="anonymous"&&a!=="custom"?a:null;return new Ep(r,o)}}if(!e)return null;switch(e){case"facebook.com":return new Rle(r,n);case"github.com":return new Ple(r,n);case"google.com":return new Fle(r,n);case"twitter.com":return new Mle(r,n,t.screenName||null);case"custom":case"anonymous":return new Ep(r,null);default:return new Ep(r,e,n)}}class Ep{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class Az extends Ep{constructor(e,n,r,i){super(e,n,r),this.username=i}}class Rle extends Ep{constructor(e,n){super(e,"facebook.com",n)}}class Ple extends Az{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class Fle extends Ep{constructor(e,n){super(e,"google.com",n)}}class Mle extends Az{constructor(e,n,r){super(e,"twitter.com",n,r)}}function Ule(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:kle(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new Jd("enroll",e,n)}static _fromMfaPendingCredential(e){return new Jd("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if((n=e.multiFactorSession)!=null&&n.pendingCredential)return Jd._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if((r=e.multiFactorSession)!=null&&r.idToken)return Jd._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=Ur(e),i=n.customData._serverResponse,s=(i.mfaInfo||[]).map(o=>Cv._fromServerResponse(r,o));pt(i.mfaPendingCredential,r,"internal-error");const a=Jd._fromMfaPendingCredential(i.mfaPendingCredential);return new eI(a,s,async o=>{const l=await o._process(r,a);delete i.mfaInfo,delete i.mfaPendingCredential;const c={...i,idToken:l.idToken,refreshToken:l.refreshToken};switch(n.operationType){case"signIn":const u=await io._fromIdTokenResponse(r,n.operationType,c);return await r._updateCurrentUser(u.user),u;case"reauthenticate":return pt(n.user,r,"internal-error"),io._forOperation(n.user,n.operationType,c);default:Ji(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function Ole(t,e){var i;const n=kt(t),r=e;return pt(e.customData.operationType,n,"argument-error"),pt((i=r.customData._serverResponse)==null?void 0:i.mfaPendingCredential,n,"argument-error"),eI._fromError(n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dF(t,e){return $r(t,"POST","/v2/accounts/mfaEnrollment:start",Hr(t,e))}function Lle(t,e){return $r(t,"POST","/v2/accounts/mfaEnrollment:finalize",Hr(t,e))}function jle(t,e){return $r(t,"POST","/v2/accounts/mfaEnrollment:withdraw",Hr(t,e))}class tI{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>Cv._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new tI(e)}async getSession(){return Jd._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,i=await this.getSession(),s=await hc(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await hc(this.user,jle(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const ZE=new WeakMap;function Ble(t){const e=kt(t);return ZE.has(e)||ZE.set(e,tI._fromUser(e)),ZE.get(e)}const p_="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nz{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(p_,"1"),this.storage.removeItem(p_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vle=1e3,Wle=10;class Iz extends Nz{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hz(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);woe()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Wle):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Vle)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Iz.type="LOCAL";const nI=Iz;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kz extends Nz{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}kz.type="SESSION";const wf=kz;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qle(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Vb(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(a).map(async c=>c(n.origin,s)),l=await qle(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vb.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zle{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const c=Sv("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(h.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(){return window}function Hle(t){ui().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(){return typeof ui().WorkerGlobalScope<"u"&&typeof ui().importScripts=="function"}async function $le(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Gle(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function Kle(){return rI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rz="firebaseLocalStorageDb",Xle=1,m_="firebaseLocalStorage",Pz="fbase_key";class Dv{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Wb(t,e){return t.transaction([m_],e?"readwrite":"readonly").objectStore(m_)}function Jle(){const t=indexedDB.deleteDatabase(Rz);return new Dv(t).toPromise()}function l4(){const t=indexedDB.open(Rz,Xle);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(m_,{keyPath:Pz})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(m_)?e(r):(r.close(),await Jle(),e(await l4()))})})}async function fF(t,e,n){const r=Wb(t,!0).put({[Pz]:e,value:n});return new Dv(r).toPromise()}async function Yle(t,e){const n=Wb(t,!1).get(e),r=await new Dv(n).toPromise();return r===void 0?null:r.value}function hF(t,e){const n=Wb(t,!0).delete(e);return new Dv(n).toPromise()}const Qle=800,Zle=3;class Fz{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await l4(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Zle)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vb._getInstance(Kle()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await $le(),!this.activeServiceWorker)return;this.sender=new zle(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Gle()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await l4();return await fF(e,p_,"1"),await hF(e,p_),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>fF(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Yle(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>hF(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Wb(i,!1).getAll();return new Dv(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Qle)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Fz.type="LOCAL";const Sy=Fz;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pF(t,e){return $r(t,"POST","/v2/accounts/mfaSignIn:start",Hr(t,e))}function ece(t,e){return $r(t,"POST","/v2/accounts/mfaSignIn:finalize",Hr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=mz("rcb"),tce=new bv(3e4,6e4);class nce{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!((e=ui().grecaptcha)!=null&&e.render)}load(e,n=""){return pt(rce(n),e,"argument-error"),this.shouldResolveImmediately(n)&&nF(ui().grecaptcha)?Promise.resolve(ui().grecaptcha):new Promise((r,i)=>{const s=ui().setTimeout(()=>{i(vi(e,"network-request-failed"))},tce.get());ui()[eC]=()=>{ui().clearTimeout(s),delete ui()[eC];const o=ui().grecaptcha;if(!o||!nF(o)){i(vi(e,"internal-error"));return}const l=o.render;o.render=(c,u)=>{const f=l(c,u);return this.counter++,f},this.hostLanguage=n,r(o)};const a=`${Noe()}?${Bf({onload:eC,render:"explicit",hl:n})}`;X3(a).catch(()=>{clearTimeout(s),i(vi(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!((n=ui().grecaptcha)!=null&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function rce(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class ice{async load(e){return new Foe(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="recaptcha",sce={theme:"light",type:"image"};let ace=class{constructor(e,n,r={...sce}){this.parameters=r,this.type=P0,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ur(e),this.isInvisible=this.parameters.size==="invisible",pt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;pt(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ice:new nce,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const s=a=>{a&&(this.tokenChangeListeners.delete(s),i(a))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){pt(!this.parameters.sitekey,this.auth,"argument-error"),pt(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),pt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=ui()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){pt(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){pt(G3()&&!rI(),this.auth,"internal-error"),await oce(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await uoe(this.auth);pt(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return pt(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function oce(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=rf._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function lce(t,e,n){if(ir(t.app))return Promise.reject(Oi(t));const r=Ur(t),i=await qb(r,e,kt(n));return new iI(i,s=>jb(r,s))}async function cce(t,e,n){const r=kt(t);await Lb(!1,r,"phone");const i=await qb(r.auth,e,kt(n));return new iI(i,s=>Ez(r,s))}async function uce(t,e,n){const r=kt(t);if(ir(r.auth.app))return Promise.reject(Oi(r.auth));const i=await qb(r.auth,e,kt(n));return new iI(i,s=>Cz(r,s))}async function qb(t,e,n){var r;if(!t._getRecaptchaConfig())try{await Boe(t)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const s=i.session;if("phoneNumber"in i){pt(s.type==="enroll",t,"internal-error");const a={idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Tu(t,a,"mfaSmsEnrollment",async(u,f)=>{if(f.phoneEnrollmentInfo.captchaResponse===R0){pt((n==null?void 0:n.type)===P0,u,"argument-error");const h=await tC(u,f,n);return dF(u,h)}return dF(u,f)},"PHONE_PROVIDER").catch(u=>Promise.reject(u))).phoneSessionInfo.sessionInfo}else{pt(s.type==="signin",t,"internal-error");const a=((r=i.multiFactorHint)==null?void 0:r.uid)||i.multiFactorUid;pt(a,t,"missing-multi-factor-info");const o={mfaPendingCredential:s.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Tu(t,o,"mfaSmsSignIn",async(f,h)=>{if(h.phoneSignInInfo.captchaResponse===R0){pt((n==null?void 0:n.type)===P0,f,"argument-error");const p=await tC(f,h,n);return pF(f,p)}return pF(f,h)},"PHONE_PROVIDER").catch(f=>Promise.reject(f))).phoneResponseInfo.sessionInfo}}else{const s={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Tu(t,s,"sendVerificationCode",async(c,u)=>{if(u.captchaResponse===R0){pt((n==null?void 0:n.type)===P0,c,"argument-error");const f=await tC(c,u,n);return cF(c,f)}return cF(c,u)},"PHONE_PROVIDER").catch(c=>Promise.reject(c))).sessionInfo}}finally{n==null||n._reset()}}async function dce(t,e){const n=kt(t);if(ir(n.auth.app))return Promise.reject(Oi(n.auth));await J3(n,e)}async function tC(t,e,n){pt(n.type===P0,t,"argument-error");const r=await n.verify();pt(typeof r=="string",t,"argument-error");const i={...e};if("phoneEnrollmentInfo"in i){const s=i.phoneEnrollmentInfo.phoneNumber,a=i.phoneEnrollmentInfo.captchaResponse,o=i.phoneEnrollmentInfo.clientType,l=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:s,recaptchaToken:r,captchaResponse:a,clientType:o,recaptchaVersion:l}}),i}else if("phoneSignInInfo"in i){const s=i.phoneSignInInfo.captchaResponse,a=i.phoneSignInInfo.clientType,o=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:s,clientType:a,recaptchaVersion:o}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tf=class f2{constructor(e){this.providerId=f2.PROVIDER_ID,this.auth=Ur(e)}verifyPhoneNumber(e,n){return qb(this.auth,e,kt(n))}static credential(e,n){return rf._fromVerification(e,n)}static credentialFromResult(e){const n=e;return f2.credentialFromTaggedObject(n)}static credentialFromError(e){return f2.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?rf._fromTokenResponse(n,r):null}};Tf.PROVIDER_ID="phone";Tf.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hf(t,e){return e?Ta(e):(pt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI extends Pm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ec(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ec(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ec(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function fce(t){return Tz(t.auth,new sI(t),t.bypassAuthState)}function hce(t){const{auth:e,user:n}=t;return pt(n,e,"internal-error"),wz(n,new sI(t),t.bypassAuthState)}async function pce(t){const{auth:e,user:n}=t;return pt(n,e,"internal-error"),J3(n,new sI(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mz{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fce;case"linkViaPopup":case"linkViaRedirect":return pce;case"reauthViaPopup":case"reauthViaRedirect":return hce;default:Ji(this.auth,"internal-error")}}resolve(e){Oo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Oo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mce=new bv(2e3,1e4);async function gce(t,e,n){if(ir(t.app))return Promise.reject(vi(t,"operation-not-supported-in-this-environment"));const r=Ur(t);Rm(t,e,Ec);const i=Hf(r,n);return new Xl(r,"signInViaPopup",e,i).executeNotNull()}async function yce(t,e,n){const r=kt(t);if(ir(r.auth.app))return Promise.reject(vi(r.auth,"operation-not-supported-in-this-environment"));Rm(r.auth,e,Ec);const i=Hf(r.auth,n);return new Xl(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function vce(t,e,n){const r=kt(t);Rm(r.auth,e,Ec);const i=Hf(r.auth,n);return new Xl(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class Xl extends Mz{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Xl.currentPopupAction&&Xl.currentPopupAction.cancel(),Xl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pt(e,this.auth,"internal-error"),e}async onExecution(){Oo(this.filter.length===1,"Popup operations only handle one event");const e=Sv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,mce.get())};e()}}Xl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xce="pendingRedirect",F0=new Map;class _ce extends Mz{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=F0.get(this.auth._key());if(!e){try{const r=await bce(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}F0.set(this.auth._key(),e)}return this.bypassAuthState||F0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bce(t,e){const n=Oz(e),r=Uz(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function aI(t,e){return Uz(t)._set(Oz(e),"true")}function wce(){F0.clear()}function oI(t,e){F0.set(t._key(),e)}function Uz(t){return Ta(t._redirectPersistence)}function Oz(t){return nf(xce,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tce(t,e,n){return Ece(t,e,n)}async function Ece(t,e,n){if(ir(t.app))return Promise.reject(Oi(t));const r=Ur(t);Rm(t,e,Ec),await r._initializationPromise;const i=Hf(r,n);return await aI(i,r),i._openRedirect(r,e,"signInViaRedirect")}function Cce(t,e,n){return Sce(t,e,n)}async function Sce(t,e,n){const r=kt(t);if(Rm(r.auth,e,Ec),ir(r.auth.app))return Promise.reject(Oi(r.auth));await r.auth._initializationPromise;const i=Hf(r.auth,n);await aI(i,r.auth);const s=await Lz(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function Dce(t,e,n){return Ace(t,e,n)}async function Ace(t,e,n){const r=kt(t);Rm(r.auth,e,Ec),await r.auth._initializationPromise;const i=Hf(r.auth,n);await Lb(!1,r,e.providerId),await aI(i,r.auth);const s=await Lz(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function Nce(t,e){return await Ur(t)._initializationPromise,zb(t,e,!1)}async function zb(t,e,n=!1){if(ir(t.app))return Promise.reject(Oi(t));const r=Ur(t),i=Hf(r,e),a=await new _ce(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}async function Lz(t){const e=Sv(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ice=600*1e3;class jz{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kce(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Bz(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(vi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Ice&&this.cachedEventUids.clear(),this.cachedEventUids.has(mF(e))}saveEventToCache(e){this.cachedEventUids.add(mF(e)),this.lastProcessedEventTime=Date.now()}}function mF(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Bz({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function kce(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Bz(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vz(t,e={}){return $r(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rce=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Pce=/^https?/;async function Fce(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Vz(t);for(const n of e)try{if(Mce(n))return}catch{}Ji(t,"unauthorized-domain")}function Mce(t){const e=Ty(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!Pce.test(n))return!1;if(Rce.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uce=new bv(3e4,6e4);function gF(){const t=ui().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Oce(t){return new Promise((e,n)=>{var i,s,a;function r(){gF(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gF(),n(vi(t,"network-request-failed"))},timeout:Uce.get()})}if((s=(i=ui().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((a=ui().gapi)!=null&&a.load)r();else{const o=mz("iframefcb");return ui()[o]=()=>{gapi.load?r():n(vi(t,"network-request-failed"))},X3(`${koe()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw h2=null,e})}let h2=null;function Lce(t){return h2=h2||Oce(t),h2}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jce=new bv(5e3,15e3),Bce="__/auth/iframe",Vce="emulator/auth/iframe",Wce={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qce=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zce(t){const e=t.config;pt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?K3(e,Vce):`https://${t.config.authDomain}/${Bce}`,r={apiKey:e.apiKey,appName:t.name,v:Al},i=qce.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Bf(r).slice(1)}`}async function Hce(t){const e=await Lce(t),n=ui().gapi;return pt(n,t,"internal-error"),e.open({where:document.body,url:zce(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wce,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=vi(t,"network-request-failed"),o=ui().setTimeout(()=>{s(a)},jce.get());function l(){ui().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ce={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Gce=500,Kce=600,Xce="_blank",Jce="http://localhost";class yF{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Yce(t,e,n,r=Gce,i=Kce){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l={...$ce,width:r.toString(),height:i.toString(),top:s,left:a},c=Fr().toLowerCase();n&&(o=cz(c)?Xce:n),oz(c)&&(e=e||Jce,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,v])=>`${h}${p}=${v},`,"");if(boe(c)&&o!=="_self")return Qce(e||"",o),new yF(null);const f=window.open(e||"",o,u);pt(f,t,"popup-blocked");try{f.focus()}catch{}return new yF(f)}function Qce(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zce="__/auth/handler",eue="emulator/auth/handler",tue=encodeURIComponent("fac");async function c4(t,e,n,r,i,s){pt(t.config.authDomain,t,"auth-domain-config-required"),pt(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Al,eventId:i};if(e instanceof Ec){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",z2(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries(s||{}))a[u]=f}if(e instanceof Fm){const u=e.getScopes().filter(f=>f!=="");u.length>0&&(a.scopes=u.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const u of Object.keys(o))o[u]===void 0&&delete o[u];const l=await t._getAppCheckToken(),c=l?`#${tue}=${encodeURIComponent(l)}`:"";return`${nue(t)}?${Bf(o).slice(1)}${c}`}function nue({config:t}){return t.emulator?K3(t,eue):`https://${t.authDomain}/${Zce}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC="webStorageSupport";class rue{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wf,this._completeRedirectFn=zb,this._overrideRedirectResult=oI}async _openPopup(e,n,r,i){var a;Oo((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await c4(e,n,r,Ty(),i);return Yce(e,s,Sv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await c4(e,n,r,Ty(),i);return Hle(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Oo(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Hce(e),r=new jz(e);return n.register("authEvent",i=>(pt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(nC,{type:nC},i=>{var a;const s=(a=i==null?void 0:i[0])==null?void 0:a[nC];s!==void 0&&n(!!s),Ji(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Fce(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hz()||lz()||Tv()}}const iue=rue;class sue{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return fl("unexpected MultiFactorSessionType")}}}class lI extends sue{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new lI(e)}_finalizeEnroll(e,n,r){return Lle(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return ece(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Wz{constructor(){}static assertion(e){return lI._fromCredential(e)}}Wz.FACTOR_ID="phone";var vF="@firebase/auth",xF="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aue{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oue(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lue(t){_l(new Ms("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;pt(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pz(t)},c=new Doe(r,i,s,l);return Voe(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),_l(new Ms("auth-internal",e=>{const n=Ur(e.getProvider("auth").getImmediate());return(r=>new aue(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ks(vF,xF,oue(t)),ks(vF,xF,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cue=300;Jee("authIdTokenMaxAge");function uue(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Aoe({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=vi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",uue().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lue("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const due=2e3;async function fue(t,e,n){const{BuildInfo:r}=Ef();Oo(e.sessionId,"AuthEvent did not contain a session ID");const i=await yue(e.sessionId),s={};return Tv()?s.ibi=r.packageName:wv()?s.apn=r.packageName:Ji(t,"operation-not-supported-in-this-environment"),r.displayName&&(s.appDisplayName=r.displayName),s.sessionId=i,c4(t,n,e.type,void 0,e.eventId??void 0,s)}async function hue(t){const{BuildInfo:e}=Ef(),n={};Tv()?n.iosBundleId=e.packageName:wv()?n.androidPackageName=e.packageName:Ji(t,"operation-not-supported-in-this-environment"),await Vz(t,n)}function pue(t){const{cordova:e}=Ef();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,_oe()?"_blank":"_system","location=yes"),n(i)})})}async function mue(t,e,n){const{cordova:r}=Ef();let i=()=>{};try{await new Promise((s,a)=>{let o=null;function l(){var h;s();const f=(h=r.plugins.browsertab)==null?void 0:h.close;typeof f=="function"&&f(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function c(){o||(o=window.setTimeout(()=>{a(vi(t,"redirect-cancelled-by-user"))},due))}function u(){(document==null?void 0:document.visibilityState)==="visible"&&c()}e.addPassiveListener(l),document.addEventListener("resume",c,!1),wv()&&document.addEventListener("visibilitychange",u,!1),i=()=>{e.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),o&&window.clearTimeout(o)}})}finally{i()}}function gue(t){var n,r,i,s,a,o,l,c,u,f;const e=Ef();pt(typeof((n=e==null?void 0:e.universalLinks)==null?void 0:n.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),pt(typeof((r=e==null?void 0:e.BuildInfo)==null?void 0:r.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),pt(typeof((a=(s=(i=e==null?void 0:e.cordova)==null?void 0:i.plugins)==null?void 0:s.browsertab)==null?void 0:a.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),pt(typeof((c=(l=(o=e==null?void 0:e.cordova)==null?void 0:o.plugins)==null?void 0:l.browsertab)==null?void 0:c.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),pt(typeof((f=(u=e==null?void 0:e.cordova)==null?void 0:u.InAppBrowser)==null?void 0:f.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function yue(t){const e=vue(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function vue(t){if(Oo(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xue=20;class _ue extends jz{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function bue(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:Eue(),postBody:null,tenantId:t.tenantId,error:vi(t,"no-auth-event")}}function wue(t,e){return u4()._set(d4(t),e)}async function _F(t){const e=await u4()._get(d4(t));return e&&await u4()._remove(d4(t)),e}function Tue(t,e){var r,i;const n=Sue(e);if(n.includes("/__/auth/callback")){const s=p2(n),a=s.firebaseError?Cue(decodeURIComponent(s.firebaseError)):null,o=(i=(r=a==null?void 0:a.code)==null?void 0:r.split("auth/"))==null?void 0:i[1],l=o?vi(o):null;return l?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:n,postBody:null}}return null}function Eue(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<xue;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function u4(){return Ta(nI)}function d4(t){return nf("authEvent",t.config.apiKey,t.name)}function Cue(t){try{return JSON.parse(t)}catch{return null}}function Sue(t){const e=p2(t),n=e.link?decodeURIComponent(e.link):void 0,r=p2(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return p2(i).link||i||r||n||t}function p2(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return hp(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Due=500;class Aue{constructor(){this._redirectPersistence=wf,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=zb,this._overrideRedirectResult=oI}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new _ue(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Ji(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){gue(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),wce(),await this._originValidation(e);const a=bue(e,r,i);await wue(e,a);const o=await fue(e,a,n),l=await pue(o);return mue(e,s,l)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=hue(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=Ef(),a=setTimeout(async()=>{await _F(e),n.onEvent(bF())},Due),o=async u=>{clearTimeout(a);const f=await _F(e);let h=null;f&&(u!=null&&u.url)&&(h=Tue(f,u.url)),n.onEvent(h||bF())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,o);const l=i,c=`${s.packageName.toLowerCase()}://`;Ef().handleOpenURL=async u=>{if(u.toLowerCase().startsWith(c)&&o({url:u}),typeof l=="function")try{l(u)}catch(f){console.error(f)}}}}const Nue=Aue;function bF(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:vi("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iue(t,e){Ur(t)._logFramework(e)}var kue="@firebase/auth-compat",Rue="0.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pue=1e3;function M0(){var t;return((t=self==null?void 0:self.location)==null?void 0:t.protocol)||null}function Fue(){return M0()==="http:"||M0()==="https:"}function qz(t=Fr()){return!!((M0()==="file:"||M0()==="ionic:"||M0()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Mue(){return cb()||lb()}function Uue(){return VB()&&(document==null?void 0:document.documentMode)===11}function Oue(t=Fr()){return/Edge\/\d+/.test(t)}function Lue(t=Fr()){return Uue()||Oue(t)}function zz(){try{const t=self.localStorage,e=Sv();if(t)return t.setItem(e,"1"),t.removeItem(e),Lue()?ny():!0}catch{return cI()&&ny()}return!1}function cI(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function rC(){return(Fue()||BB()||qz())&&!Mue()&&zz()&&!cI()}function Hz(){return qz()&&typeof document<"u"}async function jue(){return Hz()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},Pue);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function Bue(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya={LOCAL:"local",NONE:"none",SESSION:"session"},Vg=pt,$z="persistence";function Vue(t,e){if(Vg(Object.values(ya).includes(e),t,"invalid-persistence-type"),cb()){Vg(e!==ya.SESSION,t,"unsupported-persistence-type");return}if(lb()){Vg(e===ya.NONE,t,"unsupported-persistence-type");return}if(cI()){Vg(e===ya.NONE||e===ya.LOCAL&&ny(),t,"unsupported-persistence-type");return}Vg(e===ya.NONE||zz(),t,"unsupported-persistence-type")}async function f4(t){await t._initializationPromise;const e=Gz(),n=nf($z,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistenceType())}function Wue(t,e){const n=Gz();if(!n)return[];const r=nf($z,t,e);switch(n.getItem(r)){case ya.NONE:return[im];case ya.LOCAL:return[Sy,wf];case ya.SESSION:return[wf];default:return[]}}function Gz(){var t;try{return((t=Bue())==null?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const que=pt;class du{constructor(){this.browserResolver=Ta(iue),this.cordovaResolver=Ta(Nue),this.underlyingResolver=null,this._redirectPersistence=wf,this._completeRedirectFn=zb,this._overrideRedirectResult=oI}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Hz()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return que(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await jue();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kz(t){return t.unwrap()}function zue(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hue(t){return Xz(t)}function $ue(t,e){var r;const n=(r=e.customData)==null?void 0:r._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new Gue(t,Ole(t,e))}else if(n){const i=Xz(e),s=e;i&&(s.credential=i,s.tenantId=n.tenantId||void 0,s.email=n.email||void 0,s.phoneNumber=n.phoneNumber||void 0)}}function Xz(t){const{_tokenResponse:e}=t instanceof ps?t.customData:t;if(!e)return null;if(!(t instanceof ps)&&"temporaryProof"in e&&"phoneNumber"in e)return Tf.credentialFromResult(t);const n=e.providerId;if(!n||n===jg.PASSWORD)return null;let r;switch(n){case jg.GOOGLE:r=al;break;case jg.FACEBOOK:r=sl;break;case jg.GITHUB:r=ol;break;case jg.TWITTER:r=ll;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:a,pendingToken:o,nonce:l}=e;return!s&&!a&&!i&&!o?null:o?n.startsWith("saml.")?sm._create(n,o):Tl._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:i,accessToken:s}):new Tp(n).credential({idToken:i,accessToken:s,rawNonce:l})}return t instanceof ps?r.credentialFromError(t):r.credentialFromResult(t)}function Gs(t,e){return e.catch(n=>{throw n instanceof ps&&$ue(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:Hue(n),additionalUserInfo:Ule(n),user:Jl.getOrCreate(i)}})}async function h4(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>Gs(t,n.confirm(r))}}class Gue{constructor(e,n){this.resolver=n,this.auth=zue(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Gs(Kz(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e){this._delegate=e,this.multiFactor=Ble(e)}static getOrCreate(e){return Jl.USER_MAP.has(e)||Jl.USER_MAP.set(e,new Jl(e)),Jl.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Gs(this.auth,Ez(this._delegate,e))}async linkWithPhoneNumber(e,n){return h4(this.auth,cce(this._delegate,e,n))}async linkWithPopup(e){return Gs(this.auth,vce(this._delegate,e,du))}async linkWithRedirect(e){return await f4(Ur(this.auth)),Dce(this._delegate,e,du)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Gs(this.auth,Cz(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return h4(this.auth,uce(this._delegate,e,n))}reauthenticateWithPopup(e){return Gs(this.auth,yce(this._delegate,e,du))}async reauthenticateWithRedirect(e){return await f4(Ur(this.auth)),Cce(this._delegate,e,du)}sendEmailVerification(e){return Cle(this._delegate,e)}async unlink(e){return await dle(this._delegate,e),this}updateEmail(e){return Nle(this._delegate,e)}updatePassword(e){return Ile(this._delegate,e)}updatePhoneNumber(e){return dce(this._delegate,e)}updateProfile(e){return Ale(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return Sle(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Jl.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg=pt;class p4{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;Wg(r,"invalid-api-key",{appName:e.name}),Wg(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?du:void 0;this._delegate=n.initialize({options:{persistence:Kue(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(eoe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Jl.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){Woe(this._delegate,e,n)}applyActionCode(e){return gle(this._delegate,e)}checkActionCode(e){return Sz(this._delegate,e)}confirmPasswordReset(e,n){return mle(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return Gs(this._delegate,vle(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return Ele(this._delegate,e)}isSignInWithEmailLink(e){return ble(this._delegate,e)}async getRedirectResult(){Wg(rC(),this._delegate,"operation-not-supported-in-this-environment");const e=await Nce(this._delegate,du);return e?Gs(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){Iue(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:s,complete:a}=wF(e,n,r);return this._delegate.onAuthStateChanged(i,s,a)}onIdTokenChanged(e,n,r){const{next:i,error:s,complete:a}=wF(e,n,r);return this._delegate.onIdTokenChanged(i,s,a)}sendSignInLinkToEmail(e,n){return _le(this._delegate,e,n)}sendPasswordResetEmail(e,n){return ple(this._delegate,e,n||void 0)}async setPersistence(e){Vue(this._delegate,e);let n;switch(e){case ya.SESSION:n=wf;break;case ya.LOCAL:n=await Ta(Sy)._isAvailable()?Sy:nI;break;case ya.NONE:n=im;break;default:return Ji("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Gs(this._delegate,ule(this._delegate))}signInWithCredential(e){return Gs(this._delegate,jb(this._delegate,e))}signInWithCustomToken(e){return Gs(this._delegate,hle(this._delegate,e))}signInWithEmailAndPassword(e,n){return Gs(this._delegate,xle(this._delegate,e,n))}signInWithEmailLink(e,n){return Gs(this._delegate,wle(this._delegate,e,n))}signInWithPhoneNumber(e,n){return h4(this._delegate,lce(this._delegate,e,n))}async signInWithPopup(e){return Wg(rC(),this._delegate,"operation-not-supported-in-this-environment"),Gs(this._delegate,gce(this._delegate,e,du))}async signInWithRedirect(e){return Wg(rC(),this._delegate,"operation-not-supported-in-this-environment"),await f4(this._delegate),Tce(this._delegate,e,du)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return yle(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}p4.Persistence=ya;function wF(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:a=>i(a&&Jl.getOrCreate(a)),error:e,complete:n}}function Kue(t,e){const n=Wue(t,e);if(typeof self<"u"&&!n.includes(Sy)&&n.push(Sy),typeof window<"u")for(const r of[nI,wf])n.includes(r)||n.push(r);return n.includes(im)||n.push(im),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{static credential(e,n){return Tf.credential(e,n)}constructor(){this.providerId="phone",this._delegate=new Tf(Kz(Br.auth()))}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}uI.PHONE_SIGN_IN_METHOD=Tf.PHONE_SIGN_IN_METHOD;uI.PROVIDER_ID=Tf.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xue=pt;class Jue{constructor(e,n,r=Br.app()){var i;Xue((i=r.options)==null?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new ace(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yue="auth-compat";function Que(t){t.INTERNAL.registerComponent(new Ms(Yue,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new p4(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Kh.EMAIL_SIGNIN,PASSWORD_RESET:Kh.PASSWORD_RESET,RECOVER_EMAIL:Kh.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Kh.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Kh.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Kh.VERIFY_EMAIL}},EmailAuthProvider:ed,FacebookAuthProvider:sl,GithubAuthProvider:ol,GoogleAuthProvider:al,OAuthProvider:Tp,SAMLAuthProvider:f_,PhoneAuthProvider:uI,PhoneMultiFactorGenerator:Wz,RecaptchaVerifier:Jue,TwitterAuthProvider:ll,Auth:p4,AuthCredential:Pm,Error:ps}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(kue,Rue)}Que(Br);var TF={};const EF="@firebase/database",CF="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jz="";function Yz(t){Jz=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zue{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),mi(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:ry(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ede{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Sa(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qz=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Zue(e)}}catch{}return new ede},Yd=Qz("localStorage"),m4=Qz("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp=new Tm("@firebase/database"),Zz=(function(){let t=1;return function(){return t++}})(),eH=function(t){const e=dte(t),n=new lte;n.update(e);const r=n.digest();return EN.encodeByteArray(r)},Av=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Av.apply(null,r):typeof r=="object"?e+=mi(r):e+=r,e+=" "}return e};let sf=null,SF=!0;const tH=function(t,e){yt(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Cp.logLevel=gn.VERBOSE,sf=Cp.log.bind(Cp),e&&m4.set("logging_enabled",!0)):typeof t=="function"?sf=t:(sf=null,m4.remove("logging_enabled"))},Fi=function(...t){if(SF===!0&&(SF=!1,sf===null&&m4.get("logging_enabled")===!0&&tH(!0)),sf){const e=Av.apply(null,t);sf(e)}},Nv=function(t){return function(...e){Fi(t,...e)}},g4=function(...t){const e="FIREBASE INTERNAL ERROR: "+Av(...t);Cp.error(e)},El=function(...t){const e=`FIREBASE FATAL ERROR: ${Av(...t)}`;throw Cp.error(e),new Error(e)},gs=function(...t){const e="FIREBASE WARNING: "+Av(...t);Cp.warn(e)},tde=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&gs("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Hb=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},nde=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Lu="[MIN_NAME]",pc="[MAX_NAME]",$f=function(t,e){if(t===e)return 0;if(t===Lu||e===pc)return-1;if(e===Lu||t===pc)return 1;{const n=DF(t),r=DF(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},rde=function(t,e){return t===e?0:t<e?-1:1},qg=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+mi(e))},dI=function(t){if(typeof t!="object"||t===null)return mi(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=mi(e[r]),n+=":",n+=dI(t[e[r]]);return n+="}",n},nH=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Li(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const rH=function(t){yt(!Hb(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,a,o,l;t===0?(s=0,a=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(o=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=o+r,a=Math.round(t*Math.pow(2,n-o)-Math.pow(2,n))):(s=0,a=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(a%2?1:0),a=Math.floor(a/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const u=c.join("");let f="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),f=f+h}return f.toLowerCase()},ide=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},sde=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function ade(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const ode=new RegExp("^-?(0*)\\d{1,10}$"),lde=-2147483648,cde=2147483647,DF=function(t){if(ode.test(t)){const e=Number(t);if(e>=lde&&e<=cde)return e}return null},Mm=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw gs("Exception was thrown by user callback.",n),e},Math.floor(0))}},ude=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},U0=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dde{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,ir(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){gs(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fde{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Fi("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',gs(e)}}class Sp{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Sp.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI="5",iH="v",sH="s",aH="r",oH="f",lH=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,cH="ls",uH="p",y4="ac",dH="websocket",fH="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hH{constructor(e,n,r,i,s=!1,a="",o=!1,l=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=o,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Yd.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Yd.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function hde(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function pH(t,e,n){yt(typeof e=="string","typeof type must == string"),yt(typeof n=="object","typeof params must == object");let r;if(e===dH)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===fH)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);hde(t)&&(n.ns=t.namespace);const i=[];return Li(n,(s,a)=>{i.push(s+"="+a)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pde{constructor(){this.counters_={}}incrementCounter(e,n=1){Sa(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return qee(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC={},sC={};function hI(t){const e=t.toString();return iC[e]||(iC[e]=new pde),iC[e]}function mde(t,e){const n=t.toString();return sC[n]||(sC[n]=e()),sC[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gde{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Mm(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AF="start",yde="close",vde="pLPCommand",xde="pRTLPCB",mH="id",gH="pw",yH="ser",_de="cb",bde="seg",wde="ts",Tde="d",Ede="dframe",vH=1870,xH=30,Cde=vH-xH,Sde=25e3,Dde=3e4;class fu{constructor(e,n,r,i,s,a,o){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=a,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Nv(e),this.stats_=hI(n),this.urlFn=l=>(this.appCheckToken&&(l[y4]=this.appCheckToken),pH(n,fH,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new gde(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Dde)),nde(()=>{if(this.isClosed_)return;this.scriptTagHolder=new pI((...s)=>{const[a,o,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===AF)this.id=o,this.password=l;else if(a===yde)o?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(o,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...s)=>{const[a,o]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(a,o)},()=>{this.onClosed_()},this.urlFn);const r={};r[AF]="t",r[yH]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[_de]=this.scriptTagHolder.uniqueCallbackIdentifier),r[iH]=fI,this.transportSessionId&&(r[sH]=this.transportSessionId),this.lastSessionId&&(r[cH]=this.lastSessionId),this.applicationId&&(r[uH]=this.applicationId),this.appCheckToken&&(r[y4]=this.appCheckToken),typeof location<"u"&&location.hostname&&lH.test(location.hostname)&&(r[aH]=oH);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){fu.forceAllow_=!0}static forceDisallow(){fu.forceDisallow_=!0}static isAvailable(){return fu.forceAllow_?!0:!fu.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!ide()&&!sde()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=mi(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=LB(n),i=nH(r,Cde);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Ede]="t",r[mH]=e,r[gH]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=mi(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class pI{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Zz(),window[vde+this.uniqueCallbackIdentifier]=e,window[xde+this.uniqueCallbackIdentifier]=n,this.myIFrame=pI.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(o){Fi("frame writing exception"),o.stack&&Fi(o.stack),Fi(o)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Fi("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[mH]=this.myID,e[gH]=this.myPW,e[yH]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+xH+r.length<=vH;){const a=this.pendingSegs.shift();r=r+"&"+bde+i+"="+a.seg+"&"+wde+i+"="+a.ts+"&"+Tde+i+"="+a.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Sde)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Fi("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ade=16384,Nde=45e3;let g_=null;typeof MozWebSocket<"u"?g_=MozWebSocket:typeof WebSocket<"u"&&(g_=WebSocket);class Xa{constructor(e,n,r,i,s,a,o){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Nv(this.connId),this.stats_=hI(n),this.connURL=Xa.connectionURL_(n,a,o,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const a={};return a[iH]=fI,typeof location<"u"&&location.hostname&&lH.test(location.hostname)&&(a[aH]=oH),n&&(a[sH]=n),r&&(a[cH]=r),i&&(a[y4]=i),s&&(a[uH]=s),pH(e,dH,a)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Yd.set("previous_websocket_failure",!0);try{let r;tte(),this.mySock=new g_(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Xa.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&g_!==null&&!Xa.forceDisallow_}static previouslyFailed(){return Yd.isInMemoryStorage||Yd.get("previous_websocket_failure")===!0}markConnectionHealthy(){Yd.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=ry(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(yt(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=mi(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=nH(n,Ade);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Nde))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Xa.responsesRequiredToBeHealthy=2;Xa.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{static get ALL_TRANSPORTS(){return[fu,Xa]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Xa&&Xa.isAvailable();let r=n&&!Xa.previouslyFailed();if(e.webSocketOnly&&(n||gs("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Xa];else{const i=this.transports_=[];for(const s of am.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);am.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}am.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ide=6e4,kde=5e3,Rde=10*1024,Pde=100*1024,aC="t",NF="d",Fde="s",IF="r",Mde="e",kF="o",RF="a",PF="n",FF="p",Ude="h";class Ode{constructor(e,n,r,i,s,a,o,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=a,this.onReady_=o,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Nv("c:"+this.id+":"),this.transportManager_=new am(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=U0(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Pde?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Rde?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(aC in e){const n=e[aC];n===RF?this.upgradeIfSecondaryHealthy_():n===IF?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===kF&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=qg("t",e),r=qg("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:FF,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:RF,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:PF,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=qg("t",e),r=qg("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=qg(aC,e);if(NF in e){const r=e[NF];if(n===Ude){const i={...r};this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===PF){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Fde?this.onConnectionShutdown_(r):n===IF?this.onReset_(r):n===Mde?g4("Server Error: "+r):n===kF?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):g4("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),fI!==r&&gs("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),U0(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Ide))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):U0(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(kde))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:FF,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Yd.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _H{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bH{constructor(e){this.allowedEvents_=e,this.listeners_={},yt(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){yt(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_ extends bH{static getInstance(){return new y_}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!AN()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return yt(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MF=32,UF=768;class jn{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function kn(){return new jn("")}function dn(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ju(t){return t.pieces_.length-t.pieceNum_}function tr(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new jn(t.pieces_,e)}function mI(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Lde(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Dy(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function wH(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new jn(e,0)}function Cr(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof jn)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new jn(n,0)}function fn(t){return t.pieceNum_>=t.pieces_.length}function Is(t,e){const n=dn(t),r=dn(e);if(n===null)return e;if(n===r)return Is(tr(t),tr(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function jde(t,e){const n=Dy(t,0),r=Dy(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=$f(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function gI(t,e){if(ju(t)!==ju(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Ya(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(ju(t)>ju(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Bde{constructor(e,n){this.errorPrefix_=n,this.parts_=Dy(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=ub(this.parts_[r]);TH(this)}}function Vde(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=ub(e),TH(t)}function Wde(t){const e=t.parts_.pop();t.byteLength_-=ub(e),t.parts_.length>0&&(t.byteLength_-=1)}function TH(t){if(t.byteLength_>UF)throw new Error(t.errorPrefix_+"has a key path longer than "+UF+" bytes ("+t.byteLength_+").");if(t.parts_.length>MF)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+MF+") or object contains a cycle "+jd(t))}function jd(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI extends bH{static getInstance(){return new yI}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return yt(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg=1e3,qde=300*1e3,OF=30*1e3,zde=1.3,Hde=3e4,$de="server_kill",LF=3;class tc extends _H{constructor(e,n,r,i,s,a,o,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=o,this.authOverride_=l,this.id=tc.nextPersistentConnectionId_++,this.log_=Nv("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=zg,this.maxReconnectDelay_=qde,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");yI.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&y_.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(mi(s)),yt(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Ks,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const o=a.d;a.s==="ok"?n.resolve(o):n.reject(o)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),yt(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),yt(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const o={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(a).set(s,o),this.connected_&&this.sendListen_(o)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},a="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(a,s,o=>{const l=o.d,c=o.s;tc.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",o),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Sa(e,"w")){const r=ff(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();gs(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||ote(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=OF)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=ate(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,a=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),yt(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},a="n";i&&(s.q=r,s.t=i),this.sendRequest(a,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,a=>{i&&setTimeout(()=>{i(a.s,a.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const a={p:n,d:r};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:e,request:a,onComplete:i}),this.outstandingPutCount_++;const o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+mi(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):g4("Unrecognized action received from server: "+mi(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){yt(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=zg,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=zg,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Hde&&(this.reconnectDelay_=zg),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*zde)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+tc.nextConnectionId_++,s=this.lastSessionId;let a=!1,o=null;const l=function(){o?o.close():(a=!0,r())},c=function(f){yt(o,"sendRequest call when we're not connected not allowed."),o.sendRequest(f)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,h]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);a?Fi("getToken() completed but was canceled"):(Fi("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,o=new Ode(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{gs(p+" ("+this.repoInfo_.toString()+")"),this.interrupt($de)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&gs(f),l())}}}interrupt(e){Fi("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Fi("Resuming connection for reason: "+e),delete this.interruptReasons_[e],z2(this.interruptReasons_)&&(this.reconnectDelay_=zg,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>dI(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new jn(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Fi("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=LF&&(this.reconnectDelay_=OF,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Fi("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=LF&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Jz.replace(/\./g,"-")]=1,AN()?e["framework.cordova"]=1:cb()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=y_.getInstance().currentlyOnline();return z2(this.interruptReasons_)&&e}}tc.nextPersistentConnectionId_=0;tc.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new yn(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new yn(Lu,e),i=new yn(Lu,n);return this.compare(r,i)!==0}minPost(){return yn.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gx;class EH extends $b{static get __EMPTY_NODE(){return gx}static set __EMPTY_NODE(e){gx=e}compare(e,n){return $f(e.name,n.name)}isDefinedOn(e){throw wm("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return yn.MIN}maxPost(){return new yn(pc,gx)}makePost(e,n){return yt(typeof e=="string","KeyIndex indexValue must always be a string."),new yn(e,gx)}toString(){return".key"}}const xl=new EH;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(e=e,a=n?r(e.key,n):1,i&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Pi{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Pi.RED,this.left=i??Qs.EMPTY_NODE,this.right=s??Qs.EMPTY_NODE}copy(e,n,r,i,s){return new Pi(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Qs.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Qs.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Pi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Pi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Pi.RED=!0;Pi.BLACK=!1;class Gde{copy(e,n,r,i,s){return this}insert(e,n,r){return new Pi(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Qs{constructor(e,n=Qs.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Qs(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Pi.BLACK,null,null))}remove(e){return new Qs(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Pi.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new yx(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new yx(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new yx(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new yx(this.root_,null,this.comparator_,!0,e)}}Qs.EMPTY_NODE=new Gde;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kde(t,e){return $f(t.name,e.name)}function vI(t,e){return $f(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let v4;function Xde(t){v4=t}const CH=function(t){return typeof t=="number"?"number:"+rH(t):"string:"+t},SH=function(t){if(t.isLeafNode()){const e=t.val();yt(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Sa(e,".sv"),"Priority must be a string or number.")}else yt(t===v4||t.isEmpty(),"priority of unexpected type.");yt(t===v4||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jF;class Ai{static set __childrenNodeConstructor(e){jF=e}static get __childrenNodeConstructor(){return jF}constructor(e,n=Ai.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,yt(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),SH(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ai(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ai.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return fn(e)?this:dn(e)===".priority"?this.priorityNode_:Ai.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Ai.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=dn(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(yt(r!==".priority"||ju(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Ai.__childrenNodeConstructor.EMPTY_NODE.updateChild(tr(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+CH(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=rH(this.value_):e+=this.value_,this.lazyHash_=eH(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ai.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ai.__childrenNodeConstructor?-1:(yt(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Ai.VALUE_TYPE_ORDER.indexOf(n),s=Ai.VALUE_TYPE_ORDER.indexOf(r);return yt(i>=0,"Unknown leaf type: "+n),yt(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ai.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let DH,AH;function Jde(t){DH=t}function Yde(t){AH=t}class Qde extends $b{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?$f(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return yn.MIN}maxPost(){return new yn(pc,new Ai("[PRIORITY-POST]",AH))}makePost(e,n){const r=DH(e);return new yn(n,new Ai("[PRIORITY-POST]",r))}toString(){return".priority"}}const sr=new Qde;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zde=Math.log(2);class efe{constructor(e){const n=s=>parseInt(Math.log(s)/Zde,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const v_=function(t,e,n,r){t.sort(e);const i=function(l,c){const u=c-l;let f,h;if(u===0)return null;if(u===1)return f=t[l],h=n?n(f):f,new Pi(h,f.node,Pi.BLACK,null,null);{const p=parseInt(u/2,10)+l,v=i(l,p),g=i(p+1,c);return f=t[p],h=n?n(f):f,new Pi(h,f.node,Pi.BLACK,v,g)}},s=function(l){let c=null,u=null,f=t.length;const h=function(v,g){const y=f-v,b=f;f-=v;const _=i(y+1,b),w=t[y],C=n?n(w):w;p(new Pi(C,w.node,g,null,_))},p=function(v){c?(c.left=v,c=v):(u=v,c=v)};for(let v=0;v<l.count;++v){const g=l.nextBitIsOne(),y=Math.pow(2,l.count-(v+1));g?h(y,Pi.BLACK):(h(y,Pi.BLACK),h(y,Pi.RED))}return u},a=new efe(t.length),o=s(a);return new Qs(r||e,o)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oC;const Xh={};class Yl{static get Default(){return yt(Xh&&sr,"ChildrenNode.ts has not been loaded"),oC=oC||new Yl({".priority":Xh},{".priority":sr}),oC}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=ff(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Qs?n:null}hasIndex(e){return Sa(this.indexSet_,e.toString())}addIndex(e,n){yt(e!==xl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(yn.Wrap);let a=s.getNext();for(;a;)i=i||e.isDefinedOn(a.node),r.push(a),a=s.getNext();let o;i?o=v_(r,e.getCompare()):o=Xh;const l=e.toString(),c={...this.indexSet_};c[l]=e;const u={...this.indexes_};return u[l]=o,new Yl(u,c)}addToIndexes(e,n){const r=H2(this.indexes_,(i,s)=>{const a=ff(this.indexSet_,s);if(yt(a,"Missing index implementation for "+s),i===Xh)if(a.isDefinedOn(e.node)){const o=[],l=n.getIterator(yn.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&o.push(c),c=l.getNext();return o.push(e),v_(o,a.getCompare())}else return Xh;else{const o=n.get(e.name);let l=i;return o&&(l=l.remove(new yn(e.name,o))),l.insert(e,e.node)}});return new Yl(r,this.indexSet_)}removeFromIndexes(e,n){const r=H2(this.indexes_,i=>{if(i===Xh)return i;{const s=n.get(e.name);return s?i.remove(new yn(e.name,s)):i}});return new Yl(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hg;class Kt{static get EMPTY_NODE(){return Hg||(Hg=new Kt(new Qs(vI),null,Yl.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&SH(this.priorityNode_),this.children_.isEmpty()&&yt(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Hg}updatePriority(e){return this.children_.isEmpty()?this:new Kt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Hg:n}}getChild(e){const n=dn(e);return n===null?this:this.getImmediateChild(n).getChild(tr(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(yt(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new yn(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const a=i.isEmpty()?Hg:this.priorityNode_;return new Kt(i,a,s)}}updateChild(e,n){const r=dn(e);if(r===null)return n;{yt(dn(e)!==".priority"||ju(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(tr(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(sr,(a,o)=>{n[a]=o.val(e),r++,s&&Kt.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):s=!1}),!e&&s&&i<2*r){const a=[];for(const o in n)a[o]=n[o];return a}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+CH(this.getPriority().val())+":"),this.forEachChild(sr,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":eH(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new yn(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new yn(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new yn(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,yn.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,yn.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Iv?-1:0}withIndex(e){if(e===xl||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Kt(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===xl||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(sr),i=n.getIterator(sr);let s=r.getNext(),a=i.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=i.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(e){return e===xl?null:this.indexMap_.get(e.toString())}}Kt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class tfe extends Kt{constructor(){super(new Qs(vI),Kt.EMPTY_NODE,Yl.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Kt.EMPTY_NODE}isEmpty(){return!1}}const Iv=new tfe;Object.defineProperties(yn,{MIN:{value:new yn(Lu,Kt.EMPTY_NODE)},MAX:{value:new yn(pc,Iv)}});EH.__EMPTY_NODE=Kt.EMPTY_NODE;Ai.__childrenNodeConstructor=Kt;Xde(Iv);Yde(Iv);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nfe=!0;function kr(t,e=null){if(t===null)return Kt.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),yt(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Ai(n,kr(e))}if(!(t instanceof Array)&&nfe){const n=[];let r=!1;if(Li(t,(a,o)=>{if(a.substring(0,1)!=="."){const l=kr(o);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new yn(a,l)))}}),n.length===0)return Kt.EMPTY_NODE;const s=v_(n,Kde,a=>a.name,vI);if(r){const a=v_(n,sr.getCompare());return new Kt(s,kr(e),new Yl({".priority":a},{".priority":sr}))}else return new Kt(s,kr(e),Yl.Default)}else{let n=Kt.EMPTY_NODE;return Li(t,(r,i)=>{if(Sa(t,r)&&r.substring(0,1)!=="."){const s=kr(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(kr(e))}}Jde(kr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI extends $b{constructor(e){super(),this.indexPath_=e,yt(!fn(e)&&dn(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?$f(e.name,n.name):s}makePost(e,n){const r=kr(e),i=Kt.EMPTY_NODE.updateChild(this.indexPath_,r);return new yn(n,i)}maxPost(){const e=Kt.EMPTY_NODE.updateChild(this.indexPath_,Iv);return new yn(pc,e)}toString(){return Dy(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rfe extends $b{compare(e,n){const r=e.node.compareTo(n.node);return r===0?$f(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return yn.MIN}maxPost(){return yn.MAX}makePost(e,n){const r=kr(e);return new yn(n,r)}toString(){return".value"}}const _I=new rfe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NH(t){return{type:"value",snapshotNode:t}}function om(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Ay(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Ny(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function ife(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e){this.index_=e}updateChild(e,n,r,i,s,a){yt(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const o=e.getImmediateChild(n);return o.getChild(i).equals(r.getChild(i))&&o.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?e.hasChild(n)?a.trackChildChange(Ay(n,o)):yt(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(om(n,r)):a.trackChildChange(Ny(n,r,o))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(sr,(i,s)=>{n.hasChild(i)||r.trackChildChange(Ay(i,s))}),n.isLeafNode()||n.forEachChild(sr,(i,s)=>{if(e.hasChild(i)){const a=e.getImmediateChild(i);a.equals(s)||r.trackChildChange(Ny(i,s,a))}else r.trackChildChange(om(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Kt.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e){this.indexedFilter_=new bI(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Iy.getStartPost_(e),this.endPost_=Iy.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,a){return this.matches(new yn(n,r))||(r=Kt.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,a)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Kt.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Kt.EMPTY_NODE);const s=this;return n.forEachChild(sr,(a,o)=>{s.matches(new yn(a,o))||(i=i.updateImmediateChild(a,Kt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sfe{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Iy(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,a){return this.rangedFilter_.matches(new yn(n,r))||(r=Kt.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,a):this.fullLimitUpdateChild_(e,n,r,s,a)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Kt.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Kt.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;s.hasNext()&&a<this.limit_;){const o=s.getNext();if(this.withinDirectionalStart(o))if(this.withinDirectionalEnd(o))i=i.updateImmediateChild(o.name,o.node),a++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Kt.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let a=0;for(;s.hasNext();){const o=s.getNext();a<this.limit_&&this.withinDirectionalStart(o)&&this.withinDirectionalEnd(o)?a++:i=i.updateImmediateChild(o.name,Kt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let a;if(this.reverse_){const f=this.index_.getCompare();a=(h,p)=>f(p,h)}else a=this.index_.getCompare();const o=e;yt(o.numChildren()===this.limit_,"");const l=new yn(n,r),c=this.reverse_?o.getFirstChild(this.index_):o.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(o.hasChild(n)){const f=o.getImmediateChild(n);let h=i.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||o.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const p=h==null?1:a(h,l);if(u&&!r.isEmpty()&&p>=0)return s!=null&&s.trackChildChange(Ny(n,r,f)),o.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Ay(n,f));const g=o.updateImmediateChild(n,Kt.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(s!=null&&s.trackChildChange(om(h.name,h.node)),g.updateImmediateChild(h.name,h.node)):g}}else return r.isEmpty()?e:u&&a(c,l)>=0?(s!=null&&(s.trackChildChange(Ay(c.name,c.node)),s.trackChildChange(om(n,r))),o.updateImmediateChild(n,r).updateImmediateChild(c.name,Kt.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=sr}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return yt(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return yt(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Lu}hasEnd(){return this.endSet_}getIndexEndValue(){return yt(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return yt(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:pc}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return yt(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===sr}copy(){const e=new Gb;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function afe(t){return t.loadsAllData()?new bI(t.getIndex()):t.hasLimit()?new sfe(t):new Iy(t)}function ofe(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function lfe(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function x4(t,e,n){const r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function cfe(t,e,n){let r;return t.index_===xl||n?r=x4(t,e,n):r=x4(t,e,pc),r.startAfterSet_=!0,r}function _4(t,e,n){const r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function ufe(t,e,n){let r;return t.index_===xl||n?r=_4(t,e,n):r=_4(t,e,Lu),r.endBeforeSet_=!0,r}function Kb(t,e){const n=t.copy();return n.index_=e,n}function BF(t){const e={};if(t.isDefault())return e;let n;if(t.index_===sr?n="$priority":t.index_===_I?n="$value":t.index_===xl?n="$key":(yt(t.index_ instanceof xI,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=mi(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=mi(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+mi(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=mi(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+mi(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function VF(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==sr&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_ extends _H{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(yt(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Nv("p:rest:"),this.listens_={}}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const a=x_.getListenId_(e,r),o={};this.listens_[a]=o;const l=BF(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let f=u;if(c===404&&(f=null,c=null),c===null&&this.onDataUpdate_(s,f,!1,r),ff(this.listens_,a)===o){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",i(h,null)}})}unlisten(e,n){const r=x_.getListenId_(e,n);delete this.listens_[r]}get(e){const n=BF(e._queryParams),r=e._path.toString(),i=new Ks;return this.restRequest_(r+".json",n,(s,a)=>{let o=a;s===404&&(o=null,s=null),s===null?(this.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Bf(n);this.log_("Sending REST request for "+a);const o=new XMLHttpRequest;o.onreadystatechange=()=>{if(r&&o.readyState===4){this.log_("REST Response for "+a+" received. status:",o.status,"response:",o.responseText);let l=null;if(o.status>=200&&o.status<300){try{l=ry(o.responseText)}catch{gs("Failed to parse JSON response for "+a+": "+o.responseText)}r(null,l)}else o.status!==401&&o.status!==404&&gs("Got unsuccessful REST response for "+a+" Status: "+o.status),r(o.status);r=null}},o.open("GET",a,!0),o.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dfe{constructor(){this.rootNode_=Kt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(){return{value:null,children:new Map}}function Um(t,e,n){if(fn(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=dn(e);t.children.has(r)||t.children.set(r,__());const i=t.children.get(r);e=tr(e),Um(i,e,n)}}function b4(t,e){if(fn(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;{const n=t.value;return t.value=null,n.forEachChild(sr,(r,i)=>{Um(t,new jn(r),i)}),b4(t,e)}}else if(t.children.size>0){const n=dn(e);return e=tr(e),t.children.has(n)&&b4(t.children.get(n),e)&&t.children.delete(n),t.children.size===0}else return!0}function w4(t,e,n){t.value!==null?n(e,t.value):ffe(t,(r,i)=>{const s=new jn(e.toString()+"/"+r);w4(i,s,n)})}function ffe(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hfe{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&Li(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WF=10*1e3,pfe=30*1e3,mfe=300*1e3;class gfe{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new hfe(e);const r=WF+(pfe-WF)*Math.random();U0(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Li(e,(i,s)=>{s>0&&Sa(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),U0(this.reportStats_.bind(this),Math.floor(Math.random()*2*mfe))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var No;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(No||(No={}));function wI(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function TI(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function EI(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=No.ACK_USER_WRITE,this.source=wI()}operationForChild(e){if(fn(this.path)){if(this.affectedTree.value!=null)return yt(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new jn(e));return new b_(kn(),n,this.revert)}}else return yt(dn(this.path)===e,"operationForChild called for unrelated child."),new b_(tr(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e,n){this.source=e,this.path=n,this.type=No.LISTEN_COMPLETE}operationForChild(e){return fn(this.path)?new ky(this.source,kn()):new ky(this.source,tr(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=No.OVERWRITE}operationForChild(e){return fn(this.path)?new Cf(this.source,kn(),this.snap.getImmediateChild(e)):new Cf(this.source,tr(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=No.MERGE}operationForChild(e){if(fn(this.path)){const n=this.children.subtree(new jn(e));return n.isEmpty()?null:n.value?new Cf(this.source,kn(),n.value):new lm(this.source,kn(),n)}else return yt(dn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new lm(this.source,tr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(fn(e))return this.isFullyInitialized()&&!this.filtered_;const n=dn(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yfe{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function vfe(t,e,n,r){const i=[],s=[];return e.forEach(a=>{a.type==="child_changed"&&t.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(ife(a.childName,a.snapshotNode))}),$g(t,i,"child_removed",e,r,n),$g(t,i,"child_added",e,r,n),$g(t,i,"child_moved",s,r,n),$g(t,i,"child_changed",e,r,n),$g(t,i,"value",e,r,n),i}function $g(t,e,n,r,i,s){const a=r.filter(o=>o.type===n);a.sort((o,l)=>_fe(t,o,l)),a.forEach(o=>{const l=xfe(t,o,s);i.forEach(c=>{c.respondsTo(o.type)&&e.push(c.createEvent(l,t.query_))})})}function xfe(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function _fe(t,e,n){if(e.childName==null||n.childName==null)throw wm("Should only compare child_ events.");const r=new yn(e.childName,e.snapshotNode),i=new yn(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(t,e){return{eventCache:t,serverCache:e}}function O0(t,e,n,r){return Xb(new Bu(e,n,r),t.serverCache)}function IH(t,e,n,r){return Xb(t.eventCache,new Bu(e,n,r))}function w_(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Sf(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lC;const bfe=()=>(lC||(lC=new Qs(rde)),lC);class rr{static fromObject(e){let n=new rr(null);return Li(e,(r,i)=>{n=n.set(new jn(r),i)}),n}constructor(e,n=bfe()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:kn(),value:this.value};if(fn(e))return null;{const r=dn(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(tr(e),n);return s!=null?{path:Cr(new jn(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(fn(e))return this;{const n=dn(e),r=this.children.get(n);return r!==null?r.subtree(tr(e)):new rr(null)}}set(e,n){if(fn(e))return new rr(n,this.children);{const r=dn(e),s=(this.children.get(r)||new rr(null)).set(tr(e),n),a=this.children.insert(r,s);return new rr(this.value,a)}}remove(e){if(fn(e))return this.children.isEmpty()?new rr(null):new rr(null,this.children);{const n=dn(e),r=this.children.get(n);if(r){const i=r.remove(tr(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new rr(null):new rr(this.value,s)}else return this}}get(e){if(fn(e))return this.value;{const n=dn(e),r=this.children.get(n);return r?r.get(tr(e)):null}}setTree(e,n){if(fn(e))return n;{const r=dn(e),s=(this.children.get(r)||new rr(null)).setTree(tr(e),n);let a;return s.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,s),new rr(this.value,a)}}fold(e){return this.fold_(kn(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Cr(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,kn(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(fn(e))return null;{const s=dn(e),a=this.children.get(s);return a?a.findOnPath_(tr(e),Cr(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,kn(),n)}foreachOnPath_(e,n,r){if(fn(e))return this;{this.value&&r(n,this.value);const i=dn(e),s=this.children.get(i);return s?s.foreachOnPath_(tr(e),Cr(n,i),r):new rr(null)}}foreach(e){this.foreach_(kn(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Cr(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.writeTree_=e}static empty(){return new Fo(new rr(null))}}function L0(t,e,n){if(fn(e))return new Fo(new rr(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const a=Is(i,e);return s=s.updateChild(a,n),new Fo(t.writeTree_.set(i,s))}else{const i=new rr(n),s=t.writeTree_.setTree(e,i);return new Fo(s)}}}function T4(t,e,n){let r=t;return Li(n,(i,s)=>{r=L0(r,Cr(e,i),s)}),r}function qF(t,e){if(fn(e))return Fo.empty();{const n=t.writeTree_.setTree(e,new rr(null));return new Fo(n)}}function E4(t,e){return Gf(t,e)!=null}function Gf(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Is(n.path,e)):null}function zF(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(sr,(r,i)=>{e.push(new yn(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new yn(r,i.value))}),e}function Eu(t,e){if(fn(e))return t;{const n=Gf(t,e);return n!=null?new Fo(new rr(n)):new Fo(t.writeTree_.subtree(e))}}function C4(t){return t.writeTree_.isEmpty()}function cm(t,e){return kH(kn(),t.writeTree_,e)}function kH(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(yt(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=kH(Cr(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Cr(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(t,e){return MH(e,t)}function wfe(t,e,n,r,i){yt(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=L0(t.visibleWrites,e,n)),t.lastWriteId=r}function Tfe(t,e,n,r){yt(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=T4(t.visibleWrites,e,n),t.lastWriteId=r}function Efe(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function Cfe(t,e){const n=t.allWrites.findIndex(o=>o.writeId===e);yt(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,a=t.allWrites.length-1;for(;i&&a>=0;){const o=t.allWrites[a];o.visible&&(a>=n&&Sfe(o,r.path)?i=!1:Ya(r.path,o.path)&&(s=!0)),a--}if(i){if(s)return Dfe(t),!0;if(r.snap)t.visibleWrites=qF(t.visibleWrites,r.path);else{const o=r.children;Li(o,l=>{t.visibleWrites=qF(t.visibleWrites,Cr(r.path,l))})}return!0}else return!1}function Sfe(t,e){if(t.snap)return Ya(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ya(Cr(t.path,n),e))return!0;return!1}function Dfe(t){t.visibleWrites=RH(t.allWrites,Afe,kn()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Afe(t){return t.visible}function RH(t,e,n){let r=Fo.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const a=s.path;let o;if(s.snap)Ya(n,a)?(o=Is(n,a),r=L0(r,o,s.snap)):Ya(a,n)&&(o=Is(a,n),r=L0(r,kn(),s.snap.getChild(o)));else if(s.children){if(Ya(n,a))o=Is(n,a),r=T4(r,o,s.children);else if(Ya(a,n))if(o=Is(a,n),fn(o))r=T4(r,kn(),s.children);else{const l=ff(s.children,dn(o));if(l){const c=l.getChild(tr(o));r=L0(r,kn(),c)}}}else throw wm("WriteRecord should have .snap or .children")}}return r}function PH(t,e,n,r,i){if(!r&&!i){const s=Gf(t.visibleWrites,e);if(s!=null)return s;{const a=Eu(t.visibleWrites,e);if(C4(a))return n;if(n==null&&!E4(a,kn()))return null;{const o=n||Kt.EMPTY_NODE;return cm(a,o)}}}else{const s=Eu(t.visibleWrites,e);if(!i&&C4(s))return n;if(!i&&n==null&&!E4(s,kn()))return null;{const a=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(Ya(c.path,e)||Ya(e,c.path))},o=RH(t.allWrites,a,e),l=n||Kt.EMPTY_NODE;return cm(o,l)}}}function Nfe(t,e,n){let r=Kt.EMPTY_NODE;const i=Gf(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(sr,(s,a)=>{r=r.updateImmediateChild(s,a)}),r;if(n){const s=Eu(t.visibleWrites,e);return n.forEachChild(sr,(a,o)=>{const l=cm(Eu(s,new jn(a)),o);r=r.updateImmediateChild(a,l)}),zF(s).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}else{const s=Eu(t.visibleWrites,e);return zF(s).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}}function Ife(t,e,n,r,i){yt(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Cr(e,n);if(E4(t.visibleWrites,s))return null;{const a=Eu(t.visibleWrites,s);return C4(a)?i.getChild(n):cm(a,i.getChild(n))}}function kfe(t,e,n,r){const i=Cr(e,n),s=Gf(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const a=Eu(t.visibleWrites,i);return cm(a,r.getNode().getImmediateChild(n))}else return null}function Rfe(t,e){return Gf(t.visibleWrites,e)}function Pfe(t,e,n,r,i,s,a){let o;const l=Eu(t.visibleWrites,e),c=Gf(l,kn());if(c!=null)o=c;else if(n!=null)o=cm(l,n);else return[];if(o=o.withIndex(a),!o.isEmpty()&&!o.isLeafNode()){const u=[],f=a.getCompare(),h=s?o.getReverseIteratorFrom(r,a):o.getIteratorFrom(r,a);let p=h.getNext();for(;p&&u.length<i;)f(p,r)!==0&&u.push(p),p=h.getNext();return u}else return[]}function Ffe(){return{visibleWrites:Fo.empty(),allWrites:[],lastWriteId:-1}}function T_(t,e,n,r){return PH(t.writeTree,t.treePath,e,n,r)}function CI(t,e){return Nfe(t.writeTree,t.treePath,e)}function HF(t,e,n,r){return Ife(t.writeTree,t.treePath,e,n,r)}function E_(t,e){return Rfe(t.writeTree,Cr(t.treePath,e))}function Mfe(t,e,n,r,i,s){return Pfe(t.writeTree,t.treePath,e,n,r,i,s)}function SI(t,e,n){return kfe(t.writeTree,t.treePath,e,n)}function FH(t,e){return MH(Cr(t.treePath,e),t.writeTree)}function MH(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ufe{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;yt(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),yt(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Ny(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Ay(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,om(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Ny(r,e.snapshotNode,i.oldSnap));else throw wm("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ofe{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const UH=new Ofe;class DI{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Bu(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return SI(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Sf(this.viewCache_),s=Mfe(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lfe(t){return{filter:t}}function jfe(t,e){yt(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),yt(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Bfe(t,e,n,r,i){const s=new Ufe;let a,o;if(n.type===No.OVERWRITE){const c=n;c.source.fromUser?a=S4(t,e,c.path,c.snap,r,i,s):(yt(c.source.fromServer,"Unknown source."),o=c.source.tagged||e.serverCache.isFiltered()&&!fn(c.path),a=C_(t,e,c.path,c.snap,r,i,o,s))}else if(n.type===No.MERGE){const c=n;c.source.fromUser?a=Wfe(t,e,c.path,c.children,r,i,s):(yt(c.source.fromServer,"Unknown source."),o=c.source.tagged||e.serverCache.isFiltered(),a=D4(t,e,c.path,c.children,r,i,o,s))}else if(n.type===No.ACK_USER_WRITE){const c=n;c.revert?a=Hfe(t,e,c.path,r,i,s):a=qfe(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===No.LISTEN_COMPLETE)a=zfe(t,e,n.path,r,s);else throw wm("Unknown operation type: "+n.type);const l=s.getChanges();return Vfe(e,a,l),{viewCache:a,changes:l}}function Vfe(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=w_(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(NH(w_(e)))}}function OH(t,e,n,r,i,s){const a=e.eventCache;if(E_(r,n)!=null)return e;{let o,l;if(fn(n))if(yt(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Sf(e),u=c instanceof Kt?c:Kt.EMPTY_NODE,f=CI(r,u);o=t.filter.updateFullNode(e.eventCache.getNode(),f,s)}else{const c=T_(r,Sf(e));o=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=dn(n);if(c===".priority"){yt(ju(n)===1,"Can't have a priority with additional path components");const u=a.getNode();l=e.serverCache.getNode();const f=HF(r,n,u,l);f!=null?o=t.filter.updatePriority(u,f):o=a.getNode()}else{const u=tr(n);let f;if(a.isCompleteForChild(c)){l=e.serverCache.getNode();const h=HF(r,n,a.getNode(),l);h!=null?f=a.getNode().getImmediateChild(c).updateChild(u,h):f=a.getNode().getImmediateChild(c)}else f=SI(r,c,e.serverCache);f!=null?o=t.filter.updateChild(a.getNode(),c,f,u,i,s):o=a.getNode()}}return O0(e,o,a.isFullyInitialized()||fn(n),t.filter.filtersNodes())}}function C_(t,e,n,r,i,s,a,o){const l=e.serverCache;let c;const u=a?t.filter:t.filter.getIndexedFilter();if(fn(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),p,null)}else{const p=dn(n);if(!l.isCompleteForPath(n)&&ju(n)>1)return e;const v=tr(n),y=l.getNode().getImmediateChild(p).updateChild(v,r);p===".priority"?c=u.updatePriority(l.getNode(),y):c=u.updateChild(l.getNode(),p,y,v,UH,null)}const f=IH(e,c,l.isFullyInitialized()||fn(n),u.filtersNodes()),h=new DI(i,f,s);return OH(t,f,n,i,h,o)}function S4(t,e,n,r,i,s,a){const o=e.eventCache;let l,c;const u=new DI(i,e,s);if(fn(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,a),l=O0(e,c,!0,t.filter.filtersNodes());else{const f=dn(n);if(f===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=O0(e,c,o.isFullyInitialized(),o.isFiltered());else{const h=tr(n),p=o.getNode().getImmediateChild(f);let v;if(fn(h))v=r;else{const g=u.getCompleteChild(f);g!=null?mI(h)===".priority"&&g.getChild(wH(h)).isEmpty()?v=g:v=g.updateChild(h,r):v=Kt.EMPTY_NODE}if(p.equals(v))l=e;else{const g=t.filter.updateChild(o.getNode(),f,v,h,u,a);l=O0(e,g,o.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function $F(t,e){return t.eventCache.isCompleteForChild(e)}function Wfe(t,e,n,r,i,s,a){let o=e;return r.foreach((l,c)=>{const u=Cr(n,l);$F(e,dn(u))&&(o=S4(t,o,u,c,i,s,a))}),r.foreach((l,c)=>{const u=Cr(n,l);$F(e,dn(u))||(o=S4(t,o,u,c,i,s,a))}),o}function GF(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function D4(t,e,n,r,i,s,a,o){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;fn(n)?c=r:c=new rr(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((f,h)=>{if(u.hasChild(f)){const p=e.serverCache.getNode().getImmediateChild(f),v=GF(t,p,h);l=C_(t,l,new jn(f),v,i,s,a,o)}}),c.children.inorderTraversal((f,h)=>{const p=!e.serverCache.isCompleteForChild(f)&&h.value===null;if(!u.hasChild(f)&&!p){const v=e.serverCache.getNode().getImmediateChild(f),g=GF(t,v,h);l=C_(t,l,new jn(f),g,i,s,a,o)}}),l}function qfe(t,e,n,r,i,s,a){if(E_(i,n)!=null)return e;const o=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(fn(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return C_(t,e,n,l.getNode().getChild(n),i,s,o,a);if(fn(n)){let c=new rr(null);return l.getNode().forEachChild(xl,(u,f)=>{c=c.set(new jn(u),f)}),D4(t,e,n,c,i,s,o,a)}else return e}else{let c=new rr(null);return r.foreach((u,f)=>{const h=Cr(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),D4(t,e,n,c,i,s,o,a)}}function zfe(t,e,n,r,i){const s=e.serverCache,a=IH(e,s.getNode(),s.isFullyInitialized()||fn(n),s.isFiltered());return OH(t,a,n,r,UH,i)}function Hfe(t,e,n,r,i,s){let a;if(E_(r,n)!=null)return e;{const o=new DI(r,e,i),l=e.eventCache.getNode();let c;if(fn(n)||dn(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=T_(r,Sf(e));else{const f=e.serverCache.getNode();yt(f instanceof Kt,"serverChildren would be complete if leaf node"),u=CI(r,f)}u=u,c=t.filter.updateFullNode(l,u,s)}else{const u=dn(n);let f=SI(r,u,e.serverCache);f==null&&e.serverCache.isCompleteForChild(u)&&(f=l.getImmediateChild(u)),f!=null?c=t.filter.updateChild(l,u,f,tr(n),o,s):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,Kt.EMPTY_NODE,tr(n),o,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=T_(r,Sf(e)),a.isLeafNode()&&(c=t.filter.updateFullNode(c,a,s)))}return a=e.serverCache.isFullyInitialized()||E_(r,kn())!=null,O0(e,c,a,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $fe{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new bI(r.getIndex()),s=afe(r);this.processor_=Lfe(s);const a=n.serverCache,o=n.eventCache,l=i.updateFullNode(Kt.EMPTY_NODE,a.getNode(),null),c=s.updateFullNode(Kt.EMPTY_NODE,o.getNode(),null),u=new Bu(l,a.isFullyInitialized(),i.filtersNodes()),f=new Bu(c,o.isFullyInitialized(),s.filtersNodes());this.viewCache_=Xb(f,u),this.eventGenerator_=new yfe(this.query_)}get query(){return this.query_}}function Gfe(t){return t.viewCache_.serverCache.getNode()}function Kfe(t){return w_(t.viewCache_)}function Xfe(t,e){const n=Sf(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!fn(e)&&!n.getImmediateChild(dn(e)).isEmpty())?n.getChild(e):null}function KF(t){return t.eventRegistrations_.length===0}function Jfe(t,e){t.eventRegistrations_.push(e)}function XF(t,e,n){const r=[];if(n){yt(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const a=s.createCancelEvent(n,i);a&&r.push(a)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const a=t.eventRegistrations_[s];if(!a.matches(e))i.push(a);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function JF(t,e,n,r){e.type===No.MERGE&&e.source.queryId!==null&&(yt(Sf(t.viewCache_),"We should always have a full cache before handling merges"),yt(w_(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=Bfe(t.processor_,i,e,n,r);return jfe(t.processor_,s.viewCache),yt(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,LH(t,s.changes,s.viewCache.eventCache.getNode(),null)}function Yfe(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(sr,(s,a)=>{r.push(om(s,a))}),n.isFullyInitialized()&&r.push(NH(n.getNode())),LH(t,r,n.getNode(),e)}function LH(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return vfe(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let S_;class jH{constructor(){this.views=new Map}}function Qfe(t){yt(!S_,"__referenceConstructor has already been defined"),S_=t}function Zfe(){return yt(S_,"Reference.ts has not been loaded"),S_}function ehe(t){return t.views.size===0}function AI(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return yt(s!=null,"SyncTree gave us an op for an invalid query."),JF(s,e,n,r)}else{let s=[];for(const a of t.views.values())s=s.concat(JF(a,e,n,r));return s}}function BH(t,e,n,r,i){const s=e._queryIdentifier,a=t.views.get(s);if(!a){let o=T_(n,i?r:null),l=!1;o?l=!0:r instanceof Kt?(o=CI(n,r),l=!1):(o=Kt.EMPTY_NODE,l=!1);const c=Xb(new Bu(o,l,!1),new Bu(r,i,!1));return new $fe(e,c)}return a}function the(t,e,n,r,i,s){const a=BH(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,a),Jfe(a,n),Yfe(a,n)}function nhe(t,e,n,r){const i=e._queryIdentifier,s=[];let a=[];const o=Vu(t);if(i==="default")for(const[l,c]of t.views.entries())a=a.concat(XF(c,n,r)),KF(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=t.views.get(i);l&&(a=a.concat(XF(l,n,r)),KF(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return o&&!Vu(t)&&s.push(new(Zfe())(e._repo,e._path)),{removed:s,events:a}}function VH(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Cu(t,e){let n=null;for(const r of t.views.values())n=n||Xfe(r,e);return n}function WH(t,e){if(e._queryParams.loadsAllData())return Yb(t);{const r=e._queryIdentifier;return t.views.get(r)}}function qH(t,e){return WH(t,e)!=null}function Vu(t){return Yb(t)!=null}function Yb(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let D_;function rhe(t){yt(!D_,"__referenceConstructor has already been defined"),D_=t}function ihe(){return yt(D_,"Reference.ts has not been loaded"),D_}let she=1;class YF{constructor(e){this.listenProvider_=e,this.syncPointTree_=new rr(null),this.pendingWriteTree_=Ffe(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function NI(t,e,n,r,i){return wfe(t.pendingWriteTree_,e,n,r,i),i?Om(t,new Cf(wI(),e,n)):[]}function ahe(t,e,n,r){Tfe(t.pendingWriteTree_,e,n,r);const i=rr.fromObject(n);return Om(t,new lm(wI(),e,i))}function hu(t,e,n=!1){const r=Efe(t.pendingWriteTree_,e);if(Cfe(t.pendingWriteTree_,e)){let s=new rr(null);return r.snap!=null?s=s.set(kn(),!0):Li(r.children,a=>{s=s.set(new jn(a),!0)}),Om(t,new b_(r.path,s,n))}else return[]}function kv(t,e,n){return Om(t,new Cf(TI(),e,n))}function ohe(t,e,n){const r=rr.fromObject(n);return Om(t,new lm(TI(),e,r))}function lhe(t,e){return Om(t,new ky(TI(),e))}function che(t,e,n){const r=II(t,n);if(r){const i=kI(r),s=i.path,a=i.queryId,o=Is(s,e),l=new ky(EI(a),o);return RI(t,s,l)}else return[]}function A_(t,e,n,r,i=!1){const s=e._path,a=t.syncPointTree_.get(s);let o=[];if(a&&(e._queryIdentifier==="default"||qH(a,e))){const l=nhe(a,e,n,r);ehe(a)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const c=l.removed;if(o=l.events,!i){const u=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,f=t.syncPointTree_.findOnPath(s,(h,p)=>Vu(p));if(u&&!f){const h=t.syncPointTree_.subtree(s);if(!h.isEmpty()){const p=fhe(h);for(let v=0;v<p.length;++v){const g=p[v],y=g.query,b=GH(t,g);t.listenProvider_.startListening(j0(y),Ry(t,y),b.hashFn,b.onComplete)}}}!f&&c.length>0&&!r&&(u?t.listenProvider_.stopListening(j0(e),null):c.forEach(h=>{const p=t.queryToTagMap.get(Zb(h));t.listenProvider_.stopListening(j0(h),p)}))}hhe(t,c)}return o}function zH(t,e,n,r){const i=II(t,r);if(i!=null){const s=kI(i),a=s.path,o=s.queryId,l=Is(a,e),c=new Cf(EI(o),l,n);return RI(t,a,c)}else return[]}function uhe(t,e,n,r){const i=II(t,r);if(i){const s=kI(i),a=s.path,o=s.queryId,l=Is(a,e),c=rr.fromObject(n),u=new lm(EI(o),l,c);return RI(t,a,u)}else return[]}function A4(t,e,n,r=!1){const i=e._path;let s=null,a=!1;t.syncPointTree_.foreachOnPath(i,(h,p)=>{const v=Is(h,i);s=s||Cu(p,v),a=a||Vu(p)});let o=t.syncPointTree_.get(i);o?(a=a||Vu(o),s=s||Cu(o,kn())):(o=new jH,t.syncPointTree_=t.syncPointTree_.set(i,o));let l;s!=null?l=!0:(l=!1,s=Kt.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((p,v)=>{const g=Cu(v,kn());g&&(s=s.updateImmediateChild(p,g))}));const c=qH(o,e);if(!c&&!e._queryParams.loadsAllData()){const h=Zb(e);yt(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const p=phe();t.queryToTagMap.set(h,p),t.tagToQueryMap.set(p,h)}const u=Jb(t.pendingWriteTree_,i);let f=the(o,e,n,u,s,l);if(!c&&!a&&!r){const h=WH(o,e);f=f.concat(mhe(t,e,h))}return f}function Qb(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(a,o)=>{const l=Is(a,e),c=Cu(o,l);if(c)return c});return PH(i,e,s,n,!0)}function dhe(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{const f=Is(c,n);r=r||Cu(u,f)});let i=t.syncPointTree_.get(n);i?r=r||Cu(i,kn()):(i=new jH,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,a=s?new Bu(r,!0,!1):null,o=Jb(t.pendingWriteTree_,e._path),l=BH(i,e,o,s?a.getNode():Kt.EMPTY_NODE,s);return Kfe(l)}function Om(t,e){return HH(e,t.syncPointTree_,null,Jb(t.pendingWriteTree_,kn()))}function HH(t,e,n,r){if(fn(t.path))return $H(t,e,n,r);{const i=e.get(kn());n==null&&i!=null&&(n=Cu(i,kn()));let s=[];const a=dn(t.path),o=t.operationForChild(a),l=e.children.get(a);if(l&&o){const c=n?n.getImmediateChild(a):null,u=FH(r,a);s=s.concat(HH(o,l,c,u))}return i&&(s=s.concat(AI(i,t,r,n))),s}}function $H(t,e,n,r){const i=e.get(kn());n==null&&i!=null&&(n=Cu(i,kn()));let s=[];return e.children.inorderTraversal((a,o)=>{const l=n?n.getImmediateChild(a):null,c=FH(r,a),u=t.operationForChild(a);u&&(s=s.concat($H(u,o,l,c)))}),i&&(s=s.concat(AI(i,t,r,n))),s}function GH(t,e){const n=e.query,r=Ry(t,n);return{hashFn:()=>(Gfe(e)||Kt.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?che(t,n._path,r):lhe(t,n._path);{const s=ade(i,n);return A_(t,n,null,s)}}}}function Ry(t,e){const n=Zb(e);return t.queryToTagMap.get(n)}function Zb(t){return t._path.toString()+"$"+t._queryIdentifier}function II(t,e){return t.tagToQueryMap.get(e)}function kI(t){const e=t.indexOf("$");return yt(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new jn(t.substr(0,e))}}function RI(t,e,n){const r=t.syncPointTree_.get(e);yt(r,"Missing sync point for query tag that we're tracking");const i=Jb(t.pendingWriteTree_,e);return AI(r,n,i,null)}function fhe(t){return t.fold((e,n,r)=>{if(n&&Vu(n))return[Yb(n)];{let i=[];return n&&(i=VH(n)),Li(r,(s,a)=>{i=i.concat(a)}),i}})}function j0(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(ihe())(t._repo,t._path):t}function hhe(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Zb(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function phe(){return she++}function mhe(t,e,n){const r=e._path,i=Ry(t,e),s=GH(t,n),a=t.listenProvider_.startListening(j0(e),i,s.hashFn,s.onComplete),o=t.syncPointTree_.subtree(r);if(i)yt(!Vu(o.value),"If we're adding a query, it shouldn't be shadowed");else{const l=o.fold((c,u,f)=>{if(!fn(c)&&u&&Vu(u))return[Yb(u).query];{let h=[];return u&&(h=h.concat(VH(u).map(p=>p.query))),Li(f,(p,v)=>{h=h.concat(v)}),h}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(j0(u),Ry(t,u))}}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new PI(n)}node(){return this.node_}}class FI{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Cr(this.path_,e);return new FI(this.syncTree_,n)}node(){return Qb(this.syncTree_,this.path_)}}const ghe=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},QF=function(t,e,n){if(!t||typeof t!="object")return t;if(yt(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return yhe(t[".sv"],e,n);if(typeof t[".sv"]=="object")return vhe(t[".sv"],e);yt(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},yhe=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:yt(!1,"Unexpected server value: "+t)}},vhe=function(t,e,n){t.hasOwnProperty("increment")||yt(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&yt(!1,"Unexpected increment value: "+r);const i=e.node();if(yt(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const a=i.getValue();return typeof a!="number"?r:a+r},KH=function(t,e,n,r){return UI(e,new FI(n,t),r)},MI=function(t,e,n){return UI(t,new PI(e),n)};function UI(t,e,n){const r=t.getPriority().val(),i=QF(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const a=t,o=QF(a.getValue(),e,n);return o!==a.getValue()||i!==a.getPriority().val()?new Ai(o,kr(i)):t}else{const a=t;return s=a,i!==a.getPriority().val()&&(s=s.updatePriority(new Ai(i))),a.forEachChild(sr,(o,l)=>{const c=UI(l,e.getImmediateChild(o),n);c!==l&&(s=s.updateImmediateChild(o,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function ew(t,e){let n=e instanceof jn?e:new jn(e),r=t,i=dn(n);for(;i!==null;){const s=ff(r.node.children,i)||{children:{},childCount:0};r=new OI(i,r,s),n=tr(n),i=dn(n)}return r}function Kf(t){return t.node.value}function LI(t,e){t.node.value=e,N4(t)}function XH(t){return t.node.childCount>0}function xhe(t){return Kf(t)===void 0&&!XH(t)}function tw(t,e){Li(t.node.children,(n,r)=>{e(new OI(n,t,r))})}function JH(t,e,n,r){n&&e(t),tw(t,i=>{JH(i,e,!0)})}function _he(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Rv(t){return new jn(t.parent===null?t.name:Rv(t.parent)+"/"+t.name)}function N4(t){t.parent!==null&&bhe(t.parent,t.name,t)}function bhe(t,e,n){const r=xhe(n),i=Sa(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,N4(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,N4(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const whe=/[\[\].#$\/\u0000-\u001F\u007F]/,The=/[\[\].#$\u0000-\u001F\u007F]/,cC=10*1024*1024,nw=function(t){return typeof t=="string"&&t.length!==0&&!whe.test(t)},YH=function(t){return typeof t=="string"&&t.length!==0&&!The.test(t)},Ehe=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),YH(t)},Py=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Hb(t)||t&&typeof t=="object"&&Sa(t,".sv")},Cl=function(t,e,n,r){r&&e===void 0||Pv(Zs(t,"value"),e,n)},Pv=function(t,e,n){const r=n instanceof jn?new Bde(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+jd(r));if(typeof e=="function")throw new Error(t+"contains a function "+jd(r)+" with contents = "+e.toString());if(Hb(e))throw new Error(t+"contains "+e.toString()+" "+jd(r));if(typeof e=="string"&&e.length>cC/3&&ub(e)>cC)throw new Error(t+"contains a string greater than "+cC+" utf8 bytes "+jd(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Li(e,(a,o)=>{if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!nw(a)))throw new Error(t+" contains an invalid key ("+a+") "+jd(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Vde(r,a),Pv(t,o,r),Wde(r)}),i&&s)throw new Error(t+' contains ".value" child '+jd(r)+" in addition to actual children.")}},Che=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=Dy(r);for(let a=0;a<s.length;a++)if(!(s[a]===".priority"&&a===s.length-1)){if(!nw(s[a]))throw new Error(t+"contains an invalid key ("+s[a]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(jde);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&Ya(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},QH=function(t,e,n,r){const i=Zs(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];Li(e,(a,o)=>{const l=new jn(a);if(Pv(i,o,Cr(n,l)),mI(l)===".priority"&&!Py(o))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),Che(i,s)},jI=function(t,e,n){if(Hb(e))throw new Error(Zs(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Py(e))throw new Error(Zs(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")},Fv=function(t,e,n,r){if(n!==void 0&&!nw(n))throw new Error(Zs(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Fy=function(t,e,n,r){if(!YH(n))throw new Error(Zs(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},She=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Fy(t,e,n)},Qa=function(t,e){if(dn(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},ZH=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!nw(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Ehe(n))throw new Error(Zs(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dhe{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function rw(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!gI(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function e$(t,e,n){rw(t,n),t$(t,r=>gI(r,e))}function Aa(t,e,n){rw(t,n),t$(t,r=>Ya(r,e)||Ya(e,r))}function t$(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(Ahe(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Ahe(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();sf&&Fi("event: "+n.toString()),Mm(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n$="repo_interrupt",Nhe=25;class Ihe{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Dhe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=__(),this.transactionQueueTree_=new OI,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function khe(t,e,n){if(t.stats_=hI(t.repoInfo_),t.forceRestClient_||ude())t.server_=new x_(t.repoInfo_,(r,i,s,a)=>{ZF(t,r,i,s,a)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>eM(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{mi(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new tc(t.repoInfo_,e,(r,i,s,a)=>{ZF(t,r,i,s,a)},r=>{eM(t,r)},r=>{Rhe(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=mde(t.repoInfo_,()=>new gfe(t.stats_,t.server_)),t.infoData_=new dfe,t.infoSyncTree_=new YF({startListening:(r,i,s,a)=>{let o=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(o=kv(t.infoSyncTree_,r._path,l),setTimeout(()=>{a("ok")},0)),o},stopListening:()=>{}}),BI(t,"connected",!1),t.serverSyncTree_=new YF({startListening:(r,i,s,a)=>(t.server_.listen(r,s,i,(o,l)=>{const c=a(o,l);Aa(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function r$(t){const n=t.infoData_.getNode(new jn(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Mv(t){return ghe({timestamp:r$(t)})}function ZF(t,e,n,r,i){t.dataUpdateCount++;const s=new jn(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let a=[];if(i)if(r){const l=H2(n,c=>kr(c));a=uhe(t.serverSyncTree_,s,l,i)}else{const l=kr(n);a=zH(t.serverSyncTree_,s,l,i)}else if(r){const l=H2(n,c=>kr(c));a=ohe(t.serverSyncTree_,s,l)}else{const l=kr(n);a=kv(t.serverSyncTree_,s,l)}let o=s;a.length>0&&(o=um(t,s)),Aa(t.eventQueue_,o,a)}function eM(t,e){BI(t,"connected",e),e===!1&&Mhe(t)}function Rhe(t,e){Li(e,(n,r)=>{BI(t,n,r)})}function BI(t,e,n){const r=new jn("/.info/"+e),i=kr(n);t.infoData_.updateSnapshot(r,i);const s=kv(t.infoSyncTree_,r,i);Aa(t.eventQueue_,r,s)}function iw(t){return t.nextWriteId_++}function Phe(t,e,n){const r=dhe(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=kr(i).withIndex(e._queryParams.getIndex());A4(t.serverSyncTree_,e,n,!0);let a;if(e._queryParams.loadsAllData())a=kv(t.serverSyncTree_,e._path,s);else{const o=Ry(t.serverSyncTree_,e);a=zH(t.serverSyncTree_,e._path,s,o)}return Aa(t.eventQueue_,e._path,a),A_(t.serverSyncTree_,e,n,null,!0),s},i=>(Lm(t,"get for query "+mi(e)+" failed: "+i),Promise.reject(new Error(i))))}function VI(t,e,n,r,i){Lm(t,"set",{path:e.toString(),value:n,priority:r});const s=Mv(t),a=kr(n,r),o=Qb(t.serverSyncTree_,e),l=MI(a,o,s),c=iw(t),u=NI(t.serverSyncTree_,e,l,c,!0);rw(t.eventQueue_,u),t.server_.put(e.toString(),a.val(!0),(h,p)=>{const v=h==="ok";v||gs("set at "+e+" failed: "+h);const g=hu(t.serverSyncTree_,c,!v);Aa(t.eventQueue_,e,g),Wu(t,i,h,p)});const f=qI(t,e);um(t,f),Aa(t.eventQueue_,f,[])}function Fhe(t,e,n,r){Lm(t,"update",{path:e.toString(),value:n});let i=!0;const s=Mv(t),a={};if(Li(n,(o,l)=>{i=!1,a[o]=KH(Cr(e,o),kr(l),t.serverSyncTree_,s)}),i)Fi("update() called with empty data.  Don't do anything."),Wu(t,r,"ok",void 0);else{const o=iw(t),l=ahe(t.serverSyncTree_,e,a,o);rw(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,u)=>{const f=c==="ok";f||gs("update at "+e+" failed: "+c);const h=hu(t.serverSyncTree_,o,!f),p=h.length>0?um(t,e):e;Aa(t.eventQueue_,p,h),Wu(t,r,c,u)}),Li(n,c=>{const u=qI(t,Cr(e,c));um(t,u)}),Aa(t.eventQueue_,e,[])}}function Mhe(t){Lm(t,"onDisconnectEvents");const e=Mv(t),n=__();w4(t.onDisconnect_,kn(),(i,s)=>{const a=KH(i,s,t.serverSyncTree_,e);Um(n,i,a)});let r=[];w4(n,kn(),(i,s)=>{r=r.concat(kv(t.serverSyncTree_,i,s));const a=qI(t,i);um(t,a)}),t.onDisconnect_=__(),Aa(t.eventQueue_,kn(),r)}function Uhe(t,e,n){t.server_.onDisconnectCancel(e.toString(),(r,i)=>{r==="ok"&&b4(t.onDisconnect_,e),Wu(t,n,r,i)})}function tM(t,e,n,r){const i=kr(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(s,a)=>{s==="ok"&&Um(t.onDisconnect_,e,i),Wu(t,r,s,a)})}function Ohe(t,e,n,r,i){const s=kr(n,r);t.server_.onDisconnectPut(e.toString(),s.val(!0),(a,o)=>{a==="ok"&&Um(t.onDisconnect_,e,s),Wu(t,i,a,o)})}function Lhe(t,e,n,r){if(z2(n)){Fi("onDisconnect().update() called with empty data.  Don't do anything."),Wu(t,r,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,(i,s)=>{i==="ok"&&Li(n,(a,o)=>{const l=kr(o);Um(t.onDisconnect_,Cr(e,a),l)}),Wu(t,r,i,s)})}function jhe(t,e,n){let r;dn(e._path)===".info"?r=A4(t.infoSyncTree_,e,n):r=A4(t.serverSyncTree_,e,n),e$(t.eventQueue_,e._path,r)}function I4(t,e,n){let r;dn(e._path)===".info"?r=A_(t.infoSyncTree_,e,n):r=A_(t.serverSyncTree_,e,n),e$(t.eventQueue_,e._path,r)}function i$(t){t.persistentConnection_&&t.persistentConnection_.interrupt(n$)}function Bhe(t){t.persistentConnection_&&t.persistentConnection_.resume(n$)}function Lm(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Fi(n,...e)}function Wu(t,e,n,r){e&&Mm(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const a=new Error(s);a.code=i,e(a)}})}function Vhe(t,e,n,r,i,s){Lm(t,"transaction on "+e);const a={path:e,update:n,onComplete:r,status:null,order:Zz(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},o=WI(t,e,void 0);a.currentInputSnapshot=o;const l=a.update(o.val());if(l===void 0)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{Pv("transaction failed: Data returned ",l,a.path),a.status=0;const c=ew(t.transactionQueueTree_,e),u=Kf(c)||[];u.push(a),LI(c,u);let f;typeof l=="object"&&l!==null&&Sa(l,".priority")?(f=ff(l,".priority"),yt(Py(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(Qb(t.serverSyncTree_,e)||Kt.EMPTY_NODE).getPriority().val();const h=Mv(t),p=kr(l,f),v=MI(p,o,h);a.currentOutputSnapshotRaw=p,a.currentOutputSnapshotResolved=v,a.currentWriteId=iw(t);const g=NI(t.serverSyncTree_,e,v,a.currentWriteId,a.applyLocally);Aa(t.eventQueue_,e,g),sw(t,t.transactionQueueTree_)}}function WI(t,e,n){return Qb(t.serverSyncTree_,e,n)||Kt.EMPTY_NODE}function sw(t,e=t.transactionQueueTree_){if(e||aw(t,e),Kf(e)){const n=a$(t,e);yt(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&Whe(t,Rv(e),n)}else XH(e)&&tw(e,n=>{sw(t,n)})}function Whe(t,e,n){const r=n.map(c=>c.currentWriteId),i=WI(t,e,r);let s=i;const a=i.hash();for(let c=0;c<n.length;c++){const u=n[c];yt(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const f=Is(e,u.path);s=s.updateChild(f,u.currentOutputSnapshotRaw)}const o=s.val(!0),l=e;t.server_.put(l.toString(),o,c=>{Lm(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const f=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(hu(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&f.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();aw(t,ew(t.transactionQueueTree_,e)),sw(t,t.transactionQueueTree_),Aa(t.eventQueue_,e,u);for(let h=0;h<f.length;h++)Mm(f[h])}else{if(c==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{gs("transaction at "+l.toString()+" failed: "+c);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=c}um(t,e)}},a)}function um(t,e){const n=s$(t,e),r=Rv(n),i=a$(t,n);return qhe(t,i,r),r}function qhe(t,e,n){if(e.length===0)return;const r=[];let i=[];const a=e.filter(o=>o.status===0).map(o=>o.currentWriteId);for(let o=0;o<e.length;o++){const l=e[o],c=Is(n,l.path);let u=!1,f;if(yt(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,f=l.abortReason,i=i.concat(hu(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Nhe)u=!0,f="maxretry",i=i.concat(hu(t.serverSyncTree_,l.currentWriteId,!0));else{const h=WI(t,l.path,a);l.currentInputSnapshot=h;const p=e[o].update(h.val());if(p!==void 0){Pv("transaction failed: Data returned ",p,l.path);let v=kr(p);typeof p=="object"&&p!=null&&Sa(p,".priority")||(v=v.updatePriority(h.getPriority()));const y=l.currentWriteId,b=Mv(t),_=MI(v,h,b);l.currentOutputSnapshotRaw=v,l.currentOutputSnapshotResolved=_,l.currentWriteId=iw(t),a.splice(a.indexOf(y),1),i=i.concat(NI(t.serverSyncTree_,l.path,_,l.currentWriteId,l.applyLocally)),i=i.concat(hu(t.serverSyncTree_,y,!0))}else u=!0,f="nodata",i=i.concat(hu(t.serverSyncTree_,l.currentWriteId,!0))}Aa(t.eventQueue_,n,i),i=[],u&&(e[o].status=2,(function(h){setTimeout(h,Math.floor(0))})(e[o].unwatcher),e[o].onComplete&&(f==="nodata"?r.push(()=>e[o].onComplete(null,!1,e[o].currentInputSnapshot)):r.push(()=>e[o].onComplete(new Error(f),!1,null))))}aw(t,t.transactionQueueTree_);for(let o=0;o<r.length;o++)Mm(r[o]);sw(t,t.transactionQueueTree_)}function s$(t,e){let n,r=t.transactionQueueTree_;for(n=dn(e);n!==null&&Kf(r)===void 0;)r=ew(r,n),e=tr(e),n=dn(e);return r}function a$(t,e){const n=[];return o$(t,e,n),n.sort((r,i)=>r.order-i.order),n}function o$(t,e,n){const r=Kf(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);tw(e,i=>{o$(t,i,n)})}function aw(t,e){const n=Kf(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,LI(e,n.length>0?n:void 0)}tw(e,r=>{aw(t,r)})}function qI(t,e){const n=Rv(s$(t,e)),r=ew(t.transactionQueueTree_,e);return _he(r,i=>{uC(t,i)}),uC(t,r),JH(r,i=>{uC(t,i)}),n}function uC(t,e){const n=Kf(e);if(n){const r=[];let i=[],s=-1;for(let a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(yt(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):(yt(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(hu(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));s===-1?LI(e,void 0):n.length=s+1,Aa(t.eventQueue_,Rv(e),i);for(let a=0;a<r.length;a++)Mm(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zhe(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Hhe(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):gs(`Invalid query segment '${n}' in query '${t}'`)}return e}const k4=function(t,e){const n=$he(t),r=n.namespace;n.domain==="firebase.com"&&El(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&El("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||tde();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new hH(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new jn(n.pathString)}},$he=function(t){let e="",n="",r="",i="",s="",a=!0,o="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(o=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(u,f)),u<f&&(i=zhe(t.substring(u,f)));const h=Hhe(t.substring(Math.min(t.length,f)));c=e.indexOf(":"),c>=0?(a=o==="https"||o==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:a,scheme:o,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Ghe=(function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=nM.charAt(n%64),n=Math.floor(n/64);yt(n===0,"Cannot push at time == 0");let a=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)a+=nM.charAt(e[i]);return yt(a.length===20,"nextPushId: Length should be 20."),a}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l${constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+mi(this.snapshot.exportVal())}}class c${constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return yt(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Khe=class{constructor(e,n){this._repo=e,this._path=n}cancel(){const e=new Ks;return Uhe(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Qa("OnDisconnect.remove",this._path);const e=new Ks;return tM(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Qa("OnDisconnect.set",this._path),Cl("OnDisconnect.set",e,this._path,!1);const n=new Ks;return tM(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){Qa("OnDisconnect.setWithPriority",this._path),Cl("OnDisconnect.setWithPriority",e,this._path,!1),jI("OnDisconnect.setWithPriority",n);const r=new Ks;return Ohe(this._repo,this._path,e,n,r.wrapCallback(()=>{})),r.promise}update(e){Qa("OnDisconnect.update",this._path),QH("OnDisconnect.update",e,this._path);const n=new Ks;return Lhe(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return fn(this._path)?null:mI(this._path)}get ref(){return new oo(this._repo,this._path)}get _queryIdentifier(){const e=VF(this._queryParams),n=dI(e);return n==="{}"?"default":n}get _queryObject(){return VF(this._queryParams)}isEqual(e){if(e=kt(e),!(e instanceof sa))return!1;const n=this._repo===e._repo,r=gI(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Lde(this._path)}}function ow(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function td(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===xl){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Lu)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==pc)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===sr){if(e!=null&&!Py(e)||n!=null&&!Py(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(yt(t.getIndex()instanceof xI||t.getIndex()===_I,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function lw(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class oo extends sa{constructor(e,n){super(e,n,new Gb,!1)}get parent(){const e=wH(this._path);return e===null?null:new oo(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}let cw=class R4{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new jn(e),r=Df(this.ref,e);return new R4(this._node.getChild(n),r,sr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new R4(i,Df(this.ref,r),sr)))}hasChild(e){const n=new jn(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function u$(t,e){return t=kt(t),t._checkNotDeleted("ref"),e!==void 0?Df(t._root,e):t._root}function rM(t,e){t=kt(t),t._checkNotDeleted("refFromURL");const n=k4(e,t._repo.repoInfo_.nodeAdmin);ZH("refFromURL",n);const r=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&r.host!==t._repo.repoInfo_.host&&El("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),u$(t,n.path.toString())}function Df(t,e){return t=kt(t),dn(t._path)===null?She("child","path",e):Fy("child","path",e),new oo(t._repo,Cr(t._path,e))}function Xhe(t,e){t=kt(t),Qa("push",t._path),Cl("push",e,t._path,!0);const n=r$(t._repo),r=Ghe(n),i=Df(t,r),s=Df(t,r);let a;return e!=null?a=HI(s,e).then(()=>s):a=Promise.resolve(s),i.then=a.then.bind(a),i.catch=a.then.bind(a,void 0),i}function Jhe(t){return Qa("remove",t._path),HI(t,null)}function HI(t,e){t=kt(t),Qa("set",t._path),Cl("set",e,t._path,!1);const n=new Ks;return VI(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Yhe(t,e){t=kt(t),Qa("setPriority",t._path),jI("setPriority",e);const n=new Ks;return VI(t._repo,Cr(t._path,".priority"),e,null,n.wrapCallback(()=>{})),n.promise}function Qhe(t,e,n){if(Qa("setWithPriority",t._path),Cl("setWithPriority",e,t._path,!1),jI("setWithPriority",n),t.key===".length"||t.key===".keys")throw"setWithPriority failed: "+t.key+" is a read-only object.";const r=new Ks;return VI(t._repo,t._path,e,n,r.wrapCallback(()=>{})),r.promise}function Zhe(t,e){QH("update",e,t._path);const n=new Ks;return Fhe(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function epe(t){t=kt(t);const e=new zI(()=>{}),n=new Uv(e);return Phe(t._repo,t,n).then(r=>new cw(r,new oo(t._repo,t._path),t._queryParams.getIndex()))}class Uv{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new l$("value",this,new cw(e.snapshotNode,new oo(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new c$(this,e,n):null}matches(e){return e instanceof Uv?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class uw{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new c$(this,e,n):null}createEvent(e,n){yt(e.childName!=null,"Child events should have a childName.");const r=Df(new oo(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new l$(e.type,this,new cw(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof uw?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function Ov(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const l=n,c=(u,f)=>{I4(t._repo,t,o),l(u,f)};c.userCallback=n.userCallback,c.context=n.context,n=c}const a=new zI(n,s||void 0),o=e==="value"?new Uv(a):new uw(e,a);return jhe(t._repo,t,o),()=>I4(t._repo,t,o)}function P4(t,e,n,r){return Ov(t,"value",e,n,r)}function iM(t,e,n,r){return Ov(t,"child_added",e,n,r)}function sM(t,e,n,r){return Ov(t,"child_changed",e,n,r)}function aM(t,e,n,r){return Ov(t,"child_moved",e,n,r)}function oM(t,e,n,r){return Ov(t,"child_removed",e,n,r)}function lM(t,e,n){let r=null;const i=n?new zI(n):null;e==="value"?r=new Uv(i):e&&(r=new uw(e,i)),I4(t._repo,t,r)}class Bo{}class d$ extends Bo{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){Cl("endAt",this._value,e._path,!0);const n=_4(e._queryParams,this._value,this._key);if(lw(n),td(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new sa(e._repo,e._path,n,e._orderByCalled)}}function tpe(t,e){return Fv("endAt","key",e),new d$(t,e)}class npe extends Bo{constructor(e,n){super(),this._value=e,this._key=n,this.type="endBefore"}_apply(e){Cl("endBefore",this._value,e._path,!1);const n=ufe(e._queryParams,this._value,this._key);if(lw(n),td(n),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new sa(e._repo,e._path,n,e._orderByCalled)}}function rpe(t,e){return Fv("endBefore","key",e),new npe(t,e)}class f$ extends Bo{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){Cl("startAt",this._value,e._path,!0);const n=x4(e._queryParams,this._value,this._key);if(lw(n),td(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new sa(e._repo,e._path,n,e._orderByCalled)}}function ipe(t=null,e){return Fv("startAt","key",e),new f$(t,e)}class spe extends Bo{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAfter"}_apply(e){Cl("startAfter",this._value,e._path,!1);const n=cfe(e._queryParams,this._value,this._key);if(lw(n),td(n),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new sa(e._repo,e._path,n,e._orderByCalled)}}function ape(t,e){return Fv("startAfter","key",e),new spe(t,e)}class ope extends Bo{constructor(e){super(),this._limit=e,this.type="limitToFirst"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new sa(e._repo,e._path,ofe(e._queryParams,this._limit),e._orderByCalled)}}function lpe(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new ope(t)}class cpe extends Bo{constructor(e){super(),this._limit=e,this.type="limitToLast"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new sa(e._repo,e._path,lfe(e._queryParams,this._limit),e._orderByCalled)}}function upe(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new cpe(t)}class dpe extends Bo{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){ow(e,"orderByChild");const n=new jn(this._path);if(fn(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new xI(n),i=Kb(e._queryParams,r);return td(i),new sa(e._repo,e._path,i,!0)}}function fpe(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Fy("orderByChild","path",t),new dpe(t)}class hpe extends Bo{constructor(){super(...arguments),this.type="orderByKey"}_apply(e){ow(e,"orderByKey");const n=Kb(e._queryParams,xl);return td(n),new sa(e._repo,e._path,n,!0)}}function ppe(){return new hpe}class mpe extends Bo{constructor(){super(...arguments),this.type="orderByPriority"}_apply(e){ow(e,"orderByPriority");const n=Kb(e._queryParams,sr);return td(n),new sa(e._repo,e._path,n,!0)}}function gpe(){return new mpe}class ype extends Bo{constructor(){super(...arguments),this.type="orderByValue"}_apply(e){ow(e,"orderByValue");const n=Kb(e._queryParams,_I);return td(n),new sa(e._repo,e._path,n,!0)}}function vpe(){return new ype}class xpe extends Bo{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if(Cl("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new d$(this._value,this._key)._apply(new f$(this._value,this._key)._apply(e))}}function _pe(t,e){return Fv("equalTo","key",e),new xpe(t,e)}function wo(t,...e){let n=kt(t);for(const r of e)n=r._apply(n);return n}Qfe(oo);rhe(oo);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bpe="FIREBASE_DATABASE_EMULATOR_HOST",F4={};let wpe=!1;function Tpe(t,e,n,r){const i=e.lastIndexOf(":"),s=e.substring(0,i),a=Dl(s);t.repoInfo_=new hH(e,a,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function h$(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||El("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Fi("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let a=k4(s,i),o=a.repoInfo,l,c;typeof process<"u"&&TF&&(c=TF[bpe]),c?(l=!0,s=`http://${c}?ns=${o.namespace}`,a=k4(s,i),o=a.repoInfo):l=!a.repoInfo.secure;const u=i&&l?new Sp(Sp.OWNER):new fde(t.name,t.options,e);ZH("Invalid Firebase Database URL",a),fn(a.path)||El("Database URL must point to the root of a Firebase Database (not including a child path).");const f=Cpe(o,t,u,new dde(t,n));return new Spe(f,t)}function Epe(t,e){const n=F4[e];(!n||n[t.key]!==t)&&El(`Database ${e}(${t.repoInfo_}) has already been deleted.`),i$(t),delete n[t.key]}function Cpe(t,e,n,r){let i=F4[e.name];i||(i={},F4[e.name]=i);let s=i[t.toURLString()];return s&&El("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Ihe(t,wpe,n,r),i[t.toURLString()]=s,s}let Spe=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(khe(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new oo(this._repo,kn())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Epe(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&El("Cannot call "+e+" on a deleted database.")}};function p$(){am.IS_TRANSPORT_INITIALIZED&&gs("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Dpe(){p$(),fu.forceDisallow()}function Ape(){p$(),Xa.forceDisallow(),fu.forceAllow()}function Npe(t,e,n,r={}){t=kt(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,s=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&cc(r,s.repoInfo_.emulatorOptions))return;El("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let a;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&El('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new Sp(Sp.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:DN(r.mockUserToken,t.app.options.projectId);a=new Sp(o)}Dl(e)&&(ab(e),ob("Database",!0)),Tpe(s,i,r,a)}function Ipe(t){t=kt(t),t._checkNotDeleted("goOffline"),i$(t._repo)}function kpe(t){t=kt(t),t._checkNotDeleted("goOnline"),Bhe(t._repo)}function Rpe(t,e){tH(t,e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ppe(t){Yz(Al),_l(new Ms("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return h$(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),ks(EF,CF,t),ks(EF,CF,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fpe={".sv":"timestamp"};function Mpe(){return Fpe}function Upe(t){return{".sv":{increment:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ope=class{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function Lpe(t,e,n){if(t=kt(t),Qa("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";const r=(n==null?void 0:n.applyLocally)??!0,i=new Ks,s=(o,l,c)=>{let u=null;o?i.reject(o):(u=new cw(c,new oo(t._repo,t._path),sr),i.resolve(new Ope(l,u)))},a=P4(t,()=>{});return Vhe(t._repo,t._path,e,s,a,r),i.promise}tc.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};tc.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Ppe();const jpe="@firebase/database-compat",Bpe="2.1.0";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vpe=new Tm("@firebase/database-compat"),m$=function(t){const e="FIREBASE WARNING: "+t;Vpe.warn(e)};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wpe=function(t,e,n,r){if(n!==void 0&&typeof n!="boolean")throw new Error(Zs(t,e)+"must be a boolean.")},qpe=function(t,e,n){if(e!==void 0)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Zs(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zpe{constructor(e){this._delegate=e}cancel(e){Xt("OnDisconnect.cancel",0,1,arguments.length),ki("OnDisconnect.cancel","onComplete",e,!0);const n=this._delegate.cancel();return e&&n.then(()=>e(null),r=>e(r)),n}remove(e){Xt("OnDisconnect.remove",0,1,arguments.length),ki("OnDisconnect.remove","onComplete",e,!0);const n=this._delegate.remove();return e&&n.then(()=>e(null),r=>e(r)),n}set(e,n){Xt("OnDisconnect.set",1,2,arguments.length),ki("OnDisconnect.set","onComplete",n,!0);const r=this._delegate.set(e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){Xt("OnDisconnect.setWithPriority",2,3,arguments.length),ki("OnDisconnect.setWithPriority","onComplete",r,!0);const i=this._delegate.setWithPriority(e,n);return r&&i.then(()=>r(null),s=>r(s)),i}update(e,n){if(Xt("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,m$("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ki("OnDisconnect.update","onComplete",n,!0);const r=this._delegate.update(e);return n&&r.then(()=>n(null),i=>n(i)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hpe{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return Xt("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,n){this._database=e,this._delegate=n}val(){return Xt("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return Xt("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return Xt("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return Xt("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return Xt("DataSnapshot.child",0,1,arguments.length),e=String(e),Fy("DataSnapshot.child","path",e),new Su(this._database,this._delegate.child(e))}hasChild(e){return Xt("DataSnapshot.hasChild",1,1,arguments.length),Fy("DataSnapshot.hasChild","path",e),this._delegate.hasChild(e)}getPriority(){return Xt("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return Xt("DataSnapshot.forEach",1,1,arguments.length),ki("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(n=>e(new Su(this._database,n)))}hasChildren(){return Xt("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return Xt("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return Xt("DataSnapshot.ref",0,0,arguments.length),new Qd(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Hi{constructor(e,n){this.database=e,this._delegate=n}on(e,n,r,i){var l;Xt("Query.on",2,4,arguments.length),ki("Query.on","callback",n,!1);const s=Hi.getCancelAndContextArgs_("Query.on",r,i),a=(c,u)=>{n.call(s.context,new Su(this.database,c),u)};a.userCallback=n,a.context=s.context;const o=(l=s.cancel)==null?void 0:l.bind(s.context);switch(e){case"value":return P4(this._delegate,a,o),n;case"child_added":return iM(this._delegate,a,o),n;case"child_removed":return oM(this._delegate,a,o),n;case"child_changed":return sM(this._delegate,a,o),n;case"child_moved":return aM(this._delegate,a,o),n;default:throw new Error(Zs("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,n,r){if(Xt("Query.off",0,3,arguments.length),qpe("Query.off",e),ki("Query.off","callback",n,!0),yP("Query.off","context",r),n){const i=()=>{};i.userCallback=n,i.context=r,lM(this._delegate,e,i)}else lM(this._delegate,e)}get(){return epe(this._delegate).then(e=>new Su(this.database,e))}once(e,n,r,i){Xt("Query.once",1,4,arguments.length),ki("Query.once","callback",n,!0);const s=Hi.getCancelAndContextArgs_("Query.once",r,i),a=new Ks,o=(c,u)=>{const f=new Su(this.database,c);n&&n.call(s.context,f,u),a.resolve(f)};o.userCallback=n,o.context=s.context;const l=c=>{s.cancel&&s.cancel.call(s.context,c),a.reject(c)};switch(e){case"value":P4(this._delegate,o,l,{onlyOnce:!0});break;case"child_added":iM(this._delegate,o,l,{onlyOnce:!0});break;case"child_removed":oM(this._delegate,o,l,{onlyOnce:!0});break;case"child_changed":sM(this._delegate,o,l,{onlyOnce:!0});break;case"child_moved":aM(this._delegate,o,l,{onlyOnce:!0});break;default:throw new Error(Zs("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return a.promise}limitToFirst(e){return Xt("Query.limitToFirst",1,1,arguments.length),new Hi(this.database,wo(this._delegate,lpe(e)))}limitToLast(e){return Xt("Query.limitToLast",1,1,arguments.length),new Hi(this.database,wo(this._delegate,upe(e)))}orderByChild(e){return Xt("Query.orderByChild",1,1,arguments.length),new Hi(this.database,wo(this._delegate,fpe(e)))}orderByKey(){return Xt("Query.orderByKey",0,0,arguments.length),new Hi(this.database,wo(this._delegate,ppe()))}orderByPriority(){return Xt("Query.orderByPriority",0,0,arguments.length),new Hi(this.database,wo(this._delegate,gpe()))}orderByValue(){return Xt("Query.orderByValue",0,0,arguments.length),new Hi(this.database,wo(this._delegate,vpe()))}startAt(e=null,n){return Xt("Query.startAt",0,2,arguments.length),new Hi(this.database,wo(this._delegate,ipe(e,n)))}startAfter(e=null,n){return Xt("Query.startAfter",0,2,arguments.length),new Hi(this.database,wo(this._delegate,ape(e,n)))}endAt(e=null,n){return Xt("Query.endAt",0,2,arguments.length),new Hi(this.database,wo(this._delegate,tpe(e,n)))}endBefore(e=null,n){return Xt("Query.endBefore",0,2,arguments.length),new Hi(this.database,wo(this._delegate,rpe(e,n)))}equalTo(e,n){return Xt("Query.equalTo",1,2,arguments.length),new Hi(this.database,wo(this._delegate,_pe(e,n)))}toString(){return Xt("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return Xt("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(Xt("Query.isEqual",1,1,arguments.length),!(e instanceof Hi)){const n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,n,r){const i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,ki(e,"cancel",i.cancel,!0),i.context=r,yP(e,"context",i.context);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(Zs(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return i}get ref(){return new Qd(this.database,new oo(this._delegate._repo,this._delegate._path))}}let Qd=class lp extends Hi{constructor(e,n){super(e,new sa(n._repo,n._path,new Gb,!1)),this.database=e,this._delegate=n}getKey(){return Xt("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return Xt("Reference.child",1,1,arguments.length),typeof e=="number"&&(e=String(e)),new lp(this.database,Df(this._delegate,e))}getParent(){Xt("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new lp(this.database,e):null}getRoot(){return Xt("Reference.root",0,0,arguments.length),new lp(this.database,this._delegate.root)}set(e,n){Xt("Reference.set",1,2,arguments.length),ki("Reference.set","onComplete",n,!0);const r=HI(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}update(e,n){if(Xt("Reference.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,m$("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Qa("Reference.update",this._delegate._path),ki("Reference.update","onComplete",n,!0);const r=Zhe(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){Xt("Reference.setWithPriority",2,3,arguments.length),ki("Reference.setWithPriority","onComplete",r,!0);const i=Qhe(this._delegate,e,n);return r&&i.then(()=>r(null),s=>r(s)),i}remove(e){Xt("Reference.remove",0,1,arguments.length),ki("Reference.remove","onComplete",e,!0);const n=Jhe(this._delegate);return e&&n.then(()=>e(null),r=>e(r)),n}transaction(e,n,r){Xt("Reference.transaction",1,3,arguments.length),ki("Reference.transaction","transactionUpdate",e,!1),ki("Reference.transaction","onComplete",n,!0),Wpe("Reference.transaction","applyLocally",r);const i=Lpe(this._delegate,e,{applyLocally:r}).then(s=>new Hpe(s.committed,new Su(this.database,s.snapshot)));return n&&i.then(s=>n(null,s.committed,s.snapshot),s=>n(s,!1,null)),i}setPriority(e,n){Xt("Reference.setPriority",1,2,arguments.length),ki("Reference.setPriority","onComplete",n,!0);const r=Yhe(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}push(e,n){Xt("Reference.push",0,2,arguments.length),ki("Reference.push","onComplete",n,!0);const r=Xhe(this._delegate,e),i=r.then(a=>new lp(this.database,a));n&&i.then(()=>n(null),a=>n(a));const s=new lp(this.database,r);return s.then=i.then.bind(i),s.catch=i.catch.bind(i,void 0),s}onDisconnect(){return Qa("Reference.onDisconnect",this._delegate._path),new zpe(new Khe(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e,n){this._delegate=e,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Dpe,forceLongPolling:Ape}}useEmulator(e,n,r={}){Npe(this._delegate,e,n,r)}ref(e){if(Xt("database.ref",0,1,arguments.length),e instanceof Qd){const n=rM(this._delegate,e.toString());return new Qd(this,n)}else{const n=u$(this._delegate,e);return new Qd(this,n)}}refFromURL(e){Xt("database.refFromURL",1,1,arguments.length);const r=rM(this._delegate,e);return new Qd(this,r)}goOffline(){return Xt("database.goOffline",0,0,arguments.length),Ipe(this._delegate)}goOnline(){return Xt("database.goOnline",0,0,arguments.length),kpe(this._delegate)}}My.ServerValue={TIMESTAMP:Mpe(),increment:t=>Upe(t)};function $pe({app:t,url:e,version:n,customAuthImpl:r,customAppCheckImpl:i,namespace:s,nodeAdmin:a=!1}){Yz(n);const o=new NN("database-standalone"),l=new CA("auth-internal",o);l.setComponent(new Ms("auth-internal",()=>r,"PRIVATE"));let c;return i&&(c=new CA("app-check-internal",o),c.setComponent(new Ms("app-check-internal",()=>i,"PRIVATE"))),{instance:new My(h$(t,l,c,e,a),t),namespace:s}}var Gpe=Object.freeze({__proto__:null,initStandalone:$pe});/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kpe=My.ServerValue;function Xpe(t){t.INTERNAL.registerComponent(new Ms("database-compat",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new My(i,r)},"PUBLIC").setServiceProps({Reference:Qd,Query:Hi,Database:My,DataSnapshot:Su,enableLogging:Rpe,INTERNAL:Gpe,ServerValue:Kpe}).setMultipleInstances(!0)),t.registerVersion(jpe,Bpe)}Xpe(Br);const Jpe={apiKey:"AIzaSyDocJGqJzx5N4AmpyPzObYQ8azLy790K9s",authDomain:"gitut-docx.firebaseapp.com",databaseURL:"https://gitut-docx-default-rtdb.europe-west1.firebasedatabase.app/",projectId:"gitut-docx",storageBucket:"gitut-docx.firebasestorage.app",messagingSenderId:"110741096033",appId:"1:110741096033:web:ae402f349829c4209e4c20"};Br.apps.length||Br.initializeApp(Jpe);const Lr=Br.auth(),dm=Br.firestore();Br.database();const Zr={profilePicture:{id:"profilePicture",label:"formFields.profilePicture",type:"file",placeholder:"formFields.placeholders.profilePicture"},fullName:{id:"fullName",label:"formFields.fullName",type:"text",placeholder:"formFields.placeholders.fullName"},firstName:{id:"firstName",label:"formFields.firstName",type:"text",placeholder:"formFields.placeholders.firstName"},lastName:{id:"lastName",label:"formFields.lastName",type:"text",placeholder:"formFields.placeholders.lastName"},firstNameFr:{id:"firstNameFr",label:"formFields.firstNameFr",type:"text",placeholder:"formFields.placeholders.firstNameFr"},lastNameFr:{id:"lastNameFr",label:"formFields.lastNameFr",type:"text",placeholder:"formFields.placeholders.lastNameFr"},birthdaydate:{id:"birthdaydate",label:"formFields.birthdaydate",type:"date",placeholder:""},birthdayplace:{id:"birthdayplace",label:"formFields.birthdayplace",type:"text",placeholder:"formFields.placeholders.birthdayplace"},address:{id:"address",label:"formFields.address",type:"text",placeholder:"formFields.placeholders.address"},phone:{id:"phone",label:"formFields.phone",type:"tel",placeholder:"formFields.placeholders.phone"},email:{id:"email",label:"formFields.email",type:"email",placeholder:"formFields.placeholders.email"},jobTitle:{id:"jobTitle",label:"formFields.jobTitle",type:"text",placeholder:"formFields.placeholders.jobTitle"},nationalId:{id:"nationalId",label:"formFields.nationalId",type:"text",placeholder:"formFields.placeholders.nationalId"},birthCertificateNumber:{id:"birthCertificateNumber",label:"formFields.birthCertificateNumber",type:"text",placeholder:"formFields.placeholders.birthCertificateNumber"},socialSecurityNumber:{id:"socialSecurityNumber",label:"formFields.socialSecurityNumber",type:"text",placeholder:"formFields.placeholders.socialSecurityNumber"},nationality:{id:"nationality",label:"formFields.nationality",type:"text",placeholder:"formFields.placeholders.nationality"},maritalStatus:{id:"maritalStatus",label:"formFields.maritalStatus",type:"select",placeholder:"formFields.placeholders.maritalStatus",options:[{value:"married",label:"formFields.maritalStatusOptions.married"},{value:"single",label:"formFields.maritalStatusOptions.single"},{value:"divorced",label:"formFields.maritalStatusOptions.divorced"}]},motherFirstName:{id:"motherFirstName",label:"formFields.motherFirstName",type:"text",placeholder:"formFields.placeholders.motherFirstName"},motherLastName:{id:"motherLastName",label:"formFields.motherLastName",type:"text",placeholder:"formFields.placeholders.motherLastName"},motherDob:{id:"motherDob",label:"formFields.motherDob",type:"date",placeholder:""},motherPob:{id:"motherPob",label:"formFields.motherPob",type:"text",placeholder:"formFields.placeholders.motherPob"},fatherFirstName:{id:"fatherFirstName",label:"formFields.fatherFirstName",type:"text",placeholder:"formFields.placeholders.fatherFirstName"},fatherLastName:{id:"fatherLastName",label:"formFields.fatherLastName",type:"text",placeholder:"formFields.placeholders.fatherLastName"},fatherDob:{id:"fatherDob",label:"formFields.fatherDob",type:"date",placeholder:""},fatherPob:{id:"fatherPob",label:"formFields.fatherPob",type:"text",placeholder:"formFields.placeholders.fatherPob"},residenceWilaya:{id:"residenceWilaya",label:"formFields.residenceWilaya",type:"text",placeholder:"formFields.placeholders.residenceWilaya"},residenceDaira:{id:"residenceDaira",label:"formFields.residenceDaira",type:"text",placeholder:"formFields.placeholders.residenceDaira"},residenceCommune:{id:"residenceCommune",label:"formFields.residenceCommune",type:"text",placeholder:"formFields.placeholders.residenceCommune"},residenceStreet:{id:"residenceStreet",label:"formFields.residenceStreet",type:"text",placeholder:"formFields.placeholders.residenceStreet"},birthWilaya:{id:"birthWilaya",label:"formFields.birthWilaya",type:"text",placeholder:"formFields.placeholders.birthWilaya"},birthDaira:{id:"birthDaira",label:"formFields.birthDaira",type:"text",placeholder:"formFields.placeholders.birthDaira"},birthCommune:{id:"birthCommune",label:"formFields.birthCommune",type:"text",placeholder:"formFields.placeholders.birthCommune"},bloodType:{id:"bloodType",label:"formFields.bloodType",type:"text",placeholder:"formFields.placeholders.bloodType"},DateToday:{id:"DateToday",label:"formFields.dateToday",type:"text",placeholder:""},gender:{id:"gender",label:"formFields.gender",type:"select",placeholder:"formFields.placeholders.gender",options:[{value:"male",label:"formFields.genderOptions.male"},{value:"female",label:"formFields.genderOptions.female"}]},height:{id:"height",label:"formFields.height",type:"number",placeholder:"formFields.placeholders.height"},eyeColor:{id:"eyeColor",label:"formFields.eyeColor",type:"text",placeholder:"formFields.placeholders.eyeColor"},distinguishingMarks:{id:"distinguishingMarks",label:"formFields.distinguishingMarks",type:"text",placeholder:"formFields.placeholders.distinguishingMarks"},employerName:{id:"employerName",label:"formFields.employerName",type:"text",placeholder:"formFields.placeholders.employerName"},employerAddress:{id:"employerAddress",label:"formFields.employerAddress",type:"text",placeholder:"formFields.placeholders.employerAddress"},educationLevel:{id:"educationLevel",label:"formFields.educationLevel",type:"select",placeholder:"formFields.placeholders.educationLevel",options:[{value:"primary",label:"formFields.educationLevelOptions.primary"},{value:"middle",label:"formFields.educationLevelOptions.middle"},{value:"high",label:"formFields.educationLevelOptions.high"},{value:"university",label:"formFields.educationLevelOptions.university"},{value:"postgraduate",label:"formFields.educationLevelOptions.postgraduate"}]},universityName:{id:"universityName",label:"formFields.universityName",type:"text",placeholder:"formFields.placeholders.universityName"},graduationDate:{id:"graduationDate",label:"formFields.graduationDate",type:"date",placeholder:""},fieldOfStudy:{id:"fieldOfStudy",label:"formFields.fieldOfStudy",type:"text",placeholder:"formFields.placeholders.fieldOfStudy"},higherInstituteName:{id:"higherInstituteName",label:"formFields.higherInstituteName",type:"text",placeholder:"formFields.placeholders.higherInstituteName"},vocationalTrainingCenterName:{id:"vocationalTrainingCenterName",label:"formFields.vocationalTrainingCenterName",type:"text",placeholder:"formFields.placeholders.vocationalTrainingCenterName"},schoolName:{id:"schoolName",label:"formFields.schoolName",type:"text",placeholder:"formFields.placeholders.schoolName"},highSchoolName:{id:"highSchoolName",label:"formFields.highSchoolName",type:"text",placeholder:"formFields.placeholders.highSchoolName"},middleSchoolName:{id:"middleSchoolName",label:"formFields.middleSchoolName",type:"text",placeholder:"formFields.placeholders.middleSchoolName"},universityCity:{id:"universityCity",label:"formFields.universityCity",type:"text",placeholder:"formFields.placeholders.universityCity"},passportNumber:{id:"passportNumber",label:"formFields.passportNumber",type:"text",placeholder:"formFields.placeholders.passportNumber"},passportIssueDate:{id:"passportIssueDate",label:"formFields.passportIssueDate",type:"date",placeholder:""},passportExpiryDate:{id:"passportExpiryDate",label:"formFields.passportExpiryDate",type:"date",placeholder:""},passportIssuePlace:{id:"passportIssuePlace",label:"formFields.passportIssuePlace",type:"text",placeholder:"formFields.placeholders.passportIssuePlace"},drivingLicenseNumber:{id:"drivingLicenseNumber",label:"formFields.drivingLicenseNumber",type:"text",placeholder:"formFields.placeholders.drivingLicenseNumber"},drivingLicenseCategory:{id:"drivingLicenseCategory",label:"formFields.drivingLicenseCategory",type:"text",placeholder:"formFields.placeholders.drivingLicenseCategory"},drivingLicenseIssueDate:{id:"drivingLicenseIssueDate",label:"formFields.drivingLicenseIssueDate",type:"date",placeholder:""},numberOfChildren:{id:"numberOfChildren",label:"formFields.numberOfChildren",type:"number",placeholder:"formFields.placeholders.numberOfChildren"},numberOfSons:{id:"numberOfSons",label:"formFields.numberOfSons",type:"number",placeholder:"formFields.placeholders.numberOfSons"},numberOfDaughters:{id:"numberOfDaughters",label:"formFields.numberOfDaughters",type:"number",placeholder:"formFields.placeholders.numberOfDaughters"},numberOfSiblings:{id:"numberOfSiblings",label:"formFields.numberOfSiblings",type:"number",placeholder:"formFields.placeholders.numberOfSiblings"},numberOfBrothers:{id:"numberOfBrothers",label:"formFields.numberOfBrothers",type:"number",placeholder:"formFields.placeholders.numberOfBrothers"},numberOfSisters:{id:"numberOfSisters",label:"formFields.numberOfSisters",type:"number",placeholder:"formFields.placeholders.numberOfSisters"},spouseFullName:{id:"spouseFullName",label:"formFields.spouseFullName",type:"text",placeholder:"formFields.placeholders.spouseFullName"},spouseDob:{id:"spouseDob",label:"formFields.spouseDob",type:"date",placeholder:""},spouseJob:{id:"spouseJob",label:"formFields.spouseJob",type:"text",placeholder:"formFields.placeholders.spouseJob"},militaryStatus:{id:"militaryStatus",label:"formFields.militaryStatus",type:"text",placeholder:"formFields.placeholders.militaryStatus"},ToTheGovernorOftheStateOf:{id:"ToTheGovernorOftheStateOf",label:"formFields.ToTheGovernorOftheStateOf",type:"text",placeholder:"formFields.placeholders.ToTheGovernorOftheStateOf"},submissionDaira:{id:"submissionDaira",label:"formFields.submissionDaira",type:"text",placeholder:"formFields.placeholders.submissionDaira"},ToTheMayorOf:{id:"ToTheMayorOf",label:"formFields.ToTheMayorOf",type:"text",placeholder:"formFields.placeholders.ToTheMayorOf"},employerWilaya:{id:"employerWilaya",label:"formFields.employerWilaya",type:"text",placeholder:"formFields.placeholders.employerWilaya"},employerDaira:{id:"employerDaira",label:"formFields.employerDaira",type:"text",placeholder:"formFields.placeholders.employerDaira"},employerCommune:{id:"employerCommune",label:"formFields.employerCommune",type:"text",placeholder:"formFields.placeholders.employerCommune"},criminalRecordNumber:{id:"criminalRecordNumber",label:"formFields.criminalRecordNumber",type:"text",placeholder:"formFields.placeholders.criminalRecordNumber"},criminalRecordIssueDate:{id:"criminalRecordIssueDate",label:"formFields.criminalRecordIssueDate",type:"date",placeholder:""},criminalRecordIssuePlace:{id:"criminalRecordIssuePlace",label:"formFields.criminalRecordIssuePlace",type:"text",placeholder:"formFields.placeholders.criminalRecordIssuePlace"},commercialRegistryNumber:{id:"commercialRegistryNumber",label:"formFields.commercialRegistryNumber",type:"text",placeholder:"formFields.placeholders.commercialRegistryNumber"},taxIdNumber:{id:"taxIdNumber",label:"formFields.taxIdNumber",type:"text",placeholder:"formFields.placeholders.taxIdNumber"},casnosNumber:{id:"casnosNumber",label:"formFields.casnosNumber",type:"text",placeholder:"formFields.placeholders.casnosNumber"},vehicleRegistrationCardNumber:{id:"vehicleRegistrationCardNumber",label:"formFields.vehicleRegistrationCardNumber",type:"text",placeholder:"formFields.placeholders.vehicleRegistrationCardNumber"},vehicleType:{id:"vehicleType",label:"formFields.vehicleType",type:"text",placeholder:"formFields.placeholders.vehicleType"},vehicleBrand:{id:"vehicleBrand",label:"formFields.vehicleBrand",type:"text",placeholder:"formFields.placeholders.vehicleBrand"},vehicleModel:{id:"vehicleModel",label:"formFields.vehicleModel",type:"text",placeholder:"formFields.placeholders.vehicleModel"},vehicleFirstRegistrationDate:{id:"vehicleFirstRegistrationDate",label:"formFields.vehicleFirstRegistrationDate",type:"date",placeholder:""},bankName:{id:"bankName",label:"formFields.bankName",type:"text",placeholder:"formFields.placeholders.bankName"},bankAccountNumber:{id:"bankAccountNumber",label:"formFields.bankAccountNumber",type:"text",placeholder:"formFields.placeholders.bankAccountNumber"},bankAgencyName:{id:"bankAgencyName",label:"formFields.bankAgencyName",type:"text",placeholder:"formFields.placeholders.bankAgencyName"},bankAgencyCode:{id:"bankAgencyCode",label:"formFields.bankAgencyCode",type:"text",placeholder:"formFields.placeholders.bankAgencyCode"},bankNameTo:{id:"bankNameTo",label:"formFields.bankNameTo",type:"text",placeholder:"formFields.placeholders.bankNameTo"},bankWilayaTo:{id:"bankWilayaTo",label:"formFields.bankWilayaTo",type:"text",placeholder:"formFields.placeholders.bankWilayaTo"},bankCountryTo:{id:"bankCountryTo",label:"formFields.bankCountryTo",type:"text",placeholder:"formFields.placeholders.bankCountryTo"},bankStreetTo:{id:"bankStreetTo",label:"formFields.bankStreetTo",type:"text",placeholder:"formFields.placeholders.bankStreetTo"},bankNameFrom:{id:"bankNameFrom",label:"formFields.bankNameFrom",type:"text",placeholder:"formFields.placeholders.bankNameFrom"},bankWilayaFrom:{id:"bankWilayaFrom",label:"formFields.bankWilayaFrom",type:"text",placeholder:"formFields.placeholders.bankWilayaFrom"},bankCountryFrom:{id:"bankCountryFrom",label:"formFields.bankCountryFrom",type:"text",placeholder:"formFields.placeholders.bankCountryFrom"},bankStreetFrom:{id:"bankStreetFrom",label:"formFields.bankStreetFrom",type:"text",placeholder:"formFields.placeholders.bankStreetFrom"},amountReceived:{id:"amountReceived",label:"formFields.amountReceived",type:"number",placeholder:"formFields.placeholders.amountReceived"},amountSent:{id:"amountSent",label:"formFields.amountSent",type:"number",placeholder:"formFields.placeholders.amountSent"},employmentContractType:{id:"employmentContractType",label:"formFields.employmentContractType",type:"text",placeholder:"formFields.placeholders.employmentContractType"},employmentStartDate:{id:"employmentStartDate",label:"formFields.employmentStartDate",type:"date",placeholder:""},employeeIdNumber:{id:"employeeIdNumber",label:"formFields.employeeIdNumber",type:"text",placeholder:"formFields.placeholders.employeeIdNumber"},professionalGrade:{id:"professionalGrade",label:"formFields.professionalGrade",type:"text",placeholder:"formFields.placeholders.professionalGrade"},nationalIdIssueDate:{id:"nationalIdIssueDate",label:"formFields.nationalIdIssueDate",type:"date",placeholder:""},nationalIdExpiryDate:{id:"nationalIdExpiryDate",label:"formFields.nationalIdExpiryDate",type:"date",placeholder:""},drivingLicenseExpiryDate:{id:"drivingLicenseExpiryDate",label:"formFields.drivingLicenseExpiryDate",type:"date",placeholder:""},familyBookNumber:{id:"familyBookNumber",label:"formFields.familyBookNumber",type:"text",placeholder:"formFields.placeholders.familyBookNumber"},marriageDate:{id:"marriageDate",label:"formFields.marriageDate",type:"date",placeholder:""},marriagePlace:{id:"marriagePlace",label:"formFields.marriagePlace",type:"text",placeholder:"formFields.placeholders.marriagePlace"},rentalContractNumber:{id:"rentalContractNumber",label:"formFields.rentalContractNumber",type:"text",placeholder:"formFields.placeholders.rentalContractNumber"},landlordName:{id:"landlordName",label:"formFields.landlordName",type:"text",placeholder:"formFields.placeholders.landlordName"},propertyAddress:{id:"propertyAddress",label:"formFields.propertyAddress",type:"text",placeholder:"formFields.placeholders.propertyAddress"},attendingPhysicianName:{id:"attendingPhysicianName",label:"formFields.attendingPhysicianName",type:"text",placeholder:"formFields.placeholders.attendingPhysicianName"},disabilityType:{id:"disabilityType",label:"formFields.disabilityType",type:"text",placeholder:"formFields.placeholders.disabilityType"},disabilityPercentage:{id:"disabilityPercentage",label:"formFields.disabilityPercentage",type:"number",placeholder:"formFields.placeholders.disabilityPercentage"},deceasedParentFullName:{id:"deceasedParentFullName",label:"formFields.deceasedParentFullName",type:"text",placeholder:"formFields.placeholders.deceasedParentFullName"},deceasedParentDod:{id:"deceasedParentDod",label:"formFields.deceasedParentDod",type:"date",placeholder:""},deceasedParentPod:{id:"deceasedParentPod",label:"formFields.deceasedParentPod",type:"text",placeholder:"formFields.placeholders.deceasedParentPod"},deathCertificateNumber:{id:"deathCertificateNumber",label:"formFields.deathCertificateNumber",type:"text",placeholder:"formFields.placeholders.deathCertificateNumber"},survivingParentFullName:{id:"survivingParentFullName",label:"formFields.survivingParentFullName",type:"text",placeholder:"formFields.placeholders.survivingParentFullName"},survivingParentJobTitle:{id:"survivingParentJobTitle",label:"formFields.survivingParentJobTitle",type:"text",placeholder:"formFields.placeholders.survivingParentJobTitle"},hospitalName:{id:"hospitalName",label:"formFields.hospitalName",type:"text",placeholder:"formFields.placeholders.hospitalName"},motherFullName:{id:"motherFullName",label:"formFields.motherFullName",type:"text",placeholder:"formFields.placeholders.motherFullName"},fatherFullName:{id:"fatherFullName",label:"formFields.fatherFullName",type:"text",placeholder:"formFields.placeholders.fatherFullName"},spousePob:{id:"spousePob",label:"formFields.spousePob",type:"text",placeholder:"formFields.placeholders.spousePob"},sonName:{id:"sonName",label:"formFields.sonName",type:"text",placeholder:"formFields.placeholders.sonName"},sonDob:{id:"sonDob",label:"formFields.sonDob",type:"date",placeholder:""},sonPob:{id:"sonPob",label:"formFields.sonPob",type:"text",placeholder:"formFields.placeholders.sonPob"},daughterName:{id:"daughterName",label:"formFields.daughterName",type:"text",placeholder:"formFields.placeholders.daughterName"},daughterDob:{id:"daughterDob",label:"formFields.daughterDob",type:"date",placeholder:""},daughterPob:{id:"daughterPob",label:"formFields.daughterPob",type:"text",placeholder:"formFields.placeholders.daughterPob"},paternalGrandfatherName:{id:"paternalGrandfatherName",label:"formFields.paternalGrandfatherName",type:"text",placeholder:"formFields.placeholders.paternalGrandfatherName"},paternalGrandfatherDob:{id:"paternalGrandfatherDob",label:"formFields.paternalGrandfatherDob",type:"date",placeholder:""},paternalGrandfatherPob:{id:"paternalGrandfatherPob",label:"formFields.paternalGrandfatherPob",type:"text",placeholder:"formFields.placeholders.paternalGrandfatherPob"},paternalGrandmotherName:{id:"paternalGrandmotherName",label:"formFields.paternalGrandmotherName",type:"text",placeholder:"formFields.placeholders.paternalGrandmotherName"},paternalGrandmotherDob:{id:"paternalGrandmotherDob",label:"formFields.paternalGrandmotherDob",type:"date",placeholder:""},paternalGrandmotherPob:{id:"paternalGrandmotherPob",label:"formFields.paternalGrandmotherPob",type:"text",placeholder:"formFields.placeholders.paternalGrandmotherPob"},maternalGrandfatherName:{id:"maternalGrandfatherName",label:"formFields.maternalGrandfatherName",type:"text",placeholder:"formFields.placeholders.maternalGrandfatherName"},maternalGrandfatherDob:{id:"maternalGrandfatherDob",label:"formFields.maternalGrandfatherDob",type:"date",placeholder:""},maternalGrandfatherPob:{id:"maternalGrandfatherPob",label:"formFields.maternalGrandfatherPob",type:"text",placeholder:"formFields.placeholders.maternalGrandfatherPob"},maternalGrandmotherName:{id:"maternalGrandmotherName",label:"formFields.maternalGrandmotherName",type:"text",placeholder:"formFields.placeholders.maternalGrandmotherName"},maternalGrandmotherDob:{id:"maternalGrandmotherDob",label:"formFields.maternalGrandmotherDob",type:"date",placeholder:""},maternalGrandmotherPob:{id:"maternalGrandmotherPob",label:"formFields.maternalGrandmotherPob",type:"text",placeholder:"formFields.placeholders.maternalGrandmotherPob"},currentTime:{id:"currentTime",label:"formFields.currentTime",type:"text",placeholder:""},currentYear:{id:"currentYear",label:"formFields.currentYear",type:"text",placeholder:""},documentName:{id:"documentName",label:"formFields.documentName",type:"text",placeholder:""},age:{id:"age",label:"formFields.age",type:"text",placeholder:""},fullDateLongAr:{id:"fullDateLongAr",label:"formFields.fullDateLongAr",type:"text",placeholder:""},hijriDate:{id:"hijriDate",label:"formFields.hijriDate",type:"text",placeholder:""},motherAge:{id:"motherAge",label:"formFields.motherAge",type:"text",placeholder:""},fatherAge:{id:"fatherAge",label:"formFields.fatherAge",type:"text",placeholder:""},spouseAge:{id:"spouseAge",label:"formFields.spouseAge",type:"text",placeholder:""},sonAge:{id:"sonAge",label:"formFields.sonAge",type:"text",placeholder:""},daughterAge:{id:"daughterAge",label:"formFields.daughterAge",type:"text",placeholder:""},paternalGrandfatherAge:{id:"paternalGrandfatherAge",label:"formFields.paternalGrandfatherAge",type:"text",placeholder:""},paternalGrandmotherAge:{id:"paternalGrandmotherAge",label:"formFields.paternalGrandmotherAge",type:"text",placeholder:""},maternalGrandfatherAge:{id:"maternalGrandfatherAge",label:"formFields.maternalGrandfatherAge",type:"text",placeholder:""},maternalGrandmotherAge:{id:"maternalGrandmotherAge",label:"formFields.maternalGrandmotherAge",type:"text",placeholder:""}},m2={profilePicture:" ",fullName:"  ",firstName:"",lastName:"",firstNameFr:" ",lastNameFr:" ",birthdaydate:" ",birthdayplace:" ",address:"",residenceWilaya:" ",residenceCommune:" ",residenceDaira:" ",residenceStreet:" ",birthWilaya:" ",birthCommune:" ",birthDaira:" ",phone:" ",email:" ",jobTitle:"",nationalId:"   ",birthCertificateNumber:"  ",socialSecurityNumber:"  ",nationality:"",maritalStatus:" ",motherFirstName:" ",motherLastName:" ",motherDob:"  ",motherPob:"  ",fatherFirstName:" ",fatherLastName:" ",fatherDob:"  ",fatherPob:"  ",bloodType:" ",gender:"",height:" ()",eyeColor:" ",distinguishingMarks:" ",employerName:"    ",employerAddress:"  ",educationLevel:" ",universityName:" /",graduationDate:" ",fieldOfStudy:" ",higherInstituteName:"  ",vocationalTrainingCenterName:"   ",schoolName:" ",highSchoolName:" ",middleSchoolName:" ",universityCity:"    ",passportNumber:"  ",passportIssueDate:"   ",passportExpiryDate:"   ",passportIssuePlace:"   ",drivingLicenseNumber:"  ",drivingLicenseCategory:"  ",drivingLicenseIssueDate:"   ",numberOfChildren:"  ()",numberOfSons:"  ()",numberOfDaughters:"  ()",numberOfSiblings:"  ()",numberOfBrothers:"  ()",numberOfSisters:"  ()",spouseFullName:" /",spouseDob:"  /",spouseJob:" /",militaryStatus:"   ",ToTheGovernorOftheStateOf:"    ",submissionDaira:"    ",ToTheMayorOf:"    ",employerWilaya:"    ",employerDaira:"    ",employerCommune:"    ",criminalRecordNumber:"   ",criminalRecordIssueDate:"    ",criminalRecordIssuePlace:"    ",commercialRegistryNumber:"  ",taxIdNumber:"  ",casnosNumber:"   CASNOS",vehicleRegistrationCardNumber:"  ",vehicleType:" ",vehicleBrand:" ",vehicleModel:" ",vehicleFirstRegistrationDate:"   ",bankName:" ",bankAccountNumber:"   (RIB)",bankAgencyName:"  ",bankAgencyCode:"  ",bankNameTo:"   ",bankWilayaTo:"   ",bankCountryTo:"   ",bankStreetTo:"   ",bankNameFrom:"   ",bankWilayaFrom:"   ",bankCountryFrom:"   ",bankStreetFrom:"   ",amountReceived:" ",amountSent:" ",employmentContractType:"  ",employmentStartDate:"  ",employeeIdNumber:" ",professionalGrade:"   ",nationalIdIssueDate:"   ",nationalIdExpiryDate:"    ",drivingLicenseExpiryDate:"    ",familyBookNumber:"  ",marriageDate:"  ",marriagePlace:"  ",rentalContractNumber:"  ",landlordName:"  ",propertyAddress:" ",attendingPhysicianName:"  ",disabilityType:" ",disabilityPercentage:"  (%)",deceasedParentFullName:"   ",deceasedParentDod:"  ",deceasedParentPod:"  ",deathCertificateNumber:"  ",survivingParentFullName:"      ",survivingParentJobTitle:"     ",hospitalName:" ",currentTime:" ",currentYear:" ",documentName:" ",age:"",fullDateLongAr:"  ()",hijriDate:" ",motherFullName:"  ",motherAge:" ",fatherFullName:"  ",fatherAge:" ",spousePob:"  /",spouseAge:" /",sonName:" ",sonDob:"  ",sonPob:"  ",sonAge:" ",daughterName:" ",daughterDob:"  ",daughterPob:"  ",daughterAge:" ",paternalGrandfatherName:"  ( )",paternalGrandfatherDob:"   ( )",paternalGrandfatherPob:"   ( )",paternalGrandfatherAge:"  ( )",paternalGrandmotherName:"  ( )",paternalGrandmotherDob:"   ( )",paternalGrandmotherPob:"   ( )",paternalGrandmotherAge:"  ( )",maternalGrandfatherName:"  ( )",maternalGrandfatherDob:"   ( )",maternalGrandfatherPob:"   ( )",maternalGrandfatherAge:"  ( )",maternalGrandmotherName:"  ( )",maternalGrandmotherDob:"   ( )",maternalGrandmotherPob:"   ( )",maternalGrandmotherAge:"  ( )"},Ype="GitutOfflineDB",Qpe=9,jm=()=>new Promise((t,e)=>{const n=indexedDB.open(Ype,Qpe);n.onerror=()=>e("Error opening IndexedDB."),n.onsuccess=()=>t(n.result),n.onupgradeneeded=r=>{const i=r.target.result;["offlineMetadata","documents","fullDocuments","staticDocuments","sites","baseTemplates","siteSettings","userProfile","pendingCreditDeductions","codes","cafes","pages","blogPosts","ads","clients","voice_prompts","tagTitleLists","jobs"].forEach(a=>{if(!i.objectStoreNames.contains(a)){let o={keyPath:"id"};a==="tagTitleLists"&&(o={keyPath:"tag"}),i.createObjectStore(a,o)}})}}),Ps=async(t,e)=>{const n=await jm();return new Promise(r=>{const a=n.transaction(t,"readonly").objectStore(t).get(e);a.onsuccess=()=>r(a.result),a.onerror=()=>r(null)})},er=async t=>{const e=await jm();return new Promise(n=>{const s=e.transaction(t,"readonly").objectStore(t).getAll();s.onsuccess=()=>n(s.result||[]),s.onerror=()=>n([])})},gr=async(t,e)=>{const n=await jm();return new Promise((r,i)=>{const o=n.transaction(t,"readwrite").objectStore(t).put(e);o.onsuccess=()=>r(),o.onerror=()=>i(o.error)})},Di=async(t,e)=>{if(!e||e.length===0)return;const n=await jm();return new Promise((r,i)=>{const s=n.transaction(t,"readwrite"),a=s.objectStore(t);s.oncomplete=()=>r(),s.onerror=()=>i(s.error),a.clear(),e.forEach(o=>{o&&o.id!==void 0?a.put(o):console.warn(`Item in store '${t}' is missing an 'id' and was skipped.`,o)})})},Af=async(t,e)=>{const n=await jm();return new Promise((r,i)=>{const o=n.transaction(t,"readwrite").objectStore(t).delete(e);o.onsuccess=()=>r(),o.onerror=()=>i(o.error)})},Zpe=async t=>{await gr("pendingCreditDeductions",t)},eme=async()=>er("pendingCreditDeductions"),tme=async()=>{const t=await jm();return new Promise((e,n)=>{const s=t.transaction("pendingCreditDeductions","readwrite").objectStore("pendingCreditDeductions").clear();s.onsuccess=()=>e(),s.onerror=()=>n(s.error)})};function vx(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var dC={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var cM;function g$(){return cM||(cM=1,(function(t,e){(function(n){t.exports=n()})(function(){return(function n(r,i,s){function a(c,u){if(!i[c]){if(!r[c]){var f=typeof vx=="function"&&vx;if(!u&&f)return f(c,!0);if(o)return o(c,!0);var h=new Error("Cannot find module '"+c+"'");throw h.code="MODULE_NOT_FOUND",h}var p=i[c]={exports:{}};r[c][0].call(p.exports,function(v){var g=r[c][1][v];return a(g||v)},p,p.exports,n,r,i,s)}return i[c].exports}for(var o=typeof vx=="function"&&vx,l=0;l<s.length;l++)a(s[l]);return a})({1:[function(n,r,i){var s=n("./utils"),a=n("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var c,u,f,h,p,v,g,y=[],b=0,_=l.length,w=_,C=s.getTypeOf(l)!=="string";b<l.length;)w=_-b,f=C?(c=l[b++],u=b<_?l[b++]:0,b<_?l[b++]:0):(c=l.charCodeAt(b++),u=b<_?l.charCodeAt(b++):0,b<_?l.charCodeAt(b++):0),h=c>>2,p=(3&c)<<4|u>>4,v=1<w?(15&u)<<2|f>>6:64,g=2<w?63&f:64,y.push(o.charAt(h)+o.charAt(p)+o.charAt(v)+o.charAt(g));return y.join("")},i.decode=function(l){var c,u,f,h,p,v,g=0,y=0,b="data:";if(l.substr(0,b.length)===b)throw new Error("Invalid base64 input, it looks like a data url.");var _,w=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===o.charAt(64)&&w--,l.charAt(l.length-2)===o.charAt(64)&&w--,w%1!=0)throw new Error("Invalid base64 input, bad content length.");for(_=a.uint8array?new Uint8Array(0|w):new Array(0|w);g<l.length;)c=o.indexOf(l.charAt(g++))<<2|(h=o.indexOf(l.charAt(g++)))>>4,u=(15&h)<<4|(p=o.indexOf(l.charAt(g++)))>>2,f=(3&p)<<6|(v=o.indexOf(l.charAt(g++))),_[y++]=c,p!==64&&(_[y++]=u),v!==64&&(_[y++]=f);return _}},{"./support":30,"./utils":32}],2:[function(n,r,i){var s=n("./external"),a=n("./stream/DataWorker"),o=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function c(u,f,h,p,v){this.compressedSize=u,this.uncompressedSize=f,this.crc32=h,this.compression=p,this.compressedContent=v}c.prototype={getContentWorker:function(){var u=new a(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),f=this;return u.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),u},getCompressedWorker:function(){return new a(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(u,f,h){return u.pipe(new o).pipe(new l("uncompressedSize")).pipe(f.compressWorker(h)).pipe(new l("compressedSize")).withStreamInfo("compression",f)},r.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var s=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var s=n("./utils"),a=(function(){for(var o,l=[],c=0;c<256;c++){o=c;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;l[c]=o}return l})();r.exports=function(o,l){return o!==void 0&&o.length?s.getTypeOf(o)!=="string"?(function(c,u,f,h){var p=a,v=h+f;c^=-1;for(var g=h;g<v;g++)c=c>>>8^p[255&(c^u[g])];return-1^c})(0|l,o,o.length,0):(function(c,u,f,h){var p=a,v=h+f;c^=-1;for(var g=h;g<v;g++)c=c>>>8^p[255&(c^u.charCodeAt(g))];return-1^c})(0|l,o,o.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var s=null;s=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:s}},{lie:37}],7:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=n("pako"),o=n("./utils"),l=n("./stream/GenericWorker"),c=s?"uint8array":"array";function u(f,h){l.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=h,this.meta={}}i.magic="\b\0",o.inherits(u,l),u.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(c,f.data),!1)},u.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(h){f.push({data:h,meta:f.meta})}},i.compressWorker=function(f){return new u("Deflate",f)},i.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function s(p,v){var g,y="";for(g=0;g<v;g++)y+=String.fromCharCode(255&p),p>>>=8;return y}function a(p,v,g,y,b,_){var w,C,S=p.file,R=p.compression,D=_!==c.utf8encode,N=o.transformTo("string",_(S.name)),k=o.transformTo("string",c.utf8encode(S.name)),F=S.comment,P=o.transformTo("string",_(F)),I=o.transformTo("string",c.utf8encode(F)),U=k.length!==S.name.length,O=I.length!==F.length,K="",X="",J="",ne=S.dir,z=S.date,Q={crc32:0,compressedSize:0,uncompressedSize:0};v&&!g||(Q.crc32=p.crc32,Q.compressedSize=p.compressedSize,Q.uncompressedSize=p.uncompressedSize);var B=0;v&&(B|=8),D||!U&&!O||(B|=2048);var j=0,W=0;ne&&(j|=16),b==="UNIX"?(W=798,j|=(function(Y,ee){var ae=Y;return Y||(ae=ee?16893:33204),(65535&ae)<<16})(S.unixPermissions,ne)):(W=20,j|=(function(Y){return 63&(Y||0)})(S.dosPermissions)),w=z.getUTCHours(),w<<=6,w|=z.getUTCMinutes(),w<<=5,w|=z.getUTCSeconds()/2,C=z.getUTCFullYear()-1980,C<<=4,C|=z.getUTCMonth()+1,C<<=5,C|=z.getUTCDate(),U&&(X=s(1,1)+s(u(N),4)+k,K+="up"+s(X.length,2)+X),O&&(J=s(1,1)+s(u(P),4)+I,K+="uc"+s(J.length,2)+J);var G="";return G+=`
\0`,G+=s(B,2),G+=R.magic,G+=s(w,2),G+=s(C,2),G+=s(Q.crc32,4),G+=s(Q.compressedSize,4),G+=s(Q.uncompressedSize,4),G+=s(N.length,2),G+=s(K.length,2),{fileRecord:f.LOCAL_FILE_HEADER+G+N+K,dirRecord:f.CENTRAL_FILE_HEADER+s(W,2)+G+s(P.length,2)+"\0\0\0\0"+s(j,4)+s(y,4)+N+K+P}}var o=n("../utils"),l=n("../stream/GenericWorker"),c=n("../utf8"),u=n("../crc32"),f=n("../signature");function h(p,v,g,y){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=v,this.zipPlatform=g,this.encodeFileName=y,this.streamFiles=p,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(h,l),h.prototype.push=function(p){var v=p.meta.percent||0,g=this.entriesCount,y=this._sources.length;this.accumulate?this.contentBuffer.push(p):(this.bytesWritten+=p.data.length,l.prototype.push.call(this,{data:p.data,meta:{currentFile:this.currentFile,percent:g?(v+100*(g-y-1))/g:100}}))},h.prototype.openedSource=function(p){this.currentSourceOffset=this.bytesWritten,this.currentFile=p.file.name;var v=this.streamFiles&&!p.file.dir;if(v){var g=a(p,v,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:g.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(p){this.accumulate=!1;var v=this.streamFiles&&!p.file.dir,g=a(p,v,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(g.dirRecord),v)this.push({data:(function(y){return f.DATA_DESCRIPTOR+s(y.crc32,4)+s(y.compressedSize,4)+s(y.uncompressedSize,4)})(p),meta:{percent:100}});else for(this.push({data:g.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var p=this.bytesWritten,v=0;v<this.dirRecords.length;v++)this.push({data:this.dirRecords[v],meta:{percent:100}});var g=this.bytesWritten-p,y=(function(b,_,w,C,S){var R=o.transformTo("string",S(C));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(b,2)+s(b,2)+s(_,4)+s(w,4)+s(R.length,2)+R})(this.dirRecords.length,g,p,this.zipComment,this.encodeFileName);this.push({data:y,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(p){this._sources.push(p);var v=this;return p.on("data",function(g){v.processChunk(g)}),p.on("end",function(){v.closedSource(v.previous.streamInfo),v._sources.length?v.prepareNextSource():v.end()}),p.on("error",function(g){v.error(g)}),this},h.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(p){var v=this._sources;if(!l.prototype.error.call(this,p))return!1;for(var g=0;g<v.length;g++)try{v[g].error(p)}catch{}return!0},h.prototype.lock=function(){l.prototype.lock.call(this);for(var p=this._sources,v=0;v<p.length;v++)p[v].lock()},r.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var s=n("../compressions"),a=n("./ZipFileWorker");i.generateWorker=function(o,l,c){var u=new a(l.streamFiles,c,l.platform,l.encodeFileName),f=0;try{o.forEach(function(h,p){f++;var v=(function(_,w){var C=_||w,S=s[C];if(!S)throw new Error(C+" is not a valid compression method !");return S})(p.options.compression,l.compression),g=p.options.compressionOptions||l.compressionOptions||{},y=p.dir,b=p.date;p._compressWorker(v,g).withStreamInfo("file",{name:h,dir:y,date:b,comment:p.comment||"",unixPermissions:p.unixPermissions,dosPermissions:p.dosPermissions}).pipe(u)}),u.entriesCount=f}catch(h){u.error(h)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new s;for(var o in this)typeof this[o]!="function"&&(a[o]=this[o]);return a}}(s.prototype=n("./object")).loadAsync=n("./load"),s.support=n("./support"),s.defaults=n("./defaults"),s.version="3.10.1",s.loadAsync=function(a,o){return new s().loadAsync(a,o)},s.external=n("./external"),r.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var s=n("./utils"),a=n("./external"),o=n("./utf8"),l=n("./zipEntries"),c=n("./stream/Crc32Probe"),u=n("./nodejsUtils");function f(h){return new a.Promise(function(p,v){var g=h.decompressed.getContentWorker().pipe(new c);g.on("error",function(y){v(y)}).on("end",function(){g.streamInfo.crc32!==h.decompressed.crc32?v(new Error("Corrupted zip : CRC32 mismatch")):p()}).resume()})}r.exports=function(h,p){var v=this;return p=s.extend(p||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),u.isNode&&u.isStream(h)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",h,!0,p.optimizedBinaryString,p.base64).then(function(g){var y=new l(p);return y.load(g),y}).then(function(g){var y=[a.Promise.resolve(g)],b=g.files;if(p.checkCRC32)for(var _=0;_<b.length;_++)y.push(f(b[_]));return a.Promise.all(y)}).then(function(g){for(var y=g.shift(),b=y.files,_=0;_<b.length;_++){var w=b[_],C=w.fileNameStr,S=s.resolve(w.fileNameStr);v.file(S,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:p.createFolders}),w.dir||(v.file(S).unsafeOriginalName=C)}return y.zipComment.length&&(v.comment=y.zipComment),v})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var s=n("../utils"),a=n("../stream/GenericWorker");function o(l,c){a.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}s.inherits(o,a),o.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(u){c.push({data:u,meta:{percent:0}})}).on("error",function(u){c.isPaused?this.generatedError=u:c.error(u)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},o.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var s=n("readable-stream").Readable;function a(o,l,c){s.call(this,l),this._helper=o;var u=this;o.on("data",function(f,h){u.push(f)||u._helper.pause(),c&&c(h)}).on("error",function(f){u.emit("error",f)}).on("end",function(){u.push(null)})}n("../utils").inherits(a,s),a.prototype._read=function(){this._helper.resume()},r.exports=a},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,a);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,a)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var a=new Buffer(s);return a.fill(0),a},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(n,r,i){function s(S,R,D){var N,k=o.getTypeOf(R),F=o.extend(D||{},u);F.date=F.date||new Date,F.compression!==null&&(F.compression=F.compression.toUpperCase()),typeof F.unixPermissions=="string"&&(F.unixPermissions=parseInt(F.unixPermissions,8)),F.unixPermissions&&16384&F.unixPermissions&&(F.dir=!0),F.dosPermissions&&16&F.dosPermissions&&(F.dir=!0),F.dir&&(S=b(S)),F.createFolders&&(N=y(S))&&_.call(this,N,!0);var P=k==="string"&&F.binary===!1&&F.base64===!1;D&&D.binary!==void 0||(F.binary=!P),(R instanceof f&&R.uncompressedSize===0||F.dir||!R||R.length===0)&&(F.base64=!1,F.binary=!0,R="",F.compression="STORE",k="string");var I=null;I=R instanceof f||R instanceof l?R:v.isNode&&v.isStream(R)?new g(S,R):o.prepareContent(S,R,F.binary,F.optimizedBinaryString,F.base64);var U=new h(S,I,F);this.files[S]=U}var a=n("./utf8"),o=n("./utils"),l=n("./stream/GenericWorker"),c=n("./stream/StreamHelper"),u=n("./defaults"),f=n("./compressedObject"),h=n("./zipObject"),p=n("./generate"),v=n("./nodejsUtils"),g=n("./nodejs/NodejsStreamInputAdapter"),y=function(S){S.slice(-1)==="/"&&(S=S.substring(0,S.length-1));var R=S.lastIndexOf("/");return 0<R?S.substring(0,R):""},b=function(S){return S.slice(-1)!=="/"&&(S+="/"),S},_=function(S,R){return R=R!==void 0?R:u.createFolders,S=b(S),this.files[S]||s.call(this,S,null,{dir:!0,createFolders:R}),this.files[S]};function w(S){return Object.prototype.toString.call(S)==="[object RegExp]"}var C={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(S){var R,D,N;for(R in this.files)N=this.files[R],(D=R.slice(this.root.length,R.length))&&R.slice(0,this.root.length)===this.root&&S(D,N)},filter:function(S){var R=[];return this.forEach(function(D,N){S(D,N)&&R.push(N)}),R},file:function(S,R,D){if(arguments.length!==1)return S=this.root+S,s.call(this,S,R,D),this;if(w(S)){var N=S;return this.filter(function(F,P){return!P.dir&&N.test(F)})}var k=this.files[this.root+S];return k&&!k.dir?k:null},folder:function(S){if(!S)return this;if(w(S))return this.filter(function(k,F){return F.dir&&S.test(k)});var R=this.root+S,D=_.call(this,R),N=this.clone();return N.root=D.name,N},remove:function(S){S=this.root+S;var R=this.files[S];if(R||(S.slice(-1)!=="/"&&(S+="/"),R=this.files[S]),R&&!R.dir)delete this.files[S];else for(var D=this.filter(function(k,F){return F.name.slice(0,S.length)===S}),N=0;N<D.length;N++)delete this.files[D[N].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(S){var R,D={};try{if((D=o.extend(S||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=D.type.toLowerCase(),D.compression=D.compression.toUpperCase(),D.type==="binarystring"&&(D.type="string"),!D.type)throw new Error("No output type specified.");o.checkSupport(D.type),D.platform!=="darwin"&&D.platform!=="freebsd"&&D.platform!=="linux"&&D.platform!=="sunos"||(D.platform="UNIX"),D.platform==="win32"&&(D.platform="DOS");var N=D.comment||this.comment||"";R=p.generateWorker(this,D,N)}catch(k){(R=new l("error")).error(k)}return new c(R,D.type||"string",D.mimeType)},generateAsync:function(S,R){return this.generateInternalStream(S).accumulate(R)},generateNodeStream:function(S,R){return(S=S||{}).type||(S.type="nodebuffer"),this.generateInternalStream(S).toNodejsStream(R)}};r.exports=C},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var s=n("./DataReader");function a(o){s.call(this,o);for(var l=0;l<this.data.length;l++)o[l]=255&o[l]}n("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data[this.zero+o]},a.prototype.lastIndexOfSignature=function(o){for(var l=o.charCodeAt(0),c=o.charCodeAt(1),u=o.charCodeAt(2),f=o.charCodeAt(3),h=this.length-4;0<=h;--h)if(this.data[h]===l&&this.data[h+1]===c&&this.data[h+2]===u&&this.data[h+3]===f)return h-this.zero;return-1},a.prototype.readAndCheckSignature=function(o){var l=o.charCodeAt(0),c=o.charCodeAt(1),u=o.charCodeAt(2),f=o.charCodeAt(3),h=this.readData(4);return l===h[0]&&c===h[1]&&u===h[2]&&f===h[3]},a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var s=n("../utils");function a(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var l,c=0;for(this.checkOffset(o),l=this.index+o-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=o,c},readString:function(o){return s.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},r.exports=a},{"../utils":32}],19:[function(n,r,i){var s=n("./Uint8ArrayReader");function a(o){s.call(this,o)}n("../utils").inherits(a,s),a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var s=n("./DataReader");function a(o){s.call(this,o)}n("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},a.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},a.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var s=n("./ArrayReader");function a(o){s.call(this,o)}n("../utils").inherits(a,s),a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var s=n("../utils"),a=n("../support"),o=n("./ArrayReader"),l=n("./StringReader"),c=n("./NodeBufferReader"),u=n("./Uint8ArrayReader");r.exports=function(f){var h=s.getTypeOf(f);return s.checkSupport(h),h!=="string"||a.uint8array?h==="nodebuffer"?new c(f):a.uint8array?new u(s.transformTo("uint8array",f)):new o(s.transformTo("array",f)):new l(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var s=n("./GenericWorker"),a=n("../utils");function o(l){s.call(this,"ConvertWorker to "+l),this.destType=l}a.inherits(o,s),o.prototype.processChunk=function(l){this.push({data:a.transformTo(this.destType,l.data),meta:l.meta})},r.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var s=n("./GenericWorker"),a=n("../crc32");function o(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(o,s),o.prototype.processChunk=function(l){this.streamInfo.crc32=a(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var s=n("../utils"),a=n("./GenericWorker");function o(l){a.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(o,a),o.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}a.prototype.processChunk.call(this,l)},r.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var s=n("../utils"),a=n("./GenericWorker");function o(l){a.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(u){c.dataIsReady=!0,c.data=u,c.max=u&&u.length||0,c.type=s.getTypeOf(u),c.isPaused||c._tickAndRepeat()},function(u){c.error(u)})}s.inherits(o,a),o.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function s(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,o){return this._listeners[a].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,o){if(this._listeners[a])for(var l=0;l<this._listeners[a].length;l++)this._listeners[a][l].call(this,o)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var o=this;return a.on("data",function(l){o.processChunk(l)}),a.on("end",function(){o.end()}),a.on("error",function(l){o.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,o){return this.extraStreamInfo[a]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},r.exports=s},{}],29:[function(n,r,i){var s=n("../utils"),a=n("./ConvertWorker"),o=n("./GenericWorker"),l=n("../base64"),c=n("../support"),u=n("../external"),f=null;if(c.nodestream)try{f=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function h(v,g){return new u.Promise(function(y,b){var _=[],w=v._internalType,C=v._outputType,S=v._mimeType;v.on("data",function(R,D){_.push(R),g&&g(D)}).on("error",function(R){_=[],b(R)}).on("end",function(){try{var R=(function(D,N,k){switch(D){case"blob":return s.newBlob(s.transformTo("arraybuffer",N),k);case"base64":return l.encode(N);default:return s.transformTo(D,N)}})(C,(function(D,N){var k,F=0,P=null,I=0;for(k=0;k<N.length;k++)I+=N[k].length;switch(D){case"string":return N.join("");case"array":return Array.prototype.concat.apply([],N);case"uint8array":for(P=new Uint8Array(I),k=0;k<N.length;k++)P.set(N[k],F),F+=N[k].length;return P;case"nodebuffer":return Buffer.concat(N);default:throw new Error("concat : unsupported type '"+D+"'")}})(w,_),S);y(R)}catch(D){b(D)}_=[]}).resume()})}function p(v,g,y){var b=g;switch(g){case"blob":case"arraybuffer":b="uint8array";break;case"base64":b="string"}try{this._internalType=b,this._outputType=g,this._mimeType=y,s.checkSupport(b),this._worker=v.pipe(new a(b)),v.lock()}catch(_){this._worker=new o("error"),this._worker.error(_)}}p.prototype={accumulate:function(v){return h(this,v)},on:function(v,g){var y=this;return v==="data"?this._worker.on(v,function(b){g.call(y,b.data,b.meta)}):this._worker.on(v,function(){s.delay(g,arguments,y)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(v){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},v)}},r.exports=p},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(s),i.blob=a.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var s=n("./utils"),a=n("./support"),o=n("./nodejsUtils"),l=n("./stream/GenericWorker"),c=new Array(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;c[254]=c[254]=1;function f(){l.call(this,"utf-8 decode"),this.leftOver=null}function h(){l.call(this,"utf-8 encode")}i.utf8encode=function(p){return a.nodebuffer?o.newBufferFrom(p,"utf-8"):(function(v){var g,y,b,_,w,C=v.length,S=0;for(_=0;_<C;_++)(64512&(y=v.charCodeAt(_)))==55296&&_+1<C&&(64512&(b=v.charCodeAt(_+1)))==56320&&(y=65536+(y-55296<<10)+(b-56320),_++),S+=y<128?1:y<2048?2:y<65536?3:4;for(g=a.uint8array?new Uint8Array(S):new Array(S),_=w=0;w<S;_++)(64512&(y=v.charCodeAt(_)))==55296&&_+1<C&&(64512&(b=v.charCodeAt(_+1)))==56320&&(y=65536+(y-55296<<10)+(b-56320),_++),y<128?g[w++]=y:(y<2048?g[w++]=192|y>>>6:(y<65536?g[w++]=224|y>>>12:(g[w++]=240|y>>>18,g[w++]=128|y>>>12&63),g[w++]=128|y>>>6&63),g[w++]=128|63&y);return g})(p)},i.utf8decode=function(p){return a.nodebuffer?s.transformTo("nodebuffer",p).toString("utf-8"):(function(v){var g,y,b,_,w=v.length,C=new Array(2*w);for(g=y=0;g<w;)if((b=v[g++])<128)C[y++]=b;else if(4<(_=c[b]))C[y++]=65533,g+=_-1;else{for(b&=_===2?31:_===3?15:7;1<_&&g<w;)b=b<<6|63&v[g++],_--;1<_?C[y++]=65533:b<65536?C[y++]=b:(b-=65536,C[y++]=55296|b>>10&1023,C[y++]=56320|1023&b)}return C.length!==y&&(C.subarray?C=C.subarray(0,y):C.length=y),s.applyFromCharCode(C)})(p=s.transformTo(a.uint8array?"uint8array":"array",p))},s.inherits(f,l),f.prototype.processChunk=function(p){var v=s.transformTo(a.uint8array?"uint8array":"array",p.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var g=v;(v=new Uint8Array(g.length+this.leftOver.length)).set(this.leftOver,0),v.set(g,this.leftOver.length)}else v=this.leftOver.concat(v);this.leftOver=null}var y=(function(_,w){var C;for((w=w||_.length)>_.length&&(w=_.length),C=w-1;0<=C&&(192&_[C])==128;)C--;return C<0||C===0?w:C+c[_[C]]>w?C:w})(v),b=v;y!==v.length&&(a.uint8array?(b=v.subarray(0,y),this.leftOver=v.subarray(y,v.length)):(b=v.slice(0,y),this.leftOver=v.slice(y,v.length))),this.push({data:i.utf8decode(b),meta:p.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=f,s.inherits(h,l),h.prototype.processChunk=function(p){this.push({data:i.utf8encode(p.data),meta:p.meta})},i.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var s=n("./support"),a=n("./base64"),o=n("./nodejsUtils"),l=n("./external");function c(g){return g}function u(g,y){for(var b=0;b<g.length;++b)y[b]=255&g.charCodeAt(b);return y}n("setimmediate"),i.newBlob=function(g,y){i.checkSupport("blob");try{return new Blob([g],{type:y})}catch{try{var b=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return b.append(g),b.getBlob(y)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(g,y,b){var _=[],w=0,C=g.length;if(C<=b)return String.fromCharCode.apply(null,g);for(;w<C;)y==="array"||y==="nodebuffer"?_.push(String.fromCharCode.apply(null,g.slice(w,Math.min(w+b,C)))):_.push(String.fromCharCode.apply(null,g.subarray(w,Math.min(w+b,C)))),w+=b;return _.join("")},stringifyByChar:function(g){for(var y="",b=0;b<g.length;b++)y+=String.fromCharCode(g[b]);return y},applyCanBeUsed:{uint8array:(function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}})()}};function h(g){var y=65536,b=i.getTypeOf(g),_=!0;if(b==="uint8array"?_=f.applyCanBeUsed.uint8array:b==="nodebuffer"&&(_=f.applyCanBeUsed.nodebuffer),_)for(;1<y;)try{return f.stringifyByChunk(g,b,y)}catch{y=Math.floor(y/2)}return f.stringifyByChar(g)}function p(g,y){for(var b=0;b<g.length;b++)y[b]=g[b];return y}i.applyFromCharCode=h;var v={};v.string={string:c,array:function(g){return u(g,new Array(g.length))},arraybuffer:function(g){return v.string.uint8array(g).buffer},uint8array:function(g){return u(g,new Uint8Array(g.length))},nodebuffer:function(g){return u(g,o.allocBuffer(g.length))}},v.array={string:h,array:c,arraybuffer:function(g){return new Uint8Array(g).buffer},uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return o.newBufferFrom(g)}},v.arraybuffer={string:function(g){return h(new Uint8Array(g))},array:function(g){return p(new Uint8Array(g),new Array(g.byteLength))},arraybuffer:c,uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return o.newBufferFrom(new Uint8Array(g))}},v.uint8array={string:h,array:function(g){return p(g,new Array(g.length))},arraybuffer:function(g){return g.buffer},uint8array:c,nodebuffer:function(g){return o.newBufferFrom(g)}},v.nodebuffer={string:h,array:function(g){return p(g,new Array(g.length))},arraybuffer:function(g){return v.nodebuffer.uint8array(g).buffer},uint8array:function(g){return p(g,new Uint8Array(g.length))},nodebuffer:c},i.transformTo=function(g,y){if(y=y||"",!g)return y;i.checkSupport(g);var b=i.getTypeOf(y);return v[b][g](y)},i.resolve=function(g){for(var y=g.split("/"),b=[],_=0;_<y.length;_++){var w=y[_];w==="."||w===""&&_!==0&&_!==y.length-1||(w===".."?b.pop():b.push(w))}return b.join("/")},i.getTypeOf=function(g){return typeof g=="string"?"string":Object.prototype.toString.call(g)==="[object Array]"?"array":s.nodebuffer&&o.isBuffer(g)?"nodebuffer":s.uint8array&&g instanceof Uint8Array?"uint8array":s.arraybuffer&&g instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(g){if(!s[g.toLowerCase()])throw new Error(g+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(g){var y,b,_="";for(b=0;b<(g||"").length;b++)_+="\\x"+((y=g.charCodeAt(b))<16?"0":"")+y.toString(16).toUpperCase();return _},i.delay=function(g,y,b){setImmediate(function(){g.apply(b||null,y||[])})},i.inherits=function(g,y){function b(){}b.prototype=y.prototype,g.prototype=new b},i.extend=function(){var g,y,b={};for(g=0;g<arguments.length;g++)for(y in arguments[g])Object.prototype.hasOwnProperty.call(arguments[g],y)&&b[y]===void 0&&(b[y]=arguments[g][y]);return b},i.prepareContent=function(g,y,b,_,w){return l.Promise.resolve(y).then(function(C){return s.blob&&(C instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(C))!==-1)&&typeof FileReader<"u"?new l.Promise(function(S,R){var D=new FileReader;D.onload=function(N){S(N.target.result)},D.onerror=function(N){R(N.target.error)},D.readAsArrayBuffer(C)}):C}).then(function(C){var S=i.getTypeOf(C);return S?(S==="arraybuffer"?C=i.transformTo("uint8array",C):S==="string"&&(w?C=a.decode(C):b&&_!==!0&&(C=(function(R){return u(R,s.uint8array?new Uint8Array(R.length):new Array(R.length))})(C))),C):l.Promise.reject(new Error("Can't read the data of '"+g+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var s=n("./reader/readerFor"),a=n("./utils"),o=n("./signature"),l=n("./zipEntry"),c=n("./support");function u(f){this.files=[],this.loadOptions=f}u.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var h=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(h)+", expected "+a.pretty(f)+")")}},isSignature:function(f,h){var p=this.reader.index;this.reader.setIndex(f);var v=this.reader.readString(4)===h;return this.reader.setIndex(p),v},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),h=c.uint8array?"uint8array":"array",p=a.transformTo(h,f);this.zipComment=this.loadOptions.decodeFileName(p)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,h,p,v=this.zip64EndOfCentralSize-44;0<v;)f=this.reader.readInt(2),h=this.reader.readInt(4),p=this.reader.readData(h),this.zip64ExtensibleData[f]={id:f,length:h,value:p}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,h;for(f=0;f<this.files.length;f++)h=this.files[f],this.reader.setIndex(h.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),h.readLocalPart(this.reader),h.handleUTF8(),h.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(f=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var h=f;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var p=this.centralDirOffset+this.centralDirSize;this.zip64&&(p+=20,p+=12+this.zip64EndOfCentralSize);var v=h-p;if(0<v)this.isSignature(h,o.CENTRAL_FILE_HEADER)||(this.reader.zero=v);else if(v<0)throw new Error("Corrupted zip: missing "+Math.abs(v)+" bytes.")},prepareReader:function(f){this.reader=s(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var s=n("./reader/readerFor"),a=n("./utils"),o=n("./compressedObject"),l=n("./crc32"),c=n("./utf8"),u=n("./compressions"),f=n("./support");function h(p,v){this.options=p,this.loadOptions=v}h.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(p){var v,g;if(p.skip(22),this.fileNameLength=p.readInt(2),g=p.readInt(2),this.fileName=p.readData(this.fileNameLength),p.skip(g),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((v=(function(y){for(var b in u)if(Object.prototype.hasOwnProperty.call(u,b)&&u[b].magic===y)return u[b];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,v,p.readData(this.compressedSize))},readCentralPart:function(p){this.versionMadeBy=p.readInt(2),p.skip(2),this.bitFlag=p.readInt(2),this.compressionMethod=p.readString(2),this.date=p.readDate(),this.crc32=p.readInt(4),this.compressedSize=p.readInt(4),this.uncompressedSize=p.readInt(4);var v=p.readInt(2);if(this.extraFieldsLength=p.readInt(2),this.fileCommentLength=p.readInt(2),this.diskNumberStart=p.readInt(2),this.internalFileAttributes=p.readInt(2),this.externalFileAttributes=p.readInt(4),this.localHeaderOffset=p.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");p.skip(v),this.readExtraFields(p),this.parseZIP64ExtraField(p),this.fileComment=p.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var p=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),p==0&&(this.dosPermissions=63&this.externalFileAttributes),p==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var p=s(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=p.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=p.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=p.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=p.readInt(4))}},readExtraFields:function(p){var v,g,y,b=p.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});p.index+4<b;)v=p.readInt(2),g=p.readInt(2),y=p.readData(g),this.extraFields[v]={id:v,length:g,value:y};p.setIndex(b)},handleUTF8:function(){var p=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var v=this.findExtraFieldUnicodePath();if(v!==null)this.fileNameStr=v;else{var g=a.transformTo(p,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(g)}var y=this.findExtraFieldUnicodeComment();if(y!==null)this.fileCommentStr=y;else{var b=a.transformTo(p,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(b)}}},findExtraFieldUnicodePath:function(){var p=this.extraFields[28789];if(p){var v=s(p.value);return v.readInt(1)!==1||l(this.fileName)!==v.readInt(4)?null:c.utf8decode(v.readData(p.length-5))}return null},findExtraFieldUnicodeComment:function(){var p=this.extraFields[25461];if(p){var v=s(p.value);return v.readInt(1)!==1||l(this.fileComment)!==v.readInt(4)?null:c.utf8decode(v.readData(p.length-5))}return null}},r.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function s(v,g,y){this.name=v,this.dir=y.dir,this.date=y.date,this.comment=y.comment,this.unixPermissions=y.unixPermissions,this.dosPermissions=y.dosPermissions,this._data=g,this._dataBinary=y.binary,this.options={compression:y.compression,compressionOptions:y.compressionOptions}}var a=n("./stream/StreamHelper"),o=n("./stream/DataWorker"),l=n("./utf8"),c=n("./compressedObject"),u=n("./stream/GenericWorker");s.prototype={internalStream:function(v){var g=null,y="string";try{if(!v)throw new Error("No output type specified.");var b=(y=v.toLowerCase())==="string"||y==="text";y!=="binarystring"&&y!=="text"||(y="string"),g=this._decompressWorker();var _=!this._dataBinary;_&&!b&&(g=g.pipe(new l.Utf8EncodeWorker)),!_&&b&&(g=g.pipe(new l.Utf8DecodeWorker))}catch(w){(g=new u("error")).error(w)}return new a(g,y,"")},async:function(v,g){return this.internalStream(v).accumulate(g)},nodeStream:function(v,g){return this.internalStream(v||"nodebuffer").toNodejsStream(g)},_compressWorker:function(v,g){if(this._data instanceof c&&this._data.compression.magic===v.magic)return this._data.getCompressedWorker();var y=this._decompressWorker();return this._dataBinary||(y=y.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(y,v,g)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof u?this._data:new o(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},p=0;p<f.length;p++)s.prototype[f[p]]=h;r.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(s){var a,o,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var c=0,u=new l(v),f=s.document.createTextNode("");u.observe(f,{characterData:!0}),a=function(){f.data=c=++c%2}}else if(s.setImmediate||s.MessageChannel===void 0)a="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var g=s.document.createElement("script");g.onreadystatechange=function(){v(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},s.document.documentElement.appendChild(g)}:function(){setTimeout(v,0)};else{var h=new s.MessageChannel;h.port1.onmessage=v,a=function(){h.port2.postMessage(0)}}var p=[];function v(){var g,y;o=!0;for(var b=p.length;b;){for(y=p,p=[],g=-1;++g<b;)y[g]();b=p.length}o=!1}r.exports=function(g){p.push(g)!==1||o||a()}}).call(this,typeof fs<"u"?fs:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var s=n("immediate");function a(){}var o={},l=["REJECTED"],c=["FULFILLED"],u=["PENDING"];function f(b){if(typeof b!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,b!==a&&g(this,b)}function h(b,_,w){this.promise=b,typeof _=="function"&&(this.onFulfilled=_,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}function p(b,_,w){s(function(){var C;try{C=_(w)}catch(S){return o.reject(b,S)}C===b?o.reject(b,new TypeError("Cannot resolve promise with itself")):o.resolve(b,C)})}function v(b){var _=b&&b.then;if(b&&(typeof b=="object"||typeof b=="function")&&typeof _=="function")return function(){_.apply(b,arguments)}}function g(b,_){var w=!1;function C(D){w||(w=!0,o.reject(b,D))}function S(D){w||(w=!0,o.resolve(b,D))}var R=y(function(){_(S,C)});R.status==="error"&&C(R.value)}function y(b,_){var w={};try{w.value=b(_),w.status="success"}catch(C){w.status="error",w.value=C}return w}(r.exports=f).prototype.finally=function(b){if(typeof b!="function")return this;var _=this.constructor;return this.then(function(w){return _.resolve(b()).then(function(){return w})},function(w){return _.resolve(b()).then(function(){throw w})})},f.prototype.catch=function(b){return this.then(null,b)},f.prototype.then=function(b,_){if(typeof b!="function"&&this.state===c||typeof _!="function"&&this.state===l)return this;var w=new this.constructor(a);return this.state!==u?p(w,this.state===c?b:_,this.outcome):this.queue.push(new h(w,b,_)),w},h.prototype.callFulfilled=function(b){o.resolve(this.promise,b)},h.prototype.otherCallFulfilled=function(b){p(this.promise,this.onFulfilled,b)},h.prototype.callRejected=function(b){o.reject(this.promise,b)},h.prototype.otherCallRejected=function(b){p(this.promise,this.onRejected,b)},o.resolve=function(b,_){var w=y(v,_);if(w.status==="error")return o.reject(b,w.value);var C=w.value;if(C)g(b,C);else{b.state=c,b.outcome=_;for(var S=-1,R=b.queue.length;++S<R;)b.queue[S].callFulfilled(_)}return b},o.reject=function(b,_){b.state=l,b.outcome=_;for(var w=-1,C=b.queue.length;++w<C;)b.queue[w].callRejected(_);return b},f.resolve=function(b){return b instanceof this?b:o.resolve(new this(a),b)},f.reject=function(b){var _=new this(a);return o.reject(_,b)},f.all=function(b){var _=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=b.length,C=!1;if(!w)return this.resolve([]);for(var S=new Array(w),R=0,D=-1,N=new this(a);++D<w;)k(b[D],D);return N;function k(F,P){_.resolve(F).then(function(I){S[P]=I,++R!==w||C||(C=!0,o.resolve(N,S))},function(I){C||(C=!0,o.reject(N,I))})}},f.race=function(b){var _=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=b.length,C=!1;if(!w)return this.resolve([]);for(var S=-1,R=new this(a);++S<w;)D=b[S],_.resolve(D).then(function(N){C||(C=!0,o.resolve(R,N))},function(N){C||(C=!0,o.reject(R,N))});var D;return R}},{immediate:36}],38:[function(n,r,i){var s={};(0,n("./lib/utils/common").assign)(s,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var s=n("./zlib/deflate"),a=n("./utils/common"),o=n("./utils/strings"),l=n("./zlib/messages"),c=n("./zlib/zstream"),u=Object.prototype.toString,f=0,h=-1,p=0,v=8;function g(b){if(!(this instanceof g))return new g(b);this.options=a.assign({level:h,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},b||{});var _=this.options;_.raw&&0<_.windowBits?_.windowBits=-_.windowBits:_.gzip&&0<_.windowBits&&_.windowBits<16&&(_.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var w=s.deflateInit2(this.strm,_.level,_.method,_.windowBits,_.memLevel,_.strategy);if(w!==f)throw new Error(l[w]);if(_.header&&s.deflateSetHeader(this.strm,_.header),_.dictionary){var C;if(C=typeof _.dictionary=="string"?o.string2buf(_.dictionary):u.call(_.dictionary)==="[object ArrayBuffer]"?new Uint8Array(_.dictionary):_.dictionary,(w=s.deflateSetDictionary(this.strm,C))!==f)throw new Error(l[w]);this._dict_set=!0}}function y(b,_){var w=new g(_);if(w.push(b,!0),w.err)throw w.msg||l[w.err];return w.result}g.prototype.push=function(b,_){var w,C,S=this.strm,R=this.options.chunkSize;if(this.ended)return!1;C=_===~~_?_:_===!0?4:0,typeof b=="string"?S.input=o.string2buf(b):u.call(b)==="[object ArrayBuffer]"?S.input=new Uint8Array(b):S.input=b,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new a.Buf8(R),S.next_out=0,S.avail_out=R),(w=s.deflate(S,C))!==1&&w!==f)return this.onEnd(w),!(this.ended=!0);S.avail_out!==0&&(S.avail_in!==0||C!==4&&C!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(a.shrinkBuf(S.output,S.next_out))):this.onData(a.shrinkBuf(S.output,S.next_out)))}while((0<S.avail_in||S.avail_out===0)&&w!==1);return C===4?(w=s.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===f):C!==2||(this.onEnd(f),!(S.avail_out=0))},g.prototype.onData=function(b){this.chunks.push(b)},g.prototype.onEnd=function(b){b===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg},i.Deflate=g,i.deflate=y,i.deflateRaw=function(b,_){return(_=_||{}).raw=!0,y(b,_)},i.gzip=function(b,_){return(_=_||{}).gzip=!0,y(b,_)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var s=n("./zlib/inflate"),a=n("./utils/common"),o=n("./utils/strings"),l=n("./zlib/constants"),c=n("./zlib/messages"),u=n("./zlib/zstream"),f=n("./zlib/gzheader"),h=Object.prototype.toString;function p(g){if(!(this instanceof p))return new p(g);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},g||{});var y=this.options;y.raw&&0<=y.windowBits&&y.windowBits<16&&(y.windowBits=-y.windowBits,y.windowBits===0&&(y.windowBits=-15)),!(0<=y.windowBits&&y.windowBits<16)||g&&g.windowBits||(y.windowBits+=32),15<y.windowBits&&y.windowBits<48&&(15&y.windowBits)==0&&(y.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var b=s.inflateInit2(this.strm,y.windowBits);if(b!==l.Z_OK)throw new Error(c[b]);this.header=new f,s.inflateGetHeader(this.strm,this.header)}function v(g,y){var b=new p(y);if(b.push(g,!0),b.err)throw b.msg||c[b.err];return b.result}p.prototype.push=function(g,y){var b,_,w,C,S,R,D=this.strm,N=this.options.chunkSize,k=this.options.dictionary,F=!1;if(this.ended)return!1;_=y===~~y?y:y===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof g=="string"?D.input=o.binstring2buf(g):h.call(g)==="[object ArrayBuffer]"?D.input=new Uint8Array(g):D.input=g,D.next_in=0,D.avail_in=D.input.length;do{if(D.avail_out===0&&(D.output=new a.Buf8(N),D.next_out=0,D.avail_out=N),(b=s.inflate(D,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&k&&(R=typeof k=="string"?o.string2buf(k):h.call(k)==="[object ArrayBuffer]"?new Uint8Array(k):k,b=s.inflateSetDictionary(this.strm,R)),b===l.Z_BUF_ERROR&&F===!0&&(b=l.Z_OK,F=!1),b!==l.Z_STREAM_END&&b!==l.Z_OK)return this.onEnd(b),!(this.ended=!0);D.next_out&&(D.avail_out!==0&&b!==l.Z_STREAM_END&&(D.avail_in!==0||_!==l.Z_FINISH&&_!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(w=o.utf8border(D.output,D.next_out),C=D.next_out-w,S=o.buf2string(D.output,w),D.next_out=C,D.avail_out=N-C,C&&a.arraySet(D.output,D.output,w,C,0),this.onData(S)):this.onData(a.shrinkBuf(D.output,D.next_out)))),D.avail_in===0&&D.avail_out===0&&(F=!0)}while((0<D.avail_in||D.avail_out===0)&&b!==l.Z_STREAM_END);return b===l.Z_STREAM_END&&(_=l.Z_FINISH),_===l.Z_FINISH?(b=s.inflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===l.Z_OK):_!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(D.avail_out=0))},p.prototype.onData=function(g){this.chunks.push(g)},p.prototype.onEnd=function(g){g===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},i.Inflate=p,i.inflate=v,i.inflateRaw=function(g,y){return(y=y||{}).raw=!0,v(g,y)},i.ungzip=v},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var u=c.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var f in u)u.hasOwnProperty(f)&&(l[f]=u[f])}}return l},i.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var a={arraySet:function(l,c,u,f,h){if(c.subarray&&l.subarray)l.set(c.subarray(u,u+f),h);else for(var p=0;p<f;p++)l[h+p]=c[u+p]},flattenChunks:function(l){var c,u,f,h,p,v;for(c=f=0,u=l.length;c<u;c++)f+=l[c].length;for(v=new Uint8Array(f),c=h=0,u=l.length;c<u;c++)p=l[c],v.set(p,h),h+=p.length;return v}},o={arraySet:function(l,c,u,f,h){for(var p=0;p<f;p++)l[h+p]=c[u+p]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,a)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(s)},{}],42:[function(n,r,i){var s=n("./common"),a=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var l=new s.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function u(f,h){if(h<65537&&(f.subarray&&o||!f.subarray&&a))return String.fromCharCode.apply(null,s.shrinkBuf(f,h));for(var p="",v=0;v<h;v++)p+=String.fromCharCode(f[v]);return p}l[254]=l[254]=1,i.string2buf=function(f){var h,p,v,g,y,b=f.length,_=0;for(g=0;g<b;g++)(64512&(p=f.charCodeAt(g)))==55296&&g+1<b&&(64512&(v=f.charCodeAt(g+1)))==56320&&(p=65536+(p-55296<<10)+(v-56320),g++),_+=p<128?1:p<2048?2:p<65536?3:4;for(h=new s.Buf8(_),g=y=0;y<_;g++)(64512&(p=f.charCodeAt(g)))==55296&&g+1<b&&(64512&(v=f.charCodeAt(g+1)))==56320&&(p=65536+(p-55296<<10)+(v-56320),g++),p<128?h[y++]=p:(p<2048?h[y++]=192|p>>>6:(p<65536?h[y++]=224|p>>>12:(h[y++]=240|p>>>18,h[y++]=128|p>>>12&63),h[y++]=128|p>>>6&63),h[y++]=128|63&p);return h},i.buf2binstring=function(f){return u(f,f.length)},i.binstring2buf=function(f){for(var h=new s.Buf8(f.length),p=0,v=h.length;p<v;p++)h[p]=f.charCodeAt(p);return h},i.buf2string=function(f,h){var p,v,g,y,b=h||f.length,_=new Array(2*b);for(p=v=0;p<b;)if((g=f[p++])<128)_[v++]=g;else if(4<(y=l[g]))_[v++]=65533,p+=y-1;else{for(g&=y===2?31:y===3?15:7;1<y&&p<b;)g=g<<6|63&f[p++],y--;1<y?_[v++]=65533:g<65536?_[v++]=g:(g-=65536,_[v++]=55296|g>>10&1023,_[v++]=56320|1023&g)}return u(_,v)},i.utf8border=function(f,h){var p;for((h=h||f.length)>f.length&&(h=f.length),p=h-1;0<=p&&(192&f[p])==128;)p--;return p<0||p===0?h:p+l[f[p]]>h?p:h}},{"./common":41}],43:[function(n,r,i){r.exports=function(s,a,o,l){for(var c=65535&s|0,u=s>>>16&65535|0,f=0;o!==0;){for(o-=f=2e3<o?2e3:o;u=u+(c=c+a[l++]|0)|0,--f;);c%=65521,u%=65521}return c|u<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var s=(function(){for(var a,o=[],l=0;l<256;l++){a=l;for(var c=0;c<8;c++)a=1&a?3988292384^a>>>1:a>>>1;o[l]=a}return o})();r.exports=function(a,o,l,c){var u=s,f=c+l;a^=-1;for(var h=c;h<f;h++)a=a>>>8^u[255&(a^o[h])];return-1^a}},{}],46:[function(n,r,i){var s,a=n("../utils/common"),o=n("./trees"),l=n("./adler32"),c=n("./crc32"),u=n("./messages"),f=0,h=4,p=0,v=-2,g=-1,y=4,b=2,_=8,w=9,C=286,S=30,R=19,D=2*C+1,N=15,k=3,F=258,P=F+k+1,I=42,U=113,O=1,K=2,X=3,J=4;function ne(V,ye){return V.msg=u[ye],ye}function z(V){return(V<<1)-(4<V?9:0)}function Q(V){for(var ye=V.length;0<=--ye;)V[ye]=0}function B(V){var ye=V.state,be=ye.pending;be>V.avail_out&&(be=V.avail_out),be!==0&&(a.arraySet(V.output,ye.pending_buf,ye.pending_out,be,V.next_out),V.next_out+=be,ye.pending_out+=be,V.total_out+=be,V.avail_out-=be,ye.pending-=be,ye.pending===0&&(ye.pending_out=0))}function j(V,ye){o._tr_flush_block(V,0<=V.block_start?V.block_start:-1,V.strstart-V.block_start,ye),V.block_start=V.strstart,B(V.strm)}function W(V,ye){V.pending_buf[V.pending++]=ye}function G(V,ye){V.pending_buf[V.pending++]=ye>>>8&255,V.pending_buf[V.pending++]=255&ye}function Y(V,ye){var be,oe,re=V.max_chain_length,le=V.strstart,he=V.prev_length,_e=V.nice_match,ie=V.strstart>V.w_size-P?V.strstart-(V.w_size-P):0,ce=V.window,ge=V.w_mask,ve=V.prev,Se=V.strstart+F,Oe=ce[le+he-1],Te=ce[le+he];V.prev_length>=V.good_match&&(re>>=2),_e>V.lookahead&&(_e=V.lookahead);do if(ce[(be=ye)+he]===Te&&ce[be+he-1]===Oe&&ce[be]===ce[le]&&ce[++be]===ce[le+1]){le+=2,be++;do;while(ce[++le]===ce[++be]&&ce[++le]===ce[++be]&&ce[++le]===ce[++be]&&ce[++le]===ce[++be]&&ce[++le]===ce[++be]&&ce[++le]===ce[++be]&&ce[++le]===ce[++be]&&ce[++le]===ce[++be]&&le<Se);if(oe=F-(Se-le),le=Se-F,he<oe){if(V.match_start=ye,_e<=(he=oe))break;Oe=ce[le+he-1],Te=ce[le+he]}}while((ye=ve[ye&ge])>ie&&--re!=0);return he<=V.lookahead?he:V.lookahead}function ee(V){var ye,be,oe,re,le,he,_e,ie,ce,ge,ve=V.w_size;do{if(re=V.window_size-V.lookahead-V.strstart,V.strstart>=ve+(ve-P)){for(a.arraySet(V.window,V.window,ve,ve,0),V.match_start-=ve,V.strstart-=ve,V.block_start-=ve,ye=be=V.hash_size;oe=V.head[--ye],V.head[ye]=ve<=oe?oe-ve:0,--be;);for(ye=be=ve;oe=V.prev[--ye],V.prev[ye]=ve<=oe?oe-ve:0,--be;);re+=ve}if(V.strm.avail_in===0)break;if(he=V.strm,_e=V.window,ie=V.strstart+V.lookahead,ce=re,ge=void 0,ge=he.avail_in,ce<ge&&(ge=ce),be=ge===0?0:(he.avail_in-=ge,a.arraySet(_e,he.input,he.next_in,ge,ie),he.state.wrap===1?he.adler=l(he.adler,_e,ge,ie):he.state.wrap===2&&(he.adler=c(he.adler,_e,ge,ie)),he.next_in+=ge,he.total_in+=ge,ge),V.lookahead+=be,V.lookahead+V.insert>=k)for(le=V.strstart-V.insert,V.ins_h=V.window[le],V.ins_h=(V.ins_h<<V.hash_shift^V.window[le+1])&V.hash_mask;V.insert&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[le+k-1])&V.hash_mask,V.prev[le&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=le,le++,V.insert--,!(V.lookahead+V.insert<k)););}while(V.lookahead<P&&V.strm.avail_in!==0)}function ae(V,ye){for(var be,oe;;){if(V.lookahead<P){if(ee(V),V.lookahead<P&&ye===f)return O;if(V.lookahead===0)break}if(be=0,V.lookahead>=k&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+k-1])&V.hash_mask,be=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),be!==0&&V.strstart-be<=V.w_size-P&&(V.match_length=Y(V,be)),V.match_length>=k)if(oe=o._tr_tally(V,V.strstart-V.match_start,V.match_length-k),V.lookahead-=V.match_length,V.match_length<=V.max_lazy_match&&V.lookahead>=k){for(V.match_length--;V.strstart++,V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+k-1])&V.hash_mask,be=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart,--V.match_length!=0;);V.strstart++}else V.strstart+=V.match_length,V.match_length=0,V.ins_h=V.window[V.strstart],V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+1])&V.hash_mask;else oe=o._tr_tally(V,0,V.window[V.strstart]),V.lookahead--,V.strstart++;if(oe&&(j(V,!1),V.strm.avail_out===0))return O}return V.insert=V.strstart<k-1?V.strstart:k-1,ye===h?(j(V,!0),V.strm.avail_out===0?X:J):V.last_lit&&(j(V,!1),V.strm.avail_out===0)?O:K}function de(V,ye){for(var be,oe,re;;){if(V.lookahead<P){if(ee(V),V.lookahead<P&&ye===f)return O;if(V.lookahead===0)break}if(be=0,V.lookahead>=k&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+k-1])&V.hash_mask,be=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),V.prev_length=V.match_length,V.prev_match=V.match_start,V.match_length=k-1,be!==0&&V.prev_length<V.max_lazy_match&&V.strstart-be<=V.w_size-P&&(V.match_length=Y(V,be),V.match_length<=5&&(V.strategy===1||V.match_length===k&&4096<V.strstart-V.match_start)&&(V.match_length=k-1)),V.prev_length>=k&&V.match_length<=V.prev_length){for(re=V.strstart+V.lookahead-k,oe=o._tr_tally(V,V.strstart-1-V.prev_match,V.prev_length-k),V.lookahead-=V.prev_length-1,V.prev_length-=2;++V.strstart<=re&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+k-1])&V.hash_mask,be=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),--V.prev_length!=0;);if(V.match_available=0,V.match_length=k-1,V.strstart++,oe&&(j(V,!1),V.strm.avail_out===0))return O}else if(V.match_available){if((oe=o._tr_tally(V,0,V.window[V.strstart-1]))&&j(V,!1),V.strstart++,V.lookahead--,V.strm.avail_out===0)return O}else V.match_available=1,V.strstart++,V.lookahead--}return V.match_available&&(oe=o._tr_tally(V,0,V.window[V.strstart-1]),V.match_available=0),V.insert=V.strstart<k-1?V.strstart:k-1,ye===h?(j(V,!0),V.strm.avail_out===0?X:J):V.last_lit&&(j(V,!1),V.strm.avail_out===0)?O:K}function fe(V,ye,be,oe,re){this.good_length=V,this.max_lazy=ye,this.nice_length=be,this.max_chain=oe,this.func=re}function De(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=_,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*D),this.dyn_dtree=new a.Buf16(2*(2*S+1)),this.bl_tree=new a.Buf16(2*(2*R+1)),Q(this.dyn_ltree),Q(this.dyn_dtree),Q(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(N+1),this.heap=new a.Buf16(2*C+1),Q(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*C+1),Q(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Pe(V){var ye;return V&&V.state?(V.total_in=V.total_out=0,V.data_type=b,(ye=V.state).pending=0,ye.pending_out=0,ye.wrap<0&&(ye.wrap=-ye.wrap),ye.status=ye.wrap?I:U,V.adler=ye.wrap===2?0:1,ye.last_flush=f,o._tr_init(ye),p):ne(V,v)}function me(V){var ye=Pe(V);return ye===p&&(function(be){be.window_size=2*be.w_size,Q(be.head),be.max_lazy_match=s[be.level].max_lazy,be.good_match=s[be.level].good_length,be.nice_match=s[be.level].nice_length,be.max_chain_length=s[be.level].max_chain,be.strstart=0,be.block_start=0,be.lookahead=0,be.insert=0,be.match_length=be.prev_length=k-1,be.match_available=0,be.ins_h=0})(V.state),ye}function je(V,ye,be,oe,re,le){if(!V)return v;var he=1;if(ye===g&&(ye=6),oe<0?(he=0,oe=-oe):15<oe&&(he=2,oe-=16),re<1||w<re||be!==_||oe<8||15<oe||ye<0||9<ye||le<0||y<le)return ne(V,v);oe===8&&(oe=9);var _e=new De;return(V.state=_e).strm=V,_e.wrap=he,_e.gzhead=null,_e.w_bits=oe,_e.w_size=1<<_e.w_bits,_e.w_mask=_e.w_size-1,_e.hash_bits=re+7,_e.hash_size=1<<_e.hash_bits,_e.hash_mask=_e.hash_size-1,_e.hash_shift=~~((_e.hash_bits+k-1)/k),_e.window=new a.Buf8(2*_e.w_size),_e.head=new a.Buf16(_e.hash_size),_e.prev=new a.Buf16(_e.w_size),_e.lit_bufsize=1<<re+6,_e.pending_buf_size=4*_e.lit_bufsize,_e.pending_buf=new a.Buf8(_e.pending_buf_size),_e.d_buf=1*_e.lit_bufsize,_e.l_buf=3*_e.lit_bufsize,_e.level=ye,_e.strategy=le,_e.method=be,me(V)}s=[new fe(0,0,0,0,function(V,ye){var be=65535;for(be>V.pending_buf_size-5&&(be=V.pending_buf_size-5);;){if(V.lookahead<=1){if(ee(V),V.lookahead===0&&ye===f)return O;if(V.lookahead===0)break}V.strstart+=V.lookahead,V.lookahead=0;var oe=V.block_start+be;if((V.strstart===0||V.strstart>=oe)&&(V.lookahead=V.strstart-oe,V.strstart=oe,j(V,!1),V.strm.avail_out===0)||V.strstart-V.block_start>=V.w_size-P&&(j(V,!1),V.strm.avail_out===0))return O}return V.insert=0,ye===h?(j(V,!0),V.strm.avail_out===0?X:J):(V.strstart>V.block_start&&(j(V,!1),V.strm.avail_out),O)}),new fe(4,4,8,4,ae),new fe(4,5,16,8,ae),new fe(4,6,32,32,ae),new fe(4,4,16,16,de),new fe(8,16,32,32,de),new fe(8,16,128,128,de),new fe(8,32,128,256,de),new fe(32,128,258,1024,de),new fe(32,258,258,4096,de)],i.deflateInit=function(V,ye){return je(V,ye,_,15,8,0)},i.deflateInit2=je,i.deflateReset=me,i.deflateResetKeep=Pe,i.deflateSetHeader=function(V,ye){return V&&V.state?V.state.wrap!==2?v:(V.state.gzhead=ye,p):v},i.deflate=function(V,ye){var be,oe,re,le;if(!V||!V.state||5<ye||ye<0)return V?ne(V,v):v;if(oe=V.state,!V.output||!V.input&&V.avail_in!==0||oe.status===666&&ye!==h)return ne(V,V.avail_out===0?-5:v);if(oe.strm=V,be=oe.last_flush,oe.last_flush=ye,oe.status===I)if(oe.wrap===2)V.adler=0,W(oe,31),W(oe,139),W(oe,8),oe.gzhead?(W(oe,(oe.gzhead.text?1:0)+(oe.gzhead.hcrc?2:0)+(oe.gzhead.extra?4:0)+(oe.gzhead.name?8:0)+(oe.gzhead.comment?16:0)),W(oe,255&oe.gzhead.time),W(oe,oe.gzhead.time>>8&255),W(oe,oe.gzhead.time>>16&255),W(oe,oe.gzhead.time>>24&255),W(oe,oe.level===9?2:2<=oe.strategy||oe.level<2?4:0),W(oe,255&oe.gzhead.os),oe.gzhead.extra&&oe.gzhead.extra.length&&(W(oe,255&oe.gzhead.extra.length),W(oe,oe.gzhead.extra.length>>8&255)),oe.gzhead.hcrc&&(V.adler=c(V.adler,oe.pending_buf,oe.pending,0)),oe.gzindex=0,oe.status=69):(W(oe,0),W(oe,0),W(oe,0),W(oe,0),W(oe,0),W(oe,oe.level===9?2:2<=oe.strategy||oe.level<2?4:0),W(oe,3),oe.status=U);else{var he=_+(oe.w_bits-8<<4)<<8;he|=(2<=oe.strategy||oe.level<2?0:oe.level<6?1:oe.level===6?2:3)<<6,oe.strstart!==0&&(he|=32),he+=31-he%31,oe.status=U,G(oe,he),oe.strstart!==0&&(G(oe,V.adler>>>16),G(oe,65535&V.adler)),V.adler=1}if(oe.status===69)if(oe.gzhead.extra){for(re=oe.pending;oe.gzindex<(65535&oe.gzhead.extra.length)&&(oe.pending!==oe.pending_buf_size||(oe.gzhead.hcrc&&oe.pending>re&&(V.adler=c(V.adler,oe.pending_buf,oe.pending-re,re)),B(V),re=oe.pending,oe.pending!==oe.pending_buf_size));)W(oe,255&oe.gzhead.extra[oe.gzindex]),oe.gzindex++;oe.gzhead.hcrc&&oe.pending>re&&(V.adler=c(V.adler,oe.pending_buf,oe.pending-re,re)),oe.gzindex===oe.gzhead.extra.length&&(oe.gzindex=0,oe.status=73)}else oe.status=73;if(oe.status===73)if(oe.gzhead.name){re=oe.pending;do{if(oe.pending===oe.pending_buf_size&&(oe.gzhead.hcrc&&oe.pending>re&&(V.adler=c(V.adler,oe.pending_buf,oe.pending-re,re)),B(V),re=oe.pending,oe.pending===oe.pending_buf_size)){le=1;break}le=oe.gzindex<oe.gzhead.name.length?255&oe.gzhead.name.charCodeAt(oe.gzindex++):0,W(oe,le)}while(le!==0);oe.gzhead.hcrc&&oe.pending>re&&(V.adler=c(V.adler,oe.pending_buf,oe.pending-re,re)),le===0&&(oe.gzindex=0,oe.status=91)}else oe.status=91;if(oe.status===91)if(oe.gzhead.comment){re=oe.pending;do{if(oe.pending===oe.pending_buf_size&&(oe.gzhead.hcrc&&oe.pending>re&&(V.adler=c(V.adler,oe.pending_buf,oe.pending-re,re)),B(V),re=oe.pending,oe.pending===oe.pending_buf_size)){le=1;break}le=oe.gzindex<oe.gzhead.comment.length?255&oe.gzhead.comment.charCodeAt(oe.gzindex++):0,W(oe,le)}while(le!==0);oe.gzhead.hcrc&&oe.pending>re&&(V.adler=c(V.adler,oe.pending_buf,oe.pending-re,re)),le===0&&(oe.status=103)}else oe.status=103;if(oe.status===103&&(oe.gzhead.hcrc?(oe.pending+2>oe.pending_buf_size&&B(V),oe.pending+2<=oe.pending_buf_size&&(W(oe,255&V.adler),W(oe,V.adler>>8&255),V.adler=0,oe.status=U)):oe.status=U),oe.pending!==0){if(B(V),V.avail_out===0)return oe.last_flush=-1,p}else if(V.avail_in===0&&z(ye)<=z(be)&&ye!==h)return ne(V,-5);if(oe.status===666&&V.avail_in!==0)return ne(V,-5);if(V.avail_in!==0||oe.lookahead!==0||ye!==f&&oe.status!==666){var _e=oe.strategy===2?(function(ie,ce){for(var ge;;){if(ie.lookahead===0&&(ee(ie),ie.lookahead===0)){if(ce===f)return O;break}if(ie.match_length=0,ge=o._tr_tally(ie,0,ie.window[ie.strstart]),ie.lookahead--,ie.strstart++,ge&&(j(ie,!1),ie.strm.avail_out===0))return O}return ie.insert=0,ce===h?(j(ie,!0),ie.strm.avail_out===0?X:J):ie.last_lit&&(j(ie,!1),ie.strm.avail_out===0)?O:K})(oe,ye):oe.strategy===3?(function(ie,ce){for(var ge,ve,Se,Oe,Te=ie.window;;){if(ie.lookahead<=F){if(ee(ie),ie.lookahead<=F&&ce===f)return O;if(ie.lookahead===0)break}if(ie.match_length=0,ie.lookahead>=k&&0<ie.strstart&&(ve=Te[Se=ie.strstart-1])===Te[++Se]&&ve===Te[++Se]&&ve===Te[++Se]){Oe=ie.strstart+F;do;while(ve===Te[++Se]&&ve===Te[++Se]&&ve===Te[++Se]&&ve===Te[++Se]&&ve===Te[++Se]&&ve===Te[++Se]&&ve===Te[++Se]&&ve===Te[++Se]&&Se<Oe);ie.match_length=F-(Oe-Se),ie.match_length>ie.lookahead&&(ie.match_length=ie.lookahead)}if(ie.match_length>=k?(ge=o._tr_tally(ie,1,ie.match_length-k),ie.lookahead-=ie.match_length,ie.strstart+=ie.match_length,ie.match_length=0):(ge=o._tr_tally(ie,0,ie.window[ie.strstart]),ie.lookahead--,ie.strstart++),ge&&(j(ie,!1),ie.strm.avail_out===0))return O}return ie.insert=0,ce===h?(j(ie,!0),ie.strm.avail_out===0?X:J):ie.last_lit&&(j(ie,!1),ie.strm.avail_out===0)?O:K})(oe,ye):s[oe.level].func(oe,ye);if(_e!==X&&_e!==J||(oe.status=666),_e===O||_e===X)return V.avail_out===0&&(oe.last_flush=-1),p;if(_e===K&&(ye===1?o._tr_align(oe):ye!==5&&(o._tr_stored_block(oe,0,0,!1),ye===3&&(Q(oe.head),oe.lookahead===0&&(oe.strstart=0,oe.block_start=0,oe.insert=0))),B(V),V.avail_out===0))return oe.last_flush=-1,p}return ye!==h?p:oe.wrap<=0?1:(oe.wrap===2?(W(oe,255&V.adler),W(oe,V.adler>>8&255),W(oe,V.adler>>16&255),W(oe,V.adler>>24&255),W(oe,255&V.total_in),W(oe,V.total_in>>8&255),W(oe,V.total_in>>16&255),W(oe,V.total_in>>24&255)):(G(oe,V.adler>>>16),G(oe,65535&V.adler)),B(V),0<oe.wrap&&(oe.wrap=-oe.wrap),oe.pending!==0?p:1)},i.deflateEnd=function(V){var ye;return V&&V.state?(ye=V.state.status)!==I&&ye!==69&&ye!==73&&ye!==91&&ye!==103&&ye!==U&&ye!==666?ne(V,v):(V.state=null,ye===U?ne(V,-3):p):v},i.deflateSetDictionary=function(V,ye){var be,oe,re,le,he,_e,ie,ce,ge=ye.length;if(!V||!V.state||(le=(be=V.state).wrap)===2||le===1&&be.status!==I||be.lookahead)return v;for(le===1&&(V.adler=l(V.adler,ye,ge,0)),be.wrap=0,ge>=be.w_size&&(le===0&&(Q(be.head),be.strstart=0,be.block_start=0,be.insert=0),ce=new a.Buf8(be.w_size),a.arraySet(ce,ye,ge-be.w_size,be.w_size,0),ye=ce,ge=be.w_size),he=V.avail_in,_e=V.next_in,ie=V.input,V.avail_in=ge,V.next_in=0,V.input=ye,ee(be);be.lookahead>=k;){for(oe=be.strstart,re=be.lookahead-(k-1);be.ins_h=(be.ins_h<<be.hash_shift^be.window[oe+k-1])&be.hash_mask,be.prev[oe&be.w_mask]=be.head[be.ins_h],be.head[be.ins_h]=oe,oe++,--re;);be.strstart=oe,be.lookahead=k-1,ee(be)}return be.strstart+=be.lookahead,be.block_start=be.strstart,be.insert=be.lookahead,be.lookahead=0,be.match_length=be.prev_length=k-1,be.match_available=0,V.next_in=_e,V.input=ie,V.avail_in=he,be.wrap=le,p},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(s,a){var o,l,c,u,f,h,p,v,g,y,b,_,w,C,S,R,D,N,k,F,P,I,U,O,K;o=s.state,l=s.next_in,O=s.input,c=l+(s.avail_in-5),u=s.next_out,K=s.output,f=u-(a-s.avail_out),h=u+(s.avail_out-257),p=o.dmax,v=o.wsize,g=o.whave,y=o.wnext,b=o.window,_=o.hold,w=o.bits,C=o.lencode,S=o.distcode,R=(1<<o.lenbits)-1,D=(1<<o.distbits)-1;e:do{w<15&&(_+=O[l++]<<w,w+=8,_+=O[l++]<<w,w+=8),N=C[_&R];t:for(;;){if(_>>>=k=N>>>24,w-=k,(k=N>>>16&255)===0)K[u++]=65535&N;else{if(!(16&k)){if((64&k)==0){N=C[(65535&N)+(_&(1<<k)-1)];continue t}if(32&k){o.mode=12;break e}s.msg="invalid literal/length code",o.mode=30;break e}F=65535&N,(k&=15)&&(w<k&&(_+=O[l++]<<w,w+=8),F+=_&(1<<k)-1,_>>>=k,w-=k),w<15&&(_+=O[l++]<<w,w+=8,_+=O[l++]<<w,w+=8),N=S[_&D];n:for(;;){if(_>>>=k=N>>>24,w-=k,!(16&(k=N>>>16&255))){if((64&k)==0){N=S[(65535&N)+(_&(1<<k)-1)];continue n}s.msg="invalid distance code",o.mode=30;break e}if(P=65535&N,w<(k&=15)&&(_+=O[l++]<<w,(w+=8)<k&&(_+=O[l++]<<w,w+=8)),p<(P+=_&(1<<k)-1)){s.msg="invalid distance too far back",o.mode=30;break e}if(_>>>=k,w-=k,(k=u-f)<P){if(g<(k=P-k)&&o.sane){s.msg="invalid distance too far back",o.mode=30;break e}if(U=b,(I=0)===y){if(I+=v-k,k<F){for(F-=k;K[u++]=b[I++],--k;);I=u-P,U=K}}else if(y<k){if(I+=v+y-k,(k-=y)<F){for(F-=k;K[u++]=b[I++],--k;);if(I=0,y<F){for(F-=k=y;K[u++]=b[I++],--k;);I=u-P,U=K}}}else if(I+=y-k,k<F){for(F-=k;K[u++]=b[I++],--k;);I=u-P,U=K}for(;2<F;)K[u++]=U[I++],K[u++]=U[I++],K[u++]=U[I++],F-=3;F&&(K[u++]=U[I++],1<F&&(K[u++]=U[I++]))}else{for(I=u-P;K[u++]=K[I++],K[u++]=K[I++],K[u++]=K[I++],2<(F-=3););F&&(K[u++]=K[I++],1<F&&(K[u++]=K[I++]))}break}}break}}while(l<c&&u<h);l-=F=w>>3,_&=(1<<(w-=F<<3))-1,s.next_in=l,s.next_out=u,s.avail_in=l<c?c-l+5:5-(l-c),s.avail_out=u<h?h-u+257:257-(u-h),o.hold=_,o.bits=w}},{}],49:[function(n,r,i){var s=n("../utils/common"),a=n("./adler32"),o=n("./crc32"),l=n("./inffast"),c=n("./inftrees"),u=1,f=2,h=0,p=-2,v=1,g=852,y=592;function b(I){return(I>>>24&255)+(I>>>8&65280)+((65280&I)<<8)+((255&I)<<24)}function _(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(I){var U;return I&&I.state?(U=I.state,I.total_in=I.total_out=U.total=0,I.msg="",U.wrap&&(I.adler=1&U.wrap),U.mode=v,U.last=0,U.havedict=0,U.dmax=32768,U.head=null,U.hold=0,U.bits=0,U.lencode=U.lendyn=new s.Buf32(g),U.distcode=U.distdyn=new s.Buf32(y),U.sane=1,U.back=-1,h):p}function C(I){var U;return I&&I.state?((U=I.state).wsize=0,U.whave=0,U.wnext=0,w(I)):p}function S(I,U){var O,K;return I&&I.state?(K=I.state,U<0?(O=0,U=-U):(O=1+(U>>4),U<48&&(U&=15)),U&&(U<8||15<U)?p:(K.window!==null&&K.wbits!==U&&(K.window=null),K.wrap=O,K.wbits=U,C(I))):p}function R(I,U){var O,K;return I?(K=new _,(I.state=K).window=null,(O=S(I,U))!==h&&(I.state=null),O):p}var D,N,k=!0;function F(I){if(k){var U;for(D=new s.Buf32(512),N=new s.Buf32(32),U=0;U<144;)I.lens[U++]=8;for(;U<256;)I.lens[U++]=9;for(;U<280;)I.lens[U++]=7;for(;U<288;)I.lens[U++]=8;for(c(u,I.lens,0,288,D,0,I.work,{bits:9}),U=0;U<32;)I.lens[U++]=5;c(f,I.lens,0,32,N,0,I.work,{bits:5}),k=!1}I.lencode=D,I.lenbits=9,I.distcode=N,I.distbits=5}function P(I,U,O,K){var X,J=I.state;return J.window===null&&(J.wsize=1<<J.wbits,J.wnext=0,J.whave=0,J.window=new s.Buf8(J.wsize)),K>=J.wsize?(s.arraySet(J.window,U,O-J.wsize,J.wsize,0),J.wnext=0,J.whave=J.wsize):(K<(X=J.wsize-J.wnext)&&(X=K),s.arraySet(J.window,U,O-K,X,J.wnext),(K-=X)?(s.arraySet(J.window,U,O-K,K,0),J.wnext=K,J.whave=J.wsize):(J.wnext+=X,J.wnext===J.wsize&&(J.wnext=0),J.whave<J.wsize&&(J.whave+=X))),0}i.inflateReset=C,i.inflateReset2=S,i.inflateResetKeep=w,i.inflateInit=function(I){return R(I,15)},i.inflateInit2=R,i.inflate=function(I,U){var O,K,X,J,ne,z,Q,B,j,W,G,Y,ee,ae,de,fe,De,Pe,me,je,V,ye,be,oe,re=0,le=new s.Buf8(4),he=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!I||!I.state||!I.output||!I.input&&I.avail_in!==0)return p;(O=I.state).mode===12&&(O.mode=13),ne=I.next_out,X=I.output,Q=I.avail_out,J=I.next_in,K=I.input,z=I.avail_in,B=O.hold,j=O.bits,W=z,G=Q,ye=h;e:for(;;)switch(O.mode){case v:if(O.wrap===0){O.mode=13;break}for(;j<16;){if(z===0)break e;z--,B+=K[J++]<<j,j+=8}if(2&O.wrap&&B===35615){le[O.check=0]=255&B,le[1]=B>>>8&255,O.check=o(O.check,le,2,0),j=B=0,O.mode=2;break}if(O.flags=0,O.head&&(O.head.done=!1),!(1&O.wrap)||(((255&B)<<8)+(B>>8))%31){I.msg="incorrect header check",O.mode=30;break}if((15&B)!=8){I.msg="unknown compression method",O.mode=30;break}if(j-=4,V=8+(15&(B>>>=4)),O.wbits===0)O.wbits=V;else if(V>O.wbits){I.msg="invalid window size",O.mode=30;break}O.dmax=1<<V,I.adler=O.check=1,O.mode=512&B?10:12,j=B=0;break;case 2:for(;j<16;){if(z===0)break e;z--,B+=K[J++]<<j,j+=8}if(O.flags=B,(255&O.flags)!=8){I.msg="unknown compression method",O.mode=30;break}if(57344&O.flags){I.msg="unknown header flags set",O.mode=30;break}O.head&&(O.head.text=B>>8&1),512&O.flags&&(le[0]=255&B,le[1]=B>>>8&255,O.check=o(O.check,le,2,0)),j=B=0,O.mode=3;case 3:for(;j<32;){if(z===0)break e;z--,B+=K[J++]<<j,j+=8}O.head&&(O.head.time=B),512&O.flags&&(le[0]=255&B,le[1]=B>>>8&255,le[2]=B>>>16&255,le[3]=B>>>24&255,O.check=o(O.check,le,4,0)),j=B=0,O.mode=4;case 4:for(;j<16;){if(z===0)break e;z--,B+=K[J++]<<j,j+=8}O.head&&(O.head.xflags=255&B,O.head.os=B>>8),512&O.flags&&(le[0]=255&B,le[1]=B>>>8&255,O.check=o(O.check,le,2,0)),j=B=0,O.mode=5;case 5:if(1024&O.flags){for(;j<16;){if(z===0)break e;z--,B+=K[J++]<<j,j+=8}O.length=B,O.head&&(O.head.extra_len=B),512&O.flags&&(le[0]=255&B,le[1]=B>>>8&255,O.check=o(O.check,le,2,0)),j=B=0}else O.head&&(O.head.extra=null);O.mode=6;case 6:if(1024&O.flags&&(z<(Y=O.length)&&(Y=z),Y&&(O.head&&(V=O.head.extra_len-O.length,O.head.extra||(O.head.extra=new Array(O.head.extra_len)),s.arraySet(O.head.extra,K,J,Y,V)),512&O.flags&&(O.check=o(O.check,K,Y,J)),z-=Y,J+=Y,O.length-=Y),O.length))break e;O.length=0,O.mode=7;case 7:if(2048&O.flags){if(z===0)break e;for(Y=0;V=K[J+Y++],O.head&&V&&O.length<65536&&(O.head.name+=String.fromCharCode(V)),V&&Y<z;);if(512&O.flags&&(O.check=o(O.check,K,Y,J)),z-=Y,J+=Y,V)break e}else O.head&&(O.head.name=null);O.length=0,O.mode=8;case 8:if(4096&O.flags){if(z===0)break e;for(Y=0;V=K[J+Y++],O.head&&V&&O.length<65536&&(O.head.comment+=String.fromCharCode(V)),V&&Y<z;);if(512&O.flags&&(O.check=o(O.check,K,Y,J)),z-=Y,J+=Y,V)break e}else O.head&&(O.head.comment=null);O.mode=9;case 9:if(512&O.flags){for(;j<16;){if(z===0)break e;z--,B+=K[J++]<<j,j+=8}if(B!==(65535&O.check)){I.msg="header crc mismatch",O.mode=30;break}j=B=0}O.head&&(O.head.hcrc=O.flags>>9&1,O.head.done=!0),I.adler=O.check=0,O.mode=12;break;case 10:for(;j<32;){if(z===0)break e;z--,B+=K[J++]<<j,j+=8}I.adler=O.check=b(B),j=B=0,O.mode=11;case 11:if(O.havedict===0)return I.next_out=ne,I.avail_out=Q,I.next_in=J,I.avail_in=z,O.hold=B,O.bits=j,2;I.adler=O.check=1,O.mode=12;case 12:if(U===5||U===6)break e;case 13:if(O.last){B>>>=7&j,j-=7&j,O.mode=27;break}for(;j<3;){if(z===0)break e;z--,B+=K[J++]<<j,j+=8}switch(O.last=1&B,j-=1,3&(B>>>=1)){case 0:O.mode=14;break;case 1:if(F(O),O.mode=20,U!==6)break;B>>>=2,j-=2;break e;case 2:O.mode=17;break;case 3:I.msg="invalid block type",O.mode=30}B>>>=2,j-=2;break;case 14:for(B>>>=7&j,j-=7&j;j<32;){if(z===0)break e;z--,B+=K[J++]<<j,j+=8}if((65535&B)!=(B>>>16^65535)){I.msg="invalid stored block lengths",O.mode=30;break}if(O.length=65535&B,j=B=0,O.mode=15,U===6)break e;case 15:O.mode=16;case 16:if(Y=O.length){if(z<Y&&(Y=z),Q<Y&&(Y=Q),Y===0)break e;s.arraySet(X,K,J,Y,ne),z-=Y,J+=Y,Q-=Y,ne+=Y,O.length-=Y;break}O.mode=12;break;case 17:for(;j<14;){if(z===0)break e;z--,B+=K[J++]<<j,j+=8}if(O.nlen=257+(31&B),B>>>=5,j-=5,O.ndist=1+(31&B),B>>>=5,j-=5,O.ncode=4+(15&B),B>>>=4,j-=4,286<O.nlen||30<O.ndist){I.msg="too many length or distance symbols",O.mode=30;break}O.have=0,O.mode=18;case 18:for(;O.have<O.ncode;){for(;j<3;){if(z===0)break e;z--,B+=K[J++]<<j,j+=8}O.lens[he[O.have++]]=7&B,B>>>=3,j-=3}for(;O.have<19;)O.lens[he[O.have++]]=0;if(O.lencode=O.lendyn,O.lenbits=7,be={bits:O.lenbits},ye=c(0,O.lens,0,19,O.lencode,0,O.work,be),O.lenbits=be.bits,ye){I.msg="invalid code lengths set",O.mode=30;break}O.have=0,O.mode=19;case 19:for(;O.have<O.nlen+O.ndist;){for(;fe=(re=O.lencode[B&(1<<O.lenbits)-1])>>>16&255,De=65535&re,!((de=re>>>24)<=j);){if(z===0)break e;z--,B+=K[J++]<<j,j+=8}if(De<16)B>>>=de,j-=de,O.lens[O.have++]=De;else{if(De===16){for(oe=de+2;j<oe;){if(z===0)break e;z--,B+=K[J++]<<j,j+=8}if(B>>>=de,j-=de,O.have===0){I.msg="invalid bit length repeat",O.mode=30;break}V=O.lens[O.have-1],Y=3+(3&B),B>>>=2,j-=2}else if(De===17){for(oe=de+3;j<oe;){if(z===0)break e;z--,B+=K[J++]<<j,j+=8}j-=de,V=0,Y=3+(7&(B>>>=de)),B>>>=3,j-=3}else{for(oe=de+7;j<oe;){if(z===0)break e;z--,B+=K[J++]<<j,j+=8}j-=de,V=0,Y=11+(127&(B>>>=de)),B>>>=7,j-=7}if(O.have+Y>O.nlen+O.ndist){I.msg="invalid bit length repeat",O.mode=30;break}for(;Y--;)O.lens[O.have++]=V}}if(O.mode===30)break;if(O.lens[256]===0){I.msg="invalid code -- missing end-of-block",O.mode=30;break}if(O.lenbits=9,be={bits:O.lenbits},ye=c(u,O.lens,0,O.nlen,O.lencode,0,O.work,be),O.lenbits=be.bits,ye){I.msg="invalid literal/lengths set",O.mode=30;break}if(O.distbits=6,O.distcode=O.distdyn,be={bits:O.distbits},ye=c(f,O.lens,O.nlen,O.ndist,O.distcode,0,O.work,be),O.distbits=be.bits,ye){I.msg="invalid distances set",O.mode=30;break}if(O.mode=20,U===6)break e;case 20:O.mode=21;case 21:if(6<=z&&258<=Q){I.next_out=ne,I.avail_out=Q,I.next_in=J,I.avail_in=z,O.hold=B,O.bits=j,l(I,G),ne=I.next_out,X=I.output,Q=I.avail_out,J=I.next_in,K=I.input,z=I.avail_in,B=O.hold,j=O.bits,O.mode===12&&(O.back=-1);break}for(O.back=0;fe=(re=O.lencode[B&(1<<O.lenbits)-1])>>>16&255,De=65535&re,!((de=re>>>24)<=j);){if(z===0)break e;z--,B+=K[J++]<<j,j+=8}if(fe&&(240&fe)==0){for(Pe=de,me=fe,je=De;fe=(re=O.lencode[je+((B&(1<<Pe+me)-1)>>Pe)])>>>16&255,De=65535&re,!(Pe+(de=re>>>24)<=j);){if(z===0)break e;z--,B+=K[J++]<<j,j+=8}B>>>=Pe,j-=Pe,O.back+=Pe}if(B>>>=de,j-=de,O.back+=de,O.length=De,fe===0){O.mode=26;break}if(32&fe){O.back=-1,O.mode=12;break}if(64&fe){I.msg="invalid literal/length code",O.mode=30;break}O.extra=15&fe,O.mode=22;case 22:if(O.extra){for(oe=O.extra;j<oe;){if(z===0)break e;z--,B+=K[J++]<<j,j+=8}O.length+=B&(1<<O.extra)-1,B>>>=O.extra,j-=O.extra,O.back+=O.extra}O.was=O.length,O.mode=23;case 23:for(;fe=(re=O.distcode[B&(1<<O.distbits)-1])>>>16&255,De=65535&re,!((de=re>>>24)<=j);){if(z===0)break e;z--,B+=K[J++]<<j,j+=8}if((240&fe)==0){for(Pe=de,me=fe,je=De;fe=(re=O.distcode[je+((B&(1<<Pe+me)-1)>>Pe)])>>>16&255,De=65535&re,!(Pe+(de=re>>>24)<=j);){if(z===0)break e;z--,B+=K[J++]<<j,j+=8}B>>>=Pe,j-=Pe,O.back+=Pe}if(B>>>=de,j-=de,O.back+=de,64&fe){I.msg="invalid distance code",O.mode=30;break}O.offset=De,O.extra=15&fe,O.mode=24;case 24:if(O.extra){for(oe=O.extra;j<oe;){if(z===0)break e;z--,B+=K[J++]<<j,j+=8}O.offset+=B&(1<<O.extra)-1,B>>>=O.extra,j-=O.extra,O.back+=O.extra}if(O.offset>O.dmax){I.msg="invalid distance too far back",O.mode=30;break}O.mode=25;case 25:if(Q===0)break e;if(Y=G-Q,O.offset>Y){if((Y=O.offset-Y)>O.whave&&O.sane){I.msg="invalid distance too far back",O.mode=30;break}ee=Y>O.wnext?(Y-=O.wnext,O.wsize-Y):O.wnext-Y,Y>O.length&&(Y=O.length),ae=O.window}else ae=X,ee=ne-O.offset,Y=O.length;for(Q<Y&&(Y=Q),Q-=Y,O.length-=Y;X[ne++]=ae[ee++],--Y;);O.length===0&&(O.mode=21);break;case 26:if(Q===0)break e;X[ne++]=O.length,Q--,O.mode=21;break;case 27:if(O.wrap){for(;j<32;){if(z===0)break e;z--,B|=K[J++]<<j,j+=8}if(G-=Q,I.total_out+=G,O.total+=G,G&&(I.adler=O.check=O.flags?o(O.check,X,G,ne-G):a(O.check,X,G,ne-G)),G=Q,(O.flags?B:b(B))!==O.check){I.msg="incorrect data check",O.mode=30;break}j=B=0}O.mode=28;case 28:if(O.wrap&&O.flags){for(;j<32;){if(z===0)break e;z--,B+=K[J++]<<j,j+=8}if(B!==(4294967295&O.total)){I.msg="incorrect length check",O.mode=30;break}j=B=0}O.mode=29;case 29:ye=1;break e;case 30:ye=-3;break e;case 31:return-4;case 32:default:return p}return I.next_out=ne,I.avail_out=Q,I.next_in=J,I.avail_in=z,O.hold=B,O.bits=j,(O.wsize||G!==I.avail_out&&O.mode<30&&(O.mode<27||U!==4))&&P(I,I.output,I.next_out,G-I.avail_out)?(O.mode=31,-4):(W-=I.avail_in,G-=I.avail_out,I.total_in+=W,I.total_out+=G,O.total+=G,O.wrap&&G&&(I.adler=O.check=O.flags?o(O.check,X,G,I.next_out-G):a(O.check,X,G,I.next_out-G)),I.data_type=O.bits+(O.last?64:0)+(O.mode===12?128:0)+(O.mode===20||O.mode===15?256:0),(W==0&&G===0||U===4)&&ye===h&&(ye=-5),ye)},i.inflateEnd=function(I){if(!I||!I.state)return p;var U=I.state;return U.window&&(U.window=null),I.state=null,h},i.inflateGetHeader=function(I,U){var O;return I&&I.state?(2&(O=I.state).wrap)==0?p:((O.head=U).done=!1,h):p},i.inflateSetDictionary=function(I,U){var O,K=U.length;return I&&I.state?(O=I.state).wrap!==0&&O.mode!==11?p:O.mode===11&&a(1,U,K,0)!==O.check?-3:P(I,U,K,K)?(O.mode=31,-4):(O.havedict=1,h):p},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var s=n("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(u,f,h,p,v,g,y,b){var _,w,C,S,R,D,N,k,F,P=b.bits,I=0,U=0,O=0,K=0,X=0,J=0,ne=0,z=0,Q=0,B=0,j=null,W=0,G=new s.Buf16(16),Y=new s.Buf16(16),ee=null,ae=0;for(I=0;I<=15;I++)G[I]=0;for(U=0;U<p;U++)G[f[h+U]]++;for(X=P,K=15;1<=K&&G[K]===0;K--);if(K<X&&(X=K),K===0)return v[g++]=20971520,v[g++]=20971520,b.bits=1,0;for(O=1;O<K&&G[O]===0;O++);for(X<O&&(X=O),I=z=1;I<=15;I++)if(z<<=1,(z-=G[I])<0)return-1;if(0<z&&(u===0||K!==1))return-1;for(Y[1]=0,I=1;I<15;I++)Y[I+1]=Y[I]+G[I];for(U=0;U<p;U++)f[h+U]!==0&&(y[Y[f[h+U]]++]=U);if(D=u===0?(j=ee=y,19):u===1?(j=a,W-=257,ee=o,ae-=257,256):(j=l,ee=c,-1),I=O,R=g,ne=U=B=0,C=-1,S=(Q=1<<(J=X))-1,u===1&&852<Q||u===2&&592<Q)return 1;for(;;){for(N=I-ne,F=y[U]<D?(k=0,y[U]):y[U]>D?(k=ee[ae+y[U]],j[W+y[U]]):(k=96,0),_=1<<I-ne,O=w=1<<J;v[R+(B>>ne)+(w-=_)]=N<<24|k<<16|F|0,w!==0;);for(_=1<<I-1;B&_;)_>>=1;if(_!==0?(B&=_-1,B+=_):B=0,U++,--G[I]==0){if(I===K)break;I=f[h+y[U]]}if(X<I&&(B&S)!==C){for(ne===0&&(ne=X),R+=O,z=1<<(J=I-ne);J+ne<K&&!((z-=G[J+ne])<=0);)J++,z<<=1;if(Q+=1<<J,u===1&&852<Q||u===2&&592<Q)return 1;v[C=B&S]=X<<24|J<<16|R-g|0}}return B!==0&&(v[R+B]=I-ne<<24|64<<16|0),b.bits=X,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var s=n("../utils/common"),a=0,o=1;function l(re){for(var le=re.length;0<=--le;)re[le]=0}var c=0,u=29,f=256,h=f+1+u,p=30,v=19,g=2*h+1,y=15,b=16,_=7,w=256,C=16,S=17,R=18,D=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],N=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],P=new Array(2*(h+2));l(P);var I=new Array(2*p);l(I);var U=new Array(512);l(U);var O=new Array(256);l(O);var K=new Array(u);l(K);var X,J,ne,z=new Array(p);function Q(re,le,he,_e,ie){this.static_tree=re,this.extra_bits=le,this.extra_base=he,this.elems=_e,this.max_length=ie,this.has_stree=re&&re.length}function B(re,le){this.dyn_tree=re,this.max_code=0,this.stat_desc=le}function j(re){return re<256?U[re]:U[256+(re>>>7)]}function W(re,le){re.pending_buf[re.pending++]=255&le,re.pending_buf[re.pending++]=le>>>8&255}function G(re,le,he){re.bi_valid>b-he?(re.bi_buf|=le<<re.bi_valid&65535,W(re,re.bi_buf),re.bi_buf=le>>b-re.bi_valid,re.bi_valid+=he-b):(re.bi_buf|=le<<re.bi_valid&65535,re.bi_valid+=he)}function Y(re,le,he){G(re,he[2*le],he[2*le+1])}function ee(re,le){for(var he=0;he|=1&re,re>>>=1,he<<=1,0<--le;);return he>>>1}function ae(re,le,he){var _e,ie,ce=new Array(y+1),ge=0;for(_e=1;_e<=y;_e++)ce[_e]=ge=ge+he[_e-1]<<1;for(ie=0;ie<=le;ie++){var ve=re[2*ie+1];ve!==0&&(re[2*ie]=ee(ce[ve]++,ve))}}function de(re){var le;for(le=0;le<h;le++)re.dyn_ltree[2*le]=0;for(le=0;le<p;le++)re.dyn_dtree[2*le]=0;for(le=0;le<v;le++)re.bl_tree[2*le]=0;re.dyn_ltree[2*w]=1,re.opt_len=re.static_len=0,re.last_lit=re.matches=0}function fe(re){8<re.bi_valid?W(re,re.bi_buf):0<re.bi_valid&&(re.pending_buf[re.pending++]=re.bi_buf),re.bi_buf=0,re.bi_valid=0}function De(re,le,he,_e){var ie=2*le,ce=2*he;return re[ie]<re[ce]||re[ie]===re[ce]&&_e[le]<=_e[he]}function Pe(re,le,he){for(var _e=re.heap[he],ie=he<<1;ie<=re.heap_len&&(ie<re.heap_len&&De(le,re.heap[ie+1],re.heap[ie],re.depth)&&ie++,!De(le,_e,re.heap[ie],re.depth));)re.heap[he]=re.heap[ie],he=ie,ie<<=1;re.heap[he]=_e}function me(re,le,he){var _e,ie,ce,ge,ve=0;if(re.last_lit!==0)for(;_e=re.pending_buf[re.d_buf+2*ve]<<8|re.pending_buf[re.d_buf+2*ve+1],ie=re.pending_buf[re.l_buf+ve],ve++,_e===0?Y(re,ie,le):(Y(re,(ce=O[ie])+f+1,le),(ge=D[ce])!==0&&G(re,ie-=K[ce],ge),Y(re,ce=j(--_e),he),(ge=N[ce])!==0&&G(re,_e-=z[ce],ge)),ve<re.last_lit;);Y(re,w,le)}function je(re,le){var he,_e,ie,ce=le.dyn_tree,ge=le.stat_desc.static_tree,ve=le.stat_desc.has_stree,Se=le.stat_desc.elems,Oe=-1;for(re.heap_len=0,re.heap_max=g,he=0;he<Se;he++)ce[2*he]!==0?(re.heap[++re.heap_len]=Oe=he,re.depth[he]=0):ce[2*he+1]=0;for(;re.heap_len<2;)ce[2*(ie=re.heap[++re.heap_len]=Oe<2?++Oe:0)]=1,re.depth[ie]=0,re.opt_len--,ve&&(re.static_len-=ge[2*ie+1]);for(le.max_code=Oe,he=re.heap_len>>1;1<=he;he--)Pe(re,ce,he);for(ie=Se;he=re.heap[1],re.heap[1]=re.heap[re.heap_len--],Pe(re,ce,1),_e=re.heap[1],re.heap[--re.heap_max]=he,re.heap[--re.heap_max]=_e,ce[2*ie]=ce[2*he]+ce[2*_e],re.depth[ie]=(re.depth[he]>=re.depth[_e]?re.depth[he]:re.depth[_e])+1,ce[2*he+1]=ce[2*_e+1]=ie,re.heap[1]=ie++,Pe(re,ce,1),2<=re.heap_len;);re.heap[--re.heap_max]=re.heap[1],(function(Te,Ue){var Le,Ge,rt,it,Vt,xn,ln=Ue.dyn_tree,lr=Ue.max_code,Yn=Ue.stat_desc.static_tree,Qn=Ue.stat_desc.has_stree,cr=Ue.stat_desc.extra_bits,Yt=Ue.stat_desc.extra_base,En=Ue.stat_desc.max_length,pe=0;for(it=0;it<=y;it++)Te.bl_count[it]=0;for(ln[2*Te.heap[Te.heap_max]+1]=0,Le=Te.heap_max+1;Le<g;Le++)En<(it=ln[2*ln[2*(Ge=Te.heap[Le])+1]+1]+1)&&(it=En,pe++),ln[2*Ge+1]=it,lr<Ge||(Te.bl_count[it]++,Vt=0,Yt<=Ge&&(Vt=cr[Ge-Yt]),xn=ln[2*Ge],Te.opt_len+=xn*(it+Vt),Qn&&(Te.static_len+=xn*(Yn[2*Ge+1]+Vt)));if(pe!==0){do{for(it=En-1;Te.bl_count[it]===0;)it--;Te.bl_count[it]--,Te.bl_count[it+1]+=2,Te.bl_count[En]--,pe-=2}while(0<pe);for(it=En;it!==0;it--)for(Ge=Te.bl_count[it];Ge!==0;)lr<(rt=Te.heap[--Le])||(ln[2*rt+1]!==it&&(Te.opt_len+=(it-ln[2*rt+1])*ln[2*rt],ln[2*rt+1]=it),Ge--)}})(re,le),ae(ce,Oe,re.bl_count)}function V(re,le,he){var _e,ie,ce=-1,ge=le[1],ve=0,Se=7,Oe=4;for(ge===0&&(Se=138,Oe=3),le[2*(he+1)+1]=65535,_e=0;_e<=he;_e++)ie=ge,ge=le[2*(_e+1)+1],++ve<Se&&ie===ge||(ve<Oe?re.bl_tree[2*ie]+=ve:ie!==0?(ie!==ce&&re.bl_tree[2*ie]++,re.bl_tree[2*C]++):ve<=10?re.bl_tree[2*S]++:re.bl_tree[2*R]++,ce=ie,Oe=(ve=0)===ge?(Se=138,3):ie===ge?(Se=6,3):(Se=7,4))}function ye(re,le,he){var _e,ie,ce=-1,ge=le[1],ve=0,Se=7,Oe=4;for(ge===0&&(Se=138,Oe=3),_e=0;_e<=he;_e++)if(ie=ge,ge=le[2*(_e+1)+1],!(++ve<Se&&ie===ge)){if(ve<Oe)for(;Y(re,ie,re.bl_tree),--ve!=0;);else ie!==0?(ie!==ce&&(Y(re,ie,re.bl_tree),ve--),Y(re,C,re.bl_tree),G(re,ve-3,2)):ve<=10?(Y(re,S,re.bl_tree),G(re,ve-3,3)):(Y(re,R,re.bl_tree),G(re,ve-11,7));ce=ie,Oe=(ve=0)===ge?(Se=138,3):ie===ge?(Se=6,3):(Se=7,4)}}l(z);var be=!1;function oe(re,le,he,_e){G(re,(c<<1)+(_e?1:0),3),(function(ie,ce,ge,ve){fe(ie),W(ie,ge),W(ie,~ge),s.arraySet(ie.pending_buf,ie.window,ce,ge,ie.pending),ie.pending+=ge})(re,le,he)}i._tr_init=function(re){be||((function(){var le,he,_e,ie,ce,ge=new Array(y+1);for(ie=_e=0;ie<u-1;ie++)for(K[ie]=_e,le=0;le<1<<D[ie];le++)O[_e++]=ie;for(O[_e-1]=ie,ie=ce=0;ie<16;ie++)for(z[ie]=ce,le=0;le<1<<N[ie];le++)U[ce++]=ie;for(ce>>=7;ie<p;ie++)for(z[ie]=ce<<7,le=0;le<1<<N[ie]-7;le++)U[256+ce++]=ie;for(he=0;he<=y;he++)ge[he]=0;for(le=0;le<=143;)P[2*le+1]=8,le++,ge[8]++;for(;le<=255;)P[2*le+1]=9,le++,ge[9]++;for(;le<=279;)P[2*le+1]=7,le++,ge[7]++;for(;le<=287;)P[2*le+1]=8,le++,ge[8]++;for(ae(P,h+1,ge),le=0;le<p;le++)I[2*le+1]=5,I[2*le]=ee(le,5);X=new Q(P,D,f+1,h,y),J=new Q(I,N,0,p,y),ne=new Q(new Array(0),k,0,v,_)})(),be=!0),re.l_desc=new B(re.dyn_ltree,X),re.d_desc=new B(re.dyn_dtree,J),re.bl_desc=new B(re.bl_tree,ne),re.bi_buf=0,re.bi_valid=0,de(re)},i._tr_stored_block=oe,i._tr_flush_block=function(re,le,he,_e){var ie,ce,ge=0;0<re.level?(re.strm.data_type===2&&(re.strm.data_type=(function(ve){var Se,Oe=4093624447;for(Se=0;Se<=31;Se++,Oe>>>=1)if(1&Oe&&ve.dyn_ltree[2*Se]!==0)return a;if(ve.dyn_ltree[18]!==0||ve.dyn_ltree[20]!==0||ve.dyn_ltree[26]!==0)return o;for(Se=32;Se<f;Se++)if(ve.dyn_ltree[2*Se]!==0)return o;return a})(re)),je(re,re.l_desc),je(re,re.d_desc),ge=(function(ve){var Se;for(V(ve,ve.dyn_ltree,ve.l_desc.max_code),V(ve,ve.dyn_dtree,ve.d_desc.max_code),je(ve,ve.bl_desc),Se=v-1;3<=Se&&ve.bl_tree[2*F[Se]+1]===0;Se--);return ve.opt_len+=3*(Se+1)+5+5+4,Se})(re),ie=re.opt_len+3+7>>>3,(ce=re.static_len+3+7>>>3)<=ie&&(ie=ce)):ie=ce=he+5,he+4<=ie&&le!==-1?oe(re,le,he,_e):re.strategy===4||ce===ie?(G(re,2+(_e?1:0),3),me(re,P,I)):(G(re,4+(_e?1:0),3),(function(ve,Se,Oe,Te){var Ue;for(G(ve,Se-257,5),G(ve,Oe-1,5),G(ve,Te-4,4),Ue=0;Ue<Te;Ue++)G(ve,ve.bl_tree[2*F[Ue]+1],3);ye(ve,ve.dyn_ltree,Se-1),ye(ve,ve.dyn_dtree,Oe-1)})(re,re.l_desc.max_code+1,re.d_desc.max_code+1,ge+1),me(re,re.dyn_ltree,re.dyn_dtree)),de(re),_e&&fe(re)},i._tr_tally=function(re,le,he){return re.pending_buf[re.d_buf+2*re.last_lit]=le>>>8&255,re.pending_buf[re.d_buf+2*re.last_lit+1]=255&le,re.pending_buf[re.l_buf+re.last_lit]=255&he,re.last_lit++,le===0?re.dyn_ltree[2*he]++:(re.matches++,le--,re.dyn_ltree[2*(O[he]+f+1)]++,re.dyn_dtree[2*j(le)]++),re.last_lit===re.lit_bufsize-1},i._tr_align=function(re){G(re,2,3),Y(re,w,P),(function(le){le.bi_valid===16?(W(le,le.bi_buf),le.bi_buf=0,le.bi_valid=0):8<=le.bi_valid&&(le.pending_buf[le.pending++]=255&le.bi_buf,le.bi_buf>>=8,le.bi_valid-=8)})(re)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(s){(function(a,o){if(!a.setImmediate){var l,c,u,f,h=1,p={},v=!1,g=a.document,y=Object.getPrototypeOf&&Object.getPrototypeOf(a);y=y&&y.setTimeout?y:a,l={}.toString.call(a.process)==="[object process]"?function(C){process.nextTick(function(){_(C)})}:(function(){if(a.postMessage&&!a.importScripts){var C=!0,S=a.onmessage;return a.onmessage=function(){C=!1},a.postMessage("","*"),a.onmessage=S,C}})()?(f="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",w,!1):a.attachEvent("onmessage",w),function(C){a.postMessage(f+C,"*")}):a.MessageChannel?((u=new MessageChannel).port1.onmessage=function(C){_(C.data)},function(C){u.port2.postMessage(C)}):g&&"onreadystatechange"in g.createElement("script")?(c=g.documentElement,function(C){var S=g.createElement("script");S.onreadystatechange=function(){_(C),S.onreadystatechange=null,c.removeChild(S),S=null},c.appendChild(S)}):function(C){setTimeout(_,0,C)},y.setImmediate=function(C){typeof C!="function"&&(C=new Function(""+C));for(var S=new Array(arguments.length-1),R=0;R<S.length;R++)S[R]=arguments[R+1];var D={callback:C,args:S};return p[h]=D,l(h),h++},y.clearImmediate=b}function b(C){delete p[C]}function _(C){if(v)setTimeout(_,0,C);else{var S=p[C];if(S){v=!0;try{(function(R){var D=R.callback,N=R.args;switch(N.length){case 0:D();break;case 1:D(N[0]);break;case 2:D(N[0],N[1]);break;case 3:D(N[0],N[1],N[2]);break;default:D.apply(o,N)}})(S)}finally{b(C),v=!1}}}}function w(C){C.source===a&&typeof C.data=="string"&&C.data.indexOf(f)===0&&_(+C.data.slice(f.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof fs<"u"?fs:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(dC)),dC.exports}var nme=g$();const fC=tb(nme),Gl="https://cyber-m.pages.dev";async function au(t,e){const n=await fetch(t);if(!n.ok)throw new Error(`Failed to fetch ${e} from ${t}. Status: ${n.status} ${n.statusText}`);const r=await n.text();try{return JSON.parse(r)}catch{const s=r.length>100?r.substring(0,100)+"...":r;throw new Error(`Failed to parse JSON for ${e} from ${t}. Content started with: "${s}"`)}}const Un={faviconUrl:"",payment:{ccp:"",baridiMob:"",paypalEmail:"",paypalEnabled:!1,exchangeRate:1},pricing:{dynamicDocument:{dzd:50,usd:.5},siteFormFill:{dzd:20,usd:.2},staticDocumentDownload:{dzd:10,usd:.1}},seo:{default:{siteName:"Gitut",tagline:"Your Document Assistant",titleSeparator:"|",metaDescription:"Find internet cafes to get your documents done.",mainPageTitle:"Get Your Documents Done with Ease",mainPageSubtitle:"Find a nearby internet cafe, send your request remotely, and pick up your ready documents.",googleAnalyticsId:"G-2BKKWGCXWX",googleSearchConsoleId:""}},social:{default:{facebook:"",twitter:"",instagram:"",facebookPageId:"",facebookGroupId:"",facebookPageAccessToken:""}},ads:{pdfInterstitialTimer:5},ai:{apiKey:"",useAdminKey:!0}},rme=t=>t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,""),ime="https://gitut.com/api/",sme="@@??YOUYOU@@??YOUYOU1936";function ame(){return new Promise((t,e)=>{if(Lr.currentUser)return t(Lr.currentUser);const n=Lr.onAuthStateChanged(r=>{n(),r?t(r):e(new Error("User not authenticated for API call."))})})}async function $t(t,e){try{const r=await(await ame()).getIdToken(),i=await fetch(ime,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`,"x-api-proxy-key":sme},body:JSON.stringify({action:t,payload:e})});if(t==="getDoc"&&i.status===404)return console.warn(`API call for getDoc on ${e.collection}/${e.id} returned 404. Returning null.`),null;if(!i.ok){let a;try{a=await i.json()}catch{a=null}throw new Error((a==null?void 0:a.error)||`Request failed with status ${i.status}`)}const s=await i.text();return s?JSON.parse(s):null}catch(n){throw console.error(`API Service Error (${t}):`,n),n}}const Bd=async t=>$t("uploadFilesToGitHub",t),fm=async t=>{const n=await(i=>new Promise((s,a)=>{const o=new FileReader;o.readAsDataURL(i),o.onload=()=>s(o.result.split(",")[1]),o.onerror=l=>a(l)}))(t);return(await $t("uploadFile",{fileData:n,fileName:t.name,fileType:t.type})).url},hC=async t=>{const e=`${Gl}/data/json/${t}-cafes-public.json`,n=`${Gl}/data/json/${t}-all-services-public.json`,r=`${Gl}/data/json/site-settings-public.json`,i=`${Gl}/data/json/${t}-pages-public.json`,s=`${Gl}/data/json/ads-public.json`,a=`${Gl}/data/json/tags-map-public.json`,[o,l,c,u,f,h]=await Promise.all([au(n,`${t}-all-services-public.json`),au(e,`${t}-cafes-public.json`),au(r,"site-settings-public.json"),au(i,`${t}-pages-public.json`),au(s,"ads-public.json"),au(a,"tags-map-public.json").catch(()=>null)]);let p=[];if(h&&h.length>0){const w=h[0];if(w&&typeof w=="object"){const C=Object.values(w),S=["ar","en","fr"],R=[];for(const k of S)for(const F of C){const P=`${Gl}/data/json/${k}-${F}-blog-posts-public.json`;R.push(au(P,P.split("/").pop()).then(I=>({lang:k,posts:I})).catch(()=>({lang:k,posts:[]})))}const D=await Promise.all(R),N=new Map;D.forEach(({lang:k,posts:F})=>{F.forEach(P=>{if(N.has(P.id)){const I=N.get(P.id);I.content||(I.content={}),I.content[k]=P.content}else{const I={...P};I.content={[k]:P.content},N.set(P.id,I)}})}),p=Array.from(N.values())}}const v=o.filter(w=>w.serviceType==="doc"),g=o.filter(w=>w.serviceType==="static-doc"),y=o.filter(w=>w.serviceType==="site"),b={...Un,...c,payment:{...Un.payment,...c.payment||{}},pricing:{...Un.pricing,...c.pricing||{}},social:{...Un.social,...c.social||{}},ads:{...Un.ads,...c.ads||{}},ai:{...Un.ai,...c.ai||{}}},_=p.map(w=>({...w,createdAt:w.createdAt?Br.firestore.Timestamp.fromDate(new Date(w.createdAt)):Br.firestore.Timestamp.now(),publishedAt:w.publishedAt?Br.firestore.Timestamp.fromDate(new Date(w.publishedAt)):void 0}));return{documents:v,staticDocuments:g,cafes:l,siteSettings:b,pages:u,blogPosts:_,sites:y,ads:f,services:o}},uM=async t=>{const e=`${Gl}/data/json/${t}-locations.json`;return au(e,`${t}-locations.json`)},M4=async()=>$t("getCollection",{collection:"cafes"}),U4=async()=>$t("getCollection",{collection:"users"}),$I=async t=>$t("getDoc",{collection:"cafes",id:t}),ome=async t=>(await $t("getCollection",{collection:"cafes",where:[{field:"numericId",op:"==",value:t}],limit:1}))[0]||null,xx=async t=>$t("getDoc",{collection:"users",id:t}),dM=async()=>$t("getMonthlyRevenue",{}),lme=async(t,e)=>$t("createUserAndCafe",{uid:t.uid,email:t.email,emailVerified:t.emailVerified,cafeData:e}),cme=async(t,e)=>{await $t("updateDoc",{collection:"cafes",id:t,data:e})},GI=async(t,e)=>$t("deductCredits",{userId:t.id,amount:e}),ume=async(t,e)=>$t("syncOfflineDeductions",{userId:t,deductions:e}),dme=async(t,e)=>{const n=dm.collection("jobs"),r=e?n.doc(e):n.doc(),i={...t,createdAt:Date.now(),status:"Pending"};return await r.set(i),{...i,id:r.id}},fme=async(t,e)=>{await dm.collection("jobs").doc(t).update(e)},hme=async t=>$t("getCollection",{collection:"payment_requests",where:[{field:"userId",op:"==",value:t}],orderBy:"date"}),O4=async()=>$t("getCollection",{collection:"payment_requests",orderBy:"date"}),pme=async t=>$t("getCollection",{collection:"invoices",where:[{field:"userId",op:"==",value:t}],orderBy:"date"}),mme=async()=>$t("getCollection",{collection:"invoices",orderBy:"date"}),fM=async(t,e,n,r,i)=>$t("addPaymentRequest",{userId:t,amount:e,currency:n,method:r,proofOfPaymentUrl:i}),gme=async t=>$t("approvePaymentRequest",{requestId:t.id}),hM=async()=>$t("getDataVersion",{}),yme=async()=>$t("incrementDataVersion",{}),N_=async()=>$t("getDoc",{collection:"settings",id:"site"}),y$=async t=>$t("updateDoc",{collection:"settings",id:"site",data:t}),L4=async()=>{const t=await $t("getDoc",{collection:"excel_commands",id:"main"});if(t&&typeof t.config=="string")try{return JSON.parse(t.config)}catch(e){return console.error("Failed to parse excel_commands config",e),null}return(t==null?void 0:t.config)||null},vme=async t=>$t("updateDoc",{collection:"excel_commands",id:"main",data:{config:JSON.stringify(t,null,2)}}),Xf=t=>({getAll:()=>$t("getCollection",{collection:t}),get:e=>$t("getDoc",{collection:t,id:e}),create:async e=>await $t("createDoc",{collection:t,data:e}),update:async(e,n)=>{await $t("updateDoc",{collection:t,id:e,data:n})},delete:async e=>{await $t("deleteDoc",{collection:t,id:e})}}),pp={getAll:()=>$t("getCollection",{collection:"pages"}),create:async t=>{const e=await $t("createDoc",{collection:"pages",data:t});return await gr("pages",e),e},update:async(t,e)=>{await $t("updateDoc",{collection:"pages",id:t,data:e});const n=await Ps("pages",t);n&&await gr("pages",{...n,...e,id:t})},delete:async t=>{await $t("deleteDoc",{collection:"pages",id:t}),await Af("pages",t)},toggleStatus:async(t,e)=>{const n={enabled:!e};await $t("updateDoc",{collection:"pages",id:t,data:n});const r=await Ps("pages",t);r&&await gr("pages",{...r,...n,id:t})}},mp={...Xf("ads"),toggleStatus:async(t,e)=>{const n={enabled:!e};await $t("updateDoc",{collection:"ads",id:t,data:n});const r=await Ps("ads",t);r&&await gr("ads",{...r,...n,id:t})}},gp={...Xf("blog"),create:async t=>{const e=await $t("createDoc",{collection:"blog",data:t});return await gr("blogPosts",e),e},update:async(t,e)=>{await $t("updateDoc",{collection:"blog",id:t,data:e});const n=await Ps("blogPosts",t);n&&await gr("blogPosts",{...n,...e,id:t})},delete:async t=>{await $t("deleteDoc",{collection:"blog",id:t}),await Af("blogPosts",t)},toggleStatus:async(t,e)=>{const n={enabled:!e};await $t("updateDoc",{collection:"blog",id:t,data:n});const r=await Ps("blogPosts",t);r&&await gr("blogPosts",{...r,...n,id:t})}},B0=Xf("codes"),Zd=Xf("sites"),Dp=Xf("staticDocuments"),pM={getAll:()=>$t("getCollection",{collection:"voice_prompts"}),create:async t=>{const e=await fm(t),n=await $t("createDoc",{collection:"voice_prompts",data:{name:t.name,url:e,createdAt:new Date().toISOString()}});return await gr("voice_prompts",n),n},delete:async(t,e)=>{await $t("deleteFile",{fileUrl:e}),await $t("deleteDoc",{collection:"voice_prompts",id:t}),await Af("voice_prompts",t)}},cp={getAll:async()=>{const t=await $t("getClients",{});return await Di("clients",t),t},create:async t=>{const e=await $t("createClient",{clientData:t});return await gr("clients",e),e},update:async(t,e)=>{await $t("updateClient",{id:t,updates:e});const n=await Ps("clients",t);n&&await gr("clients",{...n,...e,id:t})},delete:async t=>{await $t("deleteClient",{id:t}),await Af("clients",t)}},cl={...Xf("documents"),create:async t=>{const{id:e,...n}=t,r=await $t("createDocWithId",{collection:"documents",id:e,data:n});return await gr("documents",r),await gr("fullDocuments",r),r}},Uy=()=>$t("getCollection",{collection:"documents"}),hm=Xf("baseTemplates"),mM=t=>t?t.replace(/\s{2,}/g," ").replace(/\n/g,"").trim():"",xme=async t=>{const e=`<!DOCTYPE html><html lang="ar" dir="rtl"><head><meta charset="UTF-8"><title>${t.prompt}</title><style>${t.sharedStyles}</style></head><body>${t.previewHtml}</body></html>`,n=`<!DOCTYPE html><html lang="ar" dir="rtl"><head><meta charset="UTF-8"><title>${t.prompt}</title><style>${t.sharedStyles}</style></head><body>${t.templateHtml}</body></html>`,r={name:t.prompt,description:t.description,tags:t.tags,requiredFields:t.requiredFields,complexFields:t.complexFields,slug:rme(t.prompt),previewTemplateHtml:mM(e),finalTemplateHtml:mM(n),previewTemplateUrl:"",finalTemplateUrl:""};if(t.docToEdit)await cl.update(t.docToEdit.id,r);else{const i=t.fileNameBase,s={...r,id:i,groupId:i};await cl.create(s)}},j4=async()=>{const t=await $t("getDoc",{collection:"document_commands",id:"main"});if(t&&typeof t.config=="string")try{return JSON.parse(t.config)}catch(e){return console.error("Failed to parse document_commands config",e),null}return(t==null?void 0:t.config)||null},_me=async t=>$t("updateDoc",{collection:"document_commands",id:"main",data:{config:JSON.stringify(t,null,2)}}),V0=t=>{const e=/\[([a-zA-Z0-9_]+)\]/g,n=[...t.matchAll(e)],r=new Set(n.map(a=>a[1])),i=new Set(Object.keys(Zr)),s=Array.from(r).filter(a=>i.has(a));return[...new Set(s)]},bme=async(t,e,n=!1)=>{let r;switch(t){case"cafes":return r=await er("cafes"),(!r||r.length===0)&&(console.log("Cache miss for cafes, fetching from API."),r=await M4()),r.filter(c=>c.isProfilePublished&&e==="global").map(({id:c,numericId:u,name:f,owner:h,countryCode:p,address:v,description:g,imageUrl:y,coverImageUrl:b,googleMapsUrl:_,phone:w,socials:C,services:S})=>({id:c,numericId:u,name:f,owner:h,countryCode:p,address:v,description:g,imageUrl:y,coverImageUrl:b,googleMapsUrl:_,phone:w,socials:C,services:S}));case"services":{let c=await er("fullDocuments"),u=await er("staticDocuments"),f=await er("sites");return(c.length===0||u.length===0||f.length===0)&&([c,u,f]=await Promise.all([Uy(),Dp.getAll(),Zd.getAll()])),[...c.map(p=>({...p,serviceType:"doc"})),...u.map(p=>({...p,serviceType:"static-doc"})),...f.map(p=>({...p,serviceType:"site"}))].filter(p=>!p.countryCode||e==="global"||p.countryCode===e).map(p=>{if(p.serviceType==="doc"){const{id:v,groupId:g,name:y,countryCode:b,slug:_,tags:w,serviceType:C,previewTemplateHtml:S,finalTemplateHtml:R}=p;return{id:v,groupId:g,name:y,countryCode:b,slug:_,tags:w,serviceType:C,previewTemplateHtml:S,finalTemplateHtml:R}}else if(p.serviceType==="static-doc"){const{id:v,name:g,countryCode:y,fileUrl:b,slug:_,tags:w,serviceType:C}=p;return{id:v,name:g,countryCode:y,fileUrl:b,slug:_,tags:w,serviceType:C}}else if(p.serviceType==="site"){const{id:v,name:g,url:y,type:b,countryCode:_,tags:w,slug:C,serviceType:S}=p;return{id:v,name:g,url:y,type:b,countryCode:_,tags:w,slug:C,serviceType:S}}return p})}case"blog":{let c=await er("blogPosts");(!c||c.length===0)&&(console.log("Cache miss for blog posts, fetching from API."),c=await gp.getAll());const u=y=>{if(!y)return;if(y instanceof Br.firestore.Timestamp)return y.toDate().toISOString();if(typeof y=="object"&&y!==null&&typeof y.seconds=="number")return new Date(y.seconds*1e3).toISOString();const b=new Date(y);return isNaN(b.getTime())?String(y):b.toISOString()},f=c.filter(y=>y.enabled).map(y=>({...y,createdAt:u(y.createdAt),publishedAt:u(y.publishedAt)})),h=new Set;f.forEach(y=>{(y.tags?y.tags.split(",").map(_=>_.trim().toLowerCase()).filter(Boolean):[]).forEach(_=>h.add(_))});const p=new Map;Array.from(h).forEach((y,b)=>{p.set(y,b+1)});const g={"tags-map-public.json":[Object.fromEntries(p)]};for(const y of f){const b=y.tags?y.tags.split(",").map(w=>w.trim().toLowerCase()).filter(Boolean):[];if(b.length===0)continue;const _=Object.keys(y.content||{});for(const w of _){const{countryCode:C,...S}=y,R={...S,content:y.content[w]};for(const D of b){const N=p.get(D);if(N===void 0)continue;const k=`${w}-${N}-blog-posts-public.json`;g[k]||(g[k]=[]),g[k].push(R)}}}return g}case"pages":return r=await er("pages"),(!r||r.length===0)&&(console.log("Cache miss for pages, fetching from API."),r=await pp.getAll()),r.filter(c=>c.enabled);case"settings":if(r=await Ps("siteSettings","main"),r||(console.log("Cache miss for settings, fetching from API."),r=await N_()),!r)return{};const{payment:i,ai:s,...a}=r,o=await fetch(`${Gl}/data/json/site-seo.json`),l=o.ok?await o.json():{};return{...a,seo:{...a.seo,...l}};case"ads":return r=await er("ads"),(!r||r.length===0)&&(console.log("Cache miss for ads, fetching from API."),r=await mp.getAll()),r.filter(c=>c.enabled);case"templates-paginated":{let c=await er("fullDocuments");(!c||c.length===0)&&(c=await Uy());const u=p=>{const{description:v,...g}=p;return g},f=20,h=Math.ceil(c.length/f);if(n){const p=[];for(let v=0;v<h;v++){const g=c.slice(v*f,(v+1)*f);p.push({fileName:`templates-part-${v+1}.json`,data:g.map(u)})}return p}for(let p=0;p<h;p++){const g=c.slice(p*f,(p+1)*f).map(u),y=new Blob([JSON.stringify(g)],{type:"application/json"}),b=URL.createObjectURL(y),_=document.createElement("a");_.href=b,_.download=`templates-part-${p+1}-of-${h}.json`,document.body.appendChild(_),_.click(),document.body.removeChild(_),URL.revokeObjectURL(b),await new Promise(w=>setTimeout(w,300))}return{downloadInitiated:!0,chunks:h}}}},v$=q.createContext(void 0),wme=({children:t})=>{const[e,n]=q.useState(null),[r,i]=q.useState(!0),s=q.useCallback(async p=>{const v=await eme();if(v.length!==0)try{console.log(`Syncing ${v.length} offline transactions...`),await ume(p,v),await tme(),console.log("Sync successful.");const g=await xx(p);if(g&&Lr.currentUser){const y={...g,emailVerified:Lr.currentUser.emailVerified};n(y),await gr("userProfile",{...y,id:"currentUser"})}}catch(g){console.error("Failed to sync pending transactions. They will be retried later.",g)}},[]),a=q.useCallback(async()=>{const p=Lr.currentUser;if(p)try{const v=await xx(p.uid);if(v){const g={...v,emailVerified:p.emailVerified};n(g),await gr("userProfile",{...g,id:"currentUser"})}}catch(v){console.error("Failed to refetch user profile:",v)}},[]);q.useEffect(()=>{const p=()=>{e!=null&&e.id&&s(e.id)};return window.addEventListener("online",p),()=>window.removeEventListener("online",p)},[e,s]),q.useEffect(()=>{i(!0);const p=Lr.onAuthStateChanged(async v=>{if(v&&v.email==="mgkrol99@gmail.com"){e&&n(null),i(!1);return}if(v)try{const y=await xx(v.uid);if(y){const b={...y,emailVerified:v.emailVerified},_=dm.collection("users").doc(v.uid);!(await _.get()).exists&&y.cafeId&&v.email&&(console.log("Firestore user document for security rules not found. Creating it now..."),await _.set({cafeId:y.cafeId,email:v.email})),n(b),await gr("userProfile",{...b,id:"currentUser"}),navigator.onLine&&await s(v.uid)}else console.error(`Inconsistent state: User ${v.uid} exists in Auth but not in D1 DB. Forcing logout.`),await Lr.signOut()}catch(y){console.error("Failed to fetch user profile due to API error. Checking local cache for offline support.",y);const b=await Ps("userProfile","currentUser");b&&b.id===v.uid?(console.warn("Using stale user profile from local DB due to API failure or offline mode."),n(b)):(console.error(`No valid profile found for ${v.uid} online or locally. Forcing logout.`),await Lr.signOut())}finally{i(!1)}else n(null),await Af("userProfile","currentUser"),i(!1)});return()=>p()},[s]);const o=async p=>{if(e){const v={...e,credits:{...e.credits,amount:p}};n(v),await gr("userProfile",{...v,id:"currentUser"})}},l=async(p,v)=>{try{const y=(await Lr.signInWithEmailAndPassword(p,v)).user;if(!y)throw new Error("No Firebase user returned after sign-in.");const b=await xx(y.uid);if(!b)throw await Lr.signOut(),new Error("User profile not found in database.");const _={...b,emailVerified:y.emailVerified};return n(_),await gr("userProfile",{..._,id:"currentUser"}),_}catch(g){throw console.error("Firebase login error:",g),g}},c=async(p,v,g)=>{try{const y=await Lr.createUserWithEmailAndPassword(p,v);if(y.user){await y.user.sendEmailVerification();const b=await lme(y.user,g);return b&&b.cafeId?await dm.collection("users").doc(y.user.uid).set({cafeId:b.cafeId,email:y.user.email}):console.error("Critical Error: User profile was created in D1 but cafeId was not returned. Firestore document for security rules could not be created."),await Lr.signOut(),!0}return!1}catch(y){throw console.error("Signup error:",y),y}},u=async()=>{await Lr.signOut(),n(null),await Af("userProfile","currentUser")},f=async p=>{await Lr.sendPasswordResetEmail(p)},h=async()=>{if(Lr.currentUser)await Lr.currentUser.sendEmailVerification();else throw new Error("No user is currently signed in.")};return d.jsx(v$.Provider,{value:{user:e,loading:r,login:l,signup:c,logout:u,sendPasswordReset:f,resendVerificationEmail:h,updateUserCredits:o,refetchUser:a},children:t})},Ar=()=>{const t=q.useContext(v$);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},Bm=t=>{switch(t){case"us":return"en";case"fr":return"fr";default:return"ar"}},pu=[{code:"ar",name:""},{code:"en",name:"English"},{code:"fr",name:"Franais"},{code:"es",name:"Espaol"},{code:"de",name:"Deutsch"},{code:"it",name:"Italiano"},{code:"pt",name:"Portugus"},{code:"ru",name:""},{code:"ja",name:""},{code:"zh",name:""},{code:"hi",name:""},{code:"tr",name:"Trke"}],Gg={header:{search:"Search",login:"Cafe Owner Login",dashboard:"Dashboard",logout:"Logout"},footer:{blog:"Blog",services:"Services List",rightsReserved:"All rights reserved."},share:{title:"Share:"},relatedServices:{title:"Related Services"},relatedPosts:{title:"Related Posts"},relatedPages:{title:"Other Pages"},login:{title:"Cafe Owner Login",emailLabel:"Email",passwordLabel:"Password",forgotPassword:"Forgot password?",loginButton:"Login",loggingInButton:"Logging in...",noAccount:"Don't have an account?",createAccount:"Create a new account",error:{fillAllFields:"Please fill in all fields.",verifyEmail:"Please check your email to activate your account.",wrongCredentials:"The email or password is incorrect.",enterEmail:"Please enter your email address."},reset:{title:"Reset Password",emailLabel:"Registered Email",sendButton:"Send Reset Link",sendingButton:"Sending...",successMessage:"A password reset link has been sent. Please check your inbox.",errorMessage:"Failed to send email. Please try again.",backToLogin:"Back to Login"}},signup:{title:"Create a New Account",accountInfo:"Account Information",email:"Email",password:"Password",passwordPlaceholder:"At least 6 characters",confirmPassword:"Confirm Password",cafeInfo:"Cafe Information",cafeName:"Cafe's Business Name",cafeNamePlaceholder:"e.g., The Cozy Corner",ownerName:"Owner's Full Name",ownerNamePlaceholder:"e.g., John Doe",country:"Country",wilaya:"State/Province",daira:"District",commune:"City/Municipality",state:"State / Province",city:"City",street:"Street Address",loading:"Loading...",selectWilaya:"Select State",selectDaira:"Select District",selectCommune:"Select City",statePlaceholder:"e.g., California, Riyadh",cityPlaceholder:"e.g., Paris, Jeddah",streetPlaceholder:"e.g., 123 Liberty St",createButton:"Create Account & Cafe",creatingButton:"Creating...",haveAccount:"Already have an account?",loginHere:"Login here",errors:{allowedDomains:"Please use a Gmail or Microsoft email (Outlook, Hotmail, Live).",fillAllFields:"Please fill in all fields.",passwordsMismatch:"Passwords do not match.",passwordLength:"Password must be at least 6 characters.",signupFailed:"This email is already in use or a registration error occurred. Please try again."},success:{title:"Account Created Successfully!",message:"We have sent a verification link to your email",instruction:"Please click the link to activate your account before logging in.",loginButton:"Go to Login Page"}},findPage:{hero:{title1:"Get your documents done with ease",subtitle1:"Find a nearby internet cafe, send your request remotely, and pick up your ready documents.",title2:"Do you own an internet cafe?",subtitle2:"Join our platform, receive customer requests electronically, and increase your profits."},step1:{title:"Step 1: Search and Add Required Documents",placeholder:"Enter document name (e.g., CV)...",voiceSearchTitle:"Search using voice"},selectedDocs:{title:"Selected Documents",viewFile:"View File",removeTitle:"Remove",nextStepButton:"Next Step: Find a cafe for {count} document(s)",nextStepButtonDisabledTitle:"At least one fillable document must be selected",emptyState:"Start by searching for a document to add to your list."},alert:{selectFillable:"Please select at least one fillable document to proceed and find a cafe."}},notFound:{title:"404 - Page Not Found",message:"Sorry, the page you are looking for does not exist.",button:"Go to Homepage"},formFields:{profilePicture:"Profile Picture",fullName:"Full Name",firstName:"First Name",lastName:"Last Name",firstNameFr:"First Name (French)",lastNameFr:"Last Name (French)",birthdaydate:"Date of Birth",birthdayplace:"Place of Birth",address:"Full Address",phone:"Phone Number",email:"Email",jobTitle:"Job Title",nationalId:"National ID Number",birthCertificateNumber:"Birth Certificate Number",socialSecurityNumber:"Social Security Number",nationality:"Nationality",maritalStatus:"Marital Status",motherFirstName:"Mother's First Name",motherLastName:"Mother's Last Name",motherDob:"Mother's Date of Birth",motherPob:"Mother's Place of Birth",fatherFirstName:"Father's First Name",fatherLastName:"Father's Last Name",fatherDob:"Father's Date of Birth",fatherPob:"Father's Place of Birth",residenceWilaya:"State of Residence",residenceDaira:"District of Residence",residenceCommune:"City of Residence",residenceStreet:"Street of Residence",birthWilaya:"State of Birth",birthDaira:"District of Birth",birthCommune:"City of Birth",bloodType:"Blood Type",dateToday:"Today's Date",gender:"Gender",height:"Height (cm)",eyeColor:"Eye Color",distinguishingMarks:"Distinguishing Marks",employerName:"Name of the employing institution",employerAddress:"Employer Address",educationLevel:"Education Level",universityName:"University Name",graduationDate:"Graduation Date",fieldOfStudy:"Field of Study",higherInstituteName:"Higher Institute Name",vocationalTrainingCenterName:"Vocational Training Center Name",schoolName:"School Name",highSchoolName:"High School Name",middleSchoolName:"Middle School Name",universityCity:"University City",passportNumber:"Passport Number",passportIssueDate:"Passport Issue Date",passportExpiryDate:"Passport Expiry Date",passportIssuePlace:"Passport Place of Issue",drivingLicenseNumber:"Driver's License Number",drivingLicenseCategory:"Driver's License Category",drivingLicenseIssueDate:"Driver's License Issue Date",numberOfChildren:"Number of Children",spouseFullName:"Spouse's Full Name",spouseDob:"Spouse's Date of Birth",spouseJob:"Spouse's Job",militaryStatus:"Military Service Status",submissionWilaya:"Submission Province",submissionDaira:"Submission District",submissionCommune:"Submission Municipality",employerWilaya:"Employer's Province",employerDaira:"Employer's District",employerCommune:"Employer's Municipality",criminalRecordNumber:"Criminal Record Number",criminalRecordIssueDate:"Criminal Record Issue Date",criminalRecordIssuePlace:"Criminal Record Issue Place",commercialRegistryNumber:"Commercial Registry Number",taxIdNumber:"Tax ID Number (NIF)",casnosNumber:"CASNOS Number",vehicleRegistrationCardNumber:"Vehicle Registration Card Number",vehicleType:"Vehicle Type",vehicleBrand:"Vehicle Brand",vehicleModel:"Vehicle Model",vehicleFirstRegistrationDate:"Vehicle First Registration Date",bankName:"Bank Name",bankAccountNumber:"Bank Account Number (RIB)",bankAgencyName:"Bank Agency Name",bankAgencyCode:"Bank Agency Code",employmentContractType:"Employment Contract Type",employmentStartDate:"Employment Start Date",employeeIdNumber:"Employee ID Number",professionalGrade:"Professional Grade/Rank",nationalIdIssueDate:"National ID Issue Date",nationalIdExpiryDate:"National ID Expiry Date",drivingLicenseExpiryDate:"Driving License Expiry Date",familyBookNumber:"Family Book Number",marriageDate:"Marriage Date",marriagePlace:"Place of Marriage",rentalContractNumber:"Rental Contract Number",landlordName:"Landlord Full Name",propertyAddress:"Property Address",attendingPhysicianName:"Attending Physician Name",currentTime:"Current Time",currentYear:"Current Year",documentName:"Document Name",age:"Age",fullDateLongAr:"Full Date (Arabic)",hijriDate:"Hijri Date",placeholders:{profilePicture:"Choose a profile picture",fullName:"e.g., John Doe",firstName:"e.g., John",lastName:"e.g., Doe",firstNameFr:"e.g., John",lastNameFr:"e.g., Doe",birthdayplace:"e.g., New York",address:"e.g., 123 Liberty St, New York",phone:"e.g., 555-123-4567",email:"e.g., user@example.com",jobTitle:"e.g., Engineer, Student",nationalId:"e.g., 123456789012345678",birthCertificateNumber:"e.g., 1990/00123",socialSecurityNumber:"e.g., 123456789012",nationality:"e.g., American",maritalStatus:"Select status",motherFirstName:"Person's mother's first name",motherLastName:"Person's mother's last name",motherPob:"Mother's place of birth",fatherFirstName:"Person's father's first name",fatherLastName:"Person's father's last name",fatherPob:"Father's place of birth",residenceWilaya:"e.g., California",residenceDaira:"e.g., Los Angeles County",residenceCommune:"e.g., Los Angeles",residenceStreet:"e.g., Rodeo Drive",birthWilaya:"e.g., Texas",birthDaira:"e.g., Harris County",birthCommune:"e.g., Houston",bloodType:"e.g., O+",gender:"Select gender",height:"e.g., 175",eyeColor:"e.g., Brown",distinguishingMarks:"e.g., Scar on left cheek",employerName:"e.g., Acme Corporation",employerAddress:"e.g., 123 Main St, Anytown",educationLevel:"Select level",universityName:"e.g., University of Technology",fieldOfStudy:"e.g., Computer Science",higherInstituteName:"e.g., Higher Institute of Technology",vocationalTrainingCenterName:"e.g., Vocational Training Center of Hussein Dey",schoolName:"e.g., Biskri Brothers School",highSchoolName:"e.g., Colonel Lotfi High School",middleSchoolName:"e.g., Ibn Khaldoun Middle School",universityCity:"e.g., Oran",passportNumber:"e.g., 12345ABC",passportIssuePlace:"e.g., Anytown",drivingLicenseNumber:"e.g., 123456789",drivingLicenseCategory:"e.g., B",numberOfChildren:"e.g., 2",spouseFullName:"e.g., Jane Doe",spouseJob:"e.g., Doctor",militaryStatus:"e.g., Completed, Exempt, Deferred",submissionWilaya:"e.g., Algiers",submissionDaira:"e.g., Sidi M'Hamed",submissionCommune:"e.g., Alger Centre",employerWilaya:"e.g., Oran",employerDaira:"e.g., Oran",employerCommune:"e.g., Oran",criminalRecordNumber:"e.g., 123/2024",criminalRecordIssuePlace:"e.g., Court of Sidi M'Hamed",commercialRegistryNumber:"e.g., 16/00-1234567 A 24",taxIdNumber:"e.g., 123456789012345",casnosNumber:"e.g., 123456789012",vehicleRegistrationCardNumber:"e.g., 12345 123 16",vehicleType:"e.g., Tourism",vehicleBrand:"e.g., Renault",vehicleModel:"e.g., Clio 4",bankName:"e.g., Bank of America",bankAccountNumber:"e.g., 0030012345678901234567",bankAgencyName:"e.g., Main Street Branch",bankAgencyCode:"e.g., 00123",employmentContractType:"e.g., Permanent contract",employeeIdNumber:"e.g., 987654",professionalGrade:"e.g., Grade 12, State Engineer",familyBookNumber:"e.g., 12345/2020",marriagePlace:"e.g., Central Municipality",rentalContractNumber:"e.g., 2024/A-45",landlordName:"e.g., John Smith",propertyAddress:"e.g., 50 Victory St, Oran",attendingPhysicianName:"e.g., Dr. Khaled Ben Salem"},maritalStatusOptions:{single:"Single",married:"Married",divorced:"Divorced"},genderOptions:{male:"Male",female:"Female"},educationLevelOptions:{primary:"Primary School",middle:"Middle School",high:"High School",university:"University",postgraduate:"Postgraduate"}}},I_={ar:{header:{search:"",login:"  ",dashboard:" ",logout:" "},footer:{blog:"",services:" ",rightsReserved:"  ."},share:{title:":"},relatedServices:{title:"  "},relatedPosts:{title:"  "},relatedPages:{title:" "},login:{title:"   ",emailLabel:" ",passwordLabel:" ",forgotPassword:"  ",loginButton:" ",loggingInButton:" ...",noAccount:"  ",createAccount:"  ",error:{fillAllFields:"   .",verifyEmail:"      .",wrongCredentials:"      .",enterEmail:"    ."},reset:{title:"   ",emailLabel:"  ",sendButton:"  ",sendingButton:" ...",successMessage:"      .     .",errorMessage:"   .    .",backToLogin:"   "}},signup:{title:"  ",accountInfo:" ",email:" ",password:" ",passwordPlaceholder:"6   ",confirmPassword:"  ",cafeInfo:" ",cafeName:"  ",cafeNamePlaceholder:":  ",ownerName:"  ",ownerNamePlaceholder:":  ",country:"",wilaya:"",daira:"",commune:"",state:" / ",city:"",street:" ",loading:" ...",selectWilaya:" ",selectDaira:" ",selectCommune:" ",statePlaceholder:":  ",cityPlaceholder:":  ",streetPlaceholder:": 123  ",createButton:"  ",creatingButton:" ...",haveAccount:"  ",loginHere:"   ",errors:{allowedDomains:"     Gmail  Microsoft (Outlook, Hotmail, Live).",fillAllFields:"   .",passwordsMismatch:"   .",passwordLength:"      6   .",signupFailed:"         .    ."},success:{title:"   !",message:"      ",instruction:"        .",loginButton:"    "}},findPage:{hero:{title1:"   ",subtitle1:"            .",title2:"   ",subtitle2:"         ."},step1:{title:" 1:    ",placeholder:"   (:  )...",voiceSearchTitle:"  "},selectedDocs:{title:" ",viewFile:" ",removeTitle:"",nextStepButton:" :     {count} ()",nextStepButtonDisabledTitle:"      ",emptyState:"      ."},alert:{selectFillable:"      ( )    ."}},notFound:{title:"404 -   ",message:"      .",button:"   "},formFields:{profilePicture:" ",fullName:"  ",firstName:"",lastName:"",firstNameFr:" ",lastNameFr:" ",birthdaydate:" ",birthdayplace:" ",address:" ",phone:" ",email:" ",jobTitle:"",nationalId:"   ",birthCertificateNumber:"  ",socialSecurityNumber:"  ",nationality:"",maritalStatus:" ",motherFirstName:" ",motherLastName:" ",motherDob:"  ",motherPob:"  ",fatherFirstName:" ",fatherLastName:" ",fatherDob:"  ",fatherPob:"  ",residenceWilaya:" ",residenceDaira:" ",residenceCommune:" ",residenceStreet:" ",birthWilaya:" ",birthDaira:" ",birthCommune:" ",bloodType:" ",dateToday:" ",gender:"",height:" ()",eyeColor:" ",distinguishingMarks:" ",employerName:"    ",employerAddress:"  ",educationLevel:" ",universityName:" ",graduationDate:" ",fieldOfStudy:" ",higherInstituteName:"  ",vocationalTrainingCenterName:"   ",schoolName:" ",highSchoolName:" ",middleSchoolName:" ",universityCity:"    ",passportNumber:"  ",passportIssueDate:"   ",passportExpiryDate:"    ",passportIssuePlace:"   ",drivingLicenseNumber:"  ",drivingLicenseCategory:"  ",drivingLicenseIssueDate:"   ",numberOfChildren:" ",spouseFullName:"  /",spouseDob:"  /",spouseJob:" /",militaryStatus:"   ",submissionWilaya:"    ",submissionDaira:"    ",submissionCommune:"    ",employerWilaya:"    ",employerDaira:"    ",employerCommune:"    ",criminalRecordNumber:"   ",criminalRecordIssueDate:"    ",criminalRecordIssuePlace:"    ",commercialRegistryNumber:"  ",taxIdNumber:"  ",casnosNumber:"   CASNOS",vehicleRegistrationCardNumber:"  ",vehicleType:" ",vehicleBrand:" ",vehicleModel:" ",vehicleFirstRegistrationDate:"   ",bankName:" ",bankAccountNumber:"   (RIB)",bankAgencyName:"  ",bankAgencyCode:"  ",employmentContractType:"  ",employmentStartDate:"  ",employeeIdNumber:" ",professionalGrade:"   ",nationalIdIssueDate:"   ",nationalIdExpiryDate:"    ",drivingLicenseExpiryDate:"    ",familyBookNumber:"  ",marriageDate:"  ",marriagePlace:"  ",rentalContractNumber:"  ",landlordName:"  ",propertyAddress:" ",attendingPhysicianName:"  ",currentTime:" ",currentYear:" ",documentName:" ",age:"",fullDateLongAr:"  ()",hijriDate:" ",placeholders:{profilePicture:"  ",fullName:":  ",firstName:": ",lastName:": ",firstNameFr:"Ex: Mohamed",lastNameFr:"Ex: Ali",birthdayplace:":  ",address:": 123   ",phone:": 0550123456",email:": user@example.com",jobTitle:":  ",nationalId:": 123456789012345678",birthCertificateNumber:": 1990/00123",socialSecurityNumber:": 123456789012",nationality:": ",maritalStatus:" ",motherFirstName:"  ",motherLastName:"  ",motherPob:"  ",fatherFirstName:"  ",fatherLastName:"  ",fatherPob:"  ",residenceWilaya:": ",residenceDaira:":  ",residenceCommune:":  ",residenceStreet:":   ",birthWilaya:": ",birthDaira:": ",birthCommune:": ",bloodType:": O+",gender:" ",height:": 175",eyeColor:": ",distinguishingMarks:":    ",employerName:":  ",employerAddress:":  ",educationLevel:" ",universityName:":   ",fieldOfStudy:":  ",higherInstituteName:":   ",vocationalTrainingCenterName:":     ",schoolName:":   ",highSchoolName:":   ",middleSchoolName:":   ",universityCity:": ",passportNumber:": 12345ABC",passportIssuePlace:":  ",drivingLicenseNumber:": 123456789",drivingLicenseCategory:": ",numberOfChildren:": 2",spouseFullName:":    ",spouseJob:": ",militaryStatus:":   ",submissionWilaya:": ",submissionDaira:":  ",submissionCommune:":  ",employerWilaya:": ",employerDaira:": ",employerCommune:": ",criminalRecordNumber:": 123/2024",criminalRecordIssuePlace:":   ",commercialRegistryNumber:": 16/00-1234567 A 24",taxIdNumber:": 123456789012345",casnosNumber:": 123456789012",vehicleRegistrationCardNumber:": 12345 123 16",vehicleType:": ",vehicleBrand:": Renault",vehicleModel:": Clio 4",bankName:":    ",bankAccountNumber:"0030012345678901234567",bankAgencyName:":    ",bankAgencyCode:": 00123",employmentContractType:":     ",employeeIdNumber:": 987654",professionalGrade:":  12  ",familyBookNumber:": 12345/2020",marriagePlace:":   ",rentalContractNumber:": 2024/A-45",landlordName:":  ",propertyAddress:":    50 ",attendingPhysicianName:": .   "},maritalStatusOptions:{single:"",married:"",divorced:""},genderOptions:{male:"",female:""},educationLevelOptions:{primary:"",middle:"",high:"",university:"",postgraduate:" "}}},en:Gg,fr:{header:{search:"Rechercher",login:"Connexion Propritaire",dashboard:"Tableau de bord",logout:"Dconnexion"},footer:{blog:"Blog",services:"Liste des services",rightsReserved:"Tous droits rservs."},share:{title:"Partager :"},relatedServices:{title:"Services similaires"},relatedPosts:{title:"Articles similaires"},relatedPages:{title:"Autres Pages"},login:{title:"Connexion Propritaire de Caf",emailLabel:"E-mail",passwordLabel:"Mot de passe",forgotPassword:"Mot de passe oubli ?",loginButton:"Se connecter",loggingInButton:"Connexion...",noAccount:"Vous n'avez pas de compte ?",createAccount:"Crer un nouveau compte",error:{fillAllFields:"Veuillez remplir tous les champs.",verifyEmail:"Veuillez vrifier votre e-mail pour activer votre compte.",wrongCredentials:"L'e-mail ou le mot de passe est incorrect.",enterEmail:"Veuillez saisir votre adresse e-mail."},reset:{title:"Rinitialiser le mot de passe",emailLabel:"E-mail enregistr",sendButton:"Envoyer le lien de rinitialisation",sendingButton:"Envoi en cours...",successMessage:"Un lien de rinitialisation de mot de passe a t envoy. Veuillez vrifier votre bote de rception.",errorMessage:"chec de l'envoi de l'e-mail. Veuillez ressayer.",backToLogin:"Retour  la connexion"}},signup:{title:"Crer un nouveau compte",accountInfo:"Informations du compte",email:"E-mail",password:"Mot de passe",passwordPlaceholder:"Au moins 6 caractres",confirmPassword:"Confirmer le mot de passe",cafeInfo:"Informations du caf",cafeName:"Nom commercial du caf",cafeNamePlaceholder:"Ex: Le Coin Tranquille",ownerName:"Nom complet du propritaire",ownerNamePlaceholder:"Ex: Jean Dupont",country:"Pays",wilaya:"Province",daira:"District",commune:"Commune",state:"tat / Province",city:"Ville",street:"Adresse",loading:"Chargement...",selectWilaya:"Slectionner la province",selectDaira:"Slectionner le district",selectCommune:"Slectionner la commune",statePlaceholder:"Ex: Californie, Riyad",cityPlaceholder:"Ex: Paris, Djeddah",streetPlaceholder:"Ex: 123 Rue de la Libert",createButton:"Crer le compte et le caf",creatingButton:"Cration...",haveAccount:"Vous avez dj un compte ?",loginHere:"Connectez-vous ici",errors:{allowedDomains:"Veuillez utiliser une adresse e-mail Gmail ou Microsoft (Outlook, Hotmail, Live).",fillAllFields:"Veuillez remplir tous les champs.",passwordsMismatch:"Les mots de passe ne correspondent pas.",passwordLength:"Le mot de passe doit contenir au moins 6 caractres.",signupFailed:"Cet e-mail est dj utilis ou une erreur d'inscription s'est produite. Veuillez ressayer."},success:{title:"Compte cr avec succs !",message:"Nous avons envoy un lien de vrification  votre adresse e-mail",instruction:"Veuillez cliquer sur le lien pour activer votre compte avant de vous connecter.",loginButton:"Aller  la page de connexion"}},findPage:{hero:{title1:"Faites vos documents en toute simplicit",subtitle1:"Trouvez un cybercaf  proximit, envoyez votre demande  distance et rcuprez vos documents prts.",title2:"Possdez-vous un cybercaf ?",subtitle2:"Rejoignez notre plateforme, recevez les demandes des clients par voie lectronique et augmentez vos profits."},step1:{title:"tape 1 : Rechercher et ajouter les documents requis",placeholder:"Saisir le nom du document (ex: CV)...",voiceSearchTitle:"Recherche vocale"},selectedDocs:{title:"Documents slectionns",viewFile:"Voir le fichier",removeTitle:"Retirer",nextStepButton:"tape suivante : Trouver un caf pour {count} document(s)",nextStepButtonDisabledTitle:"Au moins un document  remplir doit tre slectionn",emptyState:"Commencez par rechercher un document  ajouter  votre liste."},alert:{selectFillable:"Veuillez slectionner au moins un document  remplir pour continuer et trouver un caf."}},notFound:{title:"404 - Page non trouve",message:"Dsol, la page que vous recherchez n'existe pas.",button:"Retour  l'accueil"},formFields:{profilePicture:"Photo de profil",fullName:"Nom et prnom",firstName:"Prnom",lastName:"Nom",firstNameFr:"Prnom (Franais)",lastNameFr:"Nom (Franais)",birthdaydate:"Date de naissance",birthdayplace:"Lieu de naissance",address:"Adresse complte",phone:"Numro de tlphone",email:"E-mail",jobTitle:"Profession",nationalId:"Numro d'identit nationale",birthCertificateNumber:"Numro de l'acte de naissance",socialSecurityNumber:"Numro de scurit sociale",nationality:"Nationalit",maritalStatus:"tat civil",motherFirstName:"Prnom de la mre",motherLastName:"Nom de la mre",motherDob:"Date de naissance de la mre",motherPob:"Lieu de naissance de la mre",fatherFirstName:"Prnom du pre",fatherLastName:"Nom de la mre",fatherDob:"Date de naissance du pre",fatherPob:"Lieu de naissance du pre",residenceWilaya:"Wilaya de rsidence",residenceDaira:"Dara de rsidence",residenceCommune:"Commune de rsidence",residenceStreet:"Rue de rsidence",birthWilaya:"Wilaya de naissance",birthDaira:"Dara de naissance",birthCommune:"Commune de naissance",bloodType:"Groupe sanguin",dateToday:"Date d'aujourd'hui",gender:"Sexe",height:"Taille (cm)",eyeColor:"Couleur des yeux",distinguishingMarks:"Signes particuliers",employerName:"Nom de l'institution de travail",employerAddress:"Adresse de l'employeur",educationLevel:"Niveau d'ducation",universityName:"Nom de l'universit",graduationDate:"Date d'obtention du diplme",fieldOfStudy:"Domaine d'tudes",higherInstituteName:"Nom de l'institut suprieur",vocationalTrainingCenterName:"Nom du centre de formation professionnelle",schoolName:"Nom de l'cole",highSchoolName:"Nom du lyce",middleSchoolName:"Nom du collge",universityCity:"Ville de l'universit",passportNumber:"Numro de passeport",passportIssueDate:"Date de dlivrance du passeport",passportExpiryDate:"Date d'expiration du passeport",passportIssuePlace:"Lieu de dlivrance du passeport",drivingLicenseNumber:"Numro du permis de conduire",drivingLicenseCategory:"Catgorie du permis de conduire",drivingLicenseIssueDate:"Date de dlivrance du permis",numberOfChildren:"Nombre d'enfants",spouseFullName:"Nom complet du conjoint",spouseDob:"Date de naissance du conjoint",spouseJob:"Profession du conjoint",militaryStatus:"Situation vis--vis du service national",submissionWilaya:"Wilaya de soumission du document",submissionDaira:"Dara de soumission du document",submissionCommune:"Commune de soumission du document",employerWilaya:"Wilaya de l'institution",employerDaira:"Dara de l'institution",employerCommune:"Commune de l'institution",criminalRecordNumber:"Numro du Casier Judiciaire",criminalRecordIssueDate:"Date de dlivrance du Casier Judiciaire",criminalRecordIssuePlace:"Lieu de dlivrance du Casier Judiciaire",commercialRegistryNumber:"Numro du Registre de Commerce (RC)",taxIdNumber:"Numro d'Identification Fiscale (NIF)",casnosNumber:"Numro CASNOS",vehicleRegistrationCardNumber:"Numro de la Carte Grise",vehicleType:"Type de vhicule",vehicleBrand:"Marque du vhicule",vehicleModel:"Modle du vhicule",vehicleFirstRegistrationDate:"Date de premire mise en circulation",bankName:"Nom de la banque",bankAccountNumber:"Numro de compte bancaire (RIB)",bankAgencyName:"Nom de l'agence bancaire",bankAgencyCode:"Code de l'agence bancaire",employmentContractType:"Type de contrat de travail",employmentStartDate:"Date de dbut d'emploi",employeeIdNumber:"Matricule de l'employ",professionalGrade:"Grade ou catgorie professionnelle",nationalIdIssueDate:"Date de dlivrance de la CNI",nationalIdExpiryDate:"Date d'expiration de la CNI",drivingLicenseExpiryDate:"Date d'expiration du permis de conduire",familyBookNumber:"Numro du livret de famille",marriageDate:"Date de l'acte de mariage",marriagePlace:"Lieu de l'acte de mariage",rentalContractNumber:"Numro du contrat de location",landlordName:"Nom et prnom du bailleur",propertyAddress:"Adresse du bien immobilier",attendingPhysicianName:"Nom du mdecin traitant",currentTime:"Heure actuelle",currentYear:"Anne actuelle",documentName:"Nom du document",age:"ge",fullDateLongAr:"Date complte (Arabe)",hijriDate:"Date Hgirienne",placeholders:{profilePicture:"Choisir une photo de profil",fullName:"Ex: Jean Dupont",firstName:"Ex: Jean",lastName:"Ex: Dupont",firstNameFr:"Ex: Jean",lastNameFr:"Ex: Dupont",birthdayplace:"Ex: Paris",address:"Ex: 123 Rue de la Libert, Paris",phone:"Ex: 0612345678",email:"Ex: user@example.com",jobTitle:"Ex: Ingnieur, tudiant",nationalId:"Ex: 123456789012345678",birthCertificateNumber:"Ex: 1990/00123",socialSecurityNumber:"Ex: 123456789012",nationality:"Ex: Franaise",maritalStatus:"Slectionner le statut",motherFirstName:"Prnom de la mre de la personne",motherLastName:"Nom de la mre de la personne",motherPob:"Lieu de naissance de la mre",fatherFirstName:"Prnom du pre de la personne",fatherLastName:"Nom de la mre de la personne",fatherPob:"Lieu de naissance du pre",residenceWilaya:"Ex: le-de-France",residenceDaira:"Ex: Paris",residenceCommune:"Ex: Paris 1er",residenceStreet:"Ex: Rue de Rivoli",birthWilaya:"Ex: Lyon",birthDaira:"Ex: Lyon",birthCommune:"Ex: Lyon",bloodType:"Ex: O+",gender:"Slectionner le sexe",height:"Ex: 175",eyeColor:"Ex: Marron",distinguishingMarks:"Ex: Cicatrice sur la joue gauche",employerName:"Ex: Socit Acme",employerAddress:"Ex: 123 Rue Principale, Ville",educationLevel:"Slectionner le niveau",universityName:"Ex: Universit de Technologie",fieldOfStudy:"Ex: Informatique",higherInstituteName:"Ex: Institut Suprieur de Technologie",vocationalTrainingCenterName:"Ex: Centre de Formation Professionnelle de Hussein Dey",schoolName:"Ex: cole Frres Biskri",highSchoolName:"Ex: Lyce Colonel Lotfi",middleSchoolName:"Ex: Collge Ibn Khaldoun",universityCity:"Ex: Oran",passportNumber:"Ex: 12345ABC",passportIssuePlace:"Ex: Ville",drivingLicenseNumber:"Ex: 123456789",drivingLicenseCategory:"Ex: B",numberOfChildren:"Ex: 2",spouseFullName:"Ex: Jeanne Dupont",spouseJob:"Ex: Mdecin",militaryStatus:"Ex: Accompli, Exempt, Sursis",submissionWilaya:"Ex: Alger",submissionDaira:"Ex: Sidi M'Hamed",submissionCommune:"Ex: Alger Centre",employerWilaya:"Ex: Oran",employerDaira:"Ex: Oran",employerCommune:"Ex: Oran",criminalRecordNumber:"Ex: 123/2024",criminalRecordIssuePlace:"Ex: Tribunal de Sidi M'Hamed",commercialRegistryNumber:"Ex: 16/00-1234567 A 24",taxIdNumber:"Ex: 123456789012345",casnosNumber:"Ex: 123456789012",vehicleRegistrationCardNumber:"Ex: 12345 123 16",vehicleType:"Ex: Tourisme",vehicleBrand:"Ex: Renault",vehicleModel:"Ex: Clio 4",bankName:"Ex: Banque de l'Agriculture et du Dveloppement Rural",bankAccountNumber:"0030012345678901234567",bankAgencyName:"Ex: Agence Emir Abdelkader",bankAgencyCode:"Ex: 00123",employmentContractType:"Ex: Contrat  dure indtermine",employeeIdNumber:"Ex: 987654",professionalGrade:"Ex: Catgorie 12, Ingnieur d'tat",familyBookNumber:"Ex: 12345/2020",marriagePlace:"Ex: Mairie d'Alger Centre",rentalContractNumber:"Ex: 2024/A-45",landlordName:"Ex: Ahmed Mahmoudi",propertyAddress:"Ex: Cit Ennasr N50, Oran",attendingPhysicianName:"Ex: Dr. Khaled Ben Salem"},maritalStatusOptions:{single:"Clibataire",married:"Mari(e)",divorced:"Divorc(e)"},genderOptions:{male:"Masculin",female:"Fminin"},educationLevelOptions:{primary:"Primaire",middle:"Collge",high:"Lyce",university:"Universitaire",postgraduate:"Post-universitaire"}}},de:{...Gg},es:{...Gg},tr:{...Gg},ja:{...Gg}},va={ar:[{name:"",code:"dz",phoneCode:"213",flag:""},{name:"",code:"sa",phoneCode:"966",flag:""},{name:"",code:"eg",phoneCode:"20",flag:""},{name:"",code:"ma",phoneCode:"212",flag:""},{name:"",code:"ae",phoneCode:"971",flag:""},{name:"",code:"tn",phoneCode:"216",flag:""},{name:"",code:"iq",phoneCode:"964",flag:""},{name:"",code:"jo",phoneCode:"962",flag:""},{name:"",code:"kw",phoneCode:"965",flag:""},{name:"",code:"lb",phoneCode:"961",flag:""},{name:"",code:"om",phoneCode:"968",flag:""},{name:"",code:"qa",phoneCode:"974",flag:""},{name:"",code:"sy",phoneCode:"963",flag:""},{name:"",code:"fr",phoneCode:"33",flag:""},{name:" ",code:"us",phoneCode:"1",flag:""}],en:[{name:"Algeria",code:"dz",phoneCode:"213",flag:""},{name:"Saudi Arabia",code:"sa",phoneCode:"966",flag:""},{name:"Egypt",code:"eg",phoneCode:"20",flag:""},{name:"Morocco",code:"ma",phoneCode:"212",flag:""},{name:"UAE",code:"ae",phoneCode:"971",flag:""},{name:"Tunisia",code:"tn",phoneCode:"216",flag:""},{name:"Iraq",code:"iq",phoneCode:"964",flag:""},{name:"Jordan",code:"jo",phoneCode:"962",flag:""},{name:"Kuwait",code:"kw",phoneCode:"965",flag:""},{name:"Lebanon",code:"lb",phoneCode:"961",flag:""},{name:"Oman",code:"om",phoneCode:"968",flag:""},{name:"Qatar",code:"qa",phoneCode:"974",flag:""},{name:"Syria",code:"sy",phoneCode:"963",flag:""},{name:"France",code:"fr",phoneCode:"33",flag:""},{name:"United States",code:"us",phoneCode:"1",flag:""}],fr:[{name:"Algrie",code:"dz",phoneCode:"213",flag:""},{name:"Arabie saoudite",code:"sa",phoneCode:"966",flag:""},{name:"gypte",code:"eg",phoneCode:"20",flag:""},{name:"Maroc",code:"ma",phoneCode:"212",flag:""},{name:"mirats arabes unis",code:"ae",phoneCode:"971",flag:""},{name:"Tunisie",code:"tn",phoneCode:"216",flag:""},{name:"Irak",code:"iq",phoneCode:"964",flag:""},{name:"Jordanie",code:"jo",phoneCode:"962",flag:""},{name:"Kowet",code:"kw",phoneCode:"965",flag:""},{name:"Liban",code:"lb",phoneCode:"961",flag:""},{name:"Oman",code:"om",phoneCode:"968",flag:""},{name:"Qatar",code:"qa",phoneCode:"974",flag:""},{name:"Syrie",code:"sy",phoneCode:"963",flag:""},{name:"France",code:"fr",phoneCode:"33",flag:""},{name:"tats-Unis",code:"us",phoneCode:"1",flag:""}]},gM=(t,e)=>e.split(".").reduce((n,r)=>n&&n[r],t),Tme=t=>(n,r)=>{const i=I_[t],s=I_.en;let a=gM(i,n)||gM(s,n)||n;return r&&Object.keys(r).forEach(o=>{a=a.replace(new RegExp(`\\{${o}\\}`,"g"),String(r[o]))}),a},yM=(t,e)=>e.split(".").reduce((n,r)=>n&&n[r],t),aa=()=>{const t=Dr(),e=q.useMemo(()=>{const s=t.pathname.match(/^\/([a-z]{2})(?:\/|$)/);return s?s[1]:null},[t.pathname]),n=q.useMemo(()=>Bm(e||"dz"),[e]),r=n==="ar"?"rtl":"ltr";return q.useEffect(()=>{document.documentElement.lang=n,document.documentElement.dir=r},[n,r]),{language:n,t:(s,a)=>{const o=I_[n],l=I_.en;let c=yM(o,s)||yM(l,s)||s;return a&&Object.keys(a).forEach(u=>{c=c.replace(new RegExp(`\\{${u}\\}`,"g"),String(a[u]))}),c},dir:r,countryCode:e}};var x$={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},vM=ml.createContext&&ml.createContext(x$),Eme=["attr","size","title"];function Cme(t,e){if(t==null)return{};var n=Sme(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Sme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function k_(){return k_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},k_.apply(this,arguments)}function xM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function R_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xM(Object(n),!0).forEach(function(r){Dme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dme(t,e,n){return e=Ame(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ame(t){var e=Nme(t,"string");return typeof e=="symbol"?e:e+""}function Nme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _$(t){return t&&t.map((e,n)=>ml.createElement(e.tag,R_({key:n},e.attr),_$(e.child)))}function Ot(t){return e=>ml.createElement(Ime,k_({attr:R_({},t.attr)},e),_$(t.child))}function Ime(t){var e=n=>{var{attr:r,size:i,title:s}=t,a=Cme(t,Eme),o=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),ml.createElement("svg",k_({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:l,style:R_(R_({color:t.color||n.color},n.style),t.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),s&&ml.createElement("title",null,s),t.children)};return vM!==void 0?ml.createElement(vM.Consumer,null,n=>e(n)):e(x$)}function KI(t){return Ot({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(t)}function b$(t){return Ot({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function kme(t){return Ot({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(t)}function Rme(t){return Ot({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M111.4 295.9c-3.5 19.2-17.4 108.7-21.5 134-.3 1.8-1 2.5-3 2.5H12.3c-7.6 0-13.1-6.6-12.1-13.9L58.8 46.6c1.5-9.6 10.1-16.9 20-16.9 152.3 0 165.1-3.7 204 11.4 60.1 23.3 65.6 79.5 44 140.3-21.5 62.6-72.5 89.5-140.1 90.3-43.4.7-69.5-7-75.3 24.2zM357.1 152c-1.8-1.3-2.5-1.8-3 1.3-2 11.4-5.1 22.5-8.8 33.6-39.9 113.8-150.5 103.9-204.5 103.9-6.1 0-10.1 3.3-10.9 9.4-22.6 140.4-27.1 169.7-27.1 169.7-1 7.1 3.5 12.9 10.6 12.9h63.5c8.6 0 15.7-6.3 17.4-14.9.7-5.4-1.1 6.1 14.4-91.3 4.6-22 14.3-19.7 29.3-19.7 71 0 126.4-28.8 142.9-112.3 6.5-34.8 4.6-71.4-23.8-92.6z"},child:[]}]})(t)}function Pme(t){return Ot({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M496 256c0 137-111 248-248 248-25.6 0-50.2-3.9-73.4-11.1 10.1-16.5 25.2-43.5 30.8-65 3-11.6 15.4-59 15.4-59 8.1 15.4 31.7 28.5 56.8 28.5 74.8 0 128.7-68.8 128.7-154.3 0-81.9-66.9-143.2-152.9-143.2-107 0-163.9 71.8-163.9 150.1 0 36.4 19.4 81.7 50.3 96.1 4.7 2.2 7.2 1.2 8.3-3.3.8-3.4 5-20.3 6.9-28.1.6-2.5.3-4.7-1.7-7.1-10.1-12.5-18.3-35.3-18.3-56.6 0-54.7 41.4-107.6 112-107.6 60.9 0 103.6 41.5 103.6 100.9 0 67.1-33.9 113.6-78 113.6-24.3 0-42.6-20.1-36.7-44.8 7-29.5 20.5-61.3 20.5-82.6 0-19-10.2-34.9-31.4-34.9-24.9 0-44.9 25.7-44.9 60.2 0 22 7.4 36.8 7.4 36.8s-24.5 103.8-29 123.2c-5 21.4-3 51.6-.9 71.2C65.4 450.9 0 361.1 0 256 0 119 111 8 248 8s248 111 248 248z"},child:[]}]})(t)}function Fme(t){return Ot({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M201.5 305.5c-13.8 0-24.9-11.1-24.9-24.6 0-13.8 11.1-24.9 24.9-24.9 13.6 0 24.6 11.1 24.6 24.9 0 13.6-11.1 24.6-24.6 24.6zM504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zm-132.3-41.2c-9.4 0-17.7 3.9-23.8 10-22.4-15.5-52.6-25.5-86.1-26.6l17.4-78.3 55.4 12.5c0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.3 24.9-24.9s-11.1-24.9-24.9-24.9c-9.7 0-18 5.8-22.1 13.8l-61.2-13.6c-3-.8-6.1 1.4-6.9 4.4l-19.1 86.4c-33.2 1.4-63.1 11.3-85.5 26.8-6.1-6.4-14.7-10.2-24.1-10.2-34.9 0-46.3 46.9-14.4 62.8-1.1 5-1.7 10.2-1.7 15.5 0 52.6 59.2 95.2 132 95.2 73.1 0 132.3-42.6 132.3-95.2 0-5.3-.6-10.8-1.9-15.8 31.3-16 19.8-62.5-14.9-62.5zM302.8 331c-18.2 18.2-76.1 17.9-93.6 0-2.2-2.2-6.1-2.2-8.3 0-2.5 2.5-2.5 6.4 0 8.6 22.8 22.8 87.3 22.8 110.2 0 2.5-2.2 2.5-6.1 0-8.6-2.2-2.2-6.1-2.2-8.3 0zm7.7-75c-13.6 0-24.6 11.1-24.6 24.9 0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.1 24.9-24.6 0-13.8-11-24.9-24.9-24.9z"},child:[]}]})(t)}function w$(t){return Ot({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function XI(t){return Ot({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(t)}function T$(t){return Ot({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M576 240c0-23.63-12.95-44.04-32-55.12V32.01C544 23.26 537.02 0 512 0c-7.12 0-14.19 2.38-19.98 7.02l-85.03 68.03C364.28 109.19 310.66 128 256 128H64c-35.35 0-64 28.65-64 64v96c0 35.35 28.65 64 64 64h33.7c-1.39 10.48-2.18 21.14-2.18 32 0 39.77 9.26 77.35 25.56 110.94 5.19 10.69 16.52 17.06 28.4 17.06h74.28c26.05 0 41.69-29.84 25.9-50.56-16.4-21.52-26.15-48.36-26.15-77.44 0-11.11 1.62-21.79 4.41-32H256c54.66 0 108.28 18.81 150.98 52.95l85.03 68.03a32.023 32.023 0 0 0 19.98 7.02c24.92 0 32-22.78 32-32V295.13C563.05 284.04 576 263.63 576 240zm-96 141.42l-33.05-26.44C392.95 311.78 325.12 288 256 288v-96c69.12 0 136.95-23.78 190.95-66.98L480 98.58v282.84z"},child:[]}]})(t)}function Vm(t){return Ot({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(t)}function E$(t){return Ot({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function g2(t){return Ot({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(t)}function dw(t){return Ot({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(t)}function fw(t){return Ot({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(t)}function B4(t){return Ot({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"},child:[]}]})(t)}function Mme(t){return Ot({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z"},child:[]}]})(t)}function Jh(t){return Ot({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z"},child:[]}]})(t)}function JI(t){return Ot({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}function YI(t){return Ot({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32zM128 272c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(t)}function QI(t){return Ot({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(t)}function Du(t){return Ot({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function hw(t){return Ot({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function pw(t){return Ot({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function C$(t){return Ot({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function V4(t){return Ot({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function Ume(t){return Ot({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M384 121.941V128H256V0h6.059c6.365 0 12.47 2.529 16.971 7.029l97.941 97.941A24.005 24.005 0 0 1 384 121.941zM248 160c-13.2 0-24-10.8-24-24V0H24C10.745 0 0 10.745 0 24v464c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V160H248zM123.206 400.505a5.4 5.4 0 0 1-7.633.246l-64.866-60.812a5.4 5.4 0 0 1 0-7.879l64.866-60.812a5.4 5.4 0 0 1 7.633.246l19.579 20.885a5.4 5.4 0 0 1-.372 7.747L101.65 336l40.763 35.874a5.4 5.4 0 0 1 .372 7.747l-19.579 20.884zm51.295 50.479l-27.453-7.97a5.402 5.402 0 0 1-3.681-6.692l61.44-211.626a5.402 5.402 0 0 1 6.692-3.681l27.452 7.97a5.4 5.4 0 0 1 3.68 6.692l-61.44 211.626a5.397 5.397 0 0 1-6.69 3.681zm160.792-111.045l-64.866 60.812a5.4 5.4 0 0 1-7.633-.246l-19.58-20.885a5.4 5.4 0 0 1 .372-7.747L284.35 336l-40.763-35.874a5.4 5.4 0 0 1-.372-7.747l19.58-20.885a5.4 5.4 0 0 1 7.633-.246l64.866 60.812a5.4 5.4 0 0 1-.001 7.879z"},child:[]}]})(t)}function S$(t){return Ot({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm60.1 106.5L224 336l60.1 93.5c5.1 8-.6 18.5-10.1 18.5h-34.9c-4.4 0-8.5-2.4-10.6-6.3C208.9 405.5 192 373 192 373c-6.4 14.8-10 20-36.6 68.8-2.1 3.9-6.1 6.3-10.5 6.3H110c-9.5 0-15.2-10.5-10.1-18.5l60.3-93.5-60.3-93.5c-5.2-8 .6-18.5 10.1-18.5h34.8c4.4 0 8.5 2.4 10.6 6.3 26.1 48.8 20 33.6 36.6 68.5 0 0 6.1-11.7 36.6-68.5 2.1-3.9 6.2-6.3 10.6-6.3H274c9.5-.1 15.2 10.4 10.1 18.4zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function mw(t){return Ot({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"},child:[]}]})(t)}function D$(t){return Ot({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M218.17 424.14c-2.95-5.92-8.09-6.52-10.17-6.52s-7.22.59-10.02 6.19l-7.67 15.34c-6.37 12.78-25.03 11.37-29.48-2.09L144 386.59l-10.61 31.88c-5.89 17.66-22.38 29.53-41 29.53H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h12.39c4.83 0 9.11-3.08 10.64-7.66l18.19-54.64c3.3-9.81 12.44-16.41 22.78-16.41s19.48 6.59 22.77 16.41l13.88 41.64c19.75-16.19 54.06-9.7 66 14.16 1.89 3.78 5.49 5.95 9.36 6.26v-82.12l128-127.09V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24v-40l-128-.11c-16.12-.31-30.58-9.28-37.83-23.75zM384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1zm-96 225.06V416h68.99l161.68-162.78-67.88-67.88L288 346.96zm280.54-179.63l-31.87-31.87c-9.94-9.94-26.07-9.94-36.01 0l-27.25 27.25 67.88 67.88 27.25-27.25c9.95-9.94 9.95-26.07 0-36.01z"},child:[]}]})(t)}function Ome(t){return Ot({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm65.18 216.01H224v80c0 8.84-7.16 16-16 16h-32c-8.84 0-16-7.16-16-16v-80H94.82c-14.28 0-21.41-17.29-11.27-27.36l96.42-95.7c6.65-6.61 17.39-6.61 24.04 0l96.42 95.7c10.15 10.07 3.03 27.36-11.25 27.36zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(t)}function ZI(t){return Ot({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm57.1 120H305c7.7 0 13.4 7.1 11.7 14.7l-38 168c-1.2 5.5-6.1 9.3-11.7 9.3h-38c-5.5 0-10.3-3.8-11.6-9.1-25.8-103.5-20.8-81.2-25.6-110.5h-.5c-1.1 14.3-2.4 17.4-25.6 110.5-1.3 5.3-6.1 9.1-11.6 9.1H117c-5.6 0-10.5-3.9-11.7-9.4l-37.8-168c-1.7-7.5 4-14.6 11.7-14.6h24.5c5.7 0 10.7 4 11.8 9.7 15.6 78 20.1 109.5 21 122.2 1.6-10.2 7.3-32.7 29.4-122.7 1.3-5.4 6.1-9.1 11.7-9.1h29.1c5.6 0 10.4 3.8 11.7 9.2 24 100.4 28.8 124 29.6 129.4-.2-11.2-2.6-17.8 21.6-129.2 1-5.6 5.9-9.5 11.5-9.5zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function Lme(t){return Ot({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z"},child:[]}]})(t)}function P_(t){return Ot({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(t)}function jme(t){return Ot({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM144 32h96c8.8 0 16 7.2 16 16s-7.2 16-16 16h-96c-8.8 0-16-7.2-16-16s7.2-16 16-16zm48 128c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zm112 236.8c0 10.6-10 19.2-22.4 19.2H102.4C90 416 80 407.4 80 396.8v-19.2c0-31.8 30.1-57.6 67.2-57.6h5c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h5c37.1 0 67.2 25.8 67.2 57.6v19.2z"},child:[]}]})(t)}function A$(t){return Ot({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 32H48C21.5 32 0 53.5 0 80v16h576V80c0-26.5-21.5-48-48-48zM0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V128H0v304zm352-232c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zM176 192c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zM67.1 396.2C75.5 370.5 99.6 352 128 352h8.2c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h8.2c28.4 0 52.5 18.5 60.9 44.2 3.2 9.9-5.2 19.8-15.6 19.8H82.7c-10.4 0-18.8-10-15.6-19.8z"},child:[]}]})(t)}function Bme(t){return Ot({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(t)}function N$(t){return Ot({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h480c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM128 180v-40c0-6.627-5.373-12-12-12H76c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm-336 96v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm-336 96v-40c0-6.627-5.373-12-12-12H76c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm288 0v-40c0-6.627-5.373-12-12-12H172c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h232c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12z"},child:[]}]})(t)}function I$(t){return Ot({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"},child:[]}]})(t)}function Vme(t){return Ot({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M48 48a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm448 16H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(t)}function k$(t){return Ot({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(t)}function ea(t){return Ot({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M224 96l16-32 32-16-32-16-16-32-16 32-32 16 32 16 16 32zM80 160l26.66-53.33L160 80l-53.34-26.67L80 0 53.34 53.33 0 80l53.34 26.67L80 160zm352 128l-26.66 53.33L352 368l53.34 26.67L432 448l26.66-53.33L512 368l-53.34-26.67L432 288zm70.62-193.77L417.77 9.38C411.53 3.12 403.34 0 395.15 0c-8.19 0-16.38 3.12-22.63 9.38L9.38 372.52c-12.5 12.5-12.5 32.76 0 45.25l84.85 84.85c6.25 6.25 14.44 9.37 22.62 9.37 8.19 0 16.38-3.12 22.63-9.37l363.14-363.15c12.5-12.48 12.5-32.75 0-45.24zM359.45 203.46l-50.91-50.91 86.6-86.6 50.91 50.91-86.6 86.6z"},child:[]}]})(t)}function Wme(t){return Ot({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function ek(t){return Ot({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M633.82 458.1l-157.8-121.96C488.61 312.13 496 285.01 496 256v-48c0-8.84-7.16-16-16-16h-16c-8.84 0-16 7.16-16 16v48c0 17.92-3.96 34.8-10.72 50.2l-26.55-20.52c3.1-9.4 5.28-19.22 5.28-29.67V96c0-53.02-42.98-96-96-96s-96 42.98-96 96v45.36L45.47 3.37C38.49-2.05 28.43-.8 23.01 6.18L3.37 31.45C-2.05 38.42-.8 48.47 6.18 53.9l588.36 454.73c6.98 5.43 17.03 4.17 22.46-2.81l19.64-25.27c5.41-6.97 4.16-17.02-2.82-22.45zM400 464h-56v-33.77c11.66-1.6 22.85-4.54 33.67-8.31l-50.11-38.73c-6.71.4-13.41.87-20.35.2-55.85-5.45-98.74-48.63-111.18-101.85L144 241.31v6.85c0 89.64 63.97 169.55 152 181.69V464h-56c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16z"},child:[]}]})(t)}function mc(t){return Ot({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M176 352c53.02 0 96-42.98 96-96V96c0-53.02-42.98-96-96-96S80 42.98 80 96v160c0 53.02 42.98 96 96 96zm160-160h-16c-8.84 0-16 7.16-16 16v48c0 74.8-64.49 134.82-140.79 127.38C96.71 376.89 48 317.11 48 250.3V208c0-8.84-7.16-16-16-16H16c-8.84 0-16 7.16-16 16v40.16c0 89.64 63.97 169.55 152 181.69V464H96c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16h-56v-33.77C285.71 418.47 352 344.9 352 256v-48c0-8.84-7.16-16-16-16z"},child:[]}]})(t)}function W0(t){return Ot({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(t)}function qme(t){return Ot({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"},child:[]}]})(t)}function zme(t){return Ot({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}function R$(t){return Ot({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(t)}function nc(t){return Ot({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function gw(t){return Ot({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 192V77.25c0-8.49-3.37-16.62-9.37-22.63L393.37 9.37c-6-6-14.14-9.37-22.63-9.37H96C78.33 0 64 14.33 64 32v160c-35.35 0-64 28.65-64 64v112c0 8.84 7.16 16 16 16h48v96c0 17.67 14.33 32 32 32h320c17.67 0 32-14.33 32-32v-96h48c8.84 0 16-7.16 16-16V256c0-35.35-28.65-64-64-64zm-64 256H128v-96h256v96zm0-224H128V64h192v48c0 8.84 7.16 16 16 16h48v96zm48 72c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"},child:[]}]})(t)}function yw(t){return Ot({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(t)}function W4(t){return Ot({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function St(t){return Ot({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(t)}function Hme(t){return Ot({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function P$(t){return Ot({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"},child:[]}]})(t)}function F$(t){return Ot({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 32h192c13.255 0 24 10.745 24 24v160c0 13.255-10.745 24-24 24H296c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24zm-80 0H24C10.745 32 0 42.745 0 56v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24zM0 296v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zm296 184h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H296c-13.255 0-24 10.745-24 24v160c0 13.255 10.745 24 24 24z"},child:[]}]})(t)}function Nf(t){return Ot({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function Wm(t){return Ot({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function $me(t){return Ot({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M212.333 224.333H12c-6.627 0-12-5.373-12-12V12C0 5.373 5.373 0 12 0h48c6.627 0 12 5.373 12 12v78.112C117.773 39.279 184.26 7.47 258.175 8.007c136.906.994 246.448 111.623 246.157 248.532C504.041 393.258 393.12 504 256.333 504c-64.089 0-122.496-24.313-166.51-64.215-5.099-4.622-5.334-12.554-.467-17.42l33.967-33.967c4.474-4.474 11.662-4.717 16.401-.525C170.76 415.336 211.58 432 256.333 432c97.268 0 176-78.716 176-176 0-97.267-78.716-176-176-176-58.496 0-110.28 28.476-142.274 72.333h98.274c6.627 0 12 5.373 12 12v48c0 6.627-5.373 12-12 12z"},child:[]}]})(t)}function Sl(t){return Ot({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function Gme(t){return Ot({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.3 271.1l-115.2-45c-4.1-1.6-12.6-3.7-22.2 0l-115.2 45c-10.7 4.2-17.7 14-17.7 24.9 0 111.6 68.7 188.8 132.9 213.9 9.6 3.7 18 1.6 22.2 0C558.4 489.9 640 420.5 640 296c0-10.9-7-20.7-17.7-24.9zM496 462.4V273.3l95.5 37.3c-5.6 87.1-60.9 135.4-95.5 151.8zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm96 40c0-2.5.8-4.8 1.1-7.2-2.5-.1-4.9-.8-7.5-.8h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c6.8 0 13.3-1.5 19.2-4-54-42.9-99.2-116.7-99.2-212z"},child:[]}]})(t)}function Kme(t){return Ot({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function Xme(t){return Ot({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}const Jme=()=>{const{user:t,logout:e}=Ar(),n=bi(),{t:r,countryCode:i}=aa(),[s,a]=q.useState("G"),[o,l]=q.useState(!1),[c,u]=q.useState(!1),[f,h]=q.useState(!1),p=q.useRef(null),v=i?`/${i}/`:"/",g=q.useMemo(()=>va.ar,[]),y=q.useMemo(()=>g.find(C=>C.code===i),[i,g]);q.useEffect(()=>{let C,S;const R=setInterval(()=>{l(!0),S=setTimeout(()=>{a(D=>D==="G"?"@":"G")},250),C=setTimeout(()=>{l(!1)},500)},2500);return()=>{clearInterval(R),clearTimeout(C),clearTimeout(S)}},[]),q.useEffect(()=>{const C=S=>{p.current&&!p.current.contains(S.target)&&u(!1)};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[]);const b=()=>{e(),n("/")},_=C=>{u(!1),n(C==="global"?"/":`/${C}/`)},w=C=>{i||(C.preventDefault(),h(!0))};return d.jsxs(d.Fragment,{children:[d.jsx("header",{className:"bg-white shadow-md sticky top-0 z-50",children:d.jsxs("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs(tn,{to:"/",className:"flex items-center gap-3 logo-link","aria-label":"Gitut Home",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-green-600",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M14 2H6C4.9 2 4 2.9 4 4V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V8L14 2ZM18 20H6V4H13V9H18V20Z"})}),d.jsxs("span",{className:"text-2xl font-bold text-gray-900",dir:"ltr",children:[d.jsx("span",{className:`char-flipper ${o?"swapping":""}`,children:s}),"itut"]})]}),d.jsxs("div",{className:"relative",ref:p,children:[d.jsxs("button",{onClick:()=>u(!c),className:"flex items-center gap-2 px-3 py-2 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:[y?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"text-xl",children:y.flag}),d.jsx("span",{className:"font-semibold text-gray-800",children:y.name})]}):d.jsxs(d.Fragment,{children:[d.jsx(P_,{className:"text-gray-600"}),d.jsx("span",{className:"font-semibold text-gray-800",children:" "})]}),d.jsx(g2,{className:"text-gray-500 text-xs"})]}),c&&d.jsx("div",{className:"absolute top-full right-0 mt-2 w-56 bg-white rounded-lg shadow-xl border z-10",children:d.jsxs("ul",{className:"py-1 max-h-72 overflow-y-auto",children:[d.jsx("li",{children:d.jsxs("button",{onClick:()=>_("global"),className:"w-full text-right flex items-center gap-3 px-4 py-2 hover:bg-gray-100",children:[d.jsx(P_,{className:"text-gray-600"}),d.jsx("span",{children:"  ( )"})]})}),g.map(C=>d.jsx("li",{children:d.jsxs("button",{onClick:()=>_(C.code),className:"w-full text-right flex items-center gap-3 px-4 py-2 hover:bg-gray-100",children:[d.jsx("span",{className:"text-xl",children:C.flag}),d.jsx("span",{children:C.name})]})},C.code))]})})]})]}),d.jsx("nav",{className:"flex items-center gap-6",children:t?d.jsxs(d.Fragment,{children:[d.jsx(tn,{to:`/${i||"dz"}/app/`,className:"text-gray-700 hover:text-green-600 font-semibold",children:r("header.dashboard")}),d.jsx("button",{onClick:b,className:"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors font-semibold",children:r("header.logout")})]}):d.jsxs(d.Fragment,{children:[d.jsx(tn,{to:v,className:"text-gray-700 hover:text-green-600 font-semibold",children:r("header.search")}),d.jsx(tn,{to:`/${i||"dz"}/login/`,onClick:w,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors font-semibold",children:r("header.login")})]})})]})}),f&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[100] flex justify-center items-center",onClick:()=>h(!1),children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-sm",onClick:C=>C.stopPropagation(),children:[d.jsx("h3",{className:"text-xl font-bold mb-4 text-center",children:"  "}),d.jsx("ul",{className:"space-y-2 max-h-72 overflow-y-auto",children:g.map(C=>d.jsx("li",{children:d.jsxs(tn,{to:`/${C.code}/login/`,onClick:()=>h(!1),className:"w-full text-right flex items-center gap-3 px-4 py-3 bg-gray-50 rounded-lg hover:bg-gray-100",children:[d.jsx("span",{className:"text-2xl",children:C.flag}),d.jsx("span",{className:"font-semibold",children:C.name})]})},C.code))})]})})]})},M$=q.createContext(void 0),Yme=({children:t})=>{const[e,n]=q.useState(null),r=(s,a)=>{const o="mgkrol99@gmail.com";return s===o&&a==="@Youyou1936@"?(n({id:"admin-user",email:o,role:"admin"}),!0):!1},i=()=>{n(null)};return d.jsx(M$.Provider,{value:{admin:e,login:r,logout:i},children:t})},Lv=()=>{const t=q.useContext(M$);if(t===void 0)throw new Error("useAdminAuth must be used within an AdminAuthProvider");return t},U$=q.createContext(void 0),Qme=({children:t})=>{const{user:e,loading:n}=Ar(),{admin:r}=Lv(),i=Dr(),s=i.pathname.startsWith("/admin"),a=i.pathname.includes("/app"),[o,l]=q.useState([]),[c,u]=q.useState([]),[f,h]=q.useState([]),[p,v]=q.useState([]),[g,y]=q.useState([]),[b,_]=q.useState(null),[w,C]=q.useState([]),[S,R]=q.useState([]),[D,N]=q.useState([]),[k,F]=q.useState([]),[P,I]=q.useState([]),[U,O]=q.useState([]),[K,X]=q.useState([]),[J,ne]=q.useState([]),[z,Q]=q.useState([]),[B,j]=q.useState([]),[W,G]=q.useState(null),[Y,ee]=q.useState(null),[ae,de]=q.useState(!0),[fe,De]=q.useState(!0),[Pe,me]=q.useState(!1),[je,V]=q.useState(null),ye=ve=>ve?ve.map(Se=>{if(!Se)return Se;const Oe=Te=>{if(!Te)return;if(Te instanceof Br.firestore.Timestamp)return Te;if(typeof Te=="object"&&Te!==null&&typeof Te.seconds=="number"&&typeof Te.nanoseconds=="number")return new Br.firestore.Timestamp(Te.seconds,Te.nanoseconds);const Ue=new Date(Te);if(!isNaN(Ue.getTime()))return Br.firestore.Timestamp.fromDate(Ue)};return{...Se,createdAt:Oe(Se.createdAt)||Br.firestore.Timestamp.now(),publishedAt:Oe(Se.publishedAt)}}):[],be=async()=>{console.log("Attempting to load admin dashboard data from IndexedDB...");try{const[ve,Se,Oe,Te,Ue,Le,Ge,rt,it,Vt,xn,ln]=await Promise.all([er("cafes"),er("fullDocuments"),er("staticDocuments"),er("sites"),er("baseTemplates"),Ps("siteSettings","main"),er("codes"),er("pages"),er("blogPosts"),er("ads"),er("voice_prompts"),Ps("offlineMetadata","syncStatus")]);if(Se.length>0||ve.length>0)return u(Se),l(Se),h(Oe),F(Te),v(ve),j(Ue),_(Le),ne(Ge),C(rt),R(ye(it)),N(Vt),Q(xn),console.log("Successfully loaded admin dashboard data from IndexedDB."),(ln==null?void 0:ln.version)||0}catch(ve){console.error("Could not load admin dashboard data from IndexedDB:",ve)}return 0},oe=q.useCallback(async ve=>{const[Se,Oe,Te,Ue,Le,Ge,rt,it,Vt,xn,ln,lr,Yn]=await Promise.all([M4(),Uy(),Dp.getAll(),N_(),pp.getAll(),gp.getAll(),mp.getAll(),Zd.getAll(),B0.getAll(),pM.getAll(),hm.getAll(),L4(),j4()]),Qn=await fetch("https://cyber-m.pages.dev/data/json/site-seo.json"),cr=Qn.ok?await Qn.json():{},Yt=ye(Ge);l(Oe),u(Oe),h(Te),v(Se),ne(Vt),Q(xn),j(ln),G(lr),ee(Yn);const En={...Un,...Ue||{},seo:{...(Ue==null?void 0:Ue.seo)||{},...cr},payment:{...Un.payment,...(Ue==null?void 0:Ue.payment)||{}},pricing:{...Un.pricing,...(Ue==null?void 0:Ue.pricing)||{}},social:{...Un.social,...(Ue==null?void 0:Ue.social)||{}},ads:{...Un.ads,...(Ue==null?void 0:Ue.ads)||{}},ai:{...Un.ai,...(Ue==null?void 0:Ue.ai)||{}}};_(En),C(Le),R(Yt),N(rt),F(it);const pe=[...Oe.map(we=>({...we,serviceType:"doc"})),...Te.map(we=>({...we,serviceType:"static-doc"})),...it.map(we=>({...we,serviceType:"site"}))];y(pe),await Promise.all([Di("cafes",Se),Di("fullDocuments",Oe),Di("staticDocuments",Te),Di("sites",it),Di("baseTemplates",ln),Di("codes",Vt),Di("pages",Le),Di("blogPosts",Yt),Di("ads",rt),Di("voice_prompts",xn),gr("siteSettings",{...En,id:"main"}),gr("offlineMetadata",{id:"syncStatus",version:ve})])},[]),re=q.useCallback(async()=>{if(!r)throw new Error("Admin not authenticated for refetch.");de(!0);try{const{version:ve}=await hM();await oe(ve)}finally{de(!1)}},[r,oe]),le=q.useCallback(async()=>{try{console.log("Refetching all cafes...");const ve=await M4();v(ve),await Di("cafes",ve),console.log("Cafes refetched and cache updated.")}catch(ve){console.error("Failed to refetch cafes:",ve)}},[]);q.useEffect(()=>{const ve=async()=>{console.log("Attempting to load user dashboard data from IndexedDB...");try{const[Oe,Te,Ue,Le,Ge,rt,it]=await Promise.all([er("cafes"),er("fullDocuments"),er("staticDocuments"),er("sites"),er("baseTemplates"),Ps("siteSettings","main"),er("codes")]);if(Te.length>0)return v(Oe),u(Te),h(Ue),F(Le),j(Ge),_(rt),ne(it),l(Te),console.log("Successfully loaded user dashboard data from IndexedDB."),!0}catch(Oe){console.error("Could not load user dashboard data from IndexedDB:",Oe)}return!1};(async()=>{if(!n){if(s&&!r){de(!1),De(!1);return}if(de(!0),V(null),s&&r){const Oe=await be();de(!1);try{const{version:Te}=await hM();Te>Oe?(console.log(`New data version available. Local: ${Oe}, Remote: ${Te}. Syncing...`),await oe(Te),console.log("Admin data synced from network and cache updated.")):console.log("Local admin data is up to date.")}catch(Te){const Ue=Te instanceof Error?Te.message:String(Te);console.error("Could not check for remote data updates. Running on cached data.",Te),Oe===0&&(Ue.includes("no such table: data_versions")?V("<strong>    .</strong><br/>  'data_versions'  .<br/>   'Troubleshooting'   <code>readme.md</code>    ."):V(Ue))}}else if(!s){a&&e&&await ve()&&de(!1);try{const Oe=i.pathname.match(/^\/([a-z]{2})(?:\/|$)/),Te=Oe?Oe[1]:null,Ue=e?B0.getAll():Promise.resolve([]),Le=e?pM.getAll():Promise.resolve([]),Ge=e?L4():Promise.resolve(null),rt=e?j4():Promise.resolve(null),it=e?N_():Promise.resolve(null),Vt=e!=null&&e.cafeId?$I(e.cafeId):Promise.resolve(null);if(Te){const Qn=hC(Te),cr=uM(Te),[Yt,En,pe,we,Me,ke,Ve,st]=await Promise.all([Qn,cr,Ue,Le,Ge,rt,it,Vt]);let Rt=Yt.cafes;if(st){const at=Rt.findIndex(Dt=>Dt.id===st.id);at>-1?Rt[at]=st:Rt.push(st)}l(Yt.documents),h(Yt.staticDocuments),v(Rt),_(Ve?{...Yt.siteSettings,...Ve}:Yt.siteSettings),C(Yt.pages),R(Yt.blogPosts),N(Yt.ads),F(Yt.sites),y(Yt.services),I(En.wilayas),O(En.dairas),X(En.communes),De(!1)}else{De(!0);const Qn=va.ar.map(ke=>ke.code),cr=Qn.map(ke=>hC(ke).catch(()=>null)),Yt=await Promise.all(cr),En=new Map,pe=new Map;for(const ke of Yt)ke&&(ke.services.forEach(Ve=>En.set(Ve.id,Ve)),ke.cafes.forEach(Ve=>pe.set(Ve.id,Ve)));const we=Yt.find((ke,Ve)=>Qn[Ve]==="dz")||await hC("dz"),Me=await uM("dz");y(Array.from(En.values())),v(Array.from(pe.values())),l(we.documents),h(we.staticDocuments),_(we.siteSettings),C(we.pages),R(we.blogPosts),N(we.ads),F(we.sites),I(Me.wilayas),O(Me.dairas),X(Me.communes),De(!1)}const[xn,ln,lr,Yn]=await Promise.all([Ue,Le,Ge,rt]);ne(xn),e&&await Di("codes",xn),Q(ln),G(lr),ee(Yn)}catch(Oe){console.error("Failed to load application data:",Oe),V(Oe instanceof Error?Oe.message:"An unknown error occurred.")}finally{de(!1)}}}})()},[i.pathname,s,a,e,r,n,oe]);const he=q.useCallback(async()=>{if(c.length===0){me(!0);try{const ve=await er("fullDocuments");if(ve.length>0)u(ve);else{const Se=await Uy();u(Se),await Di("fullDocuments",Se)}}catch(ve){console.error("Failed to load full documents:",ve)}finally{me(!1)}}},[c.length]),_e=q.useCallback(ve=>{const Se=ye([ve])[0];R(Oe=>[Se,...Oe].sort((Te,Ue)=>{const Le=(Te.publishedAt||Te.createdAt).toDate();return(Ue.publishedAt||Ue.createdAt).toDate().getTime()-Le.getTime()}))},[]),ie=q.useCallback((ve,Se)=>{R(Oe=>Oe.map(Te=>Te.id===ve?ye([{...Te,...Se}])[0]:Te))},[]),ce=q.useCallback(ve=>{R(Se=>Se.filter(Oe=>Oe.id!==ve))},[]),ge={documents:o,fullDocuments:c,staticDocuments:f,cafes:p,services:g,siteSettings:b,pages:w,blogPosts:S,ads:D,sites:k,wilayas:P,dairas:U,communes:K,codes:J,voicePrompts:z,baseTemplates:B,excelCommands:W,documentCommands:Y,loading:ae,locationsLoading:fe,loadingFullDocuments:Pe,error:je,loadFullDocuments:he,refetchAdminData:re,refetchCafes:le,addBlogPost:_e,updateBlogPost:ie,deleteBlogPost:ce};return d.jsx(U$.Provider,{value:ge,children:t})},rn=()=>{const t=q.useContext(U$);if(t===void 0)throw new Error("useData must be used within a DataProvider");return t},pC=({type:t,url:e})=>{const n={className:"w-6 h-6 text-gray-500 hover:text-green-600 transition-colors"};switch(t){case"facebook":return d.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer","aria-label":"Facebook",children:d.jsx(KI,{...n})});case"twitter":return d.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer","aria-label":"Twitter",children:d.jsx(w$,{...n})});case"instagram":return d.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",children:d.jsx(b$,{...n})});default:return null}},Zme=()=>{const{siteSettings:t,pages:e,blogPosts:n,loading:r}=rn(),{t:i,language:s}=aa(),o=Dr().pathname.match(/^\/([a-z]{2})(?:\/|$)/),l=o?o[1]:"dz",c=q.useMemo(()=>{const v=new Set;return n.forEach(y=>{y.enabled&&y.content&&Object.keys(y.content).forEach(b=>v.add(b))}),Array.from(v).map(y=>pu.find(b=>b.code===y)||{code:y,name:y.toUpperCase()}).sort((y,b)=>y.code==="ar"?-1:b.code==="ar"?1:y.name.localeCompare(b.name))},[n]);if(r||!t)return d.jsx("footer",{className:"bg-white border-t mt-auto",children:d.jsx("div",{className:"container mx-auto px-4 py-8 text-center",children:"..."})});const u=t.social&&t.social[l]||t.social&&t.social.default||{facebook:"",twitter:"",instagram:""},f=t.seo&&t.seo[l]||t.seo&&t.seo.default||{siteName:"Gitut"},h=u.facebook||u.twitter||u.instagram,p=e.filter(v=>v.enabled&&(v.lang===s||!v.lang&&s==="ar"));return d.jsx("footer",{className:"bg-white border-t mt-auto",children:d.jsx("div",{className:"container mx-auto px-4 py-8",children:d.jsxs("div",{className:"flex flex-col items-center gap-4",children:[(p.length>0||c.length>0)&&d.jsxs("nav",{className:"flex flex-wrap justify-center gap-x-6 gap-y-2 text-gray-600",children:[c.map(v=>d.jsx(tn,{to:v.code==="ar"?"/blog/":`/blog/${v.code}/`,className:"hover:text-green-600 hover:underline",dir:v.code==="ar"?"rtl":"ltr",children:v.code==="ar"?i("footer.blog"):`Blog (${v.name})`},v.code)),d.jsx(tn,{to:`/${l}/services/`,className:"hover:text-green-600 hover:underline",children:i("footer.services")}),p.map(v=>d.jsx(tn,{to:`/${l}/page/${v.slug}/`,className:"hover:text-green-600 hover:underline",children:v.title},v.id))]}),h&&d.jsxs("div",{className:"flex justify-center gap-6",children:[u.facebook&&d.jsx(pC,{type:"facebook",url:u.facebook}),u.twitter&&d.jsx(pC,{type:"twitter",url:u.twitter}),u.instagram&&d.jsx(pC,{type:"instagram",url:u.instagram})]}),d.jsxs("p",{className:"text-center text-gray-500 text-sm",children:[" ",new Date().getFullYear()," ",f.siteName,". ",i("footer.rightsReserved")]})]})})})},_M=t=>t?t.replace(/[]/g,"").replace(//g,""):"",bM=()=>{const{services:t,siteSettings:e,loading:n}=rn(),r=bi(),{countryCode:i}=ia(),{t:s,language:a}=aa(),o=i||"dz",l=q.useMemo(()=>{const O=(e==null?void 0:e.seo[o])||(e==null?void 0:e.seo.default);return[{title:(O==null?void 0:O.mainPageTitle)||s("findPage.hero.title1"),subtitle:(O==null?void 0:O.mainPageSubtitle)||s("findPage.hero.subtitle1")},{title:s("findPage.hero.title2"),subtitle:s("findPage.hero.subtitle2")}]},[e,s,o]),[c,u]=q.useState(0),f=q.useMemo(()=>i?t.filter(O=>!O.countryCode||O.countryCode===i):t,[t,i]);q.useEffect(()=>{if(n)return;const O=setInterval(()=>{u(K=>(K+1)%l.length)},7e3);return()=>clearInterval(O)},[l.length,n]);const[h,p]=q.useState(""),[v,g]=q.useState([]),[y,b]=q.useState(!1),[_,w]=q.useState([]),[C,S]=q.useState(!1),R=q.useRef(null),D=window.SpeechRecognition||window.webkitSpeechRecognition,N=!!D;q.useEffect(()=>{if(h.trim()){const O=_M(h.toLowerCase()),K=f.filter(X=>_M(X.name.toLowerCase()).includes(O));g(K)}else g([])},[h,f]),q.useEffect(()=>{if(!N)return;const O=new D;O.continuous=!1,O.interimResults=!1;let K="ar-SA";switch(a){case"en":K="en-US";break;case"fr":K="fr-FR";break;case"de":K="de-DE";break;case"es":K="es-ES";break;case"tr":K="tr-TR";break;case"ja":K="ja-JP";break}return O.lang=K,O.onresult=X=>p(X.results[0][0].transcript),O.onerror=X=>{console.error("Speech recognition error",X.error),alert(`Speech recognition error: ${X.error}`)},O.onend=()=>S(!1),R.current=O,()=>{var X;return(X=R.current)==null?void 0:X.abort()}},[N,a]);const k=()=>{var O,K;if(!N){alert("Your browser does not support voice search.");return}C?(O=R.current)==null||O.stop():((K=R.current)==null||K.start(),S(!0))},F=O=>{p(""),_.find(K=>K.id===O.id&&K.serviceType===O.serviceType)||w(K=>[...K,O])},P=(O,K)=>{w(X=>X.filter(J=>!(J.id===O&&J.serviceType===K)))},I=O=>{O.preventDefault();const K=_.filter(J=>J.serviceType==="doc"||J.serviceType==="site");if(K.length===0){alert(s("findPage.alert.selectFillable"));return}const X=K.map(J=>J.id);r(`/${i||"dz"}/find-cafe`,{state:{documentIds:X}})},U=_.filter(O=>O.serviceType==="doc"||O.serviceType==="site").length;return d.jsxs("div",{className:"space-y-8",children:[d.jsx("section",{className:"text-center p-8 md:p-10 bg-white rounded-xl shadow-lg overflow-hidden flex flex-col justify-center min-h-[12rem]",children:n?d.jsx("p",{children:"Loading..."}):d.jsxs("div",{className:"fade-in-text",children:[d.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:l[c].title}),d.jsx("p",{className:"text-base md:text-lg text-gray-700 max-w-3xl mx-auto",children:l[c].subtitle})]},c)}),d.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 space-y-4",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:s("findPage.step1.title")}),d.jsx("form",{onSubmit:O=>O.preventDefault(),children:d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",placeholder:s("findPage.step1.placeholder"),value:h,onChange:O=>p(O.target.value),onFocus:()=>b(!0),onBlur:()=>setTimeout(()=>b(!1),200),className:"p-4 pl-14 bg-white border border-gray-300 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-500 text-lg"}),N&&d.jsx("button",{type:"button",onClick:k,title:s("findPage.step1.voiceSearchTitle"),className:`absolute left-3 top-1/2 -translate-y-1/2 p-3 rounded-full transition-colors duration-300 ${C?"bg-red-500 text-white animate-pulse":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:d.jsx(mc,{className:"h-5 w-5"})}),y&&v.length>0&&d.jsx("ul",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-20 max-h-60 overflow-y-auto",children:v.map(O=>d.jsxs("li",{className:"px-4 py-3 cursor-pointer hover:bg-green-50 flex justify-between items-center",onMouseDown:()=>F(O),children:[d.jsx("span",{children:O.name}),_.find(K=>K.id===O.id&&K.serviceType===O.serviceType)&&d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-600",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},`${O.serviceType}-${O.id}`))})]})})]}),d.jsx("section",{children:_.length>0?d.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 space-y-4",children:[d.jsxs("h3",{className:"text-xl font-semibold",children:[s("findPage.selectedDocs.title")," (",_.length,"):"]}),d.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto pr-2",children:_.map(O=>{const K="description"in O?O.description:"url"in O?O.url:"",X=O.serviceType==="static-doc"?d.jsx(mw,{className:"h-6 w-6 text-blue-500 flex-shrink-0 mt-1"}):O.serviceType==="site"?d.jsx(P_,{className:"h-6 w-6 text-indigo-500 flex-shrink-0 mt-1"}):d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-600 flex-shrink-0 mt-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})});return d.jsxs("article",{className:"bg-gray-50 rounded-lg p-3 border flex justify-between items-center gap-3",children:[d.jsxs("div",{className:"flex items-start gap-3 flex-grow",children:[X,d.jsxs("div",{className:"flex-grow",children:[d.jsx("h4",{className:"text-md font-bold text-gray-900",children:O.name}),d.jsx("div",{className:"text-sm text-gray-600 prose prose-sm max-w-none line-clamp-2",dangerouslySetInnerHTML:{__html:K}})]})]}),d.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[O.serviceType==="static-doc"&&d.jsx("a",{href:`/${i||"dz"}/view/${O.id}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm font-semibold whitespace-nowrap",children:s("findPage.selectedDocs.viewFile")}),d.jsx("button",{onClick:()=>P(O.id,O.serviceType),title:s("findPage.selectedDocs.removeTitle"),className:"text-red-500 hover:text-red-700 p-1 rounded-full hover:bg-red-100",children:d.jsx(Nf,{})})]})]},`${O.serviceType}-${O.id}`)})}),d.jsx("form",{onSubmit:I,className:"text-center pt-4",children:d.jsxs("button",{type:"submit",className:"flex items-center justify-center gap-2 bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700 transition-colors mx-auto disabled:bg-gray-400 disabled:cursor-not-allowed",disabled:U===0,title:U===0?s("findPage.selectedDocs.nextStepButtonDisabledTitle"):"",children:[d.jsx("span",{children:s("findPage.selectedDocs.nextStepButton",{count:U})}),d.jsx(XI,{})]})})]}):d.jsx("div",{className:"text-center py-10 bg-white rounded-lg shadow",children:d.jsx("p",{className:"text-gray-600 text-lg",children:s("findPage.selectedDocs.emptyState")})})})]})},rc=({placement:t})=>{const{ads:e}=rn(),n=q.useMemo(()=>e.find(r=>r.placement===t&&r.enabled),[t,e]);return n?t==="DASHBOARD_TOP"?d.jsx("a",{href:n.link,target:"_blank",rel:"noopener noreferrer",className:"block rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-shadow duration-300",children:d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:n.imageUrl,alt:n.title,className:"w-full h-auto object-cover"}),d.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex flex-col justify-end p-6",children:[d.jsx("h3",{className:"text-2xl font-bold text-white",children:n.title}),d.jsx("p",{className:"text-white text-opacity-90 mt-1",children:n.content})]})]})}):t==="PROFILE_SIDEBAR"?d.jsx("a",{href:n.link,target:"_blank",rel:"noopener noreferrer",className:"block rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow duration-300 group",children:d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:n.imageUrl,alt:n.title,className:"w-full h-auto object-cover"}),d.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent p-4 flex flex-col justify-end",children:[d.jsx("h3",{className:"text-lg font-bold text-white group-hover:underline",children:n.title}),d.jsx("p",{className:"text-sm text-white/90",children:n.content})]})]})}):null:null},ege="https://pub-f25b4129424647319985a15a082e6685.r2.dev",gi=t=>t?t.startsWith("http://")||t.startsWith("https://")||t.startsWith("data:")?t:`${ege}/${t.startsWith("/")?t.substring(1):t}`:"";async function O$(t,e,n){const i=await(await fetch(t)).blob();return new File([i],e,{type:n||i.type})}const q4=new URL("/api/gun",window.location.origin);q4.protocol=q4.protocol==="https:"?"wss:":"ws:";const L$=q4.toString();console.log(`[Gun.js] Attempting to connect to peer: ${L$}`);const tge=[L$];let j$=null;typeof window<"u"&&window.Gun&&(j$=window.Gun({peers:tge}));const Kn=j$,B$=q.createContext(void 0),_x=()=>`${Date.now()}-${Math.random().toString(36).substring(2,9)}`,nge=({children:t})=>{const{user:e}=Ar(),{cafes:n}=rn(),[r,i]=q.useState(null);q.useEffect(()=>{let u=localStorage.getItem("gitut_visitor_id");u||(u=`visitor_${crypto.randomUUID()}`,localStorage.setItem("gitut_visitor_id",u)),i(u)},[]),q.useEffect(()=>{if(!(e!=null&&e.cafeId)||!Kn)return;const u=e.cafeId,f=Kn.get("presence").get(u);f.put({lastSeen:Date.now()});const h=setInterval(()=>{f.put({lastSeen:Date.now()})},1e4),p=()=>f.put({lastSeen:null});return window.addEventListener("beforeunload",p),()=>{clearInterval(h),f.put({lastSeen:null}),window.removeEventListener("beforeunload",p)}},[e]),q.useEffect(()=>{if(!(e!=null&&e.cafeId)||!Kn)return;const u=e.cafeId,f=Kn.get("jobs").get(u);return f.map().on(async(h,p)=>{if(h&&typeof h=="object"){console.log(`Received P2P job: ${p}`);try{if(!await Ps("jobs",p)){const g={...h,id:p,documentIds:typeof h.documentIds=="string"?JSON.parse(h.documentIds):h.documentIds,visitorData:typeof h.visitorData=="string"?JSON.parse(h.visitorData):h.visitorData};await gr("jobs",g),console.log(`Job ${p} persisted to IndexedDB.`)}f.get(p).put(null)}catch(v){console.error(`Failed to persist P2P job ${p} to IndexedDB:`,v)}}}),()=>f.off()},[e]);const c={visitorId:r,usePresence:u=>{const[f,h]=q.useState(null),p=q.useRef(null);return q.useEffect(()=>{if(!u||!Kn){h(!1);return}const v=Kn.get("presence").get(u),g=()=>{const _=p.current,w=_?Date.now()-_<15e3:!1;h(w)},y=v.on(_=>{p.current=_&&typeof _.lastSeen=="number"?_.lastSeen:null,g()}),b=setInterval(g,5e3);return g(),()=>{y.off(),clearInterval(b)}},[u]),{isOnline:f}},useVisitorChat:u=>{const[f,h]=q.useState([]),p=q.useMemo(()=>!Kn||!u?null:Kn.get("chats").get(u),[u]);q.useEffect(()=>{if(!p)return;const g=new Map;return p.map().on((y,b)=>{if(y){g.set(b,{...y,id:b});const _=Array.from(g.values()).sort((w,C)=>w.timestamp-C.timestamp);h(_)}}),()=>p.off()},[p]);const v=q.useCallback(g=>{if(!p||!r)return;const y={text:g,senderId:r,senderName:"Visitor",timestamp:Date.now()},b=_x();p.get(b).put(y)},[p,r]);return{messages:f,sendMessage:v}},useCafeChatManager:()=>{const[u,f]=q.useState({unread:!1,messages:[]}),[h,p]=q.useState(new Map),v=e==null?void 0:e.cafeId;q.useEffect(()=>{if(!v||!Kn)return;const C=Kn.get("chats").get(`admin_${v}`),S=new Map;return C.map().on((R,D)=>{if(R){S.set(D,{...R,id:D});const N=Array.from(S.values()).sort((P,I)=>P.timestamp-I.timestamp),k=N[N.length-1],F=k&&k.senderId!==v&&k.timestamp>(Number(localStorage.getItem(`lastRead_admin_${v}`))||0);f({messages:N,lastMessage:k,unread:F})}}),()=>C.off()},[v]),q.useEffect(()=>{if(!v||!Kn)return;const C=Kn.get("chats").get(v),S=new Map;return C.map().on((R,D)=>{if(R){const N=new Map;Kn.get(R["#"]).map().on((k,F)=>{if(k){N.set(F,{...k,id:F});const P=Array.from(N.values()).sort((O,K)=>O.timestamp-K.timestamp),I=P[P.length-1],U=I&&I.senderId!==v&&I.timestamp>(Number(localStorage.getItem(`lastRead_${v}_${D}`))||0);S.set(D,{messages:P,lastMessage:I,unread:U}),p(new Map(S))}})}}),()=>C.off()},[v]);const g=q.useCallback(C=>{var D;if(!v||!Kn)return;const S=Kn.get("chats").get(`admin_${v}`),R={text:C,senderId:v,senderName:((D=n.find(N=>N.id===v))==null?void 0:D.name)||"Cafe",timestamp:Date.now()};S.get(_x()).put(R)},[v,n]),y=q.useCallback((C,S)=>{var N;if(!v||!Kn)return;const R=Kn.get("chats").get(v).get(C),D={text:S,senderId:v,senderName:((N=n.find(k=>k.id===v))==null?void 0:N.name)||"Cafe",timestamp:Date.now()};R.get(_x()).put(D)},[v,n]),b=q.useCallback(()=>{v&&(localStorage.setItem(`lastRead_admin_${v}`,String(Date.now())),f(C=>({...C,unread:!1})))},[v]),_=q.useCallback(C=>{v&&(localStorage.setItem(`lastRead_${v}_${C}`,String(Date.now())),p(S=>{const R=new Map(S),D=R.get(C);return D&&R.set(C,{...D,unread:!1}),R}))},[v]),w=(u.unread?1:0)+Array.from(h.values()).filter(C=>C.unread).length;return{adminConversation:u,visitorConversations:h,sendMessageToAdmin:g,sendMessageToVisitor:y,markAdminAsRead:b,markVisitorAsRead:_,totalUnreadCount:w}},useAdminChatManager:()=>{const[u,f]=q.useState(new Map),[h,p]=q.useState(null),[v,g]=q.useState([]);q.useEffect(()=>{if(!Kn)return;const w=Kn.get("chats"),C=new Map;return w.map().on((S,R)=>{if(R.startsWith("admin_")){const D=R.replace("admin_","");Kn.get(S["#"]).map().on((N,k)=>{var F;if(N){const P=((F=n.find(U=>U.id===D))==null?void 0:F.name)||`Cafe ${D.substring(0,4)}`,I=C.get(D);if(!I||N.timestamp>I.lastMessage.timestamp){const U=N.senderId!=="admin"&&N.timestamp>(Number(localStorage.getItem(`lastRead_admin_${D}`))||0);C.set(D,{lastMessage:{...N,id:k},unread:U,cafeName:P}),f(new Map(C))}}})}}),()=>w.off()},[n]),q.useEffect(()=>{if(!h||!Kn){g([]);return}const w=Kn.get("chats").get(`admin_${h}`),C=new Map;return w.map().on((S,R)=>{S&&(C.set(R,{...S,id:R}),g(Array.from(C.values()).sort((D,N)=>D.timestamp-N.timestamp)))}),()=>w.off()},[h]);const y=q.useCallback(w=>{localStorage.setItem(`lastRead_admin_${w}`,String(Date.now())),p(w),f(C=>{const S=new Map(C),R=S.get(w);return R&&S.set(w,{...R,unread:!1}),S})},[]),b=q.useCallback(w=>{if(!h||!Kn)return;const C=Kn.get("chats").get(`admin_${h}`),S={text:w,senderId:"admin",senderName:"Admin",timestamp:Date.now()};C.get(_x()).put(S)},[h]),_=Array.from(u.values()).filter(w=>w.unread).length;return{conversations:u,messages:v,currentConversationId:h,selectConversation:y,sendMessage:b,unreadConversationsCount:_}}};return d.jsx(B$.Provider,{value:c,children:t})},Jf=()=>{const t=q.useContext(B$);if(t===void 0)throw new Error("useRealtime must be used within an RealtimeProvider");return t},tk=({title:t,messages:e,onSendMessage:n,currentUserId:r,isOnline:i,isLoading:s,onClose:a})=>{const[o,l]=q.useState(""),c=q.useRef(null),u=()=>{var h;(h=c.current)==null||h.scrollIntoView({behavior:"smooth"})};q.useEffect(()=>{u()},[e]);const f=h=>{h.preventDefault(),o.trim()&&(n(o.trim()),l(""))};return d.jsxs("div",{className:"flex flex-col h-full bg-white",children:[d.jsxs("header",{className:"flex-shrink-0 flex items-center justify-between p-3 border-b bg-gray-50 rounded-t-lg",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-gray-800",children:t}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:`w-2 h-2 rounded-full ${i===null?"bg-gray-300":i?"bg-green-500":"bg-gray-400"}`}),d.jsx("span",{className:"text-xs text-gray-500",children:i===null?" ...":i?" ":" "})]})]}),a&&d.jsx("button",{onClick:a,className:"text-gray-500 hover:text-gray-800 text-2xl",children:""})]}),d.jsxs("main",{className:"flex-grow p-4 overflow-y-auto bg-gray-100",children:[s?d.jsx("div",{className:"flex justify-center items-center h-full",children:d.jsx(St,{className:"animate-spin text-2xl text-gray-400"})}):e.length===0?d.jsx("div",{className:"flex justify-center items-center h-full",children:d.jsx("p",{className:"text-gray-500",children:"   ."})}):d.jsx("div",{className:"space-y-4",children:e.map(h=>{const p=h.senderId===r;return d.jsx("div",{className:`flex items-end gap-2 ${p?"justify-end":"justify-start"}`,children:d.jsxs("div",{className:`max-w-xs md:max-w-md p-3 rounded-2xl ${p?"bg-green-600 text-white rounded-br-none":"bg-white text-gray-800 rounded-bl-none border"}`,children:[!p&&d.jsx("p",{className:"text-xs font-bold text-blue-600 mb-1",children:h.senderName}),d.jsx("p",{className:"text-sm break-words",children:h.text}),d.jsx("p",{className:`text-xs mt-1 text-right ${p?"text-green-100":"text-gray-400"}`,children:new Date(h.timestamp).toLocaleTimeString("ar-DZ",{hour:"2-digit",minute:"2-digit"})})]})},h.id)})}),d.jsx("div",{ref:c})]}),d.jsx("footer",{className:"flex-shrink-0 p-3 border-t bg-white rounded-b-lg",children:d.jsxs("form",{onSubmit:f,className:"flex items-center gap-2",children:[d.jsx("input",{type:"text",value:o,onChange:h=>l(h.target.value),placeholder:"  ...",className:"flex-grow p-2 border rounded-full focus:outline-none focus:ring-2 focus:ring-green-500",disabled:i===!1}),d.jsx("button",{type:"submit",className:"bg-green-600 text-white p-3 rounded-full hover:bg-green-700 disabled:bg-gray-400",disabled:i===!1||!o.trim(),children:d.jsx(W0,{})})]})})]})},V$=({url:t,title:e,description:n})=>{const[r,i]=q.useState(!1),[s,a]=q.useState(!1),o=q.useMemo(()=>{let v=t;const g=v.indexOf("?"),y=v.indexOf("#");let b=v,_="";if(g!==-1||y!==-1){const w=Math.min(g===-1?1/0:g,y===-1?1/0:y);b=v.substring(0,w),_=v.substring(w)}return b.endsWith(".html")&&(b=b.slice(0,-5)),b+_},[t]),l=encodeURIComponent(o),c=encodeURIComponent(e),u=[{name:"LinkedIn",url:`https://www.linkedin.com/shareArticle?mini=true&url=${l}&title=${c}`,icon:d.jsx(kme,{}),color:"bg-blue-700 hover:bg-blue-800"},{name:"Pinterest",url:`https://pinterest.com/pin/create/button/?url=${l}&description=${c}`,icon:d.jsx(Pme,{}),color:"bg-red-600 hover:bg-red-700"},{name:"Reddit",url:`https://www.reddit.com/submit?url=${l}&title=${c}`,icon:d.jsx(Fme,{}),color:"bg-orange-500 hover:bg-orange-600"},{name:"Facebook",url:`https://www.facebook.com/sharer/sharer.php?u=${l}&quote=${c}`,icon:d.jsx(KI,{}),color:"bg-blue-600 hover:bg-blue-700"}],f=()=>{navigator.clipboard.writeText(o).then(()=>{i(!0),setTimeout(()=>i(!1),2e3)})},h=v=>{navigator.clipboard.writeText(v).then(()=>{a(!0),setTimeout(()=>a(!1),2e3)})},p=()=>{const v=(n||"").replace(/<[^>]*>/g,""),g=v.substring(0,155)+(v.length>155?"...":""),y=`${e}

${g}

${o}`,b=`
      <p style="font-weight: bold; font-family: sans-serif; font-size: 16px;">${e}</p>
      <div style="font-family: sans-serif; font-size: 14px;"><p>${g}</p></div>
      <a href="${o}">${o}</a>
    `;try{if(typeof ClipboardItem>"u"){h(y);return}const _=new Blob([b],{type:"text/html"}),w=new Blob([y],{type:"text/plain"}),C=new ClipboardItem({"text/html":_,"text/plain":w});navigator.clipboard.write([C]).then(()=>{a(!0),setTimeout(()=>a(!1),2e3)}).catch(S=>{console.error("Async clipboard write failed, falling back to plain text: ",S),h(y)})}catch(_){console.error("Failed to use Clipboard API, falling back to writeText: ",_),h(y)}};return d.jsxs("div",{className:"fixed bottom-6 left-6 z-40 flex flex-col items-center gap-3",children:[u.map(v=>d.jsx("a",{href:v.url,target:"_blank",rel:"noopener noreferrer","aria-label":`Share on ${v.name}`,className:`w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-transform hover:scale-110 ${v.color}`,children:ml.cloneElement(v.icon,{size:24})},v.name)),d.jsx("button",{onClick:f,"aria-label":"Copy link",className:"w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-all hover:scale-110 bg-gray-600 hover:bg-gray-700",children:r?d.jsx("span",{className:"text-xs",children:" "}):d.jsx(I$,{size:22})}),d.jsx("button",{onClick:p,"aria-label":"Copy details",title:"  (  )",className:"w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-all hover:scale-110 bg-gray-600 hover:bg-gray-700",children:s?d.jsx("span",{className:"text-xs",children:" "}):d.jsx(Mme,{size:22})})]})},ns=(t,e,n=!0)=>{const r=n?`meta[property='${t}']`:`meta[name='${t}']`;let i=document.querySelector(r);i||(i=document.createElement("meta"),i.setAttribute(n?"property":"name",t),document.head.appendChild(i)),i.setAttribute("content",e)},bx=t=>t?t.replace(/[]/g,"").replace(//g,""):"",rge=t=>{const e=new Map;t.forEach(r=>{e.has(r.groupId)||e.set(r.groupId,[]),e.get(r.groupId).push(r)});const n=[];for(const r of e.values())r.sort((i,s)=>i.id.localeCompare(s.id)),n.push(r[0]);return n},ige=()=>{var B,j,W;const{countryCode:t,numericId:e}=ia(),n=Dr(),{documents:r,cafes:i,siteSettings:s,loading:a}=rn(),{user:o}=Ar(),{language:l}=aa(),[c,u]=q.useState(void 0),[f,h]=q.useState(!0),[p,v]=q.useState(()=>{var G;return!!((G=n.state)!=null&&G.openChat)}),{usePresence:g,useVisitorChat:y,visitorId:b}=Jf(),{isOnline:_}=g(c==null?void 0:c.id),{messages:w,sendMessage:C}=y(c==null?void 0:c.id),[S,R]=q.useState([]),[D,N]=q.useState(""),[k,F]=q.useState(!1);q.useEffect(()=>{var G,Y;if(c&&s){const ee=((G=s.seo)==null?void 0:G[t||"dz"])||((Y=s.seo)==null?void 0:Y.default)||{siteName:"Gitut",titleSeparator:"|",metaDescription:""},ae=c.address.commune&&c.address.wilaya?` ${c.address.wilaya}  ${c.address.commune}`:"",de=`${c.name} ${ae} ${ee.titleSeparator} ${ee.siteName}`,fe=c.description?c.description.substring(0,155)+(c.description.length>155?"...":""):ee.metaDescription,De=gi(c.coverImageUrl)||"https://cyber-m.pages.dev/data/image/gitut-og-main.png";let Pe="en_US";switch(l){case"ar":Pe="ar_AR";break;case"fr":Pe="fr_FR";break;case"de":Pe="de_DE";break;case"es":Pe="es_ES";break;case"tr":Pe="tr_TR";break;case"ja":Pe="ja_JP";break}document.title=de,ns("description",fe,!1),ns("og:title",de),ns("og:description",fe),ns("og:image",De),ns("og:image:secure_url",De),ns("og:image:width","1200"),ns("og:image:height","630"),ns("og:url",window.location.href),ns("og:type","profile"),ns("og:site_name",ee.siteName),ns("og:locale",Pe),ns("twitter:card","summary_large_image",!1),ns("twitter:url",window.location.href,!1),ns("twitter:title",de,!1),ns("twitter:description",fe,!1),ns("twitter:image",De,!1)}},[c,s,t,l]),q.useEffect(()=>{(async()=>{if(!e){h(!1);return}if(a)return;h(!0);const Y=parseInt(e,10),ee=i.find(ae=>ae.numericId===Y);if(ee)u(ee),h(!1);else try{const ae=await ome(Y);u(ae||void 0)}catch(ae){console.error("Failed to fetch cafe by numericId:",ae),u(void 0)}finally{h(!1)}})()},[e,i,a]);const P=q.useMemo(()=>{if(!c)return[];const G=[],Y=new Set([c.id]),ee=i.filter(de=>de.id!==c.id&&de.isProfilePublished);return ee.filter(de=>de.address.commune===c.address.commune&&de.address.wilaya===c.address.wilaya).forEach(de=>{G.length<5&&!Y.has(de.id)&&(G.push(de),Y.add(de.id))}),G.length<5&&c.address.daira&&ee.filter(fe=>fe.address.daira===c.address.daira&&fe.address.wilaya===c.address.wilaya).forEach(fe=>{G.length<5&&!Y.has(fe.id)&&(G.push(fe),Y.add(fe.id))}),G.length<5&&ee.filter(fe=>fe.address.wilaya===c.address.wilaya).forEach(fe=>{G.length<5&&!Y.has(fe.id)&&(G.push(fe),Y.add(fe.id))}),G},[c,i]),I=q.useMemo(()=>rge(r),[r]),U=q.useMemo(()=>c?I.filter(G=>c.services.includes(G.groupId)):[],[c,I]),O=q.useMemo(()=>{if(!D)return U;const G=bx(D.toLowerCase());return U.filter(Y=>bx(Y.name.toLowerCase()).includes(G))},[U,D]),K=q.useMemo(()=>{if(!D||!k)return[];const G=bx(D.toLowerCase());return U.filter(Y=>bx(Y.name.toLowerCase()).includes(G))},[U,D,k]),X=G=>{R(Y=>Y.includes(G)?Y.filter(ee=>ee!==G):[...Y,G])},J=G=>{X(G),N("")},ne=q.useMemo(()=>{if(!(c!=null&&c.address))return"";const{address:G}=c;return c.countryCode==="dz"?`${G.street||""}, ${G.commune||""}, ${G.daira||""}, ${G.wilaya||""}`.replace(/^,|,$/g,"").trim():`${G.street||""}, ${G.city||""}, ${G.state||""}`.replace(/^,|,$/g,"").trim()},[c]);if(f)return d.jsx("div",{className:"text-center py-20 flex justify-center items-center",children:d.jsx(St,{className:"animate-spin text-4xl text-green-600"})});if(!c)return d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"    "}),d.jsx("p",{className:"text-gray-600 mb-6",children:"         ."}),d.jsx(tn,{to:`/${t}`,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"   "})]});const z="https://images.unsplash.com/photo-1554118811-1e0d58224f24?auto=format&fit=crop&w=800&q=80",Q="https://images.unsplash.com/photo-1517245386807-bb43f82c33c4?auto=format&fit=crop&w=1200&q=80";return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl mx-auto overflow-hidden",children:[d.jsx("img",{src:gi(c.coverImageUrl)||Q,alt:`${c.name} cover`,className:"w-full h-48 object-cover",onError:G=>{G.currentTarget.src=Q}}),d.jsxs("div",{className:"p-6 md:p-8 grid md:grid-cols-4 gap-8",children:[d.jsxs("main",{className:"md:col-span-3 space-y-8",children:[d.jsx(tn,{to:`/${t}`,className:"text-green-600 hover:underline mb-6 inline-block",children:"   "}),d.jsxs("div",{className:"grid md:grid-cols-3 gap-8 items-start",children:[d.jsx("div",{className:"md:col-span-1",children:d.jsx("img",{src:gi(c.imageUrl)||z,alt:c.name,className:"w-full h-auto rounded-lg shadow-md aspect-square object-cover",onError:G=>{G.currentTarget.src=z}})}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:c.name}),d.jsxs("p",{className:"text-gray-500 text-lg mb-4",children:[": ",c.owner]}),d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx("span",{className:`w-3 h-3 rounded-full transition-colors duration-500 ${_===null?"bg-gray-300 animate-pulse":_?"bg-green-500":"bg-gray-400"}`}),d.jsx("span",{className:"text-sm text-gray-600",children:_===null?" ...":_?" ":" "})]}),d.jsxs("div",{className:"space-y-3 text-gray-700",children:[d.jsxs("p",{children:[d.jsx("strong",{className:"font-semibold",children:":"})," ",ne]}),d.jsxs("p",{children:[d.jsx("strong",{className:"font-semibold",children:":"})," ",c.description]}),c.phone&&d.jsxs("p",{className:"flex items-center gap-2",children:[d.jsx(zme,{className:"text-gray-500"})," ",d.jsx("strong",{children:c.phone})]})]}),d.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[c.googleMapsUrl&&d.jsxs("a",{href:c.googleMapsUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 bg-white border border-gray-300 text-gray-700 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[d.jsx(Wme,{})," ",d.jsx("span",{children:"  "})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[((B=c.socials)==null?void 0:B.facebook)&&d.jsx("a",{href:c.socials.facebook,target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-blue-600",children:d.jsx(KI,{size:24})}),((j=c.socials)==null?void 0:j.instagram)&&d.jsx("a",{href:c.socials.instagram,target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-pink-600",children:d.jsx(b$,{size:24})}),((W=c.socials)==null?void 0:W.twitter)&&d.jsx("a",{href:c.socials.twitter,target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-sky-500",children:d.jsx(w$,{size:24})})]})]})]})]}),d.jsxs("div",{className:"border-t pt-8",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"1.   "}),d.jsx("p",{className:"text-gray-600 mb-6",children:"   .            ."}),d.jsxs("div",{className:"relative mb-4",children:[d.jsx("input",{type:"text",placeholder:"   ...",value:D,onChange:G=>N(G.target.value),onFocus:()=>F(!0),onBlur:()=>setTimeout(()=>F(!1),150),className:"w-full p-3 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500","aria-label":"     ",autoComplete:"off"}),K.length>0&&d.jsx("ul",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-10 max-h-60 overflow-y-auto",children:K.map(G=>d.jsxs("li",{className:`px-4 py-2 cursor-pointer flex justify-between items-center ${S.includes(G.id)?"bg-green-100 font-semibold text-green-800":"hover:bg-green-50"}`,onMouseDown:Y=>{Y.preventDefault(),J(G.id)},children:[d.jsx("span",{children:G.name}),S.includes(G.id)&&d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-600",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},G.id))})]}),d.jsx("div",{className:"space-y-3 mb-6",role:"group","aria-labelledby":"documents-heading",children:O.length>0?O.map(G=>d.jsxs("button",{type:"button",onClick:()=>X(G.id),className:`w-full text-right p-4 border rounded-lg transition-all duration-200 ${S.includes(G.id)?"bg-green-100 border-green-500 ring-2 ring-green-400":"bg-gray-50 hover:bg-gray-100"}`,"aria-pressed":S.includes(G.id),children:[d.jsx("h3",{className:"font-bold text-lg text-gray-800",children:G.name}),d.jsx("div",{className:"text-gray-600 prose prose-sm max-w-none line-clamp-2",dangerouslySetInnerHTML:{__html:G.description}})]},G.id)):d.jsx("div",{className:"text-center py-6 bg-gray-50 rounded-lg",children:d.jsx("p",{className:"text-gray-600",children:"    ."})})}),d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"2.  "}),d.jsxs(tn,{to:S.length>0?`/${t}/form`:"#",state:{cafeId:c.id,selectedDocIds:S},className:`w-full md:w-auto inline-block text-center bg-green-600 text-white font-bold py-3 px-8 rounded-lg transition-colors focus:outline-none focus:ring-4 focus:ring-green-300 ${S.length===0?"opacity-50 cursor-not-allowed":"hover:bg-green-700"}`,"aria-disabled":S.length===0,onClick:G=>S.length===0&&G.preventDefault(),children:["   (",S.length,")"]})]})]}),d.jsxs("aside",{className:"md:col-span-1 space-y-6 pt-12",children:[d.jsx(rc,{placement:"PROFILE_SIDEBAR"}),P.length>0&&d.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border",children:[d.jsx("h3",{className:"font-bold text-lg mb-3 text-gray-800",children:" "}),d.jsx("div",{className:"space-y-3",children:P.map(G=>d.jsxs(tn,{to:`/${G.countryCode}/profile/${G.numericId}`,className:"block p-3 bg-white rounded-md border hover:border-green-400 hover:bg-green-50 transition-all",children:[d.jsx("p",{className:"font-semibold text-gray-900",children:G.name}),d.jsx("p",{className:"text-sm text-gray-500",children:G.address.commune})]},G.id))})]})]})]})]}),d.jsx(V$,{url:window.location.href,title:c.name,description:c.description}),c&&!p&&d.jsx("button",{onClick:()=>v(!0),className:"fixed bottom-8 right-8 bg-blue-600 text-white p-4 rounded-full shadow-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-transform hover:scale-110 z-40","aria-label":" ",title:" ",children:d.jsx(YI,{size:24})}),p&&c&&b&&d.jsx("div",{className:"fixed bottom-8 right-8 w-full max-w-sm h-[70vh] max-h-[500px] z-50 shadow-2xl rounded-lg fade-in-text",children:d.jsx(tk,{title:`  ${c.name}`,messages:w,onSendMessage:C,currentUserId:b,isOnline:_,onClose:()=>v(!1)})})]})},sge=({onClose:t,onCapture:e})=>{const n=q.useRef(null),r=q.useRef(null),i=q.useRef(null),[s,a]=q.useState(null),[o,l]=q.useState(null),c=async()=>{l(null),a(null);try{const p=await navigator.mediaDevices.getUserMedia({video:{width:480,height:480}});i.current=p,n.current&&(n.current.srcObject=p)}catch(p){console.error("Error accessing camera:",p),p instanceof DOMException&&(p.name==="NotAllowedError"||p.name==="PermissionDeniedError")?l("    .      ."):l("    .          .")}};q.useEffect(()=>(c(),()=>{i.current&&i.current.getTracks().forEach(p=>p.stop())}),[]);const u=()=>{if(n.current&&r.current){const p=n.current,v=r.current;v.width=p.videoWidth,v.height=p.videoHeight;const g=v.getContext("2d");g==null||g.drawImage(p,0,0,v.width,v.height);const y=v.toDataURL("image/jpeg");a(y),i.current&&(i.current.getTracks().forEach(b=>b.stop()),i.current=null)}},f=()=>{c()},h=()=>{s&&(e(s),t())};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex justify-center items-center",children:d.jsxs("div",{className:"bg-white rounded-lg p-4 max-w-lg w-full",children:[d.jsx("h3",{className:"text-xl font-bold mb-4 text-center",children:" "}),d.jsxs("div",{className:"relative aspect-square bg-gray-900 rounded-md overflow-hidden flex items-center justify-center",children:[o?d.jsxs("div",{className:"p-4 text-center text-white",children:[d.jsx("p",{className:"font-semibold text-red-400",children:"  "}),d.jsx("p",{className:"text-sm mt-2",children:o})]}):s?d.jsx("img",{src:s,alt:"Captured",className:"w-full h-full object-contain"}):d.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),d.jsx("canvas",{ref:r,className:"hidden"})]}),d.jsxs("div",{className:"mt-4 flex justify-center gap-4",children:[s?d.jsxs(d.Fragment,{children:[d.jsx("button",{type:"button",onClick:f,className:"bg-gray-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-600",children:" "}),d.jsx("button",{type:"button",onClick:h,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700",children:" "})]}):d.jsx("button",{type:"button",onClick:u,disabled:!!o,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:""}),d.jsx("button",{type:"button",onClick:t,className:"bg-red-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-600",children:""})]})]})})},jv=({value:t,onChange:e})=>{const n=q.useRef(null),[r,i]=q.useState(!1),s=o=>{var c;const l=(c=o.target.files)==null?void 0:c[0];if(l){const u=new FileReader;u.onloadend=()=>{e(u.result)},u.readAsDataURL(l)}},a=()=>{e("")};return d.jsxs("div",{className:"w-full",children:[d.jsx("div",{className:"w-48 h-48 rounded-lg border-2 border-dashed border-gray-300 flex justify-center items-center bg-gray-50 overflow-hidden relative group",children:t?d.jsxs(d.Fragment,{children:[d.jsx("img",{src:t,alt:"Preview",className:"w-full h-full object-cover"}),d.jsx("button",{type:"button",onClick:a,className:"absolute top-1 right-1 bg-red-600 text-white p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity","aria-label":"Remove image",children:d.jsx(Wm,{})})]}):d.jsx("span",{className:"text-gray-400 text-sm",children:" "})}),d.jsxs("div",{className:"mt-2 flex gap-2",children:[d.jsxs("button",{type:"button",onClick:()=>{var o;return(o=n.current)==null?void 0:o.click()},className:"flex-1 flex items-center justify-center gap-2 bg-white border border-gray-300 text-gray-700 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[d.jsx(Sl,{}),d.jsx("span",{children:" "})]}),d.jsx("input",{type:"file",ref:n,onChange:s,accept:"image/*",className:"hidden"}),d.jsxs("button",{type:"button",onClick:()=>i(!0),className:"flex-1 flex items-center justify-center gap-2 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:[d.jsx(Vm,{}),d.jsx("span",{children:" "})]})]}),r&&d.jsx(sge,{onClose:()=>i(!1),onCapture:e})]})},W$="https://gitut.com/api/",q$="@@??YOUYOU@@??YOUYOU1936",z$="Could not initialize Firebase Admin SDK";function H$(){return new Promise((t,e)=>{if(Lr.currentUser)return t(Lr.currentUser);const n=Lr.onAuthStateChanged(r=>{n(),r?t(r):e(new Error("User not authenticated."))})})}async function nd(t,e){var n;try{const i=await(await H$()).getIdToken(),s=await fetch(W$,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`,"x-api-proxy-key":q$},body:JSON.stringify({action:t,payload:e})});if((n=s.headers.get("Content-Type"))!=null&&n.includes("application/json")){const o=await s.json();if(!s.ok)throw new Error(o.error||`Request failed with status ${s.status}`);return o}const a=await s.text();if(!s.ok)throw new Error(a||`Request failed with status ${s.status}`);return{text:a}}catch(r){throw console.error(`Gemini Service Error (${t}):`,r),r instanceof Error&&r.message.includes(z$)?new Error("    .      ."):r}}async function*$$(t){const e="generateContentStream",n={modelRequest:t},i=await(await H$()).getIdToken(),s=await fetch(W$,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`,"x-api-proxy-key":q$},body:JSON.stringify({action:e,payload:n})});if(!s.ok||!s.body){const c=(await s.json().catch(()=>({error:`Request failed with status ${s.status}`}))).error||`Request failed with status ${s.status}`;throw c.includes(z$)?new Error("    .      ."):new Error(c)}const a=s.body.getReader(),o=new TextDecoder;for(;;){const{done:l,value:c}=await a.read();if(l)break;yield o.decode(c,{stream:!0})}}async function*age(t,e){const n=`Analyze the following HTML content. Your task is to identify specific pieces of personal information (like names, dates, addresses, job titles) and replace them with the most relevant placeholder from the provided list. Return ONLY the modified HTML body content, without any markdown formatting, explanations, or the <body> tags themselves.

    Available placeholders: ${e.join(", ")}
    
    Original HTML Body:
    \`\`\`html
    ${t}
    \`\`\`
    `,r=$$({model:"gemini-2.5-flash",contents:n});for await(const i of r)yield i}const oge=async t=>nd("extractJsonFromHtml",{html:t}),ic=async t=>nd("generateContent",{modelRequest:t}),lge=async t=>nd("generateImages",{prompt:t}),nk=async(t,e,n,r)=>{const i=await nd("extractDataFromImage",{base64ImageData:t,mimeType:e,schema:n,prompt:r});if(i&&i.text)try{return JSON.parse(i.text)}catch(s){throw console.error("Could not parse JSON from image extraction:",s),new Error("The AI model returned an invalid format.")}return i},cge=async(t,e,n,r)=>{const i=await nd("extractStructuredData",{transcript:t,formFields:e,schema:n,prompt:r});if(i&&i.text)try{return JSON.parse(i.text)}catch(s){throw console.error("Could not parse JSON from structured data extraction:",s),new Error("The AI model returned an invalid format.")}return i},uge=async(t,e,n)=>nd("extractJobData",{data:t,schema:e,requiredFieldLabels:n}),dge=async(t,e,n)=>nd("processSpreadsheet",{prompt:t,selectedData:e,selectionContext:n}),G$=async t=>nd("convertPdfToHtml",{pdfBase64:t}),fge=({onClose:t,onScanSuccess:e})=>{const n=q.useRef(null),r=q.useRef(null),i=q.useRef(null),[s,a]=q.useState("initializing"),[o,l]=q.useState("  ..."),[c,u]=q.useState(null),f=q.useCallback(async()=>{try{const p=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});i.current=p,n.current&&(n.current.srcObject=p,a("ready"),l(" .        ."))}catch(p){console.error("Error accessing camera:",p),u("    .    ."),a("error")}},[]);q.useEffect(()=>(f(),()=>{var p;(p=i.current)==null||p.getTracks().forEach(v=>v.stop())}),[f]);const h=async()=>{var p;if(!(s!=="ready"||!n.current||!r.current)){a("scanning"),l("    ..."),u(null);try{const v=n.current,g=r.current;g.width=v.videoWidth,g.height=v.videoHeight;const y=g.getContext("2d");y==null||y.drawImage(v,0,0,g.width,g.height);const b=g.toDataURL("image/jpeg",.9),[_,w]=b.split(","),C=((p=_.match(/:(.*?);/))==null?void 0:p[1])||"image/jpeg",D=await nk(w,C,{type:"OBJECT",properties:{lastName:{type:"STRING",description:"The person's last name () in Arabic."},firstName:{type:"STRING",description:"The person's first name () in Arabic."},lastNameFr:{type:"STRING",description:"The person's last name in French, if available."},firstNameFr:{type:"STRING",description:"The person's first name in French, if available."},birthdaydate:{type:"STRING",description:"The person's date of birth ( ) in YYYY-MM-DD format."},birthdayplace:{type:"STRING",description:"The person's place of birth () in Arabic."},nationalId:{type:"STRING",description:"The 18-digit National Identification Number (  )."},bloodType:{type:"STRING",description:"The person's blood type (RH), e.g., 'B+'."}}},"From the provided image of an Algerian National ID card (  ), extract the person's information. The card contains both Arabic and French text. Extract both language versions for the names. Format the date of birth as YYYY-MM-DD. If the image is blurry, has glare, or is unreadable, return an empty object.");if(D&&(D.firstName||D.lastName)){const k={fullName:`${D.firstName||""} ${D.lastName||""}`.trim(),firstName:D.firstName||"",lastName:D.lastName||"",firstNameFr:D.firstNameFr||"",lastNameFr:D.lastNameFr||"",birthdaydate:D.birthdaydate||"",birthdayplace:D.birthdayplace||"",nationalId:D.nationalId||"",bloodType:D.bloodType||""};e(k)}else l("     .     ."),a("ready")}catch(v){console.error("Scanning error with Gemini:",v);const g=v instanceof Error?v.message:"An unknown error occurred.";u(`   : ${g}`),a("ready")}}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full relative",children:[d.jsx("button",{onClick:t,className:"absolute top-2 right-2 text-gray-500 hover:text-gray-800 z-10",children:d.jsx(Nf,{size:20})}),d.jsx("h3",{className:"text-xl font-bold mb-4 text-center",children:"   "}),d.jsxs("div",{className:"relative aspect-video bg-gray-900 rounded-md overflow-hidden flex items-center justify-center",children:[d.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),d.jsx("canvas",{ref:r,className:"hidden"}),d.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:d.jsx("div",{className:"w-[85%] h-[80%] border-4 border-dashed border-white border-opacity-50 rounded-lg"})})]}),d.jsx("div",{className:"mt-4 text-center",children:c?d.jsx("p",{className:"text-red-500 font-semibold",children:c}):d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"text-gray-600 mb-2 h-10 flex items-center justify-center",children:s==="scanning"?d.jsxs("span",{className:"flex items-center gap-2",children:[d.jsx(St,{className:"animate-spin"})," ",o]}):o}),d.jsxs("button",{onClick:h,disabled:s!=="ready",className:"mt-2 w-full flex items-center justify-center gap-3 bg-blue-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-700 disabled:bg-gray-400",children:[d.jsx(Vm,{}),d.jsx("span",{children:s==="ready"?" ":" ..."})]})]})})]})})},wx={1:1,:1,:1,:1,:1,:1,2:2,:2,:2,:2,:2,:2,:2,:2,3:3,:3,:3,:3,:3,:3,:3,:3,:3,:3,:3,4:4,:4,:4,:4,:4,:4,:4,:4,:4,:4,:4,5:5,:5,:5,:5,:5,:5,6:6,:6,:6,:6},hge=t=>{const e=t.trim().toLowerCase(),n=e.match(/(?:||)\s+([^\s]+)/);if(n&&n[1]){const i=n[1];if(wx[i])return wx[i]}const r=e.split(/\s+/);for(const i of r)if(wx[i])return wx[i];return null},pge=()=>{var me;const t=Dr(),e=bi(),{countryCode:n}=ia(),{documents:r,sites:i,cafes:s,loading:a,codes:o}=rn(),{cafeId:l,selectedDocIds:c}=t.state||{cafeId:null,selectedDocIds:[]},{usePresence:u}=Jf(),{isOnline:f}=u(l),{t:h,language:p}=aa(),[v,g]=q.useState(),[y,b]=q.useState({}),[_,w]=q.useState(0),[C,S]=q.useState(""),[R,D]=q.useState(!1),[N,k]=q.useState(!1),[F,P]=q.useState("filling"),[I,U]=q.useState(!1),[O,K]=q.useState(!1),X=q.useRef(null),J=q.useRef(!1);q.useEffect(()=>{l&&s.length>0&&g(s.find(je=>je.id===l))},[l,s]);const ne=je=>{b(V=>({...V,...je})),K(!1)},z=q.useMemo(()=>r.filter(je=>c.includes(je.id)),[r,c]),Q=q.useMemo(()=>i.filter(je=>je.type==="template"&&c.includes(je.id)),[i,c]),B=q.useMemo(()=>!c||c.length===0?!1:z.length>0||Q.length>0,[c,z,Q]),j=q.useMemo(()=>{const je=[],V=new Set;return z.forEach(ye=>{var oe;((((oe=ye.spokenFields)==null?void 0:oe.length)>0?ye.spokenFields:ye.requiredFields)||[]).forEach(re=>{var le,he,_e;if(re!=="profilePicture"&&re!=="DateToday"&&!V.has(re)){const ie=Object.prototype.hasOwnProperty.call(m2,re),ce=((le=ye.questions)==null?void 0:le[re])||((_e=(he=ye.fieldCustomizations)==null?void 0:he[re])==null?void 0:_e.customQuestion)||(ie?m2[re]:re);je.push({id:re,label:ce||re}),V.add(re)}})}),Q.forEach(ye=>{var oe;(((oe=ye.jsonTemplate)==null?void 0:oe.fields)||[]).forEach(re=>{if(re!=null&&re.fieldId){const le=re.fieldId;V.has(le)||(je.push({id:le,label:re.label}),V.add(le))}})}),je},[z,Q]),W=q.useMemo(()=>{const je=new Set;return z.forEach(V=>(V.requiredFields||[]).forEach(ye=>je.add(ye))),je.has("profilePicture")},[z]),G=_===j.length-1,Y=q.useMemo(()=>{var _e,ie,ce;const je=(_e=j[_])==null?void 0:_e.id;if(!je)return null;const ye=Object.prototype.hasOwnProperty.call(Zr,je)?Zr[je]:null;let be=null;for(const ge of z)if((ie=ge.fieldCustomizations)!=null&&ie[je]){be=ge.fieldCustomizations[je];break}const oe=((ce=j[_])==null?void 0:ce.label)||je,re=(be==null?void 0:be.type)||(ye==null?void 0:ye.type)||"text",le=ye?h(ye.placeholder||""):je;let he;return be!=null&&be.options?he=be.options.map(ge=>({value:ge,label:ge})):ye!=null&&ye.options&&(he=ye.options.map(ge=>({value:ge.value,label:h(ge.label)}))),{id:je,question:oe,type:re,placeholder:le,options:he,customization:be}},[_,j,z,h]),ee=q.useCallback(()=>{G?P("finished"):w(je=>je+1)},[G]),ae=q.useCallback(()=>{_>0&&w(je=>je+1)},[_]),de=q.useRef({handleNext:ee,handlePrevious:ae,setFormData:b,currentField:Y});q.useEffect(()=>{de.current={handleNext:ee,handlePrevious:ae,setFormData:b,currentField:Y}},[ee,ae,Y]),q.useEffect(()=>{J.current=N},[N]),q.useEffect(()=>{const je=window.SpeechRecognition||window.webkitSpeechRecognition;if(!je)return;const V=new je;V.continuous=!0,V.interimResults=!1;let ye="ar-SA";switch(p){case"en":ye="en-US";break;case"fr":ye="fr-FR";break;case"de":ye="de-DE";break;case"es":ye="es-ES";break;case"tr":ye="tr-TR";break;case"ja":ye="ja-JP";break}V.lang=ye,V.onstart=()=>{k(!0),U(!1)},V.onend=()=>{if(J.current){console.log("Speech recognition service disconnected, attempting to restart.");try{V.start()}catch(be){console.error("Could not restart recognition:",be),J.current=!1,k(!1)}}else k(!1)},V.onresult=be=>{let oe="";for(let ve=be.resultIndex;ve<be.results.length;++ve)be.results[ve].isFinal&&(oe+=be.results[ve][0].transcript.trim());if(!oe)return;const{handleNext:re,handlePrevious:le,setFormData:he,currentField:_e}=de.current,ie=hge(oe);if(_e!=null&&_e.options&&ie!==null){const ve=ie-1;if(ve>=0&&ve<_e.options.length){const Se=_e.options[ve];he(Oe=>({...Oe,[_e.id]:Se.value})),re();return}}const ce=["",""," "," ","next","suivant"],ge=["","",""," "," "," ","previous","prcdent"];ce.some(ve=>oe.toLowerCase().includes(ve))?re():ge.some(ve=>oe.toLowerCase().includes(ve))?le():_e&&he(ve=>({...ve,[_e.id]:(ve[_e.id]||"")+oe+" "}))},V.onerror=be=>{console.error("Speech recognition error:",be.error),(be.error==="not-allowed"||be.error==="permission-denied")&&U(!0),J.current=!1,k(!1)},X.current=V,J.current=!0;try{X.current.start()}catch(be){console.error("Could not start recognition on mount:",be),J.current=!1,k(!1)}return()=>{X.current&&(J.current=!1,X.current.onend=null,X.current.stop())}},[p]),q.useEffect(()=>{var je;if(X.current){const V=X.current,ye=J.current;ye&&(J.current=!1,V.stop());let be=((je=Y==null?void 0:Y.customization)==null?void 0:je.speechLang)||(v==null?void 0:v.speechToTextLanguage)||"ar-SA";V.lang=be,console.log(`Switched speech recognition language to: ${be} for field ${Y==null?void 0:Y.id}`),ye&&setTimeout(()=>{J.current=!0;try{V.start()}catch(oe){console.error("Could not restart recognition after lang change:",oe),J.current=!1,k(!1)}},250)}},[_,j,v,Y]);const fe=()=>{var je,V;N?(J.current=!1,(je=X.current)==null||je.stop()):(J.current=!0,(V=X.current)==null||V.start())},De=je=>{const{name:V,value:ye}=je.target;b(be=>({...be,[V]:ye}))},Pe=async()=>{if(W&&!C){alert("     .");return}D(!0);const je={...y,profilePicture:C};try{if(f===!0&&Kn){console.log("Cafe is online. Sending job via P2P (GUN.js).");const V=`job-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,ye={cafeId:l,documentIds:JSON.stringify(c),visitorData:JSON.stringify(je),createdAt:Date.now(),status:"Pending"};Kn.get("jobs").get(l).get(V).put(ye),e(`/${n}/confirmation/${V}`)}else{console.log(`Cafe is offline (isOnline: ${f}). Sending job via Firebase.`);const ye=await dme({cafeId:l,documentIds:c,visitorData:je});e(`/${n}/confirmation/${ye.id}`)}}catch(V){console.error("Error submitting job:",V),alert("    .    .")}finally{D(!1)}};return a?d.jsx("div",{className:"text-center py-20",children:d.jsx(St,{className:"animate-spin text-4xl text-green-600"})}):!l||!B?d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"  "}),d.jsx("p",{className:"text-gray-600 mb-6",children:"      .     ."}),d.jsx(tn,{to:`/${n}`,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"   "})]}):d.jsxs("div",{className:"max-w-3xl mx-auto",children:[O&&d.jsx(fge,{onClose:()=>K(!1),onScanSuccess:ne}),d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8",children:[d.jsxs("div",{className:"mb-6 border-b pb-6 flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:" "}),d.jsxs("p",{className:"text-gray-600",children:["    ",d.jsx("strong",{className:"font-semibold",children:v==null?void 0:v.name}),".",d.jsx("span",{className:`inline-block mr-2 px-2 py-0.5 text-xs font-semibold rounded-full ${f===!0?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:f===null?"...":f===!0?"":" "})]})]}),d.jsxs("button",{type:"button",onClick:()=>K(!0),className:"flex items-center gap-2 bg-blue-600 text-white font-bold px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",title:"   ",children:[d.jsx(Vm,{}),d.jsx("span",{children:" "})]})]}),I&&d.jsxs("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-6",role:"alert",children:[d.jsxs("p",{className:"font-bold flex items-center gap-2",children:[d.jsx(pw,{}),"     "]}),d.jsx("p",{children:"           .    ."})]}),F==="filling"&&Y&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsxs("p",{className:"text-sm font-semibold text-gray-500",children:[" ",_+1,"  ",j.length]}),d.jsx("h2",{className:"text-2xl font-bold text-gray-800 mt-1",children:Y.question}),d.jsx("p",{className:"text-sm text-gray-500 mt-2",children:'  ""  ""   .'})]}),d.jsxs("div",{className:"relative",children:[Y.type==="select"&&Y.options?d.jsxs("select",{name:Y.id,value:y[Y.id]||"",onChange:De,className:"w-full h-28 p-4 text-lg border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition",children:[d.jsxs("option",{value:"",children:["-- ",Y.placeholder," --"]}),(me=Y.options)==null?void 0:me.map(je=>d.jsx("option",{value:je.value,children:je.label},je.value))]},Y.id):d.jsx("textarea",{name:Y.id,value:y[Y.id]||"",onChange:De,placeholder:` ... : ${Y.placeholder}`,className:"w-full h-28 p-4 text-lg border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition"},Y.id),d.jsx("button",{type:"button",onClick:fe,title:"/ ",disabled:I,className:`absolute bottom-3 left-3 p-3 rounded-full transition-colors ${N?"bg-red-500 text-white animate-pulse":"bg-green-600 text-white hover:bg-green-700"} disabled:bg-gray-400`,children:N?d.jsx(Hme,{}):d.jsx(mc,{})})]}),Y.options&&d.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg border",children:[d.jsx("h3",{className:"font-semibold text-gray-700 mb-2",children:"  (  ):"}),d.jsx("ol",{className:"list-decimal list-inside space-y-1 text-gray-800",children:Y.options.map((je,V)=>d.jsxs("li",{children:[d.jsxs("strong",{className:"font-mono",children:[V+1,"."]})," ",je.label]},je.value))})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("button",{onClick:ae,disabled:_===0,className:"flex items-center gap-2 bg-gray-200 text-gray-800 font-bold px-6 py-3 rounded-lg hover:bg-gray-300 disabled:opacity-50",children:[d.jsx(fw,{})," ",d.jsx("span",{children:""})]}),d.jsxs("button",{onClick:ee,className:"flex items-center gap-2 bg-green-600 text-white font-bold px-6 py-3 rounded-lg hover:bg-green-700",children:[d.jsx("span",{children:G?"":""})," ",d.jsx(dw,{})]})]})]}),F==="finished"&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center justify-center gap-3",children:[d.jsx(E$,{className:"text-green-500"}),"  !"]}),d.jsx("p",{className:"text-gray-600 mt-2",children:"      ."})]}),d.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border space-y-3",children:Object.entries(y).map(([je,V])=>{if(!V)return null;const be=(Object.prototype.hasOwnProperty.call(Zr,je)?m2[je]:je)||je;return d.jsxs("div",{children:[d.jsxs("p",{className:"text-sm font-semibold text-gray-500",children:[be,":"]}),d.jsx("p",{className:"text-md text-gray-800 font-medium whitespace-pre-wrap",children:V})]},je)})}),W&&d.jsxs("div",{className:"pt-4 mt-4 border-t",children:[d.jsx("h3",{className:"font-bold text-lg text-center mb-2",children:" "}),d.jsx("div",{className:"flex justify-center",children:d.jsx(jv,{value:C,onChange:S})})]}),d.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[d.jsx("button",{onClick:()=>{w(0),P("filling")},className:"bg-gray-200 text-gray-800 font-bold px-6 py-3 rounded-lg hover:bg-gray-300",children:"  "}),d.jsxs("button",{onClick:Pe,disabled:R||W&&!C,className:"flex items-center gap-2 bg-blue-600 text-white font-bold px-6 py-3 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[R?d.jsx(St,{className:"animate-spin"}):d.jsx(W0,{}),d.jsx("span",{children:R?" ...":"  "})]})]})]})]})]})},mge=()=>{const{countryCode:t,jobId:e}=ia();return d.jsx("div",{className:"max-w-2xl mx-auto text-center py-10",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[d.jsx("svg",{className:"w-20 h-20 text-green-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"   !"}),d.jsx("p",{className:"text-gray-600 mb-6 text-lg",children:"     .         ."}),d.jsxs("div",{className:"bg-green-50 border-2 border-dashed border-green-200 rounded-lg p-4 my-6",children:[d.jsx("p",{className:"text-gray-600 mb-1",children:"    :"}),d.jsx("p",{className:"text-3xl font-bold text-green-800 tracking-widest","aria-live":"polite",children:e})]}),d.jsx("p",{className:"text-sm text-gray-500 mb-8",children:":         ."}),d.jsx(tn,{to:`/${t}`,className:"bg-green-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-green-700 transition-colors",children:"   "})]})})},gge=()=>{const{t,countryCode:e}=aa(),[n,r]=q.useState(""),[i,s]=q.useState(""),[a,o]=q.useState(""),[l,c]=q.useState(!1),u=bi(),{login:f,logout:h,sendPasswordReset:p}=Ar(),[v,g]=q.useState(!1),[y,b]=q.useState(""),[_,w]=q.useState(""),[C,S]=q.useState(""),R=async N=>{if(N.preventDefault(),o(""),!n||!i){o(t("login.error.fillAllFields"));return}c(!0);try{const k=await f(n,i);k.emailVerified?u(`/${k.countryCode}/app`):(o(t("login.error.verifyEmail")),await h(),c(!1))}catch{o(t("login.error.wrongCredentials")),c(!1)}},D=async N=>{if(N.preventDefault(),w(""),S(""),!y){S(t("login.error.enterEmail"));return}c(!0);try{await p(y),w(t("login.reset.successMessage"))}catch(k){S(k.message||t("login.reset.errorMessage"))}c(!1)};return d.jsx("div",{className:"max-w-md mx-auto mt-10",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl p-8",children:v?d.jsxs(d.Fragment,{children:[d.jsx("h1",{className:"text-3xl font-bold text-center text-gray-900 mb-6",children:t("login.reset.title")}),_&&d.jsx("p",{className:"bg-green-100 text-green-700 p-3 rounded-md mb-4 text-center",children:_}),C&&d.jsx("p",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-center",children:C}),d.jsxs("form",{onSubmit:D,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"reset-email",className:"block text-sm font-medium text-gray-700 mb-1",children:t("login.reset.emailLabel")}),d.jsx("input",{type:"email",id:"reset-email",value:y,onChange:N=>b(N.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm",placeholder:"user@example.com"})]}),d.jsx("button",{type:"submit",disabled:l,className:"w-full bg-green-600 text-white p-3 rounded-lg font-bold hover:bg-green-700 disabled:bg-gray-400",children:t(l?"login.reset.sendingButton":"login.reset.sendButton")})]}),d.jsx("p",{className:"text-center text-gray-600 mt-6",children:d.jsxs("button",{onClick:()=>g(!1),className:"text-green-600 hover:underline font-semibold",children:[" ",t("login.reset.backToLogin")]})})]}):d.jsxs(d.Fragment,{children:[d.jsx("h1",{className:"text-3xl font-bold text-center text-gray-900 mb-6",children:t("login.title")}),a&&d.jsx("p",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-center",children:a}),d.jsxs("form",{onSubmit:R,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:t("login.emailLabel")}),d.jsx("input",{type:"email",id:"email",value:n,onChange:N=>r(N.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"user@example.com"})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:t("login.passwordLabel")}),d.jsx("button",{type:"button",onClick:()=>g(!0),className:"text-sm text-green-600 hover:underline font-semibold",children:t("login.forgotPassword")})]}),d.jsx("input",{type:"password",id:"password",value:i,onChange:N=>s(N.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"********"})]}),d.jsx("button",{type:"submit",disabled:l,className:"w-full bg-green-600 text-white p-3 rounded-lg font-bold hover:bg-green-700 transition-colors disabled:bg-gray-400",children:t(l?"login.loggingInButton":"login.loginButton")})]}),d.jsxs("p",{className:"text-center text-gray-600 mt-6",children:[t("login.noAccount")," ",d.jsx(tn,{to:`/${e}/signup`,className:"text-green-600 hover:underline font-semibold",children:t("login.createAccount")})]})]})})})},yge=["gmail.com","outlook.com","hotmail.com","live.com"],vge=()=>{const{wilayas:t,dairas:e,communes:n,locationsLoading:r}=rn(),{t:i,countryCode:s,language:a}=aa(),o=bi(),l=Dr(),c=va[a],u=l.state||{},[f,h]=q.useState(u.email||""),[p,v]=q.useState(u.password||""),[g,y]=q.useState(u.confirmPassword||""),[b,_]=q.useState(u.cafeName||""),[w,C]=q.useState(u.ownerName||""),[S,R]=q.useState(u.street||""),[D,N]=q.useState(()=>c.find(V=>V.code===s)||c[0]),[k,F]=q.useState(u.selectedWilaya||""),[P,I]=q.useState(u.selectedDaira||""),[U,O]=q.useState(u.selectedCommune||""),[K,X]=q.useState(u.genericState||""),[J,ne]=q.useState(u.genericCity||""),[z,Q]=q.useState([]),[B,j]=q.useState([]),[W,G]=q.useState(""),[Y,ee]=q.useState(!1),[ae,de]=q.useState(!1),{signup:fe}=Ar();q.useEffect(()=>{if(!l.state){const V=c.find(ye=>ye.code===s)||c[0];N(V)}},[s,c,l.state]);const De=V=>{const ye=V.target.value,be={email:f,password:p,confirmPassword:g,cafeName:b,ownerName:w,street:S,selectedWilaya:k,selectedDaira:P,selectedCommune:U,genericState:K,genericCity:J};o(`/${ye}/signup`,{replace:!0,state:be})},Pe=V=>{const ye=V.target.value;F(ye),I(""),O(""),ye?(Q(e.filter(be=>be.wilaya_code===ye)),j([])):(Q([]),j([]))},me=V=>{const ye=V.target.value;I(ye),O(""),j(ye&&k?n.filter(be=>be.daira_name===ye&&be.wilaya_code===k):[])},je=async V=>{var ce;V.preventDefault(),G("");const ye=f.split("@")[1];if(!yge.includes(ye)){G(i("signup.errors.allowedDomains"));return}const be=t.length>0;if(!f||!p||!g||!b||!w||!S||!(be&&k&&P&&U)&&!(!be&&K&&J)){G(i("signup.errors.fillAllFields"));return}if(p!==g){G(i("signup.errors.passwordsMismatch"));return}if(p.length<6){G(i("signup.errors.passwordLength"));return}ee(!0);let le;be?le={wilaya:((ce=t.find(ve=>ve.code===k))==null?void 0:ce.name)||"",wilaya_code:k,daira:P,commune:U,street:S}:le={state:K,city:J,street:S};const _e=D.code==="dz"?{amount:200,currency:"DZD"}:{amount:1,currency:"USD"},ie={name:b,owner:w,countryCode:D.code,countryPhoneCode:D.phoneCode,address:le,initialCredits:_e};try{await fe(f,p,ie)?de(!0):G(i("signup.errors.signupFailed"))}catch(ge){ge.code==="auth/email-already-in-use"?G("    .        ."):G(i("signup.errors.signupFailed"))}finally{ee(!1)}};return ae?d.jsx("div",{className:"max-w-lg mx-auto mt-10",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 text-center",children:[d.jsx("svg",{className:"w-16 h-16 text-green-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),d.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:i("signup.success.title")}),d.jsxs("p",{className:"text-gray-600 mb-6",children:[i("signup.success.message")," ",d.jsx("strong",{className:"font-semibold",children:f}),".",i("signup.success.instruction")]}),d.jsx(tn,{to:`/${s}/login`,className:"w-full bg-green-600 text-white p-3 rounded-lg font-bold hover:bg-green-700 transition-colors inline-block",children:i("signup.success.loginButton")})]})}):d.jsx("div",{className:"max-w-lg mx-auto mt-10",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-center text-gray-900 mb-6",children:i("signup.title")}),W&&d.jsx("p",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-center",children:W}),d.jsxs("form",{onSubmit:je,className:"space-y-6",children:[d.jsxs("fieldset",{className:"space-y-4 border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-gray-700",children:i("signup.accountInfo")}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email-signup",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.email")}),d.jsx("input",{type:"email",id:"email-signup",value:f,onChange:V=>h(V.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"user@gmail.com / user@outlook.com"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"password-signup",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.password")}),d.jsx("input",{type:"password",id:"password-signup",value:p,onChange:V=>v(V.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:i("signup.passwordPlaceholder")})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.confirmPassword")}),d.jsx("input",{type:"password",id:"confirm-password",value:g,onChange:V=>y(V.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"********"})]})]}),d.jsxs("fieldset",{className:"space-y-4 border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-gray-700",children:i("signup.cafeInfo")}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"cafeName",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.cafeName")}),d.jsx("input",{type:"text",id:"cafeName",value:b,onChange:V=>_(V.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:i("signup.cafeNamePlaceholder")})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"ownerName",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.ownerName")}),d.jsx("input",{type:"text",id:"ownerName",value:w,onChange:V=>C(V.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:i("signup.ownerNamePlaceholder")})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.country")}),d.jsx("select",{id:"country",value:D.code,onChange:De,required:!0,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-white focus:outline-none focus:ring-green-500 focus:border-green-500",children:c.map(V=>d.jsx("option",{value:V.code,children:V.name},V.code))})]}),t.length>0?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"wilaya",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.wilaya")}),d.jsxs("select",{id:"wilaya",value:k,onChange:Pe,required:!0,disabled:r,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-white focus:outline-none focus:ring-green-500 focus:border-green-500",children:[d.jsx("option",{value:"",children:i(r?"signup.loading":"signup.selectWilaya")}),t.map(V=>d.jsx("option",{value:V.code,children:V.name},V.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"daira",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.daira")}),d.jsxs("select",{id:"daira",value:P,onChange:me,required:!0,disabled:!k,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-white focus:outline-none focus:ring-green-500 focus:border-green-500",children:[d.jsx("option",{value:"",children:i("signup.selectDaira")}),z.map(V=>d.jsx("option",{value:V.name,children:V.name},V.id))]})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"commune",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.commune")}),d.jsxs("select",{id:"commune",value:U,onChange:V=>O(V.target.value),required:!0,disabled:!P,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-white focus:outline-none focus:ring-green-500 focus:border-green-500",children:[d.jsx("option",{value:"",children:i("signup.selectCommune")}),B.map(V=>d.jsx("option",{value:V.name,children:V.name},V.id))]})]})]}):d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"genericState",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.state")}),d.jsx("input",{type:"text",id:"genericState",value:K,onChange:V=>X(V.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:i("signup.statePlaceholder")})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"genericCity",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.city")}),d.jsx("input",{type:"text",id:"genericCity",value:J,onChange:V=>ne(V.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:i("signup.cityPlaceholder")})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"street",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.street")}),d.jsx("input",{type:"text",id:"street",value:S,onChange:V=>R(V.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:i("signup.streetPlaceholder")})]})]}),d.jsx("button",{type:"submit",disabled:Y||r,className:"w-full bg-green-600 text-white p-3 rounded-lg font-bold hover:bg-green-700 transition-colors disabled:bg-gray-400",children:i(Y?"signup.creatingButton":"signup.createButton")})]}),d.jsxs("p",{className:"text-center text-gray-600 mt-6",children:[i("signup.haveAccount")," ",d.jsx(tn,{to:`/${s}/login`,className:"text-green-600 hover:underline font-semibold",children:i("signup.loginHere")})]})]})})},wM=()=>{const{user:t}=Ar(),{cafes:e}=rn(),{useCafeChatManager:n}=Jf(),{totalUnreadCount:r}=n(),i=e.find(l=>l.id===(t==null?void 0:t.cafeId)),s="flex items-center gap-3 px-4 py-3 rounded-lg transition-colors",a="bg-green-600 text-white",o="text-gray-600 hover:bg-green-100 hover:text-green-800";return d.jsxs("aside",{className:"w-64 bg-white shadow-md flex flex-col p-4 rounded-lg",children:[d.jsxs("div",{className:"text-center border-b pb-4 mb-4",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-800",children:(i==null?void 0:i.name)||" "}),d.jsx("p",{className:"text-sm text-gray-500",children:t==null?void 0:t.email})]}),d.jsxs("nav",{className:"flex flex-col gap-2",children:[d.jsxs(Xn,{to:"",end:!0,className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),d.jsx("span",{children:" "})]}),d.jsxs(Xn,{to:"pending-jobs",className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),d.jsx("span",{children:" "})]}),d.jsx(Xn,{to:"chat",className:({isActive:l})=>`${s} ${l?a:o}`,children:d.jsxs("div",{className:"flex justify-between items-center w-full",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(QI,{className:"h-5 w-5"}),d.jsx("span",{children:""})]}),r>0&&d.jsx("span",{className:"bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:r})]})}),d.jsxs(Xn,{to:"generate",className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),d.jsx("span",{children:" "})]}),d.jsxs(Xn,{to:"excel-studio",className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsx(S$,{className:"h-5 w-5"}),d.jsx("span",{children:" "})]}),d.jsxs(Xn,{to:"document-studio",className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsx(ZI,{className:"h-5 w-5"}),d.jsx("span",{children:" "})]}),d.jsxs(Xn,{to:"multi-person-job",className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),d.jsx("span",{children:"  "})]}),d.jsxs(Xn,{to:"clients",className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),d.jsx("span",{children:" "})]}),d.jsxs(Xn,{to:"settings",className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0 3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826 3.31 2.37-2.37.996.608 2.296.096 2.572-1.065z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),d.jsx("span",{children:""})]}),d.jsxs(Xn,{to:"billing",className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),d.jsx("span",{children:" "})]})]})]})},xge=()=>{const{user:t,resendVerificationEmail:e}=Ar(),[n,r]=q.useState(!1),[i,s]=q.useState(""),[a,o]=q.useState(!1),l=async()=>{o(!0),s("");try{await e(),r(!0),setTimeout(()=>r(!1),5e3)}catch(c){s(c.message||"Failed to send email.")}o(!1)};return!t||t.emailVerified?null:d.jsxs("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 rounded-md shadow-md",role:"alert",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(pw,{className:"h-6 w-6 mr-3"}),d.jsxs("div",{className:"flex-grow",children:[d.jsx("p",{className:"font-bold",children:"    "}),d.jsxs("p",{className:"text-sm",children:["     .        ",d.jsx("strong",{className:"font-mono",children:t.email}),"."]})]}),n?d.jsxs("div",{className:"flex items-center text-green-600 ml-auto flex-shrink-0",children:[d.jsx(E$,{className:"mr-2"}),d.jsx("span",{className:"font-semibold",children:" !"})]}):d.jsx("button",{onClick:l,disabled:a,className:"ml-auto flex-shrink-0 bg-yellow-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-yellow-600 transition-colors disabled:opacity-50",children:a?" ...":"   "})]}),i&&d.jsx("p",{className:"text-red-600 text-sm mt-2",children:i})]})},TM="1.0",_ge="document-templates-v1",K$=q.createContext(void 0),bge=({children:t})=>{const[e,n]=q.useState(!0),[r,i]=q.useState(!1),[s,a]=q.useState(""),[o,l]=q.useState(null);q.useEffect(()=>{(async()=>{try{const f=await Ps("offlineMetadata","syncStatus");f&&f.version===TM?n(!0):n(!1)}catch(f){console.error("Could not check offline status, assuming not ready.",f),n(!1)}})()},[]);const c=q.useCallback(async()=>{i(!0),l(null),a(" ...");try{a("   ...");const[u,f,h,p,v]=await Promise.all([Uy(),Dp.getAll(),Zd.getAll(),hm.getAll(),N_()]);a("     ..."),await Promise.all([Di("fullDocuments",u),Di("staticDocuments",f),Di("sites",h),Di("baseTemplates",p),gr("siteSettings",{...v,id:"main"})]),a("   ...");const g=u.map(b=>b.finalTemplateUrl).filter(b=>!!b);await(await caches.open(_ge)).addAll(g),a("  ..."),await gr("offlineMetadata",{id:"syncStatus",version:TM,lastUpdated:new Date().toISOString()}),n(!0)}catch(u){console.error("Offline sync failed:",u);let f="     .";u instanceof Error&&(u.message.includes("404")?f="    ( 404).      .        .":u.message.toLowerCase().includes("failed to fetch")?f="  .     .":f=u.message),l(f)}finally{i(!1),a("")}},[]);return d.jsx(K$.Provider,{value:{isOfflineReady:e,isSyncing:r,syncProgress:s,syncError:o,startSync:c},children:t})},wge=()=>{const t=q.useContext(K$);if(t===void 0)throw new Error("useOfflineSync must be used within an OfflineSyncProvider");return t},Tge=()=>{const{isOfflineReady:t,isSyncing:e,syncProgress:n,syncError:r,startSync:i}=wge(),[s,a]=q.useState(sessionStorage.getItem("offlineSyncDismissed")==="true"),o=()=>{sessionStorage.setItem("offlineSyncDismissed","true"),a(!0)};return t||s?null:d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-[100] flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg text-center p-8 space-y-4 relative",children:[d.jsx("button",{onClick:o,className:"absolute top-3 right-3 text-gray-400 hover:text-gray-600 p-2","aria-label":"",children:d.jsx(Nf,{size:20})}),d.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"   "}),d.jsx("p",{className:"text-gray-600",children:"            .      ."}),e?d.jsxs("div",{className:"space-y-3 pt-4",children:[d.jsx(St,{className:"animate-spin text-4xl text-green-600 mx-auto"}),d.jsx("p",{className:"font-semibold text-green-700",children:n||" ..."})]}):d.jsxs("div",{className:"pt-4",children:[r&&d.jsxs("div",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4 flex items-center text-right gap-2",children:[d.jsx(pw,{className:"flex-shrink-0"}),d.jsxs("span",{children:[": ",r]})]}),d.jsxs("button",{onClick:i,className:"w-full flex items-center justify-center gap-3 bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition-colors",children:[d.jsx(Du,{}),d.jsx("span",{children:r?"  ":"    "})]})]})]})})},Ege=()=>{const[t,e]=q.useState(!0),n=()=>{sessionStorage.setItem("extensionNotificationDismissed","true"),e(!1)};return t?d.jsxs("div",{className:"bg-blue-100 border-l-4 border-blue-500 text-blue-800 p-4 rounded-md shadow-md relative mb-6 animate-fadeIn",role:"alert",children:[d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"py-1",children:d.jsx(Du,{className:"h-6 w-6 text-blue-500 ml-4 rtl:ml-0 rtl:mr-4"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold",children:"    "}),d.jsxs("p",{className:"text-sm",children:["          .",d.jsx("a",{href:"https://files.gitut.com/data/add-on/gitut.zip",target:"_blank",rel:"noopener noreferrer",className:"font-semibold underline mr-2 rtl:mr-0 rtl:ml-2 hover:text-blue-600",children:"  "}),"."]})]})]}),d.jsx("button",{onClick:n,className:"absolute top-0 bottom-0 left-0 px-4 py-3 rtl:left-auto rtl:right-0","aria-label":"",children:d.jsx(Nf,{className:"h-5 w-5 text-blue-500 hover:text-blue-700"})})]}):null},Cge=()=>d.jsx("div",{className:"flex items-center justify-center h-full min-h-[50vh]",children:d.jsxs("div",{className:"max-w-2xl text-center p-8",children:[d.jsx(T$,{className:"text-5xl text-yellow-500 mx-auto mb-4"}),d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"   !"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"   Gitut.                 ."}),d.jsxs(tn,{to:"settings",className:"inline-flex items-center justify-center gap-2 bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700 transition-colors text-lg",children:[d.jsx(JI,{}),d.jsx("span",{children:"     "})]})]})}),Sge=()=>{const{loadFullDocuments:t,cafes:e,loading:n}=rn(),{user:r,refetchUser:i}=Ar(),s=Dr(),a=s.pathname.includes("document-studio")||s.pathname.includes("excel-studio"),o=s.pathname.endsWith("/settings"),[l,c]=q.useState(!1),u=ml.useMemo(()=>e.find(h=>h.id===(r==null?void 0:r.cafeId)),[e,r]);q.useEffect(()=>{t()},[t]),q.useEffect(()=>{i()},[i]),q.useEffect(()=>{let h=!1;const p=g=>{var y,b;g.source===window&&((y=g.data)==null?void 0:y.source)==="gitut-extension"&&((b=g.data)==null?void 0:b.type)==="pong"&&(h=!0,c(!1),window.removeEventListener("message",p))};window.addEventListener("message",p),window.postMessage({source:"gitut-webapp",type:"ping"},"*");const v=setTimeout(()=>{h||sessionStorage.getItem("extensionNotificationDismissed")||c(!0)},1500);return()=>{clearTimeout(v),window.removeEventListener("message",p)}},[]);const f=u&&!u.isProfilePublished&&!o;return n?d.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-start",children:[d.jsx(wM,{}),d.jsx("main",{className:"flex-1 w-full flex items-center justify-center p-10 h-[60vh]",children:d.jsx(St,{className:"animate-spin text-4xl text-green-600"})})]}):d.jsxs(d.Fragment,{children:[d.jsx(Tge,{}),d.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-start",children:[d.jsx(wM,{}),d.jsxs("main",{className:"flex-1 w-full space-y-6",children:[l&&d.jsx(Ege,{}),d.jsx(xge,{}),d.jsx("div",{className:`bg-white rounded-lg shadow-lg ${a?"p-0 h-[85vh] overflow-hidden":"p-6 min-h-[60vh]"}`,children:f?d.jsx(Cge,{}):d.jsx(bN,{})})]})]})]})},mC=t=>t?t.replace(/[]/g,"").replace(//g,"").toLowerCase():"",Dge=()=>{const{documents:t,staticDocuments:e,sites:n}=rn(),[r,i]=q.useState("");bi();const[s,a]=q.useState(!1),o=q.useRef(null),l=window.SpeechRecognition||window.webkitSpeechRecognition,c=!!l,[u,f]=q.useState(!1),h=q.useMemo(()=>[...t.map(g=>({item:g,type:"doc"})),...e.map(g=>({item:g,type:"staticDoc"})),...n.filter(g=>g.type==="template").map(g=>({item:g,type:"site"}))],[t,e,n]),p=q.useMemo(()=>{if(!r.trim())return[];const g=mC(r);return h.filter(({item:y})=>mC(y.name).includes(g)||"description"in y&&y.description&&mC(y.description).includes(g))},[r,h]);q.useEffect(()=>{if(!c)return;const g=new l;return g.continuous=!1,g.interimResults=!1,g.lang="ar-SA",g.onresult=y=>{const b=y.results[0][0].transcript;i(b)},g.onerror=y=>{console.error("Speech recognition error",y.error)},g.onend=()=>{a(!1)},o.current=g,()=>{o.current&&o.current.abort()}},[c]);const v=()=>{var g,y;if(!c){alert("     .");return}s?(g=o.current)==null||g.stop():((y=o.current)==null||y.start(),a(!0))};return d.jsxs("div",{className:"relative w-full max-w-2xl mx-auto mb-6",children:[d.jsxs("form",{onSubmit:g=>g.preventDefault(),className:"relative",children:[d.jsx(W4,{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"    ...",value:r,onChange:g=>i(g.target.value),onFocus:()=>f(!0),onBlur:()=>setTimeout(()=>f(!1),200),className:"w-full p-3 pl-12 pr-12 bg-white border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-green-500"}),c&&d.jsx("button",{type:"button",onClick:v,title:" ",className:`absolute left-3 top-1/2 -translate-y-1/2 p-2 rounded-full transition-colors ${s?"bg-red-500 text-white animate-pulse":"text-gray-600 hover:bg-gray-100"}`,children:d.jsx(mc,{})})]}),u&&p.length>0&&d.jsx("ul",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-gray-300 rounded-lg shadow-lg z-30 max-h-80 overflow-y-auto",children:p.map(({item:g,type:y})=>{let b="",_={},w=V4;const C="description"in g?g.description:g.url||"";return y==="doc"?(b="/app/generate",_={selectedDocId:g.id},w=V4):y==="site"?(b=`/app/fill-site/${g.id}`,w=P_):y==="staticDoc"&&(b=`/app/view-pdf/${g.id}`,w=mw),d.jsx("li",{children:d.jsxs(tn,{to:b,state:_,className:"flex items-center gap-3 px-4 py-3 hover:bg-green-50",children:[d.jsx(w,{className:"h-5 w-5 text-gray-500 flex-shrink-0"}),d.jsxs("div",{className:"flex-grow overflow-hidden",children:[d.jsx("p",{className:"font-semibold text-gray-800 truncate",children:g.name}),d.jsx("p",{className:"text-sm text-gray-500 truncate",children:C})]})]})},`${y}-${g.id}`)})})]})},Age=({isOpen:t,onClose:e,cafeName:n,numericId:r})=>{if(!t)return null;const i=()=>{window.print()};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-sm relative",children:[d.jsx("div",{className:"p-6",children:d.jsxs("div",{id:"printable-id",className:"text-center p-4",children:[d.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:n}),r?d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"mb-4 text-gray-600",children:"    :"}),d.jsx("p",{className:"text-6xl font-bold text-green-600 tracking-widest bg-gray-100 p-4 rounded-lg",children:r}),d.jsx("p",{className:"mt-4 text-gray-500 text-sm",children:"       ."})]}):d.jsx("p",{className:"text-lg text-gray-500 my-8",children:"     ."})]})}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-between items-center",children:[d.jsxs("button",{onClick:i,disabled:!r,className:"flex items-center gap-2 bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed",children:[d.jsx(gw,{}),d.jsx("span",{children:""})]}),d.jsx("button",{onClick:e,className:"bg-red-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-600",children:""})]})]})})},Nge=()=>{const{user:t}=Ar(),{documents:e,sites:n,cafes:r,siteSettings:i,loading:s}=rn(),[a,o]=q.useState([]),[l,c]=q.useState(null),[u,f]=q.useState(!0),[h,p]=q.useState(!1),v=q.useMemo(()=>t!=null&&t.cafeId?e.filter(_=>!_.cafeId||_.cafeId===t.cafeId):[],[e,t]);if(q.useEffect(()=>{(async()=>{if(!(t!=null&&t.cafeId)||s){!s&&!(t!=null&&t.cafeId)&&f(!1);return}f(!0);let w=r.find(C=>C.id===t.cafeId)||null;if(!w)try{w=await $I(t.cafeId)}catch(C){console.error("Failed to fetch cafe details directly:",C)}c(w);try{const S=(await dm.collection("jobs").where("cafeId","==",t.cafeId).orderBy("createdAt","desc").get()).docs.map(R=>({id:R.id,...R.data()}));o(S)}catch(C){console.error("Failed to fetch dashboard data from Firestore:",C)}finally{f(!1)}})()},[t,r,s]),s||u)return d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(St,{className:"animate-spin text-4xl text-green-600"})});if(!l)return d.jsxs("div",{className:"flex flex-col items-center justify-center p-10 text-center",children:[d.jsx("h2",{className:"text-xl font-bold text-red-600 mb-2",children:" "}),d.jsx("p",{className:"text-gray-700",children:"        ."}),d.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"       ."})]});const g=a.filter(_=>_.status==="Pending").length,y=(t==null?void 0:t.credits.currency)==="DZD"?t.credits.amount<50:t.credits.amount<5,b=y?{bg:"bg-red-100",text:"text-red-800",valueText:"text-red-900 font-mono",linkText:"text-red-700"}:{bg:"bg-green-100",text:"text-green-800",valueText:"text-green-900 font-mono",linkText:"text-green-700"};return d.jsxs("div",{className:"space-y-8",children:[t&&l&&d.jsx(Age,{isOpen:h,onClose:()=>p(!1),cafeName:l.name,numericId:l.numericId}),d.jsx(Dge,{}),d.jsx(rc,{placement:"DASHBOARD_TOP"}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:" "}),d.jsx("p",{className:"text-gray-500",children:"       ."})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[d.jsxs("div",{className:"bg-gray-200 p-6 rounded-lg shadow-sm",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:" "}),d.jsx("p",{className:"text-4xl font-bold text-gray-900",children:g}),d.jsx(tn,{to:"pending-jobs",className:"text-gray-700 hover:underline mt-4 inline-block font-semibold",children:"   "})]}),d.jsxs("div",{className:"bg-gray-200 p-6 rounded-lg shadow-sm",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:" "}),d.jsx("p",{className:"text-4xl font-bold text-gray-900",children:v.length}),d.jsx(tn,{to:"generate",className:"text-gray-700 hover:underline mt-4 inline-block font-semibold",children:"  "})]}),d.jsxs("div",{className:`${b.bg} p-6 rounded-lg shadow-sm`,children:[d.jsx("h2",{className:`text-lg font-semibold ${b.text} mb-2`,children:" "}),d.jsxs("p",{className:`text-3xl font-bold ${b.valueText}`,children:[t==null?void 0:t.credits.amount.toLocaleString("en-US",{minimumFractionDigits:t.credits.currency==="USD"?2:0}),d.jsxs("span",{className:"text-xl",children:[" ",(t==null?void 0:t.credits.currency)==="DZD"?"":"$"]})]}),d.jsxs(tn,{to:"billing",className:`${b.linkText} hover:underline mt-4 inline-block font-semibold`,children:[y?"  ":" "," "]})]}),d.jsxs("div",{className:"bg-gray-700 text-white p-6 rounded-lg shadow-sm flex flex-col justify-center items-center",children:[d.jsx("h2",{className:"text-lg font-semibold mb-2",children:"   "}),d.jsx("p",{className:"text-sm text-center text-gray-300 mb-3",children:"       ."}),d.jsxs("button",{onClick:()=>p(!0),className:"w-full bg-white text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors flex items-center justify-center gap-2",children:[d.jsx(jme,{}),d.jsx("span",{children:"  "})]})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:" "}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:v.map(_=>d.jsxs(tn,{to:"generate",state:{selectedDocId:_.id},className:"block text-right p-4 border rounded-lg transition-all duration-200 bg-white hover:bg-green-50 hover:shadow-md hover:border-green-400",children:[d.jsx("h3",{className:"font-bold text-lg text-gray-800",children:_.name}),d.jsx("p",{className:"text-gray-600 text-sm mt-1 line-clamp-2",dangerouslySetInnerHTML:{__html:_.description}})]},_.id))})]}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:" "}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(_=>{const w="block text-right p-4 border rounded-lg transition-all duration-200 bg-white hover:bg-green-50 hover:shadow-md hover:border-green-400",C=d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-lg text-gray-800",children:_.name}),d.jsx("p",{className:"text-gray-500 text-sm mt-1",children:_.type==="static"?"  ":`  : ${_.url}`})]})]});return _.type==="template"?d.jsx(tn,{to:`fill-site/${_.id}`,className:w,children:C},_.id):d.jsx("a",{href:_.url,target:"_blank",rel:"noopener noreferrer",className:w,children:C},_.id)})})]})]})]})},Ige='<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="2"><circle cx="50" cy="50" r="50" fill="#ccc"/><g><path d="M50 62.5c-10.3 0-18.75 8.45-18.75 18.75V87.5h37.5v-6.25c0-10.3-8.45-18.75-18.75-18.75z" fill="#fff"/><path d="M50 25c-6.9 0-12.5 5.6-12.5 12.5S43.1 50 50 50s12.5-5.6 12.5-12.5S56.9 25 50 25z" fill="#fff"/></g></svg>',kge=`data:image/svg+xml;base64,${btoa(Ige)}`,Rge=async(t,e)=>{try{const n=`Translate the following HTML content to ${e}. Keep the HTML structure and tags intact, only translate the text nodes. HTML: ${t}`,r=$$({model:"gem-2.5-flash",contents:n});let i="";for await(const s of r)i+=s;return i}catch(n){throw console.error("Translation via service failed:",n),new Error("Failed to translate document content.")}},Oy=async(t,e,n,r)=>{try{let i;for(let c=t.length-1;c>=0;c--){const u=t[c];if(u.id===e||u.slug===e||u.name===e){i=u;break}}let s="";if(r.templateType==="final"){if(i!=null&&i.finalTemplateHtml)s=i.finalTemplateHtml;else if(i!=null&&i.finalTemplateUrl){const c=await fetch(gi(i.finalTemplateUrl));if(!c.ok)throw new Error(`Could not fetch final template from ${gi(i.finalTemplateUrl)}`);s=await c.text()}}else if(i!=null&&i.previewTemplateHtml)s=i.previewTemplateHtml;else if(i!=null&&i.previewTemplateUrl){const c=await fetch(gi(i.previewTemplateUrl));if(!c.ok)throw new Error(`Could not fetch preview template from ${gi(i.previewTemplateUrl)}`);s=await c.text()}s||(console.error(`Template type '${r.templateType}' for document '${(i==null?void 0:i.name)||e}' not found. This is likely because the template data is not available to public users.`),s=`
                <!DOCTYPE html>
                <html lang="ar" dir="rtl">
                <head>
                    <title>   </title>
                    <style>
                        body { font-family: 'Cairo', sans-serif; padding: 2rem; text-align: center; color: #333; }
                        .container { max-width: 600px; margin: auto; padding: 2rem; border: 1px solid #eee; border-radius: 8px; background-color: #f9f9f9; }
                        h1 { color: #d9534f; }
                    </style>
                </head>
                <body>
                    <div class="container">
                        <h1>   </h1>
                        <p>         "${(i==null?void 0:i.name)||e}".</p>
                        <p>            .        .</p>
                    </div>
                </body></html>
            `),r.targetLang!=="ar"&&!s.includes("<h1>   </h1>")&&(s=await Rge(s,r.targetLang));const o=new Date().toLocaleDateString("ar-DZ",{day:"2-digit",month:"2-digit",year:"numeric"});if(s=s.replace(/\[DateToday\]/g,o),s.includes("[profilePicture]")){const u=`<img src="${n.profilePicture?gi(n.profilePicture):kge}" alt="Profile Picture" style="width: 120px; height: 120px; border-radius: 50%; object-fit: cover; border: 3px solid #eee;">`;s=s.replace(/\[profilePicture\]/g,u)}if(Object.keys(n).forEach(c=>{if(c!=="profilePicture"){const u=new RegExp(`\\[${c}\\]`,"g");s=s.replace(u,n[c]||"")}}),Object.keys(Zr).forEach(c=>{const u=c;if(!n.hasOwnProperty(u)){const f=new RegExp(`\\[${u}\\]`,"g");s=s.replace(f,"")}}),s=s.replace(/\[[^\]]+\]/g,""),r.action==="download"){const c=document.createElement("div");c.style.width="794px",c.style.padding="20px",c.style.position="absolute",c.style.left="-9999px",c.innerHTML=s,document.body.appendChild(c),await html2canvas(c,{scale:2}).then(u=>{const f=u.toDataURL("image/png"),{jsPDF:h}=jspdf,p=new h({orientation:"portrait",unit:"pt",format:"a4"}),v=p.internal.pageSize.getWidth(),g=p.internal.pageSize.getHeight(),y=u.width,b=u.height,_=y/b,w=v/g;let C,S;_>w?(C=v,S=v/_):(S=g,C=g*_),p.addImage(f,"PNG",0,0,C,S);const R=`${(i==null?void 0:i.slug)||e}.pdf`;p.save(R)}),document.body.removeChild(c);return}const l=window.open("","_blank");l?(l.document.write(s),l.document.close(),l.onload=function(){l.focus(),r.action==="print"&&l.print()}):alert("     .")}catch(i){throw console.error("Error generating document:",i),alert(`    : ${i.message}.`),i}},Pge=()=>{const{user:t}=Ar(),{fullDocuments:e,loadingFullDocuments:n}=rn(),[r,i]=q.useState([]),[s,a]=q.useState(!0),[o,l]=q.useState(null),[c,u]=q.useState(!1),[f,h]=q.useState(!1),[p,v]=q.useState("");q.useEffect(()=>{if(!(t!=null&&t.cafeId)){a(!1);return}let _=!0;const w=new Map,C=()=>{if(_){const k=Array.from(w.values()).sort((F,P)=>P.createdAt-F.createdAt);i(k)}};(async()=>{a(!0);try{(await er("jobs")).filter(P=>P.cafeId===t.cafeId).forEach(P=>w.set(P.id,P)),C()}catch(k){console.error("Failed to load jobs from IndexedDB",k)}finally{_&&a(!1)}})();const D=dm.collection("jobs").where("cafeId","==",t.cafeId).orderBy("createdAt","desc").onSnapshot(k=>{k.docs.forEach(F=>{const P={id:F.id,...F.data()};w.set(P.id,P)}),C()},k=>{console.error("Firestore listener error:",k)});let N;if(Kn){const k=Kn.get("jobs").get(t.cafeId),F=(P,I)=>{if(P&&typeof P=="object"&&!w.has(I)){console.log(`Optimistically adding P2P job from Gun: ${I}`);const U={...P,id:I,documentIds:typeof P.documentIds=="string"?JSON.parse(P.documentIds):P.documentIds,visitorData:typeof P.visitorData=="string"?JSON.parse(P.visitorData):P.visitorData};w.set(U.id,U),C()}};k.map().on(F),N=()=>k.off()}return()=>{_=!1,D(),N&&N()}},[t]);const g=async(_,w)=>{if(!(!_.audioRecordingUrl&&!_.transcribedText)){h(!0),v("");try{const C=new Set;_.documentIds.forEach(I=>{const U=e.find(O=>O.id===I);U==null||U.requiredFields.forEach(O=>C.add(O))});const S=Array.from(C).map(I=>{var U;return(U=Zr[I])==null?void 0:U.label}).filter(Boolean),R={};C.forEach(I=>{R[I]={type:"STRING",description:Zr[I].label}});const D={type:"OBJECT",properties:R};let N;if(_.transcribedText)N={transcribedText:_.transcribedText};else if(_.audioRecordingUrl){const U=await(await fetch(gi(_.audioRecordingUrl))).blob(),O=new FileReader;N={audioBase64:await new Promise(X=>{O.onloadend=()=>X(O.result.split(",")[1]),O.readAsDataURL(U)})}}else throw new Error("No data (audio or text) available to process.");const k=await uge(N,D,S),F={..._.visitorData,...k},P={..._,visitorData:F};if(await gr("jobs",P),i(I=>I.map(U=>U.id===_.id?P:U)),l(P),w==="open"||w==="print"){u(!0);for(const I of P.documentIds)await Oy(e,I,P.visitorData,{action:w,targetLang:"ar",templateType:"final"});await y(_.id,P),u(!1)}}catch(C){console.error("Data processing failed:",C),C instanceof Error?v(C.message):v("   .")}finally{h(!1)}}},y=async(_,w)=>{const C=w||r.find(S=>S.id===_);if(C){u(!0);try{if(!w){alert(`  .    ${C.documentIds.length} () .`);for(const D of C.documentIds)await Oy(e,D,C.visitorData,{action:"print",targetLang:"ar",templateType:"final"})}const{id:S,...R}=C;await fme(S,{...R,status:"Completed"}),await Af("jobs",_),i(D=>D.map(N=>N.id===_?{...N,status:"Completed"}:N)),l(D=>D&&D.id===_?{...D,status:"Completed"}:D)}catch(S){console.error("Failed to complete job:",S),alert("   .")}finally{u(!1)}}},b=_=>{switch(_){case"Pending":return d.jsx("span",{className:"px-3 py-1 text-xs font-semibold text-yellow-800 bg-yellow-200 rounded-full",children:""});case"Completed":return d.jsx("span",{className:"px-3 py-1 text-xs font-semibold text-green-800 bg-green-200 rounded-full",children:""});case"Cancelled":return d.jsx("span",{className:"px-3 py-1 text-xs font-semibold text-red-800 bg-red-200 rounded-full",children:""})}};return n||s?d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(St,{className:"animate-spin text-4xl text-green-600"})}):d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:" "}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 items-start",children:[d.jsxs("div",{className:"lg:col-span-1 bg-gray-50 rounded-lg p-4 border max-h-[70vh] overflow-y-auto",children:[d.jsxs("h2",{className:"font-bold text-lg mb-3",children:["  (",r.length,")"]}),r.length>0?d.jsx("div",{className:"space-y-3",children:r.map(_=>d.jsxs("button",{onClick:()=>l(_),className:`w-full text-right p-3 rounded-lg border-2 transition-colors ${(o==null?void 0:o.id)===_.id?"bg-green-100 border-green-500":"bg-white hover:bg-gray-100 border-transparent"}`,children:[d.jsxs("div",{className:"flex justify-between items-center mb-1",children:[d.jsxs("p",{className:"font-bold text-gray-800 flex items-center gap-2",children:[_.audioRecordingUrl&&d.jsx(R$,{className:"text-blue-500"}),d.jsx("span",{children:_.visitorData.fullName||""})]}),b(_.status)]}),d.jsx("p",{className:"text-sm text-gray-500",children:new Date(_.createdAt).toLocaleString("ar-DZ")})]},_.id))}):d.jsx("p",{className:"text-gray-500 text-center py-4",children:"   ."})]}),d.jsx("div",{className:"lg:col-span-2 bg-white rounded-lg p-6 border shadow-sm",children:o?d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-start mb-4 pb-4 border-b",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[" : ",o.id]}),d.jsxs("p",{className:"text-gray-500",children:[": ",d.jsx("span",{className:"font-semibold text-gray-700",children:o.visitorData.fullName})]})]}),b(o.status)]}),(o.audioRecordingUrl||o.transcribedText)&&!o.visitorData.birthdaydate&&d.jsxs("div",{className:"bg-blue-50 border border-blue-200 p-4 rounded-lg mb-4 space-y-3",children:[d.jsx("h3",{className:"font-bold text-lg text-blue-800",children:"  "}),o.audioRecordingUrl&&d.jsx("audio",{controls:!0,src:gi(o.audioRecordingUrl),className:"w-full"}),o.transcribedText&&d.jsxs("div",{className:"bg-white p-3 rounded-md border border-blue-100",children:[d.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"    :"}),d.jsx("p",{className:"text-gray-600 whitespace-pre-wrap",children:o.transcribedText})]}),f&&d.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[d.jsx(St,{className:"animate-spin"}),d.jsx("span",{children:"    ..."})]}),p&&d.jsx("p",{className:"text-sm text-red-600",children:p}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2 pt-2",children:[d.jsxs("button",{onClick:()=>g(o,"edit"),disabled:f,className:"flex items-center justify-center gap-2 p-2 bg-yellow-500 text-white font-semibold rounded-md hover:bg-yellow-600 disabled:bg-gray-400",children:[d.jsx(hw,{})," ",d.jsx("span",{children:" "})]}),d.jsxs("button",{onClick:()=>g(o,"open"),disabled:f,className:"flex items-center justify-center gap-2 p-2 bg-blue-500 text-white font-semibold rounded-md hover:bg-blue-600 disabled:bg-gray-400",children:[d.jsx(Lme,{})," ",d.jsx("span",{children:" "})]}),d.jsxs("button",{onClick:()=>g(o,"print"),disabled:f,className:"flex items-center justify-center gap-2 p-2 bg-green-500 text-white font-semibold rounded-md hover:bg-green-600 disabled:bg-gray-400",children:[d.jsx(gw,{})," ",d.jsx("span",{children:" "})]})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-lg mb-2",children:" :"}),d.jsx("ul",{className:"list-disc list-inside space-y-1 text-gray-700",children:o.documentIds.map(_=>{const w=e.find(C=>C.id===_);return d.jsx("li",{children:(w==null?void 0:w.name)||"  "},_)})})]}),o.visitorData.birthdaydate&&d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-lg mb-2",children:" :"}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-2 text-sm bg-gray-50 p-4 rounded-md",children:Object.entries(o.visitorData).map(([_,w])=>{const C=Zr[_];return(C==null?void 0:C.type)==="file"?d.jsxs("div",{className:"sm:col-span-2",children:[d.jsxs("strong",{className:"text-gray-500",children:[C.label,": "]}),d.jsx("img",{src:gi(w),alt:" ",className:"mt-1 h-24 w-24 rounded-md object-cover border"})]},_):d.jsxs("div",{children:[d.jsxs("strong",{className:"text-gray-500",children:[(C==null?void 0:C.label)||_,": "]}),d.jsx("span",{className:"text-gray-800",children:String(w)})]},_)})})]}),o.status==="Pending"&&o.visitorData.birthdaydate&&d.jsx("button",{onClick:()=>y(o.id),disabled:c,className:"w-full mt-6 bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition-colors disabled:bg-green-400 disabled:cursor-not-allowed",children:c?"  ...":"    "})]})]}):d.jsxs("div",{className:"text-center py-20",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})}),d.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"   "}),d.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"       ."})]})})]})]})},Fge=({onClose:t,onCapture:e})=>{const n=q.useRef(null),r=q.useRef(null),i=q.useRef(null),[s,a]=q.useState(null);q.useEffect(()=>((async()=>{a(null);try{const c=await navigator.mediaDevices.getUserMedia({video:{width:480,height:480,facingMode:"environment"}});i.current=c,n.current&&(n.current.srcObject=c)}catch(c){console.error("Error accessing camera:",c),c instanceof DOMException&&(c.name==="NotAllowedError"||c.name==="PermissionDeniedError")?a("    .      ."):a("    .          .")}})(),()=>{i.current&&i.current.getTracks().forEach(c=>c.stop())}),[]);const o=()=>{if(n.current&&r.current){const l=n.current,c=r.current;c.width=l.videoWidth,c.height=l.videoHeight;const u=c.getContext("2d");u==null||u.drawImage(l,0,0,c.width,c.height);const f=c.toDataURL("image/jpeg");e(f),t()}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg p-4 max-w-lg w-full",children:[d.jsx("h3",{className:"text-xl font-bold mb-4 text-center",children:"   "}),d.jsxs("div",{className:"relative aspect-video bg-gray-900 rounded-md overflow-hidden flex items-center justify-center",children:[s?d.jsxs("div",{className:"p-4 text-center text-white",children:[d.jsx("p",{className:"font-semibold text-red-400",children:"  "}),d.jsx("p",{className:"text-sm mt-2",children:s})]}):d.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),d.jsx("canvas",{ref:r,className:"hidden"})]}),d.jsxs("div",{className:"mt-4 flex justify-center gap-4",children:[d.jsx("button",{type:"button",onClick:o,disabled:!!s,className:"bg-green-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:""}),d.jsx("button",{type:"button",onClick:t,className:"bg-red-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-600",children:""})]})]})})},Mge=({onDataExtracted:t})=>{const[e,n]=q.useState(!1),[r,i]=q.useState(!1),[s,a]=q.useState(null),o=q.useRef(null),[l,c]=q.useState(!1),u=p=>{var g;const v=(g=p.target.files)==null?void 0:g[0];if(v){const y=new FileReader;y.onloadend=()=>{const _=y.result.split(",")[1];h(_,v.type)},y.readAsDataURL(v)}},f=p=>{var b;const v=p.split(","),g=((b=v[0].match(/:(.*?);/))==null?void 0:b[1])||"image/jpeg",y=v[1];h(y,g)},h=async(p,v)=>{i(!0),a(null);try{const b=await nk(p,v,{type:"OBJECT",properties:{lastName:{type:"STRING",description:"Last name"},firstName:{type:"STRING",description:"First name"},dateOfBirth:{type:"STRING",description:"Date of birth in YYYY-MM-DD format"},placeOfBirth:{type:"STRING",description:"Place of birth"},nationalId:{type:"STRING",description:"18-digit national ID number"},birthCertificateNumber:{type:"STRING",description:"Birth certificate number"},socialSecurityNumber:{type:"STRING",description:"Social security number"},nationality:{type:"STRING",description:"Nationality"},maritalStatus:{type:"STRING",description:"Marital status (e.g., single, married)"}}},"From the provided image of an official Algerian document (such as a National ID card '  ', a birth certificate ' ', or a Chifa social security card ' '), extract the following fields if present: lastName, firstName, dateOfBirth (YYYY-MM-DD), placeOfBirth, nationalId (18 digits), birthCertificateNumber, socialSecurityNumber (from the Chifa card or other documents), nationality, maritalStatus. Omit any fields not found in the image.");if(Object.keys(b).length===0)throw new Error("The model did not return any data. The document might be unclear or not supported.");const _=`${b.firstName||""} ${b.lastName||""}`.trim();t({fullName:_||void 0,dob:b.dateOfBirth,pob:b.placeOfBirth,nationalId:b.nationalId,birthCertificateNumber:b.birthCertificateNumber,socialSecurityNumber:b.socialSecurityNumber,nationality:b.nationality,maritalStatus:b.maritalStatus})}catch(g){console.error("Error processing ID card:",g);const y=g instanceof Error?g.message:"An unknown error occurred.";a(`    . ${y}`)}finally{i(!1),o.current&&(o.current.value="")}};return d.jsxs("div",{className:"space-y-3 p-3 bg-gray-100 rounded-md border my-4",children:[l&&d.jsx(Fge,{onClose:()=>c(!1),onCapture:f}),d.jsxs("label",{htmlFor:"id-scanner-toggle",className:"flex items-center gap-2 cursor-pointer text-gray-700",children:[d.jsx("input",{type:"checkbox",id:"id-scanner-toggle",checked:e,onChange:p=>n(p.target.checked),className:"h-4 w-4 rounded border-gray-300 text-green-600 focus:ring-green-500"}),d.jsx(A$,{className:"text-gray-600"}),d.jsx("span",{children:"    "})]}),e&&d.jsxs("div",{className:"pl-6 space-y-2",children:[d.jsx("input",{type:"file",ref:o,onChange:u,accept:"image/*",className:"hidden"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{type:"button",onClick:()=>{var p;return(p=o.current)==null?void 0:p.click()},disabled:r,className:"flex-1 flex items-center justify-center gap-2 bg-white border border-gray-300 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-50 transition-colors disabled:bg-gray-200 disabled:cursor-wait",children:r?d.jsxs(d.Fragment,{children:[d.jsx(St,{className:"animate-spin"}),d.jsx("span",{children:" ..."})]}):d.jsxs(d.Fragment,{children:[d.jsx(Sl,{}),d.jsx("span",{children:"  "})]})}),d.jsx("button",{type:"button",onClick:()=>c(!0),disabled:r,className:"flex-1 flex items-center justify-center gap-2 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-200 disabled:cursor-wait",children:r?d.jsxs(d.Fragment,{children:[d.jsx(St,{className:"animate-spin"}),d.jsx("span",{children:" ..."})]}):d.jsxs(d.Fragment,{children:[d.jsx(Vm,{}),d.jsx("span",{children:" "})]})})]}),s&&d.jsx("p",{className:"text-red-600 text-sm mt-2",children:s})]})]})},Uge=t=>{const e=new Map;t.forEach(r=>{e.has(r.groupId)||e.set(r.groupId,[]),e.get(r.groupId).push(r)});const n=[];for(const r of e.values())r.sort((i,s)=>i.id.localeCompare(s.id)),n.push(r[0]);return n},Oge=()=>{const{siteSettings:t,fullDocuments:e,loadingFullDocuments:n,loading:r}=rn(),i=Dr(),s=bi(),{user:a,updateUserCredits:o}=Ar(),{t:l}=aa(),[c,u]=q.useState(null),[f,h]=q.useState({}),[p,v]=q.useState(!1),[g,y]=q.useState(!0),[b,_]=q.useState(""),[w,C]=q.useState([]),[S,R]=q.useState(0),[D,N]=q.useState(!1),[k,F]=q.useState(!1),[P,I]=q.useState("idle"),[U,O]=q.useState(null);q.useRef(null),q.useRef("");const[K,X]=q.useState("");q.useRef(null),q.useRef([]);const[J,ne]=q.useState(""),[z,Q]=q.useState(1),B=q.useMemo(()=>{const Pe=e.filter(me=>!me.cafeId||me.cafeId===(a==null?void 0:a.cafeId));return Uge(Pe)},[e,a]);q.useEffect(()=>{var me;const Pe=(me=i.state)==null?void 0:me.selectedDocId;if(Pe&&!c&&e.length>0){const je=e.find(V=>V.id===Pe);je&&(W(je),s(i.pathname,{replace:!0,state:{}}))}},[i.state,e,c,s]);const j=q.useMemo(()=>c?c.requiredFields.filter(Pe=>Pe!=="DateToday"):[],[c]);q.useMemo(()=>j.some(Pe=>Pe==="profilePicture"),[j]);const W=Pe=>{const me=e.filter(V=>V.groupId===Pe.groupId).sort((V,ye)=>V.id.localeCompare(ye.id)),je=me.findIndex(V=>V.id===Pe.id);C(me),R(je>=0?je:0),h({}),_(""),N(!1),F(!1)};q.useEffect(()=>{(async()=>{if(w.length>0){const me=w[S];if(u(me),_(""),me.previewTemplateHtml)_(me.previewTemplateHtml);else if(me.previewTemplateUrl)try{const je=await fetch(me.previewTemplateUrl);je.ok?_(await je.text()):_('<p class="text-center p-8 text-gray-500">   .</p>')}catch{_('<p class="text-center p-8 text-red-500">  .</p>')}else _('<p class="text-center p-8 text-gray-500">   .</p>')}})()},[w,S]);const G=()=>R(Pe=>(Pe+1)%w.length),Y=()=>R(Pe=>(Pe-1+w.length)%w.length),ee=async Pe=>{if(!Pe){ae("profilePicture","");return}v(!0);try{const me=await O$(Pe,"profile.jpg"),je=await fm(me);ae("profilePicture",je)}catch{ne("  .")}finally{v(!1)}},ae=(Pe,me)=>{h(je=>({...je,[Pe]:me}))},de=async Pe=>{if(!c||!a||!t)return;const me=a.credits.currency==="USD"?t.pricing.dynamicDocument.usd:t.pricing.dynamicDocument.dzd,je=a.credits.currency==="USD"?"$":"";if(a.credits.amount<me){alert(`  .    ${me} ${je}   ${a.credits.amount} ${je}.`),s(`/${a.countryCode}/app/billing`);return}v(!0);const V=a.credits.amount;try{await Oy(e,c.id,f,{action:Pe,targetLang:"ar",templateType:"final"})}catch(be){console.error("Document generation failed:",be),v(!1),alert("  .     .");return}const ye=V-me;o(ye);try{await Zpe({id:Date.now(),amount:me,currency:a.credits.currency}),alert(`    ${me} ${je}  .  : ${ye.toFixed(2)} ${je}.`)}catch(be){if(console.error("Failed to queue credit deduction:",be),navigator.onLine)try{await GI(a,me)}catch{alert(":       .   .")}else alert(":       .   .")}u(null),h({}),C([]),v(!1)};if(n||r)return d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(St,{className:"animate-spin text-4xl text-green-600"})});const fe=(a==null?void 0:a.credits.currency)==="USD"?t==null?void 0:t.pricing.dynamicDocument.usd:t==null?void 0:t.pricing.dynamicDocument.dzd,De=(a==null?void 0:a.credits.currency)==="USD"?"$":"";return c?d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 items-start",children:[d.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:[": ",c.name]}),d.jsxs("p",{className:"text-gray-600",children:[": ",d.jsxs("span",{className:"font-bold font-mono",children:[fe," ",De]})]})]}),d.jsx("button",{onClick:()=>{u(null),_(""),C([])},className:"text-sm bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:"   "})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4 border relative",children:[d.jsx("h3",{className:"font-semibold text-lg text-gray-800 mb-2",children:" "}),w.length>1&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:Y,className:"absolute right-3 top-1/2 -translate-y-1/2 z-10 bg-black bg-opacity-40 text-white p-2 rounded-full",children:d.jsx(fw,{})}),d.jsx("button",{onClick:G,className:"absolute left-3 top-1/2 -translate-y-1/2 z-10 bg-black bg-opacity-40 text-white p-2 rounded-full",children:d.jsx(dw,{})}),d.jsxs("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 z-10 bg-black bg-opacity-50 text-white text-sm px-3 py-1 rounded-full",children:[S+1," / ",w.length]})]}),d.jsx("iframe",{srcDoc:b,title:"Document Preview",className:"w-full h-[70vh] border rounded-md bg-white"})]})]}),d.jsx("div",{className:"lg:col-span-1 space-y-4 lg:sticky lg:top-8",children:d.jsxs("div",{className:"bg-white p-6 rounded-lg border shadow-sm",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:" "}),d.jsx(Mge,{onDataExtracted:Pe=>h(me=>({...me,...Pe}))}),d.jsx("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:j.map(Pe=>{var le,he,_e;const je=Object.prototype.hasOwnProperty.call(Zr,Pe)?Zr[Pe]:null,V=(le=c==null?void 0:c.fieldCustomizations)==null?void 0:le[Pe],ye=((he=c==null?void 0:c.questions)==null?void 0:he[Pe])||(V==null?void 0:V.customQuestion)||(je?l(je.label):Pe),be=(V==null?void 0:V.type)||(je==null?void 0:je.type)||"text",oe=je?l(je.placeholder):"",re=(V==null?void 0:V.options)||(je==null?void 0:je.options);if(be==="select"&&re)return d.jsxs("div",{children:[d.jsx("label",{htmlFor:Pe,className:"block text-sm font-medium text-gray-700 mb-1",children:ye}),d.jsxs("select",{id:Pe,name:Pe,value:f[Pe]||"",onChange:ie=>ae(ie.target.name,ie.target.value),className:"w-full p-2 border rounded-md bg-white",required:!0,children:[d.jsx("option",{value:"",children:"--  --"}),V!=null&&V.options?V.options.map(ie=>d.jsx("option",{value:ie,children:ie},ie)):(_e=je==null?void 0:je.options)==null?void 0:_e.map(ie=>d.jsx("option",{value:ie.value,children:l(ie.label)},ie.value))]})]},Pe);if(be==="multiselect"&&re){const ie=f[Pe]?f[Pe].split(","):[],ce=(ge,ve)=>{const Se=ve?[...ie,ge]:ie.filter(Oe=>Oe!==ge);ae(Pe,Se.filter(Boolean).join(","))};return d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:ye}),d.jsx("div",{className:"p-3 border rounded-md space-y-2 bg-gray-50",children:re.map(ge=>d.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[d.jsx("input",{type:"checkbox",value:ge,checked:ie.includes(ge),onChange:ve=>ce(ge,ve.target.checked),className:"h-4 w-4 text-green-600 border-gray-300 rounded focus:ring-green-500"}),d.jsx("span",{className:"text-gray-800",children:ge})]},ge))})]},Pe)}return d.jsxs("div",{children:[d.jsx("label",{htmlFor:Pe,className:"block text-sm font-medium text-gray-700 mb-1",children:ye}),be==="file"?d.jsx(jv,{value:f[Pe]||"",onChange:ie=>ee(ie)}):d.jsx("input",{type:be,id:Pe,name:Pe,value:f[Pe]||"",onChange:ie=>ae(ie.target.name,ie.target.value),placeholder:oe,className:"w-full p-2 border rounded-md",required:!0})]},Pe)})}),d.jsxs("div",{className:"mt-6 pt-4 border-t space-y-2",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{id:"saveClient",type:"checkbox",checked:g,onChange:Pe=>y(Pe.target.checked),className:"h-4 w-4 text-green-600 border-gray-300 rounded focus:ring-green-500"}),d.jsx("label",{htmlFor:"saveClient",className:"mr-2 block text-sm text-gray-900",children:"    "})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>de("open"),disabled:p,className:"flex-1 bg-blue-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-700 disabled:bg-blue-400",children:p?d.jsx(St,{className:"animate-spin mx-auto"}):""}),d.jsx("button",{onClick:()=>de("print"),disabled:p,className:"flex-1 bg-green-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-green-700 disabled:bg-green-400",children:p?d.jsx(St,{className:"animate-spin mx-auto"}):""})]})]})]})})]}):d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"  "}),d.jsx("p",{className:"text-gray-600 mb-6",children:" 1:       ."}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:B.map(Pe=>d.jsxs("button",{onClick:()=>W(Pe),className:"text-right p-6 border rounded-lg transition-all duration-200 bg-white hover:bg-green-50 hover:shadow-md hover:border-green-400 focus:outline-none focus:ring-2 focus:ring-green-500",children:[d.jsx("h3",{className:"font-bold text-xl text-gray-800",children:Pe.name}),d.jsx("p",{className:"text-gray-600 mt-1 line-clamp-2",dangerouslySetInnerHTML:{__html:Pe.description}})]},Pe.id))})]})},Lge=({children:t})=>{const{user:e,loading:n}=Ar(),{countryCode:r}=ia();return n?d.jsx("div",{className:"flex justify-center items-center h-screen",children:d.jsx(St,{className:"animate-spin text-4xl text-green-600"})}):!e||!e.emailVerified?d.jsx(fp,{to:`/${r||"dz"}/login`,replace:!0}):t};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X$="firebasestorage.googleapis.com",J$="storageBucket",jge=120*1e3,Bge=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends ps{constructor(e,n,r=0){super(gC(e),`Firebase Storage: ${n} (${gC(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Gr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return gC(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var qr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(qr||(qr={}));function gC(t){return"storage/"+t}function rk(){const t="An unknown error occurred, please check the error payload for server response.";return new Gr(qr.UNKNOWN,t)}function Vge(t){return new Gr(qr.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Wge(t){return new Gr(qr.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function qge(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Gr(qr.UNAUTHENTICATED,t)}function zge(){return new Gr(qr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Hge(t){return new Gr(qr.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function $ge(){return new Gr(qr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Gge(){return new Gr(qr.CANCELED,"User canceled the upload/download.")}function Kge(t){return new Gr(qr.INVALID_URL,"Invalid URL '"+t+"'.")}function Xge(t){return new Gr(qr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Jge(){return new Gr(qr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+J$+"' property when initializing the app?")}function Yge(){return new Gr(qr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Qge(){return new Gr(qr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Zge(t){return new Gr(qr.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function z4(t){return new Gr(qr.INVALID_ARGUMENT,t)}function Y$(){return new Gr(qr.APP_DELETED,"The Firebase app was deleted.")}function e0e(t){return new Gr(qr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function q0(t,e){return new Gr(qr.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Kg(t){throw new Gr(qr.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ea.makeFromUrl(e,n)}catch{return new Ea(e,"")}if(r.path==="")return r;throw Xge(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const a="(/(.*))?$",o=new RegExp("^gs://"+i+a,"i"),l={bucket:1,path:3};function c(C){C.path_=decodeURIComponent(C.path)}const u="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${u}/b/${i}/o${h}`,"i"),v={bucket:1,path:3},g=n===X$?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",b=new RegExp(`^https?://${g}/${i}/${y}`,"i"),w=[{regex:o,indices:l,postModify:s},{regex:p,indices:v,postModify:c},{regex:b,indices:{bucket:1,path:2},postModify:c}];for(let C=0;C<w.length;C++){const S=w[C],R=S.regex.exec(e);if(R){const D=R[S.indices.bucket];let N=R[S.indices.path];N||(N=""),r=new Ea(D,N),S.postModify(r);break}}if(r==null)throw Kge(e);return r}}class t0e{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0e(t,e,n){let r=1,i=null,s=null,a=!1,o=0;function l(){return o===2}let c=!1;function u(...y){c||(c=!0,e.apply(null,y))}function f(y){i=setTimeout(()=>{i=null,t(p,l())},y)}function h(){s&&clearTimeout(s)}function p(y,...b){if(c){h();return}if(y){h(),u.call(null,y,...b);return}if(l()||a){h(),u.call(null,y,...b);return}r<64&&(r*=2);let w;o===1?(o=2,w=0):w=(r+Math.random())*1e3,f(w)}let v=!1;function g(y){v||(v=!0,h(),!c&&(i!==null?(y||(o=2),clearTimeout(i),f(0)):y||(o=1)))}return f(0),s=setTimeout(()=>{a=!0,g(!0)},n),g}function r0e(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0e(t){return t!==void 0}function s0e(t){return typeof t=="object"&&!Array.isArray(t)}function ik(t){return typeof t=="string"||t instanceof String}function EM(t){return sk()&&t instanceof Blob}function sk(){return typeof Blob<"u"}function CM(t,e,n,r){if(r<e)throw z4(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw z4(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Q$(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var af;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(af||(af={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0e(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0e{constructor(e,n,r,i,s,a,o,l,c,u,f,h=!0,p=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=o,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=f,this.retry=h,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,g)=>{this.resolve_=v,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Tx(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=o=>{const l=o.loaded,c=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const o=s.getErrorCode()===af.NO_ERROR,l=s.getStatus();if(!o||a0e(l,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===af.ABORT;r(!1,new Tx(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Tx(c,s))})},n=(r,i)=>{const s=this.resolve_,a=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());i0e(l)?s(l):s()}catch(l){a(l)}else if(o!==null){const l=rk();l.serverResponse=o.getErrorText(),this.errorCallback_?a(this.errorCallback_(o,l)):a(l)}else if(i.canceled){const l=this.appDelete_?Y$():Gge();a(l)}else{const l=$ge();a(l)}};this.canceled_?n(!1,new Tx(!1,null,!0)):this.backoffId_=n0e(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&r0e(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Tx{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function l0e(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function c0e(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function u0e(t,e){e&&(t["X-Firebase-GMPID"]=e)}function d0e(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function f0e(t,e,n,r,i,s,a=!0,o=!1){const l=Q$(t.urlParams),c=t.url+l,u=Object.assign({},t.headers);return u0e(u,e),l0e(u,n),c0e(u,s),d0e(u,r),new o0e(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0e(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function p0e(...t){const e=h0e();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(sk())return new Blob(t);throw new Gr(qr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function m0e(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0e(t){if(typeof atob>"u")throw Zge("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class yC{constructor(e,n){this.data=e,this.contentType=n||null}}function y0e(t,e){switch(t){case hl.RAW:return new yC(Z$(e));case hl.BASE64:case hl.BASE64URL:return new yC(eG(t,e));case hl.DATA_URL:return new yC(x0e(e),_0e(e))}throw rk()}function Z$(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,a=t.charCodeAt(++n);r=65536|(s&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function v0e(t){let e;try{e=decodeURIComponent(t)}catch{throw q0(hl.DATA_URL,"Malformed data URL.")}return Z$(e)}function eG(t,e){switch(t){case hl.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw q0(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case hl.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw q0(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=g0e(e)}catch(i){throw i.message.includes("polyfill")?i:q0(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class tG{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw q0(hl.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=b0e(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function x0e(t){const e=new tG(t);return e.base64?eG(hl.BASE64,e.rest):v0e(e.rest)}function _0e(t){return new tG(t).contentType}function b0e(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n){let r=0,i="";EM(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(EM(this.data_)){const r=this.data_,i=m0e(r,e,n);return i===null?null:new lu(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new lu(r,!0)}}static getBlob(...e){if(sk()){const n=e.map(r=>r instanceof lu?r.data_:r);return new lu(p0e.apply(null,n))}else{const n=e.map(a=>ik(a)?y0e(hl.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(a=>{for(let o=0;o<a.length;o++)i[s++]=a[o]}),new lu(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nG(t){let e;try{e=JSON.parse(t)}catch{return null}return s0e(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0e(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function T0e(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function rG(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0e(t,e){return e}class Ss{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||E0e}}let Ex=null;function C0e(t){return!ik(t)||t.length<2?t:rG(t)}function iG(){if(Ex)return Ex;const t=[];t.push(new Ss("bucket")),t.push(new Ss("generation")),t.push(new Ss("metageneration")),t.push(new Ss("name","fullPath",!0));function e(s,a){return C0e(a)}const n=new Ss("name");n.xform=e,t.push(n);function r(s,a){return a!==void 0?Number(a):a}const i=new Ss("size");return i.xform=r,t.push(i),t.push(new Ss("timeCreated")),t.push(new Ss("updated")),t.push(new Ss("md5Hash",null,!0)),t.push(new Ss("cacheControl",null,!0)),t.push(new Ss("contentDisposition",null,!0)),t.push(new Ss("contentEncoding",null,!0)),t.push(new Ss("contentLanguage",null,!0)),t.push(new Ss("contentType",null,!0)),t.push(new Ss("metadata","customMetadata",!0)),Ex=t,Ex}function S0e(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Ea(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function D0e(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const a=n[s];r[a.local]=a.xform(r,e[a.server])}return S0e(r,t),r}function sG(t,e,n){const r=nG(e);return r===null?null:D0e(t,r,n)}function A0e(t,e,n,r){const i=nG(e);if(i===null||!ik(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const a=encodeURIComponent;return s.split(",").map(c=>{const u=t.bucket,f=t.fullPath,h="/b/"+a(u)+"/o/"+a(f),p=ak(h,n,r),v=Q$({alt:"media",token:c});return p+v})[0]}function N0e(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class aG{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oG(t){if(!t)throw rk()}function I0e(t,e){function n(r,i){const s=sG(t,i,e);return oG(s!==null),s}return n}function k0e(t,e){function n(r,i){const s=sG(t,i,e);return oG(s!==null),A0e(s,i,t.host,t._protocol)}return n}function lG(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=zge():i=qge():n.getStatus()===402?i=Wge(t.bucket):n.getStatus()===403?i=Hge(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function R0e(t){const e=lG(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=Vge(t.path)),s.serverResponse=i.serverResponse,s}return n}function P0e(t,e,n){const r=e.fullServerUrl(),i=ak(r,t.host,t._protocol),s="GET",a=t.maxOperationRetryTime,o=new aG(i,s,k0e(t,n),a);return o.errorHandler=R0e(e),o}function F0e(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function M0e(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=F0e(null,e)),r}function U0e(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function o(){let w="";for(let C=0;C<2;C++)w=w+Math.random().toString().slice(2);return w}const l=o();a["Content-Type"]="multipart/related; boundary="+l;const c=M0e(e,r,i),u=N0e(c,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=lu.getBlob(f,r,h);if(p===null)throw Yge();const v={name:c.fullPath},g=ak(s,t.host,t._protocol),y="POST",b=t.maxUploadRetryTime,_=new aG(g,y,I0e(t,n),b);return _.urlParams=v,_.headers=a,_.body=p.uploadData(),_.errorHandler=lG(e),_}class O0e{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=af.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=af.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=af.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,s){if(this.sent_)throw Kg("cannot .send() more than once");if(Dl(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const a in s)s.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,s[a].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Kg("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Kg("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Kg("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Kg("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class L0e extends O0e{initXhr(){this.xhr_.responseType="text"}}function cG(){return new L0e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,n){this._service=e,n instanceof Ea?this._location=n:this._location=Ea.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new If(e,n)}get root(){const e=new Ea(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return rG(this._location.path)}get storage(){return this._service}get parent(){const e=w0e(this._location.path);if(e===null)return null;const n=new Ea(this._location.bucket,e);return new If(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw e0e(e)}}function j0e(t,e,n){t._throwIfRoot("uploadBytes");const r=U0e(t.storage,t._location,iG(),new lu(e,!0),n);return t.storage.makeRequestWithTokens(r,cG).then(i=>({metadata:i,ref:t}))}function B0e(t){t._throwIfRoot("getDownloadURL");const e=P0e(t.storage,t._location,iG());return t.storage.makeRequestWithTokens(e,cG).then(n=>{if(n===null)throw Qge();return n})}function V0e(t,e){const n=T0e(t._location.path,e),r=new Ea(t._location.bucket,n);return new If(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0e(t){return/^[A-Za-z]+:\/\//.test(t)}function q0e(t,e){return new If(t,e)}function uG(t,e){if(t instanceof ok){const n=t;if(n._bucket==null)throw Jge();const r=new If(n,n._bucket);return e!=null?uG(r,e):r}else return e!==void 0?V0e(t,e):t}function z0e(t,e){if(e&&W0e(e)){if(t instanceof ok)return q0e(t,e);throw z4("To use ref(service, url), the first argument must be a Storage instance.")}else return uG(t,e)}function SM(t,e){const n=e==null?void 0:e[J$];return n==null?null:Ea.makeFromBucketSpec(n,t)}function H0e(t,e,n,r={}){t.host=`${e}:${n}`;const i=Dl(e);i&&(ab(`https://${t.host}/b`),ob("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:DN(s,t.app.options.projectId))}class ok{constructor(e,n,r,i,s,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=a,this._bucket=null,this._host=X$,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=jge,this._maxUploadRetryTime=Bge,this._requests=new Set,i!=null?this._bucket=Ea.makeFromBucketSpec(i,this._host):this._bucket=SM(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ea.makeFromBucketSpec(this._url,e):this._bucket=SM(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){CM("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){CM("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ir(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new If(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new t0e(Y$());{const a=f0e(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const DM="@firebase/storage",AM="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dG="storage";function $0e(t,e,n){return t=kt(t),j0e(t,e,n)}function G0e(t){return t=kt(t),B0e(t)}function K0e(t,e){return t=kt(t),z0e(t,e)}function X0e(t=QB(),e){t=kt(t);const r=RN(t,dG).getImmediate({identifier:e}),i=Xee("storage");return i&&J0e(r,...i),r}function J0e(t,e,n,r={}){H0e(t,e,n,r)}function Y0e(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new ok(n,r,i,e,Al)}function Q0e(){_l(new Ms(dG,Y0e,"PUBLIC").setMultipleInstances(!0)),ks(DM,AM,""),ks(DM,AM,"esm2020")}Q0e();const Z0e=()=>{var k;const{user:t}=Ar(),{cafes:e,siteSettings:n,loading:r,refetchCafes:i}=rn(),[s,a]=q.useState(void 0),[o,l]=q.useState(!0),[c,u]=q.useState({name:"",owner:"",street:"",city:"",state:"",description:"",googleMapsUrl:"",latitude:void 0,longitude:void 0,geminiApiKey:"",phone:"",imageUrl:"",coverImageUrl:"",facebook:"",instagram:"",twitter:"",formFillMode:"ai",speechToTextLanguage:"ar-SA",isProfilePublished:!1}),[f,h]=q.useState(""),[p,v]=q.useState(!1),[g,y]=q.useState(!1),[b,_]=q.useState(!1),[w,C]=q.useState("");q.useEffect(()=>{(async()=>{var I,U,O;if(r)return;if(!(t!=null&&t.cafeId)){l(!1);return}l(!0);let P=e.find(K=>K.id===t.cafeId);if(!P){console.warn("Cafe not found in public list, fetching directly...");try{P=await $I(t.cafeId)||void 0}catch(K){console.error("Failed to fetch cafe details directly:",K),P=void 0}}a(P),P&&u({name:P.name,owner:P.owner,street:P.address.street,city:P.address.city||"",state:P.address.state||"",description:P.description,googleMapsUrl:P.googleMapsUrl||"",latitude:P.address.latitude,longitude:P.address.longitude,geminiApiKey:P.geminiApiKey||"",phone:P.phone||"",imageUrl:P.imageUrl||"",coverImageUrl:P.coverImageUrl||"",facebook:((I=P.socials)==null?void 0:I.facebook)||"",instagram:((U=P.socials)==null?void 0:U.instagram)||"",twitter:((O=P.socials)==null?void 0:O.twitter)||"",formFillMode:P.formFillMode||"ai",speechToTextLanguage:P.speechToTextLanguage||"ar-SA",isProfilePublished:P.isProfilePublished||!1}),l(!1)})()},[t,e,r]);const S=async F=>{if(!F){u(P=>({...P,imageUrl:""}));return}if(!s){C("       .");return}_(!0),C("");try{const P=X0e(),I=K0e(P,`cafe-profiles/${s.id}/${Date.now()}.jpg`),U=await O$(F,"profile.jpg","image/jpeg"),O=await $0e(I,U),K=await G0e(O.ref);u(X=>({...X,imageUrl:K}))}catch(P){console.error("Error uploading profile image to Firebase Storage:",P),C("  .    .")}finally{_(!1)}},R=F=>{const{name:P,value:I,type:U}=F.target;if(U==="checkbox"){const{checked:O}=F.target;u(K=>({...K,[P]:O}))}else u(O=>({...O,[P]:I}))},D=()=>{if(!navigator.geolocation){alert("     .");return}v(!0),navigator.geolocation.getCurrentPosition(F=>{const{latitude:P,longitude:I}=F.coords;u(U=>({...U,latitude:P,longitude:I,googleMapsUrl:`https://www.google.com/maps?q=${P},${I}`})),v(!1)},F=>{console.error("Geolocation error:",F.message||F),alert(`    : ${F.message}`),v(!1)})},N=async F=>{if(F.preventDefault(),!!s){y(!0),h("");try{const P={name:c.name,owner:c.owner,description:c.description,googleMapsUrl:c.googleMapsUrl,geminiApiKey:c.geminiApiKey,phone:c.phone,imageUrl:c.imageUrl,coverImageUrl:c.coverImageUrl,formFillMode:c.formFillMode,speechToTextLanguage:c.speechToTextLanguage,isProfilePublished:c.isProfilePublished,address:{...s.address,street:c.street,city:c.city,state:c.state,latitude:c.latitude,longitude:c.longitude},socials:{facebook:c.facebook,instagram:c.instagram,twitter:c.twitter}};await cme(s.id,P),h("   !"),await i()}catch(P){console.error("Error saving settings:",P),alert("    .")}finally{setTimeout(()=>h(""),5e3),y(!1)}}};return o?d.jsxs("div",{className:"flex flex-col items-center justify-center p-10 text-center",children:[d.jsx(St,{className:"animate-spin text-4xl text-green-600 mb-4"}),d.jsx("p",{className:"text-gray-600",children:"   ..."})]}):s?d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:" "}),s&&!s.isProfilePublished&&d.jsxs("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-800 p-4 rounded-md mb-6 flex items-start gap-3",role:"alert",children:[d.jsx(T$,{className:"h-6 w-6 flex-shrink-0 mt-1"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold",children:"   !"}),d.jsx("p",{className:"text-sm",children:'   "  "    " "       .'})]})]}),f&&d.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-md relative mb-6",role:"alert",children:d.jsx("span",{className:"block sm:inline",children:f})}),d.jsxs("form",{onSubmit:N,className:"space-y-8 bg-white p-8 rounded-lg border",children:[d.jsxs("fieldset",{className:"border p-4 rounded-md bg-green-50 border-green-300",children:[d.jsx("legend",{className:"px-2 font-semibold text-lg text-green-800",children:"  "}),d.jsxs("div",{className:"mt-2 space-y-2",children:[d.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-2",children:[d.jsx("input",{type:"checkbox",name:"isProfilePublished",checked:c.isProfilePublished,onChange:R,className:"h-5 w-5 rounded border-gray-300 text-green-600 focus:ring-green-500"}),d.jsx("span",{className:"font-medium text-gray-800",children:c.isProfilePublished?"    ":"   "})]}),d.jsx("p",{className:"text-xs text-gray-600 px-2",children:"              .        ."})]})]}),d.jsxs("div",{className:"border-b pb-6",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:"   "}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),d.jsx("input",{type:"text",name:"name",id:"name",value:c.name,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"owner",className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),d.jsx("input",{type:"text",name:"owner",id:"owner",value:c.owner,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"tel",name:"phone",id:"phone",value:c.phone,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),d.jsx("div",{className:"mt-1 flex justify-start p-4 border-2 border-gray-300 border-dashed rounded-md",children:d.jsx(jv,{value:gi(c.imageUrl),onChange:S})}),b&&d.jsxs("p",{className:"text-sm text-blue-600 mt-2 flex items-center gap-2",children:[d.jsx(St,{className:"animate-spin"}),"   ..."]}),w&&d.jsx("p",{className:"text-sm text-red-600 mt-2",children:w})]})]})]}),d.jsxs("div",{className:"border-b pb-6",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:" "}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4",children:[d.jsxs("div",{className:"md:col-span-2 space-y-4",children:[s.countryCode!=="dz"&&d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700 mb-1",children:" / "}),d.jsx("input",{type:"text",name:"state",id:"state",value:c.state,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-1",children:""}),d.jsx("input",{type:"text",name:"city",id:"city",value:c.city,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"street",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",name:"street",id:"street",value:c.street,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"}),s.countryCode==="dz"&&d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[": ",s.address.commune,", ",s.address.daira,", ",s.address.wilaya,".",d.jsx("br",{}),"      ."]})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"googleMapsUrl",className:"block text-sm font-medium text-gray-700 mb-1",children:"    "}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[d.jsx("input",{type:"url",name:"googleMapsUrl",id:"googleMapsUrl",value:c.googleMapsUrl,onChange:R,placeholder:"https://maps.app.goo.gl/...",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"}),d.jsx("button",{type:"button",onClick:D,disabled:p,className:"flex-shrink-0 bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors disabled:opacity-50 disabled:cursor-wait",children:p?"... ":"  "})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"    Google Maps       ."})]})]})]}),d.jsxs("div",{className:"border-b pb-6",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:"  "}),d.jsxs("div",{className:"mt-4 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"coverImageUrl",className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),d.jsx("input",{type:"url",name:"coverImageUrl",id:"coverImageUrl",value:c.coverImageUrl,onChange:R,placeholder:"https://example.com/cover.jpg",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:" ( )"}),d.jsx("textarea",{name:"description",id:"description",rows:4,value:c.description,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"           ."})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"facebook",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"url",name:"facebook",id:"facebook",value:c.facebook,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"instagram",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"url",name:"instagram",id:"instagram",value:c.instagram,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"twitter",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"url",name:"twitter",id:"twitter",value:c.twitter,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]})]})]})]}),d.jsxs("fieldset",{className:"border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-lg text-gray-700",children:" "}),d.jsxs("div",{className:"mt-2 space-y-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"    "}),d.jsxs("div",{className:"flex gap-x-6 gap-y-2 flex-wrap",children:[d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[d.jsx("input",{type:"radio",name:"formFillMode",value:"ai",checked:c.formFillMode==="ai",onChange:F=>u(P=>({...P,formFillMode:F.target.value})),className:"h-4 w-4"}),d.jsx("span",{children:"   ()"})]}),d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[d.jsx("input",{type:"radio",name:"formFillMode",value:"json",checked:c.formFillMode==="json",onChange:F=>u(P=>({...P,formFillMode:F.target.value})),className:"h-4 w-4"}),d.jsx("span",{children:"   JSON ( )"})]})]}),d.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[d.jsx("strong",{children:"  :"}),"    . ",d.jsx("br",{}),d.jsx("strong",{children:"  JSON:"}),"         (          )."]})]}),d.jsxs("div",{className:"mt-4 pt-4 border-t",children:[d.jsx("label",{htmlFor:"speechToTextLanguage",className:"block text-sm font-medium text-gray-700",children:"    "}),d.jsxs("select",{id:"speechToTextLanguage",name:"speechToTextLanguage",value:c.speechToTextLanguage,onChange:F=>u(P=>({...P,speechToTextLanguage:F.target.value})),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm rounded-md bg-white",children:[d.jsx("option",{value:"ar-SA",children:""}),d.jsx("option",{value:"en-US",children:"English"}),d.jsx("option",{value:"fr-FR",children:"Franais"}),d.jsx("option",{value:"de-DE",children:"Deutsch"}),d.jsx("option",{value:"es-ES",children:"Espaol"}),d.jsx("option",{value:"tr-TR",children:"Trke"}),d.jsx("option",{value:"ja-JP",children:""})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"            ."})]})]}),d.jsxs("div",{className:"border-b pb-6",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:" Gemini API"}),d.jsx("div",{className:"mt-4",children:(k=n==null?void 0:n.ai)!=null&&k.useAdminKey?d.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-md text-blue-800",children:[d.jsx("p",{className:"font-semibold",children:"  Gemini API:"}),d.jsx("p",{className:"text-sm",children:"             .       API  ."})]}):d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"geminiApiKey",className:"block text-sm font-medium text-gray-700 mb-1",children:" Gemini API  "}),d.jsx("input",{type:"password",name:"geminiApiKey",id:"geminiApiKey",value:c.geminiApiKey,onChange:R,placeholder:"  Gemini API   ",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),c.geminiApiKey?d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"         .       ."}):d.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-md text-yellow-800 text-sm",children:[d.jsx("strong",{children:":"}),"       API       ."]})]})})]}),d.jsxs("div",{className:"flex justify-between items-center pt-6 border-t mt-8",children:[d.jsx(tn,{to:`/${s.countryCode}/profile/${s.numericId}`,target:"_blank",rel:"noopener noreferrer",className:"bg-gray-100 text-gray-800 font-bold py-2 px-6 rounded-lg hover:bg-gray-200 transition-colors",children:"  "}),d.jsx("button",{type:"submit",disabled:g,className:"bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700 transition-colors disabled:bg-green-400 disabled:cursor-wait",children:g?" ...":" "})]})]})]}):d.jsxs("div",{className:"flex flex-col items-center justify-center p-10 text-center",children:[d.jsx("h2",{className:"text-xl font-bold text-red-600 mb-2",children:" "}),d.jsx("p",{className:"text-gray-700",children:"        ."}),d.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"      .        ."})]})},eye=({onClose:t,onCapture:e})=>{const n=q.useRef(null),r=q.useRef(null),[i,s]=q.useState(null);q.useEffect(()=>((async()=>{s(null);try{const l=await navigator.mediaDevices.getUserMedia({video:{width:1280,height:720,facingMode:"environment"}});r.current=l,n.current&&(n.current.srcObject=l)}catch(l){console.error("Error accessing camera:",l),l instanceof DOMException&&(l.name==="NotAllowedError"||l.name==="PermissionDeniedError")?s("    .      ."):s("    .          .")}})(),()=>{r.current&&r.current.getTracks().forEach(l=>l.stop())}),[]);const a=()=>{if(n.current){const o=document.createElement("canvas");o.width=n.current.videoWidth,o.height=n.current.videoHeight;const l=o.getContext("2d");l==null||l.drawImage(n.current,0,0,o.width,o.height),o.toBlob(c=>{if(c){const u=new File([c],`capture-${Date.now()}.jpg`,{type:"image/jpeg"});e(u)}},"image/jpeg",.95)}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg p-4 max-w-2xl w-full",children:[d.jsx("h3",{className:"text-xl font-bold mb-4 text-center",children:"   "}),d.jsx("div",{className:"relative aspect-video bg-gray-900 rounded-md overflow-hidden flex items-center justify-center",children:i?d.jsxs("div",{className:"p-4 text-center text-white",children:[d.jsx("p",{className:"font-semibold text-red-400",children:"  "}),d.jsx("p",{className:"text-sm mt-2",children:i})]}):d.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"})}),d.jsxs("div",{className:"mt-4 flex justify-center gap-4",children:[d.jsx("button",{type:"button",onClick:a,disabled:!!i,className:"bg-green-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:" "}),d.jsx("button",{type:"button",onClick:t,className:"bg-red-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-600",children:""})]})]})})},tye=({onPeopleAdded:t})=>{const[e,n]=q.useState(!1),[r,i]=q.useState(!1),[s,a]=q.useState(null),[o,l]=q.useState([]),c=q.useRef(null),[u,f]=q.useState(!1),h=y=>{const b=y.target.files;b&&l(_=>[..._,...Array.from(b)])},p=y=>{l(b=>[...b,y])},v=y=>{l(b=>b.filter((_,w)=>w!==y))},g=async()=>{if(o.length===0){alert("     .");return}i(!0),a(null);try{const y=async w=>{try{const C=new FileReader,S=await new Promise(N=>{C.onloadend=()=>N(C.result.split(",")[1]),C.readAsDataURL(w)}),R="From the provided image of an official Algerian document (such as a National ID card '  ', a birth certificate ' ', or a Chifa social security card ' '), extract the following fields if present: lastName, firstName, dateOfBirth (YYYY-MM-DD), placeOfBirth, nationalId (18 digits), birthCertificateNumber, socialSecurityNumber (from the Chifa card or other documents), nationality, maritalStatus. Omit any fields not found in the image.",D={type:"OBJECT",properties:{lastName:{type:"STRING"},firstName:{type:"STRING"},dateOfBirth:{type:"STRING"},placeOfBirth:{type:"STRING"},nationalId:{type:"STRING"},birthCertificateNumber:{type:"STRING"},socialSecurityNumber:{type:"STRING"},nationality:{type:"STRING"},maritalStatus:{type:"STRING"}}};return await nk(S,w.type,D,R)}catch(C){return console.error(`Error processing file ${w.name}:`,C),null}},_=(await Promise.all(o.map(y))).filter(w=>w&&(w.firstName||w.lastName)).map(w=>{const C=`${w.firstName||""} ${w.lastName||""}`.trim();return{name:C,formData:{fullName:C,dob:w.dateOfBirth||"",pob:w.placeOfBirth||"",nationalId:w.nationalId||"",birthCertificateNumber:w.birthCertificateNumber||"",socialSecurityNumber:w.socialSecurityNumber||"",nationality:w.nationality||"",maritalStatus:w.maritalStatus||""}}});if(_.length===0)throw new Error("         .      .");t(_),l([])}catch(y){console.error("Error processing ID cards:",y);const b=y instanceof Error?y.message:"An unknown error occurred.";a(` : ${b}`)}finally{i(!1)}};return d.jsxs("div",{className:"space-y-3 p-3 bg-blue-50 rounded-lg border border-blue-200 my-4",children:[u&&d.jsx(eye,{onClose:()=>f(!1),onCapture:p}),d.jsxs("label",{htmlFor:"id-scanner-toggle",className:"flex items-center gap-2 cursor-pointer text-gray-700",children:[d.jsx("input",{type:"checkbox",id:"id-scanner-toggle",checked:e,onChange:y=>n(y.target.checked),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),d.jsx(A$,{className:"text-gray-600"}),d.jsx("span",{className:"font-semibold",children:"     "})]}),e&&d.jsxs("div",{className:"pl-6 space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[d.jsx("input",{type:"file",ref:c,onChange:h,accept:"image/*",className:"hidden",multiple:!0}),d.jsxs("button",{type:"button",onClick:()=>{var y;return(y=c.current)==null?void 0:y.click()},disabled:r,className:"flex items-center justify-center gap-2 bg-white border border-gray-300 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:[d.jsx(Sl,{}),d.jsx("span",{children:"  "})]}),d.jsxs("button",{type:"button",onClick:()=>f(!0),disabled:r,className:"flex items-center justify-center gap-2 bg-white border border-gray-300 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:[d.jsx(Vm,{}),d.jsx("span",{children:"  "})]})]}),o.length>0&&d.jsxs("div",{children:[d.jsxs("p",{className:"text-sm font-semibold mb-2",children:["  (",o.length,"):"]}),d.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 gap-2",children:o.map((y,b)=>d.jsxs("div",{className:"relative group aspect-square",children:[d.jsx("img",{src:URL.createObjectURL(y),alt:`ID Card ${b+1}`,className:"w-full h-full object-cover rounded-md"}),d.jsx("button",{type:"button",onClick:()=>v(b),className:"absolute top-1 right-1 bg-red-600 text-white p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity text-xs","aria-label":"Remove image",children:d.jsx(Wm,{})})]},b))}),d.jsx("button",{type:"button",onClick:g,disabled:r,className:"w-full mt-4 flex items-center justify-center gap-2 bg-blue-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-blue-400 disabled:cursor-wait",children:r?d.jsxs(d.Fragment,{children:[d.jsx(St,{className:"animate-spin"}),d.jsxs("span",{children:[" ... (",o.length," )"]})]}):d.jsxs(d.Fragment,{children:[d.jsx(Xme,{}),d.jsx("span",{children:"    "})]})})]}),s&&d.jsx("p",{className:"text-red-600 text-sm mt-2",children:s})]})]})},NM=window.SpeechRecognition||window.webkitSpeechRecognition,IM=({value:t,onChange:e,placeholder:n,suggestions:r,onSuggestionClick:i})=>{const[s,a]=q.useState(!1),o=q.useRef(null),l=window.SpeechRecognition||window.webkitSpeechRecognition;q.useEffect(()=>{if(l)return o.current=new l,o.current.continuous=!1,o.current.interimResults=!1,o.current.lang="ar-SA",o.current.onresult=f=>{e(f.results[0][0].transcript)},o.current.onend=()=>a(!1),()=>{var f;return(f=o.current)==null?void 0:f.abort()}},[e,l]);const c=()=>{l&&!s&&(o.current.start(),a(!0))},u=f=>{var h,p;f.stopPropagation(),s?(h=o.current)==null||h.stop():(p=o.current)==null||p.start(),a(v=>!v)};return d.jsxs("div",{className:"relative w-full",children:[d.jsx("input",{type:"text",value:t,onChange:f=>e(f.target.value),onFocus:c,placeholder:n,className:"w-full p-3 pr-10 border rounded-md focus:ring-green-500 bg-gray-700 text-white placeholder-gray-400 border-gray-600 focus:border-green-500"}),l&&d.jsx("button",{type:"button",onClick:u,className:`absolute top-1/2 right-2 -translate-y-1/2 p-2 rounded-full ${s?"text-red-500 animate-pulse":"text-gray-400"}`,children:d.jsx(mc,{})}),r&&r.length>0&&d.jsx("ul",{className:"absolute z-10 w-full mt-1 bg-white border rounded-md shadow-lg max-h-60 overflow-y-auto",children:r.map(f=>d.jsx("li",{onMouseDown:()=>i==null?void 0:i(f),className:"px-4 py-2 cursor-pointer hover:bg-green-50",children:f.name},f.id))})]})},nye=()=>{const{fullDocuments:t,loadingFullDocuments:e,sites:n}=rn(),[r,i]=q.useState([]),[s,a]=q.useState(!1),[o,l]=q.useState(""),[c,u]=q.useState(""),[f,h]=q.useState([]),[p,v]=q.useState(0),[g,y]=q.useState(!1),[b,_]=q.useState(!1),w=q.useRef(null),C=q.useRef(""),[S,R]=q.useState(!1),[D,N]=q.useState(!1),[k,F]=q.useState(""),P=q.useMemo(()=>[...t,...n],[t,n]),I=q.useMemo(()=>{if(!c)return[];const B=c.toLowerCase();return P.filter(j=>j.name.toLowerCase().includes(B))},[c,P]),U=B=>{f.find(j=>j.id===B.id)||h(j=>[...j,B]),u("")},O=B=>{h(j=>j.filter(W=>W.id!==B))},K=()=>{if(!o.trim()||f.length===0){alert("        .");return}const B={id:Date.now(),name:o,documentIds:f.map(j=>j.id),formData:{fullName:o},complexFormData:{},saveClient:!0,isFromClientList:!1};i(j=>[...j,B]),l(""),h([]),u(""),a(!1)},X=r[p];q.useMemo(()=>{if(!X)return[];const B=new Set,j=[];return t.filter(W=>X.documentIds.includes(W.id)).forEach(W=>{W.requiredFields&&W.requiredFields.forEach(G=>{var Y,ee,ae;if(G!=="fullName"&&!B.has(G)){B.add(G);const fe=Object.prototype.hasOwnProperty.call(Zr,G)?Zr[G]:null,De=((Y=W.questions)==null?void 0:Y[G])||((ae=(ee=W.fieldCustomizations)==null?void 0:ee[G])==null?void 0:ae.customQuestion)||(fe==null?void 0:fe.label)||G;j.push({id:G,label:De})}})}),j},[X,t]);const J=q.useCallback(B=>{i(j=>j.map((W,G)=>G===p?{...W,transcribedText:B}:W))},[p]);q.useEffect(()=>{if(!NM)return;w.current=new NM;const B=w.current;return B.continuous=!0,B.interimResults=!0,B.lang="ar-SA",B.onresult=j=>{let W="",G="";for(let ee=j.resultIndex;ee<j.results.length;++ee){const ae=j.results[ee][0].transcript;j.results[ee].isFinal?W+=ae+" ":G+=ae}const Y=(C.current?C.current+" ":"")+W+G;J(Y.trim())},B.onend=()=>_(!1),()=>{var j;return(j=w.current)==null?void 0:j.abort()}},[J]);const ne=()=>{if(k.trim()===""){alert("   .");return}const B={id:Date.now(),name:k,documentIds:[],formData:{},complexFormData:{},saveClient:!0,isFromClientList:!1};i(j=>[...j,B]),F("")},z=B=>i(j=>j.filter(W=>W.id!==B)),Q=(B,j)=>{i(r.map(W=>{if(W.id===B){const G=W.documentIds.includes(j)?W.documentIds.filter(Y=>Y!==j):[...W.documentIds,j];return{...W,documentIds:G}}return W}))};return e?d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(St,{className:"animate-spin text-4xl text-green-600"})}):g?d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("button",{onClick:()=>y(!1),className:"text-sm bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300",children:"   "}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("button",{onClick:()=>v(B=>(B-1+r.length)%r.length),disabled:r.length<=1,className:"p-3 bg-gray-200 rounded-full hover:bg-gray-300 disabled:opacity-50","aria-label":"Previous Person",children:d.jsx(fw,{})}),d.jsxs("span",{className:"font-semibold text-lg text-center",style:{minWidth:"200px"},children:[" ",p+1,"/",r.length,": ",X==null?void 0:X.name]}),d.jsx("button",{onClick:()=>v(B=>(B+1)%r.length),disabled:r.length<=1,className:"p-3 bg-gray-200 rounded-full hover:bg-gray-300 disabled:opacity-50","aria-label":"Next Person",children:d.jsx(dw,{})})]}),d.jsx("div",{})]}),d.jsxs("div",{className:"p-4 bg-gray-50 border rounded-lg",children:[d.jsxs("h3",{className:"text-lg font-bold mb-2",children:[" ",X==null?void 0:X.name]}),d.jsx("div",{className:"text-center text-gray-500 py-8",children:"(     )"})]})]}):d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"  "}),d.jsx("p",{className:"text-gray-600 mb-6",children:" 1:       ."}),d.jsx("div",{className:"space-y-4",children:r.map((B,j)=>d.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200 flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsxs("p",{className:"font-bold text-lg text-green-800",children:[j+1,". ",B.name]}),d.jsxs("p",{className:"text-sm text-green-700",children:[": ",B.documentIds.map(W=>{var G;return(G=P.find(Y=>Y.id===W))==null?void 0:G.name}).join(", ")||"    "]})]}),d.jsx("button",{onClick:()=>i(W=>W.filter(G=>G.id!==B.id)),className:"text-red-500 hover:text-red-700",children:d.jsx(Wm,{})})]},B.id))}),s?d.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg border border-gray-700 mt-4 space-y-3 animate-fadeIn",children:[d.jsx("h3",{className:"font-bold text-white",children:"  "}),d.jsx(IM,{value:o,onChange:l,placeholder:"  ..."}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsx(IM,{value:c,onChange:u,placeholder:"    ...",suggestions:I,onSuggestionClick:U}),d.jsx("button",{onClick:()=>U(I[0]),disabled:!c||I.length===0,className:"bg-gray-600 text-white px-4 rounded-md hover:bg-gray-500 disabled:opacity-50",children:""})]}),d.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:f.map(B=>d.jsxs("div",{className:"flex items-center gap-1 bg-gray-200 rounded-full px-3 py-1 text-sm",children:[d.jsx("span",{children:B.name}),d.jsx("button",{onClick:()=>O(B.id),className:"text-red-500",children:d.jsx(Nf,{size:12})})]},B.id))})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:K,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:" "}),d.jsx("button",{onClick:()=>a(!1),className:"bg-gray-200 text-gray-800 py-2 px-4 rounded-lg hover:bg-gray-300",children:""})]})]}):d.jsxs("button",{onClick:()=>a(!0),className:"mt-4 flex items-center gap-2 bg-blue-600 text-white font-bold py-3 px-5 rounded-lg hover:bg-blue-700",children:[d.jsx(nc,{}),d.jsx("span",{children:" "})]}),d.jsx("div",{className:"mt-8 pt-4 border-t",children:d.jsxs("button",{onClick:()=>{y(!0),v(0)},disabled:r.length===0,className:"w-full bg-green-600 text-white font-bold text-lg py-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:["    ",r.length," "]})}),d.jsxs("details",{className:"mt-8",children:[d.jsx("summary",{className:"cursor-pointer text-gray-600 hover:text-black",children:"  ( )"}),d.jsxs("div",{className:"mt-4 p-4 border rounded-lg bg-gray-50",children:[d.jsx(tye,{onPeopleAdded:()=>{}}),d.jsxs("div",{className:"bg-white p-6 rounded-lg border my-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-3",children:"  ()"}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[d.jsx("input",{type:"text",value:k,onChange:B=>F(B.target.value),placeholder:"  ",className:"flex-grow p-3 border rounded-md"}),d.jsx("button",{onClick:ne,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:" "})]})]}),d.jsx("div",{className:"space-y-6",children:r.map(B=>d.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h2",{className:"text-xl font-bold",children:B.name}),d.jsx("button",{onClick:()=>z(B.id),className:"text-red-500 hover:text-red-700 font-bold px-3 py-1 rounded-md hover:bg-red-100",children:" "})]}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:t.map(j=>d.jsx("button",{onClick:()=>Q(B.id,j.id),className:`p-3 text-sm border rounded-md text-right transition-colors ${B.documentIds.includes(j.id)?"bg-green-100 border-green-500 ring-2 ring-green-400":"bg-white hover:bg-gray-100"}`,children:j.name},j.id))})]},B.id))})]})]})]})},kM=[{amount:2e3,label:"2,000 "},{amount:5e3,label:"5,000 "},{amount:1e4,label:"10,000 "}],rye=2e3,iye=[{amount:10,label:"$10.00"},{amount:50,label:"$50.00"},{amount:100,label:"$100.00"}],sye=10,aye=()=>{const{user:t}=Ar(),{siteSettings:e}=rn(),[n,r]=q.useState([]),[i,s]=q.useState(null),[a,o]=q.useState(!0),[l,c]=q.useState(kM[0].amount),[u,f]=q.useState(""),[h,p]=q.useState(""),[v,g]=q.useState(null),[y,b]=q.useState(0),[_,w]=q.useState(null),[C,S]=q.useState(!1),R=(t==null?void 0:t.countryCode)==="dz",D=R?"DZD":"USD",N=R?"":"$",k=R?kM:iye,F=R?rye:sye,P=q.useMemo(()=>l||parseInt(u)||0,[l,u]);q.useEffect(()=>{(async()=>{if(t){o(!0);try{const[z,Q]=await Promise.all([pme(t.id),hme(t.id)]);r(z),s(Q.find(B=>B.status==="Pending")||null)}catch(z){console.error("Failed to fetch billing data:",z),g({type:"error",message:"    ."})}finally{o(!1)}}})()},[t,y]);const I=ne=>{ne.target.files&&ne.target.files[0]&&w(ne.target.files[0])},U=async()=>{if(!t||!P||P<F){g({type:"error",message:`    ${F} ${N}.`});return}if(!_){g({type:"error",message:"      ."});return}S(!0),g(null);let ne;try{g({type:"success",message:"   ..."}),ne=await fm(_);const z=await fM(t.id,P,D,"CCP",ne);g({type:z.success?"success":"error",message:z.message}),z.success&&(c(null),f(""),w(null),b(Q=>Q+1))}catch(z){console.error("Error creating payment request:",z),g({type:"error",message:"    .    ."})}finally{S(!1)}setTimeout(()=>g(null),5e3)},O=async()=>{if(!t||!(e!=null&&e.payment.paypalEmail)||!P||P<F){g({type:"error",message:`The minimum amount is ${F} ${N}.`});return}const ne=await fM(t.id,P,D,"PayPal");if(!ne.success){g({type:"error",message:ne.message});return}const Q=`https://www.paypal.com/cgi-bin/webscr?${new URLSearchParams({business:e.payment.paypalEmail,item_name:`Gitut Credits for ${t.email}`,amount:P.toFixed(2),currency_code:"USD",no_shipping:"1",return:window.location.href,cancel_return:window.location.href,cmd:"_xclick"}).toString()}`;window.open(Q,"_blank"),b(B=>B+1)},K=ne=>{c(ne),f(""),p("")},X=ne=>{const z=ne.target.value;f(z),c(null),z&&parseInt(z)<F?p(`    ${F} ${N}.`):p("")},J=ne=>{switch(ne){case"Paid":return d.jsx("span",{className:"px-2 py-1 text-xs font-medium text-green-800 bg-green-100 rounded-full",children:""});case"Pending":return d.jsx("span",{className:"px-2 py-1 text-xs font-medium text-yellow-800 bg-yellow-100 rounded-full",children:"  "})}};return a?d.jsx("div",{children:"   ..."}):t?d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:" "}),v&&d.jsx("div",{className:`p-4 mb-4 rounded-md ${v.type==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:v.message}),d.jsxs("div",{className:"bg-white p-6 rounded-lg border shadow-sm mb-8",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:" "}),d.jsxs("div",{className:"text-5xl font-bold text-green-600 font-mono",children:[t.credits.amount.toLocaleString("en-US",{minimumFractionDigits:D==="USD"?2:0}),d.jsxs("span",{className:"text-3xl",children:[" ",N]})]}),d.jsx("p",{className:"text-gray-500 mt-2",children:"        ."})]}),i?d.jsxs("div",{className:"bg-yellow-50 p-6 rounded-lg border border-yellow-300 mb-8",children:[d.jsx("h2",{className:"text-xl font-semibold text-yellow-800",children:"     "}),d.jsxs("p",{className:"text-yellow-700 mt-2",children:["      ",d.jsxs("strong",{className:"font-mono",children:[i.amount.toLocaleString()," ",i.currency==="USD"?"$":""]}),"  ",(typeof i.date=="string"?new Date(i.date):i.date.toDate()).toLocaleDateString("ar-DZ"),".         ."]})]}):d.jsxs("div",{className:"bg-white p-6 rounded-lg border shadow-sm mb-8",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:" "}),d.jsx("p",{className:"text-gray-600 mb-4",children:" 1:        ."}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:k.map(ne=>d.jsx("button",{onClick:()=>K(ne.amount),className:`p-4 border-2 rounded-lg text-center transition-all ${l===ne.amount?"border-green-500 bg-green-50 ring-2 ring-green-300":"border-gray-300 bg-white hover:border-green-400"}`,children:d.jsx("p",{className:"text-2xl font-bold font-mono",children:ne.label})},ne.amount))}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{htmlFor:"customAmount",className:"block text-sm font-medium text-gray-700 mb-2",children:"   "}),d.jsx("input",{type:"number",id:"customAmount",value:u,onChange:X,placeholder:`  (  ${F} ${N})`,min:F,className:`block w-full px-3 py-2 bg-white border rounded-md shadow-sm focus:outline-none focus:ring-green-500 ${h?"border-red-500":"border-gray-300"}`}),h&&d.jsx("p",{className:"text-red-600 text-sm mt-1",children:h})]}),P>=F&&d.jsx("div",{className:"bg-gray-100 p-6 rounded-lg border-2 border-dashed border-gray-300",children:R?d.jsxs(d.Fragment,{children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:" 2:  "}),d.jsxs("p",{className:"text-gray-700 mb-4",children:["     ",d.jsxs("strong",{className:"font-mono",children:[P.toLocaleString("ar-DZ")," "]}),"   ."]}),d.jsxs("div",{className:"bg-white p-4 rounded-md flex flex-col gap-2 text-right",children:[d.jsxs("p",{className:"font-bold text-lg",children:[" : ",e==null?void 0:e.payment.baridiMob]}),d.jsxs("p",{className:"font-bold text-lg",children:["CCP / BaridiMob: ",e==null?void 0:e.payment.ccp]})]}),d.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:" 3:   "}),d.jsx("p",{className:"text-gray-700 mb-4",children:"     .              ."}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("label",{className:"flex-grow bg-white border border-gray-300 text-gray-700 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer text-center",children:[d.jsx("span",{children:_?` : ${_.name}`:" "}),d.jsx("input",{type:"file",accept:"image/*",onChange:I,className:"hidden"})]}),_&&d.jsx("img",{src:URL.createObjectURL(_),alt:"Preview",className:"h-12 w-12 rounded-md object-cover border"})]})]}),d.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:" 4:  "}),d.jsx("p",{className:"text-gray-700 mb-4",children:"        .          ."}),d.jsxs("button",{onClick:U,disabled:C,className:"w-full bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-wait flex items-center justify-center gap-2",children:[C?d.jsx(St,{className:"animate-spin"}):null,C?"  ...":"     "]})]})]}):d.jsxs(d.Fragment,{children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Step 2: Pay with PayPal"}),d.jsxs("p",{className:"text-gray-700 mb-4",children:["Click the button below to pay ",d.jsxs("strong",{className:"font-mono",children:["$",P.toFixed(2)," USD"]})," securely with PayPal."]}),d.jsxs("button",{onClick:O,className:"w-full flex items-center justify-center gap-3 bg-[#00457C] text-white font-bold py-3 px-6 rounded-lg hover:bg-[#003057]",children:[d.jsx(Rme,{size:24}),d.jsx("span",{children:"Pay with PayPal"})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-4 text-center",children:"After payment, your request will be sent for review. Credits will be added to your account upon confirmation."})]})})]}),d.jsxs("div",{className:"bg-white p-6 rounded-lg border shadow-sm",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"  "}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:n.length>0?n.map(ne=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800",children:ne.id}),d.jsx("td",{className:"p-3 text-gray-600",children:(typeof ne.date=="string"?new Date(ne.date):ne.date.toDate()).toLocaleDateString("ar-DZ")}),d.jsxs("td",{className:"p-3 text-gray-800 font-mono",children:[ne.amount.toLocaleString()," ",ne.currency==="USD"?"$":""]}),d.jsx("td",{className:"p-3",children:J(ne.status)})]},ne.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:4,className:"text-center p-6 text-gray-500",children:"    ."})})})]})})]})]}):d.jsx("div",{children:"    ."})},oye=()=>{const[t,e]=q.useState(""),[n,r]=q.useState(""),[i,s]=q.useState(""),a=bi(),{login:o}=Lv(),l=async c=>{if(c.preventDefault(),s(""),!t||!n){s("   .");return}if(o(t,n))try{await Lr.signInWithEmailAndPassword(t,n),a("/admin/app")}catch(f){console.error("Firebase admin login failed:",f),s("      Firebase.         Firebase Authentication.")}else s("   .")};return d.jsx("div",{className:"max-w-md mx-auto mt-10",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-center text-gray-900 mb-2",children:"  "}),d.jsx("p",{className:"text-center text-gray-500 mb-6",children:"     ."}),i&&d.jsx("p",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-center",children:i}),d.jsxs("form",{onSubmit:l,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"email",id:"email",value:t,onChange:c=>e(c.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"admin@gitut.com"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"password",id:"password",value:n,onChange:c=>r(c.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"********"})]}),d.jsx("button",{type:"submit",className:"w-full bg-green-600 text-white p-3 rounded-lg font-bold hover:bg-green-700 transition-colors",children:""})]})]})})},lye=()=>{const{admin:t,logout:e}=Lv(),{useAdminChatManager:n}=Jf(),{unreadConversationsCount:r}=n(),i=bi(),s=()=>{e(),Lr.signOut(),i("/admin/login")},a="flex items-center gap-3 px-4 py-3 rounded-lg transition-colors",o="bg-green-600 text-white",l="text-gray-600 hover:bg-green-100 hover:text-green-800";return d.jsxs("aside",{className:"w-64 bg-white shadow-md flex flex-col p-4 rounded-lg",children:[d.jsxs("div",{className:"text-center border-b pb-4 mb-4",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"  "}),d.jsx("p",{className:"text-sm text-gray-500",children:(t==null?void 0:t.email)||"admin@gitut.com"})]}),d.jsxs("nav",{className:"flex flex-col gap-2 flex-grow",children:[d.jsxs(Xn,{to:"/admin/app",end:!0,className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),d.jsx("span",{children:" "})]}),d.jsxs(Xn,{to:"users",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M15 21v-2a6 6 0 00-12 0v2"})}),d.jsx("span",{children:" "})]}),d.jsx(Xn,{to:"chat",className:({isActive:c})=>`${a} ${c?o:l}`,children:d.jsxs("div",{className:"flex justify-between items-center w-full",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(QI,{className:"h-5 w-5"}),d.jsx("span",{children:" "})]}),r>0&&d.jsx("span",{className:"bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:r})]})}),d.jsxs(Xn,{to:"billing",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),d.jsx("span",{children:" "})]}),d.jsxs(Xn,{to:"documents",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),d.jsx("span",{children:" "})]}),d.jsxs(Xn,{to:"document-studio",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),d.jsx("span",{children:" "})]}),d.jsxs(Xn,{to:"excel-commands",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx(N$,{className:"h-5 w-5"}),d.jsx("span",{children:" "})]}),d.jsxs(Xn,{to:"document-commands",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx(YI,{className:"h-5 w-5"}),d.jsx("span",{children:" "})]}),d.jsxs(Xn,{to:"base-templates",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx(Ume,{className:"h-5 w-5"}),d.jsx("span",{children:" "})]}),d.jsxs(Xn,{to:"static-docs",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),d.jsx("span",{children:" "})]}),d.jsxs(Xn,{to:"sites",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),d.jsx("span",{children:" "})]}),d.jsxs(Xn,{to:"data",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"})}),d.jsx("span",{children:" "})]}),d.jsx("div",{className:"border-t my-2"}),d.jsxs(Xn,{to:"pages",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})}),d.jsx("span",{children:" "})]}),d.jsxs(Xn,{to:"blog",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})}),d.jsx("span",{children:" "})]}),d.jsxs(Xn,{to:"ads",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),d.jsx("span",{children:" "})]}),d.jsxs(Xn,{to:"seo",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),d.jsx("span",{children:"  (SEO)"})]}),d.jsxs(Xn,{to:"settings",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0 3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826 3.31 2.37-2.37.996.608 2.296.096 2.572-1.065z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),d.jsx("span",{children:" "})]})]}),d.jsx("div",{className:"mt-auto pt-4 border-t",children:d.jsxs("button",{onClick:s,className:`${a} ${l} w-full`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),d.jsx("span",{children:" "})]})})]})},cye=()=>{const{loadFullDocuments:t,loading:e}=rn(),{admin:n}=Lv(),{user:r,loading:i}=Ar(),a=Dr().pathname.includes("document-studio");return q.useEffect(()=>{n&&r&&t()},[t,n,r]),e||i?d.jsx("div",{className:"flex justify-center items-center h-screen",children:d.jsx(St,{className:"animate-spin text-4xl text-green-600"})}):d.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-start",children:[d.jsx(lye,{}),d.jsx("main",{className:"flex-1 w-full",children:d.jsx("div",{className:`bg-white rounded-lg shadow-lg ${a?"p-0 h-[85vh] overflow-hidden":"p-6 min-h-[60vh]"}`,children:d.jsx(bN,{})})})]})},uye=({children:t})=>{const{admin:e}=Lv();return e?t:d.jsx(fp,{to:"/admin/login",replace:!0})},dye=()=>{const[t,e]=q.useState(0),[n,r]=q.useState(0),[i,s]=q.useState({DZD:0,USD:0}),[a,o]=q.useState(!0),[l,c]=q.useState(!1),[u,f]=q.useState(""),{refetchAdminData:h}=rn();q.useEffect(()=>{(async()=>{o(!0);try{const[g,y,b]=await Promise.all([O4(),U4(),dM()]),_=g.filter(w=>w.status==="Pending").length;r(_),e(y.length),s(b)}catch(g){console.error("Failed to fetch dashboard data:",g)}finally{o(!1)}})()},[]);const p=async()=>{c(!0),f("     ...");try{await h();const[v,g,y]=await Promise.all([O4(),U4(),dM()]);r(v.filter(b=>b.status==="Pending").length),e(g.length),s(y),f("  !")}catch(v){console.error("Manual refresh failed:",v),f(" .     .")}finally{c(!1),setTimeout(()=>f(""),5e3)}};return d.jsxs("div",{children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"   "}),d.jsxs("button",{onClick:p,disabled:l,className:"flex items-center gap-2 bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-wait",children:[d.jsx(P$,{className:l?"animate-spin":""}),d.jsx("span",{children:l?" ...":" "})]})]}),u&&d.jsx("div",{className:`p-3 mb-4 rounded-md text-center ${u.includes("")?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:u}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"bg-gray-100 p-6 rounded-lg shadow",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:"  "}),a?d.jsx("p",{className:"text-4xl font-bold text-gray-900",children:"..."}):d.jsx("p",{className:"text-4xl font-bold text-gray-900",children:t}),d.jsx(tn,{to:"/admin/app/users",className:"text-green-600 hover:underline mt-4 inline-block",children:"  "})]}),d.jsxs("div",{className:"bg-yellow-100 p-6 rounded-lg shadow",children:[d.jsx("h2",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"  "}),a?d.jsx("p",{className:"text-4xl font-bold text-yellow-900",children:"..."}):d.jsx("p",{className:"text-4xl font-bold text-yellow-900",children:n}),d.jsx(tn,{to:"/admin/app/billing",className:"text-yellow-700 hover:underline mt-4 inline-block",children:"  "})]}),d.jsxs("div",{className:"bg-green-100 p-6 rounded-lg shadow",children:[d.jsx("h2",{className:"text-lg font-semibold text-green-800 mb-2",children:" ( )"}),a?d.jsx("p",{className:"text-4xl font-bold text-green-900 font-mono",children:"..."}):d.jsxs(d.Fragment,{children:[d.jsxs("p",{className:"text-4xl font-bold text-green-900 font-mono",children:[i.DZD.toLocaleString("ar-DZ")," ",d.jsx("span",{className:"text-2xl",children:""})]}),i.USD>0&&d.jsxs("p",{className:"text-xl font-bold text-green-800 font-mono mt-1",children:["+ ",i.USD.toLocaleString("en-US",{style:"currency",currency:"USD"})]})]}),d.jsx("p",{className:"text-green-700 mt-4",children:i.DZD===0&&i.USD===0?"     .":"    ."})]})]})]})},fye=()=>{const[t,e]=q.useState([]),{cafes:n,loading:r}=rn(),[i,s]=q.useState(!0);q.useEffect(()=>{s(!0),U4().then(e).finally(()=>s(!1))},[]);const a=(l,c)=>{let u="";c==="Suspended"&&(u=prompt("    :")||"   ."),e(f=>f.map(h=>h.id===l?{...h,status:c,suspensionReason:c==="Suspended"?u:void 0}:h))},o=l=>{switch(l){case"Active":return d.jsx("span",{className:"px-3 py-1 text-xs font-semibold text-green-800 bg-green-200 rounded-full",children:""});case"Suspended":return d.jsx("span",{className:"px-3 py-1 text-xs font-semibold text-red-800 bg-red-200 rounded-full",children:""})}};return r||i?d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(St,{className:"animate-spin text-4xl text-green-600"})}):d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:" "}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:t.map(l=>{const c=n.find(u=>u.id===l.cafeId);return d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:(c==null?void 0:c.name)||" "}),d.jsx("td",{className:"p-3 text-gray-600",children:l.email}),d.jsx("td",{className:"p-3",title:l.suspensionReason,children:o(l.status)}),d.jsx("td",{className:"p-3",children:l.status==="Active"?d.jsx("button",{onClick:()=>a(l.id,"Suspended"),className:"text-red-600 hover:underline text-sm font-semibold",children:""}):d.jsx("button",{onClick:()=>a(l.id,"Active"),className:"text-green-600 hover:underline text-sm font-semibold",children:" "})})]},l.id)})})]})})})]})},hye=()=>{const[t,e]=q.useState([]),[n,r]=q.useState([]),[i,s]=q.useState(!0),[a,o]=q.useState(0);q.useEffect(()=>{(async()=>{s(!0);try{const[h,p]=await Promise.all([O4(),mme()]);e(h),r(p)}catch(h){console.error("Failed to fetch admin billing data:",h),alert("    .")}finally{s(!1)}})()},[a]);const l=async f=>{if(window.confirm(`           ${f.amount} ${f.currency}  "${f.userCafeName}"`))try{const p=await gme(f);if(p.success)alert("      !"),o(v=>v+1);else throw new Error(p.message)}catch(p){console.error("Failed to approve payment:",p),alert(`  : ${p.message}`)}},c=f=>{switch(f){case"Pending":return d.jsx("span",{className:"px-3 py-1 text-xs font-semibold text-yellow-800 bg-yellow-200 rounded-full",children:""});case"Approved":return d.jsx("span",{className:"px-3 py-1 text-xs font-semibold text-green-800 bg-green-200 rounded-full",children:" "})}},u=f=>{switch(f){case"Paid":return d.jsx("span",{className:"px-2 py-1 text-xs font-medium text-green-800 bg-green-100 rounded-full",children:""});case"Pending":return d.jsx("span",{className:"px-2 py-1 text-xs font-medium text-yellow-800 bg-yellow-100 rounded-full",children:"  "})}};return i?d.jsx("div",{children:"  ..."}):d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"    "}),d.jsxs("div",{className:"bg-white p-4 rounded-lg border shadow-sm mb-8",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"   "}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:":  PayPal        PayPal    ."}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:t.length>0?t.map(f=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:f.userCafeName}),d.jsx("td",{className:"p-3 text-gray-600",children:(typeof f.date=="string"?new Date(f.date):f.date.toDate()).toLocaleDateString("ar-DZ")}),d.jsxs("td",{className:"p-3 text-gray-800 font-mono",children:[f.amount.toLocaleString()," ",f.currency==="USD"?"$":""]}),d.jsx("td",{className:"p-3 text-gray-600",children:f.method}),d.jsx("td",{className:"p-3",children:f.proofOfPaymentUrl?d.jsx("a",{href:gi(f.proofOfPaymentUrl),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm font-semibold",children:" "}):d.jsx("span",{className:"text-gray-400 text-xs",children:" "})}),d.jsx("td",{className:"p-3",children:c(f.status)}),d.jsx("td",{className:"p-3",children:f.status==="Pending"&&d.jsx("button",{onClick:()=>l(f),className:"bg-green-600 text-white font-semibold py-1 px-3 rounded-md hover:bg-green-700",children:""})})]},f.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:7,className:"text-center p-6 text-gray-500",children:"     ."})})})]})})]}),d.jsxs("div",{className:"bg-white p-4 rounded-lg border shadow-sm",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"  "}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:n.length>0?n.map(f=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:f.userCafeName||" "}),d.jsx("td",{className:"p-3 text-gray-600",children:(typeof f.date=="string"?new Date(f.date):f.date.toDate()).toLocaleDateString("ar-DZ")}),d.jsxs("td",{className:"p-3 text-gray-800 font-mono",children:[f.amount.toLocaleString()," ",f.currency==="USD"?"$":""]}),d.jsx("td",{className:"p-3",children:u(f.status)})]},f.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:4,className:"text-center p-6 text-gray-500",children:"    ."})})})]})})]})]})},pye=()=>{const{siteSettings:t}=rn(),[e,n]=q.useState(t||Un),[r,i]=q.useState(""),[s,a]=q.useState({current:"",new:"",confirm:""}),[o,l]=q.useState(!1);q.useEffect(()=>{if(t){const f={...Un,...t,payment:{...Un.payment,...t.payment||{}},pricing:{...Un.pricing,...t.pricing||{}},seo:{...Un.seo,...t.seo||{}},social:{...Un.social,...t.social||{}},ads:{...Un.ads,...t.ads||{}},ai:{...Un.ai,...t.ai||{}}};n(f)}},[t]);const c=f=>{const{name:h,value:p,type:v,checked:g}=f.target,y=h.split("."),b=v==="checkbox"?g:v==="number"?parseFloat(p)||0:p;n(_=>{if(!_)return Un;const w=JSON.parse(JSON.stringify(_));if(y.length===3){const[C,S,R]=y;w[C]||(w[C]={}),w[C][S]||(w[C][S]={}),w[C][S][R]=b}else if(y.length===2){const[C,S]=y;w[C]||(w[C]={}),w[C][S]=b}return w})},u=async f=>{if(f.preventDefault(),!!e){l(!0),i("");try{const h={payment:e.payment,pricing:e.pricing,ads:e.ads,ai:e.ai};await y$(h),i("    !")}catch(h){console.error("Error saving settings:",h),alert("    .     .")}finally{l(!1),setTimeout(()=>i(""),5e3)}}};return e?d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:" "}),r&&d.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-md relative mb-6",role:"alert",children:d.jsx("span",{className:"block sm:inline",children:r})}),d.jsxs("form",{onSubmit:u,className:"space-y-8 bg-white p-8 rounded-lg border",children:[d.jsxs("fieldset",{className:"border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-lg text-gray-700",children:" "}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-4",children:[d.jsxs("div",{className:"space-y-2 p-3 bg-gray-50 rounded-md",children:[d.jsx("h3",{className:"font-medium text-gray-600",children:"  "}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-500",children:" "}),d.jsx("input",{type:"number",name:"pricing.dynamicDocument.dzd",value:e.pricing.dynamicDocument.dzd,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-500",children:" "}),d.jsx("input",{type:"number",name:"pricing.dynamicDocument.usd",value:e.pricing.dynamicDocument.usd,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]})]}),d.jsxs("div",{className:"space-y-2 p-3 bg-gray-50 rounded-md",children:[d.jsx("h3",{className:"font-medium text-gray-600",children:"  "}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-500",children:" "}),d.jsx("input",{type:"number",name:"pricing.siteFormFill.dzd",value:e.pricing.siteFormFill.dzd,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-500",children:" "}),d.jsx("input",{type:"number",name:"pricing.siteFormFill.usd",value:e.pricing.siteFormFill.usd,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]})]}),d.jsxs("div",{className:"space-y-2 p-3 bg-gray-50 rounded-md",children:[d.jsx("h3",{className:"font-medium text-gray-600",children:"  "}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-500",children:" "}),d.jsx("input",{type:"number",name:"pricing.staticDocumentDownload.dzd",value:e.pricing.staticDocumentDownload.dzd,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-500",children:" "}),d.jsx("input",{type:"number",name:"pricing.staticDocumentDownload.usd",value:e.pricing.staticDocumentDownload.usd,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]})]})]})]}),d.jsxs("fieldset",{className:"border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-lg text-gray-700",children:" "}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:" CCP"}),d.jsx("input",{type:"text",name:"payment.ccp",value:e.payment.ccp,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"BaridiMob ( )"}),d.jsx("input",{type:"text",name:"payment.baridiMob",value:e.payment.baridiMob,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:" PayPal"}),d.jsx("input",{type:"email",name:"payment.paypalEmail",value:e.payment.paypalEmail,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"  (1 USD = ? DZD)"}),d.jsx("input",{type:"number",name:"payment.exchangeRate",value:e.payment.exchangeRate,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]}),d.jsx("div",{className:"md:col-span-2",children:d.jsxs("label",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",name:"payment.paypalEnabled",checked:e.payment.paypalEnabled,onChange:c,className:"h-4 w-4"}),d.jsx("span",{children:"   PayPal ( )"})]})})]})]}),d.jsxs("fieldset",{className:"border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-lg text-gray-700",children:"   (Gemini)"}),d.jsxs("div",{className:"space-y-4 mt-2",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:" API   (Master Key)"}),d.jsx("input",{type:"password",name:"ai.apiKey",value:e.ai.apiKey||"",onChange:c,placeholder:"  Gemini API   ",className:"mt-1 block w-full p-2 border rounded-md"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'      .         "secret"   Cloudflare Worker       .'})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",name:"ai.useAdminKey",checked:e.ai.useAdminKey||!1,onChange:c,className:"h-4 w-4"}),d.jsx("span",{children:"    "})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"                  API     .         ."})]})]})]}),d.jsx("div",{className:"flex justify-end pt-6 border-t mt-8",children:d.jsx("button",{type:"submit",disabled:o,className:"bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700 transition-colors disabled:bg-gray-400",children:o?" ...":" "})})]})]}):d.jsx("div",{children:"  ..."})},Id=t=>t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):"",mye=(t,e,n,r,i)=>{var v,g;const s=i==="ar"?"rtl":"ltr",a=t==="default",o=((v=e==null?void 0:e.seo)==null?void 0:v[t])||((g=e==null?void 0:e.seo)==null?void 0:g.default)||Un.seo.default,l=`${String(o.siteName)} ${String(o.titleSeparator)} ${String(o.tagline)}`,c=String(o.metaDescription);String(o.mainPageTitle),String(o.mainPageSubtitle);const u="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEimLwMLs6qcyccDKdYEHdje2p1XUaPI8S-9PAJYncZ3wzSoXugwzzDao7WN8Sf20JrNVWgqaZQ5ccW1qCjeGWWK4lSmIKMLrSzQ271AUWJ0SkxU-QozTrUR7weQOk4sJBRohL_82XOZKKsyKla87ptSbvzjJn6tgDwb2qU-vHpDGxE1tX3fyG5Jqiev-nY/w640-h640/64b156e3-b2fb-4528-8151-80f70afdc68f.jpg",f=`https://gitut.com/${a?"":t+"/"}`;return`
      <!DOCTYPE html>
      <html lang="${i}" dir="${s}">
      <head>
          <meta charset="UTF-8" />
          <meta name="viewport" content="width=device-width, initial-scale=1.0" />
          <title>${Id(l)}</title>
          <meta name="description" content="${Id(c)}" />
          <meta property="og:type" content="website"><meta property="og:url" content="${f}"><meta property="og:title" content="${Id(l)}"><meta property="og:description" content="${Id(c)}"><meta property="og:image" content="${u}"><meta property="og:image:secure_url" content="${u}"><meta property="og:image:width" content="640"><meta property="og:image:height" content="640"><meta property="og:site_name" content="${Id(o.siteName)}">
          <meta name="twitter:card" content="summary_large_image"><meta name="twitter:url" content="${f}"><meta name="twitter:title" content="${Id(l)}"><meta name="twitter:description" content="${Id(c)}"><meta name="twitter:image" content="${u}">
          <link rel="icon" type="image/png" href="https://cyber-m.pages.dev/data/image/icon.png">
          <link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
          <script src="https://cdn.tailwindcss.com/3.4.1"><\/script>
          <style>body { font-family: 'Cairo', sans-serif; }</style>
          <script async src="https://www.googletagmanager.com/gtag/js?id=G-2BKKWGCXWX"><\/script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('config','G-2BKKWGCXWX');<\/script>
          <script type="importmap">
{
  "imports": {
    "react/": "https://aistudiocdn.com/react@^18.2.0/",
    "react": "https://aistudiocdn.com/react@^18.2.0",
    "react-dom/": "https://aistudiocdn.com/react-dom@^18.2.0/",
    "react-router-dom": "https://aistudiocdn.com/react-router-dom@^7.8.2",
    "react-icons/": "https://aistudiocdn.com/react-icons@^5.5.0/",
    "@google/genai": "https://aistudiocdn.com/@google/genai@^1.16.0",
    "xlsx": "https://esm.sh/xlsx@0.18.5",
    "mammoth": "https://esm.sh/mammoth@1.7.2",
    "firebase/app": "https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js",
    "firebase/auth": "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js",
    "firebase/firestore": "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js",
    "firebase/storage": "https://www.gstatic.com/firebasejs/10.12.2/firebase-storage-compat.js",
    "firebase/": "https://aistudiocdn.com/firebase@^12.2.1/",
    "itty-router": "https://aistudiocdn.com/itty-router@^5.0.22",
    "firebase-admin/": "https://aistudiocdn.com/firebase-admin@^13.5.0/",
    "firebase-admin": "https://aistudiocdn.com/firebase-admin@^13.5.0",
    "jose": "https://aistudiocdn.com/jose@^6.1.0",
    "react-quill": "https://aistudiocdn.com/react-quill@^2.0.0",
    "jszip": "https://esm.sh/jszip@3.10.1",
    "file-saver": "https://esm.sh/file-saver@2.0.5"
  }
}
<\/script>
    <script src="https://accounts.google.com/gsi/client" async defer><\/script>
    <script src="https://apis.google.com/js/api.js" async defer><\/script>
      </head>
      <body class="bg-gray-100">
        
        <div id="root">
            <div class="flex flex-col min-h-screen bg-gray-100 text-gray-900">
                <main class="flex-grow container mx-auto px-4 py-8">
                     <p class="text-center text-gray-500">   ...</p>
                </main>
            </div>
        </div>
    
        <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.3/build/qrcode.min.js"><\/script>
        <script src="https://unpkg.com/html5-qrcode@2.3.8/html5-qrcode.min.js"><\/script>
        <script src='https://cdn.jsdelivr.net/npm/tesseract.js@5/dist/tesseract.min.js'><\/script>
        <script src="https://cdn.jsdelivr.net/npm/gun/gun.js"><\/script>
        <script src="https://cdn.jsdelivr.net/npm/gun/sea.js"><\/script>
        <script type="module" crossorigin src="/assets/index.js"><\/script>
      </body>
      </html>
    `},gye=()=>{var _,w,C,S;const{siteSettings:t,pages:e,blogPosts:n}=rn(),[r,i]=q.useState(Un),[s,a]=q.useState(""),[o,l]=q.useState(!1),[c,u]=q.useState("default"),[f,h]=q.useState(new Set);q.useEffect(()=>{i(t?{...Un,...t,seo:{...Un.seo,...t.seo||{}},social:{...Un.social,...t.social||{}}}:Un)},[t]);const p=(R,D)=>{const{name:N,value:k}=R.target;h(F=>new Set(F).add(c)),i(F=>{const P=JSON.parse(JSON.stringify(F));return D==="seo"?(P.seo||(P.seo={}),P.seo[c]||(P.seo[c]={...Un.seo.default}),P.seo[c][N]=k):(P.social||(P.social={}),P.social[c]||(P.social[c]={...Un.social.default}),P.social[c][N]=k),P})},v=async R=>{if(R.preventDefault(),!!r){l(!0),a("");try{await y$({seo:r.seo,social:r.social}),a("     .    ...");const D=[],N=Array.from(f);for(const k of N){const F=Bm(k==="default"?"dz":k),P=mye(k,r,e,n,F),I=k==="default"?"dist/index.html":`dist/${k}/index.html`;D.push({path:I,content:P})}D.length>0?(await Bd({files:D,commitMessage:`feat(static): Update homepages for ${N.join(", ")}`}),a(`   ${D.length}   !`)):a("  .    ."),h(new Set)}catch(D){console.error("Error saving settings:",D),alert("     .")}finally{l(!1),setTimeout(()=>a(""),5e3)}}};if(!r)return d.jsx("div",{class:"flex justify-center p-8",children:d.jsx(St,{class:"animate-spin text-2xl"})});const g=((_=r.seo)==null?void 0:_[c])||((w=r.seo)==null?void 0:w.default)||Un.seo.default,y=((C=r.social)==null?void 0:C[c])||((S=r.social)==null?void 0:S.default)||Un.social.default,b=[{code:"default",name:"Default"},...va.en];return d.jsxs("div",{children:[d.jsx("h1",{class:"text-3xl font-bold text-gray-800 mb-6",children:"  (SEO)"}),s&&d.jsx("div",{class:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-md relative mb-6",role:"alert",children:d.jsx("span",{class:"block sm:inline",children:s})}),d.jsx("div",{class:"mb-6 border-b border-gray-200",children:d.jsx("nav",{class:"flex flex-wrap -mb-px","aria-label":"Tabs",children:b.map(R=>d.jsx("button",{onClick:()=>u(R.code),className:`whitespace-nowrap py-3 px-4 border-b-2 font-medium text-sm
                                ${c===R.code?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:R.name},R.code))})}),d.jsxs("form",{onSubmit:v,class:"space-y-8 bg-white p-8 rounded-lg border",children:[d.jsxs("fieldset",{class:"border p-4 rounded-md",children:[d.jsx("legend",{class:"px-2 font-semibold text-lg text-gray-700",children:"   SEO"}),d.jsxs("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-2",children:[d.jsxs("div",{children:[d.jsx("label",{class:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",name:"siteName",value:g.siteName||"",onChange:R=>p(R,"seo"),class:"block w-full px-3 py-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{class:"block text-sm font-medium text-gray-700 mb-1",children:"  (Tagline)"}),d.jsx("input",{type:"text",name:"tagline",value:g.tagline||"",onChange:R=>p(R,"seo"),class:"block w-full px-3 py-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{class:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",name:"titleSeparator",value:g.titleSeparator||"",onChange:R=>p(R,"seo"),class:"block w-full max-w-xs px-3 py-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{class:"md:col-span-2",children:[d.jsx("label",{class:"block text-sm font-medium text-gray-700 mb-1",children:"  (Meta Description)"}),d.jsx("textarea",{name:"metaDescription",rows:2,value:g.metaDescription||"",onChange:R=>p(R,"seo"),class:"block w-full px-3 py-2 border border-gray-300 rounded-md"})]})]})]}),d.jsxs("fieldset",{class:"border p-4 rounded-md",children:[d.jsx("legend",{class:"px-2 font-semibold text-lg text-gray-700",children:"  "}),d.jsxs("div",{class:"space-y-4 mt-2",children:[d.jsxs("div",{children:[d.jsx("label",{class:"block text-sm font-medium text-gray-700 mb-1",children:"  (  1)"}),d.jsx("input",{type:"text",name:"mainPageTitle",value:g.mainPageTitle||"",onChange:R=>p(R,"seo"),class:"block w-full px-3 py-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{class:"block text-sm font-medium text-gray-700 mb-1",children:"  (  2)"}),d.jsx("textarea",{name:"mainPageSubtitle",rows:3,value:g.mainPageSubtitle||"",onChange:R=>p(R,"seo"),class:"block w-full px-3 py-2 border border-gray-300 rounded-md"})]})]})]}),d.jsxs("fieldset",{class:"border p-4 rounded-md",children:[d.jsx("legend",{class:"px-2 font-semibold text-lg text-gray-700",children:"  "}),d.jsxs("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-2",children:[d.jsxs("div",{children:[d.jsx("label",{class:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"url",name:"facebook",value:y.facebook||"",onChange:R=>p(R,"social"),placeholder:"https://facebook.com/yourpage",class:"block w-full px-3 py-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{class:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"url",name:"twitter",value:y.twitter||"",onChange:R=>p(R,"social"),placeholder:"https://twitter.com/yourprofile",class:"block w-full px-3 py-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{class:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"url",name:"instagram",value:y.instagram||"",onChange:R=>p(R,"social"),placeholder:"https://instagram.com/yourprofile",class:"block w-full px-3 py-2 border border-gray-300 rounded-md"})]})]})]}),d.jsx("div",{class:"flex justify-end pt-6 border-t",children:d.jsxs("button",{type:"submit",disabled:o,class:"flex items-center gap-2 bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:[o?d.jsx(St,{class:"animate-spin"}):null,o?"  ...":"  "]})})]})]})};var vC,RM;function yye(){if(RM)return vC;RM=1;function t(){this.__data__=[],this.size=0}return vC=t,vC}var xC,PM;function fG(){if(PM)return xC;PM=1;function t(e,n){return e===n||e!==e&&n!==n}return xC=t,xC}var _C,FM;function vw(){if(FM)return _C;FM=1;var t=fG();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return _C=e,_C}var bC,MM;function vye(){if(MM)return bC;MM=1;var t=vw(),e=Array.prototype,n=e.splice;function r(i){var s=this.__data__,a=t(s,i);if(a<0)return!1;var o=s.length-1;return a==o?s.pop():n.call(s,a,1),--this.size,!0}return bC=r,bC}var wC,UM;function xye(){if(UM)return wC;UM=1;var t=vw();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return wC=e,wC}var TC,OM;function _ye(){if(OM)return TC;OM=1;var t=vw();function e(n){return t(this.__data__,n)>-1}return TC=e,TC}var EC,LM;function bye(){if(LM)return EC;LM=1;var t=vw();function e(n,r){var i=this.__data__,s=t(i,n);return s<0?(++this.size,i.push([n,r])):i[s][1]=r,this}return EC=e,EC}var CC,jM;function xw(){if(jM)return CC;jM=1;var t=yye(),e=vye(),n=xye(),r=_ye(),i=bye();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var c=a[o];this.set(c[0],c[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,CC=s,CC}var SC,BM;function wye(){if(BM)return SC;BM=1;var t=xw();function e(){this.__data__=new t,this.size=0}return SC=e,SC}var DC,VM;function Tye(){if(VM)return DC;VM=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return DC=t,DC}var AC,WM;function Eye(){if(WM)return AC;WM=1;function t(e){return this.__data__.get(e)}return AC=t,AC}var NC,qM;function Cye(){if(qM)return NC;qM=1;function t(e){return this.__data__.has(e)}return NC=t,NC}var IC,zM;function hG(){if(zM)return IC;zM=1;var t=typeof fs=="object"&&fs&&fs.Object===Object&&fs;return IC=t,IC}var kC,HM;function Cc(){if(HM)return kC;HM=1;var t=hG(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return kC=n,kC}var RC,$M;function lk(){if($M)return RC;$M=1;var t=Cc(),e=t.Symbol;return RC=e,RC}var PC,GM;function Sye(){if(GM)return PC;GM=1;var t=lk(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function s(a){var o=n.call(a,i),l=a[i];try{a[i]=void 0;var c=!0}catch{}var u=r.call(a);return c&&(o?a[i]=l:delete a[i]),u}return PC=s,PC}var FC,KM;function Dye(){if(KM)return FC;KM=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return FC=n,FC}var MC,XM;function _w(){if(XM)return MC;XM=1;var t=lk(),e=Sye(),n=Dye(),r="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function a(o){return o==null?o===void 0?i:r:s&&s in Object(o)?e(o):n(o)}return MC=a,MC}var UC,JM;function pG(){if(JM)return UC;JM=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return UC=t,UC}var OC,YM;function mG(){if(YM)return OC;YM=1;var t=_w(),e=pG(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function a(o){if(!e(o))return!1;var l=t(o);return l==r||l==i||l==n||l==s}return OC=a,OC}var LC,QM;function Aye(){if(QM)return LC;QM=1;var t=Cc(),e=t["__core-js_shared__"];return LC=e,LC}var jC,ZM;function Nye(){if(ZM)return jC;ZM=1;var t=Aye(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return jC=n,jC}var BC,eU;function gG(){if(eU)return BC;eU=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return BC=n,BC}var VC,tU;function Iye(){if(tU)return VC;tU=1;var t=mG(),e=Nye(),n=pG(),r=gG(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,a=Function.prototype,o=Object.prototype,l=a.toString,c=o.hasOwnProperty,u=RegExp("^"+l.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(h){if(!n(h)||e(h))return!1;var p=t(h)?u:s;return p.test(r(h))}return VC=f,VC}var WC,nU;function kye(){if(nU)return WC;nU=1;function t(e,n){return e==null?void 0:e[n]}return WC=t,WC}var qC,rU;function qm(){if(rU)return qC;rU=1;var t=Iye(),e=kye();function n(r,i){var s=e(r,i);return t(s)?s:void 0}return qC=n,qC}var zC,iU;function ck(){if(iU)return zC;iU=1;var t=qm(),e=Cc(),n=t(e,"Map");return zC=n,zC}var HC,sU;function bw(){if(sU)return HC;sU=1;var t=qm(),e=t(Object,"create");return HC=e,HC}var $C,aU;function Rye(){if(aU)return $C;aU=1;var t=bw();function e(){this.__data__=t?t(null):{},this.size=0}return $C=e,$C}var GC,oU;function Pye(){if(oU)return GC;oU=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return GC=t,GC}var KC,lU;function Fye(){if(lU)return KC;lU=1;var t=bw(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(s){var a=this.__data__;if(t){var o=a[s];return o===e?void 0:o}return r.call(a,s)?a[s]:void 0}return KC=i,KC}var XC,cU;function Mye(){if(cU)return XC;cU=1;var t=bw(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var s=this.__data__;return t?s[i]!==void 0:n.call(s,i)}return XC=r,XC}var JC,uU;function Uye(){if(uU)return JC;uU=1;var t=bw(),e="__lodash_hash_undefined__";function n(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=t&&i===void 0?e:i,this}return JC=n,JC}var YC,dU;function Oye(){if(dU)return YC;dU=1;var t=Rye(),e=Pye(),n=Fye(),r=Mye(),i=Uye();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var c=a[o];this.set(c[0],c[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,YC=s,YC}var QC,fU;function Lye(){if(fU)return QC;fU=1;var t=Oye(),e=xw(),n=ck();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return QC=r,QC}var ZC,hU;function jye(){if(hU)return ZC;hU=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return ZC=t,ZC}var eS,pU;function ww(){if(pU)return eS;pU=1;var t=jye();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return eS=e,eS}var tS,mU;function Bye(){if(mU)return tS;mU=1;var t=ww();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return tS=e,tS}var nS,gU;function Vye(){if(gU)return nS;gU=1;var t=ww();function e(n){return t(this,n).get(n)}return nS=e,nS}var rS,yU;function Wye(){if(yU)return rS;yU=1;var t=ww();function e(n){return t(this,n).has(n)}return rS=e,rS}var iS,vU;function qye(){if(vU)return iS;vU=1;var t=ww();function e(n,r){var i=t(this,n),s=i.size;return i.set(n,r),this.size+=i.size==s?0:1,this}return iS=e,iS}var sS,xU;function yG(){if(xU)return sS;xU=1;var t=Lye(),e=Bye(),n=Vye(),r=Wye(),i=qye();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var c=a[o];this.set(c[0],c[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,sS=s,sS}var aS,_U;function zye(){if(_U)return aS;_U=1;var t=xw(),e=ck(),n=yG(),r=200;function i(s,a){var o=this.__data__;if(o instanceof t){var l=o.__data__;if(!e||l.length<r-1)return l.push([s,a]),this.size=++o.size,this;o=this.__data__=new n(l)}return o.set(s,a),this.size=o.size,this}return aS=i,aS}var oS,bU;function Hye(){if(bU)return oS;bU=1;var t=xw(),e=wye(),n=Tye(),r=Eye(),i=Cye(),s=zye();function a(o){var l=this.__data__=new t(o);this.size=l.size}return a.prototype.clear=e,a.prototype.delete=n,a.prototype.get=r,a.prototype.has=i,a.prototype.set=s,oS=a,oS}var lS,wU;function $ye(){if(wU)return lS;wU=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return lS=e,lS}var cS,TU;function Gye(){if(TU)return cS;TU=1;function t(e){return this.__data__.has(e)}return cS=t,cS}var uS,EU;function Kye(){if(EU)return uS;EU=1;var t=yG(),e=$ye(),n=Gye();function r(i){var s=-1,a=i==null?0:i.length;for(this.__data__=new t;++s<a;)this.add(i[s])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,uS=r,uS}var dS,CU;function Xye(){if(CU)return dS;CU=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return dS=t,dS}var fS,SU;function Jye(){if(SU)return fS;SU=1;function t(e,n){return e.has(n)}return fS=t,fS}var hS,DU;function vG(){if(DU)return hS;DU=1;var t=Kye(),e=Xye(),n=Jye(),r=1,i=2;function s(a,o,l,c,u,f){var h=l&r,p=a.length,v=o.length;if(p!=v&&!(h&&v>p))return!1;var g=f.get(a),y=f.get(o);if(g&&y)return g==o&&y==a;var b=-1,_=!0,w=l&i?new t:void 0;for(f.set(a,o),f.set(o,a);++b<p;){var C=a[b],S=o[b];if(c)var R=h?c(S,C,b,o,a,f):c(C,S,b,a,o,f);if(R!==void 0){if(R)continue;_=!1;break}if(w){if(!e(o,function(D,N){if(!n(w,N)&&(C===D||u(C,D,l,c,f)))return w.push(N)})){_=!1;break}}else if(!(C===S||u(C,S,l,c,f))){_=!1;break}}return f.delete(a),f.delete(o),_}return hS=s,hS}var pS,AU;function Yye(){if(AU)return pS;AU=1;var t=Cc(),e=t.Uint8Array;return pS=e,pS}var mS,NU;function Qye(){if(NU)return mS;NU=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,s){r[++n]=[s,i]}),r}return mS=t,mS}var gS,IU;function Zye(){if(IU)return gS;IU=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return gS=t,gS}var yS,kU;function eve(){if(kU)return yS;kU=1;var t=lk(),e=Yye(),n=fG(),r=vG(),i=Qye(),s=Zye(),a=1,o=2,l="[object Boolean]",c="[object Date]",u="[object Error]",f="[object Map]",h="[object Number]",p="[object RegExp]",v="[object Set]",g="[object String]",y="[object Symbol]",b="[object ArrayBuffer]",_="[object DataView]",w=t?t.prototype:void 0,C=w?w.valueOf:void 0;function S(R,D,N,k,F,P,I){switch(N){case _:if(R.byteLength!=D.byteLength||R.byteOffset!=D.byteOffset)return!1;R=R.buffer,D=D.buffer;case b:return!(R.byteLength!=D.byteLength||!P(new e(R),new e(D)));case l:case c:case h:return n(+R,+D);case u:return R.name==D.name&&R.message==D.message;case p:case g:return R==D+"";case f:var U=i;case v:var O=k&a;if(U||(U=s),R.size!=D.size&&!O)return!1;var K=I.get(R);if(K)return K==D;k|=o,I.set(R,D);var X=r(U(R),U(D),k,F,P,I);return I.delete(R),X;case y:if(C)return C.call(R)==C.call(D)}return!1}return yS=S,yS}var vS,RU;function tve(){if(RU)return vS;RU=1;function t(e,n){for(var r=-1,i=n.length,s=e.length;++r<i;)e[s+r]=n[r];return e}return vS=t,vS}var xS,PU;function uk(){if(PU)return xS;PU=1;var t=Array.isArray;return xS=t,xS}var _S,FU;function nve(){if(FU)return _S;FU=1;var t=tve(),e=uk();function n(r,i,s){var a=i(r);return e(r)?a:t(a,s(r))}return _S=n,_S}var bS,MU;function rve(){if(MU)return bS;MU=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=0,a=[];++r<i;){var o=e[r];n(o,r,e)&&(a[s++]=o)}return a}return bS=t,bS}var wS,UU;function ive(){if(UU)return wS;UU=1;function t(){return[]}return wS=t,wS}var TS,OU;function sve(){if(OU)return TS;OU=1;var t=rve(),e=ive(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(a){return a==null?[]:(a=Object(a),t(i(a),function(o){return r.call(a,o)}))}:e;return TS=s,TS}var ES,LU;function ave(){if(LU)return ES;LU=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return ES=t,ES}var CS,jU;function Tw(){if(jU)return CS;jU=1;function t(e){return e!=null&&typeof e=="object"}return CS=t,CS}var SS,BU;function ove(){if(BU)return SS;BU=1;var t=_w(),e=Tw(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return SS=r,SS}var DS,VU;function lve(){if(VU)return DS;VU=1;var t=ove(),e=Tw(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,s=t((function(){return arguments})())?t:function(a){return e(a)&&r.call(a,"callee")&&!i.call(a,"callee")};return DS=s,DS}var g0={exports:{}},AS,WU;function cve(){if(WU)return AS;WU=1;function t(){return!1}return AS=t,AS}g0.exports;var qU;function xG(){return qU||(qU=1,(function(t,e){var n=Cc(),r=cve(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===i,o=a?n.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||r;t.exports=c})(g0,g0.exports)),g0.exports}var NS,zU;function uve(){if(zU)return NS;zU=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var s=typeof r;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return NS=n,NS}var IS,HU;function _G(){if(HU)return IS;HU=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return IS=e,IS}var kS,$U;function dve(){if($U)return kS;$U=1;var t=_w(),e=_G(),n=Tw(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",a="[object Date]",o="[object Error]",l="[object Function]",c="[object Map]",u="[object Number]",f="[object Object]",h="[object RegExp]",p="[object Set]",v="[object String]",g="[object WeakMap]",y="[object ArrayBuffer]",b="[object DataView]",_="[object Float32Array]",w="[object Float64Array]",C="[object Int8Array]",S="[object Int16Array]",R="[object Int32Array]",D="[object Uint8Array]",N="[object Uint8ClampedArray]",k="[object Uint16Array]",F="[object Uint32Array]",P={};P[_]=P[w]=P[C]=P[S]=P[R]=P[D]=P[N]=P[k]=P[F]=!0,P[r]=P[i]=P[y]=P[s]=P[b]=P[a]=P[o]=P[l]=P[c]=P[u]=P[f]=P[h]=P[p]=P[v]=P[g]=!1;function I(U){return n(U)&&e(U.length)&&!!P[t(U)]}return kS=I,kS}var RS,GU;function fve(){if(GU)return RS;GU=1;function t(e){return function(n){return e(n)}}return RS=t,RS}var y0={exports:{}};y0.exports;var KU;function hve(){return KU||(KU=1,(function(t,e){var n=hG(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,a=s&&n.process,o=(function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}})();t.exports=o})(y0,y0.exports)),y0.exports}var PS,XU;function bG(){if(XU)return PS;XU=1;var t=dve(),e=fve(),n=hve(),r=n&&n.isTypedArray,i=r?e(r):t;return PS=i,PS}var FS,JU;function pve(){if(JU)return FS;JU=1;var t=ave(),e=lve(),n=uk(),r=xG(),i=uve(),s=bG(),a=Object.prototype,o=a.hasOwnProperty;function l(c,u){var f=n(c),h=!f&&e(c),p=!f&&!h&&r(c),v=!f&&!h&&!p&&s(c),g=f||h||p||v,y=g?t(c.length,String):[],b=y.length;for(var _ in c)(u||o.call(c,_))&&!(g&&(_=="length"||p&&(_=="offset"||_=="parent")||v&&(_=="buffer"||_=="byteLength"||_=="byteOffset")||i(_,b)))&&y.push(_);return y}return FS=l,FS}var MS,YU;function mve(){if(YU)return MS;YU=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return MS=e,MS}var US,QU;function gve(){if(QU)return US;QU=1;function t(e,n){return function(r){return e(n(r))}}return US=t,US}var OS,ZU;function yve(){if(ZU)return OS;ZU=1;var t=gve(),e=t(Object.keys,Object);return OS=e,OS}var LS,e9;function vve(){if(e9)return LS;e9=1;var t=mve(),e=yve(),n=Object.prototype,r=n.hasOwnProperty;function i(s){if(!t(s))return e(s);var a=[];for(var o in Object(s))r.call(s,o)&&o!="constructor"&&a.push(o);return a}return LS=i,LS}var jS,t9;function xve(){if(t9)return jS;t9=1;var t=mG(),e=_G();function n(r){return r!=null&&e(r.length)&&!t(r)}return jS=n,jS}var BS,n9;function _ve(){if(n9)return BS;n9=1;var t=pve(),e=vve(),n=xve();function r(i){return n(i)?t(i):e(i)}return BS=r,BS}var VS,r9;function bve(){if(r9)return VS;r9=1;var t=nve(),e=sve(),n=_ve();function r(i){return t(i,n,e)}return VS=r,VS}var WS,i9;function wve(){if(i9)return WS;i9=1;var t=bve(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(s,a,o,l,c,u){var f=o&e,h=t(s),p=h.length,v=t(a),g=v.length;if(p!=g&&!f)return!1;for(var y=p;y--;){var b=h[y];if(!(f?b in a:r.call(a,b)))return!1}var _=u.get(s),w=u.get(a);if(_&&w)return _==a&&w==s;var C=!0;u.set(s,a),u.set(a,s);for(var S=f;++y<p;){b=h[y];var R=s[b],D=a[b];if(l)var N=f?l(D,R,b,a,s,u):l(R,D,b,s,a,u);if(!(N===void 0?R===D||c(R,D,o,l,u):N)){C=!1;break}S||(S=b=="constructor")}if(C&&!S){var k=s.constructor,F=a.constructor;k!=F&&"constructor"in s&&"constructor"in a&&!(typeof k=="function"&&k instanceof k&&typeof F=="function"&&F instanceof F)&&(C=!1)}return u.delete(s),u.delete(a),C}return WS=i,WS}var qS,s9;function Tve(){if(s9)return qS;s9=1;var t=qm(),e=Cc(),n=t(e,"DataView");return qS=n,qS}var zS,a9;function Eve(){if(a9)return zS;a9=1;var t=qm(),e=Cc(),n=t(e,"Promise");return zS=n,zS}var HS,o9;function Cve(){if(o9)return HS;o9=1;var t=qm(),e=Cc(),n=t(e,"Set");return HS=n,HS}var $S,l9;function Sve(){if(l9)return $S;l9=1;var t=qm(),e=Cc(),n=t(e,"WeakMap");return $S=n,$S}var GS,c9;function Dve(){if(c9)return GS;c9=1;var t=Tve(),e=ck(),n=Eve(),r=Cve(),i=Sve(),s=_w(),a=gG(),o="[object Map]",l="[object Object]",c="[object Promise]",u="[object Set]",f="[object WeakMap]",h="[object DataView]",p=a(t),v=a(e),g=a(n),y=a(r),b=a(i),_=s;return(t&&_(new t(new ArrayBuffer(1)))!=h||e&&_(new e)!=o||n&&_(n.resolve())!=c||r&&_(new r)!=u||i&&_(new i)!=f)&&(_=function(w){var C=s(w),S=C==l?w.constructor:void 0,R=S?a(S):"";if(R)switch(R){case p:return h;case v:return o;case g:return c;case y:return u;case b:return f}return C}),GS=_,GS}var KS,u9;function Ave(){if(u9)return KS;u9=1;var t=Hye(),e=vG(),n=eve(),r=wve(),i=Dve(),s=uk(),a=xG(),o=bG(),l=1,c="[object Arguments]",u="[object Array]",f="[object Object]",h=Object.prototype,p=h.hasOwnProperty;function v(g,y,b,_,w,C){var S=s(g),R=s(y),D=S?u:i(g),N=R?u:i(y);D=D==c?f:D,N=N==c?f:N;var k=D==f,F=N==f,P=D==N;if(P&&a(g)){if(!a(y))return!1;S=!0,k=!1}if(P&&!k)return C||(C=new t),S||o(g)?e(g,y,b,_,w,C):n(g,y,D,b,_,w,C);if(!(b&l)){var I=k&&p.call(g,"__wrapped__"),U=F&&p.call(y,"__wrapped__");if(I||U){var O=I?g.value():g,K=U?y.value():y;return C||(C=new t),w(O,K,b,_,C)}}return P?(C||(C=new t),r(g,y,b,_,w,C)):!1}return KS=v,KS}var XS,d9;function Nve(){if(d9)return XS;d9=1;var t=Ave(),e=Tw();function n(r,i,s,a,o){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,s,a,n,o)}return XS=n,XS}var JS,f9;function Ive(){if(f9)return JS;f9=1;var t=Nve();function e(n,r){return t(n,r)}return JS=e,JS}var y2={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */var kve=y2.exports,h9;function Rve(){return h9||(h9=1,(function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:kve,function(){return(function(n){var r={};function i(s){if(r[s])return r[s].exports;var a=r[s]={i:s,l:!1,exports:{}};return n[s].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=n,i.c=r,i.d=function(s,a,o){i.o(s,a)||Object.defineProperty(s,a,{configurable:!1,enumerable:!0,get:o})},i.n=function(s){var a=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(a,"a",a),a},i.o=function(s,a){return Object.prototype.hasOwnProperty.call(s,a)},i.p="",i(i.s=109)})([(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(17),a=i(18),o=i(19),l=i(45),c=i(46),u=i(47),f=i(48),h=i(49),p=i(12),v=i(32),g=i(33),y=i(31),b=i(1),_={Scope:b.Scope,create:b.create,find:b.find,query:b.query,register:b.register,Container:s.default,Format:a.default,Leaf:o.default,Embed:f.default,Scroll:l.default,Block:u.default,Inline:c.default,Text:h.default,Attributor:{Attribute:p.default,Class:v.default,Style:g.default,Store:y.default}};r.default=_}),(function(n,r,i){var s=this&&this.__extends||(function(){var y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,_){b.__proto__=_}||function(b,_){for(var w in _)_.hasOwnProperty(w)&&(b[w]=_[w])};return function(b,_){y(b,_);function w(){this.constructor=b}b.prototype=_===null?Object.create(_):(w.prototype=_.prototype,new w)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=(function(y){s(b,y);function b(_){var w=this;return _="[Parchment] "+_,w=y.call(this,_)||this,w.message=_,w.name=w.constructor.name,w}return b})(Error);r.ParchmentError=a;var o={},l={},c={},u={};r.DATA_KEY="__blot";var f;(function(y){y[y.TYPE=3]="TYPE",y[y.LEVEL=12]="LEVEL",y[y.ATTRIBUTE=13]="ATTRIBUTE",y[y.BLOT=14]="BLOT",y[y.INLINE=7]="INLINE",y[y.BLOCK=11]="BLOCK",y[y.BLOCK_BLOT=10]="BLOCK_BLOT",y[y.INLINE_BLOT=6]="INLINE_BLOT",y[y.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",y[y.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",y[y.ANY=15]="ANY"})(f=r.Scope||(r.Scope={}));function h(y,b){var _=v(y);if(_==null)throw new a("Unable to create "+y+" blot");var w=_,C=y instanceof Node||y.nodeType===Node.TEXT_NODE?y:w.create(b);return new w(C,b)}r.create=h;function p(y,b){return b===void 0&&(b=!1),y==null?null:y[r.DATA_KEY]!=null?y[r.DATA_KEY].blot:b?p(y.parentNode,b):null}r.find=p;function v(y,b){b===void 0&&(b=f.ANY);var _;if(typeof y=="string")_=u[y]||o[y];else if(y instanceof Text||y.nodeType===Node.TEXT_NODE)_=u.text;else if(typeof y=="number")y&f.LEVEL&f.BLOCK?_=u.block:y&f.LEVEL&f.INLINE&&(_=u.inline);else if(y instanceof HTMLElement){var w=(y.getAttribute("class")||"").split(/\s+/);for(var C in w)if(_=l[w[C]],_)break;_=_||c[y.tagName]}return _==null?null:b&f.LEVEL&_.scope&&b&f.TYPE&_.scope?_:null}r.query=v;function g(){for(var y=[],b=0;b<arguments.length;b++)y[b]=arguments[b];if(y.length>1)return y.map(function(C){return g(C)});var _=y[0];if(typeof _.blotName!="string"&&typeof _.attrName!="string")throw new a("Invalid definition");if(_.blotName==="abstract")throw new a("Cannot register abstract class");if(u[_.blotName||_.attrName]=_,typeof _.keyName=="string")o[_.keyName]=_;else if(_.className!=null&&(l[_.className]=_),_.tagName!=null){Array.isArray(_.tagName)?_.tagName=_.tagName.map(function(C){return C.toUpperCase()}):_.tagName=_.tagName.toUpperCase();var w=Array.isArray(_.tagName)?_.tagName:[_.tagName];w.forEach(function(C){(c[C]==null||_.className==null)&&(c[C]=_)})}return _}r.register=g}),(function(n,r,i){var s=i(51),a=i(11),o=i(3),l=i(20),c="\0",u=function(f){Array.isArray(f)?this.ops=f:f!=null&&Array.isArray(f.ops)?this.ops=f.ops:this.ops=[]};u.prototype.insert=function(f,h){var p={};return f.length===0?this:(p.insert=f,h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(p.attributes=h),this.push(p))},u.prototype.delete=function(f){return f<=0?this:this.push({delete:f})},u.prototype.retain=function(f,h){if(f<=0)return this;var p={retain:f};return h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(p.attributes=h),this.push(p)},u.prototype.push=function(f){var h=this.ops.length,p=this.ops[h-1];if(f=o(!0,{},f),typeof p=="object"){if(typeof f.delete=="number"&&typeof p.delete=="number")return this.ops[h-1]={delete:p.delete+f.delete},this;if(typeof p.delete=="number"&&f.insert!=null&&(h-=1,p=this.ops[h-1],typeof p!="object"))return this.ops.unshift(f),this;if(a(f.attributes,p.attributes)){if(typeof f.insert=="string"&&typeof p.insert=="string")return this.ops[h-1]={insert:p.insert+f.insert},typeof f.attributes=="object"&&(this.ops[h-1].attributes=f.attributes),this;if(typeof f.retain=="number"&&typeof p.retain=="number")return this.ops[h-1]={retain:p.retain+f.retain},typeof f.attributes=="object"&&(this.ops[h-1].attributes=f.attributes),this}}return h===this.ops.length?this.ops.push(f):this.ops.splice(h,0,f),this},u.prototype.chop=function(){var f=this.ops[this.ops.length-1];return f&&f.retain&&!f.attributes&&this.ops.pop(),this},u.prototype.filter=function(f){return this.ops.filter(f)},u.prototype.forEach=function(f){this.ops.forEach(f)},u.prototype.map=function(f){return this.ops.map(f)},u.prototype.partition=function(f){var h=[],p=[];return this.forEach(function(v){var g=f(v)?h:p;g.push(v)}),[h,p]},u.prototype.reduce=function(f,h){return this.ops.reduce(f,h)},u.prototype.changeLength=function(){return this.reduce(function(f,h){return h.insert?f+l.length(h):h.delete?f-h.delete:f},0)},u.prototype.length=function(){return this.reduce(function(f,h){return f+l.length(h)},0)},u.prototype.slice=function(f,h){f=f||0,typeof h!="number"&&(h=1/0);for(var p=[],v=l.iterator(this.ops),g=0;g<h&&v.hasNext();){var y;g<f?y=v.next(f-g):(y=v.next(h-g),p.push(y)),g+=l.length(y)}return new u(p)},u.prototype.compose=function(f){var h=l.iterator(this.ops),p=l.iterator(f.ops),v=[],g=p.peek();if(g!=null&&typeof g.retain=="number"&&g.attributes==null){for(var y=g.retain;h.peekType()==="insert"&&h.peekLength()<=y;)y-=h.peekLength(),v.push(h.next());g.retain-y>0&&p.next(g.retain-y)}for(var b=new u(v);h.hasNext()||p.hasNext();)if(p.peekType()==="insert")b.push(p.next());else if(h.peekType()==="delete")b.push(h.next());else{var _=Math.min(h.peekLength(),p.peekLength()),w=h.next(_),C=p.next(_);if(typeof C.retain=="number"){var S={};typeof w.retain=="number"?S.retain=_:S.insert=w.insert;var R=l.attributes.compose(w.attributes,C.attributes,typeof w.retain=="number");if(R&&(S.attributes=R),b.push(S),!p.hasNext()&&a(b.ops[b.ops.length-1],S)){var D=new u(h.rest());return b.concat(D).chop()}}else typeof C.delete=="number"&&typeof w.retain=="number"&&b.push(C)}return b.chop()},u.prototype.concat=function(f){var h=new u(this.ops.slice());return f.ops.length>0&&(h.push(f.ops[0]),h.ops=h.ops.concat(f.ops.slice(1))),h},u.prototype.diff=function(f,h){if(this.ops===f.ops)return new u;var p=[this,f].map(function(_){return _.map(function(w){if(w.insert!=null)return typeof w.insert=="string"?w.insert:c;var C=_===f?"on":"with";throw new Error("diff() called "+C+" non-document")}).join("")}),v=new u,g=s(p[0],p[1],h),y=l.iterator(this.ops),b=l.iterator(f.ops);return g.forEach(function(_){for(var w=_[1].length;w>0;){var C=0;switch(_[0]){case s.INSERT:C=Math.min(b.peekLength(),w),v.push(b.next(C));break;case s.DELETE:C=Math.min(w,y.peekLength()),y.next(C),v.delete(C);break;case s.EQUAL:C=Math.min(y.peekLength(),b.peekLength(),w);var S=y.next(C),R=b.next(C);a(S.insert,R.insert)?v.retain(C,l.attributes.diff(S.attributes,R.attributes)):v.push(R).delete(C);break}w-=C}}),v.chop()},u.prototype.eachLine=function(f,h){h=h||`
`;for(var p=l.iterator(this.ops),v=new u,g=0;p.hasNext();){if(p.peekType()!=="insert")return;var y=p.peek(),b=l.length(y)-p.peekLength(),_=typeof y.insert=="string"?y.insert.indexOf(h,b)-b:-1;if(_<0)v.push(p.next());else if(_>0)v.push(p.next(_));else{if(f(v,p.next(1).attributes||{},g)===!1)return;g+=1,v=new u}}v.length()>0&&f(v,{},g)},u.prototype.transform=function(f,h){if(h=!!h,typeof f=="number")return this.transformPosition(f,h);for(var p=l.iterator(this.ops),v=l.iterator(f.ops),g=new u;p.hasNext()||v.hasNext();)if(p.peekType()==="insert"&&(h||v.peekType()!=="insert"))g.retain(l.length(p.next()));else if(v.peekType()==="insert")g.push(v.next());else{var y=Math.min(p.peekLength(),v.peekLength()),b=p.next(y),_=v.next(y);if(b.delete)continue;_.delete?g.push(_):g.retain(y,l.attributes.transform(b.attributes,_.attributes,h))}return g.chop()},u.prototype.transformPosition=function(f,h){h=!!h;for(var p=l.iterator(this.ops),v=0;p.hasNext()&&v<=f;){var g=p.peekLength(),y=p.peekType();if(p.next(),y==="delete"){f-=Math.min(g,f-v);continue}else y==="insert"&&(v<f||!h)&&(f+=g);v+=g}return f},n.exports=u}),(function(n,r){var i=Object.prototype.hasOwnProperty,s=Object.prototype.toString,a=Object.defineProperty,o=Object.getOwnPropertyDescriptor,l=function(p){return typeof Array.isArray=="function"?Array.isArray(p):s.call(p)==="[object Array]"},c=function(p){if(!p||s.call(p)!=="[object Object]")return!1;var v=i.call(p,"constructor"),g=p.constructor&&p.constructor.prototype&&i.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!v&&!g)return!1;var y;for(y in p);return typeof y>"u"||i.call(p,y)},u=function(p,v){a&&v.name==="__proto__"?a(p,v.name,{enumerable:!0,configurable:!0,value:v.newValue,writable:!0}):p[v.name]=v.newValue},f=function(p,v){if(v==="__proto__")if(i.call(p,v)){if(o)return o(p,v).value}else return;return p[v]};n.exports=function h(){var p,v,g,y,b,_,w=arguments[0],C=1,S=arguments.length,R=!1;for(typeof w=="boolean"&&(R=w,w=arguments[1]||{},C=2),(w==null||typeof w!="object"&&typeof w!="function")&&(w={});C<S;++C)if(p=arguments[C],p!=null)for(v in p)g=f(w,v),y=f(p,v),w!==y&&(R&&y&&(c(y)||(b=l(y)))?(b?(b=!1,_=g&&l(g)?g:[]):_=g&&c(g)?g:{},u(w,{name:v,newValue:h(R,_,y)})):typeof y<"u"&&u(w,{name:v,newValue:y}));return w}}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var s=(function(){function P(I,U){for(var O=0;O<U.length;O++){var K=U[O];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(I,K.key,K)}}return function(I,U,O){return U&&P(I.prototype,U),O&&P(I,O),I}})(),a=function P(I,U,O){I===null&&(I=Function.prototype);var K=Object.getOwnPropertyDescriptor(I,U);if(K===void 0){var X=Object.getPrototypeOf(I);return X===null?void 0:P(X,U,O)}else{if("value"in K)return K.value;var J=K.get;return J===void 0?void 0:J.call(O)}},o=i(3),l=w(o),c=i(2),u=w(c),f=i(0),h=w(f),p=i(16),v=w(p),g=i(6),y=w(g),b=i(7),_=w(b);function w(P){return P&&P.__esModule?P:{default:P}}function C(P,I){if(!(P instanceof I))throw new TypeError("Cannot call a class as a function")}function S(P,I){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:P}function R(P,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);P.prototype=Object.create(I&&I.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(P,I):P.__proto__=I)}var D=1,N=(function(P){R(I,P);function I(){return C(this,I),S(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return s(I,[{key:"attach",value:function(){a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"attach",this).call(this),this.attributes=new h.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new u.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(O,K){var X=h.default.query(O,h.default.Scope.BLOCK_ATTRIBUTE);X!=null&&this.attributes.attribute(X,K)}},{key:"formatAt",value:function(O,K,X,J){this.format(X,J)}},{key:"insertAt",value:function(O,K,X){if(typeof K=="string"&&K.endsWith(`
`)){var J=h.default.create(k.blotName);this.parent.insertBefore(J,O===0?this:this.next),J.insertAt(0,K.slice(0,-1))}else a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertAt",this).call(this,O,K,X)}}]),I})(h.default.Embed);N.scope=h.default.Scope.BLOCK_BLOT;var k=(function(P){R(I,P);function I(U){C(this,I);var O=S(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,U));return O.cache={},O}return s(I,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(h.default.Leaf).reduce(function(O,K){return K.length()===0?O:O.insert(K.value(),F(K))},new u.default).insert(`
`,F(this))),this.cache.delta}},{key:"deleteAt",value:function(O,K){a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"deleteAt",this).call(this,O,K),this.cache={}}},{key:"formatAt",value:function(O,K,X,J){K<=0||(h.default.query(X,h.default.Scope.BLOCK)?O+K===this.length()&&this.format(X,J):a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"formatAt",this).call(this,O,Math.min(K,this.length()-O-1),X,J),this.cache={})}},{key:"insertAt",value:function(O,K,X){if(X!=null)return a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertAt",this).call(this,O,K,X);if(K.length!==0){var J=K.split(`
`),ne=J.shift();ne.length>0&&(O<this.length()-1||this.children.tail==null?a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertAt",this).call(this,Math.min(O,this.length()-1),ne):this.children.tail.insertAt(this.children.tail.length(),ne),this.cache={});var z=this;J.reduce(function(Q,B){return z=z.split(Q,!0),z.insertAt(0,B),B.length},O+ne.length)}}},{key:"insertBefore",value:function(O,K){var X=this.children.head;a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertBefore",this).call(this,O,K),X instanceof v.default&&X.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"length",this).call(this)+D),this.cache.length}},{key:"moveChildren",value:function(O,K){a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"moveChildren",this).call(this,O,K),this.cache={}}},{key:"optimize",value:function(O){a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"optimize",this).call(this,O),this.cache={}}},{key:"path",value:function(O){return a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"path",this).call(this,O,!0)}},{key:"removeChild",value:function(O){a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"removeChild",this).call(this,O),this.cache={}}},{key:"split",value:function(O){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(K&&(O===0||O>=this.length()-D)){var X=this.clone();return O===0?(this.parent.insertBefore(X,this),this):(this.parent.insertBefore(X,this.next),X)}else{var J=a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"split",this).call(this,O,K);return this.cache={},J}}}]),I})(h.default.Block);k.blotName="block",k.tagName="P",k.defaultChild="break",k.allowedChildren=[y.default,h.default.Embed,_.default];function F(P){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return P==null||(typeof P.formats=="function"&&(I=(0,l.default)(I,P.formats())),P.parent==null||P.parent.blotName=="scroll"||P.parent.statics.scope!==P.statics.scope)?I:F(P.parent,I)}r.bubbleFormats=F,r.BlockEmbed=N,r.default=k}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},a=(function(){function z(Q,B){var j=[],W=!0,G=!1,Y=void 0;try{for(var ee=Q[Symbol.iterator](),ae;!(W=(ae=ee.next()).done)&&(j.push(ae.value),!(B&&j.length===B));W=!0);}catch(de){G=!0,Y=de}finally{try{!W&&ee.return&&ee.return()}finally{if(G)throw Y}}return j}return function(Q,B){if(Array.isArray(Q))return Q;if(Symbol.iterator in Object(Q))return z(Q,B);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=(function(){function z(Q,B){for(var j=0;j<B.length;j++){var W=B[j];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(Q,W.key,W)}}return function(Q,B,j){return B&&z(Q.prototype,B),j&&z(Q,j),Q}})();i(50);var l=i(2),c=F(l),u=i(14),f=F(u),h=i(8),p=F(h),v=i(9),g=F(v),y=i(0),b=F(y),_=i(15),w=F(_),C=i(3),S=F(C),R=i(10),D=F(R),N=i(34),k=F(N);function F(z){return z&&z.__esModule?z:{default:z}}function P(z,Q,B){return Q in z?Object.defineProperty(z,Q,{value:B,enumerable:!0,configurable:!0,writable:!0}):z[Q]=B,z}function I(z,Q){if(!(z instanceof Q))throw new TypeError("Cannot call a class as a function")}var U=(0,D.default)("quill"),O=(function(){o(z,null,[{key:"debug",value:function(B){B===!0&&(B="log"),D.default.level(B)}},{key:"find",value:function(B){return B.__quill||b.default.find(B)}},{key:"import",value:function(B){return this.imports[B]==null&&U.error("Cannot import "+B+". Are you sure it was registered?"),this.imports[B]}},{key:"register",value:function(B,j){var W=this,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof B!="string"){var Y=B.attrName||B.blotName;typeof Y=="string"?this.register("formats/"+Y,B,j):Object.keys(B).forEach(function(ee){W.register(ee,B[ee],j)})}else this.imports[B]!=null&&!G&&U.warn("Overwriting "+B+" with",j),this.imports[B]=j,(B.startsWith("blots/")||B.startsWith("formats/"))&&j.blotName!=="abstract"?b.default.register(j):B.startsWith("modules")&&typeof j.register=="function"&&j.register()}}]);function z(Q){var B=this,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(I(this,z),this.options=K(Q,j),this.container=this.options.container,this.container==null)return U.error("Invalid Quill container",Q);this.options.debug&&z.debug(this.options.debug);var W=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new p.default,this.scroll=b.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new f.default(this.scroll),this.selection=new w.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(p.default.events.EDITOR_CHANGE,function(Y){Y===p.default.events.TEXT_CHANGE&&B.root.classList.toggle("ql-blank",B.editor.isBlank())}),this.emitter.on(p.default.events.SCROLL_UPDATE,function(Y,ee){var ae=B.selection.lastRange,de=ae&&ae.length===0?ae.index:void 0;X.call(B,function(){return B.editor.update(null,ee,de)},Y)});var G=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+W+"<p><br></p></div>");this.setContents(G),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return o(z,[{key:"addContainer",value:function(B){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof B=="string"){var W=B;B=document.createElement("div"),B.classList.add(W)}return this.container.insertBefore(B,j),B}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(B,j,W){var G=this,Y=J(B,j,W),ee=a(Y,4);return B=ee[0],j=ee[1],W=ee[3],X.call(this,function(){return G.editor.deleteText(B,j)},W,B,-1*j)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(B),this.container.classList.toggle("ql-disabled",!B)}},{key:"focus",value:function(){var B=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=B,this.scrollIntoView()}},{key:"format",value:function(B,j){var W=this,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;return X.call(this,function(){var Y=W.getSelection(!0),ee=new c.default;if(Y==null)return ee;if(b.default.query(B,b.default.Scope.BLOCK))ee=W.editor.formatLine(Y.index,Y.length,P({},B,j));else{if(Y.length===0)return W.selection.format(B,j),ee;ee=W.editor.formatText(Y.index,Y.length,P({},B,j))}return W.setSelection(Y,p.default.sources.SILENT),ee},G)}},{key:"formatLine",value:function(B,j,W,G,Y){var ee=this,ae=void 0,de=J(B,j,W,G,Y),fe=a(de,4);return B=fe[0],j=fe[1],ae=fe[2],Y=fe[3],X.call(this,function(){return ee.editor.formatLine(B,j,ae)},Y,B,0)}},{key:"formatText",value:function(B,j,W,G,Y){var ee=this,ae=void 0,de=J(B,j,W,G,Y),fe=a(de,4);return B=fe[0],j=fe[1],ae=fe[2],Y=fe[3],X.call(this,function(){return ee.editor.formatText(B,j,ae)},Y,B,0)}},{key:"getBounds",value:function(B){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,W=void 0;typeof B=="number"?W=this.selection.getBounds(B,j):W=this.selection.getBounds(B.index,B.length);var G=this.container.getBoundingClientRect();return{bottom:W.bottom-G.top,height:W.height,left:W.left-G.left,right:W.right-G.left,top:W.top-G.top,width:W.width}}},{key:"getContents",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-B,W=J(B,j),G=a(W,2);return B=G[0],j=G[1],this.editor.getContents(B,j)}},{key:"getFormat",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof B=="number"?this.editor.getFormat(B,j):this.editor.getFormat(B.index,B.length)}},{key:"getIndex",value:function(B){return B.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(B){return this.scroll.leaf(B)}},{key:"getLine",value:function(B){return this.scroll.line(B)}},{key:"getLines",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof B!="number"?this.scroll.lines(B.index,B.length):this.scroll.lines(B,j)}},{key:"getModule",value:function(B){return this.theme.modules[B]}},{key:"getSelection",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return B&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-B,W=J(B,j),G=a(W,2);return B=G[0],j=G[1],this.editor.getText(B,j)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(B,j,W){var G=this,Y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:z.sources.API;return X.call(this,function(){return G.editor.insertEmbed(B,j,W)},Y,B)}},{key:"insertText",value:function(B,j,W,G,Y){var ee=this,ae=void 0,de=J(B,0,W,G,Y),fe=a(de,4);return B=fe[0],ae=fe[2],Y=fe[3],X.call(this,function(){return ee.editor.insertText(B,j,ae)},Y,B,j.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(B,j,W){this.clipboard.dangerouslyPasteHTML(B,j,W)}},{key:"removeFormat",value:function(B,j,W){var G=this,Y=J(B,j,W),ee=a(Y,4);return B=ee[0],j=ee[1],W=ee[3],X.call(this,function(){return G.editor.removeFormat(B,j)},W,B)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(B){var j=this,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return X.call(this,function(){B=new c.default(B);var G=j.getLength(),Y=j.editor.deleteText(0,G),ee=j.editor.applyDelta(B),ae=ee.ops[ee.ops.length-1];ae!=null&&typeof ae.insert=="string"&&ae.insert[ae.insert.length-1]===`
`&&(j.editor.deleteText(j.getLength()-1,1),ee.delete(1));var de=Y.compose(ee);return de},W)}},{key:"setSelection",value:function(B,j,W){if(B==null)this.selection.setRange(null,j||z.sources.API);else{var G=J(B,j,W),Y=a(G,4);B=Y[0],j=Y[1],W=Y[3],this.selection.setRange(new _.Range(B,j),W),W!==p.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(B){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API,W=new c.default().insert(B);return this.setContents(W,j)}},{key:"update",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,j=this.scroll.update(B);return this.selection.update(B),j}},{key:"updateContents",value:function(B){var j=this,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return X.call(this,function(){return B=new c.default(B),j.editor.applyDelta(B,W)},W,!0)}}]),z})();O.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},O.events=p.default.events,O.sources=p.default.sources,O.version="1.3.7",O.imports={delta:c.default,parchment:b.default,"core/module":g.default,"core/theme":k.default};function K(z,Q){if(Q=(0,S.default)(!0,{container:z,modules:{clipboard:!0,keyboard:!0,history:!0}},Q),!Q.theme||Q.theme===O.DEFAULTS.theme)Q.theme=k.default;else if(Q.theme=O.import("themes/"+Q.theme),Q.theme==null)throw new Error("Invalid theme "+Q.theme+". Did you register it?");var B=(0,S.default)(!0,{},Q.theme.DEFAULTS);[B,Q].forEach(function(G){G.modules=G.modules||{},Object.keys(G.modules).forEach(function(Y){G.modules[Y]===!0&&(G.modules[Y]={})})});var j=Object.keys(B.modules).concat(Object.keys(Q.modules)),W=j.reduce(function(G,Y){var ee=O.import("modules/"+Y);return ee==null?U.error("Cannot load "+Y+" module. Are you sure you registered it?"):G[Y]=ee.DEFAULTS||{},G},{});return Q.modules!=null&&Q.modules.toolbar&&Q.modules.toolbar.constructor!==Object&&(Q.modules.toolbar={container:Q.modules.toolbar}),Q=(0,S.default)(!0,{},O.DEFAULTS,{modules:W},B,Q),["bounds","container","scrollingContainer"].forEach(function(G){typeof Q[G]=="string"&&(Q[G]=document.querySelector(Q[G]))}),Q.modules=Object.keys(Q.modules).reduce(function(G,Y){return Q.modules[Y]&&(G[Y]=Q.modules[Y]),G},{}),Q}function X(z,Q,B,j){if(this.options.strict&&!this.isEnabled()&&Q===p.default.sources.USER)return new c.default;var W=B==null?null:this.getSelection(),G=this.editor.delta,Y=z();if(W!=null&&(B===!0&&(B=W.index),j==null?W=ne(W,Y,Q):j!==0&&(W=ne(W,B,j,Q)),this.setSelection(W,p.default.sources.SILENT)),Y.length()>0){var ee,ae=[p.default.events.TEXT_CHANGE,Y,G,Q];if((ee=this.emitter).emit.apply(ee,[p.default.events.EDITOR_CHANGE].concat(ae)),Q!==p.default.sources.SILENT){var de;(de=this.emitter).emit.apply(de,ae)}}return Y}function J(z,Q,B,j,W){var G={};return typeof z.index=="number"&&typeof z.length=="number"?typeof Q!="number"?(W=j,j=B,B=Q,Q=z.length,z=z.index):(Q=z.length,z=z.index):typeof Q!="number"&&(W=j,j=B,B=Q,Q=0),(typeof B>"u"?"undefined":s(B))==="object"?(G=B,W=j):typeof B=="string"&&(j!=null?G[B]=j:W=B),W=W||p.default.sources.API,[z,Q,G,W]}function ne(z,Q,B,j){if(z==null)return null;var W=void 0,G=void 0;if(Q instanceof c.default){var Y=[z.index,z.index+z.length].map(function(fe){return Q.transformPosition(fe,j!==p.default.sources.USER)}),ee=a(Y,2);W=ee[0],G=ee[1]}else{var ae=[z.index,z.index+z.length].map(function(fe){return fe<Q||fe===Q&&j===p.default.sources.USER?fe:B>=0?fe+B:Math.max(Q,fe+B)}),de=a(ae,2);W=de[0],G=de[1]}return new _.Range(W,G-W)}r.expandConfig=K,r.overload=J,r.default=O}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function y(b,_){for(var w=0;w<_.length;w++){var C=_[w];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(b,C.key,C)}}return function(b,_,w){return _&&y(b.prototype,_),w&&y(b,w),b}})(),a=function y(b,_,w){b===null&&(b=Function.prototype);var C=Object.getOwnPropertyDescriptor(b,_);if(C===void 0){var S=Object.getPrototypeOf(b);return S===null?void 0:y(S,_,w)}else{if("value"in C)return C.value;var R=C.get;return R===void 0?void 0:R.call(w)}},o=i(7),l=f(o),c=i(0),u=f(c);function f(y){return y&&y.__esModule?y:{default:y}}function h(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}function p(y,b){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:y}function v(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(y,b):y.__proto__=b)}var g=(function(y){v(b,y);function b(){return h(this,b),p(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,[{key:"formatAt",value:function(w,C,S,R){if(b.compare(this.statics.blotName,S)<0&&u.default.query(S,u.default.Scope.BLOT)){var D=this.isolate(w,C);R&&D.wrap(S,R)}else a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"formatAt",this).call(this,w,C,S,R)}},{key:"optimize",value:function(w){if(a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"optimize",this).call(this,w),this.parent instanceof b&&b.compare(this.statics.blotName,this.parent.statics.blotName)>0){var C=this.parent.isolate(this.offset(),this.length());this.moveChildren(C),C.wrap(this)}}}],[{key:"compare",value:function(w,C){var S=b.order.indexOf(w),R=b.order.indexOf(C);return S>=0||R>=0?S-R:w===C?0:w<C?-1:1}}]),b})(u.default.Inline);g.allowedChildren=[g,u.default.Embed,l.default],g.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=g}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),a=o(s);function o(h){return h&&h.__esModule?h:{default:h}}function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function c(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function u(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=(function(h){u(p,h);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(a.default.Text);r.default=f}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function _(w,C){for(var S=0;S<C.length;S++){var R=C[S];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(w,R.key,R)}}return function(w,C,S){return C&&_(w.prototype,C),S&&_(w,S),w}})(),a=function _(w,C,S){w===null&&(w=Function.prototype);var R=Object.getOwnPropertyDescriptor(w,C);if(R===void 0){var D=Object.getPrototypeOf(w);return D===null?void 0:_(D,C,S)}else{if("value"in R)return R.value;var N=R.get;return N===void 0?void 0:N.call(S)}},o=i(54),l=f(o),c=i(10),u=f(c);function f(_){return _&&_.__esModule?_:{default:_}}function h(_,w){if(!(_ instanceof w))throw new TypeError("Cannot call a class as a function")}function p(_,w){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:_}function v(_,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);_.prototype=Object.create(w&&w.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(_,w):_.__proto__=w)}var g=(0,u.default)("quill:events"),y=["selectionchange","mousedown","mouseup","click"];y.forEach(function(_){document.addEventListener(_,function(){for(var w=arguments.length,C=Array(w),S=0;S<w;S++)C[S]=arguments[S];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(R){if(R.__quill&&R.__quill.emitter){var D;(D=R.__quill.emitter).handleDOM.apply(D,C)}})})});var b=(function(_){v(w,_);function w(){h(this,w);var C=p(this,(w.__proto__||Object.getPrototypeOf(w)).call(this));return C.listeners={},C.on("error",g.error),C}return s(w,[{key:"emit",value:function(){g.log.apply(g,arguments),a(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(S){for(var R=arguments.length,D=Array(R>1?R-1:0),N=1;N<R;N++)D[N-1]=arguments[N];(this.listeners[S.type]||[]).forEach(function(k){var F=k.node,P=k.handler;(S.target===F||F.contains(S.target))&&P.apply(void 0,[S].concat(D))})}},{key:"listenDOM",value:function(S,R,D){this.listeners[S]||(this.listeners[S]=[]),this.listeners[S].push({node:R,handler:D})}}]),w})(l.default);b.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},b.sources={API:"api",SILENT:"silent",USER:"user"},r.default=b}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});function s(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")}var a=function o(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s(this,o),this.quill=l,this.options=c};a.DEFAULTS={},r.default=a}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=["error","warn","log","info"],a="warn";function o(c){if(s.indexOf(c)<=s.indexOf(a)){for(var u,f=arguments.length,h=Array(f>1?f-1:0),p=1;p<f;p++)h[p-1]=arguments[p];(u=console)[c].apply(u,h)}}function l(c){return s.reduce(function(u,f){return u[f]=o.bind(console,f,c),u},{})}o.level=l.level=function(c){a=c},r.default=l}),(function(n,r,i){var s=Array.prototype.slice,a=i(52),o=i(53),l=n.exports=function(h,p,v){return v||(v={}),h===p?!0:h instanceof Date&&p instanceof Date?h.getTime()===p.getTime():!h||!p||typeof h!="object"&&typeof p!="object"?v.strict?h===p:h==p:f(h,p,v)};function c(h){return h==null}function u(h){return!(!h||typeof h!="object"||typeof h.length!="number"||typeof h.copy!="function"||typeof h.slice!="function"||h.length>0&&typeof h[0]!="number")}function f(h,p,v){var g,y;if(c(h)||c(p)||h.prototype!==p.prototype)return!1;if(o(h))return o(p)?(h=s.call(h),p=s.call(p),l(h,p,v)):!1;if(u(h)){if(!u(p)||h.length!==p.length)return!1;for(g=0;g<h.length;g++)if(h[g]!==p[g])return!1;return!0}try{var b=a(h),_=a(p)}catch{return!1}if(b.length!=_.length)return!1;for(b.sort(),_.sort(),g=b.length-1;g>=0;g--)if(b[g]!=_[g])return!1;for(g=b.length-1;g>=0;g--)if(y=b[g],!l(h[y],p[y],v))return!1;return typeof h==typeof p}}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(1),a=(function(){function o(l,c,u){u===void 0&&(u={}),this.attrName=l,this.keyName=c;var f=s.Scope.TYPE&s.Scope.ATTRIBUTE;u.scope!=null?this.scope=u.scope&s.Scope.LEVEL|f:this.scope=s.Scope.ATTRIBUTE,u.whitelist!=null&&(this.whitelist=u.whitelist)}return o.keys=function(l){return[].map.call(l.attributes,function(c){return c.name})},o.prototype.add=function(l,c){return this.canAdd(l,c)?(l.setAttribute(this.keyName,c),!0):!1},o.prototype.canAdd=function(l,c){var u=s.query(l,s.Scope.BLOT&(this.scope|s.Scope.TYPE));return u==null?!1:this.whitelist==null?!0:typeof c=="string"?this.whitelist.indexOf(c.replace(/["']/g,""))>-1:this.whitelist.indexOf(c)>-1},o.prototype.remove=function(l){l.removeAttribute(this.keyName)},o.prototype.value=function(l){var c=l.getAttribute(this.keyName);return this.canAdd(l,c)&&c?c:""},o})();r.default=a}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var s=(function(){function N(k,F){var P=[],I=!0,U=!1,O=void 0;try{for(var K=k[Symbol.iterator](),X;!(I=(X=K.next()).done)&&(P.push(X.value),!(F&&P.length===F));I=!0);}catch(J){U=!0,O=J}finally{try{!I&&K.return&&K.return()}finally{if(U)throw O}}return P}return function(k,F){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return N(k,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=(function(){function N(k,F){for(var P=0;P<F.length;P++){var I=F[P];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(k,I.key,I)}}return function(k,F,P){return F&&N(k.prototype,F),P&&N(k,P),k}})(),o=function N(k,F,P){k===null&&(k=Function.prototype);var I=Object.getOwnPropertyDescriptor(k,F);if(I===void 0){var U=Object.getPrototypeOf(k);return U===null?void 0:N(U,F,P)}else{if("value"in I)return I.value;var O=I.get;return O===void 0?void 0:O.call(P)}},l=i(2),c=_(l),u=i(0),f=_(u),h=i(4),p=_(h),v=i(6),g=_(v),y=i(7),b=_(y);function _(N){return N&&N.__esModule?N:{default:N}}function w(N,k){if(!(N instanceof k))throw new TypeError("Cannot call a class as a function")}function C(N,k){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:N}function S(N,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);N.prototype=Object.create(k&&k.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(N,k):N.__proto__=k)}var R=(function(N){S(k,N);function k(){return w(this,k),C(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return k})(g.default);R.blotName="code",R.tagName="CODE";var D=(function(N){S(k,N);function k(){return w(this,k),C(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return a(k,[{key:"delta",value:function(){var P=this,I=this.domNode.textContent;return I.endsWith(`
`)&&(I=I.slice(0,-1)),I.split(`
`).reduce(function(U,O){return U.insert(O).insert(`
`,P.formats())},new c.default)}},{key:"format",value:function(P,I){if(!(P===this.statics.blotName&&I)){var U=this.descendant(b.default,this.length()-1),O=s(U,1),K=O[0];K!=null&&K.deleteAt(K.length()-1,1),o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"format",this).call(this,P,I)}}},{key:"formatAt",value:function(P,I,U,O){if(I!==0&&!(f.default.query(U,f.default.Scope.BLOCK)==null||U===this.statics.blotName&&O===this.statics.formats(this.domNode))){var K=this.newlineIndex(P);if(!(K<0||K>=P+I)){var X=this.newlineIndex(P,!0)+1,J=K-X+1,ne=this.isolate(X,J),z=ne.next;ne.format(U,O),z instanceof k&&z.formatAt(0,P-X+I-J,U,O)}}}},{key:"insertAt",value:function(P,I,U){if(U==null){var O=this.descendant(b.default,P),K=s(O,2),X=K[0],J=K[1];X.insertAt(J,I)}}},{key:"length",value:function(){var P=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?P:P+1}},{key:"newlineIndex",value:function(P){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(I)return this.domNode.textContent.slice(0,P).lastIndexOf(`
`);var U=this.domNode.textContent.slice(P).indexOf(`
`);return U>-1?P+U:-1}},{key:"optimize",value:function(P){this.domNode.textContent.endsWith(`
`)||this.appendChild(f.default.create("text",`
`)),o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,P);var I=this.next;I!=null&&I.prev===this&&I.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===I.statics.formats(I.domNode)&&(I.optimize(P),I.moveChildren(this),I.remove())}},{key:"replace",value:function(P){o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replace",this).call(this,P),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(I){var U=f.default.find(I);U==null?I.parentNode.removeChild(I):U instanceof f.default.Embed?U.remove():U.unwrap()})}}],[{key:"create",value:function(P){var I=o(k.__proto__||Object.getPrototypeOf(k),"create",this).call(this,P);return I.setAttribute("spellcheck",!1),I}},{key:"formats",value:function(){return!0}}]),k})(p.default);D.blotName="code-block",D.tagName="PRE",D.TAB="  ",r.Code=R,r.default=D}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},a=(function(){function z(Q,B){var j=[],W=!0,G=!1,Y=void 0;try{for(var ee=Q[Symbol.iterator](),ae;!(W=(ae=ee.next()).done)&&(j.push(ae.value),!(B&&j.length===B));W=!0);}catch(de){G=!0,Y=de}finally{try{!W&&ee.return&&ee.return()}finally{if(G)throw Y}}return j}return function(Q,B){if(Array.isArray(Q))return Q;if(Symbol.iterator in Object(Q))return z(Q,B);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=(function(){function z(Q,B){for(var j=0;j<B.length;j++){var W=B[j];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(Q,W.key,W)}}return function(Q,B,j){return B&&z(Q.prototype,B),j&&z(Q,j),Q}})(),l=i(2),c=I(l),u=i(20),f=I(u),h=i(0),p=I(h),v=i(13),g=I(v),y=i(24),b=I(y),_=i(4),w=I(_),C=i(16),S=I(C),R=i(21),D=I(R),N=i(11),k=I(N),F=i(3),P=I(F);function I(z){return z&&z.__esModule?z:{default:z}}function U(z,Q,B){return Q in z?Object.defineProperty(z,Q,{value:B,enumerable:!0,configurable:!0,writable:!0}):z[Q]=B,z}function O(z,Q){if(!(z instanceof Q))throw new TypeError("Cannot call a class as a function")}var K=/^[ -~]*$/,X=(function(){function z(Q){O(this,z),this.scroll=Q,this.delta=this.getDelta()}return o(z,[{key:"applyDelta",value:function(B){var j=this,W=!1;this.scroll.update();var G=this.scroll.length();return this.scroll.batchStart(),B=ne(B),B.reduce(function(Y,ee){var ae=ee.retain||ee.delete||ee.insert.length||1,de=ee.attributes||{};if(ee.insert!=null){if(typeof ee.insert=="string"){var fe=ee.insert;fe.endsWith(`
`)&&W&&(W=!1,fe=fe.slice(0,-1)),Y>=G&&!fe.endsWith(`
`)&&(W=!0),j.scroll.insertAt(Y,fe);var De=j.scroll.line(Y),Pe=a(De,2),me=Pe[0],je=Pe[1],V=(0,P.default)({},(0,_.bubbleFormats)(me));if(me instanceof w.default){var ye=me.descendant(p.default.Leaf,je),be=a(ye,1),oe=be[0];V=(0,P.default)(V,(0,_.bubbleFormats)(oe))}de=f.default.attributes.diff(V,de)||{}}else if(s(ee.insert)==="object"){var re=Object.keys(ee.insert)[0];if(re==null)return Y;j.scroll.insertAt(Y,re,ee.insert[re])}G+=ae}return Object.keys(de).forEach(function(le){j.scroll.formatAt(Y,ae,le,de[le])}),Y+ae},0),B.reduce(function(Y,ee){return typeof ee.delete=="number"?(j.scroll.deleteAt(Y,ee.delete),Y):Y+(ee.retain||ee.insert.length||1)},0),this.scroll.batchEnd(),this.update(B)}},{key:"deleteText",value:function(B,j){return this.scroll.deleteAt(B,j),this.update(new c.default().retain(B).delete(j))}},{key:"formatLine",value:function(B,j){var W=this,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(G).forEach(function(Y){if(!(W.scroll.whitelist!=null&&!W.scroll.whitelist[Y])){var ee=W.scroll.lines(B,Math.max(j,1)),ae=j;ee.forEach(function(de){var fe=de.length();if(!(de instanceof g.default))de.format(Y,G[Y]);else{var De=B-de.offset(W.scroll),Pe=de.newlineIndex(De+ae)-De+1;de.formatAt(De,Pe,Y,G[Y])}ae-=fe})}}),this.scroll.optimize(),this.update(new c.default().retain(B).retain(j,(0,D.default)(G)))}},{key:"formatText",value:function(B,j){var W=this,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(G).forEach(function(Y){W.scroll.formatAt(B,j,Y,G[Y])}),this.update(new c.default().retain(B).retain(j,(0,D.default)(G)))}},{key:"getContents",value:function(B,j){return this.delta.slice(B,B+j)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(B,j){return B.concat(j.delta())},new c.default)}},{key:"getFormat",value:function(B){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,W=[],G=[];j===0?this.scroll.path(B).forEach(function(ee){var ae=a(ee,1),de=ae[0];de instanceof w.default?W.push(de):de instanceof p.default.Leaf&&G.push(de)}):(W=this.scroll.lines(B,j),G=this.scroll.descendants(p.default.Leaf,B,j));var Y=[W,G].map(function(ee){if(ee.length===0)return{};for(var ae=(0,_.bubbleFormats)(ee.shift());Object.keys(ae).length>0;){var de=ee.shift();if(de==null)return ae;ae=J((0,_.bubbleFormats)(de),ae)}return ae});return P.default.apply(P.default,Y)}},{key:"getText",value:function(B,j){return this.getContents(B,j).filter(function(W){return typeof W.insert=="string"}).map(function(W){return W.insert}).join("")}},{key:"insertEmbed",value:function(B,j,W){return this.scroll.insertAt(B,j,W),this.update(new c.default().retain(B).insert(U({},j,W)))}},{key:"insertText",value:function(B,j){var W=this,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return j=j.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(B,j),Object.keys(G).forEach(function(Y){W.scroll.formatAt(B,j.length,Y,G[Y])}),this.update(new c.default().retain(B).insert(j,(0,D.default)(G)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var B=this.scroll.children.head;return B.statics.blotName!==w.default.blotName||B.children.length>1?!1:B.children.head instanceof S.default}},{key:"removeFormat",value:function(B,j){var W=this.getText(B,j),G=this.scroll.line(B+j),Y=a(G,2),ee=Y[0],ae=Y[1],de=0,fe=new c.default;ee!=null&&(ee instanceof g.default?de=ee.newlineIndex(ae)-ae+1:de=ee.length()-ae,fe=ee.delta().slice(ae,ae+de-1).insert(`
`));var De=this.getContents(B,j+de),Pe=De.diff(new c.default().insert(W).concat(fe)),me=new c.default().retain(B).concat(Pe);return this.applyDelta(me)}},{key:"update",value:function(B){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,G=this.delta;if(j.length===1&&j[0].type==="characterData"&&j[0].target.data.match(K)&&p.default.find(j[0].target)){var Y=p.default.find(j[0].target),ee=(0,_.bubbleFormats)(Y),ae=Y.offset(this.scroll),de=j[0].oldValue.replace(b.default.CONTENTS,""),fe=new c.default().insert(de),De=new c.default().insert(Y.value()),Pe=new c.default().retain(ae).concat(fe.diff(De,W));B=Pe.reduce(function(me,je){return je.insert?me.insert(je.insert,ee):me.push(je)},new c.default),this.delta=G.compose(B)}else this.delta=this.getDelta(),(!B||!(0,k.default)(G.compose(B),this.delta))&&(B=G.diff(this.delta,W));return B}}]),z})();function J(z,Q){return Object.keys(Q).reduce(function(B,j){return z[j]==null||(Q[j]===z[j]?B[j]=Q[j]:Array.isArray(Q[j])?Q[j].indexOf(z[j])<0&&(B[j]=Q[j].concat([z[j]])):B[j]=[Q[j],z[j]]),B},{})}function ne(z){return z.reduce(function(Q,B){if(B.insert===1){var j=(0,D.default)(B.attributes);return delete j.image,Q.insert({image:B.attributes.image},j)}if(B.attributes!=null&&(B.attributes.list===!0||B.attributes.bullet===!0)&&(B=(0,D.default)(B),B.attributes.list?B.attributes.list="ordered":(B.attributes.list="bullet",delete B.attributes.bullet)),typeof B.insert=="string"){var W=B.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return Q.insert(W,B.attributes)}return Q.push(B)},new c.default)}r.default=X}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var s=(function(){function N(k,F){var P=[],I=!0,U=!1,O=void 0;try{for(var K=k[Symbol.iterator](),X;!(I=(X=K.next()).done)&&(P.push(X.value),!(F&&P.length===F));I=!0);}catch(J){U=!0,O=J}finally{try{!I&&K.return&&K.return()}finally{if(U)throw O}}return P}return function(k,F){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return N(k,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=(function(){function N(k,F){for(var P=0;P<F.length;P++){var I=F[P];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(k,I.key,I)}}return function(k,F,P){return F&&N(k.prototype,F),P&&N(k,P),k}})(),o=i(0),l=b(o),c=i(21),u=b(c),f=i(11),h=b(f),p=i(8),v=b(p),g=i(10),y=b(g);function b(N){return N&&N.__esModule?N:{default:N}}function _(N){if(Array.isArray(N)){for(var k=0,F=Array(N.length);k<N.length;k++)F[k]=N[k];return F}else return Array.from(N)}function w(N,k){if(!(N instanceof k))throw new TypeError("Cannot call a class as a function")}var C=(0,y.default)("quill:selection"),S=function N(k){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;w(this,N),this.index=k,this.length=F},R=(function(){function N(k,F){var P=this;w(this,N),this.emitter=F,this.scroll=k,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new S(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){P.mouseDown||setTimeout(P.update.bind(P,v.default.sources.USER),1)}),this.emitter.on(v.default.events.EDITOR_CHANGE,function(I,U){I===v.default.events.TEXT_CHANGE&&U.length()>0&&P.update(v.default.sources.SILENT)}),this.emitter.on(v.default.events.SCROLL_BEFORE_UPDATE,function(){if(P.hasFocus()){var I=P.getNativeRange();I!=null&&I.start.node!==P.cursor.textNode&&P.emitter.once(v.default.events.SCROLL_UPDATE,function(){try{P.setNativeRange(I.start.node,I.start.offset,I.end.node,I.end.offset)}catch{}})}}),this.emitter.on(v.default.events.SCROLL_OPTIMIZE,function(I,U){if(U.range){var O=U.range,K=O.startNode,X=O.startOffset,J=O.endNode,ne=O.endOffset;P.setNativeRange(K,X,J,ne)}}),this.update(v.default.sources.SILENT)}return a(N,[{key:"handleComposition",value:function(){var F=this;this.root.addEventListener("compositionstart",function(){F.composing=!0}),this.root.addEventListener("compositionend",function(){if(F.composing=!1,F.cursor.parent){var P=F.cursor.restore();if(!P)return;setTimeout(function(){F.setNativeRange(P.startNode,P.startOffset,P.endNode,P.endOffset)},1)}})}},{key:"handleDragging",value:function(){var F=this;this.emitter.listenDOM("mousedown",document.body,function(){F.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){F.mouseDown=!1,F.update(v.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(F,P){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[F])){this.scroll.update();var I=this.getNativeRange();if(!(I==null||!I.native.collapsed||l.default.query(F,l.default.Scope.BLOCK))){if(I.start.node!==this.cursor.textNode){var U=l.default.find(I.start.node,!1);if(U==null)return;if(U instanceof l.default.Leaf){var O=U.split(I.start.offset);U.parent.insertBefore(this.cursor,O)}else U.insertBefore(this.cursor,I.start.node);this.cursor.attach()}this.cursor.format(F,P),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(F){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,I=this.scroll.length();F=Math.min(F,I-1),P=Math.min(F+P,I-1)-F;var U=void 0,O=this.scroll.leaf(F),K=s(O,2),X=K[0],J=K[1];if(X==null)return null;var ne=X.position(J,!0),z=s(ne,2);U=z[0],J=z[1];var Q=document.createRange();if(P>0){Q.setStart(U,J);var B=this.scroll.leaf(F+P),j=s(B,2);if(X=j[0],J=j[1],X==null)return null;var W=X.position(J,!0),G=s(W,2);return U=G[0],J=G[1],Q.setEnd(U,J),Q.getBoundingClientRect()}else{var Y="left",ee=void 0;return U instanceof Text?(J<U.data.length?(Q.setStart(U,J),Q.setEnd(U,J+1)):(Q.setStart(U,J-1),Q.setEnd(U,J),Y="right"),ee=Q.getBoundingClientRect()):(ee=X.domNode.getBoundingClientRect(),J>0&&(Y="right")),{bottom:ee.top+ee.height,height:ee.height,left:ee[Y],right:ee[Y],top:ee.top,width:0}}}},{key:"getNativeRange",value:function(){var F=document.getSelection();if(F==null||F.rangeCount<=0)return null;var P=F.getRangeAt(0);if(P==null)return null;var I=this.normalizeNative(P);return C.info("getNativeRange",I),I}},{key:"getRange",value:function(){var F=this.getNativeRange();if(F==null)return[null,null];var P=this.normalizedToRange(F);return[P,F]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(F){var P=this,I=[[F.start.node,F.start.offset]];F.native.collapsed||I.push([F.end.node,F.end.offset]);var U=I.map(function(X){var J=s(X,2),ne=J[0],z=J[1],Q=l.default.find(ne,!0),B=Q.offset(P.scroll);return z===0?B:Q instanceof l.default.Container?B+Q.length():B+Q.index(ne,z)}),O=Math.min(Math.max.apply(Math,_(U)),this.scroll.length()-1),K=Math.min.apply(Math,[O].concat(_(U)));return new S(K,O-K)}},{key:"normalizeNative",value:function(F){if(!D(this.root,F.startContainer)||!F.collapsed&&!D(this.root,F.endContainer))return null;var P={start:{node:F.startContainer,offset:F.startOffset},end:{node:F.endContainer,offset:F.endOffset},native:F};return[P.start,P.end].forEach(function(I){for(var U=I.node,O=I.offset;!(U instanceof Text)&&U.childNodes.length>0;)if(U.childNodes.length>O)U=U.childNodes[O],O=0;else if(U.childNodes.length===O)U=U.lastChild,O=U instanceof Text?U.data.length:U.childNodes.length+1;else break;I.node=U,I.offset=O}),P}},{key:"rangeToNative",value:function(F){var P=this,I=F.collapsed?[F.index]:[F.index,F.index+F.length],U=[],O=this.scroll.length();return I.forEach(function(K,X){K=Math.min(O-1,K);var J=void 0,ne=P.scroll.leaf(K),z=s(ne,2),Q=z[0],B=z[1],j=Q.position(B,X!==0),W=s(j,2);J=W[0],B=W[1],U.push(J,B)}),U.length<2&&(U=U.concat(U)),U}},{key:"scrollIntoView",value:function(F){var P=this.lastRange;if(P!=null){var I=this.getBounds(P.index,P.length);if(I!=null){var U=this.scroll.length()-1,O=this.scroll.line(Math.min(P.index,U)),K=s(O,1),X=K[0],J=X;if(P.length>0){var ne=this.scroll.line(Math.min(P.index+P.length,U)),z=s(ne,1);J=z[0]}if(!(X==null||J==null)){var Q=F.getBoundingClientRect();I.top<Q.top?F.scrollTop-=Q.top-I.top:I.bottom>Q.bottom&&(F.scrollTop+=I.bottom-Q.bottom)}}}}},{key:"setNativeRange",value:function(F,P){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:F,U=arguments.length>3&&arguments[3]!==void 0?arguments[3]:P,O=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(C.info("setNativeRange",F,P,I,U),!(F!=null&&(this.root.parentNode==null||F.parentNode==null||I.parentNode==null))){var K=document.getSelection();if(K!=null)if(F!=null){this.hasFocus()||this.root.focus();var X=(this.getNativeRange()||{}).native;if(X==null||O||F!==X.startContainer||P!==X.startOffset||I!==X.endContainer||U!==X.endOffset){F.tagName=="BR"&&(P=[].indexOf.call(F.parentNode.childNodes,F),F=F.parentNode),I.tagName=="BR"&&(U=[].indexOf.call(I.parentNode.childNodes,I),I=I.parentNode);var J=document.createRange();J.setStart(F,P),J.setEnd(I,U),K.removeAllRanges(),K.addRange(J)}}else K.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(F){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;if(typeof P=="string"&&(I=P,P=!1),C.info("setRange",F),F!=null){var U=this.rangeToNative(F);this.setNativeRange.apply(this,_(U).concat([P]))}else this.setNativeRange(null);this.update(I)}},{key:"update",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v.default.sources.USER,P=this.lastRange,I=this.getRange(),U=s(I,2),O=U[0],K=U[1];if(this.lastRange=O,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,h.default)(P,this.lastRange)){var X;!this.composing&&K!=null&&K.native.collapsed&&K.start.node!==this.cursor.textNode&&this.cursor.restore();var J=[v.default.events.SELECTION_CHANGE,(0,u.default)(this.lastRange),(0,u.default)(P),F];if((X=this.emitter).emit.apply(X,[v.default.events.EDITOR_CHANGE].concat(J)),F!==v.default.sources.SILENT){var ne;(ne=this.emitter).emit.apply(ne,J)}}}}]),N})();function D(N,k){try{k.parentNode}catch{return!1}return k instanceof Text&&(k=k.parentNode),N.contains(k)}r.Range=S,r.default=R}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function v(g,y){for(var b=0;b<y.length;b++){var _=y[b];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(g,_.key,_)}}return function(g,y,b){return y&&v(g.prototype,y),b&&v(g,b),g}})(),a=function v(g,y,b){g===null&&(g=Function.prototype);var _=Object.getOwnPropertyDescriptor(g,y);if(_===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:v(w,y,b)}else{if("value"in _)return _.value;var C=_.get;return C===void 0?void 0:C.call(b)}},o=i(0),l=c(o);function c(v){return v&&v.__esModule?v:{default:v}}function u(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function f(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function h(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=(function(v){h(g,v);function g(){return u(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,[{key:"insertInto",value:function(b,_){b.children.length===0?a(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"insertInto",this).call(this,b,_):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),g})(l.default.Embed);p.blotName="break",p.tagName="BR",r.default=p}),(function(n,r,i){var s=this&&this.__extends||(function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var v in p)p.hasOwnProperty(v)&&(h[v]=p[v])};return function(h,p){f(h,p);function v(){this.constructor=h}h.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(44),o=i(30),l=i(1),c=(function(f){s(h,f);function h(p){var v=f.call(this,p)||this;return v.build(),v}return h.prototype.appendChild=function(p){this.insertBefore(p)},h.prototype.attach=function(){f.prototype.attach.call(this),this.children.forEach(function(p){p.attach()})},h.prototype.build=function(){var p=this;this.children=new a.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(v){try{var g=u(v);p.insertBefore(g,p.children.head||void 0)}catch(y){if(y instanceof l.ParchmentError)return;throw y}})},h.prototype.deleteAt=function(p,v){if(p===0&&v===this.length())return this.remove();this.children.forEachAt(p,v,function(g,y,b){g.deleteAt(y,b)})},h.prototype.descendant=function(p,v){var g=this.children.find(v),y=g[0],b=g[1];return p.blotName==null&&p(y)||p.blotName!=null&&y instanceof p?[y,b]:y instanceof h?y.descendant(p,b):[null,-1]},h.prototype.descendants=function(p,v,g){v===void 0&&(v=0),g===void 0&&(g=Number.MAX_VALUE);var y=[],b=g;return this.children.forEachAt(v,g,function(_,w,C){(p.blotName==null&&p(_)||p.blotName!=null&&_ instanceof p)&&y.push(_),_ instanceof h&&(y=y.concat(_.descendants(p,w,b))),b-=C}),y},h.prototype.detach=function(){this.children.forEach(function(p){p.detach()}),f.prototype.detach.call(this)},h.prototype.formatAt=function(p,v,g,y){this.children.forEachAt(p,v,function(b,_,w){b.formatAt(_,w,g,y)})},h.prototype.insertAt=function(p,v,g){var y=this.children.find(p),b=y[0],_=y[1];if(b)b.insertAt(_,v,g);else{var w=g==null?l.create("text",v):l.create(v,g);this.appendChild(w)}},h.prototype.insertBefore=function(p,v){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(g){return p instanceof g}))throw new l.ParchmentError("Cannot insert "+p.statics.blotName+" into "+this.statics.blotName);p.insertInto(this,v)},h.prototype.length=function(){return this.children.reduce(function(p,v){return p+v.length()},0)},h.prototype.moveChildren=function(p,v){this.children.forEach(function(g){p.insertBefore(g,v)})},h.prototype.optimize=function(p){if(f.prototype.optimize.call(this,p),this.children.length===0)if(this.statics.defaultChild!=null){var v=l.create(this.statics.defaultChild);this.appendChild(v),v.optimize(p)}else this.remove()},h.prototype.path=function(p,v){v===void 0&&(v=!1);var g=this.children.find(p,v),y=g[0],b=g[1],_=[[this,p]];return y instanceof h?_.concat(y.path(b,v)):(y!=null&&_.push([y,b]),_)},h.prototype.removeChild=function(p){this.children.remove(p)},h.prototype.replace=function(p){p instanceof h&&p.moveChildren(this),f.prototype.replace.call(this,p)},h.prototype.split=function(p,v){if(v===void 0&&(v=!1),!v){if(p===0)return this;if(p===this.length())return this.next}var g=this.clone();return this.parent.insertBefore(g,this.next),this.children.forEachAt(p,this.length(),function(y,b,_){y=y.split(b,v),g.appendChild(y)}),g},h.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},h.prototype.update=function(p,v){var g=this,y=[],b=[];p.forEach(function(_){_.target===g.domNode&&_.type==="childList"&&(y.push.apply(y,_.addedNodes),b.push.apply(b,_.removedNodes))}),b.forEach(function(_){if(!(_.parentNode!=null&&_.tagName!=="IFRAME"&&document.body.compareDocumentPosition(_)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var w=l.find(_);w!=null&&(w.domNode.parentNode==null||w.domNode.parentNode===g.domNode)&&w.detach()}}),y.filter(function(_){return _.parentNode==g.domNode}).sort(function(_,w){return _===w?0:_.compareDocumentPosition(w)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(_){var w=null;_.nextSibling!=null&&(w=l.find(_.nextSibling));var C=u(_);(C.next!=w||C.next==null)&&(C.parent!=null&&C.parent.removeChild(g),g.insertBefore(C,w||void 0))})},h})(o.default);function u(f){var h=l.find(f);if(h==null)try{h=l.create(f)}catch{h=l.create(l.Scope.INLINE),[].slice.call(f.childNodes).forEach(function(v){h.domNode.appendChild(v)}),f.parentNode&&f.parentNode.replaceChild(h.domNode,f),h.attach()}return h}r.default=c}),(function(n,r,i){var s=this&&this.__extends||(function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var v in p)p.hasOwnProperty(v)&&(h[v]=p[v])};return function(h,p){f(h,p);function v(){this.constructor=h}h.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(12),o=i(31),l=i(17),c=i(1),u=(function(f){s(h,f);function h(p){var v=f.call(this,p)||this;return v.attributes=new o.default(v.domNode),v}return h.formats=function(p){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return p.tagName.toLowerCase()},h.prototype.format=function(p,v){var g=c.query(p);g instanceof a.default?this.attributes.attribute(g,v):v&&g!=null&&(p!==this.statics.blotName||this.formats()[p]!==v)&&this.replaceWith(p,v)},h.prototype.formats=function(){var p=this.attributes.values(),v=this.statics.formats(this.domNode);return v!=null&&(p[this.statics.blotName]=v),p},h.prototype.replaceWith=function(p,v){var g=f.prototype.replaceWith.call(this,p,v);return this.attributes.copy(g),g},h.prototype.update=function(p,v){var g=this;f.prototype.update.call(this,p,v),p.some(function(y){return y.target===g.domNode&&y.type==="attributes"})&&this.attributes.build()},h.prototype.wrap=function(p,v){var g=f.prototype.wrap.call(this,p,v);return g instanceof h&&g.statics.scope===this.statics.scope&&this.attributes.move(g),g},h})(l.default);r.default=u}),(function(n,r,i){var s=this&&this.__extends||(function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){c(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(30),o=i(1),l=(function(c){s(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.value=function(f){return!0},u.prototype.index=function(f,h){return this.domNode===f||this.domNode.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(h,1):-1},u.prototype.position=function(f,h){var p=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return f>0&&(p+=1),[this.parent.domNode,p]},u.prototype.value=function(){var f;return f={},f[this.statics.blotName]=this.statics.value(this.domNode)||!0,f},u.scope=o.Scope.INLINE_BLOT,u})(a.default);r.default=l}),(function(n,r,i){var s=i(11),a=i(3),o={attributes:{compose:function(c,u,f){typeof c!="object"&&(c={}),typeof u!="object"&&(u={});var h=a(!0,{},u);f||(h=Object.keys(h).reduce(function(v,g){return h[g]!=null&&(v[g]=h[g]),v},{}));for(var p in c)c[p]!==void 0&&u[p]===void 0&&(h[p]=c[p]);return Object.keys(h).length>0?h:void 0},diff:function(c,u){typeof c!="object"&&(c={}),typeof u!="object"&&(u={});var f=Object.keys(c).concat(Object.keys(u)).reduce(function(h,p){return s(c[p],u[p])||(h[p]=u[p]===void 0?null:u[p]),h},{});return Object.keys(f).length>0?f:void 0},transform:function(c,u,f){if(typeof c!="object")return u;if(typeof u=="object"){if(!f)return u;var h=Object.keys(u).reduce(function(p,v){return c[v]===void 0&&(p[v]=u[v]),p},{});return Object.keys(h).length>0?h:void 0}}},iterator:function(c){return new l(c)},length:function(c){return typeof c.delete=="number"?c.delete:typeof c.retain=="number"?c.retain:typeof c.insert=="string"?c.insert.length:1}};function l(c){this.ops=c,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(c){c||(c=1/0);var u=this.ops[this.index];if(u){var f=this.offset,h=o.length(u);if(c>=h-f?(c=h-f,this.index+=1,this.offset=0):this.offset+=c,typeof u.delete=="number")return{delete:c};var p={};return u.attributes&&(p.attributes=u.attributes),typeof u.retain=="number"?p.retain=c:typeof u.insert=="string"?p.insert=u.insert.substr(f,c):p.insert=u.insert,p}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?o.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var c=this.offset,u=this.index,f=this.next(),h=this.ops.slice(this.index);return this.offset=c,this.index=u,[f].concat(h)}else return[]},n.exports=o}),(function(n,r){var i=(function(){function s(g,y){return y!=null&&g instanceof y}var a;try{a=Map}catch{a=function(){}}var o;try{o=Set}catch{o=function(){}}var l;try{l=Promise}catch{l=function(){}}function c(g,y,b,_,w){typeof y=="object"&&(b=y.depth,_=y.prototype,w=y.includeNonEnumerable,y=y.circular);var C=[],S=[],R=typeof Buffer<"u";typeof y>"u"&&(y=!0),typeof b>"u"&&(b=1/0);function D(N,k){if(N===null)return null;if(k===0)return N;var F,P;if(typeof N!="object")return N;if(s(N,a))F=new a;else if(s(N,o))F=new o;else if(s(N,l))F=new l(function(Q,B){N.then(function(j){Q(D(j,k-1))},function(j){B(D(j,k-1))})});else if(c.__isArray(N))F=[];else if(c.__isRegExp(N))F=new RegExp(N.source,v(N)),N.lastIndex&&(F.lastIndex=N.lastIndex);else if(c.__isDate(N))F=new Date(N.getTime());else{if(R&&Buffer.isBuffer(N))return Buffer.allocUnsafe?F=Buffer.allocUnsafe(N.length):F=new Buffer(N.length),N.copy(F),F;s(N,Error)?F=Object.create(N):typeof _>"u"?(P=Object.getPrototypeOf(N),F=Object.create(P)):(F=Object.create(_),P=_)}if(y){var I=C.indexOf(N);if(I!=-1)return S[I];C.push(N),S.push(F)}s(N,a)&&N.forEach(function(Q,B){var j=D(B,k-1),W=D(Q,k-1);F.set(j,W)}),s(N,o)&&N.forEach(function(Q){var B=D(Q,k-1);F.add(B)});for(var U in N){var O;P&&(O=Object.getOwnPropertyDescriptor(P,U)),!(O&&O.set==null)&&(F[U]=D(N[U],k-1))}if(Object.getOwnPropertySymbols)for(var K=Object.getOwnPropertySymbols(N),U=0;U<K.length;U++){var X=K[U],J=Object.getOwnPropertyDescriptor(N,X);J&&!J.enumerable&&!w||(F[X]=D(N[X],k-1),J.enumerable||Object.defineProperty(F,X,{enumerable:!1}))}if(w)for(var ne=Object.getOwnPropertyNames(N),U=0;U<ne.length;U++){var z=ne[U],J=Object.getOwnPropertyDescriptor(N,z);J&&J.enumerable||(F[z]=D(N[z],k-1),Object.defineProperty(F,z,{enumerable:!1}))}return F}return D(g,b)}c.clonePrototype=function(y){if(y===null)return null;var b=function(){};return b.prototype=y,new b};function u(g){return Object.prototype.toString.call(g)}c.__objToStr=u;function f(g){return typeof g=="object"&&u(g)==="[object Date]"}c.__isDate=f;function h(g){return typeof g=="object"&&u(g)==="[object Array]"}c.__isArray=h;function p(g){return typeof g=="object"&&u(g)==="[object RegExp]"}c.__isRegExp=p;function v(g){var y="";return g.global&&(y+="g"),g.ignoreCase&&(y+="i"),g.multiline&&(y+="m"),y}return c.__getRegExpFlags=v,c})();typeof n=="object"&&n.exports&&(n.exports=i)}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function F(P,I){var U=[],O=!0,K=!1,X=void 0;try{for(var J=P[Symbol.iterator](),ne;!(O=(ne=J.next()).done)&&(U.push(ne.value),!(I&&U.length===I));O=!0);}catch(z){K=!0,X=z}finally{try{!O&&J.return&&J.return()}finally{if(K)throw X}}return U}return function(P,I){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return F(P,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=(function(){function F(P,I){for(var U=0;U<I.length;U++){var O=I[U];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(P,O.key,O)}}return function(P,I,U){return I&&F(P.prototype,I),U&&F(P,U),P}})(),o=function F(P,I,U){P===null&&(P=Function.prototype);var O=Object.getOwnPropertyDescriptor(P,I);if(O===void 0){var K=Object.getPrototypeOf(P);return K===null?void 0:F(K,I,U)}else{if("value"in O)return O.value;var X=O.get;return X===void 0?void 0:X.call(U)}},l=i(0),c=C(l),u=i(8),f=C(u),h=i(4),p=C(h),v=i(16),g=C(v),y=i(13),b=C(y),_=i(25),w=C(_);function C(F){return F&&F.__esModule?F:{default:F}}function S(F,P){if(!(F instanceof P))throw new TypeError("Cannot call a class as a function")}function R(F,P){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:F}function D(F,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);F.prototype=Object.create(P&&P.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(F,P):F.__proto__=P)}function N(F){return F instanceof p.default||F instanceof h.BlockEmbed}var k=(function(F){D(P,F);function P(I,U){S(this,P);var O=R(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,I));return O.emitter=U.emitter,Array.isArray(U.whitelist)&&(O.whitelist=U.whitelist.reduce(function(K,X){return K[X]=!0,K},{})),O.domNode.addEventListener("DOMNodeInserted",function(){}),O.optimize(),O.enable(),O}return a(P,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(U,O){var K=this.line(U),X=s(K,2),J=X[0],ne=X[1],z=this.line(U+O),Q=s(z,1),B=Q[0];if(o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"deleteAt",this).call(this,U,O),B!=null&&J!==B&&ne>0){if(J instanceof h.BlockEmbed||B instanceof h.BlockEmbed){this.optimize();return}if(J instanceof b.default){var j=J.newlineIndex(J.length(),!0);if(j>-1&&(J=J.split(j+1),J===B)){this.optimize();return}}else if(B instanceof b.default){var W=B.newlineIndex(0);W>-1&&B.split(W+1)}var G=B.children.head instanceof g.default?null:B.children.head;J.moveChildren(B,G),J.remove()}this.optimize()}},{key:"enable",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",U)}},{key:"formatAt",value:function(U,O,K,X){this.whitelist!=null&&!this.whitelist[K]||(o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"formatAt",this).call(this,U,O,K,X),this.optimize())}},{key:"insertAt",value:function(U,O,K){if(!(K!=null&&this.whitelist!=null&&!this.whitelist[O])){if(U>=this.length())if(K==null||c.default.query(O,c.default.Scope.BLOCK)==null){var X=c.default.create(this.statics.defaultChild);this.appendChild(X),K==null&&O.endsWith(`
`)&&(O=O.slice(0,-1)),X.insertAt(0,O,K)}else{var J=c.default.create(O,K);this.appendChild(J)}else o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,U,O,K);this.optimize()}}},{key:"insertBefore",value:function(U,O){if(U.statics.scope===c.default.Scope.INLINE_BLOT){var K=c.default.create(this.statics.defaultChild);K.appendChild(U),U=K}o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertBefore",this).call(this,U,O)}},{key:"leaf",value:function(U){return this.path(U).pop()||[null,-1]}},{key:"line",value:function(U){return U===this.length()?this.line(U-1):this.descendant(N,U)}},{key:"lines",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,K=function X(J,ne,z){var Q=[],B=z;return J.children.forEachAt(ne,z,function(j,W,G){N(j)?Q.push(j):j instanceof c.default.Container&&(Q=Q.concat(X(j,W,B))),B-=G}),Q};return K(this,U,O)}},{key:"optimize",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"optimize",this).call(this,U,O),U.length>0&&this.emitter.emit(f.default.events.SCROLL_OPTIMIZE,U,O))}},{key:"path",value:function(U){return o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"path",this).call(this,U).slice(1)}},{key:"update",value:function(U){if(this.batch!==!0){var O=f.default.sources.USER;typeof U=="string"&&(O=U),Array.isArray(U)||(U=this.observer.takeRecords()),U.length>0&&this.emitter.emit(f.default.events.SCROLL_BEFORE_UPDATE,O,U),o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"update",this).call(this,U.concat([])),U.length>0&&this.emitter.emit(f.default.events.SCROLL_UPDATE,O,U)}}}]),P})(c.default.Scroll);k.blotName="scroll",k.className="ql-editor",k.tagName="DIV",k.defaultChild="block",k.allowedChildren=[p.default,h.BlockEmbed,w.default],r.default=k}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ee){return typeof ee}:function(ee){return ee&&typeof Symbol=="function"&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":typeof ee},a=(function(){function ee(ae,de){var fe=[],De=!0,Pe=!1,me=void 0;try{for(var je=ae[Symbol.iterator](),V;!(De=(V=je.next()).done)&&(fe.push(V.value),!(de&&fe.length===de));De=!0);}catch(ye){Pe=!0,me=ye}finally{try{!De&&je.return&&je.return()}finally{if(Pe)throw me}}return fe}return function(ae,de){if(Array.isArray(ae))return ae;if(Symbol.iterator in Object(ae))return ee(ae,de);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=(function(){function ee(ae,de){for(var fe=0;fe<de.length;fe++){var De=de[fe];De.enumerable=De.enumerable||!1,De.configurable=!0,"value"in De&&(De.writable=!0),Object.defineProperty(ae,De.key,De)}}return function(ae,de,fe){return de&&ee(ae.prototype,de),fe&&ee(ae,fe),ae}})(),l=i(21),c=F(l),u=i(11),f=F(u),h=i(3),p=F(h),v=i(2),g=F(v),y=i(20),b=F(y),_=i(0),w=F(_),C=i(5),S=F(C),R=i(10),D=F(R),N=i(9),k=F(N);function F(ee){return ee&&ee.__esModule?ee:{default:ee}}function P(ee,ae,de){return ae in ee?Object.defineProperty(ee,ae,{value:de,enumerable:!0,configurable:!0,writable:!0}):ee[ae]=de,ee}function I(ee,ae){if(!(ee instanceof ae))throw new TypeError("Cannot call a class as a function")}function U(ee,ae){if(!ee)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ae&&(typeof ae=="object"||typeof ae=="function")?ae:ee}function O(ee,ae){if(typeof ae!="function"&&ae!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ae);ee.prototype=Object.create(ae&&ae.prototype,{constructor:{value:ee,enumerable:!1,writable:!0,configurable:!0}}),ae&&(Object.setPrototypeOf?Object.setPrototypeOf(ee,ae):ee.__proto__=ae)}var K=(0,D.default)("quill:keyboard"),X=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",J=(function(ee){O(ae,ee),o(ae,null,[{key:"match",value:function(fe,De){return De=Y(De),["altKey","ctrlKey","metaKey","shiftKey"].some(function(Pe){return!!De[Pe]!==fe[Pe]&&De[Pe]!==null})?!1:De.key===(fe.which||fe.keyCode)}}]);function ae(de,fe){I(this,ae);var De=U(this,(ae.__proto__||Object.getPrototypeOf(ae)).call(this,de,fe));return De.bindings={},Object.keys(De.options.bindings).forEach(function(Pe){Pe==="list autofill"&&de.scroll.whitelist!=null&&!de.scroll.whitelist.list||De.options.bindings[Pe]&&De.addBinding(De.options.bindings[Pe])}),De.addBinding({key:ae.keys.ENTER,shiftKey:null},j),De.addBinding({key:ae.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(De.addBinding({key:ae.keys.BACKSPACE},{collapsed:!0},z),De.addBinding({key:ae.keys.DELETE},{collapsed:!0},Q)):(De.addBinding({key:ae.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},z),De.addBinding({key:ae.keys.DELETE},{collapsed:!0,suffix:/^.?$/},Q)),De.addBinding({key:ae.keys.BACKSPACE},{collapsed:!1},B),De.addBinding({key:ae.keys.DELETE},{collapsed:!1},B),De.addBinding({key:ae.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},z),De.listen(),De}return o(ae,[{key:"addBinding",value:function(fe){var De=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},me=Y(fe);if(me==null||me.key==null)return K.warn("Attempted to add invalid keyboard binding",me);typeof De=="function"&&(De={handler:De}),typeof Pe=="function"&&(Pe={handler:Pe}),me=(0,p.default)(me,De,Pe),this.bindings[me.key]=this.bindings[me.key]||[],this.bindings[me.key].push(me)}},{key:"listen",value:function(){var fe=this;this.quill.root.addEventListener("keydown",function(De){if(!De.defaultPrevented){var Pe=De.which||De.keyCode,me=(fe.bindings[Pe]||[]).filter(function(Le){return ae.match(De,Le)});if(me.length!==0){var je=fe.quill.getSelection();if(!(je==null||!fe.quill.hasFocus())){var V=fe.quill.getLine(je.index),ye=a(V,2),be=ye[0],oe=ye[1],re=fe.quill.getLeaf(je.index),le=a(re,2),he=le[0],_e=le[1],ie=je.length===0?[he,_e]:fe.quill.getLeaf(je.index+je.length),ce=a(ie,2),ge=ce[0],ve=ce[1],Se=he instanceof w.default.Text?he.value().slice(0,_e):"",Oe=ge instanceof w.default.Text?ge.value().slice(ve):"",Te={collapsed:je.length===0,empty:je.length===0&&be.length()<=1,format:fe.quill.getFormat(je),offset:oe,prefix:Se,suffix:Oe},Ue=me.some(function(Le){if(Le.collapsed!=null&&Le.collapsed!==Te.collapsed||Le.empty!=null&&Le.empty!==Te.empty||Le.offset!=null&&Le.offset!==Te.offset)return!1;if(Array.isArray(Le.format)){if(Le.format.every(function(Ge){return Te.format[Ge]==null}))return!1}else if(s(Le.format)==="object"&&!Object.keys(Le.format).every(function(Ge){return Le.format[Ge]===!0?Te.format[Ge]!=null:Le.format[Ge]===!1?Te.format[Ge]==null:(0,f.default)(Le.format[Ge],Te.format[Ge])}))return!1;return Le.prefix!=null&&!Le.prefix.test(Te.prefix)||Le.suffix!=null&&!Le.suffix.test(Te.suffix)?!1:Le.handler.call(fe,je,Te)!==!0});Ue&&De.preventDefault()}}}})}}]),ae})(k.default);J.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},J.DEFAULTS={bindings:{bold:G("bold"),italic:G("italic"),underline:G("underline"),indent:{key:J.keys.TAB,format:["blockquote","indent","list"],handler:function(ae,de){if(de.collapsed&&de.offset!==0)return!0;this.quill.format("indent","+1",S.default.sources.USER)}},outdent:{key:J.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(ae,de){if(de.collapsed&&de.offset!==0)return!0;this.quill.format("indent","-1",S.default.sources.USER)}},"outdent backspace":{key:J.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(ae,de){de.format.indent!=null?this.quill.format("indent","-1",S.default.sources.USER):de.format.list!=null&&this.quill.format("list",!1,S.default.sources.USER)}},"indent code-block":W(!0),"outdent code-block":W(!1),"remove tab":{key:J.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(ae){this.quill.deleteText(ae.index-1,1,S.default.sources.USER)}},tab:{key:J.keys.TAB,handler:function(ae){this.quill.history.cutoff();var de=new g.default().retain(ae.index).delete(ae.length).insert("	");this.quill.updateContents(de,S.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(ae.index+1,S.default.sources.SILENT)}},"list empty enter":{key:J.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(ae,de){this.quill.format("list",!1,S.default.sources.USER),de.format.indent&&this.quill.format("indent",!1,S.default.sources.USER)}},"checklist enter":{key:J.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(ae){var de=this.quill.getLine(ae.index),fe=a(de,2),De=fe[0],Pe=fe[1],me=(0,p.default)({},De.formats(),{list:"checked"}),je=new g.default().retain(ae.index).insert(`
`,me).retain(De.length()-Pe-1).retain(1,{list:"unchecked"});this.quill.updateContents(je,S.default.sources.USER),this.quill.setSelection(ae.index+1,S.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:J.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(ae,de){var fe=this.quill.getLine(ae.index),De=a(fe,2),Pe=De[0],me=De[1],je=new g.default().retain(ae.index).insert(`
`,de.format).retain(Pe.length()-me-1).retain(1,{header:null});this.quill.updateContents(je,S.default.sources.USER),this.quill.setSelection(ae.index+1,S.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(ae,de){var fe=de.prefix.length,De=this.quill.getLine(ae.index),Pe=a(De,2),me=Pe[0],je=Pe[1];if(je>fe)return!0;var V=void 0;switch(de.prefix.trim()){case"[]":case"[ ]":V="unchecked";break;case"[x]":V="checked";break;case"-":case"*":V="bullet";break;default:V="ordered"}this.quill.insertText(ae.index," ",S.default.sources.USER),this.quill.history.cutoff();var ye=new g.default().retain(ae.index-je).delete(fe+1).retain(me.length()-2-je).retain(1,{list:V});this.quill.updateContents(ye,S.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(ae.index-fe,S.default.sources.SILENT)}},"code exit":{key:J.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(ae){var de=this.quill.getLine(ae.index),fe=a(de,2),De=fe[0],Pe=fe[1],me=new g.default().retain(ae.index+De.length()-Pe-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(me,S.default.sources.USER)}},"embed left":ne(J.keys.LEFT,!1),"embed left shift":ne(J.keys.LEFT,!0),"embed right":ne(J.keys.RIGHT,!1),"embed right shift":ne(J.keys.RIGHT,!0)}};function ne(ee,ae){var de,fe=ee===J.keys.LEFT?"prefix":"suffix";return de={key:ee,shiftKey:ae,altKey:null},P(de,fe,/^$/),P(de,"handler",function(Pe){var me=Pe.index;ee===J.keys.RIGHT&&(me+=Pe.length+1);var je=this.quill.getLeaf(me),V=a(je,1),ye=V[0];return ye instanceof w.default.Embed?(ee===J.keys.LEFT?ae?this.quill.setSelection(Pe.index-1,Pe.length+1,S.default.sources.USER):this.quill.setSelection(Pe.index-1,S.default.sources.USER):ae?this.quill.setSelection(Pe.index,Pe.length+1,S.default.sources.USER):this.quill.setSelection(Pe.index+Pe.length+1,S.default.sources.USER),!1):!0}),de}function z(ee,ae){if(!(ee.index===0||this.quill.getLength()<=1)){var de=this.quill.getLine(ee.index),fe=a(de,1),De=fe[0],Pe={};if(ae.offset===0){var me=this.quill.getLine(ee.index-1),je=a(me,1),V=je[0];if(V!=null&&V.length()>1){var ye=De.formats(),be=this.quill.getFormat(ee.index-1,1);Pe=b.default.attributes.diff(ye,be)||{}}}var oe=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(ae.prefix)?2:1;this.quill.deleteText(ee.index-oe,oe,S.default.sources.USER),Object.keys(Pe).length>0&&this.quill.formatLine(ee.index-oe,oe,Pe,S.default.sources.USER),this.quill.focus()}}function Q(ee,ae){var de=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(ae.suffix)?2:1;if(!(ee.index>=this.quill.getLength()-de)){var fe={},De=0,Pe=this.quill.getLine(ee.index),me=a(Pe,1),je=me[0];if(ae.offset>=je.length()-1){var V=this.quill.getLine(ee.index+1),ye=a(V,1),be=ye[0];if(be){var oe=je.formats(),re=this.quill.getFormat(ee.index,1);fe=b.default.attributes.diff(oe,re)||{},De=be.length()}}this.quill.deleteText(ee.index,de,S.default.sources.USER),Object.keys(fe).length>0&&this.quill.formatLine(ee.index+De-1,de,fe,S.default.sources.USER)}}function B(ee){var ae=this.quill.getLines(ee),de={};if(ae.length>1){var fe=ae[0].formats(),De=ae[ae.length-1].formats();de=b.default.attributes.diff(De,fe)||{}}this.quill.deleteText(ee,S.default.sources.USER),Object.keys(de).length>0&&this.quill.formatLine(ee.index,1,de,S.default.sources.USER),this.quill.setSelection(ee.index,S.default.sources.SILENT),this.quill.focus()}function j(ee,ae){var de=this;ee.length>0&&this.quill.scroll.deleteAt(ee.index,ee.length);var fe=Object.keys(ae.format).reduce(function(De,Pe){return w.default.query(Pe,w.default.Scope.BLOCK)&&!Array.isArray(ae.format[Pe])&&(De[Pe]=ae.format[Pe]),De},{});this.quill.insertText(ee.index,`
`,fe,S.default.sources.USER),this.quill.setSelection(ee.index+1,S.default.sources.SILENT),this.quill.focus(),Object.keys(ae.format).forEach(function(De){fe[De]==null&&(Array.isArray(ae.format[De])||De!=="link"&&de.quill.format(De,ae.format[De],S.default.sources.USER))})}function W(ee){return{key:J.keys.TAB,shiftKey:!ee,format:{"code-block":!0},handler:function(de){var fe=w.default.query("code-block"),De=de.index,Pe=de.length,me=this.quill.scroll.descendant(fe,De),je=a(me,2),V=je[0],ye=je[1];if(V!=null){var be=this.quill.getIndex(V),oe=V.newlineIndex(ye,!0)+1,re=V.newlineIndex(be+ye+Pe),le=V.domNode.textContent.slice(oe,re).split(`
`);ye=0,le.forEach(function(he,_e){ee?(V.insertAt(oe+ye,fe.TAB),ye+=fe.TAB.length,_e===0?De+=fe.TAB.length:Pe+=fe.TAB.length):he.startsWith(fe.TAB)&&(V.deleteAt(oe+ye,fe.TAB.length),ye-=fe.TAB.length,_e===0?De-=fe.TAB.length:Pe-=fe.TAB.length),ye+=he.length+1}),this.quill.update(S.default.sources.USER),this.quill.setSelection(De,Pe,S.default.sources.SILENT)}}}}function G(ee){return{key:ee[0].toUpperCase(),shortKey:!0,handler:function(de,fe){this.quill.format(ee,!fe.format[ee],S.default.sources.USER)}}}function Y(ee){if(typeof ee=="string"||typeof ee=="number")return Y({key:ee});if((typeof ee>"u"?"undefined":s(ee))==="object"&&(ee=(0,c.default)(ee,!1)),typeof ee.key=="string")if(J.keys[ee.key.toUpperCase()]!=null)ee.key=J.keys[ee.key.toUpperCase()];else if(ee.key.length===1)ee.key=ee.key.toUpperCase().charCodeAt(0);else return null;return ee.shortKey&&(ee[X]=ee.shortKey,delete ee.shortKey),ee}r.default=J,r.SHORTKEY=X}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function b(_,w){var C=[],S=!0,R=!1,D=void 0;try{for(var N=_[Symbol.iterator](),k;!(S=(k=N.next()).done)&&(C.push(k.value),!(w&&C.length===w));S=!0);}catch(F){R=!0,D=F}finally{try{!S&&N.return&&N.return()}finally{if(R)throw D}}return C}return function(_,w){if(Array.isArray(_))return _;if(Symbol.iterator in Object(_))return b(_,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=function b(_,w,C){_===null&&(_=Function.prototype);var S=Object.getOwnPropertyDescriptor(_,w);if(S===void 0){var R=Object.getPrototypeOf(_);return R===null?void 0:b(R,w,C)}else{if("value"in S)return S.value;var D=S.get;return D===void 0?void 0:D.call(C)}},o=(function(){function b(_,w){for(var C=0;C<w.length;C++){var S=w[C];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(_,S.key,S)}}return function(_,w,C){return w&&b(_.prototype,w),C&&b(_,C),_}})(),l=i(0),c=h(l),u=i(7),f=h(u);function h(b){return b&&b.__esModule?b:{default:b}}function p(b,_){if(!(b instanceof _))throw new TypeError("Cannot call a class as a function")}function v(b,_){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:b}function g(b,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);b.prototype=Object.create(_&&_.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(b,_):b.__proto__=_)}var y=(function(b){g(_,b),o(_,null,[{key:"value",value:function(){}}]);function _(w,C){p(this,_);var S=v(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,w));return S.selection=C,S.textNode=document.createTextNode(_.CONTENTS),S.domNode.appendChild(S.textNode),S._length=0,S}return o(_,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(C,S){if(this._length!==0)return a(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"format",this).call(this,C,S);for(var R=this,D=0;R!=null&&R.statics.scope!==c.default.Scope.BLOCK_BLOT;)D+=R.offset(R.parent),R=R.parent;R!=null&&(this._length=_.CONTENTS.length,R.optimize(),R.formatAt(D,_.CONTENTS.length,C,S),this._length=0)}},{key:"index",value:function(C,S){return C===this.textNode?0:a(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"index",this).call(this,C,S)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){a(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var C=this.textNode,S=this.selection.getNativeRange(),R=void 0,D=void 0,N=void 0;if(S!=null&&S.start.node===C&&S.end.node===C){var k=[C,S.start.offset,S.end.offset];R=k[0],D=k[1],N=k[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==_.CONTENTS){var F=this.textNode.data.split(_.CONTENTS).join("");this.next instanceof f.default?(R=this.next.domNode,this.next.insertAt(0,F),this.textNode.data=_.CONTENTS):(this.textNode.data=F,this.parent.insertBefore(c.default.create(this.textNode),this),this.textNode=document.createTextNode(_.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),D!=null){var P=[D,N].map(function(U){return Math.max(0,Math.min(R.data.length,U-1))}),I=s(P,2);return D=I[0],N=I[1],{startNode:R,startOffset:D,endNode:R,endOffset:N}}}}},{key:"update",value:function(C,S){var R=this;if(C.some(function(N){return N.type==="characterData"&&N.target===R.textNode})){var D=this.restore();D&&(S.range=D)}}},{key:"value",value:function(){return""}}]),_})(c.default.Embed);y.blotName="cursor",y.className="ql-cursor",y.tagName="span",y.CONTENTS="\uFEFF",r.default=y}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),a=c(s),o=i(4),l=c(o);function c(v){return v&&v.__esModule?v:{default:v}}function u(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function f(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function h(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=(function(v){h(g,v);function g(){return u(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g})(a.default.Container);p.allowedChildren=[l.default,o.BlockEmbed,p],r.default=p}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var s=(function(){function y(b,_){for(var w=0;w<_.length;w++){var C=_[w];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(b,C.key,C)}}return function(b,_,w){return _&&y(b.prototype,_),w&&y(b,w),b}})(),a=function y(b,_,w){b===null&&(b=Function.prototype);var C=Object.getOwnPropertyDescriptor(b,_);if(C===void 0){var S=Object.getPrototypeOf(b);return S===null?void 0:y(S,_,w)}else{if("value"in C)return C.value;var R=C.get;return R===void 0?void 0:R.call(w)}},o=i(0),l=c(o);function c(y){return y&&y.__esModule?y:{default:y}}function u(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}function f(y,b){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:y}function h(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(y,b):y.__proto__=b)}var p=(function(y){h(b,y);function b(){return u(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,[{key:"value",value:function(w){var C=a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"value",this).call(this,w);return C.startsWith("rgb(")?(C=C.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+C.split(",").map(function(S){return("00"+parseInt(S).toString(16)).slice(-2)}).join("")):C}}]),b})(l.default.Attributor.Style),v=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),g=new p("color","color",{scope:l.default.Scope.INLINE});r.ColorAttributor=p,r.ColorClass=v,r.ColorStyle=g}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var s=(function(){function g(y,b){for(var _=0;_<b.length;_++){var w=b[_];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}return function(y,b,_){return b&&g(y.prototype,b),_&&g(y,_),y}})(),a=function g(y,b,_){y===null&&(y=Function.prototype);var w=Object.getOwnPropertyDescriptor(y,b);if(w===void 0){var C=Object.getPrototypeOf(y);return C===null?void 0:g(C,b,_)}else{if("value"in w)return w.value;var S=w.get;return S===void 0?void 0:S.call(_)}},o=i(6),l=c(o);function c(g){return g&&g.__esModule?g:{default:g}}function u(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function f(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function h(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var p=(function(g){h(y,g);function y(){return u(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,[{key:"format",value:function(_,w){if(_!==this.statics.blotName||!w)return a(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,_,w);w=this.constructor.sanitize(w),this.domNode.setAttribute("href",w)}}],[{key:"create",value:function(_){var w=a(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,_);return _=this.sanitize(_),w.setAttribute("href",_),w.setAttribute("rel","noopener noreferrer"),w.setAttribute("target","_blank"),w}},{key:"formats",value:function(_){return _.getAttribute("href")}},{key:"sanitize",value:function(_){return v(_,this.PROTOCOL_WHITELIST)?_:this.SANITIZED_URL}}]),y})(l.default);p.blotName="link",p.tagName="A",p.SANITIZED_URL="about:blank",p.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function v(g,y){var b=document.createElement("a");b.href=g;var _=b.href.slice(0,b.href.indexOf(":"));return y.indexOf(_)>-1}r.default=p,r.sanitize=v}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},a=(function(){function y(b,_){for(var w=0;w<_.length;w++){var C=_[w];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(b,C.key,C)}}return function(b,_,w){return _&&y(b.prototype,_),w&&y(b,w),b}})(),o=i(23),l=f(o),c=i(107),u=f(c);function f(y){return y&&y.__esModule?y:{default:y}}function h(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}var p=0;function v(y,b){y.setAttribute(b,y.getAttribute(b)!=="true")}var g=(function(){function y(b){var _=this;h(this,y),this.select=b,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){_.togglePicker()}),this.label.addEventListener("keydown",function(w){switch(w.keyCode){case l.default.keys.ENTER:_.togglePicker();break;case l.default.keys.ESCAPE:_.escape(),w.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return a(y,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),v(this.label,"aria-expanded"),v(this.options,"aria-hidden")}},{key:"buildItem",value:function(_){var w=this,C=document.createElement("span");return C.tabIndex="0",C.setAttribute("role","button"),C.classList.add("ql-picker-item"),_.hasAttribute("value")&&C.setAttribute("data-value",_.getAttribute("value")),_.textContent&&C.setAttribute("data-label",_.textContent),C.addEventListener("click",function(){w.selectItem(C,!0)}),C.addEventListener("keydown",function(S){switch(S.keyCode){case l.default.keys.ENTER:w.selectItem(C,!0),S.preventDefault();break;case l.default.keys.ESCAPE:w.escape(),S.preventDefault();break}}),C}},{key:"buildLabel",value:function(){var _=document.createElement("span");return _.classList.add("ql-picker-label"),_.innerHTML=u.default,_.tabIndex="0",_.setAttribute("role","button"),_.setAttribute("aria-expanded","false"),this.container.appendChild(_),_}},{key:"buildOptions",value:function(){var _=this,w=document.createElement("span");w.classList.add("ql-picker-options"),w.setAttribute("aria-hidden","true"),w.tabIndex="-1",w.id="ql-picker-options-"+p,p+=1,this.label.setAttribute("aria-controls",w.id),this.options=w,[].slice.call(this.select.options).forEach(function(C){var S=_.buildItem(C);w.appendChild(S),C.selected===!0&&_.selectItem(S)}),this.container.appendChild(w)}},{key:"buildPicker",value:function(){var _=this;[].slice.call(this.select.attributes).forEach(function(w){_.container.setAttribute(w.name,w.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var _=this;this.close(),setTimeout(function(){return _.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(_){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,C=this.container.querySelector(".ql-selected");if(_!==C&&(C!=null&&C.classList.remove("ql-selected"),_!=null&&(_.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(_.parentNode.children,_),_.hasAttribute("data-value")?this.label.setAttribute("data-value",_.getAttribute("data-value")):this.label.removeAttribute("data-value"),_.hasAttribute("data-label")?this.label.setAttribute("data-label",_.getAttribute("data-label")):this.label.removeAttribute("data-label"),w))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":s(Event))==="object"){var S=document.createEvent("Event");S.initEvent("change",!0,!0),this.select.dispatchEvent(S)}this.close()}}},{key:"update",value:function(){var _=void 0;if(this.select.selectedIndex>-1){var w=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];_=this.select.options[this.select.selectedIndex],this.selectItem(w)}else this.selectItem(null);var C=_!=null&&_!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",C)}}]),y})();r.default=g}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),a=K(s),o=i(5),l=K(o),c=i(4),u=K(c),f=i(16),h=K(f),p=i(25),v=K(p),g=i(24),y=K(g),b=i(35),_=K(b),w=i(6),C=K(w),S=i(22),R=K(S),D=i(7),N=K(D),k=i(55),F=K(k),P=i(42),I=K(P),U=i(23),O=K(U);function K(X){return X&&X.__esModule?X:{default:X}}l.default.register({"blots/block":u.default,"blots/block/embed":c.BlockEmbed,"blots/break":h.default,"blots/container":v.default,"blots/cursor":y.default,"blots/embed":_.default,"blots/inline":C.default,"blots/scroll":R.default,"blots/text":N.default,"modules/clipboard":F.default,"modules/history":I.default,"modules/keyboard":O.default}),a.default.register(u.default,h.default,y.default,C.default,R.default,N.default),r.default=l.default}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(1),a=(function(){function o(l){this.domNode=l,this.domNode[s.DATA_KEY]={blot:this}}return Object.defineProperty(o.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),o.create=function(l){if(this.tagName==null)throw new s.ParchmentError("Blot definition missing tagName");var c;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?c=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?c=document.createElement(l):c=document.createElement(this.tagName[0])):c=document.createElement(this.tagName),this.className&&c.classList.add(this.className),c},o.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},o.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return s.create(l)},o.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[s.DATA_KEY]},o.prototype.deleteAt=function(l,c){var u=this.isolate(l,c);u.remove()},o.prototype.formatAt=function(l,c,u,f){var h=this.isolate(l,c);if(s.query(u,s.Scope.BLOT)!=null&&f)h.wrap(u,f);else if(s.query(u,s.Scope.ATTRIBUTE)!=null){var p=s.create(this.statics.scope);h.wrap(p),p.format(u,f)}},o.prototype.insertAt=function(l,c,u){var f=u==null?s.create("text",c):s.create(c,u),h=this.split(l);this.parent.insertBefore(f,h)},o.prototype.insertInto=function(l,c){c===void 0&&(c=null),this.parent!=null&&this.parent.children.remove(this);var u=null;l.children.insertBefore(this,c),c!=null&&(u=c.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=u)&&l.domNode.insertBefore(this.domNode,u),this.parent=l,this.attach()},o.prototype.isolate=function(l,c){var u=this.split(l);return u.split(c),u},o.prototype.length=function(){return 1},o.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},o.prototype.optimize=function(l){this.domNode[s.DATA_KEY]!=null&&delete this.domNode[s.DATA_KEY].mutations},o.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},o.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},o.prototype.replaceWith=function(l,c){var u=typeof l=="string"?s.create(l,c):l;return u.replace(this),u},o.prototype.split=function(l,c){return l===0?this:this.next},o.prototype.update=function(l,c){},o.prototype.wrap=function(l,c){var u=typeof l=="string"?s.create(l,c):l;return this.parent!=null&&this.parent.insertBefore(u,this.next),u.appendChild(this),u},o.blotName="abstract",o})();r.default=a}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),a=i(32),o=i(33),l=i(1),c=(function(){function u(f){this.attributes={},this.domNode=f,this.build()}return u.prototype.attribute=function(f,h){h?f.add(this.domNode,h)&&(f.value(this.domNode)!=null?this.attributes[f.attrName]=f:delete this.attributes[f.attrName]):(f.remove(this.domNode),delete this.attributes[f.attrName])},u.prototype.build=function(){var f=this;this.attributes={};var h=s.default.keys(this.domNode),p=a.default.keys(this.domNode),v=o.default.keys(this.domNode);h.concat(p).concat(v).forEach(function(g){var y=l.query(g,l.Scope.ATTRIBUTE);y instanceof s.default&&(f.attributes[y.attrName]=y)})},u.prototype.copy=function(f){var h=this;Object.keys(this.attributes).forEach(function(p){var v=h.attributes[p].value(h.domNode);f.format(p,v)})},u.prototype.move=function(f){var h=this;this.copy(f),Object.keys(this.attributes).forEach(function(p){h.attributes[p].remove(h.domNode)}),this.attributes={}},u.prototype.values=function(){var f=this;return Object.keys(this.attributes).reduce(function(h,p){return h[p]=f.attributes[p].value(f.domNode),h},{})},u})();r.default=c}),(function(n,r,i){var s=this&&this.__extends||(function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){c(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(12);function o(c,u){var f=c.getAttribute("class")||"";return f.split(/\s+/).filter(function(h){return h.indexOf(u+"-")===0})}var l=(function(c){s(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.keys=function(f){return(f.getAttribute("class")||"").split(/\s+/).map(function(h){return h.split("-").slice(0,-1).join("-")})},u.prototype.add=function(f,h){return this.canAdd(f,h)?(this.remove(f),f.classList.add(this.keyName+"-"+h),!0):!1},u.prototype.remove=function(f){var h=o(f,this.keyName);h.forEach(function(p){f.classList.remove(p)}),f.classList.length===0&&f.removeAttribute("class")},u.prototype.value=function(f){var h=o(f,this.keyName)[0]||"",p=h.slice(this.keyName.length+1);return this.canAdd(f,p)?p:""},u})(a.default);r.default=l}),(function(n,r,i){var s=this&&this.__extends||(function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){c(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(12);function o(c){var u=c.split("-"),f=u.slice(1).map(function(h){return h[0].toUpperCase()+h.slice(1)}).join("");return u[0]+f}var l=(function(c){s(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.keys=function(f){return(f.getAttribute("style")||"").split(";").map(function(h){var p=h.split(":");return p[0].trim()})},u.prototype.add=function(f,h){return this.canAdd(f,h)?(f.style[o(this.keyName)]=h,!0):!1},u.prototype.remove=function(f){f.style[o(this.keyName)]="",f.getAttribute("style")||f.removeAttribute("style")},u.prototype.value=function(f){var h=f.style[o(this.keyName)];return this.canAdd(f,h)?h:""},u})(a.default);r.default=l}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function l(c,u){for(var f=0;f<u.length;f++){var h=u[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(c,h.key,h)}}return function(c,u,f){return u&&l(c.prototype,u),f&&l(c,f),c}})();function a(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var o=(function(){function l(c,u){a(this,l),this.quill=c,this.options=u,this.modules={}}return s(l,[{key:"init",value:function(){var u=this;Object.keys(this.options.modules).forEach(function(f){u.modules[f]==null&&u.addModule(f)})}},{key:"addModule",value:function(u){var f=this.quill.constructor.import("modules/"+u);return this.modules[u]=new f(this.quill,this.options.modules[u]||{}),this.modules[u]}}]),l})();o.DEFAULTS={modules:{}},o.themes={default:o},r.default=o}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function b(_,w){for(var C=0;C<w.length;C++){var S=w[C];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(_,S.key,S)}}return function(_,w,C){return w&&b(_.prototype,w),C&&b(_,C),_}})(),a=function b(_,w,C){_===null&&(_=Function.prototype);var S=Object.getOwnPropertyDescriptor(_,w);if(S===void 0){var R=Object.getPrototypeOf(_);return R===null?void 0:b(R,w,C)}else{if("value"in S)return S.value;var D=S.get;return D===void 0?void 0:D.call(C)}},o=i(0),l=f(o),c=i(7),u=f(c);function f(b){return b&&b.__esModule?b:{default:b}}function h(b,_){if(!(b instanceof _))throw new TypeError("Cannot call a class as a function")}function p(b,_){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:b}function v(b,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);b.prototype=Object.create(_&&_.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(b,_):b.__proto__=_)}var g="\uFEFF",y=(function(b){v(_,b);function _(w){h(this,_);var C=p(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,w));return C.contentNode=document.createElement("span"),C.contentNode.setAttribute("contenteditable",!1),[].slice.call(C.domNode.childNodes).forEach(function(S){C.contentNode.appendChild(S)}),C.leftGuard=document.createTextNode(g),C.rightGuard=document.createTextNode(g),C.domNode.appendChild(C.leftGuard),C.domNode.appendChild(C.contentNode),C.domNode.appendChild(C.rightGuard),C}return s(_,[{key:"index",value:function(C,S){return C===this.leftGuard?0:C===this.rightGuard?1:a(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"index",this).call(this,C,S)}},{key:"restore",value:function(C){var S=void 0,R=void 0,D=C.data.split(g).join("");if(C===this.leftGuard)if(this.prev instanceof u.default){var N=this.prev.length();this.prev.insertAt(N,D),S={startNode:this.prev.domNode,startOffset:N+D.length}}else R=document.createTextNode(D),this.parent.insertBefore(l.default.create(R),this),S={startNode:R,startOffset:D.length};else C===this.rightGuard&&(this.next instanceof u.default?(this.next.insertAt(0,D),S={startNode:this.next.domNode,startOffset:D.length}):(R=document.createTextNode(D),this.parent.insertBefore(l.default.create(R),this.next),S={startNode:R,startOffset:D.length}));return C.data=g,S}},{key:"update",value:function(C,S){var R=this;C.forEach(function(D){if(D.type==="characterData"&&(D.target===R.leftGuard||D.target===R.rightGuard)){var N=R.restore(D.target);N&&(S.range=N)}})}}]),_})(l.default.Embed);r.default=y}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var s=i(0),a=o(s);function o(h){return h&&h.__esModule?h:{default:h}}var l={scope:a.default.Scope.BLOCK,whitelist:["right","center","justify"]},c=new a.default.Attributor.Attribute("align","align",l),u=new a.default.Attributor.Class("align","ql-align",l),f=new a.default.Attributor.Style("align","text-align",l);r.AlignAttribute=c,r.AlignClass=u,r.AlignStyle=f}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var s=i(0),a=l(s),o=i(26);function l(f){return f&&f.__esModule?f:{default:f}}var c=new a.default.Attributor.Class("background","ql-bg",{scope:a.default.Scope.INLINE}),u=new o.ColorAttributor("background","background-color",{scope:a.default.Scope.INLINE});r.BackgroundClass=c,r.BackgroundStyle=u}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var s=i(0),a=o(s);function o(h){return h&&h.__esModule?h:{default:h}}var l={scope:a.default.Scope.BLOCK,whitelist:["rtl"]},c=new a.default.Attributor.Attribute("direction","dir",l),u=new a.default.Attributor.Class("direction","ql-direction",l),f=new a.default.Attributor.Style("direction","direction",l);r.DirectionAttribute=c,r.DirectionClass=u,r.DirectionStyle=f}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var s=(function(){function b(_,w){for(var C=0;C<w.length;C++){var S=w[C];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(_,S.key,S)}}return function(_,w,C){return w&&b(_.prototype,w),C&&b(_,C),_}})(),a=function b(_,w,C){_===null&&(_=Function.prototype);var S=Object.getOwnPropertyDescriptor(_,w);if(S===void 0){var R=Object.getPrototypeOf(_);return R===null?void 0:b(R,w,C)}else{if("value"in S)return S.value;var D=S.get;return D===void 0?void 0:D.call(C)}},o=i(0),l=c(o);function c(b){return b&&b.__esModule?b:{default:b}}function u(b,_){if(!(b instanceof _))throw new TypeError("Cannot call a class as a function")}function f(b,_){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:b}function h(b,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);b.prototype=Object.create(_&&_.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(b,_):b.__proto__=_)}var p={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},v=new l.default.Attributor.Class("font","ql-font",p),g=(function(b){h(_,b);function _(){return u(this,_),f(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return s(_,[{key:"value",value:function(C){return a(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"value",this).call(this,C).replace(/["']/g,"")}}]),_})(l.default.Attributor.Style),y=new g("font","font-family",p);r.FontStyle=y,r.FontClass=v}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var s=i(0),a=o(s);function o(u){return u&&u.__esModule?u:{default:u}}var l=new a.default.Attributor.Class("size","ql-size",{scope:a.default.Scope.INLINE,whitelist:["small","large","huge"]}),c=new a.default.Attributor.Style("size","font-size",{scope:a.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=l,r.SizeStyle=c}),(function(n,r,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var s=(function(){function w(C,S){for(var R=0;R<S.length;R++){var D=S[R];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(C,D.key,D)}}return function(C,S,R){return S&&w(C.prototype,S),R&&w(C,R),C}})(),a=i(0),o=h(a),l=i(5),c=h(l),u=i(9),f=h(u);function h(w){return w&&w.__esModule?w:{default:w}}function p(w,C){if(!(w instanceof C))throw new TypeError("Cannot call a class as a function")}function v(w,C){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:w}function g(w,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);w.prototype=Object.create(C&&C.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(w,C):w.__proto__=C)}var y=(function(w){g(C,w);function C(S,R){p(this,C);var D=v(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,S,R));return D.lastRecorded=0,D.ignoreChange=!1,D.clear(),D.quill.on(c.default.events.EDITOR_CHANGE,function(N,k,F,P){N!==c.default.events.TEXT_CHANGE||D.ignoreChange||(!D.options.userOnly||P===c.default.sources.USER?D.record(k,F):D.transform(k))}),D.quill.keyboard.addBinding({key:"Z",shortKey:!0},D.undo.bind(D)),D.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},D.redo.bind(D)),/Win/i.test(navigator.platform)&&D.quill.keyboard.addBinding({key:"Y",shortKey:!0},D.redo.bind(D)),D}return s(C,[{key:"change",value:function(R,D){if(this.stack[R].length!==0){var N=this.stack[R].pop();this.stack[D].push(N),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(N[R],c.default.sources.USER),this.ignoreChange=!1;var k=_(N[R]);this.quill.setSelection(k)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(R,D){if(R.ops.length!==0){this.stack.redo=[];var N=this.quill.getContents().diff(D),k=Date.now();if(this.lastRecorded+this.options.delay>k&&this.stack.undo.length>0){var F=this.stack.undo.pop();N=N.compose(F.undo),R=F.redo.compose(R)}else this.lastRecorded=k;this.stack.undo.push({redo:R,undo:N}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(R){this.stack.undo.forEach(function(D){D.undo=R.transform(D.undo,!0),D.redo=R.transform(D.redo,!0)}),this.stack.redo.forEach(function(D){D.undo=R.transform(D.undo,!0),D.redo=R.transform(D.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),C})(f.default);y.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function b(w){var C=w.ops[w.ops.length-1];return C==null?!1:C.insert!=null?typeof C.insert=="string"&&C.insert.endsWith(`
`):C.attributes!=null?Object.keys(C.attributes).some(function(S){return o.default.query(S,o.default.Scope.BLOCK)!=null}):!1}function _(w){var C=w.reduce(function(R,D){return R+=D.delete||0,R},0),S=w.length()-C;return b(w)&&(S-=1),S}r.default=y,r.getLastChangeIndex=_}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var s=(function(){function j(W,G){for(var Y=0;Y<G.length;Y++){var ee=G[Y];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(W,ee.key,ee)}}return function(W,G,Y){return G&&j(W.prototype,G),Y&&j(W,Y),W}})(),a=function j(W,G,Y){W===null&&(W=Function.prototype);var ee=Object.getOwnPropertyDescriptor(W,G);if(ee===void 0){var ae=Object.getPrototypeOf(W);return ae===null?void 0:j(ae,G,Y)}else{if("value"in ee)return ee.value;var de=ee.get;return de===void 0?void 0:de.call(Y)}},o=i(3),l=k(o),c=i(2),u=k(c),f=i(8),h=k(f),p=i(23),v=k(p),g=i(34),y=k(g),b=i(59),_=k(b),w=i(60),C=k(w),S=i(28),R=k(S),D=i(61),N=k(D);function k(j){return j&&j.__esModule?j:{default:j}}function F(j,W){if(!(j instanceof W))throw new TypeError("Cannot call a class as a function")}function P(j,W){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return W&&(typeof W=="object"||typeof W=="function")?W:j}function I(j,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof W);j.prototype=Object.create(W&&W.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),W&&(Object.setPrototypeOf?Object.setPrototypeOf(j,W):j.__proto__=W)}var U=[!1,"center","right","justify"],O=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],K=[!1,"serif","monospace"],X=["1","2","3",!1],J=["small",!1,"large","huge"],ne=(function(j){I(W,j);function W(G,Y){F(this,W);var ee=P(this,(W.__proto__||Object.getPrototypeOf(W)).call(this,G,Y)),ae=function de(fe){if(!document.body.contains(G.root))return document.body.removeEventListener("click",de);ee.tooltip!=null&&!ee.tooltip.root.contains(fe.target)&&document.activeElement!==ee.tooltip.textbox&&!ee.quill.hasFocus()&&ee.tooltip.hide(),ee.pickers!=null&&ee.pickers.forEach(function(De){De.container.contains(fe.target)||De.close()})};return G.emitter.listenDOM("click",document.body,ae),ee}return s(W,[{key:"addModule",value:function(Y){var ee=a(W.prototype.__proto__||Object.getPrototypeOf(W.prototype),"addModule",this).call(this,Y);return Y==="toolbar"&&this.extendToolbar(ee),ee}},{key:"buildButtons",value:function(Y,ee){Y.forEach(function(ae){var de=ae.getAttribute("class")||"";de.split(/\s+/).forEach(function(fe){if(fe.startsWith("ql-")&&(fe=fe.slice(3),ee[fe]!=null))if(fe==="direction")ae.innerHTML=ee[fe][""]+ee[fe].rtl;else if(typeof ee[fe]=="string")ae.innerHTML=ee[fe];else{var De=ae.value||"";De!=null&&ee[fe][De]&&(ae.innerHTML=ee[fe][De])}})})}},{key:"buildPickers",value:function(Y,ee){var ae=this;this.pickers=Y.map(function(fe){if(fe.classList.contains("ql-align"))return fe.querySelector("option")==null&&B(fe,U),new C.default(fe,ee.align);if(fe.classList.contains("ql-background")||fe.classList.contains("ql-color")){var De=fe.classList.contains("ql-background")?"background":"color";return fe.querySelector("option")==null&&B(fe,O,De==="background"?"#ffffff":"#000000"),new _.default(fe,ee[De])}else return fe.querySelector("option")==null&&(fe.classList.contains("ql-font")?B(fe,K):fe.classList.contains("ql-header")?B(fe,X):fe.classList.contains("ql-size")&&B(fe,J)),new R.default(fe)});var de=function(){ae.pickers.forEach(function(De){De.update()})};this.quill.on(h.default.events.EDITOR_CHANGE,de)}}]),W})(y.default);ne.DEFAULTS=(0,l.default)(!0,{},y.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var W=this,G=this.container.querySelector("input.ql-image[type=file]");G==null&&(G=document.createElement("input"),G.setAttribute("type","file"),G.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),G.classList.add("ql-image"),G.addEventListener("change",function(){if(G.files!=null&&G.files[0]!=null){var Y=new FileReader;Y.onload=function(ee){var ae=W.quill.getSelection(!0);W.quill.updateContents(new u.default().retain(ae.index).delete(ae.length).insert({image:ee.target.result}),h.default.sources.USER),W.quill.setSelection(ae.index+1,h.default.sources.SILENT),G.value=""},Y.readAsDataURL(G.files[0])}}),this.container.appendChild(G)),G.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var z=(function(j){I(W,j);function W(G,Y){F(this,W);var ee=P(this,(W.__proto__||Object.getPrototypeOf(W)).call(this,G,Y));return ee.textbox=ee.root.querySelector('input[type="text"]'),ee.listen(),ee}return s(W,[{key:"listen",value:function(){var Y=this;this.textbox.addEventListener("keydown",function(ee){v.default.match(ee,"enter")?(Y.save(),ee.preventDefault()):v.default.match(ee,"escape")&&(Y.cancel(),ee.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),ee!=null?this.textbox.value=ee:Y!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+Y)||""),this.root.setAttribute("data-mode",Y)}},{key:"restoreFocus",value:function(){var Y=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=Y}},{key:"save",value:function(){var Y=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var ee=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",Y,h.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",Y,h.default.sources.USER)),this.quill.root.scrollTop=ee;break}case"video":Y=Q(Y);case"formula":{if(!Y)break;var ae=this.quill.getSelection(!0);if(ae!=null){var de=ae.index+ae.length;this.quill.insertEmbed(de,this.root.getAttribute("data-mode"),Y,h.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(de+1," ",h.default.sources.USER),this.quill.setSelection(de+2,h.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),W})(N.default);function Q(j){var W=j.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||j.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return W?(W[1]||"https")+"://www.youtube.com/embed/"+W[2]+"?showinfo=0":(W=j.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(W[1]||"https")+"://player.vimeo.com/video/"+W[2]+"/":j}function B(j,W){var G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;W.forEach(function(Y){var ee=document.createElement("option");Y===G?ee.setAttribute("selected","selected"):ee.setAttribute("value",Y),j.appendChild(ee)})}r.BaseTooltip=z,r.default=ne}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function a(){this.head=this.tail=null,this.length=0}return a.prototype.append=function(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];this.insertBefore(o[0],null),o.length>1&&this.append.apply(this,o.slice(1))},a.prototype.contains=function(o){for(var l,c=this.iterator();l=c();)if(l===o)return!0;return!1},a.prototype.insertBefore=function(o,l){o&&(o.next=l,l!=null?(o.prev=l.prev,l.prev!=null&&(l.prev.next=o),l.prev=o,l===this.head&&(this.head=o)):this.tail!=null?(this.tail.next=o,o.prev=this.tail,this.tail=o):(o.prev=null,this.head=this.tail=o),this.length+=1)},a.prototype.offset=function(o){for(var l=0,c=this.head;c!=null;){if(c===o)return l;l+=c.length(),c=c.next}return-1},a.prototype.remove=function(o){this.contains(o)&&(o.prev!=null&&(o.prev.next=o.next),o.next!=null&&(o.next.prev=o.prev),o===this.head&&(this.head=o.next),o===this.tail&&(this.tail=o.prev),this.length-=1)},a.prototype.iterator=function(o){return o===void 0&&(o=this.head),function(){var l=o;return o!=null&&(o=o.next),l}},a.prototype.find=function(o,l){l===void 0&&(l=!1);for(var c,u=this.iterator();c=u();){var f=c.length();if(o<f||l&&o===f&&(c.next==null||c.next.length()!==0))return[c,o];o-=f}return[null,0]},a.prototype.forEach=function(o){for(var l,c=this.iterator();l=c();)o(l)},a.prototype.forEachAt=function(o,l,c){if(!(l<=0))for(var u=this.find(o),f=u[0],h=u[1],p,v=o-h,g=this.iterator(f);(p=g())&&v<o+l;){var y=p.length();o>v?c(p,o-v,Math.min(l,v+y-o)):c(p,0,Math.min(y,o+l-v)),v+=y}},a.prototype.map=function(o){return this.reduce(function(l,c){return l.push(o(c)),l},[])},a.prototype.reduce=function(o,l){for(var c,u=this.iterator();c=u();)l=o(l,c);return l},a})();r.default=s}),(function(n,r,i){var s=this&&this.__extends||(function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var v in p)p.hasOwnProperty(v)&&(h[v]=p[v])};return function(h,p){f(h,p);function v(){this.constructor=h}h.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(17),o=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},c=100,u=(function(f){s(h,f);function h(p){var v=f.call(this,p)||this;return v.scroll=v,v.observer=new MutationObserver(function(g){v.update(g)}),v.observer.observe(v.domNode,l),v.attach(),v}return h.prototype.detach=function(){f.prototype.detach.call(this),this.observer.disconnect()},h.prototype.deleteAt=function(p,v){this.update(),p===0&&v===this.length()?this.children.forEach(function(g){g.remove()}):f.prototype.deleteAt.call(this,p,v)},h.prototype.formatAt=function(p,v,g,y){this.update(),f.prototype.formatAt.call(this,p,v,g,y)},h.prototype.insertAt=function(p,v,g){this.update(),f.prototype.insertAt.call(this,p,v,g)},h.prototype.optimize=function(p,v){var g=this;p===void 0&&(p=[]),v===void 0&&(v={}),f.prototype.optimize.call(this,v);for(var y=[].slice.call(this.observer.takeRecords());y.length>0;)p.push(y.pop());for(var b=function(S,R){R===void 0&&(R=!0),!(S==null||S===g)&&S.domNode.parentNode!=null&&(S.domNode[o.DATA_KEY].mutations==null&&(S.domNode[o.DATA_KEY].mutations=[]),R&&b(S.parent))},_=function(S){S.domNode[o.DATA_KEY]==null||S.domNode[o.DATA_KEY].mutations==null||(S instanceof a.default&&S.children.forEach(_),S.optimize(v))},w=p,C=0;w.length>0;C+=1){if(C>=c)throw new Error("[Parchment] Maximum optimize iterations reached");for(w.forEach(function(S){var R=o.find(S.target,!0);R!=null&&(R.domNode===S.target&&(S.type==="childList"?(b(o.find(S.previousSibling,!1)),[].forEach.call(S.addedNodes,function(D){var N=o.find(D,!1);b(N,!1),N instanceof a.default&&N.children.forEach(function(k){b(k,!1)})})):S.type==="attributes"&&b(R.prev)),b(R))}),this.children.forEach(_),w=[].slice.call(this.observer.takeRecords()),y=w.slice();y.length>0;)p.push(y.pop())}},h.prototype.update=function(p,v){var g=this;v===void 0&&(v={}),p=p||this.observer.takeRecords(),p.map(function(y){var b=o.find(y.target,!0);return b==null?null:b.domNode[o.DATA_KEY].mutations==null?(b.domNode[o.DATA_KEY].mutations=[y],b):(b.domNode[o.DATA_KEY].mutations.push(y),null)}).forEach(function(y){y==null||y===g||y.domNode[o.DATA_KEY]==null||y.update(y.domNode[o.DATA_KEY].mutations||[],v)}),this.domNode[o.DATA_KEY].mutations!=null&&f.prototype.update.call(this,this.domNode[o.DATA_KEY].mutations,v),this.optimize(p,v)},h.blotName="scroll",h.defaultChild="block",h.scope=o.Scope.BLOCK_BLOT,h.tagName="DIV",h})(a.default);r.default=u}),(function(n,r,i){var s=this&&this.__extends||(function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var p in h)h.hasOwnProperty(p)&&(f[p]=h[p])};return function(f,h){u(f,h);function p(){this.constructor=f}f.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(18),o=i(1);function l(u,f){if(Object.keys(u).length!==Object.keys(f).length)return!1;for(var h in u)if(u[h]!==f[h])return!1;return!0}var c=(function(u){s(f,u);function f(){return u!==null&&u.apply(this,arguments)||this}return f.formats=function(h){if(h.tagName!==f.tagName)return u.formats.call(this,h)},f.prototype.format=function(h,p){var v=this;h===this.statics.blotName&&!p?(this.children.forEach(function(g){g instanceof a.default||(g=g.wrap(f.blotName,!0)),v.attributes.copy(g)}),this.unwrap()):u.prototype.format.call(this,h,p)},f.prototype.formatAt=function(h,p,v,g){if(this.formats()[v]!=null||o.query(v,o.Scope.ATTRIBUTE)){var y=this.isolate(h,p);y.format(v,g)}else u.prototype.formatAt.call(this,h,p,v,g)},f.prototype.optimize=function(h){u.prototype.optimize.call(this,h);var p=this.formats();if(Object.keys(p).length===0)return this.unwrap();var v=this.next;v instanceof f&&v.prev===this&&l(p,v.formats())&&(v.moveChildren(this),v.remove())},f.blotName="inline",f.scope=o.Scope.INLINE_BLOT,f.tagName="SPAN",f})(a.default);r.default=c}),(function(n,r,i){var s=this&&this.__extends||(function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){c(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(18),o=i(1),l=(function(c){s(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.formats=function(f){var h=o.query(u.blotName).tagName;if(f.tagName!==h)return c.formats.call(this,f)},u.prototype.format=function(f,h){o.query(f,o.Scope.BLOCK)!=null&&(f===this.statics.blotName&&!h?this.replaceWith(u.blotName):c.prototype.format.call(this,f,h))},u.prototype.formatAt=function(f,h,p,v){o.query(p,o.Scope.BLOCK)!=null?this.format(p,v):c.prototype.formatAt.call(this,f,h,p,v)},u.prototype.insertAt=function(f,h,p){if(p==null||o.query(h,o.Scope.INLINE)!=null)c.prototype.insertAt.call(this,f,h,p);else{var v=this.split(f),g=o.create(h,p);v.parent.insertBefore(g,v)}},u.prototype.update=function(f,h){navigator.userAgent.match(/Trident/)?this.build():c.prototype.update.call(this,f,h)},u.blotName="block",u.scope=o.Scope.BLOCK_BLOT,u.tagName="P",u})(a.default);r.default=l}),(function(n,r,i){var s=this&&this.__extends||(function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,u){c.__proto__=u}||function(c,u){for(var f in u)u.hasOwnProperty(f)&&(c[f]=u[f])};return function(c,u){l(c,u);function f(){this.constructor=c}c.prototype=u===null?Object.create(u):(f.prototype=u.prototype,new f)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(19),o=(function(l){s(c,l);function c(){return l!==null&&l.apply(this,arguments)||this}return c.formats=function(u){},c.prototype.format=function(u,f){l.prototype.formatAt.call(this,0,this.length(),u,f)},c.prototype.formatAt=function(u,f,h,p){u===0&&f===this.length()?this.format(h,p):l.prototype.formatAt.call(this,u,f,h,p)},c.prototype.formats=function(){return this.statics.formats(this.domNode)},c})(a.default);r.default=o}),(function(n,r,i){var s=this&&this.__extends||(function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){c(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(19),o=i(1),l=(function(c){s(u,c);function u(f){var h=c.call(this,f)||this;return h.text=h.statics.value(h.domNode),h}return u.create=function(f){return document.createTextNode(f)},u.value=function(f){var h=f.data;return h.normalize&&(h=h.normalize()),h},u.prototype.deleteAt=function(f,h){this.domNode.data=this.text=this.text.slice(0,f)+this.text.slice(f+h)},u.prototype.index=function(f,h){return this.domNode===f?h:-1},u.prototype.insertAt=function(f,h,p){p==null?(this.text=this.text.slice(0,f)+h+this.text.slice(f),this.domNode.data=this.text):c.prototype.insertAt.call(this,f,h,p)},u.prototype.length=function(){return this.text.length},u.prototype.optimize=function(f){c.prototype.optimize.call(this,f),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof u&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},u.prototype.position=function(f,h){return[this.domNode,f]},u.prototype.split=function(f,h){if(h===void 0&&(h=!1),!h){if(f===0)return this;if(f===this.length())return this.next}var p=o.create(this.domNode.splitText(f));return this.parent.insertBefore(p,this.next),this.text=this.statics.value(this.domNode),p},u.prototype.update=function(f,h){var p=this;f.some(function(v){return v.type==="characterData"&&v.target===p.domNode})&&(this.text=this.statics.value(this.domNode))},u.prototype.value=function(){return this.text},u.blotName="text",u.scope=o.Scope.INLINE_BLOT,u})(a.default);r.default=l}),(function(n,r,i){var s=document.createElement("div");if(s.classList.toggle("test-class",!1),s.classList.contains("test-class")){var a=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(o,l){return arguments.length>1&&!this.contains(o)==!l?l:a.call(this,o)}}String.prototype.startsWith||(String.prototype.startsWith=function(o,l){return l=l||0,this.substr(l,o.length)===o}),String.prototype.endsWith||(String.prototype.endsWith=function(o,l){var c=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>c.length)&&(l=c.length),l-=o.length;var u=c.indexOf(o,l);return u!==-1&&u===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var c=Object(this),u=c.length>>>0,f=arguments[1],h,p=0;p<u;p++)if(h=c[p],l.call(f,h,p,c))return h}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})}),(function(n,r){var i=-1,s=1,a=0;function o(C,S,R){if(C==S)return C?[[a,C]]:[];(R<0||C.length<R)&&(R=null);var D=f(C,S),N=C.substring(0,D);C=C.substring(D),S=S.substring(D),D=h(C,S);var k=C.substring(C.length-D);C=C.substring(0,C.length-D),S=S.substring(0,S.length-D);var F=l(C,S);return N&&F.unshift([a,N]),k&&F.push([a,k]),v(F),R!=null&&(F=b(F,R)),F=_(F),F}function l(C,S){var R;if(!C)return[[s,S]];if(!S)return[[i,C]];var D=C.length>S.length?C:S,N=C.length>S.length?S:C,k=D.indexOf(N);if(k!=-1)return R=[[s,D.substring(0,k)],[a,N],[s,D.substring(k+N.length)]],C.length>S.length&&(R[0][0]=R[2][0]=i),R;if(N.length==1)return[[i,C],[s,S]];var F=p(C,S);if(F){var P=F[0],I=F[1],U=F[2],O=F[3],K=F[4],X=o(P,U),J=o(I,O);return X.concat([[a,K]],J)}return c(C,S)}function c(C,S){for(var R=C.length,D=S.length,N=Math.ceil((R+D)/2),k=N,F=2*N,P=new Array(F),I=new Array(F),U=0;U<F;U++)P[U]=-1,I[U]=-1;P[k+1]=0,I[k+1]=0;for(var O=R-D,K=O%2!=0,X=0,J=0,ne=0,z=0,Q=0;Q<N;Q++){for(var B=-Q+X;B<=Q-J;B+=2){var j=k+B,W;B==-Q||B!=Q&&P[j-1]<P[j+1]?W=P[j+1]:W=P[j-1]+1;for(var G=W-B;W<R&&G<D&&C.charAt(W)==S.charAt(G);)W++,G++;if(P[j]=W,W>R)J+=2;else if(G>D)X+=2;else if(K){var Y=k+O-B;if(Y>=0&&Y<F&&I[Y]!=-1){var ee=R-I[Y];if(W>=ee)return u(C,S,W,G)}}}for(var ae=-Q+ne;ae<=Q-z;ae+=2){var Y=k+ae,ee;ae==-Q||ae!=Q&&I[Y-1]<I[Y+1]?ee=I[Y+1]:ee=I[Y-1]+1;for(var de=ee-ae;ee<R&&de<D&&C.charAt(R-ee-1)==S.charAt(D-de-1);)ee++,de++;if(I[Y]=ee,ee>R)z+=2;else if(de>D)ne+=2;else if(!K){var j=k+O-ae;if(j>=0&&j<F&&P[j]!=-1){var W=P[j],G=k+W-j;if(ee=R-ee,W>=ee)return u(C,S,W,G)}}}}return[[i,C],[s,S]]}function u(C,S,R,D){var N=C.substring(0,R),k=S.substring(0,D),F=C.substring(R),P=S.substring(D),I=o(N,k),U=o(F,P);return I.concat(U)}function f(C,S){if(!C||!S||C.charAt(0)!=S.charAt(0))return 0;for(var R=0,D=Math.min(C.length,S.length),N=D,k=0;R<N;)C.substring(k,N)==S.substring(k,N)?(R=N,k=R):D=N,N=Math.floor((D-R)/2+R);return N}function h(C,S){if(!C||!S||C.charAt(C.length-1)!=S.charAt(S.length-1))return 0;for(var R=0,D=Math.min(C.length,S.length),N=D,k=0;R<N;)C.substring(C.length-N,C.length-k)==S.substring(S.length-N,S.length-k)?(R=N,k=R):D=N,N=Math.floor((D-R)/2+R);return N}function p(C,S){var R=C.length>S.length?C:S,D=C.length>S.length?S:C;if(R.length<4||D.length*2<R.length)return null;function N(J,ne,z){for(var Q=J.substring(z,z+Math.floor(J.length/4)),B=-1,j="",W,G,Y,ee;(B=ne.indexOf(Q,B+1))!=-1;){var ae=f(J.substring(z),ne.substring(B)),de=h(J.substring(0,z),ne.substring(0,B));j.length<de+ae&&(j=ne.substring(B-de,B)+ne.substring(B,B+ae),W=J.substring(0,z-de),G=J.substring(z+ae),Y=ne.substring(0,B-de),ee=ne.substring(B+ae))}return j.length*2>=J.length?[W,G,Y,ee,j]:null}var k=N(R,D,Math.ceil(R.length/4)),F=N(R,D,Math.ceil(R.length/2)),P;if(!k&&!F)return null;F?k?P=k[4].length>F[4].length?k:F:P=F:P=k;var I,U,O,K;C.length>S.length?(I=P[0],U=P[1],O=P[2],K=P[3]):(O=P[0],K=P[1],I=P[2],U=P[3]);var X=P[4];return[I,U,O,K,X]}function v(C){C.push([a,""]);for(var S=0,R=0,D=0,N="",k="",F;S<C.length;)switch(C[S][0]){case s:D++,k+=C[S][1],S++;break;case i:R++,N+=C[S][1],S++;break;case a:R+D>1?(R!==0&&D!==0&&(F=f(k,N),F!==0&&(S-R-D>0&&C[S-R-D-1][0]==a?C[S-R-D-1][1]+=k.substring(0,F):(C.splice(0,0,[a,k.substring(0,F)]),S++),k=k.substring(F),N=N.substring(F)),F=h(k,N),F!==0&&(C[S][1]=k.substring(k.length-F)+C[S][1],k=k.substring(0,k.length-F),N=N.substring(0,N.length-F))),R===0?C.splice(S-D,R+D,[s,k]):D===0?C.splice(S-R,R+D,[i,N]):C.splice(S-R-D,R+D,[i,N],[s,k]),S=S-R-D+(R?1:0)+(D?1:0)+1):S!==0&&C[S-1][0]==a?(C[S-1][1]+=C[S][1],C.splice(S,1)):S++,D=0,R=0,N="",k="";break}C[C.length-1][1]===""&&C.pop();var P=!1;for(S=1;S<C.length-1;)C[S-1][0]==a&&C[S+1][0]==a&&(C[S][1].substring(C[S][1].length-C[S-1][1].length)==C[S-1][1]?(C[S][1]=C[S-1][1]+C[S][1].substring(0,C[S][1].length-C[S-1][1].length),C[S+1][1]=C[S-1][1]+C[S+1][1],C.splice(S-1,1),P=!0):C[S][1].substring(0,C[S+1][1].length)==C[S+1][1]&&(C[S-1][1]+=C[S+1][1],C[S][1]=C[S][1].substring(C[S+1][1].length)+C[S+1][1],C.splice(S+1,1),P=!0)),S++;P&&v(C)}var g=o;g.INSERT=s,g.DELETE=i,g.EQUAL=a,n.exports=g;function y(C,S){if(S===0)return[a,C];for(var R=0,D=0;D<C.length;D++){var N=C[D];if(N[0]===i||N[0]===a){var k=R+N[1].length;if(S===k)return[D+1,C];if(S<k){C=C.slice();var F=S-R,P=[N[0],N[1].slice(0,F)],I=[N[0],N[1].slice(F)];return C.splice(D,1,P,I),[D+1,C]}else R=k}}throw new Error("cursor_pos is out of bounds!")}function b(C,S){var R=y(C,S),D=R[1],N=R[0],k=D[N],F=D[N+1];if(k==null)return C;if(k[0]!==a)return C;if(F!=null&&k[1]+F[1]===F[1]+k[1])return D.splice(N,2,F,k),w(D,N,2);if(F!=null&&F[1].indexOf(k[1])===0){D.splice(N,2,[F[0],k[1]],[0,k[1]]);var P=F[1].slice(k[1].length);return P.length>0&&D.splice(N+2,0,[F[0],P]),w(D,N,3)}else return C}function _(C){for(var S=!1,R=function(F){return F.charCodeAt(0)>=56320&&F.charCodeAt(0)<=57343},D=function(F){return F.charCodeAt(F.length-1)>=55296&&F.charCodeAt(F.length-1)<=56319},N=2;N<C.length;N+=1)C[N-2][0]===a&&D(C[N-2][1])&&C[N-1][0]===i&&R(C[N-1][1])&&C[N][0]===s&&R(C[N][1])&&(S=!0,C[N-1][1]=C[N-2][1].slice(-1)+C[N-1][1],C[N][1]=C[N-2][1].slice(-1)+C[N][1],C[N-2][1]=C[N-2][1].slice(0,-1));if(!S)return C;for(var k=[],N=0;N<C.length;N+=1)C[N][1].length>0&&k.push(C[N]);return k}function w(C,S,R){for(var D=S+R-1;D>=0&&D>=S-1;D--)if(D+1<C.length){var N=C[D],k=C[D+1];N[0]===k[1]&&C.splice(D,2,[N[0],N[1]+k[1]])}return C}}),(function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(s){var a=[];for(var o in s)a.push(o);return a}}),(function(n,r){var i=(function(){return Object.prototype.toString.call(arguments)})()=="[object Arguments]";r=n.exports=i?s:a,r.supported=s;function s(o){return Object.prototype.toString.call(o)=="[object Arguments]"}r.unsupported=a;function a(o){return o&&typeof o=="object"&&typeof o.length=="number"&&Object.prototype.hasOwnProperty.call(o,"callee")&&!Object.prototype.propertyIsEnumerable.call(o,"callee")||!1}}),(function(n,r){var i=Object.prototype.hasOwnProperty,s="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(s=!1));function o(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function l(){this._events=new a,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],f,h;if(this._eventsCount===0)return u;for(h in f=this._events)i.call(f,h)&&u.push(s?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},l.prototype.listeners=function(u,f){var h=s?s+u:u,p=this._events[h];if(f)return!!p;if(!p)return[];if(p.fn)return[p.fn];for(var v=0,g=p.length,y=new Array(g);v<g;v++)y[v]=p[v].fn;return y},l.prototype.emit=function(u,f,h,p,v,g){var y=s?s+u:u;if(!this._events[y])return!1;var b=this._events[y],_=arguments.length,w,C;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),_){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,f),!0;case 3:return b.fn.call(b.context,f,h),!0;case 4:return b.fn.call(b.context,f,h,p),!0;case 5:return b.fn.call(b.context,f,h,p,v),!0;case 6:return b.fn.call(b.context,f,h,p,v,g),!0}for(C=1,w=new Array(_-1);C<_;C++)w[C-1]=arguments[C];b.fn.apply(b.context,w)}else{var S=b.length,R;for(C=0;C<S;C++)switch(b[C].once&&this.removeListener(u,b[C].fn,void 0,!0),_){case 1:b[C].fn.call(b[C].context);break;case 2:b[C].fn.call(b[C].context,f);break;case 3:b[C].fn.call(b[C].context,f,h);break;case 4:b[C].fn.call(b[C].context,f,h,p);break;default:if(!w)for(R=1,w=new Array(_-1);R<_;R++)w[R-1]=arguments[R];b[C].fn.apply(b[C].context,w)}}return!0},l.prototype.on=function(u,f,h){var p=new o(f,h||this),v=s?s+u:u;return this._events[v]?this._events[v].fn?this._events[v]=[this._events[v],p]:this._events[v].push(p):(this._events[v]=p,this._eventsCount++),this},l.prototype.once=function(u,f,h){var p=new o(f,h||this,!0),v=s?s+u:u;return this._events[v]?this._events[v].fn?this._events[v]=[this._events[v],p]:this._events[v].push(p):(this._events[v]=p,this._eventsCount++),this},l.prototype.removeListener=function(u,f,h,p){var v=s?s+u:u;if(!this._events[v])return this;if(!f)return--this._eventsCount===0?this._events=new a:delete this._events[v],this;var g=this._events[v];if(g.fn)g.fn===f&&(!p||g.once)&&(!h||g.context===h)&&(--this._eventsCount===0?this._events=new a:delete this._events[v]);else{for(var y=0,b=[],_=g.length;y<_;y++)(g[y].fn!==f||p&&!g[y].once||h&&g[y].context!==h)&&b.push(g[y]);b.length?this._events[v]=b.length===1?b[0]:b:--this._eventsCount===0?this._events=new a:delete this._events[v]}return this},l.prototype.removeAllListeners=function(u){var f;return u?(f=s?s+u:u,this._events[f]&&(--this._eventsCount===0?this._events=new a:delete this._events[f])):(this._events=new a,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=s,l.EventEmitter=l,typeof n<"u"&&(n.exports=l)}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(re){return typeof re}:function(re){return re&&typeof Symbol=="function"&&re.constructor===Symbol&&re!==Symbol.prototype?"symbol":typeof re},a=(function(){function re(le,he){var _e=[],ie=!0,ce=!1,ge=void 0;try{for(var ve=le[Symbol.iterator](),Se;!(ie=(Se=ve.next()).done)&&(_e.push(Se.value),!(he&&_e.length===he));ie=!0);}catch(Oe){ce=!0,ge=Oe}finally{try{!ie&&ve.return&&ve.return()}finally{if(ce)throw ge}}return _e}return function(le,he){if(Array.isArray(le))return le;if(Symbol.iterator in Object(le))return re(le,he);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=(function(){function re(le,he){for(var _e=0;_e<he.length;_e++){var ie=he[_e];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(le,ie.key,ie)}}return function(le,he,_e){return he&&re(le.prototype,he),_e&&re(le,_e),le}})(),l=i(3),c=I(l),u=i(2),f=I(u),h=i(0),p=I(h),v=i(5),g=I(v),y=i(10),b=I(y),_=i(9),w=I(_),C=i(36),S=i(37),R=i(13),D=I(R),N=i(26),k=i(38),F=i(39),P=i(40);function I(re){return re&&re.__esModule?re:{default:re}}function U(re,le,he){return le in re?Object.defineProperty(re,le,{value:he,enumerable:!0,configurable:!0,writable:!0}):re[le]=he,re}function O(re,le){if(!(re instanceof le))throw new TypeError("Cannot call a class as a function")}function K(re,le){if(!re)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return le&&(typeof le=="object"||typeof le=="function")?le:re}function X(re,le){if(typeof le!="function"&&le!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof le);re.prototype=Object.create(le&&le.prototype,{constructor:{value:re,enumerable:!1,writable:!0,configurable:!0}}),le&&(Object.setPrototypeOf?Object.setPrototypeOf(re,le):re.__proto__=le)}var J=(0,b.default)("quill:clipboard"),ne="__ql-matcher",z=[[Node.TEXT_NODE,oe],[Node.TEXT_NODE,V],["br",Pe],[Node.ELEMENT_NODE,V],[Node.ELEMENT_NODE,De],[Node.ELEMENT_NODE,ye],[Node.ELEMENT_NODE,fe],[Node.ELEMENT_NODE,be],["li",je],["b",de.bind(de,"bold")],["i",de.bind(de,"italic")],["style",me]],Q=[C.AlignAttribute,k.DirectionAttribute].reduce(function(re,le){return re[le.keyName]=le,re},{}),B=[C.AlignStyle,S.BackgroundStyle,N.ColorStyle,k.DirectionStyle,F.FontStyle,P.SizeStyle].reduce(function(re,le){return re[le.keyName]=le,re},{}),j=(function(re){X(le,re);function le(he,_e){O(this,le);var ie=K(this,(le.__proto__||Object.getPrototypeOf(le)).call(this,he,_e));return ie.quill.root.addEventListener("paste",ie.onPaste.bind(ie)),ie.container=ie.quill.addContainer("ql-clipboard"),ie.container.setAttribute("contenteditable",!0),ie.container.setAttribute("tabindex",-1),ie.matchers=[],z.concat(ie.options.matchers).forEach(function(ce){var ge=a(ce,2),ve=ge[0],Se=ge[1];!_e.matchVisual&&Se===ye||ie.addMatcher(ve,Se)}),ie}return o(le,[{key:"addMatcher",value:function(_e,ie){this.matchers.push([_e,ie])}},{key:"convert",value:function(_e){if(typeof _e=="string")return this.container.innerHTML=_e.replace(/\>\r?\n +\</g,"><"),this.convert();var ie=this.quill.getFormat(this.quill.selection.savedRange.index);if(ie[D.default.blotName]){var ce=this.container.innerText;return this.container.innerHTML="",new f.default().insert(ce,U({},D.default.blotName,ie[D.default.blotName]))}var ge=this.prepareMatching(),ve=a(ge,2),Se=ve[0],Oe=ve[1],Te=ae(this.container,Se,Oe);return Y(Te,`
`)&&Te.ops[Te.ops.length-1].attributes==null&&(Te=Te.compose(new f.default().retain(Te.length()-1).delete(1))),J.log("convert",this.container.innerHTML,Te),this.container.innerHTML="",Te}},{key:"dangerouslyPasteHTML",value:function(_e,ie){var ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.default.sources.API;if(typeof _e=="string")this.quill.setContents(this.convert(_e),ie),this.quill.setSelection(0,g.default.sources.SILENT);else{var ge=this.convert(ie);this.quill.updateContents(new f.default().retain(_e).concat(ge),ce),this.quill.setSelection(_e+ge.length(),g.default.sources.SILENT)}}},{key:"onPaste",value:function(_e){var ie=this;if(!(_e.defaultPrevented||!this.quill.isEnabled())){var ce=this.quill.getSelection(),ge=new f.default().retain(ce.index),ve=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(g.default.sources.SILENT),setTimeout(function(){ge=ge.concat(ie.convert()).delete(ce.length),ie.quill.updateContents(ge,g.default.sources.USER),ie.quill.setSelection(ge.length()-ce.length,g.default.sources.SILENT),ie.quill.scrollingContainer.scrollTop=ve,ie.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var _e=this,ie=[],ce=[];return this.matchers.forEach(function(ge){var ve=a(ge,2),Se=ve[0],Oe=ve[1];switch(Se){case Node.TEXT_NODE:ce.push(Oe);break;case Node.ELEMENT_NODE:ie.push(Oe);break;default:[].forEach.call(_e.container.querySelectorAll(Se),function(Te){Te[ne]=Te[ne]||[],Te[ne].push(Oe)});break}}),[ie,ce]}}]),le})(w.default);j.DEFAULTS={matchers:[],matchVisual:!0};function W(re,le,he){return(typeof le>"u"?"undefined":s(le))==="object"?Object.keys(le).reduce(function(_e,ie){return W(_e,ie,le[ie])},re):re.reduce(function(_e,ie){return ie.attributes&&ie.attributes[le]?_e.push(ie):_e.insert(ie.insert,(0,c.default)({},U({},le,he),ie.attributes))},new f.default)}function G(re){if(re.nodeType!==Node.ELEMENT_NODE)return{};var le="__ql-computed-style";return re[le]||(re[le]=window.getComputedStyle(re))}function Y(re,le){for(var he="",_e=re.ops.length-1;_e>=0&&he.length<le.length;--_e){var ie=re.ops[_e];if(typeof ie.insert!="string")break;he=ie.insert+he}return he.slice(-1*le.length)===le}function ee(re){if(re.childNodes.length===0)return!1;var le=G(re);return["block","list-item"].indexOf(le.display)>-1}function ae(re,le,he){return re.nodeType===re.TEXT_NODE?he.reduce(function(_e,ie){return ie(re,_e)},new f.default):re.nodeType===re.ELEMENT_NODE?[].reduce.call(re.childNodes||[],function(_e,ie){var ce=ae(ie,le,he);return ie.nodeType===re.ELEMENT_NODE&&(ce=le.reduce(function(ge,ve){return ve(ie,ge)},ce),ce=(ie[ne]||[]).reduce(function(ge,ve){return ve(ie,ge)},ce)),_e.concat(ce)},new f.default):new f.default}function de(re,le,he){return W(he,re,!0)}function fe(re,le){var he=p.default.Attributor.Attribute.keys(re),_e=p.default.Attributor.Class.keys(re),ie=p.default.Attributor.Style.keys(re),ce={};return he.concat(_e).concat(ie).forEach(function(ge){var ve=p.default.query(ge,p.default.Scope.ATTRIBUTE);ve!=null&&(ce[ve.attrName]=ve.value(re),ce[ve.attrName])||(ve=Q[ge],ve!=null&&(ve.attrName===ge||ve.keyName===ge)&&(ce[ve.attrName]=ve.value(re)||void 0),ve=B[ge],ve!=null&&(ve.attrName===ge||ve.keyName===ge)&&(ve=B[ge],ce[ve.attrName]=ve.value(re)||void 0))}),Object.keys(ce).length>0&&(le=W(le,ce)),le}function De(re,le){var he=p.default.query(re);if(he==null)return le;if(he.prototype instanceof p.default.Embed){var _e={},ie=he.value(re);ie!=null&&(_e[he.blotName]=ie,le=new f.default().insert(_e,he.formats(re)))}else typeof he.formats=="function"&&(le=W(le,he.blotName,he.formats(re)));return le}function Pe(re,le){return Y(le,`
`)||le.insert(`
`),le}function me(){return new f.default}function je(re,le){var he=p.default.query(re);if(he==null||he.blotName!=="list-item"||!Y(le,`
`))return le;for(var _e=-1,ie=re.parentNode;!ie.classList.contains("ql-clipboard");)(p.default.query(ie)||{}).blotName==="list"&&(_e+=1),ie=ie.parentNode;return _e<=0?le:le.compose(new f.default().retain(le.length()-1).retain(1,{indent:_e}))}function V(re,le){return Y(le,`
`)||(ee(re)||le.length()>0&&re.nextSibling&&ee(re.nextSibling))&&le.insert(`
`),le}function ye(re,le){if(ee(re)&&re.nextElementSibling!=null&&!Y(le,`

`)){var he=re.offsetHeight+parseFloat(G(re).marginTop)+parseFloat(G(re).marginBottom);re.nextElementSibling.offsetTop>re.offsetTop+he*1.5&&le.insert(`
`)}return le}function be(re,le){var he={},_e=re.style||{};return _e.fontStyle&&G(re).fontStyle==="italic"&&(he.italic=!0),_e.fontWeight&&(G(re).fontWeight.startsWith("bold")||parseInt(G(re).fontWeight)>=700)&&(he.bold=!0),Object.keys(he).length>0&&(le=W(le,he)),parseFloat(_e.textIndent||0)>0&&(le=new f.default().insert("	").concat(le)),le}function oe(re,le){var he=re.data;if(re.parentNode.tagName==="O:P")return le.insert(he.trim());if(he.trim().length===0&&re.parentNode.classList.contains("ql-clipboard"))return le;if(!G(re.parentNode).whiteSpace.startsWith("pre")){var _e=function(ce,ge){return ge=ge.replace(/[^\u00a0]/g,""),ge.length<1&&ce?" ":ge};he=he.replace(/\r\n/g," ").replace(/\n/g," "),he=he.replace(/\s\s+/g,_e.bind(_e,!0)),(re.previousSibling==null&&ee(re.parentNode)||re.previousSibling!=null&&ee(re.previousSibling))&&(he=he.replace(/^\s+/,_e.bind(_e,!1))),(re.nextSibling==null&&ee(re.parentNode)||re.nextSibling!=null&&ee(re.nextSibling))&&(he=he.replace(/\s+$/,_e.bind(_e,!1)))}return le.insert(he)}r.default=j,r.matchAttributor=fe,r.matchBlot=De,r.matchNewline=V,r.matchSpacing=ye,r.matchText=oe}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function v(g,y){for(var b=0;b<y.length;b++){var _=y[b];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(g,_.key,_)}}return function(g,y,b){return y&&v(g.prototype,y),b&&v(g,b),g}})(),a=function v(g,y,b){g===null&&(g=Function.prototype);var _=Object.getOwnPropertyDescriptor(g,y);if(_===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:v(w,y,b)}else{if("value"in _)return _.value;var C=_.get;return C===void 0?void 0:C.call(b)}},o=i(6),l=c(o);function c(v){return v&&v.__esModule?v:{default:v}}function u(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function f(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function h(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=(function(v){h(g,v);function g(){return u(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,[{key:"optimize",value:function(b){a(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"optimize",this).call(this,b),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return a(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),g})(l.default);p.blotName="bold",p.tagName=["STRONG","B"],r.default=p}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var s=(function(){function P(I,U){var O=[],K=!0,X=!1,J=void 0;try{for(var ne=I[Symbol.iterator](),z;!(K=(z=ne.next()).done)&&(O.push(z.value),!(U&&O.length===U));K=!0);}catch(Q){X=!0,J=Q}finally{try{!K&&ne.return&&ne.return()}finally{if(X)throw J}}return O}return function(I,U){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return P(I,U);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=(function(){function P(I,U){for(var O=0;O<U.length;O++){var K=U[O];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(I,K.key,K)}}return function(I,U,O){return U&&P(I.prototype,U),O&&P(I,O),I}})(),o=i(2),l=b(o),c=i(0),u=b(c),f=i(5),h=b(f),p=i(10),v=b(p),g=i(9),y=b(g);function b(P){return P&&P.__esModule?P:{default:P}}function _(P,I,U){return I in P?Object.defineProperty(P,I,{value:U,enumerable:!0,configurable:!0,writable:!0}):P[I]=U,P}function w(P,I){if(!(P instanceof I))throw new TypeError("Cannot call a class as a function")}function C(P,I){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:P}function S(P,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);P.prototype=Object.create(I&&I.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(P,I):P.__proto__=I)}var R=(0,v.default)("quill:toolbar"),D=(function(P){S(I,P);function I(U,O){w(this,I);var K=C(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,U,O));if(Array.isArray(K.options.container)){var X=document.createElement("div");k(X,K.options.container),U.container.parentNode.insertBefore(X,U.container),K.container=X}else typeof K.options.container=="string"?K.container=document.querySelector(K.options.container):K.container=K.options.container;if(!(K.container instanceof HTMLElement)){var J;return J=R.error("Container required for toolbar",K.options),C(K,J)}return K.container.classList.add("ql-toolbar"),K.controls=[],K.handlers={},Object.keys(K.options.handlers).forEach(function(ne){K.addHandler(ne,K.options.handlers[ne])}),[].forEach.call(K.container.querySelectorAll("button, select"),function(ne){K.attach(ne)}),K.quill.on(h.default.events.EDITOR_CHANGE,function(ne,z){ne===h.default.events.SELECTION_CHANGE&&K.update(z)}),K.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){var ne=K.quill.selection.getRange(),z=s(ne,1),Q=z[0];K.update(Q)}),K}return a(I,[{key:"addHandler",value:function(O,K){this.handlers[O]=K}},{key:"attach",value:function(O){var K=this,X=[].find.call(O.classList,function(ne){return ne.indexOf("ql-")===0});if(X){if(X=X.slice(3),O.tagName==="BUTTON"&&O.setAttribute("type","button"),this.handlers[X]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[X]==null){R.warn("ignoring attaching to disabled format",X,O);return}if(u.default.query(X)==null){R.warn("ignoring attaching to nonexistent format",X,O);return}}var J=O.tagName==="SELECT"?"change":"click";O.addEventListener(J,function(ne){var z=void 0;if(O.tagName==="SELECT"){if(O.selectedIndex<0)return;var Q=O.options[O.selectedIndex];Q.hasAttribute("selected")?z=!1:z=Q.value||!1}else O.classList.contains("ql-active")?z=!1:z=O.value||!O.hasAttribute("value"),ne.preventDefault();K.quill.focus();var B=K.quill.selection.getRange(),j=s(B,1),W=j[0];if(K.handlers[X]!=null)K.handlers[X].call(K,z);else if(u.default.query(X).prototype instanceof u.default.Embed){if(z=prompt("Enter "+X),!z)return;K.quill.updateContents(new l.default().retain(W.index).delete(W.length).insert(_({},X,z)),h.default.sources.USER)}else K.quill.format(X,z,h.default.sources.USER);K.update(W)}),this.controls.push([X,O])}}},{key:"update",value:function(O){var K=O==null?{}:this.quill.getFormat(O);this.controls.forEach(function(X){var J=s(X,2),ne=J[0],z=J[1];if(z.tagName==="SELECT"){var Q=void 0;if(O==null)Q=null;else if(K[ne]==null)Q=z.querySelector("option[selected]");else if(!Array.isArray(K[ne])){var B=K[ne];typeof B=="string"&&(B=B.replace(/\"/g,'\\"')),Q=z.querySelector('option[value="'+B+'"]')}Q==null?(z.value="",z.selectedIndex=-1):Q.selected=!0}else if(O==null)z.classList.remove("ql-active");else if(z.hasAttribute("value")){var j=K[ne]===z.getAttribute("value")||K[ne]!=null&&K[ne].toString()===z.getAttribute("value")||K[ne]==null&&!z.getAttribute("value");z.classList.toggle("ql-active",j)}else z.classList.toggle("ql-active",K[ne]!=null)})}}]),I})(y.default);D.DEFAULTS={};function N(P,I,U){var O=document.createElement("button");O.setAttribute("type","button"),O.classList.add("ql-"+I),U!=null&&(O.value=U),P.appendChild(O)}function k(P,I){Array.isArray(I[0])||(I=[I]),I.forEach(function(U){var O=document.createElement("span");O.classList.add("ql-formats"),U.forEach(function(K){if(typeof K=="string")N(O,K);else{var X=Object.keys(K)[0],J=K[X];Array.isArray(J)?F(O,X,J):N(O,X,J)}}),P.appendChild(O)})}function F(P,I,U){var O=document.createElement("select");O.classList.add("ql-"+I),U.forEach(function(K){var X=document.createElement("option");K!==!1?X.setAttribute("value",K):X.setAttribute("selected","selected"),O.appendChild(X)}),P.appendChild(O)}D.DEFAULTS={container:null,handlers:{clean:function(){var I=this,U=this.quill.getSelection();if(U!=null)if(U.length==0){var O=this.quill.getFormat();Object.keys(O).forEach(function(K){u.default.query(K,u.default.Scope.INLINE)!=null&&I.quill.format(K,!1)})}else this.quill.removeFormat(U,h.default.sources.USER)},direction:function(I){var U=this.quill.getFormat().align;I==="rtl"&&U==null?this.quill.format("align","right",h.default.sources.USER):!I&&U==="right"&&this.quill.format("align",!1,h.default.sources.USER),this.quill.format("direction",I,h.default.sources.USER)},indent:function(I){var U=this.quill.getSelection(),O=this.quill.getFormat(U),K=parseInt(O.indent||0);if(I==="+1"||I==="-1"){var X=I==="+1"?1:-1;O.direction==="rtl"&&(X*=-1),this.quill.format("indent",K+X,h.default.sources.USER)}},link:function(I){I===!0&&(I=prompt("Enter link URL:")),this.quill.format("link",I,h.default.sources.USER)},list:function(I){var U=this.quill.getSelection(),O=this.quill.getFormat(U);I==="check"?O.list==="checked"||O.list==="unchecked"?this.quill.format("list",!1,h.default.sources.USER):this.quill.format("list","unchecked",h.default.sources.USER):this.quill.format("list",I,h.default.sources.USER)}}},r.default=D,r.addControls=k}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function v(g,y){for(var b=0;b<y.length;b++){var _=y[b];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(g,_.key,_)}}return function(g,y,b){return y&&v(g.prototype,y),b&&v(g,b),g}})(),a=function v(g,y,b){g===null&&(g=Function.prototype);var _=Object.getOwnPropertyDescriptor(g,y);if(_===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:v(w,y,b)}else{if("value"in _)return _.value;var C=_.get;return C===void 0?void 0:C.call(b)}},o=i(28),l=c(o);function c(v){return v&&v.__esModule?v:{default:v}}function u(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function f(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function h(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=(function(v){h(g,v);function g(y,b){u(this,g);var _=f(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,y));return _.label.innerHTML=b,_.container.classList.add("ql-color-picker"),[].slice.call(_.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(w){w.classList.add("ql-primary")}),_}return s(g,[{key:"buildItem",value:function(b){var _=a(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"buildItem",this).call(this,b);return _.style.backgroundColor=b.getAttribute("value")||"",_}},{key:"selectItem",value:function(b,_){a(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"selectItem",this).call(this,b,_);var w=this.label.querySelector(".ql-color-label"),C=b&&b.getAttribute("data-value")||"";w&&(w.tagName==="line"?w.style.stroke=C:w.style.fill=C)}}]),g})(l.default);r.default=p}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function v(g,y){for(var b=0;b<y.length;b++){var _=y[b];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(g,_.key,_)}}return function(g,y,b){return y&&v(g.prototype,y),b&&v(g,b),g}})(),a=function v(g,y,b){g===null&&(g=Function.prototype);var _=Object.getOwnPropertyDescriptor(g,y);if(_===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:v(w,y,b)}else{if("value"in _)return _.value;var C=_.get;return C===void 0?void 0:C.call(b)}},o=i(28),l=c(o);function c(v){return v&&v.__esModule?v:{default:v}}function u(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function f(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function h(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=(function(v){h(g,v);function g(y,b){u(this,g);var _=f(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,y));return _.container.classList.add("ql-icon-picker"),[].forEach.call(_.container.querySelectorAll(".ql-picker-item"),function(w){w.innerHTML=b[w.getAttribute("data-value")||""]}),_.defaultItem=_.container.querySelector(".ql-selected"),_.selectItem(_.defaultItem),_}return s(g,[{key:"selectItem",value:function(b,_){a(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"selectItem",this).call(this,b,_),b=b||this.defaultItem,this.label.innerHTML=b.innerHTML}}]),g})(l.default);r.default=p}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function l(c,u){for(var f=0;f<u.length;f++){var h=u[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(c,h.key,h)}}return function(c,u,f){return u&&l(c.prototype,u),f&&l(c,f),c}})();function a(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var o=(function(){function l(c,u){var f=this;a(this,l),this.quill=c,this.boundsContainer=u||document.body,this.root=c.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){f.root.style.marginTop=-1*f.quill.root.scrollTop+"px"}),this.hide()}return s(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(u){var f=u.left+u.width/2-this.root.offsetWidth/2,h=u.bottom+this.quill.root.scrollTop;this.root.style.left=f+"px",this.root.style.top=h+"px",this.root.classList.remove("ql-flip");var p=this.boundsContainer.getBoundingClientRect(),v=this.root.getBoundingClientRect(),g=0;if(v.right>p.right&&(g=p.right-v.right,this.root.style.left=f+g+"px"),v.left<p.left&&(g=p.left-v.left,this.root.style.left=f+g+"px"),v.bottom>p.bottom){var y=v.bottom-v.top,b=u.bottom-u.top+y;this.root.style.top=h-b+"px",this.root.classList.add("ql-flip")}return g}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l})();r.default=o}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function F(P,I){var U=[],O=!0,K=!1,X=void 0;try{for(var J=P[Symbol.iterator](),ne;!(O=(ne=J.next()).done)&&(U.push(ne.value),!(I&&U.length===I));O=!0);}catch(z){K=!0,X=z}finally{try{!O&&J.return&&J.return()}finally{if(K)throw X}}return U}return function(P,I){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return F(P,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=function F(P,I,U){P===null&&(P=Function.prototype);var O=Object.getOwnPropertyDescriptor(P,I);if(O===void 0){var K=Object.getPrototypeOf(P);return K===null?void 0:F(K,I,U)}else{if("value"in O)return O.value;var X=O.get;return X===void 0?void 0:X.call(U)}},o=(function(){function F(P,I){for(var U=0;U<I.length;U++){var O=I[U];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(P,O.key,O)}}return function(P,I,U){return I&&F(P.prototype,I),U&&F(P,U),P}})(),l=i(3),c=w(l),u=i(8),f=w(u),h=i(43),p=w(h),v=i(27),g=w(v),y=i(15),b=i(41),_=w(b);function w(F){return F&&F.__esModule?F:{default:F}}function C(F,P){if(!(F instanceof P))throw new TypeError("Cannot call a class as a function")}function S(F,P){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:F}function R(F,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);F.prototype=Object.create(P&&P.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(F,P):F.__proto__=P)}var D=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],N=(function(F){R(P,F);function P(I,U){C(this,P),U.modules.toolbar!=null&&U.modules.toolbar.container==null&&(U.modules.toolbar.container=D);var O=S(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,I,U));return O.quill.container.classList.add("ql-snow"),O}return o(P,[{key:"extendToolbar",value:function(U){U.container.classList.add("ql-snow"),this.buildButtons([].slice.call(U.container.querySelectorAll("button")),_.default),this.buildPickers([].slice.call(U.container.querySelectorAll("select")),_.default),this.tooltip=new k(this.quill,this.options.bounds),U.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(O,K){U.handlers.link.call(U,!K.format.link)})}}]),P})(p.default);N.DEFAULTS=(0,c.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(P){if(P){var I=this.quill.getSelection();if(I==null||I.length==0)return;var U=this.quill.getText(I);/^\S+@\S+\.\S+$/.test(U)&&U.indexOf("mailto:")!==0&&(U="mailto:"+U);var O=this.quill.theme.tooltip;O.edit("link",U)}else this.quill.format("link",!1)}}}}});var k=(function(F){R(P,F);function P(I,U){C(this,P);var O=S(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,I,U));return O.preview=O.root.querySelector("a.ql-preview"),O}return o(P,[{key:"listen",value:function(){var U=this;a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(O){U.root.classList.contains("ql-editing")?U.save():U.edit("link",U.preview.textContent),O.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(O){if(U.linkRange!=null){var K=U.linkRange;U.restoreFocus(),U.quill.formatText(K,"link",!1,f.default.sources.USER),delete U.linkRange}O.preventDefault(),U.hide()}),this.quill.on(f.default.events.SELECTION_CHANGE,function(O,K,X){if(O!=null){if(O.length===0&&X===f.default.sources.USER){var J=U.quill.scroll.descendant(g.default,O.index),ne=s(J,2),z=ne[0],Q=ne[1];if(z!=null){U.linkRange=new y.Range(O.index-Q,z.length());var B=g.default.formats(z.domNode);U.preview.textContent=B,U.preview.setAttribute("href",B),U.show(),U.position(U.quill.getBounds(U.linkRange));return}}else delete U.linkRange;U.hide()}})}},{key:"show",value:function(){a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),P})(h.BaseTooltip);k.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=N}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(29),a=ie(s),o=i(36),l=i(38),c=i(64),u=i(65),f=ie(u),h=i(66),p=ie(h),v=i(67),g=ie(v),y=i(37),b=i(26),_=i(39),w=i(40),C=i(56),S=ie(C),R=i(68),D=ie(R),N=i(27),k=ie(N),F=i(69),P=ie(F),I=i(70),U=ie(I),O=i(71),K=ie(O),X=i(72),J=ie(X),ne=i(73),z=ie(ne),Q=i(13),B=ie(Q),j=i(74),W=ie(j),G=i(75),Y=ie(G),ee=i(57),ae=ie(ee),de=i(41),fe=ie(de),De=i(28),Pe=ie(De),me=i(59),je=ie(me),V=i(60),ye=ie(V),be=i(61),oe=ie(be),re=i(108),le=ie(re),he=i(62),_e=ie(he);function ie(ce){return ce&&ce.__esModule?ce:{default:ce}}a.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":o.AlignClass,"attributors/class/background":y.BackgroundClass,"attributors/class/color":b.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":_.FontClass,"attributors/class/size":w.SizeClass,"attributors/style/align":o.AlignStyle,"attributors/style/background":y.BackgroundStyle,"attributors/style/color":b.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":_.FontStyle,"attributors/style/size":w.SizeStyle},!0),a.default.register({"formats/align":o.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":c.IndentClass,"formats/background":y.BackgroundStyle,"formats/color":b.ColorStyle,"formats/font":_.FontClass,"formats/size":w.SizeClass,"formats/blockquote":f.default,"formats/code-block":B.default,"formats/header":p.default,"formats/list":g.default,"formats/bold":S.default,"formats/code":Q.Code,"formats/italic":D.default,"formats/link":k.default,"formats/script":P.default,"formats/strike":U.default,"formats/underline":K.default,"formats/image":J.default,"formats/video":z.default,"formats/list/item":v.ListItem,"modules/formula":W.default,"modules/syntax":Y.default,"modules/toolbar":ae.default,"themes/bubble":le.default,"themes/snow":_e.default,"ui/icons":fe.default,"ui/picker":Pe.default,"ui/icon-picker":ye.default,"ui/color-picker":je.default,"ui/tooltip":oe.default},!0),r.default=a.default}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var s=(function(){function g(y,b){for(var _=0;_<b.length;_++){var w=b[_];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}return function(y,b,_){return b&&g(y.prototype,b),_&&g(y,_),y}})(),a=function g(y,b,_){y===null&&(y=Function.prototype);var w=Object.getOwnPropertyDescriptor(y,b);if(w===void 0){var C=Object.getPrototypeOf(y);return C===null?void 0:g(C,b,_)}else{if("value"in w)return w.value;var S=w.get;return S===void 0?void 0:S.call(_)}},o=i(0),l=c(o);function c(g){return g&&g.__esModule?g:{default:g}}function u(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function f(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function h(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var p=(function(g){h(y,g);function y(){return u(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,[{key:"add",value:function(_,w){if(w==="+1"||w==="-1"){var C=this.value(_)||0;w=w==="+1"?C+1:C-1}return w===0?(this.remove(_),!0):a(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"add",this).call(this,_,w)}},{key:"canAdd",value:function(_,w){return a(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"canAdd",this).call(this,_,w)||a(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"canAdd",this).call(this,_,parseInt(w))}},{key:"value",value:function(_){return parseInt(a(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"value",this).call(this,_))||void 0}}]),y})(l.default.Attributor.Class),v=new p("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=v}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(4),a=o(s);function o(h){return h&&h.__esModule?h:{default:h}}function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function c(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function u(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=(function(h){u(p,h);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(a.default);f.blotName="blockquote",f.tagName="blockquote",r.default=f}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function p(v,g){for(var y=0;y<g.length;y++){var b=g[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(v,b.key,b)}}return function(v,g,y){return g&&p(v.prototype,g),y&&p(v,y),v}})(),a=i(4),o=l(a);function l(p){return p&&p.__esModule?p:{default:p}}function c(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function u(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function f(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var h=(function(p){f(v,p);function v(){return c(this,v),u(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return s(v,null,[{key:"formats",value:function(y){return this.tagName.indexOf(y.tagName)+1}}]),v})(o.default);h.blotName="header",h.tagName=["H1","H2","H3","H4","H5","H6"],r.default=h}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var s=(function(){function C(S,R){for(var D=0;D<R.length;D++){var N=R[D];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(S,N.key,N)}}return function(S,R,D){return R&&C(S.prototype,R),D&&C(S,D),S}})(),a=function C(S,R,D){S===null&&(S=Function.prototype);var N=Object.getOwnPropertyDescriptor(S,R);if(N===void 0){var k=Object.getPrototypeOf(S);return k===null?void 0:C(k,R,D)}else{if("value"in N)return N.value;var F=N.get;return F===void 0?void 0:F.call(D)}},o=i(0),l=p(o),c=i(4),u=p(c),f=i(25),h=p(f);function p(C){return C&&C.__esModule?C:{default:C}}function v(C,S,R){return S in C?Object.defineProperty(C,S,{value:R,enumerable:!0,configurable:!0,writable:!0}):C[S]=R,C}function g(C,S){if(!(C instanceof S))throw new TypeError("Cannot call a class as a function")}function y(C,S){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:C}function b(C,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);C.prototype=Object.create(S&&S.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(C,S):C.__proto__=S)}var _=(function(C){b(S,C);function S(){return g(this,S),y(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return s(S,[{key:"format",value:function(D,N){D===w.blotName&&!N?this.replaceWith(l.default.create(this.statics.scope)):a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"format",this).call(this,D,N)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(D,N){return this.parent.isolate(this.offset(this.parent),this.length()),D===this.parent.statics.blotName?(this.parent.replaceWith(D,N),this):(this.parent.unwrap(),a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replaceWith",this).call(this,D,N))}}],[{key:"formats",value:function(D){return D.tagName===this.tagName?void 0:a(S.__proto__||Object.getPrototypeOf(S),"formats",this).call(this,D)}}]),S})(u.default);_.blotName="list-item",_.tagName="LI";var w=(function(C){b(S,C),s(S,null,[{key:"create",value:function(D){var N=D==="ordered"?"OL":"UL",k=a(S.__proto__||Object.getPrototypeOf(S),"create",this).call(this,N);return(D==="checked"||D==="unchecked")&&k.setAttribute("data-checked",D==="checked"),k}},{key:"formats",value:function(D){if(D.tagName==="OL")return"ordered";if(D.tagName==="UL")return D.hasAttribute("data-checked")?D.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function S(R){g(this,S);var D=y(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,R)),N=function(F){if(F.target.parentNode===R){var P=D.statics.formats(R),I=l.default.find(F.target);P==="checked"?I.format("list","unchecked"):P==="unchecked"&&I.format("list","checked")}};return R.addEventListener("touchstart",N),R.addEventListener("mousedown",N),D}return s(S,[{key:"format",value:function(D,N){this.children.length>0&&this.children.tail.format(D,N)}},{key:"formats",value:function(){return v({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(D,N){if(D instanceof _)a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertBefore",this).call(this,D,N);else{var k=N==null?this.length():N.offset(this),F=this.split(k);F.parent.insertBefore(D,F)}}},{key:"optimize",value:function(D){a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"optimize",this).call(this,D);var N=this.next;N!=null&&N.prev===this&&N.statics.blotName===this.statics.blotName&&N.domNode.tagName===this.domNode.tagName&&N.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(N.moveChildren(this),N.remove())}},{key:"replace",value:function(D){if(D.statics.blotName!==this.statics.blotName){var N=l.default.create(this.statics.defaultChild);D.moveChildren(N),this.appendChild(N)}a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replace",this).call(this,D)}}]),S})(h.default);w.blotName="list",w.scope=l.default.Scope.BLOCK_BLOT,w.tagName=["OL","UL"],w.defaultChild="list-item",w.allowedChildren=[_],r.ListItem=_,r.default=w}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(56),a=o(s);function o(h){return h&&h.__esModule?h:{default:h}}function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function c(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function u(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=(function(h){u(p,h);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(a.default);f.blotName="italic",f.tagName=["EM","I"],r.default=f}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function v(g,y){for(var b=0;b<y.length;b++){var _=y[b];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(g,_.key,_)}}return function(g,y,b){return y&&v(g.prototype,y),b&&v(g,b),g}})(),a=function v(g,y,b){g===null&&(g=Function.prototype);var _=Object.getOwnPropertyDescriptor(g,y);if(_===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:v(w,y,b)}else{if("value"in _)return _.value;var C=_.get;return C===void 0?void 0:C.call(b)}},o=i(6),l=c(o);function c(v){return v&&v.__esModule?v:{default:v}}function u(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function f(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function h(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=(function(v){h(g,v);function g(){return u(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,null,[{key:"create",value:function(b){return b==="super"?document.createElement("sup"):b==="sub"?document.createElement("sub"):a(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,b)}},{key:"formats",value:function(b){if(b.tagName==="SUB")return"sub";if(b.tagName==="SUP")return"super"}}]),g})(l.default);p.blotName="script",p.tagName=["SUB","SUP"],r.default=p}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(6),a=o(s);function o(h){return h&&h.__esModule?h:{default:h}}function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function c(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function u(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=(function(h){u(p,h);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(a.default);f.blotName="strike",f.tagName="S",r.default=f}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(6),a=o(s);function o(h){return h&&h.__esModule?h:{default:h}}function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function c(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function u(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=(function(h){u(p,h);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(a.default);f.blotName="underline",f.tagName="U",r.default=f}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function y(b,_){for(var w=0;w<_.length;w++){var C=_[w];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(b,C.key,C)}}return function(b,_,w){return _&&y(b.prototype,_),w&&y(b,w),b}})(),a=function y(b,_,w){b===null&&(b=Function.prototype);var C=Object.getOwnPropertyDescriptor(b,_);if(C===void 0){var S=Object.getPrototypeOf(b);return S===null?void 0:y(S,_,w)}else{if("value"in C)return C.value;var R=C.get;return R===void 0?void 0:R.call(w)}},o=i(0),l=u(o),c=i(27);function u(y){return y&&y.__esModule?y:{default:y}}function f(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}function h(y,b){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:y}function p(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(y,b):y.__proto__=b)}var v=["alt","height","width"],g=(function(y){p(b,y);function b(){return f(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,[{key:"format",value:function(w,C){v.indexOf(w)>-1?C?this.domNode.setAttribute(w,C):this.domNode.removeAttribute(w):a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,w,C)}}],[{key:"create",value:function(w){var C=a(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,w);return typeof w=="string"&&C.setAttribute("src",this.sanitize(w)),C}},{key:"formats",value:function(w){return v.reduce(function(C,S){return w.hasAttribute(S)&&(C[S]=w.getAttribute(S)),C},{})}},{key:"match",value:function(w){return/\.(jpe?g|gif|png)$/.test(w)||/^data:image\/.+;base64/.test(w)}},{key:"sanitize",value:function(w){return(0,c.sanitize)(w,["http","https","data"])?w:"//:0"}},{key:"value",value:function(w){return w.getAttribute("src")}}]),b})(l.default.Embed);g.blotName="image",g.tagName="IMG",r.default=g}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function y(b,_){for(var w=0;w<_.length;w++){var C=_[w];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(b,C.key,C)}}return function(b,_,w){return _&&y(b.prototype,_),w&&y(b,w),b}})(),a=function y(b,_,w){b===null&&(b=Function.prototype);var C=Object.getOwnPropertyDescriptor(b,_);if(C===void 0){var S=Object.getPrototypeOf(b);return S===null?void 0:y(S,_,w)}else{if("value"in C)return C.value;var R=C.get;return R===void 0?void 0:R.call(w)}},o=i(4),l=i(27),c=u(l);function u(y){return y&&y.__esModule?y:{default:y}}function f(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}function h(y,b){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:y}function p(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(y,b):y.__proto__=b)}var v=["height","width"],g=(function(y){p(b,y);function b(){return f(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,[{key:"format",value:function(w,C){v.indexOf(w)>-1?C?this.domNode.setAttribute(w,C):this.domNode.removeAttribute(w):a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,w,C)}}],[{key:"create",value:function(w){var C=a(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,w);return C.setAttribute("frameborder","0"),C.setAttribute("allowfullscreen",!0),C.setAttribute("src",this.sanitize(w)),C}},{key:"formats",value:function(w){return v.reduce(function(C,S){return w.hasAttribute(S)&&(C[S]=w.getAttribute(S)),C},{})}},{key:"sanitize",value:function(w){return c.default.sanitize(w)}},{key:"value",value:function(w){return w.getAttribute("src")}}]),b})(o.BlockEmbed);g.blotName="video",g.className="ql-video",g.tagName="IFRAME",r.default=g}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var s=(function(){function w(C,S){for(var R=0;R<S.length;R++){var D=S[R];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(C,D.key,D)}}return function(C,S,R){return S&&w(C.prototype,S),R&&w(C,R),C}})(),a=function w(C,S,R){C===null&&(C=Function.prototype);var D=Object.getOwnPropertyDescriptor(C,S);if(D===void 0){var N=Object.getPrototypeOf(C);return N===null?void 0:w(N,S,R)}else{if("value"in D)return D.value;var k=D.get;return k===void 0?void 0:k.call(R)}},o=i(35),l=p(o),c=i(5),u=p(c),f=i(9),h=p(f);function p(w){return w&&w.__esModule?w:{default:w}}function v(w,C){if(!(w instanceof C))throw new TypeError("Cannot call a class as a function")}function g(w,C){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:w}function y(w,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);w.prototype=Object.create(C&&C.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(w,C):w.__proto__=C)}var b=(function(w){y(C,w);function C(){return v(this,C),g(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return s(C,null,[{key:"create",value:function(R){var D=a(C.__proto__||Object.getPrototypeOf(C),"create",this).call(this,R);return typeof R=="string"&&(window.katex.render(R,D,{throwOnError:!1,errorColor:"#f00"}),D.setAttribute("data-value",R)),D}},{key:"value",value:function(R){return R.getAttribute("data-value")}}]),C})(l.default);b.blotName="formula",b.className="ql-formula",b.tagName="SPAN";var _=(function(w){y(C,w),s(C,null,[{key:"register",value:function(){u.default.register(b,!0)}}]);function C(){v(this,C);var S=g(this,(C.__proto__||Object.getPrototypeOf(C)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return S}return C})(h.default);r.FormulaBlot=b,r.default=_}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var s=(function(){function R(D,N){for(var k=0;k<N.length;k++){var F=N[k];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(D,F.key,F)}}return function(D,N,k){return N&&R(D.prototype,N),k&&R(D,k),D}})(),a=function R(D,N,k){D===null&&(D=Function.prototype);var F=Object.getOwnPropertyDescriptor(D,N);if(F===void 0){var P=Object.getPrototypeOf(D);return P===null?void 0:R(P,N,k)}else{if("value"in F)return F.value;var I=F.get;return I===void 0?void 0:I.call(k)}},o=i(0),l=g(o),c=i(5),u=g(c),f=i(9),h=g(f),p=i(13),v=g(p);function g(R){return R&&R.__esModule?R:{default:R}}function y(R,D){if(!(R instanceof D))throw new TypeError("Cannot call a class as a function")}function b(R,D){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:R}function _(R,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);R.prototype=Object.create(D&&D.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(R,D):R.__proto__=D)}var w=(function(R){_(D,R);function D(){return y(this,D),b(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return s(D,[{key:"replaceWith",value:function(k){this.domNode.textContent=this.domNode.textContent,this.attach(),a(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"replaceWith",this).call(this,k)}},{key:"highlight",value:function(k){var F=this.domNode.textContent;this.cachedText!==F&&((F.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=k(F),this.domNode.normalize(),this.attach()),this.cachedText=F)}}]),D})(v.default);w.className="ql-syntax";var C=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),S=(function(R){_(D,R),s(D,null,[{key:"register",value:function(){u.default.register(C,!0),u.default.register(w,!0)}}]);function D(N,k){y(this,D);var F=b(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,N,k));if(typeof F.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var P=null;return F.quill.on(u.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(P),P=setTimeout(function(){F.highlight(),P=null},F.options.interval)}),F.highlight(),F}return s(D,[{key:"highlight",value:function(){var k=this;if(!this.quill.selection.composing){this.quill.update(u.default.sources.USER);var F=this.quill.getSelection();this.quill.scroll.descendants(w).forEach(function(P){P.highlight(k.options.highlight)}),this.quill.update(u.default.sources.SILENT),F!=null&&this.quill.setSelection(F,u.default.sources.SILENT)}}}]),D})(h.default);S.DEFAULTS={highlight:(function(){return window.hljs==null?null:function(R){var D=window.hljs.highlightAuto(R);return D.value}})(),interval:1e3},r.CodeBlock=w,r.CodeToken=C,r.default=S}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'}),(function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'}),(function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'}),(function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'}),(function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var s=function D(N,k,F){N===null&&(N=Function.prototype);var P=Object.getOwnPropertyDescriptor(N,k);if(P===void 0){var I=Object.getPrototypeOf(N);return I===null?void 0:D(I,k,F)}else{if("value"in P)return P.value;var U=P.get;return U===void 0?void 0:U.call(F)}},a=(function(){function D(N,k){for(var F=0;F<k.length;F++){var P=k[F];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(N,P.key,P)}}return function(N,k,F){return k&&D(N.prototype,k),F&&D(N,F),N}})(),o=i(3),l=y(o),c=i(8),u=y(c),f=i(43),h=y(f),p=i(15),v=i(41),g=y(v);function y(D){return D&&D.__esModule?D:{default:D}}function b(D,N){if(!(D instanceof N))throw new TypeError("Cannot call a class as a function")}function _(D,N){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:D}function w(D,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);D.prototype=Object.create(N&&N.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(D,N):D.__proto__=N)}var C=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],S=(function(D){w(N,D);function N(k,F){b(this,N),F.modules.toolbar!=null&&F.modules.toolbar.container==null&&(F.modules.toolbar.container=C);var P=_(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,k,F));return P.quill.container.classList.add("ql-bubble"),P}return a(N,[{key:"extendToolbar",value:function(F){this.tooltip=new R(this.quill,this.options.bounds),this.tooltip.root.appendChild(F.container),this.buildButtons([].slice.call(F.container.querySelectorAll("button")),g.default),this.buildPickers([].slice.call(F.container.querySelectorAll("select")),g.default)}}]),N})(h.default);S.DEFAULTS=(0,l.default)(!0,{},h.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(N){N?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var R=(function(D){w(N,D);function N(k,F){b(this,N);var P=_(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,k,F));return P.quill.on(u.default.events.EDITOR_CHANGE,function(I,U,O,K){if(I===u.default.events.SELECTION_CHANGE)if(U!=null&&U.length>0&&K===u.default.sources.USER){P.show(),P.root.style.left="0px",P.root.style.width="",P.root.style.width=P.root.offsetWidth+"px";var X=P.quill.getLines(U.index,U.length);if(X.length===1)P.position(P.quill.getBounds(U));else{var J=X[X.length-1],ne=P.quill.getIndex(J),z=Math.min(J.length()-1,U.index+U.length-ne),Q=P.quill.getBounds(new p.Range(ne,z));P.position(Q)}}else document.activeElement!==P.textbox&&P.quill.hasFocus()&&P.hide()}),P}return a(N,[{key:"listen",value:function(){var F=this;s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){F.root.classList.remove("ql-editing")}),this.quill.on(u.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!F.root.classList.contains("ql-hidden")){var P=F.quill.getSelection();P!=null&&F.position(F.quill.getBounds(P))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(F){var P=s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"position",this).call(this,F),I=this.root.querySelector(".ql-tooltip-arrow");if(I.style.marginLeft="",P===0)return P;I.style.marginLeft=-1*P-I.offsetWidth/2+"px"}}]),N})(f.BaseTooltip);R.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=R,r.default=S}),(function(n,r,i){n.exports=i(63)})]).default})})(y2)),y2.exports}var To,p9;function Pve(){if(p9)return To;p9=1;var t=To&&To.__extends||(function(){var u=function(f,h){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var g in v)v.hasOwnProperty(g)&&(p[g]=v[g])},u(f,h)};return function(f,h){u(f,h);function p(){this.constructor=f}f.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}})(),e=To&&To.__assign||function(){return e=Object.assign||function(u){for(var f,h=1,p=arguments.length;h<p;h++){f=arguments[h];for(var v in f)Object.prototype.hasOwnProperty.call(f,v)&&(u[v]=f[v])}return u},e.apply(this,arguments)},n=To&&To.__spreadArrays||function(){for(var u=0,f=0,h=arguments.length;f<h;f++)u+=arguments[f].length;for(var p=Array(u),v=0,f=0;f<h;f++)for(var g=arguments[f],y=0,b=g.length;y<b;y++,v++)p[v]=g[y];return p},r=To&&To.__importDefault||function(u){return u&&u.__esModule?u:{default:u}},i=r(nb()),s=r(bB()),a=r(Ive()),o=r(Rve()),l=(function(u){t(f,u);function f(h){var p=u.call(this,h)||this;p.dirtyProps=["modules","formats","bounds","theme","children"],p.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],p.state={generation:0},p.selection=null,p.onEditorChange=function(g,y,b,_){var w,C,S,R;g==="text-change"?(C=(w=p).onEditorChangeText)===null||C===void 0||C.call(w,p.editor.root.innerHTML,y,_,p.unprivilegedEditor):g==="selection-change"&&((R=(S=p).onEditorChangeSelection)===null||R===void 0||R.call(S,y,_,p.unprivilegedEditor))};var v=p.isControlled()?h.value:h.defaultValue;return p.value=v??"",p}return f.prototype.validateProps=function(h){var p;if(i.default.Children.count(h.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(i.default.Children.count(h.children)){var v=i.default.Children.only(h.children);if(((p=v)===null||p===void 0?void 0:p.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&h.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},f.prototype.shouldComponentUpdate=function(h,p){var v=this,g;if(this.validateProps(h),!this.editor||this.state.generation!==p.generation)return!0;if("value"in h){var y=this.getEditorContents(),b=(g=h.value,g??"");this.isEqualValue(b,y)||this.setEditorContents(this.editor,b)}return h.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,h.readOnly),n(this.cleanProps,this.dirtyProps).some(function(_){return!a.default(h[_],v.props[_])})},f.prototype.shouldComponentRegenerate=function(h){var p=this;return this.dirtyProps.some(function(v){return!a.default(h[v],p.props[v])})},f.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},f.prototype.componentWillUnmount=function(){this.destroyEditor()},f.prototype.componentDidUpdate=function(h,p){var v=this;if(this.editor&&this.shouldComponentRegenerate(h)){var g=this.editor.getContents(),y=this.editor.getSelection();this.regenerationSnapshot={delta:g,selection:y},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==p.generation){var b=this.regenerationSnapshot,g=b.delta,_=b.selection;delete this.regenerationSnapshot,this.instantiateEditor();var w=this.editor;w.setContents(g),c(function(){return v.setEditorSelection(w,_)})}},f.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},f.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},f.prototype.isControlled=function(){return"value"in this.props},f.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},f.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},f.prototype.createEditor=function(h,p){var v=new o.default(h,p);return p.tabIndex!=null&&this.setEditorTabIndex(v,p.tabIndex),this.hookEditor(v),v},f.prototype.hookEditor=function(h){this.unprivilegedEditor=this.makeUnprivilegedEditor(h),h.on("editor-change",this.onEditorChange)},f.prototype.unhookEditor=function(h){h.off("editor-change",this.onEditorChange)},f.prototype.getEditorContents=function(){return this.value},f.prototype.getEditorSelection=function(){return this.selection},f.prototype.isDelta=function(h){return h&&h.ops},f.prototype.isEqualValue=function(h,p){return this.isDelta(h)&&this.isDelta(p)?a.default(h.ops,p.ops):a.default(h,p)},f.prototype.setEditorContents=function(h,p){var v=this;this.value=p;var g=this.getEditorSelection();typeof p=="string"?h.setContents(h.clipboard.convert(p)):h.setContents(p),c(function(){return v.setEditorSelection(h,g)})},f.prototype.setEditorSelection=function(h,p){if(this.selection=p,p){var v=h.getLength();p.index=Math.max(0,Math.min(p.index,v-1)),p.length=Math.max(0,Math.min(p.length,v-1-p.index)),h.setSelection(p)}},f.prototype.setEditorTabIndex=function(h,p){var v,g;!((g=(v=h)===null||v===void 0?void 0:v.scroll)===null||g===void 0)&&g.domNode&&(h.scroll.domNode.tabIndex=p)},f.prototype.setEditorReadOnly=function(h,p){p?h.disable():h.enable()},f.prototype.makeUnprivilegedEditor=function(h){var p=h;return{getHTML:function(){return p.root.innerHTML},getLength:p.getLength.bind(p),getText:p.getText.bind(p),getContents:p.getContents.bind(p),getSelection:p.getSelection.bind(p),getBounds:p.getBounds.bind(p)}},f.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var h=s.default.findDOMNode(this.editingArea);if(!h)throw new Error("Cannot find element for editing area");if(h.nodeType===3)throw new Error("Editing area cannot be a text node");return h},f.prototype.renderEditingArea=function(){var h=this,p=this.props,v=p.children,g=p.preserveWhitespace,y=this.state.generation,b={key:y,ref:function(_){h.editingArea=_}};return i.default.Children.count(v)?i.default.cloneElement(i.default.Children.only(v),b):g?i.default.createElement("pre",e({},b)):i.default.createElement("div",e({},b))},f.prototype.render=function(){var h;return i.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(h=this.props.className,h??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},f.prototype.onEditorChangeText=function(h,p,v,g){var y,b;if(this.editor){var _=this.isDelta(this.value)?g.getContents():g.getHTML();_!==this.getEditorContents()&&(this.lastDeltaChangeSet=p,this.value=_,(b=(y=this.props).onChange)===null||b===void 0||b.call(y,h,p,v,g))}},f.prototype.onEditorChangeSelection=function(h,p,v){var g,y,b,_,w,C;if(this.editor){var S=this.getEditorSelection(),R=!S&&h,D=S&&!h;a.default(h,S)||(this.selection=h,(y=(g=this.props).onChangeSelection)===null||y===void 0||y.call(g,h,p,v),R?(_=(b=this.props).onFocus)===null||_===void 0||_.call(b,h,p,v):D&&((C=(w=this.props).onBlur)===null||C===void 0||C.call(w,S,p,v)))}},f.prototype.focus=function(){this.editor&&this.editor.focus()},f.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},f.displayName="React Quill",f.Quill=o.default,f.defaultProps={theme:"snow",modules:{},readOnly:!1},f})(i.default.Component);function c(u){Promise.resolve().then(u)}return To=l,To}var Fve=Pve();const yr=tb(Fve);if(yr.Quill){const t=yr.Quill.import("attributors/style/size");t.whitelist=["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px"],yr.Quill.register("attributors/style/size",t,!0)}const Mve=t=>t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,""),Uve=()=>{const{pages:t,refetchAdminData:e}=rn(),[n,r]=q.useState({isOpen:!1,mode:"create",page:null}),[i,s]=q.useState({title:"",content:"",lang:"ar"}),[a,o]=q.useState(!1),l=()=>{s({title:"",content:"",lang:"ar"}),r({isOpen:!0,mode:"create",page:null})},c=g=>{s({title:g.title,content:g.content,lang:g.lang||"ar"}),r({isOpen:!0,mode:"edit",page:g})},u=()=>{r({isOpen:!1,mode:"create",page:null})},f=async()=>{if(!i.title.trim()){alert("    .");return}o(!0);try{const g=`      : "${i.title}".   HTML   (h2, h3)  (p)  (ul/li)     .`;s(b=>({...b,content:""}));const y=await ic({model:"gemini-2.5-flash",contents:g});s(b=>({...b,content:y.text||""}))}catch(g){console.error("AI content generation failed:",g),alert("  .        .")}finally{o(!1)}},h=async g=>{g.preventDefault();const y=Mve(i.title);n.mode==="create"?await pp.create({...i,slug:y,enabled:!1}):n.page&&await pp.update(n.page.id,{...i,slug:y}),await e(),u()},p=async g=>{const y=t.find(b=>b.id===g);y&&(await pp.toggleStatus(g,y.enabled),await e())},v=async g=>{window.confirm("              .")&&(await pp.delete(g),await e())};return d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:" "}),d.jsx("button",{onClick:l,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"+   "})]}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:t.map(g=>{var y;return d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:g.title}),d.jsx("td",{className:"p-3 text-gray-600 text-sm",children:((y=pu.find(b=>b.code===g.lang))==null?void 0:y.name)||g.lang||" ()"}),d.jsx("td",{className:"p-3",children:d.jsx("button",{onClick:()=>p(g.id),className:`px-3 py-1 text-xs font-semibold rounded-full ${g.enabled?"text-green-800 bg-green-200":"text-red-800 bg-red-200"}`,children:g.enabled?"":""})}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse",children:[d.jsx(tn,{to:`/dz/page/${g.slug}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>c(g),className:"text-green-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>v(g.id),className:"text-red-600 hover:underline text-sm font-semibold",children:""})]})]},g.id)})})]})})}),n.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl",children:d.jsxs("form",{onSubmit:h,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:n.mode==="create"?"  ":" "})}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsxs("div",{className:"flex gap-2 items-center",children:[d.jsx("input",{type:"text",id:"title",value:i.title,onChange:g=>s(y=>({...y,title:g.target.value})),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"}),d.jsxs("button",{type:"button",onClick:f,disabled:a,className:"flex items-center gap-2 px-3 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 disabled:bg-purple-300",title:"   ",children:[a?d.jsx(St,{className:"animate-spin"}):d.jsx(ea,{}),d.jsx("span",{children:""})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"lang",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("select",{id:"lang",value:i.lang||"ar",onChange:g=>s(y=>({...y,lang:g.target.value})),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",children:pu.map(g=>d.jsx("option",{value:g.code,children:g.name},g.code))})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 mb-1",children:""}),d.jsx(yr,{theme:"snow",value:i.content,onChange:g=>s(y=>({...y,content:g})),modules:{toolbar:[[{size:["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px",!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"},{align:[]}],["link","image","video"],["clean"]]}})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:u,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:""})]})]})})})]})},rs=(t,e,n=!0)=>{const r=n?`meta[property='${t}']`:`meta[name='${t}']`;let i=document.querySelector(r);i||(i=document.createElement("meta"),i.setAttribute(n?"property":"name",t),document.head.appendChild(i)),i.setAttribute("content",e)},Ove=()=>{const{countryCode:t,slug:e}=ia(),{pages:n,siteSettings:r,loading:i}=rn(),{language:s,t:a}=aa(),o=n.find(c=>c.slug===e&&c.enabled),l=q.useMemo(()=>o?n.filter(c=>c.enabled&&c.id!==o.id&&(c.lang===s||!c.lang&&s==="ar")):[],[n,o,s]);return q.useEffect(()=>{var c,u;if(o&&r){const f=((c=r.seo)==null?void 0:c[t||"dz"])||((u=r.seo)==null?void 0:u.default);if(f){const h=`${o.title} ${f.titleSeparator} ${f.siteName}`,p=o.content.replace(/<[^>]*>/g,"").substring(0,160)+(o.content.length>160?"...":""),v="https://cyber-m.pages.dev/data/image/gitut-og-main.png",g=s==="ar"?"ar_AR":s==="fr"?"fr_FR":"en_US";document.title=h,rs("description",p,!1),rs("og:title",h),rs("og:description",p),rs("og:image",v),rs("og:image:secure_url",v),rs("og:image:width","1200"),rs("og:image:height","630"),rs("og:url",window.location.href),rs("og:type","article"),rs("og:site_name",f.siteName),rs("og:locale",g),rs("twitter:card","summary_large_image",!1),rs("twitter:url",window.location.href,!1),rs("twitter:title",h,!1),rs("twitter:description",p,!1),rs("twitter:image",v,!1)}}},[o,r,t,s]),i?d.jsx("div",{className:"text-center py-20",children:"  ..."}):o?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[d.jsxs("article",{className:"md:col-span-3 bg-white rounded-lg shadow-xl p-6 md:p-10",children:[d.jsx("header",{className:"mb-8 border-b pb-6",children:d.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 leading-tight",children:o.title})}),d.jsx("div",{className:"prose prose-lg max-w-none text-gray-800 leading-relaxed",dangerouslySetInnerHTML:{__html:o.content}})]}),l.length>0&&d.jsx("aside",{className:"md:col-span-1 space-y-6",children:d.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg border sticky top-24",children:[d.jsx("h3",{className:"font-bold text-lg mb-3 text-gray-800 border-b pb-2",children:a("relatedPages.title")}),d.jsx("div",{className:"space-y-3",children:l.map(c=>d.jsx(tn,{to:`/${t}/page/${c.slug}/`,className:"block p-3 bg-gray-50 rounded-md border hover:border-green-400 hover:bg-green-50 transition-all",children:d.jsx("p",{className:"font-semibold text-gray-900",children:c.title})},c.id))})]})})]}),d.jsx(V$,{url:window.location.href,title:o.title,description:o.content})]}):d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-3xl font-bold mb-4",children:"404 -   "}),d.jsx("p",{className:"text-gray-600 mb-6",children:"         ."}),d.jsx(tn,{to:`/${t||"dz"}`,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"   "})]})},m9={DASHBOARD_TOP:"   ",PROFILE_SIDEBAR:"   ",PDF_INTERSTITIAL:"   ",PUBLIC_FORM_LEFT:"   ",PUBLIC_FORM_RIGHT:"   ",SERVICE_DETAIL_MAIN_TOP:"  ( )",SERVICE_DETAIL_MAIN_BOTTOM:"   ( )",SITE_DETAIL_SIDEBAR:"   ( )",BLOG_POST_BODY_TOP:" (  )",BLOG_POST_BODY_BOTTOM:" (  )",BLOG_POST_SIDEBAR:" ( )"},Lve=()=>{const{ads:t}=rn(),[e,n]=q.useState(t),[r,i]=q.useState({isOpen:!1,mode:"create",ad:null}),[s,a]=q.useState({title:"",content:"",imageUrl:"",link:"",placement:"DASHBOARD_TOP",enabled:!0});q.useEffect(()=>{n(t)},[t]);const o=()=>{a({title:"",content:"",imageUrl:"",link:"",placement:"DASHBOARD_TOP",enabled:!0}),i({isOpen:!0,mode:"create",ad:null})},l=p=>{a({...p}),i({isOpen:!0,mode:"edit",ad:p})},c=()=>{i({isOpen:!1,mode:"create",ad:null})},u=async p=>{p.preventDefault();try{r.mode==="create"?await mp.create(s):r.ad&&await mp.update(r.ad.id,s),alert("  !       ."),c()}catch(v){console.error("Failed to save ad:",v),alert("  .       .")}},f=async p=>{try{const v=e.find(g=>g.id===p);v&&(await mp.toggleStatus(p,v.enabled),n(g=>g.map(y=>y.id===p?{...y,enabled:!y.enabled}:y)))}catch(v){console.error("Failed to toggle status:",v),alert("  .       .")}},h=async p=>{if(window.confirm("        "))try{await mp.delete(p),n(v=>v.filter(g=>g.id!==p))}catch(v){console.error("Failed to delete ad:",v),alert("  .       .")}};return d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:" "}),d.jsx("button",{onClick:o,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"+   "})]}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:e.map(p=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:p.title}),d.jsx("td",{className:"p-3 text-gray-600",children:m9[p.placement]}),d.jsx("td",{className:"p-3",children:d.jsx("button",{onClick:()=>f(p.id),className:`px-3 py-1 text-xs font-semibold rounded-full ${p.enabled?"text-green-800 bg-green-200":"text-red-800 bg-red-200"}`,children:p.enabled?"":""})}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse",children:[d.jsx("button",{onClick:()=>l(p),className:"text-green-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>h(p.id),className:"text-red-600 hover:underline text-sm font-semibold",children:""})]})]},p.id))})]})})}),r.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",children:d.jsxs("form",{onSubmit:u,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:r.mode==="create"?"  ":" "})}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",id:"title",value:s.title,onChange:p=>a(v=>({...v,title:p.target.value})),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 mb-1",children:""}),d.jsx("textarea",{id:"content",rows:3,value:s.content,onChange:p=>a(v=>({...v,content:p.target.value})),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"imageUrl",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"url",id:"imageUrl",value:s.imageUrl,onChange:p=>a(v=>({...v,imageUrl:p.target.value})),required:!0,placeholder:"https://picsum.photos/...",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"link",className:"block text-sm font-medium text-gray-700 mb-1",children:" ( )"}),d.jsx("input",{type:"url",id:"link",value:s.link,onChange:p=>a(v=>({...v,link:p.target.value})),required:!0,placeholder:"https://example.com",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"placement",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("select",{id:"placement",value:s.placement,onChange:p=>a(v=>({...v,placement:p.target.value})),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",children:Object.entries(m9).map(([p,v])=>d.jsx("option",{value:p,children:v},p))})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:c,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:""})]})]})})})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let jve,Bve;function Vve(){return{geminiUrl:jve,vertexUrl:Bve}}function Wve(t,e,n,r){var i,s;if(!(t!=null&&t.baseUrl)){const a=Vve();return e?(i=a.vertexUrl)!==null&&i!==void 0?i:n:(s=a.geminiUrl)!==null&&s!==void 0?s:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yf{}function Ft(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const s=e[i];return s!=null?String(s):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function E(t,e,n){for(let s=0;s<e.length-1;s++){const a=e[s];if(a.endsWith("[]")){const o=a.slice(0,-2);if(!(o in t))if(Array.isArray(n))t[o]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(t[o])){const l=t[o];if(Array.isArray(n))for(let c=0;c<l.length;c++){const u=l[c];E(u,e.slice(s+1),n[c])}else for(const c of l)E(c,e.slice(s+1),n)}return}else if(a.endsWith("[0]")){const o=a.slice(0,-3);o in t||(t[o]=[{}]);const l=t[o];E(l[0],e.slice(s+1),n);return}(!t[a]||typeof t[a]!="object")&&(t[a]={}),t=t[a]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function T(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const r=e[n];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in t){const s=t[i];return Array.isArray(s)?s.map(a=>T(a,e.slice(n+1))):void 0}else return}else t=t[r]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dk(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qve(t){const e={},n=T(t,["operationName"]);n!=null&&E(e,["_url","operationName"],n);const r=T(t,["config"]);return r!=null&&E(e,["config"],r),e}function zve(t){const e={},n=T(t,["operationName"]);n!=null&&E(e,["operationName"],n);const r=T(t,["resourceName"]);r!=null&&E(e,["_url","resourceName"],r);const i=T(t,["config"]);return i!=null&&E(e,["config"],i),e}function Hve(t){const e={},n=T(t,["operationName"]);n!=null&&E(e,["_url","operationName"],n);const r=T(t,["config"]);return r!=null&&E(e,["config"],r),e}function $ve(t){const e={},n=T(t,["video","uri"]);n!=null&&E(e,["uri"],n);const r=T(t,["video","encodedVideo"]);r!=null&&E(e,["videoBytes"],dk(r));const i=T(t,["encoding"]);return i!=null&&E(e,["mimeType"],i),e}function Gve(t){const e={},n=T(t,["_self"]);return n!=null&&E(e,["video"],$ve(n)),e}function Kve(t){const e={},n=T(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>Gve(a))),E(e,["generatedVideos"],s)}const r=T(t,["raiMediaFilteredCount"]);r!=null&&E(e,["raiMediaFilteredCount"],r);const i=T(t,["raiMediaFilteredReasons"]);return i!=null&&E(e,["raiMediaFilteredReasons"],i),e}function Xve(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["metadata"]);r!=null&&E(e,["metadata"],r);const i=T(t,["done"]);i!=null&&E(e,["done"],i);const s=T(t,["error"]);s!=null&&E(e,["error"],s);const a=T(t,["response","generateVideoResponse"]);return a!=null&&E(e,["response"],Kve(a)),e}function Jve(t){const e={},n=T(t,["gcsUri"]);n!=null&&E(e,["uri"],n);const r=T(t,["bytesBase64Encoded"]);r!=null&&E(e,["videoBytes"],dk(r));const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function Yve(t){const e={},n=T(t,["_self"]);return n!=null&&E(e,["video"],Jve(n)),e}function Qve(t){const e={},n=T(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>Yve(a))),E(e,["generatedVideos"],s)}const r=T(t,["raiMediaFilteredCount"]);r!=null&&E(e,["raiMediaFilteredCount"],r);const i=T(t,["raiMediaFilteredReasons"]);return i!=null&&E(e,["raiMediaFilteredReasons"],i),e}function Zve(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["metadata"]);r!=null&&E(e,["metadata"],r);const i=T(t,["done"]);i!=null&&E(e,["done"],i);const s=T(t,["error"]);s!=null&&E(e,["error"],s);const a=T(t,["response"]);return a!=null&&E(e,["response"],Qve(a)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var g9;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(g9||(g9={}));var y9;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(y9||(y9={}));var mu;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(mu||(mu={}));var v9;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(v9||(v9={}));var x9;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(x9||(x9={}));var _9;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(_9||(_9={}));var b9;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(b9||(b9={}));var w9;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(w9||(w9={}));var T9;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(T9||(T9={}));var E9;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(E9||(E9={}));var C9;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(C9||(C9={}));var S9;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(S9||(S9={}));var D9;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(D9||(D9={}));var A9;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(A9||(A9={}));var N9;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(N9||(N9={}));var F_;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(F_||(F_={}));var I9;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(I9||(I9={}));var H4;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(H4||(H4={}));var k9;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(k9||(k9={}));var R9;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(R9||(R9={}));var P9;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(P9||(P9={}));var F9;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(F9||(F9={}));var M9;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(M9||(M9={}));var U9;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(U9||(U9={}));var O9;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(O9||(O9={}));var L9;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(L9||(L9={}));var j9;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(j9||(j9={}));var B9;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(B9||(B9={}));var V9;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(V9||(V9={}));var W9;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(W9||(W9={}));var q9;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(q9||(q9={}));var z9;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(z9||(z9={}));var H9;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(H9||(H9={}));var $9;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})($9||($9={}));var G9;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(G9||(G9={}));var K9;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(K9||(K9={}));var X9;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(X9||(X9={}));var J9;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(J9||(J9={}));var Y9;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Y9||(Y9={}));var Q9;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Q9||(Q9={}));var Z9;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Z9||(Z9={}));var eO;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(eO||(eO={}));var tO;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(tO||(tO={}));var nO;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(nO||(nO={}));var rO;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(rO||(rO={}));var yp;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(yp||(yp={}));class $4{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Xg{get text(){var e,n,r,i,s,a,o,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",u=!1;const f=[];for(const h of(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[p,v]of Object.entries(h))p!=="text"&&p!=="thought"&&(v!==null||v!==void 0)&&f.push(p);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;u=!0,c+=h.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?c:void 0}get data(){var e,n,r,i,s,a,o,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const u=[];for(const f of(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[h,p]of Object.entries(f))h!=="inlineData"&&(p!==null||p!==void 0)&&u.push(h);f.inlineData&&typeof f.inlineData.data=="string"&&(c+=atob(f.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,n,r,i,s,a,o,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(u=>u.functionCall).map(u=>u.functionCall).filter(u=>u!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var e,n,r,i,s,a,o,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const u=(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((u==null?void 0:u.length)!==0)return(c=u==null?void 0:u[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,n,r,i,s,a,o,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const u=(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((u==null?void 0:u.length)!==0)return(c=u==null?void 0:u[0])===null||c===void 0?void 0:c.output}}class iO{}class sO{}class e1e{}class t1e{}class n1e{}class r1e{}class aO{}class oO{}class lO{}class i1e{}class M_{_fromAPIResponse({apiResponse:e,isVertexAI:n}){const r=new M_;let i;const s=e;return n?i=Zve(s):i=Xve(s),Object.assign(r,i),r}}class cO{}class uO{}class dO{}class s1e{}class a1e{}class o1e{}class fO{}class l1e{get text(){var e,n,r;let i="",s=!1;const a=[];for(const o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,c]of Object.entries(o))l!=="text"&&l!=="thought"&&c!==null&&a.push(l);if(typeof o.text=="string"){if(typeof o.thought=="boolean"&&o.thought)continue;s=!0,i+=o.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?i:void 0}get data(){var e,n,r;let i="";const s=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[o,l]of Object.entries(a))o!=="inlineData"&&l!==null&&s.push(o);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class c1e{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pn(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function wG(t,e){const n=Pn(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function TG(t){return Array.isArray(t)?t.map(e=>U_(e)):[U_(t)]}function U_(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function EG(t){const e=U_(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function CG(t){const e=U_(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function hO(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function SG(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>hO(e)):[hO(t)]}function G4(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function pO(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function mO(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function hs(t){if(t==null)throw new Error("ContentUnion is required");return G4(t)?t:{role:"user",parts:SG(t)}}function fk(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=hs(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=hs(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>hs(n)):[hs(e)]}function eo(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(pO(t)||mO(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[hs(t)]}const e=[],n=[],r=G4(t[0]);for(const i of t){const s=G4(i);if(s!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(i);else{if(pO(i)||mO(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:SG(n)}),e}function u1e(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(mu).includes(n[0].toUpperCase())?n[0].toUpperCase():mu.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(mu).includes(r.toUpperCase())?r.toUpperCase():mu.TYPE_UNSPECIFIED})}}function Ap(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=t.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,t=s[1]):s[1].type==="null"&&(e.nullable=!0,t=s[0])),t.type instanceof Array&&u1e(t.type,e);for(const[a,o]of Object.entries(t))if(o!=null)if(a=="type"){if(o==="null")throw new Error("type: null can not be the only possible type for the field.");if(o instanceof Array)continue;e.type=Object.values(mu).includes(o.toUpperCase())?o.toUpperCase():mu.TYPE_UNSPECIFIED}else if(n.includes(a))e[a]=Ap(o);else if(r.includes(a)){const l=[];for(const c of o){if(c.type=="null"){e.nullable=!0;continue}l.push(Ap(c))}e[a]=l}else if(i.includes(a)){const l={};for(const[c,u]of Object.entries(o))l[c]=Ap(u);e[a]=l}else{if(a==="additionalProperties")continue;e[a]=o}return e}function hk(t){return Ap(t)}function pk(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function mk(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function zm(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Ap(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Ap(e.response));return t}function Hm(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function d1e(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Sc(t,e){if(typeof e!="string")throw new Error("name must be a string");return d1e(t,e,"cachedContents")}function DG(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Qf(t){return dk(t)}function f1e(t){return t!=null&&typeof t=="object"&&"name"in t}function h1e(t){return t!=null&&typeof t=="object"&&"video"in t}function p1e(t){return t!=null&&typeof t=="object"&&"uri"in t}function AG(t){var e;let n;if(f1e(t)&&(n=t.name),!(p1e(t)&&(n=t.uri,n===void 0))&&!(h1e(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function NG(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function IG(t){for(const e of["models","tunedModels","publisherModels"])if(m1e(t,e))return t[e];return[]}function m1e(t,e){return t!==null&&typeof t=="object"&&e in t}function g1e(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function y1e(t,e={}){const n=[],r=new Set;for(const i of t){const s=i.name;if(r.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);r.add(s);const a=g1e(i,e);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function kG(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function v1e(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function RG(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let s=!1;for(const a of i){if(typeof a!="object"||a===null)continue;const l=a.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function $m(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function PG(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function x1e(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function _1e(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["data"]);n!=null&&E(e,["data"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function b1e(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function w1e(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function T1e(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],x1e(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],_1e(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],b1e(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],w1e(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function FG(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>T1e(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function E1e(t){const e={},n=T(t,["anyOf"]);n!=null&&E(e,["anyOf"],n);const r=T(t,["default"]);r!=null&&E(e,["default"],r);const i=T(t,["description"]);i!=null&&E(e,["description"],i);const s=T(t,["enum"]);s!=null&&E(e,["enum"],s);const a=T(t,["example"]);a!=null&&E(e,["example"],a);const o=T(t,["format"]);o!=null&&E(e,["format"],o);const l=T(t,["items"]);l!=null&&E(e,["items"],l);const c=T(t,["maxItems"]);c!=null&&E(e,["maxItems"],c);const u=T(t,["maxLength"]);u!=null&&E(e,["maxLength"],u);const f=T(t,["maxProperties"]);f!=null&&E(e,["maxProperties"],f);const h=T(t,["maximum"]);h!=null&&E(e,["maximum"],h);const p=T(t,["minItems"]);p!=null&&E(e,["minItems"],p);const v=T(t,["minLength"]);v!=null&&E(e,["minLength"],v);const g=T(t,["minProperties"]);g!=null&&E(e,["minProperties"],g);const y=T(t,["minimum"]);y!=null&&E(e,["minimum"],y);const b=T(t,["nullable"]);b!=null&&E(e,["nullable"],b);const _=T(t,["pattern"]);_!=null&&E(e,["pattern"],_);const w=T(t,["properties"]);w!=null&&E(e,["properties"],w);const C=T(t,["propertyOrdering"]);C!=null&&E(e,["propertyOrdering"],C);const S=T(t,["required"]);S!=null&&E(e,["required"],S);const R=T(t,["title"]);R!=null&&E(e,["title"],R);const D=T(t,["type"]);return D!=null&&E(e,["type"],D),e}function C1e(t){const e={};if(T(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=T(t,["category"]);n!=null&&E(e,["category"],n);const r=T(t,["threshold"]);return r!=null&&E(e,["threshold"],r),e}function S1e(t){const e={},n=T(t,["behavior"]);n!=null&&E(e,["behavior"],n);const r=T(t,["description"]);r!=null&&E(e,["description"],r);const i=T(t,["name"]);i!=null&&E(e,["name"],i);const s=T(t,["parameters"]);s!=null&&E(e,["parameters"],s);const a=T(t,["parametersJsonSchema"]);a!=null&&E(e,["parametersJsonSchema"],a);const o=T(t,["response"]);o!=null&&E(e,["response"],o);const l=T(t,["responseJsonSchema"]);return l!=null&&E(e,["responseJsonSchema"],l),e}function D1e(t){const e={},n=T(t,["startTime"]);n!=null&&E(e,["startTime"],n);const r=T(t,["endTime"]);return r!=null&&E(e,["endTime"],r),e}function A1e(t){const e={},n=T(t,["timeRangeFilter"]);if(n!=null&&E(e,["timeRangeFilter"],D1e(n)),T(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function N1e(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["dynamicThreshold"]);return r!=null&&E(e,["dynamicThreshold"],r),e}function I1e(t){const e={},n=T(t,["dynamicRetrievalConfig"]);return n!=null&&E(e,["dynamicRetrievalConfig"],N1e(n)),e}function k1e(){return{}}function R1e(t){const e={},n=T(t,["environment"]);return n!=null&&E(e,["environment"],n),e}function P1e(t){const e={},n=T(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>S1e(c))),E(e,["functionDeclarations"],l)}if(T(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=T(t,["googleSearch"]);r!=null&&E(e,["googleSearch"],A1e(r));const i=T(t,["googleSearchRetrieval"]);if(i!=null&&E(e,["googleSearchRetrieval"],I1e(i)),T(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(T(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");T(t,["urlContext"])!=null&&E(e,["urlContext"],k1e());const a=T(t,["computerUse"]);a!=null&&E(e,["computerUse"],R1e(a));const o=T(t,["codeExecution"]);return o!=null&&E(e,["codeExecution"],o),e}function F1e(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["allowedFunctionNames"]);return r!=null&&E(e,["allowedFunctionNames"],r),e}function M1e(t){const e={},n=T(t,["latitude"]);n!=null&&E(e,["latitude"],n);const r=T(t,["longitude"]);return r!=null&&E(e,["longitude"],r),e}function U1e(t){const e={},n=T(t,["latLng"]);n!=null&&E(e,["latLng"],M1e(n));const r=T(t,["languageCode"]);return r!=null&&E(e,["languageCode"],r),e}function O1e(t){const e={},n=T(t,["functionCallingConfig"]);n!=null&&E(e,["functionCallingConfig"],F1e(n));const r=T(t,["retrievalConfig"]);return r!=null&&E(e,["retrievalConfig"],U1e(r)),e}function L1e(t){const e={},n=T(t,["voiceName"]);return n!=null&&E(e,["voiceName"],n),e}function MG(t){const e={},n=T(t,["prebuiltVoiceConfig"]);return n!=null&&E(e,["prebuiltVoiceConfig"],L1e(n)),e}function j1e(t){const e={},n=T(t,["speaker"]);n!=null&&E(e,["speaker"],n);const r=T(t,["voiceConfig"]);return r!=null&&E(e,["voiceConfig"],MG(r)),e}function B1e(t){const e={},n=T(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>j1e(i))),E(e,["speakerVoiceConfigs"],r)}return e}function V1e(t){const e={},n=T(t,["voiceConfig"]);n!=null&&E(e,["voiceConfig"],MG(n));const r=T(t,["multiSpeakerVoiceConfig"]);r!=null&&E(e,["multiSpeakerVoiceConfig"],B1e(r));const i=T(t,["languageCode"]);return i!=null&&E(e,["languageCode"],i),e}function W1e(t){const e={},n=T(t,["includeThoughts"]);n!=null&&E(e,["includeThoughts"],n);const r=T(t,["thinkingBudget"]);return r!=null&&E(e,["thinkingBudget"],r),e}function q1e(t,e,n){const r={},i=T(e,["systemInstruction"]);n!==void 0&&i!=null&&E(n,["systemInstruction"],FG(hs(i)));const s=T(e,["temperature"]);s!=null&&E(r,["temperature"],s);const a=T(e,["topP"]);a!=null&&E(r,["topP"],a);const o=T(e,["topK"]);o!=null&&E(r,["topK"],o);const l=T(e,["candidateCount"]);l!=null&&E(r,["candidateCount"],l);const c=T(e,["maxOutputTokens"]);c!=null&&E(r,["maxOutputTokens"],c);const u=T(e,["stopSequences"]);u!=null&&E(r,["stopSequences"],u);const f=T(e,["responseLogprobs"]);f!=null&&E(r,["responseLogprobs"],f);const h=T(e,["logprobs"]);h!=null&&E(r,["logprobs"],h);const p=T(e,["presencePenalty"]);p!=null&&E(r,["presencePenalty"],p);const v=T(e,["frequencyPenalty"]);v!=null&&E(r,["frequencyPenalty"],v);const g=T(e,["seed"]);g!=null&&E(r,["seed"],g);const y=T(e,["responseMimeType"]);y!=null&&E(r,["responseMimeType"],y);const b=T(e,["responseSchema"]);b!=null&&E(r,["responseSchema"],E1e(hk(b)));const _=T(e,["responseJsonSchema"]);if(_!=null&&E(r,["responseJsonSchema"],_),T(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(T(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const w=T(e,["safetySettings"]);if(n!==void 0&&w!=null){let P=w;Array.isArray(P)&&(P=P.map(I=>C1e(I))),E(n,["safetySettings"],P)}const C=T(e,["tools"]);if(n!==void 0&&C!=null){let P=Hm(C);Array.isArray(P)&&(P=P.map(I=>P1e(zm(I)))),E(n,["tools"],P)}const S=T(e,["toolConfig"]);if(n!==void 0&&S!=null&&E(n,["toolConfig"],O1e(S)),T(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const R=T(e,["cachedContent"]);n!==void 0&&R!=null&&E(n,["cachedContent"],Sc(t,R));const D=T(e,["responseModalities"]);D!=null&&E(r,["responseModalities"],D);const N=T(e,["mediaResolution"]);N!=null&&E(r,["mediaResolution"],N);const k=T(e,["speechConfig"]);if(k!=null&&E(r,["speechConfig"],V1e(pk(k))),T(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const F=T(e,["thinkingConfig"]);return F!=null&&E(r,["thinkingConfig"],W1e(F)),r}function z1e(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["request","model"],Pn(t,r));const i=T(e,["contents"]);if(i!=null){let a=eo(i);Array.isArray(a)&&(a=a.map(o=>FG(o))),E(n,["request","contents"],a)}const s=T(e,["config"]);return s!=null&&E(n,["request","generationConfig"],q1e(t,s,n)),n}function H1e(t,e){const n={};if(T(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(T(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(T(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=T(e,["fileName"]);r!=null&&E(n,["fileName"],r);const i=T(e,["inlinedRequests"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>z1e(t,a))),E(n,["requests","requests"],s)}return n}function $1e(t,e){const n={},r=T(t,["displayName"]);if(e!==void 0&&r!=null&&E(e,["batch","displayName"],r),T(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function YS(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Pn(t,r));const i=T(e,["src"]);i!=null&&E(n,["batch","inputConfig"],H1e(t,kG(t,i)));const s=T(e,["config"]);return s!=null&&E(n,["config"],$1e(s,n)),n}function G1e(t,e){const n={},r=T(t,["taskType"]);e!==void 0&&r!=null&&E(e,["requests[]","taskType"],r);const i=T(t,["title"]);e!==void 0&&i!=null&&E(e,["requests[]","title"],i);const s=T(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&E(e,["requests[]","outputDimensionality"],s),T(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(T(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function K1e(t,e){const n={},r=T(e,["contents"]);r!=null&&E(n,["requests[]","request","content"],fk(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],G1e(i,n)),n}function X1e(t,e){const n={},r=T(e,["fileName"]);r!=null&&E(n,["file_name"],r);const i=T(e,["inlinedRequests"]);return i!=null&&E(n,["requests"],K1e(t,i)),n}function J1e(t,e){const n={},r=T(t,["displayName"]);return e!==void 0&&r!=null&&E(e,["batch","displayName"],r),n}function QS(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Pn(t,r));const i=T(e,["src"]);i!=null&&E(n,["batch","inputConfig"],X1e(t,i));const s=T(e,["config"]);return s!=null&&E(n,["config"],J1e(s,n)),n}function Y1e(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],$m(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function Q1e(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],$m(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function Z1e(t,e){const n={},r=T(t,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=T(t,["pageToken"]);if(e!==void 0&&i!=null&&E(e,["_query","pageToken"],i),T(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function exe(t){const e={},n=T(t,["config"]);return n!=null&&E(e,["config"],Z1e(n,e)),e}function txe(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],$m(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function nxe(t){const e={},n=T(t,["format"]);n!=null&&E(e,["instancesFormat"],n);const r=T(t,["gcsUri"]);r!=null&&E(e,["gcsSource","uris"],r);const i=T(t,["bigqueryUri"]);if(i!=null&&E(e,["bigquerySource","inputUri"],i),T(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(T(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function rxe(t){const e={},n=T(t,["format"]);n!=null&&E(e,["predictionsFormat"],n);const r=T(t,["gcsUri"]);r!=null&&E(e,["gcsDestination","outputUriPrefix"],r);const i=T(t,["bigqueryUri"]);if(i!=null&&E(e,["bigqueryDestination","outputUri"],i),T(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(T(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(T(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function ixe(t,e){const n={},r=T(t,["displayName"]);e!==void 0&&r!=null&&E(e,["displayName"],r);const i=T(t,["dest"]);return e!==void 0&&i!=null&&E(e,["outputConfig"],rxe(v1e(i))),n}function sxe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["model"],Pn(t,r));const i=T(e,["src"]);i!=null&&E(n,["inputConfig"],nxe(kG(t,i)));const s=T(e,["config"]);return s!=null&&E(n,["config"],ixe(s,n)),n}function axe(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],$m(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function oxe(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],$m(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function lxe(t,e){const n={},r=T(t,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=T(t,["pageToken"]);e!==void 0&&i!=null&&E(e,["_query","pageToken"],i);const s=T(t,["filter"]);return e!==void 0&&s!=null&&E(e,["_query","filter"],s),n}function cxe(t){const e={},n=T(t,["config"]);return n!=null&&E(e,["config"],lxe(n,e)),e}function uxe(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],$m(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function dxe(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function fxe(t){const e={},n=T(t,["data"]);n!=null&&E(e,["data"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function hxe(t){const e={},n=T(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function pxe(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function mxe(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],dxe(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],fxe(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],hxe(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],pxe(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function gxe(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>mxe(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function yxe(t){const e={},n=T(t,["citationSources"]);return n!=null&&E(e,["citations"],n),e}function vxe(t){const e={},n=T(t,["retrievedUrl"]);n!=null&&E(e,["retrievedUrl"],n);const r=T(t,["urlRetrievalStatus"]);return r!=null&&E(e,["urlRetrievalStatus"],r),e}function xxe(t){const e={},n=T(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>vxe(i))),E(e,["urlMetadata"],r)}return e}function _xe(t){const e={},n=T(t,["content"]);n!=null&&E(e,["content"],gxe(n));const r=T(t,["citationMetadata"]);r!=null&&E(e,["citationMetadata"],yxe(r));const i=T(t,["tokenCount"]);i!=null&&E(e,["tokenCount"],i);const s=T(t,["finishReason"]);s!=null&&E(e,["finishReason"],s);const a=T(t,["urlContextMetadata"]);a!=null&&E(e,["urlContextMetadata"],xxe(a));const o=T(t,["avgLogprobs"]);o!=null&&E(e,["avgLogprobs"],o);const l=T(t,["groundingMetadata"]);l!=null&&E(e,["groundingMetadata"],l);const c=T(t,["index"]);c!=null&&E(e,["index"],c);const u=T(t,["logprobsResult"]);u!=null&&E(e,["logprobsResult"],u);const f=T(t,["safetyRatings"]);return f!=null&&E(e,["safetyRatings"],f),e}function bxe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>_xe(c))),E(e,["candidates"],l)}const i=T(t,["modelVersion"]);i!=null&&E(e,["modelVersion"],i);const s=T(t,["promptFeedback"]);s!=null&&E(e,["promptFeedback"],s);const a=T(t,["responseId"]);a!=null&&E(e,["responseId"],a);const o=T(t,["usageMetadata"]);return o!=null&&E(e,["usageMetadata"],o),e}function gk(t){const e={},n=T(t,["details"]);n!=null&&E(e,["details"],n);const r=T(t,["code"]);r!=null&&E(e,["code"],r);const i=T(t,["message"]);return i!=null&&E(e,["message"],i),e}function wxe(t){const e={},n=T(t,["response"]);n!=null&&E(e,["response"],bxe(n));const r=T(t,["error"]);return r!=null&&E(e,["error"],gk(r)),e}function Txe(t){const e={},n=T(t,["values"]);return n!=null&&E(e,["values"],n),e}function Exe(t){const e={},n=T(t,["embedding"]);n!=null&&E(e,["embedding"],Txe(n));const r=T(t,["tokenCount"]);return r!=null&&E(e,["tokenCount"],r),e}function Cxe(t){const e={},n=T(t,["response"]);n!=null&&E(e,["response"],Exe(n));const r=T(t,["error"]);return r!=null&&E(e,["error"],gk(r)),e}function Sxe(t){const e={},n=T(t,["responsesFile"]);n!=null&&E(e,["fileName"],n);const r=T(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>wxe(a))),E(e,["inlinedResponses"],s)}const i=T(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>Cxe(a))),E(e,["inlinedEmbedContentResponses"],s)}return e}function up(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["metadata","displayName"]);r!=null&&E(e,["displayName"],r);const i=T(t,["metadata","state"]);i!=null&&E(e,["state"],PG(i));const s=T(t,["metadata","createTime"]);s!=null&&E(e,["createTime"],s);const a=T(t,["metadata","endTime"]);a!=null&&E(e,["endTime"],a);const o=T(t,["metadata","updateTime"]);o!=null&&E(e,["updateTime"],o);const l=T(t,["metadata","model"]);l!=null&&E(e,["model"],l);const c=T(t,["metadata","output"]);return c!=null&&E(e,["dest"],Sxe(RG(c))),e}function Dxe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=T(t,["operations"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>up(a))),E(e,["batchJobs"],s)}return e}function Axe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["name"]);r!=null&&E(e,["name"],r);const i=T(t,["done"]);i!=null&&E(e,["done"],i);const s=T(t,["error"]);return s!=null&&E(e,["error"],gk(s)),e}function UG(t){const e={},n=T(t,["details"]);n!=null&&E(e,["details"],n);const r=T(t,["code"]);r!=null&&E(e,["code"],r);const i=T(t,["message"]);return i!=null&&E(e,["message"],i),e}function Nxe(t){const e={},n=T(t,["instancesFormat"]);n!=null&&E(e,["format"],n);const r=T(t,["gcsSource","uris"]);r!=null&&E(e,["gcsUri"],r);const i=T(t,["bigquerySource","inputUri"]);return i!=null&&E(e,["bigqueryUri"],i),e}function Ixe(t){const e={},n=T(t,["predictionsFormat"]);n!=null&&E(e,["format"],n);const r=T(t,["gcsDestination","outputUriPrefix"]);r!=null&&E(e,["gcsUri"],r);const i=T(t,["bigqueryDestination","outputUri"]);return i!=null&&E(e,["bigqueryUri"],i),e}function K4(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["displayName"]);r!=null&&E(e,["displayName"],r);const i=T(t,["state"]);i!=null&&E(e,["state"],PG(i));const s=T(t,["error"]);s!=null&&E(e,["error"],UG(s));const a=T(t,["createTime"]);a!=null&&E(e,["createTime"],a);const o=T(t,["startTime"]);o!=null&&E(e,["startTime"],o);const l=T(t,["endTime"]);l!=null&&E(e,["endTime"],l);const c=T(t,["updateTime"]);c!=null&&E(e,["updateTime"],c);const u=T(t,["model"]);u!=null&&E(e,["model"],u);const f=T(t,["inputConfig"]);f!=null&&E(e,["src"],Nxe(f));const h=T(t,["outputConfig"]);return h!=null&&E(e,["dest"],Ixe(RG(h))),e}function kxe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=T(t,["batchPredictionJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>K4(a))),E(e,["batchJobs"],s)}return e}function Rxe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["name"]);r!=null&&E(e,["name"],r);const i=T(t,["done"]);i!=null&&E(e,["done"],i);const s=T(t,["error"]);return s!=null&&E(e,["error"],UG(s)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var kf;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(kf||(kf={}));class Bv{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,s;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(s=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pxe extends Yf{constructor(e){super(),this.apiClient=e,this.create=async n=>{var r,i;if(this.apiClient.isVertexAI())return n.config=this.formatDestination(n.src,n.config),this.createInternal(n);const s=n.src;if(!(Array.isArray(n.src)||s.inlinedRequests!==void 0))return this.createInternal(n);const o=this.createInlinedGenerateContentRequest(n),l=o.path,c=o.body,u=YS(this.apiClient,n)._query||{};return this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()).then(h=>up(h))},this.createEmbeddings=async n=>{var r,i;if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");if(!(n.src.inlinedRequests!==void 0))return this.createEmbeddingsInternal(n);const o=this.createInlinedEmbedContentRequest(n),l=o.path,c=o.body,u=QS(this.apiClient,n)._query||{};return this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()).then(h=>up(h))},this.list=async(n={})=>new Bv(kf.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=YS(this.apiClient,e),r=n._url,i=Ft("{model}:batchGenerateContent",r),o=n.batch.inputConfig.requests,l=o.requests,c=[];for(const u of l){const f=Object.assign({},u);if(f.systemInstruction){const h=f.systemInstruction;delete f.systemInstruction;const p=f.request;p.systemInstruction=h,f.request=p}c.push(f)}return o.requests=c,delete n.config,delete n._url,delete n._query,{path:i,body:n}}createInlinedEmbedContentRequest(e){const n=QS(this.apiClient,e),r=n._url,i=Ft("{model}:asyncBatchEmbedContent",r),o=n.batch.inputConfig.requests,l=o.requests,c=[];delete o.config;for(const u of l){const f=Object.assign({},u),h=f.request;for(const p in f)p!=="request"&&(h[p]=f[p],delete f[p]);c.push(f)}return o.requests=c,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const s=this.getGcsUri(e),a=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?r.dest=`${s.slice(0,-6)}/dest`:r.dest=`${s}_dest_${i}`;else if(a)r.dest=`${a}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=sxe(this.apiClient,e);return o=Ft("batchPredictionJobs",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>K4(u))}else{const c=YS(this.apiClient,e);return o=Ft("{model}:batchGenerateContent",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>up(u))}}async createEmbeddingsInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=QS(this.apiClient,e);return s=Ft("{model}:asyncBatchEmbedContent",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>up(l))}}async get(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=axe(this.apiClient,e);return o=Ft("batchPredictionJobs/{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>K4(u))}else{const c=Y1e(this.apiClient,e);return o=Ft("batches/{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>up(u))}}async cancel(e){var n,r,i,s;let a="",o={};if(this.apiClient.isVertexAI()){const l=oxe(this.apiClient,e);a=Ft("batchPredictionJobs/{name}:cancel",l._url),o=l._query,delete l.config,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=Q1e(this.apiClient,e);a=Ft("batches/{name}:cancel",l._url),o=l._query,delete l.config,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=cxe(e);return o=Ft("batchPredictionJobs",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=kxe(u),h=new fO;return Object.assign(h,f),h})}else{const c=exe(e);return o=Ft("batches",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=Dxe(u),h=new fO;return Object.assign(h,f),h})}}async delete(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=uxe(this.apiClient,e);return o=Ft("batchPredictionJobs/{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>Rxe(u))}else{const c=txe(this.apiClient,e);return o=Ft("batches/{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>Axe(u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fxe(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function Mxe(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["data"]);n!=null&&E(e,["data"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function Uxe(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function Oxe(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function Lxe(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],Fxe(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],Mxe(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],Uxe(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],Oxe(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function gO(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Lxe(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function jxe(t){const e={},n=T(t,["behavior"]);n!=null&&E(e,["behavior"],n);const r=T(t,["description"]);r!=null&&E(e,["description"],r);const i=T(t,["name"]);i!=null&&E(e,["name"],i);const s=T(t,["parameters"]);s!=null&&E(e,["parameters"],s);const a=T(t,["parametersJsonSchema"]);a!=null&&E(e,["parametersJsonSchema"],a);const o=T(t,["response"]);o!=null&&E(e,["response"],o);const l=T(t,["responseJsonSchema"]);return l!=null&&E(e,["responseJsonSchema"],l),e}function Bxe(t){const e={},n=T(t,["startTime"]);n!=null&&E(e,["startTime"],n);const r=T(t,["endTime"]);return r!=null&&E(e,["endTime"],r),e}function Vxe(t){const e={},n=T(t,["timeRangeFilter"]);if(n!=null&&E(e,["timeRangeFilter"],Bxe(n)),T(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function Wxe(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["dynamicThreshold"]);return r!=null&&E(e,["dynamicThreshold"],r),e}function qxe(t){const e={},n=T(t,["dynamicRetrievalConfig"]);return n!=null&&E(e,["dynamicRetrievalConfig"],Wxe(n)),e}function zxe(){return{}}function Hxe(t){const e={},n=T(t,["environment"]);return n!=null&&E(e,["environment"],n),e}function $xe(t){const e={},n=T(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>jxe(c))),E(e,["functionDeclarations"],l)}if(T(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=T(t,["googleSearch"]);r!=null&&E(e,["googleSearch"],Vxe(r));const i=T(t,["googleSearchRetrieval"]);if(i!=null&&E(e,["googleSearchRetrieval"],qxe(i)),T(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(T(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");T(t,["urlContext"])!=null&&E(e,["urlContext"],zxe());const a=T(t,["computerUse"]);a!=null&&E(e,["computerUse"],Hxe(a));const o=T(t,["codeExecution"]);return o!=null&&E(e,["codeExecution"],o),e}function Gxe(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["allowedFunctionNames"]);return r!=null&&E(e,["allowedFunctionNames"],r),e}function Kxe(t){const e={},n=T(t,["latitude"]);n!=null&&E(e,["latitude"],n);const r=T(t,["longitude"]);return r!=null&&E(e,["longitude"],r),e}function Xxe(t){const e={},n=T(t,["latLng"]);n!=null&&E(e,["latLng"],Kxe(n));const r=T(t,["languageCode"]);return r!=null&&E(e,["languageCode"],r),e}function Jxe(t){const e={},n=T(t,["functionCallingConfig"]);n!=null&&E(e,["functionCallingConfig"],Gxe(n));const r=T(t,["retrievalConfig"]);return r!=null&&E(e,["retrievalConfig"],Xxe(r)),e}function Yxe(t,e){const n={},r=T(t,["ttl"]);e!==void 0&&r!=null&&E(e,["ttl"],r);const i=T(t,["expireTime"]);e!==void 0&&i!=null&&E(e,["expireTime"],i);const s=T(t,["displayName"]);e!==void 0&&s!=null&&E(e,["displayName"],s);const a=T(t,["contents"]);if(e!==void 0&&a!=null){let u=eo(a);Array.isArray(u)&&(u=u.map(f=>gO(f))),E(e,["contents"],u)}const o=T(t,["systemInstruction"]);e!==void 0&&o!=null&&E(e,["systemInstruction"],gO(hs(o)));const l=T(t,["tools"]);if(e!==void 0&&l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>$xe(f))),E(e,["tools"],u)}const c=T(t,["toolConfig"]);if(e!==void 0&&c!=null&&E(e,["toolConfig"],Jxe(c)),T(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Qxe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["model"],wG(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],Yxe(i,n)),n}function Zxe(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],Sc(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function e2e(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],Sc(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function t2e(t,e){const n={},r=T(t,["ttl"]);e!==void 0&&r!=null&&E(e,["ttl"],r);const i=T(t,["expireTime"]);return e!==void 0&&i!=null&&E(e,["expireTime"],i),n}function n2e(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],Sc(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],t2e(i,n)),n}function r2e(t,e){const n={},r=T(t,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=T(t,["pageToken"]);return e!==void 0&&i!=null&&E(e,["_query","pageToken"],i),n}function i2e(t){const e={},n=T(t,["config"]);return n!=null&&E(e,["config"],r2e(n,e)),e}function s2e(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function a2e(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["data"]);r!=null&&E(e,["data"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function o2e(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["fileUri"]);r!=null&&E(e,["fileUri"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function l2e(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function c2e(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],s2e(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],a2e(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],o2e(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],l2e(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function yO(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>c2e(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function u2e(t){const e={};if(T(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=T(t,["description"]);n!=null&&E(e,["description"],n);const r=T(t,["name"]);r!=null&&E(e,["name"],r);const i=T(t,["parameters"]);i!=null&&E(e,["parameters"],i);const s=T(t,["parametersJsonSchema"]);s!=null&&E(e,["parametersJsonSchema"],s);const a=T(t,["response"]);a!=null&&E(e,["response"],a);const o=T(t,["responseJsonSchema"]);return o!=null&&E(e,["responseJsonSchema"],o),e}function d2e(t){const e={},n=T(t,["startTime"]);n!=null&&E(e,["startTime"],n);const r=T(t,["endTime"]);return r!=null&&E(e,["endTime"],r),e}function f2e(t){const e={},n=T(t,["timeRangeFilter"]);n!=null&&E(e,["timeRangeFilter"],d2e(n));const r=T(t,["excludeDomains"]);return r!=null&&E(e,["excludeDomains"],r),e}function h2e(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["dynamicThreshold"]);return r!=null&&E(e,["dynamicThreshold"],r),e}function p2e(t){const e={},n=T(t,["dynamicRetrievalConfig"]);return n!=null&&E(e,["dynamicRetrievalConfig"],h2e(n)),e}function m2e(t){const e={},n=T(t,["excludeDomains"]);return n!=null&&E(e,["excludeDomains"],n),e}function g2e(t){const e={},n=T(t,["apiKeyString"]);return n!=null&&E(e,["apiKeyString"],n),e}function y2e(t){const e={},n=T(t,["apiKeyConfig"]);n!=null&&E(e,["apiKeyConfig"],g2e(n));const r=T(t,["authType"]);r!=null&&E(e,["authType"],r);const i=T(t,["googleServiceAccountConfig"]);i!=null&&E(e,["googleServiceAccountConfig"],i);const s=T(t,["httpBasicAuthConfig"]);s!=null&&E(e,["httpBasicAuthConfig"],s);const a=T(t,["oauthConfig"]);a!=null&&E(e,["oauthConfig"],a);const o=T(t,["oidcConfig"]);return o!=null&&E(e,["oidcConfig"],o),e}function v2e(t){const e={},n=T(t,["authConfig"]);return n!=null&&E(e,["authConfig"],y2e(n)),e}function x2e(){return{}}function _2e(t){const e={},n=T(t,["environment"]);return n!=null&&E(e,["environment"],n),e}function b2e(t){const e={},n=T(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>u2e(h))),E(e,["functionDeclarations"],f)}const r=T(t,["retrieval"]);r!=null&&E(e,["retrieval"],r);const i=T(t,["googleSearch"]);i!=null&&E(e,["googleSearch"],f2e(i));const s=T(t,["googleSearchRetrieval"]);s!=null&&E(e,["googleSearchRetrieval"],p2e(s));const a=T(t,["enterpriseWebSearch"]);a!=null&&E(e,["enterpriseWebSearch"],m2e(a));const o=T(t,["googleMaps"]);o!=null&&E(e,["googleMaps"],v2e(o)),T(t,["urlContext"])!=null&&E(e,["urlContext"],x2e());const c=T(t,["computerUse"]);c!=null&&E(e,["computerUse"],_2e(c));const u=T(t,["codeExecution"]);return u!=null&&E(e,["codeExecution"],u),e}function w2e(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["allowedFunctionNames"]);return r!=null&&E(e,["allowedFunctionNames"],r),e}function T2e(t){const e={},n=T(t,["latitude"]);n!=null&&E(e,["latitude"],n);const r=T(t,["longitude"]);return r!=null&&E(e,["longitude"],r),e}function E2e(t){const e={},n=T(t,["latLng"]);n!=null&&E(e,["latLng"],T2e(n));const r=T(t,["languageCode"]);return r!=null&&E(e,["languageCode"],r),e}function C2e(t){const e={},n=T(t,["functionCallingConfig"]);n!=null&&E(e,["functionCallingConfig"],w2e(n));const r=T(t,["retrievalConfig"]);return r!=null&&E(e,["retrievalConfig"],E2e(r)),e}function S2e(t,e){const n={},r=T(t,["ttl"]);e!==void 0&&r!=null&&E(e,["ttl"],r);const i=T(t,["expireTime"]);e!==void 0&&i!=null&&E(e,["expireTime"],i);const s=T(t,["displayName"]);e!==void 0&&s!=null&&E(e,["displayName"],s);const a=T(t,["contents"]);if(e!==void 0&&a!=null){let f=eo(a);Array.isArray(f)&&(f=f.map(h=>yO(h))),E(e,["contents"],f)}const o=T(t,["systemInstruction"]);e!==void 0&&o!=null&&E(e,["systemInstruction"],yO(hs(o)));const l=T(t,["tools"]);if(e!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>b2e(h))),E(e,["tools"],f)}const c=T(t,["toolConfig"]);e!==void 0&&c!=null&&E(e,["toolConfig"],C2e(c));const u=T(t,["kmsKeyName"]);return e!==void 0&&u!=null&&E(e,["encryption_spec","kmsKeyName"],u),n}function D2e(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["model"],wG(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],S2e(i,n)),n}function A2e(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],Sc(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function N2e(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],Sc(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function I2e(t,e){const n={},r=T(t,["ttl"]);e!==void 0&&r!=null&&E(e,["ttl"],r);const i=T(t,["expireTime"]);return e!==void 0&&i!=null&&E(e,["expireTime"],i),n}function k2e(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],Sc(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],I2e(i,n)),n}function R2e(t,e){const n={},r=T(t,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=T(t,["pageToken"]);return e!==void 0&&i!=null&&E(e,["_query","pageToken"],i),n}function P2e(t){const e={},n=T(t,["config"]);return n!=null&&E(e,["config"],R2e(n,e)),e}function v2(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["displayName"]);r!=null&&E(e,["displayName"],r);const i=T(t,["model"]);i!=null&&E(e,["model"],i);const s=T(t,["createTime"]);s!=null&&E(e,["createTime"],s);const a=T(t,["updateTime"]);a!=null&&E(e,["updateTime"],a);const o=T(t,["expireTime"]);o!=null&&E(e,["expireTime"],o);const l=T(t,["usageMetadata"]);return l!=null&&E(e,["usageMetadata"],l),e}function F2e(t){const e={},n=T(t,["sdkHttpResponse"]);return n!=null&&E(e,["sdkHttpResponse"],n),e}function M2e(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=T(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>v2(a))),E(e,["cachedContents"],s)}return e}function x2(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["displayName"]);r!=null&&E(e,["displayName"],r);const i=T(t,["model"]);i!=null&&E(e,["model"],i);const s=T(t,["createTime"]);s!=null&&E(e,["createTime"],s);const a=T(t,["updateTime"]);a!=null&&E(e,["updateTime"],a);const o=T(t,["expireTime"]);o!=null&&E(e,["expireTime"],o);const l=T(t,["usageMetadata"]);return l!=null&&E(e,["usageMetadata"],l),e}function U2e(t){const e={},n=T(t,["sdkHttpResponse"]);return n!=null&&E(e,["sdkHttpResponse"],n),e}function O2e(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=T(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>x2(a))),E(e,["cachedContents"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class L2e extends Yf{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Bv(kf.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=D2e(this.apiClient,e);return o=Ft("cachedContents",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>x2(u))}else{const c=Qxe(this.apiClient,e);return o=Ft("cachedContents",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>v2(u))}}async get(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=A2e(this.apiClient,e);return o=Ft("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>x2(u))}else{const c=Zxe(this.apiClient,e);return o=Ft("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>v2(u))}}async delete(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=N2e(this.apiClient,e);return o=Ft("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=U2e(u),h=new uO;return Object.assign(h,f),h})}else{const c=e2e(this.apiClient,e);return o=Ft("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=F2e(u),h=new uO;return Object.assign(h,f),h})}}async update(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=k2e(this.apiClient,e);return o=Ft("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>x2(u))}else{const c=n2e(this.apiClient,e);return o=Ft("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>v2(u))}}async listInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=P2e(e);return o=Ft("cachedContents",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=O2e(u),h=new dO;return Object.assign(h,f),h})}else{const c=i2e(e);return o=Ft("cachedContents",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=M2e(u),h=new dO;return Object.assign(h,f),h})}}}function vO(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function hr(t){return this instanceof hr?(this.v=t,this):new hr(t)}function Np(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(p){return function(v){return Promise.resolve(v).then(p,f)}}function o(p,v){r[p]&&(i[p]=function(g){return new Promise(function(y,b){s.push([p,g,y,b])>1||l(p,g)})},v&&(i[p]=v(i[p])))}function l(p,v){try{c(r[p](v))}catch(g){h(s[0][3],g)}}function c(p){p.value instanceof hr?Promise.resolve(p.value.v).then(u,f):h(s[0][2],p)}function u(p){l("next",p)}function f(p){l("throw",p)}function h(p,v){p(v),s.shift(),s.length&&l(s[0][0],s[0][1])}}function z0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof vO=="function"?vO(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(a){return new Promise(function(o,l){a=t[s](a),i(o,l,a.done,a.value)})}}function i(s,a,o,l){Promise.resolve(l).then(function(c){s({value:c,done:o})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function j2e(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:OG(n)}function OG(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function B2e(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function xO(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let s=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),s&&!OG(t[r])&&(s=!1),r++;s?e.push(...i):e.pop()}return e}class V2e{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new W2e(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class W2e{constructor(e,n,r,i={},s=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=s,this.sendPromise=Promise.resolve(),B2e(s)}async sendMessage(e){var n;await this.sendPromise;const r=hs(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var s,a,o;const l=await i,c=(a=(s=l.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content,u=l.automaticFunctionCallingHistory,f=this.getHistory(!0).length;let h=[];u!=null&&(h=(o=u.slice(f))!==null&&o!==void 0?o:[]);const p=c?[c]:[];this.recordHistory(r,p,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=hs(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const s=await i;return this.processStreamResponse(s,r)}getHistory(e=!1){const n=e?xO(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return Np(this,arguments,function*(){var a,o,l,c;const u=[];try{for(var f=!0,h=z0(e),p;p=yield hr(h.next()),a=p.done,!a;f=!0){c=p.value,f=!1;const v=c;if(j2e(v)){const g=(i=(r=v.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;g!==void 0&&u.push(g)}yield yield hr(v)}}catch(v){o={error:v}}finally{try{!f&&!a&&(l=h.return)&&(yield hr(l.call(h)))}finally{if(o)throw o.error}}this.recordHistory(n,u)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(s=>s.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...xO(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ew extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Ew.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function q2e(t,e){const n={},r=T(t,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=T(t,["pageToken"]);return e!==void 0&&i!=null&&E(e,["_query","pageToken"],i),n}function z2e(t){const e={},n=T(t,["config"]);return n!=null&&E(e,["config"],q2e(n,e)),e}function H2e(t){const e={},n=T(t,["details"]);n!=null&&E(e,["details"],n);const r=T(t,["message"]);r!=null&&E(e,["message"],r);const i=T(t,["code"]);return i!=null&&E(e,["code"],i),e}function $2e(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["displayName"]);r!=null&&E(e,["displayName"],r);const i=T(t,["mimeType"]);i!=null&&E(e,["mimeType"],i);const s=T(t,["sizeBytes"]);s!=null&&E(e,["sizeBytes"],s);const a=T(t,["createTime"]);a!=null&&E(e,["createTime"],a);const o=T(t,["expirationTime"]);o!=null&&E(e,["expirationTime"],o);const l=T(t,["updateTime"]);l!=null&&E(e,["updateTime"],l);const c=T(t,["sha256Hash"]);c!=null&&E(e,["sha256Hash"],c);const u=T(t,["uri"]);u!=null&&E(e,["uri"],u);const f=T(t,["downloadUri"]);f!=null&&E(e,["downloadUri"],f);const h=T(t,["state"]);h!=null&&E(e,["state"],h);const p=T(t,["source"]);p!=null&&E(e,["source"],p);const v=T(t,["videoMetadata"]);v!=null&&E(e,["videoMetadata"],v);const g=T(t,["error"]);return g!=null&&E(e,["error"],H2e(g)),e}function G2e(t){const e={},n=T(t,["file"]);n!=null&&E(e,["file"],$2e(n));const r=T(t,["config"]);return r!=null&&E(e,["config"],r),e}function K2e(t){const e={},n=T(t,["name"]);n!=null&&E(e,["_url","file"],AG(n));const r=T(t,["config"]);return r!=null&&E(e,["config"],r),e}function X2e(t){const e={},n=T(t,["name"]);n!=null&&E(e,["_url","file"],AG(n));const r=T(t,["config"]);return r!=null&&E(e,["config"],r),e}function J2e(t){const e={},n=T(t,["details"]);n!=null&&E(e,["details"],n);const r=T(t,["message"]);r!=null&&E(e,["message"],r);const i=T(t,["code"]);return i!=null&&E(e,["code"],i),e}function X4(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["displayName"]);r!=null&&E(e,["displayName"],r);const i=T(t,["mimeType"]);i!=null&&E(e,["mimeType"],i);const s=T(t,["sizeBytes"]);s!=null&&E(e,["sizeBytes"],s);const a=T(t,["createTime"]);a!=null&&E(e,["createTime"],a);const o=T(t,["expirationTime"]);o!=null&&E(e,["expirationTime"],o);const l=T(t,["updateTime"]);l!=null&&E(e,["updateTime"],l);const c=T(t,["sha256Hash"]);c!=null&&E(e,["sha256Hash"],c);const u=T(t,["uri"]);u!=null&&E(e,["uri"],u);const f=T(t,["downloadUri"]);f!=null&&E(e,["downloadUri"],f);const h=T(t,["state"]);h!=null&&E(e,["state"],h);const p=T(t,["source"]);p!=null&&E(e,["source"],p);const v=T(t,["videoMetadata"]);v!=null&&E(e,["videoMetadata"],v);const g=T(t,["error"]);return g!=null&&E(e,["error"],J2e(g)),e}function Y2e(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=T(t,["files"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>X4(a))),E(e,["files"],s)}return e}function Q2e(t){const e={},n=T(t,["sdkHttpResponse"]);return n!=null&&E(e,["sdkHttpResponse"],n),e}function Z2e(t){const e={},n=T(t,["sdkHttpResponse"]);return n!=null&&E(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class e_e extends Yf{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Bv(kf.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>X4(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=z2e(e);return s=Ft("files",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{const c=Y2e(l),u=new s1e;return Object.assign(u,c),u})}}async createInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=G2e(e);return s=Ft("upload/v1beta/files",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=Q2e(l),u=new a1e;return Object.assign(u,c),u})}}async get(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=K2e(e);return s=Ft("files/{file}",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>X4(l))}}async delete(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=X2e(e);return s=Ft("files/{file}",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{const c=Z2e(l),u=new o1e;return Object.assign(u,c),u})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function t_e(t){const e={},n=T(t,["voiceName"]);return n!=null&&E(e,["voiceName"],n),e}function LG(t){const e={},n=T(t,["prebuiltVoiceConfig"]);return n!=null&&E(e,["prebuiltVoiceConfig"],t_e(n)),e}function n_e(t){const e={},n=T(t,["speaker"]);n!=null&&E(e,["speaker"],n);const r=T(t,["voiceConfig"]);return r!=null&&E(e,["voiceConfig"],LG(r)),e}function r_e(t){const e={},n=T(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>n_e(i))),E(e,["speakerVoiceConfigs"],r)}return e}function i_e(t){const e={},n=T(t,["voiceConfig"]);n!=null&&E(e,["voiceConfig"],LG(n));const r=T(t,["multiSpeakerVoiceConfig"]);r!=null&&E(e,["multiSpeakerVoiceConfig"],r_e(r));const i=T(t,["languageCode"]);return i!=null&&E(e,["languageCode"],i),e}function s_e(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function a_e(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["data"]);n!=null&&E(e,["data"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function o_e(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function l_e(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function c_e(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],s_e(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],a_e(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],o_e(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],l_e(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function u_e(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>c_e(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function d_e(t){const e={},n=T(t,["behavior"]);n!=null&&E(e,["behavior"],n);const r=T(t,["description"]);r!=null&&E(e,["description"],r);const i=T(t,["name"]);i!=null&&E(e,["name"],i);const s=T(t,["parameters"]);s!=null&&E(e,["parameters"],s);const a=T(t,["parametersJsonSchema"]);a!=null&&E(e,["parametersJsonSchema"],a);const o=T(t,["response"]);o!=null&&E(e,["response"],o);const l=T(t,["responseJsonSchema"]);return l!=null&&E(e,["responseJsonSchema"],l),e}function f_e(t){const e={},n=T(t,["startTime"]);n!=null&&E(e,["startTime"],n);const r=T(t,["endTime"]);return r!=null&&E(e,["endTime"],r),e}function h_e(t){const e={},n=T(t,["timeRangeFilter"]);if(n!=null&&E(e,["timeRangeFilter"],f_e(n)),T(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function p_e(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["dynamicThreshold"]);return r!=null&&E(e,["dynamicThreshold"],r),e}function m_e(t){const e={},n=T(t,["dynamicRetrievalConfig"]);return n!=null&&E(e,["dynamicRetrievalConfig"],p_e(n)),e}function g_e(){return{}}function y_e(t){const e={},n=T(t,["environment"]);return n!=null&&E(e,["environment"],n),e}function v_e(t){const e={},n=T(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>d_e(c))),E(e,["functionDeclarations"],l)}if(T(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=T(t,["googleSearch"]);r!=null&&E(e,["googleSearch"],h_e(r));const i=T(t,["googleSearchRetrieval"]);if(i!=null&&E(e,["googleSearchRetrieval"],m_e(i)),T(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(T(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");T(t,["urlContext"])!=null&&E(e,["urlContext"],g_e());const a=T(t,["computerUse"]);a!=null&&E(e,["computerUse"],y_e(a));const o=T(t,["codeExecution"]);return o!=null&&E(e,["codeExecution"],o),e}function x_e(t){const e={},n=T(t,["handle"]);if(n!=null&&E(e,["handle"],n),T(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function _O(){return{}}function __e(t){const e={},n=T(t,["disabled"]);n!=null&&E(e,["disabled"],n);const r=T(t,["startOfSpeechSensitivity"]);r!=null&&E(e,["startOfSpeechSensitivity"],r);const i=T(t,["endOfSpeechSensitivity"]);i!=null&&E(e,["endOfSpeechSensitivity"],i);const s=T(t,["prefixPaddingMs"]);s!=null&&E(e,["prefixPaddingMs"],s);const a=T(t,["silenceDurationMs"]);return a!=null&&E(e,["silenceDurationMs"],a),e}function b_e(t){const e={},n=T(t,["automaticActivityDetection"]);n!=null&&E(e,["automaticActivityDetection"],__e(n));const r=T(t,["activityHandling"]);r!=null&&E(e,["activityHandling"],r);const i=T(t,["turnCoverage"]);return i!=null&&E(e,["turnCoverage"],i),e}function w_e(t){const e={},n=T(t,["targetTokens"]);return n!=null&&E(e,["targetTokens"],n),e}function T_e(t){const e={},n=T(t,["triggerTokens"]);n!=null&&E(e,["triggerTokens"],n);const r=T(t,["slidingWindow"]);return r!=null&&E(e,["slidingWindow"],w_e(r)),e}function E_e(t){const e={},n=T(t,["proactiveAudio"]);return n!=null&&E(e,["proactiveAudio"],n),e}function C_e(t,e){const n={},r=T(t,["generationConfig"]);e!==void 0&&r!=null&&E(e,["setup","generationConfig"],r);const i=T(t,["responseModalities"]);e!==void 0&&i!=null&&E(e,["setup","generationConfig","responseModalities"],i);const s=T(t,["temperature"]);e!==void 0&&s!=null&&E(e,["setup","generationConfig","temperature"],s);const a=T(t,["topP"]);e!==void 0&&a!=null&&E(e,["setup","generationConfig","topP"],a);const o=T(t,["topK"]);e!==void 0&&o!=null&&E(e,["setup","generationConfig","topK"],o);const l=T(t,["maxOutputTokens"]);e!==void 0&&l!=null&&E(e,["setup","generationConfig","maxOutputTokens"],l);const c=T(t,["mediaResolution"]);e!==void 0&&c!=null&&E(e,["setup","generationConfig","mediaResolution"],c);const u=T(t,["seed"]);e!==void 0&&u!=null&&E(e,["setup","generationConfig","seed"],u);const f=T(t,["speechConfig"]);e!==void 0&&f!=null&&E(e,["setup","generationConfig","speechConfig"],i_e(mk(f)));const h=T(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&E(e,["setup","generationConfig","enableAffectiveDialog"],h);const p=T(t,["systemInstruction"]);e!==void 0&&p!=null&&E(e,["setup","systemInstruction"],u_e(hs(p)));const v=T(t,["tools"]);if(e!==void 0&&v!=null){let S=Hm(v);Array.isArray(S)&&(S=S.map(R=>v_e(zm(R)))),E(e,["setup","tools"],S)}const g=T(t,["sessionResumption"]);e!==void 0&&g!=null&&E(e,["setup","sessionResumption"],x_e(g));const y=T(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&E(e,["setup","inputAudioTranscription"],_O());const b=T(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&E(e,["setup","outputAudioTranscription"],_O());const _=T(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&E(e,["setup","realtimeInputConfig"],b_e(_));const w=T(t,["contextWindowCompression"]);e!==void 0&&w!=null&&E(e,["setup","contextWindowCompression"],T_e(w));const C=T(t,["proactivity"]);return e!==void 0&&C!=null&&E(e,["setup","proactivity"],E_e(C)),n}function S_e(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["setup","model"],Pn(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],C_e(i,n)),n}function D_e(){return{}}function A_e(){return{}}function N_e(t){const e={},n=T(t,["media"]);n!=null&&E(e,["mediaChunks"],TG(n));const r=T(t,["audio"]);r!=null&&E(e,["audio"],CG(r));const i=T(t,["audioStreamEnd"]);i!=null&&E(e,["audioStreamEnd"],i);const s=T(t,["video"]);s!=null&&E(e,["video"],EG(s));const a=T(t,["text"]);return a!=null&&E(e,["text"],a),T(t,["activityStart"])!=null&&E(e,["activityStart"],D_e()),T(t,["activityEnd"])!=null&&E(e,["activityEnd"],A_e()),e}function jG(t){const e={},n=T(t,["text"]);n!=null&&E(e,["text"],n);const r=T(t,["weight"]);return r!=null&&E(e,["weight"],r),e}function I_e(t){const e={},n=T(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>jG(i))),E(e,["weightedPrompts"],r)}return e}function BG(t){const e={},n=T(t,["temperature"]);n!=null&&E(e,["temperature"],n);const r=T(t,["topK"]);r!=null&&E(e,["topK"],r);const i=T(t,["seed"]);i!=null&&E(e,["seed"],i);const s=T(t,["guidance"]);s!=null&&E(e,["guidance"],s);const a=T(t,["bpm"]);a!=null&&E(e,["bpm"],a);const o=T(t,["density"]);o!=null&&E(e,["density"],o);const l=T(t,["brightness"]);l!=null&&E(e,["brightness"],l);const c=T(t,["scale"]);c!=null&&E(e,["scale"],c);const u=T(t,["muteBass"]);u!=null&&E(e,["muteBass"],u);const f=T(t,["muteDrums"]);f!=null&&E(e,["muteDrums"],f);const h=T(t,["onlyBassAndDrums"]);h!=null&&E(e,["onlyBassAndDrums"],h);const p=T(t,["musicGenerationMode"]);return p!=null&&E(e,["musicGenerationMode"],p),e}function k_e(t){const e={},n=T(t,["musicGenerationConfig"]);return n!=null&&E(e,["musicGenerationConfig"],BG(n)),e}function VG(t){const e={},n=T(t,["model"]);return n!=null&&E(e,["model"],n),e}function WG(t){const e={},n=T(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>jG(i))),E(e,["weightedPrompts"],r)}return e}function J4(t){const e={},n=T(t,["setup"]);n!=null&&E(e,["setup"],VG(n));const r=T(t,["clientContent"]);r!=null&&E(e,["clientContent"],WG(r));const i=T(t,["musicGenerationConfig"]);i!=null&&E(e,["musicGenerationConfig"],BG(i));const s=T(t,["playbackControl"]);return s!=null&&E(e,["playbackControl"],s),e}function R_e(t){const e={},n=T(t,["voiceName"]);return n!=null&&E(e,["voiceName"],n),e}function P_e(t){const e={},n=T(t,["prebuiltVoiceConfig"]);return n!=null&&E(e,["prebuiltVoiceConfig"],R_e(n)),e}function F_e(t){const e={},n=T(t,["voiceConfig"]);if(n!=null&&E(e,["voiceConfig"],P_e(n)),T(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=T(t,["languageCode"]);return r!=null&&E(e,["languageCode"],r),e}function M_e(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function U_e(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["data"]);r!=null&&E(e,["data"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function O_e(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["fileUri"]);r!=null&&E(e,["fileUri"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function L_e(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function j_e(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],M_e(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],U_e(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],O_e(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],L_e(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function B_e(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>j_e(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function V_e(t){const e={};if(T(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=T(t,["description"]);n!=null&&E(e,["description"],n);const r=T(t,["name"]);r!=null&&E(e,["name"],r);const i=T(t,["parameters"]);i!=null&&E(e,["parameters"],i);const s=T(t,["parametersJsonSchema"]);s!=null&&E(e,["parametersJsonSchema"],s);const a=T(t,["response"]);a!=null&&E(e,["response"],a);const o=T(t,["responseJsonSchema"]);return o!=null&&E(e,["responseJsonSchema"],o),e}function W_e(t){const e={},n=T(t,["startTime"]);n!=null&&E(e,["startTime"],n);const r=T(t,["endTime"]);return r!=null&&E(e,["endTime"],r),e}function q_e(t){const e={},n=T(t,["timeRangeFilter"]);n!=null&&E(e,["timeRangeFilter"],W_e(n));const r=T(t,["excludeDomains"]);return r!=null&&E(e,["excludeDomains"],r),e}function z_e(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["dynamicThreshold"]);return r!=null&&E(e,["dynamicThreshold"],r),e}function H_e(t){const e={},n=T(t,["dynamicRetrievalConfig"]);return n!=null&&E(e,["dynamicRetrievalConfig"],z_e(n)),e}function $_e(t){const e={},n=T(t,["excludeDomains"]);return n!=null&&E(e,["excludeDomains"],n),e}function G_e(t){const e={},n=T(t,["apiKeyString"]);return n!=null&&E(e,["apiKeyString"],n),e}function K_e(t){const e={},n=T(t,["apiKeyConfig"]);n!=null&&E(e,["apiKeyConfig"],G_e(n));const r=T(t,["authType"]);r!=null&&E(e,["authType"],r);const i=T(t,["googleServiceAccountConfig"]);i!=null&&E(e,["googleServiceAccountConfig"],i);const s=T(t,["httpBasicAuthConfig"]);s!=null&&E(e,["httpBasicAuthConfig"],s);const a=T(t,["oauthConfig"]);a!=null&&E(e,["oauthConfig"],a);const o=T(t,["oidcConfig"]);return o!=null&&E(e,["oidcConfig"],o),e}function X_e(t){const e={},n=T(t,["authConfig"]);return n!=null&&E(e,["authConfig"],K_e(n)),e}function J_e(){return{}}function Y_e(t){const e={},n=T(t,["environment"]);return n!=null&&E(e,["environment"],n),e}function Q_e(t){const e={},n=T(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>V_e(h))),E(e,["functionDeclarations"],f)}const r=T(t,["retrieval"]);r!=null&&E(e,["retrieval"],r);const i=T(t,["googleSearch"]);i!=null&&E(e,["googleSearch"],q_e(i));const s=T(t,["googleSearchRetrieval"]);s!=null&&E(e,["googleSearchRetrieval"],H_e(s));const a=T(t,["enterpriseWebSearch"]);a!=null&&E(e,["enterpriseWebSearch"],$_e(a));const o=T(t,["googleMaps"]);o!=null&&E(e,["googleMaps"],X_e(o)),T(t,["urlContext"])!=null&&E(e,["urlContext"],J_e());const c=T(t,["computerUse"]);c!=null&&E(e,["computerUse"],Y_e(c));const u=T(t,["codeExecution"]);return u!=null&&E(e,["codeExecution"],u),e}function Z_e(t){const e={},n=T(t,["handle"]);n!=null&&E(e,["handle"],n);const r=T(t,["transparent"]);return r!=null&&E(e,["transparent"],r),e}function bO(){return{}}function ebe(t){const e={},n=T(t,["disabled"]);n!=null&&E(e,["disabled"],n);const r=T(t,["startOfSpeechSensitivity"]);r!=null&&E(e,["startOfSpeechSensitivity"],r);const i=T(t,["endOfSpeechSensitivity"]);i!=null&&E(e,["endOfSpeechSensitivity"],i);const s=T(t,["prefixPaddingMs"]);s!=null&&E(e,["prefixPaddingMs"],s);const a=T(t,["silenceDurationMs"]);return a!=null&&E(e,["silenceDurationMs"],a),e}function tbe(t){const e={},n=T(t,["automaticActivityDetection"]);n!=null&&E(e,["automaticActivityDetection"],ebe(n));const r=T(t,["activityHandling"]);r!=null&&E(e,["activityHandling"],r);const i=T(t,["turnCoverage"]);return i!=null&&E(e,["turnCoverage"],i),e}function nbe(t){const e={},n=T(t,["targetTokens"]);return n!=null&&E(e,["targetTokens"],n),e}function rbe(t){const e={},n=T(t,["triggerTokens"]);n!=null&&E(e,["triggerTokens"],n);const r=T(t,["slidingWindow"]);return r!=null&&E(e,["slidingWindow"],nbe(r)),e}function ibe(t){const e={},n=T(t,["proactiveAudio"]);return n!=null&&E(e,["proactiveAudio"],n),e}function sbe(t,e){const n={},r=T(t,["generationConfig"]);e!==void 0&&r!=null&&E(e,["setup","generationConfig"],r);const i=T(t,["responseModalities"]);e!==void 0&&i!=null&&E(e,["setup","generationConfig","responseModalities"],i);const s=T(t,["temperature"]);e!==void 0&&s!=null&&E(e,["setup","generationConfig","temperature"],s);const a=T(t,["topP"]);e!==void 0&&a!=null&&E(e,["setup","generationConfig","topP"],a);const o=T(t,["topK"]);e!==void 0&&o!=null&&E(e,["setup","generationConfig","topK"],o);const l=T(t,["maxOutputTokens"]);e!==void 0&&l!=null&&E(e,["setup","generationConfig","maxOutputTokens"],l);const c=T(t,["mediaResolution"]);e!==void 0&&c!=null&&E(e,["setup","generationConfig","mediaResolution"],c);const u=T(t,["seed"]);e!==void 0&&u!=null&&E(e,["setup","generationConfig","seed"],u);const f=T(t,["speechConfig"]);e!==void 0&&f!=null&&E(e,["setup","generationConfig","speechConfig"],F_e(mk(f)));const h=T(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&E(e,["setup","generationConfig","enableAffectiveDialog"],h);const p=T(t,["systemInstruction"]);e!==void 0&&p!=null&&E(e,["setup","systemInstruction"],B_e(hs(p)));const v=T(t,["tools"]);if(e!==void 0&&v!=null){let S=Hm(v);Array.isArray(S)&&(S=S.map(R=>Q_e(zm(R)))),E(e,["setup","tools"],S)}const g=T(t,["sessionResumption"]);e!==void 0&&g!=null&&E(e,["setup","sessionResumption"],Z_e(g));const y=T(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&E(e,["setup","inputAudioTranscription"],bO());const b=T(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&E(e,["setup","outputAudioTranscription"],bO());const _=T(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&E(e,["setup","realtimeInputConfig"],tbe(_));const w=T(t,["contextWindowCompression"]);e!==void 0&&w!=null&&E(e,["setup","contextWindowCompression"],rbe(w));const C=T(t,["proactivity"]);return e!==void 0&&C!=null&&E(e,["setup","proactivity"],ibe(C)),n}function abe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["setup","model"],Pn(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],sbe(i,n)),n}function obe(){return{}}function lbe(){return{}}function cbe(t){const e={},n=T(t,["media"]);n!=null&&E(e,["mediaChunks"],TG(n));const r=T(t,["audio"]);r!=null&&E(e,["audio"],CG(r));const i=T(t,["audioStreamEnd"]);i!=null&&E(e,["audioStreamEnd"],i);const s=T(t,["video"]);s!=null&&E(e,["video"],EG(s));const a=T(t,["text"]);return a!=null&&E(e,["text"],a),T(t,["activityStart"])!=null&&E(e,["activityStart"],obe()),T(t,["activityEnd"])!=null&&E(e,["activityEnd"],lbe()),e}function ube(){return{}}function dbe(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function fbe(t){const e={},n=T(t,["data"]);n!=null&&E(e,["data"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function hbe(t){const e={},n=T(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function qG(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function pbe(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],dbe(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],fbe(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],hbe(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],qG(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function mbe(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>pbe(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function wO(t){const e={},n=T(t,["text"]);n!=null&&E(e,["text"],n);const r=T(t,["finished"]);return r!=null&&E(e,["finished"],r),e}function gbe(t){const e={},n=T(t,["retrievedUrl"]);n!=null&&E(e,["retrievedUrl"],n);const r=T(t,["urlRetrievalStatus"]);return r!=null&&E(e,["urlRetrievalStatus"],r),e}function ybe(t){const e={},n=T(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>gbe(i))),E(e,["urlMetadata"],r)}return e}function vbe(t){const e={},n=T(t,["modelTurn"]);n!=null&&E(e,["modelTurn"],mbe(n));const r=T(t,["turnComplete"]);r!=null&&E(e,["turnComplete"],r);const i=T(t,["interrupted"]);i!=null&&E(e,["interrupted"],i);const s=T(t,["groundingMetadata"]);s!=null&&E(e,["groundingMetadata"],s);const a=T(t,["generationComplete"]);a!=null&&E(e,["generationComplete"],a);const o=T(t,["inputTranscription"]);o!=null&&E(e,["inputTranscription"],wO(o));const l=T(t,["outputTranscription"]);l!=null&&E(e,["outputTranscription"],wO(l));const c=T(t,["urlContextMetadata"]);return c!=null&&E(e,["urlContextMetadata"],ybe(c)),e}function xbe(t){const e={},n=T(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>qG(i))),E(e,["functionCalls"],r)}return e}function _be(t){const e={},n=T(t,["ids"]);return n!=null&&E(e,["ids"],n),e}function Cx(t){const e={},n=T(t,["modality"]);n!=null&&E(e,["modality"],n);const r=T(t,["tokenCount"]);return r!=null&&E(e,["tokenCount"],r),e}function bbe(t){const e={},n=T(t,["promptTokenCount"]);n!=null&&E(e,["promptTokenCount"],n);const r=T(t,["cachedContentTokenCount"]);r!=null&&E(e,["cachedContentTokenCount"],r);const i=T(t,["responseTokenCount"]);i!=null&&E(e,["responseTokenCount"],i);const s=T(t,["toolUsePromptTokenCount"]);s!=null&&E(e,["toolUsePromptTokenCount"],s);const a=T(t,["thoughtsTokenCount"]);a!=null&&E(e,["thoughtsTokenCount"],a);const o=T(t,["totalTokenCount"]);o!=null&&E(e,["totalTokenCount"],o);const l=T(t,["promptTokensDetails"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(p=>Cx(p))),E(e,["promptTokensDetails"],h)}const c=T(t,["cacheTokensDetails"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>Cx(p))),E(e,["cacheTokensDetails"],h)}const u=T(t,["responseTokensDetails"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(p=>Cx(p))),E(e,["responseTokensDetails"],h)}const f=T(t,["toolUsePromptTokensDetails"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(p=>Cx(p))),E(e,["toolUsePromptTokensDetails"],h)}return e}function wbe(t){const e={},n=T(t,["timeLeft"]);return n!=null&&E(e,["timeLeft"],n),e}function Tbe(t){const e={},n=T(t,["newHandle"]);n!=null&&E(e,["newHandle"],n);const r=T(t,["resumable"]);r!=null&&E(e,["resumable"],r);const i=T(t,["lastConsumedClientMessageIndex"]);return i!=null&&E(e,["lastConsumedClientMessageIndex"],i),e}function Ebe(t){const e={};T(t,["setupComplete"])!=null&&E(e,["setupComplete"],ube());const r=T(t,["serverContent"]);r!=null&&E(e,["serverContent"],vbe(r));const i=T(t,["toolCall"]);i!=null&&E(e,["toolCall"],xbe(i));const s=T(t,["toolCallCancellation"]);s!=null&&E(e,["toolCallCancellation"],_be(s));const a=T(t,["usageMetadata"]);a!=null&&E(e,["usageMetadata"],bbe(a));const o=T(t,["goAway"]);o!=null&&E(e,["goAway"],wbe(o));const l=T(t,["sessionResumptionUpdate"]);return l!=null&&E(e,["sessionResumptionUpdate"],Tbe(l)),e}function Cbe(){return{}}function Sbe(t){const e={},n=T(t,["text"]);n!=null&&E(e,["text"],n);const r=T(t,["weight"]);return r!=null&&E(e,["weight"],r),e}function Dbe(t){const e={},n=T(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Sbe(i))),E(e,["weightedPrompts"],r)}return e}function Abe(t){const e={},n=T(t,["temperature"]);n!=null&&E(e,["temperature"],n);const r=T(t,["topK"]);r!=null&&E(e,["topK"],r);const i=T(t,["seed"]);i!=null&&E(e,["seed"],i);const s=T(t,["guidance"]);s!=null&&E(e,["guidance"],s);const a=T(t,["bpm"]);a!=null&&E(e,["bpm"],a);const o=T(t,["density"]);o!=null&&E(e,["density"],o);const l=T(t,["brightness"]);l!=null&&E(e,["brightness"],l);const c=T(t,["scale"]);c!=null&&E(e,["scale"],c);const u=T(t,["muteBass"]);u!=null&&E(e,["muteBass"],u);const f=T(t,["muteDrums"]);f!=null&&E(e,["muteDrums"],f);const h=T(t,["onlyBassAndDrums"]);h!=null&&E(e,["onlyBassAndDrums"],h);const p=T(t,["musicGenerationMode"]);return p!=null&&E(e,["musicGenerationMode"],p),e}function Nbe(t){const e={},n=T(t,["clientContent"]);n!=null&&E(e,["clientContent"],Dbe(n));const r=T(t,["musicGenerationConfig"]);return r!=null&&E(e,["musicGenerationConfig"],Abe(r)),e}function Ibe(t){const e={},n=T(t,["data"]);n!=null&&E(e,["data"],n);const r=T(t,["mimeType"]);r!=null&&E(e,["mimeType"],r);const i=T(t,["sourceMetadata"]);return i!=null&&E(e,["sourceMetadata"],Nbe(i)),e}function kbe(t){const e={},n=T(t,["audioChunks"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Ibe(i))),E(e,["audioChunks"],r)}return e}function Rbe(t){const e={},n=T(t,["text"]);n!=null&&E(e,["text"],n);const r=T(t,["filteredReason"]);return r!=null&&E(e,["filteredReason"],r),e}function Pbe(t){const e={};T(t,["setupComplete"])!=null&&E(e,["setupComplete"],Cbe());const r=T(t,["serverContent"]);r!=null&&E(e,["serverContent"],kbe(r));const i=T(t,["filteredPrompt"]);return i!=null&&E(e,["filteredPrompt"],Rbe(i)),e}function Fbe(t){const e={},n=T(t,["sessionId"]);return n!=null&&E(e,["sessionId"],n),e}function Mbe(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function Ube(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["data"]);r!=null&&E(e,["data"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function Obe(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["fileUri"]);r!=null&&E(e,["fileUri"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function zG(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function Lbe(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],Mbe(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],Ube(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],Obe(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],zG(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function jbe(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Lbe(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function TO(t){const e={},n=T(t,["text"]);n!=null&&E(e,["text"],n);const r=T(t,["finished"]);return r!=null&&E(e,["finished"],r),e}function Bbe(t){const e={},n=T(t,["modelTurn"]);n!=null&&E(e,["modelTurn"],jbe(n));const r=T(t,["turnComplete"]);r!=null&&E(e,["turnComplete"],r);const i=T(t,["interrupted"]);i!=null&&E(e,["interrupted"],i);const s=T(t,["groundingMetadata"]);s!=null&&E(e,["groundingMetadata"],s);const a=T(t,["generationComplete"]);a!=null&&E(e,["generationComplete"],a);const o=T(t,["inputTranscription"]);o!=null&&E(e,["inputTranscription"],TO(o));const l=T(t,["outputTranscription"]);return l!=null&&E(e,["outputTranscription"],TO(l)),e}function Vbe(t){const e={},n=T(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>zG(i))),E(e,["functionCalls"],r)}return e}function Wbe(t){const e={},n=T(t,["ids"]);return n!=null&&E(e,["ids"],n),e}function Sx(t){const e={},n=T(t,["modality"]);n!=null&&E(e,["modality"],n);const r=T(t,["tokenCount"]);return r!=null&&E(e,["tokenCount"],r),e}function qbe(t){const e={},n=T(t,["promptTokenCount"]);n!=null&&E(e,["promptTokenCount"],n);const r=T(t,["cachedContentTokenCount"]);r!=null&&E(e,["cachedContentTokenCount"],r);const i=T(t,["candidatesTokenCount"]);i!=null&&E(e,["responseTokenCount"],i);const s=T(t,["toolUsePromptTokenCount"]);s!=null&&E(e,["toolUsePromptTokenCount"],s);const a=T(t,["thoughtsTokenCount"]);a!=null&&E(e,["thoughtsTokenCount"],a);const o=T(t,["totalTokenCount"]);o!=null&&E(e,["totalTokenCount"],o);const l=T(t,["promptTokensDetails"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(v=>Sx(v))),E(e,["promptTokensDetails"],p)}const c=T(t,["cacheTokensDetails"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(v=>Sx(v))),E(e,["cacheTokensDetails"],p)}const u=T(t,["candidatesTokensDetails"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(v=>Sx(v))),E(e,["responseTokensDetails"],p)}const f=T(t,["toolUsePromptTokensDetails"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(v=>Sx(v))),E(e,["toolUsePromptTokensDetails"],p)}const h=T(t,["trafficType"]);return h!=null&&E(e,["trafficType"],h),e}function zbe(t){const e={},n=T(t,["timeLeft"]);return n!=null&&E(e,["timeLeft"],n),e}function Hbe(t){const e={},n=T(t,["newHandle"]);n!=null&&E(e,["newHandle"],n);const r=T(t,["resumable"]);r!=null&&E(e,["resumable"],r);const i=T(t,["lastConsumedClientMessageIndex"]);return i!=null&&E(e,["lastConsumedClientMessageIndex"],i),e}function $be(t){const e={},n=T(t,["setupComplete"]);n!=null&&E(e,["setupComplete"],Fbe(n));const r=T(t,["serverContent"]);r!=null&&E(e,["serverContent"],Bbe(r));const i=T(t,["toolCall"]);i!=null&&E(e,["toolCall"],Vbe(i));const s=T(t,["toolCallCancellation"]);s!=null&&E(e,["toolCallCancellation"],Wbe(s));const a=T(t,["usageMetadata"]);a!=null&&E(e,["usageMetadata"],qbe(a));const o=T(t,["goAway"]);o!=null&&E(e,["goAway"],zbe(o));const l=T(t,["sessionResumptionUpdate"]);return l!=null&&E(e,["sessionResumptionUpdate"],Hbe(l)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gbe(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function Kbe(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["data"]);n!=null&&E(e,["data"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function Xbe(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function Jbe(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function Ybe(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],Gbe(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],Kbe(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],Xbe(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],Jbe(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function Cw(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Ybe(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function Qbe(t){const e={},n=T(t,["anyOf"]);n!=null&&E(e,["anyOf"],n);const r=T(t,["default"]);r!=null&&E(e,["default"],r);const i=T(t,["description"]);i!=null&&E(e,["description"],i);const s=T(t,["enum"]);s!=null&&E(e,["enum"],s);const a=T(t,["example"]);a!=null&&E(e,["example"],a);const o=T(t,["format"]);o!=null&&E(e,["format"],o);const l=T(t,["items"]);l!=null&&E(e,["items"],l);const c=T(t,["maxItems"]);c!=null&&E(e,["maxItems"],c);const u=T(t,["maxLength"]);u!=null&&E(e,["maxLength"],u);const f=T(t,["maxProperties"]);f!=null&&E(e,["maxProperties"],f);const h=T(t,["maximum"]);h!=null&&E(e,["maximum"],h);const p=T(t,["minItems"]);p!=null&&E(e,["minItems"],p);const v=T(t,["minLength"]);v!=null&&E(e,["minLength"],v);const g=T(t,["minProperties"]);g!=null&&E(e,["minProperties"],g);const y=T(t,["minimum"]);y!=null&&E(e,["minimum"],y);const b=T(t,["nullable"]);b!=null&&E(e,["nullable"],b);const _=T(t,["pattern"]);_!=null&&E(e,["pattern"],_);const w=T(t,["properties"]);w!=null&&E(e,["properties"],w);const C=T(t,["propertyOrdering"]);C!=null&&E(e,["propertyOrdering"],C);const S=T(t,["required"]);S!=null&&E(e,["required"],S);const R=T(t,["title"]);R!=null&&E(e,["title"],R);const D=T(t,["type"]);return D!=null&&E(e,["type"],D),e}function Zbe(t){const e={};if(T(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=T(t,["category"]);n!=null&&E(e,["category"],n);const r=T(t,["threshold"]);return r!=null&&E(e,["threshold"],r),e}function ewe(t){const e={},n=T(t,["behavior"]);n!=null&&E(e,["behavior"],n);const r=T(t,["description"]);r!=null&&E(e,["description"],r);const i=T(t,["name"]);i!=null&&E(e,["name"],i);const s=T(t,["parameters"]);s!=null&&E(e,["parameters"],s);const a=T(t,["parametersJsonSchema"]);a!=null&&E(e,["parametersJsonSchema"],a);const o=T(t,["response"]);o!=null&&E(e,["response"],o);const l=T(t,["responseJsonSchema"]);return l!=null&&E(e,["responseJsonSchema"],l),e}function twe(t){const e={},n=T(t,["startTime"]);n!=null&&E(e,["startTime"],n);const r=T(t,["endTime"]);return r!=null&&E(e,["endTime"],r),e}function nwe(t){const e={},n=T(t,["timeRangeFilter"]);if(n!=null&&E(e,["timeRangeFilter"],twe(n)),T(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function rwe(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["dynamicThreshold"]);return r!=null&&E(e,["dynamicThreshold"],r),e}function iwe(t){const e={},n=T(t,["dynamicRetrievalConfig"]);return n!=null&&E(e,["dynamicRetrievalConfig"],rwe(n)),e}function swe(){return{}}function awe(t){const e={},n=T(t,["environment"]);return n!=null&&E(e,["environment"],n),e}function owe(t){const e={},n=T(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>ewe(c))),E(e,["functionDeclarations"],l)}if(T(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=T(t,["googleSearch"]);r!=null&&E(e,["googleSearch"],nwe(r));const i=T(t,["googleSearchRetrieval"]);if(i!=null&&E(e,["googleSearchRetrieval"],iwe(i)),T(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(T(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");T(t,["urlContext"])!=null&&E(e,["urlContext"],swe());const a=T(t,["computerUse"]);a!=null&&E(e,["computerUse"],awe(a));const o=T(t,["codeExecution"]);return o!=null&&E(e,["codeExecution"],o),e}function lwe(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["allowedFunctionNames"]);return r!=null&&E(e,["allowedFunctionNames"],r),e}function cwe(t){const e={},n=T(t,["latitude"]);n!=null&&E(e,["latitude"],n);const r=T(t,["longitude"]);return r!=null&&E(e,["longitude"],r),e}function uwe(t){const e={},n=T(t,["latLng"]);n!=null&&E(e,["latLng"],cwe(n));const r=T(t,["languageCode"]);return r!=null&&E(e,["languageCode"],r),e}function dwe(t){const e={},n=T(t,["functionCallingConfig"]);n!=null&&E(e,["functionCallingConfig"],lwe(n));const r=T(t,["retrievalConfig"]);return r!=null&&E(e,["retrievalConfig"],uwe(r)),e}function fwe(t){const e={},n=T(t,["voiceName"]);return n!=null&&E(e,["voiceName"],n),e}function HG(t){const e={},n=T(t,["prebuiltVoiceConfig"]);return n!=null&&E(e,["prebuiltVoiceConfig"],fwe(n)),e}function hwe(t){const e={},n=T(t,["speaker"]);n!=null&&E(e,["speaker"],n);const r=T(t,["voiceConfig"]);return r!=null&&E(e,["voiceConfig"],HG(r)),e}function pwe(t){const e={},n=T(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>hwe(i))),E(e,["speakerVoiceConfigs"],r)}return e}function mwe(t){const e={},n=T(t,["voiceConfig"]);n!=null&&E(e,["voiceConfig"],HG(n));const r=T(t,["multiSpeakerVoiceConfig"]);r!=null&&E(e,["multiSpeakerVoiceConfig"],pwe(r));const i=T(t,["languageCode"]);return i!=null&&E(e,["languageCode"],i),e}function gwe(t){const e={},n=T(t,["includeThoughts"]);n!=null&&E(e,["includeThoughts"],n);const r=T(t,["thinkingBudget"]);return r!=null&&E(e,["thinkingBudget"],r),e}function ywe(t,e,n){const r={},i=T(e,["systemInstruction"]);n!==void 0&&i!=null&&E(n,["systemInstruction"],Cw(hs(i)));const s=T(e,["temperature"]);s!=null&&E(r,["temperature"],s);const a=T(e,["topP"]);a!=null&&E(r,["topP"],a);const o=T(e,["topK"]);o!=null&&E(r,["topK"],o);const l=T(e,["candidateCount"]);l!=null&&E(r,["candidateCount"],l);const c=T(e,["maxOutputTokens"]);c!=null&&E(r,["maxOutputTokens"],c);const u=T(e,["stopSequences"]);u!=null&&E(r,["stopSequences"],u);const f=T(e,["responseLogprobs"]);f!=null&&E(r,["responseLogprobs"],f);const h=T(e,["logprobs"]);h!=null&&E(r,["logprobs"],h);const p=T(e,["presencePenalty"]);p!=null&&E(r,["presencePenalty"],p);const v=T(e,["frequencyPenalty"]);v!=null&&E(r,["frequencyPenalty"],v);const g=T(e,["seed"]);g!=null&&E(r,["seed"],g);const y=T(e,["responseMimeType"]);y!=null&&E(r,["responseMimeType"],y);const b=T(e,["responseSchema"]);b!=null&&E(r,["responseSchema"],Qbe(hk(b)));const _=T(e,["responseJsonSchema"]);if(_!=null&&E(r,["responseJsonSchema"],_),T(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(T(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const w=T(e,["safetySettings"]);if(n!==void 0&&w!=null){let P=w;Array.isArray(P)&&(P=P.map(I=>Zbe(I))),E(n,["safetySettings"],P)}const C=T(e,["tools"]);if(n!==void 0&&C!=null){let P=Hm(C);Array.isArray(P)&&(P=P.map(I=>owe(zm(I)))),E(n,["tools"],P)}const S=T(e,["toolConfig"]);if(n!==void 0&&S!=null&&E(n,["toolConfig"],dwe(S)),T(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const R=T(e,["cachedContent"]);n!==void 0&&R!=null&&E(n,["cachedContent"],Sc(t,R));const D=T(e,["responseModalities"]);D!=null&&E(r,["responseModalities"],D);const N=T(e,["mediaResolution"]);N!=null&&E(r,["mediaResolution"],N);const k=T(e,["speechConfig"]);if(k!=null&&E(r,["speechConfig"],mwe(pk(k))),T(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const F=T(e,["thinkingConfig"]);return F!=null&&E(r,["thinkingConfig"],gwe(F)),r}function EO(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Pn(t,r));const i=T(e,["contents"]);if(i!=null){let a=eo(i);Array.isArray(a)&&(a=a.map(o=>Cw(o))),E(n,["contents"],a)}const s=T(e,["config"]);return s!=null&&E(n,["generationConfig"],ywe(t,s,n)),n}function vwe(t,e){const n={},r=T(t,["taskType"]);e!==void 0&&r!=null&&E(e,["requests[]","taskType"],r);const i=T(t,["title"]);e!==void 0&&i!=null&&E(e,["requests[]","title"],i);const s=T(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&E(e,["requests[]","outputDimensionality"],s),T(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(T(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function xwe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Pn(t,r));const i=T(e,["contents"]);i!=null&&E(n,["requests[]","content"],fk(t,i));const s=T(e,["config"]);s!=null&&E(n,["config"],vwe(s,n));const a=T(e,["model"]);return a!==void 0&&E(n,["requests[]","model"],Pn(t,a)),n}function _we(t,e){const n={};if(T(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(T(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=T(t,["numberOfImages"]);e!==void 0&&r!=null&&E(e,["parameters","sampleCount"],r);const i=T(t,["aspectRatio"]);e!==void 0&&i!=null&&E(e,["parameters","aspectRatio"],i);const s=T(t,["guidanceScale"]);if(e!==void 0&&s!=null&&E(e,["parameters","guidanceScale"],s),T(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=T(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&E(e,["parameters","safetySetting"],a);const o=T(t,["personGeneration"]);e!==void 0&&o!=null&&E(e,["parameters","personGeneration"],o);const l=T(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&E(e,["parameters","includeSafetyAttributes"],l);const c=T(t,["includeRaiReason"]);e!==void 0&&c!=null&&E(e,["parameters","includeRaiReason"],c);const u=T(t,["language"]);e!==void 0&&u!=null&&E(e,["parameters","language"],u);const f=T(t,["outputMimeType"]);e!==void 0&&f!=null&&E(e,["parameters","outputOptions","mimeType"],f);const h=T(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&E(e,["parameters","outputOptions","compressionQuality"],h),T(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const p=T(t,["imageSize"]);if(e!==void 0&&p!=null&&E(e,["parameters","sampleImageSize"],p),T(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function bwe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Pn(t,r));const i=T(e,["prompt"]);i!=null&&E(n,["instances[0]","prompt"],i);const s=T(e,["config"]);return s!=null&&E(n,["config"],_we(s,n)),n}function wwe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","name"],Pn(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function Twe(t,e,n){const r={},i=T(e,["pageSize"]);n!==void 0&&i!=null&&E(n,["_query","pageSize"],i);const s=T(e,["pageToken"]);n!==void 0&&s!=null&&E(n,["_query","pageToken"],s);const a=T(e,["filter"]);n!==void 0&&a!=null&&E(n,["_query","filter"],a);const o=T(e,["queryBase"]);return n!==void 0&&o!=null&&E(n,["_url","models_url"],NG(t,o)),r}function Ewe(t,e){const n={},r=T(e,["config"]);return r!=null&&E(n,["config"],Twe(t,r,n)),n}function Cwe(t,e){const n={},r=T(t,["displayName"]);e!==void 0&&r!=null&&E(e,["displayName"],r);const i=T(t,["description"]);e!==void 0&&i!=null&&E(e,["description"],i);const s=T(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&E(e,["defaultCheckpointId"],s),n}function Swe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","name"],Pn(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],Cwe(i,n)),n}function Dwe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","name"],Pn(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function Awe(t){const e={};if(T(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(T(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(T(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Nwe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Pn(t,r));const i=T(e,["contents"]);if(i!=null){let a=eo(i);Array.isArray(a)&&(a=a.map(o=>Cw(o))),E(n,["contents"],a)}const s=T(e,["config"]);return s!=null&&E(n,["config"],Awe(s)),n}function $G(t){const e={};if(T(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=T(t,["imageBytes"]);n!=null&&E(e,["bytesBase64Encoded"],Qf(n));const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function Iwe(t,e){const n={},r=T(t,["prompt"]);e!==void 0&&r!=null&&E(e,["instances[0]","prompt"],r);const i=T(t,["image"]);if(e!==void 0&&i!=null&&E(e,["instances[0]","image"],$G(i)),T(t,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");return n}function kwe(t,e){const n={},r=T(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&E(e,["parameters","sampleCount"],r),T(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(T(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=T(t,["durationSeconds"]);if(e!==void 0&&i!=null&&E(e,["parameters","durationSeconds"],i),T(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=T(t,["aspectRatio"]);e!==void 0&&s!=null&&E(e,["parameters","aspectRatio"],s);const a=T(t,["resolution"]);e!==void 0&&a!=null&&E(e,["parameters","resolution"],a);const o=T(t,["personGeneration"]);if(e!==void 0&&o!=null&&E(e,["parameters","personGeneration"],o),T(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=T(t,["negativePrompt"]);e!==void 0&&l!=null&&E(e,["parameters","negativePrompt"],l);const c=T(t,["enhancePrompt"]);if(e!==void 0&&c!=null&&E(e,["parameters","enhancePrompt"],c),T(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(T(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(T(t,["referenceImages"])!==void 0)throw new Error("referenceImages parameter is not supported in Gemini API.");if(T(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(T(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function Rwe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Pn(t,r));const i=T(e,["prompt"]);i!=null&&E(n,["instances[0]","prompt"],i);const s=T(e,["image"]);if(s!=null&&E(n,["instances[0]","image"],$G(s)),T(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const a=T(e,["source"]);a!=null&&E(n,["config"],Iwe(a,n));const o=T(e,["config"]);return o!=null&&E(n,["config"],kwe(o,n)),n}function Pwe(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function Fwe(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["data"]);r!=null&&E(e,["data"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function Mwe(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["fileUri"]);r!=null&&E(e,["fileUri"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function Uwe(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function Owe(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],Pwe(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],Fwe(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],Mwe(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],Uwe(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function Gm(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Owe(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function Lwe(t){const e={},n=T(t,["anyOf"]);n!=null&&E(e,["anyOf"],n);const r=T(t,["default"]);r!=null&&E(e,["default"],r);const i=T(t,["description"]);i!=null&&E(e,["description"],i);const s=T(t,["enum"]);s!=null&&E(e,["enum"],s);const a=T(t,["example"]);a!=null&&E(e,["example"],a);const o=T(t,["format"]);o!=null&&E(e,["format"],o);const l=T(t,["items"]);l!=null&&E(e,["items"],l);const c=T(t,["maxItems"]);c!=null&&E(e,["maxItems"],c);const u=T(t,["maxLength"]);u!=null&&E(e,["maxLength"],u);const f=T(t,["maxProperties"]);f!=null&&E(e,["maxProperties"],f);const h=T(t,["maximum"]);h!=null&&E(e,["maximum"],h);const p=T(t,["minItems"]);p!=null&&E(e,["minItems"],p);const v=T(t,["minLength"]);v!=null&&E(e,["minLength"],v);const g=T(t,["minProperties"]);g!=null&&E(e,["minProperties"],g);const y=T(t,["minimum"]);y!=null&&E(e,["minimum"],y);const b=T(t,["nullable"]);b!=null&&E(e,["nullable"],b);const _=T(t,["pattern"]);_!=null&&E(e,["pattern"],_);const w=T(t,["properties"]);w!=null&&E(e,["properties"],w);const C=T(t,["propertyOrdering"]);C!=null&&E(e,["propertyOrdering"],C);const S=T(t,["required"]);S!=null&&E(e,["required"],S);const R=T(t,["title"]);R!=null&&E(e,["title"],R);const D=T(t,["type"]);return D!=null&&E(e,["type"],D),e}function jwe(t){const e={},n=T(t,["featureSelectionPreference"]);return n!=null&&E(e,["featureSelectionPreference"],n),e}function Bwe(t){const e={},n=T(t,["method"]);n!=null&&E(e,["method"],n);const r=T(t,["category"]);r!=null&&E(e,["category"],r);const i=T(t,["threshold"]);return i!=null&&E(e,["threshold"],i),e}function Vwe(t){const e={};if(T(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=T(t,["description"]);n!=null&&E(e,["description"],n);const r=T(t,["name"]);r!=null&&E(e,["name"],r);const i=T(t,["parameters"]);i!=null&&E(e,["parameters"],i);const s=T(t,["parametersJsonSchema"]);s!=null&&E(e,["parametersJsonSchema"],s);const a=T(t,["response"]);a!=null&&E(e,["response"],a);const o=T(t,["responseJsonSchema"]);return o!=null&&E(e,["responseJsonSchema"],o),e}function Wwe(t){const e={},n=T(t,["startTime"]);n!=null&&E(e,["startTime"],n);const r=T(t,["endTime"]);return r!=null&&E(e,["endTime"],r),e}function qwe(t){const e={},n=T(t,["timeRangeFilter"]);n!=null&&E(e,["timeRangeFilter"],Wwe(n));const r=T(t,["excludeDomains"]);return r!=null&&E(e,["excludeDomains"],r),e}function zwe(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["dynamicThreshold"]);return r!=null&&E(e,["dynamicThreshold"],r),e}function Hwe(t){const e={},n=T(t,["dynamicRetrievalConfig"]);return n!=null&&E(e,["dynamicRetrievalConfig"],zwe(n)),e}function $we(t){const e={},n=T(t,["excludeDomains"]);return n!=null&&E(e,["excludeDomains"],n),e}function Gwe(t){const e={},n=T(t,["apiKeyString"]);return n!=null&&E(e,["apiKeyString"],n),e}function Kwe(t){const e={},n=T(t,["apiKeyConfig"]);n!=null&&E(e,["apiKeyConfig"],Gwe(n));const r=T(t,["authType"]);r!=null&&E(e,["authType"],r);const i=T(t,["googleServiceAccountConfig"]);i!=null&&E(e,["googleServiceAccountConfig"],i);const s=T(t,["httpBasicAuthConfig"]);s!=null&&E(e,["httpBasicAuthConfig"],s);const a=T(t,["oauthConfig"]);a!=null&&E(e,["oauthConfig"],a);const o=T(t,["oidcConfig"]);return o!=null&&E(e,["oidcConfig"],o),e}function Xwe(t){const e={},n=T(t,["authConfig"]);return n!=null&&E(e,["authConfig"],Kwe(n)),e}function Jwe(){return{}}function Ywe(t){const e={},n=T(t,["environment"]);return n!=null&&E(e,["environment"],n),e}function GG(t){const e={},n=T(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>Vwe(h))),E(e,["functionDeclarations"],f)}const r=T(t,["retrieval"]);r!=null&&E(e,["retrieval"],r);const i=T(t,["googleSearch"]);i!=null&&E(e,["googleSearch"],qwe(i));const s=T(t,["googleSearchRetrieval"]);s!=null&&E(e,["googleSearchRetrieval"],Hwe(s));const a=T(t,["enterpriseWebSearch"]);a!=null&&E(e,["enterpriseWebSearch"],$we(a));const o=T(t,["googleMaps"]);o!=null&&E(e,["googleMaps"],Xwe(o)),T(t,["urlContext"])!=null&&E(e,["urlContext"],Jwe());const c=T(t,["computerUse"]);c!=null&&E(e,["computerUse"],Ywe(c));const u=T(t,["codeExecution"]);return u!=null&&E(e,["codeExecution"],u),e}function Qwe(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["allowedFunctionNames"]);return r!=null&&E(e,["allowedFunctionNames"],r),e}function Zwe(t){const e={},n=T(t,["latitude"]);n!=null&&E(e,["latitude"],n);const r=T(t,["longitude"]);return r!=null&&E(e,["longitude"],r),e}function eTe(t){const e={},n=T(t,["latLng"]);n!=null&&E(e,["latLng"],Zwe(n));const r=T(t,["languageCode"]);return r!=null&&E(e,["languageCode"],r),e}function tTe(t){const e={},n=T(t,["functionCallingConfig"]);n!=null&&E(e,["functionCallingConfig"],Qwe(n));const r=T(t,["retrievalConfig"]);return r!=null&&E(e,["retrievalConfig"],eTe(r)),e}function nTe(t){const e={},n=T(t,["voiceName"]);return n!=null&&E(e,["voiceName"],n),e}function rTe(t){const e={},n=T(t,["prebuiltVoiceConfig"]);return n!=null&&E(e,["prebuiltVoiceConfig"],nTe(n)),e}function iTe(t){const e={},n=T(t,["voiceConfig"]);if(n!=null&&E(e,["voiceConfig"],rTe(n)),T(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=T(t,["languageCode"]);return r!=null&&E(e,["languageCode"],r),e}function sTe(t){const e={},n=T(t,["includeThoughts"]);n!=null&&E(e,["includeThoughts"],n);const r=T(t,["thinkingBudget"]);return r!=null&&E(e,["thinkingBudget"],r),e}function aTe(t,e,n){const r={},i=T(e,["systemInstruction"]);n!==void 0&&i!=null&&E(n,["systemInstruction"],Gm(hs(i)));const s=T(e,["temperature"]);s!=null&&E(r,["temperature"],s);const a=T(e,["topP"]);a!=null&&E(r,["topP"],a);const o=T(e,["topK"]);o!=null&&E(r,["topK"],o);const l=T(e,["candidateCount"]);l!=null&&E(r,["candidateCount"],l);const c=T(e,["maxOutputTokens"]);c!=null&&E(r,["maxOutputTokens"],c);const u=T(e,["stopSequences"]);u!=null&&E(r,["stopSequences"],u);const f=T(e,["responseLogprobs"]);f!=null&&E(r,["responseLogprobs"],f);const h=T(e,["logprobs"]);h!=null&&E(r,["logprobs"],h);const p=T(e,["presencePenalty"]);p!=null&&E(r,["presencePenalty"],p);const v=T(e,["frequencyPenalty"]);v!=null&&E(r,["frequencyPenalty"],v);const g=T(e,["seed"]);g!=null&&E(r,["seed"],g);const y=T(e,["responseMimeType"]);y!=null&&E(r,["responseMimeType"],y);const b=T(e,["responseSchema"]);b!=null&&E(r,["responseSchema"],Lwe(hk(b)));const _=T(e,["responseJsonSchema"]);_!=null&&E(r,["responseJsonSchema"],_);const w=T(e,["routingConfig"]);w!=null&&E(r,["routingConfig"],w);const C=T(e,["modelSelectionConfig"]);C!=null&&E(r,["modelConfig"],jwe(C));const S=T(e,["safetySettings"]);if(n!==void 0&&S!=null){let K=S;Array.isArray(K)&&(K=K.map(X=>Bwe(X))),E(n,["safetySettings"],K)}const R=T(e,["tools"]);if(n!==void 0&&R!=null){let K=Hm(R);Array.isArray(K)&&(K=K.map(X=>GG(zm(X)))),E(n,["tools"],K)}const D=T(e,["toolConfig"]);n!==void 0&&D!=null&&E(n,["toolConfig"],tTe(D));const N=T(e,["labels"]);n!==void 0&&N!=null&&E(n,["labels"],N);const k=T(e,["cachedContent"]);n!==void 0&&k!=null&&E(n,["cachedContent"],Sc(t,k));const F=T(e,["responseModalities"]);F!=null&&E(r,["responseModalities"],F);const P=T(e,["mediaResolution"]);P!=null&&E(r,["mediaResolution"],P);const I=T(e,["speechConfig"]);I!=null&&E(r,["speechConfig"],iTe(pk(I)));const U=T(e,["audioTimestamp"]);U!=null&&E(r,["audioTimestamp"],U);const O=T(e,["thinkingConfig"]);return O!=null&&E(r,["thinkingConfig"],sTe(O)),r}function CO(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Pn(t,r));const i=T(e,["contents"]);if(i!=null){let a=eo(i);Array.isArray(a)&&(a=a.map(o=>Gm(o))),E(n,["contents"],a)}const s=T(e,["config"]);return s!=null&&E(n,["generationConfig"],aTe(t,s,n)),n}function oTe(t,e){const n={},r=T(t,["taskType"]);e!==void 0&&r!=null&&E(e,["instances[]","task_type"],r);const i=T(t,["title"]);e!==void 0&&i!=null&&E(e,["instances[]","title"],i);const s=T(t,["outputDimensionality"]);e!==void 0&&s!=null&&E(e,["parameters","outputDimensionality"],s);const a=T(t,["mimeType"]);e!==void 0&&a!=null&&E(e,["instances[]","mimeType"],a);const o=T(t,["autoTruncate"]);return e!==void 0&&o!=null&&E(e,["parameters","autoTruncate"],o),n}function lTe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Pn(t,r));const i=T(e,["contents"]);i!=null&&E(n,["instances[]","content"],fk(t,i));const s=T(e,["config"]);return s!=null&&E(n,["config"],oTe(s,n)),n}function cTe(t,e){const n={},r=T(t,["outputGcsUri"]);e!==void 0&&r!=null&&E(e,["parameters","storageUri"],r);const i=T(t,["negativePrompt"]);e!==void 0&&i!=null&&E(e,["parameters","negativePrompt"],i);const s=T(t,["numberOfImages"]);e!==void 0&&s!=null&&E(e,["parameters","sampleCount"],s);const a=T(t,["aspectRatio"]);e!==void 0&&a!=null&&E(e,["parameters","aspectRatio"],a);const o=T(t,["guidanceScale"]);e!==void 0&&o!=null&&E(e,["parameters","guidanceScale"],o);const l=T(t,["seed"]);e!==void 0&&l!=null&&E(e,["parameters","seed"],l);const c=T(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&E(e,["parameters","safetySetting"],c);const u=T(t,["personGeneration"]);e!==void 0&&u!=null&&E(e,["parameters","personGeneration"],u);const f=T(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&E(e,["parameters","includeSafetyAttributes"],f);const h=T(t,["includeRaiReason"]);e!==void 0&&h!=null&&E(e,["parameters","includeRaiReason"],h);const p=T(t,["language"]);e!==void 0&&p!=null&&E(e,["parameters","language"],p);const v=T(t,["outputMimeType"]);e!==void 0&&v!=null&&E(e,["parameters","outputOptions","mimeType"],v);const g=T(t,["outputCompressionQuality"]);e!==void 0&&g!=null&&E(e,["parameters","outputOptions","compressionQuality"],g);const y=T(t,["addWatermark"]);e!==void 0&&y!=null&&E(e,["parameters","addWatermark"],y);const b=T(t,["imageSize"]);e!==void 0&&b!=null&&E(e,["parameters","sampleImageSize"],b);const _=T(t,["enhancePrompt"]);return e!==void 0&&_!=null&&E(e,["parameters","enhancePrompt"],_),n}function uTe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Pn(t,r));const i=T(e,["prompt"]);i!=null&&E(n,["instances[0]","prompt"],i);const s=T(e,["config"]);return s!=null&&E(n,["config"],cTe(s,n)),n}function Vo(t){const e={},n=T(t,["gcsUri"]);n!=null&&E(e,["gcsUri"],n);const r=T(t,["imageBytes"]);r!=null&&E(e,["bytesBase64Encoded"],Qf(r));const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function dTe(t){const e={},n=T(t,["maskMode"]);n!=null&&E(e,["maskMode"],n);const r=T(t,["segmentationClasses"]);r!=null&&E(e,["maskClasses"],r);const i=T(t,["maskDilation"]);return i!=null&&E(e,["dilation"],i),e}function fTe(t){const e={},n=T(t,["controlType"]);n!=null&&E(e,["controlType"],n);const r=T(t,["enableControlImageComputation"]);return r!=null&&E(e,["computeControl"],r),e}function hTe(t){const e={},n=T(t,["styleDescription"]);return n!=null&&E(e,["styleDescription"],n),e}function pTe(t){const e={},n=T(t,["subjectType"]);n!=null&&E(e,["subjectType"],n);const r=T(t,["subjectDescription"]);return r!=null&&E(e,["subjectDescription"],r),e}function mTe(t){const e={},n=T(t,["referenceImage"]);n!=null&&E(e,["referenceImage"],Vo(n));const r=T(t,["referenceId"]);r!=null&&E(e,["referenceId"],r);const i=T(t,["referenceType"]);i!=null&&E(e,["referenceType"],i);const s=T(t,["maskImageConfig"]);s!=null&&E(e,["maskImageConfig"],dTe(s));const a=T(t,["controlImageConfig"]);a!=null&&E(e,["controlImageConfig"],fTe(a));const o=T(t,["styleImageConfig"]);o!=null&&E(e,["styleImageConfig"],hTe(o));const l=T(t,["subjectImageConfig"]);return l!=null&&E(e,["subjectImageConfig"],pTe(l)),e}function gTe(t,e){const n={},r=T(t,["outputGcsUri"]);e!==void 0&&r!=null&&E(e,["parameters","storageUri"],r);const i=T(t,["negativePrompt"]);e!==void 0&&i!=null&&E(e,["parameters","negativePrompt"],i);const s=T(t,["numberOfImages"]);e!==void 0&&s!=null&&E(e,["parameters","sampleCount"],s);const a=T(t,["aspectRatio"]);e!==void 0&&a!=null&&E(e,["parameters","aspectRatio"],a);const o=T(t,["guidanceScale"]);e!==void 0&&o!=null&&E(e,["parameters","guidanceScale"],o);const l=T(t,["seed"]);e!==void 0&&l!=null&&E(e,["parameters","seed"],l);const c=T(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&E(e,["parameters","safetySetting"],c);const u=T(t,["personGeneration"]);e!==void 0&&u!=null&&E(e,["parameters","personGeneration"],u);const f=T(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&E(e,["parameters","includeSafetyAttributes"],f);const h=T(t,["includeRaiReason"]);e!==void 0&&h!=null&&E(e,["parameters","includeRaiReason"],h);const p=T(t,["language"]);e!==void 0&&p!=null&&E(e,["parameters","language"],p);const v=T(t,["outputMimeType"]);e!==void 0&&v!=null&&E(e,["parameters","outputOptions","mimeType"],v);const g=T(t,["outputCompressionQuality"]);e!==void 0&&g!=null&&E(e,["parameters","outputOptions","compressionQuality"],g);const y=T(t,["addWatermark"]);e!==void 0&&y!=null&&E(e,["parameters","addWatermark"],y);const b=T(t,["editMode"]);e!==void 0&&b!=null&&E(e,["parameters","editMode"],b);const _=T(t,["baseSteps"]);return e!==void 0&&_!=null&&E(e,["parameters","editConfig","baseSteps"],_),n}function yTe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Pn(t,r));const i=T(e,["prompt"]);i!=null&&E(n,["instances[0]","prompt"],i);const s=T(e,["referenceImages"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>mTe(l))),E(n,["instances[0]","referenceImages"],o)}const a=T(e,["config"]);return a!=null&&E(n,["config"],gTe(a,n)),n}function vTe(t,e){const n={},r=T(t,["outputGcsUri"]);e!==void 0&&r!=null&&E(e,["parameters","storageUri"],r);const i=T(t,["includeRaiReason"]);e!==void 0&&i!=null&&E(e,["parameters","includeRaiReason"],i);const s=T(t,["outputMimeType"]);e!==void 0&&s!=null&&E(e,["parameters","outputOptions","mimeType"],s);const a=T(t,["outputCompressionQuality"]);e!==void 0&&a!=null&&E(e,["parameters","outputOptions","compressionQuality"],a);const o=T(t,["enhanceInputImage"]);e!==void 0&&o!=null&&E(e,["parameters","upscaleConfig","enhanceInputImage"],o);const l=T(t,["imagePreservationFactor"]);e!==void 0&&l!=null&&E(e,["parameters","upscaleConfig","imagePreservationFactor"],l);const c=T(t,["numberOfImages"]);e!==void 0&&c!=null&&E(e,["parameters","sampleCount"],c);const u=T(t,["mode"]);return e!==void 0&&u!=null&&E(e,["parameters","mode"],u),n}function xTe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Pn(t,r));const i=T(e,["image"]);i!=null&&E(n,["instances[0]","image"],Vo(i));const s=T(e,["upscaleFactor"]);s!=null&&E(n,["parameters","upscaleConfig","upscaleFactor"],s);const a=T(e,["config"]);return a!=null&&E(n,["config"],vTe(a,n)),n}function _Te(t){const e={},n=T(t,["productImage"]);return n!=null&&E(e,["image"],Vo(n)),e}function bTe(t,e){const n={},r=T(t,["prompt"]);e!==void 0&&r!=null&&E(e,["instances[0]","prompt"],r);const i=T(t,["personImage"]);e!==void 0&&i!=null&&E(e,["instances[0]","personImage","image"],Vo(i));const s=T(t,["productImages"]);if(e!==void 0&&s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>_Te(o))),E(e,["instances[0]","productImages"],a)}return n}function wTe(t,e){const n={},r=T(t,["numberOfImages"]);e!==void 0&&r!=null&&E(e,["parameters","sampleCount"],r);const i=T(t,["baseSteps"]);e!==void 0&&i!=null&&E(e,["parameters","editConfig","baseSteps"],i);const s=T(t,["outputGcsUri"]);e!==void 0&&s!=null&&E(e,["parameters","storageUri"],s);const a=T(t,["seed"]);e!==void 0&&a!=null&&E(e,["parameters","seed"],a);const o=T(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&E(e,["parameters","safetySetting"],o);const l=T(t,["personGeneration"]);e!==void 0&&l!=null&&E(e,["parameters","personGeneration"],l);const c=T(t,["addWatermark"]);e!==void 0&&c!=null&&E(e,["parameters","addWatermark"],c);const u=T(t,["outputMimeType"]);e!==void 0&&u!=null&&E(e,["parameters","outputOptions","mimeType"],u);const f=T(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&E(e,["parameters","outputOptions","compressionQuality"],f);const h=T(t,["enhancePrompt"]);return e!==void 0&&h!=null&&E(e,["parameters","enhancePrompt"],h),n}function TTe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Pn(t,r));const i=T(e,["source"]);i!=null&&E(n,["config"],bTe(i,n));const s=T(e,["config"]);return s!=null&&E(n,["config"],wTe(s,n)),n}function ETe(t){const e={},n=T(t,["image"]);return n!=null&&E(e,["image"],Vo(n)),e}function CTe(t,e){const n={},r=T(t,["prompt"]);e!==void 0&&r!=null&&E(e,["instances[0]","prompt"],r);const i=T(t,["image"]);e!==void 0&&i!=null&&E(e,["instances[0]","image"],Vo(i));const s=T(t,["scribbleImage"]);return e!==void 0&&s!=null&&E(e,["instances[0]","scribble"],ETe(s)),n}function STe(t,e){const n={},r=T(t,["mode"]);e!==void 0&&r!=null&&E(e,["parameters","mode"],r);const i=T(t,["maxPredictions"]);e!==void 0&&i!=null&&E(e,["parameters","maxPredictions"],i);const s=T(t,["confidenceThreshold"]);e!==void 0&&s!=null&&E(e,["parameters","confidenceThreshold"],s);const a=T(t,["maskDilation"]);e!==void 0&&a!=null&&E(e,["parameters","maskDilation"],a);const o=T(t,["binaryColorThreshold"]);return e!==void 0&&o!=null&&E(e,["parameters","binaryColorThreshold"],o),n}function DTe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Pn(t,r));const i=T(e,["source"]);i!=null&&E(n,["config"],CTe(i,n));const s=T(e,["config"]);return s!=null&&E(n,["config"],STe(s,n)),n}function ATe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","name"],Pn(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function NTe(t,e,n){const r={},i=T(e,["pageSize"]);n!==void 0&&i!=null&&E(n,["_query","pageSize"],i);const s=T(e,["pageToken"]);n!==void 0&&s!=null&&E(n,["_query","pageToken"],s);const a=T(e,["filter"]);n!==void 0&&a!=null&&E(n,["_query","filter"],a);const o=T(e,["queryBase"]);return n!==void 0&&o!=null&&E(n,["_url","models_url"],NG(t,o)),r}function ITe(t,e){const n={},r=T(e,["config"]);return r!=null&&E(n,["config"],NTe(t,r,n)),n}function kTe(t,e){const n={},r=T(t,["displayName"]);e!==void 0&&r!=null&&E(e,["displayName"],r);const i=T(t,["description"]);e!==void 0&&i!=null&&E(e,["description"],i);const s=T(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&E(e,["defaultCheckpointId"],s),n}function RTe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Pn(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],kTe(i,n)),n}function PTe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","name"],Pn(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function FTe(t,e){const n={},r=T(t,["systemInstruction"]);e!==void 0&&r!=null&&E(e,["systemInstruction"],Gm(hs(r)));const i=T(t,["tools"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>GG(o))),E(e,["tools"],a)}const s=T(t,["generationConfig"]);return e!==void 0&&s!=null&&E(e,["generationConfig"],s),n}function MTe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Pn(t,r));const i=T(e,["contents"]);if(i!=null){let a=eo(i);Array.isArray(a)&&(a=a.map(o=>Gm(o))),E(n,["contents"],a)}const s=T(e,["config"]);return s!=null&&E(n,["config"],FTe(s,n)),n}function UTe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Pn(t,r));const i=T(e,["contents"]);if(i!=null){let a=eo(i);Array.isArray(a)&&(a=a.map(o=>Gm(o))),E(n,["contents"],a)}const s=T(e,["config"]);return s!=null&&E(n,["config"],s),n}function KG(t){const e={},n=T(t,["uri"]);n!=null&&E(e,["gcsUri"],n);const r=T(t,["videoBytes"]);r!=null&&E(e,["bytesBase64Encoded"],Qf(r));const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function OTe(t,e){const n={},r=T(t,["prompt"]);e!==void 0&&r!=null&&E(e,["instances[0]","prompt"],r);const i=T(t,["image"]);e!==void 0&&i!=null&&E(e,["instances[0]","image"],Vo(i));const s=T(t,["video"]);return e!==void 0&&s!=null&&E(e,["instances[0]","video"],KG(s)),n}function LTe(t){const e={},n=T(t,["image"]);n!=null&&E(e,["image"],Vo(n));const r=T(t,["referenceType"]);return r!=null&&E(e,["referenceType"],r),e}function jTe(t){const e={},n=T(t,["image"]);n!=null&&E(e,["_self"],Vo(n));const r=T(t,["maskMode"]);return r!=null&&E(e,["maskMode"],r),e}function BTe(t,e){const n={},r=T(t,["numberOfVideos"]);e!==void 0&&r!=null&&E(e,["parameters","sampleCount"],r);const i=T(t,["outputGcsUri"]);e!==void 0&&i!=null&&E(e,["parameters","storageUri"],i);const s=T(t,["fps"]);e!==void 0&&s!=null&&E(e,["parameters","fps"],s);const a=T(t,["durationSeconds"]);e!==void 0&&a!=null&&E(e,["parameters","durationSeconds"],a);const o=T(t,["seed"]);e!==void 0&&o!=null&&E(e,["parameters","seed"],o);const l=T(t,["aspectRatio"]);e!==void 0&&l!=null&&E(e,["parameters","aspectRatio"],l);const c=T(t,["resolution"]);e!==void 0&&c!=null&&E(e,["parameters","resolution"],c);const u=T(t,["personGeneration"]);e!==void 0&&u!=null&&E(e,["parameters","personGeneration"],u);const f=T(t,["pubsubTopic"]);e!==void 0&&f!=null&&E(e,["parameters","pubsubTopic"],f);const h=T(t,["negativePrompt"]);e!==void 0&&h!=null&&E(e,["parameters","negativePrompt"],h);const p=T(t,["enhancePrompt"]);e!==void 0&&p!=null&&E(e,["parameters","enhancePrompt"],p);const v=T(t,["generateAudio"]);e!==void 0&&v!=null&&E(e,["parameters","generateAudio"],v);const g=T(t,["lastFrame"]);e!==void 0&&g!=null&&E(e,["instances[0]","lastFrame"],Vo(g));const y=T(t,["referenceImages"]);if(e!==void 0&&y!=null){let w=y;Array.isArray(w)&&(w=w.map(C=>LTe(C))),E(e,["instances[0]","referenceImages"],w)}const b=T(t,["mask"]);e!==void 0&&b!=null&&E(e,["instances[0]","mask"],jTe(b));const _=T(t,["compressionQuality"]);return e!==void 0&&_!=null&&E(e,["parameters","compressionQuality"],_),n}function VTe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Pn(t,r));const i=T(e,["prompt"]);i!=null&&E(n,["instances[0]","prompt"],i);const s=T(e,["image"]);s!=null&&E(n,["instances[0]","image"],Vo(s));const a=T(e,["video"]);a!=null&&E(n,["instances[0]","video"],KG(a));const o=T(e,["source"]);o!=null&&E(n,["config"],OTe(o,n));const l=T(e,["config"]);return l!=null&&E(n,["config"],BTe(l,n)),n}function WTe(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function qTe(t){const e={},n=T(t,["data"]);n!=null&&E(e,["data"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function zTe(t){const e={},n=T(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function HTe(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function $Te(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],WTe(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],qTe(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],zTe(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],HTe(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function GTe(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>$Te(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function KTe(t){const e={},n=T(t,["citationSources"]);return n!=null&&E(e,["citations"],n),e}function XTe(t){const e={},n=T(t,["retrievedUrl"]);n!=null&&E(e,["retrievedUrl"],n);const r=T(t,["urlRetrievalStatus"]);return r!=null&&E(e,["urlRetrievalStatus"],r),e}function JTe(t){const e={},n=T(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>XTe(i))),E(e,["urlMetadata"],r)}return e}function YTe(t){const e={},n=T(t,["content"]);n!=null&&E(e,["content"],GTe(n));const r=T(t,["citationMetadata"]);r!=null&&E(e,["citationMetadata"],KTe(r));const i=T(t,["tokenCount"]);i!=null&&E(e,["tokenCount"],i);const s=T(t,["finishReason"]);s!=null&&E(e,["finishReason"],s);const a=T(t,["urlContextMetadata"]);a!=null&&E(e,["urlContextMetadata"],JTe(a));const o=T(t,["avgLogprobs"]);o!=null&&E(e,["avgLogprobs"],o);const l=T(t,["groundingMetadata"]);l!=null&&E(e,["groundingMetadata"],l);const c=T(t,["index"]);c!=null&&E(e,["index"],c);const u=T(t,["logprobsResult"]);u!=null&&E(e,["logprobsResult"],u);const f=T(t,["safetyRatings"]);return f!=null&&E(e,["safetyRatings"],f),e}function SO(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>YTe(c))),E(e,["candidates"],l)}const i=T(t,["modelVersion"]);i!=null&&E(e,["modelVersion"],i);const s=T(t,["promptFeedback"]);s!=null&&E(e,["promptFeedback"],s);const a=T(t,["responseId"]);a!=null&&E(e,["responseId"],a);const o=T(t,["usageMetadata"]);return o!=null&&E(e,["usageMetadata"],o),e}function QTe(t){const e={},n=T(t,["values"]);return n!=null&&E(e,["values"],n),e}function ZTe(){return{}}function eEe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>QTe(a))),E(e,["embeddings"],s)}return T(t,["metadata"])!=null&&E(e,["metadata"],ZTe()),e}function tEe(t){const e={},n=T(t,["bytesBase64Encoded"]);n!=null&&E(e,["imageBytes"],Qf(n));const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function XG(t){const e={},n=T(t,["safetyAttributes","categories"]);n!=null&&E(e,["categories"],n);const r=T(t,["safetyAttributes","scores"]);r!=null&&E(e,["scores"],r);const i=T(t,["contentType"]);return i!=null&&E(e,["contentType"],i),e}function nEe(t){const e={},n=T(t,["_self"]);n!=null&&E(e,["image"],tEe(n));const r=T(t,["raiFilteredReason"]);r!=null&&E(e,["raiFilteredReason"],r);const i=T(t,["_self"]);return i!=null&&E(e,["safetyAttributes"],XG(i)),e}function rEe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>nEe(a))),E(e,["generatedImages"],s)}const i=T(t,["positivePromptSafetyAttributes"]);return i!=null&&E(e,["positivePromptSafetyAttributes"],XG(i)),e}function iEe(t){const e={},n=T(t,["baseModel"]);n!=null&&E(e,["baseModel"],n);const r=T(t,["createTime"]);r!=null&&E(e,["createTime"],r);const i=T(t,["updateTime"]);return i!=null&&E(e,["updateTime"],i),e}function Y4(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["displayName"]);r!=null&&E(e,["displayName"],r);const i=T(t,["description"]);i!=null&&E(e,["description"],i);const s=T(t,["version"]);s!=null&&E(e,["version"],s);const a=T(t,["_self"]);a!=null&&E(e,["tunedModelInfo"],iEe(a));const o=T(t,["inputTokenLimit"]);o!=null&&E(e,["inputTokenLimit"],o);const l=T(t,["outputTokenLimit"]);l!=null&&E(e,["outputTokenLimit"],l);const c=T(t,["supportedGenerationMethods"]);return c!=null&&E(e,["supportedActions"],c),e}function sEe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=T(t,["_self"]);if(i!=null){let s=IG(i);Array.isArray(s)&&(s=s.map(a=>Y4(a))),E(e,["models"],s)}return e}function aEe(t){const e={},n=T(t,["sdkHttpResponse"]);return n!=null&&E(e,["sdkHttpResponse"],n),e}function oEe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["totalTokens"]);r!=null&&E(e,["totalTokens"],r);const i=T(t,["cachedContentTokenCount"]);return i!=null&&E(e,["cachedContentTokenCount"],i),e}function lEe(t){const e={},n=T(t,["video","uri"]);n!=null&&E(e,["uri"],n);const r=T(t,["video","encodedVideo"]);r!=null&&E(e,["videoBytes"],Qf(r));const i=T(t,["encoding"]);return i!=null&&E(e,["mimeType"],i),e}function cEe(t){const e={},n=T(t,["_self"]);return n!=null&&E(e,["video"],lEe(n)),e}function uEe(t){const e={},n=T(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>cEe(a))),E(e,["generatedVideos"],s)}const r=T(t,["raiMediaFilteredCount"]);r!=null&&E(e,["raiMediaFilteredCount"],r);const i=T(t,["raiMediaFilteredReasons"]);return i!=null&&E(e,["raiMediaFilteredReasons"],i),e}function dEe(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["metadata"]);r!=null&&E(e,["metadata"],r);const i=T(t,["done"]);i!=null&&E(e,["done"],i);const s=T(t,["error"]);s!=null&&E(e,["error"],s);const a=T(t,["response","generateVideoResponse"]);return a!=null&&E(e,["response"],uEe(a)),e}function fEe(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function hEe(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["data"]);r!=null&&E(e,["data"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function pEe(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["fileUri"]);r!=null&&E(e,["fileUri"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function mEe(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function gEe(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],fEe(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],hEe(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],pEe(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],mEe(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function yEe(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>gEe(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function vEe(t){const e={},n=T(t,["citations"]);return n!=null&&E(e,["citations"],n),e}function xEe(t){const e={},n=T(t,["retrievedUrl"]);n!=null&&E(e,["retrievedUrl"],n);const r=T(t,["urlRetrievalStatus"]);return r!=null&&E(e,["urlRetrievalStatus"],r),e}function _Ee(t){const e={},n=T(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>xEe(i))),E(e,["urlMetadata"],r)}return e}function bEe(t){const e={},n=T(t,["content"]);n!=null&&E(e,["content"],yEe(n));const r=T(t,["citationMetadata"]);r!=null&&E(e,["citationMetadata"],vEe(r));const i=T(t,["finishMessage"]);i!=null&&E(e,["finishMessage"],i);const s=T(t,["finishReason"]);s!=null&&E(e,["finishReason"],s);const a=T(t,["urlContextMetadata"]);a!=null&&E(e,["urlContextMetadata"],_Ee(a));const o=T(t,["avgLogprobs"]);o!=null&&E(e,["avgLogprobs"],o);const l=T(t,["groundingMetadata"]);l!=null&&E(e,["groundingMetadata"],l);const c=T(t,["index"]);c!=null&&E(e,["index"],c);const u=T(t,["logprobsResult"]);u!=null&&E(e,["logprobsResult"],u);const f=T(t,["safetyRatings"]);return f!=null&&E(e,["safetyRatings"],f),e}function DO(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(u=>bEe(u))),E(e,["candidates"],c)}const i=T(t,["createTime"]);i!=null&&E(e,["createTime"],i);const s=T(t,["modelVersion"]);s!=null&&E(e,["modelVersion"],s);const a=T(t,["promptFeedback"]);a!=null&&E(e,["promptFeedback"],a);const o=T(t,["responseId"]);o!=null&&E(e,["responseId"],o);const l=T(t,["usageMetadata"]);return l!=null&&E(e,["usageMetadata"],l),e}function wEe(t){const e={},n=T(t,["truncated"]);n!=null&&E(e,["truncated"],n);const r=T(t,["token_count"]);return r!=null&&E(e,["tokenCount"],r),e}function TEe(t){const e={},n=T(t,["values"]);n!=null&&E(e,["values"],n);const r=T(t,["statistics"]);return r!=null&&E(e,["statistics"],wEe(r)),e}function EEe(t){const e={},n=T(t,["billableCharacterCount"]);return n!=null&&E(e,["billableCharacterCount"],n),e}function CEe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["predictions[]","embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>TEe(a))),E(e,["embeddings"],s)}const i=T(t,["metadata"]);return i!=null&&E(e,["metadata"],EEe(i)),e}function JG(t){const e={},n=T(t,["gcsUri"]);n!=null&&E(e,["gcsUri"],n);const r=T(t,["bytesBase64Encoded"]);r!=null&&E(e,["imageBytes"],Qf(r));const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function YG(t){const e={},n=T(t,["safetyAttributes","categories"]);n!=null&&E(e,["categories"],n);const r=T(t,["safetyAttributes","scores"]);r!=null&&E(e,["scores"],r);const i=T(t,["contentType"]);return i!=null&&E(e,["contentType"],i),e}function Sw(t){const e={},n=T(t,["_self"]);n!=null&&E(e,["image"],JG(n));const r=T(t,["raiFilteredReason"]);r!=null&&E(e,["raiFilteredReason"],r);const i=T(t,["_self"]);i!=null&&E(e,["safetyAttributes"],YG(i));const s=T(t,["prompt"]);return s!=null&&E(e,["enhancedPrompt"],s),e}function SEe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>Sw(a))),E(e,["generatedImages"],s)}const i=T(t,["positivePromptSafetyAttributes"]);return i!=null&&E(e,["positivePromptSafetyAttributes"],YG(i)),e}function DEe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Sw(s))),E(e,["generatedImages"],i)}return e}function AEe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Sw(s))),E(e,["generatedImages"],i)}return e}function NEe(t){const e={},n=T(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Sw(i))),E(e,["generatedImages"],r)}return e}function IEe(t){const e={},n=T(t,["label"]);n!=null&&E(e,["label"],n);const r=T(t,["score"]);return r!=null&&E(e,["score"],r),e}function kEe(t){const e={},n=T(t,["_self"]);n!=null&&E(e,["mask"],JG(n));const r=T(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>IEe(s))),E(e,["labels"],i)}return e}function REe(t){const e={},n=T(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>kEe(i))),E(e,["generatedMasks"],r)}return e}function PEe(t){const e={},n=T(t,["endpoint"]);n!=null&&E(e,["name"],n);const r=T(t,["deployedModelId"]);return r!=null&&E(e,["deployedModelId"],r),e}function FEe(t){const e={},n=T(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&E(e,["baseModel"],n);const r=T(t,["createTime"]);r!=null&&E(e,["createTime"],r);const i=T(t,["updateTime"]);return i!=null&&E(e,["updateTime"],i),e}function MEe(t){const e={},n=T(t,["checkpointId"]);n!=null&&E(e,["checkpointId"],n);const r=T(t,["epoch"]);r!=null&&E(e,["epoch"],r);const i=T(t,["step"]);return i!=null&&E(e,["step"],i),e}function Q4(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["displayName"]);r!=null&&E(e,["displayName"],r);const i=T(t,["description"]);i!=null&&E(e,["description"],i);const s=T(t,["versionId"]);s!=null&&E(e,["version"],s);const a=T(t,["deployedModels"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(h=>PEe(h))),E(e,["endpoints"],f)}const o=T(t,["labels"]);o!=null&&E(e,["labels"],o);const l=T(t,["_self"]);l!=null&&E(e,["tunedModelInfo"],FEe(l));const c=T(t,["defaultCheckpointId"]);c!=null&&E(e,["defaultCheckpointId"],c);const u=T(t,["checkpoints"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(h=>MEe(h))),E(e,["checkpoints"],f)}return e}function UEe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=T(t,["_self"]);if(i!=null){let s=IG(i);Array.isArray(s)&&(s=s.map(a=>Q4(a))),E(e,["models"],s)}return e}function OEe(t){const e={},n=T(t,["sdkHttpResponse"]);return n!=null&&E(e,["sdkHttpResponse"],n),e}function LEe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["totalTokens"]);return r!=null&&E(e,["totalTokens"],r),e}function jEe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["tokensInfo"]);return r!=null&&E(e,["tokensInfo"],r),e}function BEe(t){const e={},n=T(t,["gcsUri"]);n!=null&&E(e,["uri"],n);const r=T(t,["bytesBase64Encoded"]);r!=null&&E(e,["videoBytes"],Qf(r));const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function VEe(t){const e={},n=T(t,["_self"]);return n!=null&&E(e,["video"],BEe(n)),e}function WEe(t){const e={},n=T(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>VEe(a))),E(e,["generatedVideos"],s)}const r=T(t,["raiMediaFilteredCount"]);r!=null&&E(e,["raiMediaFilteredCount"],r);const i=T(t,["raiMediaFilteredReasons"]);return i!=null&&E(e,["raiMediaFilteredReasons"],i),e}function qEe(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["metadata"]);r!=null&&E(e,["metadata"],r);const i=T(t,["done"]);i!=null&&E(e,["done"],i);const s=T(t,["error"]);s!=null&&E(e,["error"],s);const a=T(t,["response"]);return a!=null&&E(e,["response"],WEe(a)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zEe="Content-Type",HEe="X-Server-Timeout",$Ee="User-Agent",Z4="x-goog-api-client",GEe="1.19.0",KEe=`google-genai-sdk/${GEe}`,XEe="v1beta1",JEe="v1beta",AO=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class YEe{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:XEe,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:JEe,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[a,o]of Object.entries(e.queryParams))i.searchParams.append(a,String(o));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,n,e.abortSignal),this.unaryApiCall(i,s,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,s]of Object.entries(n))typeof s=="object"?r[i]=Object.assign(Object.assign({},r[i]),s):s!==void 0&&(r[i]=s);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,n,e.abortSignal),this.streamApiCall(i,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r){if(n&&n.timeout||r){const i=new AbortController,s=i.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const a=setTimeout(()=>i.abort(),n.timeout);a&&typeof a.unref=="function"&&a.unref()}r&&r.addEventListener("abort",()=>{i.abort()}),e.signal=s}return n&&n.extraBody!==null&&QEe(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await NO(i),new $4(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await NO(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return Np(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),s=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";for(;;){const{done:o,value:l}=yield hr(i.read());if(o){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const c=s.decode(l,{stream:!0});try{const f=JSON.parse(c);if("error"in f){const h=JSON.parse(JSON.stringify(f.error)),p=h.status,v=h.code,g=`got status: ${p}. ${JSON.stringify(f)}`;if(v>=400&&v<600)throw new Ew({message:g,status:v})}}catch(f){if(f.name==="ApiError")throw f}a+=c;let u=a.match(AO);for(;u;){const f=u[1];try{const h=new Response(f,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield hr(new $4(h)),a=a.slice(u[0].length),u=a.match(AO)}catch(h){throw new Error(`exception parsing stream chunk ${f}. ${h}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=KEe+" "+this.clientOptions.userAgentExtra;return e[$Ee]=n,e[Z4]=n,e[zEe]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[r,i]of Object.entries(e.headers))n.append(r,i);e.timeout&&e.timeout>0&&n.append(HEe,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const s=this.clientOptions.uploader,a=await s.stat(e);i.sizeBytes=String(a.size);const o=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:a.type;if(o===void 0||o==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=o;const l=await this.fetchUploadUrl(i,n);return s.upload(e,l,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var r;let i={};n!=null&&n.httpOptions?i=n.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const s={file:e},a=await this.request({path:Ft("upload/v1beta/files",s._url),body:JSON.stringify(s),httpMethod:"POST",httpOptions:i});if(!a||!(a!=null&&a.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const o=(r=a==null?void 0:a.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(o===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return o}}async function NO(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Ew({message:i,status:n}):new Error(i)}}function QEe(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const s=JSON.parse(t.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))n=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(s,a){const o=Object.assign({},s);for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const c=a[l],u=o[l];c&&typeof c=="object"&&!Array.isArray(c)&&u&&typeof u=="object"&&!Array.isArray(u)?o[l]=r(u,c):(u&&c&&typeof u!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof u}, New type: ${typeof c}. Overwriting.`),o[l]=c)}return o}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ZEe="mcp_used/unknown";let eCe=!1;function QG(t){for(const e of t)if(tCe(e)||typeof e=="object"&&"inputSchema"in e)return!0;return eCe}function ZG(t){var e;const n=(e=t[Z4])!==null&&e!==void 0?e:"";t[Z4]=(n+` ${ZEe}`).trimStart()}function tCe(t){return t!==null&&typeof t=="object"&&t instanceof yk}function nCe(t,e=100){return Np(this,arguments,function*(){let r,i=0;for(;i<e;){const s=yield hr(t.listTools({cursor:r}));for(const a of s.tools)yield yield hr(a),i++;if(!s.nextCursor)break;r=s.nextCursor}})}class yk{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new yk(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const s={},a=[];for(const u of this.mcpClients)try{for(var o=!0,l=(n=void 0,z0(nCe(u))),c;c=await l.next(),e=c.done,!e;o=!0){i=c.value,o=!1;const f=i;a.push(f);const h=f.name;if(s[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);s[h]=u}}catch(f){n={error:f}}finally{try{!o&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),y1e(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const a=await i.callTool({name:r.name,arguments:r.args},void 0,s);n.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function rCe(t,e,n){const r=new c1e;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data);const s=Pbe(i);Object.assign(r,s),e(r)}class iCe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),a=oCe(this.apiClient.getDefaultHeaders()),o=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${o}`;let c=()=>{};const u=new Promise(w=>{c=w}),f=e.callbacks,h=function(){c({})},p=this.apiClient,v={onopen:h,onmessage:w=>{rCe(p,f.onmessage,w)},onerror:(n=f==null?void 0:f.onerror)!==null&&n!==void 0?n:function(w){},onclose:(r=f==null?void 0:f.onclose)!==null&&r!==void 0?r:function(w){}},g=this.webSocketFactory.create(l,aCe(a),v);g.connect(),await u;const y=Pn(this.apiClient,e.model),b=VG({model:y}),_=J4({setup:b});return g.send(JSON.stringify(_)),new sCe(g,this.apiClient)}}class sCe{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=I_e(e),r=WG(n);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=k_e(e),r=J4(n);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const n=J4({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(yp.PLAY)}pause(){this.sendPlaybackControl(yp.PAUSE)}stop(){this.sendPlaybackControl(yp.STOP)}resetContext(){this.sendPlaybackControl(yp.RESET_CONTEXT)}close(){this.conn.close()}}function aCe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function oCe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lCe="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function cCe(t,e,n){const r=new l1e;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const s=JSON.parse(i);if(t.isVertexAI()){const a=$be(s);Object.assign(r,a)}else{const a=Ebe(s);Object.assign(r,a)}e(r)}class uCe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new iCe(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,s,a,o;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let u;const f=this.apiClient.getHeaders();e.config&&e.config.tools&&QG(e.config.tools)&&ZG(f);const h=pCe(f);if(this.apiClient.isVertexAI())u=`${l}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h);else{const k=this.apiClient.getApiKey();let F="BidiGenerateContent",P="key";k!=null&&k.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),c!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),F="BidiGenerateContentConstrained",P="access_token"),u=`${l}/ws/google.ai.generativelanguage.${c}.GenerativeService.${F}?${P}=${k}`}let p=()=>{};const v=new Promise(k=>{p=k}),g=e.callbacks,y=function(){var k;(k=g==null?void 0:g.onopen)===null||k===void 0||k.call(g),p({})},b=this.apiClient,_={onopen:y,onmessage:k=>{cCe(b,g.onmessage,k)},onerror:(n=g==null?void 0:g.onerror)!==null&&n!==void 0?n:function(k){},onclose:(r=g==null?void 0:g.onclose)!==null&&r!==void 0?r:function(k){}},w=this.webSocketFactory.create(u,hCe(h),_);w.connect(),await v;let C=Pn(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&C.startsWith("publishers/")){const k=this.apiClient.getProject(),F=this.apiClient.getLocation();C=`projects/${k}/locations/${F}/`+C}let S={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[F_.AUDIO]}:e.config.responseModalities=[F_.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const R=(o=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&o!==void 0?o:[],D=[];for(const k of R)if(this.isCallableTool(k)){const F=k;D.push(await F.tool())}else D.push(k);D.length>0&&(e.config.tools=D);const N={model:C,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?S=abe(this.apiClient,N):S=S_e(this.apiClient,N),delete S.config,w.send(JSON.stringify(S)),new fCe(w,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const dCe={turnComplete:!0};class fCe{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=eo(n.turns),e.isVertexAI()?r=r.map(i=>Gm(i)):r=r.map(i=>Cw(i))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const s of r){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(lCe)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},dCe),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:cbe(e)}:n={realtimeInput:N_e(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function hCe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function pCe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const IO=10;function kO(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Ip(a)){i=!0;break}if(!i)return!0;const s=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function Ip(t){return"callTool"in t&&typeof t.callTool=="function"}function mCe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Ip(i)))!==null&&r!==void 0?r:!1}function gCe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>!Ip(i)))!==null&&r!==void 0?r:!1}function RO(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yCe extends Yf{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,s,a,o;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!mCe(n)||kO(n.config))return await this.generateContentInternal(l);if(gCe(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let c,u;const f=eo(l.contents),h=(s=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:IO;let p=0;for(;p<h&&(c=await this.generateContentInternal(l),!(!c.functionCalls||c.functionCalls.length===0));){const v=c.candidates[0].content,g=[];for(const y of(o=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&o!==void 0?o:[])if(Ip(y)){const _=await y.callTool(c.functionCalls);g.push(..._)}p++,u={role:"user",parts:g},l.contents=eo(l.contents),l.contents.push(v),l.contents.push(u),RO(l.config)&&(f.push(v),f.push(u))}return RO(l.config)&&(c.automaticFunctionCallingHistory=f),c},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),kO(n.config)){const r=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let s;const a=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?s=l==null?void 0:l.safetyAttributes:a.push(l);let o;return s?o={generatedImages:a,positivePromptSafetyAttributes:s,sdkHttpResponse:r.sdkHttpResponse}:o={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},o}),this.list=async n=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new Bv(kf.PAGED_ITEM_MODELS,o=>this.listInternal(o),await this.listInternal(a),a)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const s=(n=e.config)===null||n===void 0?void 0:n.tools;if(!s)return e;const a=await Promise.all(s.map(async l=>Ip(l)?await l.tool():l)),o={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(o.config.tools=a,e.config&&e.config.tools&&QG(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let c=Object.assign({},l);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),ZG(c),o.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:c})}return o}async initAfcToolsMap(e){var n,r,i;const s=new Map;for(const a of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Ip(a)){const o=a,l=await o.tool();for(const c of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!c.name)throw new Error("Function declaration name is required.");if(s.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);s.set(c.name,o)}}return s}async processAfcStream(e){var n,r,i;const s=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:IO;let a=!1,o=0;const l=await this.initAfcToolsMap(e);return(function(c,u,f){var h,p;return Np(this,arguments,function*(){for(var v,g,y,b;o<s;){a&&(o++,a=!1);const S=yield hr(c.processParamsMaybeAddMcpUsage(f)),R=yield hr(c.generateContentStreamInternal(S)),D=[],N=[];try{for(var _=!0,w=(g=void 0,z0(R)),C;C=yield hr(w.next()),v=C.done,!v;_=!0){b=C.value,_=!1;const k=b;if(yield yield hr(k),k.candidates&&(!((h=k.candidates[0])===null||h===void 0)&&h.content)){N.push(k.candidates[0].content);for(const F of(p=k.candidates[0].content.parts)!==null&&p!==void 0?p:[])if(o<s&&F.functionCall){if(!F.functionCall.name)throw new Error("Function call name was not returned by the model.");if(u.has(F.functionCall.name)){const P=yield hr(u.get(F.functionCall.name).callTool([F.functionCall]));D.push(...P)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${u.keys()}, mising tool: ${F.functionCall.name}`)}}}}catch(k){g={error:k}}finally{try{!_&&!v&&(y=w.return)&&(yield hr(y.call(w)))}finally{if(g)throw g.error}}if(D.length>0){a=!0;const k=new Xg;k.candidates=[{content:{role:"user",parts:D}}],yield yield hr(k);const F=[];F.push(...N),F.push({role:"user",parts:D});const P=eo(f.contents).concat(F);f.contents=P}else break}})})(this,l,e)}async generateContentInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=CO(this.apiClient,e);return o=Ft("{model}:generateContent",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=DO(u),h=new Xg;return Object.assign(h,f),h})}else{const c=EO(this.apiClient,e);return o=Ft("{model}:generateContent",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=SO(u),h=new Xg;return Object.assign(h,f),h})}}async generateContentStreamInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=CO(this.apiClient,e);return o=Ft("{model}:streamGenerateContent?alt=sse",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.requestStream({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(f){return Np(this,arguments,function*(){var h,p,v,g;try{for(var y=!0,b=z0(f),_;_=yield hr(b.next()),h=_.done,!h;y=!0){g=_.value,y=!1;const w=g,C=DO(yield hr(w.json()));C.sdkHttpResponse={headers:w.headers};const S=new Xg;Object.assign(S,C),yield yield hr(S)}}catch(w){p={error:w}}finally{try{!y&&!h&&(v=b.return)&&(yield hr(v.call(b)))}finally{if(p)throw p.error}}})})}else{const c=EO(this.apiClient,e);return o=Ft("{model}:streamGenerateContent?alt=sse",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.requestStream({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),a.then(function(f){return Np(this,arguments,function*(){var h,p,v,g;try{for(var y=!0,b=z0(f),_;_=yield hr(b.next()),h=_.done,!h;y=!0){g=_.value,y=!1;const w=g,C=SO(yield hr(w.json()));C.sdkHttpResponse={headers:w.headers};const S=new Xg;Object.assign(S,C),yield yield hr(S)}}catch(w){p={error:w}}finally{try{!y&&!h&&(v=b.return)&&(yield hr(v.call(b)))}finally{if(p)throw p.error}}})})}}async embedContent(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=lTe(this.apiClient,e);return o=Ft("{model}:predict",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=CEe(u),h=new iO;return Object.assign(h,f),h})}else{const c=xwe(this.apiClient,e);return o=Ft("{model}:batchEmbedContents",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=eEe(u),h=new iO;return Object.assign(h,f),h})}}async generateImagesInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=uTe(this.apiClient,e);return o=Ft("{model}:predict",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=SEe(u),h=new sO;return Object.assign(h,f),h})}else{const c=bwe(this.apiClient,e);return o=Ft("{model}:predict",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=rEe(u),h=new sO;return Object.assign(h,f),h})}}async editImageInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=yTe(this.apiClient,e);return s=Ft("{model}:predict",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{const c=DEe(l),u=new e1e;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=xTe(this.apiClient,e);return s=Ft("{model}:predict",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{const c=AEe(l),u=new t1e;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=TTe(this.apiClient,e);return s=Ft("{model}:predict",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=NEe(l),u=new n1e;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=DTe(this.apiClient,e);return s=Ft("{model}:predict",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=REe(l),u=new r1e;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=ATe(this.apiClient,e);return o=Ft("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>Q4(u))}else{const c=wwe(this.apiClient,e);return o=Ft("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>Y4(u))}}async listInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=ITe(this.apiClient,e);return o=Ft("{models_url}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=UEe(u),h=new aO;return Object.assign(h,f),h})}else{const c=Ewe(this.apiClient,e);return o=Ft("{models_url}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=sEe(u),h=new aO;return Object.assign(h,f),h})}}async update(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=RTe(this.apiClient,e);return o=Ft("{model}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>Q4(u))}else{const c=Swe(this.apiClient,e);return o=Ft("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>Y4(u))}}async delete(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=PTe(this.apiClient,e);return o=Ft("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=OEe(u),h=new oO;return Object.assign(h,f),h})}else{const c=Dwe(this.apiClient,e);return o=Ft("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=aEe(u),h=new oO;return Object.assign(h,f),h})}}async countTokens(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=MTe(this.apiClient,e);return o=Ft("{model}:countTokens",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=LEe(u),h=new lO;return Object.assign(h,f),h})}else{const c=Nwe(this.apiClient,e);return o=Ft("{model}:countTokens",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=oEe(u),h=new lO;return Object.assign(h,f),h})}}async computeTokens(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=UTe(this.apiClient,e);return s=Ft("{model}:computeTokens",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{const c=jEe(l),u=new i1e;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=VTe(this.apiClient,e);return o=Ft("{model}:predictLongRunning",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>{const f=qEe(u),h=new M_;return Object.assign(h,f),h})}else{const c=Rwe(this.apiClient,e);return o=Ft("{model}:predictLongRunning",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>{const f=dEe(u),h=new M_;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vCe extends Yf{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:a,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:a,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=Hve(e);return o=Ft("{operationName}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a}else{const c=qve(e);return o=Ft("{operationName}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a}}async fetchPredictVideosOperationInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=zve(e);return s=Ft("{resourceName}:fetchPredictOperation",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xCe(t){const e={},n=T(t,["voiceName"]);return n!=null&&E(e,["voiceName"],n),e}function eK(t){const e={},n=T(t,["prebuiltVoiceConfig"]);return n!=null&&E(e,["prebuiltVoiceConfig"],xCe(n)),e}function _Ce(t){const e={},n=T(t,["speaker"]);n!=null&&E(e,["speaker"],n);const r=T(t,["voiceConfig"]);return r!=null&&E(e,["voiceConfig"],eK(r)),e}function bCe(t){const e={},n=T(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>_Ce(i))),E(e,["speakerVoiceConfigs"],r)}return e}function wCe(t){const e={},n=T(t,["voiceConfig"]);n!=null&&E(e,["voiceConfig"],eK(n));const r=T(t,["multiSpeakerVoiceConfig"]);r!=null&&E(e,["multiSpeakerVoiceConfig"],bCe(r));const i=T(t,["languageCode"]);return i!=null&&E(e,["languageCode"],i),e}function TCe(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function ECe(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["data"]);n!=null&&E(e,["data"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function CCe(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function SCe(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function DCe(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],TCe(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],ECe(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],CCe(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],SCe(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function ACe(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>DCe(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function NCe(t){const e={},n=T(t,["behavior"]);n!=null&&E(e,["behavior"],n);const r=T(t,["description"]);r!=null&&E(e,["description"],r);const i=T(t,["name"]);i!=null&&E(e,["name"],i);const s=T(t,["parameters"]);s!=null&&E(e,["parameters"],s);const a=T(t,["parametersJsonSchema"]);a!=null&&E(e,["parametersJsonSchema"],a);const o=T(t,["response"]);o!=null&&E(e,["response"],o);const l=T(t,["responseJsonSchema"]);return l!=null&&E(e,["responseJsonSchema"],l),e}function ICe(t){const e={},n=T(t,["startTime"]);n!=null&&E(e,["startTime"],n);const r=T(t,["endTime"]);return r!=null&&E(e,["endTime"],r),e}function kCe(t){const e={},n=T(t,["timeRangeFilter"]);if(n!=null&&E(e,["timeRangeFilter"],ICe(n)),T(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function RCe(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["dynamicThreshold"]);return r!=null&&E(e,["dynamicThreshold"],r),e}function PCe(t){const e={},n=T(t,["dynamicRetrievalConfig"]);return n!=null&&E(e,["dynamicRetrievalConfig"],RCe(n)),e}function FCe(){return{}}function MCe(t){const e={},n=T(t,["environment"]);return n!=null&&E(e,["environment"],n),e}function UCe(t){const e={},n=T(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>NCe(c))),E(e,["functionDeclarations"],l)}if(T(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=T(t,["googleSearch"]);r!=null&&E(e,["googleSearch"],kCe(r));const i=T(t,["googleSearchRetrieval"]);if(i!=null&&E(e,["googleSearchRetrieval"],PCe(i)),T(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(T(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");T(t,["urlContext"])!=null&&E(e,["urlContext"],FCe());const a=T(t,["computerUse"]);a!=null&&E(e,["computerUse"],MCe(a));const o=T(t,["codeExecution"]);return o!=null&&E(e,["codeExecution"],o),e}function OCe(t){const e={},n=T(t,["handle"]);if(n!=null&&E(e,["handle"],n),T(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function PO(){return{}}function LCe(t){const e={},n=T(t,["disabled"]);n!=null&&E(e,["disabled"],n);const r=T(t,["startOfSpeechSensitivity"]);r!=null&&E(e,["startOfSpeechSensitivity"],r);const i=T(t,["endOfSpeechSensitivity"]);i!=null&&E(e,["endOfSpeechSensitivity"],i);const s=T(t,["prefixPaddingMs"]);s!=null&&E(e,["prefixPaddingMs"],s);const a=T(t,["silenceDurationMs"]);return a!=null&&E(e,["silenceDurationMs"],a),e}function jCe(t){const e={},n=T(t,["automaticActivityDetection"]);n!=null&&E(e,["automaticActivityDetection"],LCe(n));const r=T(t,["activityHandling"]);r!=null&&E(e,["activityHandling"],r);const i=T(t,["turnCoverage"]);return i!=null&&E(e,["turnCoverage"],i),e}function BCe(t){const e={},n=T(t,["targetTokens"]);return n!=null&&E(e,["targetTokens"],n),e}function VCe(t){const e={},n=T(t,["triggerTokens"]);n!=null&&E(e,["triggerTokens"],n);const r=T(t,["slidingWindow"]);return r!=null&&E(e,["slidingWindow"],BCe(r)),e}function WCe(t){const e={},n=T(t,["proactiveAudio"]);return n!=null&&E(e,["proactiveAudio"],n),e}function qCe(t,e){const n={},r=T(t,["generationConfig"]);e!==void 0&&r!=null&&E(e,["setup","generationConfig"],r);const i=T(t,["responseModalities"]);e!==void 0&&i!=null&&E(e,["setup","generationConfig","responseModalities"],i);const s=T(t,["temperature"]);e!==void 0&&s!=null&&E(e,["setup","generationConfig","temperature"],s);const a=T(t,["topP"]);e!==void 0&&a!=null&&E(e,["setup","generationConfig","topP"],a);const o=T(t,["topK"]);e!==void 0&&o!=null&&E(e,["setup","generationConfig","topK"],o);const l=T(t,["maxOutputTokens"]);e!==void 0&&l!=null&&E(e,["setup","generationConfig","maxOutputTokens"],l);const c=T(t,["mediaResolution"]);e!==void 0&&c!=null&&E(e,["setup","generationConfig","mediaResolution"],c);const u=T(t,["seed"]);e!==void 0&&u!=null&&E(e,["setup","generationConfig","seed"],u);const f=T(t,["speechConfig"]);e!==void 0&&f!=null&&E(e,["setup","generationConfig","speechConfig"],wCe(mk(f)));const h=T(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&E(e,["setup","generationConfig","enableAffectiveDialog"],h);const p=T(t,["systemInstruction"]);e!==void 0&&p!=null&&E(e,["setup","systemInstruction"],ACe(hs(p)));const v=T(t,["tools"]);if(e!==void 0&&v!=null){let S=Hm(v);Array.isArray(S)&&(S=S.map(R=>UCe(zm(R)))),E(e,["setup","tools"],S)}const g=T(t,["sessionResumption"]);e!==void 0&&g!=null&&E(e,["setup","sessionResumption"],OCe(g));const y=T(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&E(e,["setup","inputAudioTranscription"],PO());const b=T(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&E(e,["setup","outputAudioTranscription"],PO());const _=T(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&E(e,["setup","realtimeInputConfig"],jCe(_));const w=T(t,["contextWindowCompression"]);e!==void 0&&w!=null&&E(e,["setup","contextWindowCompression"],VCe(w));const C=T(t,["proactivity"]);return e!==void 0&&C!=null&&E(e,["setup","proactivity"],WCe(C)),n}function zCe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["setup","model"],Pn(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],qCe(i,n)),n}function HCe(t,e,n){const r={},i=T(e,["expireTime"]);n!==void 0&&i!=null&&E(n,["expireTime"],i);const s=T(e,["newSessionExpireTime"]);n!==void 0&&s!=null&&E(n,["newSessionExpireTime"],s);const a=T(e,["uses"]);n!==void 0&&a!=null&&E(n,["uses"],a);const o=T(e,["liveConnectConstraints"]);n!==void 0&&o!=null&&E(n,["bidiGenerateContentSetup"],zCe(t,o));const l=T(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&E(n,["fieldMask"],l),r}function $Ce(t,e){const n={},r=T(e,["config"]);return r!=null&&E(n,["config"],HCe(t,r,n)),n}function GCe(t){const e={},n=T(t,["name"]);return n!=null&&E(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KCe(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(s=>`${n}.${s}`);e.push(...i)}else e.push(n)}return e.join(",")}function XCe(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const s=r.setup;typeof s=="object"&&s!==null?(t.bidiGenerateContentSetup=s,n=s):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const s=KCe(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?t.fieldMask=s:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let o=[];i.length>0&&(o=i.map(c=>a.includes(c)?`generationConfig.${c}`:c));const l=[];s&&l.push(s),o.length>0&&l.push(...o),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class JCe extends Yf{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const o=$Ce(this.apiClient,e);s=Ft("auth_tokens",o._url),a=o._query,delete o.config,delete o._url,delete o._query;const l=XCe(o,e.config);return i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>GCe(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YCe(t){const e={},n=T(t,["name"]);n!=null&&E(e,["_url","name"],n);const r=T(t,["config"]);return r!=null&&E(e,["config"],r),e}function QCe(t,e){const n={},r=T(t,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=T(t,["pageToken"]);e!==void 0&&i!=null&&E(e,["_query","pageToken"],i);const s=T(t,["filter"]);return e!==void 0&&s!=null&&E(e,["_query","filter"],s),n}function ZCe(t){const e={},n=T(t,["config"]);return n!=null&&E(e,["config"],QCe(n,e)),e}function eSe(t){const e={},n=T(t,["name"]);n!=null&&E(e,["_url","name"],n);const r=T(t,["config"]);return r!=null&&E(e,["config"],r),e}function tSe(t){const e={},n=T(t,["textInput"]);n!=null&&E(e,["textInput"],n);const r=T(t,["output"]);return r!=null&&E(e,["output"],r),e}function nSe(t){const e={};if(T(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(T(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=T(t,["examples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>tSe(i))),E(e,["examples","examples"],r)}return e}function rSe(t,e){const n={};if(T(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=T(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&E(e,["displayName"],r),T(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=T(t,["epochCount"]);e!==void 0&&i!=null&&E(e,["tuningTask","hyperparameters","epochCount"],i);const s=T(t,["learningRateMultiplier"]);if(s!=null&&E(n,["tuningTask","hyperparameters","learningRateMultiplier"],s),T(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(T(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(T(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const a=T(t,["batchSize"]);e!==void 0&&a!=null&&E(e,["tuningTask","hyperparameters","batchSize"],a);const o=T(t,["learningRate"]);if(e!==void 0&&o!=null&&E(e,["tuningTask","hyperparameters","learningRate"],o),T(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return n}function iSe(t){const e={},n=T(t,["baseModel"]);n!=null&&E(e,["baseModel"],n);const r=T(t,["preTunedModel"]);r!=null&&E(e,["preTunedModel"],r);const i=T(t,["trainingDataset"]);i!=null&&E(e,["tuningTask","trainingData"],nSe(i));const s=T(t,["config"]);return s!=null&&E(e,["config"],rSe(s,e)),e}function sSe(t){const e={},n=T(t,["name"]);n!=null&&E(e,["_url","name"],n);const r=T(t,["config"]);return r!=null&&E(e,["config"],r),e}function aSe(t,e){const n={},r=T(t,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=T(t,["pageToken"]);e!==void 0&&i!=null&&E(e,["_query","pageToken"],i);const s=T(t,["filter"]);return e!==void 0&&s!=null&&E(e,["_query","filter"],s),n}function oSe(t){const e={},n=T(t,["config"]);return n!=null&&E(e,["config"],aSe(n,e)),e}function lSe(t){const e={},n=T(t,["name"]);n!=null&&E(e,["_url","name"],n);const r=T(t,["config"]);return r!=null&&E(e,["config"],r),e}function cSe(t,e){const n={},r=T(t,["gcsUri"]);e!==void 0&&r!=null&&E(e,["supervisedTuningSpec","trainingDatasetUri"],r);const i=T(t,["vertexDatasetResource"]);if(e!==void 0&&i!=null&&E(e,["supervisedTuningSpec","trainingDatasetUri"],i),T(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function uSe(t,e){const n={},r=T(t,["gcsUri"]);r!=null&&E(n,["validationDatasetUri"],r);const i=T(t,["vertexDatasetResource"]);return e!==void 0&&i!=null&&E(e,["supervisedTuningSpec","trainingDatasetUri"],i),n}function dSe(t,e){const n={},r=T(t,["validationDataset"]);e!==void 0&&r!=null&&E(e,["supervisedTuningSpec"],uSe(r,n));const i=T(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&E(e,["tunedModelDisplayName"],i);const s=T(t,["description"]);e!==void 0&&s!=null&&E(e,["description"],s);const a=T(t,["epochCount"]);e!==void 0&&a!=null&&E(e,["supervisedTuningSpec","hyperParameters","epochCount"],a);const o=T(t,["learningRateMultiplier"]);e!==void 0&&o!=null&&E(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],o);const l=T(t,["exportLastCheckpointOnly"]);e!==void 0&&l!=null&&E(e,["supervisedTuningSpec","exportLastCheckpointOnly"],l);const c=T(t,["preTunedModelCheckpointId"]);c!=null&&E(n,["preTunedModel","checkpointId"],c);const u=T(t,["adapterSize"]);if(e!==void 0&&u!=null&&E(e,["supervisedTuningSpec","hyperParameters","adapterSize"],u),T(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(T(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const f=T(t,["labels"]);return e!==void 0&&f!=null&&E(e,["labels"],f),n}function fSe(t){const e={},n=T(t,["baseModel"]);n!=null&&E(e,["baseModel"],n);const r=T(t,["preTunedModel"]);r!=null&&E(e,["preTunedModel"],r);const i=T(t,["trainingDataset"]);i!=null&&E(e,["supervisedTuningSpec","trainingDatasetUri"],cSe(i,e));const s=T(t,["config"]);return s!=null&&E(e,["config"],dSe(s,e)),e}function hSe(t){const e={},n=T(t,["name"]);n!=null&&E(e,["model"],n);const r=T(t,["name"]);return r!=null&&E(e,["endpoint"],r),e}function tK(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["name"]);r!=null&&E(e,["name"],r);const i=T(t,["state"]);i!=null&&E(e,["state"],DG(i));const s=T(t,["createTime"]);s!=null&&E(e,["createTime"],s);const a=T(t,["tuningTask","startTime"]);a!=null&&E(e,["startTime"],a);const o=T(t,["tuningTask","completeTime"]);o!=null&&E(e,["endTime"],o);const l=T(t,["updateTime"]);l!=null&&E(e,["updateTime"],l);const c=T(t,["description"]);c!=null&&E(e,["description"],c);const u=T(t,["baseModel"]);u!=null&&E(e,["baseModel"],u);const f=T(t,["_self"]);f!=null&&E(e,["tunedModel"],hSe(f));const h=T(t,["customBaseModel"]);h!=null&&E(e,["customBaseModel"],h);const p=T(t,["experiment"]);p!=null&&E(e,["experiment"],p);const v=T(t,["labels"]);v!=null&&E(e,["labels"],v);const g=T(t,["outputUri"]);g!=null&&E(e,["outputUri"],g);const y=T(t,["pipelineJob"]);y!=null&&E(e,["pipelineJob"],y);const b=T(t,["serviceAccount"]);b!=null&&E(e,["serviceAccount"],b);const _=T(t,["tunedModelDisplayName"]);return _!=null&&E(e,["tunedModelDisplayName"],_),e}function pSe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=T(t,["tunedModels"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>tK(a))),E(e,["tuningJobs"],s)}return e}function mSe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["name"]);r!=null&&E(e,["name"],r);const i=T(t,["metadata"]);i!=null&&E(e,["metadata"],i);const s=T(t,["done"]);s!=null&&E(e,["done"],s);const a=T(t,["error"]);return a!=null&&E(e,["error"],a),e}function gSe(t){const e={},n=T(t,["checkpointId"]);n!=null&&E(e,["checkpointId"],n);const r=T(t,["epoch"]);r!=null&&E(e,["epoch"],r);const i=T(t,["step"]);i!=null&&E(e,["step"],i);const s=T(t,["endpoint"]);return s!=null&&E(e,["endpoint"],s),e}function ySe(t){const e={},n=T(t,["model"]);n!=null&&E(e,["model"],n);const r=T(t,["endpoint"]);r!=null&&E(e,["endpoint"],r);const i=T(t,["checkpoints"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>gSe(a))),E(e,["checkpoints"],s)}return e}function eN(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["name"]);r!=null&&E(e,["name"],r);const i=T(t,["state"]);i!=null&&E(e,["state"],DG(i));const s=T(t,["createTime"]);s!=null&&E(e,["createTime"],s);const a=T(t,["startTime"]);a!=null&&E(e,["startTime"],a);const o=T(t,["endTime"]);o!=null&&E(e,["endTime"],o);const l=T(t,["updateTime"]);l!=null&&E(e,["updateTime"],l);const c=T(t,["error"]);c!=null&&E(e,["error"],c);const u=T(t,["description"]);u!=null&&E(e,["description"],u);const f=T(t,["baseModel"]);f!=null&&E(e,["baseModel"],f);const h=T(t,["tunedModel"]);h!=null&&E(e,["tunedModel"],ySe(h));const p=T(t,["preTunedModel"]);p!=null&&E(e,["preTunedModel"],p);const v=T(t,["supervisedTuningSpec"]);v!=null&&E(e,["supervisedTuningSpec"],v);const g=T(t,["tuningDataStats"]);g!=null&&E(e,["tuningDataStats"],g);const y=T(t,["encryptionSpec"]);y!=null&&E(e,["encryptionSpec"],y);const b=T(t,["partnerModelTuningSpec"]);b!=null&&E(e,["partnerModelTuningSpec"],b);const _=T(t,["customBaseModel"]);_!=null&&E(e,["customBaseModel"],_);const w=T(t,["experiment"]);w!=null&&E(e,["experiment"],w);const C=T(t,["labels"]);C!=null&&E(e,["labels"],C);const S=T(t,["outputUri"]);S!=null&&E(e,["outputUri"],S);const R=T(t,["pipelineJob"]);R!=null&&E(e,["pipelineJob"],R);const D=T(t,["serviceAccount"]);D!=null&&E(e,["serviceAccount"],D);const N=T(t,["tunedModelDisplayName"]);return N!=null&&E(e,["tunedModelDisplayName"],N),e}function vSe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=T(t,["tuningJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>eN(a))),E(e,["tuningJobs"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xSe extends Yf{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Bv(kf.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const r={tunedModelName:n.baseModel},i=Object.assign(Object.assign({},n),{preTunedModel:r});return i.baseModel=void 0,await this.tuneInternal(i)}else{const r=Object.assign({},n);return await this.tuneInternal(r)}else{const r=Object.assign({},n),i=await this.tuneMldevInternal(r);let s="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?s=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(s=i.name.split("/operations/")[0]),{name:s,state:H4.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=sSe(e);return o=Ft("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>eN(u))}else{const c=YCe(e);return o=Ft("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>tK(u))}}async listInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=oSe(e);return o=Ft("tuningJobs",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=vSe(u),h=new cO;return Object.assign(h,f),h})}else{const c=ZCe(e);return o=Ft("tunedModels",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=pSe(u),h=new cO;return Object.assign(h,f),h})}}async cancel(e){var n,r,i,s;let a="",o={};if(this.apiClient.isVertexAI()){const l=lSe(e);a=Ft("{name}:cancel",l._url),o=l._query,delete l.config,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=eSe(e);a=Ft("{name}:cancel",l._url),o=l._query,delete l.config,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async tuneInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=fSe(e);return s=Ft("tuningJobs",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>eN(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=iSe(e);return s=Ft("tunedModels",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>mSe(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _Se{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const bSe=1024*1024*8,wSe=3,TSe=1e3,ESe=2,ZS="x-goog-upload-status";async function CSe(t,e,n){var r,i,s;let a=0,o=0,l=new $4(new Response),c="upload";for(a=t.size;o<a;){const f=Math.min(bSe,a-o),h=t.slice(o,o+f);o+f>=a&&(c+=", finalize");let p=0,v=TSe;for(;p<wSe&&(l=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(o),"Content-Length":String(f)}}}),!(!((r=l==null?void 0:l.headers)===null||r===void 0)&&r[ZS]));)p++,await DSe(v),v=v*ESe;if(o+=f,((i=l==null?void 0:l.headers)===null||i===void 0?void 0:i[ZS])!=="active")break;if(a<=o)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const u=await(l==null?void 0:l.json());if(((s=l==null?void 0:l.headers)===null||s===void 0?void 0:s[ZS])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return u.file}async function SSe(t){return{size:t.size,type:t.type}}function DSe(t){return new Promise(e=>setTimeout(e,t))}class ASe{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await CSe(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await SSe(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NSe{create(e,n,r){return new ISe(e,n,r)}}class ISe{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const FO="x-goog-api-key";class kSe{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(FO)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(FO,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const RSe="gl-node/";class MO{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Wve(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new kSe(this.apiKey);this.apiClient=new YEe({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:RSe+"web",uploader:new ASe,downloader:new _Se}),this.models=new yCe(this.apiClient),this.live=new uCe(this.apiClient,i,new NSe),this.batches=new Pxe(this.apiClient),this.chats=new V2e(this.models,this.apiClient),this.caches=new L2e(this.apiClient),this.files=new e_e(this.apiClient),this.operations=new vCe(this.apiClient),this.authTokens=new JCe(this.apiClient),this.tunings=new xSe(this.apiClient)}}if(yr.Quill){const t=yr.Quill.import("attributors/style/size");t.whitelist=["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px"],yr.Quill.register("attributors/style/size",t,!0)}const PSe=t=>t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,""),FSe=()=>{var le;const{blogPosts:t,addBlogPost:e,updateBlogPost:n,deleteBlogPost:r}=rn(),[i,s]=q.useState([]),[a,o]=q.useState({isOpen:!1,mode:"create",post:null}),[l,c]=q.useState({title:"",content:{},publishedAt:"",tags:[]}),[u,f]=q.useState(!1),[h,p]=q.useState("ar"),[v,g]=q.useState(""),[y,b]=q.useState([]),[_,w]=q.useState(!1),[C,S]=q.useState(!1),[R,D]=q.useState(null),[N,k]=q.useState(""),[F,P]=q.useState(""),[I,U]=q.useState(!1),[O,K]=q.useState(!1),[X,J]=q.useState([]),[ne,z]=q.useState(!1);q.useEffect(()=>{const he=[...t].sort((_e,ie)=>{const ce=_e.publishedAt?_e.publishedAt.toDate():_e.createdAt.toDate();return(ie.publishedAt?ie.publishedAt.toDate():ie.createdAt.toDate()).getTime()-ce.getTime()});s(he)},[t]),q.useEffect(()=>{if(a.mode==="create"&&p("ar"),a.isOpen){const he=new Set;t.forEach(_e=>{_e.content&&_e.content[h]&&_e.tags&&_e.tags.split(",").forEach(ce=>{ce.trim()&&he.add(ce.trim())})}),b(Array.from(he).sort())}},[a.isOpen,a.mode,h,t]);const Q=()=>{const he=new Date().toISOString().split("T")[0];c({title:"",content:{},publishedAt:he,tags:[]}),p("ar"),o({isOpen:!0,mode:"create",post:null})},B=he=>{const _e=he.publishedAt?he.publishedAt.toDate().toISOString().split("T")[0]:"";c({title:he.title,content:he.content||{},publishedAt:_e,tags:he.tags?he.tags.split(",").map(ce=>ce.trim()).filter(Boolean):[]});const ie=Object.keys(he.content||{});ie.includes("ar")?p("ar"):ie.length>0?p(ie[0]):p("ar"),o({isOpen:!0,mode:"edit",post:he})},j=()=>{o({isOpen:!1,mode:"create",post:null})},W=async he=>{var ie;const _e=await Ps("tagTitleLists",he);k(((ie=_e==null?void 0:_e.titles)==null?void 0:ie.join(`
`))||""),D(he),P(he),S(!0)},G=()=>{S(!1),D(null),k(""),P("")},Y=async()=>{if(R){const he=N.split(`
`).map(_e=>_e.trim()).filter(Boolean);await gr("tagTitleLists",{tag:R,titles:he}),G()}},ee=async()=>{if(F){U(!0);try{const ie=(await new MO({apiKey:"PLACEHOLDER_API_KEY"}).models.generateContent({model:"gemini-2.5-flash",contents:`Generate a list of 10 to 15 SEO-friendly blog post titles in Arabic about the topic: "${F}". Return only the list of titles, with each title on a new line. Do not include numbers or bullet points.`})).text||"";k(ce=>(ce?ce+`
`:"")+ie.trim())}catch(he){console.error("AI Title Generation Error:",he),alert("  .")}finally{U(!1)}}},ae=async he=>{if(he&&!l.tags.includes(he)){const _e=l.title;if(c(ie=>({...ie,tags:[...ie.tags,he]})),!_e.trim()){const ie=await Ps("tagTitleLists",he);if(ie&&ie.titles&&ie.titles.length>0){const ce=ie.titles,ge=Math.floor(Math.random()*ce.length),ve=ce[ge];c(Se=>({...Se,title:ve}))}}}g("")},de=he=>{c(_e=>({..._e,tags:_e.tags.filter(ie=>ie!==he)}))},fe=he=>{if(he.key==="Enter"||he.key===","){he.preventDefault();const _e=v.trim();ae(_e)}},De=he=>{ae(he)},Pe=async()=>{const he=/(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:watch\?v=|embed\/|v\/)|youtu\.be\/)([\w-]{11})(?:\S+)?/,_e=l.title.trim().match(he);if(_e){f(!0);try{const ve=_e[0],Se=pu.find(it=>it.code===h),Oe=Se?Se.name:"Arabic",Te=`Based on the content of this YouTube video: ${ve}, write a detailed and well-formatted blog post in ${Oe}. The blog post should be in HTML format, using tags like <h2>, <h3>, <p>, and <ul>. Also, generate a compelling and SEO-friendly title for the blog post based on the video's content. Return the result as a single JSON object with two keys: "title" (a string for the new blog post title) and "content" (an HTML string for the blog post body).`;c(it=>({...it,content:{...it.content,[h]:""}}));const Ge=(await ic({model:"gemini-2.5-flash",contents:Te,config:{responseMimeType:"application/json"}})).text.replace(/^```json\s*|```\s*$/g,""),rt=JSON.parse(Ge);if(rt.title&&rt.content)c(it=>({...it,title:rt.title,content:{...it.content,[h]:rt.content}}));else throw new Error("AI response did not contain 'title' and 'content' keys.")}catch(ve){console.error("AI content generation from YouTube failed:",ve),alert("     .          .")}finally{f(!1)}return}const ie=l.content[h]||"",ce=l.title.trim()!=="",ge=ie.replace(/<[^>]*>?/gm,"").trim()!=="";if(!ce&&!ge){alert("          .");return}f(!0);try{if(ge){const ve=pu.find(rt=>rt.code===h),Se=ve?ve.name:h,Oe=`Analyze the following draft text for a blog post.
                1. Generate a compelling and SEO-friendly title in ${Se}.
                2. Expand the draft into a full, well-formatted blog post in ${Se}, using HTML tags like <h2>, <h3>, <p>, and <ul>.
                3. Return the result as a single JSON object with two keys: "title" (a string) and "content" (an HTML string).
    
                Draft text: "${ie.replace(/<[^>]*>?/gm," ")}"`,Le=(await ic({model:"gemini-2.5-flash",contents:Oe,config:{responseMimeType:"application/json"}})).text.replace(/^```json\s*|```\s*$/g,""),Ge=JSON.parse(Le);c(rt=>({...rt,title:Ge.title,content:{...rt.content,[h]:Ge.content}}))}else{const Se={ar:`      : "${l.title}".         HTML     (h2)   (h3)  (p)    (ul/li).    .`,en:`Write a detailed article in English about the topic: "${l.title}". The article should be well-formatted using HTML, with main headings (h2), subheadings (h3), paragraphs (p), and possibly bullet points (ul/li). Make the content rich and informative.`,fr:`Rdigez un article dtaill en franais sur le sujet : "${l.title}". L'article doit tre bien format en HTML, avec des titres principaux (h2), des sous-titres (h3), des paragraphes (p), et ventuellement des listes  puces (ul/li). Assurez-vous que le contenu est riche et informatif.`,de:`Schreiben Sie einen detaillierten Artikel auf Deutsch zum Thema: "${l.title}". Der Artikel sollte gut mit HTML formatiert sein, mit Hauptberschriften (h2), Unterberschriften (h3), Abstzen (p) und mglicherweise Aufzhlungspunkten (ul/li). Machen Sie den Inhalt reichhaltig und informativ.`,es:`Escribe un artculo detallado en espaol sobre el tema: "${l.title}". El artculo debe estar bien formateado usando HTML, con encabezados principales (h2), subttulos (h3), prrafos (p) y posiblemente listas con vietas (ul/li). Haz que el contenido sea rico e informativo.`,tr:`"${l.title}" konusunda Trke detayl bir makale yazn. Makale, ana balklar (h2), alt balklar (h3), paragraflar (p) ve muhtemelen madde iaretli listeler (ul/li) kullanlarak HTML ile iyi bir ekilde biimlendirilmelidir. erii zengin ve bilgilendirici yapn.`,ja:`${l.title}h2h3pul/liHTML`}[h]||`Write a detailed article about: "${l.title}". Format it with HTML (h2, p, ul).`;c(Ue=>({...Ue,content:{...Ue.content,[h]:""}}));const Te=(await ic({model:"gemini-2.5-flash",contents:Se})).text||"";c(Ue=>({...Ue,content:{...Ue.content,[h]:Te}}))}}catch(ve){console.error("AI content generation failed:",ve),alert("  .       JSON  .        .")}finally{f(!1)}},me=async()=>{var ce;const he=(ce=l.content[h])==null?void 0:ce.replace(/<[^>]*>?/gm," ").trim(),_e=l.tags.join(", "),ie=he||_e;if(!ie){alert("       .");return}K(!0),z(!0),J([]);try{const Se=(await new MO({apiKey:"PLACEHOLDER_API_KEY"}).models.generateContent({model:"gemini-2.5-flash",contents:`Generate 5 to 10 SEO-friendly blog post titles based on the following topic/content: "${ie}". Return the result as a JSON array of strings. Example: ["Title 1", "Title 2"]`,config:{responseMimeType:"application/json"}})).text.replace(/^```json\s*|```\s*$/g,""),Oe=JSON.parse(Se);J(Oe)}catch(ge){console.error("AI Title Suggestion Error:",ge),alert("  ."),K(!1)}finally{z(!1)}},je=he=>{c(_e=>({..._e,title:he})),K(!1)},V=async he=>{he.preventDefault();const _e=l.publishedAt?new Date(l.publishedAt):null,ie=PSe(l.title),{content:ce,...ge}=l,ve=Object.fromEntries(Object.entries(ce).filter(([,Oe])=>Oe&&String(Oe).replace(/<[^>]*>?/gm,"").trim()!==""));if(Object.keys(ve).length===0){alert("          .");return}const Se=l.tags.join(",");if(a.mode==="create"){const Oe={...ge,tags:Se,content:ve,publishedAt:_e?Br.firestore.Timestamp.fromDate(_e):void 0,slug:ie,author:"Admin",createdAt:Br.firestore.Timestamp.now(),enabled:!1},Te=await gp.create(Oe);e(Te)}else if(a.post){const Oe={...ge,tags:Se,content:ve,publishedAt:_e?Br.firestore.Timestamp.fromDate(_e):void 0,slug:ie};await gp.update(a.post.id,Oe),n(a.post.id,{...a.post,...Oe})}j()},ye=async he=>{const _e=i.find(ie=>ie.id===he);_e&&(await gp.toggleStatus(he,_e.enabled),n(he,{enabled:!_e.enabled}))},be=async he=>{window.confirm("        ")&&(await gp.delete(he),r(he))},oe=he=>{const _e=Object.keys(he.content||{});return _e.includes("ar")?`/blog/${he.slug}`:_e.length>0?`/blog/${_e[0]}/${he.slug}`:`/blog/${he.slug}`},re={toolbar:[[{size:["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px",!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"},{align:[]}],["link","image","video"],["clean"]]};return d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:" "}),d.jsx("button",{onClick:Q,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"+   "})]}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:i.map(he=>{const _e=he.publishedAt?he.publishedAt.toDate():he.createdAt.toDate();return d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:he.title}),d.jsx("td",{className:"p-3 text-gray-600",children:_e.toLocaleDateString("ar-DZ")}),d.jsx("td",{className:"p-3",children:d.jsx("button",{onClick:()=>ye(he.id),className:`px-3 py-1 text-xs font-semibold rounded-full ${he.enabled?"text-green-800 bg-green-200":"text-gray-800 bg-gray-200"}`,children:he.enabled?"":""})}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse",children:[d.jsx(tn,{to:oe(he),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>B(he),className:"text-green-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>be(he.id),className:"text-red-600 hover:underline text-sm font-semibold",children:""})]})]},he.id)})})]})})}),a.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl",children:d.jsxs("form",{onSubmit:V,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:a.mode==="create"?"  ":" "})}),d.jsxs("div",{className:"p-6 space-y-6 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"  ( )"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",id:"title",value:l.title,onChange:he=>c(_e=>({..._e,title:he.target.value})),required:!0,className:"block w-full px-3 py-2 pr-10 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"}),d.jsx("button",{type:"button",onClick:me,className:"absolute top-1/2 right-2 -translate-y-1/2 p-2 text-purple-600 hover:bg-purple-100 rounded-full",title:"   ",children:d.jsx(ea,{})})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"publishedAt",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"date",id:"publishedAt",value:l.publishedAt,onChange:he=>c(_e=>({..._e,publishedAt:he.target.value})),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"    ."})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700 mb-1",children:" (Tags)"}),d.jsxs("div",{className:"flex flex-wrap items-center gap-2 p-2 border rounded-md bg-gray-50",children:[l.tags.map(he=>d.jsxs("div",{className:"flex items-center gap-1 bg-green-100 text-green-800 rounded-full px-3 py-1 text-sm",children:[d.jsx("span",{children:he}),d.jsx("button",{type:"button",onClick:()=>W(he),className:"text-green-600 hover:text-green-800",title:`    "${he}"`,children:d.jsx(Vme,{size:12})}),d.jsx("button",{type:"button",onClick:()=>de(he),className:"text-green-600 hover:text-green-800 font-bold",children:""})]},he)),d.jsxs("div",{className:"relative flex-grow",children:[d.jsx("input",{type:"text",value:v,onChange:he=>g(he.target.value),onKeyDown:fe,onFocus:()=>w(!0),onBlur:()=>setTimeout(()=>w(!1),150),placeholder:" ...",className:"bg-transparent focus:outline-none p-1 min-w-[120px]"}),_&&y.length>0&&d.jsx("div",{className:"absolute top-full left-0 mt-1 w-full bg-white border rounded-md shadow-lg z-10 max-h-40 overflow-y-auto",children:y.filter(he=>!l.tags.includes(he)&&he.toLowerCase().includes(v.toLowerCase())).map(he=>d.jsx("div",{onMouseDown:()=>De(he),className:"px-3 py-2 cursor-pointer hover:bg-gray-100",children:he},he))})]})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" Enter   (,)  ."})]}),d.jsxs("div",{className:"space-y-4 border-t pt-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("select",{value:h,onChange:he=>p(he.target.value),className:"block w-full max-w-xs px-3 py-2 bg-white border border-gray-300 rounded-md",children:pu.map(he=>d.jsx("option",{value:he.code,children:he.name},he.code))})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" (",((le=pu.find(he=>he.code===h))==null?void 0:le.name)||h,")"]}),d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx("div",{className:"flex-grow",children:d.jsx(yr,{theme:"snow",value:l.content[h]||"",onChange:he=>{c(_e=>({..._e,content:{..._e.content,[h]:he}}))},modules:re})}),d.jsx("button",{type:"button",onClick:Pe,disabled:u,className:"p-2 bg-purple-100 text-purple-700 rounded-md hover:bg-purple-200",title:"     ",children:u?d.jsx(St,{className:"animate-spin"}):d.jsx(ea,{})})]})]})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:j,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:""})]})]})})}),C&&R&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[60] flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",children:[d.jsxs("div",{className:"p-6 border-b",children:[d.jsxs("h2",{className:"text-xl font-bold",children:['  : "',R,'"']}),d.jsx("p",{className:"text-sm text-gray-500",children:"          ."})]}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[60vh] overflow-y-auto",children:[d.jsxs("div",{className:"p-4 border rounded-md bg-gray-50 space-y-2",children:[d.jsx("label",{htmlFor:"title-gen-prompt",className:"font-semibold text-sm",children:"   "}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",id:"title-gen-prompt",value:F,onChange:he=>P(he.target.value),placeholder:" ...",className:"flex-grow px-3 py-2 border rounded-md"}),d.jsxs("button",{type:"button",onClick:ee,disabled:I,className:"bg-purple-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-purple-700 flex items-center gap-2",children:[I?d.jsx(St,{className:"animate-spin"}):d.jsx(ea,{}),d.jsx("span",{children:""})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"titles-textarea",className:"font-semibold text-sm",children:"  (   )"}),d.jsx("textarea",{id:"titles-textarea",value:N,onChange:he=>k(he.target.value),rows:10,className:"w-full mt-1 p-2 border rounded-md"})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-between",children:[d.jsx("button",{type:"button",onClick:G,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"button",onClick:Y,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700",children:" "})]})]})}),O&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[60] flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg",children:[d.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[d.jsx("h2",{className:"text-xl font-bold",children:" "}),d.jsx("button",{onClick:()=>K(!1),className:"text-gray-400 hover:text-gray-600",children:""})]}),d.jsx("div",{className:"p-6 min-h-[200px] max-h-[60vh] overflow-y-auto",children:ne?d.jsx("div",{className:"flex justify-center items-center h-full",children:d.jsx(St,{className:"animate-spin text-2xl text-purple-600"})}):d.jsx("ul",{className:"space-y-2",children:X.map((he,_e)=>d.jsx("li",{children:d.jsx("button",{onClick:()=>je(he),className:"w-full text-right p-3 bg-gray-50 rounded-md hover:bg-green-100 border border-transparent hover:border-green-300",children:he})},_e))})})]})})]})};var _2={exports:{}},MSe=_2.exports,UO;function USe(){return UO||(UO=1,(function(t,e){(function(n,r){r()})(MSe,function(){function n(c,u){return typeof u>"u"?u={autoBom:!1}:typeof u!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function r(c,u,f){var h=new XMLHttpRequest;h.open("GET",c),h.responseType="blob",h.onload=function(){l(h.response,u,f)},h.onerror=function(){console.error("could not download file")},h.send()}function i(c){var u=new XMLHttpRequest;u.open("HEAD",c,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function s(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(u)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof fs=="object"&&fs.global===fs?fs:void 0,o=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(c,u,f){var h=a.URL||a.webkitURL,p=document.createElement("a");u=u||c.name||"download",p.download=u,p.rel="noopener",typeof c=="string"?(p.href=c,p.origin===location.origin?s(p):i(p.href)?r(c,u,f):s(p,p.target="_blank")):(p.href=h.createObjectURL(c),setTimeout(function(){h.revokeObjectURL(p.href)},4e4),setTimeout(function(){s(p)},0))}:"msSaveOrOpenBlob"in navigator?function(c,u,f){if(u=u||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(n(c,f),u);else if(i(c))r(c,u,f);else{var h=document.createElement("a");h.href=c,h.target="_blank",setTimeout(function(){s(h)})}}:function(c,u,f,h){if(h=h||open("","_blank"),h&&(h.document.title=h.document.body.innerText="downloading..."),typeof c=="string")return r(c,u,f);var p=c.type==="application/octet-stream",v=/constructor/i.test(a.HTMLElement)||a.safari,g=/CriOS\/[\d]+/.test(navigator.userAgent);if((g||p&&v||o)&&typeof FileReader<"u"){var y=new FileReader;y.onloadend=function(){var w=y.result;w=g?w:w.replace(/^data:[^;]*;/,"data:attachment/file;"),h?h.location.href=w:location=w,h=null},y.readAsDataURL(c)}else{var b=a.URL||a.webkitURL,_=b.createObjectURL(c);h?h.location=_:location.href=_,h=null,setTimeout(function(){b.revokeObjectURL(_)},4e4)}});a.saveAs=l.saveAs=l,t.exports=l})})(_2)),_2.exports}var eD=USe();const OSe=t=>t.replace(/<!--[\s\S]*?-->/g,"").replace(/>\s+</g,"><").replace(/\n/g,"").replace(/\s{2,}/g," "),Ka=t=>t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):"",OO=t=>t?t.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r"):"",LO={clipboard:'<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1h-12c-1.1 0-2 .9-2 2v14h2v-14h12v-2zm3 4h-11c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2v-14c0-1.1-.9-2-2-2zm0 16h-11v-14h11v14z"/></svg>'},LSe=(t,e,n)=>{const r=encodeURIComponent(t),i=encodeURIComponent(e),s=OO(e),a=OO(n.replace(/<[^>]*>/g,"").substring(0,155));return`
        <div class="fixed bottom-6 left-6 z-40 flex flex-col items-center gap-3">
            <a href="https://www.linkedin.com/shareArticle?mini=true&url=${r}&title=${i}" target="_blank" rel="noopener noreferrer" class="w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-transform hover:scale-110 bg-blue-700"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg></a>
            <a href="https://pinterest.com/pin/create/button/?url=${r}&description=${i}" target="_blank" rel="noopener noreferrer" class="w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-transform hover:scale-110 bg-red-600"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0c-6.627 0-12 5.372-12 12 0 5.084 3.163 9.426 7.627 11.174-.105-.949-.2-2.405.042-3.441.218-.937 1.407-5.965 1.407-5.965s-.359-.719-.359-1.782c0-1.668.967-2.914 2.171-2.914 1.023 0 1.518.769 1.518 1.69 0 1.029-.655 2.568-.994 3.995-.283 1.194.599 2.169 1.777 2.169 2.133 0 3.772-2.249 3.772-5.495 0-2.873-2.064-4.882-5.012-4.882-3.414 0-5.418 2.561-5.418 5.207 0 1.031.397 2.138.893 2.738.098.119.117.223.084.345l-.333 1.36c-.053.22-.174.267-.402.161-1.499-.698-2.436-2.889-2.436-4.649 0-3.785 2.75-7.262 7.929-7.262 4.163 0 7.398 2.967 7.398 6.931 0 4.136-2.607 7.464-6.227 7.464-1.216 0-2.359-.631-2.75-1.378l-.748 2.853c-.271 1.043-1.002 2.35-1.492 3.146 1.124.343 2.318.535 3.554.535 6.627 0 12-5.373 12-12 0-6.628-5.373-12-12-12z"/></svg></a>
            <a href="https://www.reddit.com/submit?url=${r}&title=${i}" target="_blank" rel="noopener noreferrer" class="w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-transform hover:scale-110 bg-orange-500"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M24 11.779c0-1.459-1.192-2.645-2.657-2.645-.717 0-1.365.286-1.84.746-1.81-1.191-4.259-1.982-6.971-2.146l1.463-4.64-4.98-1.655-1.463 4.64c-2.83.208-5.353 1.073-7.163 2.294-.475-.46-.b23-.746-1.84-.746-1.465 0-2.657 1.186-2.657 2.645 0 .972.533 1.811 1.317 2.271-.052.282-.084.569-.084.867 0 3.911 4.808 7.083 10.741 7.083s10.741-3.172 10.741-7.083c0-.298-.032-.585-.084-.867.784-.46 1.317-1.3 1.317-2.271zm-15.424 1.221c-.759.759-1.992.759-2.751 0-.759-.759-.759-1.991 0-2.751.759-.759 1.992-.759 2.751 0 .759.759.759 1.992 0 2.751zm9.113 0c-.759.759-1.992.759-2.751 0-.759-.759-.759-1.991 0-2.751.759-.759 1.992-.759 2.751 0 .759.759.759 1.992 0 2.751zm-4.129 4.06c-1.749 0-3.303-.732-4.437-1.916.347.086.703.131 1.066.131 3.237 0 5.862-2.625 5.862-5.862 0-.354-.031-.699-.091-1.035 1.568.12 2.949.7 4.095 1.654-1.321 2.04-3.733 3.447-6.5 4.028z"/></svg></a>
            <a href="https://www.facebook.com/sharer/sharer.php?u=${r}&quote=${i}" target="_blank" rel="noopener noreferrer" class="w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-transform hover:scale-110 bg-blue-600"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"/></svg></a>
            <button class="copy-details-btn w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-all hover:scale-110 bg-gray-600" data-title="${Ka(s)}" data-snippet="${Ka(a)}" data-url="${Ka(t)}"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1h-12c-1.1 0-2 .9-2 2v14h2v-14h12v-2zm3 4h-11c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2v-14c0-1.1-.9-2-2-2zm0 16h-11v-14h11v14z"/></svg></button>
        </div>
    `},Km=({title:t,description:e,bodyContent:n,countryCode:r,lang:i,siteSettings:s,pages:a,socialShare:o,imageUrl:l})=>{var b,_,w,C;const u=r==="global"?"dz":r,f=i==="ar"?"rtl":"ltr",h=((b=s==null?void 0:s.seo)==null?void 0:b[u])||((_=s==null?void 0:s.seo)==null?void 0:_.default);(w=s==null?void 0:s.social)!=null&&w[u]||((C=s==null?void 0:s.social)==null||C.default),a.filter(S=>S.enabled);const p=l||"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEimLwMLs6qcyccDKdYEHdje2p1XUaPI8S-9PAJYncZ3wzSoXugwzzDao7WN8Sf20JrNVWgqaZQ5ccW1qCjeGWWK4lSmIKMLrSzQ271AUWJ0SkxU-QozTrUR7weQOk4sJBRohL_82XOZKKsyKla87ptSbvzjJn6tgDwb2qU-vHpDGxE1tX3fyG5Jqiev-nY/w640-h640/64b156e3-b2fb-4528-8151-80f70afdc68f.jpg",v=`
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-2BKKWGCXWX"><\/script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-2BKKWGCXWX');
        <\/script>
    `,g=`
<script>
document.addEventListener('DOMContentLoaded', function() {
    const copyButtons = document.querySelectorAll('.copy-details-btn');
    
    if (copyButtons.length > 0) {
        const handleCopyFallback = (text, btn) => {
            navigator.clipboard.writeText(text).then(() => {
                const originalContent = btn.innerHTML;
                btn.innerHTML = '<span class="text-xs"> !</span>';
                setTimeout(() => {
                    btn.innerHTML = \`${LO.clipboard}\`;
                }, 2000);
            });
        };

        copyButtons.forEach(btn => {
            btn.addEventListener('click', function(e) {
                e.preventDefault();
                e.stopPropagation();
                const button = this;
                const title = button.dataset.title || '';
                const snippet = button.dataset.snippet || '';
                const url = button.dataset.url || '';
                
                const textPlain = \`\${title}\\n\\n\${snippet}\\n\\n\${url}\`;
                const textHtml = \`
                    <p style="font-weight: bold; font-family: sans-serif; font-size: 16px;">\${title}</p>
                    <div style="font-family: sans-serif; font-size: 14px;"><p>\${snippet}</p></div>
                    <a href="\${url}">\${url}</a>
                \`;

                try {
                    if (typeof ClipboardItem === 'undefined') {
                        handleCopyFallback(textPlain, button);
                        return;
                    }
                    const blobHtml = new Blob([textHtml], { type: 'text/html' });
                    const blobPlain = new Blob([textPlain], { type: 'text/plain' });
                    
                    navigator.clipboard.write([
                        new ClipboardItem({
                            'text/html': blobHtml,
                            'text/plain': blobPlain,
                        })
                    ]).then(() => {
                        const originalContent = button.innerHTML;
                        button.innerHTML = '<span class="text-xs"> !</span>';
                        setTimeout(() => {
                            button.innerHTML = \`${LO.clipboard}\`;
                        }, 2000);
                    }, (err) => {
                        console.error('Async clipboard write failed, falling back to plain text: ', err);
                        handleCopyFallback(textPlain, button);
                    });
                } catch (error) {
                    console.error('Failed to use Clipboard API, falling back to writeText: ', error);
                    handleCopyFallback(textPlain, button);
                }
            });
        });
    }
});
<\/script>
    `,y=o?LSe(o.url,o.title,o.description):"";return`<!DOCTYPE html>
        <html lang="${i}" dir="${f}">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <link rel="icon" type="image/png" href="https://cyber-m.pages.dev/data/image/icon.png">
            <title>${Ka(t)}</title>
            <meta name="description" content="${Ka(e)}">
            
            <!-- Open Graph / Facebook -->
            <meta property="og:type" content="website">
            <meta property="og:url" content="${(o==null?void 0:o.url)||""}">
            <meta property="og:title" content="${Ka(t)}">
            <meta property="og:description" content="${Ka(e)}">
            <meta property="og:image" content="${p}">
            <meta property="og:image:secure_url" content="${p}">
            <meta property="og:image:width" content="640">
            <meta property="og:image:height" content="640">
            <meta property="og:site_name" content="${Ka((h==null?void 0:h.siteName)||"Gitut")}">

            <!-- Twitter -->
            <meta name="twitter:card" content="summary_large_image">
            <meta name="twitter:url" content="${(o==null?void 0:o.url)||""}">
            <meta name="twitter:title" content="${Ka(t)}">
            <meta name="twitter:description" content="${Ka(e)}">
            <meta name="twitter:image" content="${p}">

            <link rel="preconnect" href="https://cdn.tailwindcss.com" crossorigin>
            <link rel="preconnect" href="https://fonts.googleapis.com">
            <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
            <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
            <script src="https://cdn.tailwindcss.com/3.4.1?plugins=typography"><\/script>
            <style>body { font-family: 'Cairo', sans-serif; } .prose a { color: #16a34a; } .prose a:hover { color: #15803d; } .compact-prose p { margin-top: 0; margin-bottom: 0.25em; }</style>
            ${v}
            <script type="importmap">
{
  "imports": {
    "react/": "https://aistudiocdn.com/react@^18.2.0/",
    "react": "https://aistudiocdn.com/react@^18.2.0",
    "react-dom/": "https://aistudiocdn.com/react-dom@^18.2.0/",
    "react-router-dom": "https://aistudiocdn.com/react-router-dom@^7.8.2",
    "react-icons/": "https://aistudiocdn.com/react-icons@^5.5.0/",
    "@google/genai": "https://aistudiocdn.com/@google/genai@^1.16.0",
    "xlsx": "https://esm.sh/xlsx@0.18.5",
    "mammoth": "https://esm.sh/mammoth@1.7.2",
    "firebase/app": "https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js",
    "firebase/auth": "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js",
    "firebase/firestore": "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js",
    "firebase/storage": "https://www.gstatic.com/firebasejs/10.12.2/firebase-storage-compat.js",
    "firebase/": "https://aistudiocdn.com/firebase@^12.2.1/",
    "itty-router": "https://aistudiocdn.com/itty-router@^5.0.22",
    "firebase-admin/": "https://aistudiocdn.com/firebase-admin@^13.5.0/",
    "firebase-admin": "https://aistudiocdn.com/firebase-admin@^13.5.0",
    "jose": "https://aistudiocdn.com/jose@^6.1.0",
    "react-quill": "https://aistudiocdn.com/react-quill@^2.0.0",
    "jszip": "https://esm.sh/jszip@3.10.1",
    "file-saver": "https://esm.sh/file-saver@2.0.5"
  }
}
<\/script>
    <script src="https://accounts.google.com/gsi/client" async defer><\/script>
    <script src="https://apis.google.com/js/api.js" async defer><\/script>
        </head>
        <body class="bg-gray-100 text-gray-900">
            <div id="root">
                <div class="flex flex-col min-h-screen">
                    ${n}
                </div>
            </div>
            ${y}
            ${g}
            <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.3/build/qrcode.min.js"><\/script>
            <script src="https://unpkg.com/html5-qrcode@2.3.8/html5-qrcode.min.js"><\/script>
            <script src='https://cdn.jsdelivr.net/npm/tesseract.js@5/dist/tesseract.min.js'><\/script>
            <script src="https://cdn.jsdelivr.net/npm/gun/gun.js"><\/script>
            <script src="https://cdn.jsdelivr.net/npm/gun/sea.js"><\/script>
            <script type="module" crossorigin src="/assets/index.js"><\/script>
        </body>
        </html>`},jO=(t,e,n,r,i)=>{var p,v,g,y,b;const s=e==="global",a=s?"dz":e,o=Bm(a),l=s?`   | ${((v=(p=n==null?void 0:n.seo)==null?void 0:p.default)==null?void 0:v.siteName)||"Gitut"}`:`  | ${((y=(g=n==null?void 0:n.seo)==null?void 0:g[a])==null?void 0:y.siteName)||"Gitut"}`,c=s?"         Gitut.":`        Gitut  ${((b=va.ar.find(_=>_.code===a))==null?void 0:b.name)||a}.`,u=`
            <main class="flex-grow container mx-auto px-4 py-8">
                <div id="root">
                     <p class="text-center text-gray-500">   ...</p>
                </div>
            </main>
        `,h={url:`https://gitut.com${s?"/services/":`/${e}/services/`}`,title:l,description:c};return Km({title:l,description:c,bodyContent:u,countryCode:e,lang:o,siteSettings:n,pages:r,socialShare:h})},BO=(t,e,n,r)=>{var p,v;const i=Bm(e),s=Tme(i),a=`${t.title} | ${((v=(p=n==null?void 0:n.seo)==null?void 0:p[e])==null?void 0:v.siteName)||"Gitut"}`,o=t.content.replace(/<[^>]*>/g,"").substring(0,160),l=`https://gitut.com/${e}/page/${t.slug}/`,c=r.filter(g=>g.enabled&&g.id!==t.id&&(g.lang===i||!g.lang&&i==="ar")),u=c.length>0?`
            <aside class="md:col-span-1 space-y-6">
                <div class="bg-white p-4 rounded-lg shadow-lg border sticky top-24">
                    <h3 class="font-bold text-lg mb-3 text-gray-800 border-b pb-2">
                        ${s("relatedPages.title")}
                    </h3>
                    <div class="space-y-3">
                        ${c.map(g=>`
                            <a href="/${e}/page/${g.slug}/" class="block p-3 bg-gray-50 rounded-md border hover:border-green-400 hover:bg-green-50 transition-all">
                                <p class="font-semibold text-gray-900">${Ka(g.title)}</p>
                            </a>
                        `).join("")}
                    </div>
                </div>
            </aside>
        `:"",h=`
            <main class="flex-grow container mx-auto px-4 py-8">
                <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                    ${`
            <article class="md:col-span-3 bg-white rounded-lg shadow-xl p-6 md:p-10">
                <header class="mb-8 border-b pb-6">
                    <h1 class="text-4xl md:text-5xl font-bold text-gray-900 leading-tight">${Ka(t.title)}</h1>
                </header>
                <div class="prose prose-lg max-w-none text-gray-800 leading-relaxed">
                    ${t.content}
                </div>
            </article>
        `}
                    ${u}
                </div>
            </main>
        `;return Km({title:a,description:o,bodyContent:h,countryCode:e,lang:i,siteSettings:n,pages:r,socialShare:{url:l,title:t.title,description:o}})},VO=(t,e,n,r,i)=>{var v,g,y,b;const s=t.countryCode||"global",a=Bm(t.countryCode||"dz"),o=((g=(v=va[a])==null?void 0:v.find(_=>_.code===s))==null?void 0:g.name)||s,l=`   ${t.name}  ${o} | ${((b=(y=n==null?void 0:n.seo)==null?void 0:y[s])==null?void 0:b.siteName)||"Gitut"}`,c="description"in t&&t.description?t.description:"",u=c.replace(/<[^>]*>/g,"").substring(0,160),f=`
        <main class="flex-grow container mx-auto px-4 py-8">
            <div id="root">
                 <p class="text-center text-gray-500">   ...</p>
            </div>
        </main>
    `,h=`https://gitut.com/${s==="global"?"":s+"/"}${t.serviceType==="site"?"site":"doc"}/${t.slug}/`;return Km({title:l,description:u,bodyContent:f,countryCode:s,lang:a,siteSettings:n,pages:r,socialShare:{url:h,title:t.name,description:c},imageUrl:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEimLwMLs6qcyccDKdYEHdje2p1XUaPI8S-9PAJYncZ3wzSoXugwzzDao7WN8Sf20JrNVWgqaZQ5ccW1qCjeGWWK4lSmIKMLrSzQ271AUWJ0SkxU-QozTrUR7weQOk4sJBRohL_82XOZKKsyKla87ptSbvzjJn6tgDwb2qU-vHpDGxE1tX3fyG5Jqiev-nY/w640-h640/64b156e3-b2fb-4528-8151-80f70afdc68f.jpg"})},WO=(t,e,n,r)=>{const i=n,s=n==="en"?"Gitut Blog":n==="fr"?"Blog de Gitut":" Gitut",a="           .",o=`
        <main class="flex-grow container mx-auto px-4 py-8">
            <div id="root">
                <p class="text-center text-gray-500">  ...</p>
            </div>
        </main>
    `,u={url:`https://gitut.com/blog/${n==="ar"?"":`${n}/`}`,title:s,description:a};return Km({title:s,description:a,bodyContent:o,countryCode:"dz",lang:i,siteSettings:e,pages:r,socialShare:u})},qO=(t,e,n,r,i,s)=>{var u,f;const a=t.content&&t.content[r]||"",o=`
        <main class="flex-grow container mx-auto px-4 py-8">
            <div id="root">
                <p class="text-center text-gray-500">  ...</p>
            </div>
        </main>
    `,l=`${t.title} | ${((f=(u=n==null?void 0:n.seo)==null?void 0:u.default)==null?void 0:f.siteName)||"Gitut"}`,c=`https://gitut.com/blog/${r!=="ar"?r+"/":""}${t.slug}/`;return Km({title:l,description:a.replace(/<[^>]*>/g,"").substring(0,160),bodyContent:o,countryCode:"dz",lang:r,siteSettings:n,pages:s,socialShare:{url:c,title:t.title,description:a}})},jSe=(t,e,n)=>{var c,u;const r=Bm(t||"dz"),i=((c=e==null?void 0:e.seo)==null?void 0:c[t||"default"])||((u=e==null?void 0:e.seo)==null?void 0:u.default),s=(i==null?void 0:i.siteName)||"Gitut",a=(i==null?void 0:i.metaDescription)||"",l=Km({title:s,description:a,bodyContent:`
      <div id="root">
        <div class="flex flex-col min-h-screen items-center justify-center">
            <p class="text-center text-gray-500">   ...</p>
        </div>
      </div>
    `,countryCode:t||"global",lang:r,siteSettings:e,pages:n});return OSe(l)},BSe=()=>{const[t,e]=q.useState(null),[n,r]=q.useState(!1),[i,s]=q.useState(""),[a,o]=q.useState(""),[l,c]=q.useState(!1),{codes:u,refetchAdminData:f,siteSettings:h,services:p,blogPosts:v,cafes:g,pages:y,ads:b}=rn(),[_,w]=q.useState(!1),[C,S]=q.useState(""),[R,D]=q.useState(!1),[N,k]=q.useState(""),[F,P]=q.useState(!1),[I,U]=q.useState(""),[O,K]=q.useState(!1),[X,J]=q.useState(""),[ne,z]=q.useState(!1),[Q,B]=q.useState(!1),[j,W]=q.useState(""),[G,Y]=q.useState(!1),[ee,ae]=q.useState(!1),[de,fe]=q.useState(""),[De,Pe]=q.useState(!1),[me,je]=q.useState(""),[V,ye]=q.useState(!1),[be,oe]=q.useState(!1),[re,le]=q.useState(!1),he=q.useRef(null),_e=q.useRef(null),ie=q.useRef(null);q.useEffect(()=>{const ke=Ve=>{he.current&&!he.current.contains(Ve.target)&&ye(!1),_e.current&&!_e.current.contains(Ve.target)&&oe(!1),ie.current&&!ie.current.contains(Ve.target)&&le(!1)};return document.addEventListener("mousedown",ke),()=>document.removeEventListener("mousedown",ke)},[]);const[ce,ge]=q.useState({isOpen:!1,mode:"create",code:null}),[ve,Se]=q.useState({key:"",description:"",questionText:""}),[Oe,Te]=q.useState(!1),[Ue,Le]=q.useState(""),Ge=q.useMemo(()=>{const ke=Object.entries(m2).map(([at,Dt])=>({id:`const-${at}`,key:`[${at}]`,description:Dt,isReadOnly:!0})),Ve=u.map(at=>({...at,isReadOnly:!1})),st=new Set(ke.map(at=>at.key)),Rt=Ve.filter(at=>!st.has(at.key));return[...ke,...Rt].sort((at,Dt)=>at.key.localeCompare(Dt.key))},[u]),rt=async()=>{Te(!0),Le("     ...");try{await f(),Le("   !")}catch(ke){console.error("Manual data refresh failed:",ke),Le("  .")}finally{Te(!1),setTimeout(()=>Le(""),5e3)}},it=async()=>{c(!0),s(""),o("");try{const ke="https://gitut.com",Ve=[],st=[],Rt=ue=>{let Ae=`<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
`;return ue.forEach(Ee=>{Ae+=`  <url><loc>${Ee}</loc></url>
`}),Ae+="</urlset>",Ae};o("Generating core pages sitemap...");const at=new Set,Dt=va.en.map(ue=>ue.code);at.add(ke+"/"),Dt.forEach(ue=>{at.add(`${ke}/${ue}/`),at.add(`${ke}/${ue}/find-cafe`)}),y.forEach(ue=>{ue.enabled&&ue.slug&&Dt.forEach(Ae=>{at.add(`${ke}/${Ae}/page/${ue.slug}`)})}),g.forEach(ue=>{ue.isProfilePublished&&ue.numericId&&at.add(`${ke}/${ue.countryCode}/profile/${ue.numericId}`)});const Ct=Rt(at);Ve.push({path:"dist/sitemap-pages.xml",content:Ct}),st.push(`<sitemap><loc>${ke}/sitemap-pages.xml</loc></sitemap>`),o("Generating service sitemaps...");const sn=p.reduce((ue,Ae)=>{const Ee=Ae.countryCode||"dz";return ue[Ee]||(ue[Ee]=[]),ue[Ee].push(Ae),ue},{});for(const ue in sn){const Ae=new Set;Ae.add(`${ke}/${ue}/services/`),sn[ue].forEach(Ie=>{if(Ie.slug){const Re=Ie.serviceType==="site"?"site":"doc";Ae.add(`${ke}/${ue}/${Re}/${Ie.slug}/`)}});const Ee=Rt(Ae),Ne=`dist/sitemap-services-${ue}.xml`;Ve.push({path:Ne,content:Ee}),st.push(`<sitemap><loc>${ke}/sitemap-services-${ue}.xml</loc></sitemap>`)}o("Generating blog sitemaps...");const un=v.reduce((ue,Ae)=>(Ae.enabled&&Ae.content&&Object.keys(Ae.content).forEach(Ee=>{ue[Ee]||(ue[Ee]=[]),ue[Ee].push(Ae)}),ue),{});for(const ue in un){const Ae=new Set,Ee=ue==="ar"?"":`/${ue}`;Ae.add(`${ke}/blog${Ee}/`),un[ue].forEach(Re=>{Re.slug&&Ae.add(`${ke}/blog${Ee}/${Re.slug}/`)});const Ne=Rt(Ae),Ie=`dist/sitemap-blog-${ue}.xml`;Ve.push({path:Ie,content:Ne}),st.push(`<sitemap><loc>${ke}/sitemap-blog-${ue}.xml</loc></sitemap>`)}o("Generating sitemap index file...");const Fn=`<?xml version="1.0" encoding="UTF-8"?>
<sitemapindex xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
  ${st.join(`
  `)}
</sitemapindex>`;Ve.push({path:"dist/sitemap.xml",content:Fn}),o(`Uploading ${Ve.length} sitemap files to GitHub...`),await Bd({files:Ve,commitMessage:"feat: Update sitemaps (index, pages, services, blog)",repoConfig:{owner:"gitut-cms",repo:"sitemap"}}),o(`Successfully published ${Ve.length} sitemap files!`)}catch(ke){console.error("Sitemap publishing failed:",ke);const Ve=ke instanceof Error?ke.message:"An unknown error occurred.";s(`    Sitemap: ${Ve}`)}finally{c(!1),setTimeout(()=>{o(""),s("")},8e3)}},Vt=async()=>{w(!0),S("");try{const{newVersion:ke}=await yme();S(`      ${ke}.      .`)}catch(ke){const Ve=ke instanceof Error?ke.message:"An unknown error occurred.";S(`: ${Ve}`)}finally{w(!1)}},xn=async ke=>{D(!0),k("   ...");try{const Ve=[];let st=p.filter(at=>at.slug);ke==="global"?st=st.filter(at=>!at.countryCode):ke&&(st=st.filter(at=>at.countryCode===ke));const Rt=st.reduce((at,Dt)=>{const Ct=Dt.countryCode||"global";return at[Ct]||(at[Ct]=[]),at[Ct].push(Dt),at},{});for(const at in Rt){const Dt=at==="global",Ct=Rt[at],sn=jO(Ct,at,h,y,b),un=Dt?"dist/services/index.html":`dist/${at}/services/index.html`;Ve.push({path:un,content:sn});for(const Fn of Ct){const ue=VO(Fn,p,h,y,b),Ae=Fn.serviceType==="site"?"site":"doc",Ee=Dt?`dist/${Ae}/${Fn.slug}/index.html`:`dist/${at}/${Ae}/${Fn.slug}/index.html`;Ve.push({path:Ee,content:ue})}}Ve.length===0?k("    ."):(k(` ${Ve.length}   GitHub...`),await Bd({files:Ve,commitMessage:"feat: Regenerate static service pages"}),k(`  ${Ve.length}   !`))}catch(Ve){console.error(Ve);const st=Ve instanceof Error?Ve.message:String(Ve);k(`: ${st}`)}finally{D(!1),setTimeout(()=>k(""),8e3)}},ln=async ke=>{P(!0),U("");try{const Ve=new fC;let st=p.filter(Ct=>Ct.slug);ke==="global"?st=st.filter(Ct=>!Ct.countryCode):ke&&(st=st.filter(Ct=>Ct.countryCode===ke));const Rt=st.reduce((Ct,sn)=>{const un=sn.countryCode||"global";return Ct[un]||(Ct[un]=[]),Ct[un].push(sn),Ct},{});for(const Ct in Rt){const sn=Ct==="global",un=Rt[Ct],Fn=sn?Ve:Ve.folder(Ct);if(!Fn)continue;for(const Ee of un){const Ne=VO(Ee,p,h,y,b),Ie=Fn.folder(Ee.serviceType==="site"?"site":"doc"),Re=Ie==null?void 0:Ie.folder(Ee.slug);Re==null||Re.file("index.html",Ne)}const ue=jO(un,Ct,h,y,b),Ae=Fn.folder("services");Ae==null||Ae.file("index.html",ue)}const at=await Ve.generateAsync({type:"blob"}),Dt=ke?`gitut-service-pages-${ke}.zip`:"gitut-service-pages-all.zip";eD.saveAs(at,Dt)}catch(Ve){console.error(Ve),U("    ZIP.")}finally{P(!1)}},lr=async ke=>{K(!0),J(ke?`    : ${ke}`:"   ...");try{const Ve=[],st=v.filter(at=>at.enabled&&at.slug);for(const at of st)if(at.content)for(const Dt in at.content){if(ke&&Dt!==ke)continue;const Ct=qO(at,v,h,Dt,b,y),un=`dist/blog/${Dt==="ar"?"":`${Dt}/`}${at.slug}/index.html`;Ve.push({path:un,content:Ct})}const Rt=st.reduce((at,Dt)=>(Dt.content&&Object.keys(Dt.content).forEach(Ct=>{ke&&Ct!==ke||(at[Ct]||(at[Ct]=[]),at[Ct].push(Dt))}),at),{});for(const at in Rt){const Dt=WO(Rt[at],h,at,y),Ct=`dist/blog/${at==="ar"?"index.html":`${at}/index.html`}`;Ve.push({path:Ct,content:Dt})}Ve.length===0?J("      ."):(J(` ${Ve.length}   GitHub...`),await Bd({files:Ve,commitMessage:`feat: Regenerate static blog pages${ke?` for ${ke}`:""}`}),J(`  ${Ve.length}   !`))}catch(Ve){console.error(Ve);const st=Ve instanceof Error?Ve.message:String(Ve);J(`: ${st}`)}finally{K(!1),setTimeout(()=>J(""),8e3)}},Yn=async()=>{z(!0);try{const ke=new fC,Ve=ke.folder("blog");if(!Ve)throw new Error("Could not create blog folder in zip");const st=v.filter(Dt=>Dt.enabled&&Dt.slug);for(const Dt of st)if(Dt.content)for(const Ct in Dt.content){const sn=qO(Dt,v,h,Ct,b,y),un=Ct==="ar"?Ve:Ve.folder(Ct),Fn=un==null?void 0:un.folder(Dt.slug);Fn==null||Fn.file("index.html",sn)}const Rt=st.reduce((Dt,Ct)=>(Ct.content&&Object.keys(Ct.content).forEach(sn=>{Dt[sn]||(Dt[sn]=[]),Dt[sn].push(Ct)}),Dt),{});for(const Dt in Rt){const Ct=WO(Rt[Dt],h,Dt,y);if(Dt==="ar")Ve.file("index.html",Ct);else{const sn=Ve.folder(Dt);sn==null||sn.file("index.html",Ct)}}const at=await ke.generateAsync({type:"blob"});eD.saveAs(at,"gitut-blog-pages.zip")}catch(ke){console.error(ke)}finally{z(!1)}},Qn=async()=>{B(!0),W("   ...");try{const ke=[],Ve=va.en.map(st=>st.code);for(const st of y)if(st.enabled&&st.slug)for(const Rt of Ve){const at=BO(st,Rt,h,y),Dt=`dist/${Rt}/page/${st.slug}/index.html`;ke.push({path:Dt,content:at})}ke.length===0?W("    ."):(W(` ${ke.length/Ve.length}  ( )  GitHub...`),await Bd({files:ke,commitMessage:"feat: Regenerate static site pages"}),W(`  ${ke.length}  !`))}catch(ke){console.error(ke);const Ve=ke instanceof Error?ke.message:String(ke);W(`: ${Ve}`)}finally{B(!1),setTimeout(()=>W(""),8e3)}},cr=async()=>{var ke;Y(!0);try{const Ve=new fC,st=va.en.map(at=>at.code);for(const at of y)if(at.enabled&&at.slug)for(const Dt of st){const Ct=BO(at,Dt,h,y),sn=Ve.folder(Dt);if(!sn)continue;const un=(ke=sn.folder("page"))==null?void 0:ke.folder(at.slug);un==null||un.file("index.html",Ct)}const Rt=await Ve.generateAsync({type:"blob"});eD.saveAs(Rt,"gitut-static-pages.zip")}catch(Ve){console.error(Ve)}finally{Y(!1)}},Yt=ke=>{ke?(Se({key:ke.key,description:ke.description,questionText:ke.questionText||""}),ge({isOpen:!0,mode:"edit",code:ke})):(Se({key:"",description:"",questionText:""}),ge({isOpen:!0,mode:"create",code:null}))},En=async ke=>{ke.preventDefault();const Ve={...ve,key:`[${ve.key.replace(/\[|\]/g,"")}]`};try{ce.mode==="create"?await B0.create(Ve):ce.code&&await B0.update(ce.code.id,Ve),await f(),ge({isOpen:!1,mode:"create",code:null})}catch(st){console.error(st),alert("  .")}},pe=async ke=>{window.confirm("  ")&&(await B0.delete(ke),await f())},we=async()=>{ae(!0),fe("Generating homepage files...");try{const ke=[],st=[null,...va.en.map(Rt=>Rt.code)];for(const Rt of st){const at=jSe(Rt,h,y),Dt=Rt?`dist/${Rt}/index.html`:"dist/index.html";ke.push({path:Dt,content:at})}fe(`Uploading ${ke.length} files to GitHub...`),await Bd({files:ke,commitMessage:"feat: Regenerate static homepages"}),fe(`Successfully published ${ke.length} homepages!`)}catch(ke){console.error("Homepage publishing failed:",ke),fe(`: ${ke.message}`)}finally{ae(!1),setTimeout(()=>fe(""),8e3)}},Me=async()=>{Pe(!0),je("Generating template files...");try{const ke=await bme("templates-paginated","global",!0);if(ke.length===0)je("No templates to publish.");else{const Ve=ke.map(st=>({path:`dist/data/json/templates/${st.fileName}`,content:JSON.stringify(st.data)}));je(`Uploading ${Ve.length} template files...`),await Bd({files:Ve,commitMessage:"feat: Update paginated document templates"}),je(`Successfully published ${Ve.length} template files!`)}}catch(ke){console.error("Template publishing failed:",ke),je(`: ${ke.message}`)}finally{Pe(!1),setTimeout(()=>je(""),8e3)}};return d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"  "}),d.jsxs("button",{onClick:rt,disabled:Oe,className:"flex items-center gap-2 bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-wait",children:[d.jsx(P$,{className:Oe?"animate-spin":""}),d.jsx("span",{children:Oe?" ...":" "})]})]}),Ue&&d.jsx("div",{className:`p-3 rounded-md text-center ${Ue.includes("")?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:Ue}),d.jsxs("section",{className:"bg-white p-6 rounded-lg border shadow-sm space-y-6",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-700",children:"  "}),d.jsx("p",{className:"text-sm text-gray-600",children:"     HTML   JSON      GitHub.        ."}),d.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border",children:[d.jsx("h3",{className:"font-semibold text-lg mb-2",children:"  (Sitemap)"}),d.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[d.jsxs("button",{onClick:it,disabled:l,className:"flex items-center gap-2 bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:[l?d.jsx(St,{className:"animate-spin"}):d.jsx(Jh,{})," ",d.jsx("span",{children:"   "})]}),(a||i)&&d.jsx("p",{className:`text-sm ${i?"text-red-700":"text-green-700"}`,children:a||i})]})]}),d.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border",children:[d.jsx("h3",{className:"font-semibold text-lg mb-2",children:" "}),d.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[d.jsxs("button",{onClick:we,disabled:ee,className:"flex items-center gap-2 bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:[ee?d.jsx(St,{className:"animate-spin"}):d.jsx(Jh,{})," ",d.jsx("span",{children:"   "})]}),de&&d.jsx("p",{className:"text-sm text-green-700",children:de})]})]}),d.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border",children:[d.jsx("h3",{className:"font-semibold text-lg mb-2",children:" "}),d.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[d.jsxs("div",{className:"relative inline-flex rounded-lg shadow-sm",ref:he,children:[d.jsxs("button",{onClick:()=>xn(),disabled:R,className:"flex items-center gap-2 bg-green-600 text-white font-bold py-2 px-4 rounded-r-lg hover:bg-green-700 disabled:bg-gray-400",children:[R&&!V?d.jsx(St,{className:"animate-spin"}):d.jsx(Jh,{}),d.jsx("span",{children:"  "})]}),d.jsxs("div",{className:"relative",children:[d.jsx("button",{type:"button",onClick:()=>ye(ke=>!ke),disabled:R,className:"bg-green-600 text-white p-2 h-full rounded-l-lg hover:bg-green-700 border-r border-green-800",children:d.jsx(g2,{className:"h-4 w-4"})}),V&&d.jsx("div",{className:"origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-10",children:d.jsxs("div",{className:"py-1",role:"menu",children:[d.jsx("a",{href:"#",onClick:ke=>{ke.preventDefault(),xn("global"),ye(!1)},className:"text-gray-700 block px-4 py-2 text-sm hover:bg-gray-100",role:"menuitem",children:"   "}),va.ar.map(ke=>d.jsxs("a",{href:"#",onClick:Ve=>{Ve.preventDefault(),xn(ke.code),ye(!1)},className:"text-gray-700 block px-4 py-2 text-sm hover:bg-gray-100",role:"menuitem",children:["  ",ke.name," "]},ke.code))]})})]})]}),d.jsxs("div",{className:"relative inline-flex rounded-lg shadow-sm",ref:_e,children:[d.jsxs("button",{onClick:()=>ln(),disabled:F,className:"flex items-center gap-2 bg-blue-600 text-white font-bold py-2 px-4 rounded-r-lg hover:bg-blue-700 disabled:bg-gray-400",children:[F&&!be?d.jsx(St,{className:"animate-spin"}):d.jsx(Du,{}),d.jsx("span",{children:"  ZIP"})]}),d.jsxs("div",{className:"relative",children:[d.jsx("button",{type:"button",onClick:()=>oe(ke=>!ke),disabled:F,className:"bg-blue-600 text-white p-2 h-full rounded-l-lg hover:bg-blue-700 border-r border-blue-800",children:d.jsx(g2,{className:"h-4 w-4"})}),be&&d.jsx("div",{className:"origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-10",children:d.jsxs("div",{className:"py-1",role:"menu",children:[d.jsx("a",{href:"#",onClick:ke=>{ke.preventDefault(),ln("global"),oe(!1)},className:"text-gray-700 block px-4 py-2 text-sm hover:bg-gray-100",role:"menuitem",children:"   "}),va.ar.map(ke=>d.jsxs("a",{href:"#",onClick:Ve=>{Ve.preventDefault(),ln(ke.code),oe(!1)},className:"text-gray-700 block px-4 py-2 text-sm hover:bg-gray-100",role:"menuitem",children:["  ",ke.name," "]},ke.code))]})})]})]}),N&&d.jsx("p",{className:"text-sm text-green-700",children:N}),I&&d.jsx("p",{className:"text-sm text-red-700",children:I})]})]}),d.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border",children:[d.jsx("h3",{className:"font-semibold text-lg mb-2",children:" "}),d.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[d.jsxs("div",{className:"relative inline-flex rounded-lg shadow-sm",ref:ie,children:[d.jsxs("button",{onClick:()=>lr(),disabled:O,className:"flex items-center gap-2 bg-green-600 text-white font-bold py-2 px-4 rounded-r-lg hover:bg-green-700 disabled:bg-gray-400",children:[O&&!re?d.jsx(St,{className:"animate-spin"}):d.jsx(Jh,{}),d.jsx("span",{children:"  "})]}),d.jsxs("div",{className:"relative",children:[d.jsx("button",{type:"button",onClick:()=>le(ke=>!ke),disabled:O,className:"bg-green-600 text-white p-2 h-full rounded-l-lg hover:bg-green-700 border-r border-green-800",children:d.jsx(g2,{className:"h-4 w-4"})}),re&&d.jsx("div",{className:"origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-10 max-h-60 overflow-y-auto",children:d.jsxs("div",{className:"py-1",role:"menu",children:[d.jsx("a",{href:"#",onClick:ke=>{ke.preventDefault(),lr(),le(!1)},className:"text-gray-700 block px-4 py-2 text-sm hover:bg-gray-100",role:"menuitem",children:"  "}),pu.map(ke=>d.jsxs("a",{href:"#",onClick:Ve=>{Ve.preventDefault(),lr(ke.code),le(!1)},className:"text-gray-700 block px-4 py-2 text-sm hover:bg-gray-100",role:"menuitem",children:["  ",ke.name," "]},ke.code))]})})]})]}),d.jsxs("button",{onClick:Yn,disabled:ne,className:"flex items-center gap-2 bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 disabled:bg-gray-400",children:[ne?d.jsx(St,{className:"animate-spin"}):d.jsx(Du,{})," ",d.jsx("span",{children:"  ZIP"})]}),X&&d.jsx("p",{className:"text-sm text-green-700",children:X})]})]}),d.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border",children:[d.jsx("h3",{className:"font-semibold text-lg mb-2",children:"   (  )"}),d.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[d.jsxs("button",{onClick:Qn,disabled:Q,className:"flex items-center gap-2 bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:[Q?d.jsx(St,{className:"animate-spin"}):d.jsx(Jh,{})," ",d.jsx("span",{children:"  "})]}),d.jsxs("button",{onClick:cr,disabled:G,className:"flex items-center gap-2 bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 disabled:bg-gray-400",children:[G?d.jsx(St,{className:"animate-spin"}):d.jsx(Du,{})," ",d.jsx("span",{children:"  ZIP"})]}),j&&d.jsx("p",{className:"text-sm text-green-700",children:j})]})]}),d.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border",children:[d.jsx("h3",{className:"font-semibold text-lg mb-2",children:"  "}),d.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[d.jsxs("button",{onClick:Me,disabled:De,className:"flex items-center gap-2 bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:[De?d.jsx(St,{className:"animate-spin"}):d.jsx(Jh,{})," ",d.jsx("span",{children:"  "})]}),me&&d.jsx("p",{className:"text-sm text-green-700",children:me})]})]})]}),d.jsxs("section",{className:"bg-white p-6 rounded-lg border shadow-sm space-y-4",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-700",children:"   "}),d.jsx("p",{className:"text-sm text-gray-600",children:"      (   )               ."}),d.jsxs("div",{className:"flex flex-wrap items-center gap-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[d.jsxs("button",{onClick:Vt,disabled:_,className:"flex items-center gap-2 bg-yellow-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-yellow-600 disabled:bg-gray-400",children:[_?d.jsx(St,{className:"animate-spin"}):d.jsx(JI,{}),d.jsx("span",{children:"   (+1)"})]}),C&&d.jsx("p",{className:"text-sm font-semibold",children:C})]})]}),d.jsxs("section",{className:"bg-white p-6 rounded-lg border shadow-sm",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-700",children:"  (Codes / Placeholders)"}),d.jsxs("button",{onClick:()=>Yt(null),className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:[d.jsx(nc,{className:"inline"}),"  "]})]}),d.jsx("div",{className:"max-h-96 overflow-y-auto pr-2",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b sticky top-0",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-2 font-semibold text-sm",children:""}),d.jsx("th",{className:"p-2 font-semibold text-sm",children:""}),d.jsx("th",{className:"p-2 font-semibold text-sm",children:""})]})}),d.jsx("tbody",{children:Ge.map(ke=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-2 font-mono text-sm text-blue-600",children:ke.key}),d.jsx("td",{className:"p-2 text-gray-600 text-sm",children:ke.description}),d.jsx("td",{className:"p-2",children:ke.isReadOnly?d.jsx(k$,{className:"text-gray-400",title:"    "}):d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>Yt(ke),className:"text-blue-600",children:d.jsx(hw,{})}),d.jsx("button",{onClick:()=>pe(ke.id),className:"text-red-600",children:d.jsx(Wm,{})})]})})]},ke.id))})]})})]}),ce.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg",children:d.jsxs("form",{onSubmit:En,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-xl font-bold",children:ce.mode==="create"?"  ":" "})}),d.jsxs("div",{className:"p-6 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:" ( )"}),d.jsx("input",{type:"text",value:ve.key.replace(/\[|\]/g,""),onChange:ke=>Se(Ve=>({...Ve,key:ke.target.value})),required:!0,className:"w-full p-2 border rounded-md",dir:"ltr"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:""}),d.jsx("input",{type:"text",value:ve.description,onChange:ke=>Se(Ve=>({...Ve,description:ke.target.value})),required:!0,className:"w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"  ( )"}),d.jsx("input",{type:"text",value:ve.questionText,onChange:ke=>Se(Ve=>({...Ve,questionText:ke.target.value})),className:"w-full p-2 border rounded-md"})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:()=>ge({isOpen:!1,mode:"create",code:null}),className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg",children:""}),d.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg",children:""})]})]})})})]})};if(yr.Quill){const t=yr.Quill.import("attributors/style/size");t.whitelist=["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px"],yr.Quill.register("attributors/style/size",t,!0)}const Jg={siteId:"",siteName:"",siteUrl:"",fields:[]},zO=t=>t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,""),VSe=()=>{var J;const{sites:t}=rn(),[e,n]=q.useState(t),[r,i]=q.useState({isOpen:!1,mode:"create",site:null}),[s,a]=q.useState({name:"",url:"",type:"template",countryCode:"",description:"",tags:"",slug:"",jsonTemplate:Jg}),[o,l]=q.useState(!1),[c,u]=q.useState(`[
  
]`),[f,h]=q.useState(""),[p,v]=q.useState(!1),[g,y]=q.useState("builder"),[b,_]=q.useState(""),[w,C]=q.useState("");q.useEffect(()=>{n(t)},[t]),q.useEffect(()=>{if(r.isOpen&&s.type==="template"&&g==="builder")try{_(JSON.stringify(s.jsonTemplate||Jg,null,2)),C("")}catch{_("{}"),C("Error generating JSON string from form data.")}},[s.jsonTemplate,g,r.isOpen,s.type]);const S=()=>{y("builder"),a({name:"",url:"",type:"template",countryCode:"",description:"",tags:"",slug:"",jsonTemplate:Jg}),i({isOpen:!0,mode:"create",site:null})},R=ne=>{y("builder");const z=ne.jsonTemplate||{...Jg,siteName:ne.name,siteUrl:ne.url,siteId:ne.id};a({...ne,countryCode:ne.countryCode||"",description:ne.description||"",tags:ne.tags||"",slug:ne.slug||"",jsonTemplate:z}),_(JSON.stringify(z,null,2)),i({isOpen:!0,mode:"edit",site:ne})},D=()=>{i({isOpen:!1,mode:"create",site:null})},N=(ne,z,Q)=>{a(B=>{var W;const j=[...((W=B.jsonTemplate)==null?void 0:W.fields)||[]];return j[ne]={...j[ne],[z]:Q},{...B,jsonTemplate:{...B.jsonTemplate,fields:j}}})},k=()=>{a(ne=>{var z;return{...ne,jsonTemplate:{...ne.jsonTemplate,fields:[...((z=ne.jsonTemplate)==null?void 0:z.fields)||[],{fieldId:"fullName",label:"",cssSelector:"",action:"write",type:"text"}]}}})},F=ne=>{a(z=>{var Q;return{...z,jsonTemplate:{...z.jsonTemplate,fields:(((Q=z.jsonTemplate)==null?void 0:Q.fields)||[]).filter((B,j)=>j!==ne)}}})},P=ne=>{const z=ne.target.value;_(z);try{const Q=JSON.parse(z);if(typeof Q!="object"||Q===null){C("Input must be a valid JSON object.");return}let B,j=!1;Q.jsonTemplate&&typeof Q.jsonTemplate=="object"&&Array.isArray(Q.jsonTemplate.fields)?(B=Q.jsonTemplate,j=!0):Array.isArray(Q.fields)&&(B=Q),B?(a(j?W=>({...W,name:Q.name||W.name,url:Q.url||W.url,countryCode:Q.countryCode||W.countryCode,type:Q.type==="template"?"template":W.type,description:Q.description||W.description,tags:Q.tags||W.tags,jsonTemplate:B}):W=>({...W,jsonTemplate:B})),C("")):C('JSON must be an object with a "fields" array, or a site object containing a "jsonTemplate" key.')}catch{C("Invalid JSON format.")}},I=async ne=>{var B,j,W;if(ne.preventDefault(),g==="raw"&&w){alert(`Please fix the JSON error before saving: ${w}`);return}let z=zO(s.name);if((r.mode==="create"||r.mode==="edit"&&s.name!==((B=r.site)==null?void 0:B.name))&&e.find(Y=>Y.slug===z)){if(!window.confirm("     (    ).        "))return;z=`${z}-${Date.now().toString().slice(-6)}`}if((r.mode==="create"||r.mode==="edit"&&s.url!==((j=r.site)==null?void 0:j.url))&&e.find(Y=>Y.url===s.url)&&!window.confirm("    .      "))return;const Q={...s,slug:z,countryCode:s.countryCode||void 0,jsonTemplate:{...s.jsonTemplate||Jg,siteName:s.name,siteUrl:s.url,siteId:((W=r.site)==null?void 0:W.id)||s.name.toLowerCase().replace(/\s+/g,"-")}};Q.type==="static"&&(Q.jsonTemplate=void 0),r.mode==="create"?(await Zd.create(Q),n(G=>[...G,{...Q,id:Q.name}])):r.site&&(await Zd.update(r.site.id,Q),n(G=>G.map(Y=>Y.id===r.site.id?{...Q,id:r.site.id}:Y))),alert(" .       ."),D()},U=ne=>{window.confirm("        ")&&(Zd.delete(ne),n(z=>z.filter(Q=>Q.id!==ne)))},O=async()=>{h(""),v(!0);let ne=0;try{const z=JSON.parse(c);if(!Array.isArray(z))throw new Error("The provided input must be a valid JSON array.");for(const Q of z){if(!Q.name||!Q.url||!Q.type){console.warn("Skipping invalid site object in bulk add:",Q);continue}const B={...Q,slug:zO(Q.name)};await Zd.create(B),n(j=>[...j,{...B,id:B.name}]),ne++}alert(`  ${ne}  .`),l(!1),u(`[
  
]`)}catch(z){h(`: ${z.message}`)}finally{v(!1)}},K=Object.keys(Zr);return d.jsxs("div",{children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:" "}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>l(!0),className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"+    (JSON)"}),d.jsx("button",{onClick:S,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"+   "})]})]}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:e.map(ne=>{var z,Q;return d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:ne.name}),d.jsx("td",{className:"p-3 text-gray-600",children:ne.type==="static"?"":""}),d.jsx("td",{className:"p-3 text-gray-600",children:ne.countryCode||""}),d.jsx("td",{className:"p-3 text-gray-600 text-xs",children:ne.type==="template"?`${((Q=(z=ne.jsonTemplate)==null?void 0:z.fields)==null?void 0:Q.length)||0} `:"-"}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse whitespace-nowrap",children:[ne.slug&&d.jsx("a",{href:`/${ne.countryCode||"dz"}/site/${ne.slug}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>R(ne),className:"text-green-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>U(ne.id),className:"text-red-600 hover:underline text-sm font-semibold",children:""})]})]},ne.id)})})]})})}),o&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl flex flex-col h-[90vh]",children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:"    JSON"})}),d.jsxs("div",{className:"p-6 space-y-4 flex-grow overflow-y-auto",children:[d.jsx("p",{className:"text-sm text-gray-600",children:"  JSON   .        ."}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"bulkJson",className:"block text-sm font-medium text-gray-700 mb-1",children:"JSON Array of Sites"}),d.jsx("textarea",{id:"bulkJson",value:c,onChange:ne=>u(ne.target.value),className:"w-full h-96 font-mono text-sm bg-gray-900 text-green-300 p-2 rounded-md",dir:"ltr",placeholder:`[
  {
    "name": "ANEM Wassit Online",
    "url": "https://wassitonline.anem.dz/",
    "type": "template",
    "countryCode": "dz",
    "jsonTemplate": {
      "fields": [
        { "fieldId": "nationalId", "label": "NIN", "cssSelector": "#nin", "action": "write", "type": "text" },
        { "fieldId": "dob", "label": "Date of Birth", "cssSelector": "#ddn", "action": "write", "type": "date" }
      ]
    }
  },
  {
    "name": "Google",
    "url": "https://google.com",
    "type": "static"
  }
]`}),f&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:f})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:()=>l(!1),className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"button",onClick:O,disabled:p,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 disabled:bg-gray-400",children:p?d.jsx(St,{className:"animate-spin"}):"  "})]})]})}),r.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl",children:d.jsxs("form",{onSubmit:I,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:r.mode==="create"?"  ":" "})}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsxs("select",{id:"type",value:s.type,onChange:ne=>a(z=>({...z,type:ne.target.value})),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",children:[d.jsx("option",{value:"template",children:"  ( )"}),d.jsx("option",{value:"static",children:"  (  )"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"countryCode",className:"block text-sm font-medium text-gray-700 mb-1",children:" ( : dz)"}),d.jsx("input",{type:"text",id:"countryCode",value:s.countryCode||"",onChange:ne=>a(z=>({...z,countryCode:ne.target.value.toLowerCase()})),placeholder:"  ",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",id:"name",value:s.name,onChange:ne=>a(z=>({...z,name:ne.target.value})),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"url",className:"block text-sm font-medium text-gray-700 mb-1",children:"  (URL)"}),d.jsx("input",{type:"url",id:"url",value:s.url,onChange:ne=>a(z=>({...z,url:ne.target.value})),required:!0,placeholder:"https://example.com",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"  ( )"}),d.jsx(yr,{theme:"snow",value:s.description||"",onChange:ne=>a(z=>({...z,description:ne})),modules:{toolbar:[[{size:["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px",!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"},{align:[]}],["link","image","video"],["clean"]]}})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700 mb-1",children:" ( )"}),d.jsx("input",{type:"text",id:"tags",value:s.tags||"",onChange:ne=>a(z=>({...z,tags:ne.target.value})),placeholder:": , , anem",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"         ."})]}),s.type==="template"&&d.jsxs("fieldset",{className:"border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-gray-700",children:"   (JSON)"}),d.jsxs("div",{className:"flex gap-1 mb-3 border-b pb-3 -mx-4 px-4",children:[d.jsx("button",{type:"button",onClick:()=>y("builder"),className:`px-3 py-1 text-sm rounded-full ${g==="builder"?"bg-green-600 text-white":"bg-gray-200"}`,children:" "}),d.jsx("button",{type:"button",onClick:()=>y("raw"),className:`px-3 py-1 text-sm rounded-full ${g==="raw"?"bg-green-600 text-white":"bg-gray-200"}`,children:" JSON "})]}),g==="builder"?d.jsxs("div",{className:"space-y-3 mt-2",children:[(((J=s.jsonTemplate)==null?void 0:J.fields)||[]).map((ne,z)=>d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 p-3 bg-gray-50 rounded-md border relative",children:[d.jsx("button",{type:"button",onClick:()=>F(z),className:"absolute top-2 left-2 bg-red-100 text-red-600 h-6 w-6 flex items-center justify-center rounded-full hover:bg-red-200",children:""}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"  (Label)"}),d.jsx("input",{type:"text",value:ne.label,onChange:Q=>N(z,"label",Q.target.value),required:!0,className:"block w-full p-2 border rounded-md text-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"  (Field ID)"}),d.jsx("select",{value:ne.fieldId,onChange:Q=>N(z,"fieldId",Q.target.value),className:"block w-full p-2 border rounded-md text-sm bg-white",children:K.map(Q=>d.jsx("option",{value:Q,children:Zr[Q].label},Q))})]}),d.jsxs("div",{className:"lg:col-span-3 grid grid-cols-1 md:grid-cols-3 gap-2",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-600",children:" CSS"}),d.jsx("input",{type:"text",value:ne.cssSelector,onChange:Q=>N(z,"cssSelector",Q.target.value),required:!0,placeholder:"#id, .class",className:"block w-full p-2 border rounded-md text-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-600",children:" "}),d.jsxs("select",{value:ne.action,onChange:Q=>N(z,"action",Q.target.value),className:"block w-full p-2 border rounded-md text-sm bg-white",children:[d.jsx("option",{value:"write",children:""}),d.jsx("option",{value:"select",children:""}),d.jsx("option",{value:"click",children:""})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-600",children:" "}),d.jsxs("select",{value:ne.type,onChange:Q=>N(z,"type",Q.target.value),className:"block w-full p-2 border rounded-md text-sm bg-white",children:[d.jsx("option",{value:"text",children:"Text"}),d.jsx("option",{value:"textarea",children:"Textarea"}),d.jsx("option",{value:"date",children:"Date"}),d.jsx("option",{value:"select",children:"Select"}),d.jsx("option",{value:"checkbox",children:"Checkbox"}),d.jsx("option",{value:"radio",children:"Radio"}),d.jsx("option",{value:"email",children:"Email"}),d.jsx("option",{value:"tel",children:"Tel"}),d.jsx("option",{value:"number",children:"Number"})]})]})]})]},z)),d.jsxs("button",{type:"button",onClick:k,className:"mt-2 text-sm bg-green-100 text-green-800 font-semibold py-2 px-3 rounded-lg hover:bg-green-200 transition-colors flex items-center gap-2",children:[d.jsx(nc,{}),"   "]})]}):d.jsxs("div",{children:[d.jsx("textarea",{value:b,onChange:P,className:"w-full h-64 font-mono text-sm bg-gray-900 text-green-300 p-2 rounded-md",dir:"ltr"}),w&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:w})]})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:D,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:""})]})]})})})]})},nK=window.SpeechRecognition||window.webkitSpeechRecognition,tD=!!nK,rK=({formFields:t,onFieldUpdate:e})=>{const[n,r]=q.useState("idle"),[i,s]=q.useState(""),[a,o]=q.useState(!1),[l,c]=q.useState(null),[u,f]=q.useState("ar-SA"),[h,p]=q.useState("voice"),[v,g]=q.useState(""),y=q.useRef(null),b=q.useRef(""),_=q.useRef(n);q.useEffect(()=>{_.current=n},[n]);const w=q.useRef(e);w.current=e;const C=async P=>{if(P.trim()){o(!0),c(null);try{const I=`You are an AI assistant processing a user's speech or text transcript to fill a web form.
**IMPORTANT RULES:**
1.  When the user says or writes the Arabic word "", you MUST interpret and write it as the "@" symbol.
2.  If you identify an email address, you MUST format it using only English letters, numbers, and standard symbols (like '@', '.', '-'). Do NOT use Arabic characters for the email address. For example, if the user says "       ", the value for the email field should be "mustakhdim@mithal.com" or a similar valid email format, not "@.".

**TASK:**
Based on the user's transcript and the list of available form fields, identify the target field(s) and the corresponding value(s).
- User Transcript: "${P}"
- Available Fields: ${JSON.stringify(t)}

The user might mention multiple fields in one sentence. Your response must be a JSON array of objects, where each object contains a "fieldId" and a "value". For example: [{ "fieldId": "fullName", "value": "John Doe" }, { "fieldId": "email", "value": "john.doe@example.com" }]. If no fields are mentioned, return an empty array.`,O=await cge(P,t,{type:"ARRAY",items:{type:"OBJECT",properties:{fieldId:{type:"STRING"},value:{type:"STRING"}}}},I);Array.isArray(O)&&O.length>0?w.current(O):console.log("AI did not find any fields to update from transcript:",P)}catch(I){console.error("Error processing transcript with AI:",I);const U=I instanceof Error?I.message:"An unknown error occurred.";c(`  : ${U}`)}finally{o(!1)}}};q.useEffect(()=>{if(!tD)return;const P=new nK;return y.current=P,P.continuous=!0,P.interimResults=!0,P.onresult=I=>{let U="";for(let O=I.resultIndex;O<I.results.length;++O)I.results[O].isFinal?b.current+=I.results[O][0].transcript+" ":U+=I.results[O][0].transcript;s(b.current+U)},P.onerror=I=>{console.error("Speech recognition error:",I.error),c(`  : ${I.error}`),r("idle")},P.onend=()=>{_.current==="recording"&&r("paused")},()=>{P.abort()}},[tD]);const S=()=>{y.current&&(b.current="",s(""),y.current.lang=u,y.current.start(),r("recording"))},R=()=>{y.current&&(r("paused"),y.current.stop())},D=()=>{y.current&&(y.current.lang=u,y.current.start(),r("recording"))},N=async()=>{y.current&&(r("idle"),y.current.stop(),i.trim()&&await C(i),s(""),b.current="")},k=async()=>{v.trim()&&(await C(v),g(""))},F=()=>{switch(n){case"recording":return d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{type:"button",onClick:R,className:"flex-1 flex items-center justify-center gap-2 p-2 bg-yellow-500 text-white font-semibold rounded-md hover:bg-yellow-600",children:[d.jsx(qme,{})," ",d.jsx("span",{children:" "})]}),d.jsxs("button",{type:"button",onClick:N,disabled:a,className:"flex-1 flex items-center justify-center gap-2 p-2 bg-green-600 text-white font-semibold rounded-md hover:bg-green-700 disabled:bg-gray-400",children:[a?d.jsx(St,{className:"animate-spin"}):d.jsx(W0,{}),d.jsx("span",{children:" "})]})]});case"paused":return d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{type:"button",onClick:D,className:"flex-1 flex items-center justify-center gap-2 p-2 bg-blue-500 text-white font-semibold rounded-md hover:bg-blue-600",children:[d.jsx(R$,{})," ",d.jsx("span",{children:""})]}),d.jsxs("button",{type:"button",onClick:N,disabled:a,className:"flex-1 flex items-center justify-center gap-2 p-2 bg-green-600 text-white font-semibold rounded-md hover:bg-green-700 disabled:bg-gray-400",children:[a?d.jsx(St,{className:"animate-spin"}):d.jsx(W0,{}),d.jsx("span",{children:" "})]})]});case"idle":default:return d.jsxs("button",{type:"button",onClick:S,disabled:a,className:"w-full flex items-center justify-center gap-3 p-3 bg-blue-500 text-white font-bold rounded-lg hover:bg-blue-600 disabled:bg-gray-400",children:[d.jsx(mc,{}),d.jsx("span",{children:"   "})]})}};return d.jsxs("div",{className:"space-y-3 p-3 bg-gray-100 rounded-md border my-4",children:[d.jsxs("div",{className:"flex border border-gray-300 rounded-md overflow-hidden",children:[d.jsxs("button",{onClick:()=>p("voice"),className:`flex-1 p-2 text-center font-semibold flex items-center justify-center gap-2 ${h==="voice"?"bg-green-600 text-white":"bg-gray-200 text-gray-700"}`,children:[d.jsx(mc,{}),d.jsx("span",{children:""})]}),d.jsxs("button",{onClick:()=>p("text"),className:`flex-1 p-2 text-center font-semibold flex items-center justify-center gap-2 ${h==="text"?"bg-green-600 text-white":"bg-gray-200 text-gray-700"}`,children:[d.jsx(N$,{}),d.jsx("span",{children:""})]})]}),h==="voice"?d.jsx(d.Fragment,{children:tD?d.jsxs(d.Fragment,{children:[n!=="idle"&&d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:" :"}),d.jsx("div",{className:"mt-1 p-2 bg-white border rounded-md min-h-[60px] text-gray-800 text-right",children:i||d.jsx("span",{className:"text-gray-400",children:"..."})})]}),d.jsxs("div",{className:"flex items-center justify-between gap-4",children:[d.jsx("div",{className:"flex-grow",children:F()}),d.jsxs("select",{value:u,onChange:P=>f(P.target.value),disabled:n!=="idle"||a,className:"bg-white border border-gray-300 rounded-md px-2 py-1 text-sm disabled:bg-gray-200","aria-label":"   ",children:[d.jsx("option",{value:"ar-SA",children:""}),d.jsx("option",{value:"en-US",children:"English"}),d.jsx("option",{value:"fr-FR",children:"Franais"})]})]})]}):d.jsx("div",{className:"p-3 bg-yellow-100 text-yellow-800 text-center rounded-md",children:"      ."})}):d.jsxs("div",{className:"space-y-2",children:[d.jsx("textarea",{value:v,onChange:P=>g(P.target.value),placeholder:"   ... :       user  example.com",className:"w-full p-2 border border-gray-300 rounded-md",rows:3,disabled:a}),d.jsxs("button",{type:"button",onClick:k,disabled:a||!v.trim(),className:"w-full flex items-center justify-center gap-3 p-3 bg-green-600 text-white font-bold rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:[a?d.jsx(St,{className:"animate-spin"}):d.jsx(W0,{}),d.jsx("span",{children:" "})]})]}),l&&d.jsx("p",{className:"text-red-600 text-sm mt-2",children:l})]})},WSe=()=>{const{siteId:t}=ia(),e=bi(),{user:n}=Ar(),{sites:r,cafes:i,siteSettings:s,loading:a}=rn(),o=q.useMemo(()=>r.find(F=>F.id===t),[t,r]),l=q.useMemo(()=>i.find(F=>F.id===(n==null?void 0:n.cafeId)),[i,n]),c=(l==null?void 0:l.formFillMode)||"json",[u,f]=q.useState({}),[h,p]=q.useState(null),[v,g]=q.useState(""),[y,b]=q.useState(!0);q.useEffect(()=>{c==="json"&&(o!=null&&o.jsonTemplate)?p(o.jsonTemplate):p(null)},[o,c]);const _=(F,P)=>{f(I=>({...I,[F]:P}))},w=F=>{const P={...u};F.forEach(({fieldId:I,value:U})=>{P[I]=U}),f(P)},C=F=>{var U;const P=(U=F.target.files)==null?void 0:U[0];if(!P)return;g("");const I=new FileReader;I.onload=O=>{var K;try{const X=(K=O.target)==null?void 0:K.result,J=JSON.parse(X);if(J&&J.siteId&&Array.isArray(J.fields))p(J);else throw new Error("Invalid JSON structure.")}catch(X){g("   .     JSON   ."),console.error(X)}},I.onerror=()=>{g("    .")},I.readAsText(P)},S=async F=>{if(F.preventDefault(),!n||!s||!o){alert(":         .");return}const P=n.credits.currency==="USD"?s.pricing.siteFormFill.usd:s.pricing.siteFormFill.dzd,I=await GI(n,P);if(!I.success){alert(I.message),e(`/${n.countryCode}/app/billing`);return}if(y){const K={},X=c==="json"?h==null?void 0:h.fields.map(J=>({id:J.fieldId,label:J.label})):o==null?void 0:o.templateFields;X&&(X.forEach(J=>{const ne=J.id;Object.keys(Zr).includes(ne)&&(K[ne]=u[ne])}),Object.keys(K).length>0&&cp.create(K))}const U={source:"gitut-webapp",type:"client_data_update",payload:u};window.postMessage(U,"*"),window.open(o.url,"_blank");const O=(n==null?void 0:n.credits.currency)==="USD"?"$":"";alert(`  ${P} ${O}  .       .    .`),f({})},R=q.useMemo(()=>c==="json"&&h?h.fields.map(F=>({id:F.fieldId,label:F.label})):c==="ai"&&(o!=null&&o.templateFields)?o.templateFields.map(F=>({id:F.id,label:F.label})):[],[o,c,h]);if(a)return d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(St,{className:"animate-spin text-4xl text-green-600"})});if(!o||o.type!=="template")return d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"        "}),d.jsx("p",{className:"text-gray-600 mb-6",children:"         ."}),d.jsx(tn,{to:"/app",className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"   "})]});const D=(n==null?void 0:n.credits.currency)==="USD"?s==null?void 0:s.pricing.siteFormFill.usd:s==null?void 0:s.pricing.siteFormFill.dzd,N=(n==null?void 0:n.credits.currency)==="USD"?"$":"",k=()=>{var F;return c==="json"?h?h.fields.map(P=>d.jsxs("div",{children:[d.jsx("label",{htmlFor:P.fieldId,className:"block text-sm font-medium text-gray-700 mb-1",children:P.label}),d.jsx("input",{type:"text",id:P.fieldId,name:P.fieldId,value:u[P.fieldId]||"",onChange:I=>_(I.target.name,I.target.value),required:!0,className:"block w-full px-3 py-2 border border-gray-300 rounded-md"})]},P.cssSelector)):d.jsxs("div",{className:"text-center p-6 border-2 border-dashed rounded-lg",children:[d.jsx("p",{className:"font-semibold text-gray-700",children:" 1:    JSON   ."}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"        ."})]}):(F=o.templateFields)==null?void 0:F.map(P=>d.jsxs("div",{children:[d.jsx("label",{htmlFor:P.id,className:"block text-sm font-medium text-gray-700 mb-1",children:P.label}),d.jsx("input",{type:"text",id:P.id,name:P.id,value:u[P.id]||"",onChange:I=>_(I.target.name,I.target.value),required:!0,className:"block w-full px-3 py-2 border border-gray-300 rounded-md"})]},P.id))};return d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:["  : ",o.name]}),d.jsxs("p",{className:"text-gray-600",children:[": ",d.jsxs("span",{className:"font-bold font-mono",children:[D," ",N]})]})]}),d.jsx(tn,{to:`/${n==null?void 0:n.countryCode}/app`,className:"text-sm bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:" "})]}),d.jsxs("form",{onSubmit:S,className:"space-y-6 bg-white p-8 rounded-lg border",children:[c==="json"&&d.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border",children:[d.jsxs("label",{htmlFor:"json-upload",className:"flex items-center gap-3 cursor-pointer text-blue-800 font-semibold",children:[d.jsx(Ome,{className:"text-2xl"}),d.jsxs("div",{children:[d.jsx("span",{children:h?` : ${h.siteName}`:"  JSON  "}),d.jsx("p",{className:"text-xs font-normal text-gray-600",children:"          ."})]})]}),d.jsx("input",{id:"json-upload",type:"file",accept:".json",onChange:C,className:"hidden"}),v&&d.jsx("p",{className:"text-red-500 text-sm mt-2",children:v})]}),(c==="ai"||c==="json"&&h)&&d.jsx(rK,{formFields:R,onFieldUpdate:w}),k(),d.jsxs("div",{className:"pt-4 border-t",children:[d.jsxs("div",{className:"flex items-center mb-4",children:[d.jsx("input",{id:"saveClient",name:"saveClient",type:"checkbox",checked:y,onChange:F=>b(F.target.checked),className:"h-4 w-4 text-green-600"}),d.jsx("label",{htmlFor:"saveClient",className:"mr-2 block text-sm text-gray-900",children:"/   "})]}),d.jsx("button",{type:"submit",className:"w-full bg-green-600 text-white p-3 rounded-lg font-bold hover:bg-green-700 transition-colors flex items-center justify-center gap-2",children:d.jsx("span",{children:"     "})})]})]})]})};if(yr.Quill){const t=yr.Quill.import("attributors/style/size");t.whitelist=["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px"],yr.Quill.register("attributors/style/size",t,!0)}const Dx=t=>t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,""),qSe={toolbar:[[{header:[1,2,3,4,5,6,!1]}],[{font:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"},{align:[]}],[{color:[]},{background:[]}],["link","image","video"],["clean"]]},zSe=()=>{const{fullDocuments:t,loadingFullDocuments:e,codes:n,refetchAdminData:r}=rn(),[i,s]=q.useState([]);bi();const{t:a}=aa(),[o,l]=q.useState({isOpen:!1,mode:"create",doc:null}),[c,u]=q.useState({}),[f,h]=q.useState(!1),[p,v]=q.useState(""),[g,y]=q.useState(""),[b,_]=q.useState({preview:"",final:""}),[w,C]=q.useState({isOpen:!1,doc:null}),[S,R]=q.useState({}),[D,N]=q.useState({preview:"upload",final:"upload"}),[k,F]=q.useState({preview:"",final:""}),[P,I]=q.useState(!1),U=q.useRef(null),O=q.useRef(null),[K,X]=q.useState(!1),[J,ne]=q.useState(""),[z,Q]=q.useState("");q.useEffect(()=>{const ce=[...t].sort((ge,ve)=>ge.name.localeCompare(ve.name)).filter(ge=>ge.name.toLowerCase().includes(g.toLowerCase())||ge.description.toLowerCase().includes(g.toLowerCase())||ge.id.toLowerCase().includes(g.toLowerCase()));s(ce)},[t,g]);const B=async()=>{await r()},j=async ie=>{if(window.confirm("              ."))try{await cl.delete(ie),await B(),alert("   .")}catch(ce){console.error("Failed to delete document:",ce),alert("  .")}},W=()=>{u({id:"",name:"",groupId:"",description:"",countryCode:"dz",requiredFields:[],complexFields:[],previewTemplateUrl:"",finalTemplateUrl:"",previewTemplateHtml:"",finalTemplateHtml:"",tags:"",slug:""}),N({preview:"upload",final:"upload"}),F({preview:"",final:""}),_({preview:"",final:""}),l({isOpen:!0,mode:"create",doc:null}),v("")},G=async ie=>{u({...ie});const ce={preview:"upload",final:"upload"},ge={preview:ie.previewTemplateHtml||"",final:ie.finalTemplateHtml||""};ie.previewTemplateHtml&&(ce.preview="code"),ie.finalTemplateHtml&&(ce.final="code"),F(ge),N(ce),_({preview:"",final:""}),l({isOpen:!0,mode:"edit",doc:ie}),v("")},Y=()=>{l({isOpen:!1,mode:"create",doc:null})},ee=ie=>{const{name:ce,value:ge}=ie.target;u(ve=>({...ve,[ce]:ge}))},ae=async(ie,ce)=>{var Se;const ge=(Se=ie.target.files)==null?void 0:Se[0];if(!ge)return;const ve=new FileReader;ve.onload=Oe=>{var Ue;const Te=(Ue=Oe.target)==null?void 0:Ue.result;_(Le=>({...Le,[ce]:Te})),F(Le=>({...Le,[ce]:Te}))},ve.readAsText(ge)},de=async ie=>{var ce,ge,ve;ie.preventDefault(),h(!0);try{const Se={...c},Oe=Le=>Le.replace(/\s{2,}/g," ").replace(/\n/g,"").trim();let Te="";D.preview==="code"?Te=k.preview:b.preview&&(Te=b.preview),Te&&(Se.previewTemplateHtml=Oe(Te),Se.previewTemplateUrl="");let Ue="";if(D.final==="code"?Ue=k.final:b.final&&(Ue=b.final),Ue?(Se.finalTemplateHtml=Oe(Ue),Se.finalTemplateUrl="",Se.requiredFields=V0(Ue)):Se.finalTemplateHtml&&(Se.requiredFields=V0(Se.finalTemplateHtml)),Se.slug=(ce=c.slug)!=null&&ce.trim()?Dx(c.slug):Dx(c.name||""),o.mode==="create"){const Le=((ge=c.id)==null?void 0:ge.trim())||((ve=c.groupId)==null?void 0:ve.trim())||Se.slug;Se.id=Le,Se.groupId||(Se.groupId=Le),await cl.create(Se)}else o.doc&&await cl.update(o.doc.id,Se);await B(),alert("   !"),Y()}catch(Se){console.error("Failed to save document:",Se),alert("  .")}finally{h(!1)}},fe=async()=>{var ie;if(!((ie=c.name)!=null&&ie.trim())){alert("      .");return}I(!0);try{const ce=`         "${c.name}".            .      HTML  ( <p>  <ul>).`,ve=(await ic({model:"gemini-2.5-flash",contents:ce})).text||"";u(Se=>({...Se,description:ve}))}catch(ce){console.error("AI description generation failed:",ce),alert("    .")}finally{I(!1)}},De=ie=>{R(ie.fieldCustomizations||{}),C({isOpen:!0,doc:ie})},Pe=()=>{C({isOpen:!1,doc:null}),R({})},me=(ie,ce,ge)=>{R(ve=>({...ve,[ie]:{...ve[ie]||{type:"text"},[ce]:ge}}))},je=(ie,ce,ge)=>{R(ve=>{var Oe;const Se=[...((Oe=ve[ie])==null?void 0:Oe.options)||[]];return Se[ce]=ge,{...ve,[ie]:{...ve[ie]||{type:"text"},options:Se}}})},V=ie=>{R(ce=>{var ve;const ge=[...((ve=ce[ie])==null?void 0:ve.options)||[],""];return{...ce,[ie]:{...ce[ie]||{type:"text"},type:"select",options:ge}}})},ye=(ie,ce)=>{R(ge=>{var Se;const ve=(((Se=ge[ie])==null?void 0:Se.options)||[]).filter((Oe,Te)=>Te!==ce);return{...ge,[ie]:{...ge[ie]||{type:"text"},options:ve}}})},be=async()=>{if(w.doc){h(!0);try{const ie={...w.doc,fieldCustomizations:S};await cl.update(w.doc.id,ie),await B(),alert("  !"),Pe()}catch(ie){console.error("Failed to save customizations:",ie),alert("  .")}finally{h(!1)}}},oe=(ie,ce)=>{N(ge=>({...ge,[ie]:ce}))},re=(ie,ce)=>{if(!ce)return;const ve=(ie==="preview"?U:O).current;if(ve){const Se=ve.selectionStart,Oe=ve.selectionEnd,Te=ve.value,Ue=Te.substring(0,Se)+ce+Te.substring(Oe);F(Le=>({...Le,[ie]:Ue})),setTimeout(()=>{ve&&(ve.focus(),ve.selectionStart=ve.selectionEnd=Se+ce.length)},0)}},le=()=>{ne(JSON.stringify([{id:"custom-doc-id",name:"  ",groupId:"unique-group-id",description:"<p> HTML .</p>",countryCode:"dz",tags:"tag1,tag2",previewTemplateHtml:"<!--  HTML  -->",finalTemplateHtml:"<!--  HTML   [placeholders] -->"}],null,2)),Q(""),X(!0)},he=()=>{X(!1)},_e=async ie=>{ie.preventDefault(),Q(""),h(!0);try{const ce=JSON.parse(J),ge=Array.isArray(ce)?ce:[ce];let ve=0;for(const[Se,Oe]of ge.entries()){const{name:Te,groupId:Ue,previewTemplateHtml:Le,finalTemplateHtml:Ge}=Oe;if(typeof Te!="string"||!Te.trim()||typeof Ue!="string"||!Ue.trim()||typeof Le!="string"||!Le.trim()||typeof Ge!="string"||!Ge.trim()){const Yt=[];(typeof Te!="string"||!Te.trim())&&Yt.push("name"),(typeof Ue!="string"||!Ue.trim())&&Yt.push("groupId"),(typeof Le!="string"||!Le.trim())&&Yt.push("previewTemplateHtml"),(typeof Ge!="string"||!Ge.trim())&&Yt.push("finalTemplateHtml");const En=Oe.name||Oe.id||`  ${Se+1}`;throw new Error(`    : ${Yt.join(", ")}   "${En}"`)}const{description:rt,countryCode:it,tags:Vt,id:xn}=Oe,ln=Yt=>Yt.replace(/\s{2,}/g," ").replace(/\n/g,"").trim(),lr=ln(Ge),Yn=ln(Le),Qn={name:Te,groupId:Ue,description:rt||"",countryCode:it||"",tags:Vt||"",slug:Dx(Te),previewTemplateHtml:Yn,finalTemplateHtml:lr,previewTemplateUrl:"",finalTemplateUrl:"",requiredFields:V0(lr)},cr=xn||Ue||Dx(Te);Qn.id=cr,await cl.create(Qn),ve++}await B(),alert(`  ${ve} () !`),he()}catch(ce){const ge=ce instanceof Error?ce.message:" JSON     .";Q(ge)}finally{h(!1)}};return e?d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(St,{className:"animate-spin text-4xl text-green-600"})}):d.jsxs("div",{children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:" "}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:le,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700",children:[d.jsx(nc,{className:"inline-block ml-2 rtl:ml-0 rtl:mr-2"}),"  JSON"]}),d.jsxs("button",{onClick:W,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:[d.jsx(nc,{className:"inline-block ml-2 rtl:ml-0 rtl:mr-2"}),"  "]})]})]}),d.jsx("div",{className:"mb-4",children:d.jsx("input",{type:"text",placeholder:"   ...",value:g,onChange:ie=>y(ie.target.value),className:"w-full p-3 border rounded-lg"})}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:"ID / Group ID"}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:i.map(ie=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:ie.name}),d.jsxs("td",{className:"p-3 text-gray-500 font-mono text-xs",children:[ie.id,d.jsx("br",{}),ie.groupId!==ie.id&&`(${ie.groupId})`]}),d.jsx("td",{className:"p-3 text-gray-600 text-sm",title:ie.description.replace(/<[^>]*>?/gm,""),children:d.jsx("div",{className:"prose prose-sm max-w-none line-clamp-2",dangerouslySetInnerHTML:{__html:ie.description}})}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse whitespace-nowrap",children:[ie.slug&&d.jsx("a",{href:`/${ie.countryCode||"dz"}/doc/${ie.slug}/`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>G(ie),className:"text-green-600 hover:underline text-sm font-semibold",children:" "}),d.jsx("button",{onClick:()=>De(ie),className:"text-blue-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>j(ie.id),className:"text-red-600 hover:underline text-sm font-semibold",children:""})]})]},ie.id))})]})})}),K&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl",children:d.jsxs("form",{onSubmit:_e,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:"    JSON"})}),d.jsx("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:d.jsxs("div",{children:[d.jsx("label",{htmlFor:"jsonInput",className:"block text-sm font-medium text-gray-700 mb-1",children:" JSON (        )"}),d.jsx("textarea",{id:"jsonInput",value:J,onChange:ie=>ne(ie.target.value),required:!0,className:"w-full h-80 p-2 border rounded-md font-mono text-sm bg-gray-900 text-green-300",dir:"ltr"}),z&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:z})]})}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:he,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",disabled:f,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:f?" ...":" ()"})]})]})})}),o.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-start p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl",children:d.jsxs("form",{onSubmit:de,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:o.mode==="create"?"  ":" "})}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",name:"name",id:"name",value:c.name||"",onChange:ee,required:!0,className:"w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"groupId",className:"block text-sm font-medium text-gray-700 mb-1",children:"  (Group ID)"}),d.jsx("input",{type:"text",name:"groupId",id:"groupId",value:c.groupId||"",onChange:ee,required:!0,className:"w-full p-2 border rounded-md"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"    Group ID      ."})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"id",className:"block text-sm font-medium text-gray-700 mb-1",children:"  (ID)"}),d.jsx("input",{type:"text",name:"id",id:"id",value:c.id||"",onChange:ee,disabled:o.mode==="edit",className:"w-full p-2 border rounded-md bg-gray-100 disabled:cursor-not-allowed",title:o.mode==="edit"?"     ":"   Group ID"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:o.mode==="edit"?"     .":"   Group ID."})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"slug",className:"block text-sm font-medium text-gray-700 mb-1",children:"  (Slug)"}),d.jsx("input",{type:"text",name:"slug",id:"slug",value:c.slug||"",onChange:ee,className:"w-full p-2 border rounded-md"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"  .       ."})]})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-1",children:[d.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:""}),d.jsxs("button",{type:"button",onClick:fe,disabled:P,className:"flex items-center gap-1 text-xs bg-purple-100 text-purple-700 font-semibold py-1 px-2 rounded-md hover:bg-purple-200 disabled:opacity-50",title:"   ",children:[P?d.jsx(St,{className:"animate-spin"}):d.jsx(ea,{}),d.jsx("span",{children:"  "})]})]}),d.jsx(yr,{theme:"snow",value:c.description||"",onChange:ie=>u(ce=>({...ce,description:ie})),modules:qSe})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"countryCode",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",name:"countryCode",id:"countryCode",value:c.countryCode||"",onChange:ee,placeholder:"dz, fr, us...",className:"w-full p-2 border rounded-md"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"   ."})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700 mb-1",children:" ( )"}),d.jsx("input",{type:"text",name:"tags",id:"tags",value:c.tags||"",onChange:ee,className:"w-full p-2 border rounded-md"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 border-t pt-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsxs("div",{className:"flex gap-1 mb-2 border-b",children:[d.jsx("button",{type:"button",onClick:()=>oe("preview","upload"),className:`px-3 py-1 text-sm rounded-t-md ${D.preview==="upload"?"bg-gray-200 font-semibold":"bg-white"}`,children:" "}),d.jsx("button",{type:"button",onClick:()=>oe("preview","code"),className:`px-3 py-1 text-sm rounded-t-md ${D.preview==="code"?"bg-gray-200 font-semibold":"bg-white"}`,children:" "})]}),D.preview==="upload"?d.jsxs(d.Fragment,{children:[d.jsx("input",{type:"file",id:"previewTemplate",onChange:ie=>ae(ie,"preview"),accept:".html",className:"w-full text-sm"}),b.preview&&d.jsxs("span",{className:"text-xs text-gray-500 truncate block mt-1",children:["Selected: ",b.preview.substring(0,50),"..."]})]}):d.jsxs("div",{className:"space-y-1",children:[d.jsx("textarea",{ref:U,value:k.preview,onChange:ie=>F(ce=>({...ce,preview:ie.target.value})),className:"w-full h-32 p-2 border rounded-md font-mono text-xs bg-gray-900 text-green-300",placeholder:"<html>...</html>",dir:"ltr"}),d.jsx("div",{className:"flex justify-end",children:d.jsxs("select",{onChange:ie=>{re("preview",ie.target.value),ie.target.value=""},className:"text-xs bg-gray-200 text-gray-800 font-semibold py-1 px-2 rounded-md hover:bg-gray-300 cursor-pointer border border-gray-300",children:[d.jsx("option",{value:"",children:" ..."}),n.map(ie=>d.jsxs("option",{value:ie.key,children:[ie.description," (",ie.key,")"]},ie.id))]})})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsxs("div",{className:"flex gap-1 mb-2 border-b",children:[d.jsx("button",{type:"button",onClick:()=>oe("final","upload"),className:`px-3 py-1 text-sm rounded-t-md ${D.final==="upload"?"bg-gray-200 font-semibold":"bg-white"}`,children:" "}),d.jsx("button",{type:"button",onClick:()=>oe("final","code"),className:`px-3 py-1 text-sm rounded-t-md ${D.final==="code"?"bg-gray-200 font-semibold":"bg-white"}`,children:" "})]}),D.final==="upload"?d.jsxs(d.Fragment,{children:[d.jsx("input",{type:"file",id:"finalTemplate",onChange:ie=>ae(ie,"final"),accept:".html",className:"w-full text-sm"}),b.final&&d.jsxs("span",{className:"text-xs text-gray-500 truncate block mt-1",children:["Selected: ",b.final.substring(0,50),"..."]})]}):d.jsxs("div",{className:"space-y-1",children:[d.jsx("textarea",{ref:O,value:k.final,onChange:ie=>F(ce=>({...ce,final:ie.target.value})),className:"w-full h-32 p-2 border rounded-md font-mono text-xs bg-gray-900 text-green-300",placeholder:"<html>...</html>",dir:"ltr"}),d.jsx("div",{className:"flex justify-end",children:d.jsxs("select",{onChange:ie=>{re("final",ie.target.value),ie.target.value=""},className:"text-xs bg-gray-200 text-gray-800 font-semibold py-1 px-2 rounded-md hover:bg-gray-300 cursor-pointer border border-gray-300",children:[d.jsx("option",{value:"",children:" ..."}),n.map(ie=>d.jsxs("option",{value:ie.key,children:[ie.description," (",ie.key,")"]},ie.id))]})})]})]})]}),p&&d.jsx("p",{className:"text-red-500 text-sm",children:p})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:Y,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",disabled:f,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:f?" ...":" "})]})]})})}),w.isOpen&&w.doc&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl",children:d.jsxs("form",{onSubmit:ie=>{ie.preventDefault(),be()},children:[d.jsx("div",{className:"p-6 border-b",children:d.jsxs("h2",{className:"text-2xl font-bold",children:["  : ",w.doc.name]})}),d.jsx("div",{className:"p-6 space-y-6 max-h-[70vh] overflow-y-auto",children:Object.keys(Zr).map(ie=>{var ge,ve,Se,Oe,Te,Ue,Le;const ce=(ge=w.doc)==null?void 0:ge.requiredFields.includes(ie);return d.jsxs("div",{className:`p-4 border rounded-md ${ce?"bg-green-50 border-green-200":"bg-gray-50"}`,children:[d.jsx("h3",{className:"font-bold text-lg text-gray-800 mb-3",children:a(Zr[ie].label)}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsxs("select",{value:((ve=S[ie])==null?void 0:ve.type)||"text",onChange:Ge=>me(ie,"type",Ge.target.value),className:"w-full p-2 border rounded-md bg-white",children:[d.jsx("option",{value:"text",children:"  (Text)"}),d.jsx("option",{value:"select",children:"   (Select)"}),d.jsx("option",{value:"multiselect",children:"   (Multi-select)"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  ()"}),d.jsx("input",{type:"text",value:((Se=S[ie])==null?void 0:Se.customQuestion)||"",onChange:Ge=>me(ie,"customQuestion",Ge.target.value),placeholder:"    ",className:"w-full p-2 border rounded-md"})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),d.jsxs("select",{value:((Oe=S[ie])==null?void 0:Oe.speechLang)||"",onChange:Ge=>me(ie,"speechLang",Ge.target.value),className:"w-full p-2 border rounded-md bg-white",children:[d.jsx("option",{value:"",children:" ( )"}),d.jsx("option",{value:"ar-SA",children:""}),d.jsx("option",{value:"en-US",children:""}),d.jsx("option",{value:"fr-FR",children:""})]})]})]}),(((Te=S[ie])==null?void 0:Te.type)==="select"||((Ue=S[ie])==null?void 0:Ue.type)==="multiselect")&&d.jsxs("div",{className:"mt-4 pt-4 border-t",children:[d.jsx("h4",{className:"font-semibold mb-2",children:" "}),d.jsx("div",{className:"space-y-2",children:(((Le=S[ie])==null?void 0:Le.options)||[]).map((Ge,rt)=>d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"text",value:Ge,onChange:it=>je(ie,rt,it.target.value),placeholder:` ${rt+1}`,className:"flex-grow p-2 border rounded-md"}),d.jsx("button",{type:"button",onClick:()=>ye(ie,rt),className:"p-2 bg-red-100 text-red-600 rounded-full hover:bg-red-200",children:d.jsx(Wm,{})})]},rt))}),d.jsxs("button",{type:"button",onClick:()=>V(ie),className:"mt-3 flex items-center gap-2 text-sm bg-green-100 text-green-800 font-semibold py-2 px-3 rounded-lg hover:bg-green-200",children:[d.jsx(nc,{}),"  "]})]})]},ie)})}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:Pe,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",disabled:f,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700",children:f?d.jsx(St,{className:"animate-spin"}):" "})]})]})})})]})},HSe=()=>{const[t,e]=q.useState([]),[n,r]=q.useState({isOpen:!1,mode:"create",client:null}),[i,s]=q.useState({}),{t:a}=aa();q.useEffect(()=>{cp.getAll().then(e)},[]);const o=()=>{cp.getAll().then(e)},l=()=>{s({}),r({isOpen:!0,mode:"create",client:null})},c=y=>{s({...y}),r({isOpen:!0,mode:"edit",client:y})},u=()=>{r({isOpen:!1,mode:"create",client:null})},f=(y,b)=>{s(_=>({..._,[y]:b}))},h=q.useMemo(()=>Object.values(Zr).map(y=>({id:y.id,label:a(y.label)})),[a]),p=y=>{y.forEach(({fieldId:b,value:_})=>{f(b,_)})},v=y=>{y.preventDefault(),n.mode==="create"?cp.create(i):n.client&&cp.update(n.client.id,i),o(),u()},g=y=>{window.confirm("              .")&&(cp.delete(y),o())};return d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:" "}),d.jsx("button",{onClick:l,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"+   "})]}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:t.length>0?t.map(y=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("img",{src:gi(y.profilePicture)||`https://ui-avatars.com/api/?name=${y.fullName||"NN"}&background=random`,alt:y.fullName||"Client",className:"w-10 h-10 rounded-full object-cover"}),d.jsx("span",{children:y.fullName||"-"})]})}),d.jsx("td",{className:"p-3 text-gray-600",children:y.phone||"-"}),d.jsx("td",{className:"p-3 text-gray-600",children:y.email||"-"}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse",children:[d.jsx("button",{onClick:()=>c(y),className:"text-blue-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>g(y.id),className:"text-red-600 hover:underline text-sm font-semibold",children:""})]})]},y.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:4,className:"text-center p-6 text-gray-500",children:'   .   "  " .'})})})]})})}),n.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",children:d.jsxs("form",{onSubmit:v,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:n.mode==="create"?"  ":"  "})}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[d.jsx(rK,{formFields:h,onFieldUpdate:p}),Object.values(Zr).map(y=>{var _;if(!y)return null;const b=y.id;return d.jsxs("div",{children:[d.jsx("label",{htmlFor:y.id,className:"block text-sm font-medium text-gray-700 mb-1",children:a(y.label)}),y.type==="file"?d.jsx(jv,{value:i[b]||"",onChange:w=>f(b,w)}):y.type==="select"?d.jsxs("select",{id:y.id,name:y.id,value:i[b]||"",onChange:w=>f(w.target.name,w.target.value),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",children:[d.jsx("option",{value:"",children:a(y.placeholder)}),(_=y.options)==null?void 0:_.map(w=>d.jsx("option",{value:w.value,children:a(w.label)},w.value))]}):d.jsx("input",{type:y.type,id:y.id,name:y.id,value:i[b]||"",onChange:w=>f(w.target.name,w.target.value),placeholder:a(y.placeholder)||"",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]},y.id)})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:u,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:""})]})]})})})]})},$Se=({onSearch:t})=>{const{wilayas:e,dairas:n,communes:r,locationsLoading:i}=rn(),[s,a]=q.useState(""),[o,l]=q.useState(""),[c,u]=q.useState(""),[f,h]=q.useState(""),[p,v]=q.useState([]),[g,y]=q.useState([]),b=S=>{const R=S.target.value;a(R),l(""),u(""),R?(v(n.filter(D=>D.wilaya_code===R)),y([])):(v([]),y([]))},_=S=>{const R=S.target.value;l(R),u(""),y(R&&s?r.filter(D=>D.daira_name===R&&D.wilaya_code===s):[])},w=S=>{u(S.target.value)},C=S=>{var D;S.preventDefault();const R=((D=e.find(N=>N.code===s))==null?void 0:D.name)||"";t({wilaya:R,daira:o,commune:c,name:f})};return d.jsxs("form",{onSubmit:C,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[d.jsxs("select",{value:s,onChange:b,className:"p-3 bg-white border border-gray-300 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-500",disabled:i,"aria-label":"Select Wilaya",children:[d.jsx("option",{value:"",children:i?" ...":" "}),e.map(S=>d.jsx("option",{value:S.code,children:S.name},S.id))]}),d.jsxs("select",{value:o,onChange:_,className:"p-3 bg-white border border-gray-300 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-500",disabled:!s||p.length===0,"aria-label":"Select Daira",children:[d.jsx("option",{value:"",children:" "}),p.map(S=>d.jsx("option",{value:S.name,children:S.name},S.id))]}),d.jsxs("select",{value:c,onChange:w,className:"p-3 bg-white border border-gray-300 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-500",disabled:!o||g.length===0,"aria-label":"Select Commune",children:[d.jsx("option",{value:"",children:" "}),g.map(S=>d.jsx("option",{value:S.name,children:S.name},S.id))]}),d.jsx("input",{type:"text",placeholder:" ...",value:f,onChange:S=>h(S.target.value),className:"p-3 bg-white border border-gray-300 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-500","aria-label":"Search by cafe name"})]}),d.jsx("button",{type:"submit",className:"w-full bg-green-600 text-white p-3 rounded-lg font-bold hover:bg-green-700 transition-colors",children:""})]})};function GSe(t,e){function n(u){return u*Math.PI/180}const r=6371,i=n(e.latitude-t.latitude),s=n(e.longitude-t.longitude),a=n(t.latitude),o=n(t.latitude),l=Math.sin(i/2)*Math.sin(i/2)+Math.sin(s/2)*Math.sin(s/2)*Math.cos(a)*Math.cos(o),c=2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l));return r*c}const KSe=()=>{const{countryCode:t,type:e,id:n}=ia(),{documents:r,staticDocuments:i,sites:s,cafes:a,loading:o}=rn(),[l,c]=q.useState(null),[u,f]=q.useState([]),[h,p]=q.useState(!1),[v,g]=q.useState(!1),[y,b]=q.useState(!1),[_,w]=q.useState(""),[C,S]=q.useState(!1),[R,D]=q.useState([]),[N,k]=q.useState(0);q.useEffect(()=>{c(null),w(""),(()=>{let J=null;if(e==="doc"&&n){const ne=r.find(z=>z.id===n);if(ne){J={...ne,type:"doc"};const Q=r.filter(j=>j.groupId===ne.groupId).sort((j,W)=>j.name.localeCompare(W.name,"ar"));D(Q);const B=Q.findIndex(j=>j.id===ne.id);k(B>=0?B:0)}}else if(e==="site"&&n){const ne=s.find(z=>z.id===n);ne&&(J={...ne,type:"site"},D([]))}else if(e==="static-doc"&&n){const ne=i.find(z=>z.id===n);ne&&(J={...ne,type:"static-doc"},D([]))}J&&J.countryCode&&J.countryCode!==t?c(null):c(J)})()},[e,n,r,s,i,t]),q.useEffect(()=>{const X=async()=>{if(R.length>0&&N<R.length){const ne=R[N].previewTemplateUrl;if(!ne){w(""),S(!1);return}S(!0);try{const z=await fetch(ne);z.ok?w(await z.text()):w("")}catch(z){console.error("Error fetching preview:",z),w("")}finally{S(!1)}}};(l==null?void 0:l.type)==="doc"&&R.length>0&&X()},[R,N,l]);const F=()=>{k(X=>(X+1)%R.length)},P=()=>{k(X=>(X-1+R.length)%R.length)},I=X=>{if(!l)return;let ne=a;const z=X.name.trim().toLowerCase();X.wilaya&&(ne=ne.filter(Q=>Q.address.wilaya===X.wilaya)),X.daira&&(ne=ne.filter(Q=>Q.address.daira===X.daira)),X.commune&&(ne=ne.filter(Q=>Q.address.commune===X.commune)),z&&(ne=ne.filter(Q=>Q.name.toLowerCase().includes(z))),f(ne),b(!0),p(!1)},U=X=>{const J=X.target.checked;if(p(J),J){if(!navigator.geolocation){alert("     ."),p(!1);return}g(!0),b(!1),navigator.geolocation.getCurrentPosition(ne=>{const z={latitude:ne.coords.latitude,longitude:ne.coords.longitude},B=a.filter(j=>j.address.latitude&&j.address.longitude).map(j=>({...j,distance:GSe(z,j.address)})).sort((j,W)=>j.distance-W.distance);f(B),g(!1),b(!0)},ne=>{console.error("Geolocation error:",ne),alert(`    : ${ne.message}`),g(!1),p(!1)})}else f([]),b(!1)},O=q.useMemo(()=>{if((l==null?void 0:l.type)==="doc"&&R.length>0){const X=R[N];return X?{...X,type:"doc"}:null}else if((l==null?void 0:l.type)==="static-doc")return{...l,type:"static-doc"};return l},[l,R,N]),K=q.useMemo(()=>{if((O==null?void 0:O.type)!=="doc")return[];const X=O;return(X.spokenFields&&X.spokenFields.length>0?X.spokenFields:X.requiredFields).filter(ne=>ne!=="profilePicture").map(ne=>Zr[ne]).filter(ne=>!!ne)},[O]);return O?d.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8 text-center",children:[d.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:O.name}),d.jsx("p",{className:"text-lg text-gray-600",children:"description"in O?O.description:"url"in O?O.url:""})]}),l.type==="doc"&&d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:" "}),d.jsxs("div",{className:"relative",children:[R.length>1&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:P,className:"absolute right-3 top-1/2 -translate-y-1/2 z-10 bg-black bg-opacity-50 text-white p-4 rounded-full hover:bg-opacity-75 transition-all","aria-label":" ",children:d.jsx(fw,{className:"h-6 w-6"})}),d.jsx("button",{onClick:F,className:"absolute left-3 top-1/2 -translate-y-1/2 z-10 bg-black bg-opacity-50 text-white p-4 rounded-full hover:bg-opacity-75 transition-all","aria-label":" ",children:d.jsx(dw,{className:"h-6 w-6"})}),d.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 z-10 bg-black bg-opacity-50 text-white text-sm px-3 py-1 rounded-full",children:[N+1," / ",R.length]})]}),C?d.jsx("div",{className:"flex justify-center items-center h-64 bg-gray-50 rounded-md",children:d.jsx("p",{className:"text-gray-500",children:"  ..."})}):_?d.jsx("iframe",{srcDoc:_,title:" ",className:"w-full h-[70vh] border rounded-md bg-white"}):d.jsx("div",{className:"flex justify-center items-center h-64 bg-gray-50 rounded-md",children:d.jsx("p",{className:"text-gray-500",children:"     ."})})]})]}),l.type==="static-doc"&&"fileUrl"in l&&d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:" "}),d.jsx("iframe",{src:l.fileUrl,title:" ",className:"w-full h-[70vh] border rounded-md bg-white"}),d.jsx("div",{className:"mt-4 text-center",children:d.jsx("a",{href:l.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-green-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-green-700",children:"     "})})]}),O.type==="doc"&&d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"   "}),O.visitorExamplePrompt&&d.jsxs("div",{className:"bg-blue-50 border-r-4 border-blue-400 p-4 rounded-md mb-6",children:[d.jsx("h3",{className:"font-bold text-lg text-blue-800 mb-2",children:"   ():"}),d.jsxs("p",{className:"text-blue-700 leading-relaxed",children:['"',O.visitorExamplePrompt,'"']})]}),K.length>0&&d.jsxs("div",{className:"mt-4",children:[d.jsx("h3",{className:"font-semibold text-gray-800",children:"  :"}),d.jsx("ul",{className:"list-disc list-inside mt-2 space-y-1 text-gray-700",children:K.map(X=>d.jsx("li",{children:X.label},X.id))})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"     "}),!h&&d.jsx($Se,{onSearch:I}),d.jsx("div",{className:"mt-4",children:d.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:h,onChange:U,disabled:v,className:"h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),d.jsx("span",{className:"font-semibold text-gray-700",children:v?"...  ":"    "})]})})]}),y&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("h2",{className:"text-2xl font-bold",children:[" (",u.length,")"]}),u.length>0?d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(X=>d.jsxs("article",{className:"bg-white rounded-lg shadow-md overflow-hidden transition-transform hover:scale-105 duration-300 flex flex-col",children:[d.jsx("img",{src:X.imageUrl,alt:X.name,className:"w-full h-48 object-cover"}),d.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[d.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:X.name}),d.jsxs("p",{className:"text-gray-600 mb-4 text-sm",children:[X.address.commune,", ",X.address.wilaya]}),X.distance!==void 0&&d.jsxs("p",{className:"text-sm font-bold text-blue-700 bg-blue-100 rounded-full px-3 py-1 self-start mb-4",children:["~ ",X.distance.toFixed(1)," "]}),d.jsx("div",{className:"flex-grow"}),d.jsx(tn,{to:`/${t}/profile/${X.numericId}`,className:"block text-center w-full mt-auto bg-blue-100 text-blue-800 font-semibold py-2 px-4 rounded-lg hover:bg-blue-200 transition-colors",children:" "})]})]},X.id))}):d.jsx("div",{className:"text-center py-10 bg-white rounded-lg shadow",children:d.jsx("p",{className:"text-gray-600 text-lg",children:"      ."})})]})]}):d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"    "}),d.jsx(tn,{to:`/${t}/services`,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"   "})]})};if(yr.Quill){const t=yr.Quill.import("attributors/style/size");t.whitelist=["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px"],yr.Quill.register("attributors/style/size",t,!0)}const XSe=t=>t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,""),JSe=()=>{const{staticDocuments:t}=rn(),[e,n]=q.useState(t),[r,i]=q.useState({isOpen:!1,mode:"create",doc:null}),[s,a]=q.useState({name:"",description:"",fileUrl:"",countryCode:"",tags:""}),[o,l]=q.useState(null),[c,u]=q.useState(!1);q.useEffect(()=>n(t),[t]);const f=()=>{a({name:"",description:"",fileUrl:"",countryCode:"",tags:""}),l(null),i({isOpen:!0,mode:"create",doc:null})},h=_=>{a({name:_.name,description:_.description,fileUrl:_.fileUrl,countryCode:_.countryCode||"",tags:_.tags||""}),l(null),i({isOpen:!0,mode:"edit",doc:_})},p=()=>{i({isOpen:!1,mode:"create",doc:null})},v=_=>{_.target.files&&_.target.files[0]&&(l(_.target.files[0]),g(_.target.files[0]))},g=async _=>{if(!_){alert("   .");return}u(!0);try{const w=await fm(_);a(C=>({...C,fileUrl:w})),alert("      !")}catch(w){console.error("Upload error:",w),alert(`  : ${w.message}`)}finally{u(!1)}},y=async _=>{if(_.preventDefault(),!s.fileUrl){alert("     .");return}const w={...s,slug:XSe(s.name)};try{r.mode==="create"?(await Dp.create(w),n(C=>[...C,{...w,id:"new-"+Date.now(),slug:w.slug||""}])):r.doc&&(await Dp.update(r.doc.id,w),n(C=>C.map(S=>S.id===r.doc.id?{...w,id:r.doc.id}:S))),alert("  !"),p()}catch(C){console.error("Failed to save static doc:",C),alert(" .")}},b=async _=>{if(window.confirm("        "))try{await Dp.delete(_),n(w=>w.filter(C=>C.id!==_)),alert("  !")}catch(w){console.error("Failed to delete static doc:",w),alert(" .")}};return d.jsxs("div",{children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"   (PDF)"}),d.jsx("button",{onClick:f,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"+   "})]}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:e.map(_=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:_.name}),d.jsx("td",{className:"p-3 text-gray-600 text-sm max-w-md",title:_.description.replace(/<[^>]*>?/gm,""),children:d.jsx("div",{className:"prose prose-sm max-w-none line-clamp-2 compact-prose",dangerouslySetInnerHTML:{__html:_.description}})}),d.jsx("td",{className:"p-3 text-gray-600",children:_.countryCode||""}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse",children:[_.slug&&d.jsx("a",{href:`/${_.countryCode||"dz"}/doc/${_.slug}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>h(_),className:"text-green-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>b(_.id),className:"text-red-600 hover:underline text-sm font-semibold",children:""})]})]},_.id))})]})})}),r.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",children:d.jsxs("form",{onSubmit:y,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:r.mode==="create"?"  ":" "})}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",id:"name",value:s.name,onChange:_=>a(w=>({...w,name:_.target.value})),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:""}),d.jsx(yr,{theme:"snow",value:s.description,onChange:_=>a(w=>({...w,description:_})),modules:{toolbar:[[{size:["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px",!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"},{align:[]}],["link","image","video"],["clean"]]}})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700 mb-1",children:" ( )"}),d.jsx("input",{type:"text",id:"tags",value:s.tags||"",onChange:_=>a(w=>({...w,tags:_.target.value})),placeholder:":  , , ",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"countryCode",className:"block text-sm font-medium text-gray-700 mb-1",children:" ( : dz)"}),d.jsx("input",{type:"text",id:"countryCode",value:s.countryCode||"",onChange:_=>a(w=>({...w,countryCode:_.target.value.toLowerCase()})),placeholder:"  ",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500"})]}),d.jsxs("div",{className:"space-y-3 border-t pt-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:" "}),d.jsxs("div",{children:[d.jsxs("label",{className:"w-full flex items-center justify-center gap-2 bg-blue-100 text-blue-800 font-semibold py-3 px-4 rounded-lg hover:bg-blue-200 transition-colors cursor-pointer",children:[c?d.jsx(St,{className:"animate-spin"}):d.jsx(Sl,{}),d.jsx("span",{children:c?" ...":"  PDF "}),d.jsx("input",{type:"file",accept:".pdf",onChange:v,className:"hidden"})]}),o&&!c&&d.jsxs("p",{className:"text-xs text-gray-500 mt-2 text-center",children:[" : ",o.name]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"fileUrl",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"url",id:"fileUrl",value:s.fileUrl,readOnly:!0,placeholder:"    ...",className:"block w-full px-3 py-2 bg-gray-100 border border-gray-300 rounded-md shadow-sm"})]})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:p,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:" "})]})]})})})]})},YSe=()=>{const{docId:t}=ia(),{staticDocuments:e,loading:n,siteSettings:r}=rn(),{user:i}=Ar(),s=bi(),a=q.useRef(null),[o,l]=q.useState(!1),[c,u]=q.useState(""),f=q.useMemo(()=>e.find(_=>_.id===t),[e,t]),h=q.useMemo(()=>gi(f==null?void 0:f.fileUrl),[f]),p=(i==null?void 0:i.credits.currency)==="USD"?r==null?void 0:r.pricing.staticDocumentDownload.usd:r==null?void 0:r.pricing.staticDocumentDownload.dzd,v=(i==null?void 0:i.credits.currency)==="USD"?"$":"",g=()=>{const _=a.current;_&&_.contentWindow&&(_.contentWindow.focus(),_.contentWindow.print())},y=()=>{if(f){const _=document.createElement("a");_.href=h,_.setAttribute("download",f.name),document.body.appendChild(_),_.click(),document.body.removeChild(_)}},b=async()=>{if(!i||!r||p===void 0){u("   .        .");return}u("");const _=await GI(i,p);_.success?(l(!0),alert(`  ${p} ${v}  .`)):(u(_.message),_.message.includes("  ")&&setTimeout(()=>s("/app/billing"),2e3))};return n?d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(St,{className:"animate-spin text-4xl text-green-600"})}):f?d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:f.name}),o&&d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:g,className:"flex items-center gap-2 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700",children:[d.jsx(gw,{})," ",d.jsx("span",{children:""})]}),d.jsxs("button",{onClick:y,className:"flex items-center gap-2 bg-green-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-green-700",children:[d.jsx(Du,{})," ",d.jsx("span",{children:""})]})]})]}),d.jsx("div",{className:"border rounded-lg overflow-hidden bg-gray-200",children:o?d.jsx("iframe",{ref:a,src:h,title:f.name,className:"w-full h-[70vh] border-0"}):d.jsxs("div",{className:"flex flex-col items-center justify-center h-[70vh] text-center p-4",children:[d.jsx(k$,{className:"text-5xl text-gray-400 mb-4"}),d.jsx("h2",{className:"text-xl font-bold text-gray-800",children:" "}),d.jsxs("p",{className:"text-gray-600 mb-4",children:["     ",d.jsxs("span",{className:"font-bold font-mono",children:[p," ",v]}),"  ."]}),d.jsx("button",{onClick:b,className:"bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700",children:" "}),c&&d.jsx("p",{className:"text-red-500 mt-4",children:c})]})})]}):d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"    "}),d.jsx(tn,{to:"/app",className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700",children:"   "})]})},QSe=()=>{const{countryCode:t,docId:e}=ia(),n=bi(),{staticDocuments:r,documents:i,fullDocuments:s,siteSettings:a,loading:o}=rn(),l=q.useMemo(()=>{const N=decodeURIComponent(e||""),k=r.find(I=>I.id===N||I.slug===N);if(k)return{...k,serviceType:"static-doc"};const F=i.find(I=>I.id===N||I.slug===N);if(F)return{...F,serviceType:"doc"};const P=s.find(I=>I.id===N||I.slug===N);return P?{...P,serviceType:"doc"}:null},[r,i,s,e]),c=(a==null?void 0:a.ads.pdfInterstitialTimer)??5,[u,f]=q.useState(c),[h,p]=q.useState(!1),v=q.useRef(null),[g,y]=q.useState(!1),[b,_]=q.useState({active:!1,format:null}),[w,C]=q.useState(!1),S=q.useMemo(()=>l?l.serviceType==="static-doc"&&l.fileUrl?gi(l.fileUrl):l.serviceType==="doc"&&"previewTemplateUrl"in l&&l.previewTemplateUrl?gi(l.previewTemplateUrl):"#":"#",[l]);q.useEffect(()=>{!o&&l&&f(c)},[o,l,c]),q.useEffect(()=>{const N=k=>{v.current&&!v.current.contains(k.target)&&y(!1)};return document.addEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[]);const R=async N=>{if(!(w||!l||l.serviceType!=="doc"||!N)){C(!0);try{const k=[...s,...i];if(N==="pdf")await Oy(k,l.id,{},{action:"download",targetLang:"ar",templateType:"preview"});else if(N==="word"){let F="previewTemplateHtml"in l?l.previewTemplateHtml:"";if(!F&&"previewTemplateUrl"in l&&l.previewTemplateUrl){const U=await fetch(gi(l.previewTemplateUrl));U.ok&&(F=await U.text())}if(!F)throw new Error("Could not load Word template content.");const P=new Blob([`
                    <html xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:w='urn:schemas-microsoft-com:office:word' xmlns='http://www.w3.org/TR/REC-html40'>
                    <head><meta charset='utf-8'><title>${l.name}</title></head>
                    <body>${F}</body>
                    </html>
                `],{type:"application/msword"}),I=document.createElement("a");I.href=URL.createObjectURL(P),I.download=`${l.slug||"document"}.doc`,document.body.appendChild(I),I.click(),document.body.removeChild(I),URL.revokeObjectURL(I.href)}}catch(k){console.error("Failed to download document:",k),alert("   .")}finally{C(!1),_({active:!1,format:null})}}};q.useEffect(()=>{if(!(o||!l)){if(b.active)if(u>0){const N=setTimeout(()=>f(k=>k-1),1e3);return()=>clearTimeout(N)}else R(b.format);else if(!h)if(u>0){const N=setTimeout(()=>f(k=>k-1),1e3);return()=>clearTimeout(N)}else p(!0)}},[u,o,l,h,b]);const D=N=>{y(!1),_({active:!0,format:N}),f(c)};if(o)return d.jsxs("div",{className:"flex flex-col items-center justify-center p-10 text-center",children:[d.jsx(St,{className:"animate-spin text-4xl text-green-600 mb-4"}),d.jsx("p",{className:"text-gray-600",children:"  ..."})]});if(!l)return d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"    "}),d.jsx("p",{className:"text-gray-600 mb-6",children:"         ."}),d.jsx(tn,{to:"/",className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"   "})]});if(h){const N=()=>l.serviceType==="doc"&&"previewTemplateHtml"in l&&l.previewTemplateHtml?d.jsx("iframe",{srcDoc:l.previewTemplateHtml,title:l.name,className:"w-full h-full border-0"}):S!=="#"?d.jsx("iframe",{src:S,title:l.name,className:"w-full h-full border-0"}):d.jsx("div",{className:"flex items-center justify-center h-full p-8 text-center",children:d.jsx("p",{className:"text-gray-600 text-lg",children:"     ."})});return d.jsxs(d.Fragment,{children:[b.active&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-[100] flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg border space-y-4 max-w-3xl mx-auto text-center",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"   ..."}),d.jsx("p",{className:"text-gray-600",children:"    :"}),d.jsx("div",{className:"text-5xl font-bold text-green-600 font-mono tracking-widest my-4 p-4 bg-gray-100 rounded-lg",children:w?d.jsx(St,{className:"animate-spin"}):u}),d.jsxs("div",{className:"pt-6 border-t",children:[d.jsx("p",{className:"text-sm text-gray-500 mb-4",children:":"}),d.jsx(rc,{placement:"PDF_INTERSTITIAL"})]})]})}),d.jsxs("div",{className:"flex h-[85vh] gap-4",children:[d.jsxs("aside",{className:"w-64 flex-shrink-0 bg-white rounded-lg shadow-lg border p-4 flex flex-col",children:[d.jsxs("div",{className:"flex-grow space-y-4",children:[d.jsx("h3",{className:"text-lg font-bold text-center border-b pb-3",children:" "}),l.serviceType==="doc"&&d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:()=>n(`/${t}/go-to-site/internal-form`,{state:{targetUrl:`/${t}/public-form/${l.id}`,siteName:` : ${l.name}`}}),className:"w-full flex items-center justify-center gap-2 bg-green-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-green-700 transition-colors",children:[d.jsx(D$,{}),d.jsx("span",{children:"/"})]}),d.jsxs("div",{ref:v,className:"relative",children:[d.jsxs("button",{onClick:()=>y(k=>!k),className:"w-full flex items-center justify-center gap-2 bg-red-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-red-700 transition-colors",children:[d.jsx(Du,{}),d.jsx("span",{children:"  "})]}),g&&d.jsx("div",{className:"absolute bottom-full right-0 mb-2 w-full bg-white rounded-lg shadow-xl border z-10",children:d.jsxs("ul",{className:"py-1",children:[d.jsx("li",{children:d.jsxs("button",{onClick:()=>D("pdf"),className:"w-full text-right flex items-center gap-3 px-4 py-2 hover:bg-gray-100",children:[d.jsx(mw,{className:"text-red-500"}),d.jsx("span",{children:"  PDF"})]})}),d.jsx("li",{children:d.jsxs("button",{onClick:()=>D("word"),className:"w-full text-right flex items-center gap-3 px-4 py-2 hover:bg-gray-100",children:[d.jsx(ZI,{className:"text-blue-500"}),d.jsx("span",{children:"  Word"})]})})]})})]})]})]}),d.jsx("div",{className:"mt-6 pt-6 border-t",children:d.jsx(rc,{placement:"PROFILE_SIDEBAR"})})]}),d.jsx("main",{className:"flex-1 bg-white p-2 rounded-lg shadow-lg border h-full",children:N()})]})]})}return d.jsx("div",{className:"max-w-3xl mx-auto text-center",children:d.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg border space-y-4",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"    ..."}),d.jsxs("p",{className:"text-gray-600",children:['  "',l.name,'"   :']}),d.jsx("div",{className:"text-5xl font-bold text-green-600 font-mono tracking-widest my-4 p-4 bg-gray-100 rounded-lg",children:u}),d.jsxs("div",{className:"pt-6 border-t",children:[d.jsx("p",{className:"text-sm text-gray-500 mb-4",children:":"}),d.jsx(rc,{placement:"PDF_INTERSTITIAL"})]})]})})},ZSe=({cafe:t,linkTo:e,linkState:n,isOnline:r})=>{const i="https://images.unsplash.com/photo-1554118811-1e0d58224f24?auto=format&fit=crop&w=800&q=80",s=t.address.commune&&t.address.wilaya?`${t.address.commune}, ${t.address.wilaya}`:`${t.address.city||""}, ${t.address.state||""}`.replace(/^,|,$/g,"").trim(),a=`/${t.countryCode}/profile/${t.numericId}`;return d.jsxs("article",{className:"bg-white rounded-lg shadow-md overflow-hidden transition-transform hover:scale-105 duration-300 flex flex-col",children:[d.jsx("img",{src:gi(t.imageUrl)||i,alt:t.name,className:"w-full h-48 object-cover",onError:o=>{o.currentTarget.src=i}}),d.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[d.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:t.name}),r!==void 0&&d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx("span",{className:`w-2.5 h-2.5 rounded-full transition-colors duration-500 ${r===null?"bg-gray-300 animate-pulse":r?"bg-green-500":"bg-gray-400"}`}),d.jsx("span",{className:"text-xs text-gray-600",children:r===null?" ...":r?" ":" "})]}),d.jsxs("p",{className:"text-gray-600 mb-1 text-sm",children:[d.jsx("span",{className:"font-semibold",children:":"})," ",t.owner]}),d.jsxs("p",{className:"text-gray-600 mb-2 text-sm",children:[d.jsx("span",{className:"font-semibold",children:":"})," ",s]}),t.distance!==void 0&&d.jsx("div",{className:"mb-4",children:d.jsxs("span",{className:"inline-block bg-green-100 text-green-800 text-xs font-semibold px-2.5 py-1 rounded-full",children:["~ ",t.distance.toFixed(1)," "]})}),d.jsx("p",{className:"text-gray-700 mb-4 flex-grow line-clamp-2",children:t.description}),d.jsxs("div",{className:"mt-auto flex gap-2",children:[e?d.jsx(tn,{to:e,state:n,className:"block text-center flex-grow font-semibold py-2 px-4 rounded-lg transition-colors bg-green-600 text-white hover:bg-green-700",children:"  "}):d.jsx(tn,{to:a,className:"block text-center flex-grow font-semibold py-2 px-4 rounded-lg transition-colors bg-gray-200 text-gray-800 hover:bg-gray-300",children:"  "}),d.jsx(tn,{to:a,state:{openChat:!0},className:"flex-shrink-0 flex items-center justify-center bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors",title:" ",children:d.jsx(YI,{})})]})]})]})},ja=t=>t?t.replace(/[]/g,"").replace(//g,"").toLowerCase():"",eDe=({cafe:t,linkTo:e,linkState:n})=>{const{usePresence:r}=Jf(),{isOnline:i}=r(t.id);return d.jsx(ZSe,{cafe:t,linkTo:e,linkState:n,isOnline:i})},tDe=()=>{const t=Dr(),e=bi(),{countryCode:n}=ia(),{documents:r,sites:i,communes:s,cafes:a}=rn(),{documentIds:o}=t.state||{documentIds:[]},l=q.useMemo(()=>{const D=r.filter(k=>o.includes(k.id)).map(k=>({...k,serviceType:"doc"})),N=i.filter(k=>o.includes(k.id)).map(k=>({...k,serviceType:"site"}));return[...D,...N]},[o,r,i]),[c,u]=q.useState([]),[f,h]=q.useState(!1),[p,v]=q.useState(""),[g,y]=q.useState([]),[b,_]=q.useState(!1),w=q.useMemo(()=>o&&o.length>0?a:[],[o,a]);q.useEffect(()=>{if(!p.trim()){y([]);return}const D=[],N=[],k=new Set,F=ja(p);if(/^\d+$/.test(p)){const I=parseInt(p,10),U=w.find(O=>O.numericId===I);U&&D.push({type:"cafe",data:U})}w.forEach(I=>{!D.some(U=>U.data.id===I.id)&&(ja(I.name).includes(F)||ja(I.owner).includes(F))&&D.push({type:"cafe",data:I})}),s.forEach(I=>{const U=`${I.wilaya_name}, ${I.daira_name}, ${I.name}`;k.has(U)||(ja(I.name).includes(F)||ja(I.daira_name).includes(F)||ja(I.wilaya_name).includes(F))&&(N.push({type:"commune",data:I}),k.add(U))}),y([...D,...N].slice(0,15))},[p,w,s]);const C=D=>{if(D.preventDefault(),_(!1),!p.trim()){u(w),h(!0);return}const N=ja(p),F=/^\d+$/.test(p.trim())?parseInt(p.trim(),10):null,P=w.filter(I=>F!==null&&I.numericId===F||ja(I.name).includes(N)||ja(I.owner).includes(N)||I.address.wilaya&&ja(I.address.wilaya).includes(N)||I.address.daira&&ja(I.address.daira).includes(N)||I.address.commune&&ja(I.address.commune).includes(N));u(P),h(!0)},S=D=>{if(v(""),_(!1),h(!0),D.type==="cafe")e(`/${n}/form`,{state:{cafeId:D.data.id,selectedDocIds:o}});else if(D.type==="commune"){const N=w.filter(k=>k.address.commune===D.data.name&&k.address.daira===D.data.daira_name&&k.address.wilaya===D.data.wilaya_name);u(N)}},R=D=>{switch(D.type){case"cafe":return d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"font-semibold",children:D.data.name}),d.jsxs("span",{className:"text-xs text-gray-500",children:[D.data.address.commune," -  /"]})]});case"commune":return`${D.data.wilaya_name}, ${D.data.daira_name}, ${D.data.name}`}};return o.length===0?d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:":     ."}),d.jsx("p",{className:"text-gray-600 mb-6",children:"       ."}),d.jsx(tn,{to:`/${n}`,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700",children:"   "})]}):d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8 text-center",children:[d.jsx(tn,{to:`/${n}`,className:"text-green-600 hover:underline mb-4 inline-block",children:"    "}),d.jsx("h1",{className:"text-xl font-semibold text-gray-700",children:" 2:    "}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:l.map(D=>D.name).join(" ")})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"  "}),d.jsxs("form",{onSubmit:C,className:"relative max-w-2xl mx-auto flex items-center gap-2",children:[d.jsxs("div",{className:"relative flex-grow",children:[d.jsx(W4,{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"}),d.jsx("input",{type:"text",value:p,onChange:D=>v(D.target.value),onFocus:()=>_(!0),onBlur:()=>setTimeout(()=>_(!1),200),placeholder:"      (  )...",className:"w-full p-4 pr-12 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-lg","aria-label":"  "}),b&&g.length>0&&d.jsx("ul",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-gray-300 rounded-lg shadow-lg z-20 max-h-80 overflow-y-auto",children:g.map((D,N)=>d.jsx("li",{className:"px-4 py-3 cursor-pointer hover:bg-green-50 border-b last:border-b-0",onMouseDown:()=>S(D),children:R(D)},`${D.type}-${D.data.id}-${N}`))})]}),d.jsx("button",{type:"submit",className:"flex-shrink-0 bg-gray-800 text-white p-4 rounded-lg hover:bg-black transition-colors","aria-label":"",children:d.jsx(W4,{className:"h-6 w-6"})})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:f?` (${c.length})`:`      (${w.length})`}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(f?c:w).map(D=>d.jsx(eDe,{cafe:D,linkTo:`/${n}/form`,linkState:{cafeId:D.id,selectedDocIds:o}},D.id))}),f&&c.length===0&&d.jsx("div",{className:"text-center py-10 bg-white rounded-lg shadow",children:d.jsx("p",{className:"text-gray-600 text-lg",children:"         ."})})]})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var O_={};O_.version="0.18.5";var iK=1252,nDe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],vk={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},xk=function(t){nDe.indexOf(t)!=-1&&(iK=vk[0]=t)};function rDe(){xk(1252)}var Io=function(t){xk(t)};function _k(){Io(1200),rDe()}function HO(t){for(var e=[],n=0,r=t.length;n<r;++n)e[n]=t.charCodeAt(n);return e}function iDe(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n)+(t.charCodeAt(2*n+1)<<8));return e.join("")}function sK(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n+1)+(t.charCodeAt(2*n)<<8));return e.join("")}var v0=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1);return e==255&&n==254?iDe(t.slice(2)):e==254&&n==255?sK(t.slice(2)):e==65279?t.slice(1):t},Ax=function(e){return String.fromCharCode(e)},$O=function(e){return String.fromCharCode(e)},Ly,gu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function jy(t){for(var e="",n=0,r=0,i=0,s=0,a=0,o=0,l=0,c=0;c<t.length;)n=t.charCodeAt(c++),s=n>>2,r=t.charCodeAt(c++),a=(n&3)<<4|r>>4,i=t.charCodeAt(c++),o=(r&15)<<2|i>>6,l=i&63,isNaN(r)?o=l=64:isNaN(i)&&(l=64),e+=gu.charAt(s)+gu.charAt(a)+gu.charAt(o)+gu.charAt(l);return e}function Na(t){var e="",n=0,r=0,i=0,s=0,a=0,o=0,l=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<t.length;)s=gu.indexOf(t.charAt(c++)),a=gu.indexOf(t.charAt(c++)),n=s<<2|a>>4,e+=String.fromCharCode(n),o=gu.indexOf(t.charAt(c++)),r=(a&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(r)),l=gu.indexOf(t.charAt(c++)),i=(o&3)<<6|l,l!==64&&(e+=String.fromCharCode(i));return e}var hn=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Dc=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,n){return n?new Buffer(e,n):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function qu(t){return hn?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function GO(t){return hn?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var ba=function(e){return hn?Dc(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)&255})};function Dw(t){if(typeof ArrayBuffer>"u")return ba(t);for(var e=new ArrayBuffer(t.length),n=new Uint8Array(e),r=0;r!=t.length;++r)n[r]=t.charCodeAt(r)&255;return e}function rd(t){if(Array.isArray(t))return t.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],n=0;n<t.length;++n)e[n]=String.fromCharCode(t[n]);return e.join("")}function sDe(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}function bk(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return bk(new Uint8Array(t));for(var e=new Array(t.length),n=0;n<t.length;++n)e[n]=t[n];return e}var Mi=hn?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Dc(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,n=0;for(e=0;e<t.length;++e)n+=t[e].length;var r=new Uint8Array(n),i=0;for(e=0,n=0;e<t.length;n+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)r.set(t[e],n);else{if(typeof t[e]=="string")throw"wtf";r.set(new Uint8Array(t[e]),n)}return r}return[].concat.apply([],t.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function aDe(t){for(var e=[],n=0,r=t.length+250,i=qu(t.length+255),s=0;s<t.length;++s){var a=t.charCodeAt(s);if(a<128)i[n++]=a;else if(a<2048)i[n++]=192|a>>6&31,i[n++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var o=t.charCodeAt(++s)&1023;i[n++]=240|a>>8&7,i[n++]=128|a>>2&63,i[n++]=128|o>>6&15|(a&3)<<4,i[n++]=128|o&63}else i[n++]=224|a>>12&15,i[n++]=128|a>>6&63,i[n++]=128|a&63;n>r&&(e.push(i.slice(0,n)),n=0,i=qu(65535),r=65530)}return e.push(i.slice(0,n)),Mi(e)}var Fs=/\u0000/g,x0=/[\u0001-\u0006]/g;function kp(t){for(var e="",n=t.length-1;n>=0;)e+=t.charAt(n--);return e}function ko(t,e){var n=""+t;return n.length>=e?n:jr("0",e-n.length)+n}function wk(t,e){var n=""+t;return n.length>=e?n:jr(" ",e-n.length)+n}function L_(t,e){var n=""+t;return n.length>=e?n:n+jr(" ",e-n.length)}function oDe(t,e){var n=""+Math.round(t);return n.length>=e?n:jr("0",e-n.length)+n}function lDe(t,e){var n=""+t;return n.length>=e?n:jr("0",e-n.length)+n}var KO=Math.pow(2,32);function Yh(t,e){if(t>KO||t<-KO)return oDe(t,e);var n=Math.round(t);return lDe(n,e)}function j_(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var XO=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],nD=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function cDe(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var Gt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},JO={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},uDe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function B_(t,e,n){for(var r=t<0?-1:1,i=t*r,s=0,a=1,o=0,l=1,c=0,u=0,f=Math.floor(i);c<e&&(f=Math.floor(i),o=f*a+s,u=f*c+l,!(i-f<5e-8));)i=1/(i-f),s=a,a=o,l=c,c=u;if(u>e&&(c>e?(u=l,o=s):(u=c,o=a)),!n)return[0,r*o,u];var h=Math.floor(r*o/u);return[h,r*o-h*u,u]}function ef(t,e,n){if(t>2958465||t<0)return null;var r=t|0,i=Math.floor(86400*(t-r)),s=0,a=[],o={D:r,T:i,u:86400*(t-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(r+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++r,++o.D)),r===60)a=n?[1317,10,29]:[1900,2,29],s=3;else if(r===0)a=n?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var l=new Date(1900,0,1);l.setDate(l.getDate()+r-1),a=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),r<60&&(s=(s+6)%7),n&&(s=gDe(l,a))}return o.y=a[0],o.m=a[1],o.d=a[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=s,o}var aK=new Date(1899,11,31,0,0,0),dDe=aK.getTime(),fDe=new Date(1900,2,1,0,0,0);function oK(t,e){var n=t.getTime();return e?n-=1461*24*60*60*1e3:t>=fDe&&(n+=1440*60*1e3),(n-(dDe+(t.getTimezoneOffset()-aK.getTimezoneOffset())*6e4))/(1440*60*1e3)}function Tk(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function hDe(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function pDe(t){var e=t<0?12:11,n=Tk(t.toFixed(12));return n.length<=e||(n=t.toPrecision(10),n.length<=e)?n:t.toExponential(5)}function mDe(t){var e=Tk(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function By(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),n;return e>=-4&&e<=-1?n=t.toPrecision(10+e):Math.abs(e)<=9?n=pDe(t):e===10?n=t.toFixed(10).substr(0,12):n=mDe(t),Tk(hDe(n.toUpperCase()))}function Rf(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):By(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return so(14,oK(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function gDe(t,e){e[0]-=581;var n=t.getDay();return t<60&&(n=(n+6)%7),n}function yDe(t,e,n,r){var i="",s=0,a=0,o=n.y,l,c=0;switch(t){case 98:o=n.y+543;case 121:switch(e.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(e.length){case 1:case 2:l=n.m,c=e.length;break;case 3:return nD[n.m-1][1];case 5:return nD[n.m-1][0];default:return nD[n.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=n.d,c=e.length;break;case 3:return XO[n.q][0];default:return XO[n.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(n.H+11)%12,c=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=n.H,c=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=n.M,c=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return n.u===0&&(e=="s"||e=="ss")?ko(n.S,e.length):(r>=2?a=r===3?1e3:100:a=r===1?10:1,s=Math.round(a*(n.S+n.u)),s>=60*a&&(s=0),e==="s"?s===0?"0":""+s/a:(i=ko(s,2+r),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=n.D*24+n.H;break;case"[m]":case"[mm]":l=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":l=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+e}c=e.length===3?1:2;break;case 101:l=o,c=1;break}var u=c>0?ko(l,c):"";return u}function yu(t){var e=3;if(t.length<=e)return t;for(var n=t.length%e,r=t.substr(0,n);n!=t.length;n+=e)r+=(r.length>0?",":"")+t.substr(n,e);return r}var lK=/%/g;function vDe(t,e,n){var r=e.replace(lK,""),i=e.length-r.length;return sc(t,r,n*Math.pow(10,2*i))+jr("%",i)}function xDe(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return sc(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function cK(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+cK(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),n.indexOf("e")===-1){var a=Math.floor(Math.log(e)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(a-n.length+s):n+="E+"+(a-s);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(i+s)%i)+"."+u.substr(s)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var uK=/# (\?+)( ?)\/( ?)(\d+)/;function _De(t,e,n){var r=parseInt(t[4],10),i=Math.round(e*r),s=Math.floor(i/r),a=i-s*r,o=r;return n+(s===0?"":""+s)+" "+(a===0?jr(" ",t[1].length+1+t[4].length):wk(a,t[1].length)+t[2]+"/"+t[3]+ko(o,t[4].length))}function bDe(t,e,n){return n+(e===0?"":""+e)+jr(" ",t[1].length+2+t[4].length)}var dK=/^#*0*\.([0#]+)/,fK=/\).*[0#]/,hK=/\(###\) ###\\?-####/;function As(t){for(var e="",n,r=0;r!=t.length;++r)switch(n=t.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(n)}return e}function YO(t,e){var n=Math.pow(10,e);return""+Math.round(t*n)/n}function QO(t,e){var n=t-Math.floor(t),r=Math.pow(10,e);return e<(""+Math.round(n*r)).length?0:Math.round(n*r)}function wDe(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function TDe(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function qa(t,e,n){if(t.charCodeAt(0)===40&&!e.match(fK)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?qa("n",r,n):"("+qa("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return xDe(t,e,n);if(e.indexOf("%")!==-1)return vDe(t,e,n);if(e.indexOf("E")!==-1)return cK(e,n);if(e.charCodeAt(0)===36)return"$"+qa(t,e.substr(e.charAt(1)==" "?2:1),n);var i,s,a,o,l=Math.abs(n),c=n<0?"-":"";if(e.match(/^00+$/))return c+Yh(l,e.length);if(e.match(/^[#?]+$/))return i=Yh(n,0),i==="0"&&(i=""),i.length>e.length?i:As(e.substr(0,e.length-i.length))+i;if(s=e.match(uK))return _De(s,l,c);if(e.match(/^#+0+$/))return c+Yh(l,e.length-e.indexOf("0"));if(s=e.match(dK))return i=YO(n,s[1].length).replace(/^([^\.]+)$/,"$1."+As(s[1])).replace(/\.$/,"."+As(s[1])).replace(/\.(\d*)$/,function(v,g){return"."+g+jr("0",As(s[1]).length-g.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return c+YO(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return c+yu(Yh(l,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+qa(t,e,-n):yu(""+(Math.floor(n)+wDe(n,s[1].length)))+"."+ko(QO(n,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return qa(t,e.replace(/^#,#*,/,""),n);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=kp(qa(t,e.replace(/[\\-]/g,""),n)),a=0,kp(kp(e.replace(/\\/g,"")).replace(/[0#]/g,function(v){return a<i.length?i.charAt(a++):v==="0"?"0":""}));if(e.match(hK))return i=qa(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=B_(l,Math.pow(10,a)-1,!1),i=""+c,u=sc("n",s[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+s[2]+"/"+s[3],u=L_(o[2],a),u.length<s[4].length&&(u=As(s[4].substr(s[4].length-u.length))+u),i+=u,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=B_(l,Math.pow(10,a)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?wk(o[1],a)+s[2]+"/"+s[3]+L_(o[2],a):jr(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=Yh(n,0),e.length<=i.length?i:As(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var f=e.indexOf(".")-a,h=e.length-i.length-f;return As(e.substr(0,f)+i+e.substr(e.length-h))}if(s=e.match(/^00,000\.([#0]*0)$/))return a=QO(n,s[1].length),n<0?"-"+qa(t,e,-n):yu(TDe(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?ko(0,3-v.length):"")+v})+"."+ko(a,s[1].length);switch(e){case"###,##0.00":return qa(t,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var p=yu(Yh(l,0));return p!=="0"?c+p:"";case"###,###.00":return qa(t,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return qa(t,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function EDe(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return sc(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function CDe(t,e,n){var r=e.replace(lK,""),i=e.length-r.length;return sc(t,r,n*Math.pow(10,2*i))+jr("%",i)}function pK(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+pK(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),!n.match(/[Ee]/)){var a=Math.floor(Math.log(e)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(a-n.length+s):n+="E+"+(a-s),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(i+s)%i)+"."+u.substr(s)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function tl(t,e,n){if(t.charCodeAt(0)===40&&!e.match(fK)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?tl("n",r,n):"("+tl("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return EDe(t,e,n);if(e.indexOf("%")!==-1)return CDe(t,e,n);if(e.indexOf("E")!==-1)return pK(e,n);if(e.charCodeAt(0)===36)return"$"+tl(t,e.substr(e.charAt(1)==" "?2:1),n);var i,s,a,o,l=Math.abs(n),c=n<0?"-":"";if(e.match(/^00+$/))return c+ko(l,e.length);if(e.match(/^[#?]+$/))return i=""+n,n===0&&(i=""),i.length>e.length?i:As(e.substr(0,e.length-i.length))+i;if(s=e.match(uK))return bDe(s,l,c);if(e.match(/^#+0+$/))return c+ko(l,e.length-e.indexOf("0"));if(s=e.match(dK))return i=(""+n).replace(/^([^\.]+)$/,"$1."+As(s[1])).replace(/\.$/,"."+As(s[1])),i=i.replace(/\.(\d*)$/,function(v,g){return"."+g+jr("0",As(s[1]).length-g.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return c+yu(""+l);if(s=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+tl(t,e,-n):yu(""+n)+"."+jr("0",s[1].length);if(s=e.match(/^#,#*,#0/))return tl(t,e.replace(/^#,#*,/,""),n);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=kp(tl(t,e.replace(/[\\-]/g,""),n)),a=0,kp(kp(e.replace(/\\/g,"")).replace(/[0#]/g,function(v){return a<i.length?i.charAt(a++):v==="0"?"0":""}));if(e.match(hK))return i=tl(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=B_(l,Math.pow(10,a)-1,!1),i=""+c,u=sc("n",s[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+s[2]+"/"+s[3],u=L_(o[2],a),u.length<s[4].length&&(u=As(s[4].substr(s[4].length-u.length))+u),i+=u,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=B_(l,Math.pow(10,a)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?wk(o[1],a)+s[2]+"/"+s[3]+L_(o[2],a):jr(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+n,e.length<=i.length?i:As(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var f=e.indexOf(".")-a,h=e.length-i.length-f;return As(e.substr(0,f)+i+e.substr(e.length-h))}if(s=e.match(/^00,000\.([#0]*0)$/))return n<0?"-"+tl(t,e,-n):yu(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?ko(0,3-v.length):"")+v})+"."+ko(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var p=yu(""+l);return p!=="0"?c+p:"";default:if(e.match(/\.[0#?]*$/))return tl(t,e.slice(0,e.lastIndexOf(".")),n)+As(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function sc(t,e,n){return(n|0)===n?tl(t,e,n):qa(t,e,n)}function SDe(t){for(var e=[],n=!1,r=0,i=0;r<t.length;++r)switch(t.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=t.substr(i,r-i),i=r+1}if(e[e.length]=t.substr(i),n===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var mK=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Xm(t){for(var e=0,n="",r="";e<t.length;)switch(n=t.charAt(e)){case"G":j_(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=n;t.charAt(e++)!=="]"&&e<t.length;)r+=t.charAt(e);if(r.match(mK))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(n=t.charAt(++e))>-1||n=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===n;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function DDe(t,e,n,r){for(var i=[],s="",a=0,o="",l="t",c,u,f,h="H";a<t.length;)switch(o=t.charAt(a)){case"G":if(!j_(t,a))throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"G",v:"General"},a+=7;break;case'"':for(s="";(f=t.charCodeAt(++a))!==34&&a<t.length;)s+=String.fromCharCode(f);i[i.length]={t:"t",v:s},++a;break;case"\\":var p=t.charAt(++a),v=p==="("||p===")"?p:"t";i[i.length]={t:v,v:p},++a;break;case"_":i[i.length]={t:"t",v:" "},a+=2;break;case"@":i[i.length]={t:"T",v:e},++a;break;case"B":case"b":if(t.charAt(a+1)==="1"||t.charAt(a+1)==="2"){if(c==null&&(c=ef(e,n,t.charAt(a+1)==="2"),c==null))return"";i[i.length]={t:"X",v:t.substr(a,2)},l=o,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||c==null&&(c=ef(e,n),c==null))return"";for(s=o;++a<t.length&&t.charAt(a).toLowerCase()===o;)s+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),i[i.length]={t:o,v:s},l=o;break;case"A":case"a":case"":var g={t:o,v:o};if(c==null&&(c=ef(e,n)),t.substr(a,3).toUpperCase()==="A/P"?(c!=null&&(g.v=c.H>=12?"P":"A"),g.t="T",h="h",a+=3):t.substr(a,5).toUpperCase()==="AM/PM"?(c!=null&&(g.v=c.H>=12?"PM":"AM"),g.t="T",a+=5,h="h"):t.substr(a,5).toUpperCase()==="/"?(c!=null&&(g.v=c.H>=12?"":""),g.t="T",a+=5,h="h"):(g.t="t",++a),c==null&&g.t==="T")return"";i[i.length]=g,l=o;break;case"[":for(s=o;t.charAt(a++)!=="]"&&a<t.length;)s+=t.charAt(a);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(mK)){if(c==null&&(c=ef(e,n),c==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},l=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",Xm(t)||(i[i.length]={t:"t",v:s}));break;case".":if(c!=null){for(s=o;++a<t.length&&(o=t.charAt(a))==="0";)s+=o;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=o;++a<t.length&&"0#?.,E+-%".indexOf(o=t.charAt(a))>-1;)s+=o;i[i.length]={t:"n",v:s};break;case"?":for(s=o;t.charAt(++a)===o;)s+=o;i[i.length]={t:o,v:s},l=o;break;case"*":++a,(t.charAt(a)==" "||t.charAt(a)=="*")&&++a;break;case"(":case")":i[i.length]={t:r===1?"t":o,v:o},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=o;a<t.length&&"0123456789".indexOf(t.charAt(++a))>-1;)s+=t.charAt(a);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:o,v:o},++a;break;case"$":i[i.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"t",v:o},++a;break}var y=0,b=0,_;for(a=i.length-1,l="t";a>=0;--a)switch(i[a].t){case"h":case"H":i[a].t=h,l="h",y<1&&(y=1);break;case"s":(_=i[a].v.match(/\.0+$/))&&(b=Math.max(b,_[0].length-1)),y<3&&(y=3);case"d":case"y":case"M":case"e":l=i[a].t;break;case"m":l==="s"&&(i[a].t="M",y<2&&(y=2));break;case"X":break;case"Z":y<1&&i[a].v.match(/[Hh]/)&&(y=1),y<2&&i[a].v.match(/[Mm]/)&&(y=2),y<3&&i[a].v.match(/[Ss]/)&&(y=3)}switch(y){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var w="",C;for(a=0;a<i.length;++a)switch(i[a].t){case"t":case"T":case" ":case"D":break;case"X":i[a].v="",i[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[a].v=yDe(i[a].t.charCodeAt(0),i[a].v,c,b),i[a].t="t";break;case"n":case"?":for(C=a+1;i[C]!=null&&((o=i[C].t)==="?"||o==="D"||(o===" "||o==="t")&&i[C+1]!=null&&(i[C+1].t==="?"||i[C+1].t==="t"&&i[C+1].v==="/")||i[a].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[C].v==="/"||i[C].v===" "&&i[C+1]!=null&&i[C+1].t=="?"));)i[a].v+=i[C].v,i[C]={v:"",t:";"},++C;w+=i[a].v,a=C-1;break;case"G":i[a].t="t",i[a].v=Rf(e,n);break}var S="",R,D;if(w.length>0){w.charCodeAt(0)==40?(R=e<0&&w.charCodeAt(0)===45?-e:e,D=sc("n",w,R)):(R=e<0&&r>1?-e:e,D=sc("n",w,R),R<0&&i[0]&&i[0].t=="t"&&(D=D.substr(1),i[0].v="-"+i[0].v)),C=D.length-1;var N=i.length;for(a=0;a<i.length;++a)if(i[a]!=null&&i[a].t!="t"&&i[a].v.indexOf(".")>-1){N=a;break}var k=i.length;if(N===i.length&&D.indexOf("E")===-1){for(a=i.length-1;a>=0;--a)i[a]==null||"n?".indexOf(i[a].t)===-1||(C>=i[a].v.length-1?(C-=i[a].v.length,i[a].v=D.substr(C+1,i[a].v.length)):C<0?i[a].v="":(i[a].v=D.substr(0,C+1),C=-1),i[a].t="t",k=a);C>=0&&k<i.length&&(i[k].v=D.substr(0,C+1)+i[k].v)}else if(N!==i.length&&D.indexOf("E")===-1){for(C=D.indexOf(".")-1,a=N;a>=0;--a)if(!(i[a]==null||"n?".indexOf(i[a].t)===-1)){for(u=i[a].v.indexOf(".")>-1&&a===N?i[a].v.indexOf(".")-1:i[a].v.length-1,S=i[a].v.substr(u+1);u>=0;--u)C>=0&&(i[a].v.charAt(u)==="0"||i[a].v.charAt(u)==="#")&&(S=D.charAt(C--)+S);i[a].v=S,i[a].t="t",k=a}for(C>=0&&k<i.length&&(i[k].v=D.substr(0,C+1)+i[k].v),C=D.indexOf(".")+1,a=N;a<i.length;++a)if(!(i[a]==null||"n?(".indexOf(i[a].t)===-1&&a!==N)){for(u=i[a].v.indexOf(".")>-1&&a===N?i[a].v.indexOf(".")+1:0,S=i[a].v.substr(0,u);u<i[a].v.length;++u)C<D.length&&(S+=D.charAt(C++));i[a].v=S,i[a].t="t",k=a}}}for(a=0;a<i.length;++a)i[a]!=null&&"n?".indexOf(i[a].t)>-1&&(R=r>1&&e<0&&a>0&&i[a-1].v==="-"?-e:e,i[a].v=sc(i[a].t,i[a].v,R),i[a].t="t");var F="";for(a=0;a!==i.length;++a)i[a]!=null&&(F+=i[a].v);return F}var ZO=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function e7(t,e){if(e==null)return!1;var n=parseFloat(e[2]);switch(e[1]){case"=":if(t==n)return!0;break;case">":if(t>n)return!0;break;case"<":if(t<n)return!0;break;case"<>":if(t!=n)return!0;break;case">=":if(t>=n)return!0;break;case"<=":if(t<=n)return!0;break}return!1}function ADe(t,e){var n=SDe(t),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof e!="number")return[4,n.length===4||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var s=e>0?n[0]:e<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,s];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var a=n[0].match(ZO),o=n[1].match(ZO);return e7(e,a)?[r,n[0]]:e7(e,o)?[r,n[1]]:[r,n[a!=null&&o!=null?2:1]]}return[r,s]}function so(t,e,n){n==null&&(n={});var r="";switch(typeof t){case"string":t=="m/d/yy"&&n.dateNF?r=n.dateNF:r=t;break;case"number":t==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:Gt)[t],r==null&&(r=n.table&&n.table[JO[t]]||Gt[JO[t]]),r==null&&(r=uDe[t]||"General");break}if(j_(r,0))return Rf(e,n);e instanceof Date&&(e=oK(e,n.date1904));var i=ADe(r,e);if(j_(i[1]))return Rf(e,n);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return DDe(i[1],e,n,i[0])}function ac(t,e){if(typeof e!="number"){e=+e||-1;for(var n=0;n<392;++n){if(Gt[n]==null){e<0&&(e=n);continue}if(Gt[n]==t){e=n;break}}e<0&&(e=391)}return Gt[e]=t,e}function Aw(t){for(var e=0;e!=392;++e)t[e]!==void 0&&ac(t[e],e)}function Jm(){Gt=cDe()}var NDe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},gK=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function IDe(t){var e=typeof t=="number"?Gt[t]:t;return e=e.replace(gK,"(\\d+)"),new RegExp("^"+e+"$")}function kDe(t,e,n){var r=-1,i=-1,s=-1,a=-1,o=-1,l=-1;(e.match(gK)||[]).forEach(function(f,h){var p=parseInt(n[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":r=p;break;case"d":s=p;break;case"h":a=p;break;case"s":l=p;break;case"m":a>=0?o=p:i=p;break}}),l>=0&&o==-1&&i>=0&&(o=i,i=-1);var c=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return a==-1&&o==-1&&l==-1?c:r==-1&&i==-1&&s==-1?u:c+"T"+u}var RDe=(function(){var t={};t.version="1.2.0";function e(){for(var D=0,N=new Array(256),k=0;k!=256;++k)D=k,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,N[k]=D;return typeof Int32Array<"u"?new Int32Array(N):N}var n=e();function r(D){var N=0,k=0,F=0,P=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(F=0;F!=256;++F)P[F]=D[F];for(F=0;F!=256;++F)for(k=D[F],N=256+F;N<4096;N+=256)k=P[N]=k>>>8^D[k&255];var I=[];for(F=1;F!=16;++F)I[F-1]=typeof Int32Array<"u"?P.subarray(F*256,F*256+256):P.slice(F*256,F*256+256);return I}var i=r(n),s=i[0],a=i[1],o=i[2],l=i[3],c=i[4],u=i[5],f=i[6],h=i[7],p=i[8],v=i[9],g=i[10],y=i[11],b=i[12],_=i[13],w=i[14];function C(D,N){for(var k=N^-1,F=0,P=D.length;F<P;)k=k>>>8^n[(k^D.charCodeAt(F++))&255];return~k}function S(D,N){for(var k=N^-1,F=D.length-15,P=0;P<F;)k=w[D[P++]^k&255]^_[D[P++]^k>>8&255]^b[D[P++]^k>>16&255]^y[D[P++]^k>>>24]^g[D[P++]]^v[D[P++]]^p[D[P++]]^h[D[P++]]^f[D[P++]]^u[D[P++]]^c[D[P++]]^l[D[P++]]^o[D[P++]]^a[D[P++]]^s[D[P++]]^n[D[P++]];for(F+=15;P<F;)k=k>>>8^n[(k^D[P++])&255];return~k}function R(D,N){for(var k=N^-1,F=0,P=D.length,I=0,U=0;F<P;)I=D.charCodeAt(F++),I<128?k=k>>>8^n[(k^I)&255]:I<2048?(k=k>>>8^n[(k^(192|I>>6&31))&255],k=k>>>8^n[(k^(128|I&63))&255]):I>=55296&&I<57344?(I=(I&1023)+64,U=D.charCodeAt(F++)&1023,k=k>>>8^n[(k^(240|I>>8&7))&255],k=k>>>8^n[(k^(128|I>>2&63))&255],k=k>>>8^n[(k^(128|U>>6&15|(I&3)<<4))&255],k=k>>>8^n[(k^(128|U&63))&255]):(k=k>>>8^n[(k^(224|I>>12&15))&255],k=k>>>8^n[(k^(128|I>>6&63))&255],k=k>>>8^n[(k^(128|I&63))&255]);return~k}return t.table=n,t.bstr=C,t.buf=S,t.str=R,t})(),Wt=(function(){var e={};e.version="1.2.1";function n(ue,Ae){for(var Ee=ue.split("/"),Ne=Ae.split("/"),Ie=0,Re=0,ze=Math.min(Ee.length,Ne.length);Ie<ze;++Ie){if(Re=Ee[Ie].length-Ne[Ie].length)return Re;if(Ee[Ie]!=Ne[Ie])return Ee[Ie]<Ne[Ie]?-1:1}return Ee.length-Ne.length}function r(ue){if(ue.charAt(ue.length-1)=="/")return ue.slice(0,-1).indexOf("/")===-1?ue:r(ue.slice(0,-1));var Ae=ue.lastIndexOf("/");return Ae===-1?ue:ue.slice(0,Ae+1)}function i(ue){if(ue.charAt(ue.length-1)=="/")return i(ue.slice(0,-1));var Ae=ue.lastIndexOf("/");return Ae===-1?ue:ue.slice(Ae+1)}function s(ue,Ae){typeof Ae=="string"&&(Ae=new Date(Ae));var Ee=Ae.getHours();Ee=Ee<<6|Ae.getMinutes(),Ee=Ee<<5|Ae.getSeconds()>>>1,ue.write_shift(2,Ee);var Ne=Ae.getFullYear()-1980;Ne=Ne<<4|Ae.getMonth()+1,Ne=Ne<<5|Ae.getDate(),ue.write_shift(2,Ne)}function a(ue){var Ae=ue.read_shift(2)&65535,Ee=ue.read_shift(2)&65535,Ne=new Date,Ie=Ee&31;Ee>>>=5;var Re=Ee&15;Ee>>>=4,Ne.setMilliseconds(0),Ne.setFullYear(Ee+1980),Ne.setMonth(Re-1),Ne.setDate(Ie);var ze=Ae&31;Ae>>>=5;var et=Ae&63;return Ae>>>=6,Ne.setHours(Ae),Ne.setMinutes(et),Ne.setSeconds(ze<<1),Ne}function o(ue){$i(ue,0);for(var Ae={},Ee=0;ue.l<=ue.length-4;){var Ne=ue.read_shift(2),Ie=ue.read_shift(2),Re=ue.l+Ie,ze={};switch(Ne){case 21589:Ee=ue.read_shift(1),Ee&1&&(ze.mtime=ue.read_shift(4)),Ie>5&&(Ee&2&&(ze.atime=ue.read_shift(4)),Ee&4&&(ze.ctime=ue.read_shift(4))),ze.mtime&&(ze.mt=new Date(ze.mtime*1e3));break}ue.l=Re,Ae[Ne]=ze}return Ae}var l;function c(){return l||(l={})}function u(ue,Ae){if(ue[0]==80&&ue[1]==75)return cr(ue,Ae);if((ue[0]|32)==109&&(ue[1]|32)==105)return Rt(ue,Ae);if(ue.length<512)throw new Error("CFB file size "+ue.length+" < 512");var Ee=3,Ne=512,Ie=0,Re=0,ze=0,et=0,Ke=0,Je=[],Ye=ue.slice(0,512);$i(Ye,0);var ft=f(Ye);switch(Ee=ft[0],Ee){case 3:Ne=512;break;case 4:Ne=4096;break;case 0:if(ft[1]==0)return cr(ue,Ae);default:throw new Error("Major Version: Expected 3 or 4 saw "+Ee)}Ne!==512&&(Ye=ue.slice(0,Ne),$i(Ye,28));var _t=ue.slice(0,Ne);h(Ye,Ee);var At=Ye.read_shift(4,"i");if(Ee===3&&At!==0)throw new Error("# Directory Sectors: Expected 0 saw "+At);Ye.l+=4,ze=Ye.read_shift(4,"i"),Ye.l+=4,Ye.chk("00100000","Mini Stream Cutoff Size: "),et=Ye.read_shift(4,"i"),Ie=Ye.read_shift(4,"i"),Ke=Ye.read_shift(4,"i"),Re=Ye.read_shift(4,"i");for(var gt=-1,ht=0;ht<109&&(gt=Ye.read_shift(4,"i"),!(gt<0));++ht)Je[ht]=gt;var Qt=p(ue,Ne);y(Ke,Re,Qt,Ne,Je);var Mn=_(Qt,ze,Je,Ne);Mn[ze].name="!Directory",Ie>0&&et!==U&&(Mn[et].name="!MiniFAT"),Mn[Je[0]].name="!FAT",Mn.fat_addrs=Je,Mn.ssz=Ne;var An={},Bn=[],co=[],Wo=[];w(ze,Mn,Qt,Bn,Ie,An,co,et),v(co,Wo,Bn),Bn.shift();var ca={FileIndex:co,FullPaths:Wo};return Ae&&Ae.raw&&(ca.raw={header:_t,sectors:Qt}),ca}function f(ue){if(ue[ue.l]==80&&ue[ue.l+1]==75)return[0,0];ue.chk(O,"Header Signature: "),ue.l+=16;var Ae=ue.read_shift(2,"u");return[ue.read_shift(2,"u"),Ae]}function h(ue,Ae){var Ee=9;switch(ue.l+=2,Ee=ue.read_shift(2)){case 9:if(Ae!=3)throw new Error("Sector Shift: Expected 9 saw "+Ee);break;case 12:if(Ae!=4)throw new Error("Sector Shift: Expected 12 saw "+Ee);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Ee)}ue.chk("0600","Mini Sector Shift: "),ue.chk("000000000000","Reserved: ")}function p(ue,Ae){for(var Ee=Math.ceil(ue.length/Ae)-1,Ne=[],Ie=1;Ie<Ee;++Ie)Ne[Ie-1]=ue.slice(Ie*Ae,(Ie+1)*Ae);return Ne[Ee-1]=ue.slice(Ee*Ae),Ne}function v(ue,Ae,Ee){for(var Ne=0,Ie=0,Re=0,ze=0,et=0,Ke=Ee.length,Je=[],Ye=[];Ne<Ke;++Ne)Je[Ne]=Ye[Ne]=Ne,Ae[Ne]=Ee[Ne];for(;et<Ye.length;++et)Ne=Ye[et],Ie=ue[Ne].L,Re=ue[Ne].R,ze=ue[Ne].C,Je[Ne]===Ne&&(Ie!==-1&&Je[Ie]!==Ie&&(Je[Ne]=Je[Ie]),Re!==-1&&Je[Re]!==Re&&(Je[Ne]=Je[Re])),ze!==-1&&(Je[ze]=Ne),Ie!==-1&&Ne!=Je[Ne]&&(Je[Ie]=Je[Ne],Ye.lastIndexOf(Ie)<et&&Ye.push(Ie)),Re!==-1&&Ne!=Je[Ne]&&(Je[Re]=Je[Ne],Ye.lastIndexOf(Re)<et&&Ye.push(Re));for(Ne=1;Ne<Ke;++Ne)Je[Ne]===Ne&&(Re!==-1&&Je[Re]!==Re?Je[Ne]=Je[Re]:Ie!==-1&&Je[Ie]!==Ie&&(Je[Ne]=Je[Ie]));for(Ne=1;Ne<Ke;++Ne)if(ue[Ne].type!==0){if(et=Ne,et!=Je[et])do et=Je[et],Ae[Ne]=Ae[et]+"/"+Ae[Ne];while(et!==0&&Je[et]!==-1&&et!=Je[et]);Je[Ne]=-1}for(Ae[0]+="/",Ne=1;Ne<Ke;++Ne)ue[Ne].type!==2&&(Ae[Ne]+="/")}function g(ue,Ae,Ee){for(var Ne=ue.start,Ie=ue.size,Re=[],ze=Ne;Ee&&Ie>0&&ze>=0;)Re.push(Ae.slice(ze*I,ze*I+I)),Ie-=I,ze=$d(Ee,ze*4);return Re.length===0?nt(0):Mi(Re).slice(0,ue.size)}function y(ue,Ae,Ee,Ne,Ie){var Re=U;if(ue===U){if(Ae!==0)throw new Error("DIFAT chain shorter than expected")}else if(ue!==-1){var ze=Ee[ue],et=(Ne>>>2)-1;if(!ze)return;for(var Ke=0;Ke<et&&(Re=$d(ze,Ke*4))!==U;++Ke)Ie.push(Re);y($d(ze,Ne-4),Ae-1,Ee,Ne,Ie)}}function b(ue,Ae,Ee,Ne,Ie){var Re=[],ze=[];Ie||(Ie=[]);var et=Ne-1,Ke=0,Je=0;for(Ke=Ae;Ke>=0;){Ie[Ke]=!0,Re[Re.length]=Ke,ze.push(ue[Ke]);var Ye=Ee[Math.floor(Ke*4/Ne)];if(Je=Ke*4&et,Ne<4+Je)throw new Error("FAT boundary crossed: "+Ke+" 4 "+Ne);if(!ue[Ye])break;Ke=$d(ue[Ye],Je)}return{nodes:Re,data:f7([ze])}}function _(ue,Ae,Ee,Ne){var Ie=ue.length,Re=[],ze=[],et=[],Ke=[],Je=Ne-1,Ye=0,ft=0,_t=0,At=0;for(Ye=0;Ye<Ie;++Ye)if(et=[],_t=Ye+Ae,_t>=Ie&&(_t-=Ie),!ze[_t]){Ke=[];var gt=[];for(ft=_t;ft>=0;){gt[ft]=!0,ze[ft]=!0,et[et.length]=ft,Ke.push(ue[ft]);var ht=Ee[Math.floor(ft*4/Ne)];if(At=ft*4&Je,Ne<4+At)throw new Error("FAT boundary crossed: "+ft+" 4 "+Ne);if(!ue[ht]||(ft=$d(ue[ht],At),gt[ft]))break}Re[_t]={nodes:et,data:f7([Ke])}}return Re}function w(ue,Ae,Ee,Ne,Ie,Re,ze,et){for(var Ke=0,Je=Ne.length?2:0,Ye=Ae[ue].data,ft=0,_t=0,At;ft<Ye.length;ft+=128){var gt=Ye.slice(ft,ft+128);$i(gt,64),_t=gt.read_shift(2),At=Ik(gt,0,_t-Je),Ne.push(At);var ht={name:At,type:gt.read_shift(1),color:gt.read_shift(1),L:gt.read_shift(4,"i"),R:gt.read_shift(4,"i"),C:gt.read_shift(4,"i"),clsid:gt.read_shift(16),state:gt.read_shift(4,"i"),start:0,size:0},Qt=gt.read_shift(2)+gt.read_shift(2)+gt.read_shift(2)+gt.read_shift(2);Qt!==0&&(ht.ct=C(gt,gt.l-8));var Mn=gt.read_shift(2)+gt.read_shift(2)+gt.read_shift(2)+gt.read_shift(2);Mn!==0&&(ht.mt=C(gt,gt.l-8)),ht.start=gt.read_shift(4,"i"),ht.size=gt.read_shift(4,"i"),ht.size<0&&ht.start<0&&(ht.size=ht.type=0,ht.start=U,ht.name=""),ht.type===5?(Ke=ht.start,Ie>0&&Ke!==U&&(Ae[Ke].name="!StreamData")):ht.size>=4096?(ht.storage="fat",Ae[ht.start]===void 0&&(Ae[ht.start]=b(Ee,ht.start,Ae.fat_addrs,Ae.ssz)),Ae[ht.start].name=ht.name,ht.content=Ae[ht.start].data.slice(0,ht.size)):(ht.storage="minifat",ht.size<0?ht.size=0:Ke!==U&&ht.start!==U&&Ae[Ke]&&(ht.content=g(ht,Ae[Ke].data,(Ae[et]||{}).data))),ht.content&&$i(ht.content,0),Re[At]=ht,ze.push(ht)}}function C(ue,Ae){return new Date((_a(ue,Ae+4)/1e7*Math.pow(2,32)+_a(ue,Ae)/1e7-11644473600)*1e3)}function S(ue,Ae){return c(),u(l.readFileSync(ue),Ae)}function R(ue,Ae){var Ee=Ae&&Ae.type;switch(Ee||hn&&Buffer.isBuffer(ue)&&(Ee="buffer"),Ee||"base64"){case"file":return S(ue,Ae);case"base64":return u(ba(Na(ue)),Ae);case"binary":return u(ba(ue),Ae)}return u(ue,Ae)}function D(ue,Ae){var Ee=Ae||{},Ne=Ee.root||"Root Entry";if(ue.FullPaths||(ue.FullPaths=[]),ue.FileIndex||(ue.FileIndex=[]),ue.FullPaths.length!==ue.FileIndex.length)throw new Error("inconsistent CFB structure");ue.FullPaths.length===0&&(ue.FullPaths[0]=Ne+"/",ue.FileIndex[0]={name:Ne,type:5}),Ee.CLSID&&(ue.FileIndex[0].clsid=Ee.CLSID),N(ue)}function N(ue){var Ae="Sh33tJ5";if(!Wt.find(ue,"/"+Ae)){var Ee=nt(4);Ee[0]=55,Ee[1]=Ee[3]=50,Ee[2]=54,ue.FileIndex.push({name:Ae,type:2,content:Ee,size:4,L:69,R:69,C:69}),ue.FullPaths.push(ue.FullPaths[0]+Ae),k(ue)}}function k(ue,Ae){D(ue);for(var Ee=!1,Ne=!1,Ie=ue.FullPaths.length-1;Ie>=0;--Ie){var Re=ue.FileIndex[Ie];switch(Re.type){case 0:Ne?Ee=!0:(ue.FileIndex.pop(),ue.FullPaths.pop());break;case 1:case 2:case 5:Ne=!0,isNaN(Re.R*Re.L*Re.C)&&(Ee=!0),Re.R>-1&&Re.L>-1&&Re.R==Re.L&&(Ee=!0);break;default:Ee=!0;break}}if(!(!Ee&&!Ae)){var ze=new Date(1987,1,19),et=0,Ke=Object.create?Object.create(null):{},Je=[];for(Ie=0;Ie<ue.FullPaths.length;++Ie)Ke[ue.FullPaths[Ie]]=!0,ue.FileIndex[Ie].type!==0&&Je.push([ue.FullPaths[Ie],ue.FileIndex[Ie]]);for(Ie=0;Ie<Je.length;++Ie){var Ye=r(Je[Ie][0]);Ne=Ke[Ye],Ne||(Je.push([Ye,{name:i(Ye).replace("/",""),type:1,clsid:X,ct:ze,mt:ze,content:null}]),Ke[Ye]=!0)}for(Je.sort(function(At,gt){return n(At[0],gt[0])}),ue.FullPaths=[],ue.FileIndex=[],Ie=0;Ie<Je.length;++Ie)ue.FullPaths[Ie]=Je[Ie][0],ue.FileIndex[Ie]=Je[Ie][1];for(Ie=0;Ie<Je.length;++Ie){var ft=ue.FileIndex[Ie],_t=ue.FullPaths[Ie];if(ft.name=i(_t).replace("/",""),ft.L=ft.R=ft.C=-(ft.color=1),ft.size=ft.content?ft.content.length:0,ft.start=0,ft.clsid=ft.clsid||X,Ie===0)ft.C=Je.length>1?1:-1,ft.size=0,ft.type=5;else if(_t.slice(-1)=="/"){for(et=Ie+1;et<Je.length&&r(ue.FullPaths[et])!=_t;++et);for(ft.C=et>=Je.length?-1:et,et=Ie+1;et<Je.length&&r(ue.FullPaths[et])!=r(_t);++et);ft.R=et>=Je.length?-1:et,ft.type=1}else r(ue.FullPaths[Ie+1]||"")==r(_t)&&(ft.R=Ie+1),ft.type=2}}}function F(ue,Ae){var Ee=Ae||{};if(Ee.fileType=="mad")return at(ue,Ee);switch(k(ue),Ee.fileType){case"zip":return En(ue,Ee)}var Ne=(function(At){for(var gt=0,ht=0,Qt=0;Qt<At.FileIndex.length;++Qt){var Mn=At.FileIndex[Qt];if(Mn.content){var An=Mn.content.length;An>0&&(An<4096?gt+=An+63>>6:ht+=An+511>>9)}}for(var Bn=At.FullPaths.length+3>>2,co=gt+7>>3,Wo=gt+127>>7,ca=co+ht+Bn+Wo,Kr=ca+127>>7,Ic=Kr<=109?0:Math.ceil((Kr-109)/127);ca+Kr+Ic+127>>7>Kr;)Ic=++Kr<=109?0:Math.ceil((Kr-109)/127);var ur=[1,Ic,Kr,Wo,Bn,ht,gt,0];return At.FileIndex[0].size=gt<<6,ur[7]=(At.FileIndex[0].start=ur[0]+ur[1]+ur[2]+ur[3]+ur[4]+ur[5])+(ur[6]+7>>3),ur})(ue),Ie=nt(Ne[7]<<9),Re=0,ze=0;{for(Re=0;Re<8;++Re)Ie.write_shift(1,K[Re]);for(Re=0;Re<8;++Re)Ie.write_shift(2,0);for(Ie.write_shift(2,62),Ie.write_shift(2,3),Ie.write_shift(2,65534),Ie.write_shift(2,9),Ie.write_shift(2,6),Re=0;Re<3;++Re)Ie.write_shift(2,0);for(Ie.write_shift(4,0),Ie.write_shift(4,Ne[2]),Ie.write_shift(4,Ne[0]+Ne[1]+Ne[2]+Ne[3]-1),Ie.write_shift(4,0),Ie.write_shift(4,4096),Ie.write_shift(4,Ne[3]?Ne[0]+Ne[1]+Ne[2]-1:U),Ie.write_shift(4,Ne[3]),Ie.write_shift(-4,Ne[1]?Ne[0]-1:U),Ie.write_shift(4,Ne[1]),Re=0;Re<109;++Re)Ie.write_shift(-4,Re<Ne[2]?Ne[1]+Re:-1)}if(Ne[1])for(ze=0;ze<Ne[1];++ze){for(;Re<236+ze*127;++Re)Ie.write_shift(-4,Re<Ne[2]?Ne[1]+Re:-1);Ie.write_shift(-4,ze===Ne[1]-1?U:ze+1)}var et=function(At){for(ze+=At;Re<ze-1;++Re)Ie.write_shift(-4,Re+1);At&&(++Re,Ie.write_shift(-4,U))};for(ze=Re=0,ze+=Ne[1];Re<ze;++Re)Ie.write_shift(-4,J.DIFSECT);for(ze+=Ne[2];Re<ze;++Re)Ie.write_shift(-4,J.FATSECT);et(Ne[3]),et(Ne[4]);for(var Ke=0,Je=0,Ye=ue.FileIndex[0];Ke<ue.FileIndex.length;++Ke)Ye=ue.FileIndex[Ke],Ye.content&&(Je=Ye.content.length,!(Je<4096)&&(Ye.start=ze,et(Je+511>>9)));for(et(Ne[6]+7>>3);Ie.l&511;)Ie.write_shift(-4,J.ENDOFCHAIN);for(ze=Re=0,Ke=0;Ke<ue.FileIndex.length;++Ke)Ye=ue.FileIndex[Ke],Ye.content&&(Je=Ye.content.length,!(!Je||Je>=4096)&&(Ye.start=ze,et(Je+63>>6)));for(;Ie.l&511;)Ie.write_shift(-4,J.ENDOFCHAIN);for(Re=0;Re<Ne[4]<<2;++Re){var ft=ue.FullPaths[Re];if(!ft||ft.length===0){for(Ke=0;Ke<17;++Ke)Ie.write_shift(4,0);for(Ke=0;Ke<3;++Ke)Ie.write_shift(4,-1);for(Ke=0;Ke<12;++Ke)Ie.write_shift(4,0);continue}Ye=ue.FileIndex[Re],Re===0&&(Ye.start=Ye.size?Ye.start-1:U);var _t=Re===0&&Ee.root||Ye.name;if(Je=2*(_t.length+1),Ie.write_shift(64,_t,"utf16le"),Ie.write_shift(2,Je),Ie.write_shift(1,Ye.type),Ie.write_shift(1,Ye.color),Ie.write_shift(-4,Ye.L),Ie.write_shift(-4,Ye.R),Ie.write_shift(-4,Ye.C),Ye.clsid)Ie.write_shift(16,Ye.clsid,"hex");else for(Ke=0;Ke<4;++Ke)Ie.write_shift(4,0);Ie.write_shift(4,Ye.state||0),Ie.write_shift(4,0),Ie.write_shift(4,0),Ie.write_shift(4,0),Ie.write_shift(4,0),Ie.write_shift(4,Ye.start),Ie.write_shift(4,Ye.size),Ie.write_shift(4,0)}for(Re=1;Re<ue.FileIndex.length;++Re)if(Ye=ue.FileIndex[Re],Ye.size>=4096)if(Ie.l=Ye.start+1<<9,hn&&Buffer.isBuffer(Ye.content))Ye.content.copy(Ie,Ie.l,0,Ye.size),Ie.l+=Ye.size+511&-512;else{for(Ke=0;Ke<Ye.size;++Ke)Ie.write_shift(1,Ye.content[Ke]);for(;Ke&511;++Ke)Ie.write_shift(1,0)}for(Re=1;Re<ue.FileIndex.length;++Re)if(Ye=ue.FileIndex[Re],Ye.size>0&&Ye.size<4096)if(hn&&Buffer.isBuffer(Ye.content))Ye.content.copy(Ie,Ie.l,0,Ye.size),Ie.l+=Ye.size+63&-64;else{for(Ke=0;Ke<Ye.size;++Ke)Ie.write_shift(1,Ye.content[Ke]);for(;Ke&63;++Ke)Ie.write_shift(1,0)}if(hn)Ie.l=Ie.length;else for(;Ie.l<Ie.length;)Ie.write_shift(1,0);return Ie}function P(ue,Ae){var Ee=ue.FullPaths.map(function(Ke){return Ke.toUpperCase()}),Ne=Ee.map(function(Ke){var Je=Ke.split("/");return Je[Je.length-(Ke.slice(-1)=="/"?2:1)]}),Ie=!1;Ae.charCodeAt(0)===47?(Ie=!0,Ae=Ee[0].slice(0,-1)+Ae):Ie=Ae.indexOf("/")!==-1;var Re=Ae.toUpperCase(),ze=Ie===!0?Ee.indexOf(Re):Ne.indexOf(Re);if(ze!==-1)return ue.FileIndex[ze];var et=!Re.match(x0);for(Re=Re.replace(Fs,""),et&&(Re=Re.replace(x0,"!")),ze=0;ze<Ee.length;++ze)if((et?Ee[ze].replace(x0,"!"):Ee[ze]).replace(Fs,"")==Re||(et?Ne[ze].replace(x0,"!"):Ne[ze]).replace(Fs,"")==Re)return ue.FileIndex[ze];return null}var I=64,U=-2,O="d0cf11e0a1b11ae1",K=[208,207,17,224,161,177,26,225],X="00000000000000000000000000000000",J={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:U,FREESECT:-1,HEADER_SIGNATURE:O,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:X,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ne(ue,Ae,Ee){c();var Ne=F(ue,Ee);l.writeFileSync(Ae,Ne)}function z(ue){for(var Ae=new Array(ue.length),Ee=0;Ee<ue.length;++Ee)Ae[Ee]=String.fromCharCode(ue[Ee]);return Ae.join("")}function Q(ue,Ae){var Ee=F(ue,Ae);switch(Ae&&Ae.type||"buffer"){case"file":return c(),l.writeFileSync(Ae.filename,Ee),Ee;case"binary":return typeof Ee=="string"?Ee:z(Ee);case"base64":return jy(typeof Ee=="string"?Ee:z(Ee));case"buffer":if(hn)return Buffer.isBuffer(Ee)?Ee:Dc(Ee);case"array":return typeof Ee=="string"?ba(Ee):Ee}return Ee}var B;function j(ue){try{var Ae=ue.InflateRaw,Ee=new Ae;if(Ee._processChunk(new Uint8Array([3,0]),Ee._finishFlushFlag),Ee.bytesRead)B=ue;else throw new Error("zlib does not expose bytesRead")}catch(Ne){console.error("cannot use native zlib: "+(Ne.message||Ne))}}function W(ue,Ae){if(!B)return Yn(ue,Ae);var Ee=B.InflateRaw,Ne=new Ee,Ie=Ne._processChunk(ue.slice(ue.l),Ne._finishFlushFlag);return ue.l+=Ne.bytesRead,Ie}function G(ue){return B?B.deflateRawSync(ue):Le(ue)}var Y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ee=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ae=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function de(ue){var Ae=(ue<<1|ue<<11)&139536|(ue<<5|ue<<15)&558144;return(Ae>>16|Ae>>8|Ae)&255}for(var fe=typeof Uint8Array<"u",De=fe?new Uint8Array(256):[],Pe=0;Pe<256;++Pe)De[Pe]=de(Pe);function me(ue,Ae){var Ee=De[ue&255];return Ae<=8?Ee>>>8-Ae:(Ee=Ee<<8|De[ue>>8&255],Ae<=16?Ee>>>16-Ae:(Ee=Ee<<8|De[ue>>16&255],Ee>>>24-Ae))}function je(ue,Ae){var Ee=Ae&7,Ne=Ae>>>3;return(ue[Ne]|(Ee<=6?0:ue[Ne+1]<<8))>>>Ee&3}function V(ue,Ae){var Ee=Ae&7,Ne=Ae>>>3;return(ue[Ne]|(Ee<=5?0:ue[Ne+1]<<8))>>>Ee&7}function ye(ue,Ae){var Ee=Ae&7,Ne=Ae>>>3;return(ue[Ne]|(Ee<=4?0:ue[Ne+1]<<8))>>>Ee&15}function be(ue,Ae){var Ee=Ae&7,Ne=Ae>>>3;return(ue[Ne]|(Ee<=3?0:ue[Ne+1]<<8))>>>Ee&31}function oe(ue,Ae){var Ee=Ae&7,Ne=Ae>>>3;return(ue[Ne]|(Ee<=1?0:ue[Ne+1]<<8))>>>Ee&127}function re(ue,Ae,Ee){var Ne=Ae&7,Ie=Ae>>>3,Re=(1<<Ee)-1,ze=ue[Ie]>>>Ne;return Ee<8-Ne||(ze|=ue[Ie+1]<<8-Ne,Ee<16-Ne)||(ze|=ue[Ie+2]<<16-Ne,Ee<24-Ne)||(ze|=ue[Ie+3]<<24-Ne),ze&Re}function le(ue,Ae,Ee){var Ne=Ae&7,Ie=Ae>>>3;return Ne<=5?ue[Ie]|=(Ee&7)<<Ne:(ue[Ie]|=Ee<<Ne&255,ue[Ie+1]=(Ee&7)>>8-Ne),Ae+3}function he(ue,Ae,Ee){var Ne=Ae&7,Ie=Ae>>>3;return Ee=(Ee&1)<<Ne,ue[Ie]|=Ee,Ae+1}function _e(ue,Ae,Ee){var Ne=Ae&7,Ie=Ae>>>3;return Ee<<=Ne,ue[Ie]|=Ee&255,Ee>>>=8,ue[Ie+1]=Ee,Ae+8}function ie(ue,Ae,Ee){var Ne=Ae&7,Ie=Ae>>>3;return Ee<<=Ne,ue[Ie]|=Ee&255,Ee>>>=8,ue[Ie+1]=Ee&255,ue[Ie+2]=Ee>>>8,Ae+16}function ce(ue,Ae){var Ee=ue.length,Ne=2*Ee>Ae?2*Ee:Ae+5,Ie=0;if(Ee>=Ae)return ue;if(hn){var Re=GO(Ne);if(ue.copy)ue.copy(Re);else for(;Ie<ue.length;++Ie)Re[Ie]=ue[Ie];return Re}else if(fe){var ze=new Uint8Array(Ne);if(ze.set)ze.set(ue);else for(;Ie<Ee;++Ie)ze[Ie]=ue[Ie];return ze}return ue.length=Ne,ue}function ge(ue){for(var Ae=new Array(ue),Ee=0;Ee<ue;++Ee)Ae[Ee]=0;return Ae}function ve(ue,Ae,Ee){var Ne=1,Ie=0,Re=0,ze=0,et=0,Ke=ue.length,Je=fe?new Uint16Array(32):ge(32);for(Re=0;Re<32;++Re)Je[Re]=0;for(Re=Ke;Re<Ee;++Re)ue[Re]=0;Ke=ue.length;var Ye=fe?new Uint16Array(Ke):ge(Ke);for(Re=0;Re<Ke;++Re)Je[Ie=ue[Re]]++,Ne<Ie&&(Ne=Ie),Ye[Re]=0;for(Je[0]=0,Re=1;Re<=Ne;++Re)Je[Re+16]=et=et+Je[Re-1]<<1;for(Re=0;Re<Ke;++Re)et=ue[Re],et!=0&&(Ye[Re]=Je[et+16]++);var ft=0;for(Re=0;Re<Ke;++Re)if(ft=ue[Re],ft!=0)for(et=me(Ye[Re],Ne)>>Ne-ft,ze=(1<<Ne+4-ft)-1;ze>=0;--ze)Ae[et|ze<<ft]=ft&15|Re<<4;return Ne}var Se=fe?new Uint16Array(512):ge(512),Oe=fe?new Uint16Array(32):ge(32);if(!fe){for(var Te=0;Te<512;++Te)Se[Te]=0;for(Te=0;Te<32;++Te)Oe[Te]=0}(function(){for(var ue=[],Ae=0;Ae<32;Ae++)ue.push(5);ve(ue,Oe,32);var Ee=[];for(Ae=0;Ae<=143;Ae++)Ee.push(8);for(;Ae<=255;Ae++)Ee.push(9);for(;Ae<=279;Ae++)Ee.push(7);for(;Ae<=287;Ae++)Ee.push(8);ve(Ee,Se,288)})();var Ue=(function(){for(var Ae=fe?new Uint8Array(32768):[],Ee=0,Ne=0;Ee<ae.length-1;++Ee)for(;Ne<ae[Ee+1];++Ne)Ae[Ne]=Ee;for(;Ne<32768;++Ne)Ae[Ne]=29;var Ie=fe?new Uint8Array(259):[];for(Ee=0,Ne=0;Ee<ee.length-1;++Ee)for(;Ne<ee[Ee+1];++Ne)Ie[Ne]=Ee;function Re(et,Ke){for(var Je=0;Je<et.length;){var Ye=Math.min(65535,et.length-Je),ft=Je+Ye==et.length;for(Ke.write_shift(1,+ft),Ke.write_shift(2,Ye),Ke.write_shift(2,~Ye&65535);Ye-- >0;)Ke[Ke.l++]=et[Je++]}return Ke.l}function ze(et,Ke){for(var Je=0,Ye=0,ft=fe?new Uint16Array(32768):[];Ye<et.length;){var _t=Math.min(65535,et.length-Ye);if(_t<10){for(Je=le(Ke,Je,+(Ye+_t==et.length)),Je&7&&(Je+=8-(Je&7)),Ke.l=Je/8|0,Ke.write_shift(2,_t),Ke.write_shift(2,~_t&65535);_t-- >0;)Ke[Ke.l++]=et[Ye++];Je=Ke.l*8;continue}Je=le(Ke,Je,+(Ye+_t==et.length)+2);for(var At=0;_t-- >0;){var gt=et[Ye];At=(At<<5^gt)&32767;var ht=-1,Qt=0;if((ht=ft[At])&&(ht|=Ye&-32768,ht>Ye&&(ht-=32768),ht<Ye))for(;et[ht+Qt]==et[Ye+Qt]&&Qt<250;)++Qt;if(Qt>2){gt=Ie[Qt],gt<=22?Je=_e(Ke,Je,De[gt+1]>>1)-1:(_e(Ke,Je,3),Je+=5,_e(Ke,Je,De[gt-23]>>5),Je+=3);var Mn=gt<8?0:gt-4>>2;Mn>0&&(ie(Ke,Je,Qt-ee[gt]),Je+=Mn),gt=Ae[Ye-ht],Je=_e(Ke,Je,De[gt]>>3),Je-=3;var An=gt<4?0:gt-2>>1;An>0&&(ie(Ke,Je,Ye-ht-ae[gt]),Je+=An);for(var Bn=0;Bn<Qt;++Bn)ft[At]=Ye&32767,At=(At<<5^et[Ye])&32767,++Ye;_t-=Qt-1}else gt<=143?gt=gt+48:Je=he(Ke,Je,1),Je=_e(Ke,Je,De[gt]),ft[At]=Ye&32767,++Ye}Je=_e(Ke,Je,0)-1}return Ke.l=(Je+7)/8|0,Ke.l}return function(Ke,Je){return Ke.length<8?Re(Ke,Je):ze(Ke,Je)}})();function Le(ue){var Ae=nt(50+Math.floor(ue.length*1.1)),Ee=Ue(ue,Ae);return Ae.slice(0,Ee)}var Ge=fe?new Uint16Array(32768):ge(32768),rt=fe?new Uint16Array(32768):ge(32768),it=fe?new Uint16Array(128):ge(128),Vt=1,xn=1;function ln(ue,Ae){var Ee=be(ue,Ae)+257;Ae+=5;var Ne=be(ue,Ae)+1;Ae+=5;var Ie=ye(ue,Ae)+4;Ae+=4;for(var Re=0,ze=fe?new Uint8Array(19):ge(19),et=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ke=1,Je=fe?new Uint8Array(8):ge(8),Ye=fe?new Uint8Array(8):ge(8),ft=ze.length,_t=0;_t<Ie;++_t)ze[Y[_t]]=Re=V(ue,Ae),Ke<Re&&(Ke=Re),Je[Re]++,Ae+=3;var At=0;for(Je[0]=0,_t=1;_t<=Ke;++_t)Ye[_t]=At=At+Je[_t-1]<<1;for(_t=0;_t<ft;++_t)(At=ze[_t])!=0&&(et[_t]=Ye[At]++);var gt=0;for(_t=0;_t<ft;++_t)if(gt=ze[_t],gt!=0){At=De[et[_t]]>>8-gt;for(var ht=(1<<7-gt)-1;ht>=0;--ht)it[At|ht<<gt]=gt&7|_t<<3}var Qt=[];for(Ke=1;Qt.length<Ee+Ne;)switch(At=it[oe(ue,Ae)],Ae+=At&7,At>>>=3){case 16:for(Re=3+je(ue,Ae),Ae+=2,At=Qt[Qt.length-1];Re-- >0;)Qt.push(At);break;case 17:for(Re=3+V(ue,Ae),Ae+=3;Re-- >0;)Qt.push(0);break;case 18:for(Re=11+oe(ue,Ae),Ae+=7;Re-- >0;)Qt.push(0);break;default:Qt.push(At),Ke<At&&(Ke=At);break}var Mn=Qt.slice(0,Ee),An=Qt.slice(Ee);for(_t=Ee;_t<286;++_t)Mn[_t]=0;for(_t=Ne;_t<30;++_t)An[_t]=0;return Vt=ve(Mn,Ge,286),xn=ve(An,rt,30),Ae}function lr(ue,Ae){if(ue[0]==3&&!(ue[1]&3))return[qu(Ae),2];for(var Ee=0,Ne=0,Ie=GO(Ae||1<<18),Re=0,ze=Ie.length>>>0,et=0,Ke=0;(Ne&1)==0;){if(Ne=V(ue,Ee),Ee+=3,Ne>>>1)Ne>>1==1?(et=9,Ke=5):(Ee=ln(ue,Ee),et=Vt,Ke=xn);else{Ee&7&&(Ee+=8-(Ee&7));var Je=ue[Ee>>>3]|ue[(Ee>>>3)+1]<<8;if(Ee+=32,Je>0)for(!Ae&&ze<Re+Je&&(Ie=ce(Ie,Re+Je),ze=Ie.length);Je-- >0;)Ie[Re++]=ue[Ee>>>3],Ee+=8;continue}for(;;){!Ae&&ze<Re+32767&&(Ie=ce(Ie,Re+32767),ze=Ie.length);var Ye=re(ue,Ee,et),ft=Ne>>>1==1?Se[Ye]:Ge[Ye];if(Ee+=ft&15,ft>>>=4,(ft>>>8&255)===0)Ie[Re++]=ft;else{if(ft==256)break;ft-=257;var _t=ft<8?0:ft-4>>2;_t>5&&(_t=0);var At=Re+ee[ft];_t>0&&(At+=re(ue,Ee,_t),Ee+=_t),Ye=re(ue,Ee,Ke),ft=Ne>>>1==1?Oe[Ye]:rt[Ye],Ee+=ft&15,ft>>>=4;var gt=ft<4?0:ft-2>>1,ht=ae[ft];for(gt>0&&(ht+=re(ue,Ee,gt),Ee+=gt),!Ae&&ze<At&&(Ie=ce(Ie,At+100),ze=Ie.length);Re<At;)Ie[Re]=Ie[Re-ht],++Re}}}return Ae?[Ie,Ee+7>>>3]:[Ie.slice(0,Re),Ee+7>>>3]}function Yn(ue,Ae){var Ee=ue.slice(ue.l||0),Ne=lr(Ee,Ae);return ue.l+=Ne[1],Ne[0]}function Qn(ue,Ae){if(ue)typeof console<"u"&&console.error(Ae);else throw new Error(Ae)}function cr(ue,Ae){var Ee=ue;$i(Ee,0);var Ne=[],Ie=[],Re={FileIndex:Ne,FullPaths:Ie};D(Re,{root:Ae.root});for(var ze=Ee.length-4;(Ee[ze]!=80||Ee[ze+1]!=75||Ee[ze+2]!=5||Ee[ze+3]!=6)&&ze>=0;)--ze;Ee.l=ze+4,Ee.l+=4;var et=Ee.read_shift(2);Ee.l+=6;var Ke=Ee.read_shift(4);for(Ee.l=Ke,ze=0;ze<et;++ze){Ee.l+=20;var Je=Ee.read_shift(4),Ye=Ee.read_shift(4),ft=Ee.read_shift(2),_t=Ee.read_shift(2),At=Ee.read_shift(2);Ee.l+=8;var gt=Ee.read_shift(4),ht=o(Ee.slice(Ee.l+ft,Ee.l+ft+_t));Ee.l+=ft+_t+At;var Qt=Ee.l;Ee.l=gt+4,Yt(Ee,Je,Ye,Re,ht),Ee.l=Qt}return Re}function Yt(ue,Ae,Ee,Ne,Ie){ue.l+=2;var Re=ue.read_shift(2),ze=ue.read_shift(2),et=a(ue);if(Re&8257)throw new Error("Unsupported ZIP encryption");for(var Ke=ue.read_shift(4),Je=ue.read_shift(4),Ye=ue.read_shift(4),ft=ue.read_shift(2),_t=ue.read_shift(2),At="",gt=0;gt<ft;++gt)At+=String.fromCharCode(ue[ue.l++]);if(_t){var ht=o(ue.slice(ue.l,ue.l+_t));(ht[21589]||{}).mt&&(et=ht[21589].mt),((Ie||{})[21589]||{}).mt&&(et=Ie[21589].mt)}ue.l+=_t;var Qt=ue.slice(ue.l,ue.l+Je);switch(ze){case 8:Qt=W(ue,Ye);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ze)}var Mn=!1;Re&8&&(Ke=ue.read_shift(4),Ke==134695760&&(Ke=ue.read_shift(4),Mn=!0),Je=ue.read_shift(4),Ye=ue.read_shift(4)),Je!=Ae&&Qn(Mn,"Bad compressed size: "+Ae+" != "+Je),Ye!=Ee&&Qn(Mn,"Bad uncompressed size: "+Ee+" != "+Ye),Ct(Ne,At,Qt,{unsafe:!0,mt:et})}function En(ue,Ae){var Ee=Ae||{},Ne=[],Ie=[],Re=nt(1),ze=Ee.compression?8:0,et=0,Ke=0,Je=0,Ye=0,ft=0,_t=ue.FullPaths[0],At=_t,gt=ue.FileIndex[0],ht=[],Qt=0;for(Ke=1;Ke<ue.FullPaths.length;++Ke)if(At=ue.FullPaths[Ke].slice(_t.length),gt=ue.FileIndex[Ke],!(!gt.size||!gt.content||At=="Sh33tJ5")){var Mn=Ye,An=nt(At.length);for(Je=0;Je<At.length;++Je)An.write_shift(1,At.charCodeAt(Je)&127);An=An.slice(0,An.l),ht[ft]=RDe.buf(gt.content,0);var Bn=gt.content;ze==8&&(Bn=G(Bn)),Re=nt(30),Re.write_shift(4,67324752),Re.write_shift(2,20),Re.write_shift(2,et),Re.write_shift(2,ze),gt.mt?s(Re,gt.mt):Re.write_shift(4,0),Re.write_shift(-4,ht[ft]),Re.write_shift(4,Bn.length),Re.write_shift(4,gt.content.length),Re.write_shift(2,An.length),Re.write_shift(2,0),Ye+=Re.length,Ne.push(Re),Ye+=An.length,Ne.push(An),Ye+=Bn.length,Ne.push(Bn),Re=nt(46),Re.write_shift(4,33639248),Re.write_shift(2,0),Re.write_shift(2,20),Re.write_shift(2,et),Re.write_shift(2,ze),Re.write_shift(4,0),Re.write_shift(-4,ht[ft]),Re.write_shift(4,Bn.length),Re.write_shift(4,gt.content.length),Re.write_shift(2,An.length),Re.write_shift(2,0),Re.write_shift(2,0),Re.write_shift(2,0),Re.write_shift(2,0),Re.write_shift(4,0),Re.write_shift(4,Mn),Qt+=Re.l,Ie.push(Re),Qt+=An.length,Ie.push(An),++ft}return Re=nt(22),Re.write_shift(4,101010256),Re.write_shift(2,0),Re.write_shift(2,0),Re.write_shift(2,ft),Re.write_shift(2,ft),Re.write_shift(4,Qt),Re.write_shift(4,Ye),Re.write_shift(2,0),Mi([Mi(Ne),Mi(Ie),Re])}var pe={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function we(ue,Ae){if(ue.ctype)return ue.ctype;var Ee=ue.name||"",Ne=Ee.match(/\.([^\.]+)$/);return Ne&&pe[Ne[1]]||Ae&&(Ne=(Ee=Ae).match(/[\.\\]([^\.\\])+$/),Ne&&pe[Ne[1]])?pe[Ne[1]]:"application/octet-stream"}function Me(ue){for(var Ae=jy(ue),Ee=[],Ne=0;Ne<Ae.length;Ne+=76)Ee.push(Ae.slice(Ne,Ne+76));return Ee.join(`\r
`)+`\r
`}function ke(ue){var Ae=ue.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Je){var Ye=Je.charCodeAt(0).toString(16).toUpperCase();return"="+(Ye.length==1?"0"+Ye:Ye)});Ae=Ae.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Ae.charAt(0)==`
`&&(Ae="=0D"+Ae.slice(1)),Ae=Ae.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Ee=[],Ne=Ae.split(`\r
`),Ie=0;Ie<Ne.length;++Ie){var Re=Ne[Ie];if(Re.length==0){Ee.push("");continue}for(var ze=0;ze<Re.length;){var et=76,Ke=Re.slice(ze,ze+et);Ke.charAt(et-1)=="="?et--:Ke.charAt(et-2)=="="?et-=2:Ke.charAt(et-3)=="="&&(et-=3),Ke=Re.slice(ze,ze+et),ze+=et,ze<Re.length&&(Ke+="="),Ee.push(Ke)}}return Ee.join(`\r
`)}function Ve(ue){for(var Ae=[],Ee=0;Ee<ue.length;++Ee){for(var Ne=ue[Ee];Ee<=ue.length&&Ne.charAt(Ne.length-1)=="=";)Ne=Ne.slice(0,Ne.length-1)+ue[++Ee];Ae.push(Ne)}for(var Ie=0;Ie<Ae.length;++Ie)Ae[Ie]=Ae[Ie].replace(/[=][0-9A-Fa-f]{2}/g,function(Re){return String.fromCharCode(parseInt(Re.slice(1),16))});return ba(Ae.join(`\r
`))}function st(ue,Ae,Ee){for(var Ne="",Ie="",Re="",ze,et=0;et<10;++et){var Ke=Ae[et];if(!Ke||Ke.match(/^\s*$/))break;var Je=Ke.match(/^(.*?):\s*([^\s].*)$/);if(Je)switch(Je[1].toLowerCase()){case"content-location":Ne=Je[2].trim();break;case"content-type":Re=Je[2].trim();break;case"content-transfer-encoding":Ie=Je[2].trim();break}}switch(++et,Ie.toLowerCase()){case"base64":ze=ba(Na(Ae.slice(et).join("")));break;case"quoted-printable":ze=Ve(Ae.slice(et));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Ie)}var Ye=Ct(ue,Ne.slice(Ee.length),ze,{unsafe:!0});Re&&(Ye.ctype=Re)}function Rt(ue,Ae){if(z(ue.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Ee=Ae&&Ae.root||"",Ne=(hn&&Buffer.isBuffer(ue)?ue.toString("binary"):z(ue)).split(`\r
`),Ie=0,Re="";for(Ie=0;Ie<Ne.length;++Ie)if(Re=Ne[Ie],!!/^Content-Location:/i.test(Re)&&(Re=Re.slice(Re.indexOf("file")),Ee||(Ee=Re.slice(0,Re.lastIndexOf("/")+1)),Re.slice(0,Ee.length)!=Ee))for(;Ee.length>0&&(Ee=Ee.slice(0,Ee.length-1),Ee=Ee.slice(0,Ee.lastIndexOf("/")+1),Re.slice(0,Ee.length)!=Ee););var ze=(Ne[1]||"").match(/boundary="(.*?)"/);if(!ze)throw new Error("MAD cannot find boundary");var et="--"+(ze[1]||""),Ke=[],Je=[],Ye={FileIndex:Ke,FullPaths:Je};D(Ye);var ft,_t=0;for(Ie=0;Ie<Ne.length;++Ie){var At=Ne[Ie];At!==et&&At!==et+"--"||(_t++&&st(Ye,Ne.slice(ft,Ie),Ee),ft=Ie)}return Ye}function at(ue,Ae){var Ee=Ae||{},Ne=Ee.boundary||"SheetJS";Ne="------="+Ne;for(var Ie=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Ne.slice(2)+'"',"","",""],Re=ue.FullPaths[0],ze=Re,et=ue.FileIndex[0],Ke=1;Ke<ue.FullPaths.length;++Ke)if(ze=ue.FullPaths[Ke].slice(Re.length),et=ue.FileIndex[Ke],!(!et.size||!et.content||ze=="Sh33tJ5")){ze=ze.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Qt){return"_x"+Qt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Qt){return"_u"+Qt.charCodeAt(0).toString(16)+"_"});for(var Je=et.content,Ye=hn&&Buffer.isBuffer(Je)?Je.toString("binary"):z(Je),ft=0,_t=Math.min(1024,Ye.length),At=0,gt=0;gt<=_t;++gt)(At=Ye.charCodeAt(gt))>=32&&At<128&&++ft;var ht=ft>=_t*4/5;Ie.push(Ne),Ie.push("Content-Location: "+(Ee.root||"file:///C:/SheetJS/")+ze),Ie.push("Content-Transfer-Encoding: "+(ht?"quoted-printable":"base64")),Ie.push("Content-Type: "+we(et,ze)),Ie.push(""),Ie.push(ht?ke(Ye):Me(Ye))}return Ie.push(Ne+`--\r
`),Ie.join(`\r
`)}function Dt(ue){var Ae={};return D(Ae,ue),Ae}function Ct(ue,Ae,Ee,Ne){var Ie=Ne&&Ne.unsafe;Ie||D(ue);var Re=!Ie&&Wt.find(ue,Ae);if(!Re){var ze=ue.FullPaths[0];Ae.slice(0,ze.length)==ze?ze=Ae:(ze.slice(-1)!="/"&&(ze+="/"),ze=(ze+Ae).replace("//","/")),Re={name:i(Ae),type:2},ue.FileIndex.push(Re),ue.FullPaths.push(ze),Ie||Wt.utils.cfb_gc(ue)}return Re.content=Ee,Re.size=Ee?Ee.length:0,Ne&&(Ne.CLSID&&(Re.clsid=Ne.CLSID),Ne.mt&&(Re.mt=Ne.mt),Ne.ct&&(Re.ct=Ne.ct)),Re}function sn(ue,Ae){D(ue);var Ee=Wt.find(ue,Ae);if(Ee){for(var Ne=0;Ne<ue.FileIndex.length;++Ne)if(ue.FileIndex[Ne]==Ee)return ue.FileIndex.splice(Ne,1),ue.FullPaths.splice(Ne,1),!0}return!1}function un(ue,Ae,Ee){D(ue);var Ne=Wt.find(ue,Ae);if(Ne){for(var Ie=0;Ie<ue.FileIndex.length;++Ie)if(ue.FileIndex[Ie]==Ne)return ue.FileIndex[Ie].name=i(Ee),ue.FullPaths[Ie]=Ee,!0}return!1}function Fn(ue){k(ue,!0)}return e.find=P,e.read=R,e.parse=u,e.write=Q,e.writeFile=ne,e.utils={cfb_new:Dt,cfb_add:Ct,cfb_del:sn,cfb_mov:un,cfb_gc:Fn,ReadShift:H0,CheckField:LK,prep_blob:$i,bconcat:Mi,use_zlib:j,_deflateRaw:Le,_inflateRaw:Yn,consts:J},e})();function PDe(t){return typeof t=="string"?Dw(t):Array.isArray(t)?sDe(t):t}function Vv(t,e,n){if(typeof Deno<"u"){if(n&&typeof e=="string")switch(n){case"utf8":e=new TextEncoder(n).encode(e);break;case"binary":e=Dw(e);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(t,e)}var r=n=="utf8"?pl(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,t);if(typeof Blob<"u"){var i=new Blob([PDe(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,t);if(typeof saveAs<"u")return saveAs(i,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:t,saveAs:!0});var a=document.createElement("a");if(a.download!=null)return a.download=t,a.href=s,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(t);return o.open("w"),o.encoding="binary",Array.isArray(e)&&(e=rd(e)),o.write(e),o.close(),e}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+t)}function FDe(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(t);e.open("r"),e.encoding="binary";var n=e.read();return e.close(),n}catch(r){if(!r.message||!r.message.match(/onstruct/))throw r}throw new Error("Cannot access file "+t)}function zr(t){for(var e=Object.keys(t),n=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(t,e[r])&&n.push(e[r]);return n}function t7(t,e){for(var n=[],r=zr(t),i=0;i!==r.length;++i)n[t[r[i]][e]]==null&&(n[t[r[i]][e]]=r[i]);return n}function Nw(t){for(var e=[],n=zr(t),r=0;r!==n.length;++r)e[t[n[r]]]=n[r];return e}function Iw(t){for(var e=[],n=zr(t),r=0;r!==n.length;++r)e[t[n[r]]]=parseInt(n[r],10);return e}function MDe(t){for(var e=[],n=zr(t),r=0;r!==n.length;++r)e[t[n[r]]]==null&&(e[t[n[r]]]=[]),e[t[n[r]]].push(n[r]);return e}var V_=new Date(1899,11,30,0,0,0);function xi(t,e){var n=t.getTime(),r=V_.getTime()+(t.getTimezoneOffset()-V_.getTimezoneOffset())*6e4;return(n-r)/(1440*60*1e3)}var yK=new Date,UDe=V_.getTime()+(yK.getTimezoneOffset()-V_.getTimezoneOffset())*6e4,n7=yK.getTimezoneOffset();function kw(t){var e=new Date;return e.setTime(t*24*60*60*1e3+UDe),e.getTimezoneOffset()!==n7&&e.setTime(e.getTime()+(e.getTimezoneOffset()-n7)*6e4),e}function ODe(t){var e=0,n=0,r=!1,i=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var s=1;s!=i.length;++s)if(i[s]){switch(n=1,s>3&&(r=!0),i[s].slice(i[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[s].slice(i[s].length-1));case"D":n*=24;case"H":n*=60;case"M":if(r)n*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=n*parseInt(i[s],10)}return e}var r7=new Date("2017-02-19T19:06:09.000Z"),vK=isNaN(r7.getFullYear())?new Date("2/19/17"):r7,LDe=vK.getFullYear()==2017;function vr(t,e){var n=new Date(t);if(LDe)return e>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):e<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(t instanceof Date)return t;if(vK.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return t.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function Pf(t,e){if(hn&&Buffer.isBuffer(t)){if(e){if(t[0]==255&&t[1]==254)return pl(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return pl(sK(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return pl(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return pl(new TextDecoder("utf-16be").decode(t.slice(2)))}var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(s){return n[s]||s})}catch{}for(var r=[],i=0;i!=t.length;++i)r.push(String.fromCharCode(t[i]));return r.join("")}function xr(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=xr(t[n]));return e}function jr(t,e){for(var n="";n.length<e;)n+=t;return n}function Mo(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var n=1,r=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,s){return n=-n,s}),!isNaN(e=Number(r)))?e/n:e}var jDe=["january","february","march","april","may","june","july","august","september","october","november","december"];function pm(t){var e=new Date(t),n=new Date(NaN),r=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return n;var a=t.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),a.length>3&&jDe.indexOf(a)==-1)return n}else if(a.match(/[a-z]/))return n;return r<0||r>8099?n:(i>0||s>1)&&r!=101?e:t.match(/[^-0-9:,\/\\]/)?n:e}var BDe=(function(){var t="abacaba".split(/(:?b)/i).length==5;return function(n,r,i){if(t||typeof r=="string")return n.split(r);for(var s=n.split(r),a=[s[0]],o=1;o<s.length;++o)a.push(i),a.push(s[o]);return a}})();function xK(t){return t?t.content&&t.type?Pf(t.content,!0):t.data?v0(t.data):t.asNodeBuffer&&hn?v0(t.asNodeBuffer().toString("binary")):t.asBinary?v0(t.asBinary()):t._data&&t._data.getContent?v0(Pf(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function _K(t){if(!t)return null;if(t.data)return HO(t.data);if(t.asNodeBuffer&&hn)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return typeof e=="string"?HO(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function VDe(t){return t&&t.name.slice(-4)===".bin"?_K(t):xK(t)}function $a(t,e){for(var n=t.FullPaths||zr(t.files),r=e.toLowerCase().replace(/[\/]/g,"\\"),i=r.replace(/\\/g,"/"),s=0;s<n.length;++s){var a=n[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==a||i==a)return t.files?t.files[n[s]]:t.FileIndex[s]}return null}function Ek(t,e){var n=$a(t,e);if(n==null)throw new Error("Cannot find file "+e+" in zip");return n}function li(t,e,n){if(!n)return VDe(Ek(t,e));if(!e)return null;try{return li(t,e)}catch{return null}}function wa(t,e,n){if(!n)return xK(Ek(t,e));if(!e)return null;try{return wa(t,e)}catch{return null}}function WDe(t,e,n){return _K(Ek(t,e))}function i7(t){for(var e=t.FullPaths||zr(t.files),n=[],r=0;r<e.length;++r)e[r].slice(-1)!="/"&&n.push(e[r].replace(/^Root Entry[\/]/,""));return n.sort()}function cn(t,e,n){if(t.FullPaths){if(typeof n=="string"){var r;return hn?r=Dc(n):r=aDe(n),Wt.utils.cfb_add(t,e,r)}Wt.utils.cfb_add(t,e,n)}else t.file(e,n)}function Ck(){return Wt.utils.cfb_new()}function bK(t,e){switch(e.type){case"base64":return Wt.read(t,{type:"base64"});case"binary":return Wt.read(t,{type:"binary"});case"buffer":case"array":return Wt.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function _0(t,e){if(t.charAt(0)=="/")return t.slice(1);var n=e.split("/");e.slice(-1)!="/"&&n.pop();for(var r=t.split("/");r.length!==0;){var i=r.shift();i===".."?n.pop():i!=="."&&n.push(i)}return n.join("/")}var ni=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,qDe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,s7=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,zDe=/<[^>]*>/g,bs=ni.match(s7)?s7:zDe,HDe=/<\w*:/,$De=/<(\/?)\w+:/;function Zt(t,e,n){for(var r={},i=0,s=0;i!==t.length&&!((s=t.charCodeAt(i))===32||s===10||s===13);++i);if(e||(r[0]=t.slice(0,i)),i===t.length)return r;var a=t.match(qDe),o=0,l="",c=0,u="",f="",h=1;if(a)for(c=0;c!=a.length;++c){for(f=a[c],s=0;s!=f.length&&f.charCodeAt(s)!==61;++s);for(u=f.slice(0,s).trim();f.charCodeAt(s+1)==32;)++s;for(h=(i=f.charCodeAt(s+1))==34||i==39?1:0,l=f.slice(s+1+h,f.length-h),o=0;o!=u.length&&u.charCodeAt(o)!==58;++o);if(o===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),r[u]=l,r[u.toLowerCase()]=l;else{var p=(o===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(o+1);if(r[p]&&u.slice(o-3,o)=="ext")continue;r[p]=l,r[p.toLowerCase()]=l}}return r}function Nl(t){return t.replace($De,"<$1")}var wK={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Sk=Nw(wK),Sn=(function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function n(r){var i=r+"",s=i.indexOf("<![CDATA[");if(s==-1)return i.replace(t,function(o,l){return wK[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(e,function(o,l){return String.fromCharCode(parseInt(l,16))});var a=i.indexOf("]]>");return n(i.slice(0,s))+i.slice(s+9,a)+n(i.slice(a+3))}})(),Dk=/[&<>'"]/g,GDe=/[\u0000-\u0008\u000b-\u001f]/g;function $n(t){var e=t+"";return e.replace(Dk,function(n){return Sk[n]}).replace(GDe,function(n){return"_x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+"_"})}function a7(t){return $n(t).replace(/ /g,"_x0020_")}var TK=/[\u0000-\u001f]/g;function Ak(t){var e=t+"";return e.replace(Dk,function(n){return Sk[n]}).replace(/\n/g,"<br/>").replace(TK,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}function KDe(t){var e=t+"";return e.replace(Dk,function(n){return Sk[n]}).replace(TK,function(n){return"&#x"+n.charCodeAt(0).toString(16).toUpperCase()+";"})}var o7=(function(){var t=/&#(\d+);/g;function e(n,r){return String.fromCharCode(parseInt(r,10))}return function(r){return r.replace(t,e)}})();function XDe(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function pr(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function rD(t){for(var e="",n=0,r=0,i=0,s=0,a=0,o=0;n<t.length;){if(r=t.charCodeAt(n++),r<128){e+=String.fromCharCode(r);continue}if(i=t.charCodeAt(n++),r>191&&r<224){a=(r&31)<<6,a|=i&63,e+=String.fromCharCode(a);continue}if(s=t.charCodeAt(n++),r<240){e+=String.fromCharCode((r&15)<<12|(i&63)<<6|s&63);continue}a=t.charCodeAt(n++),o=((r&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function l7(t){var e=qu(2*t.length),n,r,i=1,s=0,a=0,o;for(r=0;r<t.length;r+=i)i=1,(o=t.charCodeAt(r))<128?n=o:o<224?(n=(o&31)*64+(t.charCodeAt(r+1)&63),i=2):o<240?(n=(o&15)*4096+(t.charCodeAt(r+1)&63)*64+(t.charCodeAt(r+2)&63),i=3):(i=4,n=(o&7)*262144+(t.charCodeAt(r+1)&63)*4096+(t.charCodeAt(r+2)&63)*64+(t.charCodeAt(r+3)&63),n-=65536,a=55296+(n>>>10&1023),n=56320+(n&1023)),a!==0&&(e[s++]=a&255,e[s++]=a>>>8,a=0),e[s++]=n%256,e[s++]=n>>>8;return e.slice(0,s).toString("ucs2")}function c7(t){return Dc(t,"binary").toString("utf8")}var Nx="foo bar baz",Jn=hn&&(c7(Nx)==rD(Nx)&&c7||l7(Nx)==rD(Nx)&&l7)||rD,pl=hn?function(t){return Dc(t,"utf8").toString("binary")}:function(t){for(var e=[],n=0,r=0,i=0;n<t.length;)switch(r=t.charCodeAt(n++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=t.charCodeAt(n++)-56320+(r<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},Vy=(function(){var t={};return function(n,r){var i=n+"|"+(r||"");return t[i]?t[i]:t[i]=new RegExp("<(?:\\w+:)?"+n+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+n+">",r||"")}})(),EK=(function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)r=r.replace(t[i][0],t[i][1]);return r}})(),JDe=(function(){var t={};return function(n){return t[n]!==void 0?t[n]:t[n]=new RegExp("<(?:vt:)?"+n+">([\\s\\S]*?)</(?:vt:)?"+n+">","g")}})(),YDe=/<\/?(?:vt:)?variant>/g,QDe=/<(?:vt:)([^>]*)>([\s\S]*)</;function u7(t,e){var n=Zt(t),r=t.match(JDe(n.baseType))||[],i=[];if(r.length!=n.size){if(e.WTF)throw new Error("unexpected vector length "+r.length+" != "+n.size);return i}return r.forEach(function(s){var a=s.replace(YDe,"").match(QDe);a&&i.push({v:Jn(a[2]),t:a[1]})}),i}var CK=/(^\s|\s$|\n)/;function Ki(t,e){return"<"+t+(e.match(CK)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function Wy(t){return zr(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function xt(t,e,n){return"<"+t+(n!=null?Wy(n):"")+(e!=null?(e.match(CK)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function tN(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(n){if(e)throw n}return""}function ZDe(t,e){switch(typeof t){case"string":var n=xt("vt:lpwstr",$n(t));return n=n.replace(/&quot;/g,"_x0022_"),n;case"number":return xt((t|0)==t?"vt:i4":"vt:r8",$n(String(t)));case"boolean":return xt("vt:bool",t?"true":"false")}if(t instanceof Date)return xt("vt:filetime",tN(t));throw new Error("Unable to serialize "+t)}function Nk(t){if(hn&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return Jn(rd(bk(t)));throw new Error("Bad input format: expected Buffer or string")}var qy=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,yi={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Zf=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],xa={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function eAe(t,e){for(var n=1-2*(t[e+7]>>>7),r=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,s=5;s>=0;--s)i=i*256+t[e+s];return r==2047?i==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),n*Math.pow(2,r-52)*i)}function tAe(t,e,n){var r=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,a=r?-e:e;isFinite(a)?a==0?i=s=0:(i=Math.floor(Math.log(a)/Math.LN2),s=a*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var o=0;o<=5;++o,s/=256)t[n+o]=s&255;t[n+6]=(i&15)<<4|s&15,t[n+7]=i>>4|r}var d7=function(t){for(var e=[],n=10240,r=0;r<t[0].length;++r)if(t[0][r])for(var i=0,s=t[0][r].length;i<s;i+=n)e.push.apply(e,t[0][r].slice(i,i+n));return e},f7=hn?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Dc(e)})):d7(t)}:d7,h7=function(t,e,n){for(var r=[],i=e;i<n;i+=2)r.push(String.fromCharCode(Ql(t,i)));return r.join("").replace(Fs,"")},Ik=hn?function(t,e,n){return Buffer.isBuffer(t)?t.toString("utf16le",e,n).replace(Fs,""):h7(t,e,n)}:h7,p7=function(t,e,n){for(var r=[],i=e;i<e+n;++i)r.push(("0"+t[i].toString(16)).slice(-2));return r.join("")},SK=hn?function(t,e,n){return Buffer.isBuffer(t)?t.toString("hex",e,e+n):p7(t,e,n)}:p7,m7=function(t,e,n){for(var r=[],i=e;i<n;i++)r.push(String.fromCharCode(dp(t,i)));return r.join("")},Wv=hn?function(e,n,r){return Buffer.isBuffer(e)?e.toString("utf8",n,r):m7(e,n,r)}:m7,DK=function(t,e){var n=_a(t,e);return n>0?Wv(t,e+4,e+4+n-1):""},AK=DK,NK=function(t,e){var n=_a(t,e);return n>0?Wv(t,e+4,e+4+n-1):""},IK=NK,kK=function(t,e){var n=2*_a(t,e);return n>0?Wv(t,e+4,e+4+n-1):""},RK=kK,PK=function(e,n){var r=_a(e,n);return r>0?Ik(e,n+4,n+4+r):""},FK=PK,MK=function(t,e){var n=_a(t,e);return n>0?Wv(t,e+4,e+4+n):""},UK=MK,OK=function(t,e){return eAe(t,e)},W_=OK,kk=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};hn&&(AK=function(e,n){if(!Buffer.isBuffer(e))return DK(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},IK=function(e,n){if(!Buffer.isBuffer(e))return NK(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},RK=function(e,n){if(!Buffer.isBuffer(e))return kK(e,n);var r=2*e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r-1)},FK=function(e,n){if(!Buffer.isBuffer(e))return PK(e,n);var r=e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r)},UK=function(e,n){if(!Buffer.isBuffer(e))return MK(e,n);var r=e.readUInt32LE(n);return e.toString("utf8",n+4,n+4+r)},W_=function(e,n){return Buffer.isBuffer(e)?e.readDoubleLE(n):OK(e,n)},kk=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var dp=function(t,e){return t[e]},Ql=function(t,e){return t[e+1]*256+t[e]},nAe=function(t,e){var n=t[e+1]*256+t[e];return n<32768?n:(65535-n+1)*-1},_a=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},$d=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},rAe=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function H0(t,e){var n="",r,i,s=[],a,o,l,c;switch(e){case"dbcs":if(c=this.l,hn&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*t).toString("utf16le");else for(l=0;l<t;++l)n+=String.fromCharCode(Ql(this,c)),c+=2;t*=2;break;case"utf8":n=Wv(this,this.l,this.l+t);break;case"utf16le":t*=2,n=Ik(this,this.l,this.l+t);break;case"wstr":return H0.call(this,t,"dbcs");case"lpstr-ansi":n=AK(this,this.l),t=4+_a(this,this.l);break;case"lpstr-cp":n=IK(this,this.l),t=4+_a(this,this.l);break;case"lpwstr":n=RK(this,this.l),t=4+2*_a(this,this.l);break;case"lpp4":t=4+_a(this,this.l),n=FK(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+_a(this,this.l),n=UK(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,n="";(a=dp(this,this.l+t++))!==0;)s.push(Ax(a));n=s.join("");break;case"_wstr":for(t=0,n="";(a=Ql(this,this.l+t))!==0;)s.push(Ax(a)),t+=2;t+=2,n=s.join("");break;case"dbcs-cont":for(n="",c=this.l,l=0;l<t;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return a=dp(this,c),this.l=c+1,o=H0.call(this,t-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(Ax(Ql(this,c))),c+=2}n=s.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(n="",c=this.l,l=0;l!=t;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return a=dp(this,c),this.l=c+1,o=H0.call(this,t-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(Ax(dp(this,c))),c+=1}n=s.join("");break;default:switch(t){case 1:return r=dp(this,this.l),this.l++,r;case 2:return r=(e==="i"?nAe:Ql)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(t>0?$d:rAe)(this,this.l),this.l+=4,r):(i=_a(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=W_(this,this.l):i=W_([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:n=SK(this,this.l,t);break}}return this.l+=t,n}var iAe=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24&255},sAe=function(t,e,n){t[n]=e&255,t[n+1]=e>>8&255,t[n+2]=e>>16&255,t[n+3]=e>>24&255},aAe=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255};function oAe(t,e,n){var r=0,i=0;if(n==="dbcs"){for(i=0;i!=e.length;++i)aAe(this,e.charCodeAt(i),this.l+2*i);r=2*e.length}else if(n==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;r=e.length}else if(n==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(n==="utf16le"){var s=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var a=e.charCodeAt(i);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(t){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,iAe(this,e,this.l);break;case 8:if(r=8,n==="f"){tAe(this,e,this.l);break}case 16:break;case-4:r=4,sAe(this,e,this.l);break}return this.l+=r,this}function LK(t,e){var n=SK(this,this.l,t.length>>1);if(n!==t)throw new Error(e+"Expected "+t+" saw "+n);this.l+=t.length>>1}function $i(t,e){t.l=e,t.read_shift=H0,t.chk=LK,t.write_shift=oAe}function vs(t,e){t.l+=e}function nt(t){var e=qu(t);return $i(e,0),e}function Ac(t,e,n){if(t){var r,i,s;$i(t,t.l||0);for(var a=t.length,o=0,l=0;t.l<a;){o=t.read_shift(1),o&128&&(o=(o&127)+((t.read_shift(1)&127)<<7));var c=Xy[o]||Xy[65535];for(r=t.read_shift(1),s=r&127,i=1;i<4&&r&128;++i)s+=((r=t.read_shift(1))&127)<<7*i;l=t.l+s;var u=c.f&&c.f(t,s,n);if(t.l=l,e(u,c,o))return}}}function ta(){var t=[],e=hn?256:2048,n=function(c){var u=nt(c);return $i(u,0),u},r=n(e),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&t.push(r),r=null)},s=function(c){return r&&c<r.length-r.l?r:(i(),r=n(Math.max(c+1,e)))},a=function(){return i(),Mi(t)},o=function(c){i(),r=c,r.l==null&&(r.l=r.length),s(e)};return{next:s,push:o,end:a,_bufs:t}}function lt(t,e,n,r){var i=+e,s;if(!isNaN(i)){r||(r=Xy[i].p||(n||[]).length||0),s=1+(i>=128?1:0)+1,r>=128&&++s,r>=16384&&++s,r>=2097152&&++s;var a=t.next(s);i<=127?a.write_shift(1,i):(a.write_shift(1,(i&127)+128),a.write_shift(1,i>>7));for(var o=0;o!=4;++o)if(r>=128)a.write_shift(1,(r&127)+128),r>>=7;else{a.write_shift(1,r);break}r>0&&kk(n)&&t.push(n)}}function $0(t,e,n){var r=xr(t);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function g7(t,e,n){var r=xr(t);return r.s=$0(r.s,e.s,n),r.e=$0(r.e,e.s,n),r}function G0(t,e){if(t.cRel&&t.c<0)for(t=xr(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=xr(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var n=Jt(t);return!t.cRel&&t.cRel!=null&&(n=uAe(n)),!t.rRel&&t.rRel!=null&&(n=lAe(n)),n}function iD(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+Rr(t.s.c)+":"+(t.e.cRel?"":"$")+Rr(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+ei(t.s.r)+":"+(t.e.rRel?"":"$")+ei(t.e.r):G0(t.s,e.biff)+":"+G0(t.e,e.biff)}function Rk(t){return parseInt(cAe(t),10)-1}function ei(t){return""+(t+1)}function lAe(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function cAe(t){return t.replace(/\$(\d+)$/,"$1")}function Pk(t){for(var e=dAe(t),n=0,r=0;r!==e.length;++r)n=26*n+e.charCodeAt(r)-64;return n-1}function Rr(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function uAe(t){return t.replace(/^([A-Z])/,"$$$1")}function dAe(t){return t.replace(/^\$([A-Z])/,"$1")}function fAe(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Pr(t){for(var e=0,n=0,r=0;r<t.length;++r){var i=t.charCodeAt(r);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:e-1}}function Jt(t){for(var e=t.c+1,n="";e;e=(e-1)/26|0)n=String.fromCharCode((e-1)%26+65)+n;return n+(t.r+1)}function na(t){var e=t.indexOf(":");return e==-1?{s:Pr(t),e:Pr(t)}:{s:Pr(t.slice(0,e)),e:Pr(t.slice(e+1))}}function on(t,e){return typeof e>"u"||typeof e=="number"?on(t.s,t.e):(typeof t!="string"&&(t=Jt(t)),typeof e!="string"&&(e=Jt(e)),t==e?t:t+":"+e)}function Dn(t){var e={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,s=t.length;for(n=0;r<s&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.s.c=--n,n=0;r<s&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;if(e.s.r=--n,r===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,n=0;r!=s&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.e.c=--n,n=0;r!=s&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;return e.e.r=--n,e}function y7(t,e){var n=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=so(t.z,n?xi(e):e)}catch{}try{return t.w=so((t.XF||{}).numFmtId||(n?14:0),n?xi(e):e)}catch{return""+e}}function gc(t,e,n){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&n&&n.dateNF&&(t.z=n.dateNF),t.t=="e"?Nc[t.v]||t.v:e==null?y7(t,t.v):y7(t,e))}function id(t,e){var n=e&&e.sheet?e.sheet:"Sheet1",r={};return r[n]=t,{SheetNames:[n],Sheets:r}}function jK(t,e,n){var r=n||{},i=t?Array.isArray(t):r.dense,s=t||(i?[]:{}),a=0,o=0;if(s&&r.origin!=null){if(typeof r.origin=="number")a=r.origin;else{var l=typeof r.origin=="string"?Pr(r.origin):r.origin;a=l.r,o=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var u=Dn(s["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),a==-1&&(c.e.r=a=u.e.r+1)}for(var f=0;f!=e.length;++f)if(e[f]){if(!Array.isArray(e[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=e[f].length;++h)if(!(typeof e[f][h]>"u")){var p={v:e[f][h]},v=a+f,g=o+h;if(c.s.r>v&&(c.s.r=v),c.s.c>g&&(c.s.c=g),c.e.r<v&&(c.e.r=v),c.e.c<g&&(c.e.c=g),e[f][h]&&typeof e[f][h]=="object"&&!Array.isArray(e[f][h])&&!(e[f][h]instanceof Date))p=e[f][h];else if(Array.isArray(p.v)&&(p.f=e[f][h][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(r.nullError)p.t="e",p.v=0;else if(r.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=r.dateNF||Gt[14],r.cellDates?(p.t="d",p.w=so(p.z,xi(p.v))):(p.t="n",p.v=xi(p.v),p.w=so(p.z,p.v))):p.t="s";if(i)s[v]||(s[v]=[]),s[v][g]&&s[v][g].z&&(p.z=s[v][g].z),s[v][g]=p;else{var y=Jt({c:g,r:v});s[y]&&s[y].z&&(p.z=s[y].z),s[y]=p}}}return c.s.c<1e7&&(s["!ref"]=on(c)),s}function Ym(t,e){return jK(null,t,e)}function hAe(t){return t.read_shift(4,"i")}function Uo(t,e){return e||(e=nt(4)),e.write_shift(4,t),e}function ys(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Ui(t,e){var n=!1;return e==null&&(n=!0,e=nt(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}function pAe(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function mAe(t,e){return e||(e=nt(4)),e.write_shift(2,0),e.write_shift(2,0),e}function Fk(t,e){var n=t.l,r=t.read_shift(1),i=ys(t),s=[],a={t:i,h:i};if((r&1)!==0){for(var o=t.read_shift(4),l=0;l!=o;++l)s.push(pAe(t));a.r=s}else a.r=[{ich:0,ifnt:0}];return t.l=n+e,a}function gAe(t,e){var n=!1;return e==null&&(n=!0,e=nt(15+4*t.t.length)),e.write_shift(1,0),Ui(t.t,e),n?e.slice(0,e.l):e}var yAe=Fk;function vAe(t,e){var n=!1;return e==null&&(n=!0,e=nt(23+4*t.t.length)),e.write_shift(1,1),Ui(t.t,e),e.write_shift(4,1),mAe({},e),n?e.slice(0,e.l):e}function lo(t){var e=t.read_shift(4),n=t.read_shift(2);return n+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:n}}function eh(t,e){return e==null&&(e=nt(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function th(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function nh(t,e){return e==null&&(e=nt(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var xAe=ys,BK=Ui;function Mk(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function q_(t,e){var n=!1;return e==null&&(n=!0,e=nt(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}var _Ae=ys,nN=Mk,Uk=q_;function Ok(t){var e=t.slice(t.l,t.l+4),n=e[0]&1,r=e[0]&2;t.l+=4;var i=r===0?W_([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):$d(e,0)>>2;return n?i/100:i}function VK(t,e){e==null&&(e=nt(4));var n=0,r=0,i=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?r=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(r=1,n=1),r)e.write_shift(-4,((n?i:t)<<2)+(n+2));else throw new Error("unsupported RkNumber "+t)}function WK(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function bAe(t,e){return e||(e=nt(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var rh=WK,Qm=bAe;function ds(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function Ff(t,e){return(e||nt(8)).write_shift(8,t,"f")}function wAe(t){var e={},n=t.read_shift(1),r=n>>>1,i=t.read_shift(1),s=t.read_shift(2,"i"),a=t.read_shift(1),o=t.read_shift(1),l=t.read_shift(1);switch(t.l++,r){case 0:e.auto=1;break;case 1:e.index=i;var c=of[i];c&&(e.rgb=Hy(c));break;case 2:e.rgb=Hy([a,o,l]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function z_(t,e){if(e||(e=nt(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var n=t.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),e.write_shift(2,n),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var r=t.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),e.write_shift(1,parseInt(r.slice(0,2),16)),e.write_shift(1,parseInt(r.slice(2,4),16)),e.write_shift(1,parseInt(r.slice(4,6),16)),e.write_shift(1,255)}return e}function TAe(t){var e=t.read_shift(1);t.l++;var n={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return n}function EAe(t,e){e||(e=nt(2));var n=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,n),e.write_shift(1,0),e}function qK(t,e){var n={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},r=t.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return n[t.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return t.l-=4,t.read_shift(0,e==1?"lpstr":"lpwstr")}function CAe(t){return qK(t,1)}function SAe(t){return qK(t,2)}var Lk=2,$s=3,Ix=11,v7=12,H_=19,kx=64,DAe=65,AAe=71,NAe=4108,IAe=4126,Ii=80,zK=81,kAe=[Ii,zK],rN={1:{n:"CodePage",t:Lk},2:{n:"Category",t:Ii},3:{n:"PresentationFormat",t:Ii},4:{n:"ByteCount",t:$s},5:{n:"LineCount",t:$s},6:{n:"ParagraphCount",t:$s},7:{n:"SlideCount",t:$s},8:{n:"NoteCount",t:$s},9:{n:"HiddenCount",t:$s},10:{n:"MultimediaClipCount",t:$s},11:{n:"ScaleCrop",t:Ix},12:{n:"HeadingPairs",t:NAe},13:{n:"TitlesOfParts",t:IAe},14:{n:"Manager",t:Ii},15:{n:"Company",t:Ii},16:{n:"LinksUpToDate",t:Ix},17:{n:"CharacterCount",t:$s},19:{n:"SharedDoc",t:Ix},22:{n:"HyperlinksChanged",t:Ix},23:{n:"AppVersion",t:$s,p:"version"},24:{n:"DigSig",t:DAe},26:{n:"ContentType",t:Ii},27:{n:"ContentStatus",t:Ii},28:{n:"Language",t:Ii},29:{n:"Version",t:Ii},255:{},2147483648:{n:"Locale",t:H_},2147483651:{n:"Behavior",t:H_},1919054434:{}},iN={1:{n:"CodePage",t:Lk},2:{n:"Title",t:Ii},3:{n:"Subject",t:Ii},4:{n:"Author",t:Ii},5:{n:"Keywords",t:Ii},6:{n:"Comments",t:Ii},7:{n:"Template",t:Ii},8:{n:"LastAuthor",t:Ii},9:{n:"RevNumber",t:Ii},10:{n:"EditTime",t:kx},11:{n:"LastPrinted",t:kx},12:{n:"CreatedDate",t:kx},13:{n:"ModifiedDate",t:kx},14:{n:"PageCount",t:$s},15:{n:"WordCount",t:$s},16:{n:"CharCount",t:$s},17:{n:"Thumbnail",t:AAe},18:{n:"Application",t:Ii},19:{n:"DocSecurity",t:$s},255:{},2147483648:{n:"Locale",t:H_},2147483651:{n:"Behavior",t:H_},1919054434:{}},x7={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},RAe=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function PAe(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var FAe=PAe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),of=xr(FAe),Nc={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},HK={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},sN={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Rx={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function jk(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function MAe(t){var e=jk();if(!t||!t.match)return e;var n={};if((t.match(bs)||[]).forEach(function(r){var i=Zt(r);switch(i[0].replace(HDe,"<")){case"<?xml":break;case"<Types":e.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":n[i.Extension]=i.ContentType;break;case"<Override":e[sN[i.ContentType]]!==void 0&&e[sN[i.ContentType]].push(i.PartName);break}}),e.xmlns!==yi.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=n,delete e.calcchains,e}function $K(t,e){var n=MDe(sN),r=[],i;r[r.length]=ni,r[r.length]=xt("Types",null,{xmlns:yi.CT,"xmlns:xsd":yi.xsd,"xmlns:xsi":yi.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return xt("Default",null,{Extension:l[0],ContentType:l[1]})}));var s=function(l){t[l]&&t[l].length>0&&(i=t[l][0],r[r.length]=xt("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:Rx[l][e.bookType]||Rx[l].xlsx}))},a=function(l){(t[l]||[]).forEach(function(c){r[r.length]=xt("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:Rx[l][e.bookType]||Rx[l].xlsx})})},o=function(l){(t[l]||[]).forEach(function(c){r[r.length]=xt("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:n[l][0]})})};return s("workbooks"),a("sheets"),a("charts"),o("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),a("metadata"),o("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var mn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function zy(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function K0(t,e){var n={"!id":{}};if(!t)return n;e.charAt(0)!=="/"&&(e="/"+e);var r={};return(t.match(bs)||[]).forEach(function(i){var s=Zt(i);if(s[0]==="<Relationship"){var a={};a.Type=s.Type,a.Target=s.Target,a.Id=s.Id,s.TargetMode&&(a.TargetMode=s.TargetMode);var o=s.TargetMode==="External"?s.Target:_0(s.Target,e);n[o]=a,r[s.Id]=a}}),n["!id"]=r,n}function Rp(t){var e=[ni,xt("Relationships",null,{xmlns:yi.RELS})];return zr(t["!id"]).forEach(function(n){e[e.length]=xt("Relationship",null,t["!id"][n])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function zn(t,e,n,r,i,s){if(i||(i={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,i.Id="rId"+e,i.Type=r,i.Target=n,[mn.HLINK,mn.XPATH,mn.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),t["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][i.Id]=i,t[("/"+i.Target).replace("//","/")]=i,e}var UAe="application/vnd.oasis.opendocument.spreadsheet";function OAe(t,e){for(var n=Nk(t),r,i;r=qy.exec(n);)switch(r[3]){case"manifest":break;case"file-entry":if(i=Zt(r[0],!1),i.path=="/"&&i.type!==UAe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw r}}function LAe(t){var e=[ni];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var n=0;n<t.length;++n)e.push('  <manifest:file-entry manifest:full-path="'+t[n][0]+'" manifest:media-type="'+t[n][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function _7(t,e,n){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function jAe(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function BAe(t){var e=[ni];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var n=0;n!=t.length;++n)e.push(_7(t[n][0],t[n][1])),e.push(jAe("",t[n][0]));return e.push(_7("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function GK(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+O_.version+"</meta:generator></office:meta></office:document-meta>"}var to=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],VAe=(function(){for(var t=new Array(to.length),e=0;e<to.length;++e){var n=to[e],r="(?:"+n[0].slice(0,n[0].indexOf(":"))+":)"+n[0].slice(n[0].indexOf(":")+1);t[e]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return t})();function KK(t){var e={};t=Jn(t);for(var n=0;n<to.length;++n){var r=to[n],i=t.match(VAe[n]);i!=null&&i.length>0&&(e[r[1]]=Sn(i[1])),r[2]==="date"&&e[r[1]]&&(e[r[1]]=vr(e[r[1]]))}return e}function sD(t,e,n,r,i){i[t]!=null||e==null||e===""||(i[t]=e,e=$n(e),r[r.length]=n?xt(t,e,n):Ki(t,e))}function XK(t,e){var n=e||{},r=[ni,xt("cp:coreProperties",null,{"xmlns:cp":yi.CORE_PROPS,"xmlns:dc":yi.dc,"xmlns:dcterms":yi.dcterms,"xmlns:dcmitype":yi.dcmitype,"xmlns:xsi":yi.xsi})],i={};if(!t&&!n.Props)return r.join("");t&&(t.CreatedDate!=null&&sD("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:tN(t.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i),t.ModifiedDate!=null&&sD("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:tN(t.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i));for(var s=0;s!=to.length;++s){var a=to[s],o=n.Props&&n.Props[a[1]]!=null?n.Props[a[1]]:t?t[a[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&sD(a[0],o,null,r,i)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var lf=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],JK=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function YK(t,e,n,r){var i=[];if(typeof t=="string")i=u7(t,r);else for(var s=0;s<t.length;++s)i=i.concat(t[s].map(function(u){return{v:u}}));var a=typeof e=="string"?u7(e,r).map(function(u){return u.v}):e,o=0,l=0;if(a.length>0)for(var c=0;c!==i.length;c+=2){switch(l=+i[c+1].v,i[c].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":n.Worksheets=l,n.SheetNames=a.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":n.NamedRanges=l,n.DefinedNames=a.slice(o,o+l);break;case"Charts":case"Diagramme":n.Chartsheets=l,n.ChartNames=a.slice(o,o+l);break}o+=l}}function WAe(t,e,n){var r={};return e||(e={}),t=Jn(t),lf.forEach(function(i){var s=(t.match(Vy(i[0]))||[])[1];switch(i[2]){case"string":s&&(e[i[1]]=Sn(s));break;case"bool":e[i[1]]=s==="true";break;case"raw":var a=t.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));a&&a.length>0&&(r[i[1]]=a[1]);break}}),r.HeadingPairs&&r.TitlesOfParts&&YK(r.HeadingPairs,r.TitlesOfParts,e,n),e}function QK(t){var e=[],n=xt;return t||(t={}),t.Application="SheetJS",e[e.length]=ni,e[e.length]=xt("Properties",null,{xmlns:yi.EXT_PROPS,"xmlns:vt":yi.vt}),lf.forEach(function(r){if(t[r[1]]!==void 0){var i;switch(r[2]){case"string":i=$n(String(t[r[1]]));break;case"bool":i=t[r[1]]?"true":"false";break}i!==void 0&&(e[e.length]=n(r[0],i))}}),e[e.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=n("TitlesOfParts",n("vt:vector",t.SheetNames.map(function(r){return"<vt:lpstr>"+$n(r)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var qAe=/<[^>]+>[^<]*/g;function zAe(t,e){var n={},r="",i=t.match(qAe);if(i)for(var s=0;s!=i.length;++s){var a=i[s],o=Zt(a);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":r=Sn(o.name);break;case"</property>":r=null;break;default:if(a.indexOf("<vt:")===0){var l=a.split(">"),c=l[0].slice(4),u=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":n[r]=Sn(u);break;case"bool":n[r]=pr(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[r]=parseInt(u,10);break;case"r4":case"r8":case"decimal":n[r]=parseFloat(u);break;case"filetime":case"date":n[r]=vr(u);break;case"cy":case"error":n[r]=Sn(u);break;default:if(c.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",a,c,l)}}else if(a.slice(0,2)!=="</"){if(e.WTF)throw new Error(a)}}}return n}function ZK(t){var e=[ni,xt("Properties",null,{xmlns:yi.CUST_PROPS,"xmlns:vt":yi.vt})];if(!t)return e.join("");var n=1;return zr(t).forEach(function(i){++n,e[e.length]=xt("property",ZDe(t[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:$n(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var aN={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},aD;function HAe(t,e,n){aD||(aD=Nw(aN)),e=aD[e]||e,t[e]=n}function $Ae(t,e){var n=[];return zr(aN).map(function(r){for(var i=0;i<to.length;++i)if(to[i][1]==r)return to[i];for(i=0;i<lf.length;++i)if(lf[i][1]==r)return lf[i];throw r}).forEach(function(r){if(t[r[1]]!=null){var i=e&&e.Props&&e.Props[r[1]]!=null?e.Props[r[1]]:t[r[1]];switch(r[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),n.push(Ki(aN[r[1]]||r[1],i))}}),xt("DocumentProperties",n.join(""),{xmlns:xa.o})}function GAe(t,e){var n=["Worksheets","SheetNames"],r="CustomDocumentProperties",i=[];return t&&zr(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)){for(var a=0;a<to.length;++a)if(s==to[a][1])return;for(a=0;a<lf.length;++a)if(s==lf[a][1])return;for(a=0;a<n.length;++a)if(s==n[a])return;var o=t[s],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o=String(o),i.push(xt(a7(s),o,{"dt:dt":l}))}}),e&&zr(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(t&&Object.prototype.hasOwnProperty.call(t,s))){var a=e[s],o="string";typeof a=="number"?(o="float",a=String(a)):a===!0||a===!1?(o="boolean",a=a?"1":"0"):a instanceof Date?(o="dateTime.tz",a=a.toISOString()):a=String(a),i.push(xt(a7(s),a,{"dt:dt":o}))}}),"<"+r+' xmlns="'+xa.o+'">'+i.join("")+"</"+r+">"}function Bk(t){var e=t.read_shift(4),n=t.read_shift(4);return new Date((n/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function KAe(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,n=e.getTime()/1e3+11644473600,r=n%Math.pow(2,32),i=(n-r)/Math.pow(2,32);r*=1e7,i*=1e7;var s=r/Math.pow(2,32)|0;s>0&&(r=r%Math.pow(2,32),i+=s);var a=nt(8);return a.write_shift(4,r),a.write_shift(4,i),a}function eX(t,e,n){var r=t.l,i=t.read_shift(0,"lpstr-cp");if(n)for(;t.l-r&3;)++t.l;return i}function tX(t,e,n){var r=t.read_shift(0,"lpwstr");return r}function nX(t,e,n){return e===31?tX(t):eX(t,e,n)}function oN(t,e,n){return nX(t,e,n===!1?0:4)}function XAe(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return nX(t,e,0)}function JAe(t){for(var e=t.read_shift(4),n=[],r=0;r!=e;++r){var i=t.l;n[r]=t.read_shift(0,"lpwstr").replace(Fs,""),t.l-i&2&&(t.l+=2)}return n}function YAe(t){for(var e=t.read_shift(4),n=[],r=0;r!=e;++r)n[r]=t.read_shift(0,"lpstr-cp").replace(Fs,"");return n}function QAe(t){var e=t.l,n=$_(t,zK);t[t.l]==0&&t[t.l+1]==0&&t.l-e&2&&(t.l+=2);var r=$_(t,$s);return[n,r]}function ZAe(t){for(var e=t.read_shift(4),n=[],r=0;r<e/2;++r)n.push(QAe(t));return n}function b7(t,e){for(var n=t.read_shift(4),r={},i=0;i!=n;++i){var s=t.read_shift(4),a=t.read_shift(4);r[s]=t.read_shift(a,e===1200?"utf16le":"utf8").replace(Fs,"").replace(x0,"!"),e===1200&&a%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),r}function rX(t){var e=t.read_shift(4),n=t.slice(t.l,t.l+e);return t.l+=e,(e&3)>0&&(t.l+=4-(e&3)&3),n}function e4e(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}function $_(t,e,n){var r=t.read_shift(2),i,s=n||{};if(t.l+=2,e!==v7&&r!==e&&kAe.indexOf(e)===-1&&!((e&65534)==4126&&(r&65534)==4126))throw new Error("Expected type "+e+" saw "+r);switch(e===v7?r:e){case 2:return i=t.read_shift(2,"i"),s.raw||(t.l+=2),i;case 3:return i=t.read_shift(4,"i"),i;case 11:return t.read_shift(4)!==0;case 19:return i=t.read_shift(4),i;case 30:return eX(t,r,4).replace(Fs,"");case 31:return tX(t);case 64:return Bk(t);case 65:return rX(t);case 71:return e4e(t);case 80:return oN(t,r,!s.raw).replace(Fs,"");case 81:return XAe(t,r).replace(Fs,"");case 4108:return ZAe(t);case 4126:case 4127:return r==4127?JAe(t):YAe(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+r)}}function w7(t,e){var n=nt(4),r=nt(4);switch(n.write_shift(4,t==80?31:t),t){case 3:r.write_shift(-4,e);break;case 5:r=nt(8),r.write_shift(8,e,"f");break;case 11:r.write_shift(4,e?1:0);break;case 64:r=KAe(e);break;case 31:case 80:for(r=nt(4+2*(e.length+1)+(e.length%2?0:2)),r.write_shift(4,e.length+1),r.write_shift(0,e,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return Mi([n,r])}function T7(t,e){var n=t.l,r=t.read_shift(4),i=t.read_shift(4),s=[],a=0,o=0,l=-1,c={};for(a=0;a!=i;++a){var u=t.read_shift(4),f=t.read_shift(4);s[a]=[u,f+n]}s.sort(function(_,w){return _[1]-w[1]});var h={};for(a=0;a!=i;++a){if(t.l!==s[a][1]){var p=!0;if(a>0&&e)switch(e[s[a-1][0]].t){case 2:t.l+2===s[a][1]&&(t.l+=2,p=!1);break;case 80:t.l<=s[a][1]&&(t.l=s[a][1],p=!1);break;case 4108:t.l<=s[a][1]&&(t.l=s[a][1],p=!1);break}if((!e||a==0)&&t.l<=s[a][1]&&(p=!1,t.l=s[a][1]),p)throw new Error("Read Error: Expected address "+s[a][1]+" at "+t.l+" :"+a)}if(e){var v=e[s[a][0]];if(h[v.n]=$_(t,v.t,{raw:!0}),v.p==="version"&&(h[v.n]=String(h[v.n]>>16)+"."+("0000"+String(h[v.n]&65535)).slice(-4)),v.n=="CodePage")switch(h[v.n]){case 0:h[v.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Io(o=h[v.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[v.n])}}else if(s[a][0]===1){if(o=h.CodePage=$_(t,Lk),Io(o),l!==-1){var g=t.l;t.l=s[l][1],c=b7(t,o),t.l=g}}else if(s[a][0]===0){if(o===0){l=a,t.l=s[a+1][1];continue}c=b7(t,o)}else{var y=c[s[a][0]],b;switch(t[t.l]){case 65:t.l+=4,b=rX(t);break;case 30:t.l+=4,b=oN(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,b=oN(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,b=t.read_shift(4,"i");break;case 19:t.l+=4,b=t.read_shift(4);break;case 5:t.l+=4,b=t.read_shift(8,"f");break;case 11:t.l+=4,b=Jr(t,4);break;case 64:t.l+=4,b=vr(Bk(t));break;default:throw new Error("unparsed value: "+t[t.l])}h[y]=b}}return t.l=n+r,h}var iX=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function t4e(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function E7(t,e,n){var r=nt(8),i=[],s=[],a=8,o=0,l=nt(8),c=nt(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),s.push(l),i.push(c),a+=8+l.length,!e){c=nt(8),c.write_shift(4,0),i.unshift(c);var u=[nt(4)];for(u[0].write_shift(4,t.length),o=0;o<t.length;++o){var f=t[o][0];for(l=nt(8+2*(f.length+1)+(f.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,f.length+1),l.write_shift(0,f,"dbcs");l.l!=l.length;)l.write_shift(1,0);u.push(l)}l=Mi(u),s.unshift(l),a+=8+l.length}for(o=0;o<t.length;++o)if(!(e&&!e[t[o][0]])&&!(iX.indexOf(t[o][0])>-1||JK.indexOf(t[o][0])>-1)&&t[o][1]!=null){var h=t[o][1],p=0;if(e){p=+e[t[o][0]];var v=n[p];if(v.p=="version"&&typeof h=="string"){var g=h.split(".");h=(+g[0]<<16)+(+g[1]||0)}l=w7(v.t,h)}else{var y=t4e(h);y==-1&&(y=31,h=String(h)),l=w7(y,h)}s.push(l),c=nt(8),c.write_shift(4,e?p:2+o),i.push(c),a+=8+l.length}var b=8*(s.length+1);for(o=0;o<s.length;++o)i[o].write_shift(4,b),b+=s[o].length;return r.write_shift(4,a),r.write_shift(4,s.length),Mi([r].concat(i).concat(s))}function C7(t,e,n){var r=t.content;if(!r)return{};$i(r,0);var i,s,a,o,l=0;r.chk("feff","Byte Order: "),r.read_shift(2);var c=r.read_shift(4),u=r.read_shift(16);if(u!==Wt.utils.consts.HEADER_CLSID&&u!==n)throw new Error("Bad PropertySet CLSID "+u);if(i=r.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(s=r.read_shift(16),o=r.read_shift(4),i===1&&o!==r.l)throw new Error("Length mismatch: "+o+" !== "+r.l);i===2&&(a=r.read_shift(16),l=r.read_shift(4));var f=T7(r,e),h={SystemIdentifier:c};for(var p in f)h[p]=f[p];if(h.FMTID=s,i===1)return h;if(l-r.l==2&&(r.l+=2),r.l!==l)throw new Error("Length mismatch 2: "+r.l+" !== "+l);var v;try{v=T7(r,null)}catch{}for(p in v)h[p]=v[p];return h.FMTID=[s,a],h}function S7(t,e,n,r,i,s){var a=nt(i?68:48),o=[a];a.write_shift(2,65534),a.write_shift(2,0),a.write_shift(4,842412599),a.write_shift(16,Wt.utils.consts.HEADER_CLSID,"hex"),a.write_shift(4,i?2:1),a.write_shift(16,e,"hex"),a.write_shift(4,i?68:48);var l=E7(t,n,r);if(o.push(l),i){var c=E7(i,null,null);a.write_shift(16,s,"hex"),a.write_shift(4,68+l.length),o.push(c)}return Mi(o)}function iu(t,e){return t.read_shift(e),null}function n4e(t,e){e||(e=nt(t));for(var n=0;n<t;++n)e.write_shift(1,0);return e}function r4e(t,e,n){for(var r=[],i=t.l+e;t.l<i;)r.push(n(t,i-t.l));if(i!==t.l)throw new Error("Slurp error");return r}function Jr(t,e){return t.read_shift(e)===1}function Ns(t,e){return e||(e=nt(2)),e.write_shift(2,+!!t),e}function ci(t){return t.read_shift(2,"u")}function Ga(t,e){return e||(e=nt(2)),e.write_shift(2,t),e}function sX(t,e){return r4e(t,e,ci)}function i4e(t){var e=t.read_shift(1),n=t.read_shift(1);return n===1?e:e===1}function aX(t,e,n){return n||(n=nt(2)),n.write_shift(1,e=="e"?+t:+!!t),n.write_shift(1,e=="e"?1:0),n}function qv(t,e,n){var r=t.read_shift(n&&n.biff>=12?2:1),i="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var s=t.read_shift(1);s&&(i="dbcs-cont")}else n.biff==12&&(i="wstr");n.biff>=2&&n.biff<=5&&(i="cpstr");var a=r?t.read_shift(r,i):"";return a}function s4e(t){var e=t.read_shift(2),n=t.read_shift(1),r=n&4,i=n&8,s=1+(n&1),a=0,o,l={};i&&(a=t.read_shift(2)),r&&(o=t.read_shift(4));var c=s==2?"dbcs-cont":"sbcs-cont",u=e===0?"":t.read_shift(e,c);return i&&(t.l+=4*a),r&&(t.l+=o),l.t=u,i||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function a4e(t){var e=t.t||"",n=nt(3);n.write_shift(2,e.length),n.write_shift(1,1);var r=nt(2*e.length);r.write_shift(2*e.length,e,"utf16le");var i=[n,r];return Mi(i)}function Mf(t,e,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return t.read_shift(e,"cpstr");if(n.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?r=t.read_shift(e,"sbcs-cont"):r=t.read_shift(e,"dbcs-cont"),r}function zv(t,e,n){var r=t.read_shift(n&&n.biff==2?1:2);return r===0?(t.l++,""):Mf(t,r,n)}function ih(t,e,n){if(n.biff>5)return zv(t,e,n);var r=t.read_shift(1);return r===0?(t.l++,""):t.read_shift(r,n.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function oX(t,e,n){return n||(n=nt(3+2*t.length)),n.write_shift(2,t.length),n.write_shift(1,1),n.write_shift(31,t,"utf16le"),n}function o4e(t){var e=t.read_shift(1);t.l++;var n=t.read_shift(2);return t.l+=2,[e,n]}function l4e(t){var e=t.read_shift(4),n=t.l,r=!1;e>24&&(t.l+=e-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(r=!0),t.l=n);var i=t.read_shift((r?e-24:e)>>1,"utf16le").replace(Fs,"");return r&&(t.l+=24),i}function c4e(t){for(var e=t.read_shift(2),n="";e-- >0;)n+="../";var r=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=t.read_shift(4);if(i===0)return n+r.replace(/\\/g,"/");var s=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var a=t.read_shift(s>>1,"utf16le").replace(Fs,"");return n+a}function u4e(t,e){var n=t.read_shift(16);switch(n){case"e0c9ea79f9bace118c8200aa004ba90b":return l4e(t);case"0303000000000000c000000000000046":return c4e(t);default:throw new Error("Unsupported Moniker "+n)}}function Px(t){var e=t.read_shift(4),n=e>0?t.read_shift(e,"utf16le").replace(Fs,""):"";return n}function D7(t,e){e||(e=nt(6+t.length*2)),e.write_shift(4,1+t.length);for(var n=0;n<t.length;++n)e.write_shift(2,t.charCodeAt(n));return e.write_shift(2,0),e}function d4e(t,e){var n=t.l+e,r=t.read_shift(4);if(r!==2)throw new Error("Unrecognized streamVersion: "+r);var i=t.read_shift(2);t.l+=2;var s,a,o,l,c="",u,f;i&16&&(s=Px(t,n-t.l)),i&128&&(a=Px(t,n-t.l)),(i&257)===257&&(o=Px(t,n-t.l)),(i&257)===1&&(l=u4e(t,n-t.l)),i&8&&(c=Px(t,n-t.l)),i&32&&(u=t.read_shift(16)),i&64&&(f=Bk(t)),t.l=n;var h=a||o||l||"";h&&c&&(h+="#"+c),h||(h="#"+c),i&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var p={Target:h};return u&&(p.guid=u),f&&(p.time=f),s&&(p.Tooltip=s),p}function f4e(t){var e=nt(512),n=0,r=t.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var i=r.indexOf("#"),s=i>-1?31:23;switch(r.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var a=[8,6815827,6619237,4849780,83];for(n=0;n<a.length;++n)e.write_shift(4,a[n]);if(s==28)r=r.slice(1),D7(r,e);else if(s&2){for(a="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<a.length;++n)e.write_shift(1,parseInt(a[n],16));var o=i>-1?r.slice(0,i):r;for(e.write_shift(4,2*(o.length+1)),n=0;n<o.length;++n)e.write_shift(2,o.charCodeAt(n));e.write_shift(2,0),s&8&&D7(i>-1?r.slice(i+1):"",e)}else{for(a="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<a.length;++n)e.write_shift(1,parseInt(a[n],16));for(var l=0;r.slice(l*3,l*3+3)=="../"||r.slice(l*3,l*3+3)=="..\\";)++l;for(e.write_shift(2,l),e.write_shift(4,r.length-3*l+1),n=0;n<r.length-3*l;++n)e.write_shift(1,r.charCodeAt(n+3*l)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),n=0;n<6;++n)e.write_shift(4,0)}return e.slice(0,e.l)}function lX(t){var e=t.read_shift(1),n=t.read_shift(1),r=t.read_shift(1),i=t.read_shift(1);return[e,n,r,i]}function cX(t,e){var n=lX(t);return n[3]=0,n}function Il(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2);return{r:e,c:n,ixfe:r}}function Uf(t,e,n,r){return r||(r=nt(6)),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(2,n||0),r}function h4e(t){var e=t.read_shift(2),n=t.read_shift(2);return t.l+=8,{type:e,flags:n}}function p4e(t,e,n){return e===0?"":ih(t,e,n)}function m4e(t,e,n){var r=n.biff>8?4:2,i=t.read_shift(r),s=t.read_shift(r,"i"),a=t.read_shift(r,"i");return[i,s,a]}function uX(t){var e=t.read_shift(2),n=Ok(t);return[e,n]}function g4e(t,e,n){t.l+=4,e-=4;var r=t.l+e,i=qv(t,e,n),s=t.read_shift(2);if(r-=t.l,s!==r)throw new Error("Malformed AddinUdf: padding = "+r+" != "+s);return t.l+=s,i}function Rw(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),i=t.read_shift(2);return{s:{c:r,r:e},e:{c:i,r:n}}}function dX(t,e){return e||(e=nt(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function fX(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(1),i=t.read_shift(1);return{s:{c:r,r:e},e:{c:i,r:n}}}var y4e=fX;function hX(t){t.l+=4;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2);return t.l+=12,[n,e,r]}function v4e(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e}function x4e(t){var e={};return t.l+=4,t.cf=t.read_shift(2),e}function is(t){t.l+=2,t.l+=t.read_shift(2)}var _4e={0:is,4:is,5:is,6:is,7:x4e,8:is,9:is,10:is,11:is,12:is,13:v4e,14:is,15:is,16:is,17:is,18:is,19:is,20:is,21:hX};function b4e(t,e){for(var n=t.l+e,r=[];t.l<n;){var i=t.read_shift(2);t.l-=2;try{r.push(_4e[i](t,n-t.l))}catch{return t.l=n,r}}return t.l!=n&&(t.l=n),r}function Fx(t,e){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=t.read_shift(2),e-=2,e>=2&&(n.dt=t.read_shift(2),t.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+n.BIFFVer)}return t.read_shift(e),n}function Vk(t,e,n){var r=1536,i=16;switch(n.bookType){case"biff8":break;case"biff5":r=1280,i=8;break;case"biff4":r=4,i=6;break;case"biff3":r=3,i=6;break;case"biff2":r=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=nt(i);return s.write_shift(2,r),s.write_shift(2,e),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function w4e(t,e){return e===0||t.read_shift(2),1200}function T4e(t,e,n){if(n.enc)return t.l+=e,"";var r=t.l,i=ih(t,0,n);return t.read_shift(e+r-t.l),i}function E4e(t,e){var n=!e||e.biff==8,r=nt(n?112:54);for(r.write_shift(e.biff==8?2:1,7),n&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(n?0:536870912));r.l<r.length;)r.write_shift(1,n?0:32);return r}function C4e(t,e,n){var r=n&&n.biff==8||e==2?t.read_shift(2):(t.l+=e,0);return{fDialog:r&16,fBelow:r&64,fRight:r&128}}function S4e(t,e,n){var r=t.read_shift(4),i=t.read_shift(1)&3,s=t.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var a=qv(t,0,n);return a.length===0&&(a="Sheet1"),{pos:r,hs:i,dt:s,name:a}}function D4e(t,e){var n=!e||e.biff>=8?2:1,r=nt(8+n*t.name.length);r.write_shift(4,t.pos),r.write_shift(1,t.hs||0),r.write_shift(1,t.dt),r.write_shift(1,t.name.length),e.biff>=8&&r.write_shift(1,1),r.write_shift(n*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var i=r.slice(0,r.l);return i.l=r.l,i}function A4e(t,e){for(var n=t.l+e,r=t.read_shift(4),i=t.read_shift(4),s=[],a=0;a!=i&&t.l<n;++a)s.push(s4e(t));return s.Count=r,s.Unique=i,s}function N4e(t,e){var n=nt(8);n.write_shift(4,t.Count),n.write_shift(4,t.Unique);for(var r=[],i=0;i<t.length;++i)r[i]=a4e(t[i]);var s=Mi([n].concat(r));return s.parts=[n.length].concat(r.map(function(a){return a.length})),s}function I4e(t,e){var n={};return n.dsst=t.read_shift(2),t.l+=e-2,n}function k4e(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var n=t.read_shift(2);t.l+=4;var r=t.read_shift(1);return t.l+=3,r&7&&(e.level=r&7),r&32&&(e.hidden=!0),r&64&&(e.hpt=n/20),e}function R4e(t){var e=h4e(t);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var n=t.read_shift(4);return n!==0}function P4e(t){return t.read_shift(2),t.read_shift(4)}function A7(t,e,n){var r=0;n&&n.biff==2||(r=t.read_shift(2));var i=t.read_shift(2);n&&n.biff==2&&(r=1-(i>>15),i&=32767);var s={Unsynced:r&1,DyZero:(r&2)>>1,ExAsc:(r&4)>>2,ExDsc:(r&8)>>3};return[s,i]}function F4e(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),a=t.read_shift(2),o=t.read_shift(2),l=t.read_shift(2),c=t.read_shift(2);return{Pos:[e,n],Dim:[r,i],Flags:s,CurTab:a,FirstTab:o,Selected:l,TabRatio:c}}function M4e(){var t=nt(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function U4e(t,e,n){if(n&&n.biff>=2&&n.biff<5)return{};var r=t.read_shift(2);return{RTL:r&64}}function O4e(t){var e=nt(18),n=1718;return t&&t.RTL&&(n|=64),e.write_shift(2,n),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function L4e(){}function j4e(t,e,n){var r={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return r.name=qv(t,0,n),r}function B4e(t,e){var n=t.name||"Arial",r=e&&e.biff==5,i=r?15+n.length:16+2*n.length,s=nt(i);return s.write_shift(2,t.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,n.length),r||s.write_shift(1,1),s.write_shift((r?1:2)*n.length,n,r?"sbcs":"utf16le"),s}function V4e(t){var e=Il(t);return e.isst=t.read_shift(4),e}function W4e(t,e,n,r){var i=nt(10);return Uf(t,e,r,i),i.write_shift(4,n),i}function q4e(t,e,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=t.l+e,i=Il(t);n.biff==2&&t.l++;var s=zv(t,r-t.l,n);return i.val=s,i}function z4e(t,e,n,r,i){var s=!i||i.biff==8,a=nt(8+ +s+(1+s)*n.length);return Uf(t,e,r,a),a.write_shift(2,n.length),s&&a.write_shift(1,1),a.write_shift((1+s)*n.length,n,s?"utf16le":"sbcs"),a}function H4e(t,e,n){var r=t.read_shift(2),i=ih(t,0,n);return[r,i]}function $4e(t,e,n,r){var i=n&&n.biff==5;r||(r=nt(i?3+e.length:5+2*e.length)),r.write_shift(2,t),r.write_shift(i?1:2,e.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var s=r.length>r.l?r.slice(0,r.l):r;return s.l==null&&(s.l=s.length),s}var G4e=ih;function N7(t,e,n){var r=t.l+e,i=n.biff==8||!n.biff?4:2,s=t.read_shift(i),a=t.read_shift(i),o=t.read_shift(2),l=t.read_shift(2);return t.l=r,{s:{r:s,c:o},e:{r:a,c:l}}}function K4e(t,e){var n=e.biff==8||!e.biff?4:2,r=nt(2*n+6);return r.write_shift(n,t.s.r),r.write_shift(n,t.e.r+1),r.write_shift(2,t.s.c),r.write_shift(2,t.e.c+1),r.write_shift(2,0),r}function X4e(t){var e=t.read_shift(2),n=t.read_shift(2),r=uX(t);return{r:e,c:n,ixfe:r[0],rknum:r[1]}}function J4e(t,e){for(var n=t.l+e-2,r=t.read_shift(2),i=t.read_shift(2),s=[];t.l<n;)s.push(uX(t));if(t.l!==n)throw new Error("MulRK read error");var a=t.read_shift(2);if(s.length!=a-i+1)throw new Error("MulRK length mismatch");return{r,c:i,C:a,rkrec:s}}function Y4e(t,e){for(var n=t.l+e-2,r=t.read_shift(2),i=t.read_shift(2),s=[];t.l<n;)s.push(t.read_shift(2));if(t.l!==n)throw new Error("MulBlank read error");var a=t.read_shift(2);if(s.length!=a-i+1)throw new Error("MulBlank length mismatch");return{r,c:i,C:a,ixfe:s}}function Q4e(t,e,n,r){var i={},s=t.read_shift(4),a=t.read_shift(4),o=t.read_shift(4),l=t.read_shift(2);return i.patternType=RAe[o>>26],r.cellStyles&&(i.alc=s&7,i.fWrap=s>>3&1,i.alcV=s>>4&7,i.fJustLast=s>>7&1,i.trot=s>>8&255,i.cIndent=s>>16&15,i.fShrinkToFit=s>>20&1,i.iReadOrder=s>>22&2,i.fAtrNum=s>>26&1,i.fAtrFnt=s>>27&1,i.fAtrAlc=s>>28&1,i.fAtrBdr=s>>29&1,i.fAtrPat=s>>30&1,i.fAtrProt=s>>31&1,i.dgLeft=a&15,i.dgRight=a>>4&15,i.dgTop=a>>8&15,i.dgBottom=a>>12&15,i.icvLeft=a>>16&127,i.icvRight=a>>23&127,i.grbitDiag=a>>30&3,i.icvTop=o&127,i.icvBottom=o>>7&127,i.icvDiag=o>>14&127,i.dgDiag=o>>21&15,i.icvFore=l&127,i.icvBack=l>>7&127,i.fsxButton=l>>14&1),i}function Z4e(t,e,n){var r={};return r.ifnt=t.read_shift(2),r.numFmtId=t.read_shift(2),r.flags=t.read_shift(2),r.fStyle=r.flags>>2&1,e-=6,r.data=Q4e(t,e,r.fStyle,n),r}function I7(t,e,n,r){var i=n&&n.biff==5;r||(r=nt(i?16:20)),r.write_shift(2,0),t.style?(r.write_shift(2,t.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,t.numFmtId||0),r.write_shift(2,e<<4));var s=0;return t.numFmtId>0&&i&&(s|=1024),r.write_shift(4,s),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function eNe(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function tNe(t){var e=nt(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function k7(t,e,n){var r=Il(t);(n.biff==2||e==9)&&++t.l;var i=i4e(t);return r.val=i,r.t=i===!0||i===!1?"b":"e",r}function nNe(t,e,n,r,i,s){var a=nt(8);return Uf(t,e,r,a),aX(n,s,a),a}function rNe(t,e,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=Il(t),i=ds(t);return r.val=i,r}function iNe(t,e,n,r){var i=nt(14);return Uf(t,e,r,i),Ff(n,i),i}var R7=p4e;function sNe(t,e,n){var r=t.l+e,i=t.read_shift(2),s=t.read_shift(2);if(n.sbcch=s,s==1025||s==14849)return[s,i];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var a=Mf(t,s),o=[];r>t.l;)o.push(zv(t));return[s,i,a,o]}function P7(t,e,n){var r=t.read_shift(2),i,s={fBuiltIn:r&1,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return n.sbcch===14849&&(i=g4e(t,e-2,n)),s.body=i||t.read_shift(e-2),typeof i=="string"&&(s.Name=i),s}var aNe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function F7(t,e,n){var r=t.l+e,i=t.read_shift(2),s=t.read_shift(1),a=t.read_shift(1),o=t.read_shift(n&&n.biff==2?1:2),l=0;(!n||n.biff>=5)&&(n.biff!=5&&(t.l+=2),l=t.read_shift(2),n.biff==5&&(t.l+=2),t.l+=4);var c=Mf(t,a,n);i&32&&(c=aNe[c.charCodeAt(0)]);var u=r-t.l;n&&n.biff==2&&--u;var f=r==t.l||o===0||!(u>0)?[]:b6e(t,u,n,o);return{chKey:s,Name:c,itab:l,rgce:f}}function pX(t,e,n){if(n.biff<8)return oNe(t,e,n);for(var r=[],i=t.l+e,s=t.read_shift(n.biff>8?4:2);s--!==0;)r.push(m4e(t,n.biff>8?12:6,n));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return r}function oNe(t,e,n){t[t.l+1]==3&&t[t.l]++;var r=qv(t,e,n);return r.charCodeAt(0)==3?r.slice(1):r}function lNe(t,e,n){if(n.biff<8){t.l+=e;return}var r=t.read_shift(2),i=t.read_shift(2),s=Mf(t,r,n),a=Mf(t,i,n);return[s,a]}function cNe(t,e,n){var r=fX(t);t.l++;var i=t.read_shift(1);return e-=8,[w6e(t,e,n),i,r]}function M7(t,e,n){var r=y4e(t);switch(n.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[r,x6e(t,e,n)]}function uNe(t){var e=t.read_shift(4)!==0,n=t.read_shift(4)!==0,r=t.read_shift(4);return[e,n,r]}function dNe(t,e,n){if(!(n.biff<8)){var r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),a=t.read_shift(2),o=ih(t,0,n);return n.biff<8&&t.read_shift(1),[{r,c:i},o,a,s]}}function fNe(t,e,n){return dNe(t,e,n)}function hNe(t,e){for(var n=[],r=t.read_shift(2);r--;)n.push(Rw(t));return n}function pNe(t){var e=nt(2+t.length*8);e.write_shift(2,t.length);for(var n=0;n<t.length;++n)dX(t[n],e);return e}function mNe(t,e,n){if(n&&n.biff<8)return yNe(t,e,n);var r=hX(t),i=b4e(t,e-22,r[1]);return{cmo:r,ft:i}}var gNe={8:function(t,e){var n=t.l+e;t.l+=10;var r=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var i=t.read_shift(1);return t.l+=i,t.l=n,{fmt:r}}};function yNe(t,e,n){t.l+=4;var r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,e-=36;var a=[];return a.push((gNe[r]||vs)(t,e,n)),{cmo:[i,r,s],ft:a}}function vNe(t,e,n){var r=t.l,i="";try{t.l+=4;var s=(n.lastobj||{cmo:[0,0]}).cmo[1],a;[0,5,7,11,12,14].indexOf(s)==-1?t.l+=6:a=o4e(t,6,n);var o=t.read_shift(2);t.read_shift(2),ci(t,2);var l=t.read_shift(2);t.l+=l;for(var c=1;c<t.lens.length-1;++c){if(t.l-r!=t.lens[c])throw new Error("TxO: bad continue record");var u=t[t.l],f=Mf(t,t.lens[c+1]-t.lens[c]-1);if(i+=f,i.length>=(u?o:2*o))break}if(i.length!==o&&i.length!==o*2)throw new Error("cchText: "+o+" != "+i.length);return t.l=r+e,{t:i}}catch{return t.l=r+e,{t:i}}}function xNe(t,e){var n=Rw(t);t.l+=16;var r=d4e(t,e-24);return[n,r]}function _Ne(t){var e=nt(24),n=Pr(t[0]);e.write_shift(2,n.r),e.write_shift(2,n.r),e.write_shift(2,n.c),e.write_shift(2,n.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(r[i],16));return Mi([e,f4e(t[1])])}function bNe(t,e){t.read_shift(2);var n=Rw(t),r=t.read_shift((e-10)/2,"dbcs-cont");return r=r.replace(Fs,""),[n,r]}function wNe(t){var e=t[1].Tooltip,n=nt(10+2*(e.length+1));n.write_shift(2,2048);var r=Pr(t[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var i=0;i<e.length;++i)n.write_shift(2,e.charCodeAt(i));return n.write_shift(2,0),n}function TNe(t){var e=[0,0],n;return n=t.read_shift(2),e[0]=x7[n]||n,n=t.read_shift(2),e[1]=x7[n]||n,e}function ENe(t){return t||(t=nt(4)),t.write_shift(2,1),t.write_shift(2,1),t}function CNe(t){for(var e=t.read_shift(2),n=[];e-- >0;)n.push(cX(t));return n}function SNe(t){for(var e=t.read_shift(2),n=[];e-- >0;)n.push(cX(t));return n}function DNe(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e}function mX(t,e,n){if(!n.cellStyles)return vs(t,e);var r=n&&n.biff>=12?4:2,i=t.read_shift(r),s=t.read_shift(r),a=t.read_shift(r),o=t.read_shift(r),l=t.read_shift(2);r==2&&(t.l+=2);var c={s:i,e:s,w:a,ixfe:o,flags:l};return(n.biff>=5||!n.biff)&&(c.level=l>>8&7),c}function ANe(t,e){var n=nt(12);n.write_shift(2,e),n.write_shift(2,e),n.write_shift(2,t.width*256),n.write_shift(2,0);var r=0;return t.hidden&&(r|=1),n.write_shift(1,r),r=t.level||0,n.write_shift(1,r),n.write_shift(2,0),n}function NNe(t,e){var n={};return e<32||(t.l+=16,n.header=ds(t),n.footer=ds(t),t.l+=2),n}function INe(t,e,n){var r={area:!1};if(n.biff!=5)return t.l+=e,r;var i=t.read_shift(1);return t.l+=3,i&16&&(r.area=!0),r}function kNe(t){for(var e=nt(2*t),n=0;n<t;++n)e.write_shift(2,n+1);return e}var RNe=Il,PNe=sX,FNe=zv;function MNe(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),i={fmt:e,env:n,len:r,data:t.slice(t.l,t.l+r)};return t.l+=r,i}function UNe(t,e,n){n.biffguess&&n.biff==5&&(n.biff=2);var r=Il(t);++t.l;var i=ih(t,e-7,n);return r.t="str",r.val=i,r}function ONe(t){var e=Il(t);++t.l;var n=ds(t);return e.t="n",e.val=n,e}function LNe(t,e,n){var r=nt(15);return Kv(r,t,e),r.write_shift(8,n,"f"),r}function jNe(t){var e=Il(t);++t.l;var n=t.read_shift(2);return e.t="n",e.val=n,e}function BNe(t,e,n){var r=nt(9);return Kv(r,t,e),r.write_shift(2,n),r}function VNe(t){var e=t.read_shift(1);return e===0?(t.l++,""):t.read_shift(e,"sbcs-cont")}function WNe(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}function qNe(t,e,n){var r=t.l+e,i=Il(t),s=t.read_shift(2),a=Mf(t,s,n);return t.l=r,i.t="str",i.val=a,i}var zNe=[2,3,48,49,131,139,140,245],lN=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=Nw({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(o,l){var c=[],u=qu(1);switch(l.type){case"base64":u=ba(Na(o));break;case"binary":u=ba(o);break;case"buffer":case"array":u=o;break}$i(u,0);var f=u.read_shift(1),h=!!(f&136),p=!1,v=!1;switch(f){case 2:break;case 3:break;case 48:p=!0,h=!0;break;case 49:p=!0,h=!0;break;case 131:break;case 139:break;case 140:v=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var g=0,y=521;f==2&&(g=u.read_shift(2)),u.l+=3,f!=2&&(g=u.read_shift(4)),g>1048576&&(g=1e6),f!=2&&(y=u.read_shift(2));var b=u.read_shift(2),_=l.codepage||1252;f!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(_=t[u[u.l]]),u.l+=1,u.l+=2),v&&(u.l+=36);for(var w=[],C={},S=Math.min(u.length,f==2?521:y-10-(p?264:0)),R=v?32:11;u.l<S&&u[u.l]!=13;)switch(C={},C.name=Ly.utils.decode(_,u.slice(u.l,u.l+R)).replace(/[\u0000\r\n].*$/g,""),u.l+=R,C.type=String.fromCharCode(u.read_shift(1)),f!=2&&!v&&(C.offset=u.read_shift(4)),C.len=u.read_shift(1),f==2&&(C.offset=u.read_shift(2)),C.dec=u.read_shift(1),C.name.length&&w.push(C),f!=2&&(u.l+=v?13:14),C.type){case"B":(!p||C.len!=8)&&l.WTF&&console.log("Skipping "+C.name+":"+C.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+C.name+":"+C.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+C.type)}if(u[u.l]!==13&&(u.l=y-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=y;var D=0,N=0;for(c[0]=[],N=0;N!=w.length;++N)c[0][N]=w[N].name;for(;g-- >0;){if(u[u.l]===42){u.l+=b;continue}for(++u.l,c[++D]=[],N=0,N=0;N!=w.length;++N){var k=u.slice(u.l,u.l+w[N].len);u.l+=w[N].len,$i(k,0);var F=Ly.utils.decode(_,k);switch(w[N].type){case"C":F.trim().length&&(c[D][N]=F.replace(/\s+$/,""));break;case"D":F.length===8?c[D][N]=new Date(+F.slice(0,4),+F.slice(4,6)-1,+F.slice(6,8)):c[D][N]=F;break;case"F":c[D][N]=parseFloat(F.trim());break;case"+":case"I":c[D][N]=v?k.read_shift(-4,"i")^2147483648:k.read_shift(4,"i");break;case"L":switch(F.trim().toUpperCase()){case"Y":case"T":c[D][N]=!0;break;case"N":case"F":c[D][N]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+F+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));c[D][N]="##MEMO##"+(v?parseInt(F.trim(),10):k.read_shift(4));break;case"N":F=F.replace(/\u0000/g,"").trim(),F&&F!="."&&(c[D][N]=+F||0);break;case"@":c[D][N]=new Date(k.read_shift(-8,"f")-621356832e5);break;case"T":c[D][N]=new Date((k.read_shift(4)-2440588)*864e5+k.read_shift(4));break;case"Y":c[D][N]=k.read_shift(4,"i")/1e4+k.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[D][N]=-k.read_shift(-8,"f");break;case"B":if(p&&w[N].len==8){c[D][N]=k.read_shift(8,"f");break}case"G":case"P":k.l+=w[N].len;break;case"0":if(w[N].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+w[N].type)}}}if(f!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=w,c}function r(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var u=Ym(n(o,c),c);return u["!cols"]=c.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete c.DBF,u}function i(o,l){try{return id(r(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function a(o,l){var c=l||{};if(+c.codepage>=0&&Io(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=ta(),f=X_(o,{header:1,raw:!0,cellDates:!0}),h=f[0],p=f.slice(1),v=o["!cols"]||[],g=0,y=0,b=0,_=1;for(g=0;g<h.length;++g){if(((v[g]||{}).DBF||{}).name){h[g]=v[g].DBF.name,++b;continue}if(h[g]!=null){if(++b,typeof h[g]=="number"&&(h[g]=h[g].toString(10)),typeof h[g]!="string")throw new Error("DBF Invalid column name "+h[g]+" |"+typeof h[g]+"|");if(h.indexOf(h[g])!==g){for(y=0;y<1024;++y)if(h.indexOf(h[g]+"_"+y)==-1){h[g]+="_"+y;break}}}}var w=Dn(o["!ref"]),C=[],S=[],R=[];for(g=0;g<=w.e.c-w.s.c;++g){var D="",N="",k=0,F=[];for(y=0;y<p.length;++y)p[y][g]!=null&&F.push(p[y][g]);if(F.length==0||h[g]==null){C[g]="?";continue}for(y=0;y<F.length;++y){switch(typeof F[y]){case"number":N="B";break;case"string":N="C";break;case"boolean":N="L";break;case"object":N=F[y]instanceof Date?"D":"C";break;default:N="C"}k=Math.max(k,String(F[y]).length),D=D&&D!=N?"C":N}k>250&&(k=250),N=((v[g]||{}).DBF||{}).type,N=="C"&&v[g].DBF.len>k&&(k=v[g].DBF.len),D=="B"&&N=="N"&&(D="N",R[g]=v[g].DBF.dec,k=v[g].DBF.len),S[g]=D=="C"||N=="N"?k:s[D]||0,_+=S[g],C[g]=D}var P=u.next(32);for(P.write_shift(4,318902576),P.write_shift(4,p.length),P.write_shift(2,296+32*b),P.write_shift(2,_),g=0;g<4;++g)P.write_shift(4,0);for(P.write_shift(4,0|(+e[iK]||3)<<8),g=0,y=0;g<h.length;++g)if(h[g]!=null){var I=u.next(32),U=(h[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);I.write_shift(1,U,"sbcs"),I.write_shift(1,C[g]=="?"?"C":C[g],"sbcs"),I.write_shift(4,y),I.write_shift(1,S[g]||s[C[g]]||0),I.write_shift(1,R[g]||0),I.write_shift(1,2),I.write_shift(4,0),I.write_shift(1,0),I.write_shift(4,0),I.write_shift(4,0),y+=S[g]||s[C[g]]||0}var O=u.next(264);for(O.write_shift(4,13),g=0;g<65;++g)O.write_shift(4,0);for(g=0;g<p.length;++g){var K=u.next(_);for(K.write_shift(1,0),y=0;y<h.length;++y)if(h[y]!=null)switch(C[y]){case"L":K.write_shift(1,p[g][y]==null?63:p[g][y]?84:70);break;case"B":K.write_shift(8,p[g][y]||0,"f");break;case"N":var X="0";for(typeof p[g][y]=="number"&&(X=p[g][y].toFixed(R[y]||0)),b=0;b<S[y]-X.length;++b)K.write_shift(1,32);K.write_shift(1,X,"sbcs");break;case"D":p[g][y]?(K.write_shift(4,("0000"+p[g][y].getFullYear()).slice(-4),"sbcs"),K.write_shift(2,("00"+(p[g][y].getMonth()+1)).slice(-2),"sbcs"),K.write_shift(2,("00"+p[g][y].getDate()).slice(-2),"sbcs")):K.write_shift(8,"00000000","sbcs");break;case"C":var J=String(p[g][y]!=null?p[g][y]:"").slice(0,S[y]);for(K.write_shift(1,J,"sbcs"),b=0;b<S[y]-J.length;++b)K.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:i,to_sheet:r,from_sheet:a}})(),gX=(function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+zr(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(h,p){var v=t[p];return typeof v=="number"?$O(v):v},r=function(h,p,v){var g=p.charCodeAt(0)-32<<4|v.charCodeAt(0)-48;return g==59?h:$O(g)};t["|"]=254;function i(h,p){switch(p.type){case"base64":return s(Na(h),p);case"binary":return s(h,p);case"buffer":return s(hn&&Buffer.isBuffer(h)?h.toString("binary"):rd(h),p);case"array":return s(Pf(h),p)}throw new Error("Unrecognized type "+p.type)}function s(h,p){var v=h.split(/[\n\r]+/),g=-1,y=-1,b=0,_=0,w=[],C=[],S=null,R={},D=[],N=[],k=[],F=0,P;for(+p.codepage>=0&&Io(+p.codepage);b!==v.length;++b){F=0;var I=v[b].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,n),U=I.replace(/;;/g,"\0").split(";").map(function(Y){return Y.replace(/\u0000/g,";")}),O=U[0],K;if(I.length>0)switch(O){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":U[1].charAt(0)=="P"&&C.push(I.slice(3).replace(/;;/g,";"));break;case"C":var X=!1,J=!1,ne=!1,z=!1,Q=-1,B=-1;for(_=1;_<U.length;++_)switch(U[_].charAt(0)){case"A":break;case"X":y=parseInt(U[_].slice(1))-1,J=!0;break;case"Y":for(g=parseInt(U[_].slice(1))-1,J||(y=0),P=w.length;P<=g;++P)w[P]=[];break;case"K":K=U[_].slice(1),K.charAt(0)==='"'?K=K.slice(1,K.length-1):K==="TRUE"?K=!0:K==="FALSE"?K=!1:isNaN(Mo(K))?isNaN(pm(K).getDate())||(K=vr(K)):(K=Mo(K),S!==null&&Xm(S)&&(K=kw(K))),X=!0;break;case"E":z=!0;var j=Pp(U[_].slice(1),{r:g,c:y});w[g][y]=[w[g][y],j];break;case"S":ne=!0,w[g][y]=[w[g][y],"S5S"];break;case"G":break;case"R":Q=parseInt(U[_].slice(1))-1;break;case"C":B=parseInt(U[_].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+I)}if(X&&(w[g][y]&&w[g][y].length==2?w[g][y][0]=K:w[g][y]=K,S=null),ne){if(z)throw new Error("SYLK shared formula cannot have own formula");var W=Q>-1&&w[Q][B];if(!W||!W[1])throw new Error("SYLK shared formula cannot find base");w[g][y][1]=FX(W[1],{r:g-Q,c:y-B})}break;case"F":var G=0;for(_=1;_<U.length;++_)switch(U[_].charAt(0)){case"X":y=parseInt(U[_].slice(1))-1,++G;break;case"Y":for(g=parseInt(U[_].slice(1))-1,P=w.length;P<=g;++P)w[P]=[];break;case"M":F=parseInt(U[_].slice(1))/20;break;case"F":break;case"G":break;case"P":S=C[parseInt(U[_].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(k=U[_].slice(1).split(" "),P=parseInt(k[0],10);P<=parseInt(k[1],10);++P)F=parseInt(k[2],10),N[P-1]=F===0?{hidden:!0}:{wch:F},zu(N[P-1]);break;case"C":y=parseInt(U[_].slice(1))-1,N[y]||(N[y]={});break;case"R":g=parseInt(U[_].slice(1))-1,D[g]||(D[g]={}),F>0?(D[g].hpt=F,D[g].hpx=gm(F)):F===0&&(D[g].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+I)}G<1&&(S=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+I)}}return D.length>0&&(R["!rows"]=D),N.length>0&&(R["!cols"]=N),p&&p.sheetRows&&(w=w.slice(0,p.sheetRows)),[w,R]}function a(h,p){var v=i(h,p),g=v[0],y=v[1],b=Ym(g,p);return zr(y).forEach(function(_){b[_]=y[_]}),b}function o(h,p){return id(a(h,p),p)}function l(h,p,v,g){var y="C;Y"+(v+1)+";X"+(g+1)+";K";switch(h.t){case"n":y+=h.v||0,h.f&&!h.F&&(y+=";E"+Gk(h.f,{r:v,c:g}));break;case"b":y+=h.v?"TRUE":"FALSE";break;case"e":y+=h.w||h.v;break;case"d":y+='"'+(h.w||h.v)+'"';break;case"s":y+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return y}function c(h,p){p.forEach(function(v,g){var y="F;W"+(g+1)+" "+(g+1)+" ";v.hidden?y+="0":(typeof v.width=="number"&&!v.wpx&&(v.wpx=$y(v.width)),typeof v.wpx=="number"&&!v.wch&&(v.wch=Gy(v.wpx)),typeof v.wch=="number"&&(y+=Math.round(v.wch))),y.charAt(y.length-1)!=" "&&h.push(y)})}function u(h,p){p.forEach(function(v,g){var y="F;";v.hidden?y+="M0;":v.hpt?y+="M"+20*v.hpt+";":v.hpx&&(y+="M"+20*Ky(v.hpx)+";"),y.length>2&&h.push(y+"R"+(g+1))})}function f(h,p){var v=["ID;PWXL;N;E"],g=[],y=Dn(h["!ref"]),b,_=Array.isArray(h),w=`\r
`;v.push("P;PGeneral"),v.push("F;P0;DG0G8;M255"),h["!cols"]&&c(v,h["!cols"]),h["!rows"]&&u(v,h["!rows"]),v.push("B;Y"+(y.e.r-y.s.r+1)+";X"+(y.e.c-y.s.c+1)+";D"+[y.s.c,y.s.r,y.e.c,y.e.r].join(" "));for(var C=y.s.r;C<=y.e.r;++C)for(var S=y.s.c;S<=y.e.c;++S){var R=Jt({r:C,c:S});b=_?(h[C]||[])[S]:h[R],!(!b||b.v==null&&(!b.f||b.F))&&g.push(l(b,h,C,S))}return v.join(w)+w+g.join(w)+w+"E"+w}return{to_workbook:o,to_sheet:a,from_sheet:f}})(),yX=(function(){function t(s,a){switch(a.type){case"base64":return e(Na(s),a);case"binary":return e(s,a);case"buffer":return e(hn&&Buffer.isBuffer(s)?s.toString("binary"):rd(s),a);case"array":return e(Pf(s),a)}throw new Error("Unrecognized type "+a.type)}function e(s,a){for(var o=s.split(`
`),l=-1,c=-1,u=0,f=[];u!==o.length;++u){if(o[u].trim()==="BOT"){f[++l]=[],c=0;continue}if(!(l<0)){var h=o[u].trim().split(","),p=h[0],v=h[1];++u;for(var g=o[u]||"";(g.match(/["]/g)||[]).length&1&&u<o.length-1;)g+=`
`+o[++u];switch(g=g.trim(),+p){case-1:if(g==="BOT"){f[++l]=[],c=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?f[l][c]=!0:g==="FALSE"?f[l][c]=!1:isNaN(Mo(v))?isNaN(pm(v).getDate())?f[l][c]=v:f[l][c]=vr(v):f[l][c]=Mo(v),++c;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),f[l][c++]=g!==""?g:null;break}if(g==="EOD")break}}return a&&a.sheetRows&&(f=f.slice(0,a.sheetRows)),f}function n(s,a){return Ym(t(s,a),a)}function r(s,a){return id(n(s,a),a)}var i=(function(){var s=function(l,c,u,f,h){l.push(c),l.push(u+","+f),l.push('"'+h.replace(/"/g,'""')+'"')},a=function(l,c,u,f){l.push(c+","+u),l.push(c==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var c=[],u=Dn(l["!ref"]),f,h=Array.isArray(l);s(c,"TABLE",0,1,"sheetjs"),s(c,"VECTORS",0,u.e.r-u.s.r+1,""),s(c,"TUPLES",0,u.e.c-u.s.c+1,""),s(c,"DATA",0,0,"");for(var p=u.s.r;p<=u.e.r;++p){a(c,-1,0,"BOT");for(var v=u.s.c;v<=u.e.c;++v){var g=Jt({r:p,c:v});if(f=h?(l[p]||[])[v]:l[g],!f){a(c,1,0,"");continue}switch(f.t){case"n":var y=f.w;!y&&f.v!=null&&(y=f.v),y==null?f.f&&!f.F?a(c,1,0,"="+f.f):a(c,1,0,""):a(c,0,y,"V");break;case"b":a(c,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":a(c,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=so(f.z||Gt[14],xi(vr(f.v)))),a(c,0,f.w,"V");break;default:a(c,1,0,"")}}}a(c,-1,0,"EOD");var b=`\r
`,_=c.join(b);return _}})();return{to_workbook:r,to_sheet:n,from_sheet:i}})(),vX=(function(){function t(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(f,h){for(var p=f.split(`
`),v=-1,g=-1,y=0,b=[];y!==p.length;++y){var _=p[y].trim().split(":");if(_[0]==="cell"){var w=Pr(_[1]);if(b.length<=w.r)for(v=b.length;v<=w.r;++v)b[v]||(b[v]=[]);switch(v=w.r,g=w.c,_[2]){case"t":b[v][g]=t(_[3]);break;case"v":b[v][g]=+_[3];break;case"vtf":var C=_[_.length-1];case"vtc":switch(_[3]){case"nl":b[v][g]=!!+_[4];break;default:b[v][g]=+_[4];break}_[2]=="vtf"&&(b[v][g]=[b[v][g],C])}}}return h&&h.sheetRows&&(b=b.slice(0,h.sheetRows)),b}function r(f,h){return Ym(n(f,h),h)}function i(f,h){return id(r(f,h),h)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(f){if(!f||!f["!ref"])return"";for(var h=[],p=[],v,g="",y=na(f["!ref"]),b=Array.isArray(f),_=y.s.r;_<=y.e.r;++_)for(var w=y.s.c;w<=y.e.c;++w)if(g=Jt({r:_,c:w}),v=b?(f[_]||[])[w]:f[g],!(!v||v.v==null||v.t==="z")){switch(p=["cell",g,"t"],v.t){case"s":case"str":p.push(e(v.v));break;case"n":v.f?(p[2]="vtf",p[3]="n",p[4]=v.v,p[5]=e(v.f)):(p[2]="v",p[3]=v.v);break;case"b":p[2]="vt"+(v.f?"f":"c"),p[3]="nl",p[4]=v.v?"1":"0",p[5]=e(v.f||(v.v?"TRUE":"FALSE"));break;case"d":var C=xi(vr(v.v));p[2]="vtc",p[3]="nd",p[4]=""+C,p[5]=v.w||so(v.z||Gt[14],C);break;case"e":continue}h.push(p.join(":"))}return h.push("sheet:c:"+(y.e.c-y.s.c+1)+":r:"+(y.e.r-y.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function u(f){return[s,a,o,a,c(f),l].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:u}})(),mm=(function(){function t(u,f,h,p,v){v.raw?f[h][p]=u:u===""||(u==="TRUE"?f[h][p]=!0:u==="FALSE"?f[h][p]=!1:isNaN(Mo(u))?isNaN(pm(u).getDate())?f[h][p]=u:f[h][p]=vr(u):f[h][p]=Mo(u))}function e(u,f){var h=f||{},p=[];if(!u||u.length===0)return p;for(var v=u.split(/[\r\n]/),g=v.length-1;g>=0&&v[g].length===0;)--g;for(var y=10,b=0,_=0;_<=g;++_)b=v[_].indexOf(" "),b==-1?b=v[_].length:b++,y=Math.max(y,b);for(_=0;_<=g;++_){p[_]=[];var w=0;for(t(v[_].slice(0,y).trim(),p,_,w,h),w=1;w<=(v[_].length-y)/10+1;++w)t(v[_].slice(y+(w-1)*10,y+w*10).trim(),p,_,w,h)}return h.sheetRows&&(p=p.slice(0,h.sheetRows)),p}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(u){for(var f={},h=!1,p=0,v=0;p<u.length;++p)(v=u.charCodeAt(p))==34?h=!h:!h&&v in n&&(f[v]=(f[v]||0)+1);v=[];for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&v.push([f[p],p]);if(!v.length){f=r;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&v.push([f[p],p])}return v.sort(function(g,y){return g[0]-y[0]||r[g[1]]-r[y[1]]}),n[v.pop()[1]]||44}function s(u,f){var h=f||{},p="",v=h.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(p=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(p=u.charAt(4),u=u.slice(6)):p=i(u.slice(0,1024)):h&&h.FS?p=h.FS:p=i(u.slice(0,1024));var y=0,b=0,_=0,w=0,C=0,S=p.charCodeAt(0),R=!1,D=0,N=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var k=h.dateNF!=null?IDe(h.dateNF):null;function F(){var P=u.slice(w,C),I={};if(P.charAt(0)=='"'&&P.charAt(P.length-1)=='"'&&(P=P.slice(1,-1).replace(/""/g,'"')),P.length===0)I.t="z";else if(h.raw)I.t="s",I.v=P;else if(P.trim().length===0)I.t="s",I.v=P;else if(P.charCodeAt(0)==61)P.charCodeAt(1)==34&&P.charCodeAt(P.length-1)==34?(I.t="s",I.v=P.slice(2,-1).replace(/""/g,'"')):ske(P)?(I.t="n",I.f=P.slice(1)):(I.t="s",I.v=P);else if(P=="TRUE")I.t="b",I.v=!0;else if(P=="FALSE")I.t="b",I.v=!1;else if(!isNaN(_=Mo(P)))I.t="n",h.cellText!==!1&&(I.w=P),I.v=_;else if(!isNaN(pm(P).getDate())||k&&P.match(k)){I.z=h.dateNF||Gt[14];var U=0;k&&P.match(k)&&(P=kDe(P,h.dateNF,P.match(k)||[]),U=1),h.cellDates?(I.t="d",I.v=vr(P,U)):(I.t="n",I.v=xi(vr(P,U))),h.cellText!==!1&&(I.w=so(I.z,I.v instanceof Date?xi(I.v):I.v)),h.cellNF||delete I.z}else I.t="s",I.v=P;if(I.t=="z"||(h.dense?(v[y]||(v[y]=[]),v[y][b]=I):v[Jt({c:b,r:y})]=I),w=C+1,N=u.charCodeAt(w),g.e.c<b&&(g.e.c=b),g.e.r<y&&(g.e.r=y),D==S)++b;else if(b=0,++y,h.sheetRows&&h.sheetRows<=y)return!0}e:for(;C<u.length;++C)switch(D=u.charCodeAt(C)){case 34:N===34&&(R=!R);break;case S:case 10:case 13:if(!R&&F())break e;break}return C-w>0&&F(),v["!ref"]=on(g),v}function a(u,f){return!(f&&f.PRN)||f.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?s(u,f):Ym(e(u,f),f)}function o(u,f){var h="",p=f.type=="string"?[0,0,0,0]:t6(u,f);switch(f.type){case"base64":h=Na(u);break;case"binary":h=u;break;case"buffer":f.codepage==65001?h=u.toString("utf8"):f.codepage&&typeof Ly<"u"||(h=hn&&Buffer.isBuffer(u)?u.toString("binary"):rd(u));break;case"array":h=Pf(u);break;case"string":h=u;break;default:throw new Error("Unrecognized type "+f.type)}return p[0]==239&&p[1]==187&&p[2]==191?h=Jn(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=Jn(h):f.type=="binary"&&typeof Ly<"u",h.slice(0,19)=="socialcalc:version:"?vX.to_sheet(f.type=="string"?h:Jn(h),f):a(h,f)}function l(u,f){return id(o(u,f),f)}function c(u){for(var f=[],h=Dn(u["!ref"]),p,v=Array.isArray(u),g=h.s.r;g<=h.e.r;++g){for(var y=[],b=h.s.c;b<=h.e.c;++b){var _=Jt({r:g,c:b});if(p=v?(u[g]||[])[b]:u[_],!p||p.v==null){y.push("          ");continue}for(var w=(p.w||(gc(p),p.w)||"").slice(0,10);w.length<10;)w+=" ";y.push(w+(b===0?" ":""))}f.push(y.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}})();function HNe(t,e){var n=e||{},r=!!n.WTF;n.WTF=!0;try{var i=gX.to_workbook(t,n);return n.WTF=r,i}catch(s){if(n.WTF=r,!s.message.match(/SYLK bad record ID/)&&r)throw s;return mm.to_workbook(t,e)}}var cf=(function(){function t(j,W,G){if(j){$i(j,j.l||0);for(var Y=G.Enum||Q;j.l<j.length;){var ee=j.read_shift(2),ae=Y[ee]||Y[65535],de=j.read_shift(2),fe=j.l+de,De=ae.f&&ae.f(j,de,G);if(j.l=fe,W(De,ae,ee))return}}}function e(j,W){switch(W.type){case"base64":return n(ba(Na(j)),W);case"binary":return n(ba(j),W);case"buffer":case"array":return n(j,W)}throw"Unsupported type "+W.type}function n(j,W){if(!j)return j;var G=W||{},Y=G.dense?[]:{},ee="Sheet1",ae="",de=0,fe={},De=[],Pe=[],me={s:{r:0,c:0},e:{r:0,c:0}},je=G.sheetRows||0;if(j[2]==0&&(j[3]==8||j[3]==9)&&j.length>=16&&j[14]==5&&j[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(j[2]==2)G.Enum=Q,t(j,function(oe,re,le){switch(le){case 0:G.vers=oe,oe>=4096&&(G.qpro=!0);break;case 6:me=oe;break;case 204:oe&&(ae=oe);break;case 222:ae=oe;break;case 15:case 51:G.qpro||(oe[1].v=oe[1].v.slice(1));case 13:case 14:case 16:le==14&&(oe[2]&112)==112&&(oe[2]&15)>1&&(oe[2]&15)<15&&(oe[1].z=G.dateNF||Gt[14],G.cellDates&&(oe[1].t="d",oe[1].v=kw(oe[1].v))),G.qpro&&oe[3]>de&&(Y["!ref"]=on(me),fe[ee]=Y,De.push(ee),Y=G.dense?[]:{},me={s:{r:0,c:0},e:{r:0,c:0}},de=oe[3],ee=ae||"Sheet"+(de+1),ae="");var he=G.dense?(Y[oe[0].r]||[])[oe[0].c]:Y[Jt(oe[0])];if(he){he.t=oe[1].t,he.v=oe[1].v,oe[1].z!=null&&(he.z=oe[1].z),oe[1].f!=null&&(he.f=oe[1].f);break}G.dense?(Y[oe[0].r]||(Y[oe[0].r]=[]),Y[oe[0].r][oe[0].c]=oe[1]):Y[Jt(oe[0])]=oe[1];break}},G);else if(j[2]==26||j[2]==14)G.Enum=B,j[2]==14&&(G.qpro=!0,j.l=0),t(j,function(oe,re,le){switch(le){case 204:ee=oe;break;case 22:oe[1].v=oe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(oe[3]>de&&(Y["!ref"]=on(me),fe[ee]=Y,De.push(ee),Y=G.dense?[]:{},me={s:{r:0,c:0},e:{r:0,c:0}},de=oe[3],ee="Sheet"+(de+1)),je>0&&oe[0].r>=je)break;G.dense?(Y[oe[0].r]||(Y[oe[0].r]=[]),Y[oe[0].r][oe[0].c]=oe[1]):Y[Jt(oe[0])]=oe[1],me.e.c<oe[0].c&&(me.e.c=oe[0].c),me.e.r<oe[0].r&&(me.e.r=oe[0].r);break;case 27:oe[14e3]&&(Pe[oe[14e3][0]]=oe[14e3][1]);break;case 1537:Pe[oe[0]]=oe[1],oe[0]==de&&(ee=oe[1]);break}},G);else throw new Error("Unrecognized LOTUS BOF "+j[2]);if(Y["!ref"]=on(me),fe[ae||ee]=Y,De.push(ae||ee),!Pe.length)return{SheetNames:De,Sheets:fe};for(var V={},ye=[],be=0;be<Pe.length;++be)fe[De[be]]?(ye.push(Pe[be]||De[be]),V[Pe[be]]=fe[Pe[be]]||fe[De[be]]):(ye.push(Pe[be]),V[Pe[be]]={"!ref":"A1"});return{SheetNames:ye,Sheets:V}}function r(j,W){var G=W||{};if(+G.codepage>=0&&Io(+G.codepage),G.type=="string")throw new Error("Cannot write WK1 to JS string");var Y=ta(),ee=Dn(j["!ref"]),ae=Array.isArray(j),de=[];bt(Y,0,s(1030)),bt(Y,6,l(ee));for(var fe=Math.min(ee.e.r,8191),De=ee.s.r;De<=fe;++De)for(var Pe=ei(De),me=ee.s.c;me<=ee.e.c;++me){De===ee.s.r&&(de[me]=Rr(me));var je=de[me]+Pe,V=ae?(j[De]||[])[me]:j[je];if(!(!V||V.t=="z"))if(V.t=="n")(V.v|0)==V.v&&V.v>=-32768&&V.v<=32767?bt(Y,13,p(De,me,V.v)):bt(Y,14,g(De,me,V.v));else{var ye=gc(V);bt(Y,15,f(De,me,ye.slice(0,239)))}}return bt(Y,1),Y.end()}function i(j,W){var G=W||{};if(+G.codepage>=0&&Io(+G.codepage),G.type=="string")throw new Error("Cannot write WK3 to JS string");var Y=ta();bt(Y,0,a(j));for(var ee=0,ae=0;ee<j.SheetNames.length;++ee)(j.Sheets[j.SheetNames[ee]]||{})["!ref"]&&bt(Y,27,z(j.SheetNames[ee],ae++));var de=0;for(ee=0;ee<j.SheetNames.length;++ee){var fe=j.Sheets[j.SheetNames[ee]];if(!(!fe||!fe["!ref"])){for(var De=Dn(fe["!ref"]),Pe=Array.isArray(fe),me=[],je=Math.min(De.e.r,8191),V=De.s.r;V<=je;++V)for(var ye=ei(V),be=De.s.c;be<=De.e.c;++be){V===De.s.r&&(me[be]=Rr(be));var oe=me[be]+ye,re=Pe?(fe[V]||[])[be]:fe[oe];if(!(!re||re.t=="z"))if(re.t=="n")bt(Y,23,F(V,be,de,re.v));else{var le=gc(re);bt(Y,22,D(V,be,de,le.slice(0,239)))}}++de}}return bt(Y,1),Y.end()}function s(j){var W=nt(2);return W.write_shift(2,j),W}function a(j){var W=nt(26);W.write_shift(2,4096),W.write_shift(2,4),W.write_shift(4,0);for(var G=0,Y=0,ee=0,ae=0;ae<j.SheetNames.length;++ae){var de=j.SheetNames[ae],fe=j.Sheets[de];if(!(!fe||!fe["!ref"])){++ee;var De=na(fe["!ref"]);G<De.e.r&&(G=De.e.r),Y<De.e.c&&(Y=De.e.c)}}return G>8191&&(G=8191),W.write_shift(2,G),W.write_shift(1,ee),W.write_shift(1,Y),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(1,1),W.write_shift(1,2),W.write_shift(4,0),W.write_shift(4,0),W}function o(j,W,G){var Y={s:{c:0,r:0},e:{c:0,r:0}};return W==8&&G.qpro?(Y.s.c=j.read_shift(1),j.l++,Y.s.r=j.read_shift(2),Y.e.c=j.read_shift(1),j.l++,Y.e.r=j.read_shift(2),Y):(Y.s.c=j.read_shift(2),Y.s.r=j.read_shift(2),W==12&&G.qpro&&(j.l+=2),Y.e.c=j.read_shift(2),Y.e.r=j.read_shift(2),W==12&&G.qpro&&(j.l+=2),Y.s.c==65535&&(Y.s.c=Y.e.c=Y.s.r=Y.e.r=0),Y)}function l(j){var W=nt(8);return W.write_shift(2,j.s.c),W.write_shift(2,j.s.r),W.write_shift(2,j.e.c),W.write_shift(2,j.e.r),W}function c(j,W,G){var Y=[{c:0,r:0},{t:"n",v:0},0,0];return G.qpro&&G.vers!=20768?(Y[0].c=j.read_shift(1),Y[3]=j.read_shift(1),Y[0].r=j.read_shift(2),j.l+=2):(Y[2]=j.read_shift(1),Y[0].c=j.read_shift(2),Y[0].r=j.read_shift(2)),Y}function u(j,W,G){var Y=j.l+W,ee=c(j,W,G);if(ee[1].t="s",G.vers==20768){j.l++;var ae=j.read_shift(1);return ee[1].v=j.read_shift(ae,"utf8"),ee}return G.qpro&&j.l++,ee[1].v=j.read_shift(Y-j.l,"cstr"),ee}function f(j,W,G){var Y=nt(7+G.length);Y.write_shift(1,255),Y.write_shift(2,W),Y.write_shift(2,j),Y.write_shift(1,39);for(var ee=0;ee<Y.length;++ee){var ae=G.charCodeAt(ee);Y.write_shift(1,ae>=128?95:ae)}return Y.write_shift(1,0),Y}function h(j,W,G){var Y=c(j,W,G);return Y[1].v=j.read_shift(2,"i"),Y}function p(j,W,G){var Y=nt(7);return Y.write_shift(1,255),Y.write_shift(2,W),Y.write_shift(2,j),Y.write_shift(2,G,"i"),Y}function v(j,W,G){var Y=c(j,W,G);return Y[1].v=j.read_shift(8,"f"),Y}function g(j,W,G){var Y=nt(13);return Y.write_shift(1,255),Y.write_shift(2,W),Y.write_shift(2,j),Y.write_shift(8,G,"f"),Y}function y(j,W,G){var Y=j.l+W,ee=c(j,W,G);if(ee[1].v=j.read_shift(8,"f"),G.qpro)j.l=Y;else{var ae=j.read_shift(2);C(j.slice(j.l,j.l+ae),ee),j.l+=ae}return ee}function b(j,W,G){var Y=W&32768;return W&=-32769,W=(Y?j:0)+(W>=8192?W-16384:W),(Y?"":"$")+(G?Rr(W):ei(W))}var _={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function C(j,W){$i(j,0);for(var G=[],Y=0,ee="",ae="",de="",fe="";j.l<j.length;){var De=j[j.l++];switch(De){case 0:G.push(j.read_shift(8,"f"));break;case 1:ae=b(W[0].c,j.read_shift(2),!0),ee=b(W[0].r,j.read_shift(2),!1),G.push(ae+ee);break;case 2:{var Pe=b(W[0].c,j.read_shift(2),!0),me=b(W[0].r,j.read_shift(2),!1);ae=b(W[0].c,j.read_shift(2),!0),ee=b(W[0].r,j.read_shift(2),!1),G.push(Pe+me+":"+ae+ee)}break;case 3:if(j.l<j.length){console.error("WK1 premature formula end");return}break;case 4:G.push("("+G.pop()+")");break;case 5:G.push(j.read_shift(2));break;case 6:{for(var je="";De=j[j.l++];)je+=String.fromCharCode(De);G.push('"'+je.replace(/"/g,'""')+'"')}break;case 8:G.push("-"+G.pop());break;case 23:G.push("+"+G.pop());break;case 22:G.push("NOT("+G.pop()+")");break;case 20:case 21:fe=G.pop(),de=G.pop(),G.push(["AND","OR"][De-20]+"("+de+","+fe+")");break;default:if(De<32&&w[De])fe=G.pop(),de=G.pop(),G.push(de+w[De]+fe);else if(_[De]){if(Y=_[De][1],Y==69&&(Y=j[j.l++]),Y>G.length){console.error("WK1 bad formula parse 0x"+De.toString(16)+":|"+G.join("|")+"|");return}var V=G.slice(-Y);G.length-=Y,G.push(_[De][0]+"("+V.join(",")+")")}else return De<=7?console.error("WK1 invalid opcode "+De.toString(16)):De<=24?console.error("WK1 unsupported op "+De.toString(16)):De<=30?console.error("WK1 invalid opcode "+De.toString(16)):De<=115?console.error("WK1 unsupported function opcode "+De.toString(16)):console.error("WK1 unrecognized opcode "+De.toString(16))}}G.length==1?W[1].f=""+G[0]:console.error("WK1 bad formula parse |"+G.join("|")+"|")}function S(j){var W=[{c:0,r:0},{t:"n",v:0},0];return W[0].r=j.read_shift(2),W[3]=j[j.l++],W[0].c=j[j.l++],W}function R(j,W){var G=S(j);return G[1].t="s",G[1].v=j.read_shift(W-4,"cstr"),G}function D(j,W,G,Y){var ee=nt(6+Y.length);ee.write_shift(2,j),ee.write_shift(1,G),ee.write_shift(1,W),ee.write_shift(1,39);for(var ae=0;ae<Y.length;++ae){var de=Y.charCodeAt(ae);ee.write_shift(1,de>=128?95:de)}return ee.write_shift(1,0),ee}function N(j,W){var G=S(j);G[1].v=j.read_shift(2);var Y=G[1].v>>1;if(G[1].v&1)switch(Y&7){case 0:Y=(Y>>3)*5e3;break;case 1:Y=(Y>>3)*500;break;case 2:Y=(Y>>3)/20;break;case 3:Y=(Y>>3)/200;break;case 4:Y=(Y>>3)/2e3;break;case 5:Y=(Y>>3)/2e4;break;case 6:Y=(Y>>3)/16;break;case 7:Y=(Y>>3)/64;break}return G[1].v=Y,G}function k(j,W){var G=S(j),Y=j.read_shift(4),ee=j.read_shift(4),ae=j.read_shift(2);if(ae==65535)return Y===0&&ee===3221225472?(G[1].t="e",G[1].v=15):Y===0&&ee===3489660928?(G[1].t="e",G[1].v=42):G[1].v=0,G;var de=ae&32768;return ae=(ae&32767)-16446,G[1].v=(1-de*2)*(ee*Math.pow(2,ae+32)+Y*Math.pow(2,ae)),G}function F(j,W,G,Y){var ee=nt(14);if(ee.write_shift(2,j),ee.write_shift(1,G),ee.write_shift(1,W),Y==0)return ee.write_shift(4,0),ee.write_shift(4,0),ee.write_shift(2,65535),ee;var ae=0,de=0,fe=0,De=0;return Y<0&&(ae=1,Y=-Y),de=Math.log2(Y)|0,Y/=Math.pow(2,de-31),De=Y>>>0,(De&2147483648)==0&&(Y/=2,++de,De=Y>>>0),Y-=De,De|=2147483648,De>>>=0,Y*=Math.pow(2,32),fe=Y>>>0,ee.write_shift(4,fe),ee.write_shift(4,De),de+=16383+(ae?32768:0),ee.write_shift(2,de),ee}function P(j,W){var G=k(j);return j.l+=W-14,G}function I(j,W){var G=S(j),Y=j.read_shift(4);return G[1].v=Y>>6,G}function U(j,W){var G=S(j),Y=j.read_shift(8,"f");return G[1].v=Y,G}function O(j,W){var G=U(j);return j.l+=W-10,G}function K(j,W){return j[j.l+W-1]==0?j.read_shift(W,"cstr"):""}function X(j,W){var G=j[j.l++];G>W-1&&(G=W-1);for(var Y="";Y.length<G;)Y+=String.fromCharCode(j[j.l++]);return Y}function J(j,W,G){if(!(!G.qpro||W<21)){var Y=j.read_shift(1);j.l+=17,j.l+=1,j.l+=2;var ee=j.read_shift(W-21,"cstr");return[Y,ee]}}function ne(j,W){for(var G={},Y=j.l+W;j.l<Y;){var ee=j.read_shift(2);if(ee==14e3){for(G[ee]=[0,""],G[ee][0]=j.read_shift(2);j[j.l];)G[ee][1]+=String.fromCharCode(j[j.l]),j.l++;j.l++}}return G}function z(j,W){var G=nt(5+j.length);G.write_shift(2,14e3),G.write_shift(2,W);for(var Y=0;Y<j.length;++Y){var ee=j.charCodeAt(Y);G[G.l++]=ee>127?95:ee}return G[G.l++]=0,G}var Q={0:{n:"BOF",f:ci},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:v},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:y},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:K},222:{n:"SHEETNAMELP",f:X},65535:{n:""}},B={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:R},23:{n:"NUMBER17",f:k},24:{n:"NUMBER18",f:N},25:{n:"FORMULA19",f:P},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ne},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:I},38:{n:"??"},39:{n:"NUMBER27",f:U},40:{n:"FORMULA28",f:O},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:K},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:J},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:e}})();function $Ne(t){var e={},n=t.match(bs),r=0,i=!1;if(n)for(;r!=n.length;++r){var s=Zt(n[r]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;e.cp=vk[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=s.val;break;case"<sz":e.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":s.rgb&&(e.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(s[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+s[0])}}return e}var GNe=(function(){var t=Vy("t"),e=Vy("rPr");function n(s){var a=s.match(t);if(!a)return{t:"s",v:""};var o={t:"s",v:Sn(a[1])},l=s.match(e);return l&&(o.s=$Ne(l[1])),o}var r=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(a){return a.replace(r,"").split(i).map(n).filter(function(o){return o.v})}})(),KNe=(function(){var e=/(\r\n|\n)/g;function n(i,s,a){var o=[];i.u&&o.push("text-decoration: underline;"),i.uval&&o.push("text-underline-style:"+i.uval+";"),i.sz&&o.push("font-size:"+i.sz+"pt;"),i.outline&&o.push("text-effect: outline;"),i.shadow&&o.push("text-shadow: auto;"),s.push('<span style="'+o.join("")+'">'),i.b&&(s.push("<b>"),a.push("</b>")),i.i&&(s.push("<i>"),a.push("</i>")),i.strike&&(s.push("<s>"),a.push("</s>"));var l=i.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(s.push("<"+l+">"),a.push("</"+l+">")),a.push("</span>"),i}function r(i){var s=[[],i.v,[]];return i.v?(i.s&&n(i.s,s[0],s[2]),s[0].join("")+s[1].replace(e,"<br/>")+s[2].join("")):""}return function(s){return s.map(r).join("")}})(),XNe=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,JNe=/<(?:\w+:)?r>/,YNe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function Wk(t,e){var n=e?e.cellHTML:!0,r={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=Sn(Jn(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=Jn(t),n&&(r.h=Ak(r.t))):t.match(JNe)&&(r.r=Jn(t),r.t=Sn(Jn((t.replace(YNe,"").match(XNe)||[]).join("").replace(bs,""))),n&&(r.h=KNe(GNe(r.r)))),r):{t:""}}var QNe=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,ZNe=/<(?:\w+:)?(?:si|sstItem)>/g,e3e=/<\/(?:\w+:)?(?:si|sstItem)>/;function t3e(t,e){var n=[],r="";if(!t)return n;var i=t.match(QNe);if(i){r=i[2].replace(ZNe,"").split(e3e);for(var s=0;s!=r.length;++s){var a=Wk(r[s].trim(),e);a!=null&&(n[n.length]=a)}i=Zt(i[1]),n.Count=i.count,n.Unique=i.uniqueCount}return n}var n3e=/^\s|\s$|[\t\n\r]/;function xX(t,e){if(!e.bookSST)return"";var n=[ni];n[n.length]=xt("sst",null,{xmlns:Zf[0],count:t.Count,uniqueCount:t.Unique});for(var r=0;r!=t.length;++r)if(t[r]!=null){var i=t[r],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(n3e)&&(s+=' xml:space="preserve"'),s+=">"+$n(i.t)+"</t>"),s+="</si>",n[n.length]=s}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}function r3e(t){return[t.read_shift(4),t.read_shift(4)]}function i3e(t,e){var n=[],r=!1;return Ac(t,function(s,a,o){switch(o){case 159:n.Count=s[0],n.Unique=s[1];break;case 19:n.push(s);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(a.T,!r||e.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function s3e(t,e){return e||(e=nt(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var a3e=gAe;function o3e(t){var e=ta();lt(e,159,s3e(t));for(var n=0;n<t.length;++n)lt(e,19,a3e(t[n]));return lt(e,160),e.end()}function _X(t){for(var e=[],n=t.split(""),r=0;r<n.length;++r)e[r]=n[r].charCodeAt(0);return e}function oc(t,e){var n={};return n.Major=t.read_shift(2),n.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),n}function l3e(t){var e={};return e.id=t.read_shift(0,"lpp4"),e.R=oc(t,4),e.U=oc(t,4),e.W=oc(t,4),e}function c3e(t){for(var e=t.read_shift(4),n=t.l+e-4,r={},i=t.read_shift(4),s=[];i-- >0;)s.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(r.name=t.read_shift(0,"lpp4"),r.comps=s,t.l!=n)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+n);return r}function u3e(t){var e=[];t.l+=4;for(var n=t.read_shift(4);n-- >0;)e.push(c3e(t));return e}function d3e(t){var e=[];t.l+=4;for(var n=t.read_shift(4);n-- >0;)e.push(t.read_shift(0,"lpp4"));return e}function f3e(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=oc(t,4),e.U=oc(t,4),e.W=oc(t,4),e}function h3e(t){var e=f3e(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function bX(t,e){var n=t.l+e,r={};r.Flags=t.read_shift(4)&63,t.l+=4,r.AlgID=t.read_shift(4);var i=!1;switch(r.AlgID){case 26126:case 26127:case 26128:i=r.Flags==36;break;case 26625:i=r.Flags==4;break;case 0:i=r.Flags==16||r.Flags==4||r.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=t.read_shift(4),r.KeySize=t.read_shift(4),r.ProviderType=t.read_shift(4),t.l+=8,r.CSPName=t.read_shift(n-t.l>>1,"utf16le"),t.l=n,r}function wX(t,e){var n={},r=t.l+e;return t.l+=4,n.Salt=t.slice(t.l,t.l+16),t.l+=16,n.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),n.VerifierHash=t.slice(t.l,r),t.l=r,n}function p3e(t){var e=oc(t);switch(e.Minor){case 2:return[e.Minor,m3e(t)];case 3:return[e.Minor,g3e()];case 4:return[e.Minor,y3e(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function m3e(t){var e=t.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var n=t.read_shift(4),r=bX(t,n),i=wX(t,t.length-t.l);return{t:"Std",h:r,v:i}}function g3e(){throw new Error("File is password-protected: ECMA-376 Extensible")}function y3e(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var n=t.read_shift(t.length-t.l,"utf8"),r={};return n.replace(bs,function(s){var a=Zt(s);switch(Nl(a[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(o){r[o]=a[o]});break;case"<dataIntegrity":r.encryptedHmacKey=a.encryptedHmacKey,r.encryptedHmacValue=a.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":r.uri=a.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":r.encs.push(a);break;default:throw a[0]}}),r}function v3e(t,e){var n={},r=n.EncryptionVersionInfo=oc(t,4);if(e-=4,r.Minor!=2)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);n.Flags=t.read_shift(4),e-=4;var i=t.read_shift(4);return e-=4,n.EncryptionHeader=bX(t,i),e-=i,n.EncryptionVerifier=wX(t,e),n}function x3e(t){var e={},n=e.EncryptionVersionInfo=oc(t,4);if(n.Major!=1||n.Minor!=1)throw"unrecognized version code "+n.Major+" : "+n.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}function qk(t){var e=0,n,r=_X(t),i=r.length+1,s,a,o,l,c;for(n=qu(i),n[0]=r.length,s=1;s!=i;++s)n[s]=r[s-1];for(s=i-1;s>=0;--s)a=n[s],o=(e&16384)===0?0:1,l=e<<1&32767,c=o|l,e=c^a;return e^52811}var TX=(function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(a){return(a/2|a*128)&255},i=function(a,o){return r(a^o)},s=function(a){for(var o=e[a.length-1],l=104,c=a.length-1;c>=0;--c)for(var u=a[c],f=0;f!=7;++f)u&64&&(o^=n[l]),u*=2,--l;return o};return function(a){for(var o=_X(a),l=s(o),c=o.length,u=qu(16),f=0;f!=16;++f)u[f]=0;var h,p,v;for((c&1)===1&&(h=l>>8,u[c]=i(t[0],h),--c,h=l&255,p=o[o.length-1],u[c]=i(p,h));c>0;)--c,h=l>>8,u[c]=i(o[c],h),--c,h=l&255,u[c]=i(o[c],h);for(c=15,v=15-o.length;v>0;)h=l>>8,u[c]=i(t[v],h),--c,--v,h=l&255,u[c]=i(o[c],h),--c,--v;return u}})(),_3e=function(t,e,n,r,i){i||(i=e),r||(r=TX(t));var s,a;for(s=0;s!=e.length;++s)a=e[s],a^=r[n],a=(a>>5|a<<3)&255,i[s]=a,++n;return[i,n,r]},b3e=function(t){var e=0,n=TX(t);return function(r){var i=_3e("",r,e,n);return e=i[1],i[0]}};function w3e(t,e,n,r){var i={key:ci(t),verificationBytes:ci(t)};return n.password&&(i.verifier=qk(n.password)),r.valid=i.verificationBytes===i.verifier,r.valid&&(r.insitu=b3e(n.password)),i}function T3e(t,e,n){var r=n||{};return r.Info=t.read_shift(2),t.l-=2,r.Info===1?r.Data=x3e(t):r.Data=v3e(t,e),r}function E3e(t,e,n){var r={Type:n.biff>=8?t.read_shift(2):0};return r.Type?T3e(t,e-2,r):w3e(t,n.biff>=8?e:e-2,n,r),r}var EX=(function(){function t(i,s){switch(s.type){case"base64":return e(Na(i),s);case"binary":return e(i,s);case"buffer":return e(hn&&Buffer.isBuffer(i)?i.toString("binary"):rd(i),s);case"array":return e(Pf(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var a=s||{},o=a.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(u,f){Array.isArray(o)&&(o[f]=[]);for(var h=/\\\w+\b/g,p=0,v,g=-1;v=h.exec(u);){switch(v[0]){case"\\cell":var y=u.slice(p,h.lastIndex-v[0].length);if(y[0]==" "&&(y=y.slice(1)),++g,y.length){var b={v:y,t:"s"};Array.isArray(o)?o[f][g]=b:o[Jt({r:f,c:g})]=b}break}p=h.lastIndex}g>c.e.c&&(c.e.c=g)}),o["!ref"]=on(c),o}function n(i,s){return id(t(i,s),s)}function r(i){for(var s=["{\\rtf1\\ansi"],a=Dn(i["!ref"]),o,l=Array.isArray(i),c=a.s.r;c<=a.e.r;++c){s.push("\\trowd\\trautofit1");for(var u=a.s.c;u<=a.e.c;++u)s.push("\\cellx"+(u+1));for(s.push("\\pard\\intbl"),u=a.s.c;u<=a.e.c;++u){var f=Jt({r:c,c:u});o=l?(i[c]||[])[u]:i[f],!(!o||o.v==null&&(!o.f||o.F))&&(s.push(" "+(o.w||(gc(o),o.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:n,to_sheet:t,from_sheet:r}})();function C3e(t){var e=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function Hy(t){for(var e=0,n=1;e!=3;++e)n=n*256+(t[e]>255?255:t[e]<0?0:t[e]);return n.toString(16).toUpperCase().slice(1)}function S3e(t){var e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.max(e,n,r),s=Math.min(e,n,r),a=i-s;if(a===0)return[0,0,e];var o=0,l=0,c=i+s;switch(l=a/(c>1?2-c:c),i){case e:o=((n-r)/a+6)%6;break;case n:o=(r-e)/a+2;break;case r:o=(e-n)/a+4;break}return[o/6,l,c/2]}function D3e(t){var e=t[0],n=t[1],r=t[2],i=n*2*(r<.5?r:1-r),s=r-i/2,a=[s,s,s],o=6*e,l;if(n!==0)switch(o|0){case 0:case 6:l=i*o,a[0]+=i,a[1]+=l;break;case 1:l=i*(2-o),a[0]+=l,a[1]+=i;break;case 2:l=i*(o-2),a[1]+=i,a[2]+=l;break;case 3:l=i*(4-o),a[1]+=l,a[2]+=i;break;case 4:l=i*(o-4),a[2]+=i,a[0]+=l;break;case 5:l=i*(6-o),a[2]+=l,a[0]+=i;break}for(var c=0;c!=3;++c)a[c]=Math.round(a[c]*255);return a}function G_(t,e){if(e===0)return t;var n=S3e(C3e(t));return e<0?n[2]=n[2]*(1+e):n[2]=1-(1-n[2])*(1-e),Hy(D3e(n))}var CX=6,A3e=15,N3e=1,cs=CX;function $y(t){return Math.floor((t+Math.round(128/cs)/256)*cs)}function Gy(t){return Math.floor((t-5)/cs*100+.5)/100}function K_(t){return Math.round((t*cs+5)/cs*256)/256}function oD(t){return K_(Gy($y(t)))}function zk(t){var e=Math.abs(t-oD(t)),n=cs;if(e>.005)for(cs=N3e;cs<A3e;++cs)Math.abs(t-oD(t))<=e&&(e=Math.abs(t-oD(t)),n=cs);cs=n}function zu(t){t.width?(t.wpx=$y(t.width),t.wch=Gy(t.wpx),t.MDW=cs):t.wpx?(t.wch=Gy(t.wpx),t.width=K_(t.wch),t.MDW=cs):typeof t.wch=="number"&&(t.width=K_(t.wch),t.wpx=$y(t.width),t.MDW=cs),t.customWidth&&delete t.customWidth}var I3e=96,SX=I3e;function Ky(t){return t*96/SX}function gm(t){return t*SX/96}var k3e={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function R3e(t,e,n,r){e.Borders=[];var i={},s=!1;(t[0].match(bs)||[]).forEach(function(a){var o=Zt(a);switch(Nl(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},o.diagonalUp&&(i.diagonalUp=pr(o.diagonalUp)),o.diagonalDown&&(i.diagonalDown=pr(o.diagonalDown)),e.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+o[0]+" in borders")}})}function P3e(t,e,n,r){e.Fills=[];var i={},s=!1;(t[0].match(bs)||[]).forEach(function(a){var o=Zt(a);switch(Nl(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},e.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":o.patternType&&(i.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),o.indexed&&(i.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(i.bgColor.theme=parseInt(o.theme,10)),o.tint&&(i.bgColor.tint=parseFloat(o.tint)),o.rgb&&(i.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),o.theme&&(i.fgColor.theme=parseInt(o.theme,10)),o.tint&&(i.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(i.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fills")}})}function F3e(t,e,n,r){e.Fonts=[];var i={},s=!1;(t[0].match(bs)||[]).forEach(function(a){var o=Zt(a);switch(Nl(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(i),i={};break;case"<name":o.val&&(i.name=Jn(o.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=o.val?pr(o.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=o.val?pr(o.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(o.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=o.val?pr(o.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=o.val?pr(o.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=o.val?pr(o.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=o.val?pr(o.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=o.val?pr(o.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":o.val&&(i.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(i.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(i.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(i.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=vk[parseInt(o.val,10)];break;case"<color":if(i.color||(i.color={}),o.auto&&(i.color.auto=pr(o.auto)),o.rgb)i.color.rgb=o.rgb.slice(-6);else if(o.indexed){i.color.index=parseInt(o.indexed,10);var l=of[i.color.index];i.color.index==81&&(l=of[1]),l||(l=of[1]),i.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(i.color.theme=parseInt(o.theme,10),o.tint&&(i.color.tint=parseFloat(o.tint)),o.theme&&n.themeElements&&n.themeElements.clrScheme&&(i.color.rgb=G_(n.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fonts")}})}function M3e(t,e,n){e.NumberFmt=[];for(var r=zr(Gt),i=0;i<r.length;++i)e.NumberFmt[r[i]]=Gt[r[i]];var s=t[0].match(bs);if(s)for(i=0;i<s.length;++i){var a=Zt(s[i]);switch(Nl(a[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=Sn(Jn(a.formatCode)),l=parseInt(a.numFmtId,10);if(e.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&e.NumberFmt[l]!=null;--l);e.NumberFmt[l]=o}ac(o,l)}}break;case"</numFmt>":break;default:if(n.WTF)throw new Error("unrecognized "+a[0]+" in numFmts")}}}function U3e(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)t[r]!=null&&(e[e.length]=xt("numFmt",null,{numFmtId:r,formatCode:$n(t[r])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=xt("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var Mx=["numFmtId","fillId","fontId","borderId","xfId"],Ux=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function O3e(t,e,n){e.CellXf=[];var r,i=!1;(t[0].match(bs)||[]).forEach(function(s){var a=Zt(s),o=0;switch(Nl(a[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(r=a,delete r[0],o=0;o<Mx.length;++o)r[Mx[o]]&&(r[Mx[o]]=parseInt(r[Mx[o]],10));for(o=0;o<Ux.length;++o)r[Ux[o]]&&(r[Ux[o]]=pr(r[Ux[o]]));if(e.NumberFmt&&r.numFmtId>392){for(o=392;o>60;--o)if(e.NumberFmt[r.numFmtId]==e.NumberFmt[o]){r.numFmtId=o;break}}e.CellXf.push(r);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};a.vertical&&(l.vertical=a.vertical),a.horizontal&&(l.horizontal=a.horizontal),a.textRotation!=null&&(l.textRotation=a.textRotation),a.indent&&(l.indent=a.indent),a.wrapText&&(l.wrapText=pr(a.wrapText)),r.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+a[0]+" in cellXfs")}})}function L3e(t){var e=[];return e[e.length]=xt("cellXfs",null),t.forEach(function(n){e[e.length]=xt("xf",null,n)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=xt("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var j3e=(function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,n=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,c){var u={};if(!o)return u;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=o.match(e))&&M3e(f,u,c),(f=o.match(i))&&F3e(f,u,l,c),(f=o.match(r))&&P3e(f,u,l,c),(f=o.match(s))&&R3e(f,u,l,c),(f=o.match(n))&&O3e(f,u,c),u}})();function DX(t,e){var n=[ni,xt("styleSheet",null,{xmlns:Zf[0],"xmlns:vt":yi.vt})],r;return t.SSF&&(r=U3e(t.SSF))!=null&&(n[n.length]=r),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=L3e(e.cellXfs))&&(n[n.length]=r),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function B3e(t,e){var n=t.read_shift(2),r=ys(t);return[n,r]}function V3e(t,e,n){n||(n=nt(6+4*e.length)),n.write_shift(2,t),Ui(e,n);var r=n.length>n.l?n.slice(0,n.l):n;return n.l==null&&(n.l=n.length),r}function W3e(t,e,n){var r={};r.sz=t.read_shift(2)/20;var i=TAe(t);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var s=t.read_shift(2);switch(s===700&&(r.bold=1),t.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var a=t.read_shift(1);a!=0&&(r.underline=a);var o=t.read_shift(1);o>0&&(r.family=o);var l=t.read_shift(1);switch(l>0&&(r.charset=l),t.l++,r.color=wAe(t),t.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=ys(t),r}function q3e(t,e){e||(e=nt(153)),e.write_shift(2,t.sz*20),EAe(t,e),e.write_shift(2,t.bold?700:400);var n=0;t.vertAlign=="superscript"?n=1:t.vertAlign=="subscript"&&(n=2),e.write_shift(2,n),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),z_(t.color,e);var r=0;return r=2,e.write_shift(1,r),Ui(t.name,e),e.length>e.l?e.slice(0,e.l):e}var z3e=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],lD,H3e=vs;function U7(t,e){e||(e=nt(84)),lD||(lD=Nw(z3e));var n=lD[t.patternType];n==null&&(n=40),e.write_shift(4,n);var r=0;if(n!=40)for(z_({auto:1},e),z_({auto:1},e);r<12;++r)e.write_shift(4,0);else{for(;r<4;++r)e.write_shift(4,0);for(;r<12;++r)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function $3e(t,e){var n=t.l+e,r=t.read_shift(2),i=t.read_shift(2);return t.l=n,{ixfe:r,numFmtId:i}}function AX(t,e,n){n||(n=nt(16)),n.write_shift(2,e||0),n.write_shift(2,t.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);var r=0;return n.write_shift(1,r),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function Yg(t,e){return e||(e=nt(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var G3e=vs;function K3e(t,e){return e||(e=nt(51)),e.write_shift(1,0),Yg(null,e),Yg(null,e),Yg(null,e),Yg(null,e),Yg(null,e),e.length>e.l?e.slice(0,e.l):e}function X3e(t,e){return e||(e=nt(52)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),q_(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function J3e(t,e,n){var r=nt(2052);return r.write_shift(4,t),q_(e,r),q_(n,r),r.length>r.l?r.slice(0,r.l):r}function Y3e(t,e,n){var r={};r.NumberFmt=[];for(var i in Gt)r.NumberFmt[i]=Gt[i];r.CellXf=[],r.Fonts=[];var s=[],a=!1;return Ac(t,function(l,c,u){switch(u){case 44:r.NumberFmt[l[0]]=l[1],ac(l[1],l[0]);break;case 43:r.Fonts.push(l),l.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(l.color.rgb=G_(e.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&r.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:s.push(u),a=!0;break;case 38:s.pop(),a=!1;break;default:if(c.T>0)s.push(u);else if(c.T<0)s.pop();else if(!a||n.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),r}function Q3e(t,e){if(e){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&++n}),n!=0&&(lt(t,615,Uo(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&lt(t,44,V3e(i,e[i]))}),lt(t,616))}}function Z3e(t){var e=1;lt(t,611,Uo(e)),lt(t,43,q3e({sz:12,color:{theme:1},name:"Calibri",family:2})),lt(t,612)}function eIe(t){var e=2;lt(t,603,Uo(e)),lt(t,45,U7({patternType:"none"})),lt(t,45,U7({patternType:"gray125"})),lt(t,604)}function tIe(t){var e=1;lt(t,613,Uo(e)),lt(t,46,K3e()),lt(t,614)}function nIe(t){var e=1;lt(t,626,Uo(e)),lt(t,47,AX({numFmtId:0},65535)),lt(t,627)}function rIe(t,e){lt(t,617,Uo(e.length)),e.forEach(function(n){lt(t,47,AX(n,0))}),lt(t,618)}function iIe(t){var e=1;lt(t,619,Uo(e)),lt(t,48,X3e({xfId:0,name:"Normal"})),lt(t,620)}function sIe(t){var e=0;lt(t,505,Uo(e)),lt(t,506)}function aIe(t){var e=0;lt(t,508,J3e(e,"TableStyleMedium9","PivotStyleMedium4")),lt(t,509)}function oIe(t,e){var n=ta();return lt(n,278),Q3e(n,t.SSF),Z3e(n),eIe(n),tIe(n),nIe(n),rIe(n,e.cellXfs),iIe(n),sIe(n),aIe(n),lt(n,279),n.end()}var lIe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function cIe(t,e,n){e.themeElements.clrScheme=[];var r={};(t[0].match(bs)||[]).forEach(function(i){var s=Zt(i);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=s.val;break;case"<a:sysClr":r.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(e.themeElements.clrScheme[lIe.indexOf(s[0])]=r,r={}):r.name=s[0].slice(3,s[0].length-1);break;default:if(n&&n.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function uIe(){}function dIe(){}var fIe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,hIe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,pIe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function mIe(t,e,n){e.themeElements={};var r;[["clrScheme",fIe,cIe],["fontScheme",hIe,uIe],["fmtScheme",pIe,dIe]].forEach(function(i){if(!(r=t.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](r,e,n)})}var gIe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function NX(t,e){(!t||t.length===0)&&(t=Hk());var n,r={};if(!(n=t.match(gIe)))throw new Error("themeElements not found in theme");return mIe(n[0],r,e),r.raw=t,r}function Hk(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var n=[ni];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function yIe(t,e,n){var r=t.l+e,i=t.read_shift(4);if(i!==124226){if(!n.cellStyles){t.l=r;return}var s=t.slice(t.l);t.l=r;var a;try{a=bK(s,{type:"array"})}catch{return}var o=wa(a,"theme/theme/theme1.xml",!0);if(o)return NX(o,n)}}function vIe(t){return t.read_shift(4)}function xIe(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:t.l+=4;break;case 1:e.xclrValue=_Ie(t,4);break;case 2:e.xclrValue=lX(t);break;case 3:e.xclrValue=vIe(t);break;case 4:t.l+=4;break}return t.l+=8,e}function _Ie(t,e){return vs(t,e)}function bIe(t,e){return vs(t,e)}function wIe(t){var e=t.read_shift(2),n=t.read_shift(2)-4,r=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=xIe(t);break;case 6:r[1]=bIe(t,n);break;case 14:case 15:r[1]=t.read_shift(n===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+n)}return r}function TIe(t,e){var n=t.l+e;t.l+=2;var r=t.read_shift(2);t.l+=2;for(var i=t.read_shift(2),s=[];i-- >0;)s.push(wIe(t,n-t.l));return{ixfe:r,ext:s}}function EIe(t,e){e.forEach(function(n){n[0]})}function CIe(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:ys(t)}}function SIe(t){var e=nt(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),Ui(t.name,e),e.slice(0,e.l)}function DIe(t){for(var e=[],n=t.read_shift(4);n-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function AIe(t){var e=nt(4+8*t.length);e.write_shift(4,t.length);for(var n=0;n<t.length;++n)e.write_shift(4,t[n][0]),e.write_shift(4,t[n][1]);return e}function NIe(t,e){var n=nt(8+2*e.length);return n.write_shift(4,t),Ui(e,n),n.slice(0,n.l)}function IIe(t){return t.l+=4,t.read_shift(4)!=0}function kIe(t,e){var n=nt(8);return n.write_shift(4,t),n.write_shift(4,1),n}function RIe(t,e,n){var r={Types:[],Cell:[],Value:[]},i=n||{},s=[],a=!1,o=2;return Ac(t,function(l,c,u){switch(u){case 335:r.Types.push({name:l.name});break;case 51:l.forEach(function(f){o==1?r.Cell.push({type:r.Types[f[0]-1].name,index:f[1]}):o==0&&r.Value.push({type:r.Types[f[0]-1].name,index:f[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:s.push(u),a=!0;break;case 36:s.pop(),a=!1;break;default:if(!c.T){if(!a||i.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}function PIe(){var t=ta();return lt(t,332),lt(t,334,Uo(1)),lt(t,335,SIe({name:"XLDAPR",version:12e4,flags:3496657072})),lt(t,336),lt(t,339,NIe(1,"XLDAPR")),lt(t,52),lt(t,35,Uo(514)),lt(t,4096,Uo(0)),lt(t,4097,Ga(1)),lt(t,36),lt(t,53),lt(t,340),lt(t,337,kIe(1)),lt(t,51,AIe([[1,0]])),lt(t,338),lt(t,333),t.end()}function FIe(t,e,n){var r={Types:[],Cell:[],Value:[]};if(!t)return r;var i=!1,s=2,a;return t.replace(bs,function(o){var l=Zt(o);switch(Nl(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":r.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<r.Types.length;++c)r.Types[c].name==l.name&&(a=r.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?r.Cell.push({type:r.Types[l.t-1].name,index:+l.v}):s==0&&r.Value.push({type:r.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!a)break;a.offsets||(a.offsets=[]),a.offsets.push(+l.i);break;default:if(!i&&n.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),r}function IX(){var t=[ni];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function MIe(t){var e=[];if(!t)return e;var n=1;return(t.match(bs)||[]).forEach(function(r){var i=Zt(r);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?n=i.i:i.i=n,e.push(i);break}}),e}function UIe(t){var e={};e.i=t.read_shift(4);var n={};n.r=t.read_shift(4),n.c=t.read_shift(4),e.r=Jt(n);var r=t.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}function OIe(t,e,n){var r=[];return Ac(t,function(s,a,o){switch(o){case 63:r.push(s);break;default:if(!a.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function LIe(t,e,n,r){if(!t)return t;var i=r||{},s=!1;Ac(t,function(o,l,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!l.T){if(!s||i.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},i)}function jIe(t,e){if(!t)return"??";var n=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][n].Target}var vp=1024;function kX(t,e){for(var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),i=[xt("xml",null,{"xmlns:v":xa.v,"xmlns:o":xa.o,"xmlns:x":xa.x,"xmlns:mv":xa.mv}).replace(/\/>/,">"),xt("o:shapelayout",xt("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),xt("v:shapetype",[xt("v:stroke",null,{joinstyle:"miter"}),xt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:r})];vp<t*1e3;)vp+=1e3;return e.forEach(function(s){var a=Pr(s[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var l=o.type=="gradient"?xt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,c=xt("v:fill",l,o),u={on:"t",obscured:"t"};++vp,i=i.concat(["<v:shape"+Wy({id:"_x0000_s"+vp,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",c,xt("v:shadow",null,u),xt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Ki("x:Anchor",[a.c+1,0,a.r+1,0,a.c+3,20,a.r+5,20].join(",")),Ki("x:AutoFill","False"),Ki("x:Row",String(a.r)),Ki("x:Column",String(a.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function O7(t,e,n,r){var i=Array.isArray(t),s;e.forEach(function(a){var o=Pr(a.ref);if(i?(t[o.r]||(t[o.r]=[]),s=t[o.r][o.c]):s=t[a.ref],!s){s={t:"z"},i?t[o.r][o.c]=s:t[a.ref]=s;var l=Dn(t["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var c=on(l);c!==t["!ref"]&&(t["!ref"]=c)}s.c||(s.c=[]);var u={a:a.author,t:a.t,r:a.r,T:n};a.h&&(u.h=a.h);for(var f=s.c.length-1;f>=0;--f){if(!n&&s.c[f].T)return;n&&!s.c[f].T&&s.c.splice(f,1)}if(n&&r){for(f=0;f<r.length;++f)if(u.a==r[f].id){u.a=r[f].name||u.a;break}}s.c.push(u)})}function BIe(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],r=[],i=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&n.push(o[1])}});var s=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=Zt(o[0]),c={author:l.authorId&&n[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},u=Pr(l.ref);if(!(e.sheetRows&&e.sheetRows<=u.r)){var f=a.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&Wk(f[1])||{r:"",t:"",h:""};c.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),c.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(c.h=h.h),r.push(c)}}}}),r}function RX(t){var e=[ni,xt("comments",null,{xmlns:Zf[0]})],n=[];return e.push("<authors>"),t.forEach(function(r){r[1].forEach(function(i){var s=$n(i.a);n.indexOf(s)==-1&&(n.push(s),e.push("<author>"+s+"</author>")),i.T&&i.ID&&n.indexOf("tc="+i.ID)==-1&&(n.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),n.length==0&&(n.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(r){var i=0,s=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?i=n.indexOf("tc="+r[1][0].ID):r[1].forEach(function(l){l.a&&(i=n.indexOf($n(l.a))),s.push(l.t||"")}),e.push('<comment ref="'+r[0]+'" authorId="'+i+'"><text>'),s.length<=1)e.push(Ki("t",$n(s[0]||"")));else{for(var a=`Comment:
    `+s[0]+`
`,o=1;o<s.length;++o)a+=`Reply:
    `+s[o]+`
`;e.push(Ki("t",$n(a)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function VIe(t,e){var n=[],r=!1,i={},s=0;return t.replace(bs,function(o,l){var c=Zt(o);switch(Nl(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":i.t!=null&&n.push(i);break;case"<text>":case"<text":s=l+o.length;break;case"</text>":i.t=t.slice(s,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":r=!0;break;case"</mentions>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return o}),n}function WIe(t,e,n){var r=[ni,xt("ThreadedComments",null,{xmlns:yi.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(i){var s="";(i[1]||[]).forEach(function(a,o){if(!a.T){delete a.ID;return}a.a&&e.indexOf(a.a)==-1&&e.push(a.a);var l={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};o==0?s=l.id:l.parentId=s,a.ID=l.id,a.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(a.a)).slice(-12)+"}"),r.push(xt("threadedComment",Ki("text",a.t||""),l))})}),r.push("</ThreadedComments>"),r.join("")}function qIe(t,e){var n=[],r=!1;return t.replace(bs,function(s){var a=Zt(s);switch(Nl(a[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":n.push({name:a.displayname,id:a.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+a[0]+" in threaded comments")}return s}),n}function zIe(t){var e=[ni,xt("personList",null,{xmlns:yi.TCMNT,"xmlns:x":Zf[0]}).replace(/[\/]>/,">")];return t.forEach(function(n,r){e.push(xt("person",null,{displayName:n,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:n,providerId:"None"}))}),e.push("</personList>"),e.join("")}function HIe(t){var e={};e.iauthor=t.read_shift(4);var n=rh(t);return e.rfx=n.s,e.ref=Jt(n.s),t.l+=16,e}function $Ie(t,e){return e==null&&(e=nt(36)),e.write_shift(4,t[1].iauthor),Qm(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var GIe=ys;function KIe(t){return Ui(t.slice(0,54))}function XIe(t,e){var n=[],r=[],i={},s=!1;return Ac(t,function(o,l,c){switch(c){case 632:r.push(o);break;case 635:i=o;break;case 637:i.t=o.t,i.h=o.h,i.r=o.r;break;case 636:if(i.author=r[i.iauthor],delete i.iauthor,e.sheetRows&&i.rfx&&e.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,n.push(i);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!s||e.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),n}function JIe(t){var e=ta(),n=[];return lt(e,628),lt(e,630),t.forEach(function(r){r[1].forEach(function(i){n.indexOf(i.a)>-1||(n.push(i.a.slice(0,54)),lt(e,632,KIe(i.a)))})}),lt(e,631),lt(e,633),t.forEach(function(r){r[1].forEach(function(i){i.iauthor=n.indexOf(i.a);var s={s:Pr(r[0]),e:Pr(r[0])};lt(e,635,$Ie([s,i])),i.t&&i.t.length>0&&lt(e,637,vAe(i)),lt(e,636),delete i.iauthor})}),lt(e,634),lt(e,629),e.end()}var YIe="application/vnd.ms-office.vbaProject";function QIe(t){var e=Wt.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(n,r){if(!(n.slice(-1)==="/"||!n.match(/_VBA_PROJECT_CUR/))){var i=n.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Wt.utils.cfb_add(e,i,t.FileIndex[r].content)}}),Wt.write(e)}function ZIe(t,e){e.FullPaths.forEach(function(n,r){if(r!=0){var i=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&Wt.utils.cfb_add(t,i,e.FileIndex[r].content)}})}var PX=["xlsb","xlsm","xlam","biff8","xla"];function eke(){return{"!type":"dialog"}}function tke(){return{"!type":"dialog"}}function nke(){return{"!type":"macro"}}function rke(){return{"!type":"macro"}}var Pp=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function n(r,i,s,a){var o=!1,l=!1;s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1)),a.length==0?o=!0:a.charAt(0)=="["&&(o=!0,a=a.slice(1,-1));var c=s.length>0?parseInt(s,10)|0:0,u=a.length>0?parseInt(a,10)|0:0;return o?u+=e.c:--u,l?c+=e.r:--c,i+(o?"":"$")+Rr(u)+(l?"":"$")+ei(c)}return function(i,s){return e=s,i.replace(t,n)}})(),$k=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Gk=(function(){return function(e,n){return e.replace($k,function(r,i,s,a,o,l){var c=Pk(a)-(s?0:n.c),u=Rk(l)-(o?0:n.r),f=u==0?"":o?u+1:"["+u+"]",h=c==0?"":s?c+1:"["+c+"]";return i+"R"+f+"C"+h})}})();function FX(t,e){return t.replace($k,function(n,r,i,s,a,o){return r+(i=="$"?i+s:Rr(Pk(s)+e.c))+(a=="$"?a+o:ei(Rk(o)+e.r))})}function ike(t,e,n){var r=na(e),i=r.s,s=Pr(n),a={r:s.r-i.r,c:s.c-i.c};return FX(t,a)}function ske(t){return t.length!=1}function L7(t){return t.replace(/_xlfn\./g,"")}function ai(t){t.l+=1}function Hu(t,e){var n=t.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function MX(t,e,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return UX(t);n.biff==12&&(r=4)}var i=t.read_shift(r),s=t.read_shift(r),a=Hu(t),o=Hu(t);return{s:{r:i,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function UX(t){var e=Hu(t),n=Hu(t),r=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function ake(t,e,n){if(n.biff<8)return UX(t);var r=t.read_shift(n.biff==12?4:2),i=t.read_shift(n.biff==12?4:2),s=Hu(t),a=Hu(t);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:a[0],cRel:a[1],rRel:a[2]}}}function OX(t,e,n){if(n&&n.biff>=2&&n.biff<=5)return oke(t);var r=t.read_shift(n&&n.biff==12?4:2),i=Hu(t);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function oke(t){var e=Hu(t),n=t.read_shift(1);return{r:e[0],c:n,cRel:e[1],rRel:e[2]}}function lke(t){var e=t.read_shift(2),n=t.read_shift(2);return{r:e,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function cke(t,e,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return uke(t);var i=t.read_shift(r>=12?4:2),s=t.read_shift(2),a=(s&16384)>>14,o=(s&32768)>>15;if(s&=16383,o==1)for(;i>524287;)i-=1048576;if(a==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:a,rRel:o}}function uke(t){var e=t.read_shift(2),n=t.read_shift(1),r=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),i==1&&n>=128&&(n=n-256),{r:e,c:n,cRel:i,rRel:r}}function dke(t,e,n){var r=(t[t.l++]&96)>>5,i=MX(t,n.biff>=2&&n.biff<=5?6:8,n);return[r,i]}function fke(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),s=8;if(n)switch(n.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}var a=MX(t,s,n);return[r,i,a]}function hke(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function pke(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),s=8;if(n)switch(n.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}return t.l+=s,[r,i]}function mke(t,e,n){var r=(t[t.l++]&96)>>5,i=ake(t,e-1,n);return[r,i]}function gke(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n.biff==2?6:n.biff==12?14:7,[r]}function j7(t){var e=t[t.l+1]&1,n=1;return t.l+=4,[e,n]}function yke(t,e,n){t.l+=2;for(var r=t.read_shift(n&&n.biff==2?1:2),i=[],s=0;s<=r;++s)i.push(t.read_shift(n&&n.biff==2?1:2));return i}function vke(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function xke(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function _ke(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function bke(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=n&&n.biff==2?3:4,[r]}function LX(t){var e=t.read_shift(1),n=t.read_shift(1);return[e,n]}function wke(t){return t.read_shift(2),LX(t)}function Tke(t){return t.read_shift(2),LX(t)}function Eke(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=OX(t,0,n);return[r,i]}function Cke(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=cke(t,0,n);return[r,i]}function Ske(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);n&&n.biff==5&&(t.l+=12);var s=OX(t,0,n);return[r,i,s]}function Dke(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(n&&n.biff<=3?1:2);return[I6e[i],VX[i],r]}function Ake(t,e,n){var r=t[t.l++],i=t.read_shift(1),s=n&&n.biff<=3?[r==88?-1:0,t.read_shift(1)]:Nke(t);return[i,(s[0]===0?VX:N6e)[s[1]]]}function Nke(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function Ike(t,e,n){t.l+=n&&n.biff==2?3:4}function kke(t,e,n){if(t.l++,n&&n.biff==12)return[t.read_shift(4,"i"),0];var r=t.read_shift(2),i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function Rke(t){return t.l++,Nc[t.read_shift(1)]}function Pke(t){return t.l++,t.read_shift(2)}function Fke(t){return t.l++,t.read_shift(1)!==0}function Mke(t){return t.l++,ds(t)}function Uke(t,e,n){return t.l++,qv(t,e-1,n)}function Oke(t,e){var n=[t.read_shift(1)];if(e==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=Jr(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:n[1]=Nc[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:n[1]=ds(t);break;case 2:n[1]=ih(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function Lke(t,e,n){for(var r=t.read_shift(n.biff==12?4:2),i=[],s=0;s!=r;++s)i.push((n.biff==12?rh:Rw)(t));return i}function jke(t,e,n){var r=0,i=0;n.biff==12?(r=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),r=1+t.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--i==0&&(i=256));for(var s=0,a=[];s!=r&&(a[s]=[]);++s)for(var o=0;o!=i;++o)a[s][o]=Oke(t,n.biff);return a}function Bke(t,e,n){var r=t.read_shift(1)>>>5&3,i=!n||n.biff>=8?4:2,s=t.read_shift(i);switch(n.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[r,0,s]}function Vke(t,e,n){if(n.biff==5)return Wke(t);var r=t.read_shift(1)>>>5&3,i=t.read_shift(2),s=t.read_shift(4);return[r,i,s]}function Wke(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2,"i");t.l+=8;var r=t.read_shift(2);return t.l+=12,[e,n,r]}function qke(t,e,n){var r=t.read_shift(1)>>>5&3;t.l+=n&&n.biff==2?3:4;var i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function zke(t,e,n){var r=t.read_shift(1)>>>5&3,i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function Hke(t,e,n){var r=t.read_shift(1)>>>5&3;return t.l+=4,n.biff<8&&t.l--,n.biff==12&&(t.l+=2),[r]}function $ke(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),s=4;if(n)switch(n.biff){case 5:s=15;break;case 12:s=6;break}return t.l+=s,[r,i]}var Gke=vs,Kke=vs,Xke=vs;function Hv(t,e,n){return t.l+=2,[lke(t)]}function Kk(t){return t.l+=6,[]}var Jke=Hv,Yke=Kk,Qke=Kk,Zke=Hv;function jX(t){return t.l+=2,[ci(t),t.read_shift(2)&1]}var e6e=Hv,t6e=jX,n6e=Kk,r6e=Hv,i6e=Hv,s6e=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function a6e(t){t.l+=2;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),i=t.read_shift(2),s=t.read_shift(2),a=s6e[n>>2&31];return{ixti:e,coltype:n&3,rt:a,idx:r,c:i,C:s}}function o6e(t){return t.l+=2,[t.read_shift(4)]}function l6e(t,e,n){return t.l+=5,t.l+=2,t.l+=n.biff==2?1:4,["PTGSHEET"]}function c6e(t,e,n){return t.l+=n.biff==2?4:5,["PTGENDSHEET"]}function u6e(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function d6e(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function f6e(t){return t.l+=4,[0,0]}var B7={1:{n:"PtgExp",f:kke},2:{n:"PtgTbl",f:Xke},3:{n:"PtgAdd",f:ai},4:{n:"PtgSub",f:ai},5:{n:"PtgMul",f:ai},6:{n:"PtgDiv",f:ai},7:{n:"PtgPower",f:ai},8:{n:"PtgConcat",f:ai},9:{n:"PtgLt",f:ai},10:{n:"PtgLe",f:ai},11:{n:"PtgEq",f:ai},12:{n:"PtgGe",f:ai},13:{n:"PtgGt",f:ai},14:{n:"PtgNe",f:ai},15:{n:"PtgIsect",f:ai},16:{n:"PtgUnion",f:ai},17:{n:"PtgRange",f:ai},18:{n:"PtgUplus",f:ai},19:{n:"PtgUminus",f:ai},20:{n:"PtgPercent",f:ai},21:{n:"PtgParen",f:ai},22:{n:"PtgMissArg",f:ai},23:{n:"PtgStr",f:Uke},26:{n:"PtgSheet",f:l6e},27:{n:"PtgEndSheet",f:c6e},28:{n:"PtgErr",f:Rke},29:{n:"PtgBool",f:Fke},30:{n:"PtgInt",f:Pke},31:{n:"PtgNum",f:Mke},32:{n:"PtgArray",f:gke},33:{n:"PtgFunc",f:Dke},34:{n:"PtgFuncVar",f:Ake},35:{n:"PtgName",f:Bke},36:{n:"PtgRef",f:Eke},37:{n:"PtgArea",f:dke},38:{n:"PtgMemArea",f:qke},39:{n:"PtgMemErr",f:Gke},40:{n:"PtgMemNoMem",f:Kke},41:{n:"PtgMemFunc",f:zke},42:{n:"PtgRefErr",f:Hke},43:{n:"PtgAreaErr",f:hke},44:{n:"PtgRefN",f:Cke},45:{n:"PtgAreaN",f:mke},46:{n:"PtgMemAreaN",f:u6e},47:{n:"PtgMemNoMemN",f:d6e},57:{n:"PtgNameX",f:Vke},58:{n:"PtgRef3d",f:Ske},59:{n:"PtgArea3d",f:fke},60:{n:"PtgRefErr3d",f:$ke},61:{n:"PtgAreaErr3d",f:pke},255:{}},h6e={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},p6e={1:{n:"PtgElfLel",f:jX},2:{n:"PtgElfRw",f:r6e},3:{n:"PtgElfCol",f:Jke},6:{n:"PtgElfRwV",f:i6e},7:{n:"PtgElfColV",f:Zke},10:{n:"PtgElfRadical",f:e6e},11:{n:"PtgElfRadicalS",f:n6e},13:{n:"PtgElfColS",f:Yke},15:{n:"PtgElfColSV",f:Qke},16:{n:"PtgElfRadicalLel",f:t6e},25:{n:"PtgList",f:a6e},29:{n:"PtgSxName",f:o6e},255:{}},m6e={0:{n:"PtgAttrNoop",f:f6e},1:{n:"PtgAttrSemi",f:bke},2:{n:"PtgAttrIf",f:xke},4:{n:"PtgAttrChoose",f:yke},8:{n:"PtgAttrGoto",f:vke},16:{n:"PtgAttrSum",f:Ike},32:{n:"PtgAttrBaxcel",f:j7},33:{n:"PtgAttrBaxcel",f:j7},64:{n:"PtgAttrSpace",f:wke},65:{n:"PtgAttrSpaceSemi",f:Tke},128:{n:"PtgAttrIfError",f:_ke},255:{}};function $v(t,e,n,r){if(r.biff<8)return vs(t,e);for(var i=t.l+e,s=[],a=0;a!==n.length;++a)switch(n[a][0]){case"PtgArray":n[a][1]=jke(t,0,r),s.push(n[a][1]);break;case"PtgMemArea":n[a][2]=Lke(t,n[a][1],r),s.push(n[a][2]);break;case"PtgExp":r&&r.biff==12&&(n[a][1][1]=t.read_shift(4),s.push(n[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[a][0]}return e=i-t.l,e!==0&&s.push(vs(t,e)),s}function Gv(t,e,n){for(var r=t.l+e,i,s,a=[];r!=t.l;)e=r-t.l,s=t[t.l],i=B7[s]||B7[h6e[s]],(s===24||s===25)&&(i=(s===24?p6e:m6e)[t[t.l+1]]),!i||!i.f?vs(t,e):a.push([i.n,i.f(t,e,n)]);return a}function g6e(t){for(var e=[],n=0;n<t.length;++n){for(var r=t[n],i=[],s=0;s<r.length;++s){var a=r[s];if(a)switch(a[0]){case 2:i.push('"'+a[1].replace(/"/g,'""')+'"');break;default:i.push(a[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var y6e={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function v6e(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function BX(t,e,n){if(!t)return"SH33TJSERR0";if(n.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var r=t.XTI[e];if(n.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!r)return"SH33TJSERR1";var i="";if(n.biff>8)switch(t[r[0]][0]){case 357:return i=r[1]==-1?"#REF":t.SheetNames[r[1]],r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 358:return n.SID!=null?t.SheetNames[n.SID]:"SH33TJSSAME"+t[r[0]][0];case 355:default:return"SH33TJSSRC"+t[r[0]][0]}switch(t[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":t.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 14849:return t[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return t[r[0]][0][3]?(i=r[1]==-1?"#REF":t[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+t[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function V7(t,e,n){var r=BX(t,e,n);return r=="#REF"?r:v6e(r,n)}function ls(t,e,n,r,i){var s=i&&i.biff||8,a={s:{c:0,r:0}},o=[],l,c,u,f=0,h=0,p,v="";if(!t[0]||!t[0][0])return"";for(var g=-1,y="",b=0,_=t[0].length;b<_;++b){var w=t[0][b];switch(w[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),g>=0){switch(t[0][g][1][0]){case 0:y=jr(" ",t[0][g][1][1]);break;case 1:y=jr("\r",t[0][g][1][1]);break;default:if(y="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][g][1][0])}c=c+y,g=-1}o.push(c+y6e[w[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=$0(w[1][1],a,i),o.push(G0(u,s));break;case"PtgRefN":u=n?$0(w[1][1],n,i):w[1][1],o.push(G0(u,s));break;case"PtgRef3d":f=w[1][1],u=$0(w[1][2],a,i),v=V7(r,f,i),o.push(v+"!"+G0(u,s));break;case"PtgFunc":case"PtgFuncVar":var C=w[1][0],S=w[1][1];C||(C=0),C&=127;var R=C==0?[]:o.slice(-C);o.length-=C,S==="User"&&(S=R.shift()),o.push(S+"("+R.join(",")+")");break;case"PtgBool":o.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(w[1]);break;case"PtgNum":o.push(String(w[1]));break;case"PtgStr":o.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(w[1]);break;case"PtgAreaN":p=g7(w[1][1],n?{s:n}:a,i),o.push(iD(p,i));break;case"PtgArea":p=g7(w[1][1],a,i),o.push(iD(p,i));break;case"PtgArea3d":f=w[1][1],p=w[1][2],v=V7(r,f,i),o.push(v+"!"+iD(p,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=w[1][2];var D=(r.names||[])[h-1]||(r[0]||[])[h],N=D?D.Name:"SH33TJSNAME"+String(h);N&&N.slice(0,6)=="_xlfn."&&!i.xlfn&&(N=N.slice(6)),o.push(N);break;case"PtgNameX":var k=w[1][1];h=w[1][2];var F;if(i.biff<=5)k<0&&(k=-k),r[k]&&(F=r[k][h]);else{var P="";if(((r[k]||[])[0]||[])[0]==14849||(((r[k]||[])[0]||[])[0]==1025?r[k][h]&&r[k][h].itab>0&&(P=r.SheetNames[r[k][h].itab-1]+"!"):P=r.SheetNames[h-1]+"!"),r[k]&&r[k][h])P+=r[k][h].Name;else if(r[0]&&r[0][h])P+=r[0][h].Name;else{var I=(BX(r,k,i)||"").split(";;");I[h-1]?P=I[h-1]:P+="SH33TJSERRX"}o.push(P);break}F||(F={Name:"SH33TJSERRY"}),o.push(F.Name);break;case"PtgParen":var U="(",O=")";if(g>=0){switch(y="",t[0][g][1][0]){case 2:U=jr(" ",t[0][g][1][1])+U;break;case 3:U=jr("\r",t[0][g][1][1])+U;break;case 4:O=jr(" ",t[0][g][1][1])+O;break;case 5:O=jr("\r",t[0][g][1][1])+O;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][g][1][0])}g=-1}o.push(U+o.pop()+O);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:w[1][1],r:w[1][0]};var K={c:n.c,r:n.r};if(r.sharedf[Jt(u)]){var X=r.sharedf[Jt(u)];o.push(ls(X,a,K,r,i))}else{var J=!1;for(l=0;l!=r.arrayf.length;++l)if(c=r.arrayf[l],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){o.push(ls(c[1],a,K,r,i)),J=!0;break}J||o.push(w[1])}break;case"PtgArray":o.push("{"+g6e(w[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=b;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(w));default:throw new Error("Unrecognized Formula Token: "+String(w))}var ne=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&g>=0&&ne.indexOf(t[0][b][0])==-1){w=t[0][g];var z=!0;switch(w[1][0]){case 4:z=!1;case 0:y=jr(" ",w[1][1]);break;case 5:z=!1;case 1:y=jr("\r",w[1][1]);break;default:if(y="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}o.push((z?y:"")+o.pop()+(z?"":y)),g=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function x6e(t,e,n){var r=t.l+e,i=n.biff==2?1:2,s,a=t.read_shift(i);if(a==65535)return[[],vs(t,e-2)];var o=Gv(t,a,n);return e!==a+i&&(s=$v(t,e-a-i,o,n)),t.l=r,[o,s]}function _6e(t,e,n){var r=t.l+e,i=n.biff==2?1:2,s,a=t.read_shift(i);if(a==65535)return[[],vs(t,e-2)];var o=Gv(t,a,n);return e!==a+i&&(s=$v(t,e-a-i,o,n)),t.l=r,[o,s]}function b6e(t,e,n,r){var i=t.l+e,s=Gv(t,r,n),a;return i!==t.l&&(a=$v(t,i-t.l,s,n)),[s,a]}function w6e(t,e,n){var r=t.l+e,i,s=t.read_shift(2),a=Gv(t,s,n);return s==65535?[[],vs(t,e-2)]:(e!==s+2&&(i=$v(t,r-s-2,a,n)),[a,i])}function T6e(t){var e;if(Ql(t,t.l+6)!==65535)return[ds(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=t[t.l+2]===1,t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}function E6e(t){if(t==null){var e=nt(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return Ff(t);return Ff(0)}function cD(t,e,n){var r=t.l+e,i=Il(t);n.biff==2&&++t.l;var s=T6e(t),a=t.read_shift(1);n.biff!=2&&(t.read_shift(1),n.biff>=5&&t.read_shift(4));var o=_6e(t,r-t.l,n);return{cell:i,val:s[0],formula:o,shared:a>>3&1,tt:s[1]}}function C6e(t,e,n,r,i){var s=Uf(e,n,i),a=E6e(t.v),o=nt(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var c=nt(t.bf.length),u=0;u<t.bf.length;++u)c[u]=t.bf[u];var f=Mi([s,a,o,c]);return f}function Pw(t,e,n){var r=t.read_shift(4),i=Gv(t,r,n),s=t.read_shift(4),a=s>0?$v(t,s,i,n):null;return[i,a]}var S6e=Pw,Fw=Pw,D6e=Pw,A6e=Pw,N6e={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},VX={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},I6e={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function W7(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,n){return n.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function k6e(t){var e="of:="+t.replace($k,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function uD(t){var e=t.split(":"),n=e[0].split(".")[0];return[n,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}function R6e(t){return t.replace(/\./,"!")}var X0={},Fp={},J0=typeof Map<"u";function Xk(t,e,n){var r=0,i=t.length;if(n){if(J0?n.has(e):Object.prototype.hasOwnProperty.call(n,e)){for(var s=J0?n.get(e):n[e];r<s.length;++r)if(t[s[r]].t===e)return t.Count++,s[r]}}else for(;r<i;++r)if(t[r].t===e)return t.Count++,r;return t[i]={t:e},t.Count++,t.Unique++,n&&(J0?(n.has(e)||n.set(e,[]),n.get(e).push(i)):(Object.prototype.hasOwnProperty.call(n,e)||(n[e]=[]),n[e].push(i))),i}function Mw(t,e){var n={min:t+1,max:t+1},r=-1;return e.MDW&&(cs=e.MDW),e.width!=null?n.customWidth=1:e.wpx!=null?r=Gy(e.wpx):e.wch!=null&&(r=e.wch),r>-1?(n.width=K_(r),n.customWidth=1):e.width!=null&&(n.width=e.width),e.hidden&&(n.hidden=!0),e.level!=null&&(n.outlineLevel=n.level=e.level),n}function uf(t,e){if(t){var n=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(n=[1,1,1,1,.5,.5]),t.left==null&&(t.left=n[0]),t.right==null&&(t.right=n[1]),t.top==null&&(t.top=n[2]),t.bottom==null&&(t.bottom=n[3]),t.header==null&&(t.header=n[4]),t.footer==null&&(t.footer=n[5])}}function sd(t,e,n){var r=n.revssf[e.z!=null?e.z:"General"],i=60,s=t.length;if(r==null&&n.ssf){for(;i<392;++i)if(n.ssf[i]==null){ac(e.z,i),n.ssf[i]=e.z,n.revssf[e.z]=r=i;break}}for(i=0;i!=s;++i)if(t[i].numFmtId===r)return i;return t[s]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function WX(t,e,n,r,i,s){try{r.cellNF&&(t.z=Gt[e])}catch(o){if(r.WTF)throw o}if(!(t.t==="z"&&!r.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=vr(t.v)),(!r||r.cellText!==!1)&&t.t!=="z")try{if(Gt[e]==null&&ac(NDe[e]||"General",e),t.t==="e")t.w=t.w||Nc[t.v];else if(e===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=By(t.v);else if(t.t==="d"){var a=xi(t.v);(a|0)===a?t.w=a.toString(10):t.w=By(a)}else{if(t.v===void 0)return"";t.w=Rf(t.v,Fp)}else t.t==="d"?t.w=so(e,xi(t.v),Fp):t.w=so(e,t.v,Fp)}catch(o){if(r.WTF)throw o}if(r.cellStyles&&n!=null)try{t.s=s.Fills[n],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=G_(i.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),r.WTF&&(t.s.fgColor.raw_rgb=i.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=G_(i.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),r.WTF&&(t.s.bgColor.raw_rgb=i.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(o){if(r.WTF&&s.Fills)throw o}}}function P6e(t,e,n){if(t&&t["!ref"]){var r=Dn(t["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+n+"): "+t["!ref"])}}function F6e(t,e){var n=Dn(e);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(t["!ref"]=on(n))}var M6e=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,U6e=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,O6e=/<(?:\w:)?hyperlink [^>]*>/mg,L6e=/"(\w*:\w*)"/,j6e=/<(?:\w:)?col\b[^>]*[\/]?>/g,B6e=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,V6e=/<(?:\w:)?pageMargins[^>]*\/>/g,qX=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,W6e=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,q6e=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function z6e(t,e,n,r,i,s,a){if(!t)return t;r||(r={"!id":{}});var o=e.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",u="",f=t.match(U6e);f?(c=t.slice(0,f.index),u=t.slice(f.index+f[0].length)):c=u=t;var h=c.match(qX);h?Jk(h[0],o,i,n):(h=c.match(W6e))&&$6e(h[0],h[1]||"",o,i,n);var p=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var v=c.slice(p,p+50).match(L6e);v&&F6e(o,v[1])}var g=c.match(q6e);g&&g[1]&&sRe(g[1],i);var y=[];if(e.cellStyles){var b=c.match(j6e);b&&eRe(y,b)}f&&lRe(f[1],o,e,l,s,a);var _=u.match(B6e);_&&(o["!autofilter"]=nRe(_[0]));var w=[],C=u.match(M6e);if(C)for(p=0;p!=C.length;++p)w[p]=Dn(C[p].slice(C[p].indexOf('"')+1));var S=u.match(O6e);S&&Y6e(o,S,r);var R=u.match(V6e);if(R&&(o["!margins"]=Q6e(Zt(R[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=on(l)),e.sheetRows>0&&o["!ref"]){var D=Dn(o["!ref"]);e.sheetRows<=+D.e.r&&(D.e.r=e.sheetRows-1,D.e.r>l.e.r&&(D.e.r=l.e.r),D.e.r<D.s.r&&(D.s.r=D.e.r),D.e.c>l.e.c&&(D.e.c=l.e.c),D.e.c<D.s.c&&(D.s.c=D.e.c),o["!fullref"]=o["!ref"],o["!ref"]=on(D))}return y.length>0&&(o["!cols"]=y),w.length>0&&(o["!merges"]=w),o}function H6e(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',n=0;n!=t.length;++n)e+='<mergeCell ref="'+on(t[n])+'"/>';return e+"</mergeCells>"}function Jk(t,e,n,r){var i=Zt(t);n.Sheets[r]||(n.Sheets[r]={}),i.codeName&&(n.Sheets[r].CodeName=Sn(Jn(i.codeName)))}function $6e(t,e,n,r,i){Jk(t.slice(0,t.indexOf(">")),n,r,i)}function G6e(t,e,n,r,i){var s=!1,a={},o=null;if(r.bookType!=="xlsx"&&e.vbaraw){var l=e.SheetNames[n];try{e.Workbook&&(l=e.Workbook.Sheets[n].CodeName||l)}catch{}s=!0,a.codeName=pl($n(l))}if(t&&t["!outline"]){var c={summaryBelow:1,summaryRight:1};t["!outline"].above&&(c.summaryBelow=0),t["!outline"].left&&(c.summaryRight=0),o=(o||"")+xt("outlinePr",null,c)}!s&&!o||(i[i.length]=xt("sheetPr",o,a))}var K6e=["objects","scenarios","selectLockedCells","selectUnlockedCells"],X6e=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function J6e(t){var e={sheet:1};return K6e.forEach(function(n){t[n]!=null&&t[n]&&(e[n]="1")}),X6e.forEach(function(n){t[n]!=null&&!t[n]&&(e[n]="0")}),t.password&&(e.password=qk(t.password).toString(16).toUpperCase()),xt("sheetProtection",null,e)}function Y6e(t,e,n){for(var r=Array.isArray(t),i=0;i!=e.length;++i){var s=Zt(Jn(e[i]),!0);if(!s.ref)return;var a=((n||{})["!id"]||[])[s.id];a?(s.Target=a.Target,s.location&&(s.Target+="#"+Sn(s.location))):(s.Target="#"+Sn(s.location),a={Target:s.Target,TargetMode:"Internal"}),s.Rel=a,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var o=Dn(s.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var u=Jt({c,r:l});r?(t[l]||(t[l]=[]),t[l][c]||(t[l][c]={t:"z",v:void 0}),t[l][c].l=s):(t[u]||(t[u]={t:"z",v:void 0}),t[u].l=s)}}}function Q6e(t){var e={};return["left","right","top","bottom","header","footer"].forEach(function(n){t[n]&&(e[n]=parseFloat(t[n]))}),e}function Z6e(t){return uf(t),xt("pageMargins",null,t)}function eRe(t,e){for(var n=!1,r=0;r!=e.length;++r){var i=Zt(e[r],!0);i.hidden&&(i.hidden=pr(i.hidden));var s=parseInt(i.min,10)-1,a=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!n&&i.width&&(n=!0,zk(i.width)),zu(i);s<=a;)t[s++]=xr(i)}}function tRe(t,e){for(var n=["<cols>"],r,i=0;i!=e.length;++i)(r=e[i])&&(n[n.length]=xt("col",null,Mw(i,r)));return n[n.length]="</cols>",n.join("")}function nRe(t){var e={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return e}function rRe(t,e,n,r){var i=typeof t.ref=="string"?t.ref:on(t.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var s=n.Workbook.Names,a=na(i);a.s.r==a.e.r&&(a.e.r=na(e["!ref"]).e.r,i=on(a));for(var o=0;o<s.length;++o){var l=s[o];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==r){l.Ref="'"+n.SheetNames[r]+"'!"+i;break}}return o==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+i}),xt("autoFilter",null,{ref:i})}var iRe=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function sRe(t,e){e.Views||(e.Views=[{}]),(t.match(iRe)||[]).forEach(function(n,r){var i=Zt(n);e.Views[r]||(e.Views[r]={}),+i.zoomScale&&(e.Views[r].zoom=+i.zoomScale),pr(i.rightToLeft)&&(e.Views[r].RTL=!0)})}function aRe(t,e,n,r){var i={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),xt("sheetViews",xt("sheetView",null,i),{})}function oRe(t,e,n,r){if(t.c&&n["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var i="",s=t.t,a=t.v;if(t.t!=="z")switch(t.t){case"b":i=t.v?"1":"0";break;case"n":i=""+t.v;break;case"e":i=Nc[t.v];break;case"d":r&&r.cellDates?i=vr(t.v,-1).toISOString():(t=xr(t),t.t="n",i=""+(t.v=xi(vr(t.v)))),typeof t.z>"u"&&(t.z=Gt[14]);break;default:i=t.v;break}var o=Ki("v",$n(i)),l={r:e},c=sd(r.cellXfs,t,r);switch(c!==0&&(l.s=c),t.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){o=Ki("v",""+Xk(r.Strings,t.v,r.revStrings)),l.t="s";break}l.t="str";break}if(t.t!=s&&(t.t=s,t.v=a),typeof t.f=="string"&&t.f){var u=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;o=xt("f",$n(t.f),u)+(t.v!=null?o:"")}return t.l&&n["!links"].push([e,t.l]),t.D&&(l.cm=1),xt("c",o,l)}var lRe=(function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,n=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,s=Vy("v"),a=Vy("f");return function(l,c,u,f,h,p){for(var v=0,g="",y=[],b=[],_=0,w=0,C=0,S="",R,D,N=0,k=0,F,P,I=0,U=0,O=Array.isArray(p.CellXf),K,X=[],J=[],ne=Array.isArray(c),z=[],Q={},B=!1,j=!!u.sheetStubs,W=l.split(e),G=0,Y=W.length;G!=Y;++G){g=W[G].trim();var ee=g.length;if(ee!==0){var ae=0;e:for(v=0;v<ee;++v)switch(g[v]){case">":if(g[v-1]!="/"){++v;break e}if(u&&u.cellStyles){if(D=Zt(g.slice(ae,v),!0),N=D.r!=null?parseInt(D.r,10):N+1,k=-1,u.sheetRows&&u.sheetRows<N)continue;Q={},B=!1,D.ht&&(B=!0,Q.hpt=parseFloat(D.ht),Q.hpx=gm(Q.hpt)),D.hidden=="1"&&(B=!0,Q.hidden=!0),D.outlineLevel!=null&&(B=!0,Q.level=+D.outlineLevel),B&&(z[N-1]=Q)}break;case"<":ae=v;break}if(ae>=v)break;if(D=Zt(g.slice(ae,v),!0),N=D.r!=null?parseInt(D.r,10):N+1,k=-1,!(u.sheetRows&&u.sheetRows<N)){f.s.r>N-1&&(f.s.r=N-1),f.e.r<N-1&&(f.e.r=N-1),u&&u.cellStyles&&(Q={},B=!1,D.ht&&(B=!0,Q.hpt=parseFloat(D.ht),Q.hpx=gm(Q.hpt)),D.hidden=="1"&&(B=!0,Q.hidden=!0),D.outlineLevel!=null&&(B=!0,Q.level=+D.outlineLevel),B&&(z[N-1]=Q)),y=g.slice(v).split(t);for(var de=0;de!=y.length&&y[de].trim().charAt(0)=="<";++de);for(y=y.slice(de),v=0;v!=y.length;++v)if(g=y[v].trim(),g.length!==0){if(b=g.match(n),_=v,w=0,C=0,g="<c "+(g.slice(0,1)=="<"?">":"")+g,b!=null&&b.length===2){for(_=0,S=b[1],w=0;w!=S.length&&!((C=S.charCodeAt(w)-64)<1||C>26);++w)_=26*_+C;--_,k=_}else++k;for(w=0;w!=g.length&&g.charCodeAt(w)!==62;++w);if(++w,D=Zt(g.slice(0,w),!0),D.r||(D.r=Jt({r:N-1,c:k})),S=g.slice(w),R={t:""},(b=S.match(s))!=null&&b[1]!==""&&(R.v=Sn(b[1])),u.cellFormula){if((b=S.match(a))!=null&&b[1]!==""){if(R.f=Sn(Jn(b[1])).replace(/\r\n/g,`
`),u.xlfn||(R.f=L7(R.f)),b[0].indexOf('t="array"')>-1)R.F=(S.match(i)||[])[1],R.F.indexOf(":")>-1&&X.push([Dn(R.F),R.F]);else if(b[0].indexOf('t="shared"')>-1){P=Zt(b[0]);var fe=Sn(Jn(b[1]));u.xlfn||(fe=L7(fe)),J[parseInt(P.si,10)]=[P,fe,D.r]}}else(b=S.match(/<f[^>]*\/>/))&&(P=Zt(b[0]),J[P.si]&&(R.f=ike(J[P.si][1],J[P.si][2],D.r)));var De=Pr(D.r);for(w=0;w<X.length;++w)De.r>=X[w][0].s.r&&De.r<=X[w][0].e.r&&De.c>=X[w][0].s.c&&De.c<=X[w][0].e.c&&(R.F=X[w][1])}if(D.t==null&&R.v===void 0)if(R.f||R.F)R.v=0,R.t="n";else if(j)R.t="z";else continue;else R.t=D.t||"n";switch(f.s.c>k&&(f.s.c=k),f.e.c<k&&(f.e.c=k),R.t){case"n":if(R.v==""||R.v==null){if(!j)continue;R.t="z"}else R.v=parseFloat(R.v);break;case"s":if(typeof R.v>"u"){if(!j)continue;R.t="z"}else F=X0[parseInt(R.v,10)],R.v=F.t,R.r=F.r,u.cellHTML&&(R.h=F.h);break;case"str":R.t="s",R.v=R.v!=null?Jn(R.v):"",u.cellHTML&&(R.h=Ak(R.v));break;case"inlineStr":b=S.match(r),R.t="s",b!=null&&(F=Wk(b[1]))?(R.v=F.t,u.cellHTML&&(R.h=F.h)):R.v="";break;case"b":R.v=pr(R.v);break;case"d":u.cellDates?R.v=vr(R.v,1):(R.v=xi(vr(R.v,1)),R.t="n");break;case"e":(!u||u.cellText!==!1)&&(R.w=R.v),R.v=HK[R.v];break}if(I=U=0,K=null,O&&D.s!==void 0&&(K=p.CellXf[D.s],K!=null&&(K.numFmtId!=null&&(I=K.numFmtId),u.cellStyles&&K.fillId!=null&&(U=K.fillId))),WX(R,I,U,u,h,p),u.cellDates&&O&&R.t=="n"&&Xm(Gt[I])&&(R.t="d",R.v=kw(R.v)),D.cm&&u.xlmeta){var Pe=(u.xlmeta.Cell||[])[+D.cm-1];Pe&&Pe.type=="XLDAPR"&&(R.D=!0)}if(ne){var me=Pr(D.r);c[me.r]||(c[me.r]=[]),c[me.r][me.c]=R}else c[D.r]=R}}}}z.length>0&&(c["!rows"]=z)}})();function cRe(t,e,n,r){var i=[],s=[],a=Dn(t["!ref"]),o="",l,c="",u=[],f=0,h=0,p=t["!rows"],v=Array.isArray(t),g={r:c},y,b=-1;for(h=a.s.c;h<=a.e.c;++h)u[h]=Rr(h);for(f=a.s.r;f<=a.e.r;++f){for(s=[],c=ei(f),h=a.s.c;h<=a.e.c;++h){l=u[h]+c;var _=v?(t[f]||[])[h]:t[l];_!==void 0&&(o=oRe(_,l,t,e))!=null&&s.push(o)}(s.length>0||p&&p[f])&&(g={r:c},p&&p[f]&&(y=p[f],y.hidden&&(g.hidden=1),b=-1,y.hpx?b=Ky(y.hpx):y.hpt&&(b=y.hpt),b>-1&&(g.ht=b,g.customHeight=1),y.level&&(g.outlineLevel=y.level)),i[i.length]=xt("row",s.join(""),g))}if(p)for(;f<p.length;++f)p&&p[f]&&(g={r:f+1},y=p[f],y.hidden&&(g.hidden=1),b=-1,y.hpx?b=Ky(y.hpx):y.hpt&&(b=y.hpt),b>-1&&(g.ht=b,g.customHeight=1),y.level&&(g.outlineLevel=y.level),i[i.length]=xt("row","",g));return i.join("")}function zX(t,e,n,r){var i=[ni,xt("worksheet",null,{xmlns:Zf[0],"xmlns:r":yi.r})],s=n.SheetNames[t],a=0,o="",l=n.Sheets[s];l==null&&(l={});var c=l["!ref"]||"A1",u=Dn(c);if(u.e.c>16383||u.e.r>1048575){if(e.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),c=on(u)}r||(r={}),l["!comments"]=[];var f=[];G6e(l,n,t,e,i),i[i.length]=xt("dimension",null,{ref:c}),i[i.length]=aRe(l,e,t,n),e.sheetFormat&&(i[i.length]=xt("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(i[i.length]=tRe(l,l["!cols"])),i[a=i.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(o=cRe(l,e),o.length>0&&(i[i.length]=o)),i.length>a+1&&(i[i.length]="</sheetData>",i[a]=i[a].replace("/>",">")),l["!protect"]&&(i[i.length]=J6e(l["!protect"])),l["!autofilter"]!=null&&(i[i.length]=rRe(l["!autofilter"],l,n,t)),l["!merges"]!=null&&l["!merges"].length>0&&(i[i.length]=H6e(l["!merges"]));var h=-1,p,v=-1;return l["!links"].length>0&&(i[i.length]="<hyperlinks>",l["!links"].forEach(function(g){g[1].Target&&(p={ref:g[0]},g[1].Target.charAt(0)!="#"&&(v=zn(r,-1,$n(g[1].Target).replace(/#.*$/,""),mn.HLINK),p["r:id"]="rId"+v),(h=g[1].Target.indexOf("#"))>-1&&(p.location=$n(g[1].Target.slice(h+1))),g[1].Tooltip&&(p.tooltip=$n(g[1].Tooltip)),i[i.length]=xt("hyperlink",null,p))}),i[i.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(i[i.length]=Z6e(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=Ki("ignoredErrors",xt("ignoredError",null,{numberStoredAsText:1,sqref:c}))),f.length>0&&(v=zn(r,-1,"../drawings/drawing"+(t+1)+".xml",mn.DRAW),i[i.length]=xt("drawing",null,{"r:id":"rId"+v}),l["!drawing"]=f),l["!comments"].length>0&&(v=zn(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",mn.VML),i[i.length]=xt("legacyDrawing",null,{"r:id":"rId"+v}),l["!legacy"]=v),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function uRe(t,e){var n={},r=t.l+e;n.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var s=t.read_shift(1);return t.l=r,s&7&&(n.level=s&7),s&16&&(n.hidden=!0),s&32&&(n.hpt=i/20),n}function dRe(t,e,n){var r=nt(145),i=(n["!rows"]||[])[t]||{};r.write_shift(4,t),r.write_shift(4,0);var s=320;i.hpx?s=Ky(i.hpx)*20:i.hpt&&(s=i.hpt*20),r.write_shift(2,s),r.write_shift(1,0);var a=0;i.level&&(a|=i.level),i.hidden&&(a|=16),(i.hpx||i.hpt)&&(a|=32),r.write_shift(1,a),r.write_shift(1,0);var o=0,l=r.l;r.l+=4;for(var c={r:t,c:0},u=0;u<16;++u)if(!(e.s.c>u+1<<10||e.e.c<u<<10)){for(var f=-1,h=-1,p=u<<10;p<u+1<<10;++p){c.c=p;var v=Array.isArray(n)?(n[c.r]||[])[c.c]:n[Jt(c)];v&&(f<0&&(f=p),h=p)}f<0||(++o,r.write_shift(4,f),r.write_shift(4,h))}var g=r.l;return r.l=l,r.write_shift(4,o),r.l=g,r.length>r.l?r.slice(0,r.l):r}function fRe(t,e,n,r){var i=dRe(r,n,e);(i.length>17||(e["!rows"]||[])[r])&&lt(t,0,i)}var hRe=rh,pRe=Qm;function mRe(){}function gRe(t,e){var n={},r=t[t.l];return++t.l,n.above=!(r&64),n.left=!(r&128),t.l+=18,n.name=xAe(t),n}function yRe(t,e,n){n==null&&(n=nt(84+4*t.length));var r=192;e&&(e.above&&(r&=-65),e.left&&(r&=-129)),n.write_shift(1,r);for(var i=1;i<3;++i)n.write_shift(1,0);return z_({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),BK(t,n),n.slice(0,n.l)}function vRe(t){var e=lo(t);return[e]}function xRe(t,e,n){return n==null&&(n=nt(8)),eh(e,n)}function _Re(t){var e=th(t);return[e]}function bRe(t,e,n){return n==null&&(n=nt(4)),nh(e,n)}function wRe(t){var e=lo(t),n=t.read_shift(1);return[e,n,"b"]}function TRe(t,e,n){return n==null&&(n=nt(9)),eh(e,n),n.write_shift(1,t.v?1:0),n}function ERe(t){var e=th(t),n=t.read_shift(1);return[e,n,"b"]}function CRe(t,e,n){return n==null&&(n=nt(5)),nh(e,n),n.write_shift(1,t.v?1:0),n}function SRe(t){var e=lo(t),n=t.read_shift(1);return[e,n,"e"]}function DRe(t,e,n){return n==null&&(n=nt(9)),eh(e,n),n.write_shift(1,t.v),n}function ARe(t){var e=th(t),n=t.read_shift(1);return[e,n,"e"]}function NRe(t,e,n){return n==null&&(n=nt(8)),nh(e,n),n.write_shift(1,t.v),n.write_shift(2,0),n.write_shift(1,0),n}function IRe(t){var e=lo(t),n=t.read_shift(4);return[e,n,"s"]}function kRe(t,e,n){return n==null&&(n=nt(12)),eh(e,n),n.write_shift(4,e.v),n}function RRe(t){var e=th(t),n=t.read_shift(4);return[e,n,"s"]}function PRe(t,e,n){return n==null&&(n=nt(8)),nh(e,n),n.write_shift(4,e.v),n}function FRe(t){var e=lo(t),n=ds(t);return[e,n,"n"]}function MRe(t,e,n){return n==null&&(n=nt(16)),eh(e,n),Ff(t.v,n),n}function HX(t){var e=th(t),n=ds(t);return[e,n,"n"]}function URe(t,e,n){return n==null&&(n=nt(12)),nh(e,n),Ff(t.v,n),n}function ORe(t){var e=lo(t),n=Ok(t);return[e,n,"n"]}function LRe(t,e,n){return n==null&&(n=nt(12)),eh(e,n),VK(t.v,n),n}function jRe(t){var e=th(t),n=Ok(t);return[e,n,"n"]}function BRe(t,e,n){return n==null&&(n=nt(8)),nh(e,n),VK(t.v,n),n}function VRe(t){var e=lo(t),n=Fk(t);return[e,n,"is"]}function WRe(t){var e=lo(t),n=ys(t);return[e,n,"str"]}function qRe(t,e,n){return n==null&&(n=nt(12+4*t.v.length)),eh(e,n),Ui(t.v,n),n.length>n.l?n.slice(0,n.l):n}function zRe(t){var e=th(t),n=ys(t);return[e,n,"str"]}function HRe(t,e,n){return n==null&&(n=nt(8+4*t.v.length)),nh(e,n),Ui(t.v,n),n.length>n.l?n.slice(0,n.l):n}function $Re(t,e,n){var r=t.l+e,i=lo(t);i.r=n["!row"];var s=t.read_shift(1),a=[i,s,"b"];if(n.cellFormula){t.l+=2;var o=Fw(t,r-t.l,n);a[3]=ls(o,null,i,n.supbooks,n)}else t.l=r;return a}function GRe(t,e,n){var r=t.l+e,i=lo(t);i.r=n["!row"];var s=t.read_shift(1),a=[i,s,"e"];if(n.cellFormula){t.l+=2;var o=Fw(t,r-t.l,n);a[3]=ls(o,null,i,n.supbooks,n)}else t.l=r;return a}function KRe(t,e,n){var r=t.l+e,i=lo(t);i.r=n["!row"];var s=ds(t),a=[i,s,"n"];if(n.cellFormula){t.l+=2;var o=Fw(t,r-t.l,n);a[3]=ls(o,null,i,n.supbooks,n)}else t.l=r;return a}function XRe(t,e,n){var r=t.l+e,i=lo(t);i.r=n["!row"];var s=ys(t),a=[i,s,"str"];if(n.cellFormula){t.l+=2;var o=Fw(t,r-t.l,n);a[3]=ls(o,null,i,n.supbooks,n)}else t.l=r;return a}var JRe=rh,YRe=Qm;function QRe(t,e){return e==null&&(e=nt(4)),e.write_shift(4,t),e}function ZRe(t,e){var n=t.l+e,r=rh(t),i=Mk(t),s=ys(t),a=ys(t),o=ys(t);t.l=n;var l={rfx:r,relId:i,loc:s,display:o};return a&&(l.Tooltip=a),l}function e5e(t,e){var n=nt(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));Qm({s:Pr(t[0]),e:Pr(t[0])},n),Uk("rId"+e,n);var r=t[1].Target.indexOf("#"),i=r==-1?"":t[1].Target.slice(r+1);return Ui(i||"",n),Ui(t[1].Tooltip||"",n),Ui("",n),n.slice(0,n.l)}function t5e(){}function n5e(t,e,n){var r=t.l+e,i=WK(t),s=t.read_shift(1),a=[i];if(a[2]=s,n.cellFormula){var o=S6e(t,r-t.l,n);a[1]=o}else t.l=r;return a}function r5e(t,e,n){var r=t.l+e,i=rh(t),s=[i];if(n.cellFormula){var a=A6e(t,r-t.l,n);s[1]=a,t.l=r}else t.l=r;return s}function i5e(t,e,n){n==null&&(n=nt(18));var r=Mw(t,e);n.write_shift(-4,t),n.write_shift(-4,t),n.write_shift(4,(r.width||10)*256),n.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof r.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),n.write_shift(2,i),n}var $X=["left","right","top","bottom","header","footer"];function s5e(t){var e={};return $X.forEach(function(n){e[n]=ds(t)}),e}function a5e(t,e){return e==null&&(e=nt(48)),uf(t),$X.forEach(function(n){Ff(t[n],e)}),e}function o5e(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function l5e(t,e,n){n==null&&(n=nt(30));var r=924;return(((e||{}).Views||[])[0]||{}).RTL&&(r|=32),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}function c5e(t){var e=nt(24);return e.write_shift(4,4),e.write_shift(4,1),Qm(t,e),e}function u5e(t,e){return e==null&&(e=nt(66)),e.write_shift(2,t.password?qk(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(n){n[1]?e.write_shift(4,t[n[0]]!=null&&!t[n[0]]?1:0):e.write_shift(4,t[n[0]]!=null&&t[n[0]]?0:1)}),e}function d5e(){}function f5e(){}function h5e(t,e,n,r,i,s,a){if(!t)return t;var o=e||{};r||(r={"!id":{}});var l=o.dense?[]:{},c,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,p,v,g,y,b,_,w,C,S,R=[];o.biff=12,o["!row"]=0;var D=0,N=!1,k=[],F={},P=o.supbooks||i.supbooks||[[]];if(P.sharedf=F,P.arrayf=k,P.SheetNames=i.SheetNames||i.Sheets.map(function(ne){return ne.name}),!o.supbooks&&(o.supbooks=P,i.Names))for(var I=0;I<i.Names.length;++I)P[0][I+1]=i.Names[I];var U=[],O=[],K=!1;Xy[16]={n:"BrtShortReal",f:HX};var X;if(Ac(t,function(z,Q,B){if(!h)switch(B){case 148:c=z;break;case 0:p=z,o.sheetRows&&o.sheetRows<=p.r&&(h=!0),C=ei(y=p.r),o["!row"]=p.r,(z.hidden||z.hpt||z.level!=null)&&(z.hpt&&(z.hpx=gm(z.hpt)),O[z.r]=z);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(v={t:z[2]},z[2]){case"n":v.v=z[1];break;case"s":w=X0[z[1]],v.v=w.t,v.r=w.r;break;case"b":v.v=!!z[1];break;case"e":v.v=z[1],o.cellText!==!1&&(v.w=Nc[v.v]);break;case"str":v.t="s",v.v=z[1];break;case"is":v.t="s",v.v=z[1].t;break}if((g=a.CellXf[z[0].iStyleRef])&&WX(v,g.numFmtId,null,o,s,a),b=z[0].c==-1?b+1:z[0].c,o.dense?(l[y]||(l[y]=[]),l[y][b]=v):l[Rr(b)+C]=v,o.cellFormula){for(N=!1,D=0;D<k.length;++D){var j=k[D];p.r>=j[0].s.r&&p.r<=j[0].e.r&&b>=j[0].s.c&&b<=j[0].e.c&&(v.F=on(j[0]),N=!0)}!N&&z.length>3&&(v.f=z[3])}if(u.s.r>p.r&&(u.s.r=p.r),u.s.c>b&&(u.s.c=b),u.e.r<p.r&&(u.e.r=p.r),u.e.c<b&&(u.e.c=b),o.cellDates&&g&&v.t=="n"&&Xm(Gt[g.numFmtId])){var W=ef(v.v);W&&(v.t="d",v.v=new Date(W.y,W.m-1,W.d,W.H,W.M,W.S,W.u))}X&&(X.type=="XLDAPR"&&(v.D=!0),X=void 0);break;case 1:case 12:if(!o.sheetStubs||f)break;v={t:"z",v:void 0},b=z[0].c==-1?b+1:z[0].c,o.dense?(l[y]||(l[y]=[]),l[y][b]=v):l[Rr(b)+C]=v,u.s.r>p.r&&(u.s.r=p.r),u.s.c>b&&(u.s.c=b),u.e.r<p.r&&(u.e.r=p.r),u.e.c<b&&(u.e.c=b),X&&(X.type=="XLDAPR"&&(v.D=!0),X=void 0);break;case 176:R.push(z);break;case 49:X=((o.xlmeta||{}).Cell||[])[z-1];break;case 494:var G=r["!id"][z.relId];for(G?(z.Target=G.Target,z.loc&&(z.Target+="#"+z.loc),z.Rel=G):z.relId==""&&(z.Target="#"+z.loc),y=z.rfx.s.r;y<=z.rfx.e.r;++y)for(b=z.rfx.s.c;b<=z.rfx.e.c;++b)o.dense?(l[y]||(l[y]=[]),l[y][b]||(l[y][b]={t:"z",v:void 0}),l[y][b].l=z):(_=Jt({c:b,r:y}),l[_]||(l[_]={t:"z",v:void 0}),l[_].l=z);break;case 426:if(!o.cellFormula)break;k.push(z),S=o.dense?l[y][b]:l[Rr(b)+C],S.f=ls(z[1],u,{r:p.r,c:b},P,o),S.F=on(z[0]);break;case 427:if(!o.cellFormula)break;F[Jt(z[0].s)]=z[1],S=o.dense?l[y][b]:l[Rr(b)+C],S.f=ls(z[1],u,{r:p.r,c:b},P,o);break;case 60:if(!o.cellStyles)break;for(;z.e>=z.s;)U[z.e--]={width:z.w/256,hidden:!!(z.flags&1),level:z.level},K||(K=!0,zk(z.w/256)),zu(U[z.e+1]);break;case 161:l["!autofilter"]={ref:on(z)};break;case 476:l["!margins"]=z;break;case 147:i.Sheets[n]||(i.Sheets[n]={}),z.name&&(i.Sheets[n].CodeName=z.name),(z.above||z.left)&&(l["!outline"]={above:z.above,left:z.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),z.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!Q.T){if(!f||o.WTF)throw new Error("Unexpected record 0x"+B.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(u.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=on(c||u)),o.sheetRows&&l["!ref"]){var J=Dn(l["!ref"]);o.sheetRows<=+J.e.r&&(J.e.r=o.sheetRows-1,J.e.r>u.e.r&&(J.e.r=u.e.r),J.e.r<J.s.r&&(J.s.r=J.e.r),J.e.c>u.e.c&&(J.e.c=u.e.c),J.e.c<J.s.c&&(J.s.c=J.e.c),l["!fullref"]=l["!ref"],l["!ref"]=on(J))}return R.length>0&&(l["!merges"]=R),U.length>0&&(l["!cols"]=U),O.length>0&&(l["!rows"]=O),l}function p5e(t,e,n,r,i,s,a){if(e.v===void 0)return!1;var o="";switch(e.t){case"b":o=e.v?"1":"0";break;case"d":e=xr(e),e.z=e.z||Gt[14],e.v=xi(vr(e.v)),e.t="n";break;case"n":case"e":o=""+e.v;break;default:o=e.v;break}var l={r:n,c:r};switch(l.s=sd(i.cellXfs,e,i),e.l&&s["!links"].push([Jt(l),e.l]),e.c&&s["!comments"].push([Jt(l),e.c]),e.t){case"s":case"str":return i.bookSST?(o=Xk(i.Strings,e.v,i.revStrings),l.t="s",l.v=o,a?lt(t,18,PRe(e,l)):lt(t,7,kRe(e,l))):(l.t="str",a?lt(t,17,HRe(e,l)):lt(t,6,qRe(e,l))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?a?lt(t,13,BRe(e,l)):lt(t,2,LRe(e,l)):a?lt(t,16,URe(e,l)):lt(t,5,MRe(e,l)),!0;case"b":return l.t="b",a?lt(t,15,CRe(e,l)):lt(t,4,TRe(e,l)),!0;case"e":return l.t="e",a?lt(t,14,NRe(e,l)):lt(t,3,DRe(e,l)),!0}return a?lt(t,12,bRe(e,l)):lt(t,1,xRe(e,l)),!0}function m5e(t,e,n,r){var i=Dn(e["!ref"]||"A1"),s,a="",o=[];lt(t,145);var l=Array.isArray(e),c=i.e.r;e["!rows"]&&(c=Math.max(i.e.r,e["!rows"].length-1));for(var u=i.s.r;u<=c;++u){a=ei(u),fRe(t,e,i,u);var f=!1;if(u<=i.e.r)for(var h=i.s.c;h<=i.e.c;++h){u===i.s.r&&(o[h]=Rr(h)),s=o[h]+a;var p=l?(e[u]||[])[h]:e[s];if(!p){f=!1;continue}f=p5e(t,p,u,h,r,e,f)}}lt(t,146)}function g5e(t,e){!e||!e["!merges"]||(lt(t,177,QRe(e["!merges"].length)),e["!merges"].forEach(function(n){lt(t,176,YRe(n))}),lt(t,178))}function y5e(t,e){!e||!e["!cols"]||(lt(t,390),e["!cols"].forEach(function(n,r){n&&lt(t,60,i5e(r,n))}),lt(t,391))}function v5e(t,e){!e||!e["!ref"]||(lt(t,648),lt(t,649,c5e(Dn(e["!ref"]))),lt(t,650))}function x5e(t,e,n){e["!links"].forEach(function(r){if(r[1].Target){var i=zn(n,-1,r[1].Target.replace(/#.*$/,""),mn.HLINK);lt(t,494,e5e(r,i))}}),delete e["!links"]}function _5e(t,e,n,r){if(e["!comments"].length>0){var i=zn(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",mn.VML);lt(t,551,Uk("rId"+i)),e["!legacy"]=i}}function b5e(t,e,n,r){if(e["!autofilter"]){var i=e["!autofilter"],s=typeof i.ref=="string"?i.ref:on(i.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var a=n.Workbook.Names,o=na(s);o.s.r==o.e.r&&(o.e.r=na(e["!ref"]).e.r,s=on(o));for(var l=0;l<a.length;++l){var c=a[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==r){c.Ref="'"+n.SheetNames[r]+"'!"+s;break}}l==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+s}),lt(t,161,Qm(Dn(s))),lt(t,162)}}function w5e(t,e,n){lt(t,133),lt(t,137,l5e(e,n)),lt(t,138),lt(t,134)}function T5e(t,e){e["!protect"]&&lt(t,535,u5e(e["!protect"]))}function E5e(t,e,n,r){var i=ta(),s=n.SheetNames[t],a=n.Sheets[s]||{},o=s;try{n&&n.Workbook&&(o=n.Workbook.Sheets[t].CodeName||o)}catch{}var l=Dn(a["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return a["!links"]=[],a["!comments"]=[],lt(i,129),(n.vbaraw||a["!outline"])&&lt(i,147,yRe(o,a["!outline"])),lt(i,148,pRe(l)),w5e(i,a,n.Workbook),y5e(i,a),m5e(i,a,t,e),T5e(i,a),b5e(i,a,n,t),g5e(i,a),x5e(i,a,r),a["!margins"]&&lt(i,476,a5e(a["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&v5e(i,a),_5e(i,a,t,r),lt(i,130),i.end()}function C5e(t){var e=[],n=t.match(/^<c:numCache>/),r;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var a=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);a&&(e[+a[1]]=n?+a[2]:a[2])});var i=Sn((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){r=s.replace(/<.*?>/g,"")}),[e,i,r]}function S5e(t,e,n,r,i,s){var a=s||{"!type":"chart"};if(!t)return s;var o=0,l=0,c="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=C5e(f);u.s.r=u.s.c=0,u.e.c=o,c=Rr(o),h[0].forEach(function(p,v){a[c+ei(v)]={t:"n",v:p,z:h[1]},l=v}),u.e.r<l&&(u.e.r=l),++o}),o>0&&(a["!ref"]=on(u)),a}function D5e(t,e,n,r,i){if(!t)return t;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},a,o=t.match(qX);return o&&Jk(o[0],s,i,n),(a=t.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=a[1]),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}function A5e(t,e){t.l+=10;var n=ys(t);return{name:n}}function N5e(t,e,n,r,i){if(!t)return t;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},a=!1;return Ac(t,function(l,c,u){switch(u){case 550:s["!rel"]=l;break;case 651:i.Sheets[n]||(i.Sheets[n]={}),l.name&&(i.Sheets[n].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!a||e.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},e),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}var Yk=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],I5e=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],k5e=[],R5e=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function q7(t,e){for(var n=0;n!=t.length;++n)for(var r=t[n],i=0;i!=e.length;++i){var s=e[i];if(r[s[0]]==null)r[s[0]]=s[1];else switch(s[2]){case"bool":typeof r[s[0]]=="string"&&(r[s[0]]=pr(r[s[0]]));break;case"int":typeof r[s[0]]=="string"&&(r[s[0]]=parseInt(r[s[0]],10));break}}}function z7(t,e){for(var n=0;n!=e.length;++n){var r=e[n];if(t[r[0]]==null)t[r[0]]=r[1];else switch(r[2]){case"bool":typeof t[r[0]]=="string"&&(t[r[0]]=pr(t[r[0]]));break;case"int":typeof t[r[0]]=="string"&&(t[r[0]]=parseInt(t[r[0]],10));break}}}function GX(t){z7(t.WBProps,Yk),z7(t.CalcPr,R5e),q7(t.WBView,I5e),q7(t.Sheets,k5e),Fp.date1904=pr(t.WBProps.date1904)}function P5e(t){return!t.Workbook||!t.Workbook.WBProps?"false":pr(t.Workbook.WBProps.date1904)?"true":"false"}var F5e="][*?/\\".split("");function KX(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return F5e.forEach(function(r){if(t.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}function M5e(t,e,n){t.forEach(function(r,i){KX(r);for(var s=0;s<i;++s)if(r==t[s])throw new Error("Duplicate Sheet Name: "+r);if(n){var a=e&&e[i]&&e[i].CodeName||r;if(a.charCodeAt(0)==95&&a.length>22)throw new Error("Bad Code Name: Worksheet"+a)}})}function U5e(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];M5e(t.SheetNames,e,!!t.vbaraw);for(var n=0;n<t.SheetNames.length;++n)P6e(t.Sheets[t.SheetNames[n]],t.SheetNames[n],n)}var O5e=/<\w+:workbook/;function L5e(t,e){if(!t)throw new Error("Could not find file");var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,i="xmlns",s={},a=0;if(t.replace(bs,function(l,c){var u=Zt(l);switch(Nl(u[0])){case"<?xml":break;case"<workbook":l.match(O5e)&&(i="xmlns"+l.match(/<(\w+):/)[1]),n.xmlns=u[i];break;case"</workbook>":break;case"<fileVersion":delete u[0],n.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":Yk.forEach(function(f){if(u[f[0]]!=null)switch(f[2]){case"bool":n.WBProps[f[0]]=pr(u[f[0]]);break;case"int":n.WBProps[f[0]]=parseInt(u[f[0]],10);break;default:n.WBProps[f[0]]=u[f[0]]}}),u.codeName&&(n.WBProps.CodeName=Jn(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],n.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=Sn(Jn(u.name)),delete u[0],n.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":r=!0;break;case"</definedNames>":r=!1;break;case"<definedName":s={},s.Name=Jn(u.name),u.comment&&(s.Comment=u.comment),u.localSheetId&&(s.Sheet=+u.localSheetId),pr(u.hidden||"0")&&(s.Hidden=!0),a=c+l.length;break;case"</definedName>":s.Ref=Sn(Jn(t.slice(a,c))),n.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete u[0],n.CalcPr=u;break;case"<calcPr/>":delete u[0],n.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<revisionPtr":break;default:if(!r&&e.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return l}),Zf.indexOf(n.xmlns)===-1)throw new Error("Unknown Namespace: "+n.xmlns);return GX(n),n}function XX(t){var e=[ni];e[e.length]=xt("workbook",null,{xmlns:Zf[0],"xmlns:r":yi.r});var n=t.Workbook&&(t.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(Yk.forEach(function(o){t.Workbook.WBProps[o[0]]!=null&&t.Workbook.WBProps[o[0]]!=o[1]&&(r[o[0]]=t.Workbook.WBProps[o[0]])}),t.Workbook.WBProps.CodeName&&(r.codeName=t.Workbook.WBProps.CodeName,delete r.CodeName)),e[e.length]=xt("workbookPr",null,r);var i=t.Workbook&&t.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=t.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==t.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=t.SheetNames.length;++s){var a={name:$n(t.SheetNames[s].slice(0,31))};if(a.sheetId=""+(s+1),a["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:a.state="hidden";break;case 2:a.state="veryHidden";break}e[e.length]=xt("sheet",null,a)}return e[e.length]="</sheets>",n&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(o){var l={name:o.Name};o.Comment&&(l.comment=o.Comment),o.Sheet!=null&&(l.localSheetId=""+o.Sheet),o.Hidden&&(l.hidden="1"),o.Ref&&(e[e.length]=xt("definedName",$n(o.Ref),l))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function j5e(t,e){var n={};return n.Hidden=t.read_shift(4),n.iTabID=t.read_shift(4),n.strRelID=nN(t),n.name=ys(t),n}function B5e(t,e){return e||(e=nt(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),Uk(t.strRelID,e),Ui(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function V5e(t,e){var n={},r=t.read_shift(4);n.defaultThemeVersion=t.read_shift(4);var i=e>8?ys(t):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function W5e(t,e){e||(e=nt(72));var n=0;return t&&t.filterPrivacy&&(n|=8),e.write_shift(4,n),e.write_shift(4,0),BK(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function q5e(t,e){var n={};return t.read_shift(4),n.ArchID=t.read_shift(4),t.l+=e-8,n}function z5e(t,e,n){var r=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),s=_Ae(t),a=D6e(t,0,n),o=Mk(t);t.l=r;var l={Name:s,Ptg:a};return i<268435455&&(l.Sheet=i),o&&(l.Comment=o),l}function H5e(t,e){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],i=!1;e||(e={}),e.biff=12;var s=[],a=[[]];return a.SheetNames=[],a.XTI=[],Xy[16]={n:"BrtFRTArchID$",f:q5e},Ac(t,function(l,c,u){switch(u){case 156:a.SheetNames.push(l.name),n.Sheets.push(l);break;case 153:n.WBProps=l;break;case 39:l.Sheet!=null&&(e.SID=l.Sheet),l.Ref=ls(l.Ptg,null,null,a,e),delete e.SID,delete l.Ptg,s.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:a[0].length?a.push([u,l]):a[0]=[u,l],a[a.length-1].XTI=[];break;case 362:a.length===0&&(a[0]=[],a[0].XTI=[]),a[a.length-1].XTI=a[a.length-1].XTI.concat(l),a.XTI=a.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:r.push(u),i=!0;break;case 36:r.pop(),i=!1;break;case 37:r.push(u),i=!0;break;case 38:r.pop(),i=!1;break;case 16:break;default:if(!c.T){if(!i||e.WTF&&r[r.length-1]!=37&&r[r.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},e),GX(n),n.Names=s,n.supbooks=a,n}function $5e(t,e){lt(t,143);for(var n=0;n!=e.SheetNames.length;++n){var r=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[n]&&e.Workbook.Sheets[n].Hidden||0,i={Hidden:r,iTabID:n+1,strRelID:"rId"+(n+1),name:e.SheetNames[n]};lt(t,156,B5e(i))}lt(t,144)}function G5e(t,e){e||(e=nt(127));for(var n=0;n!=4;++n)e.write_shift(4,0);return Ui("SheetJS",e),Ui(O_.version,e),Ui(O_.version,e),Ui("7262",e),e.length>e.l?e.slice(0,e.l):e}function K5e(t,e){e||(e=nt(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var n=120;return e.write_shift(1,n),e.length>e.l?e.slice(0,e.l):e}function X5e(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var n=e.Workbook.Sheets,r=0,i=-1,s=-1;r<n.length;++r)!n[r]||!n[r].Hidden&&i==-1?i=r:n[r].Hidden==1&&s==-1&&(s=r);s>i||(lt(t,135),lt(t,158,K5e(i)),lt(t,136))}}function J5e(t,e){var n=ta();return lt(n,131),lt(n,128,G5e()),lt(n,153,W5e(t.Workbook&&t.Workbook.WBProps||null)),X5e(n,t),$5e(n,t),lt(n,132),n.end()}function Y5e(t,e,n){return e.slice(-4)===".bin"?H5e(t,n):L5e(t,n)}function Q5e(t,e,n,r,i,s,a,o){return e.slice(-4)===".bin"?h5e(t,r,n,i,s,a,o):z6e(t,r,n,i,s,a,o)}function Z5e(t,e,n,r,i,s,a,o){return e.slice(-4)===".bin"?N5e(t,r,n,i,s):D5e(t,r,n,i,s)}function ePe(t,e,n,r,i,s,a,o){return e.slice(-4)===".bin"?nke():rke()}function tPe(t,e,n,r,i,s,a,o){return e.slice(-4)===".bin"?eke():tke()}function nPe(t,e,n,r){return e.slice(-4)===".bin"?Y3e(t,n,r):j3e(t,n,r)}function rPe(t,e,n){return NX(t,n)}function iPe(t,e,n){return e.slice(-4)===".bin"?i3e(t,n):t3e(t,n)}function sPe(t,e,n){return e.slice(-4)===".bin"?XIe(t,n):BIe(t,n)}function aPe(t,e,n){return e.slice(-4)===".bin"?OIe(t):MIe(t)}function oPe(t,e,n,r){return n.slice(-4)===".bin"?LIe(t,e,n,r):void 0}function lPe(t,e,n){return e.slice(-4)===".bin"?RIe(t,e,n):FIe(t,e,n)}function cPe(t,e,n){return(e.slice(-4)===".bin"?J5e:XX)(t)}function uPe(t,e,n,r,i){return(e.slice(-4)===".bin"?E5e:zX)(t,n,r,i)}function dPe(t,e,n){return(e.slice(-4)===".bin"?oIe:DX)(t,n)}function fPe(t,e,n){return(e.slice(-4)===".bin"?o3e:xX)(t,n)}function hPe(t,e,n){return(e.slice(-4)===".bin"?JIe:RX)(t)}function pPe(t){return(t.slice(-4)===".bin"?PIe:IX)()}var JX=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,YX=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Eo(t,e){var n=t.split(/\s+/),r=[];if(r[0]=n[0],n.length===1)return r;var i=t.match(JX),s,a,o,l;if(i)for(l=0;l!=i.length;++l)s=i[l].match(YX),(a=s[1].indexOf(":"))===-1?r[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?o="xmlns"+s[1].slice(6):o=s[1].slice(a+1),r[o]=s[2].slice(1,s[2].length-1));return r}function mPe(t){var e=t.split(/\s+/),n={};if(e.length===1)return n;var r=t.match(JX),i,s,a,o;if(r)for(o=0;o!=r.length;++o)i=r[o].match(YX),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?a="xmlns"+i[1].slice(6):a=i[1].slice(s+1),n[a]=i[2].slice(1,i[2].length-1));return n}var Y0;function gPe(t,e){var n=Y0[t]||Sn(t);return n==="General"?Rf(e):so(n,e)}function yPe(t,e,n,r){var i=r;switch((n[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=pr(r);break;case"i2":case"int":i=parseInt(r,10);break;case"r4":case"float":i=parseFloat(r);break;case"date":case"dateTime.tz":i=vr(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+n[0])}t[Sn(e)]=i}function vPe(t,e,n){if(t.t!=="z"){if(!n||n.cellText!==!1)try{t.t==="e"?t.w=t.w||Nc[t.v]:e==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=By(t.v):t.w=Rf(t.v):t.w=gPe(e||"General",t.v)}catch(s){if(n.WTF)throw s}try{var r=Y0[e]||e||"General";if(n.cellNF&&(t.z=r),n.cellDates&&t.t=="n"&&Xm(r)){var i=ef(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(s){if(n.WTF)throw s}}}function xPe(t,e,n){if(n.cellStyles&&e.Interior){var r=e.Interior;r.Pattern&&(r.patternType=k3e[r.Pattern]||r.Pattern)}t[e.ID]=e}function _Pe(t,e,n,r,i,s,a,o,l,c){var u="General",f=r.StyleID,h={};c=c||{};var p=[],v=0;for(f===void 0&&o&&(f=o.StyleID),f===void 0&&a&&(f=a.StyleID);s[f]!==void 0&&(s[f].nf&&(u=s[f].nf),s[f].Interior&&p.push(s[f].Interior),!!s[f].Parent);)f=s[f].Parent;switch(n.Type){case"Boolean":r.t="b",r.v=pr(t);break;case"String":r.t="s",r.r=o7(Sn(t)),r.v=t.indexOf("<")>-1?Sn(e||t).replace(/<.*?>/g,""):r.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),r.v=(vr(t)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),r.v!==r.v?r.v=Sn(t):r.v<60&&(r.v=r.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":r.v===void 0&&(r.v=+t),r.t||(r.t="n");break;case"Error":r.t="e",r.v=HK[t],c.cellText!==!1&&(r.w=t);break;default:t==""&&e==""?r.t="z":(r.t="s",r.v=o7(e||t));break}if(vPe(r,u,c),c.cellFormula!==!1)if(r.Formula){var g=Sn(r.Formula);g.charCodeAt(0)==61&&(g=g.slice(1)),r.f=Pp(g,i),delete r.Formula,r.ArrayRange=="RC"?r.F=Pp("RC:RC",i):r.ArrayRange&&(r.F=Pp(r.ArrayRange,i),l.push([Dn(r.F),r.F]))}else for(v=0;v<l.length;++v)i.r>=l[v][0].s.r&&i.r<=l[v][0].e.r&&i.c>=l[v][0].s.c&&i.c<=l[v][0].e.c&&(r.F=l[v][1]);c.cellStyles&&(p.forEach(function(y){!h.patternType&&y.patternType&&(h.patternType=y.patternType)}),r.s=h),r.StyleID!==void 0&&(r.ixfe=r.StyleID)}function bPe(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function dD(t,e){var n=e||{};Jm();var r=v0(Nk(t));(n.type=="binary"||n.type=="array"||n.type=="base64")&&(r=Jn(r));var i=r.slice(0,1024).toLowerCase(),s=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var a=xr(n);return a.type="string",mm.to_workbook(r,a)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(re){i.indexOf("<"+re)>=0&&(s=!0)}),s)return a8e(r,n);Y0={"General Number":"General","General Date":Gt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Gt[15],"Short Date":Gt[14],"Long Time":Gt[19],"Medium Time":Gt[18],"Short Time":Gt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Gt[2],Standard:Gt[4],Percent:Gt[10],Scientific:Gt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],c,u={},f=[],h=n.dense?[]:{},p="",v={},g={},y=Eo('<Data ss:Type="String">'),b=0,_=0,w=0,C={s:{r:2e6,c:2e6},e:{r:0,c:0}},S={},R={},D="",N=0,k=[],F={},P={},I=0,U=[],O=[],K={},X=[],J,ne=!1,z=[],Q=[],B={},j=0,W=0,G={Sheets:[],WBProps:{date1904:!1}},Y={};qy.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"");for(var ee="";o=qy.exec(r);)switch(o[3]=(ee=o[3]).toLowerCase()){case"data":if(ee=="data"){if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?_Pe(r.slice(b,o.index),D,y,l[l.length-1][0]=="comment"?K:v,{c:_,r:w},S,X[_],g,z,n):(D="",y=Eo(o[0]),b=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(O.length>0&&(v.c=O),(!n.sheetRows||n.sheetRows>w)&&v.v!==void 0&&(n.dense?(h[w]||(h[w]=[]),h[w][_]=v):h[Rr(_)+ei(w)]=v),v.HRef&&(v.l={Target:Sn(v.HRef)},v.HRefScreenTip&&(v.l.Tooltip=v.HRefScreenTip),delete v.HRef,delete v.HRefScreenTip),(v.MergeAcross||v.MergeDown)&&(j=_+(parseInt(v.MergeAcross,10)|0),W=w+(parseInt(v.MergeDown,10)|0),k.push({s:{c:_,r:w},e:{c:j,r:W}})),!n.sheetStubs)v.MergeAcross?_=j+1:++_;else if(v.MergeAcross||v.MergeDown){for(var ae=_;ae<=j;++ae)for(var de=w;de<=W;++de)(ae>_||de>w)&&(n.dense?(h[de]||(h[de]=[]),h[de][ae]={t:"z"}):h[Rr(ae)+ei(de)]={t:"z"});_=j+1}else++_;else v=mPe(o[0]),v.Index&&(_=+v.Index-1),_<C.s.c&&(C.s.c=_),_>C.e.c&&(C.e.c=_),o[0].slice(-2)==="/>"&&++_,O=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(w<C.s.r&&(C.s.r=w),w>C.e.r&&(C.e.r=w),o[0].slice(-2)==="/>"&&(g=Eo(o[0]),g.Index&&(w=+g.Index-1)),_=0,++w):(g=Eo(o[0]),g.Index&&(w=+g.Index-1),B={},(g.AutoFitHeight=="0"||g.Height)&&(B.hpx=parseInt(g.Height,10),B.hpt=Ky(B.hpx),Q[w]=B),g.Hidden=="1"&&(B.hidden=!0,Q[w]=B));break;case"worksheet":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));f.push(p),C.s.r<=C.e.r&&C.s.c<=C.e.c&&(h["!ref"]=on(C),n.sheetRows&&n.sheetRows<=C.e.r&&(h["!fullref"]=h["!ref"],C.e.r=n.sheetRows-1,h["!ref"]=on(C))),k.length&&(h["!merges"]=k),X.length>0&&(h["!cols"]=X),Q.length>0&&(h["!rows"]=Q),u[p]=h}else C={s:{r:2e6,c:2e6},e:{r:0,c:0}},w=_=0,l.push([o[3],!1]),c=Eo(o[0]),p=Sn(c.Name),h=n.dense?[]:{},k=[],z=[],Q=[],Y={name:p,Hidden:0},G.Sheets.push(Y);break;case"table":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),X=[],ne=!1}break;case"style":o[1]==="/"?xPe(S,R,n):R=Eo(o[0]);break;case"numberformat":R.nf=Sn(Eo(o[0]).Format||"General"),Y0[R.nf]&&(R.nf=Y0[R.nf]);for(var fe=0;fe!=392&&Gt[fe]!=R.nf;++fe);if(fe==392){for(fe=57;fe!=392;++fe)if(Gt[fe]==null){ac(R.nf,fe);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(J=Eo(o[0]),J.Hidden&&(J.hidden=!0,delete J.Hidden),J.Width&&(J.wpx=parseInt(J.Width,10)),!ne&&J.wpx>10){ne=!0,cs=CX;for(var De=0;De<X.length;++De)X[De]&&zu(X[De])}ne&&zu(J),X[J.Index-1||X.length]=J;for(var Pe=0;Pe<+J.Span;++Pe)X[X.length]=xr(J);break;case"namedrange":if(o[1]==="/")break;G.Names||(G.Names=[]);var me=Zt(o[0]),je={Name:me.Name,Ref:Pp(me.RefersTo.slice(1),{r:0,c:0})};G.Sheets.length>0&&(je.Sheet=G.Sheets.length-1),G.Names.push(je);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?D+=r.slice(N,o.index):N=o.index+o[0].length;break;case"interior":if(!n.cellStyles)break;R.Interior=Eo(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?HAe(F,ee,r.slice(I,o.index)):I=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));bPe(K),O.push(K)}else l.push([o[3],!1]),c=Eo(o[0]),K={a:c.Author};break;case"autofilter":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var V=Eo(o[0]);h["!autofilter"]={ref:Pp(V.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return X7(r,n);var ye=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:ye=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:ye=!1}break;case"excelworkbook":switch(o[3]){case"date1904":G.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:ye=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:ye=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(r.slice(I,o.index)){case"SheetHidden":Y.Hidden=1;break;case"SheetVeryHidden":Y.Hidden=2;break}else I=o.index+o[0].length;break;case"header":h["!margins"]||uf(h["!margins"]={},"xlml"),isNaN(+Zt(o[0]).Margin)||(h["!margins"].header=+Zt(o[0]).Margin);break;case"footer":h["!margins"]||uf(h["!margins"]={},"xlml"),isNaN(+Zt(o[0]).Margin)||(h["!margins"].footer=+Zt(o[0]).Margin);break;case"pagemargins":var be=Zt(o[0]);h["!margins"]||uf(h["!margins"]={},"xlml"),isNaN(+be.Top)||(h["!margins"].top=+be.Top),isNaN(+be.Left)||(h["!margins"].left=+be.Left),isNaN(+be.Right)||(h["!margins"].right=+be.Right),isNaN(+be.Bottom)||(h["!margins"].bottom=+be.Bottom);break;case"displayrighttoleft":G.Views||(G.Views=[]),G.Views[0]||(G.Views[0]={}),G.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:ye=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:ye=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:ye=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:ye=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:ye=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:ye=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:ye=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:ye=!1}break;case"smarttags":break;default:ye=!1;break}if(ye||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?yPe(P,ee,U,r.slice(I,o.index)):(U=o,I=o.index+o[0].length);break}if(n.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var oe={};return!n.bookSheets&&!n.bookProps&&(oe.Sheets=u),oe.SheetNames=f,oe.Workbook=G,oe.SSF=xr(Gt),oe.Props=F,oe.Custprops=P,oe}function cN(t,e){switch(Zk(e=e||{}),e.type||"base64"){case"base64":return dD(Na(t),e);case"binary":case"buffer":case"file":return dD(t,e);case"array":return dD(rd(t),e)}}function wPe(t,e){var n=[];return t.Props&&n.push($Ae(t.Props,e)),t.Custprops&&n.push(GAe(t.Props,t.Custprops)),n.join("")}function TPe(){return""}function EPe(t,e){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(r,i){var s=[];s.push(xt("NumberFormat",null,{"ss:Format":$n(Gt[r.numFmtId])}));var a={"ss:ID":"s"+(21+i)};n.push(xt("Style",s.join(""),a))}),xt("Styles",n.join(""))}function QX(t){return xt("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+Gk(t.Ref,{r:0,c:0})})}function CPe(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,n=[],r=0;r<e.length;++r){var i=e[r];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||n.push(QX(i)))}return xt("Names",n.join(""))}function SPe(t,e,n,r){if(!t||!((r||{}).Workbook||{}).Names)return"";for(var i=r.Workbook.Names,s=[],a=0;a<i.length;++a){var o=i[a];o.Sheet==n&&(o.Name.match(/^_xlfn\./)||s.push(QX(o)))}return s.join("")}function DPe(t,e,n,r){if(!t)return"";var i=[];if(t["!margins"]&&(i.push("<PageSetup>"),t["!margins"].header&&i.push(xt("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&i.push(xt("Footer",null,{"x:Margin":t["!margins"].footer})),i.push(xt("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),i.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n])if(r.Workbook.Sheets[n].Hidden)i.push(xt("Visible",r.Workbook.Sheets[n].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<n&&!(r.Workbook.Sheets[s]&&!r.Workbook.Sheets[s].Hidden);++s);s==n&&i.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),t["!protect"]&&(i.push(Ki("ProtectContents","True")),t["!protect"].objects&&i.push(Ki("ProtectObjects","True")),t["!protect"].scenarios&&i.push(Ki("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?i.push(Ki("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&i.push(Ki("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(a){t["!protect"][a[0]]&&i.push("<"+a[1]+"/>")})),i.length==0?"":xt("WorksheetOptions",i.join(""),{xmlns:xa.x})}function APe(t){return t.map(function(e){var n=XDe(e.t||""),r=xt("ss:Data",n,{xmlns:"http://www.w3.org/TR/REC-html40"});return xt("Comment",r,{"ss:Author":e.a})}).join("")}function NPe(t,e,n,r,i,s,a){if(!t||t.v==null&&t.f==null)return"";var o={};if(t.f&&(o["ss:Formula"]="="+$n(Gk(t.f,a))),t.F&&t.F.slice(0,e.length)==e){var l=Pr(t.F.slice(e.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==a.r?"":"["+(l.r-a.r)+"]")+"C"+(l.c==a.c?"":"["+(l.c-a.c)+"]")}if(t.l&&t.l.Target&&(o["ss:HRef"]=$n(t.l.Target),t.l.Tooltip&&(o["x:HRefScreenTip"]=$n(t.l.Tooltip))),n["!merges"])for(var c=n["!merges"],u=0;u!=c.length;++u)c[u].s.c!=a.c||c[u].s.r!=a.r||(c[u].e.c>c[u].s.c&&(o["ss:MergeAcross"]=c[u].e.c-c[u].s.c),c[u].e.r>c[u].s.r&&(o["ss:MergeDown"]=c[u].e.r-c[u].s.r));var f="",h="";switch(t.t){case"z":if(!r.sheetStubs)return"";break;case"n":f="Number",h=String(t.v);break;case"b":f="Boolean",h=t.v?"1":"0";break;case"e":f="Error",h=Nc[t.v];break;case"d":f="DateTime",h=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Gt[14]);break;case"s":f="String",h=KDe(t.v||"");break}var p=sd(r.cellXfs,t,r);o["ss:StyleID"]="s"+(21+p),o["ss:Index"]=a.c+1;var v=t.v!=null?h:"",g=t.t=="z"?"":'<Data ss:Type="'+f+'">'+v+"</Data>";return(t.c||[]).length>0&&(g+=APe(t.c)),xt("Cell",g,o)}function IPe(t,e){var n='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=gm(e.hpt)),e.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(n+=' ss:Hidden="1"')),n+">"}function kPe(t,e,n,r){if(!t["!ref"])return"";var i=Dn(t["!ref"]),s=t["!merges"]||[],a=0,o=[];t["!cols"]&&t["!cols"].forEach(function(y,b){zu(y);var _=!!y.width,w=Mw(b,y),C={"ss:Index":b+1};_&&(C["ss:Width"]=$y(w.width)),y.hidden&&(C["ss:Hidden"]="1"),o.push(xt("Column",null,C))});for(var l=Array.isArray(t),c=i.s.r;c<=i.e.r;++c){for(var u=[IPe(c,(t["!rows"]||[])[c])],f=i.s.c;f<=i.e.c;++f){var h=!1;for(a=0;a!=s.length;++a)if(!(s[a].s.c>f)&&!(s[a].s.r>c)&&!(s[a].e.c<f)&&!(s[a].e.r<c)){(s[a].s.c!=f||s[a].s.r!=c)&&(h=!0);break}if(!h){var p={r:c,c:f},v=Jt(p),g=l?(t[c]||[])[f]:t[v];u.push(NPe(g,v,t,e,n,r,p))}}u.push("</Row>"),u.length>2&&o.push(u.join(""))}return o.join("")}function RPe(t,e,n){var r=[],i=n.SheetNames[t],s=n.Sheets[i],a=s?SPe(s,e,t,n):"";return a.length>0&&r.push("<Names>"+a+"</Names>"),a=s?kPe(s,e,t,n):"",a.length>0&&r.push("<Table>"+a+"</Table>"),r.push(DPe(s,e,t,n)),r.join("")}function PPe(t,e){e||(e={}),t.SSF||(t.SSF=xr(Gt)),t.SSF&&(Jm(),Aw(t.SSF),e.revssf=Iw(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],sd(e.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(wPe(t,e)),n.push(TPe()),n.push(""),n.push("");for(var r=0;r<t.SheetNames.length;++r)n.push(xt("Worksheet",RPe(r,e,t),{"ss:Name":$n(t.SheetNames[r])}));return n[2]=EPe(t,e),n[3]=CPe(t),ni+xt("Workbook",n.join(""),{xmlns:xa.ss,"xmlns:o":xa.o,"xmlns:x":xa.x,"xmlns:ss":xa.ss,"xmlns:dt":xa.dt,"xmlns:html":xa.html})}function FPe(t){var e={},n=t.content;if(n.l=28,e.AnsiUserType=n.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=CAe(n),n.length-n.l<=4)return e;var r=n.read_shift(4);if(r==0||r>40||(n.l-=4,e.Reserved1=n.read_shift(0,"lpstr-ansi"),n.length-n.l<=4)||(r=n.read_shift(4),r!==1907505652)||(e.UnicodeClipboardFormat=SAe(n),r=n.read_shift(4),r==0||r>40))return e;n.l-=4,e.Reserved2=n.read_shift(0,"lpwstr")}var MPe=[60,1084,2066,2165,2175];function UPe(t,e,n,r,i){var s=r,a=[],o=n.slice(n.l,n.l+s);if(i&&i.enc&&i.enc.insitu&&o.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(o)}a.push(o),n.l+=s;for(var l=Ql(n,n.l),c=uN[l],u=0;c!=null&&MPe.indexOf(l)>-1;)s=Ql(n,n.l+2),u=n.l+4,l==2066?u+=4:(l==2165||l==2175)&&(u+=12),o=n.slice(u,n.l+4+s),a.push(o),n.l+=4+s,c=uN[l=Ql(n,n.l)];var f=Mi(a);$i(f,0);var h=0;f.lens=[];for(var p=0;p<a.length;++p)f.lens.push(h),h+=a[p].length;if(f.length<r)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+f.length+" < "+r;return e.f(f,f.length,i)}function Qo(t,e,n){if(t.t!=="z"&&t.XF){var r=0;try{r=t.z||t.XF.numFmtId||0,e.cellNF&&(t.z=Gt[r])}catch(s){if(e.WTF)throw s}if(!e||e.cellText!==!1)try{t.t==="e"?t.w=t.w||Nc[t.v]:r===0||r=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=By(t.v):t.w=Rf(t.v):t.w=so(r,t.v,{date1904:!!n,dateNF:e&&e.dateNF})}catch(s){if(e.WTF)throw s}if(e.cellDates&&r&&t.t=="n"&&Xm(Gt[r]||String(r))){var i=ef(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function Ox(t,e,n){return{v:t,ixfe:e,t:n}}function OPe(t,e){var n={opts:{}},r={},i=e.dense?[]:{},s={},a={},o=null,l=[],c="",u={},f,h="",p,v,g,y,b={},_=[],w,C,S=[],R=[],D={Sheets:[],WBProps:{date1904:!1},Views:[{}]},N={},k=function(Le){return Le<8?of[Le]:Le<64&&R[Le-8]||of[Le]},F=function(Le,Ge,rt){var it=Ge.XF.data;if(!(!it||!it.patternType||!rt||!rt.cellStyles)){Ge.s={},Ge.s.patternType=it.patternType;var Vt;(Vt=Hy(k(it.icvFore)))&&(Ge.s.fgColor={rgb:Vt}),(Vt=Hy(k(it.icvBack)))&&(Ge.s.bgColor={rgb:Vt})}},P=function(Le,Ge,rt){if(!(B>1)&&!(rt.sheetRows&&Le.r>=rt.sheetRows)){if(rt.cellStyles&&Ge.XF&&Ge.XF.data&&F(Le,Ge,rt),delete Ge.ixfe,delete Ge.XF,f=Le,h=Jt(Le),(!a||!a.s||!a.e)&&(a={s:{r:0,c:0},e:{r:0,c:0}}),Le.r<a.s.r&&(a.s.r=Le.r),Le.c<a.s.c&&(a.s.c=Le.c),Le.r+1>a.e.r&&(a.e.r=Le.r+1),Le.c+1>a.e.c&&(a.e.c=Le.c+1),rt.cellFormula&&Ge.f){for(var it=0;it<_.length;++it)if(!(_[it][0].s.c>Le.c||_[it][0].s.r>Le.r)&&!(_[it][0].e.c<Le.c||_[it][0].e.r<Le.r)){Ge.F=on(_[it][0]),(_[it][0].s.c!=Le.c||_[it][0].s.r!=Le.r)&&delete Ge.f,Ge.f&&(Ge.f=""+ls(_[it][1],a,Le,z,I));break}}rt.dense?(i[Le.r]||(i[Le.r]=[]),i[Le.r][Le.c]=Ge):i[h]=Ge}},I={enc:!1,sbcch:0,snames:[],sharedf:b,arrayf:_,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(I.password=e.password);var U,O=[],K=[],X=[],J=[],ne=!1,z=[];z.SheetNames=I.snames,z.sharedf=I.sharedf,z.arrayf=I.arrayf,z.names=[],z.XTI=[];var Q=0,B=0,j=0,W=[],G=[],Y;I.codepage=1200,Io(1200);for(var ee=!1;t.l<t.length-1;){var ae=t.l,de=t.read_shift(2);if(de===0&&Q===10)break;var fe=t.l===t.length?0:t.read_shift(2),De=uN[de];if(De&&De.f){if(e.bookSheets&&Q===133&&de!==133)break;if(Q=de,De.r===2||De.r==12){var Pe=t.read_shift(2);if(fe-=2,!I.enc&&Pe!==de&&((Pe&255)<<8|Pe>>8)!==de)throw new Error("rt mismatch: "+Pe+"!="+de);De.r==12&&(t.l+=10,fe-=10)}var me={};if(de===10?me=De.f(t,fe,I):me=UPe(de,De,t,fe,I),B==0&&[9,521,1033,2057].indexOf(Q)===-1)continue;switch(de){case 34:n.opts.Date1904=D.WBProps.date1904=me;break;case 134:n.opts.WriteProtect=!0;break;case 47:if(I.enc||(t.l=0),I.enc=me,!e.password)throw new Error("File is password-protected");if(me.valid==null)throw new Error("Encryption scheme unsupported");if(!me.valid)throw new Error("Password is incorrect");break;case 92:I.lastuser=me;break;case 66:var je=Number(me);switch(je){case 21010:je=1200;break;case 32768:je=1e4;break;case 32769:je=1252;break}Io(I.codepage=je),ee=!0;break;case 317:I.rrtabid=me;break;case 25:I.winlocked=me;break;case 439:n.opts.RefreshAll=me;break;case 12:n.opts.CalcCount=me;break;case 16:n.opts.CalcDelta=me;break;case 17:n.opts.CalcIter=me;break;case 13:n.opts.CalcMode=me;break;case 14:n.opts.CalcPrecision=me;break;case 95:n.opts.CalcSaveRecalc=me;break;case 15:I.CalcRefMode=me;break;case 2211:n.opts.FullCalc=me;break;case 129:me.fDialog&&(i["!type"]="dialog"),me.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),me.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:S.push(me);break;case 430:z.push([me]),z[z.length-1].XTI=[];break;case 35:case 547:z[z.length-1].push(me);break;case 24:case 536:Y={Name:me.Name,Ref:ls(me.rgce,a,null,z,I)},me.itab>0&&(Y.Sheet=me.itab-1),z.names.push(Y),z[0]||(z[0]=[],z[0].XTI=[]),z[z.length-1].push(me),me.Name=="_xlnm._FilterDatabase"&&me.itab>0&&me.rgce&&me.rgce[0]&&me.rgce[0][0]&&me.rgce[0][0][0]=="PtgArea3d"&&(G[me.itab-1]={ref:on(me.rgce[0][0][1][2])});break;case 22:I.ExternCount=me;break;case 23:z.length==0&&(z[0]=[],z[0].XTI=[]),z[z.length-1].XTI=z[z.length-1].XTI.concat(me),z.XTI=z.XTI.concat(me);break;case 2196:if(I.biff<8)break;Y!=null&&(Y.Comment=me[1]);break;case 18:i["!protect"]=me;break;case 19:me!==0&&I.WTF&&console.error("Password verifier: "+me);break;case 133:s[me.pos]=me,I.snames.push(me.name);break;case 10:{if(--B)break;if(a.e){if(a.e.r>0&&a.e.c>0){if(a.e.r--,a.e.c--,i["!ref"]=on(a),e.sheetRows&&e.sheetRows<=a.e.r){var V=a.e.r;a.e.r=e.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=on(a),a.e.r=V}a.e.r++,a.e.c++}O.length>0&&(i["!merges"]=O),K.length>0&&(i["!objects"]=K),X.length>0&&(i["!cols"]=X),J.length>0&&(i["!rows"]=J),D.Sheets.push(N)}c===""?u=i:r[c]=i,i=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(I.biff===8&&(I.biff={9:2,521:3,1033:4}[de]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[me.BIFFVer]||8),I.biffguess=me.BIFFVer==0,me.BIFFVer==0&&me.dt==4096&&(I.biff=5,ee=!0,Io(I.codepage=28591)),I.biff==8&&me.BIFFVer==0&&me.dt==16&&(I.biff=2),B++)break;if(i=e.dense?[]:{},I.biff<8&&!ee&&(ee=!0,Io(I.codepage=e.codepage||1252)),I.biff<5||me.BIFFVer==0&&me.dt==4096){c===""&&(c="Sheet1"),a={s:{r:0,c:0},e:{r:0,c:0}};var ye={pos:t.l-fe,name:c};s[ye.pos]=ye,I.snames.push(c)}else c=(s[ae]||{name:""}).name;me.dt==32&&(i["!type"]="chart"),me.dt==64&&(i["!type"]="macro"),O=[],K=[],I.arrayf=_=[],X=[],J=[],ne=!1,N={Hidden:(s[ae]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(e.dense?(i[me.r]||[])[me.c]:i[Jt({c:me.c,r:me.r})])&&++me.c,w={ixfe:me.ixfe,XF:S[me.ixfe]||{},v:me.val,t:"n"},j>0&&(w.z=W[w.ixfe>>8&63]),Qo(w,e,n.opts.Date1904),P({c:me.c,r:me.r},w,e);break;case 5:case 517:w={ixfe:me.ixfe,XF:S[me.ixfe],v:me.val,t:me.t},j>0&&(w.z=W[w.ixfe>>8&63]),Qo(w,e,n.opts.Date1904),P({c:me.c,r:me.r},w,e);break;case 638:w={ixfe:me.ixfe,XF:S[me.ixfe],v:me.rknum,t:"n"},j>0&&(w.z=W[w.ixfe>>8&63]),Qo(w,e,n.opts.Date1904),P({c:me.c,r:me.r},w,e);break;case 189:for(var be=me.c;be<=me.C;++be){var oe=me.rkrec[be-me.c][0];w={ixfe:oe,XF:S[oe],v:me.rkrec[be-me.c][1],t:"n"},j>0&&(w.z=W[w.ixfe>>8&63]),Qo(w,e,n.opts.Date1904),P({c:be,r:me.r},w,e)}break;case 6:case 518:case 1030:{if(me.val=="String"){o=me;break}if(w=Ox(me.val,me.cell.ixfe,me.tt),w.XF=S[w.ixfe],e.cellFormula){var re=me.formula;if(re&&re[0]&&re[0][0]&&re[0][0][0]=="PtgExp"){var le=re[0][0][1][0],he=re[0][0][1][1],_e=Jt({r:le,c:he});b[_e]?w.f=""+ls(me.formula,a,me.cell,z,I):w.F=((e.dense?(i[le]||[])[he]:i[_e])||{}).F}else w.f=""+ls(me.formula,a,me.cell,z,I)}j>0&&(w.z=W[w.ixfe>>8&63]),Qo(w,e,n.opts.Date1904),P(me.cell,w,e),o=me}break;case 7:case 519:if(o)o.val=me,w=Ox(me,o.cell.ixfe,"s"),w.XF=S[w.ixfe],e.cellFormula&&(w.f=""+ls(o.formula,a,o.cell,z,I)),j>0&&(w.z=W[w.ixfe>>8&63]),Qo(w,e,n.opts.Date1904),P(o.cell,w,e),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{_.push(me);var ie=Jt(me[0].s);if(p=e.dense?(i[me[0].s.r]||[])[me[0].s.c]:i[ie],e.cellFormula&&p){if(!o||!ie||!p)break;p.f=""+ls(me[1],a,me[0],z,I),p.F=on(me[0])}}break;case 1212:{if(!e.cellFormula)break;if(h){if(!o)break;b[Jt(o.cell)]=me[0],p=e.dense?(i[o.cell.r]||[])[o.cell.c]:i[Jt(o.cell)],(p||{}).f=""+ls(me[0],a,f,z,I)}}break;case 253:w=Ox(l[me.isst].t,me.ixfe,"s"),l[me.isst].h&&(w.h=l[me.isst].h),w.XF=S[w.ixfe],j>0&&(w.z=W[w.ixfe>>8&63]),Qo(w,e,n.opts.Date1904),P({c:me.c,r:me.r},w,e);break;case 513:e.sheetStubs&&(w={ixfe:me.ixfe,XF:S[me.ixfe],t:"z"},j>0&&(w.z=W[w.ixfe>>8&63]),Qo(w,e,n.opts.Date1904),P({c:me.c,r:me.r},w,e));break;case 190:if(e.sheetStubs)for(var ce=me.c;ce<=me.C;++ce){var ge=me.ixfe[ce-me.c];w={ixfe:ge,XF:S[ge],t:"z"},j>0&&(w.z=W[w.ixfe>>8&63]),Qo(w,e,n.opts.Date1904),P({c:ce,r:me.r},w,e)}break;case 214:case 516:case 4:w=Ox(me.val,me.ixfe,"s"),w.XF=S[w.ixfe],j>0&&(w.z=W[w.ixfe>>8&63]),Qo(w,e,n.opts.Date1904),P({c:me.c,r:me.r},w,e);break;case 0:case 512:B===1&&(a=me);break;case 252:l=me;break;case 1054:if(I.biff==4){W[j++]=me[1];for(var ve=0;ve<j+163&&Gt[ve]!=me[1];++ve);ve>=163&&ac(me[1],j+163)}else ac(me[1],me[0]);break;case 30:{W[j++]=me;for(var Se=0;Se<j+163&&Gt[Se]!=me;++Se);Se>=163&&ac(me,j+163)}break;case 229:O=O.concat(me);break;case 93:K[me.cmo[0]]=I.lastobj=me;break;case 438:I.lastobj.TxO=me;break;case 127:I.lastobj.ImData=me;break;case 440:for(y=me[0].s.r;y<=me[0].e.r;++y)for(g=me[0].s.c;g<=me[0].e.c;++g)p=e.dense?(i[y]||[])[g]:i[Jt({c:g,r:y})],p&&(p.l=me[1]);break;case 2048:for(y=me[0].s.r;y<=me[0].e.r;++y)for(g=me[0].s.c;g<=me[0].e.c;++g)p=e.dense?(i[y]||[])[g]:i[Jt({c:g,r:y})],p&&p.l&&(p.l.Tooltip=me[1]);break;case 28:{if(I.biff<=5&&I.biff>=2)break;p=e.dense?(i[me[0].r]||[])[me[0].c]:i[Jt(me[0])];var Oe=K[me[2]];p||(e.dense?(i[me[0].r]||(i[me[0].r]=[]),p=i[me[0].r][me[0].c]={t:"z"}):p=i[Jt(me[0])]={t:"z"},a.e.r=Math.max(a.e.r,me[0].r),a.s.r=Math.min(a.s.r,me[0].r),a.e.c=Math.max(a.e.c,me[0].c),a.s.c=Math.min(a.s.c,me[0].c)),p.c||(p.c=[]),v={a:me[1],t:Oe.TxO.t},p.c.push(v)}break;case 2173:EIe(S[me.ixfe],me.ext);break;case 125:{if(!I.cellStyles)break;for(;me.e>=me.s;)X[me.e--]={width:me.w/256,level:me.level||0,hidden:!!(me.flags&1)},ne||(ne=!0,zk(me.w/256)),zu(X[me.e+1])}break;case 520:{var Te={};me.level!=null&&(J[me.r]=Te,Te.level=me.level),me.hidden&&(J[me.r]=Te,Te.hidden=!0),me.hpt&&(J[me.r]=Te,Te.hpt=me.hpt,Te.hpx=gm(me.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||uf(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[de]]=me;break;case 161:i["!margins"]||uf(i["!margins"]={}),i["!margins"].header=me.header,i["!margins"].footer=me.footer;break;case 574:me.RTL&&(D.Views[0].RTL=!0);break;case 146:R=me;break;case 2198:U=me;break;case 140:C=me;break;case 442:c?N.CodeName=me||N.name:D.WBProps.CodeName=me||"ThisWorkbook";break}}else De||console.error("Missing Info for XLS Record 0x"+de.toString(16)),t.l+=fe}return n.SheetNames=zr(s).sort(function(Ue,Le){return Number(Ue)-Number(Le)}).map(function(Ue){return s[Ue].name}),e.bookSheets||(n.Sheets=r),!n.SheetNames.length&&u["!ref"]?(n.SheetNames.push("Sheet1"),n.Sheets&&(n.Sheets.Sheet1=u)):n.Preamble=u,n.Sheets&&G.forEach(function(Ue,Le){n.Sheets[n.SheetNames[Le]]["!autofilter"]=Ue}),n.Strings=l,n.SSF=xr(Gt),I.enc&&(n.Encryption=I.enc),U&&(n.Themes=U),n.Metadata={},C!==void 0&&(n.Metadata.Country=C),z.names.length>0&&(D.Names=z.names),n.Workbook=D,n}var Q0={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function LPe(t,e,n){var r=Wt.find(t,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var i=C7(r,rN,Q0.DSI);for(var s in i)e[s]=i[s]}catch(c){if(n.WTF)throw c}var a=Wt.find(t,"/!SummaryInformation");if(a&&a.size>0)try{var o=C7(a,iN,Q0.SI);for(var l in o)e[l]==null&&(e[l]=o[l])}catch(c){if(n.WTF)throw c}e.HeadingPairs&&e.TitlesOfParts&&(YK(e.HeadingPairs,e.TitlesOfParts,e,n),delete e.HeadingPairs,delete e.TitlesOfParts)}function jPe(t,e){var n=[],r=[],i=[],s=0,a,o=t7(rN,"n"),l=t7(iN,"n");if(t.Props)for(a=zr(t.Props),s=0;s<a.length;++s)(Object.prototype.hasOwnProperty.call(o,a[s])?n:Object.prototype.hasOwnProperty.call(l,a[s])?r:i).push([a[s],t.Props[a[s]]]);if(t.Custprops)for(a=zr(t.Custprops),s=0;s<a.length;++s)Object.prototype.hasOwnProperty.call(t.Props||{},a[s])||(Object.prototype.hasOwnProperty.call(o,a[s])?n:Object.prototype.hasOwnProperty.call(l,a[s])?r:i).push([a[s],t.Custprops[a[s]]]);var c=[];for(s=0;s<i.length;++s)iX.indexOf(i[s][0])>-1||JK.indexOf(i[s][0])>-1||i[s][1]!=null&&c.push(i[s]);r.length&&Wt.utils.cfb_add(e,"/SummaryInformation",S7(r,Q0.SI,l,iN)),(n.length||c.length)&&Wt.utils.cfb_add(e,"/DocumentSummaryInformation",S7(n,Q0.DSI,o,rN,c.length?c:null,Q0.UDI))}function ZX(t,e){e||(e={}),Zk(e),_k(),e.codepage&&xk(e.codepage);var n,r;if(t.FullPaths){if(Wt.find(t,"/encryption"))throw new Error("File is password-protected");n=Wt.find(t,"!CompObj"),r=Wt.find(t,"/Workbook")||Wt.find(t,"/Book")}else{switch(e.type){case"base64":t=ba(Na(t));break;case"binary":t=ba(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}$i(t,0),r={content:t}}var i,s;if(n&&FPe(n),e.bookProps&&!e.bookSheets)i={};else{var a=hn?"buffer":"array";if(r&&r.content)i=OPe(r.content,e);else if((s=Wt.find(t,"PerfectOffice_MAIN"))&&s.content)i=cf.to_workbook(s.content,(e.type=a,e));else if((s=Wt.find(t,"NativeContent_MAIN"))&&s.content)i=cf.to_workbook(s.content,(e.type=a,e));else throw(s=Wt.find(t,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&t.FullPaths&&Wt.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=QIe(t))}var o={};return t.FullPaths&&LPe(t,o,e),i.Props=i.Custprops=o,e.bookFiles&&(i.cfb=t),i}function BPe(t,e){var n=e||{},r=Wt.utils.cfb_new({root:"R"}),i="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":i="/Workbook",n.biff=8;break;case"biff5":i="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return Wt.utils.cfb_add(r,i,eJ(t,n)),n.biff==8&&(t.Props||t.Custprops)&&jPe(t,r),n.biff==8&&t.vbaraw&&ZIe(r,Wt.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),r}var Xy={0:{f:uRe},1:{f:vRe},2:{f:ORe},3:{f:SRe},4:{f:wRe},5:{f:FRe},6:{f:WRe},7:{f:IRe},8:{f:XRe},9:{f:KRe},10:{f:$Re},11:{f:GRe},12:{f:_Re},13:{f:jRe},14:{f:ARe},15:{f:ERe},16:{f:HX},17:{f:zRe},18:{f:RRe},19:{f:Fk},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:z5e},40:{},42:{},43:{f:W3e},44:{f:B3e},45:{f:H3e},46:{f:G3e},47:{f:$3e},48:{},49:{f:hAe},50:{},51:{f:DIe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:mX},62:{f:VRe},63:{f:UIe},64:{f:d5e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:vs,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:o5e},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:gRe},148:{f:hRe,p:16},151:{f:t5e},152:{},153:{f:V5e},154:{},155:{},156:{f:j5e},157:{},158:{},159:{T:1,f:r3e},160:{T:-1},161:{T:1,f:rh},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:JRe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:CIe},336:{T:-1},337:{f:IIe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:nN},357:{},358:{},359:{},360:{T:1},361:{},362:{f:pX},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:n5e},427:{f:r5e},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:s5e},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:mRe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:ZRe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:nN},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:GIe},633:{T:1},634:{T:-1},635:{T:1,f:HIe},636:{T:-1},637:{f:yAe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:A5e},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:f5e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},uN={6:{f:cD},10:{f:iu},12:{f:ci},13:{f:ci},14:{f:Jr},15:{f:Jr},16:{f:ds},17:{f:Jr},18:{f:Jr},19:{f:ci},20:{f:R7},21:{f:R7},23:{f:pX},24:{f:F7},25:{f:Jr},26:{},27:{},28:{f:fNe},29:{},34:{f:Jr},35:{f:P7},38:{f:ds},39:{f:ds},40:{f:ds},41:{f:ds},42:{f:Jr},43:{f:Jr},47:{f:E3e},49:{f:j4e},51:{f:ci},60:{},61:{f:F4e},64:{f:Jr},65:{f:L4e},66:{f:ci},77:{},80:{},81:{},82:{},85:{f:ci},89:{},90:{},91:{},92:{f:T4e},93:{f:mNe},94:{},95:{f:Jr},96:{},97:{},99:{f:Jr},125:{f:mX},128:{f:eNe},129:{f:C4e},130:{f:ci},131:{f:Jr},132:{f:Jr},133:{f:S4e},134:{},140:{f:TNe},141:{f:ci},144:{},146:{f:SNe},151:{},152:{},153:{},154:{},155:{},156:{f:ci},157:{},158:{},160:{f:PNe},161:{f:NNe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:J4e},190:{f:Y4e},193:{f:iu},197:{},198:{},199:{},200:{},201:{},202:{f:Jr},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:ci},220:{},221:{f:Jr},222:{},224:{f:Z4e},225:{f:w4e},226:{f:iu},227:{},229:{f:hNe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:A4e},253:{f:V4e},255:{f:I4e},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:sX},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Jr},353:{f:iu},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:sNe},431:{f:Jr},432:{},433:{},434:{},437:{},438:{f:vNe},439:{f:Jr},440:{f:xNe},441:{},442:{f:zv},443:{},444:{f:ci},445:{},446:{},448:{f:iu},449:{f:P4e,r:2},450:{f:iu},512:{f:N7},513:{f:RNe},515:{f:rNe},516:{f:q4e},517:{f:k7},519:{f:FNe},520:{f:k4e},523:{},545:{f:M7},549:{f:A7},566:{},574:{f:U4e},638:{f:X4e},659:{},1048:{},1054:{f:H4e},1084:{},1212:{f:cNe},2048:{f:bNe},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Fx},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:iu},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:DNe,r:12},2173:{f:TIe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Jr,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:lNe,r:12},2197:{},2198:{f:yIe,r:12},2199:{},2200:{},2201:{},2202:{f:uNe,r:12},2203:{f:iu},2204:{},2205:{},2206:{},2207:{},2211:{f:R4e},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:ci},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:INe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:CNe},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:N7},1:{},2:{f:jNe},3:{f:ONe},4:{f:UNe},5:{f:k7},7:{f:VNe},8:{},9:{f:Fx},11:{},22:{f:ci},30:{f:G4e},31:{},32:{},33:{f:M7},36:{},37:{f:A7},50:{f:WNe},62:{},52:{},67:{},68:{f:ci},69:{},86:{},126:{},127:{f:MNe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:qNe},223:{},234:{},354:{},421:{},518:{f:cD},521:{f:Fx},536:{f:F7},547:{f:P7},561:{},579:{},1030:{f:cD},1033:{f:Fx},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function bt(t,e,n,r){var i=e;if(!isNaN(i)){var s=r||(n||[]).length||0,a=t.next(4);a.write_shift(2,i),a.write_shift(2,s),s>0&&kk(n)&&t.push(n)}}function VPe(t,e,n,r){var i=(n||[]).length||0;if(i<=8224)return bt(t,e,n,i);var s=e;if(!isNaN(s)){for(var a=n.parts||[],o=0,l=0,c=0;c+(a[o]||8224)<=8224;)c+=a[o]||8224,o++;var u=t.next(4);for(u.write_shift(2,s),u.write_shift(2,c),t.push(n.slice(l,l+c)),l+=c;l<i;){for(u=t.next(4),u.write_shift(2,60),c=0;c+(a[o]||8224)<=8224;)c+=a[o]||8224,o++;u.write_shift(2,c),t.push(n.slice(l,l+c)),l+=c}}}function Kv(t,e,n){return t||(t=nt(7)),t.write_shift(2,e),t.write_shift(2,n),t.write_shift(2,0),t.write_shift(1,0),t}function WPe(t,e,n,r){var i=nt(9);return Kv(i,t,e),aX(n,r||"b",i),i}function qPe(t,e,n){var r=nt(8+2*n.length);return Kv(r,t,e),r.write_shift(1,n.length),r.write_shift(n.length,n,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function zPe(t,e,n,r){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?xi(vr(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?bt(t,2,BNe(n,r,i)):bt(t,3,LNe(n,r,i));return;case"b":case"e":bt(t,5,WPe(n,r,e.v,e.t));return;case"s":case"str":bt(t,4,qPe(n,r,(e.v||"").slice(0,255)));return}bt(t,1,Kv(null,n,r))}function HPe(t,e,n,r){var i=Array.isArray(e),s=Dn(e["!ref"]||"A1"),a,o="",l=[];if(s.e.c>255||s.e.r>16383){if(r.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),a=on(s)}for(var c=s.s.r;c<=s.e.r;++c){o=ei(c);for(var u=s.s.c;u<=s.e.c;++u){c===s.s.r&&(l[u]=Rr(u)),a=l[u]+o;var f=i?(e[c]||[])[u]:e[a];f&&zPe(t,f,c,u)}}}function $Pe(t,e){for(var n=e||{},r=ta(),i=0,s=0;s<t.SheetNames.length;++s)t.SheetNames[s]==n.sheet&&(i=s);if(i==0&&n.sheet&&t.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return bt(r,n.biff==4?1033:n.biff==3?521:9,Vk(t,16,n)),HPe(r,t.Sheets[t.SheetNames[i]],i,n),bt(r,10),r.end()}function GPe(t,e,n){bt(t,49,B4e({sz:12,name:"Arial"},n))}function KPe(t,e,n){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&bt(t,1054,$4e(i,e[i],n))})}function XPe(t,e){var n=nt(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),bt(t,2151,n),n=nt(39),n.write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),dX(Dn(e["!ref"]||"A1"),n),n.write_shift(4,4),bt(t,2152,n)}function JPe(t,e){for(var n=0;n<16;++n)bt(t,224,I7({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(r){bt(t,224,I7(r,0,e))})}function YPe(t,e){for(var n=0;n<e["!links"].length;++n){var r=e["!links"][n];bt(t,440,_Ne(r)),r[1].Tooltip&&bt(t,2048,wNe(r))}delete e["!links"]}function QPe(t,e){if(e){var n=0;e.forEach(function(r,i){++n<=256&&r&&bt(t,125,ANe(Mw(i,r),i))})}}function ZPe(t,e,n,r,i){var s=16+sd(i.cellXfs,e,i);if(e.v==null&&!e.bf){bt(t,513,Uf(n,r,s));return}if(e.bf)bt(t,6,C6e(e,n,r,i,s));else switch(e.t){case"d":case"n":var a=e.t=="d"?xi(vr(e.v)):e.v;bt(t,515,iNe(n,r,a,s));break;case"b":case"e":bt(t,517,nNe(n,r,e.v,s,i,e.t));break;case"s":case"str":if(i.bookSST){var o=Xk(i.Strings,e.v,i.revStrings);bt(t,253,W4e(n,r,o,s))}else bt(t,516,z4e(n,r,(e.v||"").slice(0,255),s,i));break;default:bt(t,513,Uf(n,r,s))}}function e8e(t,e,n){var r=ta(),i=n.SheetNames[t],s=n.Sheets[i]||{},a=(n||{}).Workbook||{},o=(a.Sheets||[])[t]||{},l=Array.isArray(s),c=e.biff==8,u,f="",h=[],p=Dn(s["!ref"]||"A1"),v=c?65536:16384;if(p.e.c>255||p.e.r>=v){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,v-1)}bt(r,2057,Vk(n,16,e)),bt(r,13,Ga(1)),bt(r,12,Ga(100)),bt(r,15,Ns(!0)),bt(r,17,Ns(!1)),bt(r,16,Ff(.001)),bt(r,95,Ns(!0)),bt(r,42,Ns(!1)),bt(r,43,Ns(!1)),bt(r,130,Ga(1)),bt(r,128,tNe()),bt(r,131,Ns(!1)),bt(r,132,Ns(!1)),c&&QPe(r,s["!cols"]),bt(r,512,K4e(p,e)),c&&(s["!links"]=[]);for(var g=p.s.r;g<=p.e.r;++g){f=ei(g);for(var y=p.s.c;y<=p.e.c;++y){g===p.s.r&&(h[y]=Rr(y)),u=h[y]+f;var b=l?(s[g]||[])[y]:s[u];b&&(ZPe(r,b,g,y,e),c&&b.l&&s["!links"].push([u,b.l]))}}var _=o.CodeName||o.name||i;return c&&bt(r,574,O4e((a.Views||[])[0])),c&&(s["!merges"]||[]).length&&bt(r,229,pNe(s["!merges"])),c&&YPe(r,s),bt(r,442,oX(_)),c&&XPe(r,s),bt(r,10),r.end()}function t8e(t,e,n){var r=ta(),i=(t||{}).Workbook||{},s=i.Sheets||[],a=i.WBProps||{},o=n.biff==8,l=n.biff==5;if(bt(r,2057,Vk(t,5,n)),n.bookType=="xla"&&bt(r,135),bt(r,225,o?Ga(1200):null),bt(r,193,n4e(2)),l&&bt(r,191),l&&bt(r,192),bt(r,226),bt(r,92,E4e("SheetJS",n)),bt(r,66,Ga(o?1200:1252)),o&&bt(r,353,Ga(0)),o&&bt(r,448),bt(r,317,kNe(t.SheetNames.length)),o&&t.vbaraw&&bt(r,211),o&&t.vbaraw){var c=a.CodeName||"ThisWorkbook";bt(r,442,oX(c))}bt(r,156,Ga(17)),bt(r,25,Ns(!1)),bt(r,18,Ns(!1)),bt(r,19,Ga(0)),o&&bt(r,431,Ns(!1)),o&&bt(r,444,Ga(0)),bt(r,61,M4e()),bt(r,64,Ns(!1)),bt(r,141,Ga(0)),bt(r,34,Ns(P5e(t)=="true")),bt(r,14,Ns(!0)),o&&bt(r,439,Ns(!1)),bt(r,218,Ga(0)),GPe(r,t,n),KPe(r,t.SSF,n),JPe(r,n),o&&bt(r,352,Ns(!1));var u=r.end(),f=ta();o&&bt(f,140,ENe()),o&&n.Strings&&VPe(f,252,N4e(n.Strings)),bt(f,10);var h=f.end(),p=ta(),v=0,g=0;for(g=0;g<t.SheetNames.length;++g)v+=(o?12:11)+(o?2:1)*t.SheetNames[g].length;var y=u.length+v+h.length;for(g=0;g<t.SheetNames.length;++g){var b=s[g]||{};bt(p,133,D4e({pos:y,hs:b.Hidden||0,dt:0,name:t.SheetNames[g]},n)),y+=e[g].length}var _=p.end();if(v!=_.length)throw new Error("BS8 "+v+" != "+_.length);var w=[];return u.length&&w.push(u),_.length&&w.push(_),h.length&&w.push(h),Mi(w)}function n8e(t,e){var n=e||{},r=[];t&&!t.SSF&&(t.SSF=xr(Gt)),t&&t.SSF&&(Jm(),Aw(t.SSF),n.revssf=Iw(t.SSF),n.revssf[t.SSF[65535]]=0,n.ssf=t.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,e6(n),n.cellXfs=[],sd(n.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var i=0;i<t.SheetNames.length;++i)r[r.length]=e8e(i,n,t);return r.unshift(t8e(t,r,n)),Mi(r)}function eJ(t,e){for(var n=0;n<=t.SheetNames.length;++n){var r=t.Sheets[t.SheetNames[n]];if(!(!r||!r["!ref"])){var i=na(r["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return n8e(t,e);case 4:case 3:case 2:return $Pe(t,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function H7(t,e){var n=e||{},r=n.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var i=t.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var s=t.match(/<\/table/i),a=i.index,o=s&&s.index||t.length,l=BDe(t.slice(a,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,u=0,f=0,h=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},v=[];for(a=0;a<l.length;++a){var g=l[a].trim(),y=g.slice(0,3).toLowerCase();if(y=="<tr"){if(++c,n.sheetRows&&n.sheetRows<=c){--c;break}u=0;continue}if(!(y!="<td"&&y!="<th")){var b=g.split(/<\/t[dh]>/i);for(o=0;o<b.length;++o){var _=b[o].trim();if(_.match(/<t[dh]/i)){for(var w=_,C=0;w.charAt(0)=="<"&&(C=w.indexOf(">"))>-1;)w=w.slice(C+1);for(var S=0;S<v.length;++S){var R=v[S];R.s.c==u&&R.s.r<c&&c<=R.e.r&&(u=R.e.c+1,S=-1)}var D=Zt(_.slice(0,_.indexOf(">")));h=D.colspan?+D.colspan:1,((f=+D.rowspan)>1||h>1)&&v.push({s:{r:c,c:u},e:{r:c+(f||1)-1,c:u+h-1}});var N=D.t||D["data-t"]||"";if(!w.length){u+=h;continue}if(w=EK(w),p.s.r>c&&(p.s.r=c),p.e.r<c&&(p.e.r=c),p.s.c>u&&(p.s.c=u),p.e.c<u&&(p.e.c=u),!w.length){u+=h;continue}var k={t:"s",v:w};n.raw||!w.trim().length||N=="s"||(w==="TRUE"?k={t:"b",v:!0}:w==="FALSE"?k={t:"b",v:!1}:isNaN(Mo(w))?isNaN(pm(w).getDate())||(k={t:"d",v:vr(w)},n.cellDates||(k={t:"n",v:xi(k.v)}),k.z=n.dateNF||Gt[14]):k={t:"n",v:Mo(w)}),n.dense?(r[c]||(r[c]=[]),r[c][u]=k):r[Jt({r:c,c:u})]=k,u+=h}}}}return r["!ref"]=on(p),v.length&&(r["!merges"]=v),r}function r8e(t,e,n,r){for(var i=t["!merges"]||[],s=[],a=e.s.c;a<=e.e.c;++a){for(var o=0,l=0,c=0;c<i.length;++c)if(!(i[c].s.r>n||i[c].s.c>a)&&!(i[c].e.r<n||i[c].e.c<a)){if(i[c].s.r<n||i[c].s.c<a){o=-1;break}o=i[c].e.r-i[c].s.r+1,l=i[c].e.c-i[c].s.c+1;break}if(!(o<0)){var u=Jt({r:n,c:a}),f=r.dense?(t[n]||[])[a]:t[u],h=f&&f.v!=null&&(f.h||Ak(f.w||(gc(f),f.w)||""))||"",p={};o>1&&(p.rowspan=o),l>1&&(p.colspan=l),r.editable?h='<span contenteditable="true">'+h+"</span>":f&&(p["data-t"]=f&&f.t||"z",f.v!=null&&(p["data-v"]=f.v),f.z!=null&&(p["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),p.id=(r.id||"sjs")+"-"+u,s.push(xt("td",h,p))}}var v="<tr>";return v+s.join("")+"</tr>"}var i8e='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',s8e="</body></html>";function a8e(t,e){var n=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!n||n.length==0)throw new Error("Invalid HTML: could not find <table>");if(n.length==1)return id(H7(n[0],e),e);var r=r6();return n.forEach(function(i,s){i6(r,H7(i,e),"Sheet"+(s+1))}),r}function o8e(t,e,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function tJ(t,e){var n=e||{},r=n.header!=null?n.header:i8e,i=n.footer!=null?n.footer:s8e,s=[r],a=na(t["!ref"]);n.dense=Array.isArray(t),s.push(o8e(t,a,n));for(var o=a.s.r;o<=a.e.r;++o)s.push(r8e(t,a,o,n));return s.push("</table>"+i),s.join("")}function nJ(t,e,n){var r=n||{},i=0,s=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var a=typeof r.origin=="string"?Pr(r.origin):r.origin;i=a.r,s=a.c}var o=e.getElementsByTagName("tr"),l=Math.min(r.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:i,c:s}};if(t["!ref"]){var u=na(t["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),i==-1&&(c.e.r=i=u.e.r+1)}var f=[],h=0,p=t["!rows"]||(t["!rows"]=[]),v=0,g=0,y=0,b=0,_=0,w=0;for(t["!cols"]||(t["!cols"]=[]);v<o.length&&g<l;++v){var C=o[v];if($7(C)){if(r.display)continue;p[g]={hidden:!0}}var S=C.children;for(y=b=0;y<S.length;++y){var R=S[y];if(!(r.display&&$7(R))){var D=R.hasAttribute("data-v")?R.getAttribute("data-v"):R.hasAttribute("v")?R.getAttribute("v"):EK(R.innerHTML),N=R.getAttribute("data-z")||R.getAttribute("z");for(h=0;h<f.length;++h){var k=f[h];k.s.c==b+s&&k.s.r<g+i&&g+i<=k.e.r&&(b=k.e.c+1-s,h=-1)}w=+R.getAttribute("colspan")||1,((_=+R.getAttribute("rowspan")||1)>1||w>1)&&f.push({s:{r:g+i,c:b+s},e:{r:g+i+(_||1)-1,c:b+s+(w||1)-1}});var F={t:"s",v:D},P=R.getAttribute("data-t")||R.getAttribute("t")||"";D!=null&&(D.length==0?F.t=P||"z":r.raw||D.trim().length==0||P=="s"||(D==="TRUE"?F={t:"b",v:!0}:D==="FALSE"?F={t:"b",v:!1}:isNaN(Mo(D))?isNaN(pm(D).getDate())||(F={t:"d",v:vr(D)},r.cellDates||(F={t:"n",v:xi(F.v)}),F.z=r.dateNF||Gt[14]):F={t:"n",v:Mo(D)})),F.z===void 0&&N!=null&&(F.z=N);var I="",U=R.getElementsByTagName("A");if(U&&U.length)for(var O=0;O<U.length&&!(U[O].hasAttribute("href")&&(I=U[O].getAttribute("href"),I.charAt(0)!="#"));++O);I&&I.charAt(0)!="#"&&(F.l={Target:I}),r.dense?(t[g+i]||(t[g+i]=[]),t[g+i][b+s]=F):t[Jt({c:b+s,r:g+i})]=F,c.e.c<b+s&&(c.e.c=b+s),b+=w}}++g}return f.length&&(t["!merges"]=(t["!merges"]||[]).concat(f)),c.e.r=Math.max(c.e.r,g-1+i),t["!ref"]=on(c),g>=l&&(t["!fullref"]=on((c.e.r=o.length-v+g-1+i,c))),t}function rJ(t,e){var n=e||{},r=n.dense?[]:{};return nJ(r,t,e)}function l8e(t,e){return id(rJ(t,e),e)}function $7(t){var e="",n=c8e(t);return n&&(e=n(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function c8e(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function u8e(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(r,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),n=Sn(e.replace(/<[^>]*>/g,""));return[n]}var G7={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function iJ(t,e){var n=e||{},r=Nk(t),i=[],s,a,o={name:""},l="",c=0,u,f,h={},p=[],v=n.dense?[]:{},g,y,b={value:""},_="",w=0,C=[],S=-1,R=-1,D={s:{r:1e6,c:1e7},e:{r:0,c:0}},N=0,k={},F=[],P={},I=0,U=0,O=[],K=1,X=1,J=[],ne={Names:[]},z={},Q=["",""],B=[],j={},W="",G=0,Y=!1,ee=!1,ae=0;for(qy.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");g=qy.exec(r);)switch(g[3]=g[3].replace(/_.*$/,"")){case"table":case"":g[1]==="/"?(D.e.c>=D.s.c&&D.e.r>=D.s.r?v["!ref"]=on(D):v["!ref"]="A1:A1",n.sheetRows>0&&n.sheetRows<=D.e.r&&(v["!fullref"]=v["!ref"],D.e.r=n.sheetRows-1,v["!ref"]=on(D)),F.length&&(v["!merges"]=F),O.length&&(v["!rows"]=O),u.name=u.||u.name,typeof JSON<"u"&&JSON.stringify(u),p.push(u.name),h[u.name]=v,ee=!1):g[0].charAt(g[0].length-2)!=="/"&&(u=Zt(g[0],!1),S=R=-1,D.s.r=D.s.c=1e7,D.e.r=D.e.c=0,v=n.dense?[]:{},F=[],O=[],ee=!0);break;case"table-row-group":g[1]==="/"?--N:++N;break;case"table-row":case"":if(g[1]==="/"){S+=K,K=1;break}if(f=Zt(g[0],!1),f.?S=f.-1:S==-1&&(S=0),K=+f["number-rows-repeated"]||1,K<10)for(ae=0;ae<K;++ae)N>0&&(O[S+ae]={level:N});R=-1;break;case"covered-table-cell":g[1]!=="/"&&++R,n.sheetStubs&&(n.dense?(v[S]||(v[S]=[]),v[S][R]={t:"z"}):v[Jt({r:S,c:R})]={t:"z"}),_="",C=[];break;case"table-cell":case"":if(g[0].charAt(g[0].length-2)==="/")++R,b=Zt(g[0],!1),X=parseInt(b["number-columns-repeated"]||"1",10),y={t:"z",v:null},b.formula&&n.cellFormula!=!1&&(y.f=W7(Sn(b.formula))),(b.||b["value-type"])=="string"&&(y.t="s",y.v=Sn(b["string-value"]||""),n.dense?(v[S]||(v[S]=[]),v[S][R]=y):v[Jt({r:S,c:R})]=y),R+=X-1;else if(g[1]!=="/"){++R,_="",w=0,C=[],X=1;var de=K?S+K-1:S;if(R>D.e.c&&(D.e.c=R),R<D.s.c&&(D.s.c=R),S<D.s.r&&(D.s.r=S),de>D.e.r&&(D.e.r=de),b=Zt(g[0],!1),B=[],j={},y={t:b.||b["value-type"],v:null},n.cellFormula)if(b.formula&&(b.formula=Sn(b.formula)),b["number-matrix-columns-spanned"]&&b["number-matrix-rows-spanned"]&&(I=parseInt(b["number-matrix-rows-spanned"],10)||0,U=parseInt(b["number-matrix-columns-spanned"],10)||0,P={s:{r:S,c:R},e:{r:S+I-1,c:R+U-1}},y.F=on(P),J.push([P,y.F])),b.formula)y.f=W7(b.formula);else for(ae=0;ae<J.length;++ae)S>=J[ae][0].s.r&&S<=J[ae][0].e.r&&R>=J[ae][0].s.c&&R<=J[ae][0].e.c&&(y.F=J[ae][1]);switch((b["number-columns-spanned"]||b["number-rows-spanned"])&&(I=parseInt(b["number-rows-spanned"],10)||0,U=parseInt(b["number-columns-spanned"],10)||0,P={s:{r:S,c:R},e:{r:S+I-1,c:R+U-1}},F.push(P)),b["number-columns-repeated"]&&(X=parseInt(b["number-columns-repeated"],10)),y.t){case"boolean":y.t="b",y.v=pr(b["boolean-value"]);break;case"float":y.t="n",y.v=parseFloat(b.value);break;case"percentage":y.t="n",y.v=parseFloat(b.value);break;case"currency":y.t="n",y.v=parseFloat(b.value);break;case"date":y.t="d",y.v=vr(b["date-value"]),n.cellDates||(y.t="n",y.v=xi(y.v)),y.z="m/d/yy";break;case"time":y.t="n",y.v=ODe(b["time-value"])/86400,n.cellDates&&(y.t="d",y.v=kw(y.v)),y.z="HH:MM:SS";break;case"number":y.t="n",y.v=parseFloat(b.);break;default:if(y.t==="string"||y.t==="text"||!y.t)y.t="s",b["string-value"]!=null&&(_=Sn(b["string-value"]),C=[]);else throw new Error("Unsupported value type "+y.t)}}else{if(Y=!1,y.t==="s"&&(y.v=_||"",C.length&&(y.R=C),Y=w==0),z.Target&&(y.l=z),B.length>0&&(y.c=B,B=[]),_&&n.cellText!==!1&&(y.w=_),Y&&(y.t="z",delete y.v),(!Y||n.sheetStubs)&&!(n.sheetRows&&n.sheetRows<=S))for(var fe=0;fe<K;++fe){if(X=parseInt(b["number-columns-repeated"]||"1",10),n.dense)for(v[S+fe]||(v[S+fe]=[]),v[S+fe][R]=fe==0?y:xr(y);--X>0;)v[S+fe][R+X]=xr(y);else for(v[Jt({r:S+fe,c:R})]=y;--X>0;)v[Jt({r:S+fe,c:R+X})]=xr(y);D.e.c<=R&&(D.e.c=R)}X=parseInt(b["number-columns-repeated"]||"1",10),R+=X-1,X=0,y={},_="",C=[]}z={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(g[1]==="/"){if((s=i.pop())[0]!==g[3])throw"Bad state: "+s}else g[0].charAt(g[0].length-2)!=="/"&&i.push([g[3],!0]);break;case"annotation":if(g[1]==="/"){if((s=i.pop())[0]!==g[3])throw"Bad state: "+s;j.t=_,C.length&&(j.R=C),j.a=W,B.push(j)}else g[0].charAt(g[0].length-2)!=="/"&&i.push([g[3],!1]);W="",G=0,_="",w=0,C=[];break;case"creator":g[1]==="/"?W=r.slice(G,g.index):G=g.index+g[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(g[1]==="/"){if((s=i.pop())[0]!==g[3])throw"Bad state: "+s}else g[0].charAt(g[0].length-2)!=="/"&&i.push([g[3],!1]);_="",w=0,C=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(g[1]==="/"){if(k[o.name]=l,(s=i.pop())[0]!==g[3])throw"Bad state: "+s}else g[0].charAt(g[0].length-2)!=="/"&&(l="",o=Zt(g[0],!1),i.push([g[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":a=Zt(g[0],!1),l+=G7[g[3]][a.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":a=Zt(g[0],!1),l+=G7[g[3]][a.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(g[0].slice(-2)==="/>")break;if(g[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":l+=r.slice(c,g.index);break}else c=g.index+g[0].length;break;case"named-range":a=Zt(g[0],!1),Q=uD(a["cell-range-address"]);var De={Name:a.name,Ref:Q[0]+"!"+Q[1]};ee&&(De.Sheet=p.length),ne.Names.push(De);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(g[1]==="/"&&(!b||!b["string-value"])){var Pe=u8e(r.slice(w,g.index));_=(_.length>0?_+`
`:"")+Pe[0]}else Zt(g[0],!1),w=g.index+g[0].length;break;case"s":break;case"database-range":if(g[1]==="/")break;try{Q=uD(Zt(g[0])["target-range-address"]),h[Q[0]]["!autofilter"]={ref:Q[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(g[1]!=="/"){if(z=Zt(g[0],!1),!z.href)break;z.Target=Sn(z.href),delete z.href,z.Target.charAt(0)=="#"&&z.Target.indexOf(".")>-1?(Q=uD(z.Target.slice(1)),z.Target="#"+Q[0]+"!"+Q[1]):z.Target.match(/^\.\.[\\\/]/)&&(z.Target=z.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(g[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(n.WTF)throw new Error(g)}}var me={Sheets:h,SheetNames:p,Workbook:ne};return n.bookSheets&&delete me.Sheets,me}function K7(t,e){e=e||{},$a(t,"META-INF/manifest.xml")&&OAe(li(t,"META-INF/manifest.xml"),e);var n=wa(t,"content.xml");if(!n)throw new Error("Missing content.xml in ODS / UOF file");var r=iJ(Jn(n),e);return $a(t,"meta.xml")&&(r.Props=KK(li(t,"meta.xml"))),r}function X7(t,e){return iJ(t,e)}var d8e=(function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Wy({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return ni+e}})(),J7=(function(){var t=function(s){return $n(s).replace(/  +/g,function(a){return'<text:s text:c="'+a.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,n=`          <table:covered-table-cell/>
`,r=function(s,a,o){var l=[];l.push('      <table:table table:name="'+$n(a.SheetNames[o])+`" table:style-name="ta1">
`);var c=0,u=0,f=na(s["!ref"]||"A1"),h=s["!merges"]||[],p=0,v=Array.isArray(s);if(s["!cols"])for(u=0;u<=f.e.c;++u)l.push("        <table:table-column"+(s["!cols"][u]?' table:style-name="co'+s["!cols"][u].ods+'"':"")+`></table:table-column>
`);var g="",y=s["!rows"]||[];for(c=0;c<f.s.r;++c)g=y[c]?' table:style-name="ro'+y[c].ods+'"':"",l.push("        <table:table-row"+g+`></table:table-row>
`);for(;c<=f.e.r;++c){for(g=y[c]?' table:style-name="ro'+y[c].ods+'"':"",l.push("        <table:table-row"+g+`>
`),u=0;u<f.s.c;++u)l.push(e);for(;u<=f.e.c;++u){var b=!1,_={},w="";for(p=0;p!=h.length;++p)if(!(h[p].s.c>u)&&!(h[p].s.r>c)&&!(h[p].e.c<u)&&!(h[p].e.r<c)){(h[p].s.c!=u||h[p].s.r!=c)&&(b=!0),_["table:number-columns-spanned"]=h[p].e.c-h[p].s.c+1,_["table:number-rows-spanned"]=h[p].e.r-h[p].s.r+1;break}if(b){l.push(n);continue}var C=Jt({r:c,c:u}),S=v?(s[c]||[])[u]:s[C];if(S&&S.f&&(_["table:formula"]=$n(k6e(S.f)),S.F&&S.F.slice(0,C.length)==C)){var R=na(S.F);_["table:number-matrix-columns-spanned"]=R.e.c-R.s.c+1,_["table:number-matrix-rows-spanned"]=R.e.r-R.s.r+1}if(!S){l.push(e);continue}switch(S.t){case"b":w=S.v?"TRUE":"FALSE",_["office:value-type"]="boolean",_["office:boolean-value"]=S.v?"true":"false";break;case"n":w=S.w||String(S.v||0),_["office:value-type"]="float",_["office:value"]=S.v||0;break;case"s":case"str":w=S.v==null?"":S.v,_["office:value-type"]="string";break;case"d":w=S.w||vr(S.v).toISOString(),_["office:value-type"]="date",_["office:date-value"]=vr(S.v).toISOString(),_["table:style-name"]="ce1";break;default:l.push(e);continue}var D=t(w);if(S.l&&S.l.Target){var N=S.l.Target;N=N.charAt(0)=="#"?"#"+R6e(N.slice(1)):N,N.charAt(0)!="#"&&!N.match(/^\w+:/)&&(N="../"+N),D=xt("text:a",D,{"xlink:href":N.replace(/&/g,"&amp;")})}l.push("          "+xt("table:table-cell",xt("text:p",D,{}),_)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},i=function(s,a){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var o=0;a.SheetNames.map(function(c){return a.Sheets[c]}).forEach(function(c){if(c&&c["!cols"]){for(var u=0;u<c["!cols"].length;++u)if(c["!cols"][u]){var f=c["!cols"][u];if(f.width==null&&f.wpx==null&&f.wch==null)continue;zu(f),f.ods=o;var h=c["!cols"][u].wpx+"px";s.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+`"/>
`),s.push(`  </style:style>
`),++o}}});var l=0;a.SheetNames.map(function(c){return a.Sheets[c]}).forEach(function(c){if(c&&c["!rows"]){for(var u=0;u<c["!rows"].length;++u)if(c["!rows"][u]){c["!rows"][u].ods=l;var f=c["!rows"][u].hpx+"px";s.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),s.push(`  </style:style>
`),++l}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(a,o){var l=[ni],c=Wy({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=Wy({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(l.push("<office:document"+c+u+`>
`),l.push(GK().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+c+`>
`),i(l,a),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var f=0;f!=a.SheetNames.length;++f)l.push(r(a.Sheets[a.SheetNames[f]],a,f));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),o.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}})();function sJ(t,e){if(e.bookType=="fods")return J7(t,e);var n=Ck(),r="",i=[],s=[];return r="mimetype",cn(n,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",cn(n,r,J7(t,e)),i.push([r,"text/xml"]),s.push([r,"ContentFile"]),r="styles.xml",cn(n,r,d8e(t,e)),i.push([r,"text/xml"]),s.push([r,"StylesFile"]),r="meta.xml",cn(n,r,ni+GK()),i.push([r,"text/xml"]),s.push([r,"MetadataFile"]),r="manifest.rdf",cn(n,r,BAe(s)),i.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",cn(n,r,LAe(i)),n}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Of(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function dN(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):Jn(rd(t))}function f8e(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):ba(pl(t))}function h8e(t,e){e:for(var n=0;n<=t.length-e.length;++n){for(var r=0;r<e.length;++r)if(t[n+r]!=e[r])continue e;return!0}return!1}function $u(t){var e=t.reduce(function(i,s){return i+s.length},0),n=new Uint8Array(e),r=0;return t.forEach(function(i){n.set(i,r),r+=i.length}),n}function Y7(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function p8e(t,e){for(var n=(t[e+15]&127)<<7|t[e+14]>>1,r=t[e+14]&1,i=e+13;i>=e;--i)r=r*256+t[i];return(t[e+15]&128?-r:r)*Math.pow(10,n-6176)}function m8e(t,e,n){var r=Math.floor(n==0?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,i=n/Math.pow(10,r-6176);t[e+15]|=r>>7,t[e+14]|=(r&127)<<1;for(var s=0;i>=1;++s,i/=256)t[e+s]=i&255;t[e+15]|=n>=0?0:128}function Jy(t,e){var n=e?e[0]:0,r=t[n]&127;e:if(t[n++]>=128&&(r|=(t[n]&127)<<7,t[n++]<128||(r|=(t[n]&127)<<14,t[n++]<128)||(r|=(t[n]&127)<<21,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,28),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,35),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,42),++n,t[n++]<128)))break e;return e&&(e[0]=n),r}function qn(t){var e=new Uint8Array(7);e[0]=t&127;var n=1;e:if(t>127){if(e[n-1]|=128,e[n]=t>>7&127,++n,t<=16383||(e[n-1]|=128,e[n]=t>>14&127,++n,t<=2097151)||(e[n-1]|=128,e[n]=t>>21&127,++n,t<=268435455)||(e[n-1]|=128,e[n]=t/256>>>21&127,++n,t<=34359738367)||(e[n-1]|=128,e[n]=t/65536>>>21&127,++n,t<=4398046511103))break e;e[n-1]|=128,e[n]=t/16777216>>>21&127,++n}return e.slice(0,n)}function Vr(t){var e=0,n=t[e]&127;e:if(t[e++]>=128){if(n|=(t[e]&127)<<7,t[e++]<128||(n|=(t[e]&127)<<14,t[e++]<128)||(n|=(t[e]&127)<<21,t[e++]<128))break e;n|=(t[e]&127)<<28}return n}function In(t){for(var e=[],n=[0];n[0]<t.length;){var r=n[0],i=Jy(t,n),s=i&7;i=Math.floor(i/8);var a=0,o;if(i==0)break;switch(s){case 0:{for(var l=n[0];t[n[0]++]>=128;);o=t.slice(l,n[0])}break;case 5:a=4,o=t.slice(n[0],n[0]+a),n[0]+=a;break;case 1:a=8,o=t.slice(n[0],n[0]+a),n[0]+=a;break;case 2:a=Jy(t,n),o=t.slice(n[0],n[0]+a),n[0]+=a;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(r))}var c={data:o,type:s};e[i]==null?e[i]=[c]:e[i].push(c)}return e}function zi(t){var e=[];return t.forEach(function(n,r){n.forEach(function(i){i.data&&(e.push(qn(r*8+i.type)),i.type==2&&e.push(qn(i.data.length)),e.push(i.data))})}),$u(e)}function Qk(t,e){return(t==null?void 0:t.map(function(n){return e(n.data)}))||[]}function za(t){for(var e,n=[],r=[0];r[0]<t.length;){var i=Jy(t,r),s=In(t.slice(r[0],r[0]+i));r[0]+=i;var a={id:Vr(s[1][0].data),messages:[]};s[2].forEach(function(o){var l=In(o.data),c=Vr(l[3][0].data);a.messages.push({meta:l,data:t.slice(r[0],r[0]+c)}),r[0]+=c}),(e=s[3])!=null&&e[0]&&(a.merge=Vr(s[3][0].data)>>>0>0),n.push(a)}return n}function Qh(t){var e=[];return t.forEach(function(n){var r=[];r[1]=[{data:qn(n.id),type:0}],r[2]=[],n.merge!=null&&(r[3]=[{data:qn(+!!n.merge),type:0}]);var i=[];n.messages.forEach(function(a){i.push(a.data),a.meta[3]=[{type:0,data:qn(a.data.length)}],r[2].push({data:zi(a.meta),type:2})});var s=zi(r);e.push(qn(s.length)),e.push(s),i.forEach(function(a){return e.push(a)})}),$u(e)}function g8e(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var n=[0],r=Jy(e,n),i=[];n[0]<e.length;){var s=e[n[0]]&3;if(s==0){var a=e[n[0]++]>>2;if(a<60)++a;else{var o=a-59;a=e[n[0]],o>1&&(a|=e[n[0]+1]<<8),o>2&&(a|=e[n[0]+2]<<16),o>3&&(a|=e[n[0]+3]<<24),a>>>=0,a++,n[0]+=o}i.push(e.slice(n[0],n[0]+a)),n[0]+=a;continue}else{var l=0,c=0;if(s==1?(c=(e[n[0]]>>2&7)+4,l=(e[n[0]++]&224)<<3,l|=e[n[0]++]):(c=(e[n[0]++]>>2)+1,s==2?(l=e[n[0]]|e[n[0]+1]<<8,n[0]+=2):(l=(e[n[0]]|e[n[0]+1]<<8|e[n[0]+2]<<16|e[n[0]+3]<<24)>>>0,n[0]+=4)),i=[$u(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(i.push(i[0].slice(-l)),c-=l;c>=i[i.length-1].length;)i.push(i[i.length-1]),c-=i[i.length-1].length;i.push(i[0].slice(-l,-l+c))}}var u=$u(i);if(u.length!=r)throw new Error("Unexpected length: ".concat(u.length," != ").concat(r));return u}function Ha(t){for(var e=[],n=0;n<t.length;){var r=t[n++],i=t[n]|t[n+1]<<8|t[n+2]<<16;n+=3,e.push(g8e(r,t.slice(n,n+i))),n+=i}if(n!==t.length)throw new Error("data is not a valid framed stream!");return $u(e)}function Zh(t){for(var e=[],n=0;n<t.length;){var r=Math.min(t.length-n,268435455),i=new Uint8Array(4);e.push(i);var s=qn(r),a=s.length;e.push(s),r<=60?(a++,e.push(new Uint8Array([r-1<<2]))):r<=256?(a+=2,e.push(new Uint8Array([240,r-1&255]))):r<=65536?(a+=3,e.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(a+=4,e.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(a+=5,e.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),e.push(t.slice(n,n+r)),a+=r,i[0]=0,i[1]=a&255,i[2]=a>>8&255,i[3]=a>>16&255,n+=r}return $u(e)}function y8e(t,e,n,r){var i=Of(t),s=i.getUint32(4,!0),a=(r>1?12:8)+Y7(s&(r>1?3470:398))*4,o=-1,l=-1,c=NaN,u=new Date(2001,0,1);s&512&&(o=i.getUint32(a,!0),a+=4),a+=Y7(s&(r>1?12288:4096))*4,s&16&&(l=i.getUint32(a,!0),a+=4),s&32&&(c=i.getFloat64(a,!0),a+=8),s&64&&(u.setTime(u.getTime()+i.getFloat64(a,!0)*1e3),a+=8);var f;switch(t[2]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:e[l]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:n[o]};else if(l>-1)f={t:"s",v:e[l]};else if(!isNaN(c))f={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return f}function v8e(t,e,n){var r=Of(t),i=r.getUint32(8,!0),s=12,a=-1,o=-1,l=NaN,c=NaN,u=new Date(2001,0,1);i&1&&(l=p8e(t,s),s+=16),i&2&&(c=r.getFloat64(s,!0),s+=8),i&4&&(u.setTime(u.getTime()+r.getFloat64(s,!0)*1e3),s+=8),i&8&&(o=r.getUint32(s,!0),s+=4),i&16&&(a=r.getUint32(s,!0),s+=4);var f;switch(t[1]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:e[o]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(a>-1)f={t:"s",v:n[a]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)));break;case 10:f={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)))}return f}function fD(t,e){var n=new Uint8Array(32),r=Of(n),i=12,s=0;switch(n[0]=5,t.t){case"n":n[1]=2,m8e(n,i,t.v),s|=1,i+=16;break;case"b":n[1]=6,r.setFloat64(i,t.v?1:0,!0),s|=2,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[1]=3,r.setUint32(i,e.indexOf(t.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(8,s,!0),n.slice(0,i)}function hD(t,e){var n=new Uint8Array(32),r=Of(n),i=12,s=0;switch(n[0]=3,t.t){case"n":n[2]=2,r.setFloat64(i,t.v,!0),s|=32,i+=8;break;case"b":n[2]=6,r.setFloat64(i,t.v?1:0,!0),s|=32,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[2]=3,r.setUint32(i,e.indexOf(t.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(4,s,!0),n.slice(0,i)}function x8e(t,e,n){switch(t[0]){case 0:case 1:case 2:case 3:return y8e(t,e,n,t[0]);case 5:return v8e(t,e,n);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function os(t){var e=In(t);return Jy(e[1][0].data)}function Q7(t,e){var n=In(e.data),r=Vr(n[1][0].data),i=n[3],s=[];return(i||[]).forEach(function(a){var o=In(a.data),l=Vr(o[1][0].data)>>>0;switch(r){case 1:s[l]=dN(o[3][0].data);break;case 8:{var c=t[os(o[9][0].data)][0],u=In(c.data),f=t[os(u[1][0].data)][0],h=Vr(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var p=In(f.data);s[l]=p[3].map(function(v){return dN(v.data)}).join("")}break}}),s}function _8e(t,e){var n,r,i,s,a,o,l,c,u,f,h,p,v,g,y=In(t),b=Vr(y[1][0].data)>>>0,_=Vr(y[2][0].data)>>>0,w=((r=(n=y[8])==null?void 0:n[0])==null?void 0:r.data)&&Vr(y[8][0].data)>0||!1,C,S;if((s=(i=y[7])==null?void 0:i[0])!=null&&s.data&&e!=0)C=(o=(a=y[7])==null?void 0:a[0])==null?void 0:o.data,S=(c=(l=y[6])==null?void 0:l[0])==null?void 0:c.data;else if((f=(u=y[4])==null?void 0:u[0])!=null&&f.data&&e!=1)C=(p=(h=y[4])==null?void 0:h[0])==null?void 0:p.data,S=(g=(v=y[3])==null?void 0:v[0])==null?void 0:g.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var R=w?4:1,D=Of(C),N=[],k=0;k<C.length/2;++k){var F=D.getUint16(k*2,!0);F<65535&&N.push([k,F])}if(N.length!=_)throw"Expected ".concat(_," cells, found ").concat(N.length);var P=[];for(k=0;k<N.length-1;++k)P[N[k][0]]=S.subarray(N[k][1]*R,N[k+1][1]*R);return N.length>=1&&(P[N[N.length-1][0]]=S.subarray(N[N.length-1][1]*R)),{R:b,cells:P}}function b8e(t,e){var n,r=In(e.data),i=(n=r==null?void 0:r[7])!=null&&n[0]?Vr(r[7][0].data)>>>0>0?1:0:-1,s=Qk(r[5],function(a){return _8e(a,i)});return{nrows:Vr(r[4][0].data)>>>0,data:s.reduce(function(a,o){return a[o.R]||(a[o.R]=[]),o.cells.forEach(function(l,c){if(a[o.R][c])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(c));a[o.R][c]=l}),a},[])}}function w8e(t,e,n){var r,i=In(e.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(Vr(i[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(s.e.c=(Vr(i[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));n["!ref"]=on(s);var a=In(i[4][0].data),o=Q7(t,t[os(a[4][0].data)][0]),l=(r=a[17])!=null&&r[0]?Q7(t,t[os(a[17][0].data)][0]):[],c=In(a[3][0].data),u=0;c[1].forEach(function(f){var h=In(f.data),p=t[os(h[2][0].data)][0],v=Vr(p.meta[1][0].data);if(v!=6002)throw new Error("6001 unexpected reference to ".concat(v));var g=b8e(t,p);g.data.forEach(function(y,b){y.forEach(function(_,w){var C=Jt({r:u+b,c:w}),S=x8e(_,o,l);S&&(n[C]=S)})}),u+=g.nrows})}function T8e(t,e){var n=In(e.data),r={"!ref":"A1"},i=t[os(n[2][0].data)],s=Vr(i[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return w8e(t,i[0],r),r}function E8e(t,e){var n,r=In(e.data),i={name:(n=r[1])!=null&&n[0]?dN(r[1][0].data):"",sheets:[]},s=Qk(r[2],os);return s.forEach(function(a){t[a].forEach(function(o){var l=Vr(o.meta[1][0].data);l==6e3&&i.sheets.push(T8e(t,o))})}),i}function C8e(t,e){var n=r6(),r=In(e.data),i=Qk(r[1],os);if(i.forEach(function(s){t[s].forEach(function(a){var o=Vr(a.meta[1][0].data);if(o==2){var l=E8e(t,a);l.sheets.forEach(function(c,u){i6(n,c,u==0?l.name:l.name+"_"+u,!0)})}})}),n.SheetNames.length==0)throw new Error("Empty NUMBERS file");return n}function pD(t){var e,n,r,i,s={},a=[];if(t.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=Ha(l.content)}catch(f){return console.log("?? "+l.content.length+" "+(f.message||f))}var u;try{u=za(c)}catch(f){return console.log("## "+(f.message||f))}u.forEach(function(f){s[f.id]=f.messages,a.push(f.id)})}}),!a.length)throw new Error("File has no messages");var o=((i=(r=(n=(e=s==null?void 0:s[1])==null?void 0:e[0])==null?void 0:n.meta)==null?void 0:r[1])==null?void 0:i[0].data)&&Vr(s[1][0].meta[1][0].data)==1&&s[1][0];if(o||a.forEach(function(l){s[l].forEach(function(c){var u=Vr(c.meta[1][0].data)>>>0;if(u==1)if(!o)o=c;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return C8e(s,o)}function S8e(t,e,n){var r,i,s,a;if(!((r=t[6])!=null&&r[0])||!((i=t[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var o=((a=(s=t[8])==null?void 0:s[0])==null?void 0:a.data)&&Vr(t[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var l=0,c=Of(t[7][0].data),u=0,f=[],h=Of(t[4][0].data),p=0,v=[],g=0;g<e.length;++g){if(e[g]==null){c.setUint16(g*2,65535,!0),h.setUint16(g*2,65535);continue}c.setUint16(g*2,u,!0),h.setUint16(g*2,p,!0);var y,b;switch(typeof e[g]){case"string":y=fD({t:"s",v:e[g]},n),b=hD({t:"s",v:e[g]},n);break;case"number":y=fD({t:"n",v:e[g]},n),b=hD({t:"n",v:e[g]},n);break;case"boolean":y=fD({t:"b",v:e[g]},n),b=hD({t:"b",v:e[g]},n);break;default:throw new Error("Unsupported value "+e[g])}f.push(y),u+=y.length,v.push(b),p+=b.length,++l}for(t[2][0].data=qn(l);g<t[7][0].data.length/2;++g)c.setUint16(g*2,65535,!0),h.setUint16(g*2,65535,!0);return t[6][0].data=$u(f),t[3][0].data=$u(v),l}function D8e(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=na(n["!ref"]);r.s.r=r.s.c=0;var i=!1;r.e.c>9&&(i=!0,r.e.c=9),r.e.r>49&&(i=!0,r.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(on(r)));var s=X_(n,{range:r,header:1}),a=["~Sh33tJ5~"];s.forEach(function(W){return W.forEach(function(G){typeof G=="string"&&a.push(G)})});var o={},l=[],c=Wt.read(e.numbers,{type:"base64"});c.FileIndex.map(function(W,G){return[W,c.FullPaths[G]]}).forEach(function(W){var G=W[0],Y=W[1];if(G.type==2&&G.name.match(/\.iwa/)){var ee=G.content,ae=Ha(ee),de=za(ae);de.forEach(function(fe){l.push(fe.id),o[fe.id]={deps:[],location:Y,type:Vr(fe.messages[0].meta[1][0].data)}})}}),l.sort(function(W,G){return W-G});var u=l.filter(function(W){return W>1}).map(function(W){return[W,qn(W)]});c.FileIndex.map(function(W,G){return[W,c.FullPaths[G]]}).forEach(function(W){var G=W[0];if(W[1],!!G.name.match(/\.iwa/)){var Y=za(Ha(G.content));Y.forEach(function(ee){ee.messages.forEach(function(ae){u.forEach(function(de){ee.messages.some(function(fe){return Vr(fe.meta[1][0].data)!=11006&&h8e(fe.data,de[1])})&&o[de[0]].deps.push(ee.id)})})})}});for(var f=Wt.find(c,o[1].location),h=za(Ha(f.content)),p,v=0;v<h.length;++v){var g=h[v];g.id==1&&(p=g)}var y=os(In(p.messages[0].data)[1][0].data);for(f=Wt.find(c,o[y].location),h=za(Ha(f.content)),v=0;v<h.length;++v)g=h[v],g.id==y&&(p=g);for(y=os(In(p.messages[0].data)[2][0].data),f=Wt.find(c,o[y].location),h=za(Ha(f.content)),v=0;v<h.length;++v)g=h[v],g.id==y&&(p=g);for(y=os(In(p.messages[0].data)[2][0].data),f=Wt.find(c,o[y].location),h=za(Ha(f.content)),v=0;v<h.length;++v)g=h[v],g.id==y&&(p=g);var b=In(p.messages[0].data);{b[6][0].data=qn(r.e.r+1),b[7][0].data=qn(r.e.c+1);var _=os(b[46][0].data),w=Wt.find(c,o[_].location),C=za(Ha(w.content));{for(var S=0;S<C.length&&C[S].id!=_;++S);if(C[S].id!=_)throw"Bad ColumnRowUIDMapArchive";var R=In(C[S].messages[0].data);R[1]=[],R[2]=[],R[3]=[];for(var D=0;D<=r.e.c;++D){var N=[];N[1]=N[2]=[{type:0,data:qn(D+420690)}],R[1].push({type:2,data:zi(N)}),R[2].push({type:0,data:qn(D)}),R[3].push({type:0,data:qn(D)})}R[4]=[],R[5]=[],R[6]=[];for(var k=0;k<=r.e.r;++k)N=[],N[1]=N[2]=[{type:0,data:qn(k+726270)}],R[4].push({type:2,data:zi(N)}),R[5].push({type:0,data:qn(k)}),R[6].push({type:0,data:qn(k)});C[S].messages[0].data=zi(R)}w.content=Zh(Qh(C)),w.size=w.content.length,delete b[46];var F=In(b[4][0].data);{F[7][0].data=qn(r.e.r+1);var P=In(F[1][0].data),I=os(P[2][0].data);w=Wt.find(c,o[I].location),C=za(Ha(w.content));{if(C[0].id!=I)throw"Bad HeaderStorageBucket";var U=In(C[0].messages[0].data);for(k=0;k<s.length;++k){var O=In(U[2][0].data);O[1][0].data=qn(k),O[4][0].data=qn(s[k].length),U[2][k]={type:U[2][0].type,data:zi(O)}}C[0].messages[0].data=zi(U)}w.content=Zh(Qh(C)),w.size=w.content.length;var K=os(F[2][0].data);w=Wt.find(c,o[K].location),C=za(Ha(w.content));{if(C[0].id!=K)throw"Bad HeaderStorageBucket";for(U=In(C[0].messages[0].data),D=0;D<=r.e.c;++D)O=In(U[2][0].data),O[1][0].data=qn(D),O[4][0].data=qn(r.e.r+1),U[2][D]={type:U[2][0].type,data:zi(O)};C[0].messages[0].data=zi(U)}w.content=Zh(Qh(C)),w.size=w.content.length;var X=os(F[4][0].data);(function(){for(var W=Wt.find(c,o[X].location),G=za(Ha(W.content)),Y,ee=0;ee<G.length;++ee){var ae=G[ee];ae.id==X&&(Y=ae)}var de=In(Y.messages[0].data);{de[3]=[];var fe=[];a.forEach(function(me,je){fe[1]=[{type:0,data:qn(je)}],fe[2]=[{type:0,data:qn(1)}],fe[3]=[{type:2,data:f8e(me)}],de[3].push({type:2,data:zi(fe)})})}Y.messages[0].data=zi(de);var De=Qh(G),Pe=Zh(De);W.content=Pe,W.size=W.content.length})();var J=In(F[3][0].data);{var ne=J[1][0];delete J[2];var z=In(ne.data);{var Q=os(z[2][0].data);(function(){for(var W=Wt.find(c,o[Q].location),G=za(Ha(W.content)),Y,ee=0;ee<G.length;++ee){var ae=G[ee];ae.id==Q&&(Y=ae)}var de=In(Y.messages[0].data);{delete de[6],delete J[7];var fe=new Uint8Array(de[5][0].data);de[5]=[];for(var De=0,Pe=0;Pe<=r.e.r;++Pe){var me=In(fe);De+=S8e(me,s[Pe],a),me[1][0].data=qn(Pe),de[5].push({data:zi(me),type:2})}de[1]=[{type:0,data:qn(r.e.c+1)}],de[2]=[{type:0,data:qn(r.e.r+1)}],de[3]=[{type:0,data:qn(De)}],de[4]=[{type:0,data:qn(r.e.r+1)}]}Y.messages[0].data=zi(de);var je=Qh(G),V=Zh(je);W.content=V,W.size=W.content.length})()}ne.data=zi(z)}F[3][0].data=zi(J)}b[4][0].data=zi(F)}p.messages[0].data=zi(b);var B=Qh(h),j=Zh(B);return f.content=j,f.size=f.content.length,c}function aJ(t){return function(n){for(var r=0;r!=t.length;++r){var i=t[r];n[i[0]]===void 0&&(n[i[0]]=i[1]),i[2]==="n"&&(n[i[0]]=Number(n[i[0]]))}}}function Zk(t){aJ([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function e6(t){aJ([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function A8e(t){return mn.WS.indexOf(t)>-1?"sheet":t==mn.CS?"chart":t==mn.DS?"dialog":t==mn.MS?"macro":t&&t.length?t:"sheet"}function N8e(t,e){if(!t)return 0;try{t=e.map(function(r){return r.id||(r.id=r.strRelID),[r.name,t["!id"][r.id].Target,A8e(t["!id"][r.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function I8e(t,e,n,r,i,s,a,o,l,c,u,f){try{s[r]=K0(wa(t,n,!0),e);var h=li(t,e),p;switch(o){case"sheet":p=Q5e(h,e,i,l,s[r],c,u,f);break;case"chart":if(p=Z5e(h,e,i,l,s[r],c,u,f),!p||!p["!drawel"])break;var v=_0(p["!drawel"].Target,e),g=zy(v),y=jIe(wa(t,v,!0),K0(wa(t,g,!0),v)),b=_0(y,v),_=zy(b);p=S5e(wa(t,b,!0),b,l,K0(wa(t,_,!0),b),c,p);break;case"macro":p=ePe(h,e,i,l,s[r],c,u,f);break;case"dialog":p=tPe(h,e,i,l,s[r],c,u,f);break;default:throw new Error("Unrecognized sheet type "+o)}a[r]=p;var w=[];s&&s[r]&&zr(s[r]).forEach(function(C){var S="";if(s[r][C].Type==mn.CMNT){S=_0(s[r][C].Target,e);var R=sPe(li(t,S,!0),S,l);if(!R||!R.length)return;O7(p,R,!1)}s[r][C].Type==mn.TCMNT&&(S=_0(s[r][C].Target,e),w=w.concat(VIe(li(t,S,!0),l)))}),w&&w.length&&O7(p,w,!0,l.people||[])}catch(C){if(l.WTF)throw C}}function Ba(t){return t.charAt(0)=="/"?t.slice(1):t}function k8e(t,e){if(Jm(),e=e||{},Zk(e),$a(t,"META-INF/manifest.xml")||$a(t,"objectdata.xml"))return K7(t,e);if($a(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof pD<"u"){if(t.FileIndex)return pD(t);var n=Wt.utils.cfb_new();return i7(t).forEach(function(O){cn(n,O,WDe(t,O))}),pD(n)}throw new Error("Unsupported NUMBERS file")}if(!$a(t,"[Content_Types].xml"))throw $a(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):$a(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var r=i7(t),i=MAe(wa(t,"[Content_Types].xml")),s=!1,a,o;if(i.workbooks.length===0&&(o="xl/workbook.xml",li(t,o,!0)&&i.workbooks.push(o)),i.workbooks.length===0){if(o="xl/workbook.bin",!li(t,o,!0))throw new Error("Could not find workbook");i.workbooks.push(o),s=!0}i.workbooks[0].slice(-3)=="bin"&&(s=!0);var l={},c={};if(!e.bookSheets&&!e.bookProps){if(X0=[],i.sst)try{X0=iPe(li(t,Ba(i.sst)),i.sst,e)}catch(O){if(e.WTF)throw O}e.cellStyles&&i.themes.length&&(l=rPe(wa(t,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],e)),i.style&&(c=nPe(li(t,Ba(i.style)),i.style,l,e))}i.links.map(function(O){try{var K=K0(wa(t,zy(Ba(O))),O);return oPe(li(t,Ba(O)),K,O,e)}catch{}});var u=Y5e(li(t,Ba(i.workbooks[0])),i.workbooks[0],e),f={},h="";i.coreprops.length&&(h=li(t,Ba(i.coreprops[0]),!0),h&&(f=KK(h)),i.extprops.length!==0&&(h=li(t,Ba(i.extprops[0]),!0),h&&WAe(h,f,e)));var p={};(!e.bookSheets||e.bookProps)&&i.custprops.length!==0&&(h=wa(t,Ba(i.custprops[0]),!0),h&&(p=zAe(h,e)));var v={};if((e.bookSheets||e.bookProps)&&(u.Sheets?a=u.Sheets.map(function(K){return K.name}):f.Worksheets&&f.SheetNames.length>0&&(a=f.SheetNames),e.bookProps&&(v.Props=f,v.Custprops=p),e.bookSheets&&typeof a<"u"&&(v.SheetNames=a),e.bookSheets?v.SheetNames:e.bookProps))return v;a={};var g={};e.bookDeps&&i.calcchain&&(g=aPe(li(t,Ba(i.calcchain)),i.calcchain));var y=0,b={},_,w;{var C=u.Sheets;f.Worksheets=C.length,f.SheetNames=[];for(var S=0;S!=C.length;++S)f.SheetNames[S]=C[S].name}var R=s?"bin":"xml",D=i.workbooks[0].lastIndexOf("/"),N=(i.workbooks[0].slice(0,D+1)+"_rels/"+i.workbooks[0].slice(D+1)+".rels").replace(/^\//,"");$a(t,N)||(N="xl/_rels/workbook."+R+".rels");var k=K0(wa(t,N,!0),N.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(e.xlmeta=lPe(li(t,Ba(i.metadata[0])),i.metadata[0],e)),(i.people||[]).length>=1&&(e.people=qIe(li(t,Ba(i.people[0])),e)),k&&(k=N8e(k,u.Sheets));var F=li(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(y=0;y!=f.Worksheets;++y){var P="sheet";if(k&&k[y]?(_="xl/"+k[y][1].replace(/[\/]?xl\//,""),$a(t,_)||(_=k[y][1]),$a(t,_)||(_=N.replace(/_rels\/.*$/,"")+k[y][1]),P=k[y][2]):(_="xl/worksheets/sheet"+(y+1-F)+"."+R,_=_.replace(/sheet0\./,"sheet.")),w=_.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(y!=e.sheets)continue e;break;case"string":if(f.SheetNames[y].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var I=!1,U=0;U!=e.sheets.length;++U)typeof e.sheets[U]=="number"&&e.sheets[U]==y&&(I=1),typeof e.sheets[U]=="string"&&e.sheets[U].toLowerCase()==f.SheetNames[y].toLowerCase()&&(I=1);if(!I)continue e}}I8e(t,_,w,f.SheetNames[y],y,b,a,P,e,u,l,c)}return v={Directory:i,Workbook:u,Props:f,Custprops:p,Deps:g,Sheets:a,SheetNames:f.SheetNames,Strings:X0,Styles:c,Themes:l,SSF:xr(Gt)},e&&e.bookFiles&&(t.files?(v.keys=r,v.files=t.files):(v.keys=[],v.files={},t.FullPaths.forEach(function(O,K){O=O.replace(/^Root Entry[\/]/,""),v.keys.push(O),v.files[O]=t.FileIndex[K]}))),e&&e.bookVBA&&(i.vba.length>0?v.vbaraw=li(t,Ba(i.vba[0]),!0):i.defaults&&i.defaults.bin===YIe&&(v.vbaraw=li(t,"xl/vbaProject.bin",!0))),v}function R8e(t,e){var n=e||{},r="Workbook",i=Wt.find(t,r);try{if(r="/!DataSpaces/Version",i=Wt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(l3e(i.content),r="/!DataSpaces/DataSpaceMap",i=Wt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var s=u3e(i.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=Wt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var a=d3e(i.content);if(a.length!=1||a[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=Wt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);h3e(i.content)}catch{}if(r="/EncryptionInfo",i=Wt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var o=p3e(i.content);if(r="/EncryptedPackage",i=Wt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],i.content,n.password||"",n);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],i.content,n.password||"",n);throw new Error("File is password-protected")}function P8e(t,e){return e.bookType=="ods"?sJ(t,e):e.bookType=="numbers"?D8e(t,e):e.bookType=="xlsb"?F8e(t,e):M8e(t,e)}function F8e(t,e){vp=1024,t&&!t.SSF&&(t.SSF=xr(Gt)),t&&t.SSF&&(Jm(),Aw(t.SSF),e.revssf=Iw(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,J0?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n=e.bookType=="xlsb"?"bin":"xml",r=PX.indexOf(e.bookType)>-1,i=jk();e6(e=e||{});var s=Ck(),a="",o=0;if(e.cellXfs=[],sd(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),a="docProps/core.xml",cn(s,a,XK(t.Props,e)),i.coreprops.push(a),zn(e.rels,2,a,mn.CORE_PROPS),a="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],c=0;c<t.SheetNames.length;++c)(t.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(t.SheetNames[c]);t.Props.SheetNames=l}for(t.Props.Worksheets=t.Props.SheetNames.length,cn(s,a,QK(t.Props)),i.extprops.push(a),zn(e.rels,3,a,mn.EXT_PROPS),t.Custprops!==t.Props&&zr(t.Custprops||{}).length>0&&(a="docProps/custom.xml",cn(s,a,ZK(t.Custprops)),i.custprops.push(a),zn(e.rels,4,a,mn.CUST_PROPS)),o=1;o<=t.SheetNames.length;++o){var u={"!id":{}},f=t.Sheets[t.SheetNames[o-1]],h=(f||{})["!type"]||"sheet";switch(h){case"chart":default:a="xl/worksheets/sheet"+o+"."+n,cn(s,a,uPe(o-1,a,e,t,u)),i.sheets.push(a),zn(e.wbrels,-1,"worksheets/sheet"+o+"."+n,mn.WS[0])}if(f){var p=f["!comments"],v=!1,g="";p&&p.length>0&&(g="xl/comments"+o+"."+n,cn(s,g,hPe(p,g)),i.comments.push(g),zn(u,-1,"../comments"+o+"."+n,mn.CMNT),v=!0),f["!legacy"]&&v&&cn(s,"xl/drawings/vmlDrawing"+o+".vml",kX(o,f["!comments"])),delete f["!comments"],delete f["!legacy"]}u["!id"].rId1&&cn(s,zy(a),Rp(u))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+n,cn(s,a,fPe(e.Strings,a,e)),i.strs.push(a),zn(e.wbrels,-1,"sharedStrings."+n,mn.SST)),a="xl/workbook."+n,cn(s,a,cPe(t,a)),i.workbooks.push(a),zn(e.rels,1,a,mn.WB),a="xl/theme/theme1.xml",cn(s,a,Hk(t.Themes,e)),i.themes.push(a),zn(e.wbrels,-1,"theme/theme1.xml",mn.THEME),a="xl/styles."+n,cn(s,a,dPe(t,a,e)),i.styles.push(a),zn(e.wbrels,-1,"styles."+n,mn.STY),t.vbaraw&&r&&(a="xl/vbaProject.bin",cn(s,a,t.vbaraw),i.vba.push(a),zn(e.wbrels,-1,"vbaProject.bin",mn.VBA)),a="xl/metadata."+n,cn(s,a,pPe(a)),i.metadata.push(a),zn(e.wbrels,-1,"metadata."+n,mn.XLMETA),cn(s,"[Content_Types].xml",$K(i,e)),cn(s,"_rels/.rels",Rp(e.rels)),cn(s,"xl/_rels/workbook."+n+".rels",Rp(e.wbrels)),delete e.revssf,delete e.ssf,s}function M8e(t,e){vp=1024,t&&!t.SSF&&(t.SSF=xr(Gt)),t&&t.SSF&&(Jm(),Aw(t.SSF),e.revssf=Iw(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,J0?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n="xml",r=PX.indexOf(e.bookType)>-1,i=jk();e6(e=e||{});var s=Ck(),a="",o=0;if(e.cellXfs=[],sd(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),a="docProps/core.xml",cn(s,a,XK(t.Props,e)),i.coreprops.push(a),zn(e.rels,2,a,mn.CORE_PROPS),a="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],c=0;c<t.SheetNames.length;++c)(t.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(t.SheetNames[c]);t.Props.SheetNames=l}t.Props.Worksheets=t.Props.SheetNames.length,cn(s,a,QK(t.Props)),i.extprops.push(a),zn(e.rels,3,a,mn.EXT_PROPS),t.Custprops!==t.Props&&zr(t.Custprops||{}).length>0&&(a="docProps/custom.xml",cn(s,a,ZK(t.Custprops)),i.custprops.push(a),zn(e.rels,4,a,mn.CUST_PROPS));var u=["SheetJ5"];for(e.tcid=0,o=1;o<=t.SheetNames.length;++o){var f={"!id":{}},h=t.Sheets[t.SheetNames[o-1]],p=(h||{})["!type"]||"sheet";switch(p){case"chart":default:a="xl/worksheets/sheet"+o+"."+n,cn(s,a,zX(o-1,e,t,f)),i.sheets.push(a),zn(e.wbrels,-1,"worksheets/sheet"+o+"."+n,mn.WS[0])}if(h){var v=h["!comments"],g=!1,y="";if(v&&v.length>0){var b=!1;v.forEach(function(_){_[1].forEach(function(w){w.T==!0&&(b=!0)})}),b&&(y="xl/threadedComments/threadedComment"+o+"."+n,cn(s,y,WIe(v,u,e)),i.threadedcomments.push(y),zn(f,-1,"../threadedComments/threadedComment"+o+"."+n,mn.TCMNT)),y="xl/comments"+o+"."+n,cn(s,y,RX(v)),i.comments.push(y),zn(f,-1,"../comments"+o+"."+n,mn.CMNT),g=!0}h["!legacy"]&&g&&cn(s,"xl/drawings/vmlDrawing"+o+".vml",kX(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&cn(s,zy(a),Rp(f))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+n,cn(s,a,xX(e.Strings,e)),i.strs.push(a),zn(e.wbrels,-1,"sharedStrings."+n,mn.SST)),a="xl/workbook."+n,cn(s,a,XX(t)),i.workbooks.push(a),zn(e.rels,1,a,mn.WB),a="xl/theme/theme1.xml",cn(s,a,Hk(t.Themes,e)),i.themes.push(a),zn(e.wbrels,-1,"theme/theme1.xml",mn.THEME),a="xl/styles."+n,cn(s,a,DX(t,e)),i.styles.push(a),zn(e.wbrels,-1,"styles."+n,mn.STY),t.vbaraw&&r&&(a="xl/vbaProject.bin",cn(s,a,t.vbaraw),i.vba.push(a),zn(e.wbrels,-1,"vbaProject.bin",mn.VBA)),a="xl/metadata."+n,cn(s,a,IX()),i.metadata.push(a),zn(e.wbrels,-1,"metadata."+n,mn.XLMETA),u.length>1&&(a="xl/persons/person.xml",cn(s,a,zIe(u)),i.people.push(a),zn(e.wbrels,-1,"persons/person.xml",mn.PEOPLE)),cn(s,"[Content_Types].xml",$K(i,e)),cn(s,"_rels/.rels",Rp(e.rels)),cn(s,"xl/_rels/workbook."+n+".rels",Rp(e.wbrels)),delete e.revssf,delete e.ssf,s}function t6(t,e){var n="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":n=Na(t.slice(0,12));break;case"binary":n=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function U8e(t,e){return Wt.find(t,"EncryptedPackage")?R8e(t,e):ZX(t,e)}function O8e(t,e){var n,r=t,i=e||{};return i.type||(i.type=hn&&Buffer.isBuffer(t)?"buffer":"base64"),n=bK(r,i),k8e(n,i)}function oJ(t,e){var n=0;e:for(;n<t.length;)switch(t.charCodeAt(n)){case 10:case 13:case 32:++n;break;case 60:return cN(t.slice(n),e);default:break e}return mm.to_workbook(t,e)}function L8e(t,e){var n="",r=t6(t,e);switch(e.type){case"base64":n=Na(t);break;case"binary":n=t;break;case"buffer":n=t.toString("binary");break;case"array":n=Pf(t);break;default:throw new Error("Unrecognized type "+e.type)}return r[0]==239&&r[1]==187&&r[2]==191&&(n=Jn(n)),e.type="binary",oJ(n,e)}function j8e(t,e){var n=t;return e.type=="base64"&&(n=Na(n)),n=Ly.utils.decode(1200,n.slice(2),"str"),e.type="binary",oJ(n,e)}function B8e(t){return t.match(/[^\x00-\x7F]/)?pl(t):t}function mD(t,e,n,r){return r?(n.type="string",mm.to_workbook(t,n)):mm.to_workbook(e,n)}function fN(t,e){_k();var n=e||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return fN(new Uint8Array(t),(n=xr(n),n.type="array",n));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!n.type&&(n.type=typeof Deno<"u"?"buffer":"array");var r=t,i=[0,0,0,0],s=!1;if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),Fp={},n.dateNF&&(Fp.dateNF=n.dateNF),n.type||(n.type=hn&&Buffer.isBuffer(t)?"buffer":"base64"),n.type=="file"&&(n.type=hn?"buffer":"binary",r=FDe(t),typeof Uint8Array<"u"&&!hn&&(n.type="array")),n.type=="string"&&(s=!0,n.type="binary",n.codepage=65001,r=B8e(t)),n.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var a=new ArrayBuffer(3),o=new Uint8Array(a);if(o.foo="bar",!o.foo)return n=xr(n),n.type="array",fN(bk(r),n)}switch((i=t6(r,n))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return U8e(Wt.read(r,n),n);break;case 9:if(i[1]<=8)return ZX(r,n);break;case 60:return cN(r,n);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return HNe(r,n);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return yX.to_workbook(r,n);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?O8e(r,n):mD(t,r,n,s);case 239:return i[3]===60?cN(r,n):mD(t,r,n,s);case 255:if(i[1]===254)return j8e(r,n);if(i[1]===0&&i[2]===2&&i[3]===0)return cf.to_workbook(r,n);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return cf.to_workbook(r,n);break;case 3:case 131:case 139:case 140:return lN.to_workbook(r,n);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return EX.to_workbook(r,n);break;case 10:case 13:case 32:return L8e(r,n);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return zNe.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?lN.to_workbook(r,n):mD(t,r,n,s)}function lJ(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Vv(e.file,Wt.write(t,{type:hn?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Wt.write(t,e)}function V8e(t,e){var n=xr(e||{}),r=P8e(t,n);return W8e(r,n)}function W8e(t,e){var n={},r=hn?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(n.compression="DEFLATE"),e.password)n.type=r;else switch(e.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":n.type=r;break;default:throw new Error("Unrecognized type "+e.type)}var i=t.FullPaths?Wt.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!e.compression}):t.generate(n);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(Dw(i))}return e.password&&typeof encrypt_agile<"u"?lJ(encrypt_agile(i,e.password),e):e.type==="file"?Vv(e.file,i):e.type=="string"?Jn(i):i}function q8e(t,e){var n=e||{},r=BPe(t,n);return lJ(r,n)}function nl(t,e,n){n||(n="");var r=n+t;switch(e.type){case"base64":return jy(pl(r));case"binary":return pl(r);case"string":return t;case"file":return Vv(e.file,r,"utf8");case"buffer":return hn?Dc(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):nl(r,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function z8e(t,e){switch(e.type){case"base64":return jy(t);case"binary":return t;case"string":return t;case"file":return Vv(e.file,t,"binary");case"buffer":return hn?Dc(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Lx(t,e){switch(e.type){case"string":case"base64":case"binary":for(var n="",r=0;r<t.length;++r)n+=String.fromCharCode(t[r]);return e.type=="base64"?jy(n):e.type=="string"?Jn(n):n;case"file":return Vv(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function cJ(t,e){_k(),U5e(t);var n=xr(e||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),n.type=="array"){n.type="binary";var r=cJ(t,n);return n.type="array",Dw(r)}var i=0;if(n.sheet&&(typeof n.sheet=="number"?i=n.sheet:i=t.SheetNames.indexOf(n.sheet),!t.SheetNames[i]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return nl(PPe(t,n),n);case"slk":case"sylk":return nl(gX.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"htm":case"html":return nl(tJ(t.Sheets[t.SheetNames[i]],n),n);case"txt":return z8e(uJ(t.Sheets[t.SheetNames[i]],n),n);case"csv":return nl(n6(t.Sheets[t.SheetNames[i]],n),n,"\uFEFF");case"dif":return nl(yX.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"dbf":return Lx(lN.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"prn":return nl(mm.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"rtf":return nl(EX.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"eth":return nl(vX.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"fods":return nl(sJ(t,n),n);case"wk1":return Lx(cf.sheet_to_wk1(t.Sheets[t.SheetNames[i]],n),n);case"wk3":return Lx(cf.book_to_wk3(t,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),Lx(eJ(t,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),q8e(t,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return V8e(t,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function H8e(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},n=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();n.match(/^\.[a-z]+$/)&&(t.bookType=n.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function $8e(t,e,n){var r={};return r.type="file",r.file=e,H8e(r),cJ(t,r)}function G8e(t,e,n,r,i,s,a,o){var l=ei(n),c=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,h=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:n,enumerable:!1})}catch{h.__rowNum__=n}else h.__rowNum__=n;if(!a||t[n])for(var p=e.s.c;p<=e.e.c;++p){var v=a?t[n][p]:t[r[p]+l];if(v===void 0||v.t===void 0){if(c===void 0)continue;s[p]!=null&&(h[s[p]]=c);continue}var g=v.v;switch(v.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+v.t)}if(s[p]!=null){if(g==null)if(v.t=="e"&&g===null)h[s[p]]=null;else if(c!==void 0)h[s[p]]=c;else if(u&&g===null)h[s[p]]=null;else continue;else h[s[p]]=u&&(v.t!=="n"||v.t==="n"&&o.rawNumbers!==!1)?g:gc(v,g,o);g!=null&&(f=!1)}}return{row:h,isempty:f}}function X_(t,e){if(t==null||t["!ref"]==null)return[];var n={t:"n",v:0},r=0,i=1,s=[],a=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=e||{},u=c.range!=null?c.range:t["!ref"];switch(c.header===1?r=1:c.header==="A"?r=2:Array.isArray(c.header)?r=3:c.header==null&&(r=0),typeof u){case"string":l=Dn(u);break;case"number":l=Dn(t["!ref"]),l.s.r=u;break;default:l=u}r>0&&(i=0);var f=ei(l.s.r),h=[],p=[],v=0,g=0,y=Array.isArray(t),b=l.s.r,_=0,w={};y&&!t[b]&&(t[b]=[]);var C=c.skipHidden&&t["!cols"]||[],S=c.skipHidden&&t["!rows"]||[];for(_=l.s.c;_<=l.e.c;++_)if(!(C[_]||{}).hidden)switch(h[_]=Rr(_),n=y?t[b][_]:t[h[_]+f],r){case 1:s[_]=_-l.s.c;break;case 2:s[_]=h[_];break;case 3:s[_]=c.header[_-l.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),o=a=gc(n,null,c),g=w[a]||0,!g)w[a]=1;else{do o=a+"_"+g++;while(w[o]);w[a]=g,w[o]=1}s[_]=o}for(b=l.s.r+i;b<=l.e.r;++b)if(!(S[b]||{}).hidden){var R=G8e(t,l,b,h,r,s,y,c);(R.isempty===!1||(r===1?c.blankrows!==!1:c.blankrows))&&(p[v++]=R.row)}return p.length=v,p}var Z7=/"/g;function K8e(t,e,n,r,i,s,a,o){for(var l=!0,c=[],u="",f=ei(n),h=e.s.c;h<=e.e.c;++h)if(r[h]){var p=o.dense?(t[n]||[])[h]:t[r[h]+f];if(p==null)u="";else if(p.v!=null){l=!1,u=""+(o.rawNumbers&&p.t=="n"?p.v:gc(p,null,o));for(var v=0,g=0;v!==u.length;++v)if((g=u.charCodeAt(v))===i||g===s||g===34||o.forceQuotes){u='"'+u.replace(Z7,'""')+'"';break}u=="ID"&&(u='"ID"')}else p.f!=null&&!p.F?(l=!1,u="="+p.f,u.indexOf(",")>=0&&(u='"'+u.replace(Z7,'""')+'"')):u="";c.push(u)}return o.blankrows===!1&&l?null:c.join(a)}function n6(t,e){var n=[],r=e??{};if(t==null||t["!ref"]==null)return"";var i=Dn(t["!ref"]),s=r.FS!==void 0?r.FS:",",a=s.charCodeAt(0),o=r.RS!==void 0?r.RS:`
`,l=o.charCodeAt(0),c=new RegExp((s=="|"?"\\|":s)+"+$"),u="",f=[];r.dense=Array.isArray(t);for(var h=r.skipHidden&&t["!cols"]||[],p=r.skipHidden&&t["!rows"]||[],v=i.s.c;v<=i.e.c;++v)(h[v]||{}).hidden||(f[v]=Rr(v));for(var g=0,y=i.s.r;y<=i.e.r;++y)(p[y]||{}).hidden||(u=K8e(t,i,y,f,a,l,s,r),u!=null&&(r.strip&&(u=u.replace(c,"")),(u||r.blankrows!==!1)&&n.push((g++?o:"")+u)));return delete r.dense,n.join("")}function uJ(t,e){e||(e={}),e.FS="	",e.RS=`
`;var n=n6(t,e);return n}function X8e(t){var e="",n,r="";if(t==null||t["!ref"]==null)return[];var i=Dn(t["!ref"]),s="",a=[],o,l=[],c=Array.isArray(t);for(o=i.s.c;o<=i.e.c;++o)a[o]=Rr(o);for(var u=i.s.r;u<=i.e.r;++u)for(s=ei(u),o=i.s.c;o<=i.e.c;++o)if(e=a[o]+s,n=c?(t[u]||[])[o]:t[e],r="",n!==void 0){if(n.F!=null){if(e=n.F,!n.f)continue;r=n.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}l[l.length]=e+"="+r}return l}function dJ(t,e,n){var r=n||{},i=+!r.skipHeader,s=t||{},a=0,o=0;if(s&&r.origin!=null)if(typeof r.origin=="number")a=r.origin;else{var l=typeof r.origin=="string"?Pr(r.origin):r.origin;a=l.r,o=l.c}var c,u={s:{c:0,r:0},e:{c:o,r:a+e.length-1+i}};if(s["!ref"]){var f=Dn(s["!ref"]);u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),a==-1&&(a=f.e.r+1,u.e.r=a+e.length-1+i)}else a==-1&&(a=0,u.e.r=e.length-1+i);var h=r.header||[],p=0;e.forEach(function(g,y){zr(g).forEach(function(b){(p=h.indexOf(b))==-1&&(h[p=h.length]=b);var _=g[b],w="z",C="",S=Jt({c:o+p,r:a+y+i});c=Yy(s,S),_&&typeof _=="object"&&!(_ instanceof Date)?s[S]=_:(typeof _=="number"?w="n":typeof _=="boolean"?w="b":typeof _=="string"?w="s":_ instanceof Date?(w="d",r.cellDates||(w="n",_=xi(_)),C=r.dateNF||Gt[14]):_===null&&r.nullError&&(w="e",_=0),c?(c.t=w,c.v=_,delete c.w,delete c.R,C&&(c.z=C)):s[S]=c={t:w,v:_},C&&(c.z=C))})}),u.e.c=Math.max(u.e.c,o+h.length-1);var v=ei(a);if(i)for(p=0;p<h.length;++p)s[Rr(p+o)+v]={t:"s",v:h[p]};return s["!ref"]=on(u),s}function J8e(t,e){return dJ(null,t,e)}function Yy(t,e,n){if(typeof e=="string"){if(Array.isArray(t)){var r=Pr(e);return t[r.r]||(t[r.r]=[]),t[r.r][r.c]||(t[r.r][r.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?Yy(t,Jt(e)):Yy(t,Jt({r:e,c:n||0}))}function Y8e(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var n=t.SheetNames.indexOf(e);if(n>-1)return n;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function r6(){return{SheetNames:[],Sheets:{}}}function i6(t,e,n,r){var i=1;if(!n)for(;i<=65535&&t.SheetNames.indexOf(n="Sheet"+i)!=-1;++i,n=void 0);if(!n||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&t.SheetNames.indexOf(n)>=0){var s=n.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var a=s&&s[1]||n;for(++i;i<=65535&&t.SheetNames.indexOf(n=a+i)!=-1;++i);}if(KX(n),t.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return t.SheetNames.push(n),t.Sheets[n]=e,n}function Q8e(t,e,n){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var r=Y8e(t,e);switch(t.Workbook.Sheets[r]||(t.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}t.Workbook.Sheets[r].Hidden=n}function Z8e(t,e){return t.z=e,t}function fJ(t,e,n){return e?(t.l={Target:e},n&&(t.l.Tooltip=n)):delete t.l,t}function eFe(t,e,n){return fJ(t,"#"+e,n)}function tFe(t,e,n){t.c||(t.c=[]),t.c.push({t:e,a:n||"SheetJS"})}function nFe(t,e,n,r){for(var i=typeof e!="string"?e:Dn(e),s=typeof e=="string"?e:on(e),a=i.s.r;a<=i.e.r;++a)for(var o=i.s.c;o<=i.e.c;++o){var l=Yy(t,a,o);l.t="n",l.F=s,delete l.v,a==i.s.r&&o==i.s.c&&(l.f=n,r&&(l.D=!0))}return t}var jx={encode_col:Rr,encode_row:ei,encode_cell:Jt,encode_range:on,decode_col:Pk,decode_row:Rk,split_cell:fAe,decode_cell:Pr,decode_range:na,format_cell:gc,sheet_add_aoa:jK,sheet_add_json:dJ,sheet_add_dom:nJ,aoa_to_sheet:Ym,json_to_sheet:J8e,table_to_sheet:rJ,table_to_book:l8e,sheet_to_csv:n6,sheet_to_txt:uJ,sheet_to_json:X_,sheet_to_html:tJ,sheet_to_formulae:X8e,sheet_to_row_object_array:X_,sheet_get_cell:Yy,book_new:r6,book_append_sheet:i6,book_set_sheet_visibility:Q8e,cell_set_number_format:Z8e,cell_set_hyperlink:fJ,cell_set_internal_link:eFe,cell_add_comment:tFe,sheet_set_array_formula:nFe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function s6(t,e){return t.indexOf(e)!==-1}function ep(t,e,n){const r=n[e];if(!r)return null;for(const i of Object.keys(r)){const s=r[i];for(const a of s)if(s6(t,String(a)))return i}return null}function rFe(t,e,n){const r=n[e];if(!r)return[];const i=[];for(const s of Object.keys(r)){const a=r[s];for(const o of a)if(s6(t,String(o))){i.push(s);break}}return i}function iFe(t){if(!t)return t;let e=t.trim();return e=e.replace(/\s+/g," "),e=e.replace(/(^|\s)(?=[\u0600-\u06FF])/g,"$1"),e.toLowerCase()}function sFe(t,e){let n=t.trim(),r="string";return!isNaN(Number(n))&&n!==""?(n=parseFloat(n),r="number"):(n.toLowerCase()===""||n.toLowerCase()==="")&&(n=n.toLowerCase()==="",r="boolean"),{value:n,valueType:r}}function aFe(t,e,n={}){const r=t;let i=iFe(r);const s={intent:null,target:null,movement:null,index:null,startIndex:null,endIndex:null,position:null,color:null,conditions:[],references:[],useReference:!1,isNegated:!1,raw:r};for(const u of e.negationWords||[])if(s6(i,u)){s.isNegated=!0,i=i.replace(u,"");break}s.intent=ep(i,"intents",e),s.target=ep(i,"targets",e),s.position=ep(i,"positions",e),s.color=ep(i,"colors",e),s.movement=ep(i,"movements",e);const a=rFe(i,"numbers",e).map(u=>isNaN(Number(u))?u:parseInt(String(u),10)),o=(i.match(/\b(\d+)\b/g)||[]).map(Number),l=[...new Set([...a,...o])].filter(u=>u!==null).map(Number);l.length>0&&(ep(i,"rangeWords",e)&&l.length>=2?(s.startIndex=Math.min(...l),s.endIndex=Math.max(...l)):s.index=l[0]);const c=e.conditions;for(const u of Object.keys(c)){const f=c[u];for(const h of f){const p=i.indexOf(h);if(p!==-1){const g=r.slice(p+h.length).trim().match(/^(.+?)(?:\s+(?:|)\s+|$)/i);if(g){const{value:y,valueType:b}=sFe(g[1].trim());s.conditions.push({type:u,value:y,valueType:b,isNegated:s.isNegated})}s.isNegated=!1}}}return s}function oFe(t){return t.split(/\s+(?:|)\s+/i).map(e=>e.trim()).filter(Boolean)}function lFe(t,e){const n=t.trim(),r=oFe(n),i={lastResult:null,lastColumn:null,lastSearch:null,lastSelection:null,lastTarget:null,lastIndex:null,history:[]},s=[];for(const a of r){const o=aFe(a,e,i);!o||!o.intent||s.push(o)}return{actions:s,context:i}}const cFe=({onClose:t,onCreate:e})=>{const[n,r]=q.useState(20),[i,s]=q.useState(10),[a,o]=q.useState("new_sheet.xlsx"),l=()=>{n>0&&i>0&&a.trim()&&e(n,i,a.trim())};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",onClick:t,children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",onClick:c=>c.stopPropagation(),children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-xl font-bold",children:"   "})}),d.jsxs("div",{className:"p-6 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"sheet-name",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",id:"sheet-name",value:a,onChange:c=>o(c.target.value),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]}),d.jsxs("div",{className:"flex gap-4",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{htmlFor:"sheet-rows",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"number",id:"sheet-rows",value:n,onChange:c=>r(Math.max(1,parseInt(c.target.value,10)||1)),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]}),d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{htmlFor:"sheet-cols",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"number",id:"sheet-cols",value:i,onChange:c=>s(Math.max(1,parseInt(c.target.value,10)||1)),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:t,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"button",onClick:l,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:""})]})]})})},uFe=()=>{const{excelCommands:t}=rn(),[e,n]=q.useState([]),[r,i]=q.useState([]),[s,a]=q.useState([]),[o,l]=q.useState(""),[c,u]=q.useState(new Set),[f,h]=q.useState(new Set),[p,v]=q.useState(new Set),[g,y]=q.useState(null),[b,_]=q.useState({}),[w,C]=q.useState(""),[S,R]=q.useState(!1),[D,N]=q.useState(""),[k,F]=q.useState(!1),[P,I]=q.useState(!1),U=q.useRef(null),O=q.useRef(!1),K=q.useRef(s),X=q.useRef(r),J=q.useRef({selectedRows:c,selectedCols:f,selectedCells:p}),ne=q.useRef({setCurrentData:a,setHeaders:i,setCellStyles:_,setSelectedRows:u,setSelectedCols:h,setSelectedCells:v});q.useEffect(()=>{K.current=s,X.current=r,J.current={selectedRows:c,selectedCols:f,selectedCells:p},ne.current={setCurrentData:a,setHeaders:i,setCellStyles:_,setSelectedRows:u,setSelectedCols:h,setSelectedCells:v}});const z=window.SpeechRecognition||window.webkitSpeechRecognition,Q=!!z,B=q.useCallback(re=>{if(!re.length)return!1;let le=!1,he=[...X.current],_e=K.current.map(ce=>[...ce]);({...ne.current.setCellStyles});const ie=J.current.selectedRows.size>0?"rows":J.current.selectedCols.size>0?"columns":J.current.selectedCells.size>0?"cells":"none";for(const ce of re)switch(ce.intent){case"color":if(ce.color){const ve={backgroundColor:ce.color};["white","yellow","pink"].includes(ce.color)&&(ve.color="#333"),["black","blue","purple","green","red"].includes(ce.color)&&(ve.color="#fff"),ne.current.setCellStyles(Se=>{const Oe={...Se},Te=(Ue,Le)=>{Oe[`${Ue}:${Le}`]={...Oe[`${Ue}:${Le}`]||{},...ve}};return ie==="cells"?J.current.selectedCells.forEach(Ue=>{const[Le,Ge]=Ue.split(":").map(Number);Te(Le,Ge)}):ie==="rows"?J.current.selectedRows.forEach(Ue=>X.current.forEach((Le,Ge)=>Te(Number(Ue),Ge))):ie==="columns"&&J.current.selectedCols.forEach(Ue=>K.current.forEach((Le,Ge)=>Te(Ge,Number(Ue)))),Oe}),le=!0}break;case"move":if(ce.movement&&ie==="columns"&&J.current.selectedCols.size===1){const ve=Number(Array.from(J.current.selectedCols)[0]),Se=ce.movement==="right"?ve+1:ve-1;Se>=0&&Se<he.length&&([he[ve],he[Se]]=[he[Se],he[ve]],_e.forEach(Oe=>{[Oe[ve],Oe[Se]]=[Oe[Se],Oe[ve]]}),ne.current.setSelectedCols(new Set([Se])),le=!0)}break;case"delete":case"clear":const ge=ce.intent==="delete";if(ie==="rows")Array.from(J.current.selectedRows).sort((Se,Oe)=>Number(Oe)-Number(Se)).forEach(Se=>_e.splice(Number(Se),1)),ne.current.setSelectedRows(new Set),le=!0;else if(ie==="columns"){const ve=Array.from(J.current.selectedCols).sort((Se,Oe)=>Number(Oe)-Number(Se));ge&&ve.forEach(Se=>he.splice(Number(Se),1)),_e.forEach(Se=>{ve.forEach(Oe=>ge?Se.splice(Number(Oe),1):Se[Number(Oe)]="")}),ne.current.setSelectedCols(new Set),le=!0}else ie==="cells"&&(J.current.selectedCells.forEach(ve=>{const[Se,Oe]=ve.split(":").map(Number);_e[Se][Oe]=""}),le=!0);break;case"sum":if(ie==="columns"&&J.current.selectedCols.size===1){const ve=Number(Array.from(J.current.selectedCols)[0]),Se=_e.reduce((Ue,Le)=>Ue+(Number(Le[ve])||0),0),Oe=_e.findIndex(Ue=>!Ue[ve]),Te=Oe!==-1?Oe:_e.length;Te===_e.length&&_e.push(Array(he.length).fill("")),_e[Te][ve]=Se,le=!0}break}return le&&(ne.current.setHeaders(he),ne.current.setCurrentData(_e),ne.current.setSelectedRows(new Set),ne.current.setSelectedCols(new Set),ne.current.setSelectedCells(new Set)),le},[]);q.useEffect(()=>{if(!Q)return;U.current=new z;const re=U.current;return re.continuous=!0,re.interimResults=!1,re.lang="ar-SA",re.onstart=()=>F(!0),re.onend=()=>{if(O.current){console.log("Excel Studio: Speech recognition ended, attempting restart.");try{re.start()}catch(le){console.error("Excel Studio: Could not restart recognition",le),O.current=!1,F(!1)}}else F(!1)},re.onerror=le=>{N(`   : ${le.error}`),O.current=!1,F(!1)},re.onresult=le=>{let he="";for(let ie=le.resultIndex;ie<le.results.length;++ie)le.results[ie].isFinal&&(he+=le.results[ie][0].transcript);const _e=he.trim();if(_e&&t){const{actions:ie}=lFe(_e,t);B(ie)||C(ge=>(ge?ge+" ":"")+_e)}else _e&&C(ie=>(ie?ie+" ":"")+_e)},()=>{U.current&&(O.current=!1,U.current.abort())}},[Q,t,B]);const j=()=>{const re=U.current;re&&(k?(O.current=!1,re.stop()):(N(""),O.current=!0,re.start()))},W=q.useMemo(()=>c.size>0?"rows":f.size>0?"columns":p.size>0?"cells":"none",[c,f,p]),G=q.useMemo(()=>{const re=new Map;return W==="cells"&&Array.from(p).forEach((le,he)=>{re.set(le,he+1)}),re},[p,W]),Y=re=>{var _e;const le=(_e=re.target.files)==null?void 0:_e[0];if(!le)return;l(le.name);const he=new FileReader;he.onload=ie=>{var ce;try{const ge=new Uint8Array((ce=ie.target)==null?void 0:ce.result),ve=fN(ge,{type:"array"}),Se=ve.SheetNames[0],Oe=ve.Sheets[Se],Te=jx.sheet_to_json(Oe,{header:1});if(Te.length>0){const Ue=Te[0].map(Ge=>String(Ge)),Le=Te.slice(1).map(Ge=>{const rt=Array(Ue.length).fill("");return Ge.forEach((it,Vt)=>{Vt<rt.length&&(rt[Vt]=it)}),rt});i(Ue),n(JSON.parse(JSON.stringify(Le))),a(Le),de()}else N("    .")}catch(ge){console.error(ge),ge instanceof Error?N(`    Excel: ${ge.message}`):N("    Excel.      .")}},he.readAsArrayBuffer(le)},ee=(re,le,he)=>{const _e=Array.from({length:le},(ce,ge)=>String.fromCharCode(65+ge)),ie=Array.from({length:re},()=>Array(le).fill(""));i(_e),a(ie),n(JSON.parse(JSON.stringify(ie))),l(he),de(),I(!1)},ae=()=>{a(JSON.parse(JSON.stringify(e))),_({}),de()},de=()=>{u(new Set),h(new Set),v(new Set),y(null),C(""),N("")},fe=re=>{h(new Set),v(new Set),y(null),u(le=>{const he=new Set(le);return he.has(re)?he.delete(re):he.add(re),he})},De=re=>{u(new Set),v(new Set),y(null),h(le=>{const he=new Set(le);return he.has(re)?he.delete(re):he.add(re),he})},Pe=(re,le,he)=>{u(new Set),h(new Set),y(null);const _e=`${re}:${le}`;v(ie=>{const ce=he?new Set(ie):new Set;return ce.has(_e)&&he?ce.delete(_e):ce.add(_e),ce})},me=(re,le)=>{y({rowIndex:re,colIndex:le}),u(new Set),h(new Set),v(new Set)},je=(re,le,he)=>{const _e=JSON.parse(JSON.stringify(s));_e[le][he]=re.target.value,a(_e)},V=()=>{y(null)},ye=re=>{if(!g)return;const{rowIndex:le,colIndex:he}=g;if(re.key==="Enter")re.preventDefault(),le<s.length-1?y({rowIndex:le+1,colIndex:he}):y(null);else if(re.key==="Escape")y(null);else if(re.key==="Tab"){re.preventDefault();const _e=re.shiftKey?he-1:he+1;_e>=0&&_e<r.length?y({rowIndex:le,colIndex:_e}):!re.shiftKey&&le<s.length-1?y({rowIndex:le+1,colIndex:0}):y(null)}},be=async()=>{if(W==="none"){N("         .");return}if(!w.trim()){N("    .");return}N(""),R(!0);try{const re=[];W==="cells"?Array.from(p).forEach((ge,ve)=>{const[Se,Oe]=ge.split(":").map(Number);re.push({value:String(s[Se][Oe]),rowIndex:Se,colIndex:Oe,header:r[Oe],cellNumber:ve+1})}):W==="rows"?Array.from(c).forEach(ge=>r.forEach((ve,Se)=>re.push({value:String(s[Number(ge)][Se]),rowIndex:Number(ge),colIndex:Se,header:ve}))):W==="columns"&&Array.from(f).forEach(ge=>s.forEach((ve,Se)=>re.push({value:String(ve[Number(ge)]),rowIndex:Se,colIndex:Number(ge),header:r[Number(ge)]})));const _e=(await dge(w,re,W==="cells"?"Each selected cell is assigned a unique number (cellNumber). The user might refer to these cells by their number.":"The user has selected entire rows or columns.")).modifications;if(!Array.isArray(_e))throw new Error("AI response format is incorrect.");let ie=JSON.parse(JSON.stringify(s)),ce=JSON.parse(JSON.stringify(b));_e.forEach(ge=>{const{rowIndex:ve,colIndex:Se,newValue:Oe,backgroundColor:Te}=ge;typeof ve=="number"&&typeof Se=="number"&&(Oe!==void 0&&(ie[Number(ve)][Number(Se)]=Oe),Te&&(ce[`${ve}:${Se}`]={...ce[`${ve}:${Se}`],backgroundColor:Te}))}),a(ie),_(ce),de()}catch(re){re instanceof Error?N(re.message):N("     .")}finally{R(!1)}},oe=()=>{const re=jx.aoa_to_sheet([r,...s]),le=jx.book_new();jx.book_append_sheet(le,re,"Sheet1"),$8e(le,`modified_${o||"data.xlsx"}`)};return s.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-6 text-center",children:[P&&d.jsx(cFe,{onClose:()=>I(!1),onCreate:ee}),d.jsx(S$,{className:"text-6xl text-gray-300 mb-4"}),d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"  "}),d.jsx("p",{className:"text-gray-600 mb-6",children:"        Excel    ."}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[d.jsxs("label",{className:"bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition-colors cursor-pointer flex items-center justify-center gap-2",children:[d.jsx(Sl,{}),d.jsx("span",{children:" "}),d.jsx("input",{type:"file",accept:".xlsx, .xls",onChange:Y,className:"hidden"})]}),d.jsxs("button",{onClick:()=>I(!0),className:"bg-blue-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[d.jsx(nc,{}),d.jsx("span",{children:"   "})]})]}),D&&d.jsx("p",{className:"text-red-500 mt-4",children:D})]}):d.jsxs("div",{className:"flex flex-col h-full p-6",children:[d.jsxs("header",{className:"flex-shrink-0 flex flex-col sm:flex-row justify-between items-center mb-4 gap-4",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800 truncate",title:o,children:o}),d.jsx("button",{type:"button",onClick:j,disabled:!Q,className:`p-3 rounded-full transition-colors ${Q?k?"bg-red-500 text-white animate-pulse":"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,title:"  ",children:k?d.jsx(mc,{}):d.jsx(ek,{})})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("button",{onClick:ae,className:"flex items-center gap-2 bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300",children:[d.jsx($me,{}),d.jsx("span",{children:" "})]}),d.jsxs("button",{onClick:oe,className:"flex items-center gap-2 bg-green-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-green-700",children:[d.jsx(Du,{}),d.jsx("span",{children:""})]})]})]}),d.jsxs("div",{className:"bg-blue-50 border border-blue-200 text-blue-800 p-3 rounded-md mb-4 flex items-start gap-3 text-sm",children:[d.jsx(Bme,{className:"flex-shrink-0 mt-1"}),d.jsxs("div",{children:[d.jsx("strong",{children:" :"}),d.jsxs("ol",{className:"list-decimal list-inside",children:[d.jsx("li",{children:"** :**      ."}),d.jsx("li",{children:'**  :**         (: "  1 ").'}),d.jsx("li",{children:'** :**       ""   .'})]})]})]}),d.jsx("div",{className:"flex-grow overflow-auto border rounded-lg",children:d.jsxs("table",{className:"w-full text-sm text-right border-collapse",children:[d.jsx("thead",{className:"sticky top-0 bg-gray-100 z-10",children:d.jsxs("tr",{children:[d.jsx("th",{className:"sticky right-0 bg-gray-100 border-b border-gray-300 p-2 min-w-[50px]",children:"#"}),r.map((re,le)=>d.jsx("th",{onClick:()=>De(le),className:`p-2 border-b border-l border-gray-300 font-semibold cursor-pointer whitespace-nowrap ${f.has(le)?"bg-green-200":"hover:bg-gray-200"}`,children:re||String.fromCharCode(65+le)},le))]})}),d.jsx("tbody",{children:s.map((re,le)=>d.jsxs("tr",{className:`${c.has(le)?"bg-green-100":""}`,children:[d.jsx("td",{onClick:()=>fe(le),className:"sticky right-0 p-2 border-b border-l border-gray-300 font-mono text-center cursor-pointer bg-gray-50 hover:bg-gray-200",children:le+1}),re.map((he,_e)=>{const ie=(g==null?void 0:g.rowIndex)===le&&(g==null?void 0:g.colIndex)===_e,ce=`${le}:${_e}`,ge=b[ce]||{},ve=p.has(ce);let Se="border-b border-l border-gray-300 text-black relative";return ie?Se+=" p-0":(Se+=" p-2 whitespace-nowrap truncate max-w-xs cursor-pointer",ve?Se+=" bg-green-200":(c.has(le)||f.has(_e))&&(Se+=" bg-green-100")),d.jsx("td",{style:ge,className:Se,title:ie?void 0:he,onClick:Oe=>!ie&&Pe(le,_e,Oe.ctrlKey||Oe.metaKey),onDoubleClick:()=>me(le,_e),children:ie?d.jsx("div",{className:"relative w-full h-full",children:d.jsx("input",{type:"text",value:he||"",onChange:Oe=>je(Oe,le,_e),onBlur:V,onKeyDown:ye,autoFocus:!0,className:"w-full h-full p-2 box-border border-2 border-blue-500 outline-none rounded-sm bg-white text-black"})}):d.jsxs(d.Fragment,{children:[ve&&d.jsx("span",{className:"absolute top-0 right-0 text-xs bg-blue-500 text-white rounded-bl-md px-1 py-0.5 pointer-events-none z-20",children:G.get(ce)}),he]})},_e)})]},le))})]})}),d.jsx("footer",{className:"flex-shrink-0 mt-4 p-4 bg-white rounded-lg shadow-md border",children:d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[d.jsx("div",{className:"relative flex-grow",children:d.jsx("textarea",{value:w,onChange:re=>C(re.target.value),placeholder:"      ...",className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 resize-none bg-gray-800 text-white placeholder-gray-400 border-gray-600",rows:2,disabled:S})}),d.jsxs("button",{onClick:be,disabled:S||W==="none",className:"flex items-center justify-center gap-2 bg-blue-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:[S?d.jsx(St,{className:"animate-spin"}):d.jsx(ea,{}),d.jsx("span",{children:S?" ...":"  "})]})]}),D&&d.jsx("p",{className:"text-red-500 text-sm mt-2 text-center",children:D})]})})]})};var Va={},a6="1.13.7",eL=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},Uw=Array.prototype,o6=Object.prototype,tL=typeof Symbol<"u"?Symbol.prototype:null,dFe=Uw.push,Xv=Uw.slice,Qy=o6.toString,fFe=o6.hasOwnProperty,hJ=typeof ArrayBuffer<"u",hFe=typeof DataView<"u",pFe=Array.isArray,nL=Object.keys,rL=Object.create,iL=hJ&&ArrayBuffer.isView,mFe=isNaN,gFe=isFinite,pJ=!{toString:null}.propertyIsEnumerable("toString"),sL=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],yFe=Math.pow(2,53)-1;function Os(t,e){return e=e==null?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var s=Array(e+1);for(i=0;i<e;i++)s[i]=arguments[i];return s[e]=r,t.apply(this,s)}}function ad(t){var e=typeof t;return e==="function"||e==="object"&&!!t}function mJ(t){return t===null}function l6(t){return t===void 0}function c6(t){return t===!0||t===!1||Qy.call(t)==="[object Boolean]"}function gJ(t){return!!(t&&t.nodeType===1)}function ws(t){var e="[object "+t+"]";return function(n){return Qy.call(n)===e}}const Ow=ws("String"),u6=ws("Number"),yJ=ws("Date"),vJ=ws("RegExp"),xJ=ws("Error"),d6=ws("Symbol"),f6=ws("ArrayBuffer");var _J=ws("Function"),vFe=eL.document&&eL.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof vFe!="function"&&(_J=function(t){return typeof t=="function"||!1});const xs=_J,bJ=ws("Object");var wJ=hFe&&(!/\[native code\]/.test(String(DataView))||bJ(new DataView(new ArrayBuffer(8)))),h6=typeof Map<"u"&&bJ(new Map),xFe=ws("DataView");function _Fe(t){return t!=null&&xs(t.getInt8)&&f6(t.buffer)}const Zy=wJ?_Fe:xFe,od=pFe||ws("Array");function ld(t,e){return t!=null&&fFe.call(t,e)}var hN=ws("Arguments");(function(){hN(arguments)||(hN=function(t){return ld(t,"callee")})})();const Lw=hN;function TJ(t){return!d6(t)&&gFe(t)&&!isNaN(parseFloat(t))}function p6(t){return u6(t)&&mFe(t)}function m6(t){return function(){return t}}function EJ(t){return function(e){var n=t(e);return typeof n=="number"&&n>=0&&n<=yFe}}function CJ(t){return function(e){return e==null?void 0:e[t]}}const J_=CJ("byteLength"),bFe=EJ(J_);var wFe=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function TFe(t){return iL?iL(t)&&!Zy(t):bFe(t)&&wFe.test(Qy.call(t))}const g6=hJ?TFe:m6(!1),ra=CJ("length");function EFe(t){for(var e={},n=t.length,r=0;r<n;++r)e[t[r]]=!0;return{contains:function(i){return e[i]===!0},push:function(i){return e[i]=!0,t.push(i)}}}function SJ(t,e){e=EFe(e);var n=sL.length,r=t.constructor,i=xs(r)&&r.prototype||o6,s="constructor";for(ld(t,s)&&!e.contains(s)&&e.push(s);n--;)s=sL[n],s in t&&t[s]!==i[s]&&!e.contains(s)&&e.push(s)}function _i(t){if(!ad(t))return[];if(nL)return nL(t);var e=[];for(var n in t)ld(t,n)&&e.push(n);return pJ&&SJ(t,e),e}function DJ(t){if(t==null)return!0;var e=ra(t);return typeof e=="number"&&(od(t)||Ow(t)||Lw(t))?e===0:ra(_i(t))===0}function y6(t,e){var n=_i(e),r=n.length;if(t==null)return!r;for(var i=Object(t),s=0;s<r;s++){var a=n[s];if(e[a]!==i[a]||!(a in i))return!1}return!0}function Ln(t){if(t instanceof Ln)return t;if(!(this instanceof Ln))return new Ln(t);this._wrapped=t}Ln.VERSION=a6;Ln.prototype.value=function(){return this._wrapped};Ln.prototype.valueOf=Ln.prototype.toJSON=Ln.prototype.value;Ln.prototype.toString=function(){return String(this._wrapped)};function aL(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,J_(t))}var oL="[object DataView]";function pN(t,e,n,r){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var i=typeof t;return i!=="function"&&i!=="object"&&typeof e!="object"?!1:AJ(t,e,n,r)}function AJ(t,e,n,r){t instanceof Ln&&(t=t._wrapped),e instanceof Ln&&(e=e._wrapped);var i=Qy.call(t);if(i!==Qy.call(e))return!1;if(wJ&&i=="[object Object]"&&Zy(t)){if(!Zy(e))return!1;i=oL}switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return tL.valueOf.call(t)===tL.valueOf.call(e);case"[object ArrayBuffer]":case oL:return AJ(aL(t),aL(e),n,r)}var s=i==="[object Array]";if(!s&&g6(t)){var a=J_(t);if(a!==J_(e))return!1;if(t.buffer===e.buffer&&t.byteOffset===e.byteOffset)return!0;s=!0}if(!s){if(typeof t!="object"||typeof e!="object")return!1;var o=t.constructor,l=e.constructor;if(o!==l&&!(xs(o)&&o instanceof o&&xs(l)&&l instanceof l)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],r=r||[];for(var c=n.length;c--;)if(n[c]===t)return r[c]===e;if(n.push(t),r.push(e),s){if(c=t.length,c!==e.length)return!1;for(;c--;)if(!pN(t[c],e[c],n,r))return!1}else{var u=_i(t),f;if(c=u.length,_i(e).length!==c)return!1;for(;c--;)if(f=u[c],!(ld(e,f)&&pN(t[f],e[f],n,r)))return!1}return n.pop(),r.pop(),!0}function NJ(t,e){return pN(t,e)}function Zm(t){if(!ad(t))return[];var e=[];for(var n in t)e.push(n);return pJ&&SJ(t,e),e}function v6(t){var e=ra(t);return function(n){if(n==null)return!1;var r=Zm(n);if(ra(r))return!1;for(var i=0;i<e;i++)if(!xs(n[t[i]]))return!1;return t!==RJ||!xs(n[x6])}}var x6="forEach",IJ="has",_6=["clear","delete"],kJ=["get",IJ,"set"],CFe=_6.concat(x6,kJ),RJ=_6.concat(kJ),SFe=["add"].concat(_6,x6,IJ);const PJ=h6?v6(CFe):ws("Map"),FJ=h6?v6(RJ):ws("WeakMap"),MJ=h6?v6(SFe):ws("Set"),UJ=ws("WeakSet");function sh(t){for(var e=_i(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=t[e[i]];return r}function OJ(t){for(var e=_i(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=[e[i],t[e[i]]];return r}function b6(t){for(var e={},n=_i(t),r=0,i=n.length;r<i;r++)e[t[n[r]]]=n[r];return e}function ev(t){var e=[];for(var n in t)xs(t[n])&&e.push(n);return e.sort()}function w6(t,e){return function(n){var r=arguments.length;if(e&&(n=Object(n)),r<2||n==null)return n;for(var i=1;i<r;i++)for(var s=arguments[i],a=t(s),o=a.length,l=0;l<o;l++){var c=a[l];(!e||n[c]===void 0)&&(n[c]=s[c])}return n}}const T6=w6(Zm),ym=w6(_i),E6=w6(Zm,!0);function DFe(){return function(){}}function LJ(t){if(!ad(t))return{};if(rL)return rL(t);var e=DFe();e.prototype=t;var n=new e;return e.prototype=null,n}function jJ(t,e){var n=LJ(t);return e&&ym(n,e),n}function BJ(t){return ad(t)?od(t)?t.slice():T6({},t):t}function VJ(t,e){return e(t),t}function C6(t){return od(t)?t:[t]}Ln.toPath=C6;function Jv(t){return Ln.toPath(t)}function S6(t,e){for(var n=e.length,r=0;r<n;r++){if(t==null)return;t=t[e[r]]}return n?t:void 0}function D6(t,e,n){var r=S6(t,Jv(e));return l6(r)?n:r}function WJ(t,e){e=Jv(e);for(var n=e.length,r=0;r<n;r++){var i=e[r];if(!ld(t,i))return!1;t=t[i]}return!!n}function jw(t){return t}function Lf(t){return t=ym({},t),function(e){return y6(e,t)}}function Bw(t){return t=Jv(t),function(e){return S6(e,t)}}function Yv(t,e,n){if(e===void 0)return t;switch(n??3){case 1:return function(r){return t.call(e,r)};case 3:return function(r,i,s){return t.call(e,r,i,s)};case 4:return function(r,i,s,a){return t.call(e,r,i,s,a)}}return function(){return t.apply(e,arguments)}}function qJ(t,e,n){return t==null?jw:xs(t)?Yv(t,e,n):ad(t)&&!od(t)?Lf(t):Bw(t)}function Vw(t,e){return qJ(t,e,1/0)}Ln.iteratee=Vw;function oa(t,e,n){return Ln.iteratee!==Vw?Ln.iteratee(t,e):qJ(t,e,n)}function zJ(t,e,n){e=oa(e,n);for(var r=_i(t),i=r.length,s={},a=0;a<i;a++){var o=r[a];s[o]=e(t[o],o,t)}return s}function A6(){}function HJ(t){return t==null?A6:function(e){return D6(t,e)}}function $J(t,e,n){var r=Array(Math.max(0,t));e=Yv(e,n,1);for(var i=0;i<t;i++)r[i]=e(i);return r}function Y_(t,e){return e==null&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}const vm=Date.now||function(){return new Date().getTime()};function GJ(t){var e=function(s){return t[s]},n="(?:"+_i(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(s){return s=s==null?"":""+s,r.test(s)?s.replace(i,e):s}}const KJ={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},XJ=GJ(KJ),AFe=b6(KJ),JJ=GJ(AFe),YJ=Ln.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var gD=/(.)^/,NFe={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},IFe=/\\|'|\r|\n|\u2028|\u2029/g;function kFe(t){return"\\"+NFe[t]}var RFe=/^\s*(\w|\$)+\s*$/;function QJ(t,e,n){!e&&n&&(e=n),e=E6({},e,Ln.templateSettings);var r=RegExp([(e.escape||gD).source,(e.interpolate||gD).source,(e.evaluate||gD).source].join("|")+"|$","g"),i=0,s="__p+='";t.replace(r,function(c,u,f,h,p){return s+=t.slice(i,p).replace(IFe,kFe),i=p+c.length,u?s+=`'+
((__t=(`+u+`))==null?'':_.escape(__t))+
'`:f?s+=`'+
((__t=(`+f+`))==null?'':__t)+
'`:h&&(s+=`';
`+h+`
__p+='`),c}),s+=`';
`;var a=e.variable;if(a){if(!RFe.test(a))throw new Error("variable is not a bare identifier: "+a)}else s=`with(obj||{}){
`+s+`}
`,a="obj";s=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+s+`return __p;
`;var o;try{o=new Function(a,"_",s)}catch(c){throw c.source=s,c}var l=function(c){return o.call(this,c,Ln)};return l.source="function("+a+`){
`+s+"}",l}function ZJ(t,e,n){e=Jv(e);var r=e.length;if(!r)return xs(n)?n.call(t):n;for(var i=0;i<r;i++){var s=t==null?void 0:t[e[i]];s===void 0&&(s=n,i=r),t=xs(s)?s.call(t):s}return t}var PFe=0;function eY(t){var e=++PFe+"";return t?t+e:e}function tY(t){var e=Ln(t);return e._chain=!0,e}function nY(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var s=LJ(t.prototype),a=t.apply(s,i);return ad(a)?a:s}var ah=Os(function(t,e){var n=ah.placeholder,r=function(){for(var i=0,s=e.length,a=Array(s),o=0;o<s;o++)a[o]=e[o]===n?arguments[i++]:e[o];for(;i<arguments.length;)a.push(arguments[i++]);return nY(t,r,this,this,a)};return r});ah.placeholder=Ln;const N6=Os(function(t,e,n){if(!xs(t))throw new TypeError("Bind must be called on a function");var r=Os(function(i){return nY(t,r,e,this,n.concat(i))});return r}),Ia=EJ(ra);function oh(t,e,n,r){if(r=r||[],!e&&e!==0)e=1/0;else if(e<=0)return r.concat(t);for(var i=r.length,s=0,a=ra(t);s<a;s++){var o=t[s];if(Ia(o)&&(od(o)||Lw(o)))if(e>1)oh(o,e-1,n,r),i=r.length;else for(var l=0,c=o.length;l<c;)r[i++]=o[l++];else n||(r[i++]=o)}return r}const rY=Os(function(t,e){e=oh(e,!1,!1);var n=e.length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=e[n];t[r]=N6(t[r],t)}return t});function iY(t,e){var n=function(r){var i=n.cache,s=""+(e?e.apply(this,arguments):r);return ld(i,s)||(i[s]=t.apply(this,arguments)),i[s]};return n.cache={},n}const I6=Os(function(t,e,n){return setTimeout(function(){return t.apply(null,n)},e)}),sY=ah(I6,Ln,1);function aY(t,e,n){var r,i,s,a,o=0;n||(n={});var l=function(){o=n.leading===!1?0:vm(),r=null,a=t.apply(i,s),r||(i=s=null)},c=function(){var u=vm();!o&&n.leading===!1&&(o=u);var f=e-(u-o);return i=this,s=arguments,f<=0||f>e?(r&&(clearTimeout(r),r=null),o=u,a=t.apply(i,s),r||(i=s=null)):!r&&n.trailing!==!1&&(r=setTimeout(l,f)),a};return c.cancel=function(){clearTimeout(r),o=0,r=i=s=null},c}function oY(t,e,n){var r,i,s,a,o,l=function(){var u=vm()-i;e>u?r=setTimeout(l,e-u):(r=null,n||(a=t.apply(o,s)),r||(s=o=null))},c=Os(function(u){return o=this,s=u,i=vm(),r||(r=setTimeout(l,e),n&&(a=t.apply(o,s))),a});return c.cancel=function(){clearTimeout(r),r=s=o=null},c}function lY(t,e){return ah(e,t)}function Ww(t){return function(){return!t.apply(this,arguments)}}function cY(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}}function uY(t,e){return function(){if(--t<1)return e.apply(this,arguments)}}function k6(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}}const dY=ah(k6,2);function R6(t,e,n){e=oa(e,n);for(var r=_i(t),i,s=0,a=r.length;s<a;s++)if(i=r[s],e(t[i],i,t))return i}function fY(t){return function(e,n,r){n=oa(n,r);for(var i=ra(e),s=t>0?0:i-1;s>=0&&s<i;s+=t)if(n(e[s],s,e))return s;return-1}}const qw=fY(1),P6=fY(-1);function F6(t,e,n,r){n=oa(n,r,1);for(var i=n(e),s=0,a=ra(t);s<a;){var o=Math.floor((s+a)/2);n(t[o])<i?s=o+1:a=o}return s}function hY(t,e,n){return function(r,i,s){var a=0,o=ra(r);if(typeof s=="number")t>0?a=s>=0?s:Math.max(s+o,a):o=s>=0?Math.min(s+1,o):s+o+1;else if(n&&s&&o)return s=n(r,i),r[s]===i?s:-1;if(i!==i)return s=e(Xv.call(r,a,o),p6),s>=0?s+a:-1;for(s=t>0?a:o-1;s>=0&&s<o;s+=t)if(r[s]===i)return s;return-1}}const M6=hY(1,qw,F6),pY=hY(-1,P6);function tv(t,e,n){var r=Ia(t)?qw:R6,i=r(t,e,n);if(i!==void 0&&i!==-1)return t[i]}function mY(t,e){return tv(t,Lf(e))}function Lo(t,e,n){e=Yv(e,n);var r,i;if(Ia(t))for(r=0,i=t.length;r<i;r++)e(t[r],r,t);else{var s=_i(t);for(r=0,i=s.length;r<i;r++)e(t[s[r]],s[r],t)}return t}function yc(t,e,n){e=oa(e,n);for(var r=!Ia(t)&&_i(t),i=(r||t).length,s=Array(i),a=0;a<i;a++){var o=r?r[a]:a;s[a]=e(t[o],o,t)}return s}function gY(t){var e=function(n,r,i,s){var a=!Ia(n)&&_i(n),o=(a||n).length,l=t>0?0:o-1;for(s||(i=n[a?a[l]:l],l+=t);l>=0&&l<o;l+=t){var c=a?a[l]:l;i=r(i,n[c],c,n)}return i};return function(n,r,i,s){var a=arguments.length>=3;return e(n,Yv(r,s,4),i,a)}}const Mp=gY(1),Q_=gY(-1);function Gu(t,e,n){var r=[];return e=oa(e,n),Lo(t,function(i,s,a){e(i,s,a)&&r.push(i)}),r}function yY(t,e,n){return Gu(t,Ww(oa(e)),n)}function Z_(t,e,n){e=oa(e,n);for(var r=!Ia(t)&&_i(t),i=(r||t).length,s=0;s<i;s++){var a=r?r[s]:s;if(!e(t[a],a,t))return!1}return!0}function eb(t,e,n){e=oa(e,n);for(var r=!Ia(t)&&_i(t),i=(r||t).length,s=0;s<i;s++){var a=r?r[s]:s;if(e(t[a],a,t))return!0}return!1}function no(t,e,n,r){return Ia(t)||(t=sh(t)),(typeof n!="number"||r)&&(n=0),M6(t,e,n)>=0}const vY=Os(function(t,e,n){var r,i;return xs(e)?i=e:(e=Jv(e),r=e.slice(0,-1),e=e[e.length-1]),yc(t,function(s){var a=i;if(!a){if(r&&r.length&&(s=S6(s,r)),s==null)return;a=s[e]}return a==null?a:a.apply(s,n)})});function zw(t,e){return yc(t,Bw(e))}function xY(t,e){return Gu(t,Lf(e))}function U6(t,e,n){var r=-1/0,i=-1/0,s,a;if(e==null||typeof e=="number"&&typeof t[0]!="object"&&t!=null){t=Ia(t)?t:sh(t);for(var o=0,l=t.length;o<l;o++)s=t[o],s!=null&&s>r&&(r=s)}else e=oa(e,n),Lo(t,function(c,u,f){a=e(c,u,f),(a>i||a===-1/0&&r===-1/0)&&(r=c,i=a)});return r}function _Y(t,e,n){var r=1/0,i=1/0,s,a;if(e==null||typeof e=="number"&&typeof t[0]!="object"&&t!=null){t=Ia(t)?t:sh(t);for(var o=0,l=t.length;o<l;o++)s=t[o],s!=null&&s<r&&(r=s)}else e=oa(e,n),Lo(t,function(c,u,f){a=e(c,u,f),(a<i||a===1/0&&r===1/0)&&(r=c,i=a)});return r}var FFe=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function O6(t){return t?od(t)?Xv.call(t):Ow(t)?t.match(FFe):Ia(t)?yc(t,jw):sh(t):[]}function L6(t,e,n){if(e==null||n)return Ia(t)||(t=sh(t)),t[Y_(t.length-1)];var r=O6(t),i=ra(r);e=Math.max(Math.min(e,i),0);for(var s=i-1,a=0;a<e;a++){var o=Y_(a,s),l=r[a];r[a]=r[o],r[o]=l}return r.slice(0,e)}function bY(t){return L6(t,1/0)}function wY(t,e,n){var r=0;return e=oa(e,n),zw(yc(t,function(i,s,a){return{value:i,index:r++,criteria:e(i,s,a)}}).sort(function(i,s){var a=i.criteria,o=s.criteria;if(a!==o){if(a>o||a===void 0)return 1;if(a<o||o===void 0)return-1}return i.index-s.index}),"value")}function Hw(t,e){return function(n,r,i){var s=e?[[],[]]:{};return r=oa(r,i),Lo(n,function(a,o){var l=r(a,o,n);t(s,a,l)}),s}}const TY=Hw(function(t,e,n){ld(t,n)?t[n].push(e):t[n]=[e]}),EY=Hw(function(t,e,n){t[n]=e}),CY=Hw(function(t,e,n){ld(t,n)?t[n]++:t[n]=1}),SY=Hw(function(t,e,n){t[n?0:1].push(e)},!0);function DY(t){return t==null?0:Ia(t)?t.length:_i(t).length}function MFe(t,e,n){return e in n}const j6=Os(function(t,e){var n={},r=e[0];if(t==null)return n;xs(r)?(e.length>1&&(r=Yv(r,e[1])),e=Zm(t)):(r=MFe,e=oh(e,!1,!1),t=Object(t));for(var i=0,s=e.length;i<s;i++){var a=e[i],o=t[a];r(o,a,t)&&(n[a]=o)}return n}),AY=Os(function(t,e){var n=e[0],r;return xs(n)?(n=Ww(n),e.length>1&&(r=e[1])):(e=yc(oh(e,!1,!1),String),n=function(i,s){return!no(e,s)}),j6(t,n,r)});function B6(t,e,n){return Xv.call(t,0,Math.max(0,t.length-(e==null||n?1:e)))}function Up(t,e,n){return t==null||t.length<1?e==null||n?void 0:[]:e==null||n?t[0]:B6(t,t.length-e)}function df(t,e,n){return Xv.call(t,e==null||n?1:e)}function NY(t,e,n){return t==null||t.length<1?e==null||n?void 0:[]:e==null||n?t[t.length-1]:df(t,Math.max(0,t.length-e))}function IY(t){return Gu(t,Boolean)}function kY(t,e){return oh(t,e,!1)}const V6=Os(function(t,e){return e=oh(e,!0,!0),Gu(t,function(n){return!no(e,n)})}),RY=Os(function(t,e){return V6(t,e)});function nv(t,e,n,r){c6(e)||(r=n,n=e,e=!1),n!=null&&(n=oa(n,r));for(var i=[],s=[],a=0,o=ra(t);a<o;a++){var l=t[a],c=n?n(l,a,t):l;e&&!n?((!a||s!==c)&&i.push(l),s=c):n?no(s,c)||(s.push(c),i.push(l)):no(i,l)||i.push(l)}return i}const PY=Os(function(t){return nv(oh(t,!0,!0))});function FY(t){for(var e=[],n=arguments.length,r=0,i=ra(t);r<i;r++){var s=t[r];if(!no(e,s)){var a;for(a=1;a<n&&no(arguments[a],s);a++);a===n&&e.push(s)}}return e}function rv(t){for(var e=t&&U6(t,ra).length||0,n=Array(e),r=0;r<e;r++)n[r]=zw(t,r);return n}const MY=Os(rv);function UY(t,e){for(var n={},r=0,i=ra(t);r<i;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n}function OY(t,e,n){e==null&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),s=0;s<r;s++,t+=n)i[s]=t;return i}function LY(t,e){if(e==null||e<1)return[];for(var n=[],r=0,i=t.length;r<i;)n.push(Xv.call(t,r,r+=e));return n}function W6(t,e){return t._chain?Ln(e).chain():e}function q6(t){return Lo(ev(t),function(e){var n=Ln[e]=t[e];Ln.prototype[e]=function(){var r=[this._wrapped];return dFe.apply(r,arguments),W6(this,n.apply(Ln,r))}}),Ln}Lo(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=Uw[t];Ln.prototype[t]=function(){var n=this._wrapped;return n!=null&&(e.apply(n,arguments),(t==="shift"||t==="splice")&&n.length===0&&delete n[0]),W6(this,n)}});Lo(["concat","join","slice"],function(t){var e=Uw[t];Ln.prototype[t]=function(){var n=this._wrapped;return n!=null&&(n=e.apply(n,arguments)),W6(this,n)}});const UFe=Object.freeze(Object.defineProperty({__proto__:null,VERSION:a6,after:uY,all:Z_,allKeys:Zm,any:eb,assign:ym,before:k6,bind:N6,bindAll:rY,chain:tY,chunk:LY,clone:BJ,collect:yc,compact:IY,compose:cY,constant:m6,contains:no,countBy:CY,create:jJ,debounce:oY,default:Ln,defaults:E6,defer:sY,delay:I6,detect:tv,difference:V6,drop:df,each:Lo,escape:XJ,every:Z_,extend:T6,extendOwn:ym,filter:Gu,find:tv,findIndex:qw,findKey:R6,findLastIndex:P6,findWhere:mY,first:Up,flatten:kY,foldl:Mp,foldr:Q_,forEach:Lo,functions:ev,get:D6,groupBy:TY,has:WJ,head:Up,identity:jw,include:no,includes:no,indexBy:EY,indexOf:M6,initial:B6,inject:Mp,intersection:FY,invert:b6,invoke:vY,isArguments:Lw,isArray:od,isArrayBuffer:f6,isBoolean:c6,isDataView:Zy,isDate:yJ,isElement:gJ,isEmpty:DJ,isEqual:NJ,isError:xJ,isFinite:TJ,isFunction:xs,isMap:PJ,isMatch:y6,isNaN:p6,isNull:mJ,isNumber:u6,isObject:ad,isRegExp:vJ,isSet:MJ,isString:Ow,isSymbol:d6,isTypedArray:g6,isUndefined:l6,isWeakMap:FJ,isWeakSet:UJ,iteratee:Vw,keys:_i,last:NY,lastIndexOf:pY,map:yc,mapObject:zJ,matcher:Lf,matches:Lf,max:U6,memoize:iY,methods:ev,min:_Y,mixin:q6,negate:Ww,noop:A6,now:vm,object:UY,omit:AY,once:dY,pairs:OJ,partial:ah,partition:SY,pick:j6,pluck:zw,property:Bw,propertyOf:HJ,random:Y_,range:OY,reduce:Mp,reduceRight:Q_,reject:yY,rest:df,restArguments:Os,result:ZJ,sample:L6,select:Gu,shuffle:bY,size:DY,some:eb,sortBy:wY,sortedIndex:F6,tail:df,take:Up,tap:VJ,template:QJ,templateSettings:YJ,throttle:aY,times:$J,toArray:O6,toPath:C6,transpose:rv,unescape:JJ,union:PY,uniq:nv,unique:nv,uniqueId:eY,unzip:rv,values:sh,where:xY,without:RY,wrap:lY,zip:MY},Symbol.toStringTag,{value:"Module"}));var mN=q6(UFe);mN._=mN;const OFe=Object.freeze(Object.defineProperty({__proto__:null,VERSION:a6,after:uY,all:Z_,allKeys:Zm,any:eb,assign:ym,before:k6,bind:N6,bindAll:rY,chain:tY,chunk:LY,clone:BJ,collect:yc,compact:IY,compose:cY,constant:m6,contains:no,countBy:CY,create:jJ,debounce:oY,default:mN,defaults:E6,defer:sY,delay:I6,detect:tv,difference:V6,drop:df,each:Lo,escape:XJ,every:Z_,extend:T6,extendOwn:ym,filter:Gu,find:tv,findIndex:qw,findKey:R6,findLastIndex:P6,findWhere:mY,first:Up,flatten:kY,foldl:Mp,foldr:Q_,forEach:Lo,functions:ev,get:D6,groupBy:TY,has:WJ,head:Up,identity:jw,include:no,includes:no,indexBy:EY,indexOf:M6,initial:B6,inject:Mp,intersection:FY,invert:b6,invoke:vY,isArguments:Lw,isArray:od,isArrayBuffer:f6,isBoolean:c6,isDataView:Zy,isDate:yJ,isElement:gJ,isEmpty:DJ,isEqual:NJ,isError:xJ,isFinite:TJ,isFunction:xs,isMap:PJ,isMatch:y6,isNaN:p6,isNull:mJ,isNumber:u6,isObject:ad,isRegExp:vJ,isSet:MJ,isString:Ow,isSymbol:d6,isTypedArray:g6,isUndefined:l6,isWeakMap:FJ,isWeakSet:UJ,iteratee:Vw,keys:_i,last:NY,lastIndexOf:pY,map:yc,mapObject:zJ,matcher:Lf,matches:Lf,max:U6,memoize:iY,methods:ev,min:_Y,mixin:q6,negate:Ww,noop:A6,now:vm,object:UY,omit:AY,once:dY,pairs:OJ,partial:ah,partition:SY,pick:j6,pluck:zw,property:Bw,propertyOf:HJ,random:Y_,range:OY,reduce:Mp,reduceRight:Q_,reject:yY,rest:df,restArguments:Os,result:ZJ,sample:L6,select:Gu,shuffle:bY,size:DY,some:eb,sortBy:wY,sortedIndex:F6,tail:df,take:Up,tap:VJ,template:QJ,templateSettings:YJ,throttle:aY,times:$J,toArray:O6,toPath:C6,transpose:rv,unescape:JJ,union:PY,uniq:nv,unique:nv,uniqueId:eY,unzip:rv,values:sh,where:xY,without:RY,wrap:lY,zip:MY},Symbol.toStringTag,{value:"Module"})),ri=sZ(OFe);var Bx={},Wa={},yD={exports:{}},Vx={exports:{}},lL;function eg(){if(lL)return Vx.exports;lL=1;var t=(function(){return this===void 0})();if(t)Vx.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:t,propertyIsWritable:function(u,f){var h=Object.getOwnPropertyDescriptor(u,f);return!!(!h||h.writable||h.set)}};else{var e={}.hasOwnProperty,n={}.toString,r={}.constructor.prototype,i=function(u){var f=[];for(var h in u)e.call(u,h)&&f.push(h);return f},s=function(u,f){return{value:u[f]}},a=function(u,f,h){return u[f]=h.value,u},o=function(u){return u},l=function(u){try{return Object(u).constructor.prototype}catch{return r}},c=function(u){try{return n.call(u)==="[object Array]"}catch{return!1}};Vx.exports={isArray:c,keys:i,names:i,defineProperty:a,getDescriptor:s,freeze:o,getPrototypeOf:l,isES5:t,propertyIsWritable:function(){return!0}}}return Vx.exports}var Qg,cL;function or(){if(cL)return Qg;cL=1;var t={},e=eg(),n=typeof navigator>"u",r={e:{}},i,s=typeof self<"u"?self:typeof window<"u"?window:typeof fs<"u"?fs:Qg!==void 0?Qg:null;function a(){try{var W=i;return i=null,W.apply(this,arguments)}catch(G){return r.e=G,r}}function o(W){return i=W,a}var l=function(W,G){var Y={}.hasOwnProperty;function ee(){this.constructor=W,this.constructor$=G;for(var ae in G.prototype)Y.call(G.prototype,ae)&&ae.charAt(ae.length-1)!=="$"&&(this[ae+"$"]=G.prototype[ae])}return ee.prototype=G.prototype,W.prototype=new ee,W.prototype};function c(W){return W==null||W===!0||W===!1||typeof W=="string"||typeof W=="number"}function u(W){return typeof W=="function"||typeof W=="object"&&W!==null}function f(W){return c(W)?new Error(D(W)):W}function h(W,G){var Y=W.length,ee=new Array(Y+1),ae;for(ae=0;ae<Y;++ae)ee[ae]=W[ae];return ee[ae]=G,ee}function p(W,G,Y){if(e.isES5){var ee=Object.getOwnPropertyDescriptor(W,G);if(ee!=null)return ee.get==null&&ee.set==null?ee.value:Y}else return{}.hasOwnProperty.call(W,G)?W[G]:void 0}function v(W,G,Y){if(c(W))return W;var ee={value:Y,configurable:!0,enumerable:!1,writable:!0};return e.defineProperty(W,G,ee),W}function g(W){throw W}var y=(function(){var W=[Array.prototype,Object.prototype,Function.prototype],G=function(ae){for(var de=0;de<W.length;++de)if(W[de]===ae)return!0;return!1};if(e.isES5){var Y=Object.getOwnPropertyNames;return function(ae){for(var de=[],fe=Object.create(null);ae!=null&&!G(ae);){var De;try{De=Y(ae)}catch{return de}for(var Pe=0;Pe<De.length;++Pe){var me=De[Pe];if(!fe[me]){fe[me]=!0;var je=Object.getOwnPropertyDescriptor(ae,me);je!=null&&je.get==null&&je.set==null&&de.push(me)}}ae=e.getPrototypeOf(ae)}return de}}else{var ee={}.hasOwnProperty;return function(ae){if(G(ae))return[];var de=[];e:for(var fe in ae)if(ee.call(ae,fe))de.push(fe);else{for(var De=0;De<W.length;++De)if(ee.call(W[De],fe))continue e;de.push(fe)}return de}}})(),b=/this\s*\.\s*\S+\s*=/;function _(W){try{if(typeof W=="function"){var G=e.names(W.prototype),Y=e.isES5&&G.length>1,ee=G.length>0&&!(G.length===1&&G[0]==="constructor"),ae=b.test(W+"")&&e.names(W).length>0;if(Y||ee||ae)return!0}return!1}catch{return!1}}function w(W){return W}var C=/^[a-z$_][a-z$_0-9]*$/i;function S(W){return C.test(W)}function R(W,G,Y){for(var ee=new Array(W),ae=0;ae<W;++ae)ee[ae]=G+ae+Y;return ee}function D(W){try{return W+""}catch{return"[no string representation]"}}function N(W){return W!==null&&typeof W=="object"&&typeof W.message=="string"&&typeof W.name=="string"}function k(W){try{v(W,"isOperational",!0)}catch{}}function F(W){return W==null?!1:W instanceof Error.__BluebirdErrorTypes__.OperationalError||W.isOperational===!0}function P(W){return N(W)&&e.propertyIsWritable(W,"stack")}var I=(function(){return"stack"in new Error?function(W){return P(W)?W:new Error(D(W))}:function(W){if(P(W))return W;try{throw new Error(D(W))}catch(G){return G}}})();function U(W){return{}.toString.call(W)}function O(W,G,Y){for(var ee=e.names(W),ae=0;ae<ee.length;++ae){var de=ee[ae];if(Y(de))try{e.defineProperty(G,de,e.getDescriptor(W,de))}catch{}}}var K=function(W){return e.isArray(W)?W:null};if(typeof Symbol<"u"&&Symbol.iterator){var X=typeof Array.from=="function"?function(W){return Array.from(W)}:function(W){for(var G=[],Y=W[Symbol.iterator](),ee;!(ee=Y.next()).done;)G.push(ee.value);return G};K=function(W){return e.isArray(W)?W:W!=null&&typeof W[Symbol.iterator]=="function"?X(W):null}}var J=typeof process<"u"&&U(process).toLowerCase()==="[object process]",ne=typeof process<"u"&&typeof t<"u";function z(W){return ne?t[W]:void 0}function Q(){if(typeof Promise=="function")try{var W=new Promise(function(){});if({}.toString.call(W)==="[object Promise]")return Promise}catch{}}function B(W,G){return W.bind(G)}var j={isClass:_,isIdentifier:S,inheritedDataKeys:y,getDataPropertyOrDefault:p,thrower:g,isArray:e.isArray,asArray:K,notEnumerableProp:v,isPrimitive:c,isObject:u,isError:N,canEvaluate:n,errorObj:r,tryCatch:o,inherits:l,withAppended:h,maybeWrapAsError:f,toFastProperties:w,filledRange:R,toString:D,canAttachTrace:P,ensureErrorObject:I,originatesFromRejection:F,markAsOriginatingFromRejection:k,classString:U,copyDescriptors:O,hasDevTools:typeof chrome<"u"&&chrome&&typeof chrome.loadTimes=="function",isNode:J,hasEnvVariables:ne,env:z,global:s,getNativePromise:Q,domainBind:B};j.isRecentNode=j.isNode&&(function(){var W=process.versions.node.split(".").map(Number);return W[0]===0&&W[1]>10||W[0]>0})(),j.isNode&&j.toFastProperties(process);try{throw new Error}catch(W){j.lastLineError=W}return Qg=j,Qg}var Wx={exports:{}},vD,uL;function LFe(){if(uL)return vD;uL=1;var t=or(),e,n=function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)},r=t.getNativePromise();if(t.isNode&&typeof MutationObserver>"u"){var i=fs.setImmediate,s=process.nextTick;e=t.isRecentNode?function(o){i.call(fs,o)}:function(o){s.call(process,o)}}else if(typeof r=="function"&&typeof r.resolve=="function"){var a=r.resolve();e=function(o){a.then(o)}}else typeof MutationObserver<"u"&&!(typeof window<"u"&&window.navigator&&(window.navigator.standalone||window.cordova))?e=(function(){var o=document.createElement("div"),l={attributes:!0},c=!1,u=document.createElement("div"),f=new MutationObserver(function(){o.classList.toggle("foo"),c=!1});f.observe(u,l);var h=function(){c||(c=!0,u.classList.toggle("foo"))};return function(v){var g=new MutationObserver(function(){g.disconnect(),v()});g.observe(o,l),h()}})():typeof setImmediate<"u"?e=function(o){setImmediate(o)}:typeof setTimeout<"u"?e=function(o){setTimeout(o,0)}:e=n;return vD=e,vD}var xD,dL;function jFe(){if(dL)return xD;dL=1;function t(n,r,i,s,a){for(var o=0;o<a;++o)i[o+s]=n[o+r],n[o+r]=void 0}function e(n){this._capacity=n,this._length=0,this._front=0}return e.prototype._willBeOverCapacity=function(n){return this._capacity<n},e.prototype._pushOne=function(n){var r=this.length();this._checkCapacity(r+1);var i=this._front+r&this._capacity-1;this[i]=n,this._length=r+1},e.prototype.push=function(n,r,i){var s=this.length()+3;if(this._willBeOverCapacity(s)){this._pushOne(n),this._pushOne(r),this._pushOne(i);return}var a=this._front+s-3;this._checkCapacity(s);var o=this._capacity-1;this[a+0&o]=n,this[a+1&o]=r,this[a+2&o]=i,this._length=s},e.prototype.shift=function(){var n=this._front,r=this[n];return this[n]=void 0,this._front=n+1&this._capacity-1,this._length--,r},e.prototype.length=function(){return this._length},e.prototype._checkCapacity=function(n){this._capacity<n&&this._resizeTo(this._capacity<<1)},e.prototype._resizeTo=function(n){var r=this._capacity;this._capacity=n;var i=this._front,s=this._length,a=i+s&r-1;t(this,0,this,r,a)},xD=e,xD}var fL;function BFe(){if(fL)return Wx.exports;fL=1;var t;try{throw new Error}catch(l){t=l}var e=LFe(),n=jFe(),r=or();function i(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new n(16),this._normalQueue=new n(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var l=this;this.drainQueues=function(){l._drainQueues()},this._schedule=e}i.prototype.setScheduler=function(l){var c=this._schedule;return this._schedule=l,this._customScheduler=!0,c},i.prototype.hasCustomScheduler=function(){return this._customScheduler},i.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},i.prototype.disableTrampolineIfNecessary=function(){r.hasDevTools&&(this._trampolineEnabled=!1)},i.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},i.prototype.fatalError=function(l,c){c?(process.stderr.write("Fatal "+(l instanceof Error?l.stack:l)+`
`),process.exit(2)):this.throwLater(l)},i.prototype.throwLater=function(l,c){if(arguments.length===1&&(c=l,l=function(){throw c}),typeof setTimeout<"u")setTimeout(function(){l(c)},0);else try{this._schedule(function(){l(c)})}catch{throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}};function s(l,c,u){this._lateQueue.push(l,c,u),this._queueTick()}function a(l,c,u){this._normalQueue.push(l,c,u),this._queueTick()}function o(l){this._normalQueue._pushOne(l),this._queueTick()}return r.hasDevTools?(i.prototype.invokeLater=function(l,c,u){this._trampolineEnabled?s.call(this,l,c,u):this._schedule(function(){setTimeout(function(){l.call(c,u)},100)})},i.prototype.invoke=function(l,c,u){this._trampolineEnabled?a.call(this,l,c,u):this._schedule(function(){l.call(c,u)})},i.prototype.settlePromises=function(l){this._trampolineEnabled?o.call(this,l):this._schedule(function(){l._settlePromises()})}):(i.prototype.invokeLater=s,i.prototype.invoke=a,i.prototype.settlePromises=o),i.prototype._drainQueue=function(l){for(;l.length()>0;){var c=l.shift();if(typeof c!="function"){c._settlePromises();continue}var u=l.shift(),f=l.shift();c.call(u,f)}},i.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},i.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},i.prototype._reset=function(){this._isTickUsed=!1},Wx.exports=i,Wx.exports.firstLineError=t,Wx.exports}var _D,hL;function Ku(){if(hL)return _D;hL=1;var t=eg(),e=t.freeze,n=or(),r=n.inherits,i=n.notEnumerableProp;function s(b,_){function w(C){if(!(this instanceof w))return new w(C);i(this,"message",typeof C=="string"?C:_),i(this,"name",b),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return r(w,Error),w}var a,o,l=s("Warning","warning"),c=s("CancellationError","cancellation error"),u=s("TimeoutError","timeout error"),f=s("AggregateError","aggregate error");try{a=TypeError,o=RangeError}catch{a=s("TypeError","type error"),o=s("RangeError","range error")}for(var h="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),p=0;p<h.length;++p)typeof Array.prototype[h[p]]=="function"&&(f.prototype[h[p]]=Array.prototype[h[p]]);t.defineProperty(f.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),f.prototype.isOperational=!0;var v=0;f.prototype.toString=function(){var b=Array(v*4+1).join(" "),_=`
`+b+`AggregateError of:
`;v++,b=Array(v*4+1).join(" ");for(var w=0;w<this.length;++w){for(var C=this[w]===this?"[Circular AggregateError]":this[w]+"",S=C.split(`
`),R=0;R<S.length;++R)S[R]=b+S[R];C=S.join(`
`),_+=C+`
`}return v--,_};function g(b){if(!(this instanceof g))return new g(b);i(this,"name","OperationalError"),i(this,"message",b),this.cause=b,this.isOperational=!0,b instanceof Error?(i(this,"message",b.message),i(this,"stack",b.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}r(g,Error);var y=Error.__BluebirdErrorTypes__;return y||(y=e({CancellationError:c,TimeoutError:u,OperationalError:g,RejectionError:g,AggregateError:f}),t.defineProperty(Error,"__BluebirdErrorTypes__",{value:y,writable:!1,enumerable:!1,configurable:!1})),_D={Error,TypeError:a,RangeError:o,CancellationError:y.CancellationError,OperationalError:y.OperationalError,TimeoutError:y.TimeoutError,AggregateError:y.AggregateError,Warning:l},_D}var bD,pL;function VFe(){return pL||(pL=1,bD=function(t,e){var n=or(),r=n.errorObj,i=n.isObject;function s(f,h){if(i(f)){if(f instanceof t)return f;var p=o(f);if(p===r){h&&h._pushContext();var v=t.reject(p.e);return h&&h._popContext(),v}else if(typeof p=="function"){if(c(f)){var v=new t(e);return f._then(v._fulfill,v._reject,void 0,v,null),v}return u(f,p,h)}}return f}function a(f){return f.then}function o(f){try{return a(f)}catch(h){return r.e=h,r}}var l={}.hasOwnProperty;function c(f){try{return l.call(f,"_promise0")}catch{return!1}}function u(f,h,p){var v=new t(e),g=v;p&&p._pushContext(),v._captureStackTrace(),p&&p._popContext();var y=!0,b=n.tryCatch(h).call(f,_,w);y=!1,v&&b===r&&(v._rejectCallback(b.e,!0,!0),v=null);function _(C){v&&(v._resolveCallback(C),v=null)}function w(C){v&&(v._rejectCallback(C,y,!0),v=null)}return g}return s}),bD}var wD,mL;function WFe(){return mL||(mL=1,wD=function(t,e,n,r,i){var s=or();s.isArray;function a(l){switch(l){case-2:return[];case-3:return{}}}function o(l){var c=this._promise=new t(e);l instanceof t&&c._propagateFrom(l,3),c._setOnCancel(this),this._values=l,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return s.inherits(o,i),o.prototype.length=function(){return this._length},o.prototype.promise=function(){return this._promise},o.prototype._init=function l(c,u){var f=n(this._values,this._promise);if(f instanceof t){f=f._target();var h=f._bitField;if(this._values=f,(h&50397184)===0)return this._promise._setAsyncGuaranteed(),f._then(l,this._reject,void 0,this,u);if((h&33554432)!==0)f=f._value();else return(h&16777216)!==0?this._reject(f._reason()):this._cancel()}if(f=s.asArray(f),f===null){var p=r("expecting an array or an iterable object but got "+s.classString(f)).reason();this._promise._rejectCallback(p,!1);return}if(f.length===0){u===-5?this._resolveEmptyArray():this._resolve(a(u));return}this._iterate(f)},o.prototype._iterate=function(l){var c=this.getActualLength(l.length);this._length=c,this._values=this.shouldCopyValues()?new Array(c):this._values;for(var u=this._promise,f=!1,h=null,p=0;p<c;++p){var v=n(l[p],u);v instanceof t?(v=v._target(),h=v._bitField):h=null,f?h!==null&&v.suppressUnhandledRejections():h!==null?(h&50397184)===0?(v._proxy(this,p),this._values[p]=v):(h&33554432)!==0?f=this._promiseFulfilled(v._value(),p):(h&16777216)!==0?f=this._promiseRejected(v._reason(),p):f=this._promiseCancelled(p):f=this._promiseFulfilled(v,p)}f||u._setAsyncGuaranteed()},o.prototype._isResolved=function(){return this._values===null},o.prototype._resolve=function(l){this._values=null,this._promise._fulfill(l)},o.prototype._cancel=function(){this._isResolved()||!this._promise._isCancellable()||(this._values=null,this._promise._cancel())},o.prototype._reject=function(l){this._values=null,this._promise._rejectCallback(l,!1)},o.prototype._promiseFulfilled=function(l,c){this._values[c]=l;var u=++this._totalResolved;return u>=this._length?(this._resolve(this._values),!0):!1},o.prototype._promiseCancelled=function(){return this._cancel(),!0},o.prototype._promiseRejected=function(l){return this._totalResolved++,this._reject(l),!0},o.prototype._resultCancelled=function(){if(!this._isResolved()){var l=this._values;if(this._cancel(),l instanceof t)l.cancel();else for(var c=0;c<l.length;++c)l[c]instanceof t&&l[c].cancel()}},o.prototype.shouldCopyValues=function(){return!0},o.prototype.getActualLength=function(l){return l},o}),wD}var TD,gL;function qFe(){return gL||(gL=1,TD=function(t){var e=!1,n=[];t.prototype._promiseCreated=function(){},t.prototype._pushContext=function(){},t.prototype._popContext=function(){return null},t._peekContext=t.prototype._peekContext=function(){};function r(){this._trace=new r.CapturedTrace(s())}r.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,n.push(this._trace))},r.prototype._popContext=function(){if(this._trace!==void 0){var a=n.pop(),o=a._promiseCreated;return a._promiseCreated=null,o}return null};function i(){if(e)return new r}function s(){var a=n.length-1;if(a>=0)return n[a]}return r.CapturedTrace=null,r.create=i,r.deactivateLongStackTraces=function(){},r.activateLongStackTraces=function(){var a=t.prototype._pushContext,o=t.prototype._popContext,l=t._peekContext,c=t.prototype._peekContext,u=t.prototype._promiseCreated;r.deactivateLongStackTraces=function(){t.prototype._pushContext=a,t.prototype._popContext=o,t._peekContext=l,t.prototype._peekContext=c,t.prototype._promiseCreated=u,e=!1},e=!0,t.prototype._pushContext=r.prototype._pushContext,t.prototype._popContext=r.prototype._popContext,t._peekContext=t.prototype._peekContext=s,t.prototype._promiseCreated=function(){var f=this._peekContext();f&&f._promiseCreated==null&&(f._promiseCreated=this)}},r}),TD}var ED,yL;function zFe(){return yL||(yL=1,ED=function(t,e){var n=t._getDomain,r=t._async,i=Ku().Warning,s=or(),a=s.canAttachTrace,o,l,c=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,u=/\((?:timers\.js):\d+:\d+\)/,f=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,h=null,p=null,v=!1,g,y=!!(s.env("BLUEBIRD_DEBUG")!=0&&(s.env("BLUEBIRD_DEBUG")||s.env("NODE_ENV")==="development")),b=!!(s.env("BLUEBIRD_WARNINGS")!=0&&(y||s.env("BLUEBIRD_WARNINGS"))),_=!!(s.env("BLUEBIRD_LONG_STACK_TRACES")!=0&&(y||s.env("BLUEBIRD_LONG_STACK_TRACES"))),w=s.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(b||!!s.env("BLUEBIRD_W_FORGOTTEN_RETURN"));t.prototype.suppressUnhandledRejections=function(){var ce=this._target();ce._bitField=ce._bitField&-1048577|524288},t.prototype._ensurePossibleRejectionHandled=function(){(this._bitField&524288)===0&&(this._setRejectionIsUnhandled(),r.invokeLater(this._notifyUnhandledRejection,this,void 0))},t.prototype._notifyUnhandledRejectionIsHandled=function(){me("rejectionHandled",o,void 0,this)},t.prototype._setReturnedNonUndefined=function(){this._bitField=this._bitField|268435456},t.prototype._returnedNonUndefined=function(){return(this._bitField&268435456)!==0},t.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var ce=this._settledValue();this._setUnhandledRejectionIsNotified(),me("unhandledRejection",l,ce,this)}},t.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=this._bitField|262144},t.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},t.prototype._isUnhandledRejectionNotified=function(){return(this._bitField&262144)>0},t.prototype._setRejectionIsUnhandled=function(){this._bitField=this._bitField|1048576},t.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},t.prototype._isRejectionUnhandled=function(){return(this._bitField&1048576)>0},t.prototype._warn=function(ce,ge,ve){return G(ce,ge,ve||this)},t.onPossiblyUnhandledRejection=function(ce){var ge=n();l=typeof ce=="function"?ge===null?ce:s.domainBind(ge,ce):void 0},t.onUnhandledRejectionHandled=function(ce){var ge=n();o=typeof ce=="function"?ge===null?ce:s.domainBind(ge,ce):void 0};var C=function(){};t.longStackTraces=function(){if(r.haveItemsQueued()&&!ie.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!ie.longStackTraces&&ye()){var ce=t.prototype._captureStackTrace,ge=t.prototype._attachExtraTrace;ie.longStackTraces=!0,C=function(){if(r.haveItemsQueued()&&!ie.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);t.prototype._captureStackTrace=ce,t.prototype._attachExtraTrace=ge,e.deactivateLongStackTraces(),r.enableTrampoline(),ie.longStackTraces=!1},t.prototype._captureStackTrace=Q,t.prototype._attachExtraTrace=B,e.activateLongStackTraces(),r.disableTrampolineIfNecessary()}},t.hasLongStackTraces=function(){return ie.longStackTraces&&ye()};var S=(function(){try{if(typeof CustomEvent=="function"){var ce=new CustomEvent("CustomEvent");return s.global.dispatchEvent(ce),function(ge,ve){var Se=new CustomEvent(ge.toLowerCase(),{detail:ve,cancelable:!0});return!s.global.dispatchEvent(Se)}}else if(typeof Event=="function"){var ce=new Event("CustomEvent");return s.global.dispatchEvent(ce),function(ve,Se){var Oe=new Event(ve.toLowerCase(),{cancelable:!0});return Oe.detail=Se,!s.global.dispatchEvent(Oe)}}else{var ce=document.createEvent("CustomEvent");return ce.initCustomEvent("testingtheevent",!1,!0,{}),s.global.dispatchEvent(ce),function(ve,Se){var Oe=document.createEvent("CustomEvent");return Oe.initCustomEvent(ve.toLowerCase(),!1,!0,Se),!s.global.dispatchEvent(Oe)}}}catch{}return function(){return!1}})(),R=(function(){return s.isNode?function(){return process.emit.apply(process,arguments)}:s.global?function(ce){var ge="on"+ce.toLowerCase(),ve=s.global[ge];return ve?(ve.apply(s.global,[].slice.call(arguments,1)),!0):!1}:function(){return!1}})();function D(ce,ge){return{promise:ge}}var N={promiseCreated:D,promiseFulfilled:D,promiseRejected:D,promiseResolved:D,promiseCancelled:D,promiseChained:function(ce,ge,ve){return{promise:ge,child:ve}},warning:function(ce,ge){return{warning:ge}},unhandledRejection:function(ce,ge,ve){return{reason:ge,promise:ve}},rejectionHandled:D},k=function(ce){var ge=!1;try{ge=R.apply(null,arguments)}catch(Se){r.throwLater(Se),ge=!0}var ve=!1;try{ve=S(ce,N[ce].apply(null,arguments))}catch(Se){r.throwLater(Se),ve=!0}return ve||ge};t.config=function(ce){if(ce=Object(ce),"longStackTraces"in ce&&(ce.longStackTraces?t.longStackTraces():!ce.longStackTraces&&t.hasLongStackTraces()&&C()),"warnings"in ce){var ge=ce.warnings;ie.warnings=!!ge,w=ie.warnings,s.isObject(ge)&&"wForgottenReturn"in ge&&(w=!!ge.wForgottenReturn)}if("cancellation"in ce&&ce.cancellation&&!ie.cancellation){if(r.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");t.prototype._clearCancellationData=K,t.prototype._propagateFrom=X,t.prototype._onCancel=U,t.prototype._setOnCancel=O,t.prototype._attachCancellationCallback=I,t.prototype._execute=P,ne=X,ie.cancellation=!0}return"monitoring"in ce&&(ce.monitoring&&!ie.monitoring?(ie.monitoring=!0,t.prototype._fireEvent=k):!ce.monitoring&&ie.monitoring&&(ie.monitoring=!1,t.prototype._fireEvent=F)),t};function F(){return!1}t.prototype._fireEvent=F,t.prototype._execute=function(ce,ge,ve){try{ce(ge,ve)}catch(Se){return Se}},t.prototype._onCancel=function(){},t.prototype._setOnCancel=function(ce){},t.prototype._attachCancellationCallback=function(ce){},t.prototype._captureStackTrace=function(){},t.prototype._attachExtraTrace=function(){},t.prototype._clearCancellationData=function(){},t.prototype._propagateFrom=function(ce,ge){};function P(ce,ge,ve){var Se=this;try{ce(ge,ve,function(Oe){if(typeof Oe!="function")throw new TypeError("onCancel must be a function, got: "+s.toString(Oe));Se._attachCancellationCallback(Oe)})}catch(Oe){return Oe}}function I(ce){if(!this._isCancellable())return this;var ge=this._onCancel();ge!==void 0?s.isArray(ge)?ge.push(ce):this._setOnCancel([ge,ce]):this._setOnCancel(ce)}function U(){return this._onCancelField}function O(ce){this._onCancelField=ce}function K(){this._cancellationParent=void 0,this._onCancelField=void 0}function X(ce,ge){if((ge&1)!==0){this._cancellationParent=ce;var ve=ce._branchesRemainingToCancel;ve===void 0&&(ve=0),ce._branchesRemainingToCancel=ve+1}(ge&2)!==0&&ce._isBound()&&this._setBoundTo(ce._boundTo)}function J(ce,ge){(ge&2)!==0&&ce._isBound()&&this._setBoundTo(ce._boundTo)}var ne=J;function z(){var ce=this._boundTo;return ce!==void 0&&ce instanceof t?ce.isFulfilled()?ce.value():void 0:ce}function Q(){this._trace=new he(this._peekContext())}function B(ce,ge){if(a(ce)){var ve=this._trace;if(ve!==void 0&&ge&&(ve=ve._parent),ve!==void 0)ve.attachExtraTrace(ce);else if(!ce.__stackCleaned__){var Se=De(ce);s.notEnumerableProp(ce,"stack",Se.message+`
`+Se.stack.join(`
`)),s.notEnumerableProp(ce,"__stackCleaned__",!0)}}}function j(ce,ge,ve,Se,Oe){if(ce===void 0&&ge!==null&&w){if(Oe!==void 0&&Oe._returnedNonUndefined()||(Se._bitField&65535)===0)return;ve&&(ve=ve+" ");var Te="",Ue="";if(ge._trace){for(var Le=ge._trace.stack.split(`
`),Ge=de(Le),rt=Ge.length-1;rt>=0;--rt){var it=Ge[rt];if(!u.test(it)){var Vt=it.match(f);Vt&&(Te="at "+Vt[1]+":"+Vt[2]+":"+Vt[3]+" ");break}}if(Ge.length>0){for(var xn=Ge[0],rt=0;rt<Le.length;++rt)if(Le[rt]===xn){rt>0&&(Ue=`
`+Le[rt-1]);break}}}var ln="a promise was created in a "+ve+"handler "+Te+"but was not returned from it, see http://goo.gl/rRqMUw"+Ue;Se._warn(ln,!0,ge)}}function W(ce,ge){var ve=ce+" is deprecated and will be removed in a future version.";return ge&&(ve+=" Use "+ge+" instead."),G(ve)}function G(ce,ge,ve){if(ie.warnings){var Se=new i(ce),Oe;if(ge)ve._attachExtraTrace(Se);else if(ie.longStackTraces&&(Oe=t._peekContext()))Oe.attachExtraTrace(Se);else{var Te=De(Se);Se.stack=Te.message+`
`+Te.stack.join(`
`)}k("warning",Se)||Pe(Se,"",!0)}}function Y(ce,ge){for(var ve=0;ve<ge.length-1;++ve)ge[ve].push("From previous event:"),ge[ve]=ge[ve].join(`
`);return ve<ge.length&&(ge[ve]=ge[ve].join(`
`)),ce+`
`+ge.join(`
`)}function ee(ce){for(var ge=0;ge<ce.length;++ge)(ce[ge].length===0||ge+1<ce.length&&ce[ge][0]===ce[ge+1][0])&&(ce.splice(ge,1),ge--)}function ae(ce){for(var ge=ce[0],ve=1;ve<ce.length;++ve){for(var Se=ce[ve],Oe=ge.length-1,Te=ge[Oe],Ue=-1,Le=Se.length-1;Le>=0;--Le)if(Se[Le]===Te){Ue=Le;break}for(var Le=Ue;Le>=0;--Le){var Ge=Se[Le];if(ge[Oe]===Ge)ge.pop(),Oe--;else break}ge=Se}}function de(ce){for(var ge=[],ve=0;ve<ce.length;++ve){var Se=ce[ve],Oe=Se==="    (No stack trace)"||h.test(Se),Te=Oe&&be(Se);Oe&&!Te&&(v&&Se.charAt(0)!==" "&&(Se="    "+Se),ge.push(Se))}return ge}function fe(ce){for(var ge=ce.stack.replace(/\s+$/g,"").split(`
`),ve=0;ve<ge.length;++ve){var Se=ge[ve];if(Se==="    (No stack trace)"||h.test(Se))break}return ve>0&&ce.name!="SyntaxError"&&(ge=ge.slice(ve)),ge}function De(ce){var ge=ce.stack,ve=ce.toString();return ge=typeof ge=="string"&&ge.length>0?fe(ce):["    (No stack trace)"],{message:ve,stack:ce.name=="SyntaxError"?ge:de(ge)}}function Pe(ce,ge,ve){if(typeof console<"u"){var Se;if(s.isObject(ce)){var Oe=ce.stack;Se=ge+p(Oe,ce)}else Se=ge+String(ce);typeof g=="function"?g(Se,ve):(typeof console.log=="function"||typeof console.log=="object")&&console.log(Se)}}function me(ce,ge,ve,Se){var Oe=!1;try{typeof ge=="function"&&(Oe=!0,ce==="rejectionHandled"?ge(Se):ge(ve,Se))}catch(Te){r.throwLater(Te)}ce==="unhandledRejection"?!k(ce,ve,Se)&&!Oe&&Pe(ve,"Unhandled rejection "):k(ce,Se)}function je(ce){var ge;if(typeof ce=="function")ge="[function "+(ce.name||"anonymous")+"]";else{ge=ce&&typeof ce.toString=="function"?ce.toString():s.toString(ce);var ve=/\[object [a-zA-Z0-9$_]+\]/;if(ve.test(ge))try{var Se=JSON.stringify(ce);ge=Se}catch{}ge.length===0&&(ge="(empty array)")}return"(<"+V(ge)+">, no stack trace)"}function V(ce){var ge=41;return ce.length<ge?ce:ce.substr(0,ge-3)+"..."}function ye(){return typeof _e=="function"}var be=function(){return!1},oe=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function re(ce){var ge=ce.match(oe);if(ge)return{fileName:ge[1],line:parseInt(ge[2],10)}}function le(ce,ge){if(ye()){for(var ve=ce.stack.split(`
`),Se=ge.stack.split(`
`),Oe=-1,Te=-1,Ue,Le,Ge=0;Ge<ve.length;++Ge){var rt=re(ve[Ge]);if(rt){Ue=rt.fileName,Oe=rt.line;break}}for(var Ge=0;Ge<Se.length;++Ge){var rt=re(Se[Ge]);if(rt){Le=rt.fileName,Te=rt.line;break}}Oe<0||Te<0||!Ue||!Le||Ue!==Le||Oe>=Te||(be=function(it){if(c.test(it))return!0;var Vt=re(it);return!!(Vt&&Vt.fileName===Ue&&Oe<=Vt.line&&Vt.line<=Te)})}}function he(ce){this._parent=ce,this._promisesCreated=0;var ge=this._length=1+(ce===void 0?0:ce._length);_e(this,he),ge>32&&this.uncycle()}s.inherits(he,Error),e.CapturedTrace=he,he.prototype.uncycle=function(){var ce=this._length;if(!(ce<2)){for(var ge=[],ve={},Se=0,Oe=this;Oe!==void 0;++Se)ge.push(Oe),Oe=Oe._parent;ce=this._length=Se;for(var Se=ce-1;Se>=0;--Se){var Te=ge[Se].stack;ve[Te]===void 0&&(ve[Te]=Se)}for(var Se=0;Se<ce;++Se){var Ue=ge[Se].stack,Le=ve[Ue];if(Le!==void 0&&Le!==Se){Le>0&&(ge[Le-1]._parent=void 0,ge[Le-1]._length=1),ge[Se]._parent=void 0,ge[Se]._length=1;var Ge=Se>0?ge[Se-1]:this;Le<ce-1?(Ge._parent=ge[Le+1],Ge._parent.uncycle(),Ge._length=Ge._parent._length+1):(Ge._parent=void 0,Ge._length=1);for(var rt=Ge._length+1,it=Se-2;it>=0;--it)ge[it]._length=rt,rt++;return}}}},he.prototype.attachExtraTrace=function(ce){if(!ce.__stackCleaned__){this.uncycle();for(var ge=De(ce),ve=ge.message,Se=[ge.stack],Oe=this;Oe!==void 0;)Se.push(de(Oe.stack.split(`
`))),Oe=Oe._parent;ae(Se),ee(Se),s.notEnumerableProp(ce,"stack",Y(ve,Se)),s.notEnumerableProp(ce,"__stackCleaned__",!0)}};var _e=(function(){var ge=/^\s*at\s*/,ve=function(Ue,Le){return typeof Ue=="string"?Ue:Le.name!==void 0&&Le.message!==void 0?Le.toString():je(Le)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,h=ge,p=ve;var Se=Error.captureStackTrace;return be=function(Ue){return c.test(Ue)},function(Ue,Le){Error.stackTraceLimit+=6,Se(Ue,Le),Error.stackTraceLimit-=6}}var Oe=new Error;if(typeof Oe.stack=="string"&&Oe.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return h=/@/,p=ve,v=!0,function(Le){Le.stack=new Error().stack};var Te;try{throw new Error}catch(Ue){Te="stack"in Ue}return!("stack"in Oe)&&Te&&typeof Error.stackTraceLimit=="number"?(h=ge,p=ve,function(Le){Error.stackTraceLimit+=6;try{throw new Error}catch(Ge){Le.stack=Ge.stack}Error.stackTraceLimit-=6}):(p=function(Ue,Le){return typeof Ue=="string"?Ue:(typeof Le=="object"||typeof Le=="function")&&Le.name!==void 0&&Le.message!==void 0?Le.toString():je(Le)},null)})();typeof console<"u"&&typeof console.warn<"u"&&(g=function(ce){console.warn(ce)},s.isNode&&process.stderr.isTTY?g=function(ce,ge){var ve=ge?"\x1B[33m":"\x1B[31m";console.warn(ve+ce+`\x1B[0m
`)}:!s.isNode&&typeof new Error().stack=="string"&&(g=function(ce,ge){console.warn("%c"+ce,ge?"color: darkorange":"color: red")}));var ie={warnings:b,longStackTraces:!1,cancellation:!1,monitoring:!1};return _&&t.longStackTraces(),{longStackTraces:function(){return ie.longStackTraces},warnings:function(){return ie.warnings},cancellation:function(){return ie.cancellation},monitoring:function(){return ie.monitoring},propagateFromFunction:function(){return ne},boundValueFunction:function(){return z},checkForgottenReturns:j,setBounds:le,warn:G,deprecated:W,CapturedTrace:he,fireDomEvent:S,fireGlobalEvent:R}}),ED}var CD,vL;function HFe(){return vL||(vL=1,CD=function(t,e){var n=or(),r=t.CancellationError,i=n.errorObj;function s(f,h,p){this.promise=f,this.type=h,this.handler=p,this.called=!1,this.cancelPromise=null}s.prototype.isFinallyHandler=function(){return this.type===0};function a(f){this.finallyHandler=f}a.prototype._resultCancelled=function(){o(this.finallyHandler)};function o(f,h){return f.cancelPromise!=null?(arguments.length>1?f.cancelPromise._reject(h):f.cancelPromise._cancel(),f.cancelPromise=null,!0):!1}function l(){return u.call(this,this.promise._target()._settledValue())}function c(f){if(!o(this,f))return i.e=f,i}function u(f){var h=this.promise,p=this.handler;if(!this.called){this.called=!0;var v=this.isFinallyHandler()?p.call(h._boundValue()):p.call(h._boundValue(),f);if(v!==void 0){h._setReturnedNonUndefined();var g=e(v,h);if(g instanceof t){if(this.cancelPromise!=null)if(g._isCancelled()){var y=new r("late cancellation observer");return h._attachExtraTrace(y),i.e=y,i}else g.isPending()&&g._attachCancellationCallback(new a(this));return g._then(l,c,void 0,this,void 0)}}}return h.isRejected()?(o(this),i.e=f,i):(o(this),f)}return t.prototype._passThrough=function(f,h,p,v){return typeof f!="function"?this.then():this._then(p,v,void 0,new s(this,h,f),void 0)},t.prototype.lastly=t.prototype.finally=function(f){return this._passThrough(f,0,u,u)},t.prototype.tap=function(f){return this._passThrough(f,1,u)},s}),CD}var SD,xL;function $Fe(){return xL||(xL=1,SD=function(t){var e=or(),n=eg().keys,r=e.tryCatch,i=e.errorObj;function s(a,o,l){return function(c){var u=l._boundValue();e:for(var f=0;f<a.length;++f){var h=a[f];if(h===Error||h!=null&&h.prototype instanceof Error){if(c instanceof h)return r(o).call(u,c)}else if(typeof h=="function"){var p=r(h).call(u,c);if(p===i)return p;if(p)return r(o).call(u,c)}else if(e.isObject(c)){for(var v=n(h),g=0;g<v.length;++g){var y=v[g];if(h[y]!=c[y])continue e}return r(o).call(u,c)}}return t}}return s}),SD}var DD,_L;function jY(){if(_L)return DD;_L=1;var t=or(),e=t.maybeWrapAsError,n=Ku(),r=n.OperationalError,i=eg();function s(c){return c instanceof Error&&i.getPrototypeOf(c)===Error.prototype}var a=/^(?:name|message|stack|cause)$/;function o(c){var u;if(s(c)){u=new r(c),u.name=c.name,u.message=c.message,u.stack=c.stack;for(var f=i.keys(c),h=0;h<f.length;++h){var p=f[h];a.test(p)||(u[p]=c[p])}return u}return t.markAsOriginatingFromRejection(c),c}function l(c,u){return function(f,h){if(c!==null){if(f){var p=o(e(f));c._attachExtraTrace(p),c._reject(p)}else if(!u)c._fulfill(h);else{for(var v=arguments.length,g=new Array(Math.max(v-1,0)),y=1;y<v;++y)g[y-1]=arguments[y];c._fulfill(g)}c=null}}}return DD=l,DD}var AD,bL;function GFe(){return bL||(bL=1,AD=function(t,e,n,r,i){var s=or(),a=s.tryCatch;t.method=function(o){if(typeof o!="function")throw new t.TypeError("expecting a function but got "+s.classString(o));return function(){var l=new t(e);l._captureStackTrace(),l._pushContext();var c=a(o).apply(this,arguments),u=l._popContext();return i.checkForgottenReturns(c,u,"Promise.method",l),l._resolveFromSyncValue(c),l}},t.attempt=t.try=function(o){if(typeof o!="function")return r("expecting a function but got "+s.classString(o));var l=new t(e);l._captureStackTrace(),l._pushContext();var c;if(arguments.length>1){i.deprecated("calling Promise.try with more than 1 argument");var u=arguments[1],f=arguments[2];c=s.isArray(u)?a(o).apply(f,u):a(o).call(f,u)}else c=a(o)();var h=l._popContext();return i.checkForgottenReturns(c,h,"Promise.try",l),l._resolveFromSyncValue(c),l},t.prototype._resolveFromSyncValue=function(o){o===s.errorObj?this._rejectCallback(o.e,!1):this._resolveCallback(o,!0)}}),AD}var ND,wL;function KFe(){return wL||(wL=1,ND=function(t,e,n,r){var i=!1,s=function(c,u){this._reject(u)},a=function(c,u){u.promiseRejectionQueued=!0,u.bindingPromise._then(s,s,null,this,c)},o=function(c,u){(this._bitField&50397184)===0&&this._resolveCallback(u.target)},l=function(c,u){u.promiseRejectionQueued||this._reject(c)};t.prototype.bind=function(c){i||(i=!0,t.prototype._propagateFrom=r.propagateFromFunction(),t.prototype._boundValue=r.boundValueFunction());var u=n(c),f=new t(e);f._propagateFrom(this,1);var h=this._target();if(f._setBoundTo(u),u instanceof t){var p={promiseRejectionQueued:!1,promise:f,target:h,bindingPromise:u};h._then(e,a,void 0,f,p),u._then(o,l,void 0,f,p),f._setOnCancel(u)}else f._resolveCallback(h);return f},t.prototype._setBoundTo=function(c){c!==void 0?(this._bitField=this._bitField|2097152,this._boundTo=c):this._bitField=this._bitField&-2097153},t.prototype._isBound=function(){return(this._bitField&2097152)===2097152},t.bind=function(c,u){return t.resolve(u).bind(c)}}),ND}var ID,TL;function XFe(){return TL||(TL=1,ID=function(t,e,n,r){var i=or(),s=i.tryCatch,a=i.errorObj,o=t._async;t.prototype.break=t.prototype.cancel=function(){if(!r.cancellation())return this._warn("cancellation is disabled");for(var l=this,c=l;l._isCancellable();){if(!l._cancelBy(c)){c._isFollowing()?c._followee().cancel():c._cancelBranched();break}var u=l._cancellationParent;if(u==null||!u._isCancellable()){l._isFollowing()?l._followee().cancel():l._cancelBranched();break}else l._isFollowing()&&l._followee().cancel(),l._setWillBeCancelled(),c=l,l=u}},t.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},t.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},t.prototype._cancelBy=function(l){return l===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),this._enoughBranchesHaveCancelled()?(this._invokeOnCancel(),!0):!1)},t.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},t.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),o.invoke(this._cancelPromises,this,void 0))},t.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},t.prototype._unsetOnCancel=function(){this._onCancelField=void 0},t.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},t.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},t.prototype._doInvokeOnCancel=function(l,c){if(i.isArray(l))for(var u=0;u<l.length;++u)this._doInvokeOnCancel(l[u],c);else if(l!==void 0)if(typeof l=="function"){if(!c){var f=s(l).call(this._boundValue());f===a&&(this._attachExtraTrace(f.e),o.throwLater(f.e))}}else l._resultCancelled(this)},t.prototype._invokeOnCancel=function(){var l=this._onCancel();this._unsetOnCancel(),o.invoke(this._doInvokeOnCancel,this,l)},t.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},t.prototype._resultCancelled=function(){this.cancel()}}),ID}var kD,EL;function JFe(){return EL||(EL=1,kD=function(t){function e(){return this.value}function n(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(r){return r instanceof t&&r.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:r},void 0)},t.prototype.throw=t.prototype.thenThrow=function(r){return this._then(n,void 0,void 0,{reason:r},void 0)},t.prototype.catchThrow=function(r){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:r},void 0);var i=arguments[1],s=function(){throw i};return this.caught(r,s)},t.prototype.catchReturn=function(r){if(arguments.length<=1)return r instanceof t&&r.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:r},void 0);var i=arguments[1];i instanceof t&&i.suppressUnhandledRejections();var s=function(){return i};return this.caught(r,s)}}),kD}var RD,CL;function YFe(){return CL||(CL=1,RD=function(t){function e(l){l!==void 0?(l=l._target(),this._bitField=l._bitField,this._settledValueField=l._isFateSealed()?l._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var n=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},r=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},i=e.prototype.isFulfilled=function(){return(this._bitField&33554432)!==0},s=e.prototype.isRejected=function(){return(this._bitField&16777216)!==0},a=e.prototype.isPending=function(){return(this._bitField&50397184)===0},o=e.prototype.isResolved=function(){return(this._bitField&50331648)!==0};e.prototype.isCancelled=function(){return(this._bitField&8454144)!==0},t.prototype.__isCancelled=function(){return(this._bitField&65536)===65536},t.prototype._isCancelled=function(){return this._target().__isCancelled()},t.prototype.isCancelled=function(){return(this._target()._bitField&8454144)!==0},t.prototype.isPending=function(){return a.call(this._target())},t.prototype.isRejected=function(){return s.call(this._target())},t.prototype.isFulfilled=function(){return i.call(this._target())},t.prototype.isResolved=function(){return o.call(this._target())},t.prototype.value=function(){return n.call(this._target())},t.prototype.reason=function(){var l=this._target();return l._unsetRejectionIsUnhandled(),r.call(l)},t.prototype._value=function(){return this._settledValue()},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},t.PromiseInspection=e}),RD}var PD,SL;function QFe(){return SL||(SL=1,PD=function(t,e,n,r,i,s){var a=or(),o=a.canEvaluate,l=a.tryCatch,c=a.errorObj,u;if(o){for(var f=function(_){return new Function("value","holder",`                             
	            'use strict';                                                    
	            holder.pIndex = value;                                           
	            holder.checkFulfillment(this);                                   
	            `.replace(/Index/g,_))},h=function(_){return new Function("promise","holder",`                           
	            'use strict';                                                    
	            holder.pIndex = promise;                                         
	            `.replace(/Index/g,_))},p=function(_){for(var w=new Array(_),C=0;C<w.length;++C)w[C]="this.p"+(C+1);var S=w.join(" = ")+" = null;",R=`var promise;
`+w.map(function(F){return`                                                         
	                promise = `+F+`;                                      
	                if (promise instanceof Promise) {                            
	                    promise.cancel();                                        
	                }                                                            
	            `}).join(`
`),D=w.join(", "),N="Holder$"+_,k=`return function(tryCatch, errorObj, Promise, async) {    
	            'use strict';                                                    
	            function [TheName](fn) {                                         
	                [TheProperties]                                              
	                this.fn = fn;                                                
	                this.asyncNeeded = true;                                     
	                this.now = 0;                                                
	            }                                                                
	                                                                             
	            [TheName].prototype._callFunction = function(promise) {          
	                promise._pushContext();                                      
	                var ret = tryCatch(this.fn)([ThePassedArguments]);           
	                promise._popContext();                                       
	                if (ret === errorObj) {                                      
	                    promise._rejectCallback(ret.e, false);                   
	                } else {                                                     
	                    promise._resolveCallback(ret);                           
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype.checkFulfillment = function(promise) {       
	                var now = ++this.now;                                        
	                if (now === [TheTotal]) {                                    
	                    if (this.asyncNeeded) {                                  
	                        async.invoke(this._callFunction, this, promise);     
	                    } else {                                                 
	                        this._callFunction(promise);                         
	                    }                                                        
	                                                                             
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype._resultCancelled = function() {              
	                [CancellationCode]                                           
	            };                                                               
	                                                                             
	            return [TheName];                                                
	        }(tryCatch, errorObj, Promise, async);                               
	        `;return k=k.replace(/\[TheName\]/g,N).replace(/\[TheTotal\]/g,_).replace(/\[ThePassedArguments\]/g,D).replace(/\[TheProperties\]/g,S).replace(/\[CancellationCode\]/g,R),new Function("tryCatch","errorObj","Promise","async",k)(l,c,t,i)},v=[],g=[],y=[],b=0;b<8;++b)v.push(p(b+1)),g.push(f(b+1)),y.push(h(b+1));u=function(_){this._reject(_)}}t.join=function(){var _=arguments.length-1,w;if(_>0&&typeof arguments[_]=="function"&&(w=arguments[_],_<=8&&o)){var O=new t(r);O._captureStackTrace();for(var C=v[_-1],S=new C(w),R=g,D=0;D<_;++D){var N=n(arguments[D],O);if(N instanceof t){N=N._target();var k=N._bitField;(k&50397184)===0?(N._then(R[D],u,void 0,O,S),y[D](N,S),S.asyncNeeded=!1):(k&33554432)!==0?R[D].call(O,N._value(),S):(k&16777216)!==0?O._reject(N._reason()):O._cancel()}else R[D].call(O,N,S)}if(!O._isFateSealed()){if(S.asyncNeeded){var F=s();F!==null&&(S.fn=a.domainBind(F,S.fn))}O._setAsyncGuaranteed(),O._setOnCancel(S)}return O}for(var P=arguments.length,I=new Array(P),U=0;U<P;++U)I[U]=arguments[U];w&&I.pop();var O=new e(I).promise();return w!==void 0?O.spread(w):O}}),PD}var FD,DL;function ZFe(){return DL||(DL=1,FD=function(t,e,n,r,i,s){var a=t._getDomain,o=or(),l=o.tryCatch,c=o.errorObj,u=t._async;function f(p,v,g,y){this.constructor$(p),this._promise._captureStackTrace();var b=a();this._callback=b===null?v:o.domainBind(b,v),this._preservedValues=y===i?new Array(this.length()):null,this._limit=g,this._inFlight=0,this._queue=[],u.invoke(this._asyncInit,this,void 0)}o.inherits(f,e),f.prototype._asyncInit=function(){this._init$(void 0,-2)},f.prototype._init=function(){},f.prototype._promiseFulfilled=function(p,v){var g=this._values,y=this.length(),b=this._preservedValues,_=this._limit;if(v<0){if(v=v*-1-1,g[v]=p,_>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(_>=1&&this._inFlight>=_)return g[v]=p,this._queue.push(v),!1;b!==null&&(b[v]=p);var w=this._promise,C=this._callback,S=w._boundValue();w._pushContext();var R=l(C).call(S,p,v,y),D=w._popContext();if(s.checkForgottenReturns(R,D,b!==null?"Promise.filter":"Promise.map",w),R===c)return this._reject(R.e),!0;var N=r(R,this._promise);if(N instanceof t){N=N._target();var k=N._bitField;if((k&50397184)===0)return _>=1&&this._inFlight++,g[v]=N,N._proxy(this,(v+1)*-1),!1;if((k&33554432)!==0)R=N._value();else return(k&16777216)!==0?(this._reject(N._reason()),!0):(this._cancel(),!0)}g[v]=R}var F=++this._totalResolved;return F>=y?(b!==null?this._filter(g,b):this._resolve(g),!0):!1},f.prototype._drainQueue=function(){for(var p=this._queue,v=this._limit,g=this._values;p.length>0&&this._inFlight<v;){if(this._isResolved())return;var y=p.pop();this._promiseFulfilled(g[y],y)}},f.prototype._filter=function(p,v){for(var g=v.length,y=new Array(g),b=0,_=0;_<g;++_)p[_]&&(y[b++]=v[_]);y.length=b,this._resolve(y)},f.prototype.preservedValues=function(){return this._preservedValues};function h(p,v,g,y){if(typeof v!="function")return n("expecting a function but got "+o.classString(v));var b=0;if(g!==void 0)if(typeof g=="object"&&g!==null){if(typeof g.concurrency!="number")return t.reject(new TypeError("'concurrency' must be a number but it is "+o.classString(g.concurrency)));b=g.concurrency}else return t.reject(new TypeError("options argument must be an object but it is "+o.classString(g)));return b=typeof b=="number"&&isFinite(b)&&b>=1?b:0,new f(p,v,b,y).promise()}t.prototype.map=function(p,v){return h(this,p,v,null)},t.map=function(p,v,g,y){return h(p,v,g,y)}}),FD}var MD,AL;function eMe(){if(AL)return MD;AL=1;var t=Object.create;if(t){var e=t(null),n=t(null);e[" size"]=n[" size"]=0}return MD=function(r){var i=or(),s=i.canEvaluate,a=i.isIdentifier,o,l;{var c=function(y){return new Function("ensureMethod",`                                    
	        return function(obj) {                                               
	            'use strict'                                                     
	            var len = this.length;                                           
	            ensureMethod(obj, 'methodName');                                 
	            switch(len) {                                                    
	                case 1: return obj.methodName(this[0]);                      
	                case 2: return obj.methodName(this[0], this[1]);             
	                case 3: return obj.methodName(this[0], this[1], this[2]);    
	                case 0: return obj.methodName();                             
	                default:                                                     
	                    return obj.methodName.apply(obj, this);                  
	            }                                                                
	        };                                                                   
	        `.replace(/methodName/g,y))(h)},u=function(y){return new Function("obj",`                                             
	        'use strict';                                                        
	        return obj.propertyName;                                             
	        `.replace("propertyName",y))},f=function(y,b,_){var w=_[y];if(typeof w!="function"){if(!a(y))return null;if(w=b(y),_[y]=w,_[" size"]++,_[" size"]>512){for(var C=Object.keys(_),S=0;S<256;++S)delete _[C[S]];_[" size"]=C.length-256}}return w};o=function(y){return f(y,c,e)},l=function(y){return f(y,u,n)}}function h(y,b){var _;if(y!=null&&(_=y[b]),typeof _!="function"){var w="Object "+i.classString(y)+" has no method '"+i.toString(b)+"'";throw new r.TypeError(w)}return _}function p(y){var b=this.pop(),_=h(y,b);return _.apply(y,this)}r.prototype.call=function(y){for(var b=arguments.length,_=new Array(Math.max(b-1,0)),w=1;w<b;++w)_[w-1]=arguments[w];if(s){var C=o(y);if(C!==null)return this._then(C,void 0,void 0,_,void 0)}return _.push(y),this._then(p,void 0,void 0,_,void 0)};function v(y){return y[this]}function g(y){var b=+this;return b<0&&(b=Math.max(0,b+y.length)),y[b]}r.prototype.get=function(y){var b=typeof y=="number",_;if(b)_=g;else if(s){var w=l(y);_=w!==null?w:v}else _=v;return this._then(_,void 0,void 0,y,void 0)}},MD}var UD,NL;function tMe(){return NL||(NL=1,UD=function(t,e,n,r,i,s){var a=or(),o=Ku().TypeError,l=or().inherits,c=a.errorObj,u=a.tryCatch,f={};function h(w){setTimeout(function(){throw w},0)}function p(w){var C=n(w);return C!==w&&typeof w._isDisposable=="function"&&typeof w._getDisposer=="function"&&w._isDisposable()&&C._setDisposable(w._getDisposer()),C}function v(w,C){var S=0,R=w.length,D=new t(i);function N(){if(S>=R)return D._fulfill();var k=p(w[S++]);if(k instanceof t&&k._isDisposable()){try{k=n(k._getDisposer().tryDispose(C),w.promise)}catch(F){return h(F)}if(k instanceof t)return k._then(N,h,null,null,null)}N()}return N(),D}function g(w,C,S){this._data=w,this._promise=C,this._context=S}g.prototype.data=function(){return this._data},g.prototype.promise=function(){return this._promise},g.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():f},g.prototype.tryDispose=function(w){var C=this.resource(),S=this._context;S!==void 0&&S._pushContext();var R=C!==f?this.doDispose(C,w):null;return S!==void 0&&S._popContext(),this._promise._unsetDisposable(),this._data=null,R},g.isDisposer=function(w){return w!=null&&typeof w.resource=="function"&&typeof w.tryDispose=="function"};function y(w,C,S){this.constructor$(w,C,S)}l(y,g),y.prototype.doDispose=function(w,C){var S=this.data();return S.call(w,w,C)};function b(w){return g.isDisposer(w)?(this.resources[this.index]._setDisposable(w),w.promise()):w}function _(w){this.length=w,this.promise=null,this[w-1]=null}_.prototype._resultCancelled=function(){for(var w=this.length,C=0;C<w;++C){var S=this[C];S instanceof t&&S.cancel()}},t.using=function(){var w=arguments.length;if(w<2)return e("you must pass at least 2 arguments to Promise.using");var C=arguments[w-1];if(typeof C!="function")return e("expecting a function but got "+a.classString(C));var S,R=!0;w===2&&Array.isArray(arguments[0])?(S=arguments[0],w=S.length,R=!1):(S=arguments,w--);for(var D=new _(w),N=0;N<w;++N){var k=S[N];if(g.isDisposer(k)){var F=k;k=k.promise(),k._setDisposable(F)}else{var P=n(k);P instanceof t&&(k=P._then(b,null,null,{resources:D,index:N},void 0))}D[N]=k}for(var I=new Array(D.length),N=0;N<I.length;++N)I[N]=t.resolve(D[N]).reflect();var U=t.all(I).then(function(K){for(var X=0;X<K.length;++X){var J=K[X];if(J.isRejected())return c.e=J.error(),c;if(!J.isFulfilled()){U.cancel();return}K[X]=J.value()}O._pushContext(),C=u(C);var ne=R?C.apply(void 0,K):C(K),z=O._popContext();return s.checkForgottenReturns(ne,z,"Promise.using",O),ne}),O=U.lastly(function(){var K=new t.PromiseInspection(U);return v(D,K)});return D.promise=O,O._setOnCancel(D),O},t.prototype._setDisposable=function(w){this._bitField=this._bitField|131072,this._disposer=w},t.prototype._isDisposable=function(){return(this._bitField&131072)>0},t.prototype._getDisposer=function(){return this._disposer},t.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},t.prototype.disposer=function(w){if(typeof w=="function")return new y(w,this,r());throw new o}}),UD}var OD,IL;function nMe(){return IL||(IL=1,OD=function(t,e,n){var r=or(),i=t.TimeoutError;function s(f){this.handle=f}s.prototype._resultCancelled=function(){clearTimeout(this.handle)};var a=function(f){return o(+this).thenReturn(f)},o=t.delay=function(f,h){var p,v;return h!==void 0?(p=t.resolve(h)._then(a,null,null,f,void 0),n.cancellation()&&h instanceof t&&p._setOnCancel(h)):(p=new t(e),v=setTimeout(function(){p._fulfill()},+f),n.cancellation()&&p._setOnCancel(new s(v)),p._captureStackTrace()),p._setAsyncGuaranteed(),p};t.prototype.delay=function(f){return o(f,this)};var l=function(f,h,p){var v;typeof h!="string"?h instanceof Error?v=h:v=new i("operation timed out"):v=new i(h),r.markAsOriginatingFromRejection(v),f._attachExtraTrace(v),f._reject(v),p!=null&&p.cancel()};function c(f){return clearTimeout(this.handle),f}function u(f){throw clearTimeout(this.handle),f}t.prototype.timeout=function(f,h){f=+f;var p,v,g=new s(setTimeout(function(){p.isPending()&&l(p,h,v)},f));return n.cancellation()?(v=this.then(),p=v._then(c,u,void 0,g,void 0),p._setOnCancel(g)):p=this._then(c,u,void 0,g,void 0),p}}),OD}var LD,kL;function rMe(){return kL||(kL=1,LD=function(t,e,n,r,i,s){var a=Ku(),o=a.TypeError,l=or(),c=l.errorObj,u=l.tryCatch,f=[];function h(v,g,y){for(var b=0;b<g.length;++b){y._pushContext();var _=u(g[b])(v);if(y._popContext(),_===c){y._pushContext();var w=t.reject(c.e);return y._popContext(),w}var C=r(_,y);if(C instanceof t)return C}return null}function p(v,g,y,b){if(s.cancellation()){var _=new t(n),w=this._finallyPromise=new t(n);this._promise=_.lastly(function(){return w}),_._captureStackTrace(),_._setOnCancel(this)}else{var C=this._promise=new t(n);C._captureStackTrace()}this._stack=b,this._generatorFunction=v,this._receiver=g,this._generator=void 0,this._yieldHandlers=typeof y=="function"?[y].concat(f):f,this._yieldedPromise=null,this._cancellationPhase=!1}l.inherits(p,i),p.prototype._isResolved=function(){return this._promise===null},p.prototype._cleanup=function(){this._promise=this._generator=null,s.cancellation()&&this._finallyPromise!==null&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},p.prototype._promiseCancelled=function(){if(!this._isResolved()){var v=typeof this._generator.return<"u",g;if(v)this._promise._pushContext(),g=u(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var y=new t.CancellationError("generator .return() sentinel");t.coroutine.returnSentinel=y,this._promise._attachExtraTrace(y),this._promise._pushContext(),g=u(this._generator.throw).call(this._generator,y),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(g)}},p.prototype._promiseFulfilled=function(v){this._yieldedPromise=null,this._promise._pushContext();var g=u(this._generator.next).call(this._generator,v);this._promise._popContext(),this._continue(g)},p.prototype._promiseRejected=function(v){this._yieldedPromise=null,this._promise._attachExtraTrace(v),this._promise._pushContext();var g=u(this._generator.throw).call(this._generator,v);this._promise._popContext(),this._continue(g)},p.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof t){var v=this._yieldedPromise;this._yieldedPromise=null,v.cancel()}},p.prototype.promise=function(){return this._promise},p.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},p.prototype._continue=function(v){var g=this._promise;if(v===c)return this._cleanup(),this._cancellationPhase?g.cancel():g._rejectCallback(v.e,!1);var y=v.value;if(v.done===!0)return this._cleanup(),this._cancellationPhase?g.cancel():g._resolveCallback(y);var b=r(y,this._promise);if(!(b instanceof t)&&(b=h(b,this._yieldHandlers,this._promise),b===null)){this._promiseRejected(new o(`A value %s was yielded that could not be treated as a promise

    See http://goo.gl/MqrFmX

`.replace("%s",y)+`From coroutine:
`+this._stack.split(`
`).slice(1,-7).join(`
`)));return}b=b._target();var _=b._bitField;(_&50397184)===0?(this._yieldedPromise=b,b._proxy(this,null)):(_&33554432)!==0?t._async.invoke(this._promiseFulfilled,this,b._value()):(_&16777216)!==0?t._async.invoke(this._promiseRejected,this,b._reason()):this._promiseCancelled()},t.coroutine=function(v,g){if(typeof v!="function")throw new o(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var y=Object(g).yieldHandler,b=p,_=new Error().stack;return function(){var w=v.apply(this,arguments),C=new b(void 0,void 0,y,_),S=C.promise();return C._generator=w,C._promiseFulfilled(void 0),S}},t.coroutine.addYieldHandler=function(v){if(typeof v!="function")throw new o("expecting a function but got "+l.classString(v));f.push(v)},t.spawn=function(v){if(s.deprecated("Promise.spawn()","Promise.coroutine()"),typeof v!="function")return e(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var g=new p(v,this),y=g.promise();return g._run(t.spawn),y}}),LD}var jD,RL;function iMe(){return RL||(RL=1,jD=function(t){var e=or(),n=t._async,r=e.tryCatch,i=e.errorObj;function s(l,c){var u=this;if(!e.isArray(l))return a.call(u,l,c);var f=r(c).apply(u._boundValue(),[null].concat(l));f===i&&n.throwLater(f.e)}function a(l,c){var u=this,f=u._boundValue(),h=l===void 0?r(c).call(f,null):r(c).call(f,null,l);h===i&&n.throwLater(h.e)}function o(l,c){var u=this;if(!l){var f=new Error(l+"");f.cause=l,l=f}var h=r(c).call(u._boundValue(),l);h===i&&n.throwLater(h.e)}t.prototype.asCallback=t.prototype.nodeify=function(l,c){if(typeof l=="function"){var u=a;c!==void 0&&Object(c).spread&&(u=s),this._then(u,o,void 0,this,l)}return this}}),jD}var BD,PL;function sMe(){return PL||(PL=1,BD=function(t,e){var n={},r=or(),i=jY(),s=r.withAppended,a=r.maybeWrapAsError,o=r.canEvaluate,l=Ku().TypeError,c="Async",u={__isPromisified__:!0},f=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],h=new RegExp("^(?:"+f.join("|")+")$"),p=function(U){return r.isIdentifier(U)&&U.charAt(0)!=="_"&&U!=="constructor"};function v(U){return!h.test(U)}function g(U){try{return U.__isPromisified__===!0}catch{return!1}}function y(U,O,K){var X=r.getDataPropertyOrDefault(U,O+K,u);return X?g(X):!1}function b(U,O,K){for(var X=0;X<U.length;X+=2){var J=U[X];if(K.test(J)){for(var ne=J.replace(K,""),z=0;z<U.length;z+=2)if(U[z]===ne)throw new l(`Cannot promisify an API that has normal methods with '%s'-suffix

    See http://goo.gl/MqrFmX
`.replace("%s",O))}}}function _(U,O,K,X){for(var J=r.inheritedDataKeys(U),ne=[],z=0;z<J.length;++z){var Q=J[z],B=U[Q],j=X===p?!0:p(Q);typeof B=="function"&&!g(B)&&!y(U,Q,O)&&X(Q,B,U,j)&&ne.push(Q,B)}return b(ne,O,K),ne}var w=function(U){return U.replace(/([$])/,"\\$")},C;{var S=function(U){for(var O=[U],K=Math.max(0,U-1-3),X=U-1;X>=K;--X)O.push(X);for(var X=U+1;X<=3;++X)O.push(X);return O},R=function(U){return r.filledRange(U,"_arg","")},D=function(U){return r.filledRange(Math.max(U,3),"_arg","")},N=function(U){return typeof U.length=="number"?Math.max(Math.min(U.length,1024),0):0};C=function(U,O,K,X,J,ne){var z=Math.max(0,N(X)-1),Q=S(z),B=typeof U=="string"||O===n;function j(ee){var ae=R(ee).join(", "),de=ee>0?", ":"",fe;return B?fe=`ret = callback.call(this, {{args}}, nodeback); break;
`:fe=O===void 0?`ret = callback({{args}}, nodeback); break;
`:`ret = callback.call(receiver, {{args}}, nodeback); break;
`,fe.replace("{{args}}",ae).replace(", ",de)}function W(){for(var ee="",ae=0;ae<Q.length;++ae)ee+="case "+Q[ae]+":"+j(Q[ae]);return ee+=`                                                             
	        default:                                                             
	            var args = new Array(len + 1);                                   
	            var i = 0;                                                       
	            for (var i = 0; i < len; ++i) {                                  
	               args[i] = arguments[i];                                       
	            }                                                                
	            args[i] = nodeback;                                              
	            [CodeForCall]                                                    
	            break;                                                           
	        `.replace("[CodeForCall]",B?`ret = callback.apply(this, args);
`:`ret = callback.apply(receiver, args);
`),ee}var G=typeof U=="string"?"this != null ? this['"+U+"'] : fn":"fn",Y=`'use strict';                                                
	        var ret = function (Parameters) {                                    
	            'use strict';                                                    
	            var len = arguments.length;                                      
	            var promise = new Promise(INTERNAL);                             
	            promise._captureStackTrace();                                    
	            var nodeback = nodebackForPromise(promise, `+ne+`);   
	            var ret;                                                         
	            var callback = tryCatch([GetFunctionCode]);                      
	            switch(len) {                                                    
	                [CodeForSwitchCase]                                          
	            }                                                                
	            if (ret === errorObj) {                                          
	                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);
	            }                                                                
	            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     
	            return promise;                                                  
	        };                                                                   
	        notEnumerableProp(ret, '__isPromisified__', true);                   
	        return ret;                                                          
	    `.replace("[CodeForSwitchCase]",W()).replace("[GetFunctionCode]",G);return Y=Y.replace("Parameters",D(z)),new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL",Y)(t,X,O,s,a,i,r.tryCatch,r.errorObj,r.notEnumerableProp,e)}}function k(U,O,K,X,J,ne){var z=(function(){return this})(),Q=U;typeof Q=="string"&&(U=X);function B(){var j=O;O===n&&(j=this);var W=new t(e);W._captureStackTrace();var G=typeof Q=="string"&&this!==z?this[Q]:U,Y=i(W,ne);try{G.apply(j,s(arguments,Y))}catch(ee){W._rejectCallback(a(ee),!0,!0)}return W._isFateSealed()||W._setAsyncGuaranteed(),W}return r.notEnumerableProp(B,"__isPromisified__",!0),B}var F=o?C:k;function P(U,O,K,X,J){for(var ne=new RegExp(w(O)+"$"),z=_(U,O,ne,K),Q=0,B=z.length;Q<B;Q+=2){var j=z[Q],W=z[Q+1],G=j+O;if(X===F)U[G]=F(j,n,j,W,O,J);else{var Y=X(W,function(){return F(j,n,j,W,O,J)});r.notEnumerableProp(Y,"__isPromisified__",!0),U[G]=Y}}return r.toFastProperties(U),U}function I(U,O,K){return F(U,O,void 0,U,null,K)}t.promisify=function(U,O){if(typeof U!="function")throw new l("expecting a function but got "+r.classString(U));if(g(U))return U;O=Object(O);var K=O.context===void 0?n:O.context,X=!!O.multiArgs,J=I(U,K,X);return r.copyDescriptors(U,J,v),J},t.promisifyAll=function(U,O){if(typeof U!="function"&&typeof U!="object")throw new l(`the target of promisifyAll must be an object or a function

    See http://goo.gl/MqrFmX
`);O=Object(O);var K=!!O.multiArgs,X=O.suffix;typeof X!="string"&&(X=c);var J=O.filter;typeof J!="function"&&(J=p);var ne=O.promisifier;if(typeof ne!="function"&&(ne=F),!r.isIdentifier(X))throw new RangeError(`suffix must be a valid identifier

    See http://goo.gl/MqrFmX
`);for(var z=r.inheritedDataKeys(U),Q=0;Q<z.length;++Q){var B=U[z[Q]];z[Q]!=="constructor"&&r.isClass(B)&&(P(B.prototype,X,J,ne,K),P(B,X,J,ne,K))}return P(U,X,J,ne,K)}}),BD}var VD,FL;function aMe(){return FL||(FL=1,VD=function(t,e,n,r){var i=or(),s=i.isObject,a=eg(),o;typeof Map=="function"&&(o=Map);var l=(function(){var h=0,p=0;function v(g,y){this[h]=g,this[h+p]=y,h++}return function(y){p=y.size,h=0;var b=new Array(y.size*2);return y.forEach(v,b),b}})(),c=function(h){for(var p=new o,v=h.length/2|0,g=0;g<v;++g){var y=h[v+g],b=h[g];p.set(y,b)}return p};function u(h){var p=!1,v;if(o!==void 0&&h instanceof o)v=l(h),p=!0;else{var g=a.keys(h),y=g.length;v=new Array(y*2);for(var b=0;b<y;++b){var _=g[b];v[b]=h[_],v[b+y]=_}}this.constructor$(v),this._isMap=p,this._init$(void 0,-3)}i.inherits(u,e),u.prototype._init=function(){},u.prototype._promiseFulfilled=function(h,p){this._values[p]=h;var v=++this._totalResolved;if(v>=this._length){var g;if(this._isMap)g=c(this._values);else{g={};for(var y=this.length(),b=0,_=this.length();b<_;++b)g[this._values[b+y]]=this._values[b]}return this._resolve(g),!0}return!1},u.prototype.shouldCopyValues=function(){return!1},u.prototype.getActualLength=function(h){return h>>1};function f(h){var p,v=n(h);if(s(v))v instanceof t?p=v._then(t.props,void 0,void 0,void 0,void 0):p=new u(v).promise();else return r(`cannot await properties of a non-object

    See http://goo.gl/MqrFmX
`);return v instanceof t&&p._propagateFrom(v,2),p}t.prototype.props=function(){return f(this)},t.props=function(h){return f(h)}}),VD}var WD,ML;function oMe(){return ML||(ML=1,WD=function(t,e,n,r){var i=or(),s=function(o){return o.then(function(l){return a(l,o)})};function a(o,l){var c=n(o);if(c instanceof t)return s(c);if(o=i.asArray(o),o===null)return r("expecting an array or an iterable object but got "+i.classString(o));var u=new t(e);l!==void 0&&u._propagateFrom(l,3);for(var f=u._fulfill,h=u._reject,p=0,v=o.length;p<v;++p){var g=o[p];g===void 0&&!(p in o)||t.cast(g)._then(f,h,void 0,u,null)}return u}t.race=function(o){return a(o,void 0)},t.prototype.race=function(){return a(this,void 0)}}),WD}var qD,UL;function lMe(){return UL||(UL=1,qD=function(t,e,n,r,i,s){var a=t._getDomain,o=or(),l=o.tryCatch;function c(v,g,y,b){this.constructor$(v);var _=a();this._fn=_===null?g:o.domainBind(_,g),y!==void 0&&(y=t.resolve(y),y._attachCancellationCallback(this)),this._initialValue=y,this._currentCancellable=null,b===i?this._eachValues=Array(this._length):b===0?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}o.inherits(c,e),c.prototype._gotAccum=function(v){this._eachValues!==void 0&&this._eachValues!==null&&v!==i&&this._eachValues.push(v)},c.prototype._eachComplete=function(v){return this._eachValues!==null&&this._eachValues.push(v),this._eachValues},c.prototype._init=function(){},c.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==void 0?this._eachValues:this._initialValue)},c.prototype.shouldCopyValues=function(){return!1},c.prototype._resolve=function(v){this._promise._resolveCallback(v),this._values=null},c.prototype._resultCancelled=function(v){if(v===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof t&&this._currentCancellable.cancel(),this._initialValue instanceof t&&this._initialValue.cancel())},c.prototype._iterate=function(v){this._values=v;var g,y,b=v.length;if(this._initialValue!==void 0?(g=this._initialValue,y=0):(g=t.resolve(v[0]),y=1),this._currentCancellable=g,!g.isRejected())for(;y<b;++y){var _={accum:null,value:v[y],index:y,length:b,array:this};g=g._then(h,void 0,void 0,_,void 0)}this._eachValues!==void 0&&(g=g._then(this._eachComplete,void 0,void 0,this,void 0)),g._then(u,u,void 0,g,this)},t.prototype.reduce=function(v,g){return f(this,v,g,null)},t.reduce=function(v,g,y,b){return f(v,g,y,b)};function u(v,g){this.isFulfilled()?g._resolve(v):g._reject(v)}function f(v,g,y,b){if(typeof g!="function")return n("expecting a function but got "+o.classString(g));var _=new c(v,g,y,b);return _.promise()}function h(v){this.accum=v,this.array._gotAccum(v);var g=r(this.value,this.array._promise);return g instanceof t?(this.array._currentCancellable=g,g._then(p,void 0,void 0,this,void 0)):p.call(this,g)}function p(v){var g=this.array,y=g._promise,b=l(g._fn);y._pushContext();var _;g._eachValues!==void 0?_=b.call(y._boundValue(),v,this.index,this.length):_=b.call(y._boundValue(),this.accum,v,this.index,this.length),_ instanceof t&&(g._currentCancellable=_);var w=y._popContext();return s.checkForgottenReturns(_,w,g._eachValues!==void 0?"Promise.each":"Promise.reduce",y),_}}),qD}var zD,OL;function cMe(){return OL||(OL=1,zD=function(t,e,n){var r=t.PromiseInspection,i=or();function s(a){this.constructor$(a)}i.inherits(s,e),s.prototype._promiseResolved=function(a,o){this._values[a]=o;var l=++this._totalResolved;return l>=this._length?(this._resolve(this._values),!0):!1},s.prototype._promiseFulfilled=function(a,o){var l=new r;return l._bitField=33554432,l._settledValueField=a,this._promiseResolved(o,l)},s.prototype._promiseRejected=function(a,o){var l=new r;return l._bitField=16777216,l._settledValueField=a,this._promiseResolved(o,l)},t.settle=function(a){return n.deprecated(".settle()",".reflect()"),new s(a).promise()},t.prototype.settle=function(){return t.settle(this)}}),zD}var HD,LL;function uMe(){return LL||(LL=1,HD=function(t,e,n){var r=or(),i=Ku().RangeError,s=Ku().AggregateError,a=r.isArray,o={};function l(u){this.constructor$(u),this._howMany=0,this._unwrap=!1,this._initialized=!1}r.inherits(l,e),l.prototype._init=function(){if(this._initialized){if(this._howMany===0){this._resolve([]);return}this._init$(void 0,-5);var u=a(this._values);!this._isResolved()&&u&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},l.prototype.init=function(){this._initialized=!0,this._init()},l.prototype.setUnwrap=function(){this._unwrap=!0},l.prototype.howMany=function(){return this._howMany},l.prototype.setHowMany=function(u){this._howMany=u},l.prototype._promiseFulfilled=function(u){return this._addFulfilled(u),this._fulfilled()===this.howMany()?(this._values.length=this.howMany(),this.howMany()===1&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0):!1},l.prototype._promiseRejected=function(u){return this._addRejected(u),this._checkOutcome()},l.prototype._promiseCancelled=function(){return this._values instanceof t||this._values==null?this._cancel():(this._addRejected(o),this._checkOutcome())},l.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var u=new s,f=this.length();f<this._values.length;++f)this._values[f]!==o&&u.push(this._values[f]);return u.length>0?this._reject(u):this._cancel(),!0}return!1},l.prototype._fulfilled=function(){return this._totalResolved},l.prototype._rejected=function(){return this._values.length-this.length()},l.prototype._addRejected=function(u){this._values.push(u)},l.prototype._addFulfilled=function(u){this._values[this._totalResolved++]=u},l.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},l.prototype._getRangeError=function(u){var f="Input array must contain at least "+this._howMany+" items but contains only "+u+" items";return new i(f)},l.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))};function c(u,f){if((f|0)!==f||f<0)return n(`expecting a positive integer

    See http://goo.gl/MqrFmX
`);var h=new l(u),p=h.promise();return h.setHowMany(f),h.init(),p}t.some=function(u,f){return c(u,f)},t.prototype.some=function(u){return c(this,u)},t._SomePromiseArray=l}),HD}var $D,jL;function dMe(){return jL||(jL=1,$D=function(t,e){var n=t.map;t.prototype.filter=function(r,i){return n(this,r,i,e)},t.filter=function(r,i,s){return n(r,i,s,e)}}),$D}var GD,BL;function fMe(){return BL||(BL=1,GD=function(t,e){var n=t.reduce,r=t.all;function i(){return r(this)}function s(a,o){return n(a,o,e,e)}t.prototype.each=function(a){return n(this,a,e,0)._then(i,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(a){return n(this,a,e,e)},t.each=function(a,o){return n(a,o,e,0)._then(i,void 0,void 0,a,void 0)},t.mapSeries=s}),GD}var KD,VL;function hMe(){return VL||(VL=1,KD=function(t){var e=t._SomePromiseArray;function n(r){var i=new e(r),s=i.promise();return i.setHowMany(1),i.setUnwrap(),i.init(),s}t.any=function(r){return n(r)},t.prototype.any=function(){return n(this)}}),KD}var WL;function pMe(){return WL||(WL=1,(function(t){t.exports=function(){var e=function(){return new h(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},n=function(){return new I.PromiseInspection(this._target())},r=function(X){return I.reject(new h(X))};function i(){}var s={},a=or(),o;a.isNode?o=function(){var X=process.domain;return X===void 0&&(X=null),X}:o=function(){return null},a.notEnumerableProp(I,"_getDomain",o);var l=eg(),c=BFe(),u=new c;l.defineProperty(I,"_async",{value:u});var f=Ku(),h=I.TypeError=f.TypeError;I.RangeError=f.RangeError;var p=I.CancellationError=f.CancellationError;I.TimeoutError=f.TimeoutError,I.OperationalError=f.OperationalError,I.RejectionError=f.OperationalError,I.AggregateError=f.AggregateError;var v=function(){},g={},y={},b=VFe()(I,v),_=WFe()(I,v,b,r,i),w=qFe()(I),C=w.create,S=zFe()(I,w);S.CapturedTrace;var R=HFe()(I,b),D=$Fe()(y),N=jY(),k=a.errorObj,F=a.tryCatch;function P(X,J){if(typeof J!="function")throw new h("expecting a function but got "+a.classString(J));if(X.constructor!==I)throw new h(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`)}function I(X){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,X!==v&&(P(this,X),this._resolveFromExecutor(X)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}I.prototype.toString=function(){return"[object Promise]"},I.prototype.caught=I.prototype.catch=function(X){var J=arguments.length;if(J>1){var ne=new Array(J-1),z=0,Q;for(Q=0;Q<J-1;++Q){var B=arguments[Q];if(a.isObject(B))ne[z++]=B;else return r("expecting an object but got A catch statement predicate "+a.classString(B))}return ne.length=z,X=arguments[Q],this.then(void 0,D(ne,X,this))}return this.then(void 0,X)},I.prototype.reflect=function(){return this._then(n,n,void 0,this,void 0)},I.prototype.then=function(X,J){if(S.warnings()&&arguments.length>0&&typeof X!="function"&&typeof J!="function"){var ne=".then() only accepts functions but was passed: "+a.classString(X);arguments.length>1&&(ne+=", "+a.classString(J)),this._warn(ne)}return this._then(X,J,void 0,void 0,void 0)},I.prototype.done=function(X,J){var ne=this._then(X,J,void 0,void 0,void 0);ne._setIsFinal()},I.prototype.spread=function(X){return typeof X!="function"?r("expecting a function but got "+a.classString(X)):this.all()._then(X,void 0,void 0,g,void 0)},I.prototype.toJSON=function(){var X={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(X.fulfillmentValue=this.value(),X.isFulfilled=!0):this.isRejected()&&(X.rejectionReason=this.reason(),X.isRejected=!0),X},I.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new _(this).promise()},I.prototype.error=function(X){return this.caught(a.originatesFromRejection,X)},I.getNewLibraryCopy=t.exports,I.is=function(X){return X instanceof I},I.fromNode=I.fromCallback=function(X){var J=new I(v);J._captureStackTrace();var ne=arguments.length>1?!!Object(arguments[1]).multiArgs:!1,z=F(X)(N(J,ne));return z===k&&J._rejectCallback(z.e,!0),J._isFateSealed()||J._setAsyncGuaranteed(),J},I.all=function(X){return new _(X).promise()},I.cast=function(X){var J=b(X);return J instanceof I||(J=new I(v),J._captureStackTrace(),J._setFulfilled(),J._rejectionHandler0=X),J},I.resolve=I.fulfilled=I.cast,I.reject=I.rejected=function(X){var J=new I(v);return J._captureStackTrace(),J._rejectCallback(X,!0),J},I.setScheduler=function(X){if(typeof X!="function")throw new h("expecting a function but got "+a.classString(X));return u.setScheduler(X)},I.prototype._then=function(X,J,ne,z,Q){var B=Q!==void 0,j=B?Q:new I(v),W=this._target(),G=W._bitField;B||(j._propagateFrom(this,3),j._captureStackTrace(),z===void 0&&(this._bitField&2097152)!==0&&((G&50397184)!==0?z=this._boundValue():z=W===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,j));var Y=o();if((G&50397184)!==0){var ee,ae,de=W._settlePromiseCtx;(G&33554432)!==0?(ae=W._rejectionHandler0,ee=X):(G&16777216)!==0?(ae=W._fulfillmentHandler0,ee=J,W._unsetRejectionIsUnhandled()):(de=W._settlePromiseLateCancellationObserver,ae=new p("late cancellation observer"),W._attachExtraTrace(ae),ee=J),u.invoke(de,W,{handler:Y===null?ee:typeof ee=="function"&&a.domainBind(Y,ee),promise:j,receiver:z,value:ae})}else W._addCallbacks(X,J,j,z,Y);return j},I.prototype._length=function(){return this._bitField&65535},I.prototype._isFateSealed=function(){return(this._bitField&117506048)!==0},I.prototype._isFollowing=function(){return(this._bitField&67108864)===67108864},I.prototype._setLength=function(X){this._bitField=this._bitField&-65536|X&65535},I.prototype._setFulfilled=function(){this._bitField=this._bitField|33554432,this._fireEvent("promiseFulfilled",this)},I.prototype._setRejected=function(){this._bitField=this._bitField|16777216,this._fireEvent("promiseRejected",this)},I.prototype._setFollowing=function(){this._bitField=this._bitField|67108864,this._fireEvent("promiseResolved",this)},I.prototype._setIsFinal=function(){this._bitField=this._bitField|4194304},I.prototype._isFinal=function(){return(this._bitField&4194304)>0},I.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},I.prototype._setCancelled=function(){this._bitField=this._bitField|65536,this._fireEvent("promiseCancelled",this)},I.prototype._setWillBeCancelled=function(){this._bitField=this._bitField|8388608},I.prototype._setAsyncGuaranteed=function(){u.hasCustomScheduler()||(this._bitField=this._bitField|134217728)},I.prototype._receiverAt=function(X){var J=X===0?this._receiver0:this[X*4-4+3];if(J!==s)return J===void 0&&this._isBound()?this._boundValue():J},I.prototype._promiseAt=function(X){return this[X*4-4+2]},I.prototype._fulfillmentHandlerAt=function(X){return this[X*4-4+0]},I.prototype._rejectionHandlerAt=function(X){return this[X*4-4+1]},I.prototype._boundValue=function(){},I.prototype._migrateCallback0=function(X){X._bitField;var J=X._fulfillmentHandler0,ne=X._rejectionHandler0,z=X._promise0,Q=X._receiverAt(0);Q===void 0&&(Q=s),this._addCallbacks(J,ne,z,Q,null)},I.prototype._migrateCallbackAt=function(X,J){var ne=X._fulfillmentHandlerAt(J),z=X._rejectionHandlerAt(J),Q=X._promiseAt(J),B=X._receiverAt(J);B===void 0&&(B=s),this._addCallbacks(ne,z,Q,B,null)},I.prototype._addCallbacks=function(X,J,ne,z,Q){var B=this._length();if(B>=65531&&(B=0,this._setLength(0)),B===0)this._promise0=ne,this._receiver0=z,typeof X=="function"&&(this._fulfillmentHandler0=Q===null?X:a.domainBind(Q,X)),typeof J=="function"&&(this._rejectionHandler0=Q===null?J:a.domainBind(Q,J));else{var j=B*4-4;this[j+2]=ne,this[j+3]=z,typeof X=="function"&&(this[j+0]=Q===null?X:a.domainBind(Q,X)),typeof J=="function"&&(this[j+1]=Q===null?J:a.domainBind(Q,J))}return this._setLength(B+1),B},I.prototype._proxy=function(X,J){this._addCallbacks(void 0,void 0,J,X,null)},I.prototype._resolveCallback=function(X,J){if((this._bitField&117506048)===0){if(X===this)return this._rejectCallback(e(),!1);var ne=b(X,this);if(!(ne instanceof I))return this._fulfill(X);J&&this._propagateFrom(ne,2);var z=ne._target();if(z===this){this._reject(e());return}var Q=z._bitField;if((Q&50397184)===0){var B=this._length();B>0&&z._migrateCallback0(this);for(var j=1;j<B;++j)z._migrateCallbackAt(this,j);this._setFollowing(),this._setLength(0),this._setFollowee(z)}else if((Q&33554432)!==0)this._fulfill(z._value());else if((Q&16777216)!==0)this._reject(z._reason());else{var W=new p("late cancellation observer");z._attachExtraTrace(W),this._reject(W)}}},I.prototype._rejectCallback=function(X,J,ne){var z=a.ensureErrorObject(X),Q=z===X;if(!Q&&!ne&&S.warnings()){var B="a promise was rejected with a non-error: "+a.classString(X);this._warn(B,!0)}this._attachExtraTrace(z,J?Q:!1),this._reject(X)},I.prototype._resolveFromExecutor=function(X){var J=this;this._captureStackTrace(),this._pushContext();var ne=!0,z=this._execute(X,function(Q){J._resolveCallback(Q)},function(Q){J._rejectCallback(Q,ne)});ne=!1,this._popContext(),z!==void 0&&J._rejectCallback(z,!0)},I.prototype._settlePromiseFromHandler=function(X,J,ne,z){var Q=z._bitField;if((Q&65536)===0){z._pushContext();var B;J===g?!ne||typeof ne.length!="number"?(B=k,B.e=new h("cannot .spread() a non-array: "+a.classString(ne))):B=F(X).apply(this._boundValue(),ne):B=F(X).call(J,ne);var j=z._popContext();Q=z._bitField,(Q&65536)===0&&(B===y?z._reject(ne):B===k?z._rejectCallback(B.e,!1):(S.checkForgottenReturns(B,j,"",z,this),z._resolveCallback(B)))}},I.prototype._target=function(){for(var X=this;X._isFollowing();)X=X._followee();return X},I.prototype._followee=function(){return this._rejectionHandler0},I.prototype._setFollowee=function(X){this._rejectionHandler0=X},I.prototype._settlePromise=function(X,J,ne,z){var Q=X instanceof I,B=this._bitField,j=(B&134217728)!==0;(B&65536)!==0?(Q&&X._invokeInternalOnCancel(),ne instanceof R&&ne.isFinallyHandler()?(ne.cancelPromise=X,F(J).call(ne,z)===k&&X._reject(k.e)):J===n?X._fulfill(n.call(ne)):ne instanceof i?ne._promiseCancelled(X):Q||X instanceof _?X._cancel():ne.cancel()):typeof J=="function"?Q?(j&&X._setAsyncGuaranteed(),this._settlePromiseFromHandler(J,ne,z,X)):J.call(ne,z,X):ne instanceof i?ne._isResolved()||((B&33554432)!==0?ne._promiseFulfilled(z,X):ne._promiseRejected(z,X)):Q&&(j&&X._setAsyncGuaranteed(),(B&33554432)!==0?X._fulfill(z):X._reject(z))},I.prototype._settlePromiseLateCancellationObserver=function(X){var J=X.handler,ne=X.promise,z=X.receiver,Q=X.value;typeof J=="function"?ne instanceof I?this._settlePromiseFromHandler(J,z,Q,ne):J.call(z,Q,ne):ne instanceof I&&ne._reject(Q)},I.prototype._settlePromiseCtx=function(X){this._settlePromise(X.promise,X.handler,X.receiver,X.value)},I.prototype._settlePromise0=function(X,J,ne){var z=this._promise0,Q=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(z,X,Q,J)},I.prototype._clearCallbackDataAtIndex=function(X){var J=X*4-4;this[J+2]=this[J+3]=this[J+0]=this[J+1]=void 0},I.prototype._fulfill=function(X){var J=this._bitField;if(!((J&117506048)>>>16)){if(X===this){var ne=e();return this._attachExtraTrace(ne),this._reject(ne)}this._setFulfilled(),this._rejectionHandler0=X,(J&65535)>0&&((J&134217728)!==0?this._settlePromises():u.settlePromises(this))}},I.prototype._reject=function(X){var J=this._bitField;if(!((J&117506048)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=X,this._isFinal())return u.fatalError(X,a.isNode);(J&65535)>0?u.settlePromises(this):this._ensurePossibleRejectionHandled()}},I.prototype._fulfillPromises=function(X,J){for(var ne=1;ne<X;ne++){var z=this._fulfillmentHandlerAt(ne),Q=this._promiseAt(ne),B=this._receiverAt(ne);this._clearCallbackDataAtIndex(ne),this._settlePromise(Q,z,B,J)}},I.prototype._rejectPromises=function(X,J){for(var ne=1;ne<X;ne++){var z=this._rejectionHandlerAt(ne),Q=this._promiseAt(ne),B=this._receiverAt(ne);this._clearCallbackDataAtIndex(ne),this._settlePromise(Q,z,B,J)}},I.prototype._settlePromises=function(){var X=this._bitField,J=X&65535;if(J>0){if((X&16842752)!==0){var ne=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,ne,X),this._rejectPromises(J,ne)}else{var z=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,z,X),this._fulfillPromises(J,z)}this._setLength(0)}this._clearCancellationData()},I.prototype._settledValue=function(){var X=this._bitField;if((X&33554432)!==0)return this._rejectionHandler0;if((X&16777216)!==0)return this._fulfillmentHandler0};function U(X){this.promise._resolveCallback(X)}function O(X){this.promise._rejectCallback(X,!1)}I.defer=I.pending=function(){S.deprecated("Promise.defer","new Promise");var X=new I(v);return{promise:X,resolve:U,reject:O}},a.notEnumerableProp(I,"_makeSelfResolutionError",e),GFe()(I,v,b,r,S),KFe()(I,v,b,S),XFe()(I,_,r,S),JFe()(I),YFe()(I),QFe()(I,_,b,v,u,o),I.Promise=I,I.version="3.4.7",ZFe()(I,_,r,b,v,S),eMe()(I),tMe()(I,r,b,C,v,S),nMe()(I,v,S),rMe()(I,r,v,b,i,S),iMe()(I),sMe()(I,v),aMe()(I,_,b,r),oMe()(I,v,b,r),lMe()(I,_,r,b,v,S),cMe()(I,_,S),uMe()(I,_,r),dMe()(I,v),fMe()(I,v),hMe()(I),a.toFastProperties(I),a.toFastProperties(I.prototype);function K(X){var J=new I(v);J._fulfillmentHandler0=X,J._rejectionHandler0=X,J._promise0=X,J._receiver0=X}return K({a:1}),K({b:2}),K({c:3}),K(1),K(function(){}),K(void 0),K(!1),K(new I(v)),S.setBounds(c.firstLineError,a.lastLineError),I}})(yD)),yD.exports}var qL;function cd(){if(qL)return Wa;qL=1;var t=ri,e=pMe()();Wa.defer=n,Wa.when=e.resolve,Wa.resolve=e.resolve,Wa.all=e.all,Wa.props=e.props,Wa.reject=e.reject,Wa.promisify=e.promisify,Wa.mapSeries=e.mapSeries,Wa.attempt=e.attempt,Wa.nfcall=function(r){var i=Array.prototype.slice.call(arguments,1),s=e.promisify(r);return s.apply(null,i)},e.prototype.fail=e.prototype.caught,e.prototype.also=function(r){return this.then(function(i){var s=t.extend({},i,r(i));return e.props(s)})};function n(){var r,i,s=new e.Promise(function(a,o){r=a,i=o});return{resolve:r,reject:i,promise:s}}return Wa}var Wn={},zL;function lh(){if(zL)return Wn;zL=1;var t=ri,e=Wn.types={document:"document",paragraph:"paragraph",run:"run",text:"text",tab:"tab",hyperlink:"hyperlink",noteReference:"noteReference",image:"image",note:"note",commentReference:"commentReference",comment:"comment",table:"table",tableRow:"tableRow",tableCell:"tableCell",break:"break",bookmarkStart:"bookmarkStart"};function n(S,R){return R=R||{},{type:e.document,children:S,notes:R.notes||new u({}),comments:R.comments||[]}}function r(S,R){R=R||{};var D=R.indent||{};return{type:e.paragraph,children:S,styleId:R.styleId||null,styleName:R.styleName||null,numbering:R.numbering||null,alignment:R.alignment||null,indent:{start:D.start||null,end:D.end||null,firstLine:D.firstLine||null,hanging:D.hanging||null}}}function i(S,R){return R=R||{},{type:e.run,children:S,styleId:R.styleId||null,styleName:R.styleName||null,isBold:!!R.isBold,isUnderline:!!R.isUnderline,isItalic:!!R.isItalic,isStrikethrough:!!R.isStrikethrough,isAllCaps:!!R.isAllCaps,isSmallCaps:!!R.isSmallCaps,verticalAlignment:R.verticalAlignment||s.baseline,font:R.font||null,fontSize:R.fontSize||null}}var s={baseline:"baseline",superscript:"superscript",subscript:"subscript"};function a(S){return{type:e.text,value:S}}function o(){return{type:e.tab}}function l(S,R){return{type:e.hyperlink,children:S,href:R.href,anchor:R.anchor,targetFrame:R.targetFrame}}function c(S){return{type:e.noteReference,noteType:S.noteType,noteId:S.noteId}}function u(S){this._notes=t.indexBy(S,function(R){return v(R.noteType,R.noteId)})}u.prototype.resolve=function(S){return this.findNoteByKey(v(S.noteType,S.noteId))},u.prototype.findNoteByKey=function(S){return this._notes[S]||null};function f(S){return{type:e.note,noteType:S.noteType,noteId:S.noteId,body:S.body}}function h(S){return{type:e.commentReference,commentId:S.commentId}}function p(S){return{type:e.comment,commentId:S.commentId,body:S.body,authorName:S.authorName,authorInitials:S.authorInitials}}function v(S,R){return S+"-"+R}function g(S){return{type:e.image,read:function(R){return R?S.readImage(R):S.readImage().then(function(D){return Buffer.from(D)})},readAsArrayBuffer:function(){return S.readImage()},readAsBase64String:function(){return S.readImage("base64")},readAsBuffer:function(){return S.readImage().then(function(R){return Buffer.from(R)})},altText:S.altText,contentType:S.contentType}}function y(S,R){return R=R||{},{type:e.table,children:S,styleId:R.styleId||null,styleName:R.styleName||null}}function b(S,R){return R=R||{},{type:e.tableRow,children:S,isHeader:R.isHeader||!1}}function _(S,R){return R=R||{},{type:e.tableCell,children:S,colSpan:R.colSpan==null?1:R.colSpan,rowSpan:R.rowSpan==null?1:R.rowSpan}}function w(S){return{type:e.break,breakType:S}}function C(S){return{type:e.bookmarkStart,name:S.name}}return Wn.document=Wn.Document=n,Wn.paragraph=Wn.Paragraph=r,Wn.run=Wn.Run=i,Wn.text=Wn.Text=a,Wn.tab=Wn.Tab=o,Wn.Hyperlink=l,Wn.noteReference=Wn.NoteReference=c,Wn.Notes=u,Wn.Note=f,Wn.commentReference=h,Wn.comment=p,Wn.Image=g,Wn.Table=y,Wn.TableRow=b,Wn.TableCell=_,Wn.lineBreak=w("line"),Wn.pageBreak=w("page"),Wn.columnBreak=w("column"),Wn.BookmarkStart=C,Wn.verticalAlignment=s,Wn}var tp={},HL;function vc(){if(HL)return tp;HL=1;var t=ri;tp.Result=e,tp.success=n,tp.warning=r,tp.error=i;function e(l,c){this.value=l,this.messages=c||[]}e.prototype.map=function(l){return new e(l(this.value),this.messages)},e.prototype.flatMap=function(l){var c=l(this.value);return new e(c.value,s([this,c]))},e.prototype.flatMapThen=function(l){var c=this;return l(this.value).then(function(u){return new e(u.value,s([c,u]))})},e.combine=function(l){var c=t.flatten(t.pluck(l,"value")),u=s(l);return new e(c,u)};function n(l){return new e(l,[])}function r(l){return{type:"warning",message:l}}function i(l){return{type:"error",message:l.message,error:l}}function s(l){var c=[];return t.flatten(t.pluck(l,"messages"),!0).forEach(function(u){a(c,u)||c.push(u)}),c}function a(l,c){return t.find(l,o.bind(null,c))!==void 0}function o(l,c){return l.type===c.type&&l.message===c.message}return tp}var Zg={},e0={},$L;function mMe(){if($L)return e0;$L=1,e0.byteLength=o,e0.toByteArray=c,e0.fromByteArray=h;for(var t=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=r.length;i<s;++i)t[i]=r[i],e[r.charCodeAt(i)]=i;e[45]=62,e[95]=63;function a(p){var v=p.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=p.indexOf("=");g===-1&&(g=v);var y=g===v?0:4-g%4;return[g,y]}function o(p){var v=a(p),g=v[0],y=v[1];return(g+y)*3/4-y}function l(p,v,g){return(v+g)*3/4-g}function c(p){var v,g=a(p),y=g[0],b=g[1],_=new n(l(p,y,b)),w=0,C=b>0?y-4:y,S;for(S=0;S<C;S+=4)v=e[p.charCodeAt(S)]<<18|e[p.charCodeAt(S+1)]<<12|e[p.charCodeAt(S+2)]<<6|e[p.charCodeAt(S+3)],_[w++]=v>>16&255,_[w++]=v>>8&255,_[w++]=v&255;return b===2&&(v=e[p.charCodeAt(S)]<<2|e[p.charCodeAt(S+1)]>>4,_[w++]=v&255),b===1&&(v=e[p.charCodeAt(S)]<<10|e[p.charCodeAt(S+1)]<<4|e[p.charCodeAt(S+2)]>>2,_[w++]=v>>8&255,_[w++]=v&255),_}function u(p){return t[p>>18&63]+t[p>>12&63]+t[p>>6&63]+t[p&63]}function f(p,v,g){for(var y,b=[],_=v;_<g;_+=3)y=(p[_]<<16&16711680)+(p[_+1]<<8&65280)+(p[_+2]&255),b.push(u(y));return b.join("")}function h(p){for(var v,g=p.length,y=g%3,b=[],_=16383,w=0,C=g-y;w<C;w+=_)b.push(f(p,w,w+_>C?C:w+_));return y===1?(v=p[g-1],b.push(t[v>>2]+t[v<<4&63]+"==")):y===2&&(v=(p[g-2]<<8)+p[g-1],b.push(t[v>>10]+t[v>>4&63]+t[v<<2&63]+"=")),b.join("")}return e0}var GL;function BY(){if(GL)return Zg;GL=1;var t=mMe(),e=g$();Zg.openArrayBuffer=n,Zg.splitPath=r,Zg.joinPath=i;function n(s){return e.loadAsync(s).then(function(a){function o(f){return a.file(f)!==null}function l(f,h){return a.file(f).async("uint8array").then(function(p){if(h==="base64")return t.fromByteArray(p);if(h){var v=new TextDecoder(h);return v.decode(p)}else return p})}function c(f,h){a.file(f,h)}function u(){return a.generateAsync({type:"arraybuffer"})}return{exists:o,read:l,write:c,toArrayBuffer:u}})}function r(s){var a=s.lastIndexOf("/");return a===-1?{dirname:"",basename:s}:{dirname:s.substring(0,a),basename:s.substring(a+1)}}function i(){var s=Array.prototype.filter.call(arguments,function(o){return o}),a=[];return s.forEach(function(o){/^\//.test(o)?a=[o]:a.push(o)}),a.join("/")}return Zg}var qx={},kd={},t0={},KL;function VY(){if(KL)return t0;KL=1;var t=ri;t0.Element=n,t0.element=function(s,a,o){return new n(s,a,o)},t0.text=function(s){return{type:"text",value:s}};var e={first:function(){return null},firstOrEmpty:function(){return e},attributes:{}};function n(s,a,o){this.type="element",this.name=s,this.attributes=a||{},this.children=o||[]}n.prototype.first=function(s){return t.find(this.children,function(a){return a.name===s})},n.prototype.firstOrEmpty=function(s){return this.first(s)||e},n.prototype.getElementsByTagName=function(s){var a=t.filter(this.children,function(o){return o.name===s});return i(a)},n.prototype.text=function(){if(this.children.length===0)return"";if(this.children.length!==1||this.children[0].type!=="text")throw new Error("Not implemented");return this.children[0].value};var r={getElementsByTagName:function(s){return i(t.flatten(this.map(function(a){return a.getElementsByTagName(s)},!0)))}};function i(s){return t.extend(s,r)}return t0}var XD={},zx={},n0={},zl={},Rd={},XL;function $w(){if(XL)return Rd;XL=1;function t(s,a,o){if(o===void 0&&(o=Array.prototype),s&&typeof o.find=="function")return o.find.call(s,a);for(var l=0;l<s.length;l++)if(Object.prototype.hasOwnProperty.call(s,l)){var c=s[l];if(a.call(void 0,c,l,s))return c}}function e(s,a){return a===void 0&&(a=Object),a&&typeof a.freeze=="function"?a.freeze(s):s}function n(s,a){if(s===null||typeof s!="object")throw new TypeError("target is not an object");for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o]);return s}var r=e({HTML:"text/html",isHTML:function(s){return s===r.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),i=e({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(s){return s===i.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});return Rd.assign=n,Rd.find=t,Rd.freeze=e,Rd.MIME_TYPE=r,Rd.NAMESPACE=i,Rd}var JL;function z6(){if(JL)return zl;JL=1;var t=$w(),e=t.find,n=t.NAMESPACE;function r(pe){return pe!==""}function i(pe){return pe?pe.split(/[\t\n\f\r ]+/).filter(r):[]}function s(pe,we){return pe.hasOwnProperty(we)||(pe[we]=!0),pe}function a(pe){if(!pe)return[];var we=i(pe);return Object.keys(we.reduce(s,{}))}function o(pe){return function(we){return pe&&pe.indexOf(we)!==-1}}function l(pe,we){for(var Me in pe)Object.prototype.hasOwnProperty.call(pe,Me)&&(we[Me]=pe[Me])}function c(pe,we){var Me=pe.prototype;if(!(Me instanceof we)){let Ve=function(){};var ke=Ve;Ve.prototype=we.prototype,Ve=new Ve,l(Me,Ve),pe.prototype=Me=Ve}Me.constructor!=pe&&(typeof pe!="function"&&console.error("unknown Class:"+pe),Me.constructor=pe)}var u={},f=u.ELEMENT_NODE=1,h=u.ATTRIBUTE_NODE=2,p=u.TEXT_NODE=3,v=u.CDATA_SECTION_NODE=4,g=u.ENTITY_REFERENCE_NODE=5,y=u.ENTITY_NODE=6,b=u.PROCESSING_INSTRUCTION_NODE=7,_=u.COMMENT_NODE=8,w=u.DOCUMENT_NODE=9,C=u.DOCUMENT_TYPE_NODE=10,S=u.DOCUMENT_FRAGMENT_NODE=11,R=u.NOTATION_NODE=12,D={},N={};D.INDEX_SIZE_ERR=(N[1]="Index size error",1),D.DOMSTRING_SIZE_ERR=(N[2]="DOMString size error",2);var k=D.HIERARCHY_REQUEST_ERR=(N[3]="Hierarchy request error",3);D.WRONG_DOCUMENT_ERR=(N[4]="Wrong document",4),D.INVALID_CHARACTER_ERR=(N[5]="Invalid character",5),D.NO_DATA_ALLOWED_ERR=(N[6]="No data allowed",6),D.NO_MODIFICATION_ALLOWED_ERR=(N[7]="No modification allowed",7);var F=D.NOT_FOUND_ERR=(N[8]="Not found",8);D.NOT_SUPPORTED_ERR=(N[9]="Not supported",9);var P=D.INUSE_ATTRIBUTE_ERR=(N[10]="Attribute in use",10);D.INVALID_STATE_ERR=(N[11]="Invalid state",11),D.SYNTAX_ERR=(N[12]="Syntax error",12),D.INVALID_MODIFICATION_ERR=(N[13]="Invalid modification",13),D.NAMESPACE_ERR=(N[14]="Invalid namespace",14),D.INVALID_ACCESS_ERR=(N[15]="Invalid access",15);function I(pe,we){if(we instanceof Error)var Me=we;else Me=this,Error.call(this,N[pe]),this.message=N[pe],Error.captureStackTrace&&Error.captureStackTrace(this,I);return Me.code=pe,we&&(this.message=this.message+": "+we),Me}I.prototype=Error.prototype,l(D,I);function U(){}U.prototype={length:0,item:function(pe){return pe>=0&&pe<this.length?this[pe]:null},toString:function(pe,we){for(var Me=[],ke=0;ke<this.length;ke++)Yn(this[ke],Me,pe,we);return Me.join("")},filter:function(pe){return Array.prototype.filter.call(this,pe)},indexOf:function(pe){return Array.prototype.indexOf.call(this,pe)}};function O(pe,we){this._node=pe,this._refresh=we,K(this)}function K(pe){var we=pe._node._inc||pe._node.ownerDocument._inc;if(pe._inc!==we){var Me=pe._refresh(pe._node);if(Yt(pe,"length",Me.length),!pe.$$length||Me.length<pe.$$length)for(var ke=Me.length;ke in pe;ke++)Object.prototype.hasOwnProperty.call(pe,ke)&&delete pe[ke];l(Me,pe),pe._inc=we}}O.prototype.item=function(pe){return K(this),this[pe]||null},c(O,U);function X(){}function J(pe,we){for(var Me=pe.length;Me--;)if(pe[Me]===we)return Me}function ne(pe,we,Me,ke){if(ke?we[J(we,ke)]=Me:we[we.length++]=Me,pe){Me.ownerElement=pe;var Ve=pe.ownerDocument;Ve&&(ke&&ee(Ve,pe,ke),Y(Ve,pe,Me))}}function z(pe,we,Me){var ke=J(we,Me);if(ke>=0){for(var Ve=we.length-1;ke<Ve;)we[ke]=we[++ke];if(we.length=Ve,pe){var st=pe.ownerDocument;st&&(ee(st,pe,Me),Me.ownerElement=null)}}else throw new I(F,new Error(pe.tagName+"@"+Me))}X.prototype={length:0,item:U.prototype.item,getNamedItem:function(pe){for(var we=this.length;we--;){var Me=this[we];if(Me.nodeName==pe)return Me}},setNamedItem:function(pe){var we=pe.ownerElement;if(we&&we!=this._ownerElement)throw new I(P);var Me=this.getNamedItem(pe.nodeName);return ne(this._ownerElement,this,pe,Me),Me},setNamedItemNS:function(pe){var we=pe.ownerElement,Me;if(we&&we!=this._ownerElement)throw new I(P);return Me=this.getNamedItemNS(pe.namespaceURI,pe.localName),ne(this._ownerElement,this,pe,Me),Me},removeNamedItem:function(pe){var we=this.getNamedItem(pe);return z(this._ownerElement,this,we),we},removeNamedItemNS:function(pe,we){var Me=this.getNamedItemNS(pe,we);return z(this._ownerElement,this,Me),Me},getNamedItemNS:function(pe,we){for(var Me=this.length;Me--;){var ke=this[Me];if(ke.localName==we&&ke.namespaceURI==pe)return ke}return null}};function Q(){}Q.prototype={hasFeature:function(pe,we){return!0},createDocument:function(pe,we,Me){var ke=new G;if(ke.implementation=this,ke.childNodes=new U,ke.doctype=Me||null,Me&&ke.appendChild(Me),we){var Ve=ke.createElementNS(pe,we);ke.appendChild(Ve)}return ke},createDocumentType:function(pe,we,Me){var ke=new Te;return ke.name=pe,ke.nodeName=pe,ke.publicId=we||"",ke.systemId=Me||"",ke}};function B(){}B.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(pe,we){return le(this,pe,we)},replaceChild:function(pe,we){le(this,pe,we,re),we&&this.removeChild(we)},removeChild:function(pe){return de(this,pe)},appendChild:function(pe){return this.insertBefore(pe,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(pe){return cr(this.ownerDocument||this,this,pe)},normalize:function(){for(var pe=this.firstChild;pe;){var we=pe.nextSibling;we&&we.nodeType==p&&pe.nodeType==p?(this.removeChild(we),pe.appendData(we.data)):(pe.normalize(),pe=we)}},isSupported:function(pe,we){return this.ownerDocument.implementation.hasFeature(pe,we)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(pe){for(var we=this;we;){var Me=we._nsMap;if(Me){for(var ke in Me)if(Object.prototype.hasOwnProperty.call(Me,ke)&&Me[ke]===pe)return ke}we=we.nodeType==h?we.ownerDocument:we.parentNode}return null},lookupNamespaceURI:function(pe){for(var we=this;we;){var Me=we._nsMap;if(Me&&Object.prototype.hasOwnProperty.call(Me,pe))return Me[pe];we=we.nodeType==h?we.ownerDocument:we.parentNode}return null},isDefaultNamespace:function(pe){var we=this.lookupPrefix(pe);return we==null}};function j(pe){return pe=="<"&&"&lt;"||pe==">"&&"&gt;"||pe=="&"&&"&amp;"||pe=='"'&&"&quot;"||"&#"+pe.charCodeAt()+";"}l(u,B),l(u,B.prototype);function W(pe,we){if(we(pe))return!0;if(pe=pe.firstChild)do if(W(pe,we))return!0;while(pe=pe.nextSibling)}function G(){this.ownerDocument=this}function Y(pe,we,Me){pe&&pe._inc++;var ke=Me.namespaceURI;ke===n.XMLNS&&(we._nsMap[Me.prefix?Me.localName:""]=Me.value)}function ee(pe,we,Me,ke){pe&&pe._inc++;var Ve=Me.namespaceURI;Ve===n.XMLNS&&delete we._nsMap[Me.prefix?Me.localName:""]}function ae(pe,we,Me){if(pe&&pe._inc){pe._inc++;var ke=we.childNodes;if(Me)ke[ke.length++]=Me;else{for(var Ve=we.firstChild,st=0;Ve;)ke[st++]=Ve,Ve=Ve.nextSibling;ke.length=st,delete ke[ke.length]}}}function de(pe,we){var Me=we.previousSibling,ke=we.nextSibling;return Me?Me.nextSibling=ke:pe.firstChild=ke,ke?ke.previousSibling=Me:pe.lastChild=Me,we.parentNode=null,we.previousSibling=null,we.nextSibling=null,ae(pe.ownerDocument,pe),we}function fe(pe){return pe&&(pe.nodeType===B.DOCUMENT_NODE||pe.nodeType===B.DOCUMENT_FRAGMENT_NODE||pe.nodeType===B.ELEMENT_NODE)}function De(pe){return pe&&(me(pe)||je(pe)||Pe(pe)||pe.nodeType===B.DOCUMENT_FRAGMENT_NODE||pe.nodeType===B.COMMENT_NODE||pe.nodeType===B.PROCESSING_INSTRUCTION_NODE)}function Pe(pe){return pe&&pe.nodeType===B.DOCUMENT_TYPE_NODE}function me(pe){return pe&&pe.nodeType===B.ELEMENT_NODE}function je(pe){return pe&&pe.nodeType===B.TEXT_NODE}function V(pe,we){var Me=pe.childNodes||[];if(e(Me,me)||Pe(we))return!1;var ke=e(Me,Pe);return!(we&&ke&&Me.indexOf(ke)>Me.indexOf(we))}function ye(pe,we){var Me=pe.childNodes||[];function ke(st){return me(st)&&st!==we}if(e(Me,ke))return!1;var Ve=e(Me,Pe);return!(we&&Ve&&Me.indexOf(Ve)>Me.indexOf(we))}function be(pe,we,Me){if(!fe(pe))throw new I(k,"Unexpected parent node type "+pe.nodeType);if(Me&&Me.parentNode!==pe)throw new I(F,"child not in parent");if(!De(we)||Pe(we)&&pe.nodeType!==B.DOCUMENT_NODE)throw new I(k,"Unexpected node type "+we.nodeType+" for parent node type "+pe.nodeType)}function oe(pe,we,Me){var ke=pe.childNodes||[],Ve=we.childNodes||[];if(we.nodeType===B.DOCUMENT_FRAGMENT_NODE){var st=Ve.filter(me);if(st.length>1||e(Ve,je))throw new I(k,"More than one element or text in fragment");if(st.length===1&&!V(pe,Me))throw new I(k,"Element in fragment can not be inserted before doctype")}if(me(we)&&!V(pe,Me))throw new I(k,"Only one element can be added and only after doctype");if(Pe(we)){if(e(ke,Pe))throw new I(k,"Only one doctype is allowed");var Rt=e(ke,me);if(Me&&ke.indexOf(Rt)<ke.indexOf(Me))throw new I(k,"Doctype can only be inserted before an element");if(!Me&&Rt)throw new I(k,"Doctype can not be appended since element is present")}}function re(pe,we,Me){var ke=pe.childNodes||[],Ve=we.childNodes||[];if(we.nodeType===B.DOCUMENT_FRAGMENT_NODE){var st=Ve.filter(me);if(st.length>1||e(Ve,je))throw new I(k,"More than one element or text in fragment");if(st.length===1&&!ye(pe,Me))throw new I(k,"Element in fragment can not be inserted before doctype")}if(me(we)&&!ye(pe,Me))throw new I(k,"Only one element can be added and only after doctype");if(Pe(we)){let Dt=function(Ct){return Pe(Ct)&&Ct!==Me};var at=Dt;if(e(ke,Dt))throw new I(k,"Only one doctype is allowed");var Rt=e(ke,me);if(Me&&ke.indexOf(Rt)<ke.indexOf(Me))throw new I(k,"Doctype can only be inserted before an element")}}function le(pe,we,Me,ke){be(pe,we,Me),pe.nodeType===B.DOCUMENT_NODE&&(ke||oe)(pe,we,Me);var Ve=we.parentNode;if(Ve&&Ve.removeChild(we),we.nodeType===S){var st=we.firstChild;if(st==null)return we;var Rt=we.lastChild}else st=Rt=we;var at=Me?Me.previousSibling:pe.lastChild;st.previousSibling=at,Rt.nextSibling=Me,at?at.nextSibling=st:pe.firstChild=st,Me==null?pe.lastChild=Rt:Me.previousSibling=Rt;do{st.parentNode=pe;var Dt=pe.ownerDocument||pe;he(st,Dt)}while(st!==Rt&&(st=st.nextSibling));return ae(pe.ownerDocument||pe,pe),we.nodeType==S&&(we.firstChild=we.lastChild=null),we}function he(pe,we){if(pe.ownerDocument!==we){if(pe.ownerDocument=we,pe.nodeType===f&&pe.attributes)for(var Me=0;Me<pe.attributes.length;Me++){var ke=pe.attributes.item(Me);ke&&(ke.ownerDocument=we)}for(var Ve=pe.firstChild;Ve;)he(Ve,we),Ve=Ve.nextSibling}}function _e(pe,we){we.parentNode&&we.parentNode.removeChild(we),we.parentNode=pe,we.previousSibling=pe.lastChild,we.nextSibling=null,we.previousSibling?we.previousSibling.nextSibling=we:pe.firstChild=we,pe.lastChild=we,ae(pe.ownerDocument,pe,we);var Me=pe.ownerDocument||pe;return he(we,Me),we}G.prototype={nodeName:"#document",nodeType:w,doctype:null,documentElement:null,_inc:1,insertBefore:function(pe,we){if(pe.nodeType==S){for(var Me=pe.firstChild;Me;){var ke=Me.nextSibling;this.insertBefore(Me,we),Me=ke}return pe}return le(this,pe,we),he(pe,this),this.documentElement===null&&pe.nodeType===f&&(this.documentElement=pe),pe},removeChild:function(pe){return this.documentElement==pe&&(this.documentElement=null),de(this,pe)},replaceChild:function(pe,we){le(this,pe,we,re),he(pe,this),we&&this.removeChild(we),me(pe)&&(this.documentElement=pe)},importNode:function(pe,we){return Qn(this,pe,we)},getElementById:function(pe){var we=null;return W(this.documentElement,function(Me){if(Me.nodeType==f&&Me.getAttribute("id")==pe)return we=Me,!0}),we},getElementsByClassName:function(pe){var we=a(pe);return new O(this,function(Me){var ke=[];return we.length>0&&W(Me.documentElement,function(Ve){if(Ve!==Me&&Ve.nodeType===f){var st=Ve.getAttribute("class");if(st){var Rt=pe===st;if(!Rt){var at=a(st);Rt=we.every(o(at))}Rt&&ke.push(Ve)}}}),ke})},createElement:function(pe){var we=new ie;we.ownerDocument=this,we.nodeName=pe,we.tagName=pe,we.localName=pe,we.childNodes=new U;var Me=we.attributes=new X;return Me._ownerElement=we,we},createDocumentFragment:function(){var pe=new rt;return pe.ownerDocument=this,pe.childNodes=new U,pe},createTextNode:function(pe){var we=new ve;return we.ownerDocument=this,we.appendData(pe),we},createComment:function(pe){var we=new Se;return we.ownerDocument=this,we.appendData(pe),we},createCDATASection:function(pe){var we=new Oe;return we.ownerDocument=this,we.appendData(pe),we},createProcessingInstruction:function(pe,we){var Me=new it;return Me.ownerDocument=this,Me.tagName=Me.nodeName=Me.target=pe,Me.nodeValue=Me.data=we,Me},createAttribute:function(pe){var we=new ce;return we.ownerDocument=this,we.name=pe,we.nodeName=pe,we.localName=pe,we.specified=!0,we},createEntityReference:function(pe){var we=new Ge;return we.ownerDocument=this,we.nodeName=pe,we},createElementNS:function(pe,we){var Me=new ie,ke=we.split(":"),Ve=Me.attributes=new X;return Me.childNodes=new U,Me.ownerDocument=this,Me.nodeName=we,Me.tagName=we,Me.namespaceURI=pe,ke.length==2?(Me.prefix=ke[0],Me.localName=ke[1]):Me.localName=we,Ve._ownerElement=Me,Me},createAttributeNS:function(pe,we){var Me=new ce,ke=we.split(":");return Me.ownerDocument=this,Me.nodeName=we,Me.name=we,Me.namespaceURI=pe,Me.specified=!0,ke.length==2?(Me.prefix=ke[0],Me.localName=ke[1]):Me.localName=we,Me}},c(G,B);function ie(){this._nsMap={}}ie.prototype={nodeType:f,hasAttribute:function(pe){return this.getAttributeNode(pe)!=null},getAttribute:function(pe){var we=this.getAttributeNode(pe);return we&&we.value||""},getAttributeNode:function(pe){return this.attributes.getNamedItem(pe)},setAttribute:function(pe,we){var Me=this.ownerDocument.createAttribute(pe);Me.value=Me.nodeValue=""+we,this.setAttributeNode(Me)},removeAttribute:function(pe){var we=this.getAttributeNode(pe);we&&this.removeAttributeNode(we)},appendChild:function(pe){return pe.nodeType===S?this.insertBefore(pe,null):_e(this,pe)},setAttributeNode:function(pe){return this.attributes.setNamedItem(pe)},setAttributeNodeNS:function(pe){return this.attributes.setNamedItemNS(pe)},removeAttributeNode:function(pe){return this.attributes.removeNamedItem(pe.nodeName)},removeAttributeNS:function(pe,we){var Me=this.getAttributeNodeNS(pe,we);Me&&this.removeAttributeNode(Me)},hasAttributeNS:function(pe,we){return this.getAttributeNodeNS(pe,we)!=null},getAttributeNS:function(pe,we){var Me=this.getAttributeNodeNS(pe,we);return Me&&Me.value||""},setAttributeNS:function(pe,we,Me){var ke=this.ownerDocument.createAttributeNS(pe,we);ke.value=ke.nodeValue=""+Me,this.setAttributeNode(ke)},getAttributeNodeNS:function(pe,we){return this.attributes.getNamedItemNS(pe,we)},getElementsByTagName:function(pe){return new O(this,function(we){var Me=[];return W(we,function(ke){ke!==we&&ke.nodeType==f&&(pe==="*"||ke.tagName==pe)&&Me.push(ke)}),Me})},getElementsByTagNameNS:function(pe,we){return new O(this,function(Me){var ke=[];return W(Me,function(Ve){Ve!==Me&&Ve.nodeType===f&&(pe==="*"||Ve.namespaceURI===pe)&&(we==="*"||Ve.localName==we)&&ke.push(Ve)}),ke})}},G.prototype.getElementsByTagName=ie.prototype.getElementsByTagName,G.prototype.getElementsByTagNameNS=ie.prototype.getElementsByTagNameNS,c(ie,B);function ce(){}ce.prototype.nodeType=h,c(ce,B);function ge(){}ge.prototype={data:"",substringData:function(pe,we){return this.data.substring(pe,pe+we)},appendData:function(pe){pe=this.data+pe,this.nodeValue=this.data=pe,this.length=pe.length},insertData:function(pe,we){this.replaceData(pe,0,we)},appendChild:function(pe){throw new Error(N[k])},deleteData:function(pe,we){this.replaceData(pe,we,"")},replaceData:function(pe,we,Me){var ke=this.data.substring(0,pe),Ve=this.data.substring(pe+we);Me=ke+Me+Ve,this.nodeValue=this.data=Me,this.length=Me.length}},c(ge,B);function ve(){}ve.prototype={nodeName:"#text",nodeType:p,splitText:function(pe){var we=this.data,Me=we.substring(pe);we=we.substring(0,pe),this.data=this.nodeValue=we,this.length=we.length;var ke=this.ownerDocument.createTextNode(Me);return this.parentNode&&this.parentNode.insertBefore(ke,this.nextSibling),ke}},c(ve,ge);function Se(){}Se.prototype={nodeName:"#comment",nodeType:_},c(Se,ge);function Oe(){}Oe.prototype={nodeName:"#cdata-section",nodeType:v},c(Oe,ge);function Te(){}Te.prototype.nodeType=C,c(Te,B);function Ue(){}Ue.prototype.nodeType=R,c(Ue,B);function Le(){}Le.prototype.nodeType=y,c(Le,B);function Ge(){}Ge.prototype.nodeType=g,c(Ge,B);function rt(){}rt.prototype.nodeName="#document-fragment",rt.prototype.nodeType=S,c(rt,B);function it(){}it.prototype.nodeType=b,c(it,B);function Vt(){}Vt.prototype.serializeToString=function(pe,we,Me){return xn.call(pe,we,Me)},B.prototype.toString=xn;function xn(pe,we){var Me=[],ke=this.nodeType==9&&this.documentElement||this,Ve=ke.prefix,st=ke.namespaceURI;if(st&&Ve==null){var Ve=ke.lookupPrefix(st);if(Ve==null)var Rt=[{namespace:st,prefix:null}]}return Yn(this,Me,pe,we,Rt),Me.join("")}function ln(pe,we,Me){var ke=pe.prefix||"",Ve=pe.namespaceURI;if(!Ve||ke==="xml"&&Ve===n.XML||Ve===n.XMLNS)return!1;for(var st=Me.length;st--;){var Rt=Me[st];if(Rt.prefix===ke)return Rt.namespace!==Ve}return!0}function lr(pe,we,Me){pe.push(" ",we,'="',Me.replace(/[<>&"\t\n\r]/g,j),'"')}function Yn(pe,we,Me,ke,Ve){if(Ve||(Ve=[]),ke)if(pe=ke(pe),pe){if(typeof pe=="string"){we.push(pe);return}}else return;switch(pe.nodeType){case f:var st=pe.attributes,Rt=st.length,Ie=pe.firstChild,at=pe.tagName;Me=n.isHTML(pe.namespaceURI)||Me;var Dt=at;if(!Me&&!pe.prefix&&pe.namespaceURI){for(var Ct,sn=0;sn<st.length;sn++)if(st.item(sn).name==="xmlns"){Ct=st.item(sn).value;break}if(!Ct)for(var un=Ve.length-1;un>=0;un--){var Fn=Ve[un];if(Fn.prefix===""&&Fn.namespace===pe.namespaceURI){Ct=Fn.namespace;break}}if(Ct!==pe.namespaceURI)for(var un=Ve.length-1;un>=0;un--){var Fn=Ve[un];if(Fn.namespace===pe.namespaceURI){Fn.prefix&&(Dt=Fn.prefix+":"+at);break}}}we.push("<",Dt);for(var ue=0;ue<Rt;ue++){var Ae=st.item(ue);Ae.prefix=="xmlns"?Ve.push({prefix:Ae.localName,namespace:Ae.value}):Ae.nodeName=="xmlns"&&Ve.push({prefix:"",namespace:Ae.value})}for(var ue=0;ue<Rt;ue++){var Ae=st.item(ue);if(ln(Ae,Me,Ve)){var Ee=Ae.prefix||"",Ne=Ae.namespaceURI;lr(we,Ee?"xmlns:"+Ee:"xmlns",Ne),Ve.push({prefix:Ee,namespace:Ne})}Yn(Ae,we,Me,ke,Ve)}if(at===Dt&&ln(pe,Me,Ve)){var Ee=pe.prefix||"",Ne=pe.namespaceURI;lr(we,Ee?"xmlns:"+Ee:"xmlns",Ne),Ve.push({prefix:Ee,namespace:Ne})}if(Ie||Me&&!/^(?:meta|link|img|br|hr|input)$/i.test(at)){if(we.push(">"),Me&&/^script$/i.test(at))for(;Ie;)Ie.data?we.push(Ie.data):Yn(Ie,we,Me,ke,Ve.slice()),Ie=Ie.nextSibling;else for(;Ie;)Yn(Ie,we,Me,ke,Ve.slice()),Ie=Ie.nextSibling;we.push("</",Dt,">")}else we.push("/>");return;case w:case S:for(var Ie=pe.firstChild;Ie;)Yn(Ie,we,Me,ke,Ve.slice()),Ie=Ie.nextSibling;return;case h:return lr(we,pe.name,pe.value);case p:return we.push(pe.data.replace(/[<&>]/g,j));case v:return we.push("<![CDATA[",pe.data,"]]>");case _:return we.push("<!--",pe.data,"-->");case C:var Re=pe.publicId,ze=pe.systemId;if(we.push("<!DOCTYPE ",pe.name),Re)we.push(" PUBLIC ",Re),ze&&ze!="."&&we.push(" ",ze),we.push(">");else if(ze&&ze!=".")we.push(" SYSTEM ",ze,">");else{var et=pe.internalSubset;et&&we.push(" [",et,"]"),we.push(">")}return;case b:return we.push("<?",pe.target," ",pe.data,"?>");case g:return we.push("&",pe.nodeName,";");default:we.push("??",pe.nodeName)}}function Qn(pe,we,Me){var ke;switch(we.nodeType){case f:ke=we.cloneNode(!1),ke.ownerDocument=pe;case S:break;case h:Me=!0;break}if(ke||(ke=we.cloneNode(!1)),ke.ownerDocument=pe,ke.parentNode=null,Me)for(var Ve=we.firstChild;Ve;)ke.appendChild(Qn(pe,Ve,Me)),Ve=Ve.nextSibling;return ke}function cr(pe,we,Me){var ke=new we.constructor;for(var Ve in we)if(Object.prototype.hasOwnProperty.call(we,Ve)){var st=we[Ve];typeof st!="object"&&st!=ke[Ve]&&(ke[Ve]=st)}switch(we.childNodes&&(ke.childNodes=new U),ke.ownerDocument=pe,ke.nodeType){case f:var Rt=we.attributes,at=ke.attributes=new X,Dt=Rt.length;at._ownerElement=ke;for(var Ct=0;Ct<Dt;Ct++)ke.setAttributeNode(cr(pe,Rt.item(Ct),!0));break;case h:Me=!0}if(Me)for(var sn=we.firstChild;sn;)ke.appendChild(cr(pe,sn,Me)),sn=sn.nextSibling;return ke}function Yt(pe,we,Me){pe[we]=Me}try{if(Object.defineProperty){let pe=function(we){switch(we.nodeType){case f:case S:var Me=[];for(we=we.firstChild;we;)we.nodeType!==7&&we.nodeType!==8&&Me.push(pe(we)),we=we.nextSibling;return Me.join("");default:return we.nodeValue}};var En=pe;Object.defineProperty(O.prototype,"length",{get:function(){return K(this),this.$$length}}),Object.defineProperty(B.prototype,"textContent",{get:function(){return pe(this)},set:function(we){switch(this.nodeType){case f:case S:for(;this.firstChild;)this.removeChild(this.firstChild);(we||String(we))&&this.appendChild(this.ownerDocument.createTextNode(we));break;default:this.data=we,this.value=we,this.nodeValue=we}}}),Yt=function(we,Me,ke){we["$$"+Me]=ke}}}catch{}return zl.DocumentType=Te,zl.DOMException=I,zl.DOMImplementation=Q,zl.Element=ie,zl.Node=B,zl.NodeList=U,zl.XMLSerializer=Vt,zl}var r0={},JD={},YL;function gMe(){return YL||(YL=1,(function(t){var e=$w().freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),t.entityMap=t.HTML_ENTITIES})(JD)),JD}var Hx={},QL;function yMe(){if(QL)return Hx;QL=1;var t=$w().NAMESPACE,e=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,n=new RegExp("[\\-\\.0-9"+e.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),r=new RegExp("^"+e.source+n.source+"*(?::"+e.source+n.source+"*)?$"),i=0,s=1,a=2,o=3,l=4,c=5,u=6,f=7;function h(k,F){this.message=k,this.locator=F,Error.captureStackTrace&&Error.captureStackTrace(this,h)}h.prototype=new Error,h.prototype.name=h.name;function p(){}p.prototype={parse:function(k,F,P){var I=this.domBuilder;I.startDocument(),C(F,F={}),v(k,F,P,I,this.errorHandler),I.endDocument()}};function v(k,F,P,I,U){function O(_e){if(_e>65535){_e-=65536;var ie=55296+(_e>>10),ce=56320+(_e&1023);return String.fromCharCode(ie,ce)}else return String.fromCharCode(_e)}function K(_e){var ie=_e.slice(1,-1);return Object.hasOwnProperty.call(P,ie)?P[ie]:ie.charAt(0)==="#"?O(parseInt(ie.substr(1).replace("x","0x"))):(U.error("entity not found:"+_e),_e)}function X(_e){if(_e>G){var ie=k.substring(G,_e).replace(/&#?\w+;/g,K);B&&J(G),I.characters(ie,0,_e-G),G=_e}}function J(_e,ie){for(;_e>=z&&(ie=Q.exec(k));)ne=ie.index,z=ne+ie[0].length,B.lineNumber++;B.columnNumber=_e-ne+1}for(var ne=0,z=0,Q=/.*(?:\r\n?|\n)|.*$/g,B=I.locator,j=[{currentNSMap:F}],W={},G=0;;){try{var Y=k.indexOf("<",G);if(Y<0){if(!k.substr(G).match(/^\s*$/)){var ee=I.doc,ae=ee.createTextNode(k.substr(G));ee.appendChild(ae),I.currentElement=ae}return}switch(Y>G&&X(Y),k.charAt(Y+1)){case"/":var be=k.indexOf(">",Y+3),de=k.substring(Y+2,be).replace(/[ \t\n\r]+$/g,""),fe=j.pop();be<0?(de=k.substring(Y+2).replace(/[\s<].*/,""),U.error("end tag name: "+de+" is not complete:"+fe.tagName),be=Y+1+de.length):de.match(/\s</)&&(de=de.replace(/[\s<].*/,""),U.error("end tag name: "+de+" maybe not complete"),be=Y+1+de.length);var De=fe.localNSMap,Pe=fe.tagName==de,me=Pe||fe.tagName&&fe.tagName.toLowerCase()==de.toLowerCase();if(me){if(I.endElement(fe.uri,fe.localName,de),De)for(var je in De)Object.prototype.hasOwnProperty.call(De,je)&&I.endPrefixMapping(je);Pe||U.fatalError("end tag name: "+de+" is not match the current start tagName:"+fe.tagName)}else j.push(fe);be++;break;case"?":B&&J(Y),be=R(k,Y,I);break;case"!":B&&J(Y),be=S(k,Y,I,U);break;default:B&&J(Y);var V=new D,ye=j[j.length-1].currentNSMap,be=y(k,Y,V,ye,K,U),oe=V.length;if(!V.closed&&w(k,be,V.tagName,W)&&(V.closed=!0,P.nbsp||U.warning("unclosed xml attribute")),B&&oe){for(var re=g(B,{}),le=0;le<oe;le++){var he=V[le];J(he.offset),he.locator=g(B,{})}I.locator=re,b(V,I,ye)&&j.push(V),I.locator=B}else b(V,I,ye)&&j.push(V);t.isHTML(V.uri)&&!V.closed?be=_(k,be,V.tagName,K,I):be++}}catch(_e){if(_e instanceof h)throw _e;U.error("element parse error: "+_e),be=-1}be>G?G=be:X(Math.max(Y,G)+1)}}function g(k,F){return F.lineNumber=k.lineNumber,F.columnNumber=k.columnNumber,F}function y(k,F,P,I,U,O){function K(B,j,W){P.attributeNames.hasOwnProperty(B)&&O.fatalError("Attribute "+B+" redefined"),P.addValue(B,j.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,U),W)}for(var X,J,ne=++F,z=i;;){var Q=k.charAt(ne);switch(Q){case"=":if(z===s)X=k.slice(F,ne),z=o;else if(z===a)z=o;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(z===o||z===s)if(z===s&&(O.warning('attribute value must after "="'),X=k.slice(F,ne)),F=ne+1,ne=k.indexOf(Q,F),ne>0)J=k.slice(F,ne),K(X,J,F-1),z=c;else throw new Error("attribute value no end '"+Q+"' match");else if(z==l)J=k.slice(F,ne),K(X,J,F),O.warning('attribute "'+X+'" missed start quot('+Q+")!!"),F=ne+1,z=c;else throw new Error('attribute value must after "="');break;case"/":switch(z){case i:P.setTagName(k.slice(F,ne));case c:case u:case f:z=f,P.closed=!0;case l:case s:break;case a:P.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return O.error("unexpected end of input"),z==i&&P.setTagName(k.slice(F,ne)),ne;case">":switch(z){case i:P.setTagName(k.slice(F,ne));case c:case u:case f:break;case l:case s:J=k.slice(F,ne),J.slice(-1)==="/"&&(P.closed=!0,J=J.slice(0,-1));case a:z===a&&(J=X),z==l?(O.warning('attribute "'+J+'" missed quot(")!'),K(X,J,F)):((!t.isHTML(I[""])||!J.match(/^(?:disabled|checked|selected)$/i))&&O.warning('attribute "'+J+'" missed value!! "'+J+'" instead!!'),K(J,J,F));break;case o:throw new Error("attribute value missed!!")}return ne;case"":Q=" ";default:if(Q<=" ")switch(z){case i:P.setTagName(k.slice(F,ne)),z=u;break;case s:X=k.slice(F,ne),z=a;break;case l:var J=k.slice(F,ne);O.warning('attribute "'+J+'" missed quot(")!!'),K(X,J,F);case c:z=u;break}else switch(z){case a:P.tagName,(!t.isHTML(I[""])||!X.match(/^(?:disabled|checked|selected)$/i))&&O.warning('attribute "'+X+'" missed value!! "'+X+'" instead2!!'),K(X,X,F),F=ne,z=s;break;case c:O.warning('attribute space is required"'+X+'"!!');case u:z=s,F=ne;break;case o:z=l,F=ne;break;case f:throw new Error("elements closed character '/' and '>' must be connected to")}}ne++}}function b(k,F,P){for(var I=k.tagName,U=null,Q=k.length;Q--;){var O=k[Q],K=O.qName,X=O.value,B=K.indexOf(":");if(B>0)var J=O.prefix=K.slice(0,B),ne=K.slice(B+1),z=J==="xmlns"&&ne;else ne=K,J=null,z=K==="xmlns"&&"";O.localName=ne,z!==!1&&(U==null&&(U={},C(P,P={})),P[z]=U[z]=X,O.uri=t.XMLNS,F.startPrefixMapping(z,X))}for(var Q=k.length;Q--;){O=k[Q];var J=O.prefix;J&&(J==="xml"&&(O.uri=t.XML),J!=="xmlns"&&(O.uri=P[J||""]))}var B=I.indexOf(":");B>0?(J=k.prefix=I.slice(0,B),ne=k.localName=I.slice(B+1)):(J=null,ne=k.localName=I);var j=k.uri=P[J||""];if(F.startElement(j,ne,I,k),k.closed){if(F.endElement(j,ne,I),U)for(J in U)Object.prototype.hasOwnProperty.call(U,J)&&F.endPrefixMapping(J)}else return k.currentNSMap=P,k.localNSMap=U,!0}function _(k,F,P,I,U){if(/^(?:script|textarea)$/i.test(P)){var O=k.indexOf("</"+P+">",F),K=k.substring(F+1,O);if(/[&<]/.test(K))return/^script$/i.test(P)?(U.characters(K,0,K.length),O):(K=K.replace(/&#?\w+;/g,I),U.characters(K,0,K.length),O)}return F+1}function w(k,F,P,I){var U=I[P];return U==null&&(U=k.lastIndexOf("</"+P+">"),U<F&&(U=k.lastIndexOf("</"+P)),I[P]=U),U<F}function C(k,F){for(var P in k)Object.prototype.hasOwnProperty.call(k,P)&&(F[P]=k[P])}function S(k,F,P,I){var U=k.charAt(F+2);switch(U){case"-":if(k.charAt(F+3)==="-"){var O=k.indexOf("-->",F+4);return O>F?(P.comment(k,F+4,O-F-4),O+3):(I.error("Unclosed comment"),-1)}else return-1;default:if(k.substr(F+3,6)=="CDATA["){var O=k.indexOf("]]>",F+9);return P.startCDATA(),P.characters(k,F+9,O-F-9),P.endCDATA(),O+3}var K=N(k,F),X=K.length;if(X>1&&/!doctype/i.test(K[0][0])){var J=K[1][0],ne=!1,z=!1;X>3&&(/^public$/i.test(K[2][0])?(ne=K[3][0],z=X>4&&K[4][0]):/^system$/i.test(K[2][0])&&(z=K[3][0]));var Q=K[X-1];return P.startDTD(J,ne,z),P.endDTD(),Q.index+Q[0].length}}return-1}function R(k,F,P){var I=k.indexOf("?>",F);if(I){var U=k.substring(F,I).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return U?(U[0].length,P.processingInstruction(U[1],U[2]),I+2):-1}return-1}function D(){this.attributeNames={}}D.prototype={setTagName:function(k){if(!r.test(k))throw new Error("invalid tagName:"+k);this.tagName=k},addValue:function(k,F,P){if(!r.test(k))throw new Error("invalid attribute:"+k);this.attributeNames[k]=this.length,this[this.length++]={qName:k,value:F,offset:P}},length:0,getLocalName:function(k){return this[k].localName},getLocator:function(k){return this[k].locator},getQName:function(k){return this[k].qName},getURI:function(k){return this[k].uri},getValue:function(k){return this[k].value}};function N(k,F){var P,I=[],U=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(U.lastIndex=F,U.exec(k);P=U.exec(k);)if(I.push(P),P[1])return I}return Hx.XMLReader=p,Hx.ParseError=h,Hx}var ZL;function vMe(){if(ZL)return r0;ZL=1;var t=$w(),e=z6(),n=gMe(),r=yMe(),i=e.DOMImplementation,s=t.NAMESPACE,a=r.ParseError,o=r.XMLReader;function l(y){return y.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function c(y){this.options=y||{locator:{}}}c.prototype.parseFromString=function(y,b){var _=this.options,w=new o,C=_.domBuilder||new f,S=_.errorHandler,R=_.locator,D=_.xmlns||{},N=/\/x?html?$/.test(b),k=N?n.HTML_ENTITIES:n.XML_ENTITIES;R&&C.setDocumentLocator(R),w.errorHandler=u(S,C,R),w.domBuilder=_.domBuilder||C,N&&(D[""]=s.HTML),D.xml=D.xml||s.XML;var F=_.normalizeLineEndings||l;return y&&typeof y=="string"?w.parse(F(y),D,k):w.errorHandler.error("invalid doc source"),C.doc};function u(y,b,_){if(!y){if(b instanceof f)return b;y=b}var w={},C=y instanceof Function;_=_||{};function S(R){var D=y[R];!D&&C&&(D=y.length==2?function(N){y(R,N)}:y),w[R]=D&&function(N){D("[xmldom "+R+"]	"+N+p(_))}||function(){}}return S("warning"),S("error"),S("fatalError"),w}function f(){this.cdata=!1}function h(y,b){b.lineNumber=y.lineNumber,b.columnNumber=y.columnNumber}f.prototype={startDocument:function(){this.doc=new i().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(y,b,_,w){var C=this.doc,S=C.createElementNS(y,_||b),R=w.length;g(this,S),this.currentElement=S,this.locator&&h(this.locator,S);for(var D=0;D<R;D++){var y=w.getURI(D),N=w.getValue(D),_=w.getQName(D),k=C.createAttributeNS(y,_);this.locator&&h(w.getLocator(D),k),k.value=k.nodeValue=N,S.setAttributeNode(k)}},endElement:function(y,b,_){var w=this.currentElement;w.tagName,this.currentElement=w.parentNode},startPrefixMapping:function(y,b){},endPrefixMapping:function(y){},processingInstruction:function(y,b){var _=this.doc.createProcessingInstruction(y,b);this.locator&&h(this.locator,_),g(this,_)},ignorableWhitespace:function(y,b,_){},characters:function(y,b,_){if(y=v.apply(this,arguments),y){if(this.cdata)var w=this.doc.createCDATASection(y);else var w=this.doc.createTextNode(y);this.currentElement?this.currentElement.appendChild(w):/^\s*$/.test(y)&&this.doc.appendChild(w),this.locator&&h(this.locator,w)}},skippedEntity:function(y){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(y){(this.locator=y)&&(y.lineNumber=0)},comment:function(y,b,_){y=v.apply(this,arguments);var w=this.doc.createComment(y);this.locator&&h(this.locator,w),g(this,w)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(y,b,_){var w=this.doc.implementation;if(w&&w.createDocumentType){var C=w.createDocumentType(y,b,_);this.locator&&h(this.locator,C),g(this,C),this.doc.doctype=C}},warning:function(y){console.warn("[xmldom warning]	"+y,p(this.locator))},error:function(y){console.error("[xmldom error]	"+y,p(this.locator))},fatalError:function(y){throw new a(y,this.locator)}};function p(y){if(y)return`
@`+(y.systemId||"")+"#[line:"+y.lineNumber+",col:"+y.columnNumber+"]"}function v(y,b,_){return typeof y=="string"?y.substr(b,_):y.length>=b+_||b?new java.lang.String(y,b,_)+"":y}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(y){f.prototype[y]=function(){return null}});function g(y,b){y.currentElement?y.currentElement.appendChild(b):y.doc.appendChild(b)}return r0.__DOMHandler=f,r0.normalizeLineEndings=l,r0.DOMParser=c,r0}var ej;function xMe(){if(ej)return n0;ej=1;var t=z6();return n0.DOMImplementation=t.DOMImplementation,n0.XMLSerializer=t.XMLSerializer,n0.DOMParser=vMe().DOMParser,n0}var tj;function _Me(){if(tj)return zx;tj=1;var t=xMe(),e=z6();function n(r){var i=null,s=new t.DOMParser({errorHandler:function(o,l){i={level:o,message:l}}}),a=s.parseFromString(r);if(i===null)return a;throw new Error(i.level+": "+i.message)}return zx.parseFromString=n,zx.Node=e.Node,zx}var nj;function bMe(){if(nj)return XD;nj=1;var t=cd(),e=ri,n=_Me(),r=VY(),i=r.Element;XD.readString=a;var s=n.Node;function a(o,l){l=l||{};try{var c=n.parseFromString(o,"text/xml")}catch(p){return t.reject(p)}if(c.documentElement.tagName==="parsererror")return t.resolve(new Error(c.documentElement.textContent));function u(p){switch(p.nodeType){case s.ELEMENT_NODE:return f(p);case s.TEXT_NODE:return r.text(p.nodeValue)}}function f(p){var v=h(p),g=[];e.forEach(p.childNodes,function(b){var _=u(b);_&&g.push(_)});var y={};return e.forEach(p.attributes,function(b){y[h(b)]=b.value}),new i(v,y,g)}function h(p){if(p.namespaceURI){var v=l[p.namespaceURI],g;return v?g=v+":":g="{"+p.namespaceURI+"}",g+p.localName}else return p.localName}return t.resolve(u(c.documentElement))}return XD}var YD={},Pd={},Zo={},rj;function ud(){return rj||(rj=1,(function(){var t,e,n,r,i,s,a,o=[].slice,l={}.hasOwnProperty;t=function(){var c,u,f,h,p,v;if(v=arguments[0],p=2<=arguments.length?o.call(arguments,1):[],i(Object.assign))Object.assign.apply(null,arguments);else for(c=0,f=p.length;c<f;c++)if(h=p[c],h!=null)for(u in h)l.call(h,u)&&(v[u]=h[u]);return v},i=function(c){return!!c&&Object.prototype.toString.call(c)==="[object Function]"},s=function(c){var u;return!!c&&((u=typeof c)=="function"||u==="object")},n=function(c){return i(Array.isArray)?Array.isArray(c):Object.prototype.toString.call(c)==="[object Array]"},r=function(c){var u;if(n(c))return!c.length;for(u in c)if(l.call(c,u))return!1;return!0},a=function(c){var u,f;return s(c)&&(f=Object.getPrototypeOf(c))&&(u=f.constructor)&&typeof u=="function"&&u instanceof u&&Function.prototype.toString.call(u)===Function.prototype.toString.call(Object)},e=function(c){return i(c.valueOf)?c.valueOf():c},Zo.assign=t,Zo.isFunction=i,Zo.isObject=s,Zo.isArray=n,Zo.isEmpty=r,Zo.isPlainObject=a,Zo.getValue=e}).call(Zo)),Zo}var b2={exports:{}},w2={exports:{}},T2={exports:{}},E2={exports:{}},wMe=E2.exports,ij;function WY(){return ij||(ij=1,(function(){E2.exports=(function(){function t(e,n,r){if(this.options=e.options,this.stringify=e.stringify,this.parent=e,n==null)throw new Error("Missing attribute name. "+this.debugInfo(n));if(r==null)throw new Error("Missing attribute value. "+this.debugInfo(n));this.name=this.stringify.attName(n),this.value=this.stringify.attValue(r)}return t.prototype.clone=function(){return Object.create(this)},t.prototype.toString=function(e){return this.options.writer.set(e).attribute(this)},t.prototype.debugInfo=function(e){return e=e||this.name,e==null?"parent: <"+this.parent.name+">":"attribute: {"+e+"}, parent: <"+this.parent.name+">"},t})()}).call(wMe)),E2.exports}var TMe=T2.exports,sj;function Gw(){return sj||(sj=1,(function(){var t,e,n,r,i,s,a=function(l,c){for(var u in c)o.call(c,u)&&(l[u]=c[u]);function f(){this.constructor=l}return f.prototype=c.prototype,l.prototype=new f,l.__super__=c.prototype,l},o={}.hasOwnProperty;s=ud(),i=s.isObject,r=s.isFunction,n=s.getValue,e=la(),t=WY(),T2.exports=(function(l){a(c,l);function c(u,f,h){if(c.__super__.constructor.call(this,u),f==null)throw new Error("Missing element name. "+this.debugInfo());this.name=this.stringify.eleName(f),this.attributes={},h!=null&&this.attribute(h),u.isDocument&&(this.isRoot=!0,this.documentObject=u,u.rootObject=this)}return c.prototype.clone=function(){var u,f,h,p;h=Object.create(this),h.isRoot&&(h.documentObject=null),h.attributes={},p=this.attributes;for(f in p)o.call(p,f)&&(u=p[f],h.attributes[f]=u.clone());return h.children=[],this.children.forEach(function(v){var g;return g=v.clone(),g.parent=h,h.children.push(g)}),h},c.prototype.attribute=function(u,f){var h,p;if(u!=null&&(u=n(u)),i(u))for(h in u)o.call(u,h)&&(p=u[h],this.attribute(h,p));else r(f)&&(f=f.apply()),(!this.options.skipNullAttributes||f!=null)&&(this.attributes[u]=new t(this,u,f));return this},c.prototype.removeAttribute=function(u){var f,h,p;if(u==null)throw new Error("Missing attribute name. "+this.debugInfo());if(u=n(u),Array.isArray(u))for(h=0,p=u.length;h<p;h++)f=u[h],delete this.attributes[f];else delete this.attributes[u];return this},c.prototype.toString=function(u){return this.options.writer.set(u).element(this)},c.prototype.att=function(u,f){return this.attribute(u,f)},c.prototype.a=function(u,f){return this.attribute(u,f)},c})(e)}).call(TMe)),T2.exports}var C2={exports:{}},EMe=C2.exports,aj;function Kw(){return aj||(aj=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=la(),C2.exports=(function(r){e(i,r);function i(s,a){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing CDATA text. "+this.debugInfo());this.text=this.stringify.cdata(a)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).cdata(this)},i})(t)}).call(EMe)),C2.exports}var S2={exports:{}},CMe=S2.exports,oj;function Xw(){return oj||(oj=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=la(),S2.exports=(function(r){e(i,r);function i(s,a){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing comment text. "+this.debugInfo());this.text=this.stringify.comment(a)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).comment(this)},i})(t)}).call(CMe)),S2.exports}var D2={exports:{}},SMe=D2.exports,lj;function Jw(){return lj||(lj=1,(function(){var t,e,n=function(i,s){for(var a in s)r.call(s,a)&&(i[a]=s[a]);function o(){this.constructor=i}return o.prototype=s.prototype,i.prototype=new o,i.__super__=s.prototype,i},r={}.hasOwnProperty;e=ud().isObject,t=la(),D2.exports=(function(i){n(s,i);function s(a,o,l,c){var u;s.__super__.constructor.call(this,a),e(o)&&(u=o,o=u.version,l=u.encoding,c=u.standalone),o||(o="1.0"),this.version=this.stringify.xmlVersion(o),l!=null&&(this.encoding=this.stringify.xmlEncoding(l)),c!=null&&(this.standalone=this.stringify.xmlStandalone(c))}return s.prototype.toString=function(a){return this.options.writer.set(a).declaration(this)},s})(t)}).call(SMe)),D2.exports}var A2={exports:{}},N2={exports:{}},DMe=N2.exports,cj;function Yw(){return cj||(cj=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=la(),N2.exports=(function(r){e(i,r);function i(s,a,o,l,c,u){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing DTD element name. "+this.debugInfo());if(o==null)throw new Error("Missing DTD attribute name. "+this.debugInfo(a));if(!l)throw new Error("Missing DTD attribute type. "+this.debugInfo(a));if(!c)throw new Error("Missing DTD attribute default. "+this.debugInfo(a));if(c.indexOf("#")!==0&&(c="#"+c),!c.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(a));if(u&&!c.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(a));this.elementName=this.stringify.eleName(a),this.attributeName=this.stringify.attName(o),this.attributeType=this.stringify.dtdAttType(l),this.defaultValue=this.stringify.dtdAttDefault(u),this.defaultValueType=c}return i.prototype.toString=function(s){return this.options.writer.set(s).dtdAttList(this)},i})(t)}).call(DMe)),N2.exports}var I2={exports:{}},AMe=I2.exports,uj;function Qw(){return uj||(uj=1,(function(){var t,e,n=function(i,s){for(var a in s)r.call(s,a)&&(i[a]=s[a]);function o(){this.constructor=i}return o.prototype=s.prototype,i.prototype=new o,i.__super__=s.prototype,i},r={}.hasOwnProperty;e=ud().isObject,t=la(),I2.exports=(function(i){n(s,i);function s(a,o,l,c){if(s.__super__.constructor.call(this,a),l==null)throw new Error("Missing DTD entity name. "+this.debugInfo(l));if(c==null)throw new Error("Missing DTD entity value. "+this.debugInfo(l));if(this.pe=!!o,this.name=this.stringify.eleName(l),!e(c))this.value=this.stringify.dtdEntityValue(c);else{if(!c.pubID&&!c.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(l));if(c.pubID&&!c.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(l));if(c.pubID!=null&&(this.pubID=this.stringify.dtdPubID(c.pubID)),c.sysID!=null&&(this.sysID=this.stringify.dtdSysID(c.sysID)),c.nData!=null&&(this.nData=this.stringify.dtdNData(c.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(l))}}return s.prototype.toString=function(a){return this.options.writer.set(a).dtdEntity(this)},s})(t)}).call(AMe)),I2.exports}var k2={exports:{}},NMe=k2.exports,dj;function Zw(){return dj||(dj=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=la(),k2.exports=(function(r){e(i,r);function i(s,a,o){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing DTD element name. "+this.debugInfo());o||(o="(#PCDATA)"),Array.isArray(o)&&(o="("+o.join(",")+")"),this.name=this.stringify.eleName(a),this.value=this.stringify.dtdElementValue(o)}return i.prototype.toString=function(s){return this.options.writer.set(s).dtdElement(this)},i})(t)}).call(NMe)),k2.exports}var R2={exports:{}},IMe=R2.exports,fj;function eT(){return fj||(fj=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=la(),R2.exports=(function(r){e(i,r);function i(s,a,o){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing DTD notation name. "+this.debugInfo(a));if(!o.pubID&&!o.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(a));this.name=this.stringify.eleName(a),o.pubID!=null&&(this.pubID=this.stringify.dtdPubID(o.pubID)),o.sysID!=null&&(this.sysID=this.stringify.dtdSysID(o.sysID))}return i.prototype.toString=function(s){return this.options.writer.set(s).dtdNotation(this)},i})(t)}).call(IMe)),R2.exports}var kMe=A2.exports,hj;function tT(){return hj||(hj=1,(function(){var t,e,n,r,i,s,a=function(l,c){for(var u in c)o.call(c,u)&&(l[u]=c[u]);function f(){this.constructor=l}return f.prototype=c.prototype,l.prototype=new f,l.__super__=c.prototype,l},o={}.hasOwnProperty;s=ud().isObject,i=la(),t=Yw(),n=Qw(),e=Zw(),r=eT(),A2.exports=(function(l){a(c,l);function c(u,f,h){var p,v;c.__super__.constructor.call(this,u),this.name="!DOCTYPE",this.documentObject=u,s(f)&&(p=f,f=p.pubID,h=p.sysID),h==null&&(v=[f,h],h=v[0],f=v[1]),f!=null&&(this.pubID=this.stringify.dtdPubID(f)),h!=null&&(this.sysID=this.stringify.dtdSysID(h))}return c.prototype.element=function(u,f){var h;return h=new e(this,u,f),this.children.push(h),this},c.prototype.attList=function(u,f,h,p,v){var g;return g=new t(this,u,f,h,p,v),this.children.push(g),this},c.prototype.entity=function(u,f){var h;return h=new n(this,!1,u,f),this.children.push(h),this},c.prototype.pEntity=function(u,f){var h;return h=new n(this,!0,u,f),this.children.push(h),this},c.prototype.notation=function(u,f){var h;return h=new r(this,u,f),this.children.push(h),this},c.prototype.toString=function(u){return this.options.writer.set(u).docType(this)},c.prototype.ele=function(u,f){return this.element(u,f)},c.prototype.att=function(u,f,h,p,v){return this.attList(u,f,h,p,v)},c.prototype.ent=function(u,f){return this.entity(u,f)},c.prototype.pent=function(u,f){return this.pEntity(u,f)},c.prototype.not=function(u,f){return this.notation(u,f)},c.prototype.up=function(){return this.root()||this.documentObject},c})(i)}).call(kMe)),A2.exports}var P2={exports:{}},RMe=P2.exports,pj;function nT(){return pj||(pj=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=la(),P2.exports=(function(r){e(i,r);function i(s,a){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing raw text. "+this.debugInfo());this.value=this.stringify.raw(a)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).raw(this)},i})(t)}).call(RMe)),P2.exports}var F2={exports:{}},PMe=F2.exports,mj;function rT(){return mj||(mj=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=la(),F2.exports=(function(r){e(i,r);function i(s,a){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing element text. "+this.debugInfo());this.value=this.stringify.eleText(a)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).text(this)},i})(t)}).call(PMe)),F2.exports}var M2={exports:{}},FMe=M2.exports,gj;function iT(){return gj||(gj=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=la(),M2.exports=(function(r){e(i,r);function i(s,a,o){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing instruction target. "+this.debugInfo());this.target=this.stringify.insTarget(a),o&&(this.value=this.stringify.insValue(o))}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).processingInstruction(this)},i})(t)}).call(FMe)),M2.exports}var U2={exports:{}},MMe=U2.exports,yj;function H6(){return yj||(yj=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=la(),U2.exports=(function(r){e(i,r);function i(s){i.__super__.constructor.call(this,s),this.isDummy=!0}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return""},i})(t)}).call(MMe)),U2.exports}var UMe=w2.exports,vj;function la(){return vj||(vj=1,(function(){var t,e,n,r,i,s,a,o,l,c,u,f,h,p,v={}.hasOwnProperty;p=ud(),h=p.isObject,f=p.isFunction,u=p.isEmpty,c=p.getValue,s=null,t=null,e=null,n=null,r=null,o=null,l=null,a=null,i=null,w2.exports=(function(){function g(y){this.parent=y,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.children=[],s||(s=Gw(),t=Kw(),e=Xw(),n=Jw(),r=tT(),o=nT(),l=rT(),a=iT(),i=H6())}return g.prototype.element=function(y,b,_){var w,C,S,R,D,N,k,F,P,I,U;if(N=null,b===null&&_==null&&(P=[{},null],b=P[0],_=P[1]),b==null&&(b={}),b=c(b),h(b)||(I=[b,_],_=I[0],b=I[1]),y!=null&&(y=c(y)),Array.isArray(y))for(S=0,k=y.length;S<k;S++)C=y[S],N=this.element(C);else if(f(y))N=this.element(y.apply());else if(h(y)){for(D in y)if(v.call(y,D))if(U=y[D],f(U)&&(U=U.apply()),h(U)&&u(U)&&(U=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&D.indexOf(this.stringify.convertAttKey)===0)N=this.attribute(D.substr(this.stringify.convertAttKey.length),U);else if(!this.options.separateArrayItems&&Array.isArray(U))for(R=0,F=U.length;R<F;R++)C=U[R],w={},w[D]=C,N=this.element(w);else h(U)?(N=this.element(D),N.element(U)):N=this.element(D,U)}else this.options.skipNullNodes&&_===null?N=this.dummy():!this.options.ignoreDecorators&&this.stringify.convertTextKey&&y.indexOf(this.stringify.convertTextKey)===0?N=this.text(_):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&y.indexOf(this.stringify.convertCDataKey)===0?N=this.cdata(_):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&y.indexOf(this.stringify.convertCommentKey)===0?N=this.comment(_):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&y.indexOf(this.stringify.convertRawKey)===0?N=this.raw(_):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&y.indexOf(this.stringify.convertPIKey)===0?N=this.instruction(y.substr(this.stringify.convertPIKey.length),_):N=this.node(y,b,_);if(N==null)throw new Error("Could not create any elements with: "+y+". "+this.debugInfo());return N},g.prototype.insertBefore=function(y,b,_){var w,C,S;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(y));return C=this.parent.children.indexOf(this),S=this.parent.children.splice(C),w=this.parent.element(y,b,_),Array.prototype.push.apply(this.parent.children,S),w},g.prototype.insertAfter=function(y,b,_){var w,C,S;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(y));return C=this.parent.children.indexOf(this),S=this.parent.children.splice(C+1),w=this.parent.element(y,b,_),Array.prototype.push.apply(this.parent.children,S),w},g.prototype.remove=function(){var y;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return y=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[y,y-y+1].concat([])),this.parent},g.prototype.node=function(y,b,_){var w,C;return y!=null&&(y=c(y)),b||(b={}),b=c(b),h(b)||(C=[b,_],_=C[0],b=C[1]),w=new s(this,y,b),_!=null&&w.text(_),this.children.push(w),w},g.prototype.text=function(y){var b;return b=new l(this,y),this.children.push(b),this},g.prototype.cdata=function(y){var b;return b=new t(this,y),this.children.push(b),this},g.prototype.comment=function(y){var b;return b=new e(this,y),this.children.push(b),this},g.prototype.commentBefore=function(y){var b,_;return b=this.parent.children.indexOf(this),_=this.parent.children.splice(b),this.parent.comment(y),Array.prototype.push.apply(this.parent.children,_),this},g.prototype.commentAfter=function(y){var b,_;return b=this.parent.children.indexOf(this),_=this.parent.children.splice(b+1),this.parent.comment(y),Array.prototype.push.apply(this.parent.children,_),this},g.prototype.raw=function(y){var b;return b=new o(this,y),this.children.push(b),this},g.prototype.dummy=function(){var y;return y=new i(this),this.children.push(y),y},g.prototype.instruction=function(y,b){var _,w,C,S,R;if(y!=null&&(y=c(y)),b!=null&&(b=c(b)),Array.isArray(y))for(S=0,R=y.length;S<R;S++)_=y[S],this.instruction(_);else if(h(y))for(_ in y)v.call(y,_)&&(w=y[_],this.instruction(_,w));else f(b)&&(b=b.apply()),C=new a(this,y,b),this.children.push(C);return this},g.prototype.instructionBefore=function(y,b){var _,w;return _=this.parent.children.indexOf(this),w=this.parent.children.splice(_),this.parent.instruction(y,b),Array.prototype.push.apply(this.parent.children,w),this},g.prototype.instructionAfter=function(y,b){var _,w;return _=this.parent.children.indexOf(this),w=this.parent.children.splice(_+1),this.parent.instruction(y,b),Array.prototype.push.apply(this.parent.children,w),this},g.prototype.declaration=function(y,b,_){var w,C;return w=this.document(),C=new n(w,y,b,_),w.children[0]instanceof n?w.children[0]=C:w.children.unshift(C),w.root()||w},g.prototype.doctype=function(y,b){var _,w,C,S,R,D,N,k,F,P;for(w=this.document(),C=new r(w,y,b),F=w.children,S=R=0,N=F.length;R<N;S=++R)if(_=F[S],_ instanceof r)return w.children[S]=C,C;for(P=w.children,S=D=0,k=P.length;D<k;S=++D)if(_=P[S],_.isRoot)return w.children.splice(S,0,C),C;return w.children.push(C),C},g.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},g.prototype.root=function(){var y;for(y=this;y;){if(y.isDocument)return y.rootObject;if(y.isRoot)return y;y=y.parent}},g.prototype.document=function(){var y;for(y=this;y;){if(y.isDocument)return y;y=y.parent}},g.prototype.end=function(y){return this.document().end(y)},g.prototype.prev=function(){var y;for(y=this.parent.children.indexOf(this);y>0&&this.parent.children[y-1].isDummy;)y=y-1;if(y<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[y-1]},g.prototype.next=function(){var y;for(y=this.parent.children.indexOf(this);y<this.parent.children.length-1&&this.parent.children[y+1].isDummy;)y=y+1;if(y===-1||y===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[y+1]},g.prototype.importDocument=function(y){var b;return b=y.root().clone(),b.parent=this,b.isRoot=!1,this.children.push(b),this},g.prototype.debugInfo=function(y){var b,_;return y=y||this.name,y==null&&!((b=this.parent)!=null&&b.name)?"":y==null?"parent: <"+this.parent.name+">":(_=this.parent)!=null&&_.name?"node: <"+y+">, parent: <"+this.parent.name+">":"node: <"+y+">"},g.prototype.ele=function(y,b,_){return this.element(y,b,_)},g.prototype.nod=function(y,b,_){return this.node(y,b,_)},g.prototype.txt=function(y){return this.text(y)},g.prototype.dat=function(y){return this.cdata(y)},g.prototype.com=function(y){return this.comment(y)},g.prototype.ins=function(y,b){return this.instruction(y,b)},g.prototype.doc=function(){return this.document()},g.prototype.dec=function(y,b,_){return this.declaration(y,b,_)},g.prototype.dtd=function(y,b){return this.doctype(y,b)},g.prototype.e=function(y,b,_){return this.element(y,b,_)},g.prototype.n=function(y,b,_){return this.node(y,b,_)},g.prototype.t=function(y){return this.text(y)},g.prototype.d=function(y){return this.cdata(y)},g.prototype.c=function(y){return this.comment(y)},g.prototype.r=function(y){return this.raw(y)},g.prototype.i=function(y,b){return this.instruction(y,b)},g.prototype.u=function(){return this.up()},g.prototype.importXMLBuilder=function(y){return this.importDocument(y)},g})()}).call(UMe)),w2.exports}var O2={exports:{}},OMe=O2.exports,xj;function qY(){return xj||(xj=1,(function(){var t=function(n,r){return function(){return n.apply(r,arguments)}},e={}.hasOwnProperty;O2.exports=(function(){function n(r){this.assertLegalChar=t(this.assertLegalChar,this);var i,s,a;r||(r={}),this.noDoubleEncoding=r.noDoubleEncoding,s=r.stringify||{};for(i in s)e.call(s,i)&&(a=s[i],this[i]=a)}return n.prototype.eleName=function(r){return r=""+r||"",this.assertLegalChar(r)},n.prototype.eleText=function(r){return r=""+r||"",this.assertLegalChar(this.elEscape(r))},n.prototype.cdata=function(r){return r=""+r||"",r=r.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(r)},n.prototype.comment=function(r){if(r=""+r||"",r.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+r);return this.assertLegalChar(r)},n.prototype.raw=function(r){return""+r||""},n.prototype.attName=function(r){return r=""+r||""},n.prototype.attValue=function(r){return r=""+r||"",this.attEscape(r)},n.prototype.insTarget=function(r){return""+r||""},n.prototype.insValue=function(r){if(r=""+r||"",r.match(/\?>/))throw new Error("Invalid processing instruction value: "+r);return r},n.prototype.xmlVersion=function(r){if(r=""+r||"",!r.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+r);return r},n.prototype.xmlEncoding=function(r){if(r=""+r||"",!r.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+r);return r},n.prototype.xmlStandalone=function(r){return r?"yes":"no"},n.prototype.dtdPubID=function(r){return""+r||""},n.prototype.dtdSysID=function(r){return""+r||""},n.prototype.dtdElementValue=function(r){return""+r||""},n.prototype.dtdAttType=function(r){return""+r||""},n.prototype.dtdAttDefault=function(r){return r!=null?""+r||"":r},n.prototype.dtdEntityValue=function(r){return""+r||""},n.prototype.dtdNData=function(r){return""+r||""},n.prototype.convertAttKey="@",n.prototype.convertPIKey="?",n.prototype.convertTextKey="#text",n.prototype.convertCDataKey="#cdata",n.prototype.convertCommentKey="#comment",n.prototype.convertRawKey="#raw",n.prototype.assertLegalChar=function(r){var i;if(i=r.match(/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/),i)throw new Error("Invalid character in string: "+r+" at index "+i.index);return r},n.prototype.elEscape=function(r){var i;return i=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,r.replace(i,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},n.prototype.attEscape=function(r){var i;return i=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,r.replace(i,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},n})()}).call(OMe)),O2.exports}var L2={exports:{}},j2={exports:{}},LMe=j2.exports,_j;function zY(){return _j||(_j=1,(function(){var t={}.hasOwnProperty;j2.exports=(function(){function e(n){var r,i,s,a,o,l,c,u,f;n||(n={}),this.pretty=n.pretty||!1,this.allowEmpty=(i=n.allowEmpty)!=null?i:!1,this.pretty?(this.indent=(s=n.indent)!=null?s:"  ",this.newline=(a=n.newline)!=null?a:`
`,this.offset=(o=n.offset)!=null?o:0,this.dontprettytextnodes=(l=n.dontprettytextnodes)!=null?l:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash=(c=n.spacebeforeslash)!=null?c:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,u=n.writer||{};for(r in u)t.call(u,r)&&(f=u[r],this[r]=f)}return e.prototype.set=function(n){var r,i,s;n||(n={}),"pretty"in n&&(this.pretty=n.pretty),"allowEmpty"in n&&(this.allowEmpty=n.allowEmpty),this.pretty?(this.indent="indent"in n?n.indent:"  ",this.newline="newline"in n?n.newline:`
`,this.offset="offset"in n?n.offset:0,this.dontprettytextnodes="dontprettytextnodes"in n?n.dontprettytextnodes:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash="spacebeforeslash"in n?n.spacebeforeslash:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,i=n.writer||{};for(r in i)t.call(i,r)&&(s=i[r],this[r]=s);return this},e.prototype.space=function(n){var r;return this.pretty?(r=(n||0)+this.offset+1,r>0?new Array(r).join(this.indent):""):""},e})()}).call(LMe)),j2.exports}var jMe=L2.exports,bj;function $6(){return bj||(bj=1,(function(){var t,e,n,r,i,s,a,o,l,c,u,f,h,p,v=function(y,b){for(var _ in b)g.call(b,_)&&(y[_]=b[_]);function w(){this.constructor=y}return w.prototype=b.prototype,y.prototype=new w,y.__super__=b.prototype,y},g={}.hasOwnProperty;a=Jw(),o=tT(),t=Kw(),e=Xw(),c=Gw(),f=nT(),h=rT(),u=iT(),l=H6(),n=Yw(),r=Zw(),i=Qw(),s=eT(),p=zY(),L2.exports=(function(y){v(b,y);function b(_){b.__super__.constructor.call(this,_)}return b.prototype.document=function(_){var w,C,S,R,D;for(this.textispresent=!1,R="",D=_.children,C=0,S=D.length;C<S;C++)w=D[C],!(w instanceof l)&&(R+=(function(){switch(!1){case!(w instanceof a):return this.declaration(w);case!(w instanceof o):return this.docType(w);case!(w instanceof e):return this.comment(w);case!(w instanceof u):return this.processingInstruction(w);default:return this.element(w,0)}}).call(this));return this.pretty&&R.slice(-this.newline.length)===this.newline&&(R=R.slice(0,-this.newline.length)),R},b.prototype.attribute=function(_){return" "+_.name+'="'+_.value+'"'},b.prototype.cdata=function(_,w){return this.space(w)+"<![CDATA["+_.text+"]]>"+this.newline},b.prototype.comment=function(_,w){return this.space(w)+"<!-- "+_.text+" -->"+this.newline},b.prototype.declaration=function(_,w){var C;return C=this.space(w),C+='<?xml version="'+_.version+'"',_.encoding!=null&&(C+=' encoding="'+_.encoding+'"'),_.standalone!=null&&(C+=' standalone="'+_.standalone+'"'),C+=this.spacebeforeslash+"?>",C+=this.newline,C},b.prototype.docType=function(_,w){var C,S,R,D,N;if(w||(w=0),D=this.space(w),D+="<!DOCTYPE "+_.root().name,_.pubID&&_.sysID?D+=' PUBLIC "'+_.pubID+'" "'+_.sysID+'"':_.sysID&&(D+=' SYSTEM "'+_.sysID+'"'),_.children.length>0){for(D+=" [",D+=this.newline,N=_.children,S=0,R=N.length;S<R;S++)C=N[S],D+=(function(){switch(!1){case!(C instanceof n):return this.dtdAttList(C,w+1);case!(C instanceof r):return this.dtdElement(C,w+1);case!(C instanceof i):return this.dtdEntity(C,w+1);case!(C instanceof s):return this.dtdNotation(C,w+1);case!(C instanceof t):return this.cdata(C,w+1);case!(C instanceof e):return this.comment(C,w+1);case!(C instanceof u):return this.processingInstruction(C,w+1);default:throw new Error("Unknown DTD node type: "+C.constructor.name)}}).call(this);D+="]"}return D+=this.spacebeforeslash+">",D+=this.newline,D},b.prototype.element=function(_,w){var C,S,R,D,N,k,F,P,I,U,O,K,X;w||(w=0),X=!1,this.textispresent?(this.newline="",this.pretty=!1):(this.newline=this.newlinedefault,this.pretty=this.prettydefault),K=this.space(w),P="",P+=K+"<"+_.name,I=_.attributes;for(F in I)g.call(I,F)&&(C=I[F],P+=this.attribute(C));if(_.children.length===0||_.children.every(function(J){return J.value===""}))this.allowEmpty?P+="></"+_.name+">"+this.newline:P+=this.spacebeforeslash+"/>"+this.newline;else if(this.pretty&&_.children.length===1&&_.children[0].value!=null)P+=">",P+=_.children[0].value,P+="</"+_.name+">"+this.newline;else{if(this.dontprettytextnodes){for(U=_.children,R=0,N=U.length;R<N;R++)if(S=U[R],S.value!=null){this.textispresent++,X=!0;break}}for(this.textispresent&&(this.newline="",this.pretty=!1,K=this.space(w)),P+=">"+this.newline,O=_.children,D=0,k=O.length;D<k;D++)S=O[D],P+=(function(){switch(!1){case!(S instanceof t):return this.cdata(S,w+1);case!(S instanceof e):return this.comment(S,w+1);case!(S instanceof c):return this.element(S,w+1);case!(S instanceof f):return this.raw(S,w+1);case!(S instanceof h):return this.text(S,w+1);case!(S instanceof u):return this.processingInstruction(S,w+1);case!(S instanceof l):return"";default:throw new Error("Unknown XML node type: "+S.constructor.name)}}).call(this);X&&this.textispresent--,this.textispresent||(this.newline=this.newlinedefault,this.pretty=this.prettydefault),P+=K+"</"+_.name+">"+this.newline}return P},b.prototype.processingInstruction=function(_,w){var C;return C=this.space(w)+"<?"+_.target,_.value&&(C+=" "+_.value),C+=this.spacebeforeslash+"?>"+this.newline,C},b.prototype.raw=function(_,w){return this.space(w)+_.value+this.newline},b.prototype.text=function(_,w){return this.space(w)+_.value+this.newline},b.prototype.dtdAttList=function(_,w){var C;return C=this.space(w)+"<!ATTLIST "+_.elementName+" "+_.attributeName+" "+_.attributeType,_.defaultValueType!=="#DEFAULT"&&(C+=" "+_.defaultValueType),_.defaultValue&&(C+=' "'+_.defaultValue+'"'),C+=this.spacebeforeslash+">"+this.newline,C},b.prototype.dtdElement=function(_,w){return this.space(w)+"<!ELEMENT "+_.name+" "+_.value+this.spacebeforeslash+">"+this.newline},b.prototype.dtdEntity=function(_,w){var C;return C=this.space(w)+"<!ENTITY",_.pe&&(C+=" %"),C+=" "+_.name,_.value?C+=' "'+_.value+'"':(_.pubID&&_.sysID?C+=' PUBLIC "'+_.pubID+'" "'+_.sysID+'"':_.sysID&&(C+=' SYSTEM "'+_.sysID+'"'),_.nData&&(C+=" NDATA "+_.nData)),C+=this.spacebeforeslash+">"+this.newline,C},b.prototype.dtdNotation=function(_,w){var C;return C=this.space(w)+"<!NOTATION "+_.name,_.pubID&&_.sysID?C+=' PUBLIC "'+_.pubID+'" "'+_.sysID+'"':_.pubID?C+=' PUBLIC "'+_.pubID+'"':_.sysID&&(C+=' SYSTEM "'+_.sysID+'"'),C+=this.spacebeforeslash+">"+this.newline,C},b.prototype.openNode=function(_,w){var C,S,R,D;if(w||(w=0),_ instanceof c){R=this.space(w)+"<"+_.name,D=_.attributes;for(S in D)g.call(D,S)&&(C=D[S],R+=this.attribute(C));return R+=(_.children?">":"/>")+this.newline,R}else return R=this.space(w)+"<!DOCTYPE "+_.rootNodeName,_.pubID&&_.sysID?R+=' PUBLIC "'+_.pubID+'" "'+_.sysID+'"':_.sysID&&(R+=' SYSTEM "'+_.sysID+'"'),R+=(_.children?" [":">")+this.newline,R},b.prototype.closeNode=function(_,w){switch(w||(w=0),!1){case!(_ instanceof c):return this.space(w)+"</"+_.name+">"+this.newline;case!(_ instanceof o):return this.space(w)+"]>"+this.newline}},b})(p)}).call(jMe)),L2.exports}var BMe=b2.exports,wj;function VMe(){return wj||(wj=1,(function(){var t,e,n,r,i=function(a,o){for(var l in o)s.call(o,l)&&(a[l]=o[l]);function c(){this.constructor=a}return c.prototype=o.prototype,a.prototype=new c,a.__super__=o.prototype,a},s={}.hasOwnProperty;r=ud().isPlainObject,t=la(),n=qY(),e=$6(),b2.exports=(function(a){i(o,a);function o(l){o.__super__.constructor.call(this,null),this.name="?xml",l||(l={}),l.writer||(l.writer=new e),this.options=l,this.stringify=new n(l),this.isDocument=!0}return o.prototype.end=function(l){var c;return l?r(l)&&(c=l,l=this.options.writer.set(c)):l=this.options.writer,l.document(this)},o.prototype.toString=function(l){return this.options.writer.set(l).document(this)},o})(t)}).call(BMe)),b2.exports}var B2={exports:{}},WMe=B2.exports,Tj;function qMe(){return Tj||(Tj=1,(function(){var t,e,n,r,i,s,a,o,l,c,u,f,h,p,v,g,y,b,_,w,C={}.hasOwnProperty;w=ud(),b=w.isObject,y=w.isFunction,_=w.isPlainObject,g=w.getValue,c=Gw(),e=Kw(),n=Xw(),f=nT(),v=rT(),u=iT(),o=Jw(),l=tT(),r=Yw(),s=Qw(),i=Zw(),a=eT(),t=WY(),p=qY(),h=$6(),B2.exports=(function(){function S(R,D,N){var k;this.name="?xml",R||(R={}),R.writer?_(R.writer)&&(k=R.writer,R.writer=new h(k)):R.writer=new h(R),this.options=R,this.writer=R.writer,this.stringify=new p(R),this.onDataCallback=D||function(){},this.onEndCallback=N||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return S.prototype.node=function(R,D,N){var k,F;if(R==null)throw new Error("Missing node name.");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node. "+this.debugInfo(R));return this.openCurrent(),R=g(R),D===null&&N==null&&(k=[{},null],D=k[0],N=k[1]),D==null&&(D={}),D=g(D),b(D)||(F=[D,N],N=F[0],D=F[1]),this.currentNode=new c(this,R,D),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,N!=null&&this.text(N),this},S.prototype.element=function(R,D,N){return this.currentNode&&this.currentNode instanceof l?this.dtdElement.apply(this,arguments):this.node(R,D,N)},S.prototype.attribute=function(R,D){var N,k;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(R));if(R!=null&&(R=g(R)),b(R))for(N in R)C.call(R,N)&&(k=R[N],this.attribute(N,k));else y(D)&&(D=D.apply()),(!this.options.skipNullAttributes||D!=null)&&(this.currentNode.attributes[R]=new t(this,R,D));return this},S.prototype.text=function(R){var D;return this.openCurrent(),D=new v(this,R),this.onData(this.writer.text(D,this.currentLevel+1),this.currentLevel+1),this},S.prototype.cdata=function(R){var D;return this.openCurrent(),D=new e(this,R),this.onData(this.writer.cdata(D,this.currentLevel+1),this.currentLevel+1),this},S.prototype.comment=function(R){var D;return this.openCurrent(),D=new n(this,R),this.onData(this.writer.comment(D,this.currentLevel+1),this.currentLevel+1),this},S.prototype.raw=function(R){var D;return this.openCurrent(),D=new f(this,R),this.onData(this.writer.raw(D,this.currentLevel+1),this.currentLevel+1),this},S.prototype.instruction=function(R,D){var N,k,F,P,I;if(this.openCurrent(),R!=null&&(R=g(R)),D!=null&&(D=g(D)),Array.isArray(R))for(N=0,P=R.length;N<P;N++)k=R[N],this.instruction(k);else if(b(R))for(k in R)C.call(R,k)&&(F=R[k],this.instruction(k,F));else y(D)&&(D=D.apply()),I=new u(this,R,D),this.onData(this.writer.processingInstruction(I,this.currentLevel+1),this.currentLevel+1);return this},S.prototype.declaration=function(R,D,N){var k;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return k=new o(this,R,D,N),this.onData(this.writer.declaration(k,this.currentLevel+1),this.currentLevel+1),this},S.prototype.doctype=function(R,D,N){if(this.openCurrent(),R==null)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new l(this,D,N),this.currentNode.rootNodeName=R,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},S.prototype.dtdElement=function(R,D){var N;return this.openCurrent(),N=new i(this,R,D),this.onData(this.writer.dtdElement(N,this.currentLevel+1),this.currentLevel+1),this},S.prototype.attList=function(R,D,N,k,F){var P;return this.openCurrent(),P=new r(this,R,D,N,k,F),this.onData(this.writer.dtdAttList(P,this.currentLevel+1),this.currentLevel+1),this},S.prototype.entity=function(R,D){var N;return this.openCurrent(),N=new s(this,!1,R,D),this.onData(this.writer.dtdEntity(N,this.currentLevel+1),this.currentLevel+1),this},S.prototype.pEntity=function(R,D){var N;return this.openCurrent(),N=new s(this,!0,R,D),this.onData(this.writer.dtdEntity(N,this.currentLevel+1),this.currentLevel+1),this},S.prototype.notation=function(R,D){var N;return this.openCurrent(),N=new a(this,R,D),this.onData(this.writer.dtdNotation(N,this.currentLevel+1),this.currentLevel+1),this},S.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},S.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},S.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},S.prototype.openNode=function(R){if(!R.isOpen)return!this.root&&this.currentLevel===0&&R instanceof c&&(this.root=R),this.onData(this.writer.openNode(R,this.currentLevel),this.currentLevel),R.isOpen=!0},S.prototype.closeNode=function(R){if(!R.isClosed)return this.onData(this.writer.closeNode(R,this.currentLevel),this.currentLevel),R.isClosed=!0},S.prototype.onData=function(R,D){return this.documentStarted=!0,this.onDataCallback(R,D+1)},S.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},S.prototype.debugInfo=function(R){return R==null?"":"node: <"+R+">"},S.prototype.ele=function(){return this.element.apply(this,arguments)},S.prototype.nod=function(R,D,N){return this.node(R,D,N)},S.prototype.txt=function(R){return this.text(R)},S.prototype.dat=function(R){return this.cdata(R)},S.prototype.com=function(R){return this.comment(R)},S.prototype.ins=function(R,D){return this.instruction(R,D)},S.prototype.dec=function(R,D,N){return this.declaration(R,D,N)},S.prototype.dtd=function(R,D,N){return this.doctype(R,D,N)},S.prototype.e=function(R,D,N){return this.element(R,D,N)},S.prototype.n=function(R,D,N){return this.node(R,D,N)},S.prototype.t=function(R){return this.text(R)},S.prototype.d=function(R){return this.cdata(R)},S.prototype.c=function(R){return this.comment(R)},S.prototype.r=function(R){return this.raw(R)},S.prototype.i=function(R,D){return this.instruction(R,D)},S.prototype.att=function(){return this.currentNode&&this.currentNode instanceof l?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},S.prototype.a=function(){return this.currentNode&&this.currentNode instanceof l?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},S.prototype.ent=function(R,D){return this.entity(R,D)},S.prototype.pent=function(R,D){return this.pEntity(R,D)},S.prototype.not=function(R,D){return this.notation(R,D)},S})()}).call(WMe)),B2.exports}var V2={exports:{}},zMe=V2.exports,Ej;function HMe(){return Ej||(Ej=1,(function(){var t,e,n,r,i,s,a,o,l,c,u,f,h,p,v=function(y,b){for(var _ in b)g.call(b,_)&&(y[_]=b[_]);function w(){this.constructor=y}return w.prototype=b.prototype,y.prototype=new w,y.__super__=b.prototype,y},g={}.hasOwnProperty;a=Jw(),o=tT(),t=Kw(),e=Xw(),c=Gw(),f=nT(),h=rT(),u=iT(),l=H6(),n=Yw(),r=Zw(),i=Qw(),s=eT(),p=zY(),V2.exports=(function(y){v(b,y);function b(_,w){b.__super__.constructor.call(this,w),this.stream=_}return b.prototype.document=function(_){var w,C,S,R,D,N,k,F;for(N=_.children,C=0,R=N.length;C<R;C++)w=N[C],w.isLastRootNode=!1;for(_.children[_.children.length-1].isLastRootNode=!0,k=_.children,F=[],S=0,D=k.length;S<D;S++)if(w=k[S],!(w instanceof l))switch(!1){case!(w instanceof a):F.push(this.declaration(w));break;case!(w instanceof o):F.push(this.docType(w));break;case!(w instanceof e):F.push(this.comment(w));break;case!(w instanceof u):F.push(this.processingInstruction(w));break;default:F.push(this.element(w))}return F},b.prototype.attribute=function(_){return this.stream.write(" "+_.name+'="'+_.value+'"')},b.prototype.cdata=function(_,w){return this.stream.write(this.space(w)+"<![CDATA["+_.text+"]]>"+this.endline(_))},b.prototype.comment=function(_,w){return this.stream.write(this.space(w)+"<!-- "+_.text+" -->"+this.endline(_))},b.prototype.declaration=function(_,w){return this.stream.write(this.space(w)),this.stream.write('<?xml version="'+_.version+'"'),_.encoding!=null&&this.stream.write(' encoding="'+_.encoding+'"'),_.standalone!=null&&this.stream.write(' standalone="'+_.standalone+'"'),this.stream.write(this.spacebeforeslash+"?>"),this.stream.write(this.endline(_))},b.prototype.docType=function(_,w){var C,S,R,D;if(w||(w=0),this.stream.write(this.space(w)),this.stream.write("<!DOCTYPE "+_.root().name),_.pubID&&_.sysID?this.stream.write(' PUBLIC "'+_.pubID+'" "'+_.sysID+'"'):_.sysID&&this.stream.write(' SYSTEM "'+_.sysID+'"'),_.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(_)),D=_.children,S=0,R=D.length;S<R;S++)switch(C=D[S],!1){case!(C instanceof n):this.dtdAttList(C,w+1);break;case!(C instanceof r):this.dtdElement(C,w+1);break;case!(C instanceof i):this.dtdEntity(C,w+1);break;case!(C instanceof s):this.dtdNotation(C,w+1);break;case!(C instanceof t):this.cdata(C,w+1);break;case!(C instanceof e):this.comment(C,w+1);break;case!(C instanceof u):this.processingInstruction(C,w+1);break;default:throw new Error("Unknown DTD node type: "+C.constructor.name)}this.stream.write("]")}return this.stream.write(this.spacebeforeslash+">"),this.stream.write(this.endline(_))},b.prototype.element=function(_,w){var C,S,R,D,N,k,F,P;w||(w=0),P=this.space(w),this.stream.write(P+"<"+_.name),k=_.attributes;for(N in k)g.call(k,N)&&(C=k[N],this.attribute(C));if(_.children.length===0||_.children.every(function(I){return I.value===""}))this.allowEmpty?this.stream.write("></"+_.name+">"):this.stream.write(this.spacebeforeslash+"/>");else if(this.pretty&&_.children.length===1&&_.children[0].value!=null)this.stream.write(">"),this.stream.write(_.children[0].value),this.stream.write("</"+_.name+">");else{for(this.stream.write(">"+this.newline),F=_.children,R=0,D=F.length;R<D;R++)switch(S=F[R],!1){case!(S instanceof t):this.cdata(S,w+1);break;case!(S instanceof e):this.comment(S,w+1);break;case!(S instanceof c):this.element(S,w+1);break;case!(S instanceof f):this.raw(S,w+1);break;case!(S instanceof h):this.text(S,w+1);break;case!(S instanceof u):this.processingInstruction(S,w+1);break;case!(S instanceof l):break;default:throw new Error("Unknown XML node type: "+S.constructor.name)}this.stream.write(P+"</"+_.name+">")}return this.stream.write(this.endline(_))},b.prototype.processingInstruction=function(_,w){return this.stream.write(this.space(w)+"<?"+_.target),_.value&&this.stream.write(" "+_.value),this.stream.write(this.spacebeforeslash+"?>"+this.endline(_))},b.prototype.raw=function(_,w){return this.stream.write(this.space(w)+_.value+this.endline(_))},b.prototype.text=function(_,w){return this.stream.write(this.space(w)+_.value+this.endline(_))},b.prototype.dtdAttList=function(_,w){return this.stream.write(this.space(w)+"<!ATTLIST "+_.elementName+" "+_.attributeName+" "+_.attributeType),_.defaultValueType!=="#DEFAULT"&&this.stream.write(" "+_.defaultValueType),_.defaultValue&&this.stream.write(' "'+_.defaultValue+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(_))},b.prototype.dtdElement=function(_,w){return this.stream.write(this.space(w)+"<!ELEMENT "+_.name+" "+_.value),this.stream.write(this.spacebeforeslash+">"+this.endline(_))},b.prototype.dtdEntity=function(_,w){return this.stream.write(this.space(w)+"<!ENTITY"),_.pe&&this.stream.write(" %"),this.stream.write(" "+_.name),_.value?this.stream.write(' "'+_.value+'"'):(_.pubID&&_.sysID?this.stream.write(' PUBLIC "'+_.pubID+'" "'+_.sysID+'"'):_.sysID&&this.stream.write(' SYSTEM "'+_.sysID+'"'),_.nData&&this.stream.write(" NDATA "+_.nData)),this.stream.write(this.spacebeforeslash+">"+this.endline(_))},b.prototype.dtdNotation=function(_,w){return this.stream.write(this.space(w)+"<!NOTATION "+_.name),_.pubID&&_.sysID?this.stream.write(' PUBLIC "'+_.pubID+'" "'+_.sysID+'"'):_.pubID?this.stream.write(' PUBLIC "'+_.pubID+'"'):_.sysID&&this.stream.write(' SYSTEM "'+_.sysID+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(_))},b.prototype.endline=function(_){return _.isLastRootNode?"":this.newline},b})(p)}).call(zMe)),V2.exports}var Cj;function $Me(){return Cj||(Cj=1,(function(){var t,e,n,r,i,s,a;a=ud(),i=a.assign,s=a.isFunction,t=VMe(),e=qMe(),r=$6(),n=HMe(),Pd.create=function(o,l,c,u){var f,h;if(o==null)throw new Error("Root element needs a name.");return u=i({},l,c,u),f=new t(u),h=f.element(o),u.headless||(f.declaration(u),(u.pubID!=null||u.sysID!=null)&&f.doctype(u)),h},Pd.begin=function(o,l,c){var u;return s(o)&&(u=[o,l],l=u[0],c=u[1],o={}),l?new e(o,l,c):new t(o)},Pd.stringWriter=function(o){return new r(o)},Pd.streamWriter=function(o,l){return new n(o,l)}}).call(Pd)),Pd}var Sj;function GMe(){if(Sj)return YD;Sj=1;var t=ri,e=$Me();YD.writeString=n;function n(i,s){var a=t.invert(s),o={element:c,text:r};function l(h,p){return o[p.type](h,p)}function c(h,p){var v=h.element(u(p.name),p.attributes);p.children.forEach(function(g){l(v,g)})}function u(h){var p=/^\{(.*)\}(.*)$/.exec(h);if(p){var v=a[p[1]];return v+(v===""?"":":")+p[2]}else return h}function f(h){var p=e.create(u(h.name),{version:"1.0",encoding:"UTF-8",standalone:!0});return t.forEach(s,function(v,g){var y="xmlns"+(g===""?"":":"+g);p.attribute(y,v)}),h.children.forEach(function(v){l(p,v)}),p.end()}return f(i)}function r(i,s){i.text(s.value)}return YD}var Dj;function HY(){if(Dj)return kd;Dj=1;var t=VY();return kd.Element=t.Element,kd.element=t.element,kd.text=t.text,kd.readString=bMe().readString,kd.writeString=GMe().writeString,kd}var Aj;function KMe(){if(Aj)return qx;Aj=1;var t=ri,e=cd(),n=HY();qx.read=i,qx.readXmlFromZipFile=s;var r={"http://schemas.openxmlformats.org/wordprocessingml/2006/main":"w","http://schemas.openxmlformats.org/officeDocument/2006/relationships":"r","http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing":"wp","http://schemas.openxmlformats.org/drawingml/2006/main":"a","http://schemas.openxmlformats.org/drawingml/2006/picture":"pic","http://purl.oclc.org/ooxml/wordprocessingml/main":"w","http://purl.oclc.org/ooxml/officeDocument/relationships":"r","http://purl.oclc.org/ooxml/drawingml/wordprocessingDrawing":"wp","http://purl.oclc.org/ooxml/drawingml/main":"a","http://purl.oclc.org/ooxml/drawingml/picture":"pic","http://schemas.openxmlformats.org/package/2006/content-types":"content-types","http://schemas.openxmlformats.org/package/2006/relationships":"relationships","http://schemas.openxmlformats.org/markup-compatibility/2006":"mc","urn:schemas-microsoft-com:vml":"v","urn:schemas-microsoft-com:office:word":"office-word"};function i(l){return n.readString(l,r).then(function(c){return o(c)[0]})}function s(l,c){return l.exists(c)?l.read(c,"utf-8").then(a).then(i):e.resolve(null)}function a(l){return l.replace(/^\uFEFF/g,"")}function o(l){return l.type==="element"?l.name==="mc:AlternateContent"?l.first("mc:Fallback").children:(l.children=t.flatten(l.children.map(o,!0)),[l]):[l]}return qx}var $x={},Co={},Gx={},Nj;function XMe(){if(Nj)return Gx;Nj=1,Object.defineProperty(Gx,"__esModule",{value:!0});var t=[{"Typeface name":"Symbol","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Symbol","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"33","Unicode hex":"21"},{"Typeface name":"Symbol","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"8704","Unicode hex":"2200"},{"Typeface name":"Symbol","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"35","Unicode hex":"23"},{"Typeface name":"Symbol","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"8707","Unicode hex":"2203"},{"Typeface name":"Symbol","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"37","Unicode hex":"25"},{"Typeface name":"Symbol","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"38","Unicode hex":"26"},{"Typeface name":"Symbol","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"8717","Unicode hex":"220D"},{"Typeface name":"Symbol","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"40","Unicode hex":"28"},{"Typeface name":"Symbol","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"41","Unicode hex":"29"},{"Typeface name":"Symbol","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"42","Unicode hex":"2A"},{"Typeface name":"Symbol","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"43","Unicode hex":"2B"},{"Typeface name":"Symbol","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"44","Unicode hex":"2C"},{"Typeface name":"Symbol","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"8722","Unicode hex":"2212"},{"Typeface name":"Symbol","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"46","Unicode hex":"2E"},{"Typeface name":"Symbol","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"47","Unicode hex":"2F"},{"Typeface name":"Symbol","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"48","Unicode hex":"30"},{"Typeface name":"Symbol","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"49","Unicode hex":"31"},{"Typeface name":"Symbol","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"50","Unicode hex":"32"},{"Typeface name":"Symbol","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"51","Unicode hex":"33"},{"Typeface name":"Symbol","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"52","Unicode hex":"34"},{"Typeface name":"Symbol","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"53","Unicode hex":"35"},{"Typeface name":"Symbol","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"54","Unicode hex":"36"},{"Typeface name":"Symbol","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"55","Unicode hex":"37"},{"Typeface name":"Symbol","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"56","Unicode hex":"38"},{"Typeface name":"Symbol","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"57","Unicode hex":"39"},{"Typeface name":"Symbol","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"58","Unicode hex":"3A"},{"Typeface name":"Symbol","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"59","Unicode hex":"3B"},{"Typeface name":"Symbol","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"60","Unicode hex":"3C"},{"Typeface name":"Symbol","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"61","Unicode hex":"3D"},{"Typeface name":"Symbol","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"62","Unicode hex":"3E"},{"Typeface name":"Symbol","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"63","Unicode hex":"3F"},{"Typeface name":"Symbol","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"8773","Unicode hex":"2245"},{"Typeface name":"Symbol","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"913","Unicode hex":"391"},{"Typeface name":"Symbol","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"914","Unicode hex":"392"},{"Typeface name":"Symbol","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"935","Unicode hex":"3A7"},{"Typeface name":"Symbol","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"916","Unicode hex":"394"},{"Typeface name":"Symbol","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"917","Unicode hex":"395"},{"Typeface name":"Symbol","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"934","Unicode hex":"3A6"},{"Typeface name":"Symbol","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"915","Unicode hex":"393"},{"Typeface name":"Symbol","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"919","Unicode hex":"397"},{"Typeface name":"Symbol","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"921","Unicode hex":"399"},{"Typeface name":"Symbol","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"977","Unicode hex":"3D1"},{"Typeface name":"Symbol","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"922","Unicode hex":"39A"},{"Typeface name":"Symbol","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"923","Unicode hex":"39B"},{"Typeface name":"Symbol","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"924","Unicode hex":"39C"},{"Typeface name":"Symbol","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"925","Unicode hex":"39D"},{"Typeface name":"Symbol","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"927","Unicode hex":"39F"},{"Typeface name":"Symbol","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"928","Unicode hex":"3A0"},{"Typeface name":"Symbol","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"920","Unicode hex":"398"},{"Typeface name":"Symbol","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"929","Unicode hex":"3A1"},{"Typeface name":"Symbol","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"931","Unicode hex":"3A3"},{"Typeface name":"Symbol","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"932","Unicode hex":"3A4"},{"Typeface name":"Symbol","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"933","Unicode hex":"3A5"},{"Typeface name":"Symbol","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"962","Unicode hex":"3C2"},{"Typeface name":"Symbol","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"937","Unicode hex":"3A9"},{"Typeface name":"Symbol","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"926","Unicode hex":"39E"},{"Typeface name":"Symbol","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"936","Unicode hex":"3A8"},{"Typeface name":"Symbol","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"918","Unicode hex":"396"},{"Typeface name":"Symbol","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"91","Unicode hex":"5B"},{"Typeface name":"Symbol","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"8756","Unicode hex":"2234"},{"Typeface name":"Symbol","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"93","Unicode hex":"5D"},{"Typeface name":"Symbol","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"8869","Unicode hex":"22A5"},{"Typeface name":"Symbol","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"95","Unicode hex":"5F"},{"Typeface name":"Symbol","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"8254","Unicode hex":"203E"},{"Typeface name":"Symbol","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"945","Unicode hex":"3B1"},{"Typeface name":"Symbol","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"946","Unicode hex":"3B2"},{"Typeface name":"Symbol","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"967","Unicode hex":"3C7"},{"Typeface name":"Symbol","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"948","Unicode hex":"3B4"},{"Typeface name":"Symbol","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"949","Unicode hex":"3B5"},{"Typeface name":"Symbol","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"966","Unicode hex":"3C6"},{"Typeface name":"Symbol","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"947","Unicode hex":"3B3"},{"Typeface name":"Symbol","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"951","Unicode hex":"3B7"},{"Typeface name":"Symbol","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"953","Unicode hex":"3B9"},{"Typeface name":"Symbol","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"981","Unicode hex":"3D5"},{"Typeface name":"Symbol","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"954","Unicode hex":"3BA"},{"Typeface name":"Symbol","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"955","Unicode hex":"3BB"},{"Typeface name":"Symbol","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"956","Unicode hex":"3BC"},{"Typeface name":"Symbol","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"957","Unicode hex":"3BD"},{"Typeface name":"Symbol","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"959","Unicode hex":"3BF"},{"Typeface name":"Symbol","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"960","Unicode hex":"3C0"},{"Typeface name":"Symbol","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"952","Unicode hex":"3B8"},{"Typeface name":"Symbol","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"961","Unicode hex":"3C1"},{"Typeface name":"Symbol","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"963","Unicode hex":"3C3"},{"Typeface name":"Symbol","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"964","Unicode hex":"3C4"},{"Typeface name":"Symbol","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"965","Unicode hex":"3C5"},{"Typeface name":"Symbol","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"982","Unicode hex":"3D6"},{"Typeface name":"Symbol","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"969","Unicode hex":"3C9"},{"Typeface name":"Symbol","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"958","Unicode hex":"3BE"},{"Typeface name":"Symbol","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"968","Unicode hex":"3C8"},{"Typeface name":"Symbol","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"950","Unicode hex":"3B6"},{"Typeface name":"Symbol","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"123","Unicode hex":"7B"},{"Typeface name":"Symbol","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"124","Unicode hex":"7C"},{"Typeface name":"Symbol","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"125","Unicode hex":"7D"},{"Typeface name":"Symbol","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"126","Unicode hex":"7E"},{"Typeface name":"Symbol","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"8364","Unicode hex":"20AC"},{"Typeface name":"Symbol","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"978","Unicode hex":"3D2"},{"Typeface name":"Symbol","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"8242","Unicode hex":"2032"},{"Typeface name":"Symbol","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"8804","Unicode hex":"2264"},{"Typeface name":"Symbol","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"8260","Unicode hex":"2044"},{"Typeface name":"Symbol","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"8734","Unicode hex":"221E"},{"Typeface name":"Symbol","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"402","Unicode hex":"192"},{"Typeface name":"Symbol","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9827","Unicode hex":"2663"},{"Typeface name":"Symbol","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9830","Unicode hex":"2666"},{"Typeface name":"Symbol","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"9829","Unicode hex":"2665"},{"Typeface name":"Symbol","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"9824","Unicode hex":"2660"},{"Typeface name":"Symbol","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"8596","Unicode hex":"2194"},{"Typeface name":"Symbol","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"8592","Unicode hex":"2190"},{"Typeface name":"Symbol","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"8593","Unicode hex":"2191"},{"Typeface name":"Symbol","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"8594","Unicode hex":"2192"},{"Typeface name":"Symbol","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"8595","Unicode hex":"2193"},{"Typeface name":"Symbol","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"176","Unicode hex":"B0"},{"Typeface name":"Symbol","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"177","Unicode hex":"B1"},{"Typeface name":"Symbol","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"8243","Unicode hex":"2033"},{"Typeface name":"Symbol","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"8805","Unicode hex":"2265"},{"Typeface name":"Symbol","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"215","Unicode hex":"D7"},{"Typeface name":"Symbol","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"8733","Unicode hex":"221D"},{"Typeface name":"Symbol","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"8706","Unicode hex":"2202"},{"Typeface name":"Symbol","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Symbol","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"247","Unicode hex":"F7"},{"Typeface name":"Symbol","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"8800","Unicode hex":"2260"},{"Typeface name":"Symbol","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"8801","Unicode hex":"2261"},{"Typeface name":"Symbol","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"8776","Unicode hex":"2248"},{"Typeface name":"Symbol","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"8230","Unicode hex":"2026"},{"Typeface name":"Symbol","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Symbol","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"9135","Unicode hex":"23AF"},{"Typeface name":"Symbol","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"8629","Unicode hex":"21B5"},{"Typeface name":"Symbol","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"8501","Unicode hex":"2135"},{"Typeface name":"Symbol","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"8465","Unicode hex":"2111"},{"Typeface name":"Symbol","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"8476","Unicode hex":"211C"},{"Typeface name":"Symbol","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"8472","Unicode hex":"2118"},{"Typeface name":"Symbol","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"8855","Unicode hex":"2297"},{"Typeface name":"Symbol","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"8853","Unicode hex":"2295"},{"Typeface name":"Symbol","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"8709","Unicode hex":"2205"},{"Typeface name":"Symbol","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"8745","Unicode hex":"2229"},{"Typeface name":"Symbol","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"8746","Unicode hex":"222A"},{"Typeface name":"Symbol","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"8835","Unicode hex":"2283"},{"Typeface name":"Symbol","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"8839","Unicode hex":"2287"},{"Typeface name":"Symbol","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"8836","Unicode hex":"2284"},{"Typeface name":"Symbol","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"8834","Unicode hex":"2282"},{"Typeface name":"Symbol","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"8838","Unicode hex":"2286"},{"Typeface name":"Symbol","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"8712","Unicode hex":"2208"},{"Typeface name":"Symbol","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"8713","Unicode hex":"2209"},{"Typeface name":"Symbol","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"8736","Unicode hex":"2220"},{"Typeface name":"Symbol","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"8711","Unicode hex":"2207"},{"Typeface name":"Symbol","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"8719","Unicode hex":"220F"},{"Typeface name":"Symbol","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8730","Unicode hex":"221A"},{"Typeface name":"Symbol","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Symbol","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"172","Unicode hex":"AC"},{"Typeface name":"Symbol","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"8743","Unicode hex":"2227"},{"Typeface name":"Symbol","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"8744","Unicode hex":"2228"},{"Typeface name":"Symbol","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"8660","Unicode hex":"21D4"},{"Typeface name":"Symbol","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"8656","Unicode hex":"21D0"},{"Typeface name":"Symbol","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"8657","Unicode hex":"21D1"},{"Typeface name":"Symbol","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"8658","Unicode hex":"21D2"},{"Typeface name":"Symbol","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"8659","Unicode hex":"21D3"},{"Typeface name":"Symbol","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Symbol","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"12296","Unicode hex":"3008"},{"Typeface name":"Symbol","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"8721","Unicode hex":"2211"},{"Typeface name":"Symbol","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"9115","Unicode hex":"239B"},{"Typeface name":"Symbol","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"9116","Unicode hex":"239C"},{"Typeface name":"Symbol","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9117","Unicode hex":"239D"},{"Typeface name":"Symbol","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9121","Unicode hex":"23A1"},{"Typeface name":"Symbol","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"9122","Unicode hex":"23A2"},{"Typeface name":"Symbol","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"9123","Unicode hex":"23A3"},{"Typeface name":"Symbol","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"9127","Unicode hex":"23A7"},{"Typeface name":"Symbol","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"9128","Unicode hex":"23A8"},{"Typeface name":"Symbol","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"9129","Unicode hex":"23A9"},{"Typeface name":"Symbol","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"9130","Unicode hex":"23AA"},{"Typeface name":"Symbol","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"63743","Unicode hex":"F8FF"},{"Typeface name":"Symbol","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"12297","Unicode hex":"3009"},{"Typeface name":"Symbol","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8747","Unicode hex":"222B"},{"Typeface name":"Symbol","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"8992","Unicode hex":"2320"},{"Typeface name":"Symbol","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"9134","Unicode hex":"23AE"},{"Typeface name":"Symbol","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"8993","Unicode hex":"2321"},{"Typeface name":"Symbol","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"9118","Unicode hex":"239E"},{"Typeface name":"Symbol","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"9119","Unicode hex":"239F"},{"Typeface name":"Symbol","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"9120","Unicode hex":"23A0"},{"Typeface name":"Symbol","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"9124","Unicode hex":"23A4"},{"Typeface name":"Symbol","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"9125","Unicode hex":"23A5"},{"Typeface name":"Symbol","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"9126","Unicode hex":"23A6"},{"Typeface name":"Symbol","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"9131","Unicode hex":"23AB"},{"Typeface name":"Symbol","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"9132","Unicode hex":"23AC"},{"Typeface name":"Symbol","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"9133","Unicode hex":"23AD"},{"Typeface name":"Webdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Webdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128375","Unicode hex":"1F577"},{"Typeface name":"Webdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128376","Unicode hex":"1F578"},{"Typeface name":"Webdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128370","Unicode hex":"1F572"},{"Typeface name":"Webdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128374","Unicode hex":"1F576"},{"Typeface name":"Webdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"127942","Unicode hex":"1F3C6"},{"Typeface name":"Webdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"127894","Unicode hex":"1F396"},{"Typeface name":"Webdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128391","Unicode hex":"1F587"},{"Typeface name":"Webdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128488","Unicode hex":"1F5E8"},{"Typeface name":"Webdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128489","Unicode hex":"1F5E9"},{"Typeface name":"Webdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128496","Unicode hex":"1F5F0"},{"Typeface name":"Webdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128497","Unicode hex":"1F5F1"},{"Typeface name":"Webdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"127798","Unicode hex":"1F336"},{"Typeface name":"Webdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"127895","Unicode hex":"1F397"},{"Typeface name":"Webdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128638","Unicode hex":"1F67E"},{"Typeface name":"Webdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128636","Unicode hex":"1F67C"},{"Typeface name":"Webdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128469","Unicode hex":"1F5D5"},{"Typeface name":"Webdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128470","Unicode hex":"1F5D6"},{"Typeface name":"Webdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128471","Unicode hex":"1F5D7"},{"Typeface name":"Webdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"9204","Unicode hex":"23F4"},{"Typeface name":"Webdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"9205","Unicode hex":"23F5"},{"Typeface name":"Webdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"9206","Unicode hex":"23F6"},{"Typeface name":"Webdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"9207","Unicode hex":"23F7"},{"Typeface name":"Webdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"9194","Unicode hex":"23EA"},{"Typeface name":"Webdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"9193","Unicode hex":"23E9"},{"Typeface name":"Webdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"9198","Unicode hex":"23EE"},{"Typeface name":"Webdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"9197","Unicode hex":"23ED"},{"Typeface name":"Webdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"9208","Unicode hex":"23F8"},{"Typeface name":"Webdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"9209","Unicode hex":"23F9"},{"Typeface name":"Webdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"9210","Unicode hex":"23FA"},{"Typeface name":"Webdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128474","Unicode hex":"1F5DA"},{"Typeface name":"Webdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128499","Unicode hex":"1F5F3"},{"Typeface name":"Webdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128736","Unicode hex":"1F6E0"},{"Typeface name":"Webdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"127959","Unicode hex":"1F3D7"},{"Typeface name":"Webdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"127960","Unicode hex":"1F3D8"},{"Typeface name":"Webdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"127961","Unicode hex":"1F3D9"},{"Typeface name":"Webdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"127962","Unicode hex":"1F3DA"},{"Typeface name":"Webdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"127964","Unicode hex":"1F3DC"},{"Typeface name":"Webdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"127981","Unicode hex":"1F3ED"},{"Typeface name":"Webdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"127963","Unicode hex":"1F3DB"},{"Typeface name":"Webdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"127968","Unicode hex":"1F3E0"},{"Typeface name":"Webdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"127958","Unicode hex":"1F3D6"},{"Typeface name":"Webdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"127965","Unicode hex":"1F3DD"},{"Typeface name":"Webdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128739","Unicode hex":"1F6E3"},{"Typeface name":"Webdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128269","Unicode hex":"1F50D"},{"Typeface name":"Webdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"127956","Unicode hex":"1F3D4"},{"Typeface name":"Webdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128065","Unicode hex":"1F441"},{"Typeface name":"Webdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128066","Unicode hex":"1F442"},{"Typeface name":"Webdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127966","Unicode hex":"1F3DE"},{"Typeface name":"Webdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"127957","Unicode hex":"1F3D5"},{"Typeface name":"Webdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"128740","Unicode hex":"1F6E4"},{"Typeface name":"Webdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127967","Unicode hex":"1F3DF"},{"Typeface name":"Webdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"128755","Unicode hex":"1F6F3"},{"Typeface name":"Webdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128364","Unicode hex":"1F56C"},{"Typeface name":"Webdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"128363","Unicode hex":"1F56B"},{"Typeface name":"Webdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128360","Unicode hex":"1F568"},{"Typeface name":"Webdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"128264","Unicode hex":"1F508"},{"Typeface name":"Webdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"127892","Unicode hex":"1F394"},{"Typeface name":"Webdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"127893","Unicode hex":"1F395"},{"Typeface name":"Webdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128492","Unicode hex":"1F5EC"},{"Typeface name":"Webdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128637","Unicode hex":"1F67D"},{"Typeface name":"Webdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"128493","Unicode hex":"1F5ED"},{"Typeface name":"Webdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128490","Unicode hex":"1F5EA"},{"Typeface name":"Webdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128491","Unicode hex":"1F5EB"},{"Typeface name":"Webdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"11156","Unicode hex":"2B94"},{"Typeface name":"Webdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"10004","Unicode hex":"2714"},{"Typeface name":"Webdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128690","Unicode hex":"1F6B2"},{"Typeface name":"Webdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"11036","Unicode hex":"2B1C"},{"Typeface name":"Webdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128737","Unicode hex":"1F6E1"},{"Typeface name":"Webdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128230","Unicode hex":"1F4E6"},{"Typeface name":"Webdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128753","Unicode hex":"1F6F1"},{"Typeface name":"Webdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"11035","Unicode hex":"2B1B"},{"Typeface name":"Webdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128657","Unicode hex":"1F691"},{"Typeface name":"Webdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"128712","Unicode hex":"1F6C8"},{"Typeface name":"Webdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128745","Unicode hex":"1F6E9"},{"Typeface name":"Webdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128752","Unicode hex":"1F6F0"},{"Typeface name":"Webdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"128968","Unicode hex":"1F7C8"},{"Typeface name":"Webdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128372","Unicode hex":"1F574"},{"Typeface name":"Webdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"11044","Unicode hex":"2B24"},{"Typeface name":"Webdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128741","Unicode hex":"1F6E5"},{"Typeface name":"Webdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128660","Unicode hex":"1F694"},{"Typeface name":"Webdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"128472","Unicode hex":"1F5D8"},{"Typeface name":"Webdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"128473","Unicode hex":"1F5D9"},{"Typeface name":"Webdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"10067","Unicode hex":"2753"},{"Typeface name":"Webdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"128754","Unicode hex":"1F6F2"},{"Typeface name":"Webdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"128647","Unicode hex":"1F687"},{"Typeface name":"Webdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"128653","Unicode hex":"1F68D"},{"Typeface name":"Webdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9971","Unicode hex":"26F3"},{"Typeface name":"Webdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Webdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"8854","Unicode hex":"2296"},{"Typeface name":"Webdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"128685","Unicode hex":"1F6AD"},{"Typeface name":"Webdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"128494","Unicode hex":"1F5EE"},{"Typeface name":"Webdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Webdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128495","Unicode hex":"1F5EF"},{"Typeface name":"Webdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128498","Unicode hex":"1F5F2"},{"Typeface name":"Webdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128697","Unicode hex":"1F6B9"},{"Typeface name":"Webdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"128698","Unicode hex":"1F6BA"},{"Typeface name":"Webdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"128713","Unicode hex":"1F6C9"},{"Typeface name":"Webdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"128714","Unicode hex":"1F6CA"},{"Typeface name":"Webdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"128700","Unicode hex":"1F6BC"},{"Typeface name":"Webdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"128125","Unicode hex":"1F47D"},{"Typeface name":"Webdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"127947","Unicode hex":"1F3CB"},{"Typeface name":"Webdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"9975","Unicode hex":"26F7"},{"Typeface name":"Webdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"127938","Unicode hex":"1F3C2"},{"Typeface name":"Webdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"127948","Unicode hex":"1F3CC"},{"Typeface name":"Webdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"127946","Unicode hex":"1F3CA"},{"Typeface name":"Webdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127940","Unicode hex":"1F3C4"},{"Typeface name":"Webdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"127949","Unicode hex":"1F3CD"},{"Typeface name":"Webdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"127950","Unicode hex":"1F3CE"},{"Typeface name":"Webdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128664","Unicode hex":"1F698"},{"Typeface name":"Webdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128480","Unicode hex":"1F5E0"},{"Typeface name":"Webdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128738","Unicode hex":"1F6E2"},{"Typeface name":"Webdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128176","Unicode hex":"1F4B0"},{"Typeface name":"Webdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"127991","Unicode hex":"1F3F7"},{"Typeface name":"Webdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128179","Unicode hex":"1F4B3"},{"Typeface name":"Webdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128106","Unicode hex":"1F46A"},{"Typeface name":"Webdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"128481","Unicode hex":"1F5E1"},{"Typeface name":"Webdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128482","Unicode hex":"1F5E2"},{"Typeface name":"Webdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128483","Unicode hex":"1F5E3"},{"Typeface name":"Webdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Webdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128388","Unicode hex":"1F584"},{"Typeface name":"Webdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128389","Unicode hex":"1F585"},{"Typeface name":"Webdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Webdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128390","Unicode hex":"1F586"},{"Typeface name":"Webdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128441","Unicode hex":"1F5B9"},{"Typeface name":"Webdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"128442","Unicode hex":"1F5BA"},{"Typeface name":"Webdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128443","Unicode hex":"1F5BB"},{"Typeface name":"Webdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128373","Unicode hex":"1F575"},{"Typeface name":"Webdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"128368","Unicode hex":"1F570"},{"Typeface name":"Webdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128445","Unicode hex":"1F5BD"},{"Typeface name":"Webdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128446","Unicode hex":"1F5BE"},{"Typeface name":"Webdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Webdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128466","Unicode hex":"1F5D2"},{"Typeface name":"Webdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128467","Unicode hex":"1F5D3"},{"Typeface name":"Webdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Webdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128218","Unicode hex":"1F4DA"},{"Typeface name":"Webdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128478","Unicode hex":"1F5DE"},{"Typeface name":"Webdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128479","Unicode hex":"1F5DF"},{"Typeface name":"Webdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128451","Unicode hex":"1F5C3"},{"Typeface name":"Webdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128450","Unicode hex":"1F5C2"},{"Typeface name":"Webdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128444","Unicode hex":"1F5BC"},{"Typeface name":"Webdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"127917","Unicode hex":"1F3AD"},{"Typeface name":"Webdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"127900","Unicode hex":"1F39C"},{"Typeface name":"Webdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"127896","Unicode hex":"1F398"},{"Typeface name":"Webdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"127897","Unicode hex":"1F399"},{"Typeface name":"Webdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"127911","Unicode hex":"1F3A7"},{"Typeface name":"Webdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128191","Unicode hex":"1F4BF"},{"Typeface name":"Webdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"127902","Unicode hex":"1F39E"},{"Typeface name":"Webdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128247","Unicode hex":"1F4F7"},{"Typeface name":"Webdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"127903","Unicode hex":"1F39F"},{"Typeface name":"Webdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"127916","Unicode hex":"1F3AC"},{"Typeface name":"Webdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128253","Unicode hex":"1F4FD"},{"Typeface name":"Webdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128249","Unicode hex":"1F4F9"},{"Typeface name":"Webdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128254","Unicode hex":"1F4FE"},{"Typeface name":"Webdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128251","Unicode hex":"1F4FB"},{"Typeface name":"Webdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"127898","Unicode hex":"1F39A"},{"Typeface name":"Webdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"127899","Unicode hex":"1F39B"},{"Typeface name":"Webdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128250","Unicode hex":"1F4FA"},{"Typeface name":"Webdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128187","Unicode hex":"1F4BB"},{"Typeface name":"Webdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128421","Unicode hex":"1F5A5"},{"Typeface name":"Webdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128422","Unicode hex":"1F5A6"},{"Typeface name":"Webdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128423","Unicode hex":"1F5A7"},{"Typeface name":"Webdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"128377","Unicode hex":"1F579"},{"Typeface name":"Webdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"127918","Unicode hex":"1F3AE"},{"Typeface name":"Webdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"128379","Unicode hex":"1F57B"},{"Typeface name":"Webdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128380","Unicode hex":"1F57C"},{"Typeface name":"Webdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128223","Unicode hex":"1F4DF"},{"Typeface name":"Webdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128385","Unicode hex":"1F581"},{"Typeface name":"Webdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128384","Unicode hex":"1F580"},{"Typeface name":"Webdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128424","Unicode hex":"1F5A8"},{"Typeface name":"Webdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128425","Unicode hex":"1F5A9"},{"Typeface name":"Webdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128447","Unicode hex":"1F5BF"},{"Typeface name":"Webdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128426","Unicode hex":"1F5AA"},{"Typeface name":"Webdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128476","Unicode hex":"1F5DC"},{"Typeface name":"Webdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128274","Unicode hex":"1F512"},{"Typeface name":"Webdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128275","Unicode hex":"1F513"},{"Typeface name":"Webdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128477","Unicode hex":"1F5DD"},{"Typeface name":"Webdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128229","Unicode hex":"1F4E5"},{"Typeface name":"Webdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128228","Unicode hex":"1F4E4"},{"Typeface name":"Webdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128371","Unicode hex":"1F573"},{"Typeface name":"Webdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"127779","Unicode hex":"1F323"},{"Typeface name":"Webdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"127780","Unicode hex":"1F324"},{"Typeface name":"Webdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"127781","Unicode hex":"1F325"},{"Typeface name":"Webdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"127782","Unicode hex":"1F326"},{"Typeface name":"Webdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"9729","Unicode hex":"2601"},{"Typeface name":"Webdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"127784","Unicode hex":"1F328"},{"Typeface name":"Webdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"127783","Unicode hex":"1F327"},{"Typeface name":"Webdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"127785","Unicode hex":"1F329"},{"Typeface name":"Webdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"127786","Unicode hex":"1F32A"},{"Typeface name":"Webdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"127788","Unicode hex":"1F32C"},{"Typeface name":"Webdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"127787","Unicode hex":"1F32B"},{"Typeface name":"Webdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"127772","Unicode hex":"1F31C"},{"Typeface name":"Webdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"127777","Unicode hex":"1F321"},{"Typeface name":"Webdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128715","Unicode hex":"1F6CB"},{"Typeface name":"Webdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128719","Unicode hex":"1F6CF"},{"Typeface name":"Webdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"127869","Unicode hex":"1F37D"},{"Typeface name":"Webdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"127864","Unicode hex":"1F378"},{"Typeface name":"Webdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128718","Unicode hex":"1F6CE"},{"Typeface name":"Webdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128717","Unicode hex":"1F6CD"},{"Typeface name":"Webdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9413","Unicode hex":"24C5"},{"Typeface name":"Webdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9855","Unicode hex":"267F"},{"Typeface name":"Webdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128710","Unicode hex":"1F6C6"},{"Typeface name":"Webdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"128392","Unicode hex":"1F588"},{"Typeface name":"Webdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"127891","Unicode hex":"1F393"},{"Typeface name":"Webdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128484","Unicode hex":"1F5E4"},{"Typeface name":"Webdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128485","Unicode hex":"1F5E5"},{"Typeface name":"Webdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128486","Unicode hex":"1F5E6"},{"Typeface name":"Webdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"128487","Unicode hex":"1F5E7"},{"Typeface name":"Webdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128746","Unicode hex":"1F6EA"},{"Typeface name":"Webdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128063","Unicode hex":"1F43F"},{"Typeface name":"Webdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"128038","Unicode hex":"1F426"},{"Typeface name":"Webdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128031","Unicode hex":"1F41F"},{"Typeface name":"Webdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128021","Unicode hex":"1F415"},{"Typeface name":"Webdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"128008","Unicode hex":"1F408"},{"Typeface name":"Webdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"128620","Unicode hex":"1F66C"},{"Typeface name":"Webdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"128622","Unicode hex":"1F66E"},{"Typeface name":"Webdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"128621","Unicode hex":"1F66D"},{"Typeface name":"Webdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"128623","Unicode hex":"1F66F"},{"Typeface name":"Webdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128506","Unicode hex":"1F5FA"},{"Typeface name":"Webdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"127757","Unicode hex":"1F30D"},{"Typeface name":"Webdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"127759","Unicode hex":"1F30F"},{"Typeface name":"Webdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"127758","Unicode hex":"1F30E"},{"Typeface name":"Webdings","Dingbat dec":"255","Dingbat hex":"FF","Unicode dec":"128330","Unicode hex":"1F54A"},{"Typeface name":"Wingdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128393","Unicode hex":"1F589"},{"Typeface name":"Wingdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"9986","Unicode hex":"2702"},{"Typeface name":"Wingdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"9985","Unicode hex":"2701"},{"Typeface name":"Wingdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128083","Unicode hex":"1F453"},{"Typeface name":"Wingdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"128365","Unicode hex":"1F56D"},{"Typeface name":"Wingdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Wingdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128367","Unicode hex":"1F56F"},{"Typeface name":"Wingdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128383","Unicode hex":"1F57F"},{"Typeface name":"Wingdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"9990","Unicode hex":"2706"},{"Typeface name":"Wingdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128386","Unicode hex":"1F582"},{"Typeface name":"Wingdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Wingdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128234","Unicode hex":"1F4EA"},{"Typeface name":"Wingdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128235","Unicode hex":"1F4EB"},{"Typeface name":"Wingdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128236","Unicode hex":"1F4EC"},{"Typeface name":"Wingdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128237","Unicode hex":"1F4ED"},{"Typeface name":"Wingdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128448","Unicode hex":"1F5C0"},{"Typeface name":"Wingdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128449","Unicode hex":"1F5C1"},{"Typeface name":"Wingdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128462","Unicode hex":"1F5CE"},{"Typeface name":"Wingdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128463","Unicode hex":"1F5CF"},{"Typeface name":"Wingdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128464","Unicode hex":"1F5D0"},{"Typeface name":"Wingdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128452","Unicode hex":"1F5C4"},{"Typeface name":"Wingdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"8987","Unicode hex":"231B"},{"Typeface name":"Wingdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128430","Unicode hex":"1F5AE"},{"Typeface name":"Wingdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128432","Unicode hex":"1F5B0"},{"Typeface name":"Wingdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128434","Unicode hex":"1F5B2"},{"Typeface name":"Wingdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128435","Unicode hex":"1F5B3"},{"Typeface name":"Wingdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128436","Unicode hex":"1F5B4"},{"Typeface name":"Wingdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128427","Unicode hex":"1F5AB"},{"Typeface name":"Wingdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128428","Unicode hex":"1F5AC"},{"Typeface name":"Wingdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"9991","Unicode hex":"2707"},{"Typeface name":"Wingdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"9997","Unicode hex":"270D"},{"Typeface name":"Wingdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128398","Unicode hex":"1F58E"},{"Typeface name":"Wingdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"9996","Unicode hex":"270C"},{"Typeface name":"Wingdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128399","Unicode hex":"1F58F"},{"Typeface name":"Wingdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128077","Unicode hex":"1F44D"},{"Typeface name":"Wingdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128078","Unicode hex":"1F44E"},{"Typeface name":"Wingdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"9756","Unicode hex":"261C"},{"Typeface name":"Wingdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"9758","Unicode hex":"261E"},{"Typeface name":"Wingdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"9757","Unicode hex":"261D"},{"Typeface name":"Wingdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"9759","Unicode hex":"261F"},{"Typeface name":"Wingdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128400","Unicode hex":"1F590"},{"Typeface name":"Wingdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"9786","Unicode hex":"263A"},{"Typeface name":"Wingdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128528","Unicode hex":"1F610"},{"Typeface name":"Wingdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"9785","Unicode hex":"2639"},{"Typeface name":"Wingdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128163","Unicode hex":"1F4A3"},{"Typeface name":"Wingdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128369","Unicode hex":"1F571"},{"Typeface name":"Wingdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"127987","Unicode hex":"1F3F3"},{"Typeface name":"Wingdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127985","Unicode hex":"1F3F1"},{"Typeface name":"Wingdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"9992","Unicode hex":"2708"},{"Typeface name":"Wingdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9788","Unicode hex":"263C"},{"Typeface name":"Wingdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127778","Unicode hex":"1F322"},{"Typeface name":"Wingdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"10052","Unicode hex":"2744"},{"Typeface name":"Wingdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128326","Unicode hex":"1F546"},{"Typeface name":"Wingdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"10014","Unicode hex":"271E"},{"Typeface name":"Wingdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128328","Unicode hex":"1F548"},{"Typeface name":"Wingdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10016","Unicode hex":"2720"},{"Typeface name":"Wingdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"10017","Unicode hex":"2721"},{"Typeface name":"Wingdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"9770","Unicode hex":"262A"},{"Typeface name":"Wingdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"9775","Unicode hex":"262F"},{"Typeface name":"Wingdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128329","Unicode hex":"1F549"},{"Typeface name":"Wingdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"9784","Unicode hex":"2638"},{"Typeface name":"Wingdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"9800","Unicode hex":"2648"},{"Typeface name":"Wingdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"9801","Unicode hex":"2649"},{"Typeface name":"Wingdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"9802","Unicode hex":"264A"},{"Typeface name":"Wingdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"9803","Unicode hex":"264B"},{"Typeface name":"Wingdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"9804","Unicode hex":"264C"},{"Typeface name":"Wingdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"9805","Unicode hex":"264D"},{"Typeface name":"Wingdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"9806","Unicode hex":"264E"},{"Typeface name":"Wingdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"9807","Unicode hex":"264F"},{"Typeface name":"Wingdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"9808","Unicode hex":"2650"},{"Typeface name":"Wingdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"9809","Unicode hex":"2651"},{"Typeface name":"Wingdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"9810","Unicode hex":"2652"},{"Typeface name":"Wingdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9811","Unicode hex":"2653"},{"Typeface name":"Wingdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128624","Unicode hex":"1F670"},{"Typeface name":"Wingdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128629","Unicode hex":"1F675"},{"Typeface name":"Wingdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9899","Unicode hex":"26AB"},{"Typeface name":"Wingdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128318","Unicode hex":"1F53E"},{"Typeface name":"Wingdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9724","Unicode hex":"25FC"},{"Typeface name":"Wingdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128911","Unicode hex":"1F78F"},{"Typeface name":"Wingdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128912","Unicode hex":"1F790"},{"Typeface name":"Wingdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"10065","Unicode hex":"2751"},{"Typeface name":"Wingdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"10066","Unicode hex":"2752"},{"Typeface name":"Wingdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"128927","Unicode hex":"1F79F"},{"Typeface name":"Wingdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"10731","Unicode hex":"29EB"},{"Typeface name":"Wingdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9670","Unicode hex":"25C6"},{"Typeface name":"Wingdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10070","Unicode hex":"2756"},{"Typeface name":"Wingdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"8999","Unicode hex":"2327"},{"Typeface name":"Wingdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"11193","Unicode hex":"2BB9"},{"Typeface name":"Wingdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"8984","Unicode hex":"2318"},{"Typeface name":"Wingdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"127989","Unicode hex":"1F3F5"},{"Typeface name":"Wingdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"127990","Unicode hex":"1F3F6"},{"Typeface name":"Wingdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128630","Unicode hex":"1F676"},{"Typeface name":"Wingdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128631","Unicode hex":"1F677"},{"Typeface name":"Wingdings","Dingbat dec":"127","Dingbat hex":"7F","Unicode dec":"9647","Unicode hex":"25AF"},{"Typeface name":"Wingdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"127243","Unicode hex":"1F10B"},{"Typeface name":"Wingdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"10112","Unicode hex":"2780"},{"Typeface name":"Wingdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"10113","Unicode hex":"2781"},{"Typeface name":"Wingdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"10114","Unicode hex":"2782"},{"Typeface name":"Wingdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"10115","Unicode hex":"2783"},{"Typeface name":"Wingdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10116","Unicode hex":"2784"},{"Typeface name":"Wingdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"10117","Unicode hex":"2785"},{"Typeface name":"Wingdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"10118","Unicode hex":"2786"},{"Typeface name":"Wingdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"10119","Unicode hex":"2787"},{"Typeface name":"Wingdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"10120","Unicode hex":"2788"},{"Typeface name":"Wingdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"10121","Unicode hex":"2789"},{"Typeface name":"Wingdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127244","Unicode hex":"1F10C"},{"Typeface name":"Wingdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"10122","Unicode hex":"278A"},{"Typeface name":"Wingdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"10123","Unicode hex":"278B"},{"Typeface name":"Wingdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"10124","Unicode hex":"278C"},{"Typeface name":"Wingdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"10125","Unicode hex":"278D"},{"Typeface name":"Wingdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"10126","Unicode hex":"278E"},{"Typeface name":"Wingdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"10127","Unicode hex":"278F"},{"Typeface name":"Wingdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"10128","Unicode hex":"2790"},{"Typeface name":"Wingdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"10129","Unicode hex":"2791"},{"Typeface name":"Wingdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"10130","Unicode hex":"2792"},{"Typeface name":"Wingdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"10131","Unicode hex":"2793"},{"Typeface name":"Wingdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128610","Unicode hex":"1F662"},{"Typeface name":"Wingdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128608","Unicode hex":"1F660"},{"Typeface name":"Wingdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"128609","Unicode hex":"1F661"},{"Typeface name":"Wingdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128611","Unicode hex":"1F663"},{"Typeface name":"Wingdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128606","Unicode hex":"1F65E"},{"Typeface name":"Wingdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128604","Unicode hex":"1F65C"},{"Typeface name":"Wingdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128605","Unicode hex":"1F65D"},{"Typeface name":"Wingdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128607","Unicode hex":"1F65F"},{"Typeface name":"Wingdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"8729","Unicode hex":"2219"},{"Typeface name":"Wingdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Wingdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"11037","Unicode hex":"2B1D"},{"Typeface name":"Wingdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"11096","Unicode hex":"2B58"},{"Typeface name":"Wingdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128902","Unicode hex":"1F786"},{"Typeface name":"Wingdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128904","Unicode hex":"1F788"},{"Typeface name":"Wingdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128906","Unicode hex":"1F78A"},{"Typeface name":"Wingdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128907","Unicode hex":"1F78B"},{"Typeface name":"Wingdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128319","Unicode hex":"1F53F"},{"Typeface name":"Wingdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9642","Unicode hex":"25AA"},{"Typeface name":"Wingdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128910","Unicode hex":"1F78E"},{"Typeface name":"Wingdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128961","Unicode hex":"1F7C1"},{"Typeface name":"Wingdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128965","Unicode hex":"1F7C5"},{"Typeface name":"Wingdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"9733","Unicode hex":"2605"},{"Typeface name":"Wingdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128971","Unicode hex":"1F7CB"},{"Typeface name":"Wingdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128975","Unicode hex":"1F7CF"},{"Typeface name":"Wingdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"128979","Unicode hex":"1F7D3"},{"Typeface name":"Wingdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"128977","Unicode hex":"1F7D1"},{"Typeface name":"Wingdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"11216","Unicode hex":"2BD0"},{"Typeface name":"Wingdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"8982","Unicode hex":"2316"},{"Typeface name":"Wingdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"11214","Unicode hex":"2BCE"},{"Typeface name":"Wingdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"11215","Unicode hex":"2BCF"},{"Typeface name":"Wingdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"11217","Unicode hex":"2BD1"},{"Typeface name":"Wingdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"10026","Unicode hex":"272A"},{"Typeface name":"Wingdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"10032","Unicode hex":"2730"},{"Typeface name":"Wingdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"128336","Unicode hex":"1F550"},{"Typeface name":"Wingdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128337","Unicode hex":"1F551"},{"Typeface name":"Wingdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128338","Unicode hex":"1F552"},{"Typeface name":"Wingdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128339","Unicode hex":"1F553"},{"Typeface name":"Wingdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128340","Unicode hex":"1F554"},{"Typeface name":"Wingdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"128341","Unicode hex":"1F555"},{"Typeface name":"Wingdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"128342","Unicode hex":"1F556"},{"Typeface name":"Wingdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128343","Unicode hex":"1F557"},{"Typeface name":"Wingdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128344","Unicode hex":"1F558"},{"Typeface name":"Wingdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128345","Unicode hex":"1F559"},{"Typeface name":"Wingdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128346","Unicode hex":"1F55A"},{"Typeface name":"Wingdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128347","Unicode hex":"1F55B"},{"Typeface name":"Wingdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11184","Unicode hex":"2BB0"},{"Typeface name":"Wingdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11185","Unicode hex":"2BB1"},{"Typeface name":"Wingdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11186","Unicode hex":"2BB2"},{"Typeface name":"Wingdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"11187","Unicode hex":"2BB3"},{"Typeface name":"Wingdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"11188","Unicode hex":"2BB4"},{"Typeface name":"Wingdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"11189","Unicode hex":"2BB5"},{"Typeface name":"Wingdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11190","Unicode hex":"2BB6"},{"Typeface name":"Wingdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11191","Unicode hex":"2BB7"},{"Typeface name":"Wingdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128618","Unicode hex":"1F66A"},{"Typeface name":"Wingdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128619","Unicode hex":"1F66B"},{"Typeface name":"Wingdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128597","Unicode hex":"1F655"},{"Typeface name":"Wingdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128596","Unicode hex":"1F654"},{"Typeface name":"Wingdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128599","Unicode hex":"1F657"},{"Typeface name":"Wingdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128598","Unicode hex":"1F656"},{"Typeface name":"Wingdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128592","Unicode hex":"1F650"},{"Typeface name":"Wingdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128593","Unicode hex":"1F651"},{"Typeface name":"Wingdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128594","Unicode hex":"1F652"},{"Typeface name":"Wingdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128595","Unicode hex":"1F653"},{"Typeface name":"Wingdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"9003","Unicode hex":"232B"},{"Typeface name":"Wingdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8998","Unicode hex":"2326"},{"Typeface name":"Wingdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"11160","Unicode hex":"2B98"},{"Typeface name":"Wingdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"11162","Unicode hex":"2B9A"},{"Typeface name":"Wingdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"11161","Unicode hex":"2B99"},{"Typeface name":"Wingdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"11163","Unicode hex":"2B9B"},{"Typeface name":"Wingdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"11144","Unicode hex":"2B88"},{"Typeface name":"Wingdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"11146","Unicode hex":"2B8A"},{"Typeface name":"Wingdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"11145","Unicode hex":"2B89"},{"Typeface name":"Wingdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"11147","Unicode hex":"2B8B"},{"Typeface name":"Wingdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129128","Unicode hex":"1F868"},{"Typeface name":"Wingdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129130","Unicode hex":"1F86A"},{"Typeface name":"Wingdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129129","Unicode hex":"1F869"},{"Typeface name":"Wingdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129131","Unicode hex":"1F86B"},{"Typeface name":"Wingdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129132","Unicode hex":"1F86C"},{"Typeface name":"Wingdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129133","Unicode hex":"1F86D"},{"Typeface name":"Wingdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129135","Unicode hex":"1F86F"},{"Typeface name":"Wingdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129134","Unicode hex":"1F86E"},{"Typeface name":"Wingdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129144","Unicode hex":"1F878"},{"Typeface name":"Wingdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129146","Unicode hex":"1F87A"},{"Typeface name":"Wingdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129145","Unicode hex":"1F879"},{"Typeface name":"Wingdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129147","Unicode hex":"1F87B"},{"Typeface name":"Wingdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129148","Unicode hex":"1F87C"},{"Typeface name":"Wingdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129149","Unicode hex":"1F87D"},{"Typeface name":"Wingdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129151","Unicode hex":"1F87F"},{"Typeface name":"Wingdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129150","Unicode hex":"1F87E"},{"Typeface name":"Wingdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"8678","Unicode hex":"21E6"},{"Typeface name":"Wingdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"8680","Unicode hex":"21E8"},{"Typeface name":"Wingdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"8679","Unicode hex":"21E7"},{"Typeface name":"Wingdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8681","Unicode hex":"21E9"},{"Typeface name":"Wingdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"11012","Unicode hex":"2B04"},{"Typeface name":"Wingdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"8691","Unicode hex":"21F3"},{"Typeface name":"Wingdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"11009","Unicode hex":"2B01"},{"Typeface name":"Wingdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11008","Unicode hex":"2B00"},{"Typeface name":"Wingdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11011","Unicode hex":"2B03"},{"Typeface name":"Wingdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"11010","Unicode hex":"2B02"},{"Typeface name":"Wingdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"129196","Unicode hex":"1F8AC"},{"Typeface name":"Wingdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"129197","Unicode hex":"1F8AD"},{"Typeface name":"Wingdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128502","Unicode hex":"1F5F6"},{"Typeface name":"Wingdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"10003","Unicode hex":"2713"},{"Typeface name":"Wingdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"128503","Unicode hex":"1F5F7"},{"Typeface name":"Wingdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"128505","Unicode hex":"1F5F9"},{"Typeface name":"Wingdings 2","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 2","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128394","Unicode hex":"1F58A"},{"Typeface name":"Wingdings 2","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128395","Unicode hex":"1F58B"},{"Typeface name":"Wingdings 2","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128396","Unicode hex":"1F58C"},{"Typeface name":"Wingdings 2","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128397","Unicode hex":"1F58D"},{"Typeface name":"Wingdings 2","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"9988","Unicode hex":"2704"},{"Typeface name":"Wingdings 2","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"9984","Unicode hex":"2700"},{"Typeface name":"Wingdings 2","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128382","Unicode hex":"1F57E"},{"Typeface name":"Wingdings 2","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128381","Unicode hex":"1F57D"},{"Typeface name":"Wingdings 2","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128453","Unicode hex":"1F5C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128454","Unicode hex":"1F5C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128455","Unicode hex":"1F5C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128456","Unicode hex":"1F5C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128457","Unicode hex":"1F5C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128458","Unicode hex":"1F5CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128459","Unicode hex":"1F5CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128460","Unicode hex":"1F5CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128461","Unicode hex":"1F5CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128465","Unicode hex":"1F5D1"},{"Typeface name":"Wingdings 2","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128468","Unicode hex":"1F5D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128437","Unicode hex":"1F5B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"128438","Unicode hex":"1F5B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128439","Unicode hex":"1F5B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128440","Unicode hex":"1F5B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128429","Unicode hex":"1F5AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128431","Unicode hex":"1F5AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128433","Unicode hex":"1F5B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128402","Unicode hex":"1F592"},{"Typeface name":"Wingdings 2","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128403","Unicode hex":"1F593"},{"Typeface name":"Wingdings 2","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128408","Unicode hex":"1F598"},{"Typeface name":"Wingdings 2","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128409","Unicode hex":"1F599"},{"Typeface name":"Wingdings 2","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128410","Unicode hex":"1F59A"},{"Typeface name":"Wingdings 2","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"128411","Unicode hex":"1F59B"},{"Typeface name":"Wingdings 2","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128072","Unicode hex":"1F448"},{"Typeface name":"Wingdings 2","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128073","Unicode hex":"1F449"},{"Typeface name":"Wingdings 2","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128412","Unicode hex":"1F59C"},{"Typeface name":"Wingdings 2","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"128413","Unicode hex":"1F59D"},{"Typeface name":"Wingdings 2","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"128414","Unicode hex":"1F59E"},{"Typeface name":"Wingdings 2","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"128415","Unicode hex":"1F59F"},{"Typeface name":"Wingdings 2","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"128416","Unicode hex":"1F5A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128417","Unicode hex":"1F5A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"128070","Unicode hex":"1F446"},{"Typeface name":"Wingdings 2","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128071","Unicode hex":"1F447"},{"Typeface name":"Wingdings 2","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128418","Unicode hex":"1F5A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128419","Unicode hex":"1F5A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128401","Unicode hex":"1F591"},{"Typeface name":"Wingdings 2","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128500","Unicode hex":"1F5F4"},{"Typeface name":"Wingdings 2","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"128504","Unicode hex":"1F5F8"},{"Typeface name":"Wingdings 2","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"128501","Unicode hex":"1F5F5"},{"Typeface name":"Wingdings 2","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9745","Unicode hex":"2611"},{"Typeface name":"Wingdings 2","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"11197","Unicode hex":"2BBD"},{"Typeface name":"Wingdings 2","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"9746","Unicode hex":"2612"},{"Typeface name":"Wingdings 2","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"11198","Unicode hex":"2BBE"},{"Typeface name":"Wingdings 2","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"11199","Unicode hex":"2BBF"},{"Typeface name":"Wingdings 2","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128711","Unicode hex":"1F6C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"128625","Unicode hex":"1F671"},{"Typeface name":"Wingdings 2","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"128628","Unicode hex":"1F674"},{"Typeface name":"Wingdings 2","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128626","Unicode hex":"1F672"},{"Typeface name":"Wingdings 2","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128627","Unicode hex":"1F673"},{"Typeface name":"Wingdings 2","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"8253","Unicode hex":"203D"},{"Typeface name":"Wingdings 2","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128633","Unicode hex":"1F679"},{"Typeface name":"Wingdings 2","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128634","Unicode hex":"1F67A"},{"Typeface name":"Wingdings 2","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"128635","Unicode hex":"1F67B"},{"Typeface name":"Wingdings 2","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"128614","Unicode hex":"1F666"},{"Typeface name":"Wingdings 2","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128612","Unicode hex":"1F664"},{"Typeface name":"Wingdings 2","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"128613","Unicode hex":"1F665"},{"Typeface name":"Wingdings 2","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128615","Unicode hex":"1F667"},{"Typeface name":"Wingdings 2","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128602","Unicode hex":"1F65A"},{"Typeface name":"Wingdings 2","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128600","Unicode hex":"1F658"},{"Typeface name":"Wingdings 2","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"128601","Unicode hex":"1F659"},{"Typeface name":"Wingdings 2","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128603","Unicode hex":"1F65B"},{"Typeface name":"Wingdings 2","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9450","Unicode hex":"24EA"},{"Typeface name":"Wingdings 2","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"9312","Unicode hex":"2460"},{"Typeface name":"Wingdings 2","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"9313","Unicode hex":"2461"},{"Typeface name":"Wingdings 2","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9314","Unicode hex":"2462"},{"Typeface name":"Wingdings 2","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"9315","Unicode hex":"2463"},{"Typeface name":"Wingdings 2","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9316","Unicode hex":"2464"},{"Typeface name":"Wingdings 2","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"9317","Unicode hex":"2465"},{"Typeface name":"Wingdings 2","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9318","Unicode hex":"2466"},{"Typeface name":"Wingdings 2","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9319","Unicode hex":"2467"},{"Typeface name":"Wingdings 2","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9320","Unicode hex":"2468"},{"Typeface name":"Wingdings 2","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9321","Unicode hex":"2469"},{"Typeface name":"Wingdings 2","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9471","Unicode hex":"24FF"},{"Typeface name":"Wingdings 2","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"10102","Unicode hex":"2776"},{"Typeface name":"Wingdings 2","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10103","Unicode hex":"2777"},{"Typeface name":"Wingdings 2","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"10104","Unicode hex":"2778"},{"Typeface name":"Wingdings 2","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10105","Unicode hex":"2779"},{"Typeface name":"Wingdings 2","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"10106","Unicode hex":"277A"},{"Typeface name":"Wingdings 2","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"10107","Unicode hex":"277B"},{"Typeface name":"Wingdings 2","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"10108","Unicode hex":"277C"},{"Typeface name":"Wingdings 2","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"10109","Unicode hex":"277D"},{"Typeface name":"Wingdings 2","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"10110","Unicode hex":"277E"},{"Typeface name":"Wingdings 2","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"10111","Unicode hex":"277F"},{"Typeface name":"Wingdings 2","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"9737","Unicode hex":"2609"},{"Typeface name":"Wingdings 2","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"127765","Unicode hex":"1F315"},{"Typeface name":"Wingdings 2","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"9789","Unicode hex":"263D"},{"Typeface name":"Wingdings 2","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"9790","Unicode hex":"263E"},{"Typeface name":"Wingdings 2","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11839","Unicode hex":"2E3F"},{"Typeface name":"Wingdings 2","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10013","Unicode hex":"271D"},{"Typeface name":"Wingdings 2","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"128327","Unicode hex":"1F547"},{"Typeface name":"Wingdings 2","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"128348","Unicode hex":"1F55C"},{"Typeface name":"Wingdings 2","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"128349","Unicode hex":"1F55D"},{"Typeface name":"Wingdings 2","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"128350","Unicode hex":"1F55E"},{"Typeface name":"Wingdings 2","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"128351","Unicode hex":"1F55F"},{"Typeface name":"Wingdings 2","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"128352","Unicode hex":"1F560"},{"Typeface name":"Wingdings 2","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"128353","Unicode hex":"1F561"},{"Typeface name":"Wingdings 2","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"128354","Unicode hex":"1F562"},{"Typeface name":"Wingdings 2","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128355","Unicode hex":"1F563"},{"Typeface name":"Wingdings 2","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128356","Unicode hex":"1F564"},{"Typeface name":"Wingdings 2","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128357","Unicode hex":"1F565"},{"Typeface name":"Wingdings 2","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128358","Unicode hex":"1F566"},{"Typeface name":"Wingdings 2","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"128359","Unicode hex":"1F567"},{"Typeface name":"Wingdings 2","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128616","Unicode hex":"1F668"},{"Typeface name":"Wingdings 2","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128617","Unicode hex":"1F669"},{"Typeface name":"Wingdings 2","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128900","Unicode hex":"1F784"},{"Typeface name":"Wingdings 2","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"10625","Unicode hex":"2981"},{"Typeface name":"Wingdings 2","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"9679","Unicode hex":"25CF"},{"Typeface name":"Wingdings 2","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"9675","Unicode hex":"25CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128901","Unicode hex":"1F785"},{"Typeface name":"Wingdings 2","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128903","Unicode hex":"1F787"},{"Typeface name":"Wingdings 2","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128905","Unicode hex":"1F789"},{"Typeface name":"Wingdings 2","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"8857","Unicode hex":"2299"},{"Typeface name":"Wingdings 2","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"10687","Unicode hex":"29BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128908","Unicode hex":"1F78C"},{"Typeface name":"Wingdings 2","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128909","Unicode hex":"1F78D"},{"Typeface name":"Wingdings 2","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"9726","Unicode hex":"25FE"},{"Typeface name":"Wingdings 2","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"9632","Unicode hex":"25A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"9633","Unicode hex":"25A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128913","Unicode hex":"1F791"},{"Typeface name":"Wingdings 2","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128914","Unicode hex":"1F792"},{"Typeface name":"Wingdings 2","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128915","Unicode hex":"1F793"},{"Typeface name":"Wingdings 2","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128916","Unicode hex":"1F794"},{"Typeface name":"Wingdings 2","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9635","Unicode hex":"25A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128917","Unicode hex":"1F795"},{"Typeface name":"Wingdings 2","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128918","Unicode hex":"1F796"},{"Typeface name":"Wingdings 2","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128919","Unicode hex":"1F797"},{"Typeface name":"Wingdings 2","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128920","Unicode hex":"1F798"},{"Typeface name":"Wingdings 2","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings 2","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"11045","Unicode hex":"2B25"},{"Typeface name":"Wingdings 2","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"9671","Unicode hex":"25C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"128922","Unicode hex":"1F79A"},{"Typeface name":"Wingdings 2","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"9672","Unicode hex":"25C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"128923","Unicode hex":"1F79B"},{"Typeface name":"Wingdings 2","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128924","Unicode hex":"1F79C"},{"Typeface name":"Wingdings 2","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"128925","Unicode hex":"1F79D"},{"Typeface name":"Wingdings 2","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128926","Unicode hex":"1F79E"},{"Typeface name":"Wingdings 2","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"11050","Unicode hex":"2B2A"},{"Typeface name":"Wingdings 2","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"11047","Unicode hex":"2B27"},{"Typeface name":"Wingdings 2","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128928","Unicode hex":"1F7A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"9686","Unicode hex":"25D6"},{"Typeface name":"Wingdings 2","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"9687","Unicode hex":"25D7"},{"Typeface name":"Wingdings 2","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"11210","Unicode hex":"2BCA"},{"Typeface name":"Wingdings 2","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"11211","Unicode hex":"2BCB"},{"Typeface name":"Wingdings 2","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"11200","Unicode hex":"2BC0"},{"Typeface name":"Wingdings 2","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"11201","Unicode hex":"2BC1"},{"Typeface name":"Wingdings 2","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"11039","Unicode hex":"2B1F"},{"Typeface name":"Wingdings 2","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"11202","Unicode hex":"2BC2"},{"Typeface name":"Wingdings 2","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"11043","Unicode hex":"2B23"},{"Typeface name":"Wingdings 2","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11042","Unicode hex":"2B22"},{"Typeface name":"Wingdings 2","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11203","Unicode hex":"2BC3"},{"Typeface name":"Wingdings 2","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11204","Unicode hex":"2BC4"},{"Typeface name":"Wingdings 2","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128929","Unicode hex":"1F7A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128930","Unicode hex":"1F7A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128931","Unicode hex":"1F7A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128932","Unicode hex":"1F7A4"},{"Typeface name":"Wingdings 2","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128933","Unicode hex":"1F7A5"},{"Typeface name":"Wingdings 2","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128934","Unicode hex":"1F7A6"},{"Typeface name":"Wingdings 2","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128935","Unicode hex":"1F7A7"},{"Typeface name":"Wingdings 2","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128936","Unicode hex":"1F7A8"},{"Typeface name":"Wingdings 2","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128937","Unicode hex":"1F7A9"},{"Typeface name":"Wingdings 2","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128938","Unicode hex":"1F7AA"},{"Typeface name":"Wingdings 2","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128939","Unicode hex":"1F7AB"},{"Typeface name":"Wingdings 2","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128940","Unicode hex":"1F7AC"},{"Typeface name":"Wingdings 2","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128941","Unicode hex":"1F7AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128942","Unicode hex":"1F7AE"},{"Typeface name":"Wingdings 2","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128943","Unicode hex":"1F7AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"128944","Unicode hex":"1F7B0"},{"Typeface name":"Wingdings 2","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"128945","Unicode hex":"1F7B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"128946","Unicode hex":"1F7B2"},{"Typeface name":"Wingdings 2","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"128947","Unicode hex":"1F7B3"},{"Typeface name":"Wingdings 2","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"128948","Unicode hex":"1F7B4"},{"Typeface name":"Wingdings 2","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"128949","Unicode hex":"1F7B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"128950","Unicode hex":"1F7B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"128951","Unicode hex":"1F7B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"128952","Unicode hex":"1F7B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"128953","Unicode hex":"1F7B9"},{"Typeface name":"Wingdings 2","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"128954","Unicode hex":"1F7BA"},{"Typeface name":"Wingdings 2","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"128955","Unicode hex":"1F7BB"},{"Typeface name":"Wingdings 2","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"128956","Unicode hex":"1F7BC"},{"Typeface name":"Wingdings 2","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128957","Unicode hex":"1F7BD"},{"Typeface name":"Wingdings 2","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128958","Unicode hex":"1F7BE"},{"Typeface name":"Wingdings 2","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"128959","Unicode hex":"1F7BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"128960","Unicode hex":"1F7C0"},{"Typeface name":"Wingdings 2","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128962","Unicode hex":"1F7C2"},{"Typeface name":"Wingdings 2","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128964","Unicode hex":"1F7C4"},{"Typeface name":"Wingdings 2","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"128966","Unicode hex":"1F7C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"128969","Unicode hex":"1F7C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128970","Unicode hex":"1F7CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"10038","Unicode hex":"2736"},{"Typeface name":"Wingdings 2","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"128972","Unicode hex":"1F7CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128974","Unicode hex":"1F7CE"},{"Typeface name":"Wingdings 2","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128976","Unicode hex":"1F7D0"},{"Typeface name":"Wingdings 2","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128978","Unicode hex":"1F7D2"},{"Typeface name":"Wingdings 2","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"10041","Unicode hex":"2739"},{"Typeface name":"Wingdings 2","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128963","Unicode hex":"1F7C3"},{"Typeface name":"Wingdings 2","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128967","Unicode hex":"1F7C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Wingdings 2","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128973","Unicode hex":"1F7CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128980","Unicode hex":"1F7D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11212","Unicode hex":"2BCC"},{"Typeface name":"Wingdings 2","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11213","Unicode hex":"2BCD"},{"Typeface name":"Wingdings 2","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"8251","Unicode hex":"203B"},{"Typeface name":"Wingdings 2","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"8258","Unicode hex":"2042"},{"Typeface name":"Wingdings 3","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 3","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"11104","Unicode hex":"2B60"},{"Typeface name":"Wingdings 3","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"11106","Unicode hex":"2B62"},{"Typeface name":"Wingdings 3","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"11105","Unicode hex":"2B61"},{"Typeface name":"Wingdings 3","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"11107","Unicode hex":"2B63"},{"Typeface name":"Wingdings 3","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"11110","Unicode hex":"2B66"},{"Typeface name":"Wingdings 3","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"11111","Unicode hex":"2B67"},{"Typeface name":"Wingdings 3","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"11113","Unicode hex":"2B69"},{"Typeface name":"Wingdings 3","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"11112","Unicode hex":"2B68"},{"Typeface name":"Wingdings 3","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"11120","Unicode hex":"2B70"},{"Typeface name":"Wingdings 3","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"11122","Unicode hex":"2B72"},{"Typeface name":"Wingdings 3","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"11121","Unicode hex":"2B71"},{"Typeface name":"Wingdings 3","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"11123","Unicode hex":"2B73"},{"Typeface name":"Wingdings 3","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"11126","Unicode hex":"2B76"},{"Typeface name":"Wingdings 3","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"11128","Unicode hex":"2B78"},{"Typeface name":"Wingdings 3","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"11131","Unicode hex":"2B7B"},{"Typeface name":"Wingdings 3","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"11133","Unicode hex":"2B7D"},{"Typeface name":"Wingdings 3","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"11108","Unicode hex":"2B64"},{"Typeface name":"Wingdings 3","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"11109","Unicode hex":"2B65"},{"Typeface name":"Wingdings 3","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"11114","Unicode hex":"2B6A"},{"Typeface name":"Wingdings 3","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"11116","Unicode hex":"2B6C"},{"Typeface name":"Wingdings 3","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"11115","Unicode hex":"2B6B"},{"Typeface name":"Wingdings 3","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"11117","Unicode hex":"2B6D"},{"Typeface name":"Wingdings 3","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"11085","Unicode hex":"2B4D"},{"Typeface name":"Wingdings 3","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"11168","Unicode hex":"2BA0"},{"Typeface name":"Wingdings 3","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"11169","Unicode hex":"2BA1"},{"Typeface name":"Wingdings 3","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"11170","Unicode hex":"2BA2"},{"Typeface name":"Wingdings 3","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"11171","Unicode hex":"2BA3"},{"Typeface name":"Wingdings 3","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"11172","Unicode hex":"2BA4"},{"Typeface name":"Wingdings 3","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"11173","Unicode hex":"2BA5"},{"Typeface name":"Wingdings 3","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"11174","Unicode hex":"2BA6"},{"Typeface name":"Wingdings 3","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"11175","Unicode hex":"2BA7"},{"Typeface name":"Wingdings 3","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"11152","Unicode hex":"2B90"},{"Typeface name":"Wingdings 3","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"11153","Unicode hex":"2B91"},{"Typeface name":"Wingdings 3","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"11154","Unicode hex":"2B92"},{"Typeface name":"Wingdings 3","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"11155","Unicode hex":"2B93"},{"Typeface name":"Wingdings 3","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"11136","Unicode hex":"2B80"},{"Typeface name":"Wingdings 3","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"11139","Unicode hex":"2B83"},{"Typeface name":"Wingdings 3","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"11134","Unicode hex":"2B7E"},{"Typeface name":"Wingdings 3","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"11135","Unicode hex":"2B7F"},{"Typeface name":"Wingdings 3","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"11140","Unicode hex":"2B84"},{"Typeface name":"Wingdings 3","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"11142","Unicode hex":"2B86"},{"Typeface name":"Wingdings 3","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"11141","Unicode hex":"2B85"},{"Typeface name":"Wingdings 3","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"11143","Unicode hex":"2B87"},{"Typeface name":"Wingdings 3","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"11151","Unicode hex":"2B8F"},{"Typeface name":"Wingdings 3","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"11149","Unicode hex":"2B8D"},{"Typeface name":"Wingdings 3","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"11150","Unicode hex":"2B8E"},{"Typeface name":"Wingdings 3","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"11148","Unicode hex":"2B8C"},{"Typeface name":"Wingdings 3","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"11118","Unicode hex":"2B6E"},{"Typeface name":"Wingdings 3","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"11119","Unicode hex":"2B6F"},{"Typeface name":"Wingdings 3","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9099","Unicode hex":"238B"},{"Typeface name":"Wingdings 3","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"8996","Unicode hex":"2324"},{"Typeface name":"Wingdings 3","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"8963","Unicode hex":"2303"},{"Typeface name":"Wingdings 3","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"8997","Unicode hex":"2325"},{"Typeface name":"Wingdings 3","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"9251","Unicode hex":"2423"},{"Typeface name":"Wingdings 3","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"9085","Unicode hex":"237D"},{"Typeface name":"Wingdings 3","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"8682","Unicode hex":"21EA"},{"Typeface name":"Wingdings 3","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"11192","Unicode hex":"2BB8"},{"Typeface name":"Wingdings 3","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"129184","Unicode hex":"1F8A0"},{"Typeface name":"Wingdings 3","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"129185","Unicode hex":"1F8A1"},{"Typeface name":"Wingdings 3","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"129186","Unicode hex":"1F8A2"},{"Typeface name":"Wingdings 3","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"129187","Unicode hex":"1F8A3"},{"Typeface name":"Wingdings 3","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"129188","Unicode hex":"1F8A4"},{"Typeface name":"Wingdings 3","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"129189","Unicode hex":"1F8A5"},{"Typeface name":"Wingdings 3","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"129190","Unicode hex":"1F8A6"},{"Typeface name":"Wingdings 3","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"129191","Unicode hex":"1F8A7"},{"Typeface name":"Wingdings 3","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"129192","Unicode hex":"1F8A8"},{"Typeface name":"Wingdings 3","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"129193","Unicode hex":"1F8A9"},{"Typeface name":"Wingdings 3","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"129194","Unicode hex":"1F8AA"},{"Typeface name":"Wingdings 3","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"129195","Unicode hex":"1F8AB"},{"Typeface name":"Wingdings 3","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"129104","Unicode hex":"1F850"},{"Typeface name":"Wingdings 3","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"129106","Unicode hex":"1F852"},{"Typeface name":"Wingdings 3","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"129105","Unicode hex":"1F851"},{"Typeface name":"Wingdings 3","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"129107","Unicode hex":"1F853"},{"Typeface name":"Wingdings 3","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"129108","Unicode hex":"1F854"},{"Typeface name":"Wingdings 3","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"129109","Unicode hex":"1F855"},{"Typeface name":"Wingdings 3","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"129111","Unicode hex":"1F857"},{"Typeface name":"Wingdings 3","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"129110","Unicode hex":"1F856"},{"Typeface name":"Wingdings 3","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"129112","Unicode hex":"1F858"},{"Typeface name":"Wingdings 3","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"129113","Unicode hex":"1F859"},{"Typeface name":"Wingdings 3","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9650","Unicode hex":"25B2"},{"Typeface name":"Wingdings 3","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9660","Unicode hex":"25BC"},{"Typeface name":"Wingdings 3","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9651","Unicode hex":"25B3"},{"Typeface name":"Wingdings 3","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9661","Unicode hex":"25BD"},{"Typeface name":"Wingdings 3","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9664","Unicode hex":"25C0"},{"Typeface name":"Wingdings 3","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9654","Unicode hex":"25B6"},{"Typeface name":"Wingdings 3","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"9665","Unicode hex":"25C1"},{"Typeface name":"Wingdings 3","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9655","Unicode hex":"25B7"},{"Typeface name":"Wingdings 3","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"9699","Unicode hex":"25E3"},{"Typeface name":"Wingdings 3","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"9698","Unicode hex":"25E2"},{"Typeface name":"Wingdings 3","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"9700","Unicode hex":"25E4"},{"Typeface name":"Wingdings 3","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"9701","Unicode hex":"25E5"},{"Typeface name":"Wingdings 3","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"128896","Unicode hex":"1F780"},{"Typeface name":"Wingdings 3","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128898","Unicode hex":"1F782"},{"Typeface name":"Wingdings 3","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128897","Unicode hex":"1F781"},{"Typeface name":"Wingdings 3","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128899","Unicode hex":"1F783"},{"Typeface name":"Wingdings 3","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"11205","Unicode hex":"2BC5"},{"Typeface name":"Wingdings 3","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"11206","Unicode hex":"2BC6"},{"Typeface name":"Wingdings 3","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"11207","Unicode hex":"2BC7"},{"Typeface name":"Wingdings 3","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11208","Unicode hex":"2BC8"},{"Typeface name":"Wingdings 3","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"11164","Unicode hex":"2B9C"},{"Typeface name":"Wingdings 3","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"11166","Unicode hex":"2B9E"},{"Typeface name":"Wingdings 3","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"11165","Unicode hex":"2B9D"},{"Typeface name":"Wingdings 3","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"11167","Unicode hex":"2B9F"},{"Typeface name":"Wingdings 3","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"129040","Unicode hex":"1F810"},{"Typeface name":"Wingdings 3","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"129042","Unicode hex":"1F812"},{"Typeface name":"Wingdings 3","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"129041","Unicode hex":"1F811"},{"Typeface name":"Wingdings 3","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"129043","Unicode hex":"1F813"},{"Typeface name":"Wingdings 3","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"129044","Unicode hex":"1F814"},{"Typeface name":"Wingdings 3","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"129046","Unicode hex":"1F816"},{"Typeface name":"Wingdings 3","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"129045","Unicode hex":"1F815"},{"Typeface name":"Wingdings 3","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"129047","Unicode hex":"1F817"},{"Typeface name":"Wingdings 3","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"129048","Unicode hex":"1F818"},{"Typeface name":"Wingdings 3","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"129050","Unicode hex":"1F81A"},{"Typeface name":"Wingdings 3","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"129049","Unicode hex":"1F819"},{"Typeface name":"Wingdings 3","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"129051","Unicode hex":"1F81B"},{"Typeface name":"Wingdings 3","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"129052","Unicode hex":"1F81C"},{"Typeface name":"Wingdings 3","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"129054","Unicode hex":"1F81E"},{"Typeface name":"Wingdings 3","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"129053","Unicode hex":"1F81D"},{"Typeface name":"Wingdings 3","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"129055","Unicode hex":"1F81F"},{"Typeface name":"Wingdings 3","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"129024","Unicode hex":"1F800"},{"Typeface name":"Wingdings 3","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"129026","Unicode hex":"1F802"},{"Typeface name":"Wingdings 3","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"129025","Unicode hex":"1F801"},{"Typeface name":"Wingdings 3","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"129027","Unicode hex":"1F803"},{"Typeface name":"Wingdings 3","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"129028","Unicode hex":"1F804"},{"Typeface name":"Wingdings 3","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"129030","Unicode hex":"1F806"},{"Typeface name":"Wingdings 3","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"129029","Unicode hex":"1F805"},{"Typeface name":"Wingdings 3","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"129031","Unicode hex":"1F807"},{"Typeface name":"Wingdings 3","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"129032","Unicode hex":"1F808"},{"Typeface name":"Wingdings 3","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"129034","Unicode hex":"1F80A"},{"Typeface name":"Wingdings 3","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"129033","Unicode hex":"1F809"},{"Typeface name":"Wingdings 3","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"129035","Unicode hex":"1F80B"},{"Typeface name":"Wingdings 3","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"129056","Unicode hex":"1F820"},{"Typeface name":"Wingdings 3","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"129058","Unicode hex":"1F822"},{"Typeface name":"Wingdings 3","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"129060","Unicode hex":"1F824"},{"Typeface name":"Wingdings 3","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"129062","Unicode hex":"1F826"},{"Typeface name":"Wingdings 3","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"129064","Unicode hex":"1F828"},{"Typeface name":"Wingdings 3","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"129066","Unicode hex":"1F82A"},{"Typeface name":"Wingdings 3","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"129068","Unicode hex":"1F82C"},{"Typeface name":"Wingdings 3","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"129180","Unicode hex":"1F89C"},{"Typeface name":"Wingdings 3","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"129181","Unicode hex":"1F89D"},{"Typeface name":"Wingdings 3","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"129182","Unicode hex":"1F89E"},{"Typeface name":"Wingdings 3","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"129183","Unicode hex":"1F89F"},{"Typeface name":"Wingdings 3","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"129070","Unicode hex":"1F82E"},{"Typeface name":"Wingdings 3","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"129072","Unicode hex":"1F830"},{"Typeface name":"Wingdings 3","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"129074","Unicode hex":"1F832"},{"Typeface name":"Wingdings 3","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"129076","Unicode hex":"1F834"},{"Typeface name":"Wingdings 3","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"129078","Unicode hex":"1F836"},{"Typeface name":"Wingdings 3","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"129080","Unicode hex":"1F838"},{"Typeface name":"Wingdings 3","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"129082","Unicode hex":"1F83A"},{"Typeface name":"Wingdings 3","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"129081","Unicode hex":"1F839"},{"Typeface name":"Wingdings 3","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"129083","Unicode hex":"1F83B"},{"Typeface name":"Wingdings 3","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"129176","Unicode hex":"1F898"},{"Typeface name":"Wingdings 3","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"129178","Unicode hex":"1F89A"},{"Typeface name":"Wingdings 3","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"129177","Unicode hex":"1F899"},{"Typeface name":"Wingdings 3","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"129179","Unicode hex":"1F89B"},{"Typeface name":"Wingdings 3","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"129084","Unicode hex":"1F83C"},{"Typeface name":"Wingdings 3","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"129086","Unicode hex":"1F83E"},{"Typeface name":"Wingdings 3","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"129085","Unicode hex":"1F83D"},{"Typeface name":"Wingdings 3","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"129087","Unicode hex":"1F83F"},{"Typeface name":"Wingdings 3","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"129088","Unicode hex":"1F840"},{"Typeface name":"Wingdings 3","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"129090","Unicode hex":"1F842"},{"Typeface name":"Wingdings 3","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"129089","Unicode hex":"1F841"},{"Typeface name":"Wingdings 3","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"129091","Unicode hex":"1F843"},{"Typeface name":"Wingdings 3","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"129092","Unicode hex":"1F844"},{"Typeface name":"Wingdings 3","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"129094","Unicode hex":"1F846"},{"Typeface name":"Wingdings 3","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"129093","Unicode hex":"1F845"},{"Typeface name":"Wingdings 3","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"129095","Unicode hex":"1F847"},{"Typeface name":"Wingdings 3","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11176","Unicode hex":"2BA8"},{"Typeface name":"Wingdings 3","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11177","Unicode hex":"2BA9"},{"Typeface name":"Wingdings 3","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"11178","Unicode hex":"2BAA"},{"Typeface name":"Wingdings 3","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"11179","Unicode hex":"2BAB"},{"Typeface name":"Wingdings 3","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"11180","Unicode hex":"2BAC"},{"Typeface name":"Wingdings 3","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"11181","Unicode hex":"2BAD"},{"Typeface name":"Wingdings 3","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"11182","Unicode hex":"2BAE"},{"Typeface name":"Wingdings 3","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"11183","Unicode hex":"2BAF"},{"Typeface name":"Wingdings 3","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"129120","Unicode hex":"1F860"},{"Typeface name":"Wingdings 3","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"129122","Unicode hex":"1F862"},{"Typeface name":"Wingdings 3","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"129121","Unicode hex":"1F861"},{"Typeface name":"Wingdings 3","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"129123","Unicode hex":"1F863"},{"Typeface name":"Wingdings 3","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"129124","Unicode hex":"1F864"},{"Typeface name":"Wingdings 3","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"129125","Unicode hex":"1F865"},{"Typeface name":"Wingdings 3","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"129127","Unicode hex":"1F867"},{"Typeface name":"Wingdings 3","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"129126","Unicode hex":"1F866"},{"Typeface name":"Wingdings 3","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"129136","Unicode hex":"1F870"},{"Typeface name":"Wingdings 3","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"129138","Unicode hex":"1F872"},{"Typeface name":"Wingdings 3","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"129137","Unicode hex":"1F871"},{"Typeface name":"Wingdings 3","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"129139","Unicode hex":"1F873"},{"Typeface name":"Wingdings 3","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"129140","Unicode hex":"1F874"},{"Typeface name":"Wingdings 3","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"129141","Unicode hex":"1F875"},{"Typeface name":"Wingdings 3","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129143","Unicode hex":"1F877"},{"Typeface name":"Wingdings 3","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129142","Unicode hex":"1F876"},{"Typeface name":"Wingdings 3","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129152","Unicode hex":"1F880"},{"Typeface name":"Wingdings 3","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129154","Unicode hex":"1F882"},{"Typeface name":"Wingdings 3","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129153","Unicode hex":"1F881"},{"Typeface name":"Wingdings 3","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129155","Unicode hex":"1F883"},{"Typeface name":"Wingdings 3","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129156","Unicode hex":"1F884"},{"Typeface name":"Wingdings 3","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129157","Unicode hex":"1F885"},{"Typeface name":"Wingdings 3","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129159","Unicode hex":"1F887"},{"Typeface name":"Wingdings 3","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129158","Unicode hex":"1F886"},{"Typeface name":"Wingdings 3","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129168","Unicode hex":"1F890"},{"Typeface name":"Wingdings 3","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129170","Unicode hex":"1F892"},{"Typeface name":"Wingdings 3","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129169","Unicode hex":"1F891"},{"Typeface name":"Wingdings 3","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129171","Unicode hex":"1F893"},{"Typeface name":"Wingdings 3","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129172","Unicode hex":"1F894"},{"Typeface name":"Wingdings 3","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129174","Unicode hex":"1F896"},{"Typeface name":"Wingdings 3","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"129173","Unicode hex":"1F895"},{"Typeface name":"Wingdings 3","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"129175","Unicode hex":"1F897"}];return Gx.default=t,Gx}var Ij;function JMe(){if(Ij)return Co;Ij=1;var t=Co&&Co.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(Co,"__esModule",{value:!0}),Co.hex=Co.dec=Co.codePoint=void 0;for(var e=t(XMe()),n={},r=String.fromCodePoint?String.fromCodePoint:h,i=0,s=e.default;i<s.length;i++){var a=s[i],o=parseInt(a["Unicode dec"],10),l={codePoint:o,string:r(o)};n[a["Typeface name"].toUpperCase()+"_"+a["Dingbat dec"]]=l}function c(p,v){return n[p.toUpperCase()+"_"+v]}Co.codePoint=c;function u(p,v){return c(p,parseInt(v,10))}Co.dec=u;function f(p,v){return c(p,parseInt(v,16))}Co.hex=f;function h(p){if(p<=65535)return String.fromCharCode(p);var v=Math.floor((p-65536)/1024)+55296,g=(p-65536)%1024+56320;return String.fromCharCode(v,g)}return Co}var Kx={},kj;function YMe(){if(kj)return Kx;kj=1,Kx.uriToZipEntryName=t,Kx.replaceFragment=e;function t(n,r){return r.charAt(0)==="/"?r.substr(1):n+"/"+r}function e(n,r){var i=n.indexOf("#");return i!==-1&&(n=n.substring(0,i)),n+"#"+r}return Kx}var Rj;function QMe(){if(Rj)return $x;Rj=1,$x.createBodyReader=a,$x._readNumberingProperties=l;var t=JMe(),e=ri,n=lh(),r=vc().Result,i=vc().warning,s=YMe();function a(w){return{readXmlElement:function(C){return new o(w).readXmlElement(C)},readXmlElements:function(C){return new o(w).readXmlElements(C)}}}function o(w){var C=[],S=[],R=[],D=w.relationships,N=w.contentTypes,k=w.docxFile,F=w.files,P=w.numbering,I=w.styles;function U(Te){var Ue=Te.map(O);return y(Ue)}function O(Te){if(Te.type==="element"){var Ue=je[Te.name];if(Ue)return Ue(Te);if(!Object.prototype.hasOwnProperty.call(u,Te.name)){var Le=i("An unrecognised element was ignored: "+Te.name);return f([Le])}}return h()}function K(Te){return Q(Te).map(function(Ue){return{type:"paragraphProperties",styleId:Ue.styleId,styleName:Ue.name,alignment:Te.firstOrEmpty("w:jc").attributes["w:val"],numbering:l(Ue.styleId,Te.firstOrEmpty("w:numPr"),P),indent:X(Te.firstOrEmpty("w:ind"))}})}function X(Te){return{start:Te.attributes["w:start"]||Te.attributes["w:left"],end:Te.attributes["w:end"]||Te.attributes["w:right"],firstLine:Te.attributes["w:firstLine"],hanging:Te.attributes["w:hanging"]}}function J(Te){return B(Te).map(function(Ue){var Le=Te.firstOrEmpty("w:sz").attributes["w:val"],Ge=/^[0-9]+$/.test(Le)?parseInt(Le,10)/2:null;return{type:"runProperties",styleId:Ue.styleId,styleName:Ue.name,verticalAlignment:Te.firstOrEmpty("w:vertAlign").attributes["w:val"],font:Te.firstOrEmpty("w:rFonts").attributes["w:ascii"],fontSize:Ge,isBold:z(Te.first("w:b")),isUnderline:ne(Te.first("w:u")),isItalic:z(Te.first("w:i")),isStrikethrough:z(Te.first("w:strike")),isAllCaps:z(Te.first("w:caps")),isSmallCaps:z(Te.first("w:smallCaps"))}})}function ne(Te){if(Te){var Ue=Te.attributes["w:val"];return Ue!==void 0&&Ue!=="false"&&Ue!=="0"&&Ue!=="none"}else return!1}function z(Te){if(Te){var Ue=Te.attributes["w:val"];return Ue!=="false"&&Ue!=="0"}else return!1}function Q(Te){return W(Te,"w:pStyle","Paragraph",I.findParagraphStyleById)}function B(Te){return W(Te,"w:rStyle","Run",I.findCharacterStyleById)}function j(Te){return W(Te,"w:tblStyle","Table",I.findTableStyleById)}function W(Te,Ue,Le,Ge){var rt=[],it=Te.first(Ue),Vt=null,xn=null;if(it&&(Vt=it.attributes["w:val"],Vt)){var ln=Ge(Vt);ln?xn=ln.name:rt.push(Oe(Le,Vt))}return v({styleId:Vt,name:xn},rt)}var G={type:"unknown"};function Y(Te){var Ue=Te.attributes["w:fldCharType"];if(Ue==="begin")C.push(G),S=[];else if(Ue==="end")C.pop();else if(Ue==="separate"){var Le=ae(S.join("")),Ge=Le===null?G:{type:"hyperlink",options:Le};C.pop(),C.push(Ge)}return h()}function ee(){var Te=e.last(C.filter(function(Ue){return Ue.type==="hyperlink"}));return Te?Te.options:null}function ae(Te){var Ue=/\s*HYPERLINK "(.*)"/.exec(Te);if(Ue)return{href:Ue[1]};var Le=/\s*HYPERLINK\s+\\l\s+"(.*)"/.exec(Te);return Le?{anchor:Le[1]}:null}function de(Te){return S.push(Te.text()),h()}function fe(Te){var Ue=Te.attributes["w:font"],Le=Te.attributes["w:char"],Ge=t.hex(Ue,Le);return Ge==null&&/^F0..$/.test(Le)&&(Ge=t.hex(Ue,Le.substring(2))),Ge==null?f([i("A w:sym element with an unsupported character was ignored: char "+Le+" in font "+Ue)]):p(new n.Text(Ge.string))}function De(Te){return function(Ue){var Le=Ue.attributes["w:id"];return p(new n.NoteReference({noteType:Te,noteId:Le}))}}function Pe(Te){return p(n.commentReference({commentId:Te.attributes["w:id"]}))}function me(Te){return U(Te.children)}var je={"w:p":function(Te){var Ue=Te.firstOrEmpty("w:pPr"),Le=!!Ue.firstOrEmpty("w:rPr").first("w:del");if(Le)return Te.children.forEach(function(rt){R.push(rt)}),h();var Ge=Te.children;return R.length>0&&(Ge=R.concat(Ge),R=[]),g.map(K(Ue),U(Ge),function(rt,it){return new n.Paragraph(it,rt)}).insertExtra()},"w:r":function(Te){return g.map(J(Te.firstOrEmpty("w:rPr")),U(Te.children),function(Ue,Le){var Ge=ee();return Ge!==null&&(Le=[new n.Hyperlink(Le,Ge)]),new n.Run(Le,Ue)})},"w:fldChar":Y,"w:instrText":de,"w:t":function(Te){return p(new n.Text(Te.text()))},"w:tab":function(Te){return p(new n.Tab)},"w:noBreakHyphen":function(){return p(new n.Text(""))},"w:softHyphen":function(Te){return p(new n.Text(""))},"w:sym":fe,"w:hyperlink":function(Te){var Ue=Te.attributes["r:id"],Le=Te.attributes["w:anchor"];return U(Te.children).map(function(Ge){function rt(Vt){var xn=Te.attributes["w:tgtFrame"]||null;return new n.Hyperlink(Ge,e.extend({targetFrame:xn},Vt))}if(Ue){var it=D.findTargetByRelationshipId(Ue);return Le&&(it=s.replaceFragment(it,Le)),rt({href:it})}else return Le?rt({anchor:Le}):Ge})},"w:tbl":V,"w:tr":be,"w:tc":oe,"w:footnoteReference":De("footnote"),"w:endnoteReference":De("endnote"),"w:commentReference":Pe,"w:br":function(Te){var Ue=Te.attributes["w:type"];return Ue==null||Ue==="textWrapping"?p(n.lineBreak):Ue==="page"?p(n.pageBreak):Ue==="column"?p(n.columnBreak):f([i("Unsupported break type: "+Ue)])},"w:bookmarkStart":function(Te){var Ue=Te.attributes["w:name"];return Ue==="_GoBack"?h():p(new n.BookmarkStart({name:Ue}))},"mc:AlternateContent":function(Te){return me(Te.first("mc:Fallback"))},"w:sdt":function(Te){return U(Te.firstOrEmpty("w:sdtContent").children)},"w:ins":me,"w:object":me,"w:smartTag":me,"w:drawing":me,"w:pict":function(Te){return me(Te).toExtra()},"v:roundrect":me,"v:shape":me,"v:textbox":me,"w:txbxContent":me,"wp:inline":he,"wp:anchor":he,"v:imagedata":ge,"v:group":me,"v:rect":me};return{readXmlElement:O,readXmlElements:U};function V(Te){var Ue=ye(Te.firstOrEmpty("w:tblPr"));return U(Te.children).flatMap(le).flatMap(function(Le){return Ue.map(function(Ge){return n.Table(Le,Ge)})})}function ye(Te){return j(Te).map(function(Ue){return{styleId:Ue.styleId,styleName:Ue.name}})}function be(Te){var Ue=Te.firstOrEmpty("w:trPr"),Le=!!Ue.first("w:tblHeader");return U(Te.children).map(function(Ge){return n.TableRow(Ge,{isHeader:Le})})}function oe(Te){return U(Te.children).map(function(Ue){var Le=Te.firstOrEmpty("w:tcPr"),Ge=Le.firstOrEmpty("w:gridSpan").attributes["w:val"],rt=Ge?parseInt(Ge,10):1,it=n.TableCell(Ue,{colSpan:rt});return it._vMerge=re(Le),it})}function re(Te){var Ue=Te.first("w:vMerge");if(Ue){var Le=Ue.attributes["w:val"];return Le==="continue"||!Le}else return null}function le(Te){var Ue=e.any(Te,function(rt){return rt.type!==n.types.tableRow});if(Ue)return v(Te,[i("unexpected non-row element in table, cell merging may be incorrect")]);var Le=e.any(Te,function(rt){return e.any(rt.children,function(it){return it.type!==n.types.tableCell})});if(Le)return v(Te,[i("unexpected non-cell element in table row, cell merging may be incorrect")]);var Ge={};return Te.forEach(function(rt){var it=0;rt.children.forEach(function(Vt){Vt._vMerge&&Ge[it]?Ge[it].rowSpan++:(Ge[it]=Vt,Vt._vMerge=!1),it+=Vt.colSpan})}),Te.forEach(function(rt){rt.children=rt.children.filter(function(it){return!it._vMerge}),rt.children.forEach(function(it){delete it._vMerge})}),p(Te)}function he(Te){var Ue=Te.getElementsByTagName("a:graphic").getElementsByTagName("a:graphicData").getElementsByTagName("pic:pic").getElementsByTagName("pic:blipFill").getElementsByTagName("a:blip");return y(Ue.map(_e.bind(null,Te)))}function _e(Te,Ue){var Le=Te.first("wp:docPr").attributes,Ge=ie(Le.descr)?Le.title:Le.descr,rt=ce(Ue);return rt===null?f([i("Could not find image file for a:blip element")]):Se(rt,Ge)}function ie(Te){return Te==null||/^\s*$/.test(Te)}function ce(Te){var Ue=Te.attributes["r:embed"],Le=Te.attributes["r:link"];if(Ue)return ve(Ue);if(Le){var Ge=D.findTargetByRelationshipId(Le);return{path:Ge,read:F.read.bind(F,Ge)}}else return null}function ge(Te){var Ue=Te.attributes["r:id"];return Ue?Se(ve(Ue),Te.attributes["o:title"]):f([i("A v:imagedata element without a relationship ID was ignored")])}function ve(Te){var Ue=s.uriToZipEntryName("word",D.findTargetByRelationshipId(Te));return{path:Ue,read:k.read.bind(k,Ue)}}function Se(Te,Ue){var Le=N.findContentType(Te.path),Ge=n.Image({readImage:Te.read,altText:Ue,contentType:Le}),rt=c[Le]?[]:i("Image of type "+Le+" is unlikely to display in web browsers");return v(Ge,rt)}function Oe(Te,Ue){return i(Te+" style with ID "+Ue+" was referenced but not defined in the document")}}function l(w,C,S){var R=C.firstOrEmpty("w:ilvl").attributes["w:val"],D=C.firstOrEmpty("w:numId").attributes["w:val"];if(R!==void 0&&D!==void 0)return S.findLevel(D,R);if(w!=null){var N=S.findLevelByParagraphStyleId(w);if(N!=null)return N}return null}var c={"image/png":!0,"image/gif":!0,"image/jpeg":!0,"image/svg+xml":!0,"image/tiff":!0},u={"office-word:wrap":!0,"v:shadow":!0,"v:shapetype":!0,"w:annotationRef":!0,"w:bookmarkEnd":!0,"w:sectPr":!0,"w:proofErr":!0,"w:lastRenderedPageBreak":!0,"w:commentRangeStart":!0,"w:commentRangeEnd":!0,"w:del":!0,"w:footnoteRef":!0,"w:endnoteRef":!0,"w:pPr":!0,"w:rPr":!0,"w:tblPr":!0,"w:tblGrid":!0,"w:trPr":!0,"w:tcPr":!0};function f(w){return new g(null,null,w)}function h(){return new g(null)}function p(w){return new g(w)}function v(w,C){return new g(w,null,C)}function g(w,C,S){this.value=w||[],this.extra=C||[],this._result=new r({element:this.value,extra:C},S),this.messages=this._result.messages}g.prototype.toExtra=function(){return new g(null,b(this.extra,this.value),this.messages)},g.prototype.insertExtra=function(){var w=this.extra;return w&&w.length?new g(b(this.value,w),null,this.messages):this},g.prototype.map=function(w){var C=this._result.map(function(S){return w(S.element)});return new g(C.value,this.extra,C.messages)},g.prototype.flatMap=function(w){var C=this._result.flatMap(function(S){return w(S.element)._result});return new g(C.value.element,b(this.extra,C.value.extra),C.messages)},g.map=function(w,C,S){return new g(S(w.value,C.value),b(w.extra,C.extra),w.messages.concat(C.messages))};function y(w){var C=r.combine(e.pluck(w,"_result"));return new g(e.flatten(e.pluck(C.value,"element")),e.filter(e.flatten(e.pluck(C.value,"extra")),_),C.messages)}function b(w,C){return e.flatten([w,C])}function _(w){return w}return $x}var QD={},Pj;function ZMe(){if(Pj)return QD;Pj=1,QD.DocumentXmlReader=n;var t=lh(),e=vc().Result;function n(r){var i=r.bodyReader;function s(a){var o=a.first("w:body");if(o==null)throw new Error("Could not find the body element: are you sure this is a docx file?");var l=i.readXmlElements(o.children).map(function(c){return new t.Document(c,{notes:r.notes,comments:r.comments})});return new e(l.value,l.messages)}return{convertXmlToDocument:s}}return QD}var i0={},Fj;function eUe(){if(Fj)return i0;Fj=1,i0.readRelationships=t,i0.defaultValue=new e([]),i0.Relationships=e;function t(n){var r=[];return n.children.forEach(function(i){if(i.name==="relationships:Relationship"){var s={relationshipId:i.attributes.Id,target:i.attributes.Target,type:i.attributes.Type};r.push(s)}}),new e(r)}function e(n){var r={};n.forEach(function(s){r[s.relationshipId]=s.target});var i={};return n.forEach(function(s){i[s.type]||(i[s.type]=[]),i[s.type].push(s.target)}),{findTargetByRelationshipId:function(s){return r[s]},findTargetsByType:function(s){return i[s]||[]}}}return i0}var Xx={},Mj;function tUe(){if(Mj)return Xx;Mj=1,Xx.readContentTypesFromXml=e;var t={png:"png",gif:"gif",jpeg:"jpeg",jpg:"jpeg",tif:"tiff",tiff:"tiff",bmp:"bmp"};Xx.defaultContentTypes=n({},{});function e(r){var i={},s={};return r.children.forEach(function(a){if(a.name==="content-types:Default"&&(i[a.attributes.Extension]=a.attributes.ContentType),a.name==="content-types:Override"){var o=a.attributes.PartName;o.charAt(0)==="/"&&(o=o.substring(1)),s[o]=a.attributes.ContentType}}),n(s,i)}function n(r,i){return{findContentType:function(s){var a=r[s];if(a)return a;var o=s.split("."),l=o[o.length-1];if(i.hasOwnProperty(l))return i[l];var c=t[l.toLowerCase()];return c?"image/"+c:null}}}return Xx}var s0={},Uj;function nUe(){if(Uj)return s0;Uj=1;var t=ri;s0.readNumberingXml=n,s0.Numbering=e,s0.defaultNumbering=new e({},{});function e(a,o,l){var c=t.flatten(t.values(o).map(function(p){return t.values(p.levels)})),u=t.indexBy(c.filter(function(p){return p.paragraphStyleId!=null}),"paragraphStyleId");function f(p,v){var g=a[p];if(g){var y=o[g.abstractNumId];if(y){if(y.numStyleLink==null)return o[g.abstractNumId].levels[v];var b=l.findNumberingStyleById(y.numStyleLink);return f(b.numId,v)}else return null}else return null}function h(p){return u[p]||null}return{findLevel:f,findLevelByParagraphStyleId:h}}function n(a,o){if(!o||!o.styles)throw new Error("styles is missing");var l=r(a),c=s(a);return new e(c,l,o.styles)}function r(a){var o={};return a.getElementsByTagName("w:abstractNum").forEach(function(l){var c=l.attributes["w:abstractNumId"];o[c]=i(l)}),o}function i(a){var o={};a.getElementsByTagName("w:lvl").forEach(function(c){var u=c.attributes["w:ilvl"],f=c.firstOrEmpty("w:numFmt").attributes["w:val"],h=c.firstOrEmpty("w:pStyle").attributes["w:val"];o[u]={isOrdered:f!=="bullet",level:u,paragraphStyleId:h}});var l=a.firstOrEmpty("w:numStyleLink").attributes["w:val"];return{levels:o,numStyleLink:l}}function s(a){var o={};return a.getElementsByTagName("w:num").forEach(function(l){var c=l.attributes["w:numId"],u=l.first("w:abstractNumId").attributes["w:val"];o[c]={abstractNumId:u}}),o}return s0}var a0={},Oj;function rUe(){if(Oj)return a0;Oj=1,a0.readStylesXml=e,a0.Styles=t,a0.defaultStyles=new t({},{});function t(s,a,o,l){return{findParagraphStyleById:function(c){return s[c]},findCharacterStyleById:function(c){return a[c]},findTableStyleById:function(c){return o[c]},findNumberingStyleById:function(c){return l[c]}}}t.EMPTY=new t({},{},{},{});function e(s){var a={},o={},l={},c={},u={paragraph:a,character:o,table:l};return s.getElementsByTagName("w:style").forEach(function(f){var h=n(f);if(h.type==="numbering")c[h.styleId]=i(f);else{var p=u[h.type];p&&(p[h.styleId]=h)}}),new t(a,o,l,c)}function n(s){var a=s.attributes["w:type"],o=s.attributes["w:styleId"],l=r(s);return{type:a,styleId:o,name:l}}function r(s){var a=s.first("w:name");return a?a.attributes["w:val"]:null}function i(s){var a=s.firstOrEmpty("w:pPr").firstOrEmpty("w:numPr").firstOrEmpty("w:numId").attributes["w:val"];return{numId:a}}return a0}var np={},Lj;function iUe(){if(Lj)return np;Lj=1;var t=lh(),e=vc().Result;np.createFootnotesReader=n.bind(np,"footnote"),np.createEndnotesReader=n.bind(np,"endnote");function n(r,i){function s(l){return e.combine(l.getElementsByTagName("w:"+r).filter(a).map(o))}function a(l){var c=l.attributes["w:type"];return c!=="continuationSeparator"&&c!=="separator"}function o(l){var c=l.attributes["w:id"];return i.readXmlElements(l.children).map(function(u){return t.Note({noteType:r,noteId:c,body:u})})}return s}return np}var ZD={},jj;function sUe(){if(jj)return ZD;jj=1;var t=lh(),e=vc().Result;function n(r){function i(a){return e.combine(a.getElementsByTagName("w:comment").map(s))}function s(a){var o=a.attributes["w:id"];function l(c){return(a.attributes[c]||"").trim()||null}return r.readXmlElements(a.children).map(function(c){return t.comment({commentId:o,body:c,authorName:l("w:author"),authorInitials:l("w:initials")})})}return i}return ZD.createCommentsReader=n,ZD}var eA={},Bj;function aUe(){if(Bj)return eA;Bj=1;var t=cd();eA.Files=e;function e(){function n(r){return t.reject(new Error("could not open external image: '"+r+`'
cannot open linked files from a web browser`))}return{read:n}}return eA}var Vj;function oUe(){if(Vj)return Bx;Vj=1,Bx.read=v,Bx._findPartPaths=g;var t=cd(),e=lh(),n=vc().Result,r=BY(),i=KMe().readXmlFromZipFile,s=QMe().createBodyReader,a=ZMe().DocumentXmlReader,o=eUe(),l=tUe(),c=nUe(),u=rUe(),f=iUe(),h=sUe(),p=aUe().Files;function v(k,F){return F=F||{},t.props({contentTypes:S(k),partPaths:g(k),docxFile:k,files:F.path?p.relativeToFile(F.path):new p(null)}).also(function(P){return{styles:D(k,P.partPaths.styles)}}).also(function(P){return{numbering:R(k,P.partPaths.numbering,P.styles)}}).also(function(P){return{footnotes:w(P.partPaths.footnotes,P,function(I,U){return U?f.createFootnotesReader(I)(U):new n([])}),endnotes:w(P.partPaths.endnotes,P,function(I,U){return U?f.createEndnotesReader(I)(U):new n([])}),comments:w(P.partPaths.comments,P,function(I,U){return U?h.createCommentsReader(I)(U):new n([])})}}).also(function(P){return{notes:P.footnotes.flatMap(function(I){return P.endnotes.map(function(U){return new e.Notes(I.concat(U))})})}}).then(function(P){return w(P.partPaths.mainDocument,P,function(I,U){return P.notes.flatMap(function(O){return P.comments.flatMap(function(K){var X=new a({bodyReader:I,notes:O,comments:K});return X.convertXmlToDocument(U)})})})})}function g(k){return N(k).then(function(F){var P=y({docxFile:k,relationships:F,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",basePath:"",fallbackPath:"word/document.xml"});if(!k.exists(P))throw new Error("Could not find main document part. Are you sure this is a valid .docx file?");return _({filename:C(P),readElement:o.readRelationships,defaultValue:o.defaultValue})(k).then(function(I){function U(O){return y({docxFile:k,relationships:I,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/"+O,basePath:r.splitPath(P).dirname,fallbackPath:"word/"+O+".xml"})}return{mainDocument:P,comments:U("comments"),endnotes:U("endnotes"),footnotes:U("footnotes"),numbering:U("numbering"),styles:U("styles")}})})}function y(k){var F=k.docxFile,P=k.relationships,I=k.relationshipType,U=k.basePath,O=k.fallbackPath,K=P.findTargetsByType(I),X=K.map(function(ne){return b(r.joinPath(U,ne),"/")}),J=X.filter(function(ne){return F.exists(ne)});return J.length===0?O:J[0]}function b(k,F){return k.substring(0,F.length)===F?k.substring(F.length):k}function _(k){return function(F){return i(F,k.filename).then(function(P){return P?k.readElement(P):k.defaultValue})}}function w(k,F,P){var I=_({filename:C(k),readElement:o.readRelationships,defaultValue:o.defaultValue});return I(F.docxFile).then(function(U){var O=new s({relationships:U,contentTypes:F.contentTypes,docxFile:F.docxFile,numbering:F.numbering,styles:F.styles,files:F.files});return i(F.docxFile,k).then(function(K){return P(O,K)})})}function C(k){var F=r.splitPath(k);return r.joinPath(F.dirname,"_rels",F.basename+".rels")}var S=_({filename:"[Content_Types].xml",readElement:l.readContentTypesFromXml,defaultValue:l.defaultContentTypes});function R(k,F,P){return _({filename:F,readElement:function(I){return c.readNumberingXml(I,{styles:P})},defaultValue:c.defaultNumbering})(k)}function D(k,F){return _({filename:F,readElement:u.readStylesXml,defaultValue:u.defaultStyles})(k)}var N=_({filename:"_rels/.rels",readElement:o.readRelationships,defaultValue:o.defaultValue});return Bx}var Jx={},Wj;function lUe(){if(Wj)return Jx;Wj=1;var t=ri,e=cd(),n=HY();Jx.writeStyleMap=a,Jx.readStyleMap=u;var r="http://schemas.zwobble.org/mammoth/style-map",i="mammoth/style-map",s="/"+i;function a(f,h){return f.write(i,h),o(f).then(function(){return l(f)})}function o(f){var h="word/_rels/document.xml.rels",p="http://schemas.openxmlformats.org/package/2006/relationships",v="{"+p+"}Relationship";return f.read(h,"utf8").then(n.readString).then(function(g){var y=g.children;c(y,v,"Id",{Id:"rMammothStyleMap",Type:r,Target:s});var b={"":p};return f.write(h,n.writeString(g,b))})}function l(f){var h="[Content_Types].xml",p="http://schemas.openxmlformats.org/package/2006/content-types",v="{"+p+"}Override";return f.read(h,"utf8").then(n.readString).then(function(g){var y=g.children;c(y,v,"PartName",{PartName:s,ContentType:"text/prs.mammoth.style-map"});var b={"":p};return f.write(h,n.writeString(g,b))})}function c(f,h,p,v){var g=t.find(f,function(y){return y.name===h&&y.attributes[p]===v[p]});g?g.attributes=v:f.push(n.element(h,v))}function u(f){return f.exists(i)?f.read(i,"utf8"):e.resolve(null)}return Jx}var Yx={},Fd={},Hl={},su={},qj;function $Y(){if(qj)return su;qj=1;var t=aT();function e(l,c,u){return r(t.element(l,c,{fresh:!1}),u)}function n(l,c,u){var f=t.element(l,c,{fresh:!0});return r(f,u)}function r(l,c){return{type:"element",tag:l,children:c||[]}}function i(l){return{type:"text",value:l}}var s={type:"forceWrite"};su.freshElement=n,su.nonFreshElement=e,su.elementWithTag=r,su.text=i,su.forceWrite=s;var a={br:!0,hr:!0,img:!0};function o(l){return l.children.length===0&&a[l.tag.tagName]}return su.isVoidElement=o,su}var tA,zj;function cUe(){if(zj)return tA;zj=1;var t=ri,e=$Y();function n(g){return r(c(g))}function r(g){var y=[];return g.map(i).forEach(function(b){l(y,b)}),y}function i(g){return s[g.type](g)}var s={element:a,text:o,forceWrite:o};function a(g){return e.elementWithTag(g.tag,r(g.children))}function o(g){return g}function l(g,y){var b=g[g.length-1];y.type==="element"&&!y.tag.fresh&&b&&b.type==="element"&&y.tag.matchesElement(b.tag)?(y.tag.separator&&l(b.children,e.text(y.tag.separator)),y.children.forEach(function(_){l(b.children,_)})):g.push(y)}function c(g){return u(g,function(y){return f[y.type](y)})}function u(g,y){return t.flatten(t.map(g,y),!0)}var f={element:p,text:v,forceWrite:h};function h(g){return[g]}function p(g){var y=c(g.children);return y.length===0&&!e.isVoidElement(g)?[]:[e.elementWithTag(g.tag,y)]}function v(g){return g.value.length===0?[]:[g]}return tA=n,tA}var Hj;function sT(){if(Hj)return Hl;Hj=1;var t=$Y();Hl.freshElement=t.freshElement,Hl.nonFreshElement=t.nonFreshElement,Hl.elementWithTag=t.elementWithTag,Hl.text=t.text,Hl.forceWrite=t.forceWrite,Hl.simplify=cUe();function e(a,o){o.forEach(function(l){n(a,l)})}function n(a,o){r[o.type](a,o)}var r={element:i,text:s,forceWrite:function(){}};function i(a,o){t.isVoidElement(o)?a.selfClosing(o.tag.tagName,o.tag.attributes):(a.open(o.tag.tagName,o.tag.attributes),e(a,o.children),a.close(o.tag.tagName))}function s(a,o){a.text(o.value)}return Hl.write=e,Hl}var $j;function aT(){if($j)return Fd;$j=1;var t=ri,e=sT();Fd.topLevelElement=n,Fd.elements=r,Fd.element=s;function n(o,l){return r([s(o,l,{fresh:!0})])}function r(o){return new i(o.map(function(l){return t.isString(l)?s(l):l}))}function i(o){this._elements=o}i.prototype.wrap=function(l){for(var c=l(),u=this._elements.length-1;u>=0;u--)c=this._elements[u].wrapNodes(c);return c};function s(o,l,c){return c=c||{},new a(o,l,c)}function a(o,l,c){var u={};t.isArray(o)?(o.forEach(function(f){u[f]=!0}),o=o[0]):u[o]=!0,this.tagName=o,this.tagNames=u,this.attributes=l||{},this.fresh=c.fresh,this.separator=c.separator}return a.prototype.matchesElement=function(o){return this.tagNames[o.tagName]&&t.isEqual(this.attributes||{},o.attributes||{})},a.prototype.wrap=function(l){return this.wrapNodes(l())},a.prototype.wrapNodes=function(l){return[e.elementWithTag(this,l)]},Fd.empty=r([]),Fd.ignore={wrap:function(){return[]}},Fd}var nA={},Gj;function GY(){return Gj||(Gj=1,(function(t){var e=ri,n=cd(),r=sT();t.imgElement=i;function i(s){return function(a,o){return n.when(s(a)).then(function(l){var c={};return a.altText&&(c.alt=a.altText),e.extend(c,l),[r.freshElement("img",c)]})}}t.inline=t.imgElement,t.dataUri=i(function(s){return s.readAsBase64String().then(function(a){return{src:"data:"+s.contentType+";base64,"+a}})})})(nA)),nA}var rA={},iA={},Kj;function uUe(){if(Kj)return iA;Kj=1;var t=ri;iA.writer=e;function e(o){return o=o||{},o.prettyPrint?r():i()}var n={div:!0,p:!0,ul:!0,li:!0};function r(){var o=0,l="  ",c=[],u=!0,f=!1,h=i();function p(S,R){n[S]&&w(),c.push(S),h.open(S,R),n[S]&&o++,u=!1}function v(S){n[S]&&(o--,w()),c.pop(),h.close(S)}function g(S){_();var R=C()?S:S.replace(`
`,`
`+l);h.text(R)}function y(S,R){w(),h.selfClosing(S,R)}function b(){return c.length===0||n[c[c.length-1]]}function _(){f||(w(),f=!0)}function w(){if(f=!1,!u&&b()&&!C()){h._append(`
`);for(var S=0;S<o;S++)h._append(l)}}function C(){return t.some(c,function(S){return S==="pre"})}return{asString:h.asString,open:p,close:v,text:g,selfClosing:y}}function i(){var o=[];function l(g,y){var b=f(y);o.push("<"+g+b+">")}function c(g){o.push("</"+g+">")}function u(g,y){var b=f(y);o.push("<"+g+b+" />")}function f(g){return t.map(g,function(y,b){return" "+b+'="'+a(y)+'"'}).join("")}function h(g){o.push(s(g))}function p(g){o.push(g)}function v(){return o.join("")}return{asString:v,open:l,close:c,text:h,selfClosing:u,_append:p}}function s(o){return o.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function a(o){return o.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}return iA}var sA={},Xj;function dUe(){if(Xj)return sA;Xj=1;var t=ri;function e(f){return n(f,f)}function n(f,h){return function(){return{start:f,end:h}}}function r(f){var h=f.href||"";return h?{start:"[",end:"]("+h+")",anchorPosition:"before"}:{}}function i(f){var h=f.src||"",p=f.alt||"";return h||p?{start:"!["+p+"]("+h+")"}:{}}function s(f){return function(h,p){return{start:p?`
`:"",end:p?"":`
`,list:{isOrdered:f.isOrdered,indent:p?p.indent+1:0,count:0}}}}function a(f,h,p){h=h||{indent:0,isOrdered:!1,count:0},h.count++,p.hasClosed=!1;var v=h.isOrdered?h.count+".":"-",g=l("	",h.indent)+v+" ";return{start:g,end:function(){if(!p.hasClosed)return p.hasClosed=!0,`
`}}}var o={p:n("",`

`),br:n("",`  
`),ul:s({isOrdered:!1}),ol:s({isOrdered:!0}),li:a,strong:e("__"),em:e("*"),a:r,img:i};(function(){for(var f=1;f<=6;f++)o["h"+f]=n(l("#",f)+" ",`

`)})();function l(f,h){return new Array(h+1).join(f)}function c(){var f=[],h=[],p=null,v={};function g(S,R){R=R||{};var D=o[S]||function(){return{}},N=D(R,p,v);h.push({end:N.end,list:p}),N.list&&(p=N.list);var k=N.anchorPosition==="before";k&&y(R),f.push(N.start||""),k||y(R)}function y(S){S.id&&f.push('<a id="'+S.id+'"></a>')}function b(S){var R=h.pop();p=R.list;var D=t.isFunction(R.end)?R.end():R.end;f.push(D||"")}function _(S,R){g(S,R),b()}function w(S){f.push(u(S))}function C(){return f.join("")}return{asString:C,open:g,close:b,text:w,selfClosing:_}}sA.writer=c;function u(f){return f.replace(/\\/g,"\\\\").replace(/([\`\*_\{\}\[\]\(\)\#\+\-\.\!])/g,"\\$1")}return sA}var Jj;function fUe(){if(Jj)return rA;Jj=1;var t=uUe(),e=dUe();rA.writer=n;function n(r){return r=r||{},r.outputFormat==="markdown"?e.writer():t.writer(r)}return rA}var Yj;function hUe(){if(Yj)return Yx;Yj=1;var t=ri,e=cd(),n=lh(),r=aT(),i=vc(),s=GY(),a=sT(),o=fUe();Yx.DocumentConverter=l;function l(y){return{convertToHtml:function(b){var _=t.indexBy(b.type===n.types.document?b.comments:[],"commentId"),w=new c(y,_);return w.convertToHtml(b)}}}function c(y,b){var _=1,w=[],C=[];y=t.extend({ignoreEmptyParagraphs:!0},y);var S=y.idPrefix===void 0?"":y.idPrefix,R=y.ignoreEmptyParagraphs,D=r.topLevelElement("p"),N=y.styleMap||[];function k(V){var ye=[],be=P(V,ye,{}),oe=[];v(be,function(le){le.type==="deferred"&&oe.push(le)});var re={};return e.mapSeries(oe,function(le){return le.value().then(function(he){re[le.id]=he})}).then(function(){function le(_e){return p(_e,function(ie){return ie.type==="deferred"?re[ie.id]:ie.children?[t.extend({},ie,{children:le(ie.children)})]:[ie]})}var he=o.writer({prettyPrint:y.prettyPrint,outputFormat:y.outputFormat});return a.write(he,a.simplify(le(be))),new i.Result(he.asString(),ye)})}function F(V,ye,be){return p(V,function(oe){return P(oe,ye,be)})}function P(V,ye,be){if(!be)throw new Error("options not set");var oe=je[V.type];return oe?oe(V,ye,be):[]}function I(V,ye,be){return U(V,ye).wrap(function(){var oe=F(V.children,ye,be);return R?oe:[a.forceWrite].concat(oe)})}function U(V,ye){var be=J(V);return be?be.to:(V.styleId&&ye.push(h("paragraph",V)),D)}function O(V,ye,be){var oe=function(){return F(V.children,ye,be)},re=[];V.isSmallCaps&&re.push(K("smallCaps")),V.isAllCaps&&re.push(K("allCaps")),V.isStrikethrough&&re.push(K("strikethrough","s")),V.isUnderline&&re.push(K("underline")),V.verticalAlignment===n.verticalAlignment.subscript&&re.push(r.element("sub",{},{fresh:!1})),V.verticalAlignment===n.verticalAlignment.superscript&&re.push(r.element("sup",{},{fresh:!1})),V.isItalic&&re.push(K("italic","em")),V.isBold&&re.push(K("bold","strong"));var le=r.empty,he=J(V);return he?le=he.to:V.styleId&&ye.push(h("run",V)),re.push(le),re.forEach(function(_e){oe=_e.wrap.bind(_e,oe)}),oe()}function K(V,ye){var be=X({type:V});return be||(ye?r.element(ye,{},{fresh:!1}):r.empty)}function X(V,ye){var be=J(V);return be?be.to:ye}function J(V){for(var ye=0;ye<N.length;ye++)if(N[ye].from.matches(V))return N[ye]}function ne(V){return function(ye,be){return e.attempt(function(){return V(ye,be)}).caught(function(oe){return be.push(i.error(oe)),[]})}}function z(V){return B(V.noteType,V.noteId)}function Q(V){return j(V.noteType,V.noteId)}function B(V,ye){return W(V+"-"+ye)}function j(V,ye){return W(V+"-ref-"+ye)}function W(V){return S+V}var G=r.elements([r.element("table",{},{fresh:!0})]);function Y(V,ye,be){return X(V,G).wrap(function(){return ee(V,ye,be)})}function ee(V,ye,be){var oe=t.findIndex(V.children,function(_e){return!_e.type===n.types.tableRow||!_e.isHeader});oe===-1&&(oe=V.children.length);var re;if(oe===0)re=F(V.children,ye,t.extend({},be,{isTableHeader:!1}));else{var le=F(V.children.slice(0,oe),ye,t.extend({},be,{isTableHeader:!0})),he=F(V.children.slice(oe),ye,t.extend({},be,{isTableHeader:!1}));re=[a.freshElement("thead",{},le),a.freshElement("tbody",{},he)]}return[a.forceWrite].concat(re)}function ae(V,ye,be){var oe=F(V.children,ye,be);return[a.freshElement("tr",{},[a.forceWrite].concat(oe))]}function de(V,ye,be){var oe=be.isTableHeader?"th":"td",re=F(V.children,ye,be),le={};return V.colSpan!==1&&(le.colspan=V.colSpan.toString()),V.rowSpan!==1&&(le.rowspan=V.rowSpan.toString()),[a.freshElement(oe,le,[a.forceWrite].concat(re))]}function fe(V,ye,be){return X(V,r.ignore).wrap(function(){var oe=b[V.commentId],re=C.length+1,le="["+g(oe)+re+"]";return C.push({label:le,comment:oe}),[a.freshElement("a",{href:"#"+B("comment",V.commentId),id:j("comment",V.commentId)},[a.text(le)])]})}function De(V,ye,be){var oe=V.label,re=V.comment,le=F(re.body,ye,be).concat([a.nonFreshElement("p",{},[a.text(" "),a.freshElement("a",{href:"#"+j("comment",re.commentId)},[a.text("")])])]);return[a.freshElement("dt",{id:B("comment",re.commentId)},[a.text("Comment "+oe)]),a.freshElement("dd",{},le)]}function Pe(V,ye,be){return me(V).wrap(function(){return[]})}function me(V){var ye=J(V);return ye?ye.to:V.breakType==="line"?r.topLevelElement("br"):r.empty}var je={document:function(V,ye,be){var oe=F(V.children,ye,be),re=w.map(function(he){return V.notes.resolve(he)}),le=F(re,ye,be);return oe.concat([a.freshElement("ol",{},le),a.freshElement("dl",{},p(C,function(he){return De(he,ye,be)}))])},paragraph:I,run:O,text:function(V,ye,be){return[a.text(V.value)]},tab:function(V,ye,be){return[a.text("	")]},hyperlink:function(V,ye,be){var oe=V.anchor?"#"+W(V.anchor):V.href,re={href:oe};V.targetFrame!=null&&(re.target=V.targetFrame);var le=F(V.children,ye,be);return[a.nonFreshElement("a",re,le)]},bookmarkStart:function(V,ye,be){var oe=a.freshElement("a",{id:W(V.name)},[a.forceWrite]);return[oe]},noteReference:function(V,ye,be){w.push(V);var oe=a.freshElement("a",{href:"#"+z(V),id:Q(V)},[a.text("["+_+++"]")]);return[a.freshElement("sup",{},[oe])]},note:function(V,ye,be){var oe=F(V.body,ye,be),re=a.elementWithTag(r.element("p",{},{fresh:!1}),[a.text(" "),a.freshElement("a",{href:"#"+Q(V)},[a.text("")])]),le=oe.concat([re]);return a.freshElement("li",{id:z(V)},le)},commentReference:fe,comment:De,image:f(ne(y.convertImage||s.dataUri)),table:Y,tableRow:ae,tableCell:de,break:Pe};return{convertToHtml:k}}var u=1;function f(y){return function(b,_,w){return[{type:"deferred",id:u++,value:function(){return y(b,_,w)}}]}}function h(y,b){return i.warning("Unrecognised "+y+" style: '"+b.styleName+"' (Style ID: "+b.styleId+")")}function p(y,b){return t.flatten(y.map(b),!0)}function v(y,b){y.forEach(function(_){b(_),_.children&&v(_.children,b)})}var g=Yx.commentAuthorLabel=function(b){return b.authorInitials||""};return Yx}var aA={},Qj;function pUe(){if(Qj)return aA;Qj=1;var t=lh();function e(n){if(n.type==="text")return n.value;if(n.type===t.types.tab)return"	";var r=n.type==="paragraph"?`

`:"";return(n.children||[]).map(e).join("")+r}return aA.convertElementToRawText=e,aA}var o0={},So={},oA={},lA={exports:{}},Zj;function mUe(){if(Zj)return lA.exports;Zj=1;var t=lA.exports=function(e,n){this._tokens=e,this._startIndex=n||0};return t.prototype.head=function(){return this._tokens[this._startIndex]},t.prototype.tail=function(e){return new t(this._tokens,this._startIndex+1)},t.prototype.toArray=function(){return this._tokens.slice(this._startIndex)},t.prototype.end=function(){return this._tokens[this._tokens.length-1]},t.prototype.to=function(e){var n=this.head().source,r=e.head()||e.end();return n.to(r.source)},lA.exports}var eB;function gUe(){if(eB)return oA;eB=1;var t=mUe();return oA.Parser=function(e){var n=function(r,i){return r(new t(i))};return{parseTokens:n}},oA}var cA={},uA={},tB;function yUe(){return tB||(tB=1,(function(t){t.none=Object.create({value:function(){throw new Error("Called value on none")},isNone:function(){return!0},isSome:function(){return!1},map:function(){return t.none},flatMap:function(){return t.none},filter:function(){return t.none},toArray:function(){return[]},orElse:e,valueOrElse:e});function e(r){return typeof r=="function"?r():r}t.some=function(r){return new n(r)};var n=function(r){this._value=r};n.prototype.value=function(){return this._value},n.prototype.isNone=function(){return!1},n.prototype.isSome=function(){return!0},n.prototype.map=function(r){return new n(r(this._value))},n.prototype.flatMap=function(r){return r(this._value)},n.prototype.filter=function(r){return r(this._value)?this:t.none},n.prototype.toArray=function(){return[this._value]},n.prototype.orElse=function(r){return this},n.prototype.valueOrElse=function(r){return this._value},t.isOption=function(r){return r===t.none||r instanceof n},t.fromNullable=function(r){return r==null?t.none:new n(r)}})(uA)),uA}var dA,nB;function G6(){if(nB)return dA;nB=1,dA={failure:function(e,n){if(e.length<1)throw new Error("Failure must have errors");return new t({status:"failure",remaining:n,errors:e})},error:function(e,n){if(e.length<1)throw new Error("Failure must have errors");return new t({status:"error",remaining:n,errors:e})},success:function(e,n,r){return new t({status:"success",value:e,source:r,remaining:n,errors:[]})},cut:function(e){return new t({status:"cut",remaining:e,errors:[]})}};var t=function(e){this._value=e.value,this._status=e.status,this._hasValue=e.value!==void 0,this._remaining=e.remaining,this._source=e.source,this._errors=e.errors};return t.prototype.map=function(e){return this._hasValue?new t({value:e(this._value,this._source),status:this._status,remaining:this._remaining,source:this._source,errors:this._errors}):this},t.prototype.changeRemaining=function(e){return new t({value:this._value,status:this._status,remaining:e,source:this._source,errors:this._errors})},t.prototype.isSuccess=function(){return this._status==="success"||this._status==="cut"},t.prototype.isFailure=function(){return this._status==="failure"},t.prototype.isError=function(){return this._status==="error"},t.prototype.isCut=function(){return this._status==="cut"},t.prototype.value=function(){return this._value},t.prototype.remaining=function(){return this._remaining},t.prototype.source=function(){return this._source},t.prototype.errors=function(){return this._errors},dA}var fA={},rB;function KY(){if(rB)return fA;rB=1,fA.error=function(e){return new t(e)};var t=function(e){this.expected=e.expected,this.actual=e.actual,this._location=e.location};return t.prototype.describe=function(){var e=this._location?this._location.describe()+`:
`:"";return e+"Expected "+this.expected+`
but got `+this.actual},t.prototype.lineNumber=function(){return this._location.lineNumber()},t.prototype.characterNumber=function(){return this._location.characterNumber()},fA}var hA={},iB;function vUe(){if(iB)return hA;iB=1,hA.fromArray=function(e){var n=0,r=function(){return n<e.length};return new t({hasNext:r,next:function(){if(r())return e[n++];throw new Error("No more elements")}})};var t=function(e){this._iterator=e};return t.prototype.map=function(e){var n=this._iterator;return new t({hasNext:function(){return n.hasNext()},next:function(){return e(n.next())}})},t.prototype.filter=function(e){var n=this._iterator,r=!1,i=!1,s,a=function(){if(!r)for(r=!0,i=!1;n.hasNext()&&!i;)s=n.next(),i=e(s)};return new t({hasNext:function(){return a(),i},next:function(){a();var o=s;return r=!1,o}})},t.prototype.first=function(){var e=this._iterator;return this._iterator.hasNext()?e.next():null},t.prototype.toArray=function(){for(var e=[];this._iterator.hasNext();)e.push(this._iterator.next());return e},hA}var sB;function XY(){return sB||(sB=1,(function(t){var e=ri,n=yUe(),r=G6(),i=KY(),s=vUe();t.token=function(h,p){var v=p!==void 0;return function(g){var y=g.head();if(y&&y.name===h&&(!v||y.value===p))return r.success(y.value,g.tail(),y.source);var b=u({name:h,value:p});return f(g,b)}},t.tokenOfType=function(h){return t.token(h)},t.firstOf=function(h,p){return e.isArray(p)||(p=Array.prototype.slice.call(arguments,1)),function(v){return s.fromArray(p).map(function(g){return g(v)}).filter(function(g){return g.isSuccess()||g.isError()}).first()||f(v,h)}},t.then=function(h,p){return function(v){var g=h(v);return g.map||console.log(g),g.map(p)}},t.sequence=function(){var h=Array.prototype.slice.call(arguments,0),p=function(g){var y=e.foldl(h,function(_,w){var C=_.result,S=_.hasCut;if(!C.isSuccess())return{result:C,hasCut:S};var R=w(C.remaining());if(R.isCut())return{result:C,hasCut:!0};if(R.isSuccess()){var D;w.isCaptured?D=C.value().withValue(w,R.value()):D=C.value();var N=R.remaining(),k=g.to(N);return{result:r.success(D,N,k),hasCut:S}}else return S?{result:r.error(R.errors(),R.remaining()),hasCut:S}:{result:R,hasCut:S}},{result:r.success(new a,g),hasCut:!1}).result,b=g.to(y.remaining());return y.map(function(_){return _.withValue(t.sequence.source,b)})};p.head=function(){var g=e.find(h,v);return t.then(p,t.sequence.extract(g))},p.map=function(g){return t.then(p,function(y){return g.apply(this,y.toArray())})};function v(g){return g.isCaptured}return p};var a=function(h,p){this._values=h||{},this._valuesArray=p||[]};a.prototype.withValue=function(h,p){if(h.captureName&&h.captureName in this._values)throw new Error('Cannot add second value for capture "'+h.captureName+'"');var v=e.clone(this._values);v[h.captureName]=p;var g=this._valuesArray.concat([p]);return new a(v,g)},a.prototype.get=function(h){if(h.captureName in this._values)return this._values[h.captureName];throw new Error('No value for capture "'+h.captureName+'"')},a.prototype.toArray=function(){return this._valuesArray},t.sequence.capture=function(h,p){var v=function(){return h.apply(this,arguments)};return v.captureName=p,v.isCaptured=!0,v},t.sequence.extract=function(h){return function(p){return p.get(h)}},t.sequence.applyValues=function(h){var p=Array.prototype.slice.call(arguments,1);return function(v){var g=p.map(function(y){return v.get(y)});return h.apply(this,g)}},t.sequence.source={captureName:"source"},t.sequence.cut=function(){return function(h){return r.cut(h)}},t.optional=function(h){return function(p){var v=h(p);return v.isSuccess()?v.map(n.some):v.isFailure()?r.success(n.none,p):v}},t.zeroOrMoreWithSeparator=function(h,p){return c(h,p,!1)},t.oneOrMoreWithSeparator=function(h,p){return c(h,p,!0)};var o=t.zeroOrMore=function(h){return function(p){for(var v=[],g;(g=h(p))&&g.isSuccess();)p=g.remaining(),v.push(g.value());return g.isError()?g:r.success(v,p)}};t.oneOrMore=function(h){return t.oneOrMoreWithSeparator(h,l)};function l(h){return r.success(null,h)}var c=function(h,p,v){return function(g){var y=h(g);if(y.isSuccess()){var b=t.sequence.capture(h,"main"),_=o(t.then(t.sequence(p,b),t.sequence.extract(b))),w=_(y.remaining());return r.success([y.value()].concat(w.value()),w.remaining())}else return v||y.isError()?y:r.success([],g)}};t.leftAssociative=function(h,p,v){var g;v?g=[{func:v,rule:p}]:g=p,g=g.map(function(b){return t.then(b.rule,function(_){return function(w,C){return b.func(w,_,C)}})});var y=t.firstOf.apply(null,["rules"].concat(g));return function(b){var _=b,w=h(b);if(!w.isSuccess())return w;for(var C=y(w.remaining());C.isSuccess();){var S=C.remaining(),R=_.to(C.remaining()),D=C.value();w=r.success(D(w.value(),R),S,R),C=y(w.remaining())}return C.isError()?C:w}},t.leftAssociative.firstOf=function(){return Array.prototype.slice.call(arguments,0)},t.nonConsuming=function(h){return function(p){return h(p).changeRemaining(p)}};var u=function(h){return h.value?h.name+' "'+h.value+'"':h.name};function f(h,p){var v,g=h.head();return g?v=i.error({expected:p,actual:u(g),location:g.source}):v=i.error({expected:p,actual:"end of tokens"}),r.failure([v],h)}})(cA)),cA}var pA={exports:{}},aB;function JY(){if(aB)return pA.exports;aB=1,pA.exports=function(e,n){var r={asString:function(){return e},range:function(i,s){return new t(e,n,i,s)}};return r};var t=function(e,n,r,i){this._string=e,this._description=n,this._startIndex=r,this._endIndex=i};return t.prototype.to=function(e){return new t(this._string,this._description,this._startIndex,e._endIndex)},t.prototype.describe=function(){var e=this._position(),n=this._description?this._description+`
`:"";return n+"Line number: "+e.lineNumber+`
Character number: `+e.characterNumber},t.prototype.lineNumber=function(){return this._position().lineNumber},t.prototype.characterNumber=function(){return this._position().characterNumber},t.prototype._position=function(){for(var e=this,n=0,r=function(){return e._string.indexOf(`
`,n)},i=1;r()!==-1&&r()<this._startIndex;)n=r()+1,i+=1;var s=this._startIndex-n+1;return{lineNumber:i,characterNumber:s}},pA.exports}var mA,oB;function YY(){return oB||(oB=1,mA=function(t,e,n){this.name=t,this.value=e,n&&(this.source=n)}),mA}var gA={},lB;function xUe(){return lB||(lB=1,(function(t){var e=XY(),n=G6();t.parser=function(s,a,o){var l={rule:h,leftAssociative:p,rightAssociative:v},c=new r(o.map(f)),u=e.firstOf(s,a);function f(b){return{name:b.name,rule:i(b.ruleBuilder.bind(null,l))}}function h(){return g(c)}function p(b){return g(c.untilExclusive(b))}function v(b){return g(c.untilInclusive(b))}function g(b){return y.bind(null,b)}function y(b,_){var w=u(_);return w.isSuccess()?b.apply(w):w}return l};function r(s){function a(f){return new r(s.slice(0,l().indexOf(f)))}function o(f){return new r(s.slice(0,l().indexOf(f)+1))}function l(){return s.map(function(f){return f.name})}function c(f){for(var h,p;;)if(h=u(f.remaining()),h.isSuccess())p=f.source().to(h.source()),f=n.success(h.value()(f.value(),p),h.remaining(),p);else return h.isFailure()?f:h}function u(f){return e.firstOf("infix",s.map(function(h){return h.rule}))(f)}return{apply:c,untilExclusive:a,untilInclusive:o}}t.infix=function(s,a){function o(l){return t.infix(s,function(c){var u=a(c);return function(f){var h=u(f);return h.map(function(p){return function(v,g){return l(v,p,g)}})}})}return{name:s,ruleBuilder:a,map:o}};var i=function(s){var a;return function(o){return a||(a=s()),a(o)}}})(gA)),gA}var yA={},cB;function _Ue(){if(cB)return yA;cB=1;var t=YY(),e=JY();yA.RegexTokeniser=n;function n(r){r=r.map(function(o){return{name:o.name,regex:new RegExp(o.regex.source,"g")}});function i(o,l){for(var c=new e(o,l),u=0,f=[];u<o.length;){var h=s(o,u,c);u=h.endIndex,f.push(h.token)}return f.push(a(o,c)),f}function s(o,l,c){for(var u=0;u<r.length;u++){var f=r[u].regex;f.lastIndex=l;var h=f.exec(o);if(h){var v=l+h[0].length;if(h.index===l&&v>l){var p=h[1],g=new t(r[u].name,p,c.range(l,v));return{token:g,endIndex:v}}}}var v=l+1,g=new t("unrecognisedCharacter",o.substring(l,v),c.range(l,v));return{token:g,endIndex:v}}function a(o,l){return new t("end",null,l.range(o.length,o.length))}return{tokenise:i}}return yA}var uB;function QY(){return uB||(uB=1,So.Parser=gUe().Parser,So.rules=XY(),So.errors=KY(),So.results=G6(),So.StringSource=JY(),So.Token=YY(),So.bottomUp=xUe(),So.RegexTokeniser=_Ue().RegexTokeniser,So.rule=function(t){var e;return function(n){return e||(e=t()),e(n)}}),So}var qi={},dB;function bUe(){if(dB)return qi;dB=1,qi.paragraph=t,qi.run=e,qi.table=n,qi.bold=new r("bold"),qi.italic=new r("italic"),qi.underline=new r("underline"),qi.strikethrough=new r("strikethrough"),qi.allCaps=new r("allCaps"),qi.smallCaps=new r("smallCaps"),qi.commentReference=new r("commentReference"),qi.lineBreak=new r("break",{breakType:"line"}),qi.pageBreak=new r("break",{breakType:"page"}),qi.columnBreak=new r("break",{breakType:"column"}),qi.equalTo=s,qi.startsWith=a;function t(c){return new r("paragraph",c)}function e(c){return new r("run",c)}function n(c){return new r("table",c)}function r(c,u){u=u||{},this._elementType=c,this._styleId=u.styleId,this._styleName=u.styleName,u.list&&(this._listIndex=u.list.levelIndex,this._listIsOrdered=u.list.isOrdered)}r.prototype.matches=function(c){return c.type===this._elementType&&(this._styleId===void 0||c.styleId===this._styleId)&&(this._styleName===void 0||c.styleName&&this._styleName.operator(this._styleName.operand,c.styleName))&&(this._listIndex===void 0||i(c,this._listIndex,this._listIsOrdered))&&(this._breakType===void 0||this._breakType===c.breakType)};function i(c,u,f){return c.numbering&&c.numbering.level==u&&c.numbering.isOrdered==f}function s(c){return{operator:o,operand:c}}function a(c){return{operator:l,operand:c}}function o(c,u){return c.toUpperCase()===u.toUpperCase()}function l(c,u){return u.toUpperCase().indexOf(c.toUpperCase())===0}return qi}var vA={},fB;function wUe(){if(fB)return vA;fB=1;var t=QY(),e=t.RegexTokeniser;vA.tokenise=r;var n="'((?:\\\\.|[^'])*)";function r(i){var s="(?:[a-zA-Z\\-_]|\\\\.)",a=new e([{name:"identifier",regex:new RegExp("("+s+"(?:"+s+"|[0-9])*)")},{name:"dot",regex:/\./},{name:"colon",regex:/:/},{name:"gt",regex:/>/},{name:"whitespace",regex:/\s+/},{name:"arrow",regex:/=>/},{name:"equals",regex:/=/},{name:"startsWith",regex:/\^=/},{name:"open-paren",regex:/\(/},{name:"close-paren",regex:/\)/},{name:"open-square-bracket",regex:/\[/},{name:"close-square-bracket",regex:/\]/},{name:"string",regex:new RegExp(n+"'")},{name:"unterminated-string",regex:new RegExp(n)},{name:"integer",regex:/([0-9]+)/},{name:"choice",regex:/\|/},{name:"bang",regex:/(!)/}]);return a.tokenise(i)}return vA}var hB;function TUe(){if(hB)return o0;hB=1;var t=ri,e=QY(),n=bUe(),r=aT(),i=wUe().tokenise,s=vc();o0.readHtmlPath=u,o0.readDocumentMatcher=l,o0.readStyle=a;function a(N){return C(D,N)}function o(){return e.rules.sequence(e.rules.sequence.capture(c()),e.rules.tokenOfType("whitespace"),e.rules.tokenOfType("arrow"),e.rules.sequence.capture(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("whitespace"),e.rules.sequence.capture(f())).head())),e.rules.tokenOfType("end")).map(function(N,k){return{from:N,to:k.valueOrElse(r.empty)}})}function l(N){return C(c(),N)}function c(){var N=e.rules.sequence,k=function(fe,De){return e.rules.then(e.rules.token("identifier",fe),function(){return De})},F=k("p",n.paragraph),P=k("r",n.run),I=e.rules.firstOf("p or r or table",F,P),U=e.rules.sequence(e.rules.tokenOfType("dot"),e.rules.sequence.cut(),e.rules.sequence.capture(h)).map(function(fe){return{styleId:fe}}),O=e.rules.firstOf("style name matcher",e.rules.then(e.rules.sequence(e.rules.tokenOfType("equals"),e.rules.sequence.cut(),e.rules.sequence.capture(v)).head(),function(fe){return{styleName:n.equalTo(fe)}}),e.rules.then(e.rules.sequence(e.rules.tokenOfType("startsWith"),e.rules.sequence.cut(),e.rules.sequence.capture(v)).head(),function(fe){return{styleName:n.startsWith(fe)}})),K=e.rules.sequence(e.rules.tokenOfType("open-square-bracket"),e.rules.sequence.cut(),e.rules.token("identifier","style-name"),e.rules.sequence.capture(O),e.rules.tokenOfType("close-square-bracket")).head(),X=e.rules.firstOf("list type",k("ordered-list",{isOrdered:!0}),k("unordered-list",{isOrdered:!1})),J=N(e.rules.tokenOfType("colon"),N.capture(X),N.cut(),e.rules.tokenOfType("open-paren"),N.capture(p),e.rules.tokenOfType("close-paren")).map(function(fe,De){return{list:{isOrdered:fe.isOrdered,levelIndex:De-1}}});function ne(fe){var De=e.rules.firstOf.apply(e.rules.firstOf,["matcher suffix"].concat(fe)),Pe=e.rules.zeroOrMore(De);return e.rules.then(Pe,function(me){var je={};return me.forEach(function(V){t.extend(je,V)}),je})}var z=N(N.capture(I),N.capture(ne([U,K,J]))).map(function(fe,De){return fe(De)}),Q=N(e.rules.token("identifier","table"),N.capture(ne([U,K]))).map(function(fe){return n.table(fe)}),B=k("b",n.bold),j=k("i",n.italic),W=k("u",n.underline),G=k("strike",n.strikethrough),Y=k("all-caps",n.allCaps),ee=k("small-caps",n.smallCaps),ae=k("comment-reference",n.commentReference),de=N(e.rules.token("identifier","br"),N.cut(),e.rules.tokenOfType("open-square-bracket"),e.rules.token("identifier","type"),e.rules.tokenOfType("equals"),N.capture(v),e.rules.tokenOfType("close-square-bracket")).map(function(fe){switch(fe){case"line":return n.lineBreak;case"page":return n.pageBreak;case"column":return n.columnBreak}});return e.rules.firstOf("element type",z,Q,B,j,W,G,Y,ee,ae,de)}function u(N){return C(f(),N)}function f(){var N=e.rules.sequence.capture,k=e.rules.tokenOfType("whitespace"),F=e.rules.then(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("colon"),e.rules.token("identifier","fresh"))),function(O){return O.map(function(){return!0}).valueOrElse(!1)}),P=e.rules.then(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("colon"),e.rules.token("identifier","separator"),e.rules.tokenOfType("open-paren"),N(v),e.rules.tokenOfType("close-paren")).head()),function(O){return O.valueOrElse("")}),I=e.rules.oneOrMoreWithSeparator(h,e.rules.tokenOfType("choice")),U=e.rules.sequence(N(I),N(e.rules.zeroOrMore(w)),N(F),N(P)).map(function(O,K,X,J){var ne={},z={};return K.forEach(function(Q){Q.append&&ne[Q.name]?ne[Q.name]+=" "+Q.value:ne[Q.name]=Q.value}),X&&(z.fresh=!0),J&&(z.separator=J),r.element(O,ne,z)});return e.rules.firstOf("html path",e.rules.then(e.rules.tokenOfType("bang"),function(){return r.ignore}),e.rules.then(e.rules.zeroOrMoreWithSeparator(U,e.rules.sequence(k,e.rules.tokenOfType("gt"),k)),r.elements))}var h=e.rules.then(e.rules.tokenOfType("identifier"),y),p=e.rules.tokenOfType("integer"),v=e.rules.then(e.rules.tokenOfType("string"),y),g={n:`
`,r:"\r",t:"	"};function y(N){return N.replace(/\\(.)/g,function(k,F){return g[F]||F})}var b=e.rules.sequence(e.rules.tokenOfType("open-square-bracket"),e.rules.sequence.cut(),e.rules.sequence.capture(h),e.rules.tokenOfType("equals"),e.rules.sequence.capture(v),e.rules.tokenOfType("close-square-bracket")).map(function(N,k){return{name:N,value:k,append:!1}}),_=e.rules.sequence(e.rules.tokenOfType("dot"),e.rules.sequence.cut(),e.rules.sequence.capture(h)).map(function(N){return{name:"class",value:N,append:!0}}),w=e.rules.firstOf("attribute or class",b,_);function C(N,k){var F=i(k),P=e.Parser(),I=P.parseTokens(N,F);return I.isSuccess()?s.success(I.value()):new s.Result(null,[s.warning(S(k,I))])}function S(N,k){return"Did not understand this style mapping, so ignored it: "+N+`
`+k.errors().map(R).join(`
`)}function R(N){return"Error was at character number "+N.characterNumber()+": Expected "+N.expected+" but got "+N.actual}var D=o();return o0}var l0={},pB;function EUe(){if(pB)return l0;pB=1,l0.readOptions=r;var t=ri,e=l0._defaultStyleMap=["p.Heading1 => h1:fresh","p.Heading2 => h2:fresh","p.Heading3 => h3:fresh","p.Heading4 => h4:fresh","p.Heading5 => h5:fresh","p.Heading6 => h6:fresh","p[style-name='Heading 1'] => h1:fresh","p[style-name='Heading 2'] => h2:fresh","p[style-name='Heading 3'] => h3:fresh","p[style-name='Heading 4'] => h4:fresh","p[style-name='Heading 5'] => h5:fresh","p[style-name='Heading 6'] => h6:fresh","p[style-name='heading 1'] => h1:fresh","p[style-name='heading 2'] => h2:fresh","p[style-name='heading 3'] => h3:fresh","p[style-name='heading 4'] => h4:fresh","p[style-name='heading 5'] => h5:fresh","p[style-name='heading 6'] => h6:fresh","r[style-name='Strong'] => strong","p[style-name='footnote text'] => p:fresh","r[style-name='footnote reference'] =>","p[style-name='endnote text'] => p:fresh","r[style-name='endnote reference'] =>","p[style-name='annotation text'] => p:fresh","r[style-name='annotation reference'] =>","p[style-name='Footnote'] => p:fresh","r[style-name='Footnote anchor'] =>","p[style-name='Endnote'] => p:fresh","r[style-name='Endnote anchor'] =>","p:unordered-list(1) => ul > li:fresh","p:unordered-list(2) => ul|ol > li > ul > li:fresh","p:unordered-list(3) => ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:ordered-list(1) => ol > li:fresh","p:ordered-list(2) => ul|ol > li > ol > li:fresh","p:ordered-list(3) => ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","r[style-name='Hyperlink'] =>","p[style-name='Normal'] => p:fresh"],n=l0._standardOptions={transformDocument:s,includeDefaultStyleMap:!0,includeEmbeddedStyleMap:!0};function r(a){return a=a||{},t.extend({},n,a,{customStyleMap:i(a.styleMap),readStyleMap:function(){var o=this.customStyleMap;return this.includeEmbeddedStyleMap&&(o=o.concat(i(this.embeddedStyleMap))),this.includeDefaultStyleMap&&(o=o.concat(e)),o}})}function i(a){return a?t.isString(a)?a.split(`
`).map(function(o){return o.trim()}).filter(function(o){return o!==""&&o.charAt(0)!=="#"}):a:[]}function s(a){return a}return l0}var xA={},mB;function CUe(){if(mB)return xA;mB=1;var t=cd(),e=BY();xA.openZip=n;function n(r){return r.arrayBuffer?t.resolve(e.openArrayBuffer(r.arrayBuffer)):t.reject(new Error("Could not find file in options"))}return xA}var Md={},gB;function SUe(){if(gB)return Md;gB=1;var t=ri;Md.paragraph=e,Md.run=n,Md._elements=i,Md.getDescendantsOfType=s,Md.getDescendants=a;function e(l){return r("paragraph",l)}function n(l){return r("run",l)}function r(l,c){return i(function(u){return u.type===l?c(u):u})}function i(l){return function c(u){if(u.children){var f=t.map(u.children,c);u=t.extend(u,{children:f})}return l(u)}}function s(l,c){return a(l).filter(function(u){return u.type===c})}function a(l){var c=[];return o(l,function(u){c.push(u)}),c}function o(l,c){l.children&&l.children.forEach(function(u){o(u,c),c(u)})}return Md}var _A={},yB;function DUe(){if(yB)return _A;yB=1;var t=aT(),e=sT();_A.element=n;function n(r){return function(i){return e.elementWithTag(t.element(r),[i])}}return _A}var vB;function AUe(){if(vB)return Va;vB=1;var t=ri,e=oUe(),n=lUe(),r=hUe().DocumentConverter,i=pUe().convertElementToRawText,s=TUe().readStyle,a=EUe().readOptions,o=CUe(),l=vc().Result;Va.convertToHtml=c,Va.convertToMarkdown=u,Va.convert=f,Va.extractRawText=g,Va.images=GY(),Va.transforms=SUe(),Va.underline=DUe(),Va.embedStyleMap=y,Va.readEmbeddedStyleMap=h;function c(b,_){return f(b,_)}function u(b,_){var w=Object.create(_||{});return w.outputFormat="markdown",f(b,w)}function f(b,_){return _=a(_),o.openZip(b).tap(function(w){return n.readStyleMap(w).then(function(C){_.embeddedStyleMap=C})}).then(function(w){return e.read(w,b).then(function(C){return C.map(_.transformDocument)}).then(function(C){return p(C,_)})})}function h(b){return o.openZip(b).then(n.readStyleMap)}function p(b,_){var w=v(_.readStyleMap()),C=t.extend({},_,{styleMap:w.value}),S=new r(C);return b.flatMapThen(function(R){return w.flatMapThen(function(D){return S.convertToHtml(R)})})}function v(b){return l.combine((b||[]).map(s)).map(function(_){return _.filter(function(w){return!!w})})}function g(b){return o.openZip(b).then(e.read).then(function(_){return _.map(i)})}function y(b,_){return o.openZip(b).tap(function(w){return n.writeStyleMap(w,_)}).then(function(w){return w.toArrayBuffer()}).then(function(w){return{toArrayBuffer:function(){return w},toBuffer:function(){return Buffer.from(w)}}})}return Va.styleMapping=function(){throw new Error(`Use a raw string instead of mammoth.styleMapping e.g. "p[style-name='Title'] => h1" instead of mammoth.styleMapping("p[style-name='Title'] => h1")`)},Va}var NUe=AUe();const IUe={locale:"ar",messages:{ar:{assetManager:{title:" ",upload:" ",add:"","add-image":" ","drop-files":"      ",close:""},styleManager:{title:" ","no-properties":"   ",properties:{width:"",height:"",padding:" ",margin:" ","background-color":" ",color:" ","font-family":" ","font-size":" ",border:"","text-align":" ",top:"",right:"",bottom:"",left:""}},layerManager:{title:"",root:""},blockManager:{title:"","search-placeholder":"..."},traitManager:{title:" ",traits:{alt:" ",title:"",href:""}},selectorManager:{title:" (Classes)","label-state":"","selected-title":"","empty-state":"  ",states:{hover:" ",active:" ","nth-of-type(2n)":"/"}},panels:{buttons:{titles:{preview:"",fullscreen:" ","export-template":" ","sw-visibility":" ","open-sm":"","open-tm":"","open-layers":"","open-blocks":"","device-desktop":" ","device-tablet":" ","device-mobile":"",undo:"",redo:""}}},"grapesjs-preset-webpage":{blocks:{text:{name:""},image:{name:""},link:{name:""},video:{name:""},map:{name:""},column1:{name:" "},column2:{name:""},column3:{name:"3 "},quote:{name:""},section:{name:""},divider:{name:""}}}}}},xB={:"red",:"red",:"blue",:"blue",:"green",:"green",:"yellow",:"yellow",:"black",:"black",:"white",:"white",:"orange",:"purple",:"pink",:"gray",:"red",:"red",:"blue",:"blue",:"green",:"green",:"yellow",:"yellow",:"black",:"black",:"white",:"white",:"orange",:"purple",:"pink",:"gray"},kUe={bold:/(|| | | | | |  |  |    | | | | ||||| )/i,increaseFontSize:/(|  | | |  |  |  | |  |  | ||| | )/i,justifyCenter:/(|  | |  |  | | |   |  |   | |  |  | |||)/i,justifyRight:/(|  | |  | | |   |  |   | |  |  | ||)/i,justifyLeft:/(|  | |  | | |   |  |   | |  |  | ||)/i,underline:/(|  |  |  |  |  | |    |   | |  | |  ||| | | )/i,foreColor:/( | | | )?(|||||||||||||||)/i,backColor:/( |  |  )?(|||||||||||||||)/i,cut:/(| || |  )/i,copy:/(||| |  )/i,paste:/(|| | )/i,delete:/(||| )/i,replaceImage:/( | ||)/i},RUe=t=>t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,""),ZY=({initialContent:t,docToEdit:e,onClose:n})=>{const{user:r}=Ar(),{cafes:i,codes:s}=rn(),a=q.useMemo(()=>s.map(V=>V.key),[s]),[o,l]=q.useState("visual"),[c,u]=q.useState(t.body),[f,h]=q.useState(t.styles),[p,v]=q.useState((e==null?void 0:e.name)||t.name),[g,y]=q.useState((e==null?void 0:e.description)||""),[b,_]=q.useState((e==null?void 0:e.tags)||""),w=q.useRef(null),C=q.useRef(null),S=q.useRef(null),[R,D]=q.useState(!1),N=q.useRef(null),k=q.useRef(null),F=q.useRef(null),[P,I]=q.useState(!1),[U,O]=q.useState(""),[K,X]=q.useState(!1),[J,ne]=q.useState(!1),[z,Q]=q.useState(!1),[B,j]=q.useState(null),W=q.useRef(null),G=q.useRef(!1);q.useEffect(()=>{const V=ye=>{W.current&&!W.current.contains(ye.target)&&ne(!1)};return document.addEventListener("mousedown",V),()=>document.removeEventListener("mousedown",V)},[]),q.useEffect(()=>{if(o==="visual"){const V=w.current;if(V){const ye=V.contentDocument;if(ye){const be=`<!DOCTYPE html><html lang="ar" dir="rtl"><head><meta charset="UTF-8"><style>${f}</style></head><body>${c}</body></html>`;ye.open(),ye.write(be),ye.close(),ye.body.contentEditable="true"}}}else if(o==="grapesjs"&&!S.current&&C.current){const V=grapesjs.init({container:C.current,plugins:["gjs-preset-webpage"],pluginsOpts:{"gjs-preset-webpage":{forms:!1,navbar:!1}},storageManager:!1,canvas:{styles:["https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap"]},i18n:IUe});V.setComponents(c),V.setStyle(f),S.current=V}},[o,c,f]);const Y=q.useCallback(V=>{var be,oe;const ye=(be=w.current)==null?void 0:be.contentDocument;if(ye)for(const[re,le]of Object.entries(kUe)){const he=V.match(le);if(he){if(re==="replaceImage"){const _e=ye.getSelection();if(_e&&!_e.isCollapsed&&_e.rangeCount>0){const ce=_e.getRangeAt(0).commonAncestorContainer;let ge=null;ce.nodeName==="IMG"?ge=ce:ce.nodeType===Node.ELEMENT_NODE&&(ge=ce.querySelector("img")),ge&&(F.current=ge,(oe=k.current)==null||oe.click())}return}if(re==="foreColor"||re==="backColor"){const _e=he.find(ie=>ie&&xB[ie]);if(_e){const ie=xB[_e],ce=re==="foreColor"?"foreColor":"hiliteColor",ge=ye.getSelection();ce==="hiliteColor"&&(ge!=null&&ge.isCollapsed)?ye.body.style.backgroundColor=ie:ye.execCommand(ce,!1,ie)}}else ye.execCommand(re,!1,void 0);return}}},[]);q.useEffect(()=>{const V=window.SpeechRecognition||window.webkitSpeechRecognition;if(V)return N.current=new V,N.current.continuous=!0,N.current.interimResults=!1,N.current.lang="ar-SA",N.current.onstart=()=>{G.current=!0,D(!0)},N.current.onend=()=>{if(G.current){console.log("Speech recognition stopped unexpectedly. Restarting...");try{N.current.start()}catch(ye){console.error("Could not restart speech recognition:",ye),G.current=!1,D(!1)}}else D(!1)},N.current.onerror=ye=>{console.error("Speech error:",ye.error),G.current=!1,D(!1)},N.current.onresult=ye=>{let be="";for(let oe=ye.resultIndex;oe<ye.results.length;++oe)ye.results[oe].isFinal&&(be+=ye.results[oe][0].transcript);be.trim()&&Y(be.trim())},()=>{G.current=!1,N.current&&N.current.abort()}},[Y]);const ee=()=>{var V;o==="visual"&&w.current?(u(((V=w.current.contentDocument)==null?void 0:V.body.innerHTML)||c),l("grapesjs")):o==="grapesjs"&&S.current&&(u(S.current.getHtml()),h(S.current.getCss()),S.current.destroy(),S.current=null,l("visual"))},ae=async()=>{var V;I(!0),O("");try{let ye=c,be=f;o==="grapesjs"&&S.current?(ye=S.current.getHtml(),be=S.current.getCss()):o==="visual"&&w.current&&(ye=((V=w.current.contentDocument)==null?void 0:V.body.innerHTML)||c);const oe=V0(ye);await xme({previewHtml:ye,templateHtml:ye,sharedStyles:be,fileNameBase:e?e.id:RUe(p),docToEdit:e,prompt:p,description:g,tags:b,requiredFields:oe,complexFields:(e==null?void 0:e.complexFields)||[]}),alert("   !"),n()}catch(ye){console.error("Publishing error:",ye),O(ye instanceof Error?ye.message:"     .")}finally{I(!1)}},de=V=>{var be;const ye=(be=V.target.files)==null?void 0:be[0];if(ye&&F.current){const oe=new FileReader;oe.onload=re=>{var le;F.current&&((le=re.target)!=null&&le.result)&&(F.current.src=re.target.result),F.current=null,V.target&&(V.target.value="")},oe.readAsDataURL(ye)}},fe=()=>{const V=w.current;if(V&&V.contentDocument){const ye=window.open("","_blank");ye==null||ye.document.write(`<html><head><title>Print</title><style>${f}</style></head><body>${V.contentDocument.body.innerHTML}</body></html>`),ye==null||ye.document.close(),ye==null||ye.focus(),ye==null||ye.print()}},De=()=>{N.current&&(R?(G.current=!1,N.current.stop()):(G.current=!0,N.current.start()))},Pe=async()=>{var V,ye;ne(!1),Q(!0),O("");try{const be=((ye=(V=w.current)==null?void 0:V.contentDocument)==null?void 0:ye.body.innerHTML)||c,oe=age(be,a);u("");for await(const re of oe)u(le=>le+re)}catch(be){O(be instanceof Error?be.message:"AI task failed.")}finally{Q(!1)}},me=async()=>{var V,ye;ne(!1),Q(!0),O("");try{const be=((ye=(V=w.current)==null?void 0:V.contentDocument)==null?void 0:ye.body.innerHTML)||c,oe=await oge(be);j(JSON.stringify(oe,null,2))}catch(be){O(be instanceof Error?be.message:"AI task failed.")}finally{Q(!1)}},je=()=>{if(!B)return;const V=new Blob([B],{type:"application/json"}),ye=URL.createObjectURL(V),be=document.createElement("a");be.href=ye,be.download=`${p.replace(/\s+/g,"_")}.json`,document.body.appendChild(be),be.click(),document.body.removeChild(be),URL.revokeObjectURL(ye)};return d.jsxs("div",{className:"fixed inset-0 bg-gray-800 z-[100] flex flex-col p-4",children:[d.jsx("input",{type:"file",ref:k,onChange:de,accept:"image/*",className:"hidden"}),d.jsxs("header",{className:"flex-shrink-0 bg-gray-900 text-white p-3 flex justify-between items-center rounded-t-lg",children:[d.jsx("h2",{className:"font-bold",children:o==="visual"?"  /":"  (GrapesJS)"}),d.jsxs("div",{className:"flex items-center gap-3",children:[o==="visual"&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:De,className:`p-2 rounded-full transition-colors ${R?"bg-red-500 text-white animate-pulse":"bg-gray-700 hover:bg-gray-600"}`,title:"/  ",children:R?d.jsx(mc,{}):d.jsx(ek,{})}),d.jsxs("div",{className:"relative",ref:W,children:[d.jsx("button",{onClick:()=>ne(V=>!V),className:"p-2 bg-purple-600 hover:bg-purple-700 rounded-full text-white",title:"  ",disabled:z,children:z?d.jsx(St,{className:"animate-spin"}):d.jsx(ea,{})}),J&&d.jsx("div",{className:"absolute top-full right-0 mt-2 w-64 bg-white rounded-lg shadow-xl border z-10",children:d.jsxs("ul",{className:"py-1 text-gray-700 text-sm",children:[d.jsx("li",{children:d.jsx("button",{onClick:Pe,className:"w-full text-right px-4 py-2 hover:bg-gray-100",children:"   (Placeholders)"})}),d.jsx("li",{children:d.jsx("button",{onClick:me,className:"w-full text-right px-4 py-2 hover:bg-gray-100",children:"   (JSON)"})})]})})]}),d.jsx("button",{onClick:()=>X(!0),className:"p-2 bg-gray-700 hover:bg-gray-600 rounded-full",title:" ",children:d.jsx(JI,{})})]}),d.jsx("button",{onClick:ee,className:"p-2 bg-gray-700 hover:bg-gray-600 rounded-full",title:o==="visual"?"   ":"   ",children:o==="visual"?d.jsx(hw,{}):d.jsx(V4,{})}),d.jsxs("button",{onClick:fe,className:"bg-blue-600 hover:bg-blue-700 p-2 rounded-md",title:"",children:[" ",d.jsx(gw,{})," "]}),d.jsxs("button",{onClick:ae,disabled:P,className:"bg-green-600 hover:bg-green-700 p-2 rounded-md",title:" ",children:[" ",P?d.jsx(St,{className:"animate-spin"}):d.jsx(yw,{})," "]}),d.jsxs("button",{onClick:n,className:"bg-red-600 hover:bg-red-700 p-2 rounded-full",title:"  ",children:[" ",d.jsx(Nf,{})," "]})]})]}),U&&d.jsx("p",{className:"text-red-400 bg-red-900 p-2 text-xs text-center",children:U}),d.jsx("div",{className:"flex-grow bg-gray-700 p-2 rounded-b-lg",children:o==="visual"?d.jsx("iframe",{ref:w,title:"Visual Editor",className:"w-full h-full border-0 bg-white shadow-lg"}):d.jsx("div",{ref:C,className:"h-full",id:"gjs-editor"})}),K&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-[101] flex justify-center items-center p-4",onClick:()=>X(!1),children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl text-gray-800",onClick:V=>V.stopPropagation(),children:[d.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[d.jsx("h2",{className:"text-2xl font-bold",children:" "}),d.jsx("button",{onClick:()=>X(!1),className:"text-gray-400 hover:text-gray-600",children:d.jsx(Nf,{size:20})})]}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"docNameModal",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",id:"docNameModal",value:p,onChange:V=>v(V.target.value),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"docDescriptionModal",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("textarea",{id:"docDescriptionModal",rows:3,value:g,onChange:V=>y(V.target.value),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"docTagsModal",className:"block text-sm font-medium text-gray-700 mb-1",children:" ( )"}),d.jsx("input",{type:"text",id:"docTagsModal",value:b,onChange:V=>_(V.target.value),placeholder:":  , , ",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]})]}),d.jsx("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:d.jsx("button",{type:"button",onClick:()=>X(!1),className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:" "})})]})}),B&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-[102] flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl text-gray-800 flex flex-col h-[70vh]",children:[d.jsx("h3",{className:"p-4 border-b font-bold text-lg",children:" JSON "}),d.jsx("pre",{className:"flex-grow p-4 bg-gray-900 text-green-300 text-sm overflow-auto",dir:"ltr",children:B}),d.jsxs("div",{className:"p-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{onClick:()=>j(null),className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg",children:""}),d.jsx("button",{onClick:je,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg",children:""})]})]})})]})},PUe=t=>{const e=t.match(/\d+/);return e?parseInt(e[0],10):null},FUe=(t,e)=>{let n=t.toLowerCase().trim();const r={actions:[],raw:t};for(const o of e.actions.replace){const l=new RegExp(`${o}\\s+(.+)`),c=n.match(l);if(c&&c[1])return r.actions.push({intent:"replace",newText:c[1].trim()}),r}for(const o of e.actions.paste)for(const l of["before","after"])for(const c of e.positions[l]){const u=new RegExp(`${o}\\s+${c}\\s+(.+)`),f=n.match(u);if(f&&f[1])return r.actions.push({intent:"paste",pastePosition:l,pasteTarget:f[1].trim()}),r}for(const o of e.actions.createList)if(n.includes(o)){let l="bullet";e.listTypes.numbered.some(c=>n.includes(c))&&(l="numbered");for(const c of e.actions.addListItem){const u=n.indexOf(c);if(u!==-1){const f=n.substring(u+c.length).trim(),h=new RegExp(`\\s+(?:${e.listSeparators.newLine.join("|")}|${e.conjunctions.join("|")})\\s+`,"g"),p=f.split(h).map(v=>v.replace(new RegExp(`^(${e.actions.addListItem.join("|")})\\s*`),"").trim()).filter(Boolean);if(p.length>0)return r.actions.push({intent:"createList",listType:l,listItems:p}),r}}return r.actions.push({intent:"createList",listType:l,listItems:[]}),r}const i=[{intent:"delete",keywords:e.actions.delete},{intent:"copy",keywords:e.actions.copy},{intent:"paste",keywords:e.actions.paste},{intent:"addListItem",keywords:e.actions.addListItem},{intent:"newLine",keywords:e.listSeparators.newLine}];for(const o of i)for(const l of o.keywords)if(n.includes(l)){let c=n.replace(l,"").trim();return o.intent==="addListItem"&&c?r.actions.push({intent:"addListItem",value:c}):r.actions.push({intent:o.intent}),r}for(const o of e.targets.text){const l=new RegExp(`${o}\\s+([^]+)`),c=n.match(l);if(c&&c[1]){r.targetText=c[1].trim(),n=n.replace(c[0],"").trim();break}}const s=new RegExp(`\\s+(?:${e.conjunctions.join("|")})\\s+`,"g"),a=n.split(s).filter(o=>o&&o.trim()!=="");if(a.length===1&&e.general.next.some(o=>a[0].includes(o)))return r.actions.push({intent:"color",value:"random"}),r;for(const o of a){let l=!1;for(const c in e.colors)if(e.colors[c].some(u=>o.includes(u))){r.actions.push({intent:"color",value:c}),l=!0;break}if(!l){if(e.actions.changeColor.some(c=>o.includes(c))){r.actions.push({intent:"color",value:"random"}),l=!0;continue}if(e.actions.changeSize.some(c=>o.includes(c))){const c=PUe(o);c!==null?r.actions.push({intent:"size",value:`${c}px`}):e.sizeKeywords.increase.some(u=>o.includes(u))?r.actions.push({intent:"size",value:"+2px"}):e.sizeKeywords.decrease.some(u=>o.includes(u))&&r.actions.push({intent:"size",value:"-2px"}),l=!0;continue}if(e.actions.align.some(c=>o.includes(c))){for(const c in e.alignments)if(e.alignments[c].some(u=>o.includes(u))){r.actions.push({intent:"align",value:c}),l=!0;break}}if(!l&&e.actions.makeBold.some(c=>o.includes(c))){r.actions.push({intent:"bold",value:"true"}),l=!0;continue}}}return r},MUe={locale:"ar",messages:{ar:{assetManager:{title:" ",upload:" ",add:"","add-image":" ","drop-files":"      ",close:""},styleManager:{title:" ","no-properties":"   ",properties:{width:"",height:"",padding:" ",margin:" ","background-color":" ",color:" ","font-family":" ","font-size":" ",border:"","text-align":" ",top:"",right:"",bottom:"",left:""}},layerManager:{title:"",root:""},blockManager:{title:"","search-placeholder":"..."},traitManager:{title:" ",traits:{alt:" ",title:"",href:""}},selectorManager:{title:" (Classes)","label-state":"","selected-title":"","empty-state":"  ",states:{hover:" ",active:" ","nth-of-type(2n)":"/"}},panels:{buttons:{titles:{preview:"",fullscreen:" ","export-template":" ","sw-visibility":" ","open-sm":"","open-tm":"","open-layers":"","open-blocks":"","device-desktop":" ","device-tablet":" ","device-mobile":"",undo:"",redo:""}}},"grapesjs-preset-webpage":{blocks:{text:{name:""},image:{name:""},link:{name:""},video:{name:""},map:{name:""},column1:{name:" "},column2:{name:""},column3:{name:"3 "},quote:{name:""},section:{name:""},divider:{name:""}}}}}},UUe=[{id:"cv",name:"  ",url:"/data/templates/0-cv.html"},{id:"cv-with-photo",name:"   (1)",url:"/data/templates/0-cv-with-photo-1.html"},{id:"cv-with-photo-2",name:"   (2)",url:"/data/templates/0-cv-with-photo-2.html"},{id:"cv-with-photo-3",name:"   (3)",url:"/data/templates/0-cv-with-photo-3.html"},{id:"cv-with-photo-4",name:"   (4)",url:"/data/templates/0-cv-with-photo-4.html"},{id:"cv-with-photo-5",name:"   (5)",url:"/data/templates/0-cv-with-photo-5.html"},{id:"gov-form",name:" ",url:"/data/templates/0-gov-form.html"},{id:"linear-request",name:" ",url:"/data/templates/0-linear-request.html"},{id:"university-registration",name:" ",url:"/data/templates/0-university-registration.html"}],OUe=({onClose:t,onSelect:e})=>d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",onClick:t,children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl h-[90vh] flex flex-col",onClick:n=>n.stopPropagation(),children:[d.jsx("div",{className:"p-4 border-b",children:d.jsx("h2",{className:"text-xl font-bold",children:"  "})}),d.jsx("div",{className:"p-4 flex-grow overflow-y-auto",children:d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:UUe.map(n=>d.jsxs("div",{className:"border rounded-lg overflow-hidden group cursor-pointer",onClick:()=>e(n.url),children:[d.jsx("div",{className:"h-48 bg-gray-100 flex items-center justify-center",children:d.jsx("iframe",{src:n.url,className:"w-full h-full transform scale-[0.3] origin-top-left pointer-events-none border-0",title:n.name})}),d.jsx("div",{className:"p-3 bg-white",children:d.jsx("p",{className:"font-semibold text-sm truncate group-hover:text-green-600",children:n.name})})]},n.id))})}),d.jsx("div",{className:"px-6 py-4 bg-gray-50 flex justify-end",children:d.jsx("button",{type:"button",onClick:t,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""})})]})}),LUe=({onClose:t,onCapture:e})=>{const n=q.useRef(null),r=q.useRef(null),i=q.useRef(null),[s,a]=q.useState(null),[o,l]=q.useState(null),c=async()=>{l(null),a(null);try{const p=await navigator.mediaDevices.getUserMedia({video:{width:480,height:480}});i.current=p,n.current&&(n.current.srcObject=p)}catch(p){console.error("Error accessing camera:",p),p instanceof DOMException&&(p.name==="NotAllowedError"||p.name==="PermissionDeniedError")?l("    .      ."):l("    .          .")}};q.useEffect(()=>(c(),()=>{i.current&&i.current.getTracks().forEach(p=>p.stop())}),[]);const u=()=>{if(n.current&&r.current){const p=n.current,v=r.current;v.width=p.videoWidth,v.height=p.videoHeight;const g=v.getContext("2d");g==null||g.drawImage(p,0,0,v.width,v.height);const y=v.toDataURL("image/jpeg");a(y),i.current&&(i.current.getTracks().forEach(b=>b.stop()),i.current=null)}},f=()=>{c()},h=()=>{s&&(e(s),t())};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex justify-center items-center",children:d.jsxs("div",{className:"bg-white rounded-lg p-4 max-w-lg w-full",children:[d.jsx("h3",{className:"text-xl font-bold mb-4 text-center",children:" "}),d.jsxs("div",{className:"relative aspect-square bg-gray-900 rounded-md overflow-hidden flex items-center justify-center",children:[o?d.jsxs("div",{className:"p-4 text-center text-white",children:[d.jsx("p",{className:"font-semibold text-red-400",children:"  "}),d.jsx("p",{className:"text-sm mt-2",children:o})]}):s?d.jsx("img",{src:s,alt:"Captured",className:"w-full h-full object-contain"}):d.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),d.jsx("canvas",{ref:r,className:"hidden"})]}),d.jsxs("div",{className:"mt-4 flex justify-center gap-4",children:[s?d.jsxs(d.Fragment,{children:[d.jsx("button",{type:"button",onClick:f,className:"bg-gray-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-600",children:" "}),d.jsx("button",{type:"button",onClick:h,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700",children:" "})]}):d.jsx("button",{type:"button",onClick:u,disabled:!!o,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:""}),d.jsx("button",{type:"button",onClick:t,className:"bg-red-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-600",children:""})]})]})})},jUe=({initialContent:t,onExit:e,onPreview:n,editorRef:r})=>{const{user:i}=Ar(),{cafes:s,documentCommands:a}=rn(),o=q.useRef(null),[l,c]=q.useState((t==null?void 0:t.name)||" "),[u,f]=q.useState(!1),[h,p]=q.useState(""),[v,g]=q.useState(!1),[y,b]=q.useState(!1),_=q.useRef(null),[w,C]=q.useState(!1),[S,R]=q.useState({top:0,left:0,visible:!1,component:null,type:null}),D=q.useRef(null),[N,k]=q.useState(""),F=q.useMemo(()=>s.find(j=>j.id===(i==null?void 0:i.cafeId)),[s,i]),P=(F==null?void 0:F.speechToTextLanguage)||"ar-SA",I=window.SpeechRecognition||window.webkitSpeechRecognition,U=q.useRef(null),O=q.useRef(!1),K=q.useCallback(j=>{if(!a||!r.current)return;const W=r.current,G=W.getRichTextEditor(),Y=FUe(j,a);let ee=W.getSelected();if(!ee&&Y.targetText){const ae=W.getComponents(),de=(fe,De)=>{var Pe;for(const me of fe.models){if((Pe=me.get("content"))!=null&&Pe.includes(De))return me;const je=de(me.components(),De);if(je)return je}return null};ee=de(ae,Y.targetText),ee&&W.select(ee)}ee||(ee=D.current);for(const ae of Y.actions)switch(ae.intent){case"color":{let de=ae.value;if(de==="random"){const fe=Object.keys(a.colors);de=fe[Math.floor(Math.random()*fe.length)]}ee&&ee.setStyle({...ee.getStyle(),color:de});break}case"size":{if(ee){const de=ee.getStyle(),fe=ae.value;if(fe.startsWith("+")||fe.startsWith("-")){const De=parseInt(de["font-size"]||"16px",10),Pe=parseInt(fe,10);ee.setStyle({...de,"font-size":`${De+Pe}px`})}else ee.setStyle({...de,"font-size":fe})}break}case"align":ee&&ee.setStyle({...ee.getStyle(),"text-align":ae.value});break;case"bold":if(ee){const de=ee.getStyle()["font-weight"]==="bold";ee.setStyle({...ee.getStyle(),"font-weight":de?"normal":"bold"})}break;case"replace":ae.newText&&G&&G.insertHTML(ae.newText);break;case"delete":ee?ee.remove():G&&G.exec("delete");break;case"copy":ee&&k(ee.toHTML());break;case"paste":if(N)if(ae.pasteTarget&&ae.pastePosition){const de=W.getWrapper().find("div, p, span, h1, h2, h3, h4, h5, h6");let fe=!1;de.forEach(De=>{var Pe;if(!fe&&(Pe=De.get("content"))!=null&&Pe.includes(ae.pasteTarget)){const me=De.parent(),je=De.index();me.append(N,{at:ae.pastePosition==="after"?je+1:je}),fe=!0}})}else G.insertHTML(N);break;case"createList":{const de=ae.listType==="numbered"?"ol":"ul";let fe=`<${de}>`;ae.listItems&&ae.listItems.length>0?fe+=ae.listItems.map(De=>`<li>${De}</li>`).join(""):fe+="<li> </li>",fe+=`</${de}>`,G.insertHTML(fe);break}case"addListItem":{const de=W.getSelected(),fe=de==null?void 0:de.closest("ul, ol");fe&&fe.append(`<li>${ae.value||" "}</li>`);break}case"newLine":{const de=W.getSelected(),fe=de==null?void 0:de.closest("ul, ol");fe&&fe.append("<li></li>");break}}ee&&(D.current=ee)},[a,r,N]);q.useEffect(()=>{if(!I)return;const j=new I;return U.current=j,j.continuous=!0,j.interimResults=!1,j.lang=P,j.onstart=()=>C(!0),j.onend=()=>{if(O.current){console.log("Document Studio: Speech recognition ended, attempting restart.");try{j.start()}catch(W){console.error("Document Studio: Could not restart recognition",W),O.current=!1,C(!1)}}else C(!1)},j.onresult=W=>{const G=W.results[W.results.length-1][0].transcript.trim();G&&K(G)},j.onerror=W=>{console.error("Speech recognition error:",W.error),O.current=!1,C(!1)},()=>{U.current&&(O.current=!1,U.current.abort())}},[I,P,K]);const X=q.useCallback(()=>{if(!I)return;const j=U.current;w?(O.current=!1,j==null||j.stop()):(O.current=!0,j==null||j.start())},[I,w]);q.useEffect(()=>{if(r.current||!o.current)return;const j=grapesjs.init({container:o.current,plugins:["gjs-preset-webpage"],pluginsOpts:{"gjs-preset-webpage":{forms:!1,navbar:!1}},storageManager:!1,assetManager:{custom:!0},canvas:{styles:["https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap"]},i18n:MUe});return j.setComponents(t.body),j.setStyle(t.styles),j.on("component:toggled",W=>{const G=j.Canvas.getElement(),Y=W.getEl();if(D.current=W,Y){const{top:ee,left:ae}=Y.getBoundingClientRect(),de=G.getBoundingClientRect(),fe=W.is("image"),De=W.get("type")==="text";R(fe||De?{top:ee+de.top-45,left:ae+de.left,visible:!0,component:W,type:fe?"image":"text"}:Pe=>({...Pe,visible:!1}))}else R(ee=>({...ee,visible:!1}))}),r.current=j,()=>{r.current&&(r.current.destroy(),r.current=null)}},[t,r]);const J=q.useCallback(()=>{if(!S.component)return;const j=window.prompt("   :");j&&S.component.set("src",j)},[S.component]),ne=q.useCallback(j=>{var G;const W=(G=j.target.files)==null?void 0:G[0];if(W&&S.component){const Y=new FileReader;Y.onload=ee=>{var ae;S.component.set("src",(ae=ee.target)==null?void 0:ae.result)},Y.readAsDataURL(W)}},[S.component]),z=q.useCallback(j=>{S.component&&S.component.set("src",j),g(!1)},[S.component]),Q=q.useCallback(async()=>{if(!S.component)return;const j=window.prompt("     :");if(j){b(!0);try{const W=await lge(j);if(W.base64Image){const G=`data:image/jpeg;base64,${W.base64Image}`;S.component.set("src",G)}}catch{alert("  .")}finally{b(!1)}}},[S.component]),B=async()=>{const j=i==null?void 0:i.cafeId,W=r.current;if(!j||!W){p("      .");return}f(!0),p("");try{const G=W.getHtml(),Y=W.getCss(),ee=l.toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]/g,""),ae=`<!DOCTYPE html><html lang="ar" dir="rtl"><head><meta charset="UTF-8"><title>${l}</title><style>${Y}</style></head><body>${G}</body></html>`,de=new File([ae],`0-${ee}.html`,{type:"text/html"}),fe=new File([ae],`${ee}.html`,{type:"text/html"}),[De,Pe]=await Promise.all([fm(de),fm(fe)]),me={id:ee,groupId:ee,name:l,description:"     ",countryCode:i.countryCode,requiredFields:[],previewTemplateUrl:De,finalTemplateUrl:Pe,cafeId:j};await cl.create(me),alert(`   "${me.name}" !`),e()}catch(G){console.error("Publishing error:",G),p(G instanceof Error?G.message:"     .")}finally{f(!1)}};return d.jsxs("div",{className:"flex flex-col h-full p-6",children:[d.jsx("input",{type:"file",ref:_,onChange:ne,accept:"image/*",className:"hidden"}),v&&d.jsx(LUe,{onClose:()=>g(!1),onCapture:z}),d.jsxs("div",{className:"flex-shrink-0 flex justify-between items-center mb-4",children:[d.jsx("button",{onClick:e,className:"text-sm bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:"   "}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("button",{onClick:n,className:"flex items-center justify-center gap-2 bg-gray-500 text-white font-bold py-3 px-6 rounded-lg hover:bg-gray-600",children:[d.jsx(C$,{}),d.jsx("span",{children:""})]}),d.jsxs("button",{onClick:B,disabled:u,className:"flex items-center justify-center gap-2 bg-green-700 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-800 disabled:bg-gray-400",children:[u?d.jsx(St,{className:"animate-spin"}):d.jsx(yw,{}),d.jsx("span",{children:u?" ...":"  "})]})]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"doc-name",className:"block text-sm font-medium text-gray-700 mb-1",children:"  ( )"}),d.jsx("input",{type:"text",id:"doc-name",value:l,onChange:j=>c(j.target.value),className:"w-full p-3 border rounded-lg"})]}),h&&d.jsx("p",{className:"text-red-500 text-sm mb-2 text-center",children:h}),S.visible&&d.jsxs("div",{className:"absolute z-40 bg-white shadow-lg rounded-lg flex items-center gap-2 p-2 border",style:{top:S.top,left:S.left},children:[S.type==="text"&&d.jsx("button",{onClick:X,disabled:!I,className:`p-2 rounded-md transition-colors ${w?"bg-red-100 text-red-700 animate-pulse":"hover:bg-gray-100"}`,title:"     ",children:w?d.jsx(mc,{}):d.jsx(ek,{})}),S.type==="image"&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:J,className:"p-2 hover:bg-gray-100 rounded-md",title:" ",children:d.jsx(I$,{})}),d.jsx("button",{onClick:()=>{var j;return(j=_.current)==null?void 0:j.click()},className:"p-2 hover:bg-gray-100 rounded-md",title:" ",children:d.jsx(Sl,{})}),d.jsx("button",{onClick:()=>g(!0),className:"p-2 hover:bg-gray-100 rounded-md",title:" ",children:d.jsx(Vm,{})}),d.jsx("button",{onClick:Q,disabled:y,className:"p-2 hover:bg-gray-100 rounded-md",title:"  ",children:y?d.jsx(St,{className:"animate-spin"}):d.jsx(ea,{})})]})]}),d.jsx("div",{ref:o,className:"flex-grow",id:"gjs"})]})},BUe=()=>{const{user:t}=Ar(),{fullDocuments:e,loadingFullDocuments:n,documentCommands:r}=rn(),[i,s]=q.useState("dashboard"),[a,o]=q.useState(null),[l,c]=q.useState(!1),[u,f]=q.useState(!1),[h,p]=q.useState(""),[v,g]=q.useState(""),[y,b]=q.useState(""),_=q.useRef(null),w=q.useRef(null),[C,S]=q.useState(!1),R=q.useMemo(()=>t!=null&&t.cafeId?e.filter(K=>K.cafeId===t.cafeId):[],[e,t]),D=K=>{var J;const X=(J=K.target.files)==null?void 0:J[0];X&&N(X)},N=async K=>{f(!0),p("");try{let X=K.name.replace(/\.(html|pdf|docx)$/i,""),J="",ne="";if(K.type==="text/html"){const z=await K.text(),Q=z.match(/<style[^>]*>([\s\S]*?)<\/style>/i);ne=Q?Q[1]:"";const B=z.match(/<body[^>]*>([\s\S]*)<\/body>/i);J=B?B[1]:z}else if(K.type==="application/pdf"){const z=new FileReader,Q=await new Promise(j=>{z.onloadend=()=>j(z.result.split(",")[1]),z.readAsDataURL(K)});J=(await G$(Q)).html}else if(K.type.includes("wordprocessingml")){const z=new FileReader,Q=await new Promise(j=>{z.onloadend=()=>j(z.result),z.readAsArrayBuffer(K)});J=(await NUe.convertToHtml({arrayBuffer:Q})).value}else throw new Error("Unsupported file type.");o({name:X,body:J,styles:ne}),s("editor")}catch(X){p(X instanceof Error?X.message:"File processing failed.")}finally{f(!1)}},k=async K=>{var X;f(!0),p(""),c(!1);try{const J=await fetch(K);if(!J.ok)throw new Error("Could not fetch template");const ne=await J.text();let z=((X=K.split("/").pop())==null?void 0:X.replace("0-","").replace(".html",""))||"template";const Q=ne.match(/<style[^>]*>([\s\S]*?)<\/style>/i),B=Q?Q[1]:"",j=ne.match(/<body[^>]*>([\s\S]*)<\/body>/i),W=j?j[1]:ne;o({name:z,body:W,styles:B}),s("editor")}catch(J){p(J instanceof Error?J.message:"Template loading failed.")}finally{f(!1)}},F=async()=>{if(v.trim()){f(!0),p(""),b("");try{const K=await ic({model:"gemini-2.5-flash",contents:`  HTML  (   <!DOCTYPE>  <html>  <head>  <body>)    : "${v}".               <style>   <head>.     .`});b(K.text||"")}catch(K){p(K instanceof Error?K.message:"AI generation failed.")}finally{f(!1)}}},P=()=>{if(!y)return;const K=y.match(/<style[^>]*>([\s\S]*?)<\/style>/i),X=K?K[1]:"",J=y.match(/<body[^>]*>([\s\S]*)<\/body>/i),ne=J?J[1]:y;o({name:v,body:ne,styles:X}),S(!1),s("editor")},I=()=>{if(!y)return;const K=y.match(/<style[^>]*>([\s\S]*?)<\/style>/i),X=K?K[1]:"",J=y.match(/<body[^>]*>([\s\S]*)<\/body>/i),ne=J?J[1]:y;o({name:v,body:ne,styles:X}),S(!0),s("editor")},U=async K=>{window.confirm("        ")&&(await cl.delete(K),alert(" .      ."))},O=()=>{w.current&&(o({...a,body:w.current.getHtml(),styles:w.current.getCss()}),S(!0))};return i==="editor"?d.jsxs(d.Fragment,{children:[d.jsx(jUe,{initialContent:a,onExit:()=>s("dashboard"),onPreview:O,editorRef:w}),C&&a&&d.jsx(ZY,{initialContent:a,docToEdit:null,onClose:()=>S(!1)})]}):i==="ai_creator"?d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsxs("button",{onClick:()=>s("dashboard"),className:"text-sm bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors flex items-center gap-2",children:[d.jsx(XI,{}),d.jsx("span",{children:"  "})]}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"  "}),d.jsx("p",{className:"text-gray-600",children:"     ."})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"ai-prompt",className:"font-semibold",children:"   "}),d.jsx("textarea",{id:"ai-prompt",value:v,onChange:K=>g(K.target.value),placeholder:":          ...",className:"w-full p-3 border rounded-lg h-24"})]}),d.jsxs("button",{onClick:F,disabled:u,className:"w-full flex items-center justify-center gap-2 bg-blue-600 text-white font-bold py-3 px-5 rounded-lg hover:bg-blue-700 disabled:bg-gray-400",children:[u?d.jsx(St,{className:"animate-spin"}):d.jsx(ea,{}),d.jsx("span",{children:u?" ...":"  "})]}),h&&d.jsx("p",{className:"text-red-500 text-sm my-2",children:h}),(y||u)&&d.jsxs("div",{className:"border rounded-lg mt-4",children:[d.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[d.jsx("h2",{className:"font-bold",children:""}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("button",{onClick:I,disabled:!y||u,className:"flex items-center gap-2 bg-gray-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-600 disabled:opacity-50",children:[d.jsx(C$,{}),d.jsx("span",{children:"  "})]}),d.jsx("button",{onClick:P,disabled:!y||u,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:opacity-50",children:"  "})]})]}),d.jsxs("div",{className:"bg-white p-2 h-[70vh] overflow-y-auto",children:[u&&!y&&d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx(St,{className:"animate-spin text-2xl text-blue-500"})}),d.jsx("iframe",{srcDoc:y,title:"AI Preview",className:"w-full h-full border-0"})]})]})]}):d.jsxs("div",{className:"p-6 space-y-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:" "}),d.jsx("p",{className:"text-gray-600",children:'     .        " ".'}),d.jsx("input",{type:"file",ref:_,onChange:D,accept:".html,.pdf,.docx,.doc",className:"hidden"}),l&&d.jsx(OUe,{onClose:()=>c(!1),onSelect:k}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("button",{onClick:()=>s("ai_creator"),className:"group text-right p-6 bg-white rounded-lg border-2 border-dashed hover:border-purple-500 hover:bg-purple-50 transition-all duration-300",children:[d.jsx("div",{className:"bg-purple-100 text-purple-600 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:d.jsx(ea,{size:24})}),d.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"  "}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"       ."})]}),d.jsxs("button",{onClick:()=>{var K;return(K=_.current)==null?void 0:K.click()},className:"group text-right p-6 bg-white rounded-lg border-2 border-dashed hover:border-green-500 hover:bg-green-50 transition-all duration-300",children:[d.jsx("div",{className:"bg-green-100 text-green-600 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:d.jsx(Sl,{size:24})}),d.jsx("h2",{className:"text-lg font-bold text-gray-800",children:" "}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"  DOCX, PDF,  HTML   ."})]}),d.jsxs("button",{onClick:()=>c(!0),className:"group text-right p-6 bg-white rounded-lg border-2 border-dashed hover:border-blue-500 hover:bg-blue-50 transition-all duration-300",children:[d.jsx("div",{className:"bg-blue-100 text-blue-600 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:d.jsx(F$,{size:24})}),d.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"  "}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"      ."})]})]}),u&&d.jsx("div",{className:"text-center",children:d.jsx(St,{className:"animate-spin text-2xl mx-auto text-blue-600"})}),h&&d.jsx("p",{className:"text-red-500 text-sm text-center",children:h}),d.jsxs("div",{className:"bg-white p-4 rounded-lg border shadow-sm",children:[d.jsxs("h2",{className:"text-xl font-semibold text-gray-700 p-2",children:["  (",R.length,")"]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:n?d.jsx("tr",{children:d.jsx("td",{colSpan:3,className:"text-center p-6",children:d.jsx(St,{className:"animate-spin text-2xl mx-auto"})})}):R.length>0?R.map(K=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:K.name}),d.jsx("td",{className:"p-3 text-gray-600 text-sm",children:K.description}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse",children:[d.jsx("button",{disabled:!0,className:"text-gray-400 text-sm font-semibold cursor-not-allowed",children:""}),d.jsx("button",{onClick:()=>U(K.id),className:"text-red-600 hover:underline text-sm font-semibold",children:""})]})]},K.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:3,className:"text-center p-6 text-gray-500",children:"    .      ."})})})]})})]})]})},VUe=[{id:"cv",name:"  ",url:"/data/templates/0-cv.html"},{id:"cv-with-photo",name:"   (1)",url:"/data/templates/0-cv-with-photo-1.html"},{id:"cv-with-photo-2",name:"   (2)",url:"/data/templates/0-cv-with-photo-2.html"},{id:"cv-with-photo-3",name:"   (3)",url:"/data/templates/0-cv-with-photo-3.html"},{id:"cv-with-photo-4",name:"   (4)",url:"/data/templates/0-cv-with-photo-4.html"},{id:"cv-with-photo-5",name:"   (5)",url:"/data/templates/0-cv-with-photo-5.html"},{id:"gov-form",name:" ",url:"/data/templates/0-gov-form.html"},{id:"linear-request",name:" ",url:"/data/templates/0-linear-request.html"},{id:"university-registration",name:" ",url:"/data/templates/0-university-registration.html"}],WUe=({onClose:t,onSelect:e})=>d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",onClick:t,children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl h-[90vh] flex flex-col",onClick:n=>n.stopPropagation(),children:[d.jsx("div",{className:"p-4 border-b",children:d.jsx("h2",{className:"text-xl font-bold",children:"  "})}),d.jsx("div",{className:"p-4 flex-grow overflow-y-auto",children:d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:VUe.map(n=>d.jsxs("div",{className:"border rounded-lg overflow-hidden group cursor-pointer",onClick:()=>e(n.url),children:[d.jsx("div",{className:"h-48 bg-gray-100 flex items-center justify-center",children:d.jsx("iframe",{src:n.url,className:"w-full h-full transform scale-[0.3] origin-top-left pointer-events-none border-0",title:n.name})}),d.jsx("div",{className:"p-3 bg-white",children:d.jsx("p",{className:"font-semibold text-sm truncate group-hover:text-green-600",children:n.name})})]},n.id))})}),d.jsx("div",{className:"px-6 py-4 bg-gray-50 flex justify-end",children:d.jsx("button",{type:"button",onClick:t,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""})})]})}),qUe=()=>{var D;const t=Dr(),e=bi(),n=(D=t.state)==null?void 0:D.doc,[r,i]=q.useState("dashboard"),[s,a]=q.useState(null),[o,l]=q.useState(!1),[c,u]=q.useState(!1),[f,h]=q.useState(""),[p,v]=q.useState(""),[g,y]=q.useState(""),b=q.useRef(null);q.useEffect(()=>{n&&((async()=>{u(!0);try{let k="",F="";if(n.previewTemplateUrl){const P=await fetch(n.previewTemplateUrl);if(P.ok){const I=await P.text(),U=I.match(/<style[^>]*>([\s\S]*?)<\/style>/i);F=U?U[1]:"";const O=I.match(/<body[^>]*>([\s\S]*)<\/body>/i);k=O?O[1]:I}else console.warn(`Could not fetch template file from ${n.previewTemplateUrl}. Starting with an empty editor.`)}a({initialContent:{name:n.name,body:k,styles:F},docToEdit:n})}catch(k){h(`Failed to load document: ${k.message}`),a({initialContent:{name:n.name,body:"<p>   .</p>",styles:""},docToEdit:n})}finally{u(!1)}})(),e(t.pathname,{replace:!0,state:{}}))},[n,t.pathname,e]);const _=N=>{var F;const k=(F=N.target.files)==null?void 0:F[0];k&&w(k)},w=async N=>{u(!0),h("");try{let k=N.name.replace(/\.(html|pdf|docx)$/i,""),F="",P="";if(N.type==="text/html"){const I=await N.text(),U=I.match(/<style[^>]*>([\s\S]*?)<\/style>/i);P=U?U[1]:"";const O=I.match(/<body[^>]*>([\s\S]*)<\/body>/i);F=O?O[1]:I}else if(N.type==="application/pdf"){const I=new FileReader,U=await new Promise(K=>{I.onloadend=()=>K(I.result.split(",")[1]),I.readAsDataURL(N)});F=(await G$(U)).html}else throw new Error("Unsupported file type.");a({initialContent:{name:k,body:F,styles:P},docToEdit:null})}catch(k){h(k instanceof Error?k.message:"File processing failed.")}finally{u(!1)}},C=async N=>{var k;u(!0),h(""),l(!1);try{const F=await fetch(N);if(!F.ok)throw new Error("Could not fetch template");const P=await F.text(),I=((k=N.split("/").pop())==null?void 0:k.replace("0-","").replace(".html",""))||"template",U=P.match(/<style[^>]*>([\s\S]*?)<\/style>/i),O=U?U[1]:"",K=P.match(/<body[^>]*>([\s\S]*)<\/body>/i),X=K?K[1]:P;a({initialContent:{name:I,body:X,styles:O},docToEdit:null})}catch(F){h(F instanceof Error?F.message:"Template loading failed.")}finally{u(!1)}},S=async()=>{if(p.trim()){u(!0),h(""),y("");try{const N=await ic({model:"gemini-2.5-flash",contents:`  HTML  (   <!DOCTYPE>  <html>  <head>  <body>)    : "${p}".               <style>   <head>.     .`});y(N.text||"")}catch(N){h(N instanceof Error?N.message:"AI generation failed.")}finally{u(!1)}}},R=()=>{if(!g)return;const N=g.match(/<style[^>]*>([\s\S]*?)<\/style>/i),k=N?N[1]:"",F=g.match(/<body[^>]*>([\s\S]*)<\/body>/i),P=F?F[1]:g;a({initialContent:{name:p,body:P,styles:k},docToEdit:null}),i("dashboard")};return s?d.jsx(ZY,{initialContent:s.initialContent,docToEdit:s.docToEdit,onClose:()=>{a(null),window.location.reload()}}):r==="ai_creator"?d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsxs("button",{onClick:()=>i("dashboard"),className:"text-sm bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors flex items-center gap-2",children:[d.jsx(XI,{}),d.jsx("span",{children:"  "})]}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"  "}),d.jsx("p",{className:"text-gray-600",children:"     ."})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"ai-prompt",className:"font-semibold",children:"   "}),d.jsx("textarea",{id:"ai-prompt",value:p,onChange:N=>v(N.target.value),placeholder:":          ...",className:"w-full p-3 border rounded-lg h-24"})]}),d.jsxs("button",{onClick:S,disabled:c,className:"w-full flex items-center justify-center gap-2 bg-blue-600 text-white font-bold py-3 px-5 rounded-lg hover:bg-blue-700 disabled:bg-gray-400",children:[c?d.jsx(St,{className:"animate-spin"}):d.jsx(ea,{}),d.jsx("span",{children:c?" ...":"  "})]}),f&&d.jsx("p",{className:"text-red-500 text-sm my-2",children:f}),(g||c)&&d.jsxs("div",{className:"border rounded-lg mt-4",children:[d.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[d.jsx("h2",{className:"font-bold",children:""}),d.jsx("div",{className:"flex items-center gap-3",children:d.jsx("button",{onClick:R,disabled:!g||c,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:opacity-50",children:"  "})})]}),d.jsxs("div",{className:"bg-white p-2 h-[70vh] overflow-y-auto",children:[c&&!g&&d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx(St,{className:"animate-spin text-2xl text-blue-500"})}),d.jsx("iframe",{srcDoc:g,title:"AI Preview",className:"w-full h-full border-0"})]})]})]}):d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"  ()"}),d.jsx("input",{type:"file",ref:b,onChange:_,accept:".html,.pdf",className:"hidden"}),o&&d.jsx(WUe,{onClose:()=>l(!1),onSelect:C}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("button",{onClick:()=>i("ai_creator"),className:"group text-right p-6 bg-white rounded-lg border-2 border-dashed hover:border-purple-500 hover:bg-purple-50 transition-all duration-300",children:[d.jsx("div",{className:"bg-purple-100 text-purple-600 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:d.jsx(ea,{size:24})}),d.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"  "}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"       ."})]}),d.jsxs("button",{onClick:()=>{var N;return(N=b.current)==null?void 0:N.click()},className:"group text-right p-6 bg-white rounded-lg border-2 border-dashed hover:border-green-500 hover:bg-green-50 transition-all duration-300",children:[d.jsx("div",{className:"bg-green-100 text-green-600 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:d.jsx(Sl,{size:24})}),d.jsx("h2",{className:"text-lg font-bold text-gray-800",children:" "}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"  PDF  HTML   ."})]}),d.jsxs("button",{onClick:()=>l(!0),className:"group text-right p-6 bg-white rounded-lg border-2 border-dashed hover:border-blue-500 hover:bg-blue-50 transition-all duration-300",children:[d.jsx("div",{className:"bg-blue-100 text-blue-600 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:d.jsx(F$,{size:24})}),d.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"  "}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"      ."})]})]}),c&&d.jsx("div",{className:"text-center",children:d.jsx(St,{className:"animate-spin text-2xl mx-auto text-blue-600"})}),f&&d.jsx("p",{className:"text-red-500 text-sm text-center",children:f}),d.jsx("div",{className:"text-center mt-4",children:d.jsx("button",{onClick:()=>e("/admin/app/documents"),className:"text-sm bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:"    "})})]})},eQ=()=>{const{t}=aa();return d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h1",{className:"text-6xl font-bold text-gray-800",children:"404"}),d.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mt-4",children:t("notFound.title")}),d.jsx("p",{className:"text-gray-500 mt-2 mb-6",children:t("notFound.message")}),d.jsx(tn,{to:"/",className:"bg-green-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-green-700 transition-colors",children:t("notFound.button")})]})},ss=(t,e,n=!0)=>{const r=n?`meta[property='${t}']`:`meta[name='${t}']`;let i=document.querySelector(r);i||(i=document.createElement("meta"),i.setAttribute(n?"property":"name",t),document.head.appendChild(i)),i.setAttribute("content",e)},zUe=()=>{const{siteSettings:t,loading:e}=rn(),{countryCode:n,language:r}=aa(),i=Dr(),s=i.pathname.startsWith("/admin"),a=/^\/[a-z]{2}\/app/.test(i.pathname),o="G-2BKKWGCXWX";return q.useEffect(()=>{if(e||!o||document.getElementById("gtag-script")||s||a)return;const l=document.createElement("script");l.id="gtag-script",l.src=`https://www.googletagmanager.com/gtag/js?id=${o}`,l.async=!0,document.head.appendChild(l),window.dataLayer=window.dataLayer||[];function c(...u){window.dataLayer.push(arguments)}window.gtag=c,c("js",new Date),c("config",o)},[e,o,s,a]),q.useEffect(()=>{!e&&o&&typeof window.gtag=="function"&&!s&&!a&&window.gtag("event","page_view",{page_path:i.pathname+i.search,page_title:document.title})},[i,e,o,s,a]),q.useEffect(()=>{var g,y;if(e||!t)return;document.querySelectorAll('link[rel="alternate"][hreflang]').forEach(b=>b.remove());const l=((g=t.seo)==null?void 0:g[n])||((y=t.seo)==null?void 0:y.default)||{siteName:"Gitut",titleSeparator:"|",tagline:"",metaDescription:""},c="https://cyber-m.pages.dev/data/image/gitut-og-main.png",u=i.pathname.match(/\/profile\/(\d+)/),f=i.pathname.match(/\/site\/([^/]+)/),h=i.pathname.match(/\/doc\/([^/]+)/),p=i.pathname.startsWith("/blog/")&&i.pathname.split("/").filter(Boolean).length>1;if(!u&&!f&&!h&&!p){const b=`${l.siteName} ${l.titleSeparator} ${l.tagline}`,_=l.metaDescription;let w="en_US";switch(r){case"ar":w="ar_AR";break;case"fr":w="fr_FR";break;case"de":w="de_DE";break;case"es":w="es_ES";break;case"tr":w="tr_TR";break;case"ja":w="ja_JP";break}document.title=b,ss("description",_,!1),ss("og:title",b),ss("og:description",_),ss("og:site_name",l.siteName),ss("og:url",window.location.href),ss("og:image",c),ss("og:image:secure_url",c),ss("og:image:width","1200"),ss("og:image:height","630"),ss("og:type","website"),ss("og:locale",w),ss("twitter:card","summary_large_image",!1),ss("twitter:url",window.location.href,!1),ss("twitter:title",b,!1),ss("twitter:description",_,!1),ss("twitter:image",c,!1)}let v=document.querySelector("link[rel*='icon']");v||(v=document.createElement("link"),v.rel="icon",document.head.appendChild(v)),v.href="https://cyber-m.pages.dev/data/image/icon.png"},[i.pathname,t,n,e,s,a,r]),null},HUe=()=>{const{countryCode:t,siteId:e}=ia(),n=Dr(),r=bi(),[i]=Fee(),{sites:s,siteSettings:a,loading:o}=rn(),l=q.useMemo(()=>{var b;const v=i.get("redirect"),g=i.get("name");if(v)return{name:g||" ",url:v,isInternal:!0};if((b=n.state)!=null&&b.targetUrl)return{name:n.state.siteName||" ",url:n.state.targetUrl,isInternal:!0};const y=s.find(_=>_.id===e);return y?{...y,isInternal:!1}:null},[s,e,n.state,i]),c=(a==null?void 0:a.ads.pdfInterstitialTimer)??5,[u,f]=q.useState(c),[h,p]=q.useState(!1);return q.useEffect(()=>{!o&&l&&f(c)},[o,l,c]),q.useEffect(()=>{if(!(o||!(l!=null&&l.url)))if(u>0){const v=setTimeout(()=>{f(g=>g-1)},1e3);return()=>clearTimeout(v)}else h||(p(!0),l.isInternal?r(l.url,{replace:!0}):window.location.href=l.url)},[u,o,l,h,r]),o?d.jsxs("div",{className:"flex flex-col items-center justify-center p-10 text-center",children:[d.jsx(St,{className:"animate-spin text-4xl text-green-600 mb-4"}),d.jsx("p",{className:"text-gray-600",children:"  ..."})]}):l?d.jsx("div",{className:"max-w-3xl mx-auto text-center",children:d.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg border space-y-4",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"  ..."}),d.jsxs("p",{className:"text-gray-600",children:['  "',l.name,'"   :']}),d.jsx("div",{className:"text-5xl font-bold text-green-600 font-mono tracking-widest my-4 p-4 bg-gray-100 rounded-lg",children:u}),d.jsxs("div",{className:"pt-6 border-t",children:[d.jsx("p",{className:"text-sm text-gray-500 mb-4",children:":"}),d.jsx(rc,{placement:"PDF_INTERSTITIAL"})]})]})}):d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"    "}),d.jsx("p",{className:"text-gray-600 mb-6",children:"         ."}),d.jsx(tn,{to:"/",className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"   "})]})},$Ue=t=>t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,"");if(yr.Quill){const t=yr.Quill.import("attributors/style/size");t.whitelist=["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px"],yr.Quill.register("attributors/style/size",t,!0)}const GUe=({isOpen:t,onClose:e,onSave:n,initialData:r,codes:i})=>{const[s,a]=q.useState(""),[o,l]=q.useState(""),[c,u]=q.useState(""),[f,h]=q.useState(""),[p,v]=q.useState(!1),g=q.useRef(null),y=q.useRef(null);q.useEffect(()=>{r?(a(r.name),l(r.previewTemplateHtml),u(r.finalTemplateHtml),h(r.textPlaceholderExample||"")):(a(""),l("<!--    -->"),u("<!--    -->"),h(""))},[r]);const b=(C,S)=>{var N;const R=(N=C.target.files)==null?void 0:N[0];if(!R)return;const D=new FileReader;D.onload=k=>{var P;const F=(P=k.target)==null?void 0:P.result;S==="preview"?l(F):u(F)},D.readAsText(R)},_=(C,S)=>{if(!S)return;const D=(C==="preview"?g:y).current;if(D){const N=D.selectionStart,k=D.selectionEnd,F=D.value,P=F.substring(0,N)+S+F.substring(k);C==="preview"?l(P):u(P),setTimeout(()=>{D&&(D.selectionStart=D.selectionEnd=N+S.length,D.focus())},0)}},w=async C=>{C.preventDefault(),v(!0);const S=D=>D.replace(/\s{2,}/g," ").replace(/\n/g,"").trim(),R={name:s,previewTemplateHtml:S(o),finalTemplateHtml:S(c),textPlaceholderExample:f};try{r?await hm.update(r.id,R):await hm.create(R),n(),e()}catch(D){console.error(D),alert("   .")}finally{v(!1)}};return t?d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl",children:d.jsxs("form",{onSubmit:w,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsxs("h2",{className:"text-2xl font-bold",children:[r?"":"","  "]})}),d.jsx("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:p&&!r?d.jsx("div",{className:"flex justify-center items-center h-64",children:d.jsx(St,{className:"animate-spin text-3xl text-gray-400"})}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"base-template-name",className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),d.jsx("input",{type:"text",id:"base-template-name",value:s,onChange:C=>a(C.target.value),required:!0,className:"w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"base-template-example",className:"block text-sm font-medium text-gray-700 mb-1",children:"   (  )"}),d.jsx("textarea",{id:"base-template-example",value:f,onChange:C=>h(C.target.value),className:"w-full h-24 p-2 border rounded-md",placeholder:"       [TEXT] .      ."})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("h3",{className:"font-semibold",children:" "}),d.jsx("textarea",{ref:g,value:o,onChange:C=>l(C.target.value),className:"w-full h-64 p-2 border rounded-md font-mono text-sm",dir:"ltr"}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("label",{className:"text-sm bg-gray-200 text-gray-800 font-semibold py-1 px-3 rounded-lg hover:bg-gray-300 cursor-pointer",children:[d.jsx(Sl,{className:"inline-block"}),"   HTML ",d.jsx("input",{type:"file",accept:".html",onChange:C=>b(C,"preview"),className:"hidden"})]}),d.jsxs("div",{className:"flex gap-2 items-center",children:[d.jsxs("select",{onChange:C=>{_("preview",C.target.value),C.target.value=""},className:"text-sm bg-gray-100 text-gray-800 font-semibold py-1 px-2 rounded-lg hover:bg-gray-200 cursor-pointer border border-gray-300",children:[d.jsx("option",{value:"",children:" ..."}),i.map(C=>d.jsxs("option",{value:C.key,children:[C.description," (",C.key,")"]},C.id))]}),d.jsx("button",{type:"button",onClick:()=>_("preview","[TITLE]"),className:"text-sm bg-yellow-100 text-yellow-800 font-semibold py-1 px-3 rounded-lg hover:bg-yellow-200",children:" [TITLE]"}),d.jsx("button",{type:"button",onClick:()=>_("preview","[TEXT]"),className:"text-sm bg-blue-100 text-blue-800 font-semibold py-1 px-3 rounded-lg hover:bg-blue-200",children:" [TEXT]"})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("h3",{className:"font-semibold",children:" "}),d.jsx("textarea",{ref:y,value:c,onChange:C=>u(C.target.value),className:"w-full h-64 p-2 border rounded-md font-mono text-sm",dir:"ltr"}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("label",{className:"text-sm bg-gray-200 text-gray-800 font-semibold py-1 px-3 rounded-lg hover:bg-gray-300 cursor-pointer",children:[d.jsx(Sl,{className:"inline-block"}),"   HTML ",d.jsx("input",{type:"file",accept:".html",onChange:C=>b(C,"final"),className:"hidden"})]}),d.jsxs("div",{className:"flex gap-2 items-center",children:[d.jsxs("select",{onChange:C=>{_("final",C.target.value),C.target.value=""},className:"text-sm bg-gray-100 text-gray-800 font-semibold py-1 px-2 rounded-lg hover:bg-gray-200 cursor-pointer border border-gray-300",children:[d.jsx("option",{value:"",children:" ..."}),i.map(C=>d.jsxs("option",{value:C.key,children:[C.description," (",C.key,")"]},C.id))]}),d.jsx("button",{type:"button",onClick:()=>_("final","[TITLE]"),className:"text-sm bg-yellow-100 text-yellow-800 font-semibold py-1 px-3 rounded-lg hover:bg-yellow-200",children:" [TITLE]"}),d.jsx("button",{type:"button",onClick:()=>_("final","[TEXT]"),className:"text-sm bg-blue-100 text-blue-800 font-semibold py-1 px-3 rounded-lg hover:bg-blue-200",children:" [TEXT]"})]})]})]})]})]})}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:e,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",disabled:p&&!r,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:p?" ...":""})]})]})})}):null},_B={toolbar:[[{header:[1,2,3,4,5,6,!1]}],[{font:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"},{align:[]}],[{color:[]},{background:[]}],["link","image","video"],["clean"]]},KUe=({isOpen:t,onClose:e,onSave:n,fullDocuments:r})=>{const{baseTemplates:i}=rn(),[s,a]=q.useState(""),[o,l]=q.useState(""),[c,u]=q.useState("dz"),[f,h]=q.useState(""),[p,v]=q.useState(""),[g,y]=q.useState(!1),[b,_]=q.useState(!1),[w,C]=q.useState(!1),S=async()=>{if(!o||!c){alert("      .");return}_(!0),h("");try{const N=i.find(P=>P.id===s);let k="";N!=null&&N.textPlaceholderExample?k=`       .             .           HTML  ( <p>  <ul>).

  : "${o}"
 : "${c}"
   : "${N.textPlaceholderExample}"

      .`:k=`         "${o}"    "${c}".            .      HTML  ( <p>  <ul>).`;const F=await ic({model:"gemini-2.5-flash",contents:k});h(F.text||"")}catch(N){console.error("AI description generation failed:",N),alert("  .")}finally{_(!1)}},R=async()=>{if(!o){alert("    .");return}const N=i.find(k=>k.id===s);C(!0),v("");try{let k="";N!=null&&N.textPlaceholderExample?k=`You are an assistant for official documents in Arabic. Your task is to adapt a generic text example to fit a specific document title. The output must be simple HTML.
    Document Title: "${o}"
    Country Code: "${c}"
    Generic Text Example to Adapt: "${N.textPlaceholderExample}"
    
    Rewrite the generic text example to be specific and appropriate for the given document title and country. For example, if the title is "Request to change address", the text should be a formal request for an address change. Return only the generated HTML content, without any explanations.`:k=`   ( HTML    <p>  <ul>)      "${o}"    "${c}".         [TEXT]   .`;const F=await ic({model:"gemini-2.5-flash",contents:k});v(F.text||"")}catch(k){console.error("AI text generation failed:",k),alert("  .")}finally{C(!1)}},D=async N=>{N.preventDefault();const k=i.find(I=>I.id===s);if(!k||!o.trim()||!p.trim()){alert("   .");return}y(!0);let F=$Ue(o);if(r.find(I=>I.slug===F)){if(!window.confirm("     (    ).        ")){y(!1);return}const U=Date.now().toString().slice(-6);F=`${F}-${U}`}try{const I=ne=>ne.replace(/\s{2,}/g," ").replace(/\n/g,"").trim(),U=k.previewTemplateHtml.replace(/\[TEXT\]/g,p).replace(/\[TITLE\]/g,o),O=k.finalTemplateHtml.replace(/\[TEXT\]/g,p).replace(/\[TITLE\]/g,o),K=V0(O),X=F,J={name:o,groupId:X,slug:F,description:f,countryCode:c||void 0,requiredFields:K,previewTemplateHtml:I(U),finalTemplateHtml:I(O),tags:k.name};await cl.create({...J,id:X}),n(),e()}catch(I){console.error("Failed to create document from base template:",I),alert("  .")}finally{y(!1)}};return t?d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",children:d.jsxs("form",{onSubmit:D,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:"     "})}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),d.jsxs("select",{value:s,onChange:N=>a(N.target.value),required:!0,className:"w-full p-2 border rounded-md bg-white",children:[d.jsx("option",{value:"",disabled:!0,children:"--  --"}),i.map(N=>d.jsx("option",{value:N.id,children:N.name},N.id))]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),d.jsx("input",{type:"text",value:o,onChange:N=>l(N.target.value),required:!0,className:"w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  (: dz)"}),d.jsx("input",{type:"text",value:c,onChange:N=>u(N.target.value.toLowerCase()),className:"w-full p-2 border rounded-md"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx("div",{className:"flex-grow",children:d.jsx(yr,{theme:"snow",value:f,onChange:h,modules:_B})}),d.jsx("button",{type:"button",onClick:S,disabled:b,className:"p-2 bg-purple-100 text-purple-700 rounded-md hover:bg-purple-200",title:"   ",children:b?d.jsx(St,{className:"animate-spin"}):d.jsx(ea,{})})]})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-1",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"    [TEXT] "}),d.jsxs("button",{type:"button",onClick:R,disabled:w,className:"flex items-center gap-1 text-xs bg-purple-100 text-purple-700 font-semibold py-1 px-2 rounded-md hover:bg-purple-200",children:[w?d.jsx(St,{className:"animate-spin"}):d.jsx(ea,{}),d.jsx("span",{children:"  "})]})]}),d.jsx(yr,{theme:"snow",value:p,onChange:v,modules:_B})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:e,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",disabled:g,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:g?" ...":" "})]})]})})}):null},XUe=()=>{const{baseTemplates:t,loading:e,codes:n,fullDocuments:r}=rn(),[i,s]=q.useState(!1),[a,o]=q.useState(!1),[l,c]=q.useState(null),u=async()=>{},f=async p=>{s(!0),c({...p,name:" ..."});try{const v=await hm.get(p.id);c(v||p)}catch(v){console.error("Failed to fetch fresh template:",v),c(p),alert("Could not fetch the latest template data. Displaying cached version.")}},h=async p=>{window.confirm("       ")&&(await hm.delete(p),u())};return d.jsxs("div",{children:[i&&d.jsx(GUe,{isOpen:i,onClose:()=>{s(!1),c(null)},onSave:u,initialData:l,codes:n}),a&&d.jsx(KUe,{isOpen:a,onClose:()=>o(!1),onSave:u,fullDocuments:r}),d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"  "}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:()=>o(!0),className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700",children:[d.jsx(nc,{className:"inline-block"}),"  "]}),d.jsxs("button",{onClick:()=>{c({id:"",name:" ...",previewTemplateHtml:"",finalTemplateHtml:""}),s(!0)},className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:[d.jsx(nc,{className:"inline-block"}),"   "]})]})]}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:"  "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:e?d.jsx("tr",{children:d.jsx("td",{colSpan:2,className:"text-center p-6",children:d.jsx(St,{className:"animate-spin text-2xl mx-auto"})})}):t.map(p=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 font-semibold",children:p.name}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse",children:[d.jsxs("button",{onClick:()=>f(p),className:"text-blue-600 hover:underline text-sm font-semibold",children:[d.jsx(hw,{className:"inline-block"})," "]}),d.jsxs("button",{onClick:()=>h(p.id),className:"text-red-600 hover:underline text-sm font-semibold",children:[d.jsx(Wm,{className:"inline-block"})," "]})]})]},p.id))})]})})})]})},bA={intents:{sum:["","","","",""],subtract:["","","","",""],multiply:["",""," ",""],divide:["","","",""],average:[""," ","",""],count:[" "," ","","",""],max:[" "," "," ","",""],min:[" "," "," ","",""],copy:["","","","",""," "],paste:["","",""],cut:["","","","",""," "],insert:["","","","","",""],search:[""," ","",""," "],color:["",""," ","","",""],resize:["",""," ","",""," "],select:["","","","",""],delete:["","","",""," ","","","",""],clear:[""," ",""," "],merge:["","","",""],split:["","","","",""],transpose:["","","","",""],filter:[""," ","   ",""],conditionalColor:[" ","  "," "," "],replace:["",""," ","",""," "," "],concatenate:[" "," "," "," "],sort:["","","","",""," "," "],removeDuplicates:[" "," "," "," "],groupBy:[""," ",""," "],createChart:["","  ","  ","  "," "],formatNumber:[" "," "," ","  "," "," ","  "],calculatePercentage:["  "," ","  "],move:["","","","","","",""]},targets:{cell:["","","",""],row:["","","","",""],column:["","","",""],horizontalColumn:[" "," ","",""],verticalColumn:[" "," ","",""],range:[""," "," "," "],sheet:["","",""," "],workbook:["","","",""],selectedTable:[" "," "," "]},movements:{right:["",""],left:["",""]},numbers:{1:["","","","","1"],2:["","","","","2"],3:["","","","","3"],4:["","","","","4"],5:["","","","","5"],6:["","","","","6"],7:["","","","","7"],8:["","","","","8"],9:["","","","","9"],10:["","","","","10"],last:["","","",""],all:["","",""]},positions:{after:["","",""],before:["","",""],at:["","","",""],start:[""," ",""],end:[""," ",""]},colors:{red:["","",""],blue:["","",""],green:["","",""],yellow:["","",""],black:["","",""],white:["","",""],orange:["",""],purple:["",""],pink:["",""],gray:["",""],brown:["",""],cyan:["",""],gold:["",""],silver:["",""]},conditions:{contains:[" ",""," ","",""],equals:["","","",""," "],greaterThan:[" "," ",""],lessThan:[" "," ",""],startsWith:[" "," "],endsWith:[" "," "],between:[""," "],empty:["",""],notEmpty:[" "," "," "]},references:{lastResult:["","","output",""," "," "],lastSearch:["","",""," "," "],lastColumn:["","","  "," "],lastSelection:["",""," ",""," "],thisTarget:["","",""],previous:[""," "]},referenceWords:["","","","","",""],negationWords:["","","",""],rangeWords:["","",""]},JUe=()=>{const[t,e]=q.useState(null),[n,r]=q.useState(""),[i,s]=q.useState(!0),[a,o]=q.useState(!1),[l,c]=q.useState(""),[u,f]=q.useState("");q.useEffect(()=>{s(!0),L4().then(p=>{const v=p||bA;e(v),r(JSON.stringify(v,null,2)),p||f("   .       .")}).catch(()=>{c("    .      ."),e(bA),r(JSON.stringify(bA,null,2))}).finally(()=>s(!1))},[]);const h=async()=>{c(""),f("");try{const p=JSON.parse(n);o(!0),await vme(p),e(p),f("   !"),setTimeout(()=>f(""),3e3)}catch(p){console.error(p),c("   JSON.        .")}finally{o(!1)}};return i?d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(St,{className:"animate-spin text-4xl text-green-600"})}):d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"    (JSON)"}),d.jsxs("button",{onClick:h,disabled:a,className:"bg-green-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-green-700 transition-colors disabled:bg-gray-400 flex items-center gap-2",children:[a?d.jsx(St,{className:"animate-spin"}):d.jsx(yw,{}),d.jsx("span",{children:a?" ...":" "})]})]}),d.jsxs("div",{className:"bg-white p-6 rounded-lg border shadow-sm",children:[d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:'        " ".             .'}),l&&d.jsx("div",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-center",children:l}),u&&d.jsx("div",{className:"bg-green-100 text-green-700 p-3 rounded-md mb-4 text-center",children:u}),d.jsx("textarea",{value:n,onChange:p=>r(p.target.value),dir:"ltr",className:"w-full h-[65vh] p-4 font-mono text-sm bg-gray-900 text-green-300 rounded-md border-gray-700 focus:ring-green-500 focus:border-green-500",placeholder:"Loading JSON data..."})]})]})},YUe={colors:{red:["","",""],blue:["","",""],green:["","",""],yellow:["","",""],black:["","",""],white:["","",""],orange:["",""],purple:["",""],pink:["",""],gray:["",""]},actions:{changeColor:[""," "," "],changeSize:[""," "," "],makeBold:["","","",""," "],align:["",""," "," "],replace:[" "," "],delete:["",""],copy:["",""],paste:["",""],createList:[" "," "," "],addListItem:["","",""]},sizeKeywords:{increase:["","",""],decrease:["","",""]},alignments:{center:["","","",""],right:["",""],left:["",""]},targets:{text:["","","",""],selection:["",""]},conjunctions:[""],general:{next:["","",""," "]},listTypes:{bullet:["",""],numbered:["","",""]},positions:{before:[""],after:[""]},listSeparators:{newLine:[" "," "," "]}},QUe=()=>{const[t,e]=q.useState(null),[n,r]=q.useState(""),[i,s]=q.useState(!0),[a,o]=q.useState(!1),[l,c]=q.useState(""),[u,f]=q.useState("");q.useEffect(()=>{s(!0),j4().then(p=>{const v=p||YUe;e(v),r(JSON.stringify(v,null,2))}).catch(()=>c("    .")).finally(()=>s(!1))},[]);const h=async()=>{c(""),f("");try{const p=JSON.parse(n);o(!0),await _me(p),e(p),f("   !"),setTimeout(()=>f(""),3e3)}catch(p){console.error(p),c("   JSON.        .")}finally{o(!1)}};return i?d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(St,{className:"animate-spin text-4xl text-green-600"})}):d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"    (JSON)"}),d.jsxs("button",{onClick:h,disabled:a,className:"bg-green-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-green-700 transition-colors disabled:bg-gray-400 flex items-center gap-2",children:[a?d.jsx(St,{className:"animate-spin"}):d.jsx(yw,{}),d.jsx("span",{children:a?" ...":" "})]})]}),d.jsxs("div",{className:"bg-white p-6 rounded-lg border shadow-sm",children:[d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:'        " ".               .'}),l&&d.jsx("div",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-center",children:l}),u&&d.jsx("div",{className:"bg-green-100 text-green-700 p-3 rounded-md mb-4 text-center",children:u}),d.jsx("textarea",{value:n,onChange:p=>r(p.target.value),dir:"ltr",className:"w-full h-[65vh] p-4 font-mono text-sm bg-gray-900 text-green-300 rounded-md border-gray-700 focus:ring-green-500 focus:border-green-500",placeholder:"Loading JSON data..."})]})]})},ZUe=()=>{var o;const{useAdminChatManager:t}=Jf(),{conversations:e,messages:n,currentConversationId:r,selectConversation:i,sendMessage:s}=t(),a=Array.from(e.entries()).sort(([,l],[,c])=>c.lastMessage.timestamp-l.lastMessage.timestamp);return d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"  "}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 items-start h-[75vh]",children:[d.jsxs("aside",{className:"lg:col-span-1 bg-gray-50 rounded-lg p-4 border max-h-full overflow-y-auto",children:[d.jsxs("h2",{className:"font-bold text-lg mb-3",children:[" (",e.size,")"]}),a.length>0?d.jsx("div",{className:"space-y-2",children:a.map(([l,c])=>d.jsxs("button",{onClick:()=>i(l),className:`w-full text-right p-3 rounded-lg border-2 transition-colors flex justify-between items-start ${r===l?"bg-green-100 border-green-500":"bg-white hover:bg-gray-100 border-transparent"}`,children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-gray-800",children:c.cafeName||"  "}),d.jsxs("p",{className:"text-sm text-gray-500 truncate",children:[c.lastMessage.senderId==="admin"?": ":"",c.lastMessage.text]})]}),c.unread&&d.jsx(B4,{className:"text-blue-500 text-xs mt-1 flex-shrink-0"})]},l))}):d.jsx("p",{className:"text-gray-500 text-center py-4",children:"   ."})]}),d.jsx("main",{className:"lg:col-span-2 bg-white rounded-lg border shadow-sm h-full flex flex-col",children:r?d.jsx(tk,{messages:n,onSendMessage:s,currentUserId:"admin",title:`  ${((o=e.get(r))==null?void 0:o.cafeName)||""}`,isOnline:!0}):d.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-8",children:[d.jsx(QI,{className:"text-5xl text-gray-300 mb-4"}),d.jsx("h3",{className:"text-xl font-medium text-gray-800",children:" "}),d.jsx("p",{className:"text-gray-500 mt-1",children:"           ."})]})})]})]})},e9e=()=>{var h,p;const{user:t}=Ar(),{useCafeChatManager:e}=Jf(),{adminConversation:n,visitorConversations:r,sendMessageToAdmin:i,sendMessageToVisitor:s,markAdminAsRead:a,markVisitorAsRead:o}=e(),[l,c]=q.useState({type:"admin",id:"admin"});q.useEffect(()=>{l.type==="admin"?a():o(l.id)},[l,a,o]);const u=q.useMemo(()=>Array.from(r.entries()).sort(([,v],[,g])=>{var y,b;return(((y=g.lastMessage)==null?void 0:y.timestamp)||0)-(((b=v.lastMessage)==null?void 0:b.timestamp)||0)}),[r]),f=q.useMemo(()=>l.type==="admin"?n:r.get(l.id),[l,n,r]);return d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:" "}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 items-start h-[75vh]",children:[d.jsxs("aside",{className:"lg:col-span-1 bg-gray-50 rounded-lg p-4 border max-h-full overflow-y-auto",children:[d.jsx("h2",{className:"font-bold text-lg mb-3",children:""}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("button",{onClick:()=>c({type:"admin",id:"admin"}),className:`w-full text-right p-3 rounded-lg border-2 transition-colors flex justify-between items-start ${l.id==="admin"?"bg-green-100 border-green-500":"bg-white hover:bg-gray-100 border-transparent"}`,children:[d.jsxs("div",{children:[d.jsxs("p",{className:"font-bold text-gray-800 flex items-center gap-2",children:[d.jsx(Gme,{className:"text-gray-500"}),"  "]}),d.jsxs("p",{className:"text-sm text-gray-500 truncate",children:[((h=n.lastMessage)==null?void 0:h.senderId)===(t==null?void 0:t.id)?": ":"",((p=n.lastMessage)==null?void 0:p.text)||"  "]})]}),n.unread&&d.jsx(B4,{className:"text-blue-500 text-xs mt-1 flex-shrink-0"})]}),u.map(([v,g])=>{var y,b;return d.jsxs("button",{onClick:()=>c({type:"visitor",id:v}),className:`w-full text-right p-3 rounded-lg border-2 transition-colors flex justify-between items-start ${l.id===v?"bg-green-100 border-green-500":"bg-white hover:bg-gray-100 border-transparent"}`,children:[d.jsxs("div",{children:[d.jsxs("p",{className:"font-bold text-gray-800 flex items-center gap-2",children:[d.jsx(Kme,{className:"text-gray-500"}),"  ",v.substring(8,12)]}),d.jsxs("p",{className:"text-sm text-gray-500 truncate",children:[((y=g.lastMessage)==null?void 0:y.senderId)===(t==null?void 0:t.id)?": ":"",(b=g.lastMessage)==null?void 0:b.text]})]}),g.unread&&d.jsx(B4,{className:"text-blue-500 text-xs mt-1 flex-shrink-0"})]},v)})]})]}),d.jsx("main",{className:"lg:col-span-2 bg-white rounded-lg border shadow-sm h-full flex flex-col",children:f&&t?d.jsx(tk,{messages:f.messages,onSendMessage:l.type==="admin"?i:v=>s(l.id,v),currentUserId:t.id,title:l.type==="admin"?"   ":`   ${l.id.substring(8,12)}`,isOnline:!0}):d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{children:"  "})})})]})]})},t9e=()=>{const{countryCode:t,docId:e}=ia(),{documents:n,fullDocuments:r,siteSettings:i,loading:s,loadingFullDocuments:a}=rn(),{t:o}=aa(),[l,c]=q.useState("form"),[u,f]=q.useState({}),[h,p]=q.useState(null),[v,g]=q.useState((i==null?void 0:i.ads.pdfInterstitialTimer)??5),y=q.useMemo(()=>{const R=decodeURIComponent(e||""),D=r.find(N=>N.id===R||N.slug===R||N.name===R);return D||n.find(N=>N.id===R||N.slug===R||N.name===R)},[r,n,e]),b=q.useMemo(()=>y?y.requiredFields.filter(R=>R!=="DateToday").map(R=>Zr[R]):[],[y]),_=async R=>{if(!y||!R)return;const D=[...r,...n];if(R==="word"){let N=y.finalTemplateHtml||"";if(!N&&y.finalTemplateUrl)try{const U=await fetch(y.finalTemplateUrl);U.ok&&(N=await U.text())}catch(U){console.error(U)}if(!N){alert("   .");return}const F=new Date().toLocaleDateString("ar-DZ",{day:"2-digit",month:"2-digit",year:"numeric"});N=N.replace(/\[DateToday\]/g,F),Object.keys(u).forEach(U=>{const O=new RegExp(`\\[${U}\\]`,"g");N=N.replace(O,u[U]||"")}),N=N.replace(/\[[^\]]+\]/g,"");const P=new Blob([`
                <html xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:w='urn:schemas-microsoft-com:office:word' xmlns='http://www.w3.org/TR/REC-html40'>
                <head><meta charset='utf-8'><title>${y.name}</title></head>
                <body>${N}</body>
                </html>
            `],{type:"application/msword"}),I=document.createElement("a");I.href=URL.createObjectURL(P),I.download=`${y.slug||"document"}.doc`,document.body.appendChild(I),I.click(),document.body.removeChild(I),URL.revokeObjectURL(I.href);return}R==="pdf"&&await Oy(D,y.id,u,{action:"download",targetLang:"ar",templateType:"final"})};q.useEffect(()=>{if(l==="ad")if(v>0){const R=setTimeout(()=>g(D=>D-1),1e3);return()=>clearTimeout(R)}else _(h)},[l,v,h]);const w=(R,D)=>{f(N=>({...N,[R]:D}))},C=R=>{R.preventDefault(),c("select_format")},S=R=>{p(R),g((i==null?void 0:i.ads.pdfInterstitialTimer)??5),c("ad")};return s||a?d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(St,{className:"animate-spin text-4xl text-green-600"})}):y?l==="select_format"?d.jsx("div",{className:"max-w-xl mx-auto text-center",children:d.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg border space-y-4",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" :   "}),d.jsx("p",{className:"text-gray-600",children:"      ."}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-4",children:[d.jsxs("button",{onClick:()=>S("pdf"),className:"flex-1 flex flex-col items-center justify-center gap-2 bg-red-100 text-red-800 font-bold p-6 rounded-lg hover:bg-red-200 border border-red-200 transition-colors",children:[d.jsx(mw,{size:40}),d.jsx("span",{children:"  PDF"})]}),d.jsxs("button",{onClick:()=>S("word"),className:"flex-1 flex flex-col items-center justify-center gap-2 bg-blue-100 text-blue-800 font-bold p-6 rounded-lg hover:bg-blue-200 border border-blue-200 transition-colors",children:[d.jsx(ZI,{size:40}),d.jsx("span",{children:"  Word"})]})]})]})}):l==="ad"?d.jsx("div",{className:"max-w-3xl mx-auto text-center",children:d.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg border space-y-4",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"    ..."}),d.jsx("p",{className:"text-gray-600",children:"    :"}),d.jsx("div",{className:"text-5xl font-bold text-green-600 font-mono tracking-widest my-4 p-4 bg-gray-100 rounded-lg",children:v}),d.jsxs("div",{className:"pt-6 border-t",children:[d.jsx("p",{className:"text-sm text-gray-500 mb-4",children:":"}),d.jsx(rc,{placement:"PDF_INTERSTITIAL"})]})]})}):d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8 items-start",children:[d.jsx("aside",{className:"hidden lg:block lg:col-span-1 space-y-6",children:d.jsx(rc,{placement:"PUBLIC_FORM_RIGHT"})}),d.jsx("main",{className:"lg:col-span-3",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8",children:[d.jsxs("div",{className:"mb-6 border-b pb-4 text-center",children:[d.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:[" : ",y.name]}),d.jsx("p",{className:"text-gray-600",children:"      ."})]}),d.jsxs("form",{onSubmit:C,className:"space-y-4",children:[b.map(R=>{if(!R)return null;const D=R.id;return d.jsxs("div",{children:[d.jsx("label",{htmlFor:R.id,className:"block text-sm font-medium text-gray-700 mb-1",children:o(R.label)}),R.type==="file"?d.jsx(jv,{value:u[R.id]||"",onChange:N=>w(R.id,N)}):R.type==="select"&&R.options?d.jsxs("select",{id:R.id,name:R.id,value:u[D]||"",onChange:N=>w(N.target.name,N.target.value),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm",required:!0,children:[d.jsx("option",{value:"",children:o(R.placeholder)}),R.options.map(N=>d.jsx("option",{value:N.value,children:o(N.label)},N.value))]}):d.jsx("input",{type:R.type,id:R.id,name:R.id,value:u[D]||"",onChange:N=>w(N.target.name,N.target.value),placeholder:o(R.placeholder),className:"w-full p-2 border rounded-md",required:!0})]},R.id)}),d.jsx("div",{className:"pt-4",children:d.jsxs("button",{type:"submit",className:"w-full flex items-center justify-center gap-3 bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition-colors text-lg",children:[d.jsx(D$,{}),d.jsx("span",{children:" "})]})})]})]})}),d.jsx("aside",{className:"hidden lg:block lg:col-span-1 space-y-6",children:d.jsx(rc,{placement:"PUBLIC_FORM_LEFT"})})]}):d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"    "}),d.jsx(tn,{to:`/${t}`,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700",children:"   "})]})},n9e=()=>{const{pathname:t}=Dr();return q.useEffect(()=>{window.scrollTo(0,0)},[t]),null},r9e=()=>{const{user:t,loading:e}=Ar(),n=q.useCallback(()=>{if(e)return;const r={source:"gitut-webapp",type:"auth_update",payload:t?{user:{email:t.email},credits:t.credits}:null};window.postMessage(r,"*")},[t,e]);return q.useEffect(()=>{const r=i=>{var s;i.source===window&&((s=i.data)==null?void 0:s.source)==="gitut-extension"&&i.data.type==="get_auth"&&n()};return window.addEventListener("message",r),()=>window.removeEventListener("message",r)},[n]),q.useEffect(()=>{n()},[n]),null},i9e=()=>{const{countryCode:t}=ia(),e=q.useMemo(()=>va.en.map(n=>n.code),[]);return t&&/^[a-z]{2}$/.test(t)&&e.includes(t)?d.jsx(bN,{}):d.jsx(eQ,{})},s9e=()=>{const{user:t,loading:e}=Ar(),{error:n}=rn(),r=Dr(),i=r.pathname.match(/^\/([a-z]{2})(?:\/|$)/),s=i?i[1]:null;if(n)return d.jsx("main",{className:"flex-grow container mx-auto px-4 py-8 flex justify-center items-center",children:d.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-800 p-4 rounded-md shadow-md max-w-2xl",role:"alert",children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"py-1",children:d.jsx(pw,{className:"h-6 w-6 text-red-500 ml-4 rtl:mr-0 rtl:ml-4"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold",children:"   "}),d.jsx("p",{className:"text-sm",children:"   .       ."}),d.jsx("div",{className:"text-sm mt-2 bg-red-200 p-3 rounded",dangerouslySetInnerHTML:{__html:n}})]})]})})});if(e)return d.jsx("main",{className:"flex-grow container mx-auto px-4 py-8 flex justify-center items-center",children:d.jsx(St,{className:"animate-spin text-4xl text-green-600"})});const a=r.pathname.startsWith("/admin");if(t&&t.countryCode&&s&&t.countryCode!==s&&!a){const f=r.pathname.replace(`/${s}`,`/${t.countryCode}`);return d.jsx(fp,{to:f,replace:!0})}const o=/^\/[a-z]{2}\/app\/(document-studio|excel-studio)/.test(r.pathname),l=/^\/admin\/app\/document-studio/.test(r.pathname),u=o||l?"flex-grow px-4 py-8 w-full":"flex-grow container mx-auto px-4 py-8";return d.jsx("main",{className:u,children:d.jsxs(aee,{children:[d.jsx(Ht,{path:"/",element:d.jsx(bM,{})}),d.jsx(Ht,{path:"/admin/login",element:d.jsx(oye,{})}),d.jsxs(Ht,{path:"/admin/app",element:d.jsx(uye,{children:d.jsx(cye,{})}),children:[d.jsx(Ht,{index:!0,element:d.jsx(dye,{})}),d.jsx(Ht,{path:"users",element:d.jsx(fye,{})}),d.jsx(Ht,{path:"billing",element:d.jsx(hye,{})}),d.jsx(Ht,{path:"settings",element:d.jsx(pye,{})}),d.jsx(Ht,{path:"seo",element:d.jsx(gye,{})}),d.jsx(Ht,{path:"pages",element:d.jsx(Uve,{})}),d.jsx(Ht,{path:"ads",element:d.jsx(Lve,{})}),d.jsx(Ht,{path:"blog",element:d.jsx(FSe,{})}),d.jsx(Ht,{path:"data",element:d.jsx(BSe,{})}),d.jsx(Ht,{path:"sites",element:d.jsx(VSe,{})}),d.jsx(Ht,{path:"documents",element:d.jsx(zSe,{})}),d.jsx(Ht,{path:"document-studio",element:d.jsx(qUe,{})}),d.jsx(Ht,{path:"base-templates",element:d.jsx(XUe,{})}),d.jsx(Ht,{path:"static-docs",element:d.jsx(JSe,{})}),d.jsx(Ht,{path:"excel-commands",element:d.jsx(JUe,{})}),d.jsx(Ht,{path:"document-commands",element:d.jsx(QUe,{})}),d.jsx(Ht,{path:"chat",element:d.jsx(ZUe,{})})]}),d.jsx(Ht,{path:"/login",element:d.jsx(fp,{to:"/dz/login",replace:!0})}),d.jsx(Ht,{path:"/signup",element:d.jsx(fp,{to:"/dz/signup",replace:!0})}),d.jsx(Ht,{path:"/app/*",element:d.jsx(fp,{to:"/",replace:!0})}),d.jsxs(Ht,{path:"/:countryCode",element:d.jsx(i9e,{}),children:[d.jsx(Ht,{index:!0,element:d.jsx(bM,{})}),d.jsx(Ht,{path:"profile/:numericId",element:d.jsx(ige,{})}),d.jsx(Ht,{path:"form",element:d.jsx(pge,{})}),d.jsx(Ht,{path:"public-form/:docId",element:d.jsx(t9e,{})}),d.jsx(Ht,{path:"confirmation/:jobId",element:d.jsx(mge,{})}),d.jsx(Ht,{path:"page/:slug",element:d.jsx(Ove,{})}),d.jsx(Ht,{path:"service/:type/:id",element:d.jsx(KSe,{})}),d.jsx(Ht,{path:"view/:docId",element:d.jsx(QSe,{})}),d.jsx(Ht,{path:"go-to-site/:siteId",element:d.jsx(HUe,{})}),d.jsx(Ht,{path:"find-cafe",element:d.jsx(tDe,{})}),d.jsx(Ht,{path:"login",element:d.jsx(gge,{})}),d.jsx(Ht,{path:"signup",element:d.jsx(vge,{})}),d.jsxs(Ht,{path:"app",element:d.jsx(Lge,{children:d.jsx(bge,{children:d.jsx(Sge,{})})}),children:[d.jsx(Ht,{index:!0,element:d.jsx(Nge,{})}),d.jsx(Ht,{path:"pending-jobs",element:d.jsx(Pge,{})}),d.jsx(Ht,{path:"generate",element:d.jsx(Oge,{})}),d.jsx(Ht,{path:"excel-studio",element:d.jsx(uFe,{})}),d.jsx(Ht,{path:"document-studio",element:d.jsx(BUe,{})}),d.jsx(Ht,{path:"settings",element:d.jsx(Z0e,{})}),d.jsx(Ht,{path:"multi-person-job",element:d.jsx(nye,{})}),d.jsx(Ht,{path:"billing",element:d.jsx(aye,{})}),d.jsx(Ht,{path:"fill-site/:siteId",element:d.jsx(WSe,{})}),d.jsx(Ht,{path:"clients",element:d.jsx(HSe,{})}),d.jsx(Ht,{path:"view-pdf/:docId",element:d.jsx(YSe,{})}),d.jsx(Ht,{path:"chat",element:d.jsx(e9e,{})})]})]}),d.jsx(Ht,{path:"*",element:d.jsx(eQ,{})})]})})},a9e=()=>d.jsx(wme,{children:d.jsx(Yme,{children:d.jsx(Iee,{children:d.jsx(Qme,{children:d.jsxs(nge,{children:[d.jsx(zUe,{}),d.jsx(n9e,{}),d.jsx(r9e,{}),d.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-100 text-gray-900",children:[d.jsx(Jme,{}),d.jsx(s9e,{}),d.jsx(Zme,{})]})]})})})})}),tQ=document.getElementById("root");if(!tQ)throw new Error("Could not find root element to mount to");const o9e=pZ.createRoot(tQ);o9e.render(d.jsx(ml.StrictMode,{children:d.jsx(a9e,{})}));
